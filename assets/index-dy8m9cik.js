const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./statsWorker-C39FFyyf.js","./utils-P66qM0rr.js","./utils-hjToOTts.js","./utils-k_fJTWY_.js","./ClassBreaksDefinition-5aPxF9Oa.js","./geometryEngineWorker-BtI_VU0_.js","./geometryEngineJSON-BmskT4ha.js","./json-Wa8cmqdu.js","./CSVSourceWorker-C4QW2wyN.js","./date-M6n_RqpC.js","./OptimizedFeature-7juV2tZm.js","./OptimizedGeometry-vU5jWBvU.js","./FeatureStore-DOF9IjUi.js","./featureConversionUtils-BvQJAaaO.js","./OptimizedFeatureSet-Blu9Ckm7.js","./BoundsStore-CZ7XgiZ2.js","./PooledRBush-YwMo4l3X.js","./timeSupport-dei6orQM.js","./QueryEngine-Dx05XtEe.js","./WhereClause-D-DSzeYF.js","./TimeOnly-ZQAXbAkP.js","./QueryEngineCapabilities-CTDe3LlQ.js","./number-B6z-jP0a.js","./clientSideDefaults-CY5nhrAl.js","./EdgeProcessingWorker-C7Ug6-wJ.js","./InterleavedLayout-CFB-tN1U.js","./BufferView-BCiH206q.js","./types-D0PSWh4d.js","./Util-YplgXKEj.js","./edgeProcessing-D92JwlXU.js","./deduplicate-CtOthp2P.js","./Indices-BNjm-esV.js","./VertexAttribute-BlT9lbVY.js","./enums-BlUEVwJR.js","./VertexElementDescriptor-BOD-G50G.js","./ElevationSamplerWorker-BhUVWs3Q.js","./MeshLocalVertexSpace-B7MMmtQb.js","./vertexSpaceConversion-Di-Cdr6C.js","./mat3f64-q3fE-ZOt.js","./mat4f64-CSKppSlJ.js","./spatialReferenceEllipsoidUtils-Dbc3SxoP.js","./computeTranslationToOriginAndRotation-q2zGhC26.js","./meshVertexSpaceUtils-BjYN4MPE.js","./vec3-BWLTcRF7.js","./projection-DE7DLm52.js","./DoubleArray-_tD_qBOU.js","./vec4-DFWWd5yy.js","./FeatureServiceSnappingSourceWorker-DJ1rO51g.js","./pbfQueryUtils-DajxkNY6.js","./pbf-DJh7vx2l.js","./query-Mu3z7bvV.js","./ByteSizeUnit-BsxeN7wM.js","./GeoJSONSourceWorker-CDGVyuGm.js","./geojson-CX2SStXL.js","./sourceUtils-uXWBB--E.js","./MemorySourceWorker-C4LPXvA7.js","./objectIdUtils-4dd1rf9p.js","./PBFDecoderWorker-D4vSswAz.js","./FeaturePipelineWorker-q6Dw5Io_.js","./definitions-Y_v3njP4.js","./AttributeStore-CIuCMqWs.js","./LabelMetric-BVt16GjQ.js","./enums-BRXbslMp.js","./Texture-BOc44jdD.js","./Program-CV0PgOOi.js","./BoundingBox-DyKv9qwO.js","./UpdateTracking2D-BoajDa8-.js","./BindType-BmZEZMMh.js","./highlightReasons-JzkbEPBM.js","./CIMSymbolHelper-DsExZiFF.js","./BidiEngine-BwB1Df7c.js","./fontUtils-DkmEuFik.js","./GeometryUtils-Da04FgiZ.js","./Rect-CUzevAry.js","./tileUtils-B7X19rIS.js","./MeshWriterRegistry-DzmcdFlE.js","./PieChartMeshWriter-vZgpQCpf.js","./TurboLine-CQN9fK9Y.js","./earcut-CJdDwCIm.js","./constants-D5zmR9t2.js","./grouping-y1HzfJ-V.js","./ogcFeatureUtils-BoPbkE4k.js","./CircularArray-CujHzHWW.js","./createConnection-Cu-H6n3z.js","./PointCloudWorker-D_dra2A2.js","./quat-TWKe6FNE.js","./quatf64-Bdb9ZJJK.js","./vec3f32-nZdmKIgz.js","./PointCloudUniqueValueRenderer-CUKNq5XY.js","./I3SBinaryReader-gr1gEY5p.js","./orientedBoundingBox-C9YCrUV8.js","./plane-VctqL1TQ.js","./RasterWorker-CSnLrJFy.js","./dataUtils-3gM88ch5.js","./pixelRangeUtils-DR2RxTkt.js","./RasterSymbolizer-CjAduRM1.js","./PolynomialTransform-CCWuw7NP.js","./rasterProjectionHelper-DlFQXIhp.js","./SceneLayerSnappingSourceWorker-I9u8qbq1.js","./lineSegment-DptcR_gc.js","./sphere-DWf3ScL2.js","./SceneLayerWorker-BuT0g-gc.js","./I3SUtil-B7_JbNtd.js","./floatRGBA-D7JExZXZ.js","./NormalAttribute.glsl-BZrhbbsd.js","./interfaces-B8ge7Jg9.js","./WFSSourceWorker-BvFApmaZ.js","./wfsUtils-B-Rw5DN-.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-BZEaYjmV.js","./enums-BRzLM11V.js","./config-MDUrh2eL.js","./StyleDefinition-BK3ROBTO.js","./SourceLayerData-DeHAZauU.js","./StyleRepository-BpiBNYHm.js","./Popup-DhF9W1yt.js","./AttachmentInfo-DpswPon_.js","./symbolUtils-CUKBa0I8.js","./utils-C9PfOiKH.js","./webStyleSymbolUtils-CjYCxyGS.js","./devEnvironmentUtils-D6qIi8Ky.js","./executeQueryJSON-EDwyO2BD.js","./ElevationLayer-B3EIpMG0.js","./ArcGISCachedService-Dbfn7XTP.js","./TileInfoTilemapCache-CBSva9lP.js","./TilemapCache-CJ7m6Drt.js","./layersCreator-D1qSvEOC.js","./portalLayers-BbsXOk2m.js","./associatedFeatureServiceUtils-Ddh4s50P.js","./fetchService-DEl1CJGn.js","./arcgisLayers-Dn2ebwpA.js","./arcadeUtils-DN-gd975.js","./ImmutableArray-BPVd6ESQ.js","./webglDeps-BKXu2rVn.js","./NestedMap-DgiGbX8E.js","./ProgramTemplate-DxK9dEi-.js","./mapViewDeps-BDYOjfNC.js","./SDFHelper-Bg3uhzBP.js","./Container-CZI7StLe.js","./EffectView-BE2pORTm.js","./WGLContainer-CfNEigTW.js","./MagnifierPrograms-CsKoyke1.js","./testSVGPremultipliedAlpha-BUAy-0td.js","./RenderingContext-UzfWtM3J.js","./renderState-C37QfRey.js","./basicInterfaces-DngWxyLO.js","./doublePrecisionUtils-B0owpBza.js","./CIMResourceManager-D5ElWDk-.js","./imageUtils-DOfnrgPa.js","./rasterizingUtils-Cl5io6K8.js","./utils-BeKGm5gS.js","./FeatureCommandQueue-DpVsaaBr.js","./GraphicsView2D-8rBpr71d.js","./normalizeUtilsSync-BPLlIlXB.js","./GraphicContainer-DMsQBttW.js","./AGraphicContainer-BfPf7MjW.js","./TechniqueInstance-CZIfgoG5.js","./TileContainer-67E3sLUX.js","./requestImageUtils-BsOjS6t0.js","./TileLayerView2D-_YgI6-Oa.js","./imageUtils-DUCqAcoB.js","./Bitmap-DkvadjOR.js","./LayerView-CSkEADIp.js","./HighlightGraphicContainer-BMOriJd3.js","./RefreshableLayerView-DLQ6S1bL.js","./drapedUtils-DLA5oiVR.js","./floorFilterUtils-DZ5C6FQv.js","./sublayerUtils-BHp3X10V.js","./popupUtils-RrvVZ7t7.js","./FeatureLayerView2D-k9SzOe3P.js","./timeSupport-8I8uI90e.js","./featureReductionUtils-Caulfaw_.js","./HighlightCounter-CP4DpU0F.js","./BaseDynamicLayerView2D-D5pGMXd-.js","./BitmapContainer-B0TSLy7r.js","./ExportStrategy-Dztz6fKq.js","./CatalogLayerView2D-VVzk1wx8.js","./CatalogDynamicGroupLayerView2D-CeFdMjww.js","./CatalogFootprintLayerView2D-Cs-SPGd3.js","./GeoRSSLayerView2D-xqwrvqdm.js","./GraphicsLayerView2D-008CGhdJ.js","./GroupLayerView2D-SB4yVzeD.js","./ImageryLayerView2D-BtHXs0lE.js","./RasterVFDisplayObject-18OauLjZ.js","./ImageryTileLayerView2D-vfgeIgxN.js","./multidimensionalUtils-B-PlZhd9.js","./rasterUtils-BI7uf6Wr.js","./RawBlockCache-B3clntth.js","./KMLLayerView2D-CjCAe7aX.js","./kmlUtils-iU8GAasn.js","./KnowledgeGraphLayerView2D-CzjtSkII.js","./MapImageLayerView2D-BZKJTTMM.js","./ExportImageParameters-bKl2iY4b.js","./MapNotesLayerView2D-DFCneuP9.js","./MediaLayerView2D-PNRP1k4M.js","./perspectiveUtils-CEeNmJfL.js","./OverlayContainer-BefKdN9k.js","./OGCFeatureLayerView2D-DK5J5gU4.js","./RouteLayerView2D-CpLxDDDP.js","./Stop-CTn7rTet.js","./StreamLayerView2D-DcwSfH7T.js","./SubtypeGroupLayerView2D--mIrh71U.js","./VectorTileLayerView2D-DurtqRbx.js","./VideoLayerView2D-B9FDp0zP.js","./TelemetryDisplay-qs_Jf3cQ.js","./WMSLayerView2D-B66_X8z8.js","./WMTSLayerView2D-5oZXf-IN.js","./calcite-button-CAvrnvNe.js","./form-DzJbPeib.js","./dom-zRC_73pe.js","./interactive-CObY3ciQ.js","./label-CAAoefW_.js","./component-CVleUxfT.js","./loadable-CXv8q9I5.js","./locale-BwFC55O_.js","./observers-BwlbZGsQ.js","./t9n-CT503YlX.js","./icon-aexIQ52Z.js","./loader-78J9H-06.js","./calcite-icon-BglXzQj1.js","./editingSupport-Jg2kWnYm.js","./infoFor3D-DsOdlPuA.js","./layersLoader-CLhxpMe2.js","./jsonContext-CRq-QM0R.js","./featureLayerUtils-BBg4A0MW.js","./originUtils-D69mHv66.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./utils-DD9ZCWJ7.js","./saveAPIKeyUtils-BCKsU6NF.js","./FeatureLayerSource-DCW-2wLG.js","./MeshTransform-CmDNPqGj.js","./QueryTask-DhANnF4v.js","./executeForIds-5y72xEkp.js","./executeQueryPBF-DZoKl2fu.js","./calcite-loader-EZ1RaAbP.js","./calcite-scrim-DneRn_9b.js","./scrim-M6aBgRG5.js","./calcite-chip-DsyFtY8M.js","./calcite-panel-CtbukTGW.js","./panel-_t-461tF.js","./action-menu-WYTa6ZgC.js","./action-D7kPnLgx.js","./popover-DyT4xhVt.js","./FloatingArrow-7bx00c2p.js","./debounce-BE9q2DI6.js","./focusTrapComponent-Cahq7mDL.js","./openCloseComponent-CmW7zOlk.js","./calcite-popover-B5rv8MYF.js","./calcite-sheet-C1bhsGQw.js","./BuildingSceneLayer-B1d8B73C.js","./capabilities-CAweHQni.js","./SceneService-CKwihipP.js","./resourceUtils-C-labPpD.js","./resourceUtils-i2rn8fA_.js","./I3SLayerDefinitions-BY3iqHom.js","./elevationInfoUtils-Bg45GFzQ.js","./CSVLayer-BVU6LA28.js","./CatalogLayer-6FgIBJ2y.js","./DimensionLayer-BqebnmmZ.js","./Analysis-rlUBLXpq.js","./GeoJSONLayer-CFjGFskV.js","./ImageryLayer-BlFtOjJv.js","./fetchRasterInfo-BuiFXa84.js","./ImageryTileLayer-fM7tM-ks.js","./IntegratedMesh3DTilesLayer-BqfB3sJJ.js","./IntegratedMeshLayer-A4toeQsg.js","./persistable-B2szglyn.js","./resourceExtension-LRfV2LUV.js","./KMLLayer-CMHWMIBB.js","./KnowledgeGraphLayer-B0qsETMP.js","./KnowledgeGraphSublayer-BQrGVq8z.js","./knowledgeGraphService-BniF5Ovd.js","./GraphQueryStreaming-DbuDjLX5.js","./LineOfSightLayer-BdT_YLLO.js","./LinkChartLayer-DpGqmq39.js","./MapImageLayer-BqOsjo_J.js","./SublayersOwner-RN1uukdw.js","./MapNotesLayer-DhwFj9ML.js","./MediaLayer-QB2FEbeS.js","./OGCFeatureLayer-DQa-iglE.js","./OpenStreetMapLayer-CJBHmGHZ.js","./WebTileLayer-BRgRtAAt.js","./PointCloudLayer-B0_TFPsO.js","./RouteLayer-BlAQWChR.js","./SceneLayer-C2NtEa78.js","./Mesh-WJ5vzbFn.js","./MeshVertexAttributes-CXXtOrzD.js","./uploadAssetErrors-BFfAkhST.js","./TileLayer-DCS-S3bd.js","./VectorTileLayer-D1omNc5b.js","./VideoLayer-CzDM2UaS.js","./VoxelLayer-DrfrfEVV.js","./WFSLayer-Bl53-UaQ.js","./WMTSLayer-f5O0S40I.js","./groupLayerUtils-DFNbE8Cl.js","./Legend-DVlF0NC6.js","./calcite-action-BkOj05qh.js","./calcite-action-group-DXaG2jga.js","./action-group-ButHRyTA.js","./conditionalSlot-BgtXJJ_i.js","./calcite-action-menu-DS9FdGVI.js","./calcite-flow-CdkrdOLf.js","./calcite-flow-item-Cs_Gc7xm.js","./calcite-list-BvrP36XK.js","./resources4-VzuD1qlP.js","./utils3-CxchzATD.js","./input2-tJk4T9zO.js","./calcite-list-item-4DnBrn3q.js","./calcite-notice-U-ZNtWRb.js","./calcite-tooltip-C1sNlgZ_.js"])))=>i.map(i=>d[i]);
var k1e=Object.defineProperty;var C1e=(e,t,i)=>t in e?k1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var dv=(e,t,i)=>C1e(e,typeof t!="symbol"?t+"":t,i);function I1e(e,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function E1e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),i}var IZ={exports:{}},D6={},EZ={exports:{}},xi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3=Symbol.for("react.element"),A1e=Symbol.for("react.portal"),j1e=Symbol.for("react.fragment"),P1e=Symbol.for("react.strict_mode"),O1e=Symbol.for("react.profiler"),R1e=Symbol.for("react.provider"),L1e=Symbol.for("react.context"),N1e=Symbol.for("react.forward_ref"),F1e=Symbol.for("react.suspense"),D1e=Symbol.for("react.memo"),z1e=Symbol.for("react.lazy"),Mz=Symbol.iterator;function V1e(e){return e===null||typeof e!="object"?null:(e=Mz&&e[Mz]||e["@@iterator"],typeof e=="function"?e:null)}var AZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jZ=Object.assign,PZ={};function Sg(e,t,i){this.props=e,this.context=t,this.refs=PZ,this.updater=i||AZ}Sg.prototype.isReactComponent={};Sg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OZ(){}OZ.prototype=Sg.prototype;function UO(e,t,i){this.props=e,this.context=t,this.refs=PZ,this.updater=i||AZ}var GO=UO.prototype=new OZ;GO.constructor=UO;jZ(GO,Sg.prototype);GO.isPureReactComponent=!0;var Tz=Array.isArray,RZ=Object.prototype.hasOwnProperty,qO={current:null},LZ={key:!0,ref:!0,__self:!0,__source:!0};function NZ(e,t,i){var r,n={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)RZ.call(t,r)&&!LZ.hasOwnProperty(r)&&(n[r]=t[r]);var f=arguments.length-2;if(f===1)n.children=i;else if(1<f){for(var g=Array(f),v=0;v<f;v++)g[v]=arguments[v+2];n.children=g}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)n[r]===void 0&&(n[r]=f[r]);return{$$typeof:C3,type:e,key:o,ref:c,props:n,_owner:qO.current}}function B1e(e,t){return{$$typeof:C3,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function WO(e){return typeof e=="object"&&e!==null&&e.$$typeof===C3}function U1e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var kz=/\/+/g;function pM(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U1e(""+e.key):t.toString(36)}function A5(e,t,i,r,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case C3:case A1e:c=!0}}if(c)return c=e,n=n(c),e=r===""?"."+pM(c,0):r,Tz(n)?(i="",e!=null&&(i=e.replace(kz,"$&/")+"/"),A5(n,t,i,"",function(v){return v})):n!=null&&(WO(n)&&(n=B1e(n,i+(!n.key||c&&c.key===n.key?"":(""+n.key).replace(kz,"$&/")+"/")+e)),t.push(n)),1;if(c=0,r=r===""?".":r+":",Tz(e))for(var f=0;f<e.length;f++){o=e[f];var g=r+pM(o,f);c+=A5(o,t,i,g,n)}else if(g=V1e(e),typeof g=="function")for(e=g.call(e),f=0;!(o=e.next()).done;)o=o.value,g=r+pM(o,f++),c+=A5(o,t,i,g,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Rx(e,t,i){if(e==null)return e;var r=[],n=0;return A5(e,r,"","",function(o){return t.call(i,o,n++)}),r}function G1e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var so={current:null},j5={transition:null},q1e={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:j5,ReactCurrentOwner:qO};function FZ(){throw Error("act(...) is not supported in production builds of React.")}xi.Children={map:Rx,forEach:function(e,t,i){Rx(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Rx(e,function(){t++}),t},toArray:function(e){return Rx(e,function(t){return t})||[]},only:function(e){if(!WO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xi.Component=Sg;xi.Fragment=j1e;xi.Profiler=O1e;xi.PureComponent=UO;xi.StrictMode=P1e;xi.Suspense=F1e;xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1e;xi.act=FZ;xi.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jZ({},e.props),n=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=qO.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(g in t)RZ.call(t,g)&&!LZ.hasOwnProperty(g)&&(r[g]=t[g]===void 0&&f!==void 0?f[g]:t[g])}var g=arguments.length-2;if(g===1)r.children=i;else if(1<g){f=Array(g);for(var v=0;v<g;v++)f[v]=arguments[v+2];r.children=f}return{$$typeof:C3,type:e.type,key:n,ref:o,props:r,_owner:c}};xi.createContext=function(e){return e={$$typeof:L1e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R1e,_context:e},e.Consumer=e};xi.createElement=NZ;xi.createFactory=function(e){var t=NZ.bind(null,e);return t.type=e,t};xi.createRef=function(){return{current:null}};xi.forwardRef=function(e){return{$$typeof:N1e,render:e}};xi.isValidElement=WO;xi.lazy=function(e){return{$$typeof:z1e,_payload:{_status:-1,_result:e},_init:G1e}};xi.memo=function(e,t){return{$$typeof:D1e,type:e,compare:t===void 0?null:t}};xi.startTransition=function(e){var t=j5.transition;j5.transition={};try{e()}finally{j5.transition=t}};xi.unstable_act=FZ;xi.useCallback=function(e,t){return so.current.useCallback(e,t)};xi.useContext=function(e){return so.current.useContext(e)};xi.useDebugValue=function(){};xi.useDeferredValue=function(e){return so.current.useDeferredValue(e)};xi.useEffect=function(e,t){return so.current.useEffect(e,t)};xi.useId=function(){return so.current.useId()};xi.useImperativeHandle=function(e,t,i){return so.current.useImperativeHandle(e,t,i)};xi.useInsertionEffect=function(e,t){return so.current.useInsertionEffect(e,t)};xi.useLayoutEffect=function(e,t){return so.current.useLayoutEffect(e,t)};xi.useMemo=function(e,t){return so.current.useMemo(e,t)};xi.useReducer=function(e,t,i){return so.current.useReducer(e,t,i)};xi.useRef=function(e){return so.current.useRef(e)};xi.useState=function(e){return so.current.useState(e)};xi.useSyncExternalStore=function(e,t,i){return so.current.useSyncExternalStore(e,t,i)};xi.useTransition=function(){return so.current.useTransition()};xi.version="18.3.1";EZ.exports=xi;var K=EZ.exports;const Ts=rn(K),uC=I1e({__proto__:null,default:Ts},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1e=K,H1e=Symbol.for("react.element"),J1e=Symbol.for("react.fragment"),K1e=Object.prototype.hasOwnProperty,Y1e=W1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1e={key:!0,ref:!0,__self:!0,__source:!0};function DZ(e,t,i){var r,n={},o=null,c=null;i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)K1e.call(t,r)&&!Z1e.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:H1e,type:e,key:o,ref:c,props:n,_owner:Y1e.current}}D6.Fragment=J1e;D6.jsx=DZ;D6.jsxs=DZ;IZ.exports=D6;var P=IZ.exports,zZ={exports:{}},ua={},VZ={exports:{}},BZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,he){var Ie=ce.length;ce.push(he);e:for(;0<Ie;){var Be=Ie-1>>>1,Ke=ce[Be];if(0<n(Ke,he))ce[Be]=he,ce[Ie]=Ke,Ie=Be;else break e}}function i(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var he=ce[0],Ie=ce.pop();if(Ie!==he){ce[0]=Ie;e:for(var Be=0,Ke=ce.length,wt=Ke>>>1;Be<wt;){var He=2*(Be+1)-1,yt=ce[He],Fe=He+1,it=ce[Fe];if(0>n(yt,Ie))Fe<Ke&&0>n(it,yt)?(ce[Be]=it,ce[Fe]=Ie,Be=Fe):(ce[Be]=yt,ce[He]=Ie,Be=He);else if(Fe<Ke&&0>n(it,Ie))ce[Be]=it,ce[Fe]=Ie,Be=Fe;else break e}}return he}function n(ce,he){var Ie=ce.sortIndex-he.sortIndex;return Ie!==0?Ie:ce.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var g=[],v=[],_=1,M=null,T=3,E=!1,j=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ce){for(var he=i(v);he!==null;){if(he.callback===null)r(v);else if(he.startTime<=ce)r(v),he.sortIndex=he.expirationTime,t(g,he);else break;he=i(v)}}function G(ce){if(R=!1,z(ce),!j)if(i(g)!==null)j=!0,ge(H);else{var he=i(v);he!==null&&ve(G,he.startTime-ce)}}function H(ce,he){j=!1,R&&(R=!1,F(re),re=-1),E=!0;var Ie=T;try{for(z(he),M=i(g);M!==null&&(!(M.expirationTime>he)||ce&&!ee());){var Be=M.callback;if(typeof Be=="function"){M.callback=null,T=M.priorityLevel;var Ke=Be(M.expirationTime<=he);he=e.unstable_now(),typeof Ke=="function"?M.callback=Ke:M===i(g)&&r(g),z(he)}else r(g);M=i(g)}if(M!==null)var wt=!0;else{var He=i(v);He!==null&&ve(G,He.startTime-he),wt=!1}return wt}finally{M=null,T=Ie,E=!1}}var Z=!1,Y=null,re=-1,q=5,W=-1;function ee(){return!(e.unstable_now()-W<q)}function le(){if(Y!==null){var ce=e.unstable_now();W=ce;var he=!0;try{he=Y(!0,ce)}finally{he?ue():(Z=!1,Y=null)}}else Z=!1}var ue;if(typeof V=="function")ue=function(){V(le)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,pe=ae.port2;ae.port1.onmessage=le,ue=function(){pe.postMessage(null)}}else ue=function(){N(le,0)};function ge(ce){Y=ce,Z||(Z=!0,ue())}function ve(ce,he){re=N(function(){ce(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){j||E||(j=!0,ge(H))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return i(g)},e.unstable_next=function(ce){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var Ie=T;T=he;try{return ce()}finally{T=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,he){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Ie=T;T=ce;try{return he()}finally{T=Ie}},e.unstable_scheduleCallback=function(ce,he,Ie){var Be=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Be+Ie:Be):Ie=Be,ce){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Ie+Ke,ce={id:_++,callback:he,priorityLevel:ce,startTime:Ie,expirationTime:Ke,sortIndex:-1},Ie>Be?(ce.sortIndex=Ie,t(v,ce),i(g)===null&&ce===i(v)&&(R?(F(re),re=-1):R=!0,ve(G,Ie-Be))):(ce.sortIndex=Ke,t(g,ce),j||E||(j=!0,ge(H))),ce},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(ce){var he=T;return function(){var Ie=T;T=he;try{return ce.apply(this,arguments)}finally{T=Ie}}}})(BZ);VZ.exports=BZ;var X1e=VZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1e=K,ra=X1e;function Xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UZ=new Set,uw={};function h1(e,t){Wm(e,t),Wm(e+"Capture",t)}function Wm(e,t){for(uw[e]=t,e=0;e<t.length;e++)UZ.add(t[e])}var bh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cC=Object.prototype.hasOwnProperty,eye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cz={},Iz={};function tye(e){return cC.call(Iz,e)?!0:cC.call(Cz,e)?!1:eye.test(e)?Iz[e]=!0:(Cz[e]=!0,!1)}function iye(e,t,i,r){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rye(e,t,i,r){if(t===null||typeof t>"u"||iye(e,t,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function oo(e,t,i,r,n,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){os[e]=new oo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];os[t]=new oo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){os[e]=new oo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){os[e]=new oo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){os[e]=new oo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){os[e]=new oo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){os[e]=new oo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){os[e]=new oo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){os[e]=new oo(e,5,!1,e.toLowerCase(),null,!1,!1)});var HO=/[\-:]([a-z])/g;function JO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(HO,JO);os[t]=new oo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(HO,JO);os[t]=new oo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(HO,JO);os[t]=new oo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){os[e]=new oo(e,1,!1,e.toLowerCase(),null,!1,!1)});os.xlinkHref=new oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){os[e]=new oo(e,1,!1,e.toLowerCase(),null,!0,!0)});function KO(e,t,i,r){var n=os.hasOwnProperty(t)?os[t]:null;(n!==null?n.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rye(t,i,n,r)&&(i=null),r||n===null?tye(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=i===null?n.type===3?!1:"":i:(t=n.attributeName,r=n.attributeNamespace,i===null?e.removeAttribute(t):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}var Ih=Q1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lx=Symbol.for("react.element"),qy=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),hC=Symbol.for("react.profiler"),GZ=Symbol.for("react.provider"),qZ=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),pC=Symbol.for("react.suspense_list"),XO=Symbol.for("react.memo"),Ad=Symbol.for("react.lazy"),WZ=Symbol.for("react.offscreen"),Ez=Symbol.iterator;function pv(e){return e===null||typeof e!="object"?null:(e=Ez&&e[Ez]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,fM;function ub(e){if(fM===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);fM=t&&t[1]||""}return`
`+fM+e}var yM=!1;function mM(e,t){if(!e||yM)return"";yM=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var n=v.stack.split(`
`),o=r.stack.split(`
`),c=n.length-1,f=o.length-1;1<=c&&0<=f&&n[c]!==o[f];)f--;for(;1<=c&&0<=f;c--,f--)if(n[c]!==o[f]){if(c!==1||f!==1)do if(c--,f--,0>f||n[c]!==o[f]){var g=`
`+n[c].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=c&&0<=f);break}}}finally{yM=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ub(e):""}function nye(e){switch(e.tag){case 5:return ub(e.type);case 16:return ub("Lazy");case 13:return ub("Suspense");case 19:return ub("SuspenseList");case 0:case 2:case 15:return e=mM(e.type,!1),e;case 11:return e=mM(e.type.render,!1),e;case 1:return e=mM(e.type,!0),e;default:return""}}function fC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wy:return"Fragment";case qy:return"Portal";case hC:return"Profiler";case YO:return"StrictMode";case dC:return"Suspense";case pC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qZ:return(e.displayName||"Context")+".Consumer";case GZ:return(e._context.displayName||"Context")+".Provider";case ZO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XO:return t=e.displayName||null,t!==null?t:fC(e.type)||"Memo";case Ad:t=e._payload,e=e._init;try{return fC(e(t))}catch{}}return null}function sye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fC(t);case 8:return t===YO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oye(e){var t=HZ(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nx(e){e._valueTracker||(e._valueTracker=oye(e))}function JZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=HZ(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function w9(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yC(e,t){var i=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Az(e,t){var i=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;i=mp(t.value!=null?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KZ(e,t){t=t.checked,t!=null&&KO(e,"checked",t,!1)}function mC(e,t){KZ(e,t);var i=mp(t.value),r=t.type;if(i!=null)r==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gC(e,t.type,i):t.hasOwnProperty("defaultValue")&&gC(e,t.type,mp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jz(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function gC(e,t,i){(t!=="number"||w9(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var cb=Array.isArray;function ym(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+mp(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,r&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function vC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pz(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Xe(92));if(cb(i)){if(1<i.length)throw Error(Xe(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:mp(i)}}function YZ(e,t){var i=mp(t.value),r=mp(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),r!=null&&(e.defaultValue=""+r)}function Oz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fx,XZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,i,r,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fx=Fx||document.createElement("div"),Fx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cw(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var x2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aye=["Webkit","ms","Moz","O"];Object.keys(x2).forEach(function(e){aye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),x2[t]=x2[e]})});function QZ(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||x2.hasOwnProperty(e)&&x2[e]?(""+t).trim():t+"px"}function eX(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=QZ(i,t[i],r);i==="float"&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}var lye=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wC(e,t){if(t){if(lye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Xe(62))}}function xC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _C=null;function QO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var SC=null,mm=null,gm=null;function Rz(e){if(e=A3(e)){if(typeof SC!="function")throw Error(Xe(280));var t=e.stateNode;t&&(t=G6(t),SC(e.stateNode,e.type,t))}}function tX(e){mm?gm?gm.push(e):gm=[e]:mm=e}function iX(){if(mm){var e=mm,t=gm;if(gm=mm=null,Rz(e),t)for(e=0;e<t.length;e++)Rz(t[e])}}function rX(e,t){return e(t)}function nX(){}var gM=!1;function sX(e,t,i){if(gM)return e(t,i);gM=!0;try{return rX(e,t,i)}finally{gM=!1,(mm!==null||gm!==null)&&(nX(),iX())}}function hw(e,t){var i=e.stateNode;if(i===null)return null;var r=G6(i);if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Xe(231,t,typeof i));return i}var $C=!1;if(bh)try{var fv={};Object.defineProperty(fv,"passive",{get:function(){$C=!0}}),window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,fv)}catch{$C=!1}function uye(e,t,i,r,n,o,c,f,g){var v=Array.prototype.slice.call(arguments,3);try{t.apply(i,v)}catch(_){this.onError(_)}}var _2=!1,x9=null,_9=!1,MC=null,cye={onError:function(e){_2=!0,x9=e}};function hye(e,t,i,r,n,o,c,f,g){_2=!1,x9=null,uye.apply(cye,arguments)}function dye(e,t,i,r,n,o,c,f,g){if(hye.apply(this,arguments),_2){if(_2){var v=x9;_2=!1,x9=null}else throw Error(Xe(198));_9||(_9=!0,MC=v)}}function d1(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function oX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lz(e){if(d1(e)!==e)throw Error(Xe(188))}function pye(e){var t=e.alternate;if(!t){if(t=d1(e),t===null)throw Error(Xe(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(n===null)break;var o=n.alternate;if(o===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===i)return Lz(n),e;if(o===r)return Lz(n),t;o=o.sibling}throw Error(Xe(188))}if(i.return!==r.return)i=n,r=o;else{for(var c=!1,f=n.child;f;){if(f===i){c=!0,i=n,r=o;break}if(f===r){c=!0,r=n,i=o;break}f=f.sibling}if(!c){for(f=o.child;f;){if(f===i){c=!0,i=o,r=n;break}if(f===r){c=!0,r=o,i=n;break}f=f.sibling}if(!c)throw Error(Xe(189))}}if(i.alternate!==r)throw Error(Xe(190))}if(i.tag!==3)throw Error(Xe(188));return i.stateNode.current===i?e:t}function aX(e){return e=pye(e),e!==null?lX(e):null}function lX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lX(e);if(t!==null)return t;e=e.sibling}return null}var uX=ra.unstable_scheduleCallback,Nz=ra.unstable_cancelCallback,fye=ra.unstable_shouldYield,yye=ra.unstable_requestPaint,an=ra.unstable_now,mye=ra.unstable_getCurrentPriorityLevel,eR=ra.unstable_ImmediatePriority,cX=ra.unstable_UserBlockingPriority,S9=ra.unstable_NormalPriority,gye=ra.unstable_LowPriority,hX=ra.unstable_IdlePriority,z6=null,Wu=null;function vye(e){if(Wu&&typeof Wu.onCommitFiberRoot=="function")try{Wu.onCommitFiberRoot(z6,e,void 0,(e.current.flags&128)===128)}catch{}}var Hl=Math.clz32?Math.clz32:xye,bye=Math.log,wye=Math.LN2;function xye(e){return e>>>=0,e===0?32:31-(bye(e)/wye|0)|0}var Dx=64,zx=4194304;function hb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $9(e,t){var i=e.pendingLanes;if(i===0)return 0;var r=0,n=e.suspendedLanes,o=e.pingedLanes,c=i&268435455;if(c!==0){var f=c&~n;f!==0?r=hb(f):(o&=c,o!==0&&(r=hb(o)))}else c=i&~n,c!==0?r=hb(c):o!==0&&(r=hb(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&n)&&(n=r&-r,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(r&4&&(r|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)i=31-Hl(t),n=1<<i,r|=e[i],t&=~n;return r}function _ye(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sye(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var c=31-Hl(o),f=1<<c,g=n[c];g===-1?(!(f&i)||f&r)&&(n[c]=_ye(f,t)):g<=t&&(e.expiredLanes|=f),o&=~f}}function TC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dX(){var e=Dx;return Dx<<=1,!(Dx&4194240)&&(Dx=64),e}function vM(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function I3(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hl(t),e[t]=i}function $ye(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-Hl(i),o=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~o}}function tR(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Hl(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var er=0;function pX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fX,iR,yX,mX,gX,kC=!1,Vx=[],tp=null,ip=null,rp=null,dw=new Map,pw=new Map,Dd=[],Mye="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fz(e,t){switch(e){case"focusin":case"focusout":tp=null;break;case"dragenter":case"dragleave":ip=null;break;case"mouseover":case"mouseout":rp=null;break;case"pointerover":case"pointerout":dw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pw.delete(t.pointerId)}}function yv(e,t,i,r,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:o,targetContainers:[n]},t!==null&&(t=A3(t),t!==null&&iR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Tye(e,t,i,r,n){switch(t){case"focusin":return tp=yv(tp,e,t,i,r,n),!0;case"dragenter":return ip=yv(ip,e,t,i,r,n),!0;case"mouseover":return rp=yv(rp,e,t,i,r,n),!0;case"pointerover":var o=n.pointerId;return dw.set(o,yv(dw.get(o)||null,e,t,i,r,n)),!0;case"gotpointercapture":return o=n.pointerId,pw.set(o,yv(pw.get(o)||null,e,t,i,r,n)),!0}return!1}function vX(e){var t=s0(e.target);if(t!==null){var i=d1(t);if(i!==null){if(t=i.tag,t===13){if(t=oX(i),t!==null){e.blockedOn=t,gX(e.priority,function(){yX(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function P5(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=CC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);_C=r,i.target.dispatchEvent(r),_C=null}else return t=A3(i),t!==null&&iR(t),e.blockedOn=i,!1;t.shift()}return!0}function Dz(e,t,i){P5(e)&&i.delete(t)}function kye(){kC=!1,tp!==null&&P5(tp)&&(tp=null),ip!==null&&P5(ip)&&(ip=null),rp!==null&&P5(rp)&&(rp=null),dw.forEach(Dz),pw.forEach(Dz)}function mv(e,t){e.blockedOn===t&&(e.blockedOn=null,kC||(kC=!0,ra.unstable_scheduleCallback(ra.unstable_NormalPriority,kye)))}function fw(e){function t(n){return mv(n,e)}if(0<Vx.length){mv(Vx[0],e);for(var i=1;i<Vx.length;i++){var r=Vx[i];r.blockedOn===e&&(r.blockedOn=null)}}for(tp!==null&&mv(tp,e),ip!==null&&mv(ip,e),rp!==null&&mv(rp,e),dw.forEach(t),pw.forEach(t),i=0;i<Dd.length;i++)r=Dd[i],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dd.length&&(i=Dd[0],i.blockedOn===null);)vX(i),i.blockedOn===null&&Dd.shift()}var vm=Ih.ReactCurrentBatchConfig,M9=!0;function Cye(e,t,i,r){var n=er,o=vm.transition;vm.transition=null;try{er=1,rR(e,t,i,r)}finally{er=n,vm.transition=o}}function Iye(e,t,i,r){var n=er,o=vm.transition;vm.transition=null;try{er=4,rR(e,t,i,r)}finally{er=n,vm.transition=o}}function rR(e,t,i,r){if(M9){var n=CC(e,t,i,r);if(n===null)CM(e,t,r,T9,i),Fz(e,r);else if(Tye(n,e,t,i,r))r.stopPropagation();else if(Fz(e,r),t&4&&-1<Mye.indexOf(e)){for(;n!==null;){var o=A3(n);if(o!==null&&fX(o),o=CC(e,t,i,r),o===null&&CM(e,t,r,T9,i),o===n)break;n=o}n!==null&&r.stopPropagation()}else CM(e,t,r,null,i)}}var T9=null;function CC(e,t,i,r){if(T9=null,e=QO(r),e=s0(e),e!==null)if(t=d1(e),t===null)e=null;else if(i=t.tag,i===13){if(e=oX(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T9=e,null}function bX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mye()){case eR:return 1;case cX:return 4;case S9:case gye:return 16;case hX:return 536870912;default:return 16}default:return 16}}var Ud=null,nR=null,O5=null;function wX(){if(O5)return O5;var e,t=nR,i=t.length,r,n="value"in Ud?Ud.value:Ud.textContent,o=n.length;for(e=0;e<i&&t[e]===n[e];e++);var c=i-e;for(r=1;r<=c&&t[i-r]===n[o-r];r++);return O5=n.slice(e,1<r?1-r:void 0)}function R5(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bx(){return!0}function zz(){return!1}function ca(e){function t(i,r,n,o,c){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bx:zz,this.isPropagationStopped=zz,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Bx)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Bx)},persist:function(){},isPersistent:Bx}),t}var $g={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sR=ca($g),E3=qr({},$g,{view:0,detail:0}),Eye=ca(E3),bM,wM,gv,V6=qr({},E3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gv&&(gv&&e.type==="mousemove"?(bM=e.screenX-gv.screenX,wM=e.screenY-gv.screenY):wM=bM=0,gv=e),bM)},movementY:function(e){return"movementY"in e?e.movementY:wM}}),Vz=ca(V6),Aye=qr({},V6,{dataTransfer:0}),jye=ca(Aye),Pye=qr({},E3,{relatedTarget:0}),xM=ca(Pye),Oye=qr({},$g,{animationName:0,elapsedTime:0,pseudoElement:0}),Rye=ca(Oye),Lye=qr({},$g,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nye=ca(Lye),Fye=qr({},$g,{data:0}),Bz=ca(Fye),Dye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vye[e])?!!t[e]:!1}function oR(){return Bye}var Uye=qr({},E3,{key:function(e){if(e.key){var t=Dye[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=R5(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zye[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oR,charCode:function(e){return e.type==="keypress"?R5(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?R5(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gye=ca(Uye),qye=qr({},V6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uz=ca(qye),Wye=qr({},E3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oR}),Hye=ca(Wye),Jye=qr({},$g,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kye=ca(Jye),Yye=qr({},V6,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zye=ca(Yye),Xye=[9,13,27,32],aR=bh&&"CompositionEvent"in window,S2=null;bh&&"documentMode"in document&&(S2=document.documentMode);var Qye=bh&&"TextEvent"in window&&!S2,xX=bh&&(!aR||S2&&8<S2&&11>=S2),Gz=" ",qz=!1;function _X(e,t){switch(e){case"keyup":return Xye.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hy=!1;function eme(e,t){switch(e){case"compositionend":return SX(t);case"keypress":return t.which!==32?null:(qz=!0,Gz);case"textInput":return e=t.data,e===Gz&&qz?null:e;default:return null}}function tme(e,t){if(Hy)return e==="compositionend"||!aR&&_X(e,t)?(e=wX(),O5=nR=Ud=null,Hy=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xX&&t.locale!=="ko"?null:t.data;default:return null}}var ime={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ime[e.type]:t==="textarea"}function $X(e,t,i,r){tX(r),t=k9(t,"onChange"),0<t.length&&(i=new sR("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var $2=null,yw=null;function rme(e){RX(e,0)}function B6(e){var t=Yy(e);if(JZ(t))return e}function nme(e,t){if(e==="change")return t}var MX=!1;if(bh){var _M;if(bh){var SM="oninput"in document;if(!SM){var Hz=document.createElement("div");Hz.setAttribute("oninput","return;"),SM=typeof Hz.oninput=="function"}_M=SM}else _M=!1;MX=_M&&(!document.documentMode||9<document.documentMode)}function Jz(){$2&&($2.detachEvent("onpropertychange",TX),yw=$2=null)}function TX(e){if(e.propertyName==="value"&&B6(yw)){var t=[];$X(t,yw,e,QO(e)),sX(rme,t)}}function sme(e,t,i){e==="focusin"?(Jz(),$2=t,yw=i,$2.attachEvent("onpropertychange",TX)):e==="focusout"&&Jz()}function ome(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return B6(yw)}function ame(e,t){if(e==="click")return B6(t)}function lme(e,t){if(e==="input"||e==="change")return B6(t)}function ume(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ql=typeof Object.is=="function"?Object.is:ume;function mw(e,t){if(Ql(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!cC.call(t,n)||!Ql(e[n],t[n]))return!1}return!0}function Kz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yz(e,t){var i=Kz(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kz(i)}}function kX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CX(){for(var e=window,t=w9();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=w9(e.document)}return t}function lR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cme(e){var t=CX(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&kX(i.ownerDocument.documentElement,i)){if(r!==null&&lR(i)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=i.textContent.length,o=Math.min(r.start,n);r=r.end===void 0?o:Math.min(r.end,n),!e.extend&&o>r&&(n=r,r=o,o=n),n=Yz(i,o);var c=Yz(i,r);n&&c&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hme=bh&&"documentMode"in document&&11>=document.documentMode,Jy=null,IC=null,M2=null,EC=!1;function Zz(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;EC||Jy==null||Jy!==w9(r)||(r=Jy,"selectionStart"in r&&lR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),M2&&mw(M2,r)||(M2=r,r=k9(IC,"onSelect"),0<r.length&&(t=new sR("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Jy)))}function Ux(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ky={animationend:Ux("Animation","AnimationEnd"),animationiteration:Ux("Animation","AnimationIteration"),animationstart:Ux("Animation","AnimationStart"),transitionend:Ux("Transition","TransitionEnd")},$M={},IX={};bh&&(IX=document.createElement("div").style,"AnimationEvent"in window||(delete Ky.animationend.animation,delete Ky.animationiteration.animation,delete Ky.animationstart.animation),"TransitionEvent"in window||delete Ky.transitionend.transition);function U6(e){if($M[e])return $M[e];if(!Ky[e])return e;var t=Ky[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in IX)return $M[e]=t[i];return e}var EX=U6("animationend"),AX=U6("animationiteration"),jX=U6("animationstart"),PX=U6("transitionend"),OX=new Map,Xz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jp(e,t){OX.set(e,t),h1(t,[e])}for(var MM=0;MM<Xz.length;MM++){var TM=Xz[MM],dme=TM.toLowerCase(),pme=TM[0].toUpperCase()+TM.slice(1);jp(dme,"on"+pme)}jp(EX,"onAnimationEnd");jp(AX,"onAnimationIteration");jp(jX,"onAnimationStart");jp("dblclick","onDoubleClick");jp("focusin","onFocus");jp("focusout","onBlur");jp(PX,"onTransitionEnd");Wm("onMouseEnter",["mouseout","mouseover"]);Wm("onMouseLeave",["mouseout","mouseover"]);Wm("onPointerEnter",["pointerout","pointerover"]);Wm("onPointerLeave",["pointerout","pointerover"]);h1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));h1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h1("onBeforeInput",["compositionend","keypress","textInput","paste"]);h1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var db="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fme=new Set("cancel close invalid load scroll toggle".split(" ").concat(db));function Qz(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,dye(r,t,void 0,e),e.currentTarget=null}function RX(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var f=r[c],g=f.instance,v=f.currentTarget;if(f=f.listener,g!==o&&n.isPropagationStopped())break e;Qz(n,f,v),o=g}else for(c=0;c<r.length;c++){if(f=r[c],g=f.instance,v=f.currentTarget,f=f.listener,g!==o&&n.isPropagationStopped())break e;Qz(n,f,v),o=g}}}if(_9)throw e=MC,_9=!1,MC=null,e}function wr(e,t){var i=t[RC];i===void 0&&(i=t[RC]=new Set);var r=e+"__bubble";i.has(r)||(LX(t,e,2,!1),i.add(r))}function kM(e,t,i){var r=0;t&&(r|=4),LX(i,e,r,t)}var Gx="_reactListening"+Math.random().toString(36).slice(2);function gw(e){if(!e[Gx]){e[Gx]=!0,UZ.forEach(function(i){i!=="selectionchange"&&(fme.has(i)||kM(i,!1,e),kM(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gx]||(t[Gx]=!0,kM("selectionchange",!1,t))}}function LX(e,t,i,r){switch(bX(t)){case 1:var n=Cye;break;case 4:n=Iye;break;default:n=rR}i=n.bind(null,t,i,e),n=void 0,!$C||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),r?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function CM(e,t,i,r,n){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var f=r.stateNode.containerInfo;if(f===n||f.nodeType===8&&f.parentNode===n)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===n||g.nodeType===8&&g.parentNode===n))return;c=c.return}for(;f!==null;){if(c=s0(f),c===null)return;if(g=c.tag,g===5||g===6){r=o=c;continue e}f=f.parentNode}}r=r.return}sX(function(){var v=o,_=QO(i),M=[];e:{var T=OX.get(e);if(T!==void 0){var E=sR,j=e;switch(e){case"keypress":if(R5(i)===0)break e;case"keydown":case"keyup":E=Gye;break;case"focusin":j="focus",E=xM;break;case"focusout":j="blur",E=xM;break;case"beforeblur":case"afterblur":E=xM;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Vz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=jye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Hye;break;case EX:case AX:case jX:E=Rye;break;case PX:E=Kye;break;case"scroll":E=Eye;break;case"wheel":E=Zye;break;case"copy":case"cut":case"paste":E=Nye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Uz}var R=(t&4)!==0,N=!R&&e==="scroll",F=R?T!==null?T+"Capture":null:T;R=[];for(var V=v,z;V!==null;){z=V;var G=z.stateNode;if(z.tag===5&&G!==null&&(z=G,F!==null&&(G=hw(V,F),G!=null&&R.push(vw(V,G,z)))),N)break;V=V.return}0<R.length&&(T=new E(T,j,null,i,_),M.push({event:T,listeners:R}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",T&&i!==_C&&(j=i.relatedTarget||i.fromElement)&&(s0(j)||j[wh]))break e;if((E||T)&&(T=_.window===_?_:(T=_.ownerDocument)?T.defaultView||T.parentWindow:window,E?(j=i.relatedTarget||i.toElement,E=v,j=j?s0(j):null,j!==null&&(N=d1(j),j!==N||j.tag!==5&&j.tag!==6)&&(j=null)):(E=null,j=v),E!==j)){if(R=Vz,G="onMouseLeave",F="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(R=Uz,G="onPointerLeave",F="onPointerEnter",V="pointer"),N=E==null?T:Yy(E),z=j==null?T:Yy(j),T=new R(G,V+"leave",E,i,_),T.target=N,T.relatedTarget=z,G=null,s0(_)===v&&(R=new R(F,V+"enter",j,i,_),R.target=z,R.relatedTarget=N,G=R),N=G,E&&j)t:{for(R=E,F=j,V=0,z=R;z;z=j1(z))V++;for(z=0,G=F;G;G=j1(G))z++;for(;0<V-z;)R=j1(R),V--;for(;0<z-V;)F=j1(F),z--;for(;V--;){if(R===F||F!==null&&R===F.alternate)break t;R=j1(R),F=j1(F)}R=null}else R=null;E!==null&&eV(M,T,E,R,!1),j!==null&&N!==null&&eV(M,N,j,R,!0)}}e:{if(T=v?Yy(v):window,E=T.nodeName&&T.nodeName.toLowerCase(),E==="select"||E==="input"&&T.type==="file")var H=nme;else if(Wz(T))if(MX)H=lme;else{H=ome;var Z=sme}else(E=T.nodeName)&&E.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(H=ame);if(H&&(H=H(e,v))){$X(M,H,i,_);break e}Z&&Z(e,T,v),e==="focusout"&&(Z=T._wrapperState)&&Z.controlled&&T.type==="number"&&gC(T,"number",T.value)}switch(Z=v?Yy(v):window,e){case"focusin":(Wz(Z)||Z.contentEditable==="true")&&(Jy=Z,IC=v,M2=null);break;case"focusout":M2=IC=Jy=null;break;case"mousedown":EC=!0;break;case"contextmenu":case"mouseup":case"dragend":EC=!1,Zz(M,i,_);break;case"selectionchange":if(hme)break;case"keydown":case"keyup":Zz(M,i,_)}var Y;if(aR)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Hy?_X(e,i)&&(re="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(re="onCompositionStart");re&&(xX&&i.locale!=="ko"&&(Hy||re!=="onCompositionStart"?re==="onCompositionEnd"&&Hy&&(Y=wX()):(Ud=_,nR="value"in Ud?Ud.value:Ud.textContent,Hy=!0)),Z=k9(v,re),0<Z.length&&(re=new Bz(re,e,null,i,_),M.push({event:re,listeners:Z}),Y?re.data=Y:(Y=SX(i),Y!==null&&(re.data=Y)))),(Y=Qye?eme(e,i):tme(e,i))&&(v=k9(v,"onBeforeInput"),0<v.length&&(_=new Bz("onBeforeInput","beforeinput",null,i,_),M.push({event:_,listeners:v}),_.data=Y))}RX(M,t)})}function vw(e,t,i){return{instance:e,listener:t,currentTarget:i}}function k9(e,t){for(var i=t+"Capture",r=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=hw(e,i),o!=null&&r.unshift(vw(e,o,n)),o=hw(e,t),o!=null&&r.push(vw(e,o,n))),e=e.return}return r}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eV(e,t,i,r,n){for(var o=t._reactName,c=[];i!==null&&i!==r;){var f=i,g=f.alternate,v=f.stateNode;if(g!==null&&g===r)break;f.tag===5&&v!==null&&(f=v,n?(g=hw(i,o),g!=null&&c.unshift(vw(i,g,f))):n||(g=hw(i,o),g!=null&&c.push(vw(i,g,f)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var yme=/\r\n?/g,mme=/\u0000|\uFFFD/g;function tV(e){return(typeof e=="string"?e:""+e).replace(yme,`
`).replace(mme,"")}function qx(e,t,i){if(t=tV(t),tV(e)!==t&&i)throw Error(Xe(425))}function C9(){}var AC=null,jC=null;function PC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var OC=typeof setTimeout=="function"?setTimeout:void 0,gme=typeof clearTimeout=="function"?clearTimeout:void 0,iV=typeof Promise=="function"?Promise:void 0,vme=typeof queueMicrotask=="function"?queueMicrotask:typeof iV<"u"?function(e){return iV.resolve(null).then(e).catch(bme)}:OC;function bme(e){setTimeout(function(){throw e})}function IM(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(r===0){e.removeChild(n),fw(t);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=n}while(i);fw(t)}function np(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Mg=Math.random().toString(36).slice(2),Vu="__reactFiber$"+Mg,bw="__reactProps$"+Mg,wh="__reactContainer$"+Mg,RC="__reactEvents$"+Mg,wme="__reactListeners$"+Mg,xme="__reactHandles$"+Mg;function s0(e){var t=e[Vu];if(t)return t;for(var i=e.parentNode;i;){if(t=i[wh]||i[Vu]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=rV(e);e!==null;){if(i=e[Vu])return i;e=rV(e)}return t}e=i,i=e.parentNode}return null}function A3(e){return e=e[Vu]||e[wh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yy(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Xe(33))}function G6(e){return e[bw]||null}var LC=[],Zy=-1;function Pp(e){return{current:e}}function kr(e){0>Zy||(e.current=LC[Zy],LC[Zy]=null,Zy--)}function mr(e,t){Zy++,LC[Zy]=e.current,e.current=t}var gp={},Es=Pp(gp),So=Pp(!1),R0=gp;function Hm(e,t){var i=e.type.contextTypes;if(!i)return gp;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in i)n[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function $o(e){return e=e.childContextTypes,e!=null}function I9(){kr(So),kr(Es)}function nV(e,t,i){if(Es.current!==gp)throw Error(Xe(168));mr(Es,t),mr(So,i)}function NX(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(Xe(108,sye(e)||"Unknown",n));return qr({},i,r)}function E9(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gp,R0=Es.current,mr(Es,e),mr(So,So.current),!0}function sV(e,t,i){var r=e.stateNode;if(!r)throw Error(Xe(169));i?(e=NX(e,t,R0),r.__reactInternalMemoizedMergedChildContext=e,kr(So),kr(Es),mr(Es,e)):kr(So),mr(So,i)}var ih=null,q6=!1,EM=!1;function FX(e){ih===null?ih=[e]:ih.push(e)}function _me(e){q6=!0,FX(e)}function Op(){if(!EM&&ih!==null){EM=!0;var e=0,t=er;try{var i=ih;for(er=1;e<i.length;e++){var r=i[e];do r=r(!0);while(r!==null)}ih=null,q6=!1}catch(n){throw ih!==null&&(ih=ih.slice(e+1)),uX(eR,Op),n}finally{er=t,EM=!1}}return null}var Xy=[],Qy=0,A9=null,j9=0,ja=[],Pa=0,L0=null,oh=1,ah="";function af(e,t){Xy[Qy++]=j9,Xy[Qy++]=A9,A9=e,j9=t}function DX(e,t,i){ja[Pa++]=oh,ja[Pa++]=ah,ja[Pa++]=L0,L0=e;var r=oh;e=ah;var n=32-Hl(r)-1;r&=~(1<<n),i+=1;var o=32-Hl(t)+n;if(30<o){var c=n-n%5;o=(r&(1<<c)-1).toString(32),r>>=c,n-=c,oh=1<<32-Hl(t)+n|i<<n|r,ah=o+e}else oh=1<<o|i<<n|r,ah=e}function uR(e){e.return!==null&&(af(e,1),DX(e,1,0))}function cR(e){for(;e===A9;)A9=Xy[--Qy],Xy[Qy]=null,j9=Xy[--Qy],Xy[Qy]=null;for(;e===L0;)L0=ja[--Pa],ja[Pa]=null,ah=ja[--Pa],ja[Pa]=null,oh=ja[--Pa],ja[Pa]=null}var Xo=null,Yo=null,Rr=!1,Bl=null;function zX(e,t){var i=Ua(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function oV(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xo=e,Yo=np(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xo=e,Yo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=L0!==null?{id:oh,overflow:ah}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ua(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Xo=e,Yo=null,!0):!1;default:return!1}}function NC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function FC(e){if(Rr){var t=Yo;if(t){var i=t;if(!oV(e,t)){if(NC(e))throw Error(Xe(418));t=np(i.nextSibling);var r=Xo;t&&oV(e,t)?zX(r,i):(e.flags=e.flags&-4097|2,Rr=!1,Xo=e)}}else{if(NC(e))throw Error(Xe(418));e.flags=e.flags&-4097|2,Rr=!1,Xo=e}}}function aV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xo=e}function Wx(e){if(e!==Xo)return!1;if(!Rr)return aV(e),Rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!PC(e.type,e.memoizedProps)),t&&(t=Yo)){if(NC(e))throw VX(),Error(Xe(418));for(;t;)zX(e,t),t=np(t.nextSibling)}if(aV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Yo=np(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Yo=null}}else Yo=Xo?np(e.stateNode.nextSibling):null;return!0}function VX(){for(var e=Yo;e;)e=np(e.nextSibling)}function Jm(){Yo=Xo=null,Rr=!1}function hR(e){Bl===null?Bl=[e]:Bl.push(e)}var Sme=Ih.ReactCurrentBatchConfig;function vv(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Xe(309));var r=i.stateNode}if(!r)throw Error(Xe(147,e));var n=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var f=n.refs;c===null?delete f[o]:f[o]=c},t._stringRef=o,t)}if(typeof e!="string")throw Error(Xe(284));if(!i._owner)throw Error(Xe(290,e))}return e}function Hx(e,t){throw e=Object.prototype.toString.call(t),Error(Xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lV(e){var t=e._init;return t(e._payload)}function BX(e){function t(F,V){if(e){var z=F.deletions;z===null?(F.deletions=[V],F.flags|=16):z.push(V)}}function i(F,V){if(!e)return null;for(;V!==null;)t(F,V),V=V.sibling;return null}function r(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function n(F,V){return F=lp(F,V),F.index=0,F.sibling=null,F}function o(F,V,z){return F.index=z,e?(z=F.alternate,z!==null?(z=z.index,z<V?(F.flags|=2,V):z):(F.flags|=2,V)):(F.flags|=1048576,V)}function c(F){return e&&F.alternate===null&&(F.flags|=2),F}function f(F,V,z,G){return V===null||V.tag!==6?(V=NM(z,F.mode,G),V.return=F,V):(V=n(V,z),V.return=F,V)}function g(F,V,z,G){var H=z.type;return H===Wy?_(F,V,z.props.children,G,z.key):V!==null&&(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ad&&lV(H)===V.type)?(G=n(V,z.props),G.ref=vv(F,V,z),G.return=F,G):(G=B5(z.type,z.key,z.props,null,F.mode,G),G.ref=vv(F,V,z),G.return=F,G)}function v(F,V,z,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=FM(z,F.mode,G),V.return=F,V):(V=n(V,z.children||[]),V.return=F,V)}function _(F,V,z,G,H){return V===null||V.tag!==7?(V=_0(z,F.mode,G,H),V.return=F,V):(V=n(V,z),V.return=F,V)}function M(F,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=NM(""+V,F.mode,z),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Lx:return z=B5(V.type,V.key,V.props,null,F.mode,z),z.ref=vv(F,null,V),z.return=F,z;case qy:return V=FM(V,F.mode,z),V.return=F,V;case Ad:var G=V._init;return M(F,G(V._payload),z)}if(cb(V)||pv(V))return V=_0(V,F.mode,z,null),V.return=F,V;Hx(F,V)}return null}function T(F,V,z,G){var H=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return H!==null?null:f(F,V,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Lx:return z.key===H?g(F,V,z,G):null;case qy:return z.key===H?v(F,V,z,G):null;case Ad:return H=z._init,T(F,V,H(z._payload),G)}if(cb(z)||pv(z))return H!==null?null:_(F,V,z,G,null);Hx(F,z)}return null}function E(F,V,z,G,H){if(typeof G=="string"&&G!==""||typeof G=="number")return F=F.get(z)||null,f(V,F,""+G,H);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Lx:return F=F.get(G.key===null?z:G.key)||null,g(V,F,G,H);case qy:return F=F.get(G.key===null?z:G.key)||null,v(V,F,G,H);case Ad:var Z=G._init;return E(F,V,z,Z(G._payload),H)}if(cb(G)||pv(G))return F=F.get(z)||null,_(V,F,G,H,null);Hx(V,G)}return null}function j(F,V,z,G){for(var H=null,Z=null,Y=V,re=V=0,q=null;Y!==null&&re<z.length;re++){Y.index>re?(q=Y,Y=null):q=Y.sibling;var W=T(F,Y,z[re],G);if(W===null){Y===null&&(Y=q);break}e&&Y&&W.alternate===null&&t(F,Y),V=o(W,V,re),Z===null?H=W:Z.sibling=W,Z=W,Y=q}if(re===z.length)return i(F,Y),Rr&&af(F,re),H;if(Y===null){for(;re<z.length;re++)Y=M(F,z[re],G),Y!==null&&(V=o(Y,V,re),Z===null?H=Y:Z.sibling=Y,Z=Y);return Rr&&af(F,re),H}for(Y=r(F,Y);re<z.length;re++)q=E(Y,F,re,z[re],G),q!==null&&(e&&q.alternate!==null&&Y.delete(q.key===null?re:q.key),V=o(q,V,re),Z===null?H=q:Z.sibling=q,Z=q);return e&&Y.forEach(function(ee){return t(F,ee)}),Rr&&af(F,re),H}function R(F,V,z,G){var H=pv(z);if(typeof H!="function")throw Error(Xe(150));if(z=H.call(z),z==null)throw Error(Xe(151));for(var Z=H=null,Y=V,re=V=0,q=null,W=z.next();Y!==null&&!W.done;re++,W=z.next()){Y.index>re?(q=Y,Y=null):q=Y.sibling;var ee=T(F,Y,W.value,G);if(ee===null){Y===null&&(Y=q);break}e&&Y&&ee.alternate===null&&t(F,Y),V=o(ee,V,re),Z===null?H=ee:Z.sibling=ee,Z=ee,Y=q}if(W.done)return i(F,Y),Rr&&af(F,re),H;if(Y===null){for(;!W.done;re++,W=z.next())W=M(F,W.value,G),W!==null&&(V=o(W,V,re),Z===null?H=W:Z.sibling=W,Z=W);return Rr&&af(F,re),H}for(Y=r(F,Y);!W.done;re++,W=z.next())W=E(Y,F,re,W.value,G),W!==null&&(e&&W.alternate!==null&&Y.delete(W.key===null?re:W.key),V=o(W,V,re),Z===null?H=W:Z.sibling=W,Z=W);return e&&Y.forEach(function(le){return t(F,le)}),Rr&&af(F,re),H}function N(F,V,z,G){if(typeof z=="object"&&z!==null&&z.type===Wy&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Lx:e:{for(var H=z.key,Z=V;Z!==null;){if(Z.key===H){if(H=z.type,H===Wy){if(Z.tag===7){i(F,Z.sibling),V=n(Z,z.props.children),V.return=F,F=V;break e}}else if(Z.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Ad&&lV(H)===Z.type){i(F,Z.sibling),V=n(Z,z.props),V.ref=vv(F,Z,z),V.return=F,F=V;break e}i(F,Z);break}else t(F,Z);Z=Z.sibling}z.type===Wy?(V=_0(z.props.children,F.mode,G,z.key),V.return=F,F=V):(G=B5(z.type,z.key,z.props,null,F.mode,G),G.ref=vv(F,V,z),G.return=F,F=G)}return c(F);case qy:e:{for(Z=z.key;V!==null;){if(V.key===Z)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){i(F,V.sibling),V=n(V,z.children||[]),V.return=F,F=V;break e}else{i(F,V);break}else t(F,V);V=V.sibling}V=FM(z,F.mode,G),V.return=F,F=V}return c(F);case Ad:return Z=z._init,N(F,V,Z(z._payload),G)}if(cb(z))return j(F,V,z,G);if(pv(z))return R(F,V,z,G);Hx(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(i(F,V.sibling),V=n(V,z),V.return=F,F=V):(i(F,V),V=NM(z,F.mode,G),V.return=F,F=V),c(F)):i(F,V)}return N}var Km=BX(!0),UX=BX(!1),P9=Pp(null),O9=null,em=null,dR=null;function pR(){dR=em=O9=null}function fR(e){var t=P9.current;kr(P9),e._currentValue=t}function DC(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function bm(e,t){O9=e,dR=em=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_o=!0),e.firstContext=null)}function rl(e){var t=e._currentValue;if(dR!==e)if(e={context:e,memoizedValue:t,next:null},em===null){if(O9===null)throw Error(Xe(308));em=e,O9.dependencies={lanes:0,firstContext:e}}else em=em.next=e;return t}var o0=null;function yR(e){o0===null?o0=[e]:o0.push(e)}function GX(e,t,i,r){var n=t.interleaved;return n===null?(i.next=i,yR(t)):(i.next=n.next,n.next=i),t.interleaved=i,xh(e,r)}function xh(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jd=!1;function mR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qX(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sp(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ci&2){var n=r.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t,xh(e,i)}return n=r.interleaved,n===null?(t.next=t,yR(r)):(t.next=n.next,n.next=t),r.interleaved=t,xh(e,i)}function L5(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,tR(e,i)}}function uV(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};o===null?n=o=c:o=o.next=c,i=i.next}while(i!==null);o===null?n=o=t:o=o.next=t}else n=o=t;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function R9(e,t,i,r){var n=e.updateQueue;jd=!1;var o=n.firstBaseUpdate,c=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var g=f,v=g.next;g.next=null,c===null?o=v:c.next=v,c=g;var _=e.alternate;_!==null&&(_=_.updateQueue,f=_.lastBaseUpdate,f!==c&&(f===null?_.firstBaseUpdate=v:f.next=v,_.lastBaseUpdate=g))}if(o!==null){var M=n.baseState;c=0,_=v=g=null,f=o;do{var T=f.lane,E=f.eventTime;if((r&T)===T){_!==null&&(_=_.next={eventTime:E,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var j=e,R=f;switch(T=t,E=i,R.tag){case 1:if(j=R.payload,typeof j=="function"){M=j.call(E,M,T);break e}M=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=R.payload,T=typeof j=="function"?j.call(E,M,T):j,T==null)break e;M=qr({},M,T);break e;case 2:jd=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,T=n.effects,T===null?n.effects=[f]:T.push(f))}else E={eventTime:E,lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},_===null?(v=_=E,g=M):_=_.next=E,c|=T;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;T=f,f=T.next,T.next=null,n.lastBaseUpdate=T,n.shared.pending=null}}while(!0);if(_===null&&(g=M),n.baseState=g,n.firstBaseUpdate=v,n.lastBaseUpdate=_,t=n.shared.interleaved,t!==null){n=t;do c|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);F0|=c,e.lanes=c,e.memoizedState=M}}function cV(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(Xe(191,n));n.call(r)}}}var j3={},Hu=Pp(j3),ww=Pp(j3),xw=Pp(j3);function a0(e){if(e===j3)throw Error(Xe(174));return e}function gR(e,t){switch(mr(xw,t),mr(ww,e),mr(Hu,j3),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bC(t,e)}kr(Hu),mr(Hu,t)}function Ym(){kr(Hu),kr(ww),kr(xw)}function WX(e){a0(xw.current);var t=a0(Hu.current),i=bC(t,e.type);t!==i&&(mr(ww,e),mr(Hu,i))}function vR(e){ww.current===e&&(kr(Hu),kr(ww))}var Br=Pp(0);function L9(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var AM=[];function bR(){for(var e=0;e<AM.length;e++)AM[e]._workInProgressVersionPrimary=null;AM.length=0}var N5=Ih.ReactCurrentDispatcher,jM=Ih.ReactCurrentBatchConfig,N0=0,Ur=null,$n=null,Ln=null,N9=!1,T2=!1,_w=0,$me=0;function ls(){throw Error(Xe(321))}function wR(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ql(e[i],t[i]))return!1;return!0}function xR(e,t,i,r,n,o){if(N0=o,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N5.current=e===null||e.memoizedState===null?Cme:Ime,e=i(r,n),T2){o=0;do{if(T2=!1,_w=0,25<=o)throw Error(Xe(301));o+=1,Ln=$n=null,t.updateQueue=null,N5.current=Eme,e=i(r,n)}while(T2)}if(N5.current=F9,t=$n!==null&&$n.next!==null,N0=0,Ln=$n=Ur=null,N9=!1,t)throw Error(Xe(300));return e}function _R(){var e=_w!==0;return _w=0,e}function ju(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Ur.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function nl(){if($n===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Ln===null?Ur.memoizedState:Ln.next;if(t!==null)Ln=t,$n=e;else{if(e===null)throw Error(Xe(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Ln===null?Ur.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function Sw(e,t){return typeof t=="function"?t(e):t}function PM(e){var t=nl(),i=t.queue;if(i===null)throw Error(Xe(311));i.lastRenderedReducer=e;var r=$n,n=r.baseQueue,o=i.pending;if(o!==null){if(n!==null){var c=n.next;n.next=o.next,o.next=c}r.baseQueue=n=o,i.pending=null}if(n!==null){o=n.next,r=r.baseState;var f=c=null,g=null,v=o;do{var _=v.lane;if((N0&_)===_)g!==null&&(g=g.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var M={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};g===null?(f=g=M,c=r):g=g.next=M,Ur.lanes|=_,F0|=_}v=v.next}while(v!==null&&v!==o);g===null?c=r:g.next=f,Ql(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=g,i.lastRenderedState=r}if(e=i.interleaved,e!==null){n=e;do o=n.lane,Ur.lanes|=o,F0|=o,n=n.next;while(n!==e)}else n===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function OM(e){var t=nl(),i=t.queue;if(i===null)throw Error(Xe(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,o=t.memoizedState;if(n!==null){i.pending=null;var c=n=n.next;do o=e(o,c.action),c=c.next;while(c!==n);Ql(o,t.memoizedState)||(_o=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),i.lastRenderedState=o}return[o,r]}function HX(){}function JX(e,t){var i=Ur,r=nl(),n=t(),o=!Ql(r.memoizedState,n);if(o&&(r.memoizedState=n,_o=!0),r=r.queue,SR(ZX.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||Ln!==null&&Ln.memoizedState.tag&1){if(i.flags|=2048,$w(9,YX.bind(null,i,r,n,t),void 0,null),zn===null)throw Error(Xe(349));N0&30||KX(i,t,n)}return n}function KX(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function YX(e,t,i,r){t.value=i,t.getSnapshot=r,XX(t)&&QX(e)}function ZX(e,t,i){return i(function(){XX(t)&&QX(e)})}function XX(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ql(e,i)}catch{return!0}}function QX(e){var t=xh(e,1);t!==null&&Jl(t,e,1,-1)}function hV(e){var t=ju();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sw,lastRenderedState:e},t.queue=e,e=e.dispatch=kme.bind(null,Ur,e),[t.memoizedState,e]}function $w(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e)),e}function eQ(){return nl().memoizedState}function F5(e,t,i,r){var n=ju();Ur.flags|=e,n.memoizedState=$w(1|t,i,void 0,r===void 0?null:r)}function W6(e,t,i,r){var n=nl();r=r===void 0?null:r;var o=void 0;if($n!==null){var c=$n.memoizedState;if(o=c.destroy,r!==null&&wR(r,c.deps)){n.memoizedState=$w(t,i,o,r);return}}Ur.flags|=e,n.memoizedState=$w(1|t,i,o,r)}function dV(e,t){return F5(8390656,8,e,t)}function SR(e,t){return W6(2048,8,e,t)}function tQ(e,t){return W6(4,2,e,t)}function iQ(e,t){return W6(4,4,e,t)}function rQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nQ(e,t,i){return i=i!=null?i.concat([e]):null,W6(4,4,rQ.bind(null,t,e),i)}function $R(){}function sQ(e,t){var i=nl();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&wR(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function oQ(e,t){var i=nl();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&wR(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function aQ(e,t,i){return N0&21?(Ql(i,t)||(i=dX(),Ur.lanes|=i,F0|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=i)}function Mme(e,t){var i=er;er=i!==0&&4>i?i:4,e(!0);var r=jM.transition;jM.transition={};try{e(!1),t()}finally{er=i,jM.transition=r}}function lQ(){return nl().memoizedState}function Tme(e,t,i){var r=ap(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},uQ(e))cQ(t,i);else if(i=GX(e,t,i,r),i!==null){var n=Xs();Jl(i,e,r,n),hQ(i,t,r)}}function kme(e,t,i){var r=ap(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(uQ(e))cQ(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,f=o(c,i);if(n.hasEagerState=!0,n.eagerState=f,Ql(f,c)){var g=t.interleaved;g===null?(n.next=n,yR(t)):(n.next=g.next,g.next=n),t.interleaved=n;return}}catch{}finally{}i=GX(e,t,n,r),i!==null&&(n=Xs(),Jl(i,e,r,n),hQ(i,t,r))}}function uQ(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function cQ(e,t){T2=N9=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function hQ(e,t,i){if(i&4194240){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,tR(e,i)}}var F9={readContext:rl,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},Cme={readContext:rl,useCallback:function(e,t){return ju().memoizedState=[e,t===void 0?null:t],e},useContext:rl,useEffect:dV,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,F5(4194308,4,rQ.bind(null,t,e),i)},useLayoutEffect:function(e,t){return F5(4194308,4,e,t)},useInsertionEffect:function(e,t){return F5(4,2,e,t)},useMemo:function(e,t){var i=ju();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=ju();return t=i!==void 0?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tme.bind(null,Ur,e),[r.memoizedState,e]},useRef:function(e){var t=ju();return e={current:e},t.memoizedState=e},useState:hV,useDebugValue:$R,useDeferredValue:function(e){return ju().memoizedState=e},useTransition:function(){var e=hV(!1),t=e[0];return e=Mme.bind(null,e[1]),ju().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=Ur,n=ju();if(Rr){if(i===void 0)throw Error(Xe(407));i=i()}else{if(i=t(),zn===null)throw Error(Xe(349));N0&30||KX(r,t,i)}n.memoizedState=i;var o={value:i,getSnapshot:t};return n.queue=o,dV(ZX.bind(null,r,o,e),[e]),r.flags|=2048,$w(9,YX.bind(null,r,o,i,t),void 0,null),i},useId:function(){var e=ju(),t=zn.identifierPrefix;if(Rr){var i=ah,r=oh;i=(r&~(1<<32-Hl(r)-1)).toString(32)+i,t=":"+t+"R"+i,i=_w++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=$me++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ime={readContext:rl,useCallback:sQ,useContext:rl,useEffect:SR,useImperativeHandle:nQ,useInsertionEffect:tQ,useLayoutEffect:iQ,useMemo:oQ,useReducer:PM,useRef:eQ,useState:function(){return PM(Sw)},useDebugValue:$R,useDeferredValue:function(e){var t=nl();return aQ(t,$n.memoizedState,e)},useTransition:function(){var e=PM(Sw)[0],t=nl().memoizedState;return[e,t]},useMutableSource:HX,useSyncExternalStore:JX,useId:lQ,unstable_isNewReconciler:!1},Eme={readContext:rl,useCallback:sQ,useContext:rl,useEffect:SR,useImperativeHandle:nQ,useInsertionEffect:tQ,useLayoutEffect:iQ,useMemo:oQ,useReducer:OM,useRef:eQ,useState:function(){return OM(Sw)},useDebugValue:$R,useDeferredValue:function(e){var t=nl();return $n===null?t.memoizedState=e:aQ(t,$n.memoizedState,e)},useTransition:function(){var e=OM(Sw)[0],t=nl().memoizedState;return[e,t]},useMutableSource:HX,useSyncExternalStore:JX,useId:lQ,unstable_isNewReconciler:!1};function Nl(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function zC(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:qr({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var H6={isMounted:function(e){return(e=e._reactInternals)?d1(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Xs(),n=ap(e),o=hh(r,n);o.payload=t,i!=null&&(o.callback=i),t=sp(e,o,n),t!==null&&(Jl(t,e,n,r),L5(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Xs(),n=ap(e),o=hh(r,n);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=sp(e,o,n),t!==null&&(Jl(t,e,n,r),L5(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Xs(),r=ap(e),n=hh(i,r);n.tag=2,t!=null&&(n.callback=t),t=sp(e,n,r),t!==null&&(Jl(t,e,r,i),L5(t,e,r))}};function pV(e,t,i,r,n,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!mw(i,r)||!mw(n,o):!0}function dQ(e,t,i){var r=!1,n=gp,o=t.contextType;return typeof o=="object"&&o!==null?o=rl(o):(n=$o(t)?R0:Es.current,r=t.contextTypes,o=(r=r!=null)?Hm(e,n):gp),t=new t(i,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=H6,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function fV(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&H6.enqueueReplaceState(t,t.state,null)}function VC(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs={},mR(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=rl(o):(o=$o(t)?R0:Es.current,n.context=Hm(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zC(e,t,o,i),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&H6.enqueueReplaceState(n,n.state,null),R9(e,i,n,r),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Zm(e,t){try{var i="",r=t;do i+=nye(r),r=r.return;while(r);var n=i}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function RM(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function BC(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Ame=typeof WeakMap=="function"?WeakMap:Map;function pQ(e,t,i){i=hh(-1,i),i.tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){z9||(z9=!0,XC=r),BC(e,t)},i}function fQ(e,t,i){i=hh(-1,i),i.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){BC(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){BC(e,t),typeof r!="function"&&(op===null?op=new Set([this]):op.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function yV(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Ame;var n=new Set;r.set(t,n)}else n=r.get(t),n===void 0&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=qme.bind(null,e,t,i),t.then(e,e))}function mV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gV(e,t,i,r,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=hh(-1,1),t.tag=2,sp(i,t,1))),i.lanes|=1),e)}var jme=Ih.ReactCurrentOwner,_o=!1;function Js(e,t,i,r){t.child=e===null?UX(t,null,i,r):Km(t,e.child,i,r)}function vV(e,t,i,r,n){i=i.render;var o=t.ref;return bm(t,n),r=xR(e,t,i,r,o,n),i=_R(),e!==null&&!_o?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,_h(e,t,n)):(Rr&&i&&uR(t),t.flags|=1,Js(e,t,r,n),t.child)}function bV(e,t,i,r,n){if(e===null){var o=i.type;return typeof o=="function"&&!jR(o)&&o.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=o,yQ(e,t,o,r,n)):(e=B5(i.type,null,r,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var c=o.memoizedProps;if(i=i.compare,i=i!==null?i:mw,i(c,r)&&e.ref===t.ref)return _h(e,t,n)}return t.flags|=1,e=lp(o,r),e.ref=t.ref,e.return=t,t.child=e}function yQ(e,t,i,r,n){if(e!==null){var o=e.memoizedProps;if(mw(o,r)&&e.ref===t.ref)if(_o=!1,t.pendingProps=r=o,(e.lanes&n)!==0)e.flags&131072&&(_o=!0);else return t.lanes=e.lanes,_h(e,t,n)}return UC(e,t,i,r,n)}function mQ(e,t,i){var r=t.pendingProps,n=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(im,Wo),Wo|=i;else{if(!(i&1073741824))return e=o!==null?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mr(im,Wo),Wo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:i,mr(im,Wo),Wo|=r}else o!==null?(r=o.baseLanes|i,t.memoizedState=null):r=i,mr(im,Wo),Wo|=r;return Js(e,t,n,i),t.child}function gQ(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function UC(e,t,i,r,n){var o=$o(i)?R0:Es.current;return o=Hm(t,o),bm(t,n),i=xR(e,t,i,r,o,n),r=_R(),e!==null&&!_o?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,_h(e,t,n)):(Rr&&r&&uR(t),t.flags|=1,Js(e,t,i,n),t.child)}function wV(e,t,i,r,n){if($o(i)){var o=!0;E9(t)}else o=!1;if(bm(t,n),t.stateNode===null)D5(e,t),dQ(t,i,r),VC(t,i,r,n),r=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var g=c.context,v=i.contextType;typeof v=="object"&&v!==null?v=rl(v):(v=$o(i)?R0:Es.current,v=Hm(t,v));var _=i.getDerivedStateFromProps,M=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function";M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==r||g!==v)&&fV(t,c,r,v),jd=!1;var T=t.memoizedState;c.state=T,R9(t,r,c,n),g=t.memoizedState,f!==r||T!==g||So.current||jd?(typeof _=="function"&&(zC(t,i,_,r),g=t.memoizedState),(f=jd||pV(t,i,f,r,T,g,v))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),c.props=r,c.state=g,c.context=v,r=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,qX(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:Nl(t.type,f),c.props=v,M=t.pendingProps,T=c.context,g=i.contextType,typeof g=="object"&&g!==null?g=rl(g):(g=$o(i)?R0:Es.current,g=Hm(t,g));var E=i.getDerivedStateFromProps;(_=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==M||T!==g)&&fV(t,c,r,g),jd=!1,T=t.memoizedState,c.state=T,R9(t,r,c,n);var j=t.memoizedState;f!==M||T!==j||So.current||jd?(typeof E=="function"&&(zC(t,i,E,r),j=t.memoizedState),(v=jd||pV(t,i,v,r,T,j,g)||!1)?(_||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,j,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,j,g)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),c.props=r,c.state=j,c.context=g,r=v):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),r=!1)}return GC(e,t,i,r,o,n)}function GC(e,t,i,r,n,o){gQ(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return n&&sV(t,i,!1),_h(e,t,o);r=t.stateNode,jme.current=t;var f=c&&typeof i.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Km(t,e.child,null,o),t.child=Km(t,null,f,o)):Js(e,t,f,o),t.memoizedState=r.state,n&&sV(t,i,!0),t.child}function vQ(e){var t=e.stateNode;t.pendingContext?nV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nV(e,t.context,!1),gR(e,t.containerInfo)}function xV(e,t,i,r,n){return Jm(),hR(n),t.flags|=256,Js(e,t,i,r),t.child}var qC={dehydrated:null,treeContext:null,retryLane:0};function WC(e){return{baseLanes:e,cachePool:null,transitions:null}}function bQ(e,t,i){var r=t.pendingProps,n=Br.current,o=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(n&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),mr(Br,n&1),e===null)return FC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Y6(c,r,0,null),e=_0(e,r,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=WC(i),t.memoizedState=qC,e):MR(t,c));if(n=e.memoizedState,n!==null&&(f=n.dehydrated,f!==null))return Pme(e,t,c,r,f,n,i);if(o){o=r.fallback,c=t.mode,n=e.child,f=n.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&t.child!==n?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=lp(n,g),r.subtreeFlags=n.subtreeFlags&14680064),f!==null?o=lp(f,o):(o=_0(o,c,i,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=e.child.memoizedState,c=c===null?WC(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~i,t.memoizedState=qC,r}return o=e.child,e=o.sibling,r=lp(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function MR(e,t){return t=Y6({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jx(e,t,i,r){return r!==null&&hR(r),Km(t,e.child,null,i),e=MR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pme(e,t,i,r,n,o,c){if(i)return t.flags&256?(t.flags&=-257,r=RM(Error(Xe(422))),Jx(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,n=t.mode,r=Y6({mode:"visible",children:r.children},n,0,null),o=_0(o,n,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Km(t,e.child,null,c),t.child.memoizedState=WC(c),t.memoizedState=qC,o);if(!(t.mode&1))return Jx(e,t,c,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var f=r.dgst;return r=f,o=Error(Xe(419)),r=RM(o,r,void 0),Jx(e,t,c,r)}if(f=(c&e.childLanes)!==0,_o||f){if(r=zn,r!==null){switch(c&-c){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|c)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,xh(e,n),Jl(r,e,n,-1))}return AR(),r=RM(Error(Xe(421))),Jx(e,t,c,r)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Wme.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,Yo=np(n.nextSibling),Xo=t,Rr=!0,Bl=null,e!==null&&(ja[Pa++]=oh,ja[Pa++]=ah,ja[Pa++]=L0,oh=e.id,ah=e.overflow,L0=t),t=MR(t,r.children),t.flags|=4096,t)}function _V(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),DC(e.return,t,i)}function LM(e,t,i,r,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=i,o.tailMode=n)}function wQ(e,t,i){var r=t.pendingProps,n=r.revealOrder,o=r.tail;if(Js(e,t,r.children,i),r=Br.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_V(e,i,t);else if(e.tag===19)_V(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mr(Br,r),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&L9(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),LM(t,!1,n,i,o);break;case"backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&L9(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}LM(t,!0,i,null,o);break;case"together":LM(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function D5(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _h(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),F0|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Xe(153));if(t.child!==null){for(e=t.child,i=lp(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=lp(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ome(e,t,i){switch(t.tag){case 3:vQ(t),Jm();break;case 5:WX(t);break;case 1:$o(t.type)&&E9(t);break;case 4:gR(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;mr(P9,r._currentValue),r._currentValue=n;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mr(Br,Br.current&1),t.flags|=128,null):i&t.child.childLanes?bQ(e,t,i):(mr(Br,Br.current&1),e=_h(e,t,i),e!==null?e.sibling:null);mr(Br,Br.current&1);break;case 19:if(r=(i&t.childLanes)!==0,e.flags&128){if(r)return wQ(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),mr(Br,Br.current),r)break;return null;case 22:case 23:return t.lanes=0,mQ(e,t,i)}return _h(e,t,i)}var xQ,HC,_Q,SQ;xQ=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};HC=function(){};_Q=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,a0(Hu.current);var o=null;switch(i){case"input":n=yC(e,n),r=yC(e,r),o=[];break;case"select":n=qr({},n,{value:void 0}),r=qr({},r,{value:void 0}),o=[];break;case"textarea":n=vC(e,n),r=vC(e,r),o=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=C9)}wC(i,r);var c;i=null;for(v in n)if(!r.hasOwnProperty(v)&&n.hasOwnProperty(v)&&n[v]!=null)if(v==="style"){var f=n[v];for(c in f)f.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(uw.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var g=r[v];if(f=n!=null?n[v]:void 0,r.hasOwnProperty(v)&&g!==f&&(g!=null||f!=null))if(v==="style")if(f){for(c in f)!f.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in g)g.hasOwnProperty(c)&&f[c]!==g[c]&&(i||(i={}),i[c]=g[c])}else i||(o||(o=[]),o.push(v,i)),i=g;else v==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,f=f?f.__html:void 0,g!=null&&f!==g&&(o=o||[]).push(v,g)):v==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(v,""+g):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(uw.hasOwnProperty(v)?(g!=null&&v==="onScroll"&&wr("scroll",e),o||f===g||(o=[])):(o=o||[]).push(v,g))}i&&(o=o||[]).push("style",i);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};SQ=function(e,t,i,r){i!==r&&(t.flags|=4)};function bv(e,t){if(!Rr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function us(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Rme(e,t,i){var r=t.pendingProps;switch(cR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(t),null;case 1:return $o(t.type)&&I9(),us(t),null;case 3:return r=t.stateNode,Ym(),kr(So),kr(Es),bR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bl!==null&&(tI(Bl),Bl=null))),HC(e,t),us(t),null;case 5:vR(t);var n=a0(xw.current);if(i=t.type,e!==null&&t.stateNode!=null)_Q(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Xe(166));return us(t),null}if(e=a0(Hu.current),Wx(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[Vu]=t,r[bw]=o,e=(t.mode&1)!==0,i){case"dialog":wr("cancel",r),wr("close",r);break;case"iframe":case"object":case"embed":wr("load",r);break;case"video":case"audio":for(n=0;n<db.length;n++)wr(db[n],r);break;case"source":wr("error",r);break;case"img":case"image":case"link":wr("error",r),wr("load",r);break;case"details":wr("toggle",r);break;case"input":Az(r,o),wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},wr("invalid",r);break;case"textarea":Pz(r,o),wr("invalid",r)}wC(i,o),n=null;for(var c in o)if(o.hasOwnProperty(c)){var f=o[c];c==="children"?typeof f=="string"?r.textContent!==f&&(o.suppressHydrationWarning!==!0&&qx(r.textContent,f,e),n=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&qx(r.textContent,f,e),n=["children",""+f]):uw.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&wr("scroll",r)}switch(i){case"input":Nx(r),jz(r,o,!0);break;case"textarea":Nx(r),Oz(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=C9)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZZ(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(i,{is:r.is}):(e=c.createElement(i),i==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,i),e[Vu]=t,e[bw]=r,xQ(e,t,!1,!1),t.stateNode=e;e:{switch(c=xC(i,r),i){case"dialog":wr("cancel",e),wr("close",e),n=r;break;case"iframe":case"object":case"embed":wr("load",e),n=r;break;case"video":case"audio":for(n=0;n<db.length;n++)wr(db[n],e);n=r;break;case"source":wr("error",e),n=r;break;case"img":case"image":case"link":wr("error",e),wr("load",e),n=r;break;case"details":wr("toggle",e),n=r;break;case"input":Az(e,r),n=yC(e,r),wr("invalid",e);break;case"option":n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=qr({},r,{value:void 0}),wr("invalid",e);break;case"textarea":Pz(e,r),n=vC(e,r),wr("invalid",e);break;default:n=r}wC(i,n),f=n;for(o in f)if(f.hasOwnProperty(o)){var g=f[o];o==="style"?eX(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&XZ(e,g)):o==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&cw(e,g):typeof g=="number"&&cw(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uw.hasOwnProperty(o)?g!=null&&o==="onScroll"&&wr("scroll",e):g!=null&&KO(e,o,g,c))}switch(i){case"input":Nx(e),jz(e,r,!1);break;case"textarea":Nx(e),Oz(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mp(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ym(e,!!r.multiple,o,!1):r.defaultValue!=null&&ym(e,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=C9)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return us(t),null;case 6:if(e&&t.stateNode!=null)SQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Xe(166));if(i=a0(xw.current),a0(Hu.current),Wx(t)){if(r=t.stateNode,i=t.memoizedProps,r[Vu]=t,(o=r.nodeValue!==i)&&(e=Xo,e!==null))switch(e.tag){case 3:qx(r.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qx(r.nodeValue,i,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[Vu]=t,t.stateNode=r}return us(t),null;case 13:if(kr(Br),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rr&&Yo!==null&&t.mode&1&&!(t.flags&128))VX(),Jm(),t.flags|=98560,o=!1;else if(o=Wx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Xe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Xe(317));o[Vu]=t}else Jm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;us(t),o=!1}else Bl!==null&&(tI(Bl),Bl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?Tn===0&&(Tn=3):AR())),t.updateQueue!==null&&(t.flags|=4),us(t),null);case 4:return Ym(),HC(e,t),e===null&&gw(t.stateNode.containerInfo),us(t),null;case 10:return fR(t.type._context),us(t),null;case 17:return $o(t.type)&&I9(),us(t),null;case 19:if(kr(Br),o=t.memoizedState,o===null)return us(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)bv(o,!1);else{if(Tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=L9(e),c!==null){for(t.flags|=128,bv(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;i!==null;)o=i,e=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return mr(Br,Br.current&1|2),t.child}e=e.sibling}o.tail!==null&&an()>Xm&&(t.flags|=128,r=!0,bv(o,!1),t.lanes=4194304)}else{if(!r)if(e=L9(c),e!==null){if(t.flags|=128,r=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),bv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Rr)return us(t),null}else 2*an()-o.renderingStartTime>Xm&&i!==1073741824&&(t.flags|=128,r=!0,bv(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(i=o.last,i!==null?i.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,i=Br.current,mr(Br,r?i&1|2:i&1),t):(us(t),null);case 22:case 23:return ER(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wo&1073741824&&(us(t),t.subtreeFlags&6&&(t.flags|=8192)):us(t),null;case 24:return null;case 25:return null}throw Error(Xe(156,t.tag))}function Lme(e,t){switch(cR(t),t.tag){case 1:return $o(t.type)&&I9(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ym(),kr(So),kr(Es),bR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vR(t),null;case 13:if(kr(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Xe(340));Jm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr(Br),null;case 4:return Ym(),null;case 10:return fR(t.type._context),null;case 22:case 23:return ER(),null;case 24:return null;default:return null}}var Kx=!1,Ss=!1,Nme=typeof WeakSet=="function"?WeakSet:Set,gt=null;function tm(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){en(e,t,r)}else i.current=null}function JC(e,t,i){try{i()}catch(r){en(e,t,r)}}var SV=!1;function Fme(e,t){if(AC=M9,e=CX(),lR(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var c=0,f=-1,g=-1,v=0,_=0,M=e,T=null;t:for(;;){for(var E;M!==i||n!==0&&M.nodeType!==3||(f=c+n),M!==o||r!==0&&M.nodeType!==3||(g=c+r),M.nodeType===3&&(c+=M.nodeValue.length),(E=M.firstChild)!==null;)T=M,M=E;for(;;){if(M===e)break t;if(T===i&&++v===n&&(f=c),T===o&&++_===r&&(g=c),(E=M.nextSibling)!==null)break;M=T,T=M.parentNode}M=E}i=f===-1||g===-1?null:{start:f,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(jC={focusedElem:e,selectionRange:i},M9=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){t=gt;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var R=j.memoizedProps,N=j.memoizedState,F=t.stateNode,V=F.getSnapshotBeforeUpdate(t.elementType===t.type?R:Nl(t.type,R),N);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(G){en(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}return j=SV,SV=!1,j}function k2(e,t,i){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&JC(t,i,o)}n=n.next}while(n!==r)}}function J6(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function KC(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function $Q(e){var t=e.alternate;t!==null&&(e.alternate=null,$Q(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vu],delete t[bw],delete t[RC],delete t[wme],delete t[xme])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MQ(e){return e.tag===5||e.tag===3||e.tag===4}function $V(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function YC(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=C9));else if(r!==4&&(e=e.child,e!==null))for(YC(e,t,i),e=e.sibling;e!==null;)YC(e,t,i),e=e.sibling}function ZC(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ZC(e,t,i),e=e.sibling;e!==null;)ZC(e,t,i),e=e.sibling}var Qn=null,Dl=!1;function Fh(e,t,i){for(i=i.child;i!==null;)TQ(e,t,i),i=i.sibling}function TQ(e,t,i){if(Wu&&typeof Wu.onCommitFiberUnmount=="function")try{Wu.onCommitFiberUnmount(z6,i)}catch{}switch(i.tag){case 5:Ss||tm(i,t);case 6:var r=Qn,n=Dl;Qn=null,Fh(e,t,i),Qn=r,Dl=n,Qn!==null&&(Dl?(e=Qn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Qn.removeChild(i.stateNode));break;case 18:Qn!==null&&(Dl?(e=Qn,i=i.stateNode,e.nodeType===8?IM(e.parentNode,i):e.nodeType===1&&IM(e,i),fw(e)):IM(Qn,i.stateNode));break;case 4:r=Qn,n=Dl,Qn=i.stateNode.containerInfo,Dl=!0,Fh(e,t,i),Qn=r,Dl=n;break;case 0:case 11:case 14:case 15:if(!Ss&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var o=n,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&JC(i,t,c),n=n.next}while(n!==r)}Fh(e,t,i);break;case 1:if(!Ss&&(tm(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(f){en(i,t,f)}Fh(e,t,i);break;case 21:Fh(e,t,i);break;case 22:i.mode&1?(Ss=(r=Ss)||i.memoizedState!==null,Fh(e,t,i),Ss=r):Fh(e,t,i);break;default:Fh(e,t,i)}}function MV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Nme),t.forEach(function(r){var n=Hme.bind(null,e,r);i.has(r)||(i.add(r),r.then(n,n))})}}function ml(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];try{var o=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:Qn=f.stateNode,Dl=!1;break e;case 3:Qn=f.stateNode.containerInfo,Dl=!0;break e;case 4:Qn=f.stateNode.containerInfo,Dl=!0;break e}f=f.return}if(Qn===null)throw Error(Xe(160));TQ(o,c,n),Qn=null,Dl=!1;var g=n.alternate;g!==null&&(g.return=null),n.return=null}catch(v){en(n,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kQ(t,e),t=t.sibling}function kQ(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),su(e),r&4){try{k2(3,e,e.return),J6(3,e)}catch(R){en(e,e.return,R)}try{k2(5,e,e.return)}catch(R){en(e,e.return,R)}}break;case 1:ml(t,e),su(e),r&512&&i!==null&&tm(i,i.return);break;case 5:if(ml(t,e),su(e),r&512&&i!==null&&tm(i,i.return),e.flags&32){var n=e.stateNode;try{cw(n,"")}catch(R){en(e,e.return,R)}}if(r&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,c=i!==null?i.memoizedProps:o,f=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&KZ(n,o),xC(f,c);var v=xC(f,o);for(c=0;c<g.length;c+=2){var _=g[c],M=g[c+1];_==="style"?eX(n,M):_==="dangerouslySetInnerHTML"?XZ(n,M):_==="children"?cw(n,M):KO(n,_,M,v)}switch(f){case"input":mC(n,o);break;case"textarea":YZ(n,o);break;case"select":var T=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?ym(n,!!o.multiple,E,!1):T!==!!o.multiple&&(o.defaultValue!=null?ym(n,!!o.multiple,o.defaultValue,!0):ym(n,!!o.multiple,o.multiple?[]:"",!1))}n[bw]=o}catch(R){en(e,e.return,R)}}break;case 6:if(ml(t,e),su(e),r&4){if(e.stateNode===null)throw Error(Xe(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(R){en(e,e.return,R)}}break;case 3:if(ml(t,e),su(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{fw(t.containerInfo)}catch(R){en(e,e.return,R)}break;case 4:ml(t,e),su(e);break;case 13:ml(t,e),su(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(CR=an())),r&4&&MV(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(Ss=(v=Ss)||_,ml(t,e),Ss=v):ml(t,e),su(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!_&&e.mode&1)for(gt=e,_=e.child;_!==null;){for(M=gt=_;gt!==null;){switch(T=gt,E=T.child,T.tag){case 0:case 11:case 14:case 15:k2(4,T,T.return);break;case 1:tm(T,T.return);var j=T.stateNode;if(typeof j.componentWillUnmount=="function"){r=T,i=T.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(R){en(r,i,R)}}break;case 5:tm(T,T.return);break;case 22:if(T.memoizedState!==null){kV(M);continue}}E!==null?(E.return=T,gt=E):kV(M)}_=_.sibling}e:for(_=null,M=e;;){if(M.tag===5){if(_===null){_=M;try{n=M.stateNode,v?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=M.stateNode,g=M.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,f.style.display=QZ("display",c))}catch(R){en(e,e.return,R)}}}else if(M.tag===6){if(_===null)try{M.stateNode.nodeValue=v?"":M.memoizedProps}catch(R){en(e,e.return,R)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;_===M&&(_=null),M=M.return}_===M&&(_=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:ml(t,e),su(e),r&4&&MV(e);break;case 21:break;default:ml(t,e),su(e)}}function su(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(MQ(i)){var r=i;break e}i=i.return}throw Error(Xe(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(cw(n,""),r.flags&=-33);var o=$V(e);ZC(e,o,n);break;case 3:case 4:var c=r.stateNode.containerInfo,f=$V(e);YC(e,f,c);break;default:throw Error(Xe(161))}}catch(g){en(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dme(e,t,i){gt=e,CQ(e)}function CQ(e,t,i){for(var r=(e.mode&1)!==0;gt!==null;){var n=gt,o=n.child;if(n.tag===22&&r){var c=n.memoizedState!==null||Kx;if(!c){var f=n.alternate,g=f!==null&&f.memoizedState!==null||Ss;f=Kx;var v=Ss;if(Kx=c,(Ss=g)&&!v)for(gt=n;gt!==null;)c=gt,g=c.child,c.tag===22&&c.memoizedState!==null?CV(n):g!==null?(g.return=c,gt=g):CV(n);for(;o!==null;)gt=o,CQ(o),o=o.sibling;gt=n,Kx=f,Ss=v}TV(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,gt=o):TV(e)}}function TV(e){for(;gt!==null;){var t=gt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ss||J6(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ss)if(i===null)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:Nl(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cV(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}cV(t,c,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var M=_.dehydrated;M!==null&&fw(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}Ss||t.flags&512&&KC(t)}catch(T){en(t,t.return,T)}}if(t===e){gt=null;break}if(i=t.sibling,i!==null){i.return=t.return,gt=i;break}gt=t.return}}function kV(e){for(;gt!==null;){var t=gt;if(t===e){gt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,gt=i;break}gt=t.return}}function CV(e){for(;gt!==null;){var t=gt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{J6(4,t)}catch(g){en(t,i,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var n=t.return;try{r.componentDidMount()}catch(g){en(t,n,g)}}var o=t.return;try{KC(t)}catch(g){en(t,o,g)}break;case 5:var c=t.return;try{KC(t)}catch(g){en(t,c,g)}}}catch(g){en(t,t.return,g)}if(t===e){gt=null;break}var f=t.sibling;if(f!==null){f.return=t.return,gt=f;break}gt=t.return}}var zme=Math.ceil,D9=Ih.ReactCurrentDispatcher,TR=Ih.ReactCurrentOwner,Ka=Ih.ReactCurrentBatchConfig,Ci=0,zn=null,gn=null,ns=0,Wo=0,im=Pp(0),Tn=0,Mw=null,F0=0,K6=0,kR=0,C2=null,bo=null,CR=0,Xm=1/0,Yc=null,z9=!1,XC=null,op=null,Yx=!1,Gd=null,V9=0,I2=0,QC=null,z5=-1,V5=0;function Xs(){return Ci&6?an():z5!==-1?z5:z5=an()}function ap(e){return e.mode&1?Ci&2&&ns!==0?ns&-ns:Sme.transition!==null?(V5===0&&(V5=dX()),V5):(e=er,e!==0||(e=window.event,e=e===void 0?16:bX(e.type)),e):1}function Jl(e,t,i,r){if(50<I2)throw I2=0,QC=null,Error(Xe(185));I3(e,i,r),(!(Ci&2)||e!==zn)&&(e===zn&&(!(Ci&2)&&(K6|=i),Tn===4&&zd(e,ns)),Mo(e,r),i===1&&Ci===0&&!(t.mode&1)&&(Xm=an()+500,q6&&Op()))}function Mo(e,t){var i=e.callbackNode;Sye(e,t);var r=$9(e,e===zn?ns:0);if(r===0)i!==null&&Nz(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(i!=null&&Nz(i),t===1)e.tag===0?_me(IV.bind(null,e)):FX(IV.bind(null,e)),vme(function(){!(Ci&6)&&Op()}),i=null;else{switch(pX(r)){case 1:i=eR;break;case 4:i=cX;break;case 16:i=S9;break;case 536870912:i=hX;break;default:i=S9}i=LQ(i,IQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function IQ(e,t){if(z5=-1,V5=0,Ci&6)throw Error(Xe(327));var i=e.callbackNode;if(wm()&&e.callbackNode!==i)return null;var r=$9(e,e===zn?ns:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=B9(e,r);else{t=r;var n=Ci;Ci|=2;var o=AQ();(zn!==e||ns!==t)&&(Yc=null,Xm=an()+500,x0(e,t));do try{Ume();break}catch(f){EQ(e,f)}while(!0);pR(),D9.current=o,Ci=n,gn!==null?t=0:(zn=null,ns=0,t=Tn)}if(t!==0){if(t===2&&(n=TC(e),n!==0&&(r=n,t=eI(e,n))),t===1)throw i=Mw,x0(e,0),zd(e,r),Mo(e,an()),i;if(t===6)zd(e,r);else{if(n=e.current.alternate,!(r&30)&&!Vme(n)&&(t=B9(e,r),t===2&&(o=TC(e),o!==0&&(r=o,t=eI(e,o))),t===1))throw i=Mw,x0(e,0),zd(e,r),Mo(e,an()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(Xe(345));case 2:lf(e,bo,Yc);break;case 3:if(zd(e,r),(r&130023424)===r&&(t=CR+500-an(),10<t)){if($9(e,0)!==0)break;if(n=e.suspendedLanes,(n&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=OC(lf.bind(null,e,bo,Yc),t);break}lf(e,bo,Yc);break;case 4:if(zd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,n=-1;0<r;){var c=31-Hl(r);o=1<<c,c=t[c],c>n&&(n=c),r&=~o}if(r=n,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zme(r/1960))-r,10<r){e.timeoutHandle=OC(lf.bind(null,e,bo,Yc),r);break}lf(e,bo,Yc);break;case 5:lf(e,bo,Yc);break;default:throw Error(Xe(329))}}}return Mo(e,an()),e.callbackNode===i?IQ.bind(null,e):null}function eI(e,t){var i=C2;return e.current.memoizedState.isDehydrated&&(x0(e,t).flags|=256),e=B9(e,t),e!==2&&(t=bo,bo=i,t!==null&&tI(t)),e}function tI(e){bo===null?bo=e:bo.push.apply(bo,e)}function Vme(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var n=i[r],o=n.getSnapshot;n=n.value;try{if(!Ql(o(),n))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zd(e,t){for(t&=~kR,t&=~K6,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Hl(t),r=1<<i;e[i]=-1,t&=~r}}function IV(e){if(Ci&6)throw Error(Xe(327));wm();var t=$9(e,0);if(!(t&1))return Mo(e,an()),null;var i=B9(e,t);if(e.tag!==0&&i===2){var r=TC(e);r!==0&&(t=r,i=eI(e,r))}if(i===1)throw i=Mw,x0(e,0),zd(e,t),Mo(e,an()),i;if(i===6)throw Error(Xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lf(e,bo,Yc),Mo(e,an()),null}function IR(e,t){var i=Ci;Ci|=1;try{return e(t)}finally{Ci=i,Ci===0&&(Xm=an()+500,q6&&Op())}}function D0(e){Gd!==null&&Gd.tag===0&&!(Ci&6)&&wm();var t=Ci;Ci|=1;var i=Ka.transition,r=er;try{if(Ka.transition=null,er=1,e)return e()}finally{er=r,Ka.transition=i,Ci=t,!(Ci&6)&&Op()}}function ER(){Wo=im.current,kr(im)}function x0(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,gme(i)),gn!==null)for(i=gn.return;i!==null;){var r=i;switch(cR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I9();break;case 3:Ym(),kr(So),kr(Es),bR();break;case 5:vR(r);break;case 4:Ym();break;case 13:kr(Br);break;case 19:kr(Br);break;case 10:fR(r.type._context);break;case 22:case 23:ER()}i=i.return}if(zn=e,gn=e=lp(e.current,null),ns=Wo=t,Tn=0,Mw=null,kR=K6=F0=0,bo=C2=null,o0!==null){for(t=0;t<o0.length;t++)if(i=o0[t],r=i.interleaved,r!==null){i.interleaved=null;var n=r.next,o=i.pending;if(o!==null){var c=o.next;o.next=n,r.next=c}i.pending=r}o0=null}return e}function EQ(e,t){do{var i=gn;try{if(pR(),N5.current=F9,N9){for(var r=Ur.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}N9=!1}if(N0=0,Ln=$n=Ur=null,T2=!1,_w=0,TR.current=null,i===null||i.return===null){Tn=1,Mw=t,gn=null;break}e:{var o=e,c=i.return,f=i,g=t;if(t=ns,f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var v=g,_=f,M=_.tag;if(!(_.mode&1)&&(M===0||M===11||M===15)){var T=_.alternate;T?(_.updateQueue=T.updateQueue,_.memoizedState=T.memoizedState,_.lanes=T.lanes):(_.updateQueue=null,_.memoizedState=null)}var E=mV(c);if(E!==null){E.flags&=-257,gV(E,c,f,o,t),E.mode&1&&yV(o,v,t),t=E,g=v;var j=t.updateQueue;if(j===null){var R=new Set;R.add(g),t.updateQueue=R}else j.add(g);break e}else{if(!(t&1)){yV(o,v,t),AR();break e}g=Error(Xe(426))}}else if(Rr&&f.mode&1){var N=mV(c);if(N!==null){!(N.flags&65536)&&(N.flags|=256),gV(N,c,f,o,t),hR(Zm(g,f));break e}}o=g=Zm(g,f),Tn!==4&&(Tn=2),C2===null?C2=[o]:C2.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var F=pQ(o,g,t);uV(o,F);break e;case 1:f=g;var V=o.type,z=o.stateNode;if(!(o.flags&128)&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(op===null||!op.has(z)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=fQ(o,f,t);uV(o,G);break e}}o=o.return}while(o!==null)}PQ(i)}catch(H){t=H,gn===i&&i!==null&&(gn=i=i.return);continue}break}while(!0)}function AQ(){var e=D9.current;return D9.current=F9,e===null?F9:e}function AR(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),zn===null||!(F0&268435455)&&!(K6&268435455)||zd(zn,ns)}function B9(e,t){var i=Ci;Ci|=2;var r=AQ();(zn!==e||ns!==t)&&(Yc=null,x0(e,t));do try{Bme();break}catch(n){EQ(e,n)}while(!0);if(pR(),Ci=i,D9.current=r,gn!==null)throw Error(Xe(261));return zn=null,ns=0,Tn}function Bme(){for(;gn!==null;)jQ(gn)}function Ume(){for(;gn!==null&&!fye();)jQ(gn)}function jQ(e){var t=RQ(e.alternate,e,Wo);e.memoizedProps=e.pendingProps,t===null?PQ(e):gn=t,TR.current=null}function PQ(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Lme(i,t),i!==null){i.flags&=32767,gn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tn=6,gn=null;return}}else if(i=Rme(i,t,Wo),i!==null){gn=i;return}if(t=t.sibling,t!==null){gn=t;return}gn=t=e}while(t!==null);Tn===0&&(Tn=5)}function lf(e,t,i){var r=er,n=Ka.transition;try{Ka.transition=null,er=1,Gme(e,t,i,r)}finally{Ka.transition=n,er=r}return null}function Gme(e,t,i,r){do wm();while(Gd!==null);if(Ci&6)throw Error(Xe(327));i=e.finishedWork;var n=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Xe(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if($ye(e,o),e===zn&&(gn=zn=null,ns=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Yx||(Yx=!0,LQ(S9,function(){return wm(),null})),o=(i.flags&15990)!==0,i.subtreeFlags&15990||o){o=Ka.transition,Ka.transition=null;var c=er;er=1;var f=Ci;Ci|=4,TR.current=null,Fme(e,i),kQ(i,e),cme(jC),M9=!!AC,jC=AC=null,e.current=i,Dme(i),yye(),Ci=f,er=c,Ka.transition=o}else e.current=i;if(Yx&&(Yx=!1,Gd=e,V9=n),o=e.pendingLanes,o===0&&(op=null),vye(i.stateNode),Mo(e,an()),t!==null)for(r=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(z9)throw z9=!1,e=XC,XC=null,e;return V9&1&&e.tag!==0&&wm(),o=e.pendingLanes,o&1?e===QC?I2++:(I2=0,QC=e):I2=0,Op(),null}function wm(){if(Gd!==null){var e=pX(V9),t=Ka.transition,i=er;try{if(Ka.transition=null,er=16>e?16:e,Gd===null)var r=!1;else{if(e=Gd,Gd=null,V9=0,Ci&6)throw Error(Xe(331));var n=Ci;for(Ci|=4,gt=e.current;gt!==null;){var o=gt,c=o.child;if(gt.flags&16){var f=o.deletions;if(f!==null){for(var g=0;g<f.length;g++){var v=f[g];for(gt=v;gt!==null;){var _=gt;switch(_.tag){case 0:case 11:case 15:k2(8,_,o)}var M=_.child;if(M!==null)M.return=_,gt=M;else for(;gt!==null;){_=gt;var T=_.sibling,E=_.return;if($Q(_),_===v){gt=null;break}if(T!==null){T.return=E,gt=T;break}gt=E}}}var j=o.alternate;if(j!==null){var R=j.child;if(R!==null){j.child=null;do{var N=R.sibling;R.sibling=null,R=N}while(R!==null)}}gt=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,gt=c;else e:for(;gt!==null;){if(o=gt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:k2(9,o,o.return)}var F=o.sibling;if(F!==null){F.return=o.return,gt=F;break e}gt=o.return}}var V=e.current;for(gt=V;gt!==null;){c=gt;var z=c.child;if(c.subtreeFlags&2064&&z!==null)z.return=c,gt=z;else e:for(c=V;gt!==null;){if(f=gt,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:J6(9,f)}}catch(H){en(f,f.return,H)}if(f===c){gt=null;break e}var G=f.sibling;if(G!==null){G.return=f.return,gt=G;break e}gt=f.return}}if(Ci=n,Op(),Wu&&typeof Wu.onPostCommitFiberRoot=="function")try{Wu.onPostCommitFiberRoot(z6,e)}catch{}r=!0}return r}finally{er=i,Ka.transition=t}}return!1}function EV(e,t,i){t=Zm(i,t),t=pQ(e,t,1),e=sp(e,t,1),t=Xs(),e!==null&&(I3(e,1,t),Mo(e,t))}function en(e,t,i){if(e.tag===3)EV(e,e,i);else for(;t!==null;){if(t.tag===3){EV(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(op===null||!op.has(r))){e=Zm(i,e),e=fQ(t,e,1),t=sp(t,e,1),e=Xs(),t!==null&&(I3(t,1,e),Mo(t,e));break}}t=t.return}}function qme(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&i,zn===e&&(ns&i)===i&&(Tn===4||Tn===3&&(ns&130023424)===ns&&500>an()-CR?x0(e,0):kR|=i),Mo(e,t)}function OQ(e,t){t===0&&(e.mode&1?(t=zx,zx<<=1,!(zx&130023424)&&(zx=4194304)):t=1);var i=Xs();e=xh(e,t),e!==null&&(I3(e,t,i),Mo(e,i))}function Wme(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),OQ(e,i)}function Hme(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Xe(314))}r!==null&&r.delete(t),OQ(e,i)}var RQ;RQ=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||So.current)_o=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return _o=!1,Ome(e,t,i);_o=!!(e.flags&131072)}else _o=!1,Rr&&t.flags&1048576&&DX(t,j9,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;D5(e,t),e=t.pendingProps;var n=Hm(t,Es.current);bm(t,i),n=xR(null,t,r,e,n,i);var o=_R();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$o(r)?(o=!0,E9(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,mR(t),n.updater=H6,t.stateNode=n,n._reactInternals=t,VC(t,r,e,i),t=GC(null,t,r,!0,o,i)):(t.tag=0,Rr&&o&&uR(t),Js(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(D5(e,t),e=t.pendingProps,n=r._init,r=n(r._payload),t.type=r,n=t.tag=Kme(r),e=Nl(r,e),n){case 0:t=UC(null,t,r,e,i);break e;case 1:t=wV(null,t,r,e,i);break e;case 11:t=vV(null,t,r,e,i);break e;case 14:t=bV(null,t,r,Nl(r.type,e),i);break e}throw Error(Xe(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Nl(r,n),UC(e,t,r,n,i);case 1:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Nl(r,n),wV(e,t,r,n,i);case 3:e:{if(vQ(t),e===null)throw Error(Xe(387));r=t.pendingProps,o=t.memoizedState,n=o.element,qX(e,t),R9(t,r,null,i);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=Zm(Error(Xe(423)),t),t=xV(e,t,r,i,n);break e}else if(r!==n){n=Zm(Error(Xe(424)),t),t=xV(e,t,r,i,n);break e}else for(Yo=np(t.stateNode.containerInfo.firstChild),Xo=t,Rr=!0,Bl=null,i=UX(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Jm(),r===n){t=_h(e,t,i);break e}Js(e,t,r,i)}t=t.child}return t;case 5:return WX(t),e===null&&FC(t),r=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,c=n.children,PC(r,n)?c=null:o!==null&&PC(r,o)&&(t.flags|=32),gQ(e,t),Js(e,t,c,i),t.child;case 6:return e===null&&FC(t),null;case 13:return bQ(e,t,i);case 4:return gR(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Km(t,null,r,i):Js(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Nl(r,n),vV(e,t,r,n,i);case 7:return Js(e,t,t.pendingProps,i),t.child;case 8:return Js(e,t,t.pendingProps.children,i),t.child;case 12:return Js(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,o=t.memoizedProps,c=n.value,mr(P9,r._currentValue),r._currentValue=c,o!==null)if(Ql(o.value,c)){if(o.children===n.children&&!So.current){t=_h(e,t,i);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){c=o.child;for(var g=f.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=hh(-1,i&-i),g.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?g.next=g:(g.next=_.next,_.next=g),v.pending=g}}o.lanes|=i,g=o.alternate,g!==null&&(g.lanes|=i),DC(o.return,i,t),f.lanes|=i;break}g=g.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(Xe(341));c.lanes|=i,f=c.alternate,f!==null&&(f.lanes|=i),DC(c,i,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Js(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,bm(t,i),n=rl(n),r=r(n),t.flags|=1,Js(e,t,r,i),t.child;case 14:return r=t.type,n=Nl(r,t.pendingProps),n=Nl(r.type,n),bV(e,t,r,n,i);case 15:return yQ(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Nl(r,n),D5(e,t),t.tag=1,$o(r)?(e=!0,E9(t)):e=!1,bm(t,i),dQ(t,r,n),VC(t,r,n,i),GC(null,t,r,!0,e,i);case 19:return wQ(e,t,i);case 22:return mQ(e,t,i)}throw Error(Xe(156,t.tag))};function LQ(e,t){return uX(e,t)}function Jme(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,i,r){return new Jme(e,t,i,r)}function jR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kme(e){if(typeof e=="function")return jR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ZO)return 11;if(e===XO)return 14}return 2}function lp(e,t){var i=e.alternate;return i===null?(i=Ua(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function B5(e,t,i,r,n,o){var c=2;if(r=e,typeof e=="function")jR(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Wy:return _0(i.children,n,o,t);case YO:c=8,n|=8;break;case hC:return e=Ua(12,i,t,n|2),e.elementType=hC,e.lanes=o,e;case dC:return e=Ua(13,i,t,n),e.elementType=dC,e.lanes=o,e;case pC:return e=Ua(19,i,t,n),e.elementType=pC,e.lanes=o,e;case WZ:return Y6(i,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GZ:c=10;break e;case qZ:c=9;break e;case ZO:c=11;break e;case XO:c=14;break e;case Ad:c=16,r=null;break e}throw Error(Xe(130,e==null?e:typeof e,""))}return t=Ua(c,i,t,n),t.elementType=e,t.type=r,t.lanes=o,t}function _0(e,t,i,r){return e=Ua(7,e,r,t),e.lanes=i,e}function Y6(e,t,i,r){return e=Ua(22,e,r,t),e.elementType=WZ,e.lanes=i,e.stateNode={isHidden:!1},e}function NM(e,t,i){return e=Ua(6,e,null,t),e.lanes=i,e}function FM(e,t,i){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yme(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vM(0),this.expirationTimes=vM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vM(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function PR(e,t,i,r,n,o,c,f,g){return e=new Yme(e,t,i,f,g),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ua(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},mR(o),e}function Zme(e,t,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qy,key:r==null?null:""+r,children:e,containerInfo:t,implementation:i}}function NQ(e){if(!e)return gp;e=e._reactInternals;e:{if(d1(e)!==e||e.tag!==1)throw Error(Xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($o(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Xe(171))}if(e.tag===1){var i=e.type;if($o(i))return NX(e,i,t)}return t}function FQ(e,t,i,r,n,o,c,f,g){return e=PR(i,r,!0,e,n,o,c,f,g),e.context=NQ(null),i=e.current,r=Xs(),n=ap(i),o=hh(r,n),o.callback=t??null,sp(i,o,n),e.current.lanes=n,I3(e,n,r),Mo(e,r),e}function Z6(e,t,i,r){var n=t.current,o=Xs(),c=ap(n);return i=NQ(i),t.context===null?t.context=i:t.pendingContext=i,t=hh(o,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sp(n,t,c),e!==null&&(Jl(e,n,c,o),L5(e,n,c)),c}function U9(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function OR(e,t){AV(e,t),(e=e.alternate)&&AV(e,t)}function Xme(){return null}var DQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function RR(e){this._internalRoot=e}X6.prototype.render=RR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Xe(409));Z6(e,t,null,null)};X6.prototype.unmount=RR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;D0(function(){Z6(null,e,null,null)}),t[wh]=null}};function X6(e){this._internalRoot=e}X6.prototype.unstable_scheduleHydration=function(e){if(e){var t=mX();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Dd.length&&t!==0&&t<Dd[i].priority;i++);Dd.splice(i,0,e),i===0&&vX(e)}};function LR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Q6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jV(){}function Qme(e,t,i,r,n){if(n){if(typeof r=="function"){var o=r;r=function(){var v=U9(c);o.call(v)}}var c=FQ(t,r,e,0,null,!1,!1,"",jV);return e._reactRootContainer=c,e[wh]=c.current,gw(e.nodeType===8?e.parentNode:e),D0(),c}for(;n=e.lastChild;)e.removeChild(n);if(typeof r=="function"){var f=r;r=function(){var v=U9(g);f.call(v)}}var g=PR(e,0,!1,null,null,!1,!1,"",jV);return e._reactRootContainer=g,e[wh]=g.current,gw(e.nodeType===8?e.parentNode:e),D0(function(){Z6(t,g,i,r)}),g}function e$(e,t,i,r,n){var o=i._reactRootContainer;if(o){var c=o;if(typeof n=="function"){var f=n;n=function(){var g=U9(c);f.call(g)}}Z6(t,c,e,n)}else c=Qme(i,t,e,n,r);return U9(c)}fX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=hb(t.pendingLanes);i!==0&&(tR(t,i|1),Mo(t,an()),!(Ci&6)&&(Xm=an()+500,Op()))}break;case 13:D0(function(){var r=xh(e,1);if(r!==null){var n=Xs();Jl(r,e,1,n)}}),OR(e,1)}};iR=function(e){if(e.tag===13){var t=xh(e,134217728);if(t!==null){var i=Xs();Jl(t,e,134217728,i)}OR(e,134217728)}};yX=function(e){if(e.tag===13){var t=ap(e),i=xh(e,t);if(i!==null){var r=Xs();Jl(i,e,t,r)}OR(e,t)}};mX=function(){return er};gX=function(e,t){var i=er;try{return er=e,t()}finally{er=i}};SC=function(e,t,i){switch(t){case"input":if(mC(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=G6(r);if(!n)throw Error(Xe(90));JZ(r),mC(r,n)}}}break;case"textarea":YZ(e,i);break;case"select":t=i.value,t!=null&&ym(e,!!i.multiple,t,!1)}};rX=IR;nX=D0;var ege={usingClientEntryPoint:!1,Events:[A3,Yy,G6,tX,iX,IR]},wv={findFiberByHostInstance:s0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tge={bundleType:wv.bundleType,version:wv.version,rendererPackageName:wv.rendererPackageName,rendererConfig:wv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ih.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aX(e),e===null?null:e.stateNode},findFiberByHostInstance:wv.findFiberByHostInstance||Xme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zx.isDisabled&&Zx.supportsFiber)try{z6=Zx.inject(tge),Wu=Zx}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ege;ua.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LR(t))throw Error(Xe(200));return Zme(e,t,null,i)};ua.createRoot=function(e,t){if(!LR(e))throw Error(Xe(299));var i=!1,r="",n=DQ;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=PR(e,1,!1,null,null,i,!1,r,n),e[wh]=t.current,gw(e.nodeType===8?e.parentNode:e),new RR(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Xe(188)):(e=Object.keys(e).join(","),Error(Xe(268,e)));return e=aX(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return D0(e)};ua.hydrate=function(e,t,i){if(!Q6(t))throw Error(Xe(200));return e$(null,e,t,!0,i)};ua.hydrateRoot=function(e,t,i){if(!LR(e))throw Error(Xe(405));var r=i!=null&&i.hydratedSources||null,n=!1,o="",c=DQ;if(i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=FQ(t,null,e,1,i??null,n,!1,o,c),e[wh]=t.current,gw(e),r)for(e=0;e<r.length;e++)i=r[e],n=i._getVersion,n=n(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new X6(t)};ua.render=function(e,t,i){if(!Q6(t))throw Error(Xe(200));return e$(null,e,t,!1,i)};ua.unmountComponentAtNode=function(e){if(!Q6(e))throw Error(Xe(40));return e._reactRootContainer?(D0(function(){e$(null,null,e,!1,function(){e._reactRootContainer=null,e[wh]=null})}),!0):!1};ua.unstable_batchedUpdates=IR;ua.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!Q6(i))throw Error(Xe(200));if(e==null||e._reactInternals===void 0)throw Error(Xe(38));return e$(e,t,i,!1,r)};ua.version="18.3.1-next-f1338f8080-20240426";function zQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zQ)}catch(e){console.error(e)}}zQ(),zZ.exports=ua;var t$=zZ.exports;const Xx=rn(t$);var VQ,PV=t$;VQ=PV.createRoot,PV.hydrateRoot;const Gn=K.createContext(),ige=e=>{let[t,i]=K.useState(null),[r,n]=K.useState(null),[o,c]=K.useState("https://stage-api.arkadiahrestores.earth"),[f,g]=K.useState("09RRQQPFU0AYTS31"),[v,_]=K.useState("$2a$10$5gw/4fQeV8.5gh7Sa2jIAO7f99NzB/J2MD2B.cdfgWMIwvoj990hq"),[M,T]=K.useState(null),[E,j]=K.useState(!1);const[R,N]=K.useState(!1);let[F,V]=K.useState(null),[z,G]=K.useState(0),[H,Z]=K.useState(!1);return P.jsx(Gn.Provider,{value:{viewObj:t,setViewObj:i,protectedAreaFlorian:M,setProtectedAreaFlorian:T,token:r,setToken:n,apiUrl:o,setApiUrl:c,clientId:f,setClientId:g,clientSecret:v,setClientSecret:_,checked:E,setChecked:j,aoi:F,setAoi:V,loading:R,setLoading:N,area:z,setArea:G,projectPassed:H,setProjectPassed:Z},children:e.children})};function z0(e){let t="https://mui.com/production-error/?code="+e;for(let i=1;i<arguments.length;i+=1)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Kl="$$material";function G9(){return G9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},G9.apply(null,arguments)}function BQ(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var rge=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nge=BQ(function(e){return rge.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),sge=!1;function oge(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function age(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var lge=function(){function e(i){var r=this;this._insertTag=function(n){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(n,o),r.tags.push(n)},this.isSpeedy=i.speedy===void 0?!sge:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(age(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oge(n);try{o.insertRule(r,o.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var n;return(n=r.parentNode)==null?void 0:n.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ms="-ms-",q9="-moz-",Fi="-webkit-",UQ="comm",NR="rule",FR="decl",uge="@import",GQ="@keyframes",cge="@layer",hge=Math.abs,i$=String.fromCharCode,dge=Object.assign;function pge(e,t){return es(e,0)^45?(((t<<2^es(e,0))<<2^es(e,1))<<2^es(e,2))<<2^es(e,3):0}function qQ(e){return e.trim()}function fge(e,t){return(e=t.exec(e))?e[0]:e}function Di(e,t,i){return e.replace(t,i)}function iI(e,t){return e.indexOf(t)}function es(e,t){return e.charCodeAt(t)|0}function Tw(e,t,i){return e.slice(t,i)}function Nu(e){return e.length}function DR(e){return e.length}function Qx(e,t){return t.push(e),e}function yge(e,t){return e.map(t).join("")}var r$=1,Qm=1,WQ=0,Co=0,mn=0,Tg="";function n$(e,t,i,r,n,o,c){return{value:e,root:t,parent:i,type:r,props:n,children:o,line:r$,column:Qm,length:c,return:""}}function xv(e,t){return dge(n$("",null,null,"",null,null,0),e,{length:-e.length},t)}function mge(){return mn}function gge(){return mn=Co>0?es(Tg,--Co):0,Qm--,mn===10&&(Qm=1,r$--),mn}function Qo(){return mn=Co<WQ?es(Tg,Co++):0,Qm++,mn===10&&(Qm=1,r$++),mn}function Ju(){return es(Tg,Co)}function U5(){return Co}function P3(e,t){return Tw(Tg,e,t)}function kw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HQ(e){return r$=Qm=1,WQ=Nu(Tg=e),Co=0,[]}function JQ(e){return Tg="",e}function G5(e){return qQ(P3(Co-1,rI(e===91?e+2:e===40?e+1:e)))}function vge(e){for(;(mn=Ju())&&mn<33;)Qo();return kw(e)>2||kw(mn)>3?"":" "}function bge(e,t){for(;--t&&Qo()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return P3(e,U5()+(t<6&&Ju()==32&&Qo()==32))}function rI(e){for(;Qo();)switch(mn){case e:return Co;case 34:case 39:e!==34&&e!==39&&rI(mn);break;case 40:e===41&&rI(e);break;case 92:Qo();break}return Co}function wge(e,t){for(;Qo()&&e+mn!==57;)if(e+mn===84&&Ju()===47)break;return"/*"+P3(t,Co-1)+"*"+i$(e===47?e:Qo())}function xge(e){for(;!kw(Ju());)Qo();return P3(e,Co)}function _ge(e){return JQ(q5("",null,null,null,[""],e=HQ(e),0,[0],e))}function q5(e,t,i,r,n,o,c,f,g){for(var v=0,_=0,M=c,T=0,E=0,j=0,R=1,N=1,F=1,V=0,z="",G=n,H=o,Z=r,Y=z;N;)switch(j=V,V=Qo()){case 40:if(j!=108&&es(Y,M-1)==58){iI(Y+=Di(G5(V),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:Y+=G5(V);break;case 9:case 10:case 13:case 32:Y+=vge(j);break;case 92:Y+=bge(U5()-1,7);continue;case 47:switch(Ju()){case 42:case 47:Qx(Sge(wge(Qo(),U5()),t,i),g);break;default:Y+="/"}break;case 123*R:f[v++]=Nu(Y)*F;case 125*R:case 59:case 0:switch(V){case 0:case 125:N=0;case 59+_:F==-1&&(Y=Di(Y,/\f/g,"")),E>0&&Nu(Y)-M&&Qx(E>32?RV(Y+";",r,i,M-1):RV(Di(Y," ","")+";",r,i,M-2),g);break;case 59:Y+=";";default:if(Qx(Z=OV(Y,t,i,v,_,n,f,z,G=[],H=[],M),o),V===123)if(_===0)q5(Y,t,Z,Z,G,o,M,f,H);else switch(T===99&&es(Y,3)===110?100:T){case 100:case 108:case 109:case 115:q5(e,Z,Z,r&&Qx(OV(e,Z,Z,0,0,n,f,z,n,G=[],M),H),n,H,M,f,r?G:H);break;default:q5(Y,Z,Z,Z,[""],H,0,f,H)}}v=_=E=0,R=F=1,z=Y="",M=c;break;case 58:M=1+Nu(Y),E=j;default:if(R<1){if(V==123)--R;else if(V==125&&R++==0&&gge()==125)continue}switch(Y+=i$(V),V*R){case 38:F=_>0?1:(Y+="\f",-1);break;case 44:f[v++]=(Nu(Y)-1)*F,F=1;break;case 64:Ju()===45&&(Y+=G5(Qo())),T=Ju(),_=M=Nu(z=Y+=xge(U5())),V++;break;case 45:j===45&&Nu(Y)==2&&(R=0)}}return o}function OV(e,t,i,r,n,o,c,f,g,v,_){for(var M=n-1,T=n===0?o:[""],E=DR(T),j=0,R=0,N=0;j<r;++j)for(var F=0,V=Tw(e,M+1,M=hge(R=c[j])),z=e;F<E;++F)(z=qQ(R>0?T[F]+" "+V:Di(V,/&\f/g,T[F])))&&(g[N++]=z);return n$(e,t,i,n===0?NR:f,g,v,_)}function Sge(e,t,i){return n$(e,t,i,UQ,i$(mge()),Tw(e,2,-2),0)}function RV(e,t,i,r){return n$(e,t,i,FR,Tw(e,0,r),Tw(e,r+1,-1),r)}function xm(e,t){for(var i="",r=DR(e),n=0;n<r;n++)i+=t(e[n],n,e,t)||"";return i}function $ge(e,t,i,r){switch(e.type){case cge:if(e.children.length)break;case uge:case FR:return e.return=e.return||e.value;case UQ:return"";case GQ:return e.return=e.value+"{"+xm(e.children,r)+"}";case NR:e.value=e.props.join(",")}return Nu(i=xm(e.children,r))?e.return=e.value+"{"+i+"}":""}function Mge(e){var t=DR(e);return function(i,r,n,o){for(var c="",f=0;f<t;f++)c+=e[f](i,r,n,o)||"";return c}}function Tge(e){return function(t){t.root||(t=t.return)&&e(t)}}var kge=function(t,i,r){for(var n=0,o=0;n=o,o=Ju(),n===38&&o===12&&(i[r]=1),!kw(o);)Qo();return P3(t,Co)},Cge=function(t,i){var r=-1,n=44;do switch(kw(n)){case 0:n===38&&Ju()===12&&(i[r]=1),t[r]+=kge(Co-1,i,r);break;case 2:t[r]+=G5(n);break;case 4:if(n===44){t[++r]=Ju()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=i$(n)}while(n=Qo());return t},Ige=function(t,i){return JQ(Cge(HQ(t),i))},LV=new WeakMap,Ege=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,r=t.parent,n=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!LV.get(r))&&!n){LV.set(t,!0);for(var o=[],c=Ige(i,o),f=r.props,g=0,v=0;g<c.length;g++)for(var _=0;_<f.length;_++,v++)t.props[v]=o[g]?c[g].replace(/&\f/g,f[_]):f[_]+" "+c[g]}}},Age=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function KQ(e,t){switch(pge(e,t)){case 5103:return Fi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fi+e+q9+e+ms+e+e;case 6828:case 4268:return Fi+e+ms+e+e;case 6165:return Fi+e+ms+"flex-"+e+e;case 5187:return Fi+e+Di(e,/(\w+).+(:[^]+)/,Fi+"box-$1$2"+ms+"flex-$1$2")+e;case 5443:return Fi+e+ms+"flex-item-"+Di(e,/flex-|-self/,"")+e;case 4675:return Fi+e+ms+"flex-line-pack"+Di(e,/align-content|flex-|-self/,"")+e;case 5548:return Fi+e+ms+Di(e,"shrink","negative")+e;case 5292:return Fi+e+ms+Di(e,"basis","preferred-size")+e;case 6060:return Fi+"box-"+Di(e,"-grow","")+Fi+e+ms+Di(e,"grow","positive")+e;case 4554:return Fi+Di(e,/([^-])(transform)/g,"$1"+Fi+"$2")+e;case 6187:return Di(Di(Di(e,/(zoom-|grab)/,Fi+"$1"),/(image-set)/,Fi+"$1"),e,"")+e;case 5495:case 3959:return Di(e,/(image-set\([^]*)/,Fi+"$1$`$1");case 4968:return Di(Di(e,/(.+:)(flex-)?(.*)/,Fi+"box-pack:$3"+ms+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fi+e+e;case 4095:case 3583:case 4068:case 2532:return Di(e,/(.+)-inline(.+)/,Fi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nu(e)-1-t>6)switch(es(e,t+1)){case 109:if(es(e,t+4)!==45)break;case 102:return Di(e,/(.+:)(.+)-([^]+)/,"$1"+Fi+"$2-$3$1"+q9+(es(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~iI(e,"stretch")?KQ(Di(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(es(e,t+1)!==115)break;case 6444:switch(es(e,Nu(e)-3-(~iI(e,"!important")&&10))){case 107:return Di(e,":",":"+Fi)+e;case 101:return Di(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fi+(es(e,14)===45?"inline-":"")+"box$3$1"+Fi+"$2$3$1"+ms+"$2box$3")+e}break;case 5936:switch(es(e,t+11)){case 114:return Fi+e+ms+Di(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fi+e+ms+Di(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fi+e+ms+Di(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Fi+e+ms+e+e}return e}var jge=function(t,i,r,n){if(t.length>-1&&!t.return)switch(t.type){case FR:t.return=KQ(t.value,t.length);break;case GQ:return xm([xv(t,{value:Di(t.value,"@","@"+Fi)})],n);case NR:if(t.length)return yge(t.props,function(o){switch(fge(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xm([xv(t,{props:[Di(o,/:(read-\w+)/,":"+q9+"$1")]})],n);case"::placeholder":return xm([xv(t,{props:[Di(o,/:(plac\w+)/,":"+Fi+"input-$1")]}),xv(t,{props:[Di(o,/:(plac\w+)/,":"+q9+"$1")]}),xv(t,{props:[Di(o,/:(plac\w+)/,ms+"input-$1")]})],n)}return""})}},Pge=[jge],Oge=function(t){var i=t.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var N=R.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var n=t.stylisPlugins||Pge,o={},c,f=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(R){for(var N=R.getAttribute("data-emotion").split(" "),F=1;F<N.length;F++)o[N[F]]=!0;f.push(R)});var g,v=[Ege,Age];{var _,M=[$ge,Tge(function(R){_.insert(R)})],T=Mge(v.concat(n,M)),E=function(N){return xm(_ge(N),T)};g=function(N,F,V,z){_=V,E(N?N+"{"+F.styles+"}":F.styles),z&&(j.inserted[F.name]=!0)}}var j={key:i,sheet:new lge({key:i,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:g};return j.sheet.hydrate(f),j},YQ={exports:{}},tr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=typeof Symbol=="function"&&Symbol.for,zR=qn?Symbol.for("react.element"):60103,VR=qn?Symbol.for("react.portal"):60106,s$=qn?Symbol.for("react.fragment"):60107,o$=qn?Symbol.for("react.strict_mode"):60108,a$=qn?Symbol.for("react.profiler"):60114,l$=qn?Symbol.for("react.provider"):60109,u$=qn?Symbol.for("react.context"):60110,BR=qn?Symbol.for("react.async_mode"):60111,c$=qn?Symbol.for("react.concurrent_mode"):60111,h$=qn?Symbol.for("react.forward_ref"):60112,d$=qn?Symbol.for("react.suspense"):60113,Rge=qn?Symbol.for("react.suspense_list"):60120,p$=qn?Symbol.for("react.memo"):60115,f$=qn?Symbol.for("react.lazy"):60116,Lge=qn?Symbol.for("react.block"):60121,Nge=qn?Symbol.for("react.fundamental"):60117,Fge=qn?Symbol.for("react.responder"):60118,Dge=qn?Symbol.for("react.scope"):60119;function ha(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zR:switch(e=e.type,e){case BR:case c$:case s$:case a$:case o$:case d$:return e;default:switch(e=e&&e.$$typeof,e){case u$:case h$:case f$:case p$:case l$:return e;default:return t}}case VR:return t}}}function ZQ(e){return ha(e)===c$}tr.AsyncMode=BR;tr.ConcurrentMode=c$;tr.ContextConsumer=u$;tr.ContextProvider=l$;tr.Element=zR;tr.ForwardRef=h$;tr.Fragment=s$;tr.Lazy=f$;tr.Memo=p$;tr.Portal=VR;tr.Profiler=a$;tr.StrictMode=o$;tr.Suspense=d$;tr.isAsyncMode=function(e){return ZQ(e)||ha(e)===BR};tr.isConcurrentMode=ZQ;tr.isContextConsumer=function(e){return ha(e)===u$};tr.isContextProvider=function(e){return ha(e)===l$};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zR};tr.isForwardRef=function(e){return ha(e)===h$};tr.isFragment=function(e){return ha(e)===s$};tr.isLazy=function(e){return ha(e)===f$};tr.isMemo=function(e){return ha(e)===p$};tr.isPortal=function(e){return ha(e)===VR};tr.isProfiler=function(e){return ha(e)===a$};tr.isStrictMode=function(e){return ha(e)===o$};tr.isSuspense=function(e){return ha(e)===d$};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===s$||e===c$||e===a$||e===o$||e===d$||e===Rge||typeof e=="object"&&e!==null&&(e.$$typeof===f$||e.$$typeof===p$||e.$$typeof===l$||e.$$typeof===u$||e.$$typeof===h$||e.$$typeof===Nge||e.$$typeof===Fge||e.$$typeof===Dge||e.$$typeof===Lge)};tr.typeOf=ha;YQ.exports=tr;var zge=YQ.exports,XQ=zge,Vge={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QQ={};QQ[XQ.ForwardRef]=Vge;QQ[XQ.Memo]=Bge;var Uge=!0;function Gge(e,t,i){var r="";return i.split(" ").forEach(function(n){e[n]!==void 0?t.push(e[n]+";"):r+=n+" "}),r}var eee=function(t,i,r){var n=t.key+"-"+i.name;(r===!1||Uge===!1)&&t.registered[n]===void 0&&(t.registered[n]=i.styles)},tee=function(t,i,r){eee(t,i,r);var n=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var o=i;do t.insert(i===o?"."+n:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function qge(e){for(var t=0,i,r=0,n=e.length;n>=4;++r,n-=4)i=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(n){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Wge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hge=!1,Jge=/[A-Z]|^ms/g,Kge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iee=function(t){return t.charCodeAt(1)===45},NV=function(t){return t!=null&&typeof t!="boolean"},DM=BQ(function(e){return iee(e)?e:e.replace(Jge,"-$&").toLowerCase()}),FV=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(Kge,function(r,n,o){return Fu={name:n,styles:o,next:Fu},n})}return Wge[t]!==1&&!iee(t)&&typeof i=="number"&&i!==0?i+"px":i},Yge="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Cw(e,t,i){if(i==null)return"";var r=i;if(r.__emotion_styles!==void 0)return r;switch(typeof i){case"boolean":return"";case"object":{var n=i;if(n.anim===1)return Fu={name:n.name,styles:n.styles,next:Fu},n.name;var o=i;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)Fu={name:c.name,styles:c.styles,next:Fu},c=c.next;var f=o.styles+";";return f}return Zge(e,t,i)}case"function":{if(e!==void 0){var g=Fu,v=i(e);return Fu=g,Cw(e,t,v)}break}}var _=i;if(t==null)return _;var M=t[_];return M!==void 0?M:_}function Zge(e,t,i){var r="";if(Array.isArray(i))for(var n=0;n<i.length;n++)r+=Cw(e,t,i[n])+";";else for(var o in i){var c=i[o];if(typeof c!="object"){var f=c;t!=null&&t[f]!==void 0?r+=o+"{"+t[f]+"}":NV(f)&&(r+=DM(o)+":"+FV(o,f)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&Hge)throw new Error(Yge);if(Array.isArray(c)&&typeof c[0]=="string"&&(t==null||t[c[0]]===void 0))for(var g=0;g<c.length;g++)NV(c[g])&&(r+=DM(o)+":"+FV(o,c[g])+";");else{var v=Cw(e,t,c);switch(o){case"animation":case"animationName":{r+=DM(o)+":"+v+";";break}default:r+=o+"{"+v+"}"}}}}return r}var DV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fu;function UR(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,n="";Fu=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,n+=Cw(i,t,o);else{var c=o;n+=c[0]}for(var f=1;f<e.length;f++)if(n+=Cw(i,t,e[f]),r){var g=o;n+=g[f]}DV.lastIndex=0;for(var v="",_;(_=DV.exec(n))!==null;)v+="-"+_[1];var M=qge(n)+v;return{name:M,styles:n,next:Fu}}var Xge=function(t){return t()},ree=uC.useInsertionEffect?uC.useInsertionEffect:!1,Qge=ree||Xge,zV=ree||K.useLayoutEffect,nee=K.createContext(typeof HTMLElement<"u"?Oge({key:"css"}):null);nee.Provider;var see=function(t){return K.forwardRef(function(i,r){var n=K.useContext(nee);return t(i,n,r)})},y$=K.createContext({}),eve=see(function(e,t){var i=e.styles,r=UR([i],void 0,K.useContext(y$)),n=K.useRef();return zV(function(){var o=t.key+"-global",c=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),f=!1,g=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(c.before=t.sheet.tags[0]),g!==null&&(f=!0,g.setAttribute("data-emotion",o),c.hydrate([g])),n.current=[c,f],function(){c.flush()}},[t]),zV(function(){var o=n.current,c=o[0],f=o[1];if(f){o[1]=!1;return}if(r.next!==void 0&&tee(t,r.next,!0),c.tags.length){var g=c.tags[c.tags.length-1].nextElementSibling;c.before=g,c.flush()}t.insert("",r,c,!1)},[t,r.name]),null});function kg(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return UR(t)}var Rp=function(){var t=kg.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},tve=nge,ive=function(t){return t!=="theme"},VV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?tve:ive},BV=function(t,i,r){var n;if(i){var o=i.shouldForwardProp;n=t.__emotion_forwardProp&&o?function(c){return t.__emotion_forwardProp(c)&&o(c)}:o}return typeof n!="function"&&r&&(n=t.__emotion_forwardProp),n},rve=!1,nve=function(t){var i=t.cache,r=t.serialized,n=t.isStringTag;return eee(i,r,n),Qge(function(){return tee(i,r,n)}),null},sve=function e(t,i){var r=t.__emotion_real===t,n=r&&t.__emotion_base||t,o,c;i!==void 0&&(o=i.label,c=i.target);var f=BV(t,i,r),g=f||VV(n),v=!g("as");return function(){var _=arguments,M=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&M.push("label:"+o+";"),_[0]==null||_[0].raw===void 0)M.push.apply(M,_);else{M.push(_[0][0]);for(var T=_.length,E=1;E<T;E++)M.push(_[E],_[0][E])}var j=see(function(R,N,F){var V=v&&R.as||n,z="",G=[],H=R;if(R.theme==null){H={};for(var Z in R)H[Z]=R[Z];H.theme=K.useContext(y$)}typeof R.className=="string"?z=Gge(N.registered,G,R.className):R.className!=null&&(z=R.className+" ");var Y=UR(M.concat(G),N.registered,H);z+=N.key+"-"+Y.name,c!==void 0&&(z+=" "+c);var re=v&&f===void 0?VV(V):g,q={};for(var W in R)v&&W==="as"||re(W)&&(q[W]=R[W]);return q.className=z,F&&(q.ref=F),K.createElement(K.Fragment,null,K.createElement(nve,{cache:N,serialized:Y,isStringTag:typeof V=="string"}),K.createElement(V,q))});return j.displayName=o!==void 0?o:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",j.defaultProps=t.defaultProps,j.__emotion_real=j,j.__emotion_base=n,j.__emotion_styles=M,j.__emotion_forwardProp=f,Object.defineProperty(j,"toString",{value:function(){return c===void 0&&rve?"NO_COMPONENT_SELECTOR":"."+c}}),j.withComponent=function(R,N){return e(R,G9({},i,N,{shouldForwardProp:BV(j,N,!0)})).apply(void 0,M)},j}},ove=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nI=sve.bind();ove.forEach(function(e){nI[e]=nI(e)});var oee={exports:{}},ave="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lve=ave,uve=lve;function aee(){}function lee(){}lee.resetWarningCache=aee;var cve=function(){function e(r,n,o,c,f,g){if(g!==uve){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lee,resetWarningCache:aee};return i.PropTypes=i,i};oee.exports=cve();var uee=oee.exports;const je=rn(uee);function hve(e){return e==null||Object.keys(e).length===0}function cee(e){const{styles:t,defaultTheme:i={}}=e,r=typeof t=="function"?n=>t(hve(n)?i:n):t;return P.jsx(eve,{styles:r})}/**
 * @mui/styled-engine v6.0.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hee(e,t){return nI(e,t)}const dve=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Bu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dee(e){if(!Bu(e))return e;const t={};return Object.keys(e).forEach(i=>{t[i]=dee(e[i])}),t}function Qs(e,t,i={clone:!0}){const r=i.clone?{...e}:e;return Bu(e)&&Bu(t)&&Object.keys(t).forEach(n=>{Bu(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Bu(e[n])?r[n]=Qs(e[n],t[n],i):i.clone?r[n]=Bu(t[n])?dee(t[n]):t[n]:r[n]=t[n]}),r}const pve=e=>{const t=Object.keys(e).map(i=>({key:i,val:e[i]}))||[];return t.sort((i,r)=>i.val-r.val),t.reduce((i,r)=>({...i,[r.key]:r.val}),{})};function fve(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:r=5,...n}=e,o=pve(t),c=Object.keys(o);function f(T){return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${i})`}function g(T){return`@media (max-width:${(typeof t[T]=="number"?t[T]:T)-r/100}${i})`}function v(T,E){const j=c.indexOf(E);return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${i}) and (max-width:${(j!==-1&&typeof t[c[j]]=="number"?t[c[j]]:E)-r/100}${i})`}function _(T){return c.indexOf(T)+1<c.length?v(T,c[c.indexOf(T)+1]):f(T)}function M(T){const E=c.indexOf(T);return E===0?f(c[1]):E===c.length-1?g(c[E]):v(T,c[c.indexOf(T)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:f,down:g,between:v,only:_,not:M,unit:i,...n}}function yve(e,t){if(!e.containerQueries)return t;const i=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,n)=>{var c,f;const o=/min-width:\s*([0-9.]+)/;return+(((c=r.match(o))==null?void 0:c[1])||0)-+(((f=n.match(o))==null?void 0:f[1])||0)});return i.length?i.reduce((r,n)=>{const o=t[n];return delete r[n],r[n]=o,r},{...t}):t}function mve(e,t){return t==="@"||t.startsWith("@")&&(e.some(i=>t.startsWith(`@${i}`))||!!t.match(/^@\d/))}function gve(e,t){const i=t.match(/^@([^/]+)?\/?(.+)?$/);if(!i)return null;const[,r,n]=i,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(n).up(o)}function vve(e){const t=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function i(o,c){o.up=(...f)=>t(e.breakpoints.up(...f),c),o.down=(...f)=>t(e.breakpoints.down(...f),c),o.between=(...f)=>t(e.breakpoints.between(...f),c),o.only=(...f)=>t(e.breakpoints.only(...f),c),o.not=(...f)=>{const g=t(e.breakpoints.not(...f),c);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const r={},n=o=>(i(r,o),r);return i(n),{...e,containerQueries:n}}const bve={borderRadius:4};function E2(e,t){return t?Qs(e,t,{clone:!1}):e}const m$={xs:0,sm:600,md:900,lg:1200,xl:1536},UV={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${m$[e]}px)`},wve={containerQueries:e=>({up:t=>{let i=typeof t=="number"?t:m$[t]||t;return typeof i=="number"&&(i=`${i}px`),e?`@container ${e} (min-width:${i})`:`@container (min-width:${i})`}})};function Io(e,t,i){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||UV;return t.reduce((c,f,g)=>(c[o.up(o.keys[g])]=i(t[g]),c),{})}if(typeof t=="object"){const o=r.breakpoints||UV;return Object.keys(t).reduce((c,f)=>{if(mve(o.keys,f)){const g=gve(r.containerQueries?r:wve,f);g&&(c[g]=i(t[f],f))}else if(Object.keys(o.values||m$).includes(f)){const g=o.up(f);c[g]=i(t[f],f)}else{const g=f;c[g]=t[g]}return c},{})}return i(t)}function pee(e={}){var i;return((i=e.keys)==null?void 0:i.reduce((r,n)=>{const o=e.up(n);return r[o]={},r},{}))||{}}function fee(e,t){return e.reduce((i,r)=>{const n=i[r];return(!n||Object.keys(n).length===0)&&delete i[r],i},t)}function xve(e,...t){const i=pee(e),r=[i,...t].reduce((n,o)=>Qs(n,o),{});return fee(Object.keys(i),r)}function _ve(e,t){if(typeof e!="object")return{};const i={},r=Object.keys(t);return Array.isArray(e)?r.forEach((n,o)=>{o<e.length&&(i[n]=!0)}):r.forEach(n=>{e[n]!=null&&(i[n]=!0)}),i}function S0({values:e,breakpoints:t,base:i}){const r=i||_ve(e,t),n=Object.keys(r);if(n.length===0)return e;let o;return n.reduce((c,f,g)=>(Array.isArray(e)?(c[f]=e[g]!=null?e[g]:e[o],o=g):typeof e=="object"?(c[f]=e[f]!=null?e[f]:e[o],o=f):c[f]=e,c),{})}function tt(e){if(typeof e!="string")throw new Error(z0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function g$(e,t,i=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&i){const r=`vars.${t}`.split(".").reduce((n,o)=>n&&n[o]?n[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:null,e)}function W9(e,t,i,r=i){let n;return typeof e=="function"?n=e(i):Array.isArray(e)?n=e[i]||r:n=g$(e,i)||r,t&&(n=t(n,r,e)),n}function un(e){const{prop:t,cssProperty:i=e.prop,themeKey:r,transform:n}=e,o=c=>{if(c[t]==null)return null;const f=c[t],g=c.theme,v=g$(g,r)||{};return Io(c,f,M=>{let T=W9(v,n,M);return M===T&&typeof M=="string"&&(T=W9(v,n,`${t}${M==="default"?"":tt(M)}`,M)),i===!1?T:{[i]:T}})};return o.propTypes={},o.filterProps=[t],o}function Sve(e){const t={};return i=>(t[i]===void 0&&(t[i]=e(i)),t[i])}const $ve={m:"margin",p:"padding"},Mve={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GV={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Tve=Sve(e=>{if(e.length>2)if(GV[e])e=GV[e];else return[e];const[t,i]=e.split(""),r=$ve[t],n=Mve[i]||"";return Array.isArray(n)?n.map(o=>r+o):[r+n]}),GR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...GR,...qR];function O3(e,t,i,r){const n=g$(e,t,!0)??i;return typeof n=="number"||typeof n=="string"?o=>typeof o=="string"?o:typeof n=="string"?`calc(${o} * ${n})`:n*o:Array.isArray(n)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),f=n[c];return o>=0?f:typeof f=="number"?-f:`-${f}`}:typeof n=="function"?n:()=>{}}function v$(e){return O3(e,"spacing",8)}function V0(e,t){return typeof t=="string"||t==null?t:e(t)}function kve(e,t){return i=>e.reduce((r,n)=>(r[n]=V0(t,i),r),{})}function Cve(e,t,i,r){if(!t.includes(i))return null;const n=Tve(i),o=kve(n,r),c=e[i];return Io(e,c,o)}function yee(e,t){const i=v$(e.theme);return Object.keys(e).map(r=>Cve(e,t,r,i)).reduce(E2,{})}function Kr(e){return yee(e,GR)}Kr.propTypes={};Kr.filterProps=GR;function Yr(e){return yee(e,qR)}Yr.propTypes={};Yr.filterProps=qR;function mee(e=8,t=v$({spacing:e})){if(e.mui)return e;const i=(...r)=>(r.length===0?[1]:r).map(o=>{const c=t(o);return typeof c=="number"?`${c}px`:c}).join(" ");return i.mui=!0,i}function b$(...e){const t=e.reduce((r,n)=>(n.filterProps.forEach(o=>{r[o]=n}),r),{}),i=r=>Object.keys(r).reduce((n,o)=>t[o]?E2(n,t[o](r)):n,{});return i.propTypes={},i.filterProps=e.reduce((r,n)=>r.concat(n.filterProps),[]),i}function Oa(e){return typeof e!="number"?e:`${e}px solid`}function ul(e,t){return un({prop:e,themeKey:"borders",transform:t})}const Ive=ul("border",Oa),Eve=ul("borderTop",Oa),Ave=ul("borderRight",Oa),jve=ul("borderBottom",Oa),Pve=ul("borderLeft",Oa),Ove=ul("borderColor"),Rve=ul("borderTopColor"),Lve=ul("borderRightColor"),Nve=ul("borderBottomColor"),Fve=ul("borderLeftColor"),Dve=ul("outline",Oa),zve=ul("outlineColor"),w$=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=O3(e.theme,"shape.borderRadius",4),i=r=>({borderRadius:V0(t,r)});return Io(e,e.borderRadius,i)}return null};w$.propTypes={};w$.filterProps=["borderRadius"];b$(Ive,Eve,Ave,jve,Pve,Ove,Rve,Lve,Nve,Fve,w$,Dve,zve);const x$=e=>{if(e.gap!==void 0&&e.gap!==null){const t=O3(e.theme,"spacing",8),i=r=>({gap:V0(t,r)});return Io(e,e.gap,i)}return null};x$.propTypes={};x$.filterProps=["gap"];const _$=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=O3(e.theme,"spacing",8),i=r=>({columnGap:V0(t,r)});return Io(e,e.columnGap,i)}return null};_$.propTypes={};_$.filterProps=["columnGap"];const S$=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=O3(e.theme,"spacing",8),i=r=>({rowGap:V0(t,r)});return Io(e,e.rowGap,i)}return null};S$.propTypes={};S$.filterProps=["rowGap"];const Vve=un({prop:"gridColumn"}),Bve=un({prop:"gridRow"}),Uve=un({prop:"gridAutoFlow"}),Gve=un({prop:"gridAutoColumns"}),qve=un({prop:"gridAutoRows"}),Wve=un({prop:"gridTemplateColumns"}),Hve=un({prop:"gridTemplateRows"}),Jve=un({prop:"gridTemplateAreas"}),Kve=un({prop:"gridArea"});b$(x$,_$,S$,Vve,Bve,Uve,Gve,qve,Wve,Hve,Jve,Kve);function _m(e,t){return t==="grey"?t:e}const Yve=un({prop:"color",themeKey:"palette",transform:_m}),Zve=un({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_m}),Xve=un({prop:"backgroundColor",themeKey:"palette",transform:_m});b$(Yve,Zve,Xve);function Ko(e){return e<=1&&e!==0?`${e*100}%`:e}const Qve=un({prop:"width",transform:Ko}),WR=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=i=>{var n,o,c,f,g;const r=((c=(o=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:o.values)==null?void 0:c[i])||m$[i];return r?((g=(f=e.theme)==null?void 0:f.breakpoints)==null?void 0:g.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ko(i)}};return Io(e,e.maxWidth,t)}return null};WR.filterProps=["maxWidth"];const ebe=un({prop:"minWidth",transform:Ko}),tbe=un({prop:"height",transform:Ko}),ibe=un({prop:"maxHeight",transform:Ko}),rbe=un({prop:"minHeight",transform:Ko});un({prop:"size",cssProperty:"width",transform:Ko});un({prop:"size",cssProperty:"height",transform:Ko});const nbe=un({prop:"boxSizing"});b$(Qve,WR,ebe,tbe,ibe,rbe,nbe);const R3={border:{themeKey:"borders",transform:Oa},borderTop:{themeKey:"borders",transform:Oa},borderRight:{themeKey:"borders",transform:Oa},borderBottom:{themeKey:"borders",transform:Oa},borderLeft:{themeKey:"borders",transform:Oa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Oa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w$},color:{themeKey:"palette",transform:_m},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_m},backgroundColor:{themeKey:"palette",transform:_m},p:{style:Yr},pt:{style:Yr},pr:{style:Yr},pb:{style:Yr},pl:{style:Yr},px:{style:Yr},py:{style:Yr},padding:{style:Yr},paddingTop:{style:Yr},paddingRight:{style:Yr},paddingBottom:{style:Yr},paddingLeft:{style:Yr},paddingX:{style:Yr},paddingY:{style:Yr},paddingInline:{style:Yr},paddingInlineStart:{style:Yr},paddingInlineEnd:{style:Yr},paddingBlock:{style:Yr},paddingBlockStart:{style:Yr},paddingBlockEnd:{style:Yr},m:{style:Kr},mt:{style:Kr},mr:{style:Kr},mb:{style:Kr},ml:{style:Kr},mx:{style:Kr},my:{style:Kr},margin:{style:Kr},marginTop:{style:Kr},marginRight:{style:Kr},marginBottom:{style:Kr},marginLeft:{style:Kr},marginX:{style:Kr},marginY:{style:Kr},marginInline:{style:Kr},marginInlineStart:{style:Kr},marginInlineEnd:{style:Kr},marginBlock:{style:Kr},marginBlockStart:{style:Kr},marginBlockEnd:{style:Kr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x$},rowGap:{style:S$},columnGap:{style:_$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ko},maxWidth:{style:WR},minWidth:{transform:Ko},height:{transform:Ko},maxHeight:{transform:Ko},minHeight:{transform:Ko},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function sbe(...e){const t=e.reduce((r,n)=>r.concat(Object.keys(n)),[]),i=new Set(t);return e.every(r=>i.size===Object.keys(r).length)}function obe(e,t){return typeof e=="function"?e(t):e}function abe(){function e(i,r,n,o){const c={[i]:r,theme:n},f=o[i];if(!f)return{[i]:r};const{cssProperty:g=i,themeKey:v,transform:_,style:M}=f;if(r==null)return null;if(v==="typography"&&r==="inherit")return{[i]:r};const T=g$(n,v)||{};return M?M(c):Io(c,r,j=>{let R=W9(T,_,j);return j===R&&typeof j=="string"&&(R=W9(T,_,`${i}${j==="default"?"":tt(j)}`,j)),g===!1?R:{[g]:R}})}function t(i){const{sx:r,theme:n={}}=i||{};if(!r)return null;const o=n.unstable_sxConfig??R3;function c(f){let g=f;if(typeof f=="function")g=f(n);else if(typeof f!="object")return f;if(!g)return null;const v=pee(n.breakpoints),_=Object.keys(v);let M=v;return Object.keys(g).forEach(T=>{const E=obe(g[T],n);if(E!=null)if(typeof E=="object")if(o[T])M=E2(M,e(T,E,n,o));else{const j=Io({theme:n},E,R=>({[T]:R}));sbe(j,E)?M[T]=t({sx:E,theme:n}):M=E2(M,j)}else M=E2(M,e(T,E,n,o))}),yve(n,fee(_,M))}return Array.isArray(r)?r.map(c):c(r)}return t}const p1=abe();p1.filterProps=["sx"];function lbe(e,t){var r;const i=this;if(i.vars){if(!((r=i.colorSchemes)!=null&&r[e])||typeof i.getColorSchemeSelector!="function")return{};let n=i.getColorSchemeSelector(e);return(n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t}}return i.palette.mode===e?t:{}}function $$(e={},...t){const{breakpoints:i={},palette:r={},spacing:n,shape:o={},...c}=e,f=fve(i),g=mee(n);let v=Qs({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:g,shape:{...bve,...o}},c);return v=vve(v),v.applyStyles=lbe,v=t.reduce((_,M)=>Qs(_,M),v),v.unstable_sxConfig={...R3,...c==null?void 0:c.unstable_sxConfig},v.unstable_sx=function(M){return p1({sx:M,theme:this})},v}function ube(e){return Object.keys(e).length===0}function gee(e=null){const t=K.useContext(y$);return!t||ube(t)?e:t}const cbe=$$();function M$(e=cbe){return gee(e)}function hbe({styles:e,themeId:t,defaultTheme:i={}}){const r=M$(i),n=typeof e=="function"?e(t&&r[t]||r):e;return P.jsx(cee,{styles:n})}const dbe=e=>{var r;const t={systemProps:{},otherProps:{}},i=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??R3;return Object.keys(e).forEach(n=>{i[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function T$(e){const{sx:t,...i}=e,{systemProps:r,otherProps:n}=dbe(i);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...c)=>{const f=t(...c);return Bu(f)?{...r,...f}:r}:o={...r,...t},{...n,sx:o}}const qV=e=>e,pbe=()=>{let e=qV;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qV}}},HR=pbe();function vee(e){var t,i,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(i=vee(e[t]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}function Et(){for(var e,t,i=0,r="",n=arguments.length;i<n;i++)(e=arguments[i])&&(t=vee(e))&&(r&&(r+=" "),r+=t);return r}function fbe(e={}){const{themeId:t,defaultTheme:i,defaultClassName:r="MuiBox-root",generateClassName:n}=e,o=hee("div",{shouldForwardProp:f=>f!=="theme"&&f!=="sx"&&f!=="as"})(p1);return K.forwardRef(function(g,v){const _=M$(i),{className:M,component:T="div",...E}=T$(g);return P.jsx(o,{as:T,ref:v,className:Et(M,n?n(r):r),theme:t&&_[t]||_,...E})})}const ybe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ii(e,t,i="Mui"){const r=ybe[t];return r?`${i}-${r}`:`${HR.generate(e)}-${t}`}function Ei(e,t,i="Mui"){const r={};return t.forEach(n=>{r[n]=Ii(e,n,i)}),r}var nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=Symbol.for("react.element"),KR=Symbol.for("react.portal"),k$=Symbol.for("react.fragment"),C$=Symbol.for("react.strict_mode"),I$=Symbol.for("react.profiler"),E$=Symbol.for("react.provider"),A$=Symbol.for("react.context"),mbe=Symbol.for("react.server_context"),j$=Symbol.for("react.forward_ref"),P$=Symbol.for("react.suspense"),O$=Symbol.for("react.suspense_list"),R$=Symbol.for("react.memo"),L$=Symbol.for("react.lazy"),gbe=Symbol.for("react.offscreen"),bee;bee=Symbol.for("react.module.reference");function cl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JR:switch(e=e.type,e){case k$:case I$:case C$:case P$:case O$:return e;default:switch(e=e&&e.$$typeof,e){case mbe:case A$:case j$:case L$:case R$:case E$:return e;default:return t}}case KR:return t}}}nr.ContextConsumer=A$;nr.ContextProvider=E$;nr.Element=JR;nr.ForwardRef=j$;nr.Fragment=k$;nr.Lazy=L$;nr.Memo=R$;nr.Portal=KR;nr.Profiler=I$;nr.StrictMode=C$;nr.Suspense=P$;nr.SuspenseList=O$;nr.isAsyncMode=function(){return!1};nr.isConcurrentMode=function(){return!1};nr.isContextConsumer=function(e){return cl(e)===A$};nr.isContextProvider=function(e){return cl(e)===E$};nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JR};nr.isForwardRef=function(e){return cl(e)===j$};nr.isFragment=function(e){return cl(e)===k$};nr.isLazy=function(e){return cl(e)===L$};nr.isMemo=function(e){return cl(e)===R$};nr.isPortal=function(e){return cl(e)===KR};nr.isProfiler=function(e){return cl(e)===I$};nr.isStrictMode=function(e){return cl(e)===C$};nr.isSuspense=function(e){return cl(e)===P$};nr.isSuspenseList=function(e){return cl(e)===O$};nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===k$||e===I$||e===C$||e===P$||e===O$||e===gbe||typeof e=="object"&&e!==null&&(e.$$typeof===L$||e.$$typeof===R$||e.$$typeof===E$||e.$$typeof===A$||e.$$typeof===j$||e.$$typeof===bee||e.getModuleId!==void 0)};nr.typeOf=cl;const vbe=$$();function zM(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function sI(e,t,i){return wbe(t)?i:t[e]||t}const e_=Symbol("mui.processed_props");function t_(e,t,i){if(e_ in e)return e[e_];const r={...e,theme:sI(t,e.theme,i)};return e[e_]=r,r[e_]=r,r}function bbe(e){return e?(t,i)=>i[e]:null}function W5(e,t){var r;const i=typeof e=="function"?e(t):e;if(Array.isArray(i))return i.flatMap(n=>W5(n,t));if(Array.isArray(i==null?void 0:i.variants)){const{variants:n,...o}=i;let c=o,f;e:for(let g=0;g<n.length;g+=1){const v=n[g];if(typeof v.props=="function"){if(f??(f={...t,...t.ownerState,ownerState:t.ownerState}),!v.props(f))continue}else for(const _ in v.props)if(t[_]!==v.props[_]&&((r=t.ownerState)==null?void 0:r[_])!==v.props[_])continue e;Array.isArray(c)||(c=[c]),typeof v.style=="function"?(f??(f={...t,...t.ownerState,ownerState:t.ownerState}),c.push(v.style(f))):c.push(v.style)}return c}return i}function wee(e={}){const{themeId:t,defaultTheme:i=vbe,rootShouldForwardProp:r=zM,slotShouldForwardProp:n=zM}=e,o=f=>p1(t_(f,t,i));return o.__mui_systemSx=!0,(f,g={})=>{dve(f,Z=>Z.filter(Y=>!(Y!=null&&Y.__mui_systemSx)));const{name:v,slot:_,skipVariantsResolver:M,skipSx:T,overridesResolver:E=bbe(_be(_)),...j}=g,R=M!==void 0?M:_&&_!=="Root"&&_!=="root"||!1,N=T||!1;let F,V=zM;_==="Root"||_==="root"?V=r:_?V=n:xbe(f)&&(V=void 0);const z=hee(f,{shouldForwardProp:V,label:F,...j}),G=Z=>typeof Z=="function"&&Z.__emotion_real!==Z||Bu(Z)?Y=>W5(Z,t_(Y,t,i)):Z,H=(Z,...Y)=>{let re=G(Z);const q=Y?Y.map(G):[];v&&E&&q.push(le=>{const ue=sI(t,le.theme,i);if(!ue.components||!ue.components[v]||!ue.components[v].styleOverrides)return null;const ae=ue.components[v].styleOverrides,pe={},ge=t_(le,t,i);for(const ve in ae)pe[ve]=W5(ae[ve],ge);return E(le,pe)}),v&&!R&&q.push(le=>{var pe,ge;const ue=sI(t,le.theme,i),ae=(ge=(pe=ue==null?void 0:ue.components)==null?void 0:pe[v])==null?void 0:ge.variants;return ae?W5({variants:ae},t_(le,t,i)):null}),N||q.push(o);const W=q.length-Y.length;if(Array.isArray(Z)&&W>0){const le=new Array(W).fill("");re=[...Z,...le],re.raw=[...Z.raw,...le]}const ee=z(re,...q);return f.muiName&&(ee.muiName=f.muiName),ee};return z.withConfig&&(H.withConfig=z.withConfig),H}}function wbe(e){for(const t in e)return!1;return!0}function xbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function _be(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const Sbe=wee();function Iw(e,t){const i={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=r;if(n==="components"||n==="slots")i[n]={...e[n],...i[n]};else if(n==="componentsProps"||n==="slotProps"){const o=e[n],c=t[n];if(!c)i[n]=o||{};else if(!o)i[n]=c;else{i[n]={...c};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const g=f;i[n][g]=Iw(o[g],c[g])}}}else i[n]===void 0&&(i[n]=e[n])}return i}function $be(e){const{theme:t,name:i,props:r}=e;return!t||!t.components||!t.components[i]||!t.components[i].defaultProps?r:Iw(t.components[i].defaultProps,r)}function xee({props:e,name:t,defaultTheme:i,themeId:r}){let n=M$(i);return r&&(n=n[r]||n),$be({theme:n,name:t,props:e})}const Ew=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Mbe(e,t=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,i))}function YR(e,t=0,i=1){return Mbe(e,t,i)}function Tbe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let i=e.match(t);return i&&i[0].length===1&&(i=i.map(r=>r+r)),i?`rgb${i.length===4?"a":""}(${i.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function vp(e){if(e.type)return e;if(e.charAt(0)==="#")return vp(Tbe(e));const t=e.indexOf("("),i=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw new Error(z0(9,e));let r=e.substring(t+1,e.length-1),n;if(i==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(z0(10,n))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:i,values:r,colorSpace:n}}const kbe=e=>{const t=vp(e);return t.values.slice(0,3).map((i,r)=>t.type.includes("hsl")&&r!==0?`${i}%`:i).join(" ")},pb=(e,t)=>{try{return kbe(e)}catch{return e}};function N$(e){const{type:t,colorSpace:i}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((n,o)=>o<3?parseInt(n,10):n):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${i} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function _ee(e){e=vp(e);const{values:t}=e,i=t[0],r=t[1]/100,n=t[2]/100,o=r*Math.min(n,1-n),c=(v,_=(v+i/30)%12)=>n-o*Math.max(Math.min(_-3,9-_,1),-1);let f="rgb";const g=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return e.type==="hsla"&&(f+="a",g.push(t[3])),N$({type:f,values:g})}function oI(e){e=vp(e);let t=e.type==="hsl"||e.type==="hsla"?vp(_ee(e)).values:e.values;return t=t.map(i=>(e.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Cbe(e,t){const i=oI(e),r=oI(t);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)}function Yi(e,t){return e=vp(e),t=YR(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,N$(e)}function i_(e,t,i){try{return Yi(e,t)}catch{return e}}function L3(e,t){if(e=vp(e),t=YR(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let i=0;i<3;i+=1)e.values[i]*=1-t;return N$(e)}function or(e,t,i){try{return L3(e,t)}catch{return e}}function N3(e,t){if(e=vp(e),t=YR(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;else if(e.type.includes("color"))for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return N$(e)}function ar(e,t,i){try{return N3(e,t)}catch{return e}}function Ibe(e,t=.15){return oI(e)>.5?L3(e,t):N3(e,t)}function r_(e,t,i){try{return Ibe(e,t)}catch{return e}}function aI(...e){return e.reduce((t,i)=>i==null?t:function(...n){t.apply(this,n),i.apply(this,n)},()=>{})}function See(e,t=166){let i;function r(...n){const o=()=>{e.apply(this,n)};clearTimeout(i),i=setTimeout(o,t)}return r.clear=()=>{clearTimeout(i)},r}function Ebe(e,t){return()=>null}function $ee(e,t){var i,r,n;return K.isValidElement(e)&&t.indexOf(e.type.muiName??((n=(r=(i=e.type)==null?void 0:i._payload)==null?void 0:r.value)==null?void 0:n.muiName))!==-1}function dh(e){return e&&e.ownerDocument||document}function Cg(e){return dh(e).defaultView||window}function Abe(e,t){return()=>null}function H9(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let WV=0;function jbe(e){const[t,i]=K.useState(e),r=e||t;return K.useEffect(()=>{t==null&&(WV+=1,i(`mui-${WV}`))},[t]),r}const HV=uC.useId;function Pbe(e){if(HV!==void 0){const t=HV();return e??t}return jbe(e)}function Obe(e,t,i,r,n){return null}function ZR({controlled:e,default:t,name:i,state:r="value"}){const{current:n}=K.useRef(e!==void 0),[o,c]=K.useState(t),f=n?e:o,g=K.useCallback(v=>{n||c(v)},[]);return[f,g]}function l0(e){const t=K.useRef(e);return Ew(()=>{t.current=e}),K.useRef((...i)=>(0,t.current)(...i)).current}function Eo(...e){return K.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(i=>{H9(i,t)})},e)}const JV={};function Mee(e,t){const i=K.useRef(JV);return i.current===JV&&(i.current=e(t)),i}const Rbe=[];function Lbe(e){K.useEffect(e,Rbe)}class XR{constructor(){dv(this,"currentId",null);dv(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});dv(this,"disposeEffect",()=>this.clear)}static create(){return new XR}start(t,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},t)}}function Tee(){const e=Mee(XR.create).current;return Lbe(e.disposeEffect),e}function KV(e){try{return e.matches(":focus-visible")}catch{}return!1}function Nbe(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ri(e,t,i=void 0){const r={};for(const n in e){const o=e[n];let c="",f=!0;for(let g=0;g<o.length;g+=1){const v=o[g];v&&(c+=(f===!0?"":" ")+t(v),f=!1,i&&i[v]&&(c+=" "+i[v]))}r[n]=c}return r}function Fbe(e){return typeof e=="string"}function Dbe(e,t,i){return e===void 0||Fbe(e)?t:{...t,ownerState:{...t.ownerState,...i}}}function kee(e,t=[]){if(e===void 0)return{};const i={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{i[r]=e[r]}),i}function YV(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(i=>!(i.match(/^on[A-Z]/)&&typeof e[i]=="function")).forEach(i=>{t[i]=e[i]}),t}function zbe(e){const{getSlotProps:t,additionalProps:i,externalSlotProps:r,externalForwardedProps:n,className:o}=e;if(!t){const E=Et(i==null?void 0:i.className,o,n==null?void 0:n.className,r==null?void 0:r.className),j={...i==null?void 0:i.style,...n==null?void 0:n.style,...r==null?void 0:r.style},R={...i,...n,...r};return E.length>0&&(R.className=E),Object.keys(j).length>0&&(R.style=j),{props:R,internalRef:void 0}}const c=kee({...n,...r}),f=YV(r),g=YV(n),v=t(c),_=Et(v==null?void 0:v.className,i==null?void 0:i.className,o,n==null?void 0:n.className,r==null?void 0:r.className),M={...v==null?void 0:v.style,...i==null?void 0:i.style,...n==null?void 0:n.style,...r==null?void 0:r.style},T={...v,...i,...g,...f};return _.length>0&&(T.className=_),Object.keys(M).length>0&&(T.style=M),{props:T,internalRef:v.ref}}function Vbe(e,t,i){return typeof e=="function"?e(t,i):e}function F$(e){return!e||!K.isValidElement(e)?null:e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}const Cee=K.createContext(null);function QR(){return K.useContext(Cee)}const Bbe=typeof Symbol=="function"&&Symbol.for,Ube=Bbe?Symbol.for("mui.nested"):"__THEME_NESTED__";function Gbe(e,t){return typeof t=="function"?t(e):{...e,...t}}function qbe(e){const{children:t,theme:i}=e,r=QR(),n=K.useMemo(()=>{const o=r===null?{...i}:Gbe(r,i);return o!=null&&(o[Ube]=r!==null),o},[i,r]);return P.jsx(Cee.Provider,{value:n,children:t})}const Iee=K.createContext();function Wbe({value:e,...t}){return P.jsx(Iee.Provider,{value:e??!0,...t})}const Eee=()=>K.useContext(Iee)??!1,Aee=K.createContext(void 0);function Hbe({value:e,children:t}){return P.jsx(Aee.Provider,{value:e,children:t})}function Jbe(e){const{theme:t,name:i,props:r}=e;if(!t||!t.components||!t.components[i])return r;const n=t.components[i];return n.defaultProps?Iw(n.defaultProps,r):!n.styleOverrides&&!n.variants?Iw(n,r):r}function Kbe({props:e,name:t}){const i=K.useContext(Aee);return Jbe({props:e,name:t,theme:{components:i}})}const ZV={};function XV(e,t,i,r=!1){return K.useMemo(()=>{const n=e&&t[e]||t;if(typeof i=="function"){const o=i(n),c=e?{...t,[e]:o}:o;return r?()=>c:c}return e?{...t,[e]:i}:{...t,...i}},[e,t,i,r])}function jee(e){const{children:t,theme:i,themeId:r}=e,n=gee(ZV),o=QR()||ZV,c=XV(r,n,i),f=XV(r,o,i,!0),g=c.direction==="rtl";return P.jsx(qbe,{theme:f,children:P.jsx(y$.Provider,{value:c,children:P.jsx(Wbe,{value:g,children:P.jsx(Hbe,{value:c==null?void 0:c.components,children:t})})})})}const eL="mode",tL="color-scheme",Ybe="data-color-scheme";function Zbe(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=eL,colorSchemeStorageKey:n=tL,attribute:o=Ybe,colorSchemeNode:c="document.documentElement",nonce:f}=e||{};let g="",v=o;if(o==="class"&&(v=".%s"),o==="data"&&(v="[data-%s]"),v.startsWith(".")){const M=v.substring(1);g+=`${c}.classList.remove('${M}'.replace('%s', light), '${M}'.replace('%s', dark));
      ${c}.classList.add('${M}'.replace('%s', colorScheme));`}const _=v.match(/\[([^\]]+)\]/);if(_){const[M,T]=_[1].split("=");T||(g+=`${c}.removeAttribute('${M}'.replace('%s', light));
      ${c}.removeAttribute('${M}'.replace('%s', dark));`),g+=`
      ${c}.setAttribute('${M}'.replace('%s', colorScheme), ${T?`${T}.replace('%s', colorScheme)`:'""'});`}else g+=`${c}.setAttribute('${v}', colorScheme);`;return P.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || 'system';
  const dark = localStorage.getItem('${n}-dark') || '${i}';
  const light = localStorage.getItem('${n}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${g}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function QV(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Pee(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function Xbe(e){return Pee(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function VM(e,t){if(typeof window>"u")return;let i;try{i=localStorage.getItem(e)||void 0,i||localStorage.setItem(e,t)}catch{}return i||t}function Qbe(e){const{defaultMode:t="light",defaultLightColorScheme:i,defaultDarkColorScheme:r,supportedColorSchemes:n=[],modeStorageKey:o=eL,colorSchemeStorageKey:c=tL,storageWindow:f=typeof window>"u"?void 0:window}=e,g=n.join(","),v=n.length>1,[_,M]=K.useState(()=>{const z=VM(o,t),G=VM(`${c}-light`,i),H=VM(`${c}-dark`,r);return{mode:z,systemMode:QV(z),lightColorScheme:G,darkColorScheme:H}}),[,T]=K.useState(!1),E=K.useRef(!1);K.useEffect(()=>{v&&T(!0),E.current=!0},[v]);const j=Xbe(_),R=K.useCallback(z=>{M(G=>{if(z===G.mode)return G;const H=z??t;try{localStorage.setItem(o,H)}catch{}return{...G,mode:H,systemMode:QV(H)}})},[o,t]),N=K.useCallback(z=>{z?typeof z=="string"?z&&!g.includes(z)?console.error(`\`${z}\` does not exist in \`theme.colorSchemes\`.`):M(G=>{const H={...G};return Pee(G,Z=>{try{localStorage.setItem(`${c}-${Z}`,z)}catch{}Z==="light"&&(H.lightColorScheme=z),Z==="dark"&&(H.darkColorScheme=z)}),H}):M(G=>{const H={...G},Z=z.light===null?i:z.light,Y=z.dark===null?r:z.dark;if(Z)if(!g.includes(Z))console.error(`\`${Z}\` does not exist in \`theme.colorSchemes\`.`);else{H.lightColorScheme=Z;try{localStorage.setItem(`${c}-light`,Z)}catch{}}if(Y)if(!g.includes(Y))console.error(`\`${Y}\` does not exist in \`theme.colorSchemes\`.`);else{H.darkColorScheme=Y;try{localStorage.setItem(`${c}-dark`,Y)}catch{}}return H}):M(G=>{try{localStorage.setItem(`${c}-light`,i),localStorage.setItem(`${c}-dark`,r)}catch{}return{...G,lightColorScheme:i,darkColorScheme:r}})},[g,c,i,r]),F=K.useCallback(z=>{_.mode==="system"&&M(G=>{const H=z!=null&&z.matches?"dark":"light";return G.systemMode===H?G:{...G,systemMode:H}})},[_.mode]),V=K.useRef(F);return V.current=F,K.useEffect(()=>{if(typeof window.matchMedia!="function"||!v)return;const z=(...H)=>V.current(...H),G=window.matchMedia("(prefers-color-scheme: dark)");return G.addListener(z),z(G),()=>{G.removeListener(z)}},[v]),K.useEffect(()=>{if(f&&v){const z=G=>{const H=G.newValue;typeof G.key=="string"&&G.key.startsWith(c)&&(!H||g.match(H))&&(G.key.endsWith("light")&&N({light:H}),G.key.endsWith("dark")&&N({dark:H})),G.key===o&&(!H||["light","dark","system"].includes(H))&&R(H||t)};return f.addEventListener("storage",z),()=>{f.removeEventListener("storage",z)}}},[N,R,o,c,g,t,f,v]),{..._,mode:E.current||!v?_.mode:void 0,systemMode:E.current||!v?_.systemMode:void 0,colorScheme:E.current||!v?j:void 0,setMode:R,setColorScheme:N}}const e2e="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function t2e(e){const{themeId:t,theme:i={},modeStorageKey:r=eL,colorSchemeStorageKey:n=tL,disableTransitionOnChange:o=!1,defaultColorScheme:c,resolveTheme:f}=e,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=K.createContext(void 0),_=()=>K.useContext(v)||g;function M(R){var ft,Nt,ht,ui,ei;const{children:N,theme:F,modeStorageKey:V=r,colorSchemeStorageKey:z=n,disableTransitionOnChange:G=o,storageWindow:H=typeof window>"u"?void 0:window,documentNode:Z=typeof document>"u"?void 0:document,colorSchemeNode:Y=typeof document>"u"?void 0:document.documentElement,disableNestedContext:re=!1,disableStyleSheetGeneration:q=!1}=R,W=K.useRef(!1),ee=QR(),le=K.useContext(v),ue=!!le&&!re,ae=K.useMemo(()=>F||(typeof i=="function"?i():i),[F]),pe=ae[t],{colorSchemes:ge={},components:ve={},cssVarPrefix:ce,...he}=pe||ae,Ie=Object.keys(ge).filter($t=>!!ge[$t]).join(","),Be=K.useMemo(()=>Ie.split(","),[Ie]),Ke=typeof c=="string"?c:c.light,wt=typeof c=="string"?c:c.dark,He=ge[Ke]&&ge[wt]?"system":((Nt=(ft=ge[he.defaultColorScheme])==null?void 0:ft.palette)==null?void 0:Nt.mode)||((ht=he.palette)==null?void 0:ht.mode),{mode:yt,setMode:Fe,systemMode:it,lightColorScheme:Ge,darkColorScheme:Te,colorScheme:Ve,setColorScheme:De}=Qbe({supportedColorSchemes:Be,defaultLightColorScheme:Ke,defaultDarkColorScheme:wt,modeStorageKey:V,colorSchemeStorageKey:z,defaultMode:He,storageWindow:H});let me=yt,rt=Ve;ue&&(me=le.mode,rt=le.colorScheme);const lt=rt||he.defaultColorScheme,zt=((ui=he.generateThemeVars)==null?void 0:ui.call(he))||he.vars,xt={...he,components:ve,colorSchemes:ge,cssVarPrefix:ce,vars:zt};if(typeof xt.generateSpacing=="function"&&(xt.spacing=xt.generateSpacing()),lt){const $t=ge[lt];$t&&typeof $t=="object"&&Object.keys($t).forEach(_t=>{$t[_t]&&typeof $t[_t]=="object"?xt[_t]={...xt[_t],...$t[_t]}:xt[_t]=$t[_t]})}const bt=he.colorSchemeSelector;K.useEffect(()=>{if(rt&&Y&&bt&&bt!=="media"){const $t=bt;let _t=bt;if($t==="class"&&(_t=".%s"),$t==="data"&&(_t="[data-%s]"),$t!=null&&$t.startsWith("data-")&&!$t.includes("%s")&&(_t=`[${$t}="%s"]`),_t.startsWith("."))Y.classList.remove(...Be.map(qt=>_t.substring(1).replace("%s",qt))),Y.classList.add(_t.substring(1).replace("%s",rt));else{const qt=_t.replace("%s",rt).match(/\[([^\]]+)\]/);if(qt){const[Ti,Oe]=qt[1].split("=");Oe||Be.forEach(Yt=>{Y.removeAttribute(Ti.replace(rt,Yt))}),Y.setAttribute(Ti,Oe?Oe.replace(/"|'/g,""):"")}else Y.setAttribute(_t,rt)}}},[rt,bt,Y,Be]),K.useEffect(()=>{let $t;if(G&&W.current&&Z){const _t=Z.createElement("style");_t.appendChild(Z.createTextNode(e2e)),Z.head.appendChild(_t),window.getComputedStyle(Z.body),$t=setTimeout(()=>{Z.head.removeChild(_t)},1)}return()=>{clearTimeout($t)}},[rt,G,Z]),K.useEffect(()=>(W.current=!0,()=>{W.current=!1}),[]);const te=K.useMemo(()=>({allColorSchemes:Be,colorScheme:rt,darkColorScheme:Te,lightColorScheme:Ge,mode:me,setColorScheme:De,setMode:Fe,systemMode:it}),[Be,rt,Te,Ge,me,De,Fe,it]);let St=!0;(q||he.cssVariables===!1||ue&&(ee==null?void 0:ee.cssVarPrefix)===ce)&&(St=!1);const fi=P.jsxs(K.Fragment,{children:[St&&P.jsx(K.Fragment,{children:(((ei=xt.generateStyleSheets)==null?void 0:ei.call(xt))||[]).map(($t,_t)=>P.jsx(cee,{styles:$t},_t))}),P.jsx(jee,{themeId:pe?t:void 0,theme:f?f(xt):xt,children:N})]});return ue?fi:P.jsx(v.Provider,{value:te,children:fi})}const T=typeof c=="string"?c:c.light,E=typeof c=="string"?c:c.dark;return{CssVarsProvider:M,useColorScheme:_,getInitColorSchemeScript:R=>Zbe({colorSchemeStorageKey:n,defaultLightColorScheme:T,defaultDarkColorScheme:E,modeStorageKey:r,...R})}}function i2e(e=""){function t(...r){if(!r.length)return"";const n=r[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${t(...r.slice(1))})`:`, ${n}`}return(r,...n)=>`var(--${e?`${e}-`:""}${r}${t(...n)})`}const eB=(e,t,i,r=[])=>{let n=e;t.forEach((o,c)=>{c===t.length-1?Array.isArray(n)?n[Number(o)]=i:n&&typeof n=="object"&&(n[o]=i):n&&typeof n=="object"&&(n[o]||(n[o]=r.includes(o)?[]:{}),n=n[o])})},r2e=(e,t,i)=>{function r(n,o=[],c=[]){Object.entries(n).forEach(([f,g])=>{(!i||i&&!i([...o,f]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?r(g,[...o,f],Array.isArray(g)?[...c,f]:c):t([...o,f],g,c))})}r(e)},n2e=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:`${t}px`:t;function BM(e,t){const{prefix:i,shouldSkipGeneratingVar:r}=t||{},n={},o={},c={};return r2e(e,(f,g,v)=>{if((typeof g=="string"||typeof g=="number")&&(!r||!r(f,g))){const _=`--${i?`${i}-`:""}${f.join("-")}`,M=n2e(f,g);Object.assign(n,{[_]:M}),eB(o,f,`var(${_})`,v),eB(c,f,`var(${_}, ${M})`,v)}},f=>f[0]==="vars"),{css:n,vars:o,varsWithDefaults:c}}function s2e(e,t={}){const{getSelector:i=N,disableCssColorScheme:r,colorSchemeSelector:n}=t,{colorSchemes:o={},components:c,defaultColorScheme:f="light",...g}=e,{vars:v,css:_,varsWithDefaults:M}=BM(g,t);let T=M;const E={},{[f]:j,...R}=o;if(Object.entries(R||{}).forEach(([z,G])=>{const{vars:H,css:Z,varsWithDefaults:Y}=BM(G,t);T=Qs(T,Y),E[z]={css:Z,vars:H}}),j){const{css:z,vars:G,varsWithDefaults:H}=BM(j,t);T=Qs(T,H),E[f]={css:z,vars:G}}function N(z,G){var Z,Y;let H=n;if(n==="class"&&(H=".%s"),n==="data"&&(H="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(H=`[${n}="%s"]`),z){if(H==="media")return e.defaultColorScheme===z?":root":{[`@media (prefers-color-scheme: ${((Y=(Z=o[z])==null?void 0:Z.palette)==null?void 0:Y.mode)||z})`]:{":root":G}};if(H)return e.defaultColorScheme===z?`:root, ${H.replace("%s",String(z))}`:H.replace("%s",String(z))}return":root"}return{vars:T,generateThemeVars:()=>{let z={...v};return Object.entries(E).forEach(([,{vars:G}])=>{z=Qs(z,G)}),z},generateStyleSheets:()=>{var re,q;const z=[],G=e.defaultColorScheme||"light";function H(W,ee){Object.keys(ee).length&&z.push(typeof W=="string"?{[W]:{...ee}}:W)}H(i(void 0,{..._}),_);const{[G]:Z,...Y}=E;if(Z){const{css:W}=Z,ee=(q=(re=o[G])==null?void 0:re.palette)==null?void 0:q.mode,le=!r&&ee?{colorScheme:ee,...W}:{...W};H(i(G,{...le}),le)}return Object.entries(Y).forEach(([W,{css:ee}])=>{var ae,pe;const le=(pe=(ae=o[W])==null?void 0:ae.palette)==null?void 0:pe.mode,ue=!r&&le?{colorScheme:le,...ee}:{...ee};H(i(W,{...ue}),ue)}),z}}}function o2e(e){return function(i){return e==="media"?`@media (prefers-color-scheme: ${i})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${i}"] &`:e==="class"?`.${i} &`:e==="data"?`[data-${i}] &`:`${e.replace("%s",i)} &`:"&"}}const a2e=$$(),l2e=Sbe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function u2e(e){return xee({props:e,name:"MuiStack",defaultTheme:a2e})}function c2e(e,t){const i=K.Children.toArray(e).filter(Boolean);return i.reduce((r,n,o)=>(r.push(n),o<i.length-1&&r.push(K.cloneElement(t,{key:`separator-${o}`})),r),[])}const h2e=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],d2e=({ownerState:e,theme:t})=>{let i={display:"flex",flexDirection:"column",...Io({theme:t},S0({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=v$(t),n=Object.keys(t.breakpoints.values).reduce((g,v)=>((typeof e.spacing=="object"&&e.spacing[v]!=null||typeof e.direction=="object"&&e.direction[v]!=null)&&(g[v]=!0),g),{}),o=S0({values:e.direction,base:n}),c=S0({values:e.spacing,base:n});typeof o=="object"&&Object.keys(o).forEach((g,v,_)=>{if(!o[g]){const T=v>0?o[_[v-1]]:"column";o[g]=T}}),i=Qs(i,Io({theme:t},c,(g,v)=>e.useFlexGap?{gap:V0(r,g)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${h2e(v?o[v]:e.direction)}`]:V0(r,g)}}))}return i=xve(t.breakpoints,i),i};function p2e(e={}){const{createStyledComponent:t=l2e,useThemeProps:i=u2e,componentName:r="MuiStack"}=e,n=()=>Ri({root:["root"]},g=>Ii(r,g),{}),o=t(d2e);return K.forwardRef(function(g,v){const _=i(g),M=T$(_),{component:T="div",direction:E="column",spacing:j=0,divider:R,children:N,className:F,useFlexGap:V=!1,...z}=M,G={direction:E,spacing:j,useFlexGap:V},H=n();return P.jsx(o,{as:T,ownerState:G,ref:v,className:Et(H.root,F),...z,children:R?c2e(N,R):N})})}const Aw={black:"#000",white:"#fff"},f2e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},P1={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},O1={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},R1={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},L1={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},N1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Aw.white,default:Aw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},UM={text:{primary:Aw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Aw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function iB(e,t,i,r){const n=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=N3(e.main,n):t==="dark"&&(e.dark=L3(e.main,o)))}function y2e(e="light"){return e==="dark"?{main:R1[200],light:R1[50],dark:R1[400]}:{main:R1[700],light:R1[400],dark:R1[800]}}function m2e(e="light"){return e==="dark"?{main:P1[200],light:P1[50],dark:P1[400]}:{main:P1[500],light:P1[300],dark:P1[700]}}function g2e(e="light"){return e==="dark"?{main:O1[500],light:O1[300],dark:O1[700]}:{main:O1[700],light:O1[400],dark:O1[800]}}function v2e(e="light"){return e==="dark"?{main:L1[400],light:L1[300],dark:L1[700]}:{main:L1[700],light:L1[500],dark:L1[900]}}function b2e(e="light"){return e==="dark"?{main:N1[400],light:N1[300],dark:N1[700]}:{main:N1[800],light:N1[500],dark:N1[900]}}function w2e(e="light"){return e==="dark"?{main:_v[400],light:_v[300],dark:_v[700]}:{main:"#ed6c02",light:_v[500],dark:_v[900]}}function iL(e){const{mode:t="light",contrastThreshold:i=3,tonalOffset:r=.2,...n}=e,o=e.primary||y2e(t),c=e.secondary||m2e(t),f=e.error||g2e(t),g=e.info||v2e(t),v=e.success||b2e(t),_=e.warning||w2e(t);function M(R){return Cbe(R,UM.text.primary)>=i?UM.text.primary:tB.text.primary}const T=({color:R,name:N,mainShade:F=500,lightShade:V=300,darkShade:z=700})=>{if(R={...R},!R.main&&R[F]&&(R.main=R[F]),!R.hasOwnProperty("main"))throw new Error(z0(11,N?` (${N})`:"",F));if(typeof R.main!="string")throw new Error(z0(12,N?` (${N})`:"",JSON.stringify(R.main)));return iB(R,"light",V,r),iB(R,"dark",z,r),R.contrastText||(R.contrastText=M(R.main)),R},E={dark:UM,light:tB};return Qs({common:{...Aw},mode:t,primary:T({color:o,name:"primary"}),secondary:T({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:f,name:"error"}),warning:T({color:_,name:"warning"}),info:T({color:g,name:"info"}),success:T({color:v,name:"success"}),grey:f2e,contrastThreshold:i,getContrastText:M,augmentColor:T,tonalOffset:r,...E[t]},n)}function x2e(e){const t={};return Object.entries(e).forEach(r=>{const[n,o]=r;typeof o=="object"&&(t[n]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function _2e(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function S2e(e){return Math.round(e*1e5)/1e5}const rB={textTransform:"uppercase"},nB='"Roboto", "Helvetica", "Arial", sans-serif';function Oee(e,t){const{fontFamily:i=nB,fontSize:r=14,fontWeightLight:n=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:f=700,htmlFontSize:g=16,allVariants:v,pxToRem:_,...M}=typeof t=="function"?t(e):t,T=r/14,E=_||(N=>`${N/g*T}rem`),j=(N,F,V,z,G)=>({fontFamily:i,fontWeight:N,fontSize:E(F),lineHeight:V,...i===nB?{letterSpacing:`${S2e(z/F)}em`}:{},...G,...v}),R={h1:j(n,96,1.167,-1.5),h2:j(n,60,1.2,-.5),h3:j(o,48,1.167,0),h4:j(o,34,1.235,.25),h5:j(o,24,1.334,0),h6:j(c,20,1.6,.15),subtitle1:j(o,16,1.75,.15),subtitle2:j(c,14,1.57,.1),body1:j(o,16,1.5,.15),body2:j(o,14,1.43,.15),button:j(c,14,1.75,.4,rB),caption:j(o,12,1.66,.4),overline:j(o,12,2.66,1,rB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Qs({htmlFontSize:g,pxToRem:E,fontFamily:i,fontSize:r,fontWeightLight:n,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:f,...R},M,{clone:!1})}const $2e=.2,M2e=.14,T2e=.12;function Er(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${$2e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${M2e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${T2e})`].join(",")}const k2e=["none",Er(0,2,1,-1,0,1,1,0,0,1,3,0),Er(0,3,1,-2,0,2,2,0,0,1,5,0),Er(0,3,3,-2,0,3,4,0,0,1,8,0),Er(0,2,4,-1,0,4,5,0,0,1,10,0),Er(0,3,5,-1,0,5,8,0,0,1,14,0),Er(0,3,5,-1,0,6,10,0,0,1,18,0),Er(0,4,5,-2,0,7,10,1,0,2,16,1),Er(0,5,5,-3,0,8,10,1,0,3,14,2),Er(0,5,6,-3,0,9,12,1,0,3,16,2),Er(0,6,6,-3,0,10,14,1,0,4,18,3),Er(0,6,7,-4,0,11,15,1,0,4,20,3),Er(0,7,8,-4,0,12,17,2,0,5,22,4),Er(0,7,8,-4,0,13,19,2,0,5,24,4),Er(0,7,9,-4,0,14,21,2,0,5,26,4),Er(0,8,9,-5,0,15,22,2,0,6,28,5),Er(0,8,10,-5,0,16,24,2,0,6,30,5),Er(0,8,11,-5,0,17,26,2,0,6,32,5),Er(0,9,11,-5,0,18,28,2,0,7,34,6),Er(0,9,12,-6,0,19,29,2,0,7,36,6),Er(0,10,13,-6,0,20,31,3,0,8,38,7),Er(0,10,13,-6,0,21,33,3,0,8,40,7),Er(0,10,14,-6,0,22,35,3,0,8,42,7),Er(0,11,14,-7,0,23,36,3,0,9,44,8),Er(0,11,15,-7,0,24,38,3,0,9,46,8)],C2e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ree={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function sB(e){return`${Math.round(e)}ms`}function I2e(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function E2e(e){const t={...C2e,...e.easing},i={...Ree,...e.duration};return{getAutoHeightDuration:I2e,create:(n=["all"],o={})=>{const{duration:c=i.standard,easing:f=t.easeInOut,delay:g=0,...v}=o;return(Array.isArray(n)?n:[n]).map(_=>`${_} ${typeof c=="string"?c:sB(c)} ${f} ${typeof g=="string"?g:sB(g)}`).join(",")},...e,easing:t,duration:i}}const A2e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function lI(e={},...t){const{breakpoints:i,mixins:r={},spacing:n,palette:o={},transitions:c={},typography:f={},shape:g,...v}=e;if(e.vars)throw new Error(z0(20));const _=iL(o),M=$$(e);let T=Qs(M,{mixins:_2e(M.breakpoints,r),palette:_,shadows:k2e.slice(),typography:Oee(_,f),transitions:E2e(c),zIndex:{...A2e}});return T=Qs(T,v),T=t.reduce((E,j)=>Qs(E,j),T),T.unstable_sxConfig={...R3,...v==null?void 0:v.unstable_sxConfig},T.unstable_sx=function(j){return p1({sx:j,theme:this})},T}function uI(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const j2e=[...Array(25)].map((e,t)=>{if(t===0)return;const i=uI(t);return`linear-gradient(rgba(255 255 255 / ${i}), rgba(255 255 255 / ${i}))`});function Lee(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Nee(e){return e==="dark"?j2e:[]}function P2e(e){const{palette:t={mode:"light"},opacity:i,overlays:r,...n}=e,o=iL(t);return{palette:o,opacity:{...Lee(o.mode),...i},overlays:r||Nee(o.mode),...n}}function O2e(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const R2e=e=>[...[...Array(24)].map((t,i)=>`--${e?`${e}-`:""}overlays-${i+1}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],L2e=e=>(t,i)=>{const r=e.colorSchemeSelector;let n=r;if(r==="class"&&(n=".%s"),r==="data"&&(n="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(n=`[${r}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return R2e(e.cssVarPrefix).forEach(c=>{o[c]=i[c],delete i[c]}),n==="media"?{":root":i,"@media (prefers-color-scheme: dark)":{":root":o}}:n?{[n.replace("%s",t)]:o,[`:root, ${n.replace("%s",t)}`]:i}:{":root":{...i,...o}}}if(n&&n!=="media")return`:root, ${n.replace("%s",String(t))}`}else if(t){if(n==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":i}};if(n)return n.replace("%s",String(t))}return":root"};function N2e(e){return Bu(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function F2e(e={}){const t={...e};function i(r){const n=Object.entries(r);for(let o=0;o<n.length;o++){const[c,f]=n[o];!N2e(f)||c.startsWith("unstable_")?delete r[c]:Bu(f)&&(r[c]={...f},i(r[c]))}}return i(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function D2e(e,t){t.forEach(i=>{e[i]||(e[i]={})})}function Re(e,t,i){!e[t]&&i&&(e[t]=i)}function fb(e){return!e||!e.startsWith("hsl")?e:_ee(e)}function yc(e,t){`${t}Channel`in e||(e[`${t}Channel`]=pb(fb(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function z2e(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const ou=e=>{try{return e()}catch{}},V2e=(e="mui")=>i2e(e);function GM(e,t,i,r){if(!t)return;t=t===!0?{}:t;const n=r==="dark"?"dark":"light";if(!i){e[r]=P2e({...t,palette:{mode:n,...t==null?void 0:t.palette}});return}const{palette:o,...c}=lI({...i,palette:{mode:n,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...Lee(n),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Nee(n)},c}function B2e(e={},...t){const{colorSchemes:i={light:!0},defaultColorScheme:r,disableCssColorScheme:n=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:c=O2e,colorSchemeSelector:f=i.light&&i.dark?"media":void 0,...g}=e,v=Object.keys(i)[0],_=r||(i.light&&v!=="light"?"light":v),M=V2e(o),{[_]:T,light:E,dark:j,...R}=i,N={...R};let F=T;if((_==="dark"&&!("dark"in i)||_==="light"&&!("light"in i))&&(F=!0),!F)throw new Error(z0(21,_));const V=GM(N,F,g,_);E&&!N.light&&GM(N,E,void 0,"light"),j&&!N.dark&&GM(N,j,void 0,"dark");let z={defaultColorScheme:_,...V,cssVarPrefix:o,colorSchemeSelector:f,getCssVar:M,colorSchemes:N,font:{...x2e(V.typography),...V.font},spacing:z2e(g.spacing)};Object.keys(z.colorSchemes).forEach(re=>{const q=z.colorSchemes[re].palette,W=ee=>{const le=ee.split("-"),ue=le[1],ae=le[2];return M(ee,q[ue][ae])};if(q.mode==="light"&&(Re(q.common,"background","#fff"),Re(q.common,"onBackground","#000")),q.mode==="dark"&&(Re(q.common,"background","#000"),Re(q.common,"onBackground","#fff")),D2e(q,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),q.mode==="light"){Re(q.Alert,"errorColor",or(q.error.light,.6)),Re(q.Alert,"infoColor",or(q.info.light,.6)),Re(q.Alert,"successColor",or(q.success.light,.6)),Re(q.Alert,"warningColor",or(q.warning.light,.6)),Re(q.Alert,"errorFilledBg",W("palette-error-main")),Re(q.Alert,"infoFilledBg",W("palette-info-main")),Re(q.Alert,"successFilledBg",W("palette-success-main")),Re(q.Alert,"warningFilledBg",W("palette-warning-main")),Re(q.Alert,"errorFilledColor",ou(()=>q.getContrastText(q.error.main))),Re(q.Alert,"infoFilledColor",ou(()=>q.getContrastText(q.info.main))),Re(q.Alert,"successFilledColor",ou(()=>q.getContrastText(q.success.main))),Re(q.Alert,"warningFilledColor",ou(()=>q.getContrastText(q.warning.main))),Re(q.Alert,"errorStandardBg",ar(q.error.light,.9)),Re(q.Alert,"infoStandardBg",ar(q.info.light,.9)),Re(q.Alert,"successStandardBg",ar(q.success.light,.9)),Re(q.Alert,"warningStandardBg",ar(q.warning.light,.9)),Re(q.Alert,"errorIconColor",W("palette-error-main")),Re(q.Alert,"infoIconColor",W("palette-info-main")),Re(q.Alert,"successIconColor",W("palette-success-main")),Re(q.Alert,"warningIconColor",W("palette-warning-main")),Re(q.AppBar,"defaultBg",W("palette-grey-100")),Re(q.Avatar,"defaultBg",W("palette-grey-400")),Re(q.Button,"inheritContainedBg",W("palette-grey-300")),Re(q.Button,"inheritContainedHoverBg",W("palette-grey-A100")),Re(q.Chip,"defaultBorder",W("palette-grey-400")),Re(q.Chip,"defaultAvatarColor",W("palette-grey-700")),Re(q.Chip,"defaultIconColor",W("palette-grey-700")),Re(q.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Re(q.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Re(q.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Re(q.LinearProgress,"primaryBg",ar(q.primary.main,.62)),Re(q.LinearProgress,"secondaryBg",ar(q.secondary.main,.62)),Re(q.LinearProgress,"errorBg",ar(q.error.main,.62)),Re(q.LinearProgress,"infoBg",ar(q.info.main,.62)),Re(q.LinearProgress,"successBg",ar(q.success.main,.62)),Re(q.LinearProgress,"warningBg",ar(q.warning.main,.62)),Re(q.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.11)`),Re(q.Slider,"primaryTrack",ar(q.primary.main,.62)),Re(q.Slider,"secondaryTrack",ar(q.secondary.main,.62)),Re(q.Slider,"errorTrack",ar(q.error.main,.62)),Re(q.Slider,"infoTrack",ar(q.info.main,.62)),Re(q.Slider,"successTrack",ar(q.success.main,.62)),Re(q.Slider,"warningTrack",ar(q.warning.main,.62));const ee=r_(q.background.default,.8);Re(q.SnackbarContent,"bg",ee),Re(q.SnackbarContent,"color",ou(()=>q.getContrastText(ee))),Re(q.SpeedDialAction,"fabHoverBg",r_(q.background.paper,.15)),Re(q.StepConnector,"border",W("palette-grey-400")),Re(q.StepContent,"border",W("palette-grey-400")),Re(q.Switch,"defaultColor",W("palette-common-white")),Re(q.Switch,"defaultDisabledColor",W("palette-grey-100")),Re(q.Switch,"primaryDisabledColor",ar(q.primary.main,.62)),Re(q.Switch,"secondaryDisabledColor",ar(q.secondary.main,.62)),Re(q.Switch,"errorDisabledColor",ar(q.error.main,.62)),Re(q.Switch,"infoDisabledColor",ar(q.info.main,.62)),Re(q.Switch,"successDisabledColor",ar(q.success.main,.62)),Re(q.Switch,"warningDisabledColor",ar(q.warning.main,.62)),Re(q.TableCell,"border",ar(i_(q.divider,1),.88)),Re(q.Tooltip,"bg",i_(q.grey[700],.92))}if(q.mode==="dark"){Re(q.Alert,"errorColor",ar(q.error.light,.6)),Re(q.Alert,"infoColor",ar(q.info.light,.6)),Re(q.Alert,"successColor",ar(q.success.light,.6)),Re(q.Alert,"warningColor",ar(q.warning.light,.6)),Re(q.Alert,"errorFilledBg",W("palette-error-dark")),Re(q.Alert,"infoFilledBg",W("palette-info-dark")),Re(q.Alert,"successFilledBg",W("palette-success-dark")),Re(q.Alert,"warningFilledBg",W("palette-warning-dark")),Re(q.Alert,"errorFilledColor",ou(()=>q.getContrastText(q.error.dark))),Re(q.Alert,"infoFilledColor",ou(()=>q.getContrastText(q.info.dark))),Re(q.Alert,"successFilledColor",ou(()=>q.getContrastText(q.success.dark))),Re(q.Alert,"warningFilledColor",ou(()=>q.getContrastText(q.warning.dark))),Re(q.Alert,"errorStandardBg",or(q.error.light,.9)),Re(q.Alert,"infoStandardBg",or(q.info.light,.9)),Re(q.Alert,"successStandardBg",or(q.success.light,.9)),Re(q.Alert,"warningStandardBg",or(q.warning.light,.9)),Re(q.Alert,"errorIconColor",W("palette-error-main")),Re(q.Alert,"infoIconColor",W("palette-info-main")),Re(q.Alert,"successIconColor",W("palette-success-main")),Re(q.Alert,"warningIconColor",W("palette-warning-main")),Re(q.AppBar,"defaultBg",W("palette-grey-900")),Re(q.AppBar,"darkBg",W("palette-background-paper")),Re(q.AppBar,"darkColor",W("palette-text-primary")),Re(q.Avatar,"defaultBg",W("palette-grey-600")),Re(q.Button,"inheritContainedBg",W("palette-grey-800")),Re(q.Button,"inheritContainedHoverBg",W("palette-grey-700")),Re(q.Chip,"defaultBorder",W("palette-grey-700")),Re(q.Chip,"defaultAvatarColor",W("palette-grey-300")),Re(q.Chip,"defaultIconColor",W("palette-grey-300")),Re(q.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Re(q.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Re(q.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Re(q.LinearProgress,"primaryBg",or(q.primary.main,.5)),Re(q.LinearProgress,"secondaryBg",or(q.secondary.main,.5)),Re(q.LinearProgress,"errorBg",or(q.error.main,.5)),Re(q.LinearProgress,"infoBg",or(q.info.main,.5)),Re(q.LinearProgress,"successBg",or(q.success.main,.5)),Re(q.LinearProgress,"warningBg",or(q.warning.main,.5)),Re(q.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.13)`),Re(q.Slider,"primaryTrack",or(q.primary.main,.5)),Re(q.Slider,"secondaryTrack",or(q.secondary.main,.5)),Re(q.Slider,"errorTrack",or(q.error.main,.5)),Re(q.Slider,"infoTrack",or(q.info.main,.5)),Re(q.Slider,"successTrack",or(q.success.main,.5)),Re(q.Slider,"warningTrack",or(q.warning.main,.5));const ee=r_(q.background.default,.98);Re(q.SnackbarContent,"bg",ee),Re(q.SnackbarContent,"color",ou(()=>q.getContrastText(ee))),Re(q.SpeedDialAction,"fabHoverBg",r_(q.background.paper,.15)),Re(q.StepConnector,"border",W("palette-grey-600")),Re(q.StepContent,"border",W("palette-grey-600")),Re(q.Switch,"defaultColor",W("palette-grey-300")),Re(q.Switch,"defaultDisabledColor",W("palette-grey-600")),Re(q.Switch,"primaryDisabledColor",or(q.primary.main,.55)),Re(q.Switch,"secondaryDisabledColor",or(q.secondary.main,.55)),Re(q.Switch,"errorDisabledColor",or(q.error.main,.55)),Re(q.Switch,"infoDisabledColor",or(q.info.main,.55)),Re(q.Switch,"successDisabledColor",or(q.success.main,.55)),Re(q.Switch,"warningDisabledColor",or(q.warning.main,.55)),Re(q.TableCell,"border",or(i_(q.divider,1),.68)),Re(q.Tooltip,"bg",i_(q.grey[700],.92))}yc(q.background,"default"),yc(q.background,"paper"),yc(q.common,"background"),yc(q.common,"onBackground"),yc(q,"divider"),Object.keys(q).forEach(ee=>{const le=q[ee];le&&typeof le=="object"&&(le.main&&Re(q[ee],"mainChannel",pb(fb(le.main))),le.light&&Re(q[ee],"lightChannel",pb(fb(le.light))),le.dark&&Re(q[ee],"darkChannel",pb(fb(le.dark))),le.contrastText&&Re(q[ee],"contrastTextChannel",pb(fb(le.contrastText))),ee==="text"&&(yc(q[ee],"primary"),yc(q[ee],"secondary")),ee==="action"&&(le.active&&yc(q[ee],"active"),le.selected&&yc(q[ee],"selected")))})}),z=t.reduce((re,q)=>Qs(re,q),z);const G={prefix:o,disableCssColorScheme:n,shouldSkipGeneratingVar:c,getSelector:L2e(z)},{vars:H,generateThemeVars:Z,generateStyleSheets:Y}=s2e(z,G);return z.vars=H,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([re,q])=>{z[re]=q}),z.generateThemeVars=Z,z.generateStyleSheets=Y,z.generateSpacing=function(){return mee(g.spacing,v$(this))},z.getColorSchemeSelector=o2e(f),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=c,z.unstable_sxConfig={...R3,...g==null?void 0:g.unstable_sxConfig},z.unstable_sx=function(q){return p1({sx:q,theme:this})},z.toRuntimeSource=F2e,z}function oB(e,t,i){e.colorSchemes&&i&&(e.colorSchemes[t]={...i!==!0&&i,palette:iL({...i===!0?{}:i.palette,mode:t})})}function D$(e={},...t){const{palette:i,cssVariables:r=!1,colorSchemes:n=i?void 0:{light:!0},defaultColorScheme:o=i==null?void 0:i.mode,...c}=e,f=o||"light",g=n==null?void 0:n[f],v={...n,...i?{[f]:{...typeof g!="boolean"&&g,palette:i}}:void 0};if(r===!1){if(!("colorSchemes"in e))return lI(e,...t);let _=i;"palette"in e||v[f]&&(v[f]!==!0?_=v[f].palette:f==="dark"&&(_={mode:"dark"}));const M=lI({...e,palette:_},...t);return M.defaultColorScheme=f,M.colorSchemes=v,M.palette.mode==="light"&&(M.colorSchemes.light={...v.light!==!0&&v.light,palette:M.palette},oB(M,"dark",v.dark)),M.palette.mode==="dark"&&(M.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:M.palette},oB(M,"light",v.light)),M}return!i&&!("light"in v)&&f==="light"&&(v.light=!0),B2e({...c,colorSchemes:v,defaultColorScheme:f,...typeof r!="boolean"&&r},...t)}const z$=D$();function f1(){const e=M$(z$);return e[Kl]||e}function Fee({props:e,name:t}){return xee({props:e,name:t,defaultTheme:z$,themeId:Kl})}function Dee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ig=e=>Dee(e)&&e!=="classes",ct=wee({themeId:Kl,defaultTheme:z$,rootShouldForwardProp:Ig});function aB({theme:e,...t}){const i=Kl in e?e[Kl]:void 0;return P.jsx(jee,{...t,themeId:i?Kl:void 0,theme:i||e})}const n_={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:U2e,useColorScheme:Pvt,getInitColorSchemeScript:Ovt}=t2e({themeId:Kl,theme:()=>D$({cssVariables:!0}),colorSchemeStorageKey:n_.colorSchemeStorageKey,modeStorageKey:n_.modeStorageKey,defaultColorScheme:{light:n_.defaultLightColorScheme,dark:n_.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Oee(e.palette,e.typography)};return t.unstable_sx=function(r){return p1({sx:r,theme:this})},t}}),G2e=U2e;function q2e({theme:e,...t}){return typeof e=="function"?P.jsx(aB,{theme:e,...t}):"colorSchemes"in(Kl in e?e[Kl]:e)?P.jsx(G2e,{theme:e,...t}):P.jsx(aB,{theme:e,...t})}function W2e(e){return P.jsx(hbe,{...e,defaultTheme:z$,themeId:Kl})}function zee(e){return function(i){return P.jsx(W2e,{styles:typeof e=="function"?r=>e({theme:r,...i}):e})}}function H2e(){return T$}function Ui(e){return Kbe(e)}const cI=typeof zee({})=="function",J2e=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),K2e=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Vee=(e,t=!1)=>{var o,c;const i={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([f,g])=>{var _,M;const v=e.getColorSchemeSelector(f);v.startsWith("@")?i[v]={":root":{colorScheme:(_=g.palette)==null?void 0:_.mode}}:i[v.replace(/\s*&/,"")]={colorScheme:(M=g.palette)==null?void 0:M.mode}});let r={html:J2e(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...K2e(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...i};const n=(c=(o=e.components)==null?void 0:o.MuiCssBaseline)==null?void 0:c.styleOverrides;return n&&(r=[r,n]),r},H5="mui-ecs",Y2e=e=>{const t=Vee(e,!1),i=Array.isArray(t)?t[0]:t;return!e.vars&&i&&(i.html[`:root:has(${H5})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,n])=>{var c,f;const o=e.getColorSchemeSelector(r);o.startsWith("@")?i[o]={[`:root:not(:has(.${H5}))`]:{colorScheme:(c=n.palette)==null?void 0:c.mode}}:i[o.replace(/\s*&/,"")]={[`&:not(:has(.${H5}))`]:{colorScheme:(f=n.palette)==null?void 0:f.mode}}}),t},Z2e=zee(cI?({theme:e,enableColorScheme:t})=>Vee(e,t):({theme:e})=>Y2e(e));function Bee(e){const t=Ui({props:e,name:"MuiCssBaseline"}),{children:i,enableColorScheme:r=!1}=t;return P.jsxs(K.Fragment,{children:[cI&&P.jsx(Z2e,{enableColorScheme:r}),!cI&&!r&&P.jsx("span",{className:H5,style:{display:"none"}}),i]})}const X2e=Ei("MuiBox",["root"]),Q2e=D$(),Zi=fbe({themeId:Kl,defaultTheme:Q2e,defaultClassName:X2e.root,generateClassName:HR.generate});function ewe(e){const t=dh(e);return t.body===e?Cg(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function A2(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function lB(e){return parseInt(Cg(e).getComputedStyle(e).paddingRight,10)||0}function twe(e){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return i||r}function uB(e,t,i,r,n){const o=[t,i,...r];[].forEach.call(e.children,c=>{const f=o.indexOf(c)===-1,g=!twe(c);f&&g&&A2(c,n)})}function qM(e,t){let i=-1;return e.some((r,n)=>t(r)?(i=n,!0):!1),i}function iwe(e,t){const i=[],r=e.container;if(!t.disableScrollLock){if(ewe(r)){const c=Nbe(dh(r));i.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${lB(r)+c}px`;const f=dh(r).querySelectorAll(".mui-fixed");[].forEach.call(f,g=>{i.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${lB(g)+c}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=dh(r).body;else{const c=r.parentElement,f=Cg(r);o=(c==null?void 0:c.nodeName)==="HTML"&&f.getComputedStyle(c).overflowY==="scroll"?c:r}i.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{i.forEach(({value:o,el:c,property:f})=>{o?c.style.setProperty(f,o):c.style.removeProperty(f)})}}function rwe(e){const t=[];return[].forEach.call(e.children,i=>{i.getAttribute("aria-hidden")==="true"&&t.push(i)}),t}class nwe{constructor(){this.modals=[],this.containers=[]}add(t,i){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&A2(t.modalRef,!1);const n=rwe(i);uB(i,t.mount,t.modalRef,n,!0);const o=qM(this.containers,c=>c.container===i);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:i,restore:null,hiddenSiblings:n}),r)}mount(t,i){const r=qM(this.containers,o=>o.modals.indexOf(t)!==-1),n=this.containers[r];n.restore||(n.restore=iwe(n,i))}remove(t,i=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const n=qM(this.containers,c=>c.modals.indexOf(t)!==-1),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&A2(t.modalRef,i),uB(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(n,1);else{const c=o.modals[o.modals.length-1];c.modalRef&&A2(c.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const swe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function owe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function awe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let i=t(`[name="${e.name}"]:checked`);return i||(i=t(`[name="${e.name}"]`)),i!==e}function lwe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||awe(e))}function uwe(e){const t=[],i=[];return Array.from(e.querySelectorAll(swe)).forEach((r,n)=>{const o=owe(r);o===-1||!lwe(r)||(o===0?t.push(r):i.push({documentOrder:n,tabIndex:o,node:r}))}),i.sort((r,n)=>r.tabIndex===n.tabIndex?r.documentOrder-n.documentOrder:r.tabIndex-n.tabIndex).map(r=>r.node).concat(t)}function cwe(){return!0}function hwe(e){const{children:t,disableAutoFocus:i=!1,disableEnforceFocus:r=!1,disableRestoreFocus:n=!1,getTabbable:o=uwe,isEnabled:c=cwe,open:f}=e,g=K.useRef(!1),v=K.useRef(null),_=K.useRef(null),M=K.useRef(null),T=K.useRef(null),E=K.useRef(!1),j=K.useRef(null),R=Eo(F$(t),j),N=K.useRef(null);K.useEffect(()=>{!f||!j.current||(E.current=!i)},[i,f]),K.useEffect(()=>{if(!f||!j.current)return;const z=dh(j.current);return j.current.contains(z.activeElement)||(j.current.hasAttribute("tabIndex")||j.current.setAttribute("tabIndex","-1"),E.current&&j.current.focus()),()=>{n||(M.current&&M.current.focus&&(g.current=!0,M.current.focus()),M.current=null)}},[f]),K.useEffect(()=>{if(!f||!j.current)return;const z=dh(j.current),G=Y=>{N.current=Y,!(r||!c()||Y.key!=="Tab")&&z.activeElement===j.current&&Y.shiftKey&&(g.current=!0,_.current&&_.current.focus())},H=()=>{var q,W;const Y=j.current;if(Y===null)return;if(!z.hasFocus()||!c()||g.current){g.current=!1;return}if(Y.contains(z.activeElement)||r&&z.activeElement!==v.current&&z.activeElement!==_.current)return;if(z.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!E.current)return;let re=[];if((z.activeElement===v.current||z.activeElement===_.current)&&(re=o(j.current)),re.length>0){const ee=!!((q=N.current)!=null&&q.shiftKey&&((W=N.current)==null?void 0:W.key)==="Tab"),le=re[0],ue=re[re.length-1];typeof le!="string"&&typeof ue!="string"&&(ee?ue.focus():le.focus())}else Y.focus()};z.addEventListener("focusin",H),z.addEventListener("keydown",G,!0);const Z=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(Z),z.removeEventListener("focusin",H),z.removeEventListener("keydown",G,!0)}},[i,r,n,c,f,o]);const F=z=>{M.current===null&&(M.current=z.relatedTarget),E.current=!0,T.current=z.target;const G=t.props.onFocus;G&&G(z)},V=z=>{M.current===null&&(M.current=z.relatedTarget),E.current=!0};return P.jsxs(K.Fragment,{children:[P.jsx("div",{tabIndex:f?0:-1,onFocus:V,ref:v,"data-testid":"sentinelStart"}),K.cloneElement(t,{ref:R,onFocus:F}),P.jsx("div",{tabIndex:f?0:-1,onFocus:V,ref:_,"data-testid":"sentinelEnd"})]})}function dwe(e){return typeof e=="function"?e():e}const pwe=K.forwardRef(function(t,i){const{children:r,container:n,disablePortal:o=!1}=t,[c,f]=K.useState(null),g=Eo(F$(r),i);if(Ew(()=>{o||f(dwe(n)||document.body)},[n,o]),Ew(()=>{if(c&&!o)return H9(i,c),()=>{H9(i,null)}},[i,c,o]),o){if(K.isValidElement(r)){const v={ref:g};return K.cloneElement(r,v)}return P.jsx(K.Fragment,{children:r})}return P.jsx(K.Fragment,{children:c&&t$.createPortal(r,c)})}),cB={theme:void 0};function pi(e){let t,i;return r=>{let n=t;return(n===void 0||r.theme!==i)&&(cB.theme=r.theme,n=e(cB),t=n,i=r.theme),n}}function B0(e,t){const{className:i,elementType:r,ownerState:n,externalForwardedProps:o,getSlotOwnerState:c,internalForwardedProps:f,...g}=t,{component:v,slots:_={[e]:void 0},slotProps:M={[e]:void 0},...T}=o,E=_[e]||r,j=Vbe(M[e],n),{props:{component:R,...N},internalRef:F}=zbe({className:i,...g,externalForwardedProps:e==="root"?T:void 0,externalSlotProps:j}),V=Eo(F,j==null?void 0:j.ref,t.ref),z=c?c(N):{},G={...n,...z},H=e==="root"?R||v:R,Z=Dbe(E,{...e==="root"&&!v&&!_[e]&&f,...e!=="root"&&!_[e]&&f,...N,...H&&{as:H},ref:V},G);return Object.keys(z).forEach(Y=>{delete Z[Y]}),[E,Z]}function Uee(e,t){if(e==null)return{};var i={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;i[r]=e[r]}return i}function hI(e,t){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},hI(e,t)}function Gee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hI(e,t)}const hB={disabled:!1},J9=Ts.createContext(null);var fwe=function(t){return t.scrollTop},yb="unmounted",uf="exited",cf="entering",sy="entered",dI="exiting",ru=function(e){Gee(t,e);function t(r,n){var o;o=e.call(this,r,n)||this;var c=n,f=c&&!c.isMounting?r.enter:r.appear,g;return o.appearStatus=null,r.in?f?(g=uf,o.appearStatus=cf):g=sy:r.unmountOnExit||r.mountOnEnter?g=yb:g=uf,o.state={status:g},o.nextCallback=null,o}t.getDerivedStateFromProps=function(n,o){var c=n.in;return c&&o.status===yb?{status:uf}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(n){var o=null;if(n!==this.props){var c=this.state.status;this.props.in?c!==cf&&c!==sy&&(o=cf):(c===cf||c===sy)&&(o=dI)}this.updateStatus(!1,o)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var n=this.props.timeout,o,c,f;return o=c=f=n,n!=null&&typeof n!="number"&&(o=n.exit,c=n.enter,f=n.appear!==void 0?n.appear:c),{exit:o,enter:c,appear:f}},i.updateStatus=function(n,o){if(n===void 0&&(n=!1),o!==null)if(this.cancelNextCallback(),o===cf){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Xx.findDOMNode(this);c&&fwe(c)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uf&&this.setState({status:yb})},i.performEnter=function(n){var o=this,c=this.props.enter,f=this.context?this.context.isMounting:n,g=this.props.nodeRef?[f]:[Xx.findDOMNode(this),f],v=g[0],_=g[1],M=this.getTimeouts(),T=f?M.appear:M.enter;if(!n&&!c||hB.disabled){this.safeSetState({status:sy},function(){o.props.onEntered(v)});return}this.props.onEnter(v,_),this.safeSetState({status:cf},function(){o.props.onEntering(v,_),o.onTransitionEnd(T,function(){o.safeSetState({status:sy},function(){o.props.onEntered(v,_)})})})},i.performExit=function(){var n=this,o=this.props.exit,c=this.getTimeouts(),f=this.props.nodeRef?void 0:Xx.findDOMNode(this);if(!o||hB.disabled){this.safeSetState({status:uf},function(){n.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:dI},function(){n.props.onExiting(f),n.onTransitionEnd(c.exit,function(){n.safeSetState({status:uf},function(){n.props.onExited(f)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(n,o){o=this.setNextCallback(o),this.setState(n,o)},i.setNextCallback=function(n){var o=this,c=!0;return this.nextCallback=function(f){c&&(c=!1,o.nextCallback=null,n(f))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},i.onTransitionEnd=function(n,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:Xx.findDOMNode(this),f=n==null&&!this.props.addEndListener;if(!c||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],v=g[0],_=g[1];this.props.addEndListener(v,_)}n!=null&&setTimeout(this.nextCallback,n)},i.render=function(){var n=this.state.status;if(n===yb)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var f=Uee(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ts.createElement(J9.Provider,{value:null},typeof c=="function"?c(n,f):Ts.cloneElement(Ts.Children.only(c),f))},t}(Ts.Component);ru.contextType=J9;ru.propTypes={};function F1(){}ru.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:F1,onEntering:F1,onEntered:F1,onExit:F1,onExiting:F1,onExited:F1};ru.UNMOUNTED=yb;ru.EXITED=uf;ru.ENTERING=cf;ru.ENTERED=sy;ru.EXITING=dI;function ywe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(e,t){var i=function(o){return t&&K.isValidElement(o)?t(o):o},r=Object.create(null);return e&&K.Children.map(e,function(n){return n}).forEach(function(n){r[n.key]=i(n)}),r}function mwe(e,t){e=e||{},t=t||{};function i(_){return _ in t?t[_]:e[_]}var r=Object.create(null),n=[];for(var o in e)o in t?n.length&&(r[o]=n,n=[]):n.push(o);var c,f={};for(var g in t){if(r[g])for(c=0;c<r[g].length;c++){var v=r[g][c];f[r[g][c]]=i(v)}f[g]=i(g)}for(c=0;c<n.length;c++)f[n[c]]=i(n[c]);return f}function u0(e,t,i){return i[t]!=null?i[t]:e.props[t]}function gwe(e,t){return rL(e.children,function(i){return K.cloneElement(i,{onExited:t.bind(null,i),in:!0,appear:u0(i,"appear",e),enter:u0(i,"enter",e),exit:u0(i,"exit",e)})})}function vwe(e,t,i){var r=rL(e.children),n=mwe(t,r);return Object.keys(n).forEach(function(o){var c=n[o];if(K.isValidElement(c)){var f=o in t,g=o in r,v=t[o],_=K.isValidElement(v)&&!v.props.in;g&&(!f||_)?n[o]=K.cloneElement(c,{onExited:i.bind(null,c),in:!0,exit:u0(c,"exit",e),enter:u0(c,"enter",e)}):!g&&f&&!_?n[o]=K.cloneElement(c,{in:!1}):g&&f&&K.isValidElement(v)&&(n[o]=K.cloneElement(c,{onExited:i.bind(null,c),in:v.props.in,exit:u0(c,"exit",e),enter:u0(c,"enter",e)}))}}),n}var bwe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},wwe={component:"div",childFactory:function(t){return t}},nL=function(e){Gee(t,e);function t(r,n){var o;o=e.call(this,r,n)||this;var c=o.handleExited.bind(ywe(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(n,o){var c=o.children,f=o.handleExited,g=o.firstRender;return{children:g?gwe(n,f):vwe(n,c,f),firstRender:!1}},i.handleExited=function(n,o){var c=rL(this.props.children);n.key in c||(n.props.onExited&&n.props.onExited(o),this.mounted&&this.setState(function(f){var g=G9({},f.children);return delete g[n.key],{children:g}}))},i.render=function(){var n=this.props,o=n.component,c=n.childFactory,f=Uee(n,["component","childFactory"]),g=this.state.contextValue,v=bwe(this.state.children).map(c);return delete f.appear,delete f.enter,delete f.exit,o===null?Ts.createElement(J9.Provider,{value:g},v):Ts.createElement(J9.Provider,{value:g},Ts.createElement(o,f,v))},t}(Ts.Component);nL.propTypes={};nL.defaultProps=wwe;const qee=e=>e.scrollTop;function eg(e,t){const{timeout:i,easing:r,style:n={}}=e;return{duration:n.transitionDuration??(typeof i=="number"?i:i[t.mode]||0),easing:n.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:n.transitionDelay}}const xwe={entering:{opacity:1},entered:{opacity:1}},_we=K.forwardRef(function(t,i){const r=f1(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:f,easing:g,in:v,onEnter:_,onEntered:M,onEntering:T,onExit:E,onExited:j,onExiting:R,style:N,timeout:F=n,TransitionComponent:V=ru,...z}=t,G=K.useRef(null),H=Eo(G,F$(f),i),Z=ae=>pe=>{if(ae){const ge=G.current;pe===void 0?ae(ge):ae(ge,pe)}},Y=Z(T),re=Z((ae,pe)=>{qee(ae);const ge=eg({style:N,timeout:F,easing:g},{mode:"enter"});ae.style.webkitTransition=r.transitions.create("opacity",ge),ae.style.transition=r.transitions.create("opacity",ge),_&&_(ae,pe)}),q=Z(M),W=Z(R),ee=Z(ae=>{const pe=eg({style:N,timeout:F,easing:g},{mode:"exit"});ae.style.webkitTransition=r.transitions.create("opacity",pe),ae.style.transition=r.transitions.create("opacity",pe),E&&E(ae)}),le=Z(j),ue=ae=>{o&&o(G.current,ae)};return P.jsx(V,{appear:c,in:v,nodeRef:G,onEnter:re,onEntered:q,onEntering:Y,onExit:ee,onExited:le,onExiting:W,addEndListener:ue,timeout:F,...z,children:(ae,pe)=>K.cloneElement(f,{style:{opacity:0,visibility:ae==="exited"&&!v?"hidden":void 0,...xwe[ae],...N,...f.props.style},ref:H,...pe})})});function Swe(e){return Ii("MuiBackdrop",e)}Ei("MuiBackdrop",["root","invisible"]);const $we=e=>{const{classes:t,invisible:i}=e;return Ri({root:["root",i&&"invisible"]},Swe,t)},Mwe=ct("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Twe=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiBackdrop"}),{children:n,className:o,component:c="div",invisible:f=!1,open:g,components:v={},componentsProps:_={},slotProps:M={},slots:T={},TransitionComponent:E,transitionDuration:j,...R}=r,N={...r,component:c,invisible:f},F=$we(N),V={transition:E,root:v.Root,...T},z={..._,...M},G={slots:V,slotProps:z},[H,Z]=B0("root",{elementType:Mwe,externalForwardedProps:G,className:Et(F.root,o),ownerState:N}),[Y,re]=B0("transition",{elementType:_we,externalForwardedProps:G,ownerState:N});return delete re.ownerState,P.jsx(Y,{in:g,timeout:j,...R,...re,children:P.jsx(H,{"aria-hidden":!0,...Z,classes:F,ref:i,children:n})})});function kwe(e){return typeof e=="function"?e():e}function Cwe(e){return e?e.props.hasOwnProperty("in"):!1}const Iwe=new nwe;function Ewe(e){const{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:r=!1,manager:n=Iwe,closeAfterTransition:o=!1,onTransitionEnter:c,onTransitionExited:f,children:g,onClose:v,open:_,rootRef:M}=e,T=K.useRef({}),E=K.useRef(null),j=K.useRef(null),R=Eo(j,M),[N,F]=K.useState(!_),V=Cwe(g);let z=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(z=!1);const G=()=>dh(E.current),H=()=>(T.current.modalRef=j.current,T.current.mount=E.current,T.current),Z=()=>{n.mount(H(),{disableScrollLock:r}),j.current&&(j.current.scrollTop=0)},Y=l0(()=>{const ge=kwe(t)||G().body;n.add(H(),ge),j.current&&Z()}),re=K.useCallback(()=>n.isTopModal(H()),[n]),q=l0(ge=>{E.current=ge,ge&&(_&&re()?Z():j.current&&A2(j.current,z))}),W=K.useCallback(()=>{n.remove(H(),z)},[z,n]);K.useEffect(()=>()=>{W()},[W]),K.useEffect(()=>{_?Y():(!V||!o)&&W()},[_,W,V,o,Y]);const ee=ge=>ve=>{var ce;(ce=ge.onKeyDown)==null||ce.call(ge,ve),!(ve.key!=="Escape"||ve.which===229||!re())&&(i||(ve.stopPropagation(),v&&v(ve,"escapeKeyDown")))},le=ge=>ve=>{var ce;(ce=ge.onClick)==null||ce.call(ge,ve),ve.target===ve.currentTarget&&v&&v(ve,"backdropClick")};return{getRootProps:(ge={})=>{const ve=kee(e);delete ve.onTransitionEnter,delete ve.onTransitionExited;const ce={...ve,...ge};return{role:"presentation",...ce,onKeyDown:ee(ce),ref:R}},getBackdropProps:(ge={})=>{const ve=ge;return{"aria-hidden":!0,...ve,onClick:le(ve),open:_}},getTransitionProps:()=>{const ge=()=>{F(!1),c&&c()},ve=()=>{F(!0),f&&f(),o&&W()};return{onEnter:aI(ge,g==null?void 0:g.props.onEnter),onExited:aI(ve,g==null?void 0:g.props.onExited)}},rootRef:R,portalRef:q,isTopModal:re,exited:N,hasTransition:V}}function Awe(e){return Ii("MuiModal",e)}Ei("MuiModal",["root","hidden","backdrop"]);function jwe(e){return Ii("MuiSvgIcon",e)}Ei("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pwe=e=>{const{color:t,fontSize:i,classes:r}=e,n={root:["root",t!=="inherit"&&`color${tt(t)}`,`fontSize${tt(i)}`]};return Ri(n,jwe,r)},Owe=ct("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color!=="inherit"&&t[`color${tt(i.color)}`],t[`fontSize${tt(i.fontSize)}`]]}})(pi(({theme:e})=>{var t,i,r,n,o,c,f,g,v,_,M,T,E,j;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(t=e.transitions)==null?void 0:t.create)==null?void 0:n.call(t,"fill",{duration:(r=(i=(e.vars??e).transitions)==null?void 0:i.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((g=(f=e.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((_=(v=e.typography)==null?void 0:v.pxToRem)==null?void 0:_.call(v,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,R])=>R&&R.main).map(([R])=>{var N,F;return{props:{color:R},style:{color:(F=(N=(e.vars??e).palette)==null?void 0:N[R])==null?void 0:F.main}}}),{props:{color:"action"},style:{color:(T=(M=(e.vars??e).palette)==null?void 0:M.action)==null?void 0:T.active}},{props:{color:"disabled"},style:{color:(j=(E=(e.vars??e).palette)==null?void 0:E.action)==null?void 0:j.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),K9=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiSvgIcon"}),{children:n,className:o,color:c="inherit",component:f="svg",fontSize:g="medium",htmlColor:v,inheritViewBox:_=!1,titleAccess:M,viewBox:T="0 0 24 24",...E}=r,j=K.isValidElement(n)&&n.type==="svg",R={...r,color:c,component:f,fontSize:g,instanceFontSize:t.fontSize,inheritViewBox:_,viewBox:T,hasSvgAsChild:j},N={};_||(N.viewBox=T);const F=Pwe(R);return P.jsxs(Owe,{as:f,className:Et(F.root,o),focusable:"false",color:v,"aria-hidden":M?void 0:!0,role:M?"img":void 0,ref:i,...N,...E,...j&&n.props,ownerState:R,children:[j?n.props.children:n,M?P.jsx("title",{children:M}):null]})});K9&&(K9.muiName="SvgIcon");function y1(e,t){function i(r,n){return P.jsx(K9,{"data-testid":`${t}Icon`,ref:n,...r,children:e})}return i.muiName=K9.muiName,K.memo(K.forwardRef(i))}const Rwe={configure:e=>{HR.configure(e)}},Lwe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:tt,createChainedFunction:aI,createSvgIcon:y1,debounce:See,deprecatedPropType:Ebe,isMuiElement:$ee,ownerDocument:dh,ownerWindow:Cg,requirePropFactory:Abe,setRef:H9,unstable_ClassNameGenerator:Rwe,unstable_memoTheme:pi,unstable_useEnhancedEffect:Ew,unstable_useId:Pbe,unsupportedProp:Obe,useControlled:ZR,useEventCallback:l0,useForkRef:Eo},Symbol.toStringTag,{value:"Module"})),Nwe=e=>{const{open:t,exited:i,classes:r}=e;return Ri({root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]},Awe,r)},Fwe=ct("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.open&&i.exited&&t.hidden]}})(pi(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Dwe=ct(Twe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),pI=K.forwardRef(function(t,i){const r=Ui({name:"MuiModal",props:t}),{BackdropComponent:n=Dwe,BackdropProps:o,classes:c,className:f,closeAfterTransition:g=!1,children:v,container:_,component:M,components:T={},componentsProps:E={},disableAutoFocus:j=!1,disableEnforceFocus:R=!1,disableEscapeKeyDown:N=!1,disablePortal:F=!1,disableRestoreFocus:V=!1,disableScrollLock:z=!1,hideBackdrop:G=!1,keepMounted:H=!1,onBackdropClick:Z,onClose:Y,onTransitionEnter:re,onTransitionExited:q,open:W,slotProps:ee={},slots:le={},theme:ue,...ae}=r,pe={...r,closeAfterTransition:g,disableAutoFocus:j,disableEnforceFocus:R,disableEscapeKeyDown:N,disablePortal:F,disableRestoreFocus:V,disableScrollLock:z,hideBackdrop:G,keepMounted:H},{getRootProps:ge,getBackdropProps:ve,getTransitionProps:ce,portalRef:he,isTopModal:Ie,exited:Be,hasTransition:Ke}=Ewe({...pe,rootRef:i}),wt={...pe,exited:Be},He=Nwe(wt),yt={};if(v.props.tabIndex===void 0&&(yt.tabIndex="-1"),Ke){const{onEnter:me,onExited:rt}=ce();yt.onEnter=me,yt.onExited=rt}const Fe={slots:{root:T.Root,backdrop:T.Backdrop,...le},slotProps:{...E,...ee}},[it,Ge]=B0("root",{elementType:Fwe,externalForwardedProps:Fe,getSlotProps:ge,additionalProps:{ref:i,as:M},ownerState:wt,className:Et(f,He==null?void 0:He.root,!wt.open&&wt.exited&&(He==null?void 0:He.hidden))}),[Te,Ve]=B0("backdrop",{elementType:n,externalForwardedProps:Fe,additionalProps:o,getSlotProps:me=>ve({...me,onClick:rt=>{Z&&Z(rt),me!=null&&me.onClick&&me.onClick(rt)}}),className:Et(o==null?void 0:o.className,He==null?void 0:He.backdrop),ownerState:wt}),De=Eo(o==null?void 0:o.ref,Ve.ref);return!H&&!W&&(!Ke||Be)?null:P.jsx(pwe,{ref:he,container:_,disablePortal:F,children:P.jsxs(it,{...Ge,...ae,children:[!G&&n?P.jsx(Te,{...Ve,ref:De}):null,P.jsx(hwe,{disableEnforceFocus:R,disableAutoFocus:j,disableRestoreFocus:V,isEnabled:Ie,open:W,children:K.cloneElement(v,yt)})]})})});function zwe(e,t,i){const r=t.getBoundingClientRect(),n=i&&i.getBoundingClientRect(),o=Cg(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const v=o.getComputedStyle(t);c=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let f=0,g=0;if(c&&c!=="none"&&typeof c=="string"){const v=c.split("(")[1].split(")")[0].split(",");f=parseInt(v[4],10),g=parseInt(v[5],10)}return e==="left"?n?`translateX(${n.right+f-r.left}px)`:`translateX(${o.innerWidth+f-r.left}px)`:e==="right"?n?`translateX(-${r.right-n.left-f}px)`:`translateX(-${r.left+r.width-f}px)`:e==="up"?n?`translateY(${n.bottom+g-r.top}px)`:`translateY(${o.innerHeight+g-r.top}px)`:n?`translateY(-${r.top-n.top+r.height-g}px)`:`translateY(-${r.top+r.height-g}px)`}function Vwe(e){return typeof e=="function"?e():e}function s_(e,t,i){const r=Vwe(i),n=zwe(e,t,r);n&&(t.style.webkitTransform=n,t.style.transform=n)}const Bwe=K.forwardRef(function(t,i){const r=f1(),n={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:c,appear:f=!0,children:g,container:v,direction:_="down",easing:M=n,in:T,onEnter:E,onEntered:j,onEntering:R,onExit:N,onExited:F,onExiting:V,style:z,timeout:G=o,TransitionComponent:H=ru,...Z}=t,Y=K.useRef(null),re=Eo(F$(g),Y,i),q=ce=>he=>{ce&&(he===void 0?ce(Y.current):ce(Y.current,he))},W=q((ce,he)=>{s_(_,ce,v),qee(ce),E&&E(ce,he)}),ee=q((ce,he)=>{const Ie=eg({timeout:G,style:z,easing:M},{mode:"enter"});ce.style.webkitTransition=r.transitions.create("-webkit-transform",{...Ie}),ce.style.transition=r.transitions.create("transform",{...Ie}),ce.style.webkitTransform="none",ce.style.transform="none",R&&R(ce,he)}),le=q(j),ue=q(V),ae=q(ce=>{const he=eg({timeout:G,style:z,easing:M},{mode:"exit"});ce.style.webkitTransition=r.transitions.create("-webkit-transform",he),ce.style.transition=r.transitions.create("transform",he),s_(_,ce,v),N&&N(ce)}),pe=q(ce=>{ce.style.webkitTransition="",ce.style.transition="",F&&F(ce)}),ge=ce=>{c&&c(Y.current,ce)},ve=K.useCallback(()=>{Y.current&&s_(_,Y.current,v)},[_,v]);return K.useEffect(()=>{if(T||_==="down"||_==="right")return;const ce=See(()=>{Y.current&&s_(_,Y.current,v)}),he=Cg(Y.current);return he.addEventListener("resize",ce),()=>{ce.clear(),he.removeEventListener("resize",ce)}},[_,T,v]),K.useEffect(()=>{T||ve()},[T,ve]),P.jsx(H,{nodeRef:Y,onEnter:W,onEntered:le,onEntering:ee,onExit:ae,onExited:pe,onExiting:ue,addEndListener:ge,appear:f,in:T,timeout:G,...Z,children:(ce,he)=>K.cloneElement(g,{ref:re,style:{visibility:ce==="exited"&&!T?"hidden":void 0,...z,...g.props.style},...he})})});function Uwe(e){return Ii("MuiPaper",e)}Ei("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Gwe=e=>{const{square:t,elevation:i,variant:r,classes:n}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${i}`]};return Ri(o,Uwe,n)},qwe=ct("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(pi(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),gr=K.forwardRef(function(t,i){var E;const r=Ui({props:t,name:"MuiPaper"}),n=f1(),{className:o,component:c="div",elevation:f=1,square:g=!1,variant:v="elevation",..._}=r,M={...r,component:c,elevation:f,square:g,variant:v},T=Gwe(M);return P.jsx(qwe,{as:c,ownerState:M,className:Et(T.root,o),ref:i,..._,style:{...v==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[f],...n.vars&&{"--Paper-overlay":(E=n.vars.overlays)==null?void 0:E[f]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Yi("#fff",uI(f))}, ${Yi("#fff",uI(f))})`}},..._.style}})});function Wwe(e){return Ii("MuiDrawer",e)}Ei("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Wee=(e,t)=>{const{ownerState:i}=e;return[t.root,(i.variant==="permanent"||i.variant==="persistent")&&t.docked,t.modal]},Hwe=e=>{const{classes:t,anchor:i,variant:r}=e,n={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${tt(i)}`,r!=="temporary"&&`paperAnchorDocked${tt(i)}`]};return Ri(n,Wwe,t)},Jwe=ct(pI,{name:"MuiDrawer",slot:"Root",overridesResolver:Wee})(pi(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),dB=ct("div",{shouldForwardProp:Ig,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Wee})({flex:"0 0 auto"}),Kwe=ct(gr,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,t[`paperAnchor${tt(i.anchor)}`],i.variant!=="temporary"&&t[`paperAnchorDocked${tt(i.anchor)}`]]}})(pi(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Hee={left:"right",right:"left",top:"down",bottom:"up"};function Ywe(e){return["left","right"].includes(e)}function Zwe({direction:e},t){return e==="rtl"&&Ywe(t)?Hee[t]:t}const Jee=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiDrawer"}),n=f1(),o=Eee(),c={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:g,children:v,className:_,elevation:M=16,hideBackdrop:T=!1,ModalProps:{BackdropProps:E,...j}={},onClose:R,open:N=!1,PaperProps:F={},SlideProps:V,TransitionComponent:z=Bwe,transitionDuration:G=c,variant:H="temporary",...Z}=r,Y=K.useRef(!1);K.useEffect(()=>{Y.current=!0},[]);const re=Zwe({direction:o?"rtl":"ltr"},f),W={...r,anchor:f,elevation:M,open:N,variant:H,...Z},ee=Hwe(W),le=P.jsx(Kwe,{elevation:H==="temporary"?M:0,square:!0,...F,className:Et(ee.paper,F.className),ownerState:W,children:v});if(H==="permanent")return P.jsx(dB,{className:Et(ee.root,ee.docked,_),ownerState:W,ref:i,...Z,children:le});const ue=P.jsx(z,{in:N,direction:Hee[re],timeout:G,appear:Y.current,...V,children:le});return H==="persistent"?P.jsx(dB,{className:Et(ee.root,ee.docked,_),ownerState:W,ref:i,...Z,children:ue}):P.jsx(Jwe,{BackdropProps:{...g,...E,transitionDuration:G},className:Et(ee.root,ee.modal,_),open:N,ownerState:W,onClose:R,hideBackdrop:T,ref:i,...Z,...j,children:ue})});function Xwe(e){return Ii("MuiAppBar",e)}Ei("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Qwe=e=>{const{color:t,position:i,classes:r}=e,n={root:["root",`color${tt(t)}`,`position${tt(i)}`]};return Ri(n,Xwe,r)},pB=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,e3e=ct(gr,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${tt(i.position)}`],t[`color${tt(i.color)}`]]}})(pi(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.contrastText).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?pB(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?pB(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),t3e=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiAppBar"}),{className:n,color:o="primary",enableColorOnDark:c=!1,position:f="fixed",...g}=r,v={...r,color:o,position:f,enableColorOnDark:c},_=Qwe(v);return P.jsx(e3e,{square:!0,component:"header",ownerState:v,elevation:4,className:Et(_.root,n,f==="fixed"&&"mui-fixed"),ref:i,...g})});function i3e(e){return Ii("MuiToolbar",e)}Ei("MuiToolbar",["root","gutters","regular","dense"]);const r3e=e=>{const{classes:t,disableGutters:i,variant:r}=e;return Ri({root:["root",!i&&"gutters",r]},i3e,t)},n3e=ct("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disableGutters&&t.gutters,t[i.variant]]}})(pi(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),J5=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiToolbar"}),{className:n,component:o="div",disableGutters:c=!1,variant:f="regular",...g}=r,v={...r,component:o,disableGutters:c,variant:f},_=r3e(v);return P.jsx(n3e,{as:o,className:Et(_.root,n),ref:i,ownerState:v,...g})}),up=K.createContext({});function s3e(e){return Ii("MuiList",e)}Ei("MuiList",["root","padding","dense","subheader"]);const o3e=e=>{const{classes:t,disablePadding:i,dense:r,subheader:n}=e;return Ri({root:["root",!i&&"padding",r&&"dense",n&&"subheader"]},s3e,t)},a3e=ct("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),yo=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiList"}),{children:n,className:o,component:c="ul",dense:f=!1,disablePadding:g=!1,subheader:v,..._}=r,M=K.useMemo(()=>({dense:f}),[f]),T={...r,component:c,dense:f,disablePadding:g},E=o3e(T);return P.jsx(up.Provider,{value:M,children:P.jsxs(a3e,{as:c,className:Et(E.root,o),ref:i,ownerState:T,..._,children:[v,n]})})});function l3e(e){return Ii("MuiTypography",e)}const fB=Ei("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),u3e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},c3e=H2e(),h3e=e=>{const{align:t,gutterBottom:i,noWrap:r,paragraph:n,variant:o,classes:c}=e,f={root:["root",o,e.align!=="inherit"&&`align${tt(t)}`,i&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return Ri(f,l3e,c)},d3e=ct("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.variant&&t[i.variant],i.align!=="inherit"&&t[`align${tt(i.align)}`],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})(pi(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([i,r])=>i!=="inherit"&&r&&typeof r=="object").map(([i,r])=>({props:{variant:i},style:r})),...Object.entries(e.palette).filter(([,i])=>i&&i.main).map(([i])=>({props:{color:i},style:{color:(e.vars||e).palette[i].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,i])=>typeof i=="string").map(([i])=>({props:{color:`text${tt(i)}`},style:{color:(e.vars||e).palette.text[i]}})),{props:({ownerState:i})=>i.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:i})=>i.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:i})=>i.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:i})=>i.paragraph,style:{marginBottom:16}}]}})),yB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ut=K.forwardRef(function(t,i){const{color:r,...n}=Ui({props:t,name:"MuiTypography"}),o=!u3e[r],c=c3e({...n,...o&&{color:r}}),{align:f="inherit",className:g,component:v,gutterBottom:_=!1,noWrap:M=!1,paragraph:T=!1,variant:E="body1",variantMapping:j=yB,...R}=c,N={...c,align:f,color:r,className:g,component:v,gutterBottom:_,noWrap:M,paragraph:T,variant:E,variantMapping:j},F=v||(T?"p":j[E]||yB[E])||"span",V=h3e(N);return P.jsx(d3e,{as:F,ref:i,className:Et(V.root,g),...R,ownerState:N,style:{...f!=="inherit"&&{"--Typography-textAlign":f},...R.style}})});function p3e(e){return Ii("MuiDivider",e)}Ei("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const f3e=e=>{const{absolute:t,children:i,classes:r,flexItem:n,light:o,orientation:c,textAlign:f,variant:g}=e;return Ri({root:["root",t&&"absolute",g,o&&"light",c==="vertical"&&"vertical",n&&"flexItem",i&&"withChildren",i&&c==="vertical"&&"withChildrenVertical",f==="right"&&c!=="vertical"&&"textAlignRight",f==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},p3e,r)},y3e=ct("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,i.orientation==="vertical"&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&i.orientation==="vertical"&&t.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&t.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&t.textAlignLeft]}})(pi(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Yi(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),m3e=ct("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,i.orientation==="vertical"&&t.wrapperVertical]}})(pi(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),jw=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiDivider"}),{absolute:n=!1,children:o,className:c,orientation:f="horizontal",component:g=o||f==="vertical"?"div":"hr",flexItem:v=!1,light:_=!1,role:M=g!=="hr"?"separator":void 0,textAlign:T="center",variant:E="fullWidth",...j}=r,R={...r,absolute:n,component:g,flexItem:v,light:_,orientation:f,role:M,textAlign:T,variant:E},N=f3e(R);return P.jsx(y3e,{as:g,className:Et(N.root,c),role:M,ref:i,ownerState:R,"aria-orientation":M==="separator"&&(g!=="hr"||f==="vertical")?f:void 0,...j,children:o?P.jsx(m3e,{className:N.wrapper,ownerState:R,children:o}):null})});jw&&(jw.muiSkipListHighlight=!0);function mB(e){return typeof e=="string"}function g3e(e){return Ii("MuiListItem",e)}Ei("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);class Y9{constructor(){dv(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Y9}static use(){const t=Mee(Y9.create).current,[i,r]=K.useState(!1);return t.shouldMount=i,t.setShouldMount=r,K.useEffect(t.mountEffect,[i]),t}mount(){return this.mounted||(this.mounted=b3e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.start(...t)})}stop(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.stop(...t)})}pulsate(...t){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.pulsate(...t)})}}function v3e(){return Y9.use()}function b3e(){let e,t;const i=new Promise((r,n)=>{e=r,t=n});return i.resolve=e,i.reject=t,i}function w3e(e){const{className:t,classes:i,pulsate:r=!1,rippleX:n,rippleY:o,rippleSize:c,in:f,onExited:g,timeout:v}=e,[_,M]=K.useState(!1),T=Et(t,i.ripple,i.rippleVisible,r&&i.ripplePulsate),E={width:c,height:c,top:-(c/2)+o,left:-(c/2)+n},j=Et(i.child,_&&i.childLeaving,r&&i.childPulsate);return!f&&!_&&M(!0),K.useEffect(()=>{if(!f&&g!=null){const R=setTimeout(g,v);return()=>{clearTimeout(R)}}},[g,f,v]),P.jsx("span",{className:T,style:E,children:P.jsx("span",{className:j})})}const Ea=Ei("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fI=550,x3e=80,_3e=Rp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,S3e=Rp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,$3e=Rp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,M3e=ct("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),T3e=ct(w3e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ea.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_3e};
    animation-duration: ${fI}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Ea.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Ea.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ea.childLeaving} {
    opacity: 0;
    animation-name: ${S3e};
    animation-duration: ${fI}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Ea.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${$3e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,k3e=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiTouchRipple"}),{center:n=!1,classes:o={},className:c,...f}=r,[g,v]=K.useState([]),_=K.useRef(0),M=K.useRef(null);K.useEffect(()=>{M.current&&(M.current(),M.current=null)},[g]);const T=K.useRef(!1),E=Tee(),j=K.useRef(null),R=K.useRef(null),N=K.useCallback(G=>{const{pulsate:H,rippleX:Z,rippleY:Y,rippleSize:re,cb:q}=G;v(W=>[...W,P.jsx(T3e,{classes:{ripple:Et(o.ripple,Ea.ripple),rippleVisible:Et(o.rippleVisible,Ea.rippleVisible),ripplePulsate:Et(o.ripplePulsate,Ea.ripplePulsate),child:Et(o.child,Ea.child),childLeaving:Et(o.childLeaving,Ea.childLeaving),childPulsate:Et(o.childPulsate,Ea.childPulsate)},timeout:fI,pulsate:H,rippleX:Z,rippleY:Y,rippleSize:re},_.current)]),_.current+=1,M.current=q},[o]),F=K.useCallback((G={},H={},Z=()=>{})=>{const{pulsate:Y=!1,center:re=n||H.pulsate,fakeElement:q=!1}=H;if((G==null?void 0:G.type)==="mousedown"&&T.current){T.current=!1;return}(G==null?void 0:G.type)==="touchstart"&&(T.current=!0);const W=q?null:R.current,ee=W?W.getBoundingClientRect():{width:0,height:0,left:0,top:0};let le,ue,ae;if(re||G===void 0||G.clientX===0&&G.clientY===0||!G.clientX&&!G.touches)le=Math.round(ee.width/2),ue=Math.round(ee.height/2);else{const{clientX:pe,clientY:ge}=G.touches&&G.touches.length>0?G.touches[0]:G;le=Math.round(pe-ee.left),ue=Math.round(ge-ee.top)}if(re)ae=Math.sqrt((2*ee.width**2+ee.height**2)/3),ae%2===0&&(ae+=1);else{const pe=Math.max(Math.abs((W?W.clientWidth:0)-le),le)*2+2,ge=Math.max(Math.abs((W?W.clientHeight:0)-ue),ue)*2+2;ae=Math.sqrt(pe**2+ge**2)}G!=null&&G.touches?j.current===null&&(j.current=()=>{N({pulsate:Y,rippleX:le,rippleY:ue,rippleSize:ae,cb:Z})},E.start(x3e,()=>{j.current&&(j.current(),j.current=null)})):N({pulsate:Y,rippleX:le,rippleY:ue,rippleSize:ae,cb:Z})},[n,N,E]),V=K.useCallback(()=>{F({},{pulsate:!0})},[F]),z=K.useCallback((G,H)=>{if(E.clear(),(G==null?void 0:G.type)==="touchend"&&j.current){j.current(),j.current=null,E.start(0,()=>{z(G,H)});return}j.current=null,v(Z=>Z.length>0?Z.slice(1):Z),M.current=H},[E]);return K.useImperativeHandle(i,()=>({pulsate:V,start:F,stop:z}),[V,F,z]),P.jsx(M3e,{className:Et(Ea.root,o.root,c),ref:R,...f,children:P.jsx(nL,{component:null,exit:!0,children:g})})});function C3e(e){return Ii("MuiButtonBase",e)}const I3e=Ei("MuiButtonBase",["root","disabled","focusVisible"]),E3e=e=>{const{disabled:t,focusVisible:i,focusVisibleClassName:r,classes:n}=e,c=Ri({root:["root",t&&"disabled",i&&"focusVisible"]},C3e,n);return i&&r&&(c.root+=` ${r}`),c},A3e=ct("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${I3e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),U0=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiButtonBase"}),{action:n,centerRipple:o=!1,children:c,className:f,component:g="button",disabled:v=!1,disableRipple:_=!1,disableTouchRipple:M=!1,focusRipple:T=!1,focusVisibleClassName:E,LinkComponent:j="a",onBlur:R,onClick:N,onContextMenu:F,onDragLeave:V,onFocus:z,onFocusVisible:G,onKeyDown:H,onKeyUp:Z,onMouseDown:Y,onMouseLeave:re,onMouseUp:q,onTouchEnd:W,onTouchMove:ee,onTouchStart:le,tabIndex:ue=0,TouchRippleProps:ae,touchRippleRef:pe,type:ge,...ve}=r,ce=K.useRef(null),he=v3e(),Ie=Eo(he.ref,pe),[Be,Ke]=K.useState(!1);v&&Be&&Ke(!1),K.useImperativeHandle(n,()=>({focusVisible:()=>{Ke(!0),ce.current.focus()}}),[]);const wt=he.shouldMount&&!_&&!v;K.useEffect(()=>{Be&&T&&!_&&he.pulsate()},[_,T,Be,he]);function He(ht,ui,ei=M){return l0($t=>(ui&&ui($t),ei||he[ht]($t),!0))}const yt=He("start",Y),Fe=He("stop",F),it=He("stop",V),Ge=He("stop",q),Te=He("stop",ht=>{Be&&ht.preventDefault(),re&&re(ht)}),Ve=He("start",le),De=He("stop",W),me=He("stop",ee),rt=He("stop",ht=>{KV(ht.target)||Ke(!1),R&&R(ht)},!1),lt=l0(ht=>{ce.current||(ce.current=ht.currentTarget),KV(ht.target)&&(Ke(!0),G&&G(ht)),z&&z(ht)}),zt=()=>{const ht=ce.current;return g&&g!=="button"&&!(ht.tagName==="A"&&ht.href)},xt=l0(ht=>{T&&!ht.repeat&&Be&&ht.key===" "&&he.stop(ht,()=>{he.start(ht)}),ht.target===ht.currentTarget&&zt()&&ht.key===" "&&ht.preventDefault(),H&&H(ht),ht.target===ht.currentTarget&&zt()&&ht.key==="Enter"&&!v&&(ht.preventDefault(),N&&N(ht))}),bt=l0(ht=>{T&&ht.key===" "&&Be&&!ht.defaultPrevented&&he.stop(ht,()=>{he.pulsate(ht)}),Z&&Z(ht),N&&ht.target===ht.currentTarget&&zt()&&ht.key===" "&&!ht.defaultPrevented&&N(ht)});let te=g;te==="button"&&(ve.href||ve.to)&&(te=j);const St={};te==="button"?(St.type=ge===void 0?"button":ge,St.disabled=v):(!ve.href&&!ve.to&&(St.role="button"),v&&(St["aria-disabled"]=v));const fi=Eo(i,ce),ft={...r,centerRipple:o,component:g,disabled:v,disableRipple:_,disableTouchRipple:M,focusRipple:T,tabIndex:ue,focusVisible:Be},Nt=E3e(ft);return P.jsxs(A3e,{as:te,className:Et(Nt.root,f),ownerState:ft,onBlur:rt,onClick:N,onContextMenu:Fe,onFocus:lt,onKeyDown:xt,onKeyUp:bt,onMouseDown:yt,onMouseLeave:Te,onMouseUp:Ge,onDragLeave:it,onTouchEnd:De,onTouchMove:me,onTouchStart:Ve,ref:fi,tabIndex:v?-1:ue,type:ge,...St,...ve,children:[c,wt?P.jsx(k3e,{ref:Ie,center:o,...ae}):null]})});function j3e(e){return Ii("MuiListItemButton",e)}const oy=Ei("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),P3e=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.alignItems==="flex-start"&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters]},O3e=e=>{const{alignItems:t,classes:i,dense:r,disabled:n,disableGutters:o,divider:c,selected:f}=e,v=Ri({root:["root",r&&"dense",!o&&"gutters",c&&"divider",n&&"disabled",t==="flex-start"&&"alignItemsFlexStart",f&&"selected"]},j3e,i);return{...i,...v}},R3e=ct(U0,{shouldForwardProp:e=>Ig(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:P3e})(pi(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${oy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Yi(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${oy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Yi(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${oy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Yi(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Yi(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${oy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${oy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Xr=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:o=!1,component:c="div",children:f,dense:g=!1,disableGutters:v=!1,divider:_=!1,focusVisibleClassName:M,selected:T=!1,className:E,...j}=r,R=K.useContext(up),N=K.useMemo(()=>({dense:g||R.dense||!1,alignItems:n,disableGutters:v}),[n,R.dense,g,v]),F=K.useRef(null);Ew(()=>{o&&F.current&&F.current.focus()},[o]);const V={...r,alignItems:n,dense:N.dense,disableGutters:v,divider:_,selected:T},z=O3e(V),G=Eo(F,i);return P.jsx(up.Provider,{value:N,children:P.jsx(R3e,{ref:G,href:j.href||j.to,component:(j.href||j.to)&&c==="div"?"button":c,focusVisibleClassName:Et(z.focusVisible,M),ownerState:V,className:Et(z.root,E),...j,classes:z,children:f})})});function L3e(e){return Ii("MuiListItemSecondaryAction",e)}Ei("MuiListItemSecondaryAction",["root","disableGutters"]);const N3e=e=>{const{disableGutters:t,classes:i}=e;return Ri({root:["root",t&&"disableGutters"]},L3e,i)},F3e=ct("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Kee=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiListItemSecondaryAction"}),{className:n,...o}=r,c=K.useContext(up),f={...r,disableGutters:c.disableGutters},g=N3e(f);return P.jsx(F3e,{className:Et(g.root,n),ownerState:f,ref:i,...o})});Kee.muiName="ListItemSecondaryAction";const D3e=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.alignItems==="flex-start"&&t.alignItemsFlexStart,i.divider&&t.divider,!i.disableGutters&&t.gutters,!i.disablePadding&&t.padding,i.hasSecondaryAction&&t.secondaryAction]},z3e=e=>{const{alignItems:t,classes:i,dense:r,disableGutters:n,disablePadding:o,divider:c,hasSecondaryAction:f}=e;return Ri({root:["root",r&&"dense",!n&&"gutters",!o&&"padding",c&&"divider",t==="flex-start"&&"alignItemsFlexStart",f&&"secondaryAction"],container:["container"]},g3e,i)},V3e=ct("div",{name:"MuiListItem",slot:"Root",overridesResolver:D3e})(pi(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${oy.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),B3e=ct("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Ht=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiListItem"}),{alignItems:n="center",children:o,className:c,component:f,components:g={},componentsProps:v={},ContainerComponent:_="li",ContainerProps:{className:M,...T}={},dense:E=!1,disableGutters:j=!1,disablePadding:R=!1,divider:N=!1,secondaryAction:F,slotProps:V={},slots:z={},...G}=r,H=K.useContext(up),Z=K.useMemo(()=>({dense:E||H.dense||!1,alignItems:n,disableGutters:j}),[n,H.dense,E,j]),Y=K.useRef(null),re=K.Children.toArray(o),q=re.length&&$ee(re[re.length-1],["ListItemSecondaryAction"]),W={...r,alignItems:n,dense:Z.dense,disableGutters:j,disablePadding:R,divider:N,hasSecondaryAction:q},ee=z3e(W),le=Eo(Y,i),ue=z.root||g.Root||V3e,ae=V.root||v.root||{},pe={className:Et(ee.root,ae.className,c),...G};let ge=f||"li";return q?(ge=!pe.component&&!f?"div":ge,_==="li"&&(ge==="li"?ge="div":pe.component==="li"&&(pe.component="div")),P.jsx(up.Provider,{value:Z,children:P.jsxs(B3e,{as:_,className:Et(ee.container,M),ref:le,ownerState:W,...T,children:[P.jsx(ue,{...ae,...!mB(ue)&&{as:ge,ownerState:{...W,...ae.ownerState}},...pe,children:re}),re.pop()]})})):P.jsx(up.Provider,{value:Z,children:P.jsxs(ue,{...ae,as:ge,ref:le,...!mB(ue)&&{ownerState:{...W,...ae.ownerState}},...pe,children:[re,F&&P.jsx(Kee,{children:F})]})})});function U3e(e){return Ii("MuiListItemText",e)}const o_=Ei("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),G3e=e=>{const{classes:t,inset:i,primary:r,secondary:n,dense:o}=e;return Ri({root:["root",i&&"inset",o&&"dense",r&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},U3e,t)},q3e=ct("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${o_.primary}`]:t.primary},{[`& .${o_.secondary}`]:t.secondary},t.root,i.inset&&t.inset,i.primary&&i.secondary&&t.multiline,i.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${fB.root}:where(& .${o_.primary})`]:{display:"block"},[`.${fB.root}:where(& .${o_.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Jt=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiListItemText"}),{children:n,className:o,disableTypography:c=!1,inset:f=!1,primary:g,primaryTypographyProps:v,secondary:_,secondaryTypographyProps:M,...T}=r,{dense:E}=K.useContext(up);let j=g??n,R=_;const N={...r,disableTypography:c,inset:f,primary:!!j,secondary:!!R,dense:E},F=G3e(N);return j!=null&&j.type!==ut&&!c&&(j=P.jsx(ut,{variant:E?"body2":"body1",className:F.primary,component:v!=null&&v.variant?void 0:"span",...v,children:j})),R!=null&&R.type!==ut&&!c&&(R=P.jsx(ut,{variant:"body2",className:F.secondary,color:"textSecondary",...M,children:R})),P.jsxs(q3e,{className:Et(F.root,o),ownerState:N,ref:i,...T,children:[j,R]})}),W3e="modulepreload",H3e=function(e,t){return new URL(e,t).href},gB={},Ce=function(t,i,r){let n=Promise.resolve();if(i&&i.length>0){const o=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.all(i.map(g=>{if(g=H3e(g,r),g in gB)return;gB[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(!!r)for(let E=o.length-1;E>=0;E--){const j=o[E];if(j.href===g&&(!v||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${_}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":W3e,v||(T.as="script"),T.crossOrigin="",T.href=g,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((E,j)=>{T.addEventListener("load",E),T.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}return n.then(()=>t()).catch(o=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o})};function b(e,t,i,r){var n,o=arguments.length,c=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(e,t,i,r);else for(var f=e.length-1;f>=0;f--)(n=e[f])&&(c=(o<3?n(c):o>3?n(t,i,c):n(t,i))||c);return o>3&&c&&Object.defineProperty(t,i,c),c}function Rvt(e,t){return function(i,r){t(i,r,e)}}function Lvt(e,t,i,r){function n(o){return o instanceof i?o:new i(function(c){c(o)})}return new(i||(i=Promise))(function(o,c){function f(_){try{v(r.next(_))}catch(M){c(M)}}function g(_){try{v(r.throw(_))}catch(M){c(M)}}function v(_){_.done?o(_.value):n(_.value).then(f,g)}v((r=r.apply(e,[])).next())})}let qd;function ke(e){return typeof qd[e]=="function"?qd[e]=qd[e](globalThis):qd[e]}var xZ,_Z,SZ,$Z;qd=(xZ=globalThis.dojoConfig)!=null&&xZ.has||(_Z=globalThis.esriConfig)!=null&&_Z.has?{...(SZ=globalThis.dojoConfig)==null?void 0:SZ.has,...($Z=globalThis.esriConfig)==null?void 0:$Z.has}:{},ke.add=(e,t,i,r)=>((r||qd[e]===void 0)&&(qd[e]=t),i&&ke(e)),ke.cache=qd,ke.add("big-integer-warning-enabled",!0),ke.add("esri-deprecation-warnings",!0),ke.add("esri-tests-disable-screenshots",!1),ke.add("esri-tests-use-full-window",!1),ke.add("esri-tests-post-to-influx",!0),(()=>{var t;ke.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ke.add("host-browser",e),ke.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),ke.add("dom",e),ke("host-browser")){const i=navigator,r=i.userAgent,n=i.appVersion,o=parseFloat(n);if(ke.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),ke.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),ke.add("khtml",n.includes("Konqueror")?o:void 0),ke.add("edge",parseFloat(r.split("Edge/")[1])||void 0),ke.add("opr",parseFloat(r.split("OPR/")[1])||void 0),ke.add("webkit",!ke("wp")&&!ke("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),ke.add("chrome",!ke("edge")&&!ke("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),ke.add("android",!ke("wp")&&parseFloat(r.split("Android ")[1])||void 0),ke.add("safari",!n.includes("Safari")||ke("wp")||ke("chrome")||ke("android")||ke("edge")||ke("opr")?void 0:parseFloat(n.split("Version/")[1])),ke.add("mac",n.includes("Macintosh")),!ke("wp")&&/(iPhone|iPod|iPad)/.test(r)){const c=RegExp.$1.replace(/P/,"p"),f=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",g=parseFloat(f.replace(/_/,".").replaceAll("_",""));ke.add(c,g),ke.add("ios",g)}ke("webkit")||(!r.includes("Gecko")||ke("wp")||ke("khtml")||ke("edge")||ke.add("mozilla",o),ke("mozilla")&&ke.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&ke.add("esri-mobile",t),i&&ke.add("esri-iPhone",i),ke.add("esri-geolocation",!!navigator.geolocation)}ke.add("esri-wasm","WebAssembly"in globalThis),ke.add("esri-performance-mode-frames-between-render",20),ke.add("esri-force-performance-mode",!1),ke.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),ke.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),ke.add("esri-atomics","Atomics"in globalThis),ke.add("esri-workers","Worker"in globalThis),ke.add("web-feat:cache","caches"in globalThis),ke.add("esri-workers-arraybuffer-transfer",!ke("safari")||Number(ke("safari"))>=12),ke.add("workers-pool-size",8),ke.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ke.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ke.add("featurelayer-fast-triangulation-enabled",!0),ke.add("featurelayer-animation-enabled",!0),ke.add("featurelayer-snapshot-enabled",!0),ke.add("featurelayer-snapshot-point-min-threshold",8e4),ke.add("featurelayer-snapshot-point-max-threshold",4e5),ke.add("featurelayer-snapshot-point-coverage",.1),ke.add("featurelayer-query-max-depth",4),ke.add("featurelayer-query-pausing-enabled",!1),ke.add("featurelayer-advanced-symbols",!1),ke.add("featurelayer-pbf",!0),ke.add("featurelayer-pbf-statistics",!1),ke.add("feature-layers-workers",!0),ke.add("feature-polyline-generalization-factor",1),ke.add("mapview-transitions-duration",200),ke.add("mapview-essential-goto-duration",200),ke.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ke.add("mapserver-pbf-version-support",10.81),ke.add("mapservice-popup-identify-max-tolerance",20),ke("host-webworker")||ke("host-browser")&&(ke.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ke.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{ke.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ke.add("esri-image-decode",!1,!0,!0)})}return!1}),ke.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const vB=new WeakMap;function J3e(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let n=vB.get(e);n||(n=new Set,vB.set(e,n)),n.has(t)||(n.add(t),e.warn(r))}function Yee(e,t,i={}){if(ke("esri-deprecation-warnings")){const{moduleName:r}=i;G0(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function mb(e,t,i={}){if(ke("esri-deprecation-warnings")){const{moduleName:r}=i;G0(e,`Property: ${(r?r+"::":"")+t}`,i)}}function K3e(e,t,i={}){ke("esri-deprecation-warnings")&&G0(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function G0(e,t,i={}){if(ke("esri-deprecation-warnings")){const{replacement:r,version:n,see:o,warnOnce:c}=i;let f=t;r&&(f+=`
	 Replacement: ${r}`),n&&(f+=`
	 Version: ${n}`),o&&(f+=`
	 See ${o} for more details.`),J3e(e,f,c)}}function Nvt(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Y3e(e,t){for(const i of e)if(i!=null&&t(i))return i}function Z9(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let F3=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(Z9(t)){const r=this._getOrCreateGroup(i);for(const n of t)wB(n)&&r.push(n)}else wB(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(a_(t))}remove(t){if(typeof t!="string"&&Z9(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(bB(this._getGroup(t)),this._groups.delete(a_(t)),this):this}removeAll(){return this._groups.forEach(bB),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(a_(t),i),i}_getGroup(t){return this._groups.get(a_(t))}};function a_(e){return e||"_default_"}function bB(e){for(const t of e)t instanceof F3?t.removeAll():t.remove()}function wB(e){return e!=null&&(!!e.remove||e instanceof F3)}let WM=class hf{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*hf._m}getInt(){return this._seed=(hf._a*this._seed+hf._c)%hf._m,this._seed}getFloat(){return this.getInt()/(hf._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/hf._m*r}};WM._m=2147483647,WM._a=48271,WM._c=0;function Dvt(e,t){return t?e.filter((i,r,n)=>n.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function V$(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function zvt(e,t){let i=e.length!==t.length;i&&(e.length=t.length);for(let r=0;r<t.length;++r)e[r]!==t[r]&&(e[r]=t[r],i=!0);return i}function xB(e,t,i){let r,n;return i?(r=t.filter(o=>!e.some(c=>i(c,o))),n=e.filter(o=>!t.some(c=>i(c,o)))):(r=t.filter(o=>!e.includes(o)),n=e.filter(o=>!t.includes(o))),{added:r,removed:n}}function Vvt(e){return e&&typeof e.length=="number"}let Zee=class{constructor(){this.last=0}};const Xee=new Zee;function yI(e,t,i,r){r=r||Xee;const n=Math.max(0,r.last-10);for(let c=n;c<i;++c)if(e[c]===t)return r.last=c,c;const o=Math.min(n,i);for(let c=0;c<o;++c)if(e[c]===t)return r.last=c,c;return-1}function Z3e(e,t,i,r){const n=e.length,o=yI(e,t,n,r);if(o!==-1)return e[o]=e[n-1],e.pop(),t}const gl=new Set;function X3e(e,t,i=e.length,r=t.length,n,o){if(r===0||i===0)return i;gl.clear();for(let f=0;f<r;++f)gl.add(t[f]);n=n||Xee;const c=Math.max(0,n.last-10);for(let f=c;f<i;++f)if(gl.has(e[f])&&(o==null||o.push(e[f]),gl.delete(e[f]),e[f]=e[i-1],--i,--f,gl.size===0||i===0))return gl.clear(),i;for(let f=0;f<c;++f)if(gl.has(e[f])&&(o==null||o.push(e[f]),gl.delete(e[f]),e[f]=e[i-1],--i,--f,gl.size===0||i===0))return gl.clear(),i;return gl.clear(),i}function Q3e(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function ss(e,t){return e!=null}function Qee(e){return 32+e.length}function sL(){return 16}function Uvt(e){if(!e)return 0;let t=tte;for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];switch(typeof r){case"string":t+=Qee(r);break;case"number":t+=sL();break;case"boolean":t+=4}}return t}function exe(e){if(!e)return 0;if(Array.isArray(e))return txe(e);let t=tte;for(const i in e)e.hasOwnProperty(i)&&(t+=ete(e[i]));return t}function txe(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let i=ite;for(let r=0;r<t;r++)i+=ete(e[r]);return i}function ete(e){switch(typeof e){case"object":return exe(e);case"string":return Qee(e);case"number":return sL();case"boolean":return 4;default:return 8}}function ixe(e,t){return ite+e.length*t}const tte=32,ite=16;function Gvt(e){return e instanceof ArrayBuffer}function oL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function rte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function nte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function aL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function ste(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function lL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function ote(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function B$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function U$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function rxe(e){return!("buffer"in e)}function qvt(...e){return e.reduce((t,i)=>t+(i?rxe(i)?ixe(i,sL()):i.byteLength+nxe:0),0)}const nxe=145,Wvt=1024;function Hvt(e){return U$(e)||B$(e)||lL(e)||aL(e)||oL(e)}function Jvt(e){return U$(e)||B$(e)}function Kvt(e){return U$(e)?179769e303:B$(e)?3402823e32:ote(e)?4294967295:ste(e)?65535:rte(e)||nte(e)?255:lL(e)?2147483647:aL(e)?32767:oL(e)?127:256}function sxe(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function be(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=ute(e);if(t!=null)return t;if(X9(e))return e.clone();if(ate(e))return e.map(be);if(lte(e))return e.clone();const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=be(e[r]);return i}function mI(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=ute(e);if(t!=null)return t;if(ate(e)){let i=!0;const r=e.map(n=>{const o=mI(n);return n!=null&&o==null&&(i=!1),o});return i?r:null}if(X9(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!lte(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const n=e[r],o=mI(n);if(n!=null&&o==null)return null;i[r]=o}return i}return null}function X9(e){return typeof e.clone=="function"}function ate(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function lte(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function _B(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ute(e){if(oL(e)||rte(e)||nte(e)||aL(e)||ste(e)||lL(e)||ote(e)||B$(e)||U$(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,be(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(be(i));return t}return null}function uL(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function cte(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&V$(e,t):e instanceof Set?t instanceof Set&&axe(e,t):e instanceof Map?t instanceof Map&&lxe(e,t):!!_B(e)&&_B(t)&&oxe(e,t))}function oxe(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function axe(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function lxe(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const n=t.get(i);if(n!==r||n===void 0&&!t.has(i))return!1}return!0}function cL(e,t,i=!1){return dte(e,t,i)}function D3(e,t){if(t!=null)return t[e]||hte(e.split("."),!1,t)}function As(e,t,i){const r=e.split("."),n=r.pop(),o=hte(r,!0,i);o&&n&&(o[n]=t)}function SB(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(SB(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(SB(e[i],t[i]))return!0;return!1}return e!==t}function hte(e,t,i){let r=i;for(const n of e){if(r==null)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function dte(e,t,i){return t?Object.keys(t).reduce((r,n)=>{let o=r[n],c=t[n];return o===c?r:o===void 0?(r[n]=be(c),r):(Array.isArray(c)||Array.isArray(r)?(o=o?Array.isArray(o)?r[n]=o.concat():r[n]=[o]:r[n]=[],c&&(Array.isArray(c)||(c=[c]),i?c.forEach(f=>{o.includes(f)||o.push(f)}):r[n]=c.concat())):c&&typeof c=="object"?r[n]=dte(o,c,i):r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[n]=c),r)},e||{}):e}var MZ;const yi={apiKey:void 0,applicationName:"",applicationUrl:(MZ=globalThis.location)==null?void 0:MZ.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(cL(yi,globalThis.esriConfig,!0),delete yi.has),!yi.assetsPath){{const e="4.30";yi.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}yi.defaultAssetsPath=yi.assetsPath}const uxe=/\{([^}]+)\}/g;function $B(e){return e??""}function G$(e,t){return t?e.replaceAll(uxe,typeof t=="object"?(i,r)=>$B(D3(r,t)):(i,r)=>$B(t(r))):e}function cxe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t!=null&&t.includes(i)?i:`\\${i}`)}function pte(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let MB;function Yvt(e){return MB??(MB=new DOMParser),MB.parseFromString(e||"","text/html").body.innerText||""}function Zvt(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const TB={info:0,warn:1,error:2,none:3};let Le=class No{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,No._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=No.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,No._loggers.get(t)||new No({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!No._throttlingDisabled){const n=dxe(r),o=this._loggedMessages[t].get(n);if(i==="once"&&o!=null||i==="oncePerTick"&&o&&o>=No._tickCounter)return;this._loggedMessages[t].set(n,No._tickCounter),No._scheduleTickCounterIncrement()}for(const n of yi.log.interceptors)if(n(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const n=r[t];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",hxe)}_matchLevel(t){const i=yi.log.level||"warn";return TB[this._parentWithMember("level",i)]<=TB[t]}static _scheduleTickCounterIncrement(){No._tickCounterScheduled||(No._tickCounterScheduled=!0,Promise.resolve().then(()=>{No._tickCounter++,No._tickCounterScheduled=!1}))}};function hxe(e,t,...i){console[e](`[${t}]`,...i)}function dxe(...e){return pte(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}Le._loggers=new Map,Le._tickCounter=0,Le._tickCounterScheduled=!1,Le._throttlingDisabled=!1;function fte(e,t){if(e==null)throw new Error(t??"value is None")}function rr(e){return e==null||e.destroy(),null}function Xvt(e){return e==null||e.dispose(),null}function Lr(e){return e==null||e.remove(),null}function q0(e){return e==null||e.abort(),null}function Qvt(e){return e==null||e.release(),null}function pxe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function Pw(e,t){let i;return e.some((r,n)=>(i=t(r,n),i!=null)),i??void 0}const yte=Symbol("Accessor-beforeDestroy"),fxe={remove:()=>{}};function Bi(e){return e?{remove(){e&&(e(),e=void 0)}}:fxe}function yxe(e){e.forEach(t=>t==null?void 0:t.remove())}function z3(e){return Bi(()=>yxe(e))}function js(e){return e.__accessor__??null}function mxe(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function K5(e,t,i){return i?Q9(e,t,{policy:i,path:""}):Q9(e,t,null)}function Q9(e,t,i){return t?Object.keys(t).reduce((r,n)=>{const o=n;let c=null,f="merge";if(i&&(c=i.path?`${i.path}.${n}`:n,f=i.policy(c)),f==="replace"||f==="replace-arrays"&&Array.isArray(r[o]))return r[o]=t[o],r;if(r[o]===void 0)return r[o]=be(t[o]),r;let g=r[o],v=t[o];if(g===v)return r;if(Array.isArray(v)||Array.isArray(r))g=g?Array.isArray(g)?r[o]=g.concat():r[o]=[g]:r[o]=[],v&&(Array.isArray(v)||(v=[v]),v.forEach(_=>{g.includes(_)||g.push(_)}));else if(v&&typeof v=="object")if(i){const _=i.path;i.path=c,r[o]=Q9(g,v,i),i.path=_}else r[o]=Q9(g,v,null);else r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[o]=v);return r},e||{}):e}function mte(e){return Array.isArray(e)?e:e.split(".")}function kB(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function gxe(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...kB(i));return t}return kB(e)}function gte(e,t,i,r){const n=gxe(t);if(n.length!==1){const o=n.map(c=>r(e,c,i));return z3(o)}return r(e,n[0],i)}function vte(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const r=js(t);return mxe(r,i)?r.get(i):t[i]}function bte(e,t,i){if(e==null)return e;const r=vte(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:bte(r,t,i+1)}function V3(e,t,i=0){return typeof t!="string"||t.includes(".")?bte(e,mte(t),i):vte(t,e)}function Ys(e,t){return V3(e,t)}function CB(e,t){return V3(t,e)!==void 0}var wo;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(wo||(wo={}));function B3(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=be(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function q$(e,t){const i=B3(e);let r=i[t];return r||(r=i[t]={}),r}function vxe(e,t){return K5(e,t,wxe)}const bxe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function wxe(e){return bxe.test(e)?"replace":"merge"}function xxe(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function _xe(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let m1=class gI{constructor(t,i,r,n=1,o=0){if(this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(o),this._initialSize=o,this._ctor)for(let c=0;c<o;c++)this._pool[c]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let i;if(gI.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):_xe(i)&&i.acquire(...t),i}release(t){t&&!gI.test.disabled&&(this._releaseFunction?this._releaseFunction(t):xxe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};m1.test={disabled:!1};let Sxe=class{constructor(t,i){this._observers=t,this._observer=i}remove(){Q3e(this._observers,this._observer)}},wte=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return $xe;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const o=i.length;for(let c=0;c<o;++c){const f=i[c];if(f.destroyed)n=!0;else if(f===t){r=!0;break}}return r||(i.push(t),n&&this._removeDestroyedObservers()),new Sxe(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&t[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;t[n]=t[n+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const $xe=Bi();var ri;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ri||(ri={}));const vI=ri.USER+1;function Wd(e){switch(e){case"defaults":return ri.DEFAULTS;case"service":return ri.SERVICE;case"portal-item":return ri.PORTAL_ITEM;case"web-scene":return ri.WEB_SCENE;case"web-map":return ri.WEB_MAP;case"link-chart":return ri.LINK_CHART;case"user":return ri.USER;default:return null}}function e4(e){switch(e){case ri.DEFAULTS:return"defaults";case ri.SERVICE:return"service";case ri.PORTAL_ITEM:return"portal-item";case ri.WEB_SCENE:return"web-scene";case ri.WEB_MAP:return"web-map";case ri.LINK_CHART:return"link-chart";case ri.USER:return"user"}}function Mxe(e){return e4(e)}var Gi;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Gi||(Gi={}));const t4={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},gb=[];let j2=t4;function jt(e){j2.onObservableAccessed(e)}let Y5=!1,Z5=!1;function Sh(e,t,i){if(Y5)return hL(e,t,i);xte(e);const r=t.call(i);return _te(),r}function Txe(e,t){return Sh(t4,e,t)}function hL(e,t,i){const r=Y5;Y5=!0,xte(e);let n=null;try{n=t.call(i)}catch(o){Z5&&Le.getLogger("esri.core.accessorSupport.tracking").error(o)}return _te(),Y5=r,n}function xte(e){j2=e,gb.push(e)}function _te(){const e=gb.length;if(e>1){const t=gb.pop();j2=gb[e-2],t.onTrackingEnd()}else if(e===1){const t=gb.pop();j2=t4,t.onTrackingEnd()}else j2=t4}function Ste(e,t){if(t.flags&Gi.DepTrackingInitialized)return;const i=Z5;Z5=!1,t.flags&Gi.AutoTracked?hL(t,t.metadata.get,e):$te(e,t),Z5=i}const kxe=[];function $te(e,t){t.flags&Gi.ExplicitlyTracking||(t.flags|=Gi.ExplicitlyTracking,hL(t,()=>{const i=t.metadata.dependsOn||kxe;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=mte(r);for(let o=0,c=e;o<n.length&&c!=null&&typeof c=="object";++o)c=IB(c,n[o],o!==n.length-1)}else IB(e,r,!1)}),t.flags&=~Gi.ExplicitlyTracking)}function IB(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(r,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const n=js(e);if(n){const o=n.propertiesByName.get(r);o&&(jt(o),Ste(e,o))}return i?e[r]:void 0}let EB=class extends wte{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this._accessed=null,this._handles=null,this.flags=0,this.flags=Gi.Dirty|(i.nonNullable?Gi.NonNullable:0)|(i.hasOwnProperty("value")?Gi.HasDefaultValue:0)|(i.get===void 0?Gi.DepTrackingInitialized:0)|(i.dependsOn===void 0?Gi.AutoTracked:0)}destroy(){this.flags&Gi.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){jt(this);const i=t.store,r=this.propertyName,n=this.flags,o=i.get(r);if(n&Gi.Computing||~n&Gi.Dirty&&i.has(r))return o;this.flags|=Gi.Computing;const c=t.host;let f;n&Gi.AutoTracked?f=Sh(this,this.metadata.get,c):($te(c,this),f=this.metadata.get.call(c)),i.set(r,f,ri.COMPUTED);const g=i.get(r);return g===o?this.flags&=~Gi.Dirty:Txe(this.commit,this),this.flags&=~Gi.Computing,g}onObservableAccessed(t){t!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Gi.DepTrackingInitialized,this._accessed!=null&&(this._handles??(this._handles=[]),this._accessed.forEach(t=>{this._handles.push(t.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Gi.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}onInvalidated(){~this.flags&Gi.Overridden&&(this.flags|=Gi.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},Cxe=class Mte{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new Mte;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,be(r))}),i}get(t){return this._values.get(t)}originOf(){return ri.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function l_(e,t,i){return e!==void 0}function AB(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&Gi.NonNullable)||(r.lifecycle,wo.INITIALIZING,!1))}let Ixe=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=wo.INITIALIZING,this.store=new Cxe,this._origin=ri.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new EB(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=wo.CONSTRUCTING}constructed(){this.lifecycle=wo.CONSTRUCTED}destroy(){this.lifecycle=wo.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==wo.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);jt(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&Gi.HasDefaultValue)return"defaults"}return e4(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(l_(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);l_(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const n=this.propertiesByName.get(i);if(!l_(n))return"";const o=new Set,c=Sh({onObservableAccessed:g=>o.add(g),onTrackingEnd:()=>{}},()=>{var g;return(g=n.metadata.get)==null?void 0:g.call(t)});let f=`${r}${t.declaredClass.split(".").pop()}.${i}: ${c}
`;if(o.size===0)return f;r+="  ";for(const g of o)g instanceof EB&&(f+=`${r}${g.propertyName}: undefined
`);return f}setAtOrigin(t,i,r){const n=this.propertiesByName.get(t);if(l_(n))return this._setAtOrigin(n,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&Gi.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&Gi.Overridden&&(i.flags&=~Gi.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!AB(r,t,i,this))return;const n=r.metadata.cast;if(n){const o=this._cast(n,i),{valid:c,value:f}=o;if(HM.release(o),!c)return;i=f}r.flags|=Gi.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!AB(r,t,i,this))return;const n=r.metadata.cast;if(n){const c=this._cast(n,i),{valid:f,value:g}=c;if(HM.release(c),!f)return;i=g}const o=r.metadata.set;o?o.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=Wd(t)}getDefaultOrigin(){return e4(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==wo.INITIALIZING?this._origin:ri.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const n=this.store,o=t.propertyName;n.has(o,r)&&uL(i,n.get(o))&&~t.flags&Gi.Overridden&&r===n.originOf(o)||(t.invalidate(),n.set(o,i,r),t.commit(),Ste(this.host,t))}_cast(t,i){const r=HM.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},Exe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const HM=new m1(Exe);function Axe(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(D3(r,t)??"").toString())}let Tte=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&Axe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},we=class kte extends Tte{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return be(i)}catch{return"[object]"}}))}}catch(t){throw Le.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new kte(t.name,t.message,t.details)}};we.prototype.type="error";function i4(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))i4(e,r,t[r]);else{if(t.includes(".")){const n=t.split("."),o=n.splice(-1,1)[0];return void i4(Ys(e,n),o,i)}const r=e.__accessor__;r!=null&&jxe(t,r),e[t]=i}}function jxe(e,t){if(ke("esri-unknown-property-errors")&&!Pxe(e,t))throw new we("set:unknown-property",Oxe(e,t))}function Pxe(e,t){return t.metadata[e]!=null}function Oxe(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Rxe;function Lxe(){return Rxe}var jB;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(jB||(jB={}));function Nxe(e){e.length=0}let Ks=class{constructor(t=50,i=50){this._pool=new m1(Array,void 0,Nxe,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return JM.acquire()}static release(t){return JM.release(t)}static prune(){JM.prune()}};const JM=new Ks(100);let Cte=class extends m1{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const u_=[];function r4(e){u_.push(e),u_.length===1&&queueMicrotask(()=>{const t=u_.slice();u_.length=0;for(const i of t)i()})}let Ite=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var bI;(function(e){const t=(o,c,f,g)=>{let v=c,_=c;const M=f>>>1,T=o[v-1];for(;_<=M;){_=v<<1,_<f&&g(o[_-1],o[_])<0&&++_;const E=o[_-1];if(g(E,T)<=0)break;o[v-1]=E,v=_}o[v-1]=T},i=(o,c)=>o<c?-1:o>c?1:0;function r(o,c,f,g){c===void 0&&(c=0),f===void 0&&(f=o.length),g===void 0&&(g=i);for(let _=f>>>1;_>c;_--)t(o,_,f,g);const v=c+1;for(let _=f-1;_>c;_--){const M=o[c];o[c]=o[_],o[_]=M,t(o,v,_,g)}}function*n(o,c,f,g){c===void 0&&(c=0),f===void 0&&(f=o.length),g===void 0&&(g=i);for(let _=f>>>1;_>c;_--)t(o,_,f,g),yield;const v=c+1;for(let _=f-1;_>c;_--){const M=o[c];o[c]=o[_],o[_]=M,t(o,v,_,g),yield}}e.sort=r,e.iterableSort=n})(bI||(bI={}));const PB=bI,Fxe=1.5,Dxe=1.1;let n4=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Zee,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>OB(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];t(n)&&i.push(n)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,OB(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=yI(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(yI(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=X3e(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){PB.sort(this.data,0,this.length,t)}iterableSort(t){return PB.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){for(let r=0;r<this.length;++r){const n=this.data[r];if(t.call(i,n,r))return n}}filterInPlace(t,i){let r=0;for(let n=0;n<this._length;++n){const o=this.data[n];t.call(i,o,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=o,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:n}=this;for(let o=0;o<n;++o)t.call(i,r[o],o,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=t.call(i,this.data[n],n,this.data);return r}reduce(t,i){let r=i;for(let n=0;n<this.length;++n)r=t(r,this.data[n],n,this.data);return r}has(t){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function OB(e){e.data.length>Fxe*e.length&&(e.data.length=Math.floor(e.length*Dxe))}function zxe(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Bi(()=>e.clearTimeout(r))}}}const Eg=zxe(globalThis);function W$(e){return Vxe(e)||Ete(e)}function Vxe(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function Ete(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function U3(e,t,i){if(!W$(e))throw new TypeError("target is not a Evented or EventTarget object");return Ete(e)?Bxe(e,t,i):e.on(t,i)}function Bxe(e,t,i,r){if(Array.isArray(t)){const n=t.slice();for(const o of n)e.addEventListener(o,i,r);return Bi(()=>{for(const o of n)e.removeEventListener(o,i,r)})}return e.addEventListener(t,i,r),Bi(()=>e.removeEventListener(t,i,r))}function Ate(e,t,i){if(!W$(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=U3(e,t,n=>{r.remove(),i.call(e,n)});return r}function ln(e="Aborted"){return new we("AbortError",e)}function qi(e,t="Aborted"){if($h(e))throw ln(t)}function H$(e){return e instanceof AbortSignal?e:e==null?void 0:e.signal}function $h(e){const t=H$(e);return t!=null&&t.aborted}function Ra(e){if(Os(e))throw e}function RB(e){if(!Os(e))throw e}function Ya(e,t){const i=H$(e);if(i!=null){if(!i.aborted)return Ate(i,"abort",()=>t());t()}}function dL(e,t){const i=H$(e);if(i!=null)return qi(i),Ate(i,"abort",()=>t(ln()))}function jte(e,t){return H$(t)==null?e:new Promise((i,r)=>{let n=Ya(t,()=>r(ln()));const o=()=>{n=Lr(n)};e.then(o,o),e.then(i,r)})}function Os(e){return(e==null?void 0:e.name)==="AbortError"}async function wI(e){try{return await e}catch(t){if(!Os(t))throw t;return}}async function c0(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(c=>e[c]),n=await c0(r),o={};return i.map((c,f)=>o[c]=n[f]),o}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,n)=>{const o=i[n];return o.status==="fulfilled"?{promise:r,value:o.value}:{promise:r,error:o.reason}}))}async function Uxe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function cbt(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function pL(e,t=void 0,i){const r=new AbortController;return Ya(i,()=>r.abort()),new Promise((n,o)=>{let c=setTimeout(()=>{c=0,n(t)},e);Ya(r,()=>{c&&(clearTimeout(c),o(ln()))})})}function Gxe(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Ya(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function Lp(e){return e&&typeof e.then=="function"}function LB(e){return Lp(e)?e:Promise.resolve(e)}function J$(e,t=-1){let i,r,n,o,c=null;const f=(...g)=>{if(i){r=g,o&&o.reject(ln()),o=na();const T=o.promise;if(c){const E=c;c=null,E.abort()}return T}if(n=o||na(),o=null,t>0){const T=new AbortController;i=LB(e(...g,T.signal));const E=i;pL(t).then(()=>{i===E&&(o?T.abort():c=T)})}else i=1,i=LB(e(...g));const v=()=>{const T=r;r=n=i=c=null,T!=null&&f(...T)},_=i,M=n;return _.then(v,v),_.then(M.resolve,M.reject),M.promise};return f}function na(){let e,t;const i=new Promise((n,o)=>{e=n,t=o}),r=n=>{e(n)};return r.resolve=n=>e(n),r.reject=n=>t(n),r.timeout=(n,o)=>Eg.setTimeout(()=>r.reject(o),n),r.promise=i,r}async function NB(e){await Promise.resolve(),qi(e)}function hbt(e){return e}function qxe(e){return 1e3*e}function dbt(e){return e}let Wxe=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Hxe=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},xI=0;const Sv={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},_I=["prepare","preRender","render","postRender","update","finish"],SI=[],W0=new n4;let Jxe=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function Kxe(){$0!=null&&(cancelAnimationFrame($0),$0=requestAnimationFrame(fL))}const s4={frameTasks:W0,willDispatch:!1,clearFrameTasks:Yxe,dispatch:Ote,executeFrameTasks:Zxe,reschedule:Kxe};function Ag(e){const t=new Hxe(e);return SI.push(t),s4.willDispatch||(s4.willDispatch=!0,r4(Ote)),t}function tg(e){const t=new Wxe(e);return W0.push(t),$0==null&&(xI=performance.now(),$0=requestAnimationFrame(fL)),new Jxe(t)}let $0=null;function Yxe(e=!1){W0.forAll(t=>{t.removed=!0}),e&&Pte()}function fL(){const e=performance.now();$0=null,$0=W0.length>0?requestAnimationFrame(fL):null,s4.executeFrameTasks(e)}function Zxe(e){const t=e-xI;xI=e;const i=1e3/60,r=Math.max(0,t-i);Sv.time=e,Sv.frameDuration=i-r;for(let n=0;n<_I.length;n++){const o=performance.now(),c=_I[n];W0.forAll(f=>{var g;f.paused||f.removed||(n===0&&f.ticks++,f.phases[c]&&(Sv.elapsedFrameTime=performance.now()-e,Sv.deltaTime=f.ticks===0?0:t,(g=f.phases[c])==null||g.call(f,Sv)))}),Xxe[n].record(performance.now()-o)}Pte(),Qxe.record(performance.now()-e)}const c_=new n4;function Pte(){W0.forAll(e=>{e.removed&&c_.push(e)}),W0.removeUnorderedMany(c_.data,c_.length),c_.clear()}function Ote(){for(;SI.length;){const e=SI.shift();e.isActive&&e.callback()}s4.willDispatch=!1}function mbt(e=1,t){const i=na(),r=()=>{$h(t)?i.reject(ln()):e===0?i():(--e,r4(()=>r()))};return r(),i.promise}const Xxe=_I.map(e=>new Ite(e)),Qxe=new Ite("total");function e_e(e,t){for(const i of e.entries())if(t(i[0]))return!0;return!1}function o4(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function FB(e,t){return t!=null&&e.add(t),e}function Rte(e,t){const i=new Set;return o4(i,e),o4(i,t),i}function t_e(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function gbt(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function vbt(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function i_e(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function r_e(e,t){return i_e(Rte(e,t),t_e(e,t))}let n_e=0;function P2(){return++n_e}let K$=class{constructor(t){this._accessed=new Set,this._handles=[],this._observerObject=new s_e(t),DB.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;DB.unregister(this._observerObject),this._accessed.clear(),(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){this._accessed.add(t)}onTrackingEnd(){const t=this._handles,i=this._observerObject;this._accessed.forEach(r=>{t.push(r.observe(i))}),this._accessed.clear()}clear(){const t=this._handles;for(let i=0;i<t.length;++i)t[i].remove();t.length=0}},s_e=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=o_e}};const DB=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function o_e(){}let Sm=!1;const a4=[];function Lte(e,t){let i=new K$(o),r=null,n=!1;function o(){if(!i||n)return;if(Sm)return void Dte(o);const f=r;i.clear(),Sm=!0,n=!0,r=Sh(i,e),n=!1,Sm=!1,t(r,f),zte()}function c(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=Sh(i,e),n=!1,Bi(c)}function Nte(e,t){let i=new K$(n),r=null;function n(){t(r,c)}function o(){i&&(i.destroy(),i=null),r=null}function c(){return i?(i.clear(),r=Sh(i,e),r):null}return c(),Bi(o)}function Fte(e){let t=new K$(r),i=!1;function r(){t&&!i&&(Sm?Dte(r):(t.clear(),Sm=!0,i=!0,Sh(t,e),i=!1,Sm=!1,zte()))}function n(){t&&(t.destroy(),t=null)}return i=!0,Sh(t,e),i=!1,Bi(n)}function Dte(e){a4.includes(e)||a4.unshift(e)}function zte(){for(;a4.length;)a4.pop()()}var O2;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(O2||(O2={}));let Ow=class{constructor(){this.uid=P2(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,n,o){return this.pool.acquire(O2.Untracked,t,i,r,n,o,uL)}static acquireTracked(t,i,r,n){return this.pool.acquire(O2.Tracked,t,i,r,null,null,n)}notify(t,i){this.type===O2.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,n,o,c,f){this.uid=P2(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=n,this.target=o,this.path=c,this.equals=f}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=P2(),this.removed=!0}};Ow.pool=new Cte(Ow);const X5=new Ks,ph=new Set;let l4;function u4(e){ph.delete(e),ph.add(e),l4||(l4=Ag(u_e))}function a_e(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function l_e(e){for(const t of ph.values())t.target===e&&(t.removed=!0)}function u_e(){let e=10;for(;l4&&e--;){l4=null;const t=c_e(),i=X5.acquire();for(const r of t){const n=r.uid;a_e(r),n===r.uid&&r.removed&&i.push(r)}for(const r of ph)r.removed&&(i.push(r),ph.delete(r));for(const r of i)Ow.pool.release(r);X5.release(i),X5.release(t),$I.forEach(r=>r())}}function c_e(){const e=X5.acquire();e.length=ph.size;let t=0;for(const i of ph)e[t]=i,++t;return ph.clear(),e}const $I=new Set;function h_e(e){return $I.add(e),Bi(()=>$I.delete(e))}function d_e(e,t,i){let r=gte(e,t,i,(n,o,c)=>{let f,g,v=Nte(()=>V3(n,o),(_,M)=>{var T;((T=n.__accessor__)==null?void 0:T.lifecycle)===wo.DESTROYED||f&&f.uid!==g?r.remove():(f||(f=Ow.acquireUntracked(_,c,M,n,o),g=f.uid),u4(f))});return Bi(()=>{v.remove(),f&&(f.uid!==g||f.removed||(f.removed=!0,u4(f)),f=null),r=v=null})});return r}function p_e(e,t,i){const r=gte(e,t,i,(n,o,c)=>{let f=!1;return Lte(()=>V3(n,o),(g,v)=>{n.__accessor__.lifecycle!==wo.DESTROYED?f||(f=!0,uL(v,g)||c.call(n,g,v,o,n),f=!1):r.remove()})});return r}function f_e(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==wo.DESTROYED?r?p_e(e,t,i):d_e(e,t,i):Bi()}function y_e(e,t,i){let r,n,o=Nte(e,(c,f)=>{r&&r.uid!==n?o.remove():(r||(r=Ow.acquireTracked(c,t,f,i),n=r.uid),u4(r))});return Bi(()=>{o.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,u4(r)),r=null),o=null})}function m_e(e,t,i){let r=!1;return Lte(e,(n,o)=>{r||(r=!0,i(o,n)||t(n,o),r=!1)})}function g_e(e,t,i=!1,r=cte){return i?m_e(e,t,r):y_e(e,t,r)}function zB(e){return e_e(ph,t=>t.oldValue===e)}function Y$(e,t){for(const[i,r]of e)if(t(r,i))return!0;return!1}function yL(e,t,i){const r=e.get(t);if(r!==void 0)return r;const n=i();return e.set(t,n),n}function _bt(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const $m=()=>Le.getLogger("esri.core.accessorSupport.ensureTypes");function v_e(e){return e==null?e:new Date(e)}function b_e(e){return e==null?e:!!e}function G3(e){return e==null?e:e.toString()}function La(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function mL(e){return e==null?e:Math.round(parseFloat(e))}function w_e(e){return null}function Vte(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function c4(e,t){return t!=null&&e&&!(t instanceof e)}function Bte(e){return e&&"isCollection"in e}function VB(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function x_e(e,t){if(!(t!=null&&t.constructor)||!Bte(t.constructor))return MI(e,t)?t:new e(t);const i=VB(e.prototype.itemType),r=VB(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(MI(e,t),t):new e(t):t}function MI(e,t){return!!Vte(t)&&($m().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+X$(e)+"'"),!0)}function Z$(e,t){return t==null?t:Bte(e)?x_e(e,t):c4(e,t)?MI(e,t)?t:new e(t):t}function X$(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const __e=new WeakMap;function S_e(e){switch(e){case Number:return La;case zi:return mL;case Boolean:return b_e;case String:return G3;case Date:return v_e;case Q$:return w_e;default:return yL(__e,e,()=>Z$.bind(null,e))}}function vr(e,t){const i=S_e(e);return arguments.length===1?i:i(t)}function Rw(e,t,i){return arguments.length===1?Rw.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function $_e(e,t){return arguments.length===1?Rw(i=>vr(e,i)):Rw(i=>vr(e,i),t)}function Ute(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>Ute(e,t-1,r)):e(i)}function h4(e,t,i){if(arguments.length===2)return o=>h4(e,t,o);if(!i)return i;i=Ute(e,t,i);let r=t,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let o=0;o<r;o++)i=[i];return i}function M_e(e,t,i){return arguments.length===2?h4(r=>vr(e,r),t):h4(r=>vr(e,r),t,i)}function Gte(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function TI(e,t){if(arguments.length===2)return TI(e).call(null,t);const i=new Set,r=e.filter(f=>typeof f!="function"),n=e.filter(f=>typeof f=="function");for(const f of e)typeof f!="string"&&typeof f!="number"||i.add(f);let o=null,c=null;return(f,g)=>{if(f==null)return f;const v=typeof f,_=v==="string"||v==="number";return _&&(i.has(f)||n.some(M=>v==="string"&&M===String||v==="number"&&M===Number))||v==="object"&&n.some(M=>!c4(f,M))?f:(_&&r.length?(o||(o=r.map(M=>typeof M=="string"?`'${M}'`:`${M}`).join(", ")),$m().error("Accessor#set",`'${f}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof f=="object"&&n.length?(c||(c=n.map(M=>X$(M)).join(", ")),$m().error("Accessor#set",`'${f}' is not a valid value for this property, value must be one of ${c}`)):$m().error("Accessor#set",`'${f}' is not a valid value for this property`),g&&(g.valid=!1),null)}}function Qu(e,t){if(arguments.length===2)return Qu(e).call(null,t);const i={},r=[],n=[];for(const g in e.typeMap){const v=e.typeMap[g];i[g]=vr(v),r.push(X$(v)),n.push(g)}const o=()=>`'${r.join("', '")}'`,c=()=>`'${n.join("', '")}'`,f=typeof e.key=="string"?g=>g[e.key]:e.key;return g=>{if(e.base&&!c4(e.base,g)||g==null)return g;const v=f(g)||e.defaultKeyValue,_=i[v];if(!_)return $m().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${c()})`),null;if(!c4(e.typeMap[v],g))return g;if(typeof e.key=="string"&&!Vte(g)){const M={};for(const T in g)T!==e.key&&(M[T]=g[T]);return _(M)}return _(g)}}let zi=class{},Q$=class{};const Mbt={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function T_e(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function qte(e){switch(e.type){case"native":return vr(e.value);case"array":return Rw(qte(e.value));case"one-of":return k_e(e);default:return null}}function k_e(e){let t=null;return(i,r)=>CI(i,e)?i:(t==null&&(t=kI(e)),$m().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function kI(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case zi:return"integer";case Date:return"date";case Q$:return"null";default:return X$(e.value)}case"array":return`array of ${kI(e.value)}`;case"one-of":{const t=e.values.map(i=>kI(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function CI(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case zi:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Q$:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!CI(i,t.value));case"one-of":return t.values.some(i=>CI(e,i))}}function $(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),n=q$(t,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in e&&Le.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=r.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const o=e.aliasOf;if(o){const g=typeof o=="string"?o:o.source,v=typeof o=="string"?null:o.overridable===!0;let _;n.dependsOn=[g],n.get=function(){let M=Ys(this,g);if(typeof M=="function"){_||(_=g.split(".").slice(0,-1).join("."));const T=Ys(this,_);T&&(M=M.bind(T))}return M},n.readOnly||(n.set=v?function(M){this._override(i,M)}:function(M){i4(this,g,M)})}const c=e.type,f=e.types;n.cast||(c?n.cast=C_e(c):f&&(Array.isArray(f)?n.cast=Rw(Qu(f[0])):n.cast=Qu(f))),vxe(n,e),e.range&&(n.cast=I_e(n.cast,e.range))}}function Wte(e,t,i){const r=q$(e,i);r.json||(r.json={});let n=r.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function C_e(e){let t=0,i=e;if(T_e(e))return qte(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(Gte(r))return t===0?TI(r):h4(TI(r),t);if(t===1)return $_e(r);if(t>1)return M_e(r,t);const n=e;return n.from?n.from:vr(n)}function I_e(e,t){return i=>{let r=+e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function E_e(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const n=t[r];i[r].forEach(o=>{t[o]=n}),delete t[r]}}}let sl=class extends Tte{constructor(t,i,r){super(t,i,r)}};sl.prototype.type="warning";function Hte(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const II=()=>Le.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function BB(e,t,i){var r,n;e&&(!i&&!t.read||(r=t.read)!=null&&r.reader||((n=t.read)==null?void 0:n.enabled)===!1||P_e(e)&&As("read.reader",jg(e),t))}function jg(e){var i,r;const t=e.ndimArray??0;if(t>1)return j_e(e);if(t===1)return UB(e);if("type"in e&&Kte(e.type)){const n=(r=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,o=UB(typeof n=="function"?{type:n}:{types:n});return(c,f,g)=>{const v=o(c,f,g);return v&&new e.type(v)}}return gL(e)}function gL(e){return"type"in e?A_e(e.type):O_e(e.types)}function A_e(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void II().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}function Jte(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(n=>Jte(e,n,i,r-1)):e(t,void 0,i)}function j_e(e){const t=gL(e),i=Jte.bind(null,t),r=e.ndimArray??0;return(n,o,c)=>{if(n==null)return n;n=i(n,c,r);let f=r,g=n;for(;f>0&&Array.isArray(g);)f--,g=g[0];if(g!==void 0)for(let v=0;v<f;v++)n=[n];return n}}function UB(e){const t=gL(e);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const c=[];for(const f of i){const g=t(f,void 0,n);g!==void 0&&c.push(g)}return c}const o=t(i,void 0,n);return o!==void 0?[o]:void 0}}function Kte(e){if(!Hte(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?vL(t.Type):Yte(t.Type))}function P_e(e){return"types"in e?Yte(e.types):vL(e.type)}function vL(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Kte(e))}function Yte(e){for(const t in e.typeMap)if(!vL(e.typeMap[t]))return!1;return!0}function O_e(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(n,o,c)=>{if(n==null)return n;const f=typeof n;if(f!=="object")return void II().error(`Expected JSON value of type 'object' to deserialize, but got '${f}'`);t||(t=R_e(e));const g=e.key;if(typeof g!="string")return;const v=n[g],_=v?t[v]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!_){const T=`Type '${v||"unknown"}' is not supported`;return c!=null&&c.messages&&n&&c.messages.push(new sl(`${i}:unsupported`,T,{definition:n,context:c})),void II().error(T)}const M=new _;return M.read(n,c),r?r(M):M}}function R_e(e){var i,r;const t={};for(const n in e.typeMap){const o=e.typeMap[n],c=B3(o.prototype);if(typeof e.key=="function")continue;const f=c[e.key];if(!f)continue;if((i=f.json)!=null&&i.type&&Array.isArray(f.json.type)&&f.json.type.length===1&&typeof f.json.type[0]=="string"){t[f.json.type[0]]=o;continue}const g=(r=f.json)==null?void 0:r.write;if(!(g!=null&&g.writer)){t[n]=o;continue}const v=g.target,_=typeof v=="string"?v:e.key,M={};g.writer(n,M,_),M[_]&&(t[M[_]]=o)}return t}function L_e(e){if(e.json||(e.json={}),qB(e.json),WB(e.json),GB(e.json),e.json.origins)for(const t in e.json.origins)qB(e.json.origins[t]),WB(e.json.origins[t]),GB(e.json.origins[t]);return!0}function GB(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function qB(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function WB(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function HB(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&Hte(e.type))?t.write.writer=D_e:i>1?t.write.writer=z_e(i):t.types?Array.isArray(t.types)?t.write.writer=F_e(t.types[0]):t.write.writer=N_e(t.types):t.write.writer=Lw}function N_e(e){return(t,i,r,n)=>t?Zte(t,e,n)?Lw(t,i,r,n):void 0:Lw(t,i,r,n)}function Zte(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i!=null&&i.messages){const r=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new we(`${r}:unsupported`,n,{definition:e,context:i})),Le.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function F_e(e){return(t,i,r,n)=>!t||!Array.isArray(t)?Lw(t,i,r,n):Lw(t.filter(o=>Zte(o,e,n)),i,r,n)}function Lw(e,t,i,r){As(i,d4(e,r),t)}function d4(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?p4(e):e}function p4(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function D_e(e,t,i,r){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(o=>d4(o,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[d4(e,r)],As(i,n,t)}function Xte(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>Xte(r,t,i-1)):d4(e,t)}function z_e(e){return(t,i,r,n)=>{let o;if(t===null)o=null;else{o=Xte(t,n,e);let c=e,f=o;for(;c>0&&Array.isArray(f);)c--,f=f[0];if(f!==void 0)for(let g=0;g<c;g++)o=[o]}As(r,o,i)}}function V_e(e,t){return bL(e,"any",t==null?void 0:t.origin)}function EI(e,t){return bL(e,"read",t==null?void 0:t.origin)}function Qte(e,t){return bL(e,"write",t==null?void 0:t.origin)}function bL(e,t,i){let r=e==null?void 0:e.json;if(r!=null&&r.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(t==="any"||t in n)&&(r=n)}return r}function B_e(e){var i;const t=U_e(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],o=n.types?G_e(n):t;BB(o,n,!1),n.types&&!n.write&&((i=e.json.write)!=null&&i.enabled)&&(n.write={...e.json.write}),HB(o,n)}BB(t,e.json,!0),HB(t,e.json)}function U_e(e){return e.json.types?AI(e.json):e.type?eie(e):AI(e)}function G_e(e){return e.type?eie(e):AI(e)}function eie(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!Gte(i);)i=i[0],t++;return{type:i,ndimArray:t}}function AI(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function q_e(e){L_e(e)&&(E_e(e),B_e(e))}const KM=new Set,YM=new Set;function ne(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,H_e(t);const i=[],r=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!KM.has(n.initialize)&&(KM.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!YM.has(n.destroy)&&(YM.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);KM.clear(),YM.clear();const o=class extends t{constructor(...f){if(super(...f),this.constructor===o&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let g=i.length-1;g>=0;g--)i[g].call(this)}}),r.length){let g=!1;const v=this[yte];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!g){g=!0,v.call(this);for(let _=0;_<r.length;_++)r[_].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};o.__accessorMetadata__=B3(t.prototype),o.prototype.declaredClass=e;const c=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:c,configurable:!0}),o}}function W_e(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;jt(r);const n=i.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function H_e(e){const t=e.prototype,i=B3(t),r={};for(const n of Object.getOwnPropertyNames(i)){const o=i[n];q_e(o),r[n]={enumerable:!0,configurable:!0,get:W_e(n,o),set(c){const f=this.__accessor__;if(f!==void 0){if(!Object.isFrozen(this))return f.initialized&&o.readOnly?JB("read-only",n):f.lifecycle===wo.CONSTRUCTED&&o.constructOnly?JB("construct-only",n):void f.set(n,c)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:c})}}}Object.defineProperties(e.prototype,r)}const JB=(e,t)=>{Le.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var tie,iie;function J_e(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const hu=Symbol("Accessor-Handles"),jI=Symbol("Accessor-Initialized");let vt=class rie{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class c extends o{constructor(...g){super(...g),this.inherited=null,n&&n.apply(this,g)}}B3(c.prototype);for(const f in t){const g=t[f];c.prototype[f]=typeof g=="function"?function(...v){const _=this.inherited;let M;this.inherited=function(...T){if(o.prototype[f])return o.prototype[f].apply(this,T)};try{M=g.apply(this,v)}catch(T){throw this.inherited=_,T}return this.inherited=_,M}:t[f]}for(const f in i){const g=J_e(i[f]);$(g)(c.prototype,f)}return ne(r)(c)}constructor(...t){var r;if(this[tie]=null,this[iie]=!1,this.constructor===rie)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Ixe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[jI]=!0}initialize(){}[yte](){this[hu]=rr(this[hu])}destroy(){var t;this.destroyed||(l_e(this),this.__accessor__.destroy(),(t=Lxe())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[jI]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===wo.DESTROYED||!1}commitProperty(t){Ys(this,t)}get(t){return Yee(Le.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Ys(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return i4(this,t,i),this}watch(t,i,r){return f_e(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const n of r)n.remove();return}(this[hu]??(this[hu]=new F3)).add(t,i)}removeHandles(t){var i;(i=this[hu])==null||i.remove(t)}removeAllHandles(){var t;(t=this[hu])==null||t.removeAll()}removeHandlesReference(t){var i;(i=this[hu])==null||i.removeReference(t)}hasHandles(t){var i;return((i=this[hu])==null?void 0:i.has(t))===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};tie=hu,iie=jI;const sr=e=>{let t=class extends e{clone(){var g;const i=js(this);fte(i,"unable to clone instance of non-accessor class");const r=i.metadata,n=i.store,o={},c=new Map;for(const v in r){const _=r[v],M=n==null?void 0:n.originOf(v),T=_.clonable;if(_.readOnly||T===!1||M!==ri.USER&&M!==ri.DEFAULTS&&M!==ri.WEB_MAP&&M!==ri.WEB_SCENE)continue;const E=this[v];let j=null;j=typeof T=="function"?T(E):T==="reference"?E:mI(E),E!=null&&j==null||(M===ri.DEFAULTS?c.set(v,j):o[v]=j)}const f=new(Object.getPrototypeOf(this)).constructor(o);if(c.size){const v=(g=js(f))==null?void 0:g.store;if(v)for(const[_,M]of c)v.set(_,M,ri.DEFAULTS)}return f}};return t=b([ne("esri.core.Clonable")],t),t};let PI=class extends sr(vt){};PI=b([ne("esri.core.Clonable")],PI);let df=class extends PI{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};b([$({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],df.prototype,"row",void 0),b([$({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],df.prototype,"column",void 0),b([$({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],df.prototype,"rows",void 0),b([$({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],df.prototype,"columns",void 0),df=b([ne("esri.CameraLayout")],df);const nie=df;function hl(){return[0,0,0]}function K_e(e){return[e[0],e[1],e[2]]}function q3(e,t,i){return[e,t,i]}function Y_e(e,t=hl()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Z_e(e,t){return new Float64Array(e,t,3)}function sie(){return hl()}function oie(){return q3(1,1,1)}function aie(){return q3(1,0,0)}function lie(){return q3(0,1,0)}function uie(){return q3(0,0,1)}const X_e=sie(),Q_e=oie(),e5e=aie(),t5e=lie(),i5e=uie();Object.freeze(Object.defineProperty({__proto__:null,ONES:Q_e,UNIT_X:e5e,UNIT_Y:t5e,UNIT_Z:i5e,ZEROS:X_e,clone:K_e,create:hl,createView:Z_e,fromArray:Y_e,fromValues:q3,ones:oie,unitX:aie,unitY:lie,unitZ:uie,zeros:sie},Symbol.toStringTag,{value:"Module"}));let wL=1e-6;function eo(){return wL}function r5e(e){wL=e}const e7=Math.random,n5e=Math.PI/180,s5e=180/Math.PI;function xL(e){return e*n5e}function o5e(e){return e*s5e}function a5e(e,t){return Math.abs(e-t)<=wL*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:e7,equals:a5e,getEpsilon:eo,setEpsilon:r5e,toDegree:o5e,toRadian:xL},Symbol.toStringTag,{value:"Module"}));function _L(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function cie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function hie(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function die(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function R2(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function pie(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function fie(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function l5e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function u5e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function c5e(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function h5e(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function d5e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function p5e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function f5e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function SL(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function y5e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function yie(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}function mie(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function gie(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function m5e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function g5e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function OI(e,t){const i=t[0],r=t[1],n=t[2];let o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function f4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v5e(e,t,i){const r=t[0],n=t[1],o=t[2],c=i[0],f=i[1],g=i[2];return e[0]=n*g-o*f,e[1]=o*c-r*g,e[2]=r*f-n*c,e}function b5e(e,t,i,r){const n=t[0],o=t[1],c=t[2];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=c+r*(i[2]-c),e}function w5e(e,t,i,r,n,o){const c=o*o,f=c*(2*o-3)+1,g=c*(o-2)+o,v=c*(o-1),_=c*(3-2*o);return e[0]=t[0]*f+i[0]*g+r[0]*v+n[0]*_,e[1]=t[1]*f+i[1]*g+r[1]*v+n[1]*_,e[2]=t[2]*f+i[2]*g+r[2]*v+n[2]*_,e}function x5e(e,t,i,r,n,o){const c=1-o,f=c*c,g=o*o,v=f*c,_=3*o*f,M=3*g*c,T=g*o;return e[0]=t[0]*v+i[0]*_+r[0]*M+n[0]*T,e[1]=t[1]*v+i[1]*_+r[1]*M+n[1]*T,e[2]=t[2]*v+i[2]*_+r[2]*M+n[2]*T,e}function _5e(e,t){t=t||1;const i=e7,r=2*i()*Math.PI,n=2*i()-1,o=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=n*t,e}function S5e(e,t,i){const r=t[0],n=t[1],o=t[2];return e[0]=i[0]*r+i[4]*n+i[8]*o+i[12],e[1]=i[1]*r+i[5]*n+i[9]*o+i[13],e[2]=i[2]*r+i[6]*n+i[10]*o+i[14],e}function $5e(e,t,i){const r=t[0],n=t[1],o=t[2];return e[0]=r*i[0]+n*i[3]+o*i[6],e[1]=r*i[1]+n*i[4]+o*i[7],e[2]=r*i[2]+n*i[5]+o*i[8],e}function M5e(e,t,i){const r=i[0],n=i[1],o=i[2],c=i[3],f=t[0],g=t[1],v=t[2],_=n*v-o*g,M=o*f-r*v,T=r*g-n*f,E=n*T-o*M,j=o*_-r*T,R=r*M-n*_,N=2*c;return e[0]=f+_*N+2*E,e[1]=g+M*N+2*j,e[2]=v+T*N+2*R,e}function T5e(e,t,i,r){const n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function k5e(e,t,i,r){const n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function C5e(e,t,i,r){const n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function I5e(e,t){OI(KB,e),OI(YB,t);const i=f4(KB,YB);return i>1?0:i<-1?Math.PI:Math.acos(i)}const KB=hl(),YB=hl();function E5e(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function A5e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function j5e(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],o=t[0],c=t[1],f=t[2],g=eo();return Math.abs(i-o)<=g*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-c)<=g*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=g*Math.max(1,Math.abs(n),Math.abs(f))}function P5e(e,t,i){const r=i[0]-t[0],n=i[1]-t[1],o=i[2]-t[2];let c=r*r+n*n+o*o;return c>0?(c=1/Math.sqrt(c),e[0]=r*c,e[1]=n*c,e[2]=o*c,e):(e[0]=0,e[1]=0,e[2]=0,e)}const O5e=R2,R5e=pie,L5e=fie,N5e=yie,F5e=mie,D5e=_L,z5e=gie;Object.freeze(Object.defineProperty({__proto__:null,abs:c5e,add:die,angle:I5e,bezier:x5e,ceil:l5e,copy:cie,cross:v5e,direction:P5e,dist:N5e,distance:yie,div:L5e,divide:fie,dot:f4,equals:j5e,exactEquals:A5e,floor:u5e,hermite:w5e,inverse:g5e,len:D5e,length:_L,lerp:b5e,max:p5e,min:d5e,mul:R5e,multiply:pie,negate:m5e,normalize:OI,random:_5e,rotateX:T5e,rotateY:k5e,rotateZ:C5e,round:f5e,scale:SL,scaleAndAdd:y5e,set:hie,sign:h5e,sqrDist:F5e,sqrLen:z5e,squaredDistance:mie,squaredLength:gie,str:E5e,sub:O5e,subtract:R2,transformMat3:$5e,transformMat4:S5e,transformQuat:M5e},Symbol.toStringTag,{value:"Module"}));const ZB=new Float32Array(1);function Ibt(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ol(e,t,i){return Math.min(Math.max(e,t),i)}function Ebt(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function vb(e,t,i){return e+(t-e)*i}function Abt(e,t,i,r,n){return vb(r,n,(e-t)/(i-t))}function Hd(e){return e*Math.PI/180}function vie(e){return 180*e/Math.PI}function jbt(e){return Math.acos(ol(e,-1,1))}function bie(e){return Math.asin(ol(e,-1,1))}function cp(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}const y4=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function RI(e){return y4.setFloat64(0,e),y4.getBigInt64(0)}function V5e(e){return y4.setBigInt64(0,e),y4.getFloat64(0)}const Q5=BigInt("1000000"),B5e=wie(1);function wie(e){const t=RI(e=Math.abs(e)),i=V5e(t<=Q5?Q5:t-Q5);return Math.abs(e-i)}function Pbt(e,t,i=B5e){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&wie(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=RI(e),n=RI(t);return r<0!=n<0?!1:!((r<n?n-r:r-n)>Q5)}function U5e(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),n=Math.abs(e),o=Math.abs(t);if(e===0||t===0||n<1e-12&&o<1e-12){if(r>.01*i)return!1}else if(r/(n+o)>i)return!1;return!0}function G5e(e){return xie(Math.max(-LI,Math.min(e,LI)))}function xie(e){return ZB[0]=e,ZB[0]}function Obt(e,t){const i=_L(e),r=bie(e[2]/i),n=Math.atan2(e[1]/i,e[0]/i);return hie(t,i,r,n),t}function Rbt(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(cp(t,1)&&cp(i,1)&&cp(r,1))}const LI=xie(34028234663852886e22);let q5e=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,r=!1){return XB(this.range,this.min,this.max,t,i,r)}clamp(t,i=0){return ol(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+NI(this.range,t-i,r)}minimalMonotonic(t,i,r){return XB(this.range,t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,n=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(n)?r:n}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function XB(e,t,i,r,n=0,o=!1){return(r-=n)<t?r+=NI(e,t-r):r>i&&(r-=NI(e,r-i)),o&&r===i&&(r=t),r+n}function NI(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const W5e=new q5e(0,360);let H5e=class _ie{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new _ie;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,be(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??ri.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>{var n;return((n=this._values.get(r))==null?void 0:n.origin)===t})}set(t,i,r){if((r=this._normalizeOrigin(r))===ri.DEFAULTS){const n=this._values.get(t);if((n==null?void 0:n.origin)!=null&&n.origin>r)return}this._values.set(t,new J5e(i,r))}delete(t,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(t))==null?void 0:r.origin)!==i||this._values.delete(t)}has(t,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(t))==null?void 0:r.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ri.DEFAULTS?t:ri.USER}},J5e=class{constructor(t,i){this.value=t,this.origin=i}};function Sie(e,t,i){t.keys().forEach(n=>{i.set(n,t.get(n),ri.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(n=>{e.internalGet(n)&&i.set(n,e.internalGet(n),ri.DEFAULTS)})}function K5e(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&CB(r,i))return!0}else for(const n of r)if(n===t||n.includes(".")&&n.indexOf(t)===0&&CB(n,i))return!0;return!1}function Y5e(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Z5e(e,t,i,r,n){let o=EI(t[i],n);Y5e(o)&&(e[i]=!0);for(const c of Object.getOwnPropertyNames(t))o=EI(t[c],n),K5e(o,i,r)&&(e[c]=!0)}function X5e(e,t,i,r){const n=i.metadata,o=V_e(n[t],r),c=o==null?void 0:o.default;if(c===void 0)return;const f=typeof c=="function"?c.call(e,t,r):c;f!==void 0&&i.set(t,f)}const $ie={origin:"service"};function Mie(e,t,i=$ie){if(!t||typeof t!="object")return;const r=js(e),n=r.metadata,o={};for(const c of Object.getOwnPropertyNames(t))Z5e(o,n,c,t,i);r.setDefaultOrigin(i.origin);for(const c of Object.getOwnPropertyNames(o)){const f=EI(n[c],i).read,g=f==null?void 0:f.source;let v;v=g&&typeof g=="string"?V3(t,g):t[c],f!=null&&f.reader&&(v=f.reader.call(e,v,t,i)),v!==void 0&&r.set(c,v)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const c of Object.getOwnPropertyNames(n))o[c]||X5e(e,c,r,i)}r.setDefaultOrigin("user")}function Q5e(e,t,i,r=$ie){var o;const n={...r,messages:[]};i(n),(o=n.messages)==null||o.forEach(c=>{c.type!=="warning"||e.loaded?r!=null&&r.messages&&r.messages.push(c):e.loadWarnings.push(c)})}function eSe(e,t,i,r,n){var c,f;const o={};return(f=(c=t.write)==null?void 0:c.writer)==null||f.call(e,r,o,i,n),o}function Tie(e,t,i,r,n,o){if(!(r!=null&&r.write))return!1;const c=Ys(e,i);if(!n&&r.write.overridePolicy){const f=r.write.overridePolicy.call(e,c,i,o??void 0);f!==void 0&&(n=f)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&(o!=null&&o.layerContainerType)&&!n.layerContainerTypes.includes(o.layerContainerType))return!1;if((c===null&&!n.allowNull&&!n.writerEnsuresNonNull||c===void 0)&&n.isRequired){const f=new we("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return f&&(o!=null&&o.messages)?o.messages.push(f):f&&!o&&Le.getLogger("esri.core.accessorSupport.write").error(f.name,f.message),!1}return!(c===void 0||c===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ri.DEFAULTS)&&tSe(e,i,o,r,c)||!n.ignoreOrigin&&(o!=null&&o.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<Wd(o.origin))}function tSe(e,t,i,r,n){const o=r.default;if(o===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof o=="function"){if(Array.isArray(n)){const c=o.call(e,t,i??void 0);return V$(c,n)}return!1}return o===n}function kie(e,t,i,r){const n=js(e),o=n.metadata,c=Qte(o[t],r);return!!c&&Tie(e,n,t,c,i,r)}function Cie(e,t,i){var o,c;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return K5(t,e.toJSON(i));const r=js(e),n=r.metadata;for(const f in n){const g=Qte(n[f],i);if(!Tie(e,r,f,g,void 0,i))continue;const v=Ys(e,f),_=eSe(e,g,g.write&&typeof g.write.target=="string"?g.write.target:f,v,i);Object.keys(_).length>0&&(t=K5(t,_),(c=(o=i==null?void 0:i.resources)==null?void 0:o.pendingOperations)!=null&&c.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>K5(t,_,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:f,oldOrigin:Mxe(r.store.originOf(f)),newOrigin:i.origin}))}return t}const W3=e=>{let t=class extends e{constructor(...i){super(...i);const r=js(this),n=r.store,o=new H5e;r.store=o,Sie(r,n,o)}read(i,r){Mie(this,i,r)}write(i,r){return Cie(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return iSe.call(this,i,r)}};return t=b([ne("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function iSe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}function m4(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let Ne=class extends W3(vt){};Ne=b([ne("esri.core.JSONSupport")],Ne);const rSe=Object.prototype.toString;function nSe(e){const t="__accessorMetadata__"in e?vr(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return sSe.apply(this,i)}}function sSe(e,t,i,r){q$(e,t).cast=r}function oSe(e){return(t,i)=>{q$(t,e).cast=t[i]}}function $i(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&rSe.call(e[0])==="[object Function]"?nSe(e[0]):e.length===1&&typeof e[0]=="string"?oSe(e[0]):void 0}function qe(e,t,i){let r,n;return t===void 0||Array.isArray(t)?(n=e,i=t,r=[void 0]):(n=t,r=Array.isArray(e)?e:[e]),(o,c)=>{const f=o.constructor.prototype;r.forEach(g=>{const v=Wte(o,g,n);v.read&&typeof v.read=="object"||(v.read={}),v.read.reader=f[c],i&&(v.read.source=(v.read.source||[]).concat(i))})}}function Ze(e,t,i){let r,n;return t===void 0?(n=e,r=[void 0]):typeof t!="string"?(n=e,r=[void 0],i=t):(n=t,r=Array.isArray(e)?e:[e]),(o,c)=>{const f=o.constructor.prototype;for(const g of r){const v=Wte(o,g,n);v.write&&typeof v.write=="object"||(v.write={}),i&&(v.write.target=i),v.write.writer=f[c]}}}let oi=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=aSe(t),this.apiValues=QB(this._apiToJSON),this.jsonValues=QB(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,o)=>{const c=this.toJSON(r);c!==void 0&&As(o,c,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function aSe(e){const t={};for(const i in e)t[e[i]]=i;return t}function QB(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Rs(){return function(e,t){return new oi(e,{ignoreUnknown:!0,...t})}}let $L=class{constructor(t,i,r,n){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Fr=new $L(6378137,1/298.257223563,3e5,.006694379990137799),Ku=new $L(3396190,1/169.8944472236118,23e4),bp=new $L(1737400,0,0),lSe=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,uSe={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function eU(e){const t=e==null?void 0:e.match(lSe);if(!t)return null;const[,i,r,n]=t;if(!i)return null;let o=null,c=null,f=null;const{devext:g,qaext:v,www:_}=uSe;if(r)if(o=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:c,portalHostname:f}=g);break;case"qa":({customBaseUrl:c,portalHostname:f}=v);break;default:return null}else({customBaseUrl:c,portalHostname:f}=_);else switch(i.toLowerCase()){case"devext":({customBaseUrl:c,portalHostname:f}=g);break;case"qaext":({customBaseUrl:c,portalHostname:f}=v);break;case"www":({customBaseUrl:c,portalHostname:f}=_);break;default:return null}return{customBaseUrl:c,isPortal:!1,portalHostname:f,urlKey:o}}function cSe(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function Iie(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function hSe(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function dSe(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const pSe=()=>Le.getLogger("esri.core.urlUtils"),Pg=yi.request,tU="esri/config: esriConfig.request.proxyUrl is not set.",Eie=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Aie=/^\s*http:/i,fSe=/^\s*https:/i,ySe=/^\s*file:/i,mSe=/:\d+$/,gSe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,vSe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),bSe=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let M0=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(vSe);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(bSe),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const h_={},wSe=new M0(yi.applicationUrl);let $s=wSe;const xSe=_Se();let ML=xSe;const TL=()=>$s,Bbt=()=>ML;function _Se(){const e=$s.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${$s.scheme}://${$s.host}${$s.port!=null?`:${$s.port}`:""}`}${t}`}function Bn(e){if(!e)return null;const t={path:null,query:null},i=new M0(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.substring(0,r),t.query=kL(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.substring(0,t.path.length-(i.fragment.length+1)))),t}function kL(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const n=r.indexOf("=");let o,c;n<0?(o=decodeURIComponent(r),c=""):(o=decodeURIComponent(r.slice(0,n)),c=decodeURIComponent(r.slice(n+1)));let f=i[o];typeof f=="string"&&(f=i[o]=[f]),Array.isArray(f)?f.push(c):i[o]=c}return i}function Nw(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",o=t==null?void 0:t[i];return o?n+encodeURIComponent(o(r)):Array.isArray(r)?r.map(c=>m4(c)?n+encodeURIComponent(JSON.stringify(c)):n+encodeURIComponent(c)).join("&"):m4(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function SSe(e=!1){let t,i=Pg.proxyUrl;if(typeof e=="string"){t=ESe(e);const r=t7(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw pSe().warn(tU),new we("urlUtils:proxy-not-set",tU);return t&&DI()&&(i=jL(i)),Bn(i)}function $Se(e){const t=t7(e);let i,r;if(t){const n=CL(t.proxyUrl);i=n.path,r=n.query?kL(n.query):null}if(i){const n=Bn(e);e=i+"?"+n.path;const o=Nw({...r,...n.query});o&&(e=`${e}?${o}`)}return e}const $v={path:"",query:""};function CL(e){const t=e.indexOf("?");return t!==-1?($v.path=e.slice(0,t),$v.query=e.slice(t+1)):($v.path=e,$v.query=null),$v}function jie(e){return e=(e=v4(e=LSe(e=CL(e).path),!0)).toLowerCase()}function MSe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:jie(e.urlPrefix)},i=Pg.proxyRules,r=t.urlPrefix;let n=i.length;for(let o=0;o<i.length;o++){const c=i[o].urlPrefix;if(r.indexOf(c)===0){if(r.length===c.length)return-1;n=o;break}c.indexOf(r)===0&&(n=o+1)}return i.splice(n,0,t),n}function t7(e){const t=Pg.proxyRules,i=jie(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function TSe(e,t){if(!e||!t)return!1;e=g4(e),t=g4(t);const i=eU(e),r=eU(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&ig(e,t,!0)}function Pie(e,t){return e=g4(e),t=g4(t),v4(e)===v4(t)}function g4(e){const t=(e=Za(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function FI(e,t=Pg.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function ig(e,t,i=!1){if(!e||!t)return!1;const r=VI(e),n=VI(t);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function IL(e){if(typeof e=="string"){if(!ea(e))return!0;e=VI(e)}if(ig(e,$s))return!0;const t=Pg.trustedServers||[];for(let i=0;i<t.length;i++){const r=kSe(t[i]);for(let n=0;n<r.length;n++)if(ig(e,r[n]))return!0}return!1}function kSe(e){return h_[e]||(AL(e)||ec(e)?h_[e]=[new M0(Da(e))]:h_[e]=[new M0(`http://${e}`),new M0(`https://${e}`)]),h_[e]}function Da(e,t=ML,i){return ec(e)?i!=null&&i.preserveProtocolRelative?e:$s.scheme==="http"&&$s.authority===Xa(e).slice(2)?`http:${e}`:`https:${e}`:AL(e)?e:rg(e[0]==="/"?OSe(t):t,e)}function EL(e,t=ML,i){if(e==null||!ea(e))return e;const r=Za(e),n=r.toLowerCase(),o=Za(t).toLowerCase().replace(/\/+$/,""),c=i?Za(i).toLowerCase().replace(/\/+$/,""):null;if(c&&o.indexOf(c)!==0)return e;const f=(M,T,E)=>(E=M.indexOf(T,E))===-1?M.length:E;let g=f(n,"/",n.indexOf("//")+2),v=-1;for(;n.slice(0,g+1)===o.slice(0,g)+"/"&&(v=g+1,g!==n.length);)g=f(n,"/",g+1);if(v===-1||c&&v<c.length)return e;e=r.slice(v);const _=o.slice(v-1).replaceAll(/[^/]+/g,"").length;if(_>0)for(let M=0;M<_;M++)e=`../${e}`;else e=`./${e}`;return e}function Za(e){return e=DSe(e=FSe(e=NSe(e=Da(e=e.trim()))))}function rg(...e){const t=e.filter(ss);if(!(t!=null&&t.length))return;const i=[];if(ea(t[0])){const n=t[0],o=n.indexOf("//");o!==-1&&(i.push(n.slice(0,o+1)),jSe(t[0])&&(i[0]+="/"),t[0]=n.slice(o+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((n,o)=>o?n.concat(o.split("/")):n,[]);for(let n=0;n<r.length;n++){const o=r[n];o===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!o&&n===r.length-1||o&&(o!=="."||i.length===0))&&i.push(o)}return i.join("/")}function Xa(e,t=!1){if(e==null||i7(e)||g1(e))return null;let i=e.indexOf("://");if(i===-1&&ec(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=v4(e,!0)),e}function ea(e){return ec(e)||AL(e)}function i7(e){return e!=null&&e.slice(0,5)==="blob:"}function g1(e){return e!=null&&e.slice(0,5)==="data:"}function CSe(e){const t=Fw(e);return t!=null&&t.isBase64?hSe(t.data):null}function Ubt(e){return dSe(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const ISe=/^data:(.*?)(;base64)?,(.*)$/;function Fw(e){const t=e.match(ISe);if(!t)return null;const[,i,r,n]=t;return{mediaType:i,isBase64:!!r,data:n}}function Oie(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Gbt(e){return(await fetch(e)).blob()}function qbt(e){const t=CSe(e);if(!t)return null;const i=Fw(e);return new Blob([t],{type:i.mediaType})}function ec(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function AL(e){return e!=null&&Eie.test(e)}function ESe(e){return e!=null&&fSe.test(e)||$s.scheme==="https"&&ec(e)}function ASe(e){return e!=null&&Aie.test(e)||$s.scheme==="http"&&ec(e)}function jSe(e){return e!=null&&ySe.test(e)}function jL(e){return ec(e)?`https:${e}`:e.replace(Aie,"https:")}function PSe(){return $s.scheme==="http"}function DI(){return $s.scheme==="https"}function v4(e,t=!1){return ec(e)?e.slice(2):(e=e.replace(Eie,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function OSe(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function RSe(e){let t=0;if(ea(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function Wbt(e,t){if(!e)return"";const i=Bn(e).path.replace(/\/+$/,""),r=i.substring(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return r;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(n,"")}function LSe(e){return e.endsWith("/")?e:`${e}/`}function Rie(e){return e.replace(/\/+$/,"")}function NSe(e){if(/^https?:\/\//i.test(e)){const t=CL(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function FSe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function DSe(e){const t=Pg.httpsDomains;if(!ASe(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),mSe.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return PSe()&&r===$s.authority&&!gSe.test(e)||(DI()&&r===$s.authority||t&&t.some(n=>r===n||r.endsWith(`.${n}`))||DI()&&!t7(e))&&(e=jL(e)),e}function zI(e,t,i){if(!(t&&i&&e&&ea(e)))return e;const r=e.indexOf("//"),n=e.indexOf("/",r+2),o=e.indexOf(":",r+2),c=Math.min(n<0?e.length:n,o<0?e.length:o);return e.slice(r+2,c).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(c)}`}function VI(e){return typeof e=="string"?new M0(Da(e)):(e.scheme||(e.scheme=$s.scheme),e)}function Hbt(e){return VSe.test(e)}function Lie(e,t){const i=Bn(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function zSe(e,t,i){const r=Bn(e),n=r.query||{};return n[t]=String(i),`${r.path}?${Nw(n)}`}function L2(e,t){if(!t)return e;const i=Bn(e),r=i.query||{};for(const[o,c]of Object.entries(t))c!=null&&(r[o]=c);const n=Nw(r);return n?`${i.path}?${n}`:i.path}function Jbt(e){if(e==null)return null;const t=e.match(Nie);return t?t[2]:null}function iU(e){if(e==null)return null;const t=e.match(Nie);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Kbt(e){return typeof e=="string"?Fw(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Fw(r.result)),r.onerror=n=>i(n)})}const Nie=/([^.]*)\.([^/]*)$/,VSe=/(^data:image\/svg|\.svg$)/i,Fie="20240724",Die="ac51c09e1d17be02f839eb2e22bd05fd7a16c2d3";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const BSe="4.30";let ii,PL=BSe;PL="4.30.9";function Ybt(e){ii=e}function Zbt(e){const t=ii==null?void 0:ii.findCredential(e);return t!=null&&t.token?zSe(e,"token",t.token):e}ke("host-webworker");const USe=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function zie(e){const t=Xa(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!USe.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function GSe(e,t,i=!1,r){return new Promise((n,o)=>{if($h(r))return void o(rU());let c=()=>{v(),o(new Error(`Unable to load ${t}`))},f=()=>{const _=e;v(),n(_)},g=()=>{if(!e)return;const _=e;v(),_.src="",o(rU())};const v=()=>{ke("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",f)),c=null,f=null,e=null,r!=null&&r.removeEventListener("abort",g),g=null,i&&URL.revokeObjectURL(t)};r!=null&&r.addEventListener("abort",g),ke("esri-image-decode")?e.decode().then(f,c):(e.addEventListener("error",c),e.addEventListener("load",f))})}function rU(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Vie="Timeout exceeded";function qSe(){return new Error(Vie)}function Xbt(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===Vie}function WSe(e){yi.request.crossOriginNoCorsDomains||(yi.request.crossOriginNoCorsDomains={});const t=yi.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[Xa(i)??""]=0:(t[Xa("http://"+i)??""]=0,t[Xa("https://"+i)??""]=0)}function HSe(e){const t=yi.request.crossOriginNoCorsDomains;if(t){let i=Xa(e);if(i)return i=i.toLowerCase(),!ig(i,TL())&&t[i]<Date.now()-36e5}return!1}async function JSe(e){var n;const t=yi.request.crossOriginNoCorsDomains,i=Xa(e);t&&i&&(t[i.toLowerCase()]=Date.now());const r=Bn(e);e=r.path,((n=r.query)==null?void 0:n.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Vi(e,t){var T;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=kL(t.query.toString().replaceAll("+"," ")));const i=g1(e),r=i7(e);r||i||(e=Za(e));const n={url:e,requestOptions:{...t}},o=E=>({data:E,getAllHeaders:ng,getHeader:ng,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),c=FI(e,Aa.internalInterceptors);if(c){const E=await sU(c,n);if(E!=null)return o(E)}let f=FI(e);if(f){const E=await sU(f,n);if(E!=null)return o(E);f.after||f.error||(f=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(ke("host-webworker")||ke("host-node")))throw Yu("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw Yu("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw Yu("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await QSe(),b4)return b4.execute(e,t);const g=new AbortController,v=Ya(t,()=>g.abort()),_={controller:g,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:f,params:n,redoRequest:!1,useIdentity:Aa.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},M=await r9e(_).finally(()=>v==null?void 0:v.remove());return(T=f==null?void 0:f.after)==null||T.call(f,M),M}let b4;const Aa=yi.request,Bie="FormData"in globalThis,KSe=new Set([499,498,403,401]),YSe=new Set(["COM_0056","COM_0057","SB_0008"]),ZSe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],ng=()=>null,w4=Symbol();function XSe(e){const t=Xa(e);t&&!Vi._corsServers.includes(t)&&Vi._corsServers.push(t)}function nU(e){const t=Xa(e);return!t||t.endsWith(".arcgis.com")||Vi._corsServers.includes(t)||IL(t)}function Yu(e,t,i,r){let n="Error";const o={url:i.url,requestOptions:i.requestOptions,getAllHeaders:ng,getHeader:ng,ssl:!1};if(t instanceof we)return t.details?(t.details=be(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=o,t;if(t){const c=r&&(()=>Array.from(r.headers)),f=r&&(_=>r.headers.get(_)),g=r==null?void 0:r.status,v=t.message;v&&(n=v),c&&f&&(o.getAllHeaders=c,o.getHeader=f),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||g||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=w4 in t?t[w4]:t}return Os(t)?ln():new we(e,n,o)}async function QSe(){ke("host-webworker")&&!b4&&(b4=await Ce(()=>import("./request-uQSMja_P.js"),[],import.meta.url))}async function BI(){ii||await Ce(()=>import("./IdentityManager-BEb8TX9J.js"),[],import.meta.url)}async function e9e(e){var f;const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,n=i.body;let o=null,c=null;if(Bie&&"HTMLFormElement"in globalThis&&(n instanceof FormData?o=n:n instanceof HTMLFormElement&&(o=new FormData(n))),typeof n=="string"&&(c=n),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Aa.priority,redirect:"follow",signal:r},(o||c)&&(e.fetchOptions.body=o||c),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(f=i.query)!=null&&f.token||o!=null&&o.get("token")),!e.hasToken&&yi.apiKey&&zie(t)&&(i.query||(i.query={}),i.query.token=yi.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!Uie(t)&&!$h(r)){let g;i.authMode==="immediate"?(await BI(),g=await ii.getCredential(t,{signal:r}),e.credential=g):i.authMode==="no-prompt"?(await BI(),g=await ii.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=g):ii&&(g=ii.findCredential(t)),g&&(e.credentialToken=g.token,e.useSSL=!!g.ssl)}}function Uie(e){return ZSe.some(t=>t.test(e))}async function t9e(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},n=i7(t)||g1(t),o=i.responseType||"json",c=n?0:i.timeout!=null?i.timeout:Aa.timeout;let f=!1;if(!n){e.useSSL&&(t=jL(t));let T={...i.query};e.credentialToken&&(T.token=e.credentialToken);let E=Nw(T);ke("esri-url-encodes-apostrophe")&&(E=E.replaceAll("'","%27"));const j=t.length+1+E.length;let R;f=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||j>Aa.maxUrlLength;const N=i.useProxy||!!t7(t);if(N){const F=SSe(t);R=F.path,!f&&R.length+1+j>Aa.maxUrlLength&&(f=!0),F.query&&(T={...F.query,...T})}if(r.method==="HEAD"&&(f||N)){if(f)throw j>Aa.maxUrlLength?Yu("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Yu("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(N)throw Yu("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(f?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=L2(t,T):(r.body=Nw(T),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=L2(t,T),N&&(e.useProxy=!0,t=`${R}?${t}`),T.token&&Bie&&r.body instanceof FormData&&!cSe(t)&&r.body.set("token",T.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!ig(t,TL())){if(IL(t))e.withCredentials=!0;else if(ii){const F=ii.findServerInfo(t);F!=null&&F.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(r.credentials="include",HSe(t)&&await JSe(f?L2(t,T):t))}let g,v,_=0,M=!1;c>0&&(_=setTimeout(()=>{M=!0,e.controller.abort()},c));try{if(i.responseType==="native-request-init")v=r,v.url=t;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||f||i9e(i.headers)||!n&&!e.useProxy&&Aa.proxyUrl&&!nU(t)){if(Vi._beforeFetch&&await Vi._beforeFetch(t,r),g=await fetch(t,r),Vi._afterFetch&&await Vi._afterFetch(g),e.useProxy||XSe(t),i.responseType==="native")v=g;else if(r.method!=="HEAD")if(g.ok){switch(o){case"array-buffer":v=await g.arrayBuffer();break;case"blob":case"image":v=await g.blob();break;default:v=await g.text()}if(_&&(clearTimeout(_),_=0),o==="json"||o==="xml"||o==="document")if(v)switch(o){case"json":v=JSON.parse(v);break;case"xml":v=oU(v,"application/xml");break;case"document":v=oU(v,"text/html")}else v=null;if(v){if(o==="array-buffer"||o==="blob"){const T=g.headers.get("Content-Type");if(T&&/application\/json|text\/plain/i.test(T)&&v[o==="blob"?"size":"byteLength"]<=750)try{const E=await new Response(v).json();E.error&&(v=E)}catch{}}o==="image"&&v instanceof Blob&&(v=await aU(URL.createObjectURL(v),e,!0))}}else{v=await g.text();try{v=JSON.parse(v)}catch{}}}else v=await aU(t,e)}catch(T){if(T.name==="AbortError")throw M?qSe():ln("Request canceled");if(!(!g&&T instanceof TypeError&&Aa.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||nU(t))throw T;e.redoRequest=!0,MSe({proxyUrl:Aa.proxyUrl,urlPrefix:Xa(t)??""})}finally{_&&clearTimeout(_)}return[g,v]}async function sU(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(n){i=Yu("request:interceptor",n,t)}if((r instanceof Error||r instanceof we)&&(i=Yu("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function i9e(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function oU(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function r9e(e){var o,c;let t,i;await e9e(e);try{do[t,i]=await t9e(e);while(!await n9e(e,t,i))}catch(f){const g=Yu("request:server",f,e.params,t);throw g.details.ssl=e.useSSL,(o=e.interceptor)!=null&&o.error&&e.interceptor.error(g),g}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&((c=i.user)!=null&&c.username)&&!IL(r)){const f=Xa(r,!0);f&&Aa.trustedServers.push(f)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&WSe(i.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&ii){const f=ii.findServerInfo(n.server);let g=f==null?void 0:f.owningSystemUrl;if(g){g=g.replace(/\/?$/,"/sharing");const v=ii.findCredential(g,n.userId);v&&ii._getIdenticalSvcIdx(g,v)===-1&&v.resources.unshift(g)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):ng,getHeader:t?f=>t.headers.get(f):ng,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function n9e(e,t,i){var v;if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,o;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[w4]=i,n.details=i.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[w4]=i,n;let c,f=null;n&&(o=Number(n.code),f=n.hasOwnProperty("subcode")?Number(n.subcode):null,c=n.messageCode,c=c==null?void 0:c.toUpperCase());const g=r.authMode;if(o===403&&(f===4||(v=n.message)!=null&&v.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(g!=="no-prompt"||o===498)&&o!==void 0&&KSe.has(o)&&!Uie(e.params.url)&&(o!==403||(!c||!YSe.has(c))&&(f==null||f===2&&e.credentialToken))){await BI();try{const _=await ii.getCredential(e.params.url,{error:Yu("request:server",n,e.params),prompt:g!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=_,e.credentialToken=_.token,e.useSSL=e.useSSL||_.ssl,!1}catch(_){if(g==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=_}}if(n)throw n;return!0}function aU(e,t,i=!1){const r=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Aa.priority,n.src=e,GSe(n,e,i,r)}Vi._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Vi._beforeFetch=void 0,Vi._afterFetch=void 0;function Si(e){if(!yi.assetsPath)throw Le.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new we("assets:path-not-set","config.assetsPath is not set");return rg(yi.assetsPath,e)}let ZM,_e=null;function OL(){return!!_e}function s9e(){return!!ke("esri-wasm")}function Gie(){return ZM||(ZM=Ce(()=>import("./pe-wasm-CNCaTvCg.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Si(`esri/geometry/support/${t}`)})).then(e=>{Wie(e)}),ZM)}var UI,Tr,GI;(function(e){function t(o,c,f){_e.ensureCache.prepare();const g=Xf(f),v=f===g,_=_e.ensureFloat64(g),M=_e._pe_geog_to_proj(_e.getPointer(o),c,_);return M&&Vd(f,c,_,v),M}function i(o,c,f,g){switch(g){case Tr.PE_TRANSFORM_P_TO_G:return r(o,c,f);case Tr.PE_TRANSFORM_G_TO_P:return t(o,c,f)}return 0}function r(o,c,f){return n(o,c,f,0)}function n(o,c,f,g){_e.ensureCache.prepare();const v=Xf(f),_=f===v,M=_e.ensureFloat64(v),T=_e._pe_proj_to_geog_center(_e.getPointer(o),c,M,g);return T&&Vd(f,c,M,_),T}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=n})(UI||(UI={})),function(e){function t(){e.PE_BUFFER_MAX=_e.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=_e.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=_e.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=_e.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=_e.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=_e.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=_e.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=_e.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=_e.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=_e.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=_e.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=_e.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=_e.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=_e.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=_e.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=_e.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=_e.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=_e.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=_e.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=_e.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=_e.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=_e.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=_e.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=_e.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=_e.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=_e.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=_e.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=_e.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=_e.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=_e.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=_e.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=_e.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Tr||(Tr={})),function(e){const t={},i={},r=E=>{if(E){const j=E.getType();switch(j){case Tr.PE_TYPE_GEOGCS:E=_e.castObject(E,_e.PeGeogcs);break;case Tr.PE_TYPE_PROJCS:E=_e.castObject(E,_e.PeProjcs);break;case Tr.PE_TYPE_GEOGTRAN:E=_e.castObject(E,_e.PeGeogtran);break;default:j&Tr.PE_TYPE_UNIT&&(E=_e.castObject(E,_e.PeUnit))}}return E};function n(){_e.PeFactory.prototype.initialize(null)}function o(E){return c(Tr.PE_TYPE_COORDSYS,E)}function c(E,j){let R=null,N=t[E];if(N||(N={},t[E]=N),N.hasOwnProperty(String(j)))R=N[j];else{const F=_e.PeFactory.prototype.factoryByType(E,j);_e.compare(F,_e.NULL)||(R=F,N[j]=R)}return R=r(R),R}function f(E,j){let R=null,N=i[E];if(N||(N={},i[E]=N),N.hasOwnProperty(j))R=N[j];else{const F=_e.PeFactory.prototype.fromString(E,j);_e.compare(F,_e.NULL)||(R=F,N[j]=R)}return R=r(R),R}function g(E){return c(Tr.PE_TYPE_GEOGCS,E)}function v(E){return c(Tr.PE_TYPE_GEOGTRAN,E)}function _(E){return _e.PeFactory.prototype.getCode(E)}function M(E){return c(Tr.PE_TYPE_PROJCS,E)}function T(E){return c(Tr.PE_TYPE_UNIT,E)}e.initialize=n,e.coordsys=o,e.factoryByType=c,e.fromString=f,e.geogcs=g,e.geogtran=v,e.getCode=_,e.projcs=M,e.unit=T}(GI||(GI={}));let qie=null;var x4,qI,WI,HI,_4,JI,S4,$4,KI;function Wie(e){function t(o,c,f){o[c]=f(o[c])}_e=e,Tr.init(),x4.init(),_4.init(),S4.init(),$4.init(),qie=class extends _e.PeGCSExtent{destroy(){_e.destroy(this)}};const i=[_e.PeDatum,_e.PeGeogcs,_e.PeGeogtran,_e.PeObject,_e.PeParameter,_e.PePrimem,_e.PeProjcs,_e.PeSpheroid,_e.PeUnit];for(const o of i)t(o.prototype,"getName",c=>function(){return c.call(this,new Array(Tr.PE_NAME_MAX))});for(const o of[_e.PeGeogtran,_e.PeProjcs])t(o.prototype,"getParameters",c=>function(){const f=new Array(Tr.PE_PARM_MAX);let g=c.call(this);for(let v=0;v<f.length;v++){const _=_e.getValue(g,"*");f[v]=_?_e.wrapPointer(_,_e.PeParameter):null,g+=Int32Array.BYTES_PER_ELEMENT}return f});t(_e.PeHorizon.prototype,"getCoord",o=>function(){const c=this.getSize();if(!c)return null;const f=[];return Vd(f,c,o.call(this)),f}),t(_e.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const c=_e._pe_getPeGTlistExtendedGTsSize();return function(){let f=null;const g=o.call(this);if(!_e.compare(g,_e.NULL)){f=[g];const v=this.getSteps();if(v>1){const _=_e.getPointer(g);for(let M=1;M<v;M++)f.push(_e.wrapPointer(_+c*M,_e.PeGTlistExtendedGTs))}}return f}});const r=_e._pe_getPeHorizonSize(),n=o=>function(){let c=this._cache;if(c||(c=new Map,this._cache=c),c.has(o))return c.get(o);let f=null;const g=o.call(this);if(!_e.compare(g,_e.NULL)){f=[g];const v=g.getNump();if(v>1){const _=_e.getPointer(g);for(let M=1;M<v;M++)f.push(_e.wrapPointer(_+r*M,_e.PeHorizon))}}return c.set(o,f),f};t(_e.PeProjcs.prototype,"horizonGcsGenerate",n),t(_e.PeProjcs.prototype,"horizonPcsGenerate",n),_e.PeObject.prototype.toString=function(o=Tr.PE_STR_OPTS_NONE){_e.ensureCache.prepare();const c=_e.getPointer(this),f=_e.ensureInt8(new Array(Tr.PE_BUFFER_MAX));return _e.UTF8ToString(_e._pe_object_to_string_ext(c,o,f))}}function mc(e){if(!e)return;const t=_e.getClass(e);if(!t)return;const i=_e.getCache(t);if(!i)return;const r=_e.getPointer(e);r&&delete i[r]}function d_(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(_e.ensureInt8(r));return i}function Xf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(i=>{t.push(i[0],i[1])})):t=e,t}function Vd(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=_e.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let o=0;o<t;o++)n&&(e[o]=new Array(2)),e[o][0]=_e.getValue(i,"double"),e[o][1]=_e.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=_e.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=_e._pe_getPeGTlistExtendedEntrySize()}function r(n,o,c,f,g,v){let _=null;const M=new _e.PeInteger(v);try{const T=_e.PeGTlistExtended.prototype.getGTlist(n,o,c,f,g,M);if((v=M.val)&&(_=[T],v>1)){const E=_e.getPointer(T);for(let j=1;j<v;j++)_.push(_e.wrapPointer(E+t*j,_e.PeGTlistExtendedEntry))}}finally{_e.destroy(M)}return _}e.init=i,e.getGTlist=r})(x4||(x4={})),function(e){function t(i){if(i!=null&&i.length){for(const r of i)mc(r),r.getEntries().forEach(n=>{mc(n);const o=n.getGeogtran();mc(o),o.getParameters().forEach(mc),[o.getGeogcs1(),o.getGeogcs2()].forEach(c=>{mc(c);const f=c.getDatum();mc(f),mc(f.getSpheroid()),mc(c.getPrimem()),mc(c.getUnit())})});_e.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(qI||(qI={})),function(e){function t(i,r,n,o,c){_e.ensureCache.prepare();const f=Xf(n),g=n===f,v=_e.ensureFloat64(f);let _=0;o&&(_=_e.ensureFloat64(o));const M=_e._pe_geog_to_geog(_e.getPointer(i),r,v,_,c);return M&&Vd(n,r,v,g),M}e.geogToGeog=t}(WI||(WI={})),function(e){const t=(v,_,M,T,E,j)=>{let R,N;switch(_e.ensureCache.prepare(),v){case"dd":R=_e._pe_geog_to_dd,N=Tr.PE_DD_MAX;break;case"ddm":R=_e._pe_geog_to_ddm,N=Tr.PE_DDM_MAX;break;case"dms":R=_e._pe_geog_to_dms,N=Tr.PE_DMS_MAX}let F=0;_&&(F=_e.getPointer(_));const V=Xf(T),z=_e.ensureFloat64(V),G=d_(M,N),H=R(F,M,z,E,_e.ensureInt32(G));if(H)for(let Z=0;Z<M;Z++)j[Z]=_e.UTF8ToString(G[Z]);return H},i=(v,_,M,T,E)=>{let j;switch(_e.ensureCache.prepare(),v){case"dd":j=_e._pe_dd_to_geog;break;case"ddm":j=_e._pe_ddm_to_geog;break;case"dms":j=_e._pe_dms_to_geog}let R=0;_&&(R=_e.getPointer(_));const N=T.map(G=>_e.ensureString(G)),F=_e.ensureInt32(N),V=_e.ensureFloat64(new Array(2*M)),z=j(R,M,F,V);return z&&Vd(E,M,V),z};function r(v,_,M,T,E){return t("dms",v,_,M,T,E)}function n(v,_,M,T){return i("dms",v,_,M,T)}function o(v,_,M,T,E){return t("ddm",v,_,M,T,E)}function c(v,_,M,T){return i("ddm",v,_,M,T)}function f(v,_,M,T,E){return t("dd",v,_,M,T,E)}function g(v,_,M,T){return i("dd",v,_,M,T)}e.geogToDms=r,e.dmsToGeog=n,e.geogToDdm=o,e.ddmToGeog=c,e.geogToDd=f,e.ddToGeog=g}(HI||(HI={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=_e.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=_e.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=_e.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=_e.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=_e.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(n,o,c,f,g,v,_){_e.ensureCache.prepare();let M=0;n&&(M=_e.getPointer(n));const T=Xf(c),E=_e.ensureFloat64(T),j=d_(o,Tr.PE_MGRS_MAX),R=_e.ensureInt32(j),N=_e._pe_geog_to_mgrs_extended(M,o,E,f,g,v,R);if(N)for(let F=0;F<o;F++)_[F]=_e.UTF8ToString(j[F]);return N}function r(n,o,c,f,g){_e.ensureCache.prepare();let v=0;n&&(v=_e.getPointer(n));const _=c.map(j=>_e.ensureString(j)),M=_e.ensureInt32(_),T=_e.ensureFloat64(new Array(2*o)),E=_e._pe_mgrs_to_geog_extended(v,o,M,f,T);return E&&Vd(g,o,T),E}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(_4||(_4={})),function(e){function t(r,n,o,c,f,g,v){_e.ensureCache.prepare();let _=0;r&&(_=_e.getPointer(r));const M=Xf(o),T=_e.ensureFloat64(M),E=d_(n,Tr.PE_MGRS_MAX),j=_e.ensureInt32(E),R=_e._pe_geog_to_usng(_,n,T,c,f,g,j);if(R)for(let N=0;N<n;N++)v[N]=_e.UTF8ToString(E[N]);return R}function i(r,n,o,c){_e.ensureCache.prepare();let f=0;r&&(f=_e.getPointer(r));const g=o.map(T=>_e.ensureString(T)),v=_e.ensureInt32(g),_=_e.ensureFloat64(new Array(2*n)),M=_e._pe_usng_to_geog(f,n,v,_);return M&&Vd(c,n,_),M}e.geogToUsng=t,e.usngToGeog=i}(JI||(JI={})),function(e){function t(){e.PE_UTM_OPTS_NONE=_e.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=_e.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=_e.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(n,o,c,f,g){_e.ensureCache.prepare();let v=0;n&&(v=_e.getPointer(n));const _=Xf(c),M=_e.ensureFloat64(_),T=d_(o,Tr.PE_UTM_MAX),E=_e.ensureInt32(T),j=_e._pe_geog_to_utm(v,o,M,f,E);if(j)for(let R=0;R<o;R++)g[R]=_e.UTF8ToString(T[R]);return j}function r(n,o,c,f,g){_e.ensureCache.prepare();let v=0;n&&(v=_e.getPointer(n));const _=c.map(j=>_e.ensureString(j)),M=_e.ensureInt32(_),T=_e.ensureFloat64(new Array(2*o)),E=_e._pe_utm_to_geog(v,o,M,f,T);return E&&Vd(g,o,T),E}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(S4||(S4={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=_e.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=_e.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=_e.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=_e.PePCSInfo.prototype.PE_POLE_POINT}function r(n,o=e.PE_PCSINFO_OPTION_DOMAIN){let c=null,f=null;return t.has(n)&&(f=t.get(n),f[o]&&(c=f[o])),c||(c=_e.PePCSInfo.prototype.generate(n,o),f||(f=[],t.set(n,f)),f[o]=c),c}e.init=i,e.generate=r}($4||($4={})),function(e){function t(){return _e.PeVersion.prototype.version_string()}e.versionString=t}(KI||(KI={}));const o9e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return UI},get PeDefs(){return Tr},get PeFactory(){return GI},get PeGCSExtent(){return qie},get PeGTTransformations(){return WI},get PeGTlistExtended(){return x4},get PeGTlistExtendedEntry(){return qI},get PeNotationDms(){return HI},get PeNotationMgrs(){return _4},get PeNotationUsng(){return JI},get PeNotationUtm(){return S4},get PePCSInfo(){return $4},get PeVersion(){return KI},_init:Wie,get _pe(){return _e},isLoaded:OL,isSupported:s9e,load:Gie},Symbol.toStringTag,{value:"Module"}));var za;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(za||(za={}));let C;const ie={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(C=2e3;C<=2045;C++)ie[C]=0;for(C=2056;C<=2065;C++)ie[C]=0;for(C=2067;C<=2135;C++)ie[C]=0;for(C=2137;C<=2154;C++)ie[C]=0;for(C=2161;C<=2170;C++)ie[C]=0;for(C=2172;C<=2193;C++)ie[C]=0;for(C=2195;C<=2198;C++)ie[C]=0;for(C=2200;C<=2203;C++)ie[C]=0;for(C=2205;C<=2217;C++)ie[C]=0;for(C=2222;C<=2224;C++)ie[C]=1;for(C=2225;C<=2250;C++)ie[C]=2;for(C=2251;C<=2253;C++)ie[C]=1;for(C=2257;C<=2264;C++)ie[C]=2;for(C=2274;C<=2279;C++)ie[C]=2;for(C=2280;C<=2282;C++)ie[C]=1;for(C=2283;C<=2289;C++)ie[C]=2;for(C=2290;C<=2292;C++)ie[C]=0;for(C=2308;C<=2313;C++)ie[C]=0;for(C=2315;C<=2491;C++)ie[C]=0;for(C=2494;C<=2866;C++)ie[C]=0;for(C=2867;C<=2869;C++)ie[C]=1;for(C=2870;C<=2888;C++)ie[C]=2;for(C=2891;C<=2895;C++)ie[C]=2;for(C=2896;C<=2898;C++)ie[C]=1;for(C=2902;C<=2908;C++)ie[C]=2;for(C=2915;C<=2920;C++)ie[C]=2;for(C=2921;C<=2923;C++)ie[C]=1;for(C=2924;C<=2930;C++)ie[C]=2;for(C=2931;C<=2962;C++)ie[C]=0;for(C=2964;C<=2968;C++)ie[C]=2;for(C=2969;C<=2973;C++)ie[C]=0;for(C=2975;C<=2991;C++)ie[C]=0;for(C=2995;C<=3051;C++)ie[C]=0;for(C=3054;C<=3079;C++)ie[C]=0;for(C=3081;C<=3088;C++)ie[C]=0;for(C=3092;C<=3101;C++)ie[C]=0;for(C=3106;C<=3138;C++)ie[C]=0;for(C=3146;C<=3151;C++)ie[C]=0;for(C=3153;C<=3166;C++)ie[C]=0;for(C=3168;C<=3172;C++)ie[C]=0;for(C=3174;C<=3203;C++)ie[C]=0;for(C=3294;C<=3358;C++)ie[C]=0;for(C=3367;C<=3403;C++)ie[C]=0;for(C=3408;C<=3416;C++)ie[C]=0;for(C=3417;C<=3438;C++)ie[C]=2;for(C=3441;C<=3446;C++)ie[C]=2;for(C=3447;C<=3450;C++)ie[C]=0;for(C=3451;C<=3459;C++)ie[C]=2;for(C=3460;C<=3478;C++)ie[C]=0;for(C=3554;C<=3559;C++)ie[C]=0;for(C=3560;C<=3570;C++)ie[C]=2;for(C=3571;C<=3581;C++)ie[C]=0;for(C=3594;C<=3597;C++)ie[C]=0;for(C=3601;C<=3604;C++)ie[C]=0;for(C=3637;C<=3639;C++)ie[C]=0;for(C=3665;C<=3667;C++)ie[C]=0;for(C=3693;C<=3695;C++)ie[C]=0;for(C=3701;C<=3727;C++)ie[C]=0;for(C=3728;C<=3739;C++)ie[C]=2;for(C=3740;C<=3751;C++)ie[C]=0;for(C=3753;C<=3760;C++)ie[C]=2;for(C=3761;C<=3773;C++)ie[C]=0;for(C=3775;C<=3777;C++)ie[C]=0;for(C=3779;C<=3781;C++)ie[C]=0;for(C=3783;C<=3785;C++)ie[C]=0;for(C=3788;C<=3791;C++)ie[C]=0;for(C=3797;C<=3802;C++)ie[C]=0;for(C=3814;C<=3816;C++)ie[C]=0;for(C=3825;C<=3829;C++)ie[C]=0;for(C=3832;C<=3841;C++)ie[C]=0;for(C=3844;C<=3852;C++)ie[C]=0;for(C=3873;C<=3885;C++)ie[C]=0;for(C=3890;C<=3893;C++)ie[C]=0;for(C=3907;C<=3912;C++)ie[C]=0;for(C=3942;C<=3950;C++)ie[C]=0;for(C=3968;C<=3970;C++)ie[C]=0;for(C=3973;C<=3976;C++)ie[C]=0;for(C=3986;C<=3989;C++)ie[C]=0;for(C=3994;C<=3997;C++)ie[C]=0;for(C=4048;C<=4051;C++)ie[C]=0;for(C=4056;C<=4063;C++)ie[C]=0;for(C=4093;C<=4096;C++)ie[C]=0;for(C=4390;C<=4398;C++)ie[C]=0;for(C=4399;C<=4413;C++)ie[C]=2;for(C=4418;C<=4433;C++)ie[C]=2;for(C=4455;C<=4457;C++)ie[C]=2;for(C=4484;C<=4489;C++)ie[C]=0;for(C=4491;C<=4554;C++)ie[C]=0;for(C=4568;C<=4589;C++)ie[C]=0;for(C=4652;C<=4656;C++)ie[C]=0;for(C=4766;C<=4800;C++)ie[C]=0;for(C=5014;C<=5016;C++)ie[C]=0;for(C=5069;C<=5072;C++)ie[C]=0;for(C=5105;C<=5130;C++)ie[C]=0;for(C=5167;C<=5188;C++)ie[C]=0;for(C=5253;C<=5259;C++)ie[C]=0;for(C=5269;C<=5275;C++)ie[C]=0;for(C=5292;C<=5311;C++)ie[C]=0;for(C=5329;C<=5331;C++)ie[C]=0;for(C=5343;C<=5349;C++)ie[C]=0;for(C=5355;C<=5357;C++)ie[C]=0;for(C=5387;C<=5389;C++)ie[C]=0;for(C=5459;C<=5463;C++)ie[C]=0;for(C=5479;C<=5482;C++)ie[C]=0;for(C=5518;C<=5520;C++)ie[C]=0;for(C=5530;C<=5539;C++)ie[C]=0;for(C=5550;C<=5552;C++)ie[C]=0;for(C=5562;C<=5583;C++)ie[C]=0;for(C=5623;C<=5625;C++)ie[C]=2;for(C=5631;C<=5639;C++)ie[C]=0;for(C=5649;C<=5653;C++)ie[C]=0;for(C=5663;C<=5680;C++)ie[C]=0;for(C=5682;C<=5685;C++)ie[C]=0;for(C=5875;C<=5877;C++)ie[C]=0;for(C=5896;C<=5899;C++)ie[C]=0;for(C=5921;C<=5940;C++)ie[C]=0;for(C=6050;C<=6125;C++)ie[C]=0;for(C=6244;C<=6275;C++)ie[C]=0;for(C=6328;C<=6348;C++)ie[C]=0;for(C=6350;C<=6356;C++)ie[C]=0;for(C=6366;C<=6372;C++)ie[C]=0;for(C=6381;C<=6387;C++)ie[C]=0;for(C=6393;C<=6404;C++)ie[C]=0;for(C=6480;C<=6483;C++)ie[C]=0;for(C=6511;C<=6514;C++)ie[C]=0;for(C=6579;C<=6581;C++)ie[C]=0;for(C=6619;C<=6624;C++)ie[C]=0;for(C=6625;C<=6627;C++)ie[C]=2;for(C=6628;C<=6632;C++)ie[C]=0;for(C=6634;C<=6637;C++)ie[C]=0;for(C=6669;C<=6692;C++)ie[C]=0;for(C=6707;C<=6709;C++)ie[C]=0;for(C=6720;C<=6723;C++)ie[C]=0;for(C=6732;C<=6738;C++)ie[C]=0;for(C=6931;C<=6933;C++)ie[C]=0;for(C=6956;C<=6959;C++)ie[C]=0;for(C=7005;C<=7007;C++)ie[C]=0;for(C=7057;C<=7070;C++)ie[C]=2;for(C=7074;C<=7082;C++)ie[C]=0;for(C=7109;C<=7118;C++)ie[C]=0;for(C=7119;C<=7127;C++)ie[C]=1;for(C=7374;C<=7376;C++)ie[C]=0;for(C=7528;C<=7586;C++)ie[C]=0;for(C=7587;C<=7645;C++)ie[C]=2;for(C=7692;C<=7696;C++)ie[C]=0;for(C=7755;C<=7787;C++)ie[C]=0;for(C=7791;C<=7795;C++)ie[C]=0;for(C=7799;C<=7801;C++)ie[C]=0;for(C=7803;C<=7805;C++)ie[C]=0;for(C=7825;C<=7831;C++)ie[C]=0;for(C=7845;C<=7859;C++)ie[C]=0;for(C=8013;C<=8032;C++)ie[C]=0;for(C=8065;C<=8068;C++)ie[C]=1;for(C=8518;C<=8529;C++)ie[C]=2;for(C=8533;C<=8536;C++)ie[C]=2;for(C=8538;C<=8540;C++)ie[C]=2;for(C=8677;C<=8679;C++)ie[C]=0;for(C=8836;C<=8840;C++)ie[C]=0;for(C=8857;C<=8859;C++)ie[C]=0;for(C=8908;C<=8910;C++)ie[C]=0;for(C=9154;C<=9159;C++)ie[C]=0;for(C=9205;C<=9218;C++)ie[C]=0;for(C=9271;C<=9273;C++)ie[C]=0;for(C=9295;C<=9297;C++)ie[C]=0;for(C=9356;C<=9360;C++)ie[C]=0;for(C=9404;C<=9407;C++)ie[C]=0;for(C=9476;C<=9482;C++)ie[C]=0;for(C=9487;C<=9494;C++)ie[C]=0;for(C=9697;C<=9699;C++)ie[C]=0;for(C=9821;C<=9865;C++)ie[C]=0;for(C=10285;C<=10291;C++)ie[C]=0;for(C=10314;C<=10317;C++)ie[C]=0;for(C=10448;C<=10465;C++)ie[C]=0;for(C=10731;C<=10733;C++)ie[C]=0;for(C=11114;C<=11118;C++)ie[C]=0;for(C=20004;C<=20032;C++)ie[C]=0;for(C=20047;C<=20049;C++)ie[C]=0;for(C=20062;C<=20092;C++)ie[C]=0;for(C=20135;C<=20138;C++)ie[C]=0;for(C=20248;C<=20258;C++)ie[C]=0;for(C=20348;C<=20358;C++)ie[C]=0;for(C=20436;C<=20440;C++)ie[C]=0;for(C=20822;C<=20824;C++)ie[C]=0;for(C=20904;C<=20932;C++)ie[C]=0;for(C=20934;C<=20936;C++)ie[C]=0;for(C=21004;C<=21032;C++)ie[C]=0;for(C=21035;C<=21037;C++)ie[C]=0;for(C=21095;C<=21097;C++)ie[C]=0;for(C=21148;C<=21150;C++)ie[C]=0;for(C=21207;C<=21264;C++)ie[C]=0;for(C=21307;C<=21364;C++)ie[C]=0;for(C=21413;C<=21423;C++)ie[C]=0;for(C=21453;C<=21463;C++)ie[C]=0;for(C=21473;C<=21483;C++)ie[C]=0;for(C=21780;C<=21782;C++)ie[C]=0;for(C=21891;C<=21894;C++)ie[C]=0;for(C=21896;C<=21899;C++)ie[C]=0;for(C=22171;C<=22177;C++)ie[C]=0;for(C=22181;C<=22187;C++)ie[C]=0;for(C=22191;C<=22197;C++)ie[C]=0;for(C=22207;C<=22222;C++)ie[C]=0;for(C=22229;C<=22232;C++)ie[C]=0;for(C=22234;C<=22236;C++)ie[C]=0;for(C=22243;C<=22250;C++)ie[C]=0;for(C=22262;C<=22265;C++)ie[C]=0;for(C=22307;C<=22322;C++)ie[C]=0;for(C=22348;C<=22357;C++)ie[C]=0;for(C=22407;C<=22422;C++)ie[C]=0;for(C=22462;C<=22465;C++)ie[C]=0;for(C=22521;C<=22525;C++)ie[C]=0;for(C=22607;C<=22622;C++)ie[C]=0;for(C=22641;C<=22646;C++)ie[C]=0;for(C=22648;C<=22657;C++)ie[C]=0;for(C=22707;C<=22722;C++)ie[C]=0;for(C=22762;C<=22765;C++)ie[C]=0;for(C=22807;C<=22822;C++)ie[C]=0;for(C=22991;C<=22994;C++)ie[C]=0;for(C=23028;C<=23038;C++)ie[C]=0;for(C=23301;C<=23333;C++)ie[C]=2;for(C=23830;C<=23853;C++)ie[C]=0;for(C=23866;C<=23872;C++)ie[C]=0;for(C=23877;C<=23884;C++)ie[C]=0;for(C=23886;C<=23894;C++)ie[C]=0;for(C=23946;C<=23948;C++)ie[C]=0;for(C=24311;C<=24313;C++)ie[C]=0;for(C=24342;C<=24347;C++)ie[C]=0;for(C=24370;C<=24374;C++)ie[C]=10;for(C=24375;C<=24381;C++)ie[C]=0;for(C=24718;C<=24721;C++)ie[C]=0;for(C=24817;C<=24821;C++)ie[C]=0;for(C=24877;C<=24882;C++)ie[C]=0;for(C=24891;C<=24893;C++)ie[C]=0;for(C=25391;C<=25395;C++)ie[C]=0;for(C=25828;C<=25838;C++)ie[C]=0;for(C=26191;C<=26195;C++)ie[C]=0;for(C=26391;C<=26393;C++)ie[C]=0;for(C=26701;C<=26722;C++)ie[C]=0;for(C=26729;C<=26799;C++)ie[C]=2;for(C=26801;C<=26803;C++)ie[C]=2;for(C=26811;C<=26813;C++)ie[C]=2;for(C=26847;C<=26870;C++)ie[C]=2;for(C=26891;C<=26899;C++)ie[C]=0;for(C=26901;C<=26923;C++)ie[C]=0;for(C=26929;C<=26946;C++)ie[C]=0;for(C=26948;C<=26998;C++)ie[C]=0;for(C=27037;C<=27040;C++)ie[C]=0;for(C=27205;C<=27232;C++)ie[C]=0;for(C=27258;C<=27260;C++)ie[C]=0;for(C=27391;C<=27398;C++)ie[C]=0;for(C=27561;C<=27564;C++)ie[C]=0;for(C=27571;C<=27574;C++)ie[C]=0;for(C=27581;C<=27584;C++)ie[C]=0;for(C=27591;C<=27594;C++)ie[C]=0;for(C=27700;C<=27707;C++)ie[C]=0;for(C=28191;C<=28193;C++)ie[C]=0;for(C=28348;C<=28358;C++)ie[C]=0;for(C=28402;C<=28432;C++)ie[C]=0;for(C=28462;C<=28492;C++)ie[C]=0;for(C=29118;C<=29122;C++)ie[C]=0;for(C=29168;C<=29172;C++)ie[C]=0;for(C=29177;C<=29185;C++)ie[C]=0;for(C=29187;C<=29195;C++)ie[C]=0;for(C=29900;C<=29903;C++)ie[C]=0;for(C=30161;C<=30179;C++)ie[C]=0;for(C=30491;C<=30494;C++)ie[C]=0;for(C=30729;C<=30732;C++)ie[C]=0;for(C=31251;C<=31259;C++)ie[C]=0;for(C=31265;C<=31268;C++)ie[C]=0;for(C=31275;C<=31279;C++)ie[C]=0;for(C=31281;C<=31297;C++)ie[C]=0;for(C=31461;C<=31469;C++)ie[C]=0;for(C=31491;C<=31495;C++)ie[C]=0;for(C=31917;C<=31922;C++)ie[C]=0;for(C=31965;C<=32e3;C++)ie[C]=0;for(C=32001;C<=32003;C++)ie[C]=2;for(C=32005;C<=32031;C++)ie[C]=2;for(C=32033;C<=32060;C++)ie[C]=2;for(C=32064;C<=32067;C++)ie[C]=2;for(C=32074;C<=32077;C++)ie[C]=2;for(C=32081;C<=32086;C++)ie[C]=0;for(C=32107;C<=32130;C++)ie[C]=0;for(C=32133;C<=32159;C++)ie[C]=0;for(C=32164;C<=32167;C++)ie[C]=2;for(C=32180;C<=32199;C++)ie[C]=0;for(C=32201;C<=32260;C++)ie[C]=0;for(C=32301;C<=32360;C++)ie[C]=0;for(C=32401;C<=32460;C++)ie[C]=0;for(C=32501;C<=32560;C++)ie[C]=0;for(C=32601;C<=32662;C++)ie[C]=0;for(C=32664;C<=32667;C++)ie[C]=2;for(C=32701;C<=32761;C++)ie[C]=0;for(C=53001;C<=53004;C++)ie[C]=0;for(C=53008;C<=53019;C++)ie[C]=0;for(C=53021;C<=53032;C++)ie[C]=0;for(C=53034;C<=53037;C++)ie[C]=0;for(C=53042;C<=53046;C++)ie[C]=0;for(C=53074;C<=53080;C++)ie[C]=0;for(C=54001;C<=54004;C++)ie[C]=0;for(C=54008;C<=54019;C++)ie[C]=0;for(C=54021;C<=54032;C++)ie[C]=0;for(C=54034;C<=54037;C++)ie[C]=0;for(C=54042;C<=54046;C++)ie[C]=0;for(C=54048;C<=54053;C++)ie[C]=0;for(C=54074;C<=54080;C++)ie[C]=0;for(C=54098;C<=54101;C++)ie[C]=0;for(C=102001;C<=102040;C++)ie[C]=0;for(C=102042;C<=102063;C++)ie[C]=0;for(C=102065;C<=102067;C++)ie[C]=0;for(C=102070;C<=102117;C++)ie[C]=0;for(C=102122;C<=102216;C++)ie[C]=0;for(C=102221;C<=102377;C++)ie[C]=0;for(C=102382;C<=102388;C++)ie[C]=0;for(C=102389;C<=102398;C++)ie[C]=2;for(C=102399;C<=102444;C++)ie[C]=0;for(C=102445;C<=102447;C++)ie[C]=2;for(C=102448;C<=102458;C++)ie[C]=0;for(C=102459;C<=102468;C++)ie[C]=2;for(C=102469;C<=102499;C++)ie[C]=0;for(C=102500;C<=102519;C++)ie[C]=1;for(C=102520;C<=102524;C++)ie[C]=0;for(C=102525;C<=102529;C++)ie[C]=2;for(C=102530;C<=102588;C++)ie[C]=0;for(C=102590;C<=102598;C++)ie[C]=0;for(C=102601;C<=102603;C++)ie[C]=0;for(C=102605;C<=102628;C++)ie[C]=0;for(C=102629;C<=102646;C++)ie[C]=2;for(C=102648;C<=102700;C++)ie[C]=2;for(C=102701;C<=102703;C++)ie[C]=0;for(C=102707;C<=102730;C++)ie[C]=2;for(C=102733;C<=102758;C++)ie[C]=2;for(C=102767;C<=102900;C++)ie[C]=0;for(C=102901;C<=102933;C++)ie[C]=2;for(C=102934;C<=102950;C++)ie[C]=13;for(C=102951;C<=102963;C++)ie[C]=0;for(C=102965;C<=102969;C++)ie[C]=0;for(C=102971;C<=102973;C++)ie[C]=0;for(C=102975;C<=102989;C++)ie[C]=0;for(C=102990;C<=102992;C++)ie[C]=1;for(C=102997;C<=103002;C++)ie[C]=0;for(C=103003;C<=103008;C++)ie[C]=2;for(C=103009;C<=103011;C++)ie[C]=0;for(C=103012;C<=103014;C++)ie[C]=2;for(C=103019;C<=103021;C++)ie[C]=0;for(C=103022;C<=103024;C++)ie[C]=2;for(C=103029;C<=103031;C++)ie[C]=0;for(C=103032;C<=103034;C++)ie[C]=2;for(C=103065;C<=103068;C++)ie[C]=0;for(C=103074;C<=103076;C++)ie[C]=0;for(C=103077;C<=103079;C++)ie[C]=1;for(C=103080;C<=103082;C++)ie[C]=0;for(C=103083;C<=103085;C++)ie[C]=2;for(C=103090;C<=103093;C++)ie[C]=0;for(C=103097;C<=103099;C++)ie[C]=0;for(C=103100;C<=103102;C++)ie[C]=2;for(C=103107;C<=103109;C++)ie[C]=0;for(C=103110;C<=103112;C++)ie[C]=2;for(C=103113;C<=103116;C++)ie[C]=0;for(C=103117;C<=103120;C++)ie[C]=2;for(C=103153;C<=103157;C++)ie[C]=0;for(C=103158;C<=103162;C++)ie[C]=2;for(C=103163;C<=103165;C++)ie[C]=0;for(C=103166;C<=103168;C++)ie[C]=1;for(C=103169;C<=103171;C++)ie[C]=2;for(C=103186;C<=103188;C++)ie[C]=0;for(C=103189;C<=103191;C++)ie[C]=2;for(C=103192;C<=103195;C++)ie[C]=0;for(C=103196;C<=103199;C++)ie[C]=2;for(C=103200;C<=103224;C++)ie[C]=0;for(C=103225;C<=103227;C++)ie[C]=1;for(C=103232;C<=103237;C++)ie[C]=0;for(C=103238;C<=103243;C++)ie[C]=2;for(C=103244;C<=103246;C++)ie[C]=0;for(C=103247;C<=103249;C++)ie[C]=2;for(C=103254;C<=103256;C++)ie[C]=0;for(C=103257;C<=103259;C++)ie[C]=2;for(C=103264;C<=103266;C++)ie[C]=0;for(C=103267;C<=103269;C++)ie[C]=2;for(C=103300;C<=103375;C++)ie[C]=0;for(C=103381;C<=103383;C++)ie[C]=0;for(C=103384;C<=103386;C++)ie[C]=1;for(C=103387;C<=103389;C++)ie[C]=0;for(C=103390;C<=103392;C++)ie[C]=2;for(C=103397;C<=103399;C++)ie[C]=0;for(C=103400;C<=103471;C++)ie[C]=2;for(C=103476;C<=103478;C++)ie[C]=0;for(C=103479;C<=103481;C++)ie[C]=2;for(C=103486;C<=103488;C++)ie[C]=0;for(C=103489;C<=103491;C++)ie[C]=2;for(C=103492;C<=103495;C++)ie[C]=0;for(C=103496;C<=103499;C++)ie[C]=2;for(C=103528;C<=103543;C++)ie[C]=0;for(C=103544;C<=103548;C++)ie[C]=2;for(C=103549;C<=103551;C++)ie[C]=0;for(C=103552;C<=103554;C++)ie[C]=1;for(C=103555;C<=103557;C++)ie[C]=2;for(C=103558;C<=103560;C++)ie[C]=0;for(C=103571;C<=103573;C++)ie[C]=0;for(C=103574;C<=103576;C++)ie[C]=2;for(C=103577;C<=103580;C++)ie[C]=0;for(C=103581;C<=103583;C++)ie[C]=2;for(C=103595;C<=103694;C++)ie[C]=0;for(C=103696;C<=103699;C++)ie[C]=0;for(C=103700;C<=103793;C++)ie[C]=2;for(C=103794;C<=103890;C++)ie[C]=0;for(C=103891;C<=103896;C++)ie[C]=2;for(C=103900;C<=103971;C++)ie[C]=2;for(C=103972;C<=103977;C++)ie[C]=0;for(C=112e3;C<=112101;C++)ie[C]=0;const Hie=[102100,102113,3857,3785],a9e=[104905,104971],l9e=[4326,...Hie,...a9e],lU='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',p_=[-20037508342788905e-9,20037508342788905e-9],f_=[-20037508342787e-6,20037508342787e-6],Jie={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:p_,origin:f_,dx:1e-5},102100:{wkTemplate:lU,valid:p_,origin:f_,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:p_,origin:f_,dx:1e-5},3857:{wkTemplate:lU,valid:p_,origin:f_,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function tn(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||tc(e)&&tc(t))return!0;const c=e.latestWkid;if(c!=null&&r===c)return!0;const f=t.latestWkid;return f!=null&&i===f}let n,o;return e.wkt2&&t.wkt2?(n=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,o=t.wkt),!(!n||!o)&&n.toUpperCase()===o.toUpperCase()}function To(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Jie[t]||null}function M4(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function H3(e){if(!Zo(e))return!1;const{wkid:t}=e;if(t)return ie[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function u9e(e){return!(RL(e)||LL(e))}function wp(e){return(e==null?void 0:e.wkid)===4326}function Qbt(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function YI(e){return(e==null?void 0:e.wkid)===za.CGCS2000}function tc(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Hie.includes(t)}function c9e(e){return(e==null?void 0:e.wkid)===32662}function r7(e){return e===za.GCSMARS2000||e===za.GCSMARS2000_SPHERE}function RL(e){return r7(e==null?void 0:e.wkid)}function n7(e){return e===za.GCSMOON2000}function LL(e){return n7(e==null?void 0:e.wkid)}function h9e(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&l9e.includes(t)}function Zo(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const Kie={wkid:4326,wkt:G$(Jie[4326].wkTemplate,{Central_Meridian:"0.0"})},Yie={wkid:102100,latestWkid:3857},d9e={wkid:32662};function NL(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const p9e=NL(Fr),FL=NL(Ku),DL=NL(bp),f9e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Fr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},y9e=FL.wkt.toUpperCase(),m9e=DL.wkt.toUpperCase();function g9e(e){if(e!=null&&Zo(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(r7(t))return Ku;const r=i==null?void 0:i.toUpperCase();if(i&&r===y9e)return Ku;if(n7(t)||r&&r===m9e)return bp}return Fr}function e2t(e){return r7(e)?Ku:n7(e)?bp:Fr}function T4(e){return tn(e,p9e)}function xp(e){return T4(e)||tn(e,FL)||tn(e,DL)}const Zie=39.37,v9e=Fr.radius*Math.PI/200,Xie=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,T0=ie,Qie=/UNIT\[([^\]]+)]/i,b9e=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),w9e=Rs()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),au=e=>e*e,Dh=e=>e*e*e,Dw={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:au(.001)},"square-centimeters":{inBaseUnits:au(.01)},"square-decimeters":{inBaseUnits:au(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:au(1e3)},"square-inches":{inBaseUnits:au(.0254)},"square-feet":{inBaseUnits:au(.3048)},"square-yards":{inBaseUnits:au(.9144)},"square-miles":{inBaseUnits:au(1609.344)},"square-us-feet":{inBaseUnits:au(1200/3937)},acres:{inBaseUnits:.0015625*au(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Dh(.001)},"cubic-centimeters":{inBaseUnits:1e3*Dh(.01)},"cubic-decimeters":{inBaseUnits:1e3*Dh(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Dh(1e3)},"cubic-inches":{inBaseUnits:1e3*Dh(.0254)},"cubic-feet":{inBaseUnits:1e3*Dh(.3048)},"cubic-yards":{inBaseUnits:1e3*Dh(.9144)},"cubic-miles":{inBaseUnits:1e3*Dh(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},x9e=(()=>{const e={};for(const t in Dw)for(const i in Dw[t].units)e[i]=t;return e})();function _9e(e,t,i){return e*Dw[i].units[t].inBaseUnits}function S9e(e,t,i){return e/Dw[i].units[t].inBaseUnits}function ZI(e){const t=x9e[e];if(!t)throw new Error("unknown type");return t}function uU(e,t=null){return t=t||ZI(e),Dw[t].baseUnit===e}function ma(e,t,i){if(t===i)return e;const r=ZI(t);if(r!==ZI(i))throw new Error("incompatible units");const n=uU(t,r)?e:_9e(e,t,r);return uU(i,r)?n:S9e(n,i,r)}function $9e(e,t,i){return ma(e,t,"meters")/(i*Math.PI/180)}function ere(e){return w9e.fromJSON(e.toLowerCase())||null}function k4(e){if(e!=null&&!u9e(e))return 1;const t=nu(e);return t>1e5?1:t}function M9e(e){return nu(e)>=g9e(e).metersPerDegree?"meters":ire(e)}function nu(e,t=Fr.metersPerDegree){return T9e(e,!0)??t}function T9e(e,t=!1){const i=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(i){if(r7(i))return Ku.metersPerDegree;if(n7(i))return bp.metersPerDegree;n=T0.values[T0[i]],!n&&t&&b9e.has(i)&&(n=v9e)}else r&&(nre(r)?n=cU(Xie.exec(r),n):rre(r)&&(n=cU(Qie.exec(r),n)));return n}function t2t(e){return H3(e)?1:nu(e)}function cU(e,t){return e!=null&&e[1]?tre(e[1]):t}function tre(e){return parseFloat(e.split(",")[1])}function ire(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let r=null;if(t)r=T0.units[T0[t]];else if(i){const n=nre(i)?Xie:rre(i)?Qie:null;if(n){const o=n.exec(i);o!=null&&o[1]&&(r=C9e(o[1]))}}return r!=null?ere(r):null}function rre(e){return/^GEOCCS/i.test(e)}function nre(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const k9e=1e-7;function C9e(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!T0.units.includes(i)){const r=tre(e);i=null;const n=T0.values;for(let o=0;o<n.length;++o)if(Math.abs(r-n[o])<k9e){i=T0.units[o];break}}return i}const I9e={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},E9e={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},A9e={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},j9e=Rs()(I9e),P9e=Rs()(E9e),i2t=Rs()(A9e);var du;let _i=du=class extends Ne{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return du.WebMercator;if(e.wkid===4326)return du.WGS84}const t=new du;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return wp(this)}get isWebMercator(){return tc(this)}get isGeographic(){return H3(this)}get isWrappable(){return h9e(this)}get metersPerUnit(){return nu(this)}get unit(){return ire(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===du.WGS84)return new du(Kie);if(this===du.WebMercator)return new du(Yie);const e=new du;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=be(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||r?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===t&&n.referenceServiceName===i:n.id===t}return tn(this,e)}toJSON(e){return this.write(void 0,e)}};_i.GCS_NAD_1927=null,_i.WGS84=null,_i.WebMercator=null,_i.PlateCarree=null,b([$({readOnly:!0})],_i.prototype,"isWGS84",null),b([$({readOnly:!0})],_i.prototype,"isWebMercator",null),b([$({readOnly:!0})],_i.prototype,"isGeographic",null),b([$({readOnly:!0})],_i.prototype,"isWrappable",null),b([$({type:zi,json:{write:!0}})],_i.prototype,"latestWkid",void 0),b([$({readOnly:!0})],_i.prototype,"metersPerUnit",null),b([$({readOnly:!0})],_i.prototype,"unit",null),b([$({type:zi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],_i.prototype,"wkid",void 0),b([$({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],_i.prototype,"wkt",void 0),b([Ze("wkt"),Ze("web-scene","wkt")],_i.prototype,"writeWkt",null),b([$({type:String,json:{write:!1}})],_i.prototype,"wkt2",void 0),b([$({type:zi,json:{write:!0}})],_i.prototype,"vcsWkid",void 0),b([$({type:zi,json:{write:!0}})],_i.prototype,"latestVcsWkid",void 0),b([$()],_i.prototype,"imageCoordinateSystem",void 0),_i=du=b([ne("esri.geometry.SpatialReference")],_i),_i.prototype.toJSON.isDefaultToJSON=!0,_i.GCS_NAD_1927=new _i({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),_i.WGS84=new _i(Kie),_i.WebMercator=new _i(Yie),_i.PlateCarree=new _i(d9e),Object.freeze&&(Object.freeze(_i.GCS_NAD_1927),Object.freeze(_i.WGS84),Object.freeze(_i.WebMercator),Object.freeze(_i.PlateCarree));const At=_i;let pu=class extends Ne{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=At.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof At)return t;if(t!=null){const r=new At;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};b([$()],pu.prototype,"type",void 0),b([$({readOnly:!0})],pu.prototype,"cache",null),b([$({readOnly:!0})],pu.prototype,"extent",null),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pu.prototype,"hasM",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pu.prototype,"hasZ",void 0),b([$({type:At,json:{write:!0},value:At.WGS84})],pu.prototype,"spatialReference",void 0),b([qe("spatialReference")],pu.prototype,"readSpatialReference",null),pu=b([ne("esri.geometry.Geometry")],pu);const Eh=pu,O9e=57.29577951308232,R9e=.017453292519943;function hU(e){return e*O9e}function dU(e){return e*R9e}function pU(e){return e/Fr.radius}function fU(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Fr.radius))}function XI(e){return e.wkid!=null||e.wkt!=null}const XM=[0,0];function C4(e,t,i,r,n){const o=e,c=n;if(c.spatialReference=i,"x"in o&&"x"in c)[c.x,c.y]=t(o.x,o.y,XM,r);else if("xmin"in o&&"xmin"in c)[c.xmin,c.ymin]=t(o.xmin,o.ymin,XM,r),[c.xmax,c.ymax]=t(o.xmax,o.ymax,XM,r);else if("paths"in o&&"paths"in c||"rings"in o&&"rings"in c){const f="paths"in o?o.paths:o.rings,g=[];let v;for(let _=0;_<f.length;_++){const M=f[_];v=[],g.push(v);for(let T=0;T<M.length;T++)v.push(t(M[T][0],M[T][1],[0,0],r)),M[T].length>2&&v[T].push(M[T][2]),M[T].length>3&&v[T].push(M[T][3])}"paths"in c?c.paths=g:c.rings=g}else if("points"in o&&"points"in c){const f=o.points,g=[];for(let v=0;v<f.length;v++)g[v]=t(f[v][0],f[v][1],[0,0],r),f[v].length>2&&g[v].push(f[v][2]),f[v].length>3&&g[v].push(f[v][3]);c.points=g}return n}function eS(e,t){const i=e&&(XI(e)?e:e.spatialReference),r=t&&(XI(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!tn(r,i)||tc(r)&&wp(i)||tc(i)&&wp(r))}function s7(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(XI(t)?t:t.spatialReference);return eS(i,r)?tn(i,r)?be(e):tc(r)?C4(e,rm,At.WebMercator,!1,be(e)):wp(r)?C4(e,o7,At.WGS84,!1,be(e)):null:null}function rm(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=dU(t);return i[0]=dU(e)*Fr.radius,i[1]=Fr.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function o7(e,t,i=[0,0],r=!1){const n=hU(e/Fr.radius);return i[0]=r?n:n-360*Math.floor((n+180)/360),i[1]=hU(Math.PI/2-2*Math.atan(Math.exp(-t/Fr.radius))),i}function Yl(e,t=!1,i=be(e)){return C4(e,rm,At.WebMercator,t,i)}function nm(e,t=!1,i=be(e)){return C4(e,o7,At.WGS84,t,i)}function sre(e,t){const i=e.x-t.x,r=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+n*n)}function L9e(e){var t;return((t=ore(e,are))==null?void 0:t[0])??null}function N9e(e){var t;return((t=ore(e,are))==null?void 0:t[1])??null}function ore({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(tc(i))return o7(e,t,r);if(H3(i))return r[0]=e,r[1]=t,r}return null}const are=[0,0];var tS;const QM=[0,0];function yU(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Vs=tS=class extends Eh{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,n){let o;if(Array.isArray(e))o=e,n=t,e=o[0],t=o[1],i=o[2],r=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,i=o.z,r=o.m,(n=o.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new At(n)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)Le.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)Le.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&(n!=null&&n.isWebMercator)){const f=rm(o.longitude,o.latitude,QM);e=f[0],t=f[1]}}}else yU(i)?(n=i,i=null):yU(r)&&(n=r,r=null);const c={x:e,y:t};return c.x==null&&c.y!=null?Le.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):c.y==null&&c.x!=null&&Le.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(c.spatialReference=n),i!=null&&(c.z=i),r!=null&&(c.m=r),c}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return N9e(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",rm(i,e,QM)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return L9e(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",rm(e,t,QM)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new tS;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return tS.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:n,spatialReference:o}=this,{z:c,m:f}=e;let{x:g,y:v,spatialReference:_}=e;if(!o.equals(_))if(o.isWebMercator&&_.isWGS84)[g,v]=rm(g,v),_=o;else{if(!o.isWGS84||!_.isWebMercator)return!1;[g,v]=o7(g,v),_=o}return t===g&&i===v&&r===c&&n===f&&o.wkid===_.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=To(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,n=2*r;let o;return t>r?(o=Math.ceil(Math.abs(t-r)/n),t-=o*n):t<i&&(o=Math.ceil(Math.abs(t-i)/n),t+=o*n),this._set("x",t),this}distance(e){return sre(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};b([$({readOnly:!0})],Vs.prototype,"cache",null),b([$({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Vs.prototype,"hasM",null),b([$({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Vs.prototype,"hasZ",null),b([$({type:Number})],Vs.prototype,"latitude",null),b([$({type:Number})],Vs.prototype,"longitude",null),b([$({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),$i(e=>isNaN(e)?e:La(e))],Vs.prototype,"x",void 0),b([Ze("x")],Vs.prototype,"writeX",null),b([qe("x")],Vs.prototype,"readX",null),b([$({type:Number,json:{write:!0}})],Vs.prototype,"y",void 0),b([$({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Vs.prototype,"z",void 0),b([$({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Vs.prototype,"m",void 0),Vs=tS=b([ne("esri.geometry.Point")],Vs),Vs.prototype.toJSON.isDefaultToJSON=!0;const Pt=Vs;let fu=class extends sr(Ne){constructor(...t){super(...t),this.position=new Pt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new nie}normalizeCtorArgs(t,i,r,n){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const o={position:t};return i!=null&&(o.heading=i),r!=null&&(o.tilt=r),n!=null&&(o.fov=n),o}return t}writePosition(t,i,r,n){const o=t.clone();o.x=La(t.x||0),o.y=La(t.y||0),o.z=t.hasZ?La(t.z||0):t.z,i[r]=o.write({},n)}readPosition(t,i){const r=new Pt;return r.read(t,i),r.x=La(r.x||0),r.y=La(r.y||0),r.z=r.hasZ?La(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};b([$({type:Pt,json:{write:{isRequired:!0}}})],fu.prototype,"position",void 0),b([Ze("position")],fu.prototype,"writePosition",null),b([qe("position")],fu.prototype,"readPosition",null),b([$({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),$i(e=>W5e.normalize(La(e)))],fu.prototype,"heading",void 0),b([$({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),$i(e=>ol(La(e),-180,180))],fu.prototype,"tilt",void 0),b([$({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],fu.prototype,"fov",void 0),b([$({type:nie,nonNullable:!0,json:{read:!1,write:!1}})],fu.prototype,"layout",void 0),fu=b([ne("esri.Camera")],fu);const F9e=fu,eT=[0,0];function J3(e,t){return t!=null&&Ws(e,t.x,t.y,t.z)}function s2t(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!sg(e,i))return!1;return!0}function D9e(e,t){const{xmin:i,ymin:r,zmin:n,xmax:o,ymax:c,zmax:f}=t;return e.hasZ&&t.hasZ?Ws(e,i,r,n)&&Ws(e,i,c,n)&&Ws(e,o,c,n)&&Ws(e,o,r,n)&&Ws(e,i,r,f)&&Ws(e,i,c,f)&&Ws(e,o,c,f)&&Ws(e,o,r,f):Ws(e,i,r)&&Ws(e,i,c)&&Ws(e,o,c)&&Ws(e,o,r)}function sg(e,t){return Ws(e,t[0],t[1])}function z9e(e,t){return Ws(e,t[0],t[1],t[2])}function Ws(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function zL(e,t){return eT[1]=t.y,eT[0]=t.x,V9e(e,eT)}function V9e(e,t){return VL(e.rings,t)}function VL(e,t){if(!e)return!1;if(B9e(e))return mU(!1,e,t);let i=!1;for(let r=0,n=e.length;r<n;r++)i=mU(i,e[r],t);return i}function B9e(e){return!Array.isArray(e[0][0])}function mU(e,t,i){const[r,n]=i;let o=e,c=0;for(let f=0,g=t.length;f<g;f++){c++,c===g&&(c=0);const[v,_]=t[f],[M,T]=t[c];(_<n&&T>=n||T<n&&_>=n)&&v+(n-_)/(T-_)*(M-v)<r&&(o=!o)}return o}function U9e(e,t){return J3(e,t)}function G9e(e,t){const i=e.hasZ&&t.hasZ;let r,n,o;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function q9e(e,t){const{points:i,hasZ:r}=t,n=r?z9e:sg;for(const o of i)if(n(e,o))return!0;return!1}const H0=[0,0],J0=[0,0],K0=[0,0],Y0=[0,0],W9e=[H0,J0,K0,Y0],lre=[[K0,H0],[H0,J0],[J0,Y0],[Y0,K0]];function H9e(e,t){return J9e(e,t.rings)}function J9e(e,t){H0[0]=e.xmin,H0[1]=e.ymax,J0[0]=e.xmax,J0[1]=e.ymax,K0[0]=e.xmin,K0[1]=e.ymin,Y0[0]=e.xmax,Y0[1]=e.ymin;for(const i of W9e)if(VL(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(sg(e,r))return!0;for(let n=1;n<i.length;n++){const o=i[n];if(sg(e,o)||ure(r,o,lre))return!0;r=o}}return!1}function K9e(e,t){H0[0]=e.xmin,H0[1]=e.ymax,J0[0]=e.xmax,J0[1]=e.ymax,K0[0]=e.xmin,K0[1]=e.ymin,Y0[0]=e.xmax,Y0[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(sg(e,n))return!0;for(let o=1;o<r.length;o++){const c=r[o];if(sg(e,c)||ure(n,c,lre))return!0;n=c}}return!1}const En=[0,0];function Y9e(e){for(let t=0;t<e.length;t++){const i=e[t];for(let n=0;n<i.length-1;n++){const o=i[n],c=i[n+1];for(let f=t+1;f<e.length;f++)for(let g=0;g<e[f].length-1;g++){const v=e[f][g],_=e[f][g+1];if(QI(o,c,v,_,En)&&!(En[0]===o[0]&&En[1]===o[1]||En[0]===v[0]&&En[1]===v[1]||En[0]===c[0]&&En[1]===c[1]||En[0]===_[0]&&En[1]===_[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let o=r-1;n===0&&(o=r-2);const c=i[n],f=i[n+1];for(let g=n+2;g<o;g++){const v=i[g],_=i[g+1];if(QI(c,f,v,_,En)&&!(En[0]===c[0]&&En[1]===c[1]||En[0]===v[0]&&En[1]===v[1]||En[0]===f[0]&&En[1]===f[1]||En[0]===_[0]&&En[1]===_[1]))return!0}}}return!1}function ure(e,t,i){for(let r=0;r<i.length;r++)if(QI(e,t,i[r][0],i[r][1]))return!0;return!1}function QI(e,t,i,r,n){const[o,c]=e,[f,g]=t,[v,_]=i,[M,T]=r,E=M-v,j=o-v,R=f-o,N=T-_,F=c-_,V=g-c,z=N*R-E*V;if(z===0)return!1;const G=(E*F-N*j)/z,H=(R*F-V*j)/z;return G>=0&&G<=1&&H>=0&&H<=1&&(n&&(n[0]=o+G*(f-o),n[1]=c+G*(g-c)),!0)}function Z9e(e){switch(e){case"esriGeometryEnvelope":case"extent":return G9e;case"esriGeometryMultipoint":case"multipoint":return q9e;case"esriGeometryPoint":case"point":return U9e;case"esriGeometryPolygon":case"polygon":return H9e;case"esriGeometryPolyline":case"polyline":return K9e}}var ga;function X9e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function zh(e,t,i){return t==null?i:i==null?t:e(t,i)}let wn=ga=class extends Eh{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,n){return X9e(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?At.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:n??At.WGS84}}static fromBounds(e,t){return new ga({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new ga({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Pt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ga;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&eS(t,i)&&(e=t.isWebMercator?Yl(e):nm(e,!0)),e.type==="point"?J3(this,e):e.type==="extent"&&D9e(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&eS(t,i)&&(e=t.isWebMercator?Yl(e):nm(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!tn(t,i)&&eS(t,i)&&(e=t.isWebMercator?Yl(e):nm(e,!0)),Z9e(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=zh(Math.min,this.zmin,e.zmin),this.zmax=zh(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=zh(Math.min,this.mmin,e.mmin),this.mmax=zh(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=zh(Math.max,this.zmin,e.zmin),this.zmax=zh(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=zh(Math.max,this.mmin,e.mmin),this.mmax=zh(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=To(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?nm(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=tT(r.x,e).x),this.spatialReference=new At(G$((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,n=this.xmin,o=this.xmax;return n>=i&&n<=r&&o>=i&&o<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const n=i??To(r);if(n==null)return this;const o=this._getParts(n).map(g=>g.extent);if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return o;let c=!0,f=!0;return o.forEach(g=>{g.hasZ||(c=!1),g.hasM||(f=!1)}),{rings:o.map(g=>{const v=[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]];if(c){const _=(g.zmax-g.zmin)/2;for(let M=0;M<v.length;M++)v[M].push(_)}if(f){const _=(g.mmax-g.mmin)/2;for(let M=0;M<v.length;M++)v[M].push(_)}return v}),hasZ:c,hasM:f,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:o,spatialReference:c}=this,f=this.width,g=this.xmin,v=this.xmax;let _;e=e||To(c);const[M,T]=e.valid;_=tT(this.xmin,e);const E=_.x,j=_.frameId;_=tT(this.xmax,e);const R=_.x,N=_.frameId,F=E===R&&f>0;if(f>2*T){const V=new ga(g<v?E:R,n,T,o,c),z=new ga(M,n,g<v?R:E,o,c),G=new ga(0,n,T,o,c),H=new ga(M,n,0,o,c),Z=[],Y=[];V.contains(G)&&Z.push(j),V.contains(H)&&Y.push(j),z.contains(G)&&Z.push(N),z.contains(H)&&Y.push(N);for(let re=j+1;re<N;re++)Z.push(re),Y.push(re);t.push({extent:V,frameIds:[j]},{extent:z,frameIds:[N]},{extent:G,frameIds:Z},{extent:H,frameIds:Y})}else E>R||F?t.push({extent:new ga(E,n,T,o,c),frameIds:[j]},{extent:new ga(M,n,R,o,c),frameIds:[N]}):t.push({extent:new ga(E,n,R,o,c),frameIds:[j]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(n)}return t}};function tT(e,t){const[i,r]=t.valid,n=2*r;let o,c=0;return e>r?(o=Math.ceil(Math.abs(e-r)/n),e-=o*n,c=o):e<i&&(o=Math.ceil(Math.abs(e-i)/n),e+=o*n,c=-o),{x:e,frameId:c}}b([$({readOnly:!0})],wn.prototype,"cache",null),b([$({readOnly:!0})],wn.prototype,"center",null),b([$({readOnly:!0})],wn.prototype,"extent",null),b([$({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],wn.prototype,"hasM",null),b([$({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],wn.prototype,"hasZ",null),b([$({readOnly:!0})],wn.prototype,"height",null),b([$({readOnly:!0})],wn.prototype,"width",null),b([$({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],wn.prototype,"xmin",void 0),b([$({type:Number,json:{write:!0}})],wn.prototype,"ymin",void 0),b([$({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],wn.prototype,"mmin",void 0),b([$({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wn.prototype,"zmin",void 0),b([$({type:Number,json:{write:!0}})],wn.prototype,"xmax",void 0),b([$({type:Number,json:{write:!0}})],wn.prototype,"ymax",void 0),b([$({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],wn.prototype,"mmax",void 0),b([$({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wn.prototype,"zmax",void 0),wn=ga=b([ne("esri.geometry.Extent")],wn),wn.prototype.toJSON.isDefaultToJSON=!0;const ci=wn;function og(e,t,i=!1){let{hasM:r,hasZ:n}=e;Array.isArray(t)?t.length!==4||r||n?t.length===3&&i&&!r?(n=!0,r=!1):t.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=r}var eE;function gU(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function Q9e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Qh=eE=class extends Eh{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var n;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):Q9e(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=(n=i.points)==null?void 0:n[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new ci,i=this.hasZ,r=this.hasM,n=i?3:2,o=e[0],c=gU(Math.min),f=gU(Math.max);let g,v,_,M,[T,E]=o,[j,R]=o;for(let N=0,F=e.length;N<F;N++){const V=e[N],[z,G]=V;if(T=c(T,z),E=c(E,G),j=f(j,z),R=f(R,G),i&&V.length>2){const H=V[2];g=c(g,H),_=f(_,H)}if(r&&V.length>n){const H=V[n];v=c(v,H),M=f(M,H)}}return t.xmin=T,t.ymin=E,t.xmax=j,t.ymax=R,t.spatialReference=this.spatialReference,i?(t.zmin=g,t.zmax=_):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=v,t.mmax=M):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=be(this.points)}addPoint(e){return og(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:be(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new eE(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Pt(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Pt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(og(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};b([$({readOnly:!0})],Qh.prototype,"cache",null),b([$()],Qh.prototype,"extent",null),b([$({type:[[Number]],json:{write:{isRequired:!0}}})],Qh.prototype,"points",void 0),b([Ze("points")],Qh.prototype,"writePoints",null),Qh=eE=b([ne("esri.geometry.Multipoint")],Qh),Qh.prototype.toJSON.isDefaultToJSON=!0;const K3=Qh;function o2t(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function e4e(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var I4;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(I4||(I4={}));function BL(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function t4e(e,t,i){const r=e[0]+i*(t[0]-e[0]),n=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,n,e[2]+i*(t[2]-e[2])]:[r,n]}function i4e(e,t,i,r){return r4e(e,t,i[r],i[r+1])}function r4e(e,t,i,r){const[n,o]=t,[c,f]=i,[g,v]=r,_=g-c,M=v-f,T=_*_+M*M,E=(n-c)*_+(o-f)*M,j=Math.min(1,Math.max(0,E/T));return e[0]=c+_*j,e[1]=f+M*j,e}function a2t(e,t,i,r,n,o){let c=i,f=r,g=n-c,v=o-f;if(g!==0||v!==0){const _=((e-c)*g+(t-f)*v)/(g*g+v*v);_>1?(c=n,f=o):_>0&&(c+=g*_,f+=v*_)}return g=e-c,v=t-f,g*g+v*v}function cre(e,t){return t4e(e,t,.5)}function l2t(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=BL(e[r],e[r+1]);return i}function hre(e,t=I4.X,i=I4.Y){let r=0;const n=e.length;let o=e[0];for(let c=1;c<n;c++){const f=e[c];r+=(f[t]-o[t])*(f[i]+o[i]),o=f}if(!dre(e)){const c=e[0];r+=(c[t]-o[t])*(c[i]+o[i])}return r>=0}function dre(e){const t=e.length;return t<3||V$(e[0],e[t-1])}function u2t(e){"rings"in e&&(n4e(e),s4e(e))}function n4e(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)dre(i)||(i.push(i[0].slice()),t=!0);return t}function s4e(e){if(!("rings"in e)||e.rings.length===0||hre(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function c2t(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function o4e(e){return e?a4e(e.rings,e.hasZ??!1):null}function a4e(e,t){if(!(e!=null&&e.length))return null;const i=[],r=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,c=e.length;o<c;o++){const f=pre(e[o],t,n);f&&r.push(f)}if(r.sort((o,c)=>{let f=o[2]-c[2];return f===0&&t&&(f=o[4]-c[4]),f}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const o=e[0]&&e[0].length?l4e(e[0],t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],t&&o.length>2&&(i[2]=o[2])}return i}function pre(e,t,i){let r=0,n=0,o=0,c=0,f=0;const g=e.length?e[0][0]:0,v=e.length?e[0][1]:0,_=e.length&&t?e[0][2]:0;for(let T=0;T<e.length;T++){const E=e[T],j=e[(T+1)%e.length],[R,N,F]=E,V=R-g,z=N-v,[G,H,Z]=j,Y=G-g,re=H-v,q=V*re-Y*z;if(c+=q,r+=(V+Y)*q,n+=(z+re)*q,t&&E.length>2&&j.length>2){const W=F-_,ee=Z-_,le=V*ee-Y*W;o+=(W+ee)*le,f+=le}R<i[0]&&(i[0]=R),R>i[1]&&(i[1]=R),N<i[2]&&(i[2]=N),N>i[3]&&(i[3]=N),t&&(F<i[4]&&(i[4]=F),F>i[5]&&(i[5]=F))}if(c>0&&(c*=-1),f>0&&(f*=-1),!c)return null;c*=.5,f*=.5;const M=[r/(6*c)+g,n/(6*c)+v,c];return t&&(i[4]===i[5]||f===0?(M[3]=(i[4]+i[5])/2,M[4]=0):(M[3]=o/(6*f)+_,M[4]=f)),M}function h2t(e,t){let i=0,r=0,n=0;e.nextPoint();const o=e.pathSize?e.x:0,c=e.pathSize?e.y:0;for(let f=0;f<e.pathSize;f++){e.seekInPath(f);const g=[e.x,e.y];e.seekInPath((f+1)%e.pathSize);const v=[e.x,e.y],[_,M]=g,T=_-o,E=M-c,[j,R]=v,N=j-o,F=R-c,V=T*F-N*E;n+=V,i+=(T+N)*V,r+=(E+F)*V,_<t[0]&&(t[0]=_),_>t[1]&&(t[1]=_),M<t[2]&&(t[2]=M),M>t[3]&&(t[3]=M)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+o,r/(6*n)+c,n]):null}function l4e(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,o=0,c=0,f=0;for(let g=0,v=e.length;g<v-1;g++){const _=e[g],M=e[g+1];if(_&&M){i[0]=_[0],i[1]=_[1],r[0]=M[0],r[1]=M[1],t&&_.length>2&&M.length>2&&(i[2]=_[2],r[2]=M[2]);const T=BL(i,r);if(T){n+=T;const E=cre(_,M);o+=T*E[0],c+=T*E[1],t&&E.length>2&&(f+=T*E[2])}}}return n>0?t?[o/n,c/n,f/n]:[o/n,c/n]:e.length?e[0]:null}function u4e(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],n=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const c=pre(e4e(e),e.hasZ,o);c&&n.push(c)}if(n.sort((c,f)=>{let g=c[2]-f[2];return g===0&&t&&(g=c[4]-f[4]),g}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<o[0]||r[0]>o[1]||r[1]<o[2]||r[1]>o[3]||t&&(r[2]<o[4]||r[2]>o[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const c=e.pathSize?c4e(e):null;if(!c)return null;r[0]=c[0],r[1]=c[1],t&&c.length>2&&(r[2]=c[2])}return r}function c4e(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,o=0,c=0,f=0;if(e.nextPoint()){let g=e.x,v=e.y,_=e.z;for(;e.nextPoint();){const M=e.x,T=e.y,E=e.z;i[0]=g,i[1]=v,r[0]=M,r[1]=T,t&&(i[2]=_,r[2]=E);const j=BL(i,r);if(j){n+=j;const R=cre(i,r);o+=j*R[0],c+=j*R[1],t&&R.length>2&&(f+=j*R[2])}g=M,v=T,_=E}}return n>0?t?[o/n,c/n,f/n]:[o/n,c/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const h4e=1e-6;function d2t(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<h4e){const n=u4e(e);return n?[n[0],n[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)p4e(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const d4e=1/3;function p4e(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let o,c=i.x-r,f=i.y-n,g=0,v=0;for(;i.nextPoint();)g=i.x-r,v=i.y-n,o=.5*d4e*(g*f-v*c),e[0]+=o*(c+g),e[1]+=o*(f+v),c=g,f=v;const _=i.getCurrentRingArea(),M=[r,n];return M[0]-=t[0],M[1]-=t[1],M[0]*=_,M[1]*=_,e[0]+=M[0],e[1]+=M[1],e}function Fn(e=b4e){return[e[0],e[1],e[2],e[3]]}function fre(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function p2t(e,t,i,r,n=Fn()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function f4e(e,t=Fn()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function f2t(e,t){return new ci({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function y2t(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function m2t(e,t,i){if(t!=null)if("length"in t)tE(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else fre(i,e)}function yre(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function mre(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function g2t(e){return yre(e)*mre(e)}function y4e(e,t){return m4e(e,t[0],t[1])}function m4e(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function g4e(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function v2t(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function v4e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function b2t(e){return e?fre(e,vU):Fn(vU)}function tE(e){return e!=null&&e.length===4}function w2t(e,t){return tE(e)&&tE(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const vU=[1/0,1/0,-1/0,-1/0],b4e=[0,0,0,0];function gre(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function vre(e){return e.points!==void 0}function bre(e){return e.x!==void 0&&e.y!==void 0}function wre(e){return e.paths!==void 0}function xre(e){return e.rings!==void 0}function _re(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const Jd=_re(Math.min),Kd=_re(Math.max);function x2t(e,t){return wre(t)?ag(e,t.paths,!1,!1):xre(t)?ag(e,t.rings,!1,!1):vre(t)?UL(e,t.points,!1,!1,!1,!1):gre(t)?Sre(e,t):(bre(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function _2t(e){let t,i,r,n;for(e.reset(),t=r=1/0,i=n=-1/0;e.nextPath();){const o=w4e(e);t=Math.min(o[0],t),r=Math.min(o[1],r),i=Math.max(o[2],i),n=Math.max(o[3],n)}return Fn([t,r,i,n])}function w4e(e){let t,i,r,n;for(t=r=1/0,i=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),n=Math.max(e.y,n);return Fn([t,r,i,n])}function S2t(e,t){return wre(t)?ag(e,t.paths,!0,!1):xre(t)?ag(e,t.rings,!0,!1):vre(t)?UL(e,t.points,!0,!1,!0,!1):gre(t)?Sre(e,t,!0,!1,!0,!1):(bre(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function ag(e,t,i,r){const n=i?3:2;if(!t.length||!t[0].length)return null;let o,c,f,g,[v,_]=t[0][0],[M,T]=t[0][0];for(let E=0;E<t.length;E++){const j=t[E];for(let R=0;R<j.length;R++){const N=j[R],[F,V]=N;if(v=Jd(v,F),_=Jd(_,V),M=Kd(M,F),T=Kd(T,V),i&&N.length>2){const z=N[2];o=Jd(o,z),c=Kd(c,z)}if(r&&N.length>n){const z=N[n];f=Jd(o,z),g=Kd(c,z)}}}return i?r?(e[0]=v,e[1]=_,e[2]=o,e[3]=f,e[4]=M,e[5]=T,e[6]=c,e[7]=g,e.length=8,e):(e[0]=v,e[1]=_,e[2]=o,e[3]=M,e[4]=T,e[5]=c,e.length=6,e):r?(e[0]=v,e[1]=_,e[2]=f,e[3]=M,e[4]=T,e[5]=g,e.length=6,e):(e[0]=v,e[1]=_,e[2]=M,e[3]=T,e.length=4,e)}function Sre(e,t,i,r,n,o){const c=t.xmin,f=t.xmax,g=t.ymin,v=t.ymax;let _=t.zmin,M=t.zmax,T=t.mmin,E=t.mmax;return n?(_=_||0,M=M||0,o?(T=T||0,E=E||0,e[0]=c,e[1]=g,e[2]=_,e[3]=T,e[4]=f,e[5]=v,e[6]=M,e[7]=E,e):(e[0]=c,e[1]=g,e[2]=_,e[3]=f,e[4]=v,e[5]=M,e)):o?(T=T||0,E=E||0,e[0]=c,e[1]=g,e[2]=T,e[3]=f,e[4]=v,e[5]=E,e):(e[0]=c,e[1]=g,e[2]=f,e[3]=v,e)}function UL(e,t,i,r,n,o){const c=i?3:2,f=r&&o,g=i&&n;if(!t.length||!t[0].length)return null;let v,_,M,T,[E,j]=t[0],[R,N]=t[0];for(let F=0;F<t.length;F++){const V=t[F],[z,G]=V;if(E=Jd(E,z),j=Jd(j,G),R=Kd(R,z),N=Kd(N,G),g&&V.length>2){const H=V[2];v=Jd(v,H),_=Kd(_,H)}if(f&&V.length>c){const H=V[c];M=Jd(v,H),T=Kd(_,H)}}return n?(v=v||0,_=_||0,o?(M=M||0,T=T||0,e[0]=E,e[1]=j,e[2]=v,e[3]=M,e[4]=R,e[5]=N,e[6]=_,e[7]=T,e):(e[0]=E,e[1]=j,e[2]=v,e[3]=R,e[4]=N,e[5]=_,e)):o?(M=M||0,T=T||0,e[0]=E,e[1]=j,e[2]=M,e[3]=R,e[4]=N,e[5]=T,e):(e[0]=E,e[1]=j,e[2]=R,e[3]=N,e)}function x4e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function _4e(e){return e.points!==void 0}function S4e(e){return e.x!==void 0&&e.y!==void 0}function $4e(e){return e.paths!==void 0}function M4e(e){return e.rings!==void 0}const GL=[];function $re(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function Mre(e,t,i,r,n,o){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:n,zmax:o}}function Tre(e,t,i,r,n,o){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:n,mmax:o}}function kre(e,t,i,r,n,o,c,f){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:n,ymax:o,zmax:c,mmax:f}}function qL(e,t=!1,i=!1){return t?i?kre(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Mre(e[0],e[1],e[2],e[3],e[4],e[5]):i?Tre(e[0],e[1],e[2],e[3],e[4],e[5]):$re(e[0],e[1],e[2],e[3])}function $2t(e){return e?x4e(e)?e:S4e(e)?k4e(e):M4e(e)?Cre(e):$4e(e)?Ire(e):_4e(e)?T4e(e):null:null}function T4e(e){const{hasZ:t,hasM:i,points:r}=e;return qL(UL(GL,r,t??!1,i??!1),t,i)}function k4e(e){const{x:t,y:i,z:r,m:n}=e,o=n!=null;return r!=null?o?kre(t,i,r,n,t,i,r,n):Mre(t,i,r,t,i,r):o?Tre(t,i,n,t,i,n):$re(t,i,t,i)}function Cre(e){const{hasZ:t,hasM:i,rings:r}=e,n=ag(GL,r,t??!1,i??!1);return n?qL(n,t,i):null}function Ire(e){const{hasZ:t,hasM:i,paths:r}=e,n=ag(GL,r,t??!1,i??!1);return n?qL(n,t,i):null}var iS;function bU(e){return!Array.isArray(e[0])}let yu=iS=class extends Eh{static fromExtent(e){const t=e.clone().normalize(),i=e.spatialReference;let r=!1,n=!1;for(const c of t)c.hasZ&&(r=!0),c.hasM&&(n=!0);const o={rings:t.map(c=>{const f=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(r&&c.hasZ){const g=c.zmin+.5*(c.zmax-c.zmin);for(let v=0;v<f.length;v++)f[v].push(g)}if(n&&c.hasM){const g=c.mmin+.5*(c.mmax-c.mmin);for(let v=0;v<f.length;v++)f[v].push(g)}return f}),spatialReference:i};return r&&(o.hasZ=!0),n&&(o.hasM=!0),new iS(o)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var c,f;let i,r,n=null,o=null;return e&&!Array.isArray(e)?(n=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),i=e.hasZ,r=e.hasM):n=e,n=n||[],t=t||At.WGS84,n.length&&((c=n[0])==null?void 0:c[0])!=null&&typeof n[0][0]=="number"&&(n=[n]),o=(f=n[0])==null?void 0:f[0],o&&(i===void 0&&r===void 0?(i=o.length>2,r=o.length>3):i===void 0?i=r?o.length>3:o.length>2:r===void 0&&(r=i?o.length>3:o.length>2)),{rings:n,spatialReference:t,hasZ:i,hasM:r}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=o4e(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Pt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Cre(this);if(!t)return null;const i=new ci(t);return i.spatialReference=e,i}get isSelfIntersecting(){return Y9e(this.rings)}writeRings(e,t){t.rings=be(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(bU(e)){const r=[];for(let n=0,o=e.length;n<o;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new iS;return e.spatialReference=this.spatialReference,e.rings=be(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([n,o,c,f],[g,v,_,M])=>n===g&&o===v&&(c==null&&_==null||c===_)&&(f==null&&M==null||f===M);for(let n=0;n<this.rings.length;n++){const o=this.rings[n],c=e.rings[n];if(!V$(o,c,r))return!1}return!0}contains(e){if(!e)return!1;const t=s7(e,this.spatialReference);return zL(this,t??e)}isClockwise(e){const t=bU(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return hre(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Pt(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Pt(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Pt(i[0],i[1],i[2],i[3],this.spatialReference):new Pt(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(og(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Pt(n,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(og(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([$({readOnly:!0})],yu.prototype,"cache",null),b([$({readOnly:!0})],yu.prototype,"centroid",null),b([$({readOnly:!0})],yu.prototype,"extent",null),b([$({readOnly:!0})],yu.prototype,"isSelfIntersecting",null),b([$({type:[[[Number]]],json:{write:{isRequired:!0}}})],yu.prototype,"rings",void 0),b([Ze("rings")],yu.prototype,"writeRings",null),yu=iS=b([ne("esri.geometry.Polygon")],yu),yu.prototype.toJSON.isDefaultToJSON=!0;const sa=yu;var iE;function C4e(e){return!Array.isArray(e[0])}let ed=iE=class extends Eh{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var c,f;let i,r,n=null,o=null;return e&&!Array.isArray(e)?(n=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),i=e.hasZ,r=e.hasM):n=e,n=n||[],t=t||At.WGS84,n.length&&((c=n[0])==null?void 0:c[0])!=null&&typeof n[0][0]=="number"&&(n=[n]),o=(f=n[0])==null?void 0:f[0],o&&(i===void 0&&r===void 0?(i=o.length>2,r=!1):i===void 0?i=!r&&o.length>3:r===void 0&&(r=!i&&o.length>3)),{paths:n,spatialReference:t,hasZ:i,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Ire(this);if(!t)return null;const i=new ci(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=be(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(C4e(e)){const r=[];for(let n=0,o=e.length;n<o;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new iE;return e.spatialReference=this.spatialReference,e.paths=be(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Pt(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Pt(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Pt(i[0],i[1],i[2],i[3],this.spatialReference):new Pt(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(og(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Pt(n,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(og(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([$({readOnly:!0})],ed.prototype,"cache",null),b([$({readOnly:!0})],ed.prototype,"extent",null),b([$({type:[[[Number]]],json:{write:{isRequired:!0}}})],ed.prototype,"paths",void 0),b([Ze("paths")],ed.prototype,"writePaths",null),ed=iE=b([ne("esri.geometry.Polyline")],ed),ed.prototype.toJSON.isDefaultToJSON=!0;const Ga=ed,I4e=Rs()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),wU=Rs()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function Ere(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Are(e){return e.points!==void 0}function jre(e){return e.x!==void 0&&e.y!==void 0}function Pre(e){return e.paths!==void 0}function Mm(e){return e.rings!==void 0}function _p(e){return e==null?null:e instanceof Eh?e:jre(e)?Pt.fromJSON(e):Pre(e)?Ga.fromJSON(e):Mm(e)?sa.fromJSON(e):Are(e)?K3.fromJSON(e):Ere(e)?ci.fromJSON(e):null}function Y3(e){return e?jre(e)?"esriGeometryPoint":Pre(e)?"esriGeometryPolyline":Mm(e)?"esriGeometryPolygon":Ere(e)?"esriGeometryEnvelope":Are(e)?"esriGeometryMultipoint":null:null}const E4e={esriGeometryPoint:Pt,esriGeometryPolyline:Ga,esriGeometryPolygon:sa,esriGeometryEnvelope:ci,esriGeometryMultipoint:K3};function A4e(e){return e&&E4e[e]||null}const v1={base:Eh,key:"type",typeMap:{extent:ci,multipoint:K3,point:Pt,polyline:Ga,polygon:sa}};Qu(v1);var rE;let td=rE=class extends Ne{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new rE({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};b([$({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:iT}}}}})],td.prototype,"rotation",void 0),b([$i("rotation")],td.prototype,"castRotation",null),b([$({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:iT}}}}})],td.prototype,"scale",void 0),b([$({types:v1,json:{read:_p,write:!0,origins:{"web-scene":{read:_p,write:{overridePolicy:iT}}}}})],td.prototype,"targetGeometry",void 0),b([$({type:F9e,json:{write:!0}})],td.prototype,"camera",void 0),td=rE=b([ne("esri.Viewpoint")],td);const Qa=td;function iT(){return{enabled:!this.camera}}let rS=class Ore{constructor(){this._emitter=new Ore.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){var n;(n=this._listenersMap)==null||n.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,o){var v;let c=(v=this._listenersMap)==null?void 0:v.get(n);if(!c)return!1;const f=this._target||this;let g=!1;for(const _ of c.slice()){const M="deref"in _?_.deref():_;M?M==null||M.call(f,o):g=!0}return g&&(c=c.filter(_=>!("deref"in _)||_.deref()!=null),this._listenersMap.set(n,c)),c.length>0}on(n,o){if(Array.isArray(n)){const f=n.map(g=>this.on(g,o));return z3(f)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const c=this._listenersMap.get(n)||[];return c.push(o),this._listenersMap.set(n,c),Bi(()=>{var v;const f=(v=this._listenersMap)==null?void 0:v.get(n),g=(f==null?void 0:f.indexOf(o))??-1;g>=0&&f.splice(g,1)})}once(n,o){const c=this.on(n,f=>{c.remove();const g="deref"in o?o.deref():o;g==null||g.call(null,f)});return c}hasEventListener(n){var c;const o=(c=this._listenersMap)==null?void 0:c.get(n);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let n=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,c){return this._emitter.emit(o,c)}on(o,c){return this._emitter.on(o,c)}once(o,c){return this._emitter.once(o,c)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return n=b([ne("esri.core.Evented")],n),n};let i=class extends vt{constructor(){super(...arguments),this._emitter=new rS.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,n){return this._emitter.emit(r,n)}on(r,n){return this._emitter.on(r,n)}once(r,n){return this._emitter.once(r,n)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=b([ne("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(rS||(rS={}));const dl=rS;var ji;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(ji||(ji={}));function WL(e){return(t,i)=>{t[i]=e}}let Z3=class extends wte{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var rh;let j4e=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},P4e=class{constructor(t,i,r,n,o){this.target=t,this.added=i,this.removed=r,this.start=n,this.deleteCount=o}};const pa=new m1(j4e,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function xU(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function rT(e){return e?e instanceof Zc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function nT(e){if(e!=null&&e.length)return e[0]}function O4e(e,t,i,r){const n=Math.min(e.length-i,t.length-r);let o=0;for(;o<n&&e[i+o]===t[r+o];)o++;return o}function Rre(e,t,i,r){t&&t.forEach((n,o,c)=>{e.push(n),Rre(e,i.call(r,n,o,c),i,r)})}const Vh=new Set,Bh=new Set,Uh=new Set,sT=new Map;let R4e=0,Zc=rh=class extends dl.EventedAccessor{static isCollection(e){return e!=null&&e instanceof rh}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Z3,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:R4e++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof rh?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return jt(this._observable),this._items}set items(e){this._emitBeforeChanges(ji.ADD)||(this._splice(0,this.length,rT(e)),this._emitAfterChanges(ji.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Bi();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Bi(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,n=>{var o;(o=i())==null||o.call(null,n),r.remove()});return r}add(e,t){if(jt(this._observable),this._emitBeforeChanges(ji.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(ji.ADD),this}addMany(e,t=this._items.length){if(jt(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(ji.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,rT(e)),this._emitAfterChanges(ji.ADD),this}at(e){if(jt(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(jt(this._observable),!this.length||this._emitBeforeChanges(ji.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(ji.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return jt(this._observable),this._createNewInstance({items:this._items.map(be)})}concat(...e){jt(this._observable);const t=e.map(rT);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(jt(this._observable),!this.length||this._emitBeforeChanges(ji.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)e.call(t,i[n],n,i);this._emitAfterChanges(ji.REMOVE)}destroyAll(){this.drain(xU)}destroyMany(e){const t=this.removeMany(e);return t.forEach(xU),t}every(e,t){return jt(this._observable),this._items.every(e,t)}filter(e,t){let i;return jt(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return jt(this._observable),this._items.find(e,t)}findIndex(e,t){return jt(this._observable),this._items.findIndex(e,t)}flatten(e,t){jt(this._observable);const i=[];return Rre(i,this,e,t),new rh(i)}forEach(e,t){return jt(this._observable),this._items.forEach(e,t)}getItemAt(e){return jt(this._observable),this._items[e]}getNextIndex(e){jt(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return jt(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return jt(this._observable),this._items.indexOf(e,t)}join(e=","){return jt(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return jt(this._observable),this._items.lastIndexOf(e,t)}map(e,t){jt(this._observable);const i=this._items.map(e,t);return new rh({items:i})}reorder(e,t=this.length-1){jt(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(ji.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(ji.MOVE)}return e}}pop(){if(jt(this._observable),!this.length||this._emitBeforeChanges(ji.REMOVE))return;const e=nT(this._splice(this.length-1,1));return this._emitAfterChanges(ji.REMOVE),e}push(...e){return jt(this._observable),this._emitBeforeChanges(ji.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ji.ADD)),this.length}reduce(e,t){jt(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){jt(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return jt(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(jt(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ji.REMOVE))return;const t=nT(this._splice(e,1));return this._emitAfterChanges(ji.REMOVE),t}removeMany(e){if(jt(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(ji.REMOVE))return[];const t=e instanceof rh?e.toArray():e,i=this._items,r=[],n=t.length;for(let o=0;o<n;o++){const c=t[o],f=i.indexOf(c);if(f>-1){const g=1+O4e(t,i,o+1,f+1),v=this._splice(f,g);v&&v.length>0&&r.push.apply(r,v),o+=g-1}}return this._emitAfterChanges(ji.REMOVE),r}reverse(){if(jt(this._observable),this._emitBeforeChanges(ji.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ji.MOVE),this}shift(){if(jt(this._observable),!this.length||this._emitBeforeChanges(ji.REMOVE))return;const e=nT(this._splice(0,1));return this._emitAfterChanges(ji.REMOVE),e}slice(e=0,t=this.length){return jt(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return jt(this._observable),this._items.some(e,t)}sort(e){if(jt(this._observable),!this.length||this._emitBeforeChanges(ji.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ji.MOVE),this}splice(e,t,...i){jt(this._observable);const r=(t?ji.REMOVE:0)|(i.length?ji.ADD:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(e,t,i)||[];return this._emitAfterChanges(r),n}toArray(){return jt(this._observable),this._items.slice()}toJSON(){return jt(this._observable),this.toArray()}toLocaleString(){return jt(this._observable),this._items.toLocaleString()}toString(){return jt(this._observable),this._items.toString()}unshift(...e){return jt(this._observable),!e.length||this._emitBeforeChanges(ji.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ji.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,n=this.itemType;let o,c;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Ag(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(c=r.splice(e,t),this.hasEventListener("before-remove")){const f=pa.acquire();f.target=this,f.cancellable=!0;for(let g=0,v=c.length;g<v;g++)o=c[g],f.reset(o),this.emit("before-remove",f),f.defaultPrevented&&(c.splice(g,1),r.splice(e,0,o),e+=1,g-=1,v-=1);pa.release(f)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const f=pa.acquire();f.target=this,f.cancellable=!1;const g=c.length;for(let v=0;v<g;v++)f.reset(c[v]),this.emit("after-remove",f);pa.release(f)}}if(i!=null&&i.length){if(n){const _=[];for(const M of i){const T=n.ensureType(M);T==null&&M!=null||_.push(T)}i=_}const f=this.hasEventListener("before-add"),g=this.hasEventListener("after-add"),v=e===this.length;if(f||g){const _=pa.acquire();_.target=this,_.cancellable=!0;const M=pa.acquire();M.target=this,M.cancellable=!1;for(const T of i)f?(_.reset(T),this.emit("before-add",_),_.defaultPrevented||(v?r.push(T):r.splice(e++,0,T),this._set("length",r.length),g&&(M.reset(T),this.emit("after-add",M)))):(v?r.push(T):r.splice(e++,0,T),this._set("length",r.length),M.reset(T),this.emit("after-add",M));pa.release(M),pa.release(_)}else{if(v)for(const _ of i)r.push(_);else r.splice(e,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||c!=null&&c.length)&&this._notifyChangeEvent(i,c),this.hasEventListener("after-splice")){const f=new P4e(this,i,c,e,t);this.emit("after-splice",f)}return c}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=pa.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,pa.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=pa.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),pa.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Vh.clear(),Bh.clear(),Uh.clear();for(const{added:g,removed:v}of i){if(g)if(Uh.size===0&&Bh.size===0)for(const _ of g)Vh.add(_);else for(const _ of g)Bh.has(_)?(Uh.add(_),Bh.delete(_)):Uh.has(_)||Vh.add(_);if(v)if(Uh.size===0&&Vh.size===0)for(const _ of v)Bh.add(_);else for(const _ of v)Vh.has(_)?Vh.delete(_):(Uh.delete(_),Bh.add(_))}const r=Ks.acquire();Vh.forEach(g=>{r.push(g)});const n=Ks.acquire();Bh.forEach(g=>{n.push(g)});const o=this._items,c=t.items,f=Ks.acquire();if(Uh.forEach(g=>{c.indexOf(g)!==o.indexOf(g)&&f.push(g)}),t.listeners&&(r.length||n.length||f.length)){const g={target:this,added:r,removed:n,moved:f},v=t.listeners.length;for(let _=0;_<v;_++){const M=t.listeners[_];M.removed||M.callback.call(this,g)}}Ks.release(r),Ks.release(n),Ks.release(f)}Vh.clear(),Bh.clear(),Uh.clear()}};Zc.ofType=e=>{if(!e)return rh;if(sT.has(e))return sT.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let i=class extends rh{};return b([WL({Type:e,ensureType:typeof e=="function"?vr(e):Qu(e)})],i.prototype,"itemType",void 0),i=b([ne(`esri.core.Collection<${t}>`)],i),sT.set(e,i),i},b([$()],Zc.prototype,"_updating",void 0),b([$()],Zc.prototype,"length",void 0),b([$()],Zc.prototype,"items",null),b([$({readOnly:!0})],Zc.prototype,"updating",null),Zc=rh=b([ne("esri.core.Collection")],Zc);const st=Zc;function C2t(e,t,i){return c0(e.map((r,n)=>t.apply(i,[r,n])))}async function L4e(e,t,i){return(await c0(e.map((r,n)=>t.apply(i,[r,n])))).map(r=>r.value)}function HL(e){return{ok:!0,value:e}}function JL(e){return{ok:!1,error:e}}function N4e(e){return e!=null&&e.ok===!0?e.value:null}function F4e(e){return e!=null&&e.ok===!1?e.error:null}async function a7(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return HL(await e)}catch(t){return JL(t)}}async function D4e(e){try{return HL(await e)}catch(t){return Ra(t),JL(t)}}function KL(e,t){return new id(e,t)}let id=class extends vt{get value(){return N4e(this._result)}get error(){return F4e(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=q0(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(n=>{this._result=HL(n),this._cleanup()},n=>{this._result=JL(n),this._cleanup()}),this._abortHandle=Ya(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Lr(this._abortHandle),this._abortController=null}};b([$()],id.prototype,"value",null),b([$()],id.prototype,"error",null),b([$()],id.prototype,"finished",null),b([$()],id.prototype,"promise",void 0),b([$()],id.prototype,"_result",void 0),id=b([ne("esri.core.asyncUtils.ReactiveTask")],id);let ay=class extends st{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(Fte(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i,this.length)}_createNewInstance(t){return new st(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(n=>!!n);for(const n of i)if(n){if(r(n)){const o=this.indexOf(n,t);o>=0?o!==t&&this.reorder(n,t):this.add(n,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(n);if(Array.isArray(o))for(const c of o)t=this._processCollection(t,c);else t=this._processCollection(t,o)}}return t}};b([$()],ay.prototype,"getCollections",void 0),b([$()],ay.prototype,"getChildrenFunction",void 0),b([$()],ay.prototype,"itemFilterFunction",void 0),ay=b([ne("esri.core.CollectionFlattener")],ay);const Z0=ay;function nt(e,t,i={}){return YL(e,t,i,Lre)}function oa(e,t,i={}){return YL(e,t,i,Nre)}function YL(e,t,i={},r){let n=null;const o=i.once?(c,f)=>{r(c)&&(Lr(n),t(c,f))}:(c,f)=>{r(c)&&t(c,f)};if(n=g_e(e,o,i.sync,i.equals),i.initial){const c=e();o(c,c)}return n}function ro(e,t,i,r={}){let n=null,o=null,c=null;function f(){var _;n&&o&&(o.remove(),(_=r.onListenerRemove)==null||_.call(r,n),n=null,o=null)}function g(_){r.once&&r.once&&Lr(c),i(_)}const v=nt(e,(_,M)=>{var T;f(),W$(_)&&(n=_,o=U3(_,t,g),(T=r.onListenerAdd)==null||T.call(r,_))},{sync:r.sync,initial:!0});return c=Bi(()=>{v.remove(),f()}),c}function lg(e,t){return z4e(e,Nre,t)}function z4e(e,t,i){if($h(i))return Promise.reject(ln());const r=e();if(t!=null&&t(r))return Promise.resolve(r);let n=null;function o(){n=Lr(n)}return new Promise((c,f)=>{n=z3([Ya(i,()=>{o(),f(ln())}),YL(e,g=>{o(),c(g)},{sync:!1,once:!0},t??Lre)])})}function Lre(e){return!0}function Nre(e){return!!e}function V4e(e,t,i={}){let r=!1;const n=nt(e,(o,c)=>{r||t(o,c)},i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}const is={sync:!0},Xi={initial:!0},Jo={sync:!0,initial:!0};let E4=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new Z3,this._items=new Set}get length(){return jt(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return jt(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){jt(this._observable),yield*this._items}};const Fre=new FinalizationRegistry(e=>{e.close()});function B4e(e,t){Fre.register(e,t,t)}function U4e(e){Fre.unregister(e)}function Dre(e,t){return new Proxy({},{get:(i,r,n)=>(...o)=>{let c,f;const g=o[o.length-1];return G4e(g)&&(c=g.signal,f=g.transferList,o.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),o,{transferList:f,signal:c})}})}function G4e(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const q4e={statsWorker:()=>Ce(()=>import("./statsWorker-C39FFyyf.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),geometryEngineWorker:()=>Ce(()=>import("./geometryEngineWorker-BtI_VU0_.js"),__vite__mapDeps([5,6,7]),import.meta.url),CSVSourceWorker:()=>Ce(()=>import("./CSVSourceWorker-C4QW2wyN.js"),__vite__mapDeps([8,9,7,10,11,12,13,14,15,16,17,18,19,20,21,1,2,3,4,22,23]),import.meta.url),EdgeProcessingWorker:()=>Ce(()=>import("./EdgeProcessingWorker-C7Ug6-wJ.js"),__vite__mapDeps([24,25,26,27,28,29,30,31,32,33,34]),import.meta.url),ElevationSamplerWorker:()=>Ce(()=>import("./ElevationSamplerWorker-BhUVWs3Q.js"),__vite__mapDeps([35,16,36,37,38,39,40,41,42,43,44,45,26,46]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>Ce(()=>import("./FeatureServiceSnappingSourceWorker-DJ1rO51g.js"),__vite__mapDeps([47,12,13,10,11,14,15,16,17,7,18,19,20,21,1,2,3,4,48,49,50,51]),import.meta.url),GeoJSONSourceWorker:()=>Ce(()=>import("./GeoJSONSourceWorker-CDGVyuGm.js"),__vite__mapDeps([52,13,10,11,14,12,15,16,17,7,18,19,20,21,1,2,3,4,53,9,23,54]),import.meta.url),LercWorker:()=>Ce(()=>import("./LercWorker-BbgYQDqt.js"),[],import.meta.url),MemorySourceWorker:()=>Ce(()=>import("./MemorySourceWorker-C4LPXvA7.js"),__vite__mapDeps([55,13,10,11,14,56,12,15,16,17,7,18,19,20,21,1,2,3,4,23,54,9]),import.meta.url),PBFDecoderWorker:()=>Ce(()=>import("./PBFDecoderWorker-D4vSswAz.js"),__vite__mapDeps([57,13,10,11,14,48,49]),import.meta.url),FeaturePipelineWorker:()=>Ce(()=>import("./FeaturePipelineWorker-q6Dw5Io_.js"),__vite__mapDeps([58,59,60,61,62,63,33,64,34,65,66,67,28,68,20,69,70,71,11,72,73,17,13,10,14,7,74,75,76,77,78,79,80,18,19,21,1,2,3,4,50,48,49,81,53,9,23,54,82,83]),import.meta.url),PointCloudWorker:()=>Ce(()=>import("./PointCloudWorker-D_dra2A2.js"),__vite__mapDeps([84,85,38,86,87,88,89,32,90,39,40,41,91]),import.meta.url),RasterWorker:()=>Ce(()=>import("./RasterWorker-CSnLrJFy.js"),__vite__mapDeps([92,93,94,95,96,97]),import.meta.url),SceneLayerSnappingSourceWorker:()=>Ce(()=>import("./SceneLayerSnappingSourceWorker-I9u8qbq1.js"),__vite__mapDeps([98,99,100,91,38,39,86,28,29,30,31,25,26,27,32,33,34]),import.meta.url),SceneLayerWorker:()=>Ce(()=>import("./SceneLayerWorker-BuT0g-gc.js"),__vite__mapDeps([101,45,36,43,100,91,38,39,86,102,40,89,32,103,104,105,67,90,85,41]),import.meta.url),WFSSourceWorker:()=>Ce(()=>import("./WFSSourceWorker-BvFApmaZ.js"),__vite__mapDeps([106,13,10,11,14,12,15,16,17,7,18,19,20,21,1,2,3,4,53,9,54,107,108]),import.meta.url),WorkerTileHandler:()=>Ce(()=>import("./WorkerTileHandler-BZEaYjmV.js"),__vite__mapDeps([109,110,72,73,111,112,62,49,77,59,113,114,33,34,78,70]),import.meta.url),Lyr3DWorker:()=>Ce(()=>import("./Lyr3DWorker-CiT_lKLQ.js"),[],import.meta.url)},zre="worker:port-closed";var Nn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Nn||(Nn={}));let W4e=0;function Vre(){return W4e++}function H4e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function zw(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function ZL(e,t,i,r){if(t.type===Nn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Nn.INVOKE&&t.type!==Nn.RESPONSE)return void e.postMessage(t);let n;if(H4e(i)?(n=_U(i.transferList),t.data=i.result):(n=_U(r),t.data=i),n){if(ke("ff")){for(const o of n)if("byteLength"in o&&o.byteLength>267386880){const c="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Nn.INVOKE:throw c;case Nn.RESPONSE:return void ZL(e,{type:Nn.RESPONSE,jobId:t.jobId,error:zw(c)})}}}e.postMessage(t,n)}else e.postMessage(t)}function Vw(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function _U(e){if(!(e!=null&&e.length))return null;if(ke("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!J4e(i));return t.length?t:null}function J4e(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function j2t(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===zre;if(!(Os(t)||i))throw t;return}}const{CLOSE:SU,ABORT:$U,INVOKE:MU,RESPONSE:Mv,OPEN_PORT:TU,ON:K4e}=Nn,Y4e=2;let Z4e=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Nn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Sp=class ly{static connect(t,i){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const o=new ly(r.port1,{channel:r,client:n,schedule:i});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=o),ly.clients.set(o,n),r.port2}static loadWorker(t){const i=q4e[t];return i?i():Promise.resolve(null)}constructor(t,i,r){this._port=t,this._jobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Z4e(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:SU}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=r==null?void 0:r.signal,o=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new we(zre,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const c=Vre();return new Promise((f,g)=>{if($h(n))return this._processWork(),void g(ln());const v=Ya(n,()=>{const M=this._outJobs.get(c);M&&(this._outJobs.delete(c),this._processWork(),Lr(M.abortHandle),this._post({type:$U,jobId:c}),g(ln()))}),_={resolve:f,reject:g,abortHandle:v,debugInfo:t};this._outJobs.set(c,_),this._post({type:MU,jobId:c,methodName:t,abortable:n!=null},i,o)})}createInvokeProxy(t){return Dre(this,t)}on(t,i){const r=new MessageChannel;function n(o){i(o.data)}return this._port.postMessage({type:Nn.ON,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),Bi(()=>{r.port1.postMessage({type:Nn.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:TU,port:t.port2}),t.port1}_processWork(){var c;if(this._outJobs.size>=Y4e)return;const t=(c=this._jobQueue)==null?void 0:c.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:n,resolver:o}=t;this.apply(i,r,n).then(f=>o.resolve(f)).catch(f=>o.reject(f))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Lr(t.abortHandle),t.reject(ln(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const r=Vw(t);if(r)switch(r.type){case Mv:this._onResponseMessage(r);break;case MU:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case $U:this._onAbortMessage(r);break;case SU:this._onCloseMessage();break;case TU:this._onOpenPortMessage(r);break;case K4e:this._onOnMessage(r)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&ly.clients.get(this)===t&&t.destroy(),ly.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n=[],abortable:o}=t,c=o?new AbortController:null,f=this._inJobs;let g,v=this._client,_=v[i];try{if(!_&&i&&i.includes(".")){const M=i.split(".");for(let T=0;T<M.length-1;T++)v=v[M[T]],_=v[M[T+1]]}if(typeof _!="function")throw new TypeError(`${i} is not a function`);n.push({client:this,signal:c?c.signal:null}),g=_.apply(v,n)}catch(M){return void this._post({type:Mv,jobId:r,error:zw(M)})}Lp(g)?(f.set(r,{controller:c,promise:g}),g.then(M=>{f.has(r)&&(f.delete(r),this._post({type:Mv,jobId:r},M))},M=>{f.has(r)&&(f.delete(r),Os(M)||this._post({type:Mv,jobId:r,error:zw(M||{message:`Error encountered at method ${i}`})}))})):this._post({type:Mv,jobId:r},g)}_onOpenPortMessage(t){new ly(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,o=>{i.postMessage(o)}),n=U3(t.port,"message",o=>{const c=Vw(o);(c==null?void 0:c.type)===Nn.CLOSE&&(n.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,o=this._outJobs;if(!o.has(i))return;const c=o.get(i);o.delete(i),this._processWork(),Lr(c.abortHandle),r?c.reject(we.fromJSON(JSON.parse(r))):c.resolve(n)}_post(t,i,r){return ZL(this._port,t,i,r)}};Sp.kernelInfo={buildDate:Fie,fullVersion:PL,revision:Die},Sp.clients=new Map;let X4e=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new E4}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((r,n)=>{let o=!0;const c=f=>{qi(i.signal),o&&(o=!1,f())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let f=0;f<t.length;++f){const g=t[f];Lp(g)?this._clientPromises[f]=g.then(v=>(this._clients[f]=new Sp(v,i,this._ongoingJobsQueue),c(r),this._clients[f]),()=>(c(n),null)):(this._clients[f]=new Sp(g,i,this._ongoingJobsQueue),this._clientPromises[f]=Promise.resolve(this._clients[f]),c(r))}})}broadcast(t,i,r){const n=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const c=this._clientPromises[o];n[o]=c.then(f=>f==null?void 0:f.invoke(t,i,r))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(ln(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,U4e(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=na();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,resolver:n});for(let o=0;o<this._clientPromises.length;o++){const c=this._clients[o];c?c.jobAdded():this._clientPromises[o].then(f=>f==null?void 0:f.jobAdded())}return n.promise}createInvokeProxy(t){return Dre(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>z3(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(o=>{o&&(i[n]=o.openPort()),--r==0&&t(i)})})}get test(){}};const Q4e={async request(e,t){var c,f;const i=e.options,r=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((c=FI(e.url))!=null&&c.after)?r:"array-buffer";const n=await Vi(e.url,i),o={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch((f=n.requestOptions)==null?void 0:f.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=new TextEncoder().encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=new TextEncoder().encode(o.data).buffer}return{result:o,transferList:[o.data]}}};let N2;var TZ,kZ;const e6e=((TZ=globalThis.esriConfig)==null?void 0:TZ.locale)??((kZ=globalThis.dojoConfig)==null?void 0:kZ.locale);function Bre(){var e;return e6e??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function ta(){return N2===void 0&&(N2=Bre()),N2}function t6e(e=ta()){const t=/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const nS=[];function XL(e){return nS.push(e),Bi(()=>nS.splice(nS.indexOf(e),1))}const sS=[];function QL(e){return sS.push(e),Bi(()=>sS.splice(sS.indexOf(e),1))}function i6e(){const e=Bre();N2!==e&&([...sS].forEach(t=>t(e)),N2=e,[...nS].forEach(t=>t(e)))}var CZ;(CZ=globalThis.addEventListener)==null||CZ.call(globalThis,"languagechange",i6e);const kU=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class b1 extends Error{}class r6e extends b1{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class n6e extends b1{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class s6e extends b1{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class sm extends b1{}class Ure extends b1{constructor(t){super(`Invalid unit ${t}`)}}class xo extends b1{}class Gh extends b1{constructor(){super("Zone is an abstract class")}}const dt="numeric",eu="short",ia="long",A4={year:dt,month:dt,day:dt},Gre={year:dt,month:eu,day:dt},o6e={year:dt,month:eu,day:dt,weekday:eu},qre={year:dt,month:ia,day:dt},Wre={year:dt,month:ia,day:dt,weekday:ia},Hre={hour:dt,minute:dt},Jre={hour:dt,minute:dt,second:dt},Kre={hour:dt,minute:dt,second:dt,timeZoneName:eu},Yre={hour:dt,minute:dt,second:dt,timeZoneName:ia},Zre={hour:dt,minute:dt,hourCycle:"h23"},Xre={hour:dt,minute:dt,second:dt,hourCycle:"h23"},Qre={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:eu},ene={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:ia},tne={year:dt,month:dt,day:dt,hour:dt,minute:dt},ine={year:dt,month:dt,day:dt,hour:dt,minute:dt,second:dt},rne={year:dt,month:eu,day:dt,hour:dt,minute:dt},nne={year:dt,month:eu,day:dt,hour:dt,minute:dt,second:dt},a6e={year:dt,month:eu,day:dt,weekday:eu,hour:dt,minute:dt},sne={year:dt,month:ia,day:dt,hour:dt,minute:dt,timeZoneName:eu},one={year:dt,month:ia,day:dt,hour:dt,minute:dt,second:dt,timeZoneName:eu},ane={year:dt,month:ia,day:dt,weekday:ia,hour:dt,minute:dt,timeZoneName:ia},lne={year:dt,month:ia,day:dt,weekday:ia,hour:dt,minute:dt,second:dt,timeZoneName:ia};class Og{get type(){throw new Gh}get name(){throw new Gh}get ianaName(){return this.name}get isUniversal(){throw new Gh}offsetName(t,i){throw new Gh}formatOffset(t,i){throw new Gh}offset(t){throw new Gh}equals(t){throw new Gh}get isValid(){throw new Gh}}let oT=null;class l7 extends Og{static get instance(){return oT===null&&(oT=new l7),oT}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return gne(t,i,r)}formatOffset(t,i){return F2(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let oS={};function l6e(e){return oS[e]||(oS[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),oS[e]}const u6e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function c6e(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,o,c,f,g,v,_]=r;return[c,n,o,f,g,v,_]}function h6e(e,t){const i=e.formatToParts(t),r=[];for(let n=0;n<i.length;n++){const{type:o,value:c}=i[n],f=u6e[o];o==="era"?r[f]=c:Kt(f)||(r[f]=parseInt(c,10))}return r}let y_={};class aa extends Og{static create(t){return y_[t]||(y_[t]=new aa(t)),y_[t]}static resetCache(){y_={},oS={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=aa.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return gne(t,i,r,this.name)}formatOffset(t,i){return F2(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=l6e(this.name);let[n,o,c,f,g,v,_]=r.formatToParts?h6e(r,i):c6e(r,i);f==="BC"&&(n=-Math.abs(n)+1);const T=c7({year:n,month:o,day:c,hour:g===24?0:g,minute:v,second:_,millisecond:0});let E=+i;const j=E%1e3;return E-=j>=0?j:1e3+j,(T-E)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let CU={};function d6e(e,t={}){const i=JSON.stringify([e,t]);let r=CU[i];return r||(r=new Intl.ListFormat(e,t),CU[i]=r),r}let nE={};function sE(e,t={}){const i=JSON.stringify([e,t]);let r=nE[i];return r||(r=new Intl.DateTimeFormat(e,t),nE[i]=r),r}let oE={};function p6e(e,t={}){const i=JSON.stringify([e,t]);let r=oE[i];return r||(r=new Intl.NumberFormat(e,t),oE[i]=r),r}let aE={};function f6e(e,t={}){const{base:i,...r}=t,n=JSON.stringify([e,r]);let o=aE[n];return o||(o=new Intl.RelativeTimeFormat(e,t),aE[n]=o),o}let bb=null;function y6e(){return bb||(bb=new Intl.DateTimeFormat().resolvedOptions().locale,bb)}let IU={};function m6e(e){let t=IU[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,IU[e]=t}return t}function g6e(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,n;try{r=sE(e).resolvedOptions(),n=e}catch{const g=e.substring(0,i);r=sE(g).resolvedOptions(),n=g}const{numberingSystem:o,calendar:c}=r;return[n,o,c]}}function v6e(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function b6e(e){const t=[];for(let i=1;i<=12;i++){const r=Bt.utc(2009,i,1);t.push(e(r))}return t}function w6e(e){const t=[];for(let i=1;i<=7;i++){const r=Bt.utc(2016,11,13+i);t.push(e(r))}return t}function m_(e,t,i,r){const n=e.listingMode();return n==="error"?null:n==="en"?i(t):r(t)}function x6e(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class _6e{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:o,...c}=r;if(!i||Object.keys(c).length>0){const f={useGrouping:!1,...r};r.padTo>0&&(f.minimumIntegerDigits=r.padTo),this.inf=p6e(t,f)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):rN(t,3);return yn(i,this.padTo)}}}class S6e{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const c=-1*(t.offset/60),f=c>=0?`Etc/GMT+${c}`:`Etc/GMT${c}`;t.offset!==0&&aa.create(f).valid?(n=f,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=sE(i,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class $6e{constructor(t,i,r){this.opts={style:"long",...r},!i&&yne()&&(this.rtf=f6e(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):G6e(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const M6e={firstDay:1,minimalDays:4,weekend:[6,7]};class ir{static fromOpts(t){return ir.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,n,o=!1){const c=t||on.defaultLocale,f=c||(o?"en-US":y6e()),g=i||on.defaultNumberingSystem,v=r||on.defaultOutputCalendar,_=lE(n)||on.defaultWeekSettings;return new ir(f,g,v,_,c)}static resetCache(){bb=null,nE={},oE={},aE={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return ir.create(t,i,r,n)}constructor(t,i,r,n,o){const[c,f,g]=g6e(t);this.locale=c,this.numberingSystem=i||f||null,this.outputCalendar=r||g||null,this.weekSettings=n,this.intl=v6e(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=x6e(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:ir.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,lE(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return m_(this,t,wne,()=>{const r=i?{month:t,day:"numeric"}:{month:t},n=i?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=b6e(o=>this.extract(o,r,"month"))),this.monthsCache[n][t]})}weekdays(t,i=!1){return m_(this,t,Sne,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=i?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=w6e(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return m_(this,void 0,()=>$ne,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Bt.utc(2016,11,13,9),Bt.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return m_(this,t,Mne,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Bt.utc(-40,1,1),Bt.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const n=this.dtFormatter(t,i),o=n.formatToParts(),c=o.find(f=>f.type.toLowerCase()===r);return c?c.value:null}numberFormatter(t={}){return new _6e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new S6e(t,this.intl,i)}relFormatter(t={}){return new $6e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return d6e(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:mne()?m6e(this.locale):M6e}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let aT=null;class Dn extends Og{static get utcInstance(){return aT===null&&(aT=new Dn(0)),aT}static instance(t){return t===0?Dn.utcInstance:new Dn(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Dn(h7(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${F2(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${F2(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return F2(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class T6e extends Og{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bd(e,t){if(Kt(e)||e===null)return t;if(e instanceof Og)return e;if(I6e(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?l7.instance:i==="utc"||i==="gmt"?Dn.utcInstance:Dn.parseSpecifier(i)||aa.create(e)}else return k0(e)?Dn.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new T6e(e)}let EU=()=>Date.now(),AU="system",jU=null,PU=null,OU=null,RU=60,LU,NU=null;class on{static get now(){return EU}static set now(t){EU=t}static set defaultZone(t){AU=t}static get defaultZone(){return Bd(AU,l7.instance)}static get defaultLocale(){return jU}static set defaultLocale(t){jU=t}static get defaultNumberingSystem(){return PU}static set defaultNumberingSystem(t){PU=t}static get defaultOutputCalendar(){return OU}static set defaultOutputCalendar(t){OU=t}static get defaultWeekSettings(){return NU}static set defaultWeekSettings(t){NU=lE(t)}static get twoDigitCutoffYear(){return RU}static set twoDigitCutoffYear(t){RU=t%100}static get throwOnInvalid(){return LU}static set throwOnInvalid(t){LU=t}static resetCaches(){ir.resetCache(),aa.resetCache()}}class ql{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const une=[0,31,59,90,120,151,181,212,243,273,304,334],cne=[0,31,60,91,121,152,182,213,244,274,305,335];function qa(e,t){return new ql("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function eN(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function hne(e,t,i){return i+(X3(e)?cne:une)[t-1]}function dne(e,t){const i=X3(e)?cne:une,r=i.findIndex(o=>o<t),n=t-i[r];return{month:r+1,day:n}}function tN(e,t){return(e-t+7)%7+1}function j4(e,t=4,i=1){const{year:r,month:n,day:o}=e,c=hne(r,n,o),f=tN(eN(r,n,o),i);let g=Math.floor((c-f+14-t)/7),v;return g<1?(v=r-1,g=Bw(v,t,i)):g>Bw(r,t,i)?(v=r+1,g=1):v=r,{weekYear:v,weekNumber:g,weekday:f,...d7(e)}}function FU(e,t=4,i=1){const{weekYear:r,weekNumber:n,weekday:o}=e,c=tN(eN(r,1,t),i),f=Tm(r);let g=n*7+o-c-7+t,v;g<1?(v=r-1,g+=Tm(v)):g>f?(v=r+1,g-=Tm(r)):v=r;const{month:_,day:M}=dne(v,g);return{year:v,month:_,day:M,...d7(e)}}function lT(e){const{year:t,month:i,day:r}=e,n=hne(t,i,r);return{year:t,ordinal:n,...d7(e)}}function DU(e){const{year:t,ordinal:i}=e,{month:r,day:n}=dne(t,i);return{year:t,month:r,day:n,...d7(e)}}function zU(e,t){if(!Kt(e.localWeekday)||!Kt(e.localWeekNumber)||!Kt(e.localWeekYear)){if(!Kt(e.weekday)||!Kt(e.weekNumber)||!Kt(e.weekYear))throw new sm("Cannot mix locale-based week fields with ISO-based week fields");return Kt(e.localWeekday)||(e.weekday=e.localWeekday),Kt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Kt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function k6e(e,t=4,i=1){const r=u7(e.weekYear),n=Wa(e.weekNumber,1,Bw(e.weekYear,t,i)),o=Wa(e.weekday,1,7);return r?n?o?!1:qa("weekday",e.weekday):qa("week",e.weekNumber):qa("weekYear",e.weekYear)}function C6e(e){const t=u7(e.year),i=Wa(e.ordinal,1,Tm(e.year));return t?i?!1:qa("ordinal",e.ordinal):qa("year",e.year)}function pne(e){const t=u7(e.year),i=Wa(e.month,1,12),r=Wa(e.day,1,P4(e.year,e.month));return t?i?r?!1:qa("day",e.day):qa("month",e.month):qa("year",e.year)}function fne(e){const{hour:t,minute:i,second:r,millisecond:n}=e,o=Wa(t,0,23)||t===24&&i===0&&r===0&&n===0,c=Wa(i,0,59),f=Wa(r,0,59),g=Wa(n,0,999);return o?c?f?g?!1:qa("millisecond",n):qa("second",r):qa("minute",i):qa("hour",t)}function Kt(e){return typeof e>"u"}function k0(e){return typeof e=="number"}function u7(e){return typeof e=="number"&&e%1===0}function I6e(e){return typeof e=="string"}function E6e(e){return Object.prototype.toString.call(e)==="[object Date]"}function yne(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function mne(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function A6e(e){return Array.isArray(e)?e:[e]}function VU(e,t,i){if(e.length!==0)return e.reduce((r,n)=>{const o=[t(n),n];return r&&i(r[0],o[0])===r[0]?r:o},null)[1]}function j6e(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function ug(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lE(e){if(e==null)return null;if(typeof e!="object")throw new xo("Week settings must be an object");if(!Wa(e.firstDay,1,7)||!Wa(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Wa(t,1,7)))throw new xo("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Wa(e,t,i){return u7(e)&&e>=t&&e<=i}function P6e(e,t){return e-t*Math.floor(e/t)}function yn(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Pd(e){if(!(Kt(e)||e===null||e===""))return parseInt(e,10)}function Hp(e){if(!(Kt(e)||e===null||e===""))return parseFloat(e)}function iN(e){if(!(Kt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function rN(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function X3(e){return e%4===0&&(e%100!==0||e%400===0)}function Tm(e){return X3(e)?366:365}function P4(e,t){const i=P6e(t-1,12)+1,r=e+(t-i)/12;return i===2?X3(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function c7(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function BU(e,t,i){return-tN(eN(e,1,t),i)+t-1}function Bw(e,t=4,i=1){const r=BU(e,t,i),n=BU(e+1,t,i);return(Tm(e)-r+n)/7}function uE(e){return e>99?e:e>on.twoDigitCutoffYear?1900+e:2e3+e}function gne(e,t,i,r=null){const n=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const c={timeZoneName:t,...o},f=new Intl.DateTimeFormat(i,c).formatToParts(n).find(g=>g.type.toLowerCase()==="timezonename");return f?f.value:null}function h7(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function vne(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new xo(`Invalid unit value ${e}`);return t}function O4(e,t){const i={};for(const r in e)if(ug(e,r)){const n=e[r];if(n==null)continue;i[t(r)]=vne(n)}return i}function F2(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${yn(i,2)}:${yn(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${yn(i,2)}${yn(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function d7(e){return j6e(e,["hour","minute","second","millisecond"])}const O6e=["January","February","March","April","May","June","July","August","September","October","November","December"],bne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R6e=["J","F","M","A","M","J","J","A","S","O","N","D"];function wne(e){switch(e){case"narrow":return[...R6e];case"short":return[...bne];case"long":return[...O6e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const xne=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_ne=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L6e=["M","T","W","T","F","S","S"];function Sne(e){switch(e){case"narrow":return[...L6e];case"short":return[..._ne];case"long":return[...xne];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $ne=["AM","PM"],N6e=["Before Christ","Anno Domini"],F6e=["BC","AD"],D6e=["B","A"];function Mne(e){switch(e){case"narrow":return[...D6e];case"short":return[...F6e];case"long":return[...N6e];default:return null}}function z6e(e){return $ne[e.hour<12?0:1]}function V6e(e,t){return Sne(t)[e.weekday-1]}function B6e(e,t){return wne(t)[e.month-1]}function U6e(e,t){return Mne(t)[e.year<0?0:1]}function G6e(e,t,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&o){const M=e==="days";switch(t){case 1:return M?"tomorrow":`next ${n[e][0]}`;case-1:return M?"yesterday":`last ${n[e][0]}`;case 0:return M?"today":`this ${n[e][0]}`}}const c=Object.is(t,-0)||t<0,f=Math.abs(t),g=f===1,v=n[e],_=r?g?v[1]:v[2]||v[1]:g?n[e][0]:e;return c?`${f} ${_} ago`:`in ${f} ${_}`}function UU(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const q6e={D:A4,DD:Gre,DDD:qre,DDDD:Wre,t:Hre,tt:Jre,ttt:Kre,tttt:Yre,T:Zre,TT:Xre,TTT:Qre,TTTT:ene,f:tne,ff:rne,fff:sne,ffff:ane,F:ine,FF:nne,FFF:one,FFFF:lne};class Ms{static create(t,i={}){return new Ms(t,i)}static parseFormat(t){let i=null,r="",n=!1;const o=[];for(let c=0;c<t.length;c++){const f=t.charAt(c);f==="'"?(r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),i=null,r="",n=!n):n||f===i?r+=f:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=f,i=f)}return r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(t){return q6e[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return yn(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(E,j)=>this.loc.extract(t,E,j),c=E=>t.isOffsetFixed&&t.offset===0&&E.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,E.format):"",f=()=>r?z6e(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),g=(E,j)=>r?B6e(t,E):o(j?{month:E}:{month:E,day:"numeric"},"month"),v=(E,j)=>r?V6e(t,E):o(j?{weekday:E}:{weekday:E,month:"long",day:"numeric"},"weekday"),_=E=>{const j=Ms.macroTokenToFormatOpts(E);return j?this.formatWithSystemDefault(t,j):E},M=E=>r?U6e(t,E):o({era:E},"era"),T=E=>{switch(E){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return c({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return c({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return c({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return f();case"d":return n?o({day:"numeric"},"day"):this.num(t.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return v("short",!0);case"cccc":return v("long",!0);case"ccccc":return v("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return v("short",!1);case"EEEE":return v("long",!1);case"EEEEE":return v("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return g("short",!0);case"LLLL":return g("long",!0);case"LLLLL":return g("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(t.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return g("short",!1);case"MMMM":return g("long",!1);case"MMMMM":return g("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(t.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return M("short");case"GG":return M("long");case"GGGGG":return M("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return _(E)}};return UU(Ms.parseFormat(i),T)}formatDurationFromString(t,i){const r=g=>{switch(g[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=g=>v=>{const _=r(v);return _?this.num(g.get(_),v.length):v},o=Ms.parseFormat(i),c=o.reduce((g,{literal:v,val:_})=>v?g:g.concat(_),[]),f=t.shiftTo(...c.map(r).filter(g=>g));return UU(o,n(f))}}const Tne=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Rg(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Lg(...e){return t=>e.reduce(([i,r,n],o)=>{const[c,f,g]=o(t,n);return[{...i,...c},f||r,g]},[{},null,1]).slice(0,2)}function Ng(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const n=i.exec(e);if(n)return r(n)}return[null,null]}function kne(...e){return(t,i)=>{const r={};let n;for(n=0;n<e.length;n++)r[e[n]]=Pd(t[i+n]);return[r,null,i+n]}}const Cne=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,W6e=`(?:${Cne.source}?(?:\\[(${Tne.source})\\])?)?`,nN=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ine=RegExp(`${nN.source}${W6e}`),sN=RegExp(`(?:T${Ine.source})?`),H6e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,J6e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,K6e=/(\d{4})-?(\d{3})/,Y6e=kne("weekYear","weekNumber","weekDay"),Z6e=kne("year","ordinal"),X6e=/(\d{4})-(\d\d)-(\d\d)/,Ene=RegExp(`${nN.source} ?(?:${Cne.source}|(${Tne.source}))?`),Q6e=RegExp(`(?: ${Ene.source})?`);function km(e,t,i){const r=e[t];return Kt(r)?i:Pd(r)}function e$e(e,t){return[{year:km(e,t),month:km(e,t+1,1),day:km(e,t+2,1)},null,t+3]}function Fg(e,t){return[{hours:km(e,t,0),minutes:km(e,t+1,0),seconds:km(e,t+2,0),milliseconds:iN(e[t+3])},null,t+4]}function Q3(e,t){const i=!e[t]&&!e[t+1],r=h7(e[t+1],e[t+2]),n=i?null:Dn.instance(r);return[{},n,t+3]}function ex(e,t){const i=e[t]?aa.create(e[t]):null;return[{},i,t+1]}const t$e=RegExp(`^T?${nN.source}$`),i$e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function r$e(e){const[t,i,r,n,o,c,f,g,v]=e,_=t[0]==="-",M=g&&g[0]==="-",T=(E,j=!1)=>E!==void 0&&(j||E&&_)?-E:E;return[{years:T(Hp(i)),months:T(Hp(r)),weeks:T(Hp(n)),days:T(Hp(o)),hours:T(Hp(c)),minutes:T(Hp(f)),seconds:T(Hp(g),g==="-0"),milliseconds:T(iN(v),M)}]}const n$e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function oN(e,t,i,r,n,o,c){const f={year:t.length===2?uE(Pd(t)):Pd(t),month:bne.indexOf(i)+1,day:Pd(r),hour:Pd(n),minute:Pd(o)};return c&&(f.second=Pd(c)),e&&(f.weekday=e.length>3?xne.indexOf(e)+1:_ne.indexOf(e)+1),f}const s$e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function o$e(e){const[,t,i,r,n,o,c,f,g,v,_,M]=e,T=oN(t,n,r,i,o,c,f);let E;return g?E=n$e[g]:v?E=0:E=h7(_,M),[T,new Dn(E)]}function a$e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const l$e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,u$e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,c$e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GU(e){const[,t,i,r,n,o,c,f]=e;return[oN(t,n,r,i,o,c,f),Dn.utcInstance]}function h$e(e){const[,t,i,r,n,o,c,f]=e;return[oN(t,f,i,r,n,o,c),Dn.utcInstance]}const d$e=Rg(H6e,sN),p$e=Rg(J6e,sN),f$e=Rg(K6e,sN),y$e=Rg(Ine),Ane=Lg(e$e,Fg,Q3,ex),m$e=Lg(Y6e,Fg,Q3,ex),g$e=Lg(Z6e,Fg,Q3,ex),v$e=Lg(Fg,Q3,ex);function b$e(e){return Ng(e,[d$e,Ane],[p$e,m$e],[f$e,g$e],[y$e,v$e])}function w$e(e){return Ng(a$e(e),[s$e,o$e])}function x$e(e){return Ng(e,[l$e,GU],[u$e,GU],[c$e,h$e])}function _$e(e){return Ng(e,[i$e,r$e])}const S$e=Lg(Fg);function $$e(e){return Ng(e,[t$e,S$e])}const M$e=Rg(X6e,Q6e),T$e=Rg(Ene),k$e=Lg(Fg,Q3,ex);function C$e(e){return Ng(e,[M$e,Ane],[T$e,k$e])}const qU="Invalid Duration",jne={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},I$e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jne},fa=146097/400,D1=146097/4800,E$e={years:{quarters:4,months:12,weeks:fa/7,days:fa,hours:fa*24,minutes:fa*24*60,seconds:fa*24*60*60,milliseconds:fa*24*60*60*1e3},quarters:{months:3,weeks:fa/28,days:fa/4,hours:fa*24/4,minutes:fa*24*60/4,seconds:fa*24*60*60/4,milliseconds:fa*24*60*60*1e3/4},months:{weeks:D1/7,days:D1,hours:D1*24,minutes:D1*24*60,seconds:D1*24*60*60,milliseconds:D1*24*60*60*1e3},...jne},h0=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],A$e=h0.slice(0).reverse();function qh(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ki(r)}function Pne(e,t){let i=t.milliseconds??0;for(const r of A$e.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function WU(e,t){const i=Pne(e,t)<0?-1:1;h0.reduceRight((r,n)=>{if(Kt(t[n]))return r;if(r){const o=t[r]*i,c=e[n][r],f=Math.floor(o/c);t[n]+=f*i,t[r]-=f*c*i}return n},null),h0.reduce((r,n)=>{if(Kt(t[n]))return r;if(r){const o=t[r]%1;t[r]-=o,t[n]+=o*e[r][n]}return n},null)}function j$e(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ki{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?E$e:I$e;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||ir.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ki.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new xo(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ki({values:O4(t,ki.normalizeUnit),loc:ir.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(k0(t))return ki.fromMillis(t);if(ki.isDuration(t))return t;if(typeof t=="object")return ki.fromObject(t);throw new xo(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=_$e(t);return r?ki.fromObject(r,i):ki.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=$$e(t);return r?ki.fromObject(r,i):ki.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new xo("need to specify a reason the Duration is invalid");const r=t instanceof ql?t:new ql(t,i);if(on.throwOnInvalid)throw new s6e(r);return new ki({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new Ure(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Ms.create(this.loc,r).formatDurationFromString(this,t):qU}toHuman(t={}){if(!this.isValid)return qU;const i=h0.map(r=>{const n=this.values[r];return Kt(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(n)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=rN(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Bt.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Pne(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ki.fromDurationLike(t),r={};for(const n of h0)(ug(i.values,n)||ug(this.values,n))&&(r[n]=i.get(n)+this.get(n));return qh(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ki.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=vne(t(this.values[r],r));return qh(this,{values:i},!0)}get(t){return this[ki.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...O4(t,ki.normalizeUnit)};return qh(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const c={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:n,conversionAccuracy:r};return qh(this,c)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return WU(this.matrix,t),qh(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=j$e(this.normalize().shiftToAll().toObject());return qh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(c=>ki.normalizeUnit(c));const i={},r={},n=this.toObject();let o;for(const c of h0)if(t.indexOf(c)>=0){o=c;let f=0;for(const v in r)f+=this.matrix[v][c]*r[v],r[v]=0;k0(n[c])&&(f+=n[c]);const g=Math.trunc(f);i[c]=g,r[c]=(f*1e3-g*1e3)/1e3}else k0(n[c])&&(r[c]=n[c]);for(const c in r)r[c]!==0&&(i[o]+=c===o?r[c]:r[c]/this.matrix[o][c]);return WU(this.matrix,i),qh(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return qh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of h0)if(!i(this.values[r],t.values[r]))return!1;return!0}}const z1="Invalid Interval";function P$e(e,t){return!e||!e.isValid?Zr.invalid("missing or invalid start"):!t||!t.isValid?Zr.invalid("missing or invalid end"):t<e?Zr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Zr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new xo("need to specify a reason the Interval is invalid");const r=t instanceof ql?t:new ql(t,i);if(on.throwOnInvalid)throw new n6e(r);return new Zr({invalid:r})}static fromDateTimes(t,i){const r=kv(t),n=kv(i),o=P$e(r,n);return o??new Zr({start:r,end:n})}static after(t,i){const r=ki.fromDurationLike(i),n=kv(t);return Zr.fromDateTimes(n,n.plus(r))}static before(t,i){const r=ki.fromDurationLike(i),n=kv(t);return Zr.fromDateTimes(n.minus(r),n)}static fromISO(t,i){const[r,n]=(t||"").split("/",2);if(r&&n){let o,c;try{o=Bt.fromISO(r,i),c=o.isValid}catch{c=!1}let f,g;try{f=Bt.fromISO(n,i),g=f.isValid}catch{g=!1}if(c&&g)return Zr.fromDateTimes(o,f);if(c){const v=ki.fromISO(n,i);if(v.isValid)return Zr.after(o,v)}else if(g){const v=ki.fromISO(r,i);if(v.isValid)return Zr.before(f,v)}}return Zr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let n;return i!=null&&i.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(t,i),Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?Zr.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(kv).filter(c=>this.contains(c)).sort((c,f)=>c.toMillis()-f.toMillis()),r=[];let{s:n}=this,o=0;for(;n<this.e;){const c=i[o]||this.e,f=+c>+this.e?this.e:c;r.push(Zr.fromDateTimes(n,f)),n=f,o+=1}return r}splitBy(t){const i=ki.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,o;const c=[];for(;r<this.e;){const f=this.start.plus(i.mapUnits(g=>g*n));o=+f>+this.e?this.e:f,c.push(Zr.fromDateTimes(r,o)),r=o,n+=1}return c}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:Zr.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Zr.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((n,o)=>n.s-o.s).reduce(([n,o],c)=>o?o.overlaps(c)||o.abutsStart(c)?[n,o.union(c)]:[n.concat([o]),c]:[n,c],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const n=[],o=t.map(g=>[{time:g.s,type:"s"},{time:g.e,type:"e"}]),c=Array.prototype.concat(...o),f=c.sort((g,v)=>g.time-v.time);for(const g of f)r+=g.type==="s"?1:-1,r===1?i=g.time:(i&&+i!=+g.time&&n.push(Zr.fromDateTimes(i,g.time)),i=null);return Zr.merge(n)}difference(...t){return Zr.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:z1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=A4,i={}){return this.isValid?Ms.create(this.s.loc.clone(i),t).formatInterval(this):z1}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:z1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:z1}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:z1}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:z1}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ki.invalid(this.invalidReason)}mapEndpoints(t){return Zr.fromDateTimes(t(this.s),t(this.e))}}class g_{static hasDST(t=on.defaultZone){const i=Bt.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return aa.isValidZone(t)}static normalizeZone(t){return Bd(t,on.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||ir.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||ir.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||ir.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||ir.create(i,r,o)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||ir.create(i,r,o)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ir.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ir.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ir.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return ir.create(i,null,"gregory").eras(t)}static features(){return{relative:yne(),localeWeek:mne()}}}function HU(e,t){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ki.fromMillis(r).as("days"))}function O$e(e,t,i){const r=[["years",(g,v)=>v.year-g.year],["quarters",(g,v)=>v.quarter-g.quarter+(v.year-g.year)*4],["months",(g,v)=>v.month-g.month+(v.year-g.year)*12],["weeks",(g,v)=>{const _=HU(g,v);return(_-_%7)/7}],["days",HU]],n={},o=e;let c,f;for(const[g,v]of r)i.indexOf(g)>=0&&(c=g,n[g]=v(e,t),f=o.plus(n),f>t?(n[g]--,e=o.plus(n),e>t&&(f=e,n[g]--,e=o.plus(n))):e=f);return[e,n,f,c]}function R$e(e,t,i,r){let[n,o,c,f]=O$e(e,t,i);const g=t-n,v=i.filter(M=>["hours","minutes","seconds","milliseconds"].indexOf(M)>=0);v.length===0&&(c<t&&(c=n.plus({[f]:1})),c!==n&&(o[f]=(o[f]||0)+g/(c-n)));const _=ki.fromObject(o,r);return v.length>0?ki.fromMillis(g,r).shiftTo(...v).plus(_):_}const aN={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},JU={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},L$e=aN.hanidec.replace(/[\[|\]]/g,"").split("");function N$e(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(aN.hanidec)!==-1)t+=L$e.indexOf(e[i]);else for(const n in JU){const[o,c]=JU[n];r>=o&&r<=c&&(t+=r-o)}}return parseInt(t,10)}else return t}function vl({numberingSystem:e},t=""){return new RegExp(`${aN[e||"latn"]}${t}`)}const F$e="missing Intl.DateTimeFormat.formatToParts support";function Li(e,t=i=>i){return{regex:e,deser:([i])=>t(N$e(i))}}const D$e="",One=`[ ${D$e}]`,Rne=new RegExp(One,"g");function z$e(e){return e.replace(/\./g,"\\.?").replace(Rne,One)}function KU(e){return e.replace(/\./g,"").replace(Rne," ").toLowerCase()}function bl(e,t){return e===null?null:{regex:RegExp(e.map(z$e).join("|")),deser:([i])=>e.findIndex(r=>KU(i)===KU(r))+t}}function YU(e,t){return{regex:e,deser:([,i,r])=>h7(i,r),groups:t}}function v_(e){return{regex:e,deser:([t])=>t}}function V$e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function B$e(e,t){const i=vl(t),r=vl(t,"{2}"),n=vl(t,"{3}"),o=vl(t,"{4}"),c=vl(t,"{6}"),f=vl(t,"{1,2}"),g=vl(t,"{1,3}"),v=vl(t,"{1,6}"),_=vl(t,"{1,9}"),M=vl(t,"{2,4}"),T=vl(t,"{4,6}"),E=N=>({regex:RegExp(V$e(N.val)),deser:([F])=>F,literal:!0}),R=(N=>{if(e.literal)return E(N);switch(N.val){case"G":return bl(t.eras("short"),0);case"GG":return bl(t.eras("long"),0);case"y":return Li(v);case"yy":return Li(M,uE);case"yyyy":return Li(o);case"yyyyy":return Li(T);case"yyyyyy":return Li(c);case"M":return Li(f);case"MM":return Li(r);case"MMM":return bl(t.months("short",!0),1);case"MMMM":return bl(t.months("long",!0),1);case"L":return Li(f);case"LL":return Li(r);case"LLL":return bl(t.months("short",!1),1);case"LLLL":return bl(t.months("long",!1),1);case"d":return Li(f);case"dd":return Li(r);case"o":return Li(g);case"ooo":return Li(n);case"HH":return Li(r);case"H":return Li(f);case"hh":return Li(r);case"h":return Li(f);case"mm":return Li(r);case"m":return Li(f);case"q":return Li(f);case"qq":return Li(r);case"s":return Li(f);case"ss":return Li(r);case"S":return Li(g);case"SSS":return Li(n);case"u":return v_(_);case"uu":return v_(f);case"uuu":return Li(i);case"a":return bl(t.meridiems(),0);case"kkkk":return Li(o);case"kk":return Li(M,uE);case"W":return Li(f);case"WW":return Li(r);case"E":case"c":return Li(i);case"EEE":return bl(t.weekdays("short",!1),1);case"EEEE":return bl(t.weekdays("long",!1),1);case"ccc":return bl(t.weekdays("short",!0),1);case"cccc":return bl(t.weekdays("long",!0),1);case"Z":case"ZZ":return YU(new RegExp(`([+-]${f.source})(?::(${r.source}))?`),2);case"ZZZ":return YU(new RegExp(`([+-]${f.source})(${r.source})?`),2);case"z":return v_(/[a-z_+-/]{1,256}?/i);case" ":return v_(/[^\S\n\r]/);default:return E(N)}})(e)||{invalidReason:F$e};return R.token=e,R}const U$e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function G$e(e,t,i){const{type:r,value:n}=e;if(r==="literal"){const g=/^\s+$/.test(n);return{literal:!g,val:g?" ":n}}const o=t[r];let c=r;r==="hour"&&(t.hour12!=null?c=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?c="hour12":c="hour24":c=i.hour12?"hour12":"hour24");let f=U$e[c];if(typeof f=="object"&&(f=f[o]),f)return{literal:!1,val:f}}function q$e(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function W$e(e,t,i){const r=e.match(t);if(r){const n={};let o=1;for(const c in i)if(ug(i,c)){const f=i[c],g=f.groups?f.groups+1:1;!f.literal&&f.token&&(n[f.token.val[0]]=f.deser(r.slice(o,o+g))),o+=g}return[r,n]}else return[r,{}]}function H$e(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Kt(e.z)||(i=aa.create(e.z)),Kt(e.Z)||(i||(i=new Dn(e.Z)),r=e.Z),Kt(e.q)||(e.M=(e.q-1)*3+1),Kt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Kt(e.u)||(e.S=iN(e.u)),[Object.keys(e).reduce((o,c)=>{const f=t(c);return f&&(o[f]=e[c]),o},{}),i,r]}let uT=null;function J$e(){return uT||(uT=Bt.fromMillis(1555555555555)),uT}function K$e(e,t){if(e.literal)return e;const i=Ms.macroTokenToFormatOpts(e.val),r=Fne(i,t);return r==null||r.includes(void 0)?e:r}function Lne(e,t){return Array.prototype.concat(...e.map(i=>K$e(i,t)))}function Nne(e,t,i){const r=Lne(Ms.parseFormat(i),e),n=r.map(c=>B$e(c,e)),o=n.find(c=>c.invalidReason);if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[c,f]=q$e(n),g=RegExp(c,"i"),[v,_]=W$e(t,g,f),[M,T,E]=_?H$e(_):[null,null,void 0];if(ug(_,"a")&&ug(_,"H"))throw new sm("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:g,rawMatches:v,matches:_,result:M,zone:T,specificOffset:E}}}function Y$e(e,t,i){const{result:r,zone:n,specificOffset:o,invalidReason:c}=Nne(e,t,i);return[r,n,o,c]}function Fne(e,t){if(!e)return null;const r=Ms.create(t,e).dtFormatter(J$e()),n=r.formatToParts(),o=r.resolvedOptions();return n.map(c=>G$e(c,e,o))}const cT="Invalid DateTime",ZU=864e13;function b_(e){return new ql("unsupported zone",`the zone "${e.name}" is not supported`)}function hT(e){return e.weekData===null&&(e.weekData=j4(e.c)),e.weekData}function dT(e){return e.localWeekData===null&&(e.localWeekData=j4(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Jp(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Bt({...i,...t,old:i})}function Dne(e,t,i){let r=e-t*60*1e3;const n=i.offset(r);if(t===n)return[r,t];r-=(n-t)*60*1e3;const o=i.offset(r);return n===o?[r,n]:[e-Math.min(n,o)*60*1e3,Math.max(n,o)]}function w_(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function aS(e,t,i){return Dne(c7(e),t,i)}function XU(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:r,month:n,day:Math.min(e.c.day,P4(r,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},c=ki.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),f=c7(o);let[g,v]=Dne(f,i,e.zone);return c!==0&&(g+=c,v=e.zone.offset(g)),{ts:g,o:v}}function Tv(e,t,i,r,n,o){const{setZone:c,zone:f}=i;if(e&&Object.keys(e).length!==0||t){const g=t||f,v=Bt.fromObject(e,{...i,zone:g,specificOffset:o});return c?v:v.setZone(f)}else return Bt.invalid(new ql("unparsable",`the input "${n}" can't be parsed as ${r}`))}function x_(e,t,i=!0){return e.isValid?Ms.create(ir.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function pT(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=yn(e.c.year,i?6:4),t?(r+="-",r+=yn(e.c.month),r+="-",r+=yn(e.c.day)):(r+=yn(e.c.month),r+=yn(e.c.day)),r}function QU(e,t,i,r,n,o){let c=yn(e.c.hour);return t?(c+=":",c+=yn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(c+=":")):c+=yn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(c+=yn(e.c.second),(e.c.millisecond!==0||!r)&&(c+=".",c+=yn(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!o?c+="Z":e.o<0?(c+="-",c+=yn(Math.trunc(-e.o/60)),c+=":",c+=yn(Math.trunc(-e.o%60))):(c+="+",c+=yn(Math.trunc(e.o/60)),c+=":",c+=yn(Math.trunc(e.o%60)))),o&&(c+="["+e.zone.ianaName+"]"),c}const zne={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Z$e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},X$e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Vne=["year","month","day","hour","minute","second","millisecond"],Q$e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],e7e=["year","ordinal","hour","minute","second","millisecond"];function t7e(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Ure(e);return t}function eG(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return t7e(e)}}function tG(e,t){const i=Bd(t.zone,on.defaultZone),r=ir.fromObject(t),n=on.now();let o,c;if(Kt(e.year))o=n;else{for(const v of Vne)Kt(e[v])&&(e[v]=zne[v]);const f=pne(e)||fne(e);if(f)return Bt.invalid(f);const g=i.offset(n);[o,c]=aS(e,g,i)}return new Bt({ts:o,zone:i,loc:r,o:c})}function iG(e,t,i){const r=Kt(i.round)?!0:i.round,n=(c,f)=>(c=rN(c,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(c,f)),o=c=>i.calendary?t.hasSame(e,c)?0:t.startOf(c).diff(e.startOf(c),c).get(c):t.diff(e,c).get(c);if(i.unit)return n(o(i.unit),i.unit);for(const c of i.units){const f=o(c);if(Math.abs(f)>=1)return n(f,c)}return n(e>t?-0:0,i.units[i.units.length-1])}function rG(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}class Bt{constructor(t){const i=t.zone||on.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new ql("invalid input"):null)||(i.isValid?null:b_(i));this.ts=Kt(t.ts)?on.now():t.ts;let n=null,o=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[n,o]=[t.old.c,t.old.o];else{const f=i.offset(this.ts);n=w_(this.ts,f),r=Number.isNaN(n.year)?new ql("invalid input"):null,n=r?null:n,o=r?null:f}this._zone=i,this.loc=t.loc||ir.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new Bt({})}static local(){const[t,i]=rG(arguments),[r,n,o,c,f,g,v]=i;return tG({year:r,month:n,day:o,hour:c,minute:f,second:g,millisecond:v},t)}static utc(){const[t,i]=rG(arguments),[r,n,o,c,f,g,v]=i;return t.zone=Dn.utcInstance,tG({year:r,month:n,day:o,hour:c,minute:f,second:g,millisecond:v},t)}static fromJSDate(t,i={}){const r=E6e(t)?t.valueOf():NaN;if(Number.isNaN(r))return Bt.invalid("invalid input");const n=Bd(i.zone,on.defaultZone);return n.isValid?new Bt({ts:r,zone:n,loc:ir.fromObject(i)}):Bt.invalid(b_(n))}static fromMillis(t,i={}){if(k0(t))return t<-ZU||t>ZU?Bt.invalid("Timestamp out of range"):new Bt({ts:t,zone:Bd(i.zone,on.defaultZone),loc:ir.fromObject(i)});throw new xo(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(k0(t))return new Bt({ts:t*1e3,zone:Bd(i.zone,on.defaultZone),loc:ir.fromObject(i)});throw new xo("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=Bd(i.zone,on.defaultZone);if(!r.isValid)return Bt.invalid(b_(r));const n=ir.fromObject(i),o=O4(t,eG),{minDaysInFirstWeek:c,startOfWeek:f}=zU(o,n),g=on.now(),v=Kt(i.specificOffset)?r.offset(g):i.specificOffset,_=!Kt(o.ordinal),M=!Kt(o.year),T=!Kt(o.month)||!Kt(o.day),E=M||T,j=o.weekYear||o.weekNumber;if((E||_)&&j)throw new sm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(T&&_)throw new sm("Can't mix ordinal dates with month/day");const R=j||o.weekday&&!E;let N,F,V=w_(g,v);R?(N=Q$e,F=Z$e,V=j4(V,c,f)):_?(N=e7e,F=X$e,V=lT(V)):(N=Vne,F=zne);let z=!1;for(const W of N){const ee=o[W];Kt(ee)?z?o[W]=F[W]:o[W]=V[W]:z=!0}const G=R?k6e(o,c,f):_?C6e(o):pne(o),H=G||fne(o);if(H)return Bt.invalid(H);const Z=R?FU(o,c,f):_?DU(o):o,[Y,re]=aS(Z,v,r),q=new Bt({ts:Y,zone:r,o:re,loc:n});return o.weekday&&E&&t.weekday!==q.weekday?Bt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${q.toISO()}`):q}static fromISO(t,i={}){const[r,n]=b$e(t);return Tv(r,n,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,n]=w$e(t);return Tv(r,n,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,n]=x$e(t);return Tv(r,n,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Kt(t)||Kt(i))throw new xo("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:o=null}=r,c=ir.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[f,g,v,_]=Y$e(c,t,i);return _?Bt.invalid(_):Tv(f,g,r,`format ${i}`,t,v)}static fromString(t,i,r={}){return Bt.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,n]=C$e(t);return Tv(r,n,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new xo("need to specify a reason the DateTime is invalid");const r=t instanceof ql?t:new ql(t,i);if(on.throwOnInvalid)throw new r6e(r);return new Bt({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=Fne(t,ir.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(t,i={}){return Lne(Ms.parseFormat(t),ir.fromObject(i)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hT(this).weekYear:NaN}get weekNumber(){return this.isValid?hT(this).weekNumber:NaN}get weekday(){return this.isValid?hT(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?dT(this).weekday:NaN}get localWeekNumber(){return this.isValid?dT(this).weekNumber:NaN}get localWeekYear(){return this.isValid?dT(this).weekYear:NaN}get ordinal(){return this.isValid?lT(this.c).ordinal:NaN}get monthShort(){return this.isValid?g_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?g_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?g_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?g_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=c7(this.c),n=this.zone.offset(r-t),o=this.zone.offset(r+t),c=this.zone.offset(r-n*i),f=this.zone.offset(r-o*i);if(c===f)return[this];const g=r-c*i,v=r-f*i,_=w_(g,c),M=w_(v,f);return _.hour===M.hour&&_.minute===M.minute&&_.second===M.second&&_.millisecond===M.millisecond?[Jp(this,{ts:g}),Jp(this,{ts:v})]:[this]}get isInLeapYear(){return X3(this.year)}get daysInMonth(){return P4(this.year,this.month)}get daysInYear(){return this.isValid?Tm(this.year):NaN}get weeksInWeekYear(){return this.isValid?Bw(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Bw(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:n}=Ms.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(t=0,i={}){return this.setZone(Dn.instance(t),i)}toLocal(){return this.setZone(on.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=Bd(t,on.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(i||r){const o=t.offset(this.ts),c=this.toObject();[n]=aS(c,o,t)}return Jp(this,{ts:n,zone:t})}else return Bt.invalid(b_(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Jp(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=O4(t,eG),{minDaysInFirstWeek:r,startOfWeek:n}=zU(i,this.loc),o=!Kt(i.weekYear)||!Kt(i.weekNumber)||!Kt(i.weekday),c=!Kt(i.ordinal),f=!Kt(i.year),g=!Kt(i.month)||!Kt(i.day),v=f||g,_=i.weekYear||i.weekNumber;if((v||c)&&_)throw new sm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&c)throw new sm("Can't mix ordinal dates with month/day");let M;o?M=FU({...j4(this.c,r,n),...i},r,n):Kt(i.ordinal)?(M={...this.toObject(),...i},Kt(i.day)&&(M.day=Math.min(P4(M.year,M.month),M.day))):M=DU({...lT(this.c),...i});const[T,E]=aS(M,this.o,this.zone);return Jp(this,{ts:T,o:E})}plus(t){if(!this.isValid)return this;const i=ki.fromDurationLike(t);return Jp(this,XU(this,i))}minus(t){if(!this.isValid)return this;const i=ki.fromDurationLike(t).negate();return Jp(this,XU(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=ki.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const o=this.loc.getStartOfWeek(),{weekday:c}=this;c<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(n==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Ms.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):cT}toLocaleString(t=A4,i={}){return this.isValid?Ms.create(this.loc.clone(i),t).formatDateTime(this):cT}toLocaleParts(t={}){return this.isValid?Ms.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const c=t==="extended";let f=pT(this,c);return f+="T",f+=QU(this,c,i,r,n,o),f}toISODate({format:t="extended"}={}){return this.isValid?pT(this,t==="extended"):null}toISOWeekDate(){return x_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:o=!1,format:c="extended"}={}){return this.isValid?(n?"T":"")+QU(this,c==="extended",i,t,r,o):null}toRFC2822(){return x_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return x_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?pT(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||t)&&(r&&(n+=" "),i?n+="z":t&&(n+="ZZ")),x_(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():cT}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ki.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=A6e(i).map(ki.normalizeUnit),c=t.valueOf()>this.valueOf(),f=c?this:t,g=c?t:this,v=R$e(f,g,o,n);return c?v.negate():v}diffNow(t="milliseconds",i={}){return this.diff(Bt.now(),t,i)}until(t){return this.isValid?Zr.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const n=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(i,r)<=n&&n<=o.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Bt.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(n=t.unit,o=void 0),iG(i,this.plus(r),{...t,numeric:"always",units:n,unit:o})}toRelativeCalendar(t={}){return this.isValid?iG(t.base||Bt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Bt.isDateTime))throw new xo("min requires all arguments be DateTimes");return VU(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Bt.isDateTime))throw new xo("max requires all arguments be DateTimes");return VU(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:n=null,numberingSystem:o=null}=r,c=ir.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return Nne(c,t,i)}static fromStringExplain(t,i,r={}){return Bt.fromFormatExplain(t,i,r)}static get DATE_SHORT(){return A4}static get DATE_MED(){return Gre}static get DATE_MED_WITH_WEEKDAY(){return o6e}static get DATE_FULL(){return qre}static get DATE_HUGE(){return Wre}static get TIME_SIMPLE(){return Hre}static get TIME_WITH_SECONDS(){return Jre}static get TIME_WITH_SHORT_OFFSET(){return Kre}static get TIME_WITH_LONG_OFFSET(){return Yre}static get TIME_24_SIMPLE(){return Zre}static get TIME_24_WITH_SECONDS(){return Xre}static get TIME_24_WITH_SHORT_OFFSET(){return Qre}static get TIME_24_WITH_LONG_OFFSET(){return ene}static get DATETIME_SHORT(){return tne}static get DATETIME_SHORT_WITH_SECONDS(){return ine}static get DATETIME_MED(){return rne}static get DATETIME_MED_WITH_SECONDS(){return nne}static get DATETIME_MED_WITH_WEEKDAY(){return a6e}static get DATETIME_FULL(){return sne}static get DATETIME_FULL_WITH_SECONDS(){return one}static get DATETIME_HUGE(){return ane}static get DATETIME_HUGE_WITH_SECONDS(){return lne}}function kv(e){if(Bt.isDateTime(e))return e;if(e&&e.valueOf&&k0(e.valueOf()))return Bt.fromJSDate(e);if(e&&typeof e=="object")return Bt.fromObject(e);throw new xo(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const ic="system",X0="unknown",$p="UTC",i7e=Intl.DateTimeFormat().resolvedOptions().timeZone,r7e="shortOffset";function n7e(e){return"timeZoneIANA"in e}function s7e(e){return e.startsWith("UTC")}function R4(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?lS(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?o7e(i):null}}}}}function lS(e,t=ic){return e?n7e(e)?e.timeZoneIANA:a7e(e,t):t}function o7e(e){return{timeZoneIANA:e}}function a7e(e,t=ic){if(!e||!kU.has(e.timeZone))return t;const i=kU.get(e.timeZone);return s7e(e.timeZone)||e.respectsDaylightSaving?i:l7e(i)}function l7e(e){const t=Bt.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Dn.instance(-i).formatOffset(0,"narrow")}`}function R2t(e,t,i,r,n){if(t&&n==="date")return{timeZone:$p,timeZoneName:void 0};const o=r.timeStyle||r.hour,c=i===X0;return{timeZone:c?n==="timestamp-offset"?void 0:e??$p:i,timeZoneName:c&&o?r7e:void 0}}const u7e={year:void 0,month:void 0,day:void 0,weekday:void 0},c7e={hour:void 0,minute:void 0,second:void 0},Bne={timeZone:$p},lu={year:"numeric",month:"numeric",day:"numeric"},Cv={year:"numeric",month:"long",day:"numeric"},Iv={year:"numeric",month:"short",day:"numeric"},Ev={year:"numeric",month:"long",weekday:"long",day:"numeric"},Od={hour:"numeric",minute:"numeric"},pf={...Od,second:"numeric"},Une={hourCycle:"h23"},Av={...Od,...Une},jv={...pf,...Une},Gne={"short-date":lu,"short-date-short-time":{...lu,...Od},"short-date-short-time-24":{...lu,...Av},"short-date-long-time":{...lu,...pf},"short-date-long-time-24":{...lu,...jv},"short-date-le":lu,"short-date-le-short-time":{...lu,...Od},"short-date-le-short-time-24":{...lu,...Av},"short-date-le-long-time":{...lu,...pf},"short-date-le-long-time-24":{...lu,...jv},"long-month-day-year":Cv,"long-month-day-year-short-time":{...Cv,...Od},"long-month-day-year-short-time-24":{...Cv,...Av},"long-month-day-year-long-time":{...Cv,...pf},"long-month-day-year-long-time-24":{...Cv,...jv},"day-short-month-year":Iv,"day-short-month-year-short-time":{...Iv,...Od},"day-short-month-year-short-time-24":{...Iv,...Av},"day-short-month-year-long-time":{...Iv,...pf},"day-short-month-year-long-time-24":{...Iv,...jv},"long-date":Ev,"long-date-short-time":{...Ev,...Od},"long-date-short-time-24":{...Ev,...Av},"long-date-long-time":{...Ev,...pf},"long-date-long-time-24":{...Ev,...jv},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Od,"long-time":pf},h7e=Rs()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),qne={ar:"ar-u-nu-latn-ca-gregory"};let cE=new WeakMap;const p7=Gne["short-date-short-time"];function d7e(e){let t=cE.get(e);if(!t){const i=ta(),r=qne[i]||i,n=lN(e.timeZone??ic),o={...e,timeZone:n};t=new Intl.DateTimeFormat(r,o),cE.set(e,t)}return t}function L2t(e){return Gne[e]}function Mp(e,t=p7){return d7e(t).format(e)}function N2t(e,t=p7){return Mp(new Date(e),{...t,...Bne,...c7e})}function F2t(e,t=p7){return Mp(new Date(`1970-01-01T${e}Z`),{...t,...Bne,...u7e})}function D2t(e,t=p7){if(t.timeZone)return Mp(new Date(e),t);const i=Bt.fromISO(e,{setZone:!0}),r=ta(),n=qne[r]??r,o=i.offset===0?$p:t.timeZone,c={...t,timeZone:o};return i.toLocaleString(c,{locale:n})}function lN(e){switch(e){case ic:return i7e;case X0:return $p;default:return e}}QL(()=>{cE=new WeakMap});const p7e={ar:"ar-u-nu-latn"};let uS=new WeakMap,Wne={};function f7e(e){const t=e||Wne;if(!uS.has(t)){const i=ta(),r=p7e[ta()]||i;uS.set(t,new Intl.NumberFormat(r,e))}return uS.get(t)}function z2t(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function L4(e,t){return Object.is(e,-0)&&(e=0),f7e(t).format(e)}QL(()=>{uS=new WeakMap,Wne={}});const Hne=()=>Le.getLogger("esri.intl.substitute");function uN(e,t,i={}){const{format:r={}}=i;return G$(e,n=>y7e(n,t,r))}function y7e(e,t,i){let r,n;const o=e.indexOf(":");if(o===-1?r=e.trim():(r=e.slice(0,o).trim(),n=e.slice(o+1).trim()),!r)return"";const c=D3(r,t);if(c==null)return"";const f=(n?i==null?void 0:i[n]:null)??(i==null?void 0:i[r]);return f?m7e(c,f):n?g7e(c,n):cN(c)}function m7e(e,t){switch(t.type){case"date":return Mp(e,t.intlOptions);case"number":return L4(e,t.intlOptions);default:return Hne().warn("missing format descriptor for key {key}"),cN(e)}}function g7e(e,t){switch(t.toLowerCase()){case"dateformat":return Mp(e);case"numberformat":return L4(e);default:return Hne().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Mp(e):/^numberformat/i.test(t)?L4(e):cN(e)}}function cN(e){switch(typeof e){case"string":return e;case"number":return L4(e);case"boolean":return""+e;default:return e instanceof Date?Mp(e):""}}const nG=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,v7e={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function sG(e){return e in v7e}const wb=[],Cm=new Map;function oG(e){for(const t of Cm.keys())Jne(e.pattern,t)&&Cm.delete(t)}function b7e(e){return wb.includes(e)||(oG(e),wb.unshift(e)),Bi(()=>{const t=wb.indexOf(e);t>-1&&(wb.splice(t,1),oG(e))})}async function hN(e){const t=ta();Cm.has(e)||Cm.set(e,x7e(e,t));const i=Cm.get(e);return i&&await _7e.add(i),i}function w7e(e){if(!nG.test(e))return null;const t=nG.exec(e);if(t===null)return null;const[,i,r]=t,n=i+(r?"-"+r.toUpperCase():"");return sG(n)?n:sG(i)?i:null}async function x7e(e,t){const i=[];for(const r of wb)if(Jne(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(n){i.push(n)}throw i.length?new we("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new we("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function Jne(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}QL(()=>{Cm.clear()});const _7e=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=na())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function S7e(e,t,i,r){const n=t.exec(i);if(!n)throw new we("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const o=n[1]?`${n[1]}/`:"",c=n[2],f=w7e(r),g=`${o}${c}.json`,v=f?`${o}${c}_${f}.json`:g;let _;try{_=await aG(e(v))}catch(M){if(v===g)throw new we("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:M});try{_=await aG(e(g))}catch(T){throw new we("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:T})}}return _}async function aG(e){if(lG.fetchBundleAsset!=null)return lG.fetchBundleAsset(e);const t=await Vi(e,{responseType:"text"});return JSON.parse(t.data)}let $7e=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?o=>new URL(o,new URL(r,window.location.href)).href:r instanceof URL?o=>new URL(o,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return S7e(this.getAssetUrl,this.matcher,t,i)}};function M7e(e){return new $7e(e)}const lG={};b7e(M7e({pattern:"esri/",location:Si}));const uG={};function T7e(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.concat())||[],paths:{...uG.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=uG.baseUrl),t}let k7e=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},cS=class{constructor(){this._dispatcher=new k7e,this._workerPostMessage({type:Nn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){r4(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){r4(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=Vw(t);if(i&&i.type===Nn.OPEN){const{modulePath:r,jobId:n}=i;let o=await Sp.loadWorker(r);o||(o=await import(r));const c=Sp.connect(o);this._workerPostMessage({type:Nn.OPENED,jobId:n,data:c})}}};const hE=()=>Le.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:C7e}=Nn,I7e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let __,S_;const cG="Failed to create Worker. Fallback to execute module in main thread";async function E7e(){if(!ke("esri-workers"))return hG(new cS);if(!__&&!S_)try{const t=I7e.split("{CONFIGURATION}").join(A7e());__=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){S_=t||{}}let e;if(__)try{e=new Worker(__,{name:"esri-worker-"+j7e++})}catch{hE().warn(cG,S_),e=new cS}else hE().warn(cG,S_),e=new cS;return hG(e)}async function hG(e){return new Promise(t=>{function i(n){const o=Vw(n);o&&o.type===C7e&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(n){n.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),hE().warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new cS).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function A7e(){let e;if(yi.default!=null){const n={...yi};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(yi));e.assetsPath=Da(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Da(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=ta(),e.has={"esri-csp-restrictions":ke("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":ke("esri-2d-update-debug"),"esri-2d-log-updating":ke("esri-2d-log-updating"),"featurelayer-pbf":ke("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":ke("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":ke("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":ke("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":ke("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":ke("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":ke("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":ke("featurelayer-snapshot-enabled"),"esri-atomics":ke("esri-atomics"),"esri-shared-array-buffer":ke("esri-shared-array-buffer"),"esri-tiles-debug":ke("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":ke("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":ke("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Da(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Da(e.workers.workerPath):e.workers.workerPath=Da(Si("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=yi.workers.loaderConfig,i=T7e({baseUrl:t==null?void 0:t.baseUrl,locale:ta(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:Fie,fullVersion:PL,revision:Die}})}let j7e=0;const{ABORT:dG,INVOKE:P7e,OPEN:O7e,OPENED:R7e,RESPONSE:Pv}=Nn;let L7e=class Kne{static async create(t){const i=await E7e();return new Kne(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),Le.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,n=Vre();return new Promise((o,c)=>{const f={resolve:o,reject:c,abortHandle:dL(r,()=>{this._outJobs.delete(n),this._post({type:dG,jobId:n})})};this._outJobs.set(n,f),this._post({type:O7e,jobId:n,modulePath:t})})}_onMessage(t){const i=Vw(t);if(i)switch(i.type){case R7e:this._onOpenedMessage(i);break;case Pv:this._onResponseMessage(i);break;case dG:this._onAbortMessage(i);break;case P7e:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);n&&(n.controller&&n.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n,abortable:o}=t,c=o?new AbortController:null,f=this._inJobs,g=Q4e[i];let v;try{if(typeof g!="function")throw new TypeError(`${i} is not a function`);v=g.call(null,n,{signal:c?c.signal:null})}catch(_){return void this._post({type:Pv,jobId:r,error:zw(_)})}Lp(v)?(f.set(r,{controller:c,promise:v}),v.then(_=>{f.has(r)&&(f.delete(r),this._post({type:Pv,jobId:r},_))},_=>{f.has(r)&&(f.delete(r),_||(_={message:"Error encountered at method"+i}),Os(_)||this._post({type:Pv,jobId:r,error:zw(_||{message:`Error encountered at method ${i}`})}))})):this._post({type:Pv,jobId:r},v)}_onOpenedMessage(t){const{jobId:i,data:r}=t,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),Lr(n.abortHandle),n.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,o=this._outJobs.get(i);o&&(this._outJobs.delete(i),Lr(o.abortHandle),r?o.reject(we.fromJSON(JSON.parse(r))):o.resolve(n))}_post(t,i,r){return ZL(this.worker,t,i,r)}};const pG=ke("host-browser")?Math.min(navigator.hardwareConcurrency-1,ke("workers-pool-size")):0;let d0=ke("esri-mobile")?Math.min(pG,3):pG;d0||(d0=ke("safari")&&ke("mac")?7:2);let fG=0;const hS=[];function N7e(){Yne()}async function $_(e,t){const i=new X4e,{registryTarget:r,...n}=t;return await i.open(e,n),r&&B4e(r,i),i}async function F7e(e,t={}){if(typeof e!="string")throw new we("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(ke("host-webworker")&&!ke("esri-workers")&&(i="local"),i==="local"){let r=await Sp.loadWorker(e);r||(r=await import(e)),qi(t.signal);const n=t.client||r;return $_([Sp.connect(r,t.schedule)],{...t,client:n})}if(await Yne(),qi(t.signal),i==="dedicated"){const r=fG++%d0;return $_([await hS[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,d0);if(r<d0){const n=new Array(r);for(let o=0;o<r;++o){const c=fG++%d0;n[o]=hS[c].open(e,t)}return $_(n,t)}}return $_(hS.map(r=>r.open(e,t)),t)}let M_=null;async function Yne(){if(M_)return M_;new AbortController;const e=[];for(let t=0;t<d0;t++){const i=L7e.create(t).then(r=>(hS[t]=r,r));e.push(i)}return M_=Promise.all(e),M_}const Wh=Fr.radius,wl=Fr.eccentricitySquared,D7e={a1:Wh*wl,a2:Wh*wl*Wh*wl,a3:Wh*wl*wl/2,a4:Wh*wl*Wh*wl*2.5,a5:Wh*wl+Wh*wl*wl/2,a6:1-wl};1/294.9786982,1/298.257222101,Fr.radius,Fr.flattening,1/298.257222101,bp.radius,bp.flattening,1/192.0430107526882,Ku.radius,Ku.flattening,1/10.2079945799458,1/43.61604095563141,Ku.radius;var $e;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})($e||($e={}));const z7e={[$e.WGS84]:{[$e.CGCS2000]:Sr,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:Sr,[$e.SPHERICAL_ECEF]:z2,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:Im,[$e.PLATE_CARREE]:Em,[$e.WGS84]:Sr,[$e.WGS84_ECEF]:Pm},[$e.CGCS2000]:{[$e.CGCS2000]:Sr,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:Sr,[$e.SPHERICAL_ECEF]:z2,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:Im,[$e.PLATE_CARREE]:Em,[$e.WGS84]:Sr,[$e.WGS84_ECEF]:Pm},[$e.GCSMARS2000]:{[$e.CGCS2000]:null,[$e.GCSMARS2000]:Sr,[$e.GCSMOON2000]:null,[$e.LON_LAT]:Sr,[$e.SPHERICAL_ECEF]:null,[$e.SPHERICAL_MARS_PCPF]:gG,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:null,[$e.PLATE_CARREE]:null,[$e.WGS84]:null,[$e.WGS84_ECEF]:null},[$e.GCSMOON2000]:{[$e.CGCS2000]:null,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:Sr,[$e.LON_LAT]:Sr,[$e.SPHERICAL_ECEF]:null,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:mG,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:null,[$e.PLATE_CARREE]:null,[$e.WGS84]:null,[$e.WGS84_ECEF]:null},[$e.WEB_MERCATOR]:{[$e.CGCS2000]:D2,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:D2,[$e.SPHERICAL_ECEF]:V7e,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:Sr,[$e.PLATE_CARREE]:G7e,[$e.WGS84]:D2,[$e.WGS84_ECEF]:B7e},[$e.WGS84_ECEF]:{[$e.CGCS2000]:Om,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:Om,[$e.SPHERICAL_ECEF]:Q7e,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:e8e,[$e.PLATE_CARREE]:q7e,[$e.WGS84]:Om,[$e.WGS84_ECEF]:Sr},[$e.SPHERICAL_ECEF]:{[$e.CGCS2000]:jm,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:jm,[$e.SPHERICAL_ECEF]:Sr,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:Y7e,[$e.PLATE_CARREE]:W7e,[$e.WGS84]:jm,[$e.WGS84_ECEF]:Z7e},[$e.SPHERICAL_MARS_PCPF]:{[$e.CGCS2000]:null,[$e.GCSMARS2000]:bG,[$e.GCSMOON2000]:null,[$e.LON_LAT]:bG,[$e.SPHERICAL_ECEF]:null,[$e.SPHERICAL_MARS_PCPF]:Sr,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:null,[$e.PLATE_CARREE]:null,[$e.WGS84]:null,[$e.WGS84_ECEF]:null},[$e.SPHERICAL_MOON_PCPF]:{[$e.CGCS2000]:null,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:vG,[$e.LON_LAT]:vG,[$e.SPHERICAL_ECEF]:null,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:Sr,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:null,[$e.PLATE_CARREE]:null,[$e.WGS84]:null,[$e.WGS84_ECEF]:null},[$e.UNKNOWN]:{[$e.CGCS2000]:null,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:null,[$e.SPHERICAL_ECEF]:null,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:Sr,[$e.WEB_MERCATOR]:null,[$e.PLATE_CARREE]:null,[$e.WGS84]:null,[$e.WGS84_ECEF]:null},[$e.LON_LAT]:{[$e.CGCS2000]:Sr,[$e.GCSMARS2000]:Sr,[$e.GCSMOON2000]:Sr,[$e.LON_LAT]:Sr,[$e.SPHERICAL_ECEF]:z2,[$e.SPHERICAL_MARS_PCPF]:gG,[$e.SPHERICAL_MOON_PCPF]:mG,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:Im,[$e.PLATE_CARREE]:Em,[$e.WGS84]:Sr,[$e.WGS84_ECEF]:Pm},[$e.PLATE_CARREE]:{[$e.CGCS2000]:Am,[$e.GCSMARS2000]:null,[$e.GCSMOON2000]:null,[$e.LON_LAT]:Am,[$e.SPHERICAL_ECEF]:H7e,[$e.SPHERICAL_MARS_PCPF]:null,[$e.SPHERICAL_MOON_PCPF]:null,[$e.UNKNOWN]:null,[$e.WEB_MERCATOR]:J7e,[$e.PLATE_CARREE]:Sr,[$e.WGS84]:Am,[$e.WGS84_ECEF]:K7e}};function Zne(e,t,i=Xne()){return e==null||t==null?null:t8e(e,t,i).projector}function yG(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=nu(e,1)),T4(e)?t.spatialReferenceId=$e.SPHERICAL_ECEF:wp(e)?t.spatialReferenceId=$e.WGS84:tc(e)?t.spatialReferenceId=$e.WEB_MERCATOR:c9e(e)?t.spatialReferenceId=$e.PLATE_CARREE:e.wkt===f9e.wkt?t.spatialReferenceId=$e.WGS84_ECEF:e.wkid===za.CGCS2000?t.spatialReferenceId=$e.CGCS2000:e.wkt===FL.wkt?t.spatialReferenceId=$e.SPHERICAL_MARS_PCPF:e.wkt===DL.wkt?t.spatialReferenceId=$e.SPHERICAL_MOON_PCPF:RL(e)?t.spatialReferenceId=$e.GCSMARS2000:LL(e)?t.spatialReferenceId=$e.GCSMOON2000:t.spatialReferenceId=$e.UNKNOWN):$e.UNKNOWN}function Sr(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function D2(e,t,i,r){i[r]=hg*(e[t]/C0),i[r+1]=hg*(ese-2*Math.atan(Math.exp(-e[t+1]/C0))),i[r+2]=e[t+2]}function V7e(e,t,i,r){const n=e[t]/C0,o=ese-2*Math.atan(Math.exp(-e[t+1]/C0)),c=C0+e[t+2],f=Math.cos(o)*c;i[r]=Math.cos(n)*f,i[r+1]=Math.sin(n)*f,i[r+2]=Math.sin(o)*c}function B7e(e,t,i,r){D2(e,t,i,r),Pm(i,r,i,r)}function U7e(e,t,i,r,n){const o=.4999999*f7,c=ol(cg*e[t+1],-o,o),f=Math.sin(c);i[r++]=cg*e[t]*n.radius,i[r++]=n.halfSemiMajorAxis*Math.log((1+f)/(1-f)),i[r]=e[t+2]}function Im(e,t,i,r){U7e(e,t,i,r,Fr)}function Em(e,t,i,r){i[r]=e[t]*wG,i[r+1]=e[t+1]*wG,i[r+2]=e[t+2]}function Am(e,t,i,r){i[r]=e[t]*xG,i[r+1]=e[t+1]*xG,i[r+2]=e[t+2]}function G7e(e,t,i,r){D2(e,t,i,r),Em(i,r,i,r)}function q7e(e,t,i,r){Om(e,t,i,r),Em(i,r,i,r)}function W7e(e,t,i,r){jm(e,t,i,r),Em(i,r,i,r)}function H7e(e,t,i,r){Am(e,t,i,r),z2(i,r,i,r)}function J7e(e,t,i,r){Am(e,t,i,r),Im(i,r,i,r)}function K7e(e,t,i,r){Am(e,t,i,r),Pm(i,r,i,r)}function dN(e,t,i,r,n){const o=n+e[t+2],c=cg*e[t+1],f=cg*e[t],g=Math.cos(c)*o;i[r]=Math.cos(f)*g,i[r+1]=Math.sin(f)*g,i[r+2]=Math.sin(c)*o}function mG(e,t,i,r){dN(e,t,i,r,bp.radius)}function gG(e,t,i,r){dN(e,t,i,r,Ku.radius)}function z2(e,t,i,r){dN(e,t,i,r,Fr.radius)}function pN(e,t,i,r,n){const o=e[t],c=e[t+1],f=e[t+2],g=Math.sqrt(o*o+c*c+f*f),v=bie(f/(g===0?1:g)),_=Math.atan2(c,o);i[r++]=hg*_,i[r++]=hg*v,i[r]=g-n}function vG(e,t,i,r){pN(e,t,i,r,bp.radius)}function bG(e,t,i,r){pN(e,t,i,r,Ku.radius)}function jm(e,t,i,r){pN(e,t,i,r,Fr.radius)}function Y7e(e,t,i,r){jm(e,t,i,r),Im(i,r,i,r)}function Z7e(e,t,i,r){jm(e,t,i,r),Pm(i,r,i,r)}function X7e(e,t,i,r,n){const o=cg*e[t],c=cg*e[t+1],f=e[t+2],g=Math.sin(c),v=Math.cos(c),_=n.radius/Math.sqrt(1-n.eccentricitySquared*g*g);i[r++]=(_+f)*v*Math.cos(o),i[r++]=(_+f)*v*Math.sin(o),i[r++]=(_*(1-n.eccentricitySquared)+f)*g}function Pm(e,t,i,r){X7e(e,t,i,r,Fr)}function Om(e,t,i,r){const n=D7e,o=e[t],c=e[t+1],f=e[t+2];let g,v,_,M,T,E,j,R,N,F,V,z,G,H,Z,Y,re,q,W,ee,le;g=Math.abs(f),v=o*o+c*c,_=Math.sqrt(v),M=v+f*f,T=Math.sqrt(M),ee=Math.atan2(c,o),E=f*f/M,j=v/M,H=n.a2/T,Z=n.a3-n.a4/T,j>.3?(R=g/T*(1+j*(n.a1+H+E*Z)/T),W=Math.asin(R),F=R*R,N=Math.sqrt(1-F)):(N=_/T*(1-E*(n.a5-H-j*Z)/T),W=Math.acos(N),F=1-N*N,R=Math.sqrt(F)),V=1-Fr.eccentricitySquared*F,z=Fr.radius/Math.sqrt(V),G=n.a6*z,H=_-z*N,Z=g-G*R,re=N*H+R*Z,Y=N*Z-R*H,q=Y/(G/V+re),W+=q,le=re+Y*q/2,f<0&&(W=-W),i[r++]=hg*ee,i[r++]=hg*W,i[r]=le}function Q7e(e,t,i,r){Om(e,t,i,r),z2(i,r,i,r)}function e8e(e,t,i,r){Om(e,t,i,r),Im(i,r,i,r)}function t8e(e,t,i){if(e==null||t==null||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const r=yG(e,i.source),n=yG(t,i.dest);return r===$e.UNKNOWN&&n===$e.UNKNOWN?tn(e,t)?i.projector=Sr:i.projector=null:i.projector=z7e[r][n],i}function Xne(){return{source:{spatialReference:null,spatialReferenceId:$e.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:$e.UNKNOWN,metersPerUnit:1},projector:Sr}}const G2t={spatialReference:null,spatialReferenceId:$e.UNKNOWN},q2t={spatialReference:null,spatialReferenceId:$e.UNKNOWN},Qne=Xne(),cg=Hd(1),hg=vie(1),f7=Math.PI,ese=.5*f7,C0=Fr.radius,wG=C0*f7/180,xG=180/(C0*f7);function tx(e,t,i,r,n,o,c=1){const f=Zne(t,n,Qne);if(f==null)return!1;if(f===Sr){if(e===r&&i===o)return!0;const v=i+3*c;for(let _=i,M=o;_<v;_++,M++)r[M]=e[_];return!0}const g=i+3*c;for(let v=i,_=o;v<g;v+=3,_+=3)f(e,v,r,_);return!0}const W2t=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:tx},Symbol.toStringTag,{value:"Module"}));function _G(e,t,i,r,n,o){return T_[0]=e,T_[1]=t,T_[2]=i,tx(T_,r,0,n,o,0,1)}const T_=hl();let k_=0,fT=class dE{static fromGE(t){const i=new dE;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=k_++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=k_++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=k_++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=k_++}getInverse(){const t=new dE;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},N4=class xb{static cacheKey(t,i){var r,n,o,c,f,g;return[((r=t.wkid)==null?void 0:r.toString())??"-1",((n=t.wkt)==null?void 0:n.toString())??"",((o=t.wkt2)==null?void 0:o.toString())??"",((c=i.wkid)==null?void 0:c.toString())??"-1",((f=i.wkt)==null?void 0:f.toString())??"",((g=i.wkt2)==null?void 0:g.toString())??""].join()}static fromGE(t){const i=new xb;let r="";for(const n of t.steps){const o=fT.fromGE(n);i.steps.push(o),r+=o.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof fT?this.steps.push(i):this.steps.push(new fT({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new xb;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];t.steps.push(r.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,r){this._cachedProjection[xb.cacheKey(t,i)]=r}getCachedGeTransformation(t,i){let r="";for(const o of this.steps)r+=o.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const n=this._cachedProjection[xb.cacheKey(t,i)];return n===void 0?null:n}};function tse(e,t,i){if(t==null||i==null||i.vcsWkid||tn(t,i)||xp(t)||xp(i))return null;const r=k4(t)/k4(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>i8e(n,r);case"polyline":case"esriGeometryPolyline":return n=>n8e(n,r);case"polygon":case"esriGeometryPolygon":return n=>r8e(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>s8e(n,r);case"extent":case"esriGeometryEnvelope":return n=>o8e(n,r);default:return null}}function i8e(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function r8e(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function n8e(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function s8e(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function o8e(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Zl=null,Tp=null,V2=null,dS={};const fN=new Z3;function Ah(){return!!Zl&&OL()}function ise(){return!!Ah()||(jt(fN),Mh(),!1)}function rse(e,t){return!e||!t||tu(e,t)||ise()}function a8e(e,t){return!tu(e,t)&&!Ah()}function Mh(e){return V2==null&&(V2=Promise.all([Gie(),Ce(()=>Promise.resolve().then(()=>gHe),[],import.meta.url).then(t=>t.g),Ce(()=>Promise.resolve().then(()=>$He),void 0,import.meta.url)])),V2.then(([,t,{hydratedAdapter:i}])=>{qi(e),Tp=i,Zl=t.default,Zl._enableProjection(o9e),fN.notify()})}function Np(e,t,i=null,r=null){return Array.isArray(e)?e.length===0?[]:pE(Tp,e,e[0].spatialReference,t,i,r):pE(Tp,[e],e.spatialReference,t,i,r)[0]}function pE(e,t,i,r,n=null,o=null){if(i==null||r==null)return t;if(tu(i,r,n))return t.map(c=>pS(c,i,r));if(n==null&&T4(i))return t.map(c=>pS(c,i,At.WGS84)).map(c=>Uw(c,r));if(n==null&&T4(r))return t.map(c=>Uw(c,At.WGS84)).map(c=>pS(c,At.WGS84,r));if(n==null){const c=N4.cacheKey(i,r);dS[c]!==void 0?n=dS[c]:((n=sse(i,r,void 0))==null&&(n=new N4),dS[c]=n)}if(Zl==null||e==null)throw new y7;return o!=null?Zl._project(e,t,i,r,n,o):Zl._project(e,t,i,r,n)}function l8e(e,t){const i=nse([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function nse(e,t){if(!Ah()){for(const i of e)if(i!=null&&!tn(i.spatialReference,t)&&Zo(i.spatialReference)&&Zo(t)&&!tu(i.spatialReference,t))return jt(fN),{pending:Mh(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:tn(i.spatialReference,t)?i:Zo(i.spatialReference)&&Zo(t)?Uw(i,t):null)}}function sse(e,t,i=null){if(e==null||t==null)return null;if(Zl==null||Tp==null)throw new y7;const r=Zl._getTransformation(Tp,e,t,i,i==null?void 0:i.spatialReference);return r!==null?N4.fromGE(r):null}function u8e(e,t,i=null){if(Zl==null||Tp==null)throw new y7;const r=Zl._getTransformationBySuitability(Tp,e,t,i,i==null?void 0:i.spatialReference);if(r!==null){const n=[];for(const o of r)n.push(N4.fromGE(o));return n}return[]}let y7=class extends we{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function c8e(){Zl=null,Tp=null,V2=null,dS={}}const h8e={get loadPromise(){return V2}};function Uw(e,t){try{const i=Np(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=tse(i.type,e.spatialReference,t);return r!=null&&r(i),i}catch(i){if(!(i instanceof y7))throw i;return null}}async function d8e(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await yN(r,t,null,i),Uw(e,t)}function tu(e,t,i){return!i&&(!!tn(e,t)||Zo(e)&&Zo(t)&&!!Zne(e,t,Qne))}function p8e(e,t){if(tn(e,t))return!0;if(!Zo(e)||!Zo(t))return!1;const i=wp(e)||tc(e)||YI(e),r=wp(t)||tc(t)||YI(t);return i&&r}async function yN(e,t,i,r){if(Ah())return NB(r);if(Array.isArray(e)){for(const{source:n,dest:o,geographicTransformation:c}of e)if(n&&o&&!tu(n,o,c))return Mh(r)}else if(e&&t&&!tu(e,t,i))return Mh(r);return NB(r)}function pS(e,t,i){return e?"x"in e?ose(e,t,new Pt,i,0):"xmin"in e?cse(e,t,new ci,i,0):"rings"in e?use(e,t,new sa,i,0):"paths"in e?lse(e,t,new Ga,i,0):"points"in e?ase(e,t,new K3,i,0):null:null}function f8e(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&ose(e,e.spatialReference,t,i,r)!=null}function ose(e,t,i,r,n){_s[0]=e.x,_s[1]=e.y;const o=e.z;return _s[2]=o!==void 0?o:n,tx(_s,t,0,_s,r,0,1)?(i.x=_s[0],i.y=_s[1],i.spatialReference=r,o!==void 0||xp(r)?(i.z=_s[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function y8e(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&ase(e,e.spatialReference,t,i,r)!=null}function ase(e,t,i,r,n){const{points:o,hasZ:c,hasM:f}=e,g=[],v=o.length,_=[];for(const T of o)_.push(T[0],T[1],c?T[2]:n);if(!tx(_,t,0,_,r,0,v))return null;const M=c||xp(r);for(let T=0;T<v;++T){const E=3*T,j=_[E],R=_[E+1];M&&f?g.push([j,R,_[E+2],o[T][3]]):M?g.push([j,R,_[E+2]]):f?g.push([j,R,o[T][2]]):g.push([j,R])}return i.points=g,i.spatialReference=r,i.hasZ=c,i.hasM=f,i}function m8e(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&lse(e,e.spatialReference,t,i,r)!=null}function lse(e,t,i,r,n){const{paths:o,hasZ:c,hasM:f}=e,g=[];if(!hse(o,c??!1,f??!1,t,g,r,n))return null;const v=c||xp(r);return i.paths=g,i.spatialReference=r,i.hasZ=v,i.hasM=f,i}function g8e(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&use(e,e.spatialReference,t,i,r)!=null}function use(e,t,i,r,n){const{rings:o,hasZ:c,hasM:f}=e,g=[];if(!hse(o,c??!1,f??!1,t,g,r,n))return null;const v=c||xp(r);return i.rings=g,i.spatialReference=r,i.hasZ=v,i.hasM=f,i}function v8e(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&cse(e,e.spatialReference,t,i,r)!=null}function cse(e,t,i,r,n){const{xmin:o,ymin:c,xmax:f,ymax:g,hasZ:v,hasM:_}=e,M=v?e.zmin:n;if(!_G(o,c,M,t,_s,r))return null;const T=v||xp(r);i.xmin=_s[0],i.ymin=_s[1],T&&(i.zmin=_s[2]);const E=v?e.zmax:n;return _G(f,g,E,t,_s,r)?(i.xmax=_s[0],i.ymax=_s[1],T&&(i.zmax=_s[2]),_&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function hse(e,t,i,r,n,o,c=0){const f=new Array;for(const _ of e)for(const M of _)f.push(M[0],M[1],t?M[2]:c);if(!tx(f,r,0,f,o,0,f.length/3))return!1;let g=0;n.length=0;const v=t||xp(o);for(const _ of e){const M=new Array;for(const T of _)v&&i?M.push([f[g++],f[g++],f[g++],T[3]]):v?M.push([f[g++],f[g++],f[g++]]):i?(M.push([f[g++],f[g++],T[2]]),g++):(M.push([f[g++],f[g++]]),g++);n.push(M)}return!0}const _s=hl(),J2t=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:tu,getTransformation:sse,getTransformations:u8e,initializeProjection:yN,isEqualBaseGCS:p8e,isLoaded:Ah,isLoadedOrLoad:ise,isLoadedOrLoadFor:rse,load:Mh,project:Np,projectExtent:v8e,projectMany:pE,projectMultipoint:y8e,projectOrLoad:l8e,projectOrLoadMany:nse,projectPoint:f8e,projectPolygon:g8e,projectPolyline:m8e,projectWithZConversion:d8e,projectWithoutEngine:pS,requiresLoad:a8e,test:h8e,tryProjectWithZConversion:Uw,unload:c8e},Symbol.toStringTag,{value:"Module"}));var fE;let mu=fE=class extends Ne{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new fE({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};b([$({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],mu.prototype,"cols",void 0),b([$({type:zi,json:{write:!0}})],mu.prototype,"level",void 0),b([$({type:String,json:{write:!0}})],mu.prototype,"levelValue",void 0),b([$({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],mu.prototype,"origin",void 0),b([$({type:Number,json:{write:!0}})],mu.prototype,"resolution",void 0),b([$({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],mu.prototype,"rows",void 0),b([$({type:Number,json:{write:!0}})],mu.prototype,"scale",void 0),mu=fE=b([ne("esri.layers.support.LOD")],mu);const Na=mu;let b8e=class{constructor(t,i,r,n,o=void 0){this.id=t,this.level=i,this.row=r,this.col=n,this.extent=o}};var rd;const SG=new oi({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Jn=rd=class extends Ne{static create(e={}){const{resolutionFactor:t=1,scales:i,size:r=256,spatialReference:n=At.WebMercator,numLODs:o=24}=e;if(!Zo(n)){const M=[];if(i)for(let T=0;T<i.length;T++){const E=i[T];M.push(new Na({level:T,scale:E,resolution:E}))}else{let T=5e-4;for(let E=o-1;E>=0;E--)M.unshift(new Na({level:E,scale:T,resolution:T})),T*=2}return new rd({dpi:96,lods:M,origin:new Pt(0,0,n),size:[r,r],spatialReference:n})}const c=To(n),f=e.origin?new Pt({x:e.origin.x,y:e.origin.y,spatialReference:n}):new Pt(c?{x:c.origin[0],y:c.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),g=96,v=1/(nu(n)*39.37*g),_=[];if(i)for(let M=0;M<i.length;M++){const T=i[M],E=T*v;_.push(new Na({level:M,scale:T,resolution:E}))}else{let M=H3(n)?512/r*5916575275917094e-7:256/r*591657527591555e-6;const T=Math.ceil(o/t);_.push(new Na({level:0,scale:M,resolution:M*v}));for(let E=1;E<T;E++){const j=M/2**t,R=j*v;_.push(new Na({level:E,scale:j,resolution:R})),M=j}}return new rd({dpi:g,lods:_,origin:f,size:[r,r],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=To(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Pt.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[],n=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach(o=>{r.push(o.scale),t=o.scale>t?o.scale:t,i=o.scale<i?o.scale:i,n[o.level]=o})),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),r=i+1;return t[i]/(t[i]/t[r])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const n=t[r],o=t[r+1];if(n<=e)return r;if(o===e)return r+1;if(n>e&&o<e)return r+Math.log(n/e)/Math.log(n/o)}return r}tileAt(e,t,i,r){const n=this.lodAt(e);if(!n)return null;let o,c;if(typeof t=="number")o=t,c=i;else if(tn(t.spatialReference,this.spatialReference))o=t.x,c=t.y,r=i;else{const v=s7(t,this.spatialReference);if(v==null)return null;o=v.x,c=v.y,r=i}const f=n.resolution*this.size[0],g=n.resolution*this.size[1];return r||(r=new b8e(null,0,0,0,Fn())),r.level=e,r.row=Math.floor((this.origin.y-c)/g+.001),r.col=Math.floor((o-this.origin.x)/f+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=rd.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===rd.ExtrapolateOptions.POWER_OF_TWO){const c=this.lods[this.lods.length-1];c.level<e.level&&(i=c)}if(!i)return;const r=e.level-i.level,n=i.resolution*this.size[0]/2**r,o=i.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Fn()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(i==null)return null;const{resolution:r}=i,n=r*this.size[0],o=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+n,e[3]=e[1]+o,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return rd.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const i=[],r=this.lods.length-t;for(let n=0;n<r;n++){const o=n+t,{scale:c,resolution:f}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new Na({level:n,scale:c,resolution:f}))}return new rd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};b([$({type:Number,json:{write:!0}})],Jn.prototype,"compressionQuality",void 0),b([$({type:Number,json:{write:!0}})],Jn.prototype,"dpi",void 0),b([$({type:String,json:{read:SG.read,write:SG.write,origins:{"web-scene":{read:!1,write:!1}}}})],Jn.prototype,"format",void 0),b([$({readOnly:!0})],Jn.prototype,"isWrappable",null),b([$({type:Pt,json:{write:!0}})],Jn.prototype,"origin",void 0),b([qe("origin")],Jn.prototype,"readOrigin",null),b([$({type:[Na],value:null,json:{write:!0}})],Jn.prototype,"lods",null),b([$({readOnly:!0})],Jn.prototype,"scales",void 0),b([$({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Jn.prototype,"size",void 0),b([qe("size",["rows","cols"])],Jn.prototype,"readSize",null),b([Ze("size",{cols:{type:zi},rows:{type:zi}})],Jn.prototype,"writeSize",null),b([$({type:At,json:{write:!0}})],Jn.prototype,"spatialReference",void 0),Jn=rd=b([ne("esri.layers.support.TileInfo")],Jn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Jn||(Jn={}));const B2=Jn,fS={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},yT={xsmall:544,small:768,medium:992,large:1200};function w8e(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function mT(e,t){return t?fS[e].valueToClassName[t].split(" "):[]}const x8e=e=>{let t=class extends e{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=yT}initialize(){this.addHandles(nt(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Xi))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!w8e(i)){const r=JSON.stringify(yT,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r),i=yT}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=Ks.acquire(),r=Ks.acquire();let n,o=!1;for(n in fS){const c=this[n],f=fS[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});c!==f&&(o=!0,this[n]=f,mT(n,c).forEach(g=>r.push(g)),mT(n,f).forEach(g=>i.push(g)))}o&&(this._applyClassNameChanges(i,r),Ks.release(i),Ks.release(r))}_applyClassNameChanges(i,r){const n=this.container;n&&(r.forEach(o=>n.classList.remove(o)),i.forEach(o=>n.classList.add(o)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let r;for(r in fS)mT(r,this[r]).forEach(n=>i.classList.remove(n))}};return b([$()],t.prototype,"breakpoints",null),b([$()],t.prototype,"orientation",void 0),b([$()],t.prototype,"widthBreakpoint",void 0),b([$()],t.prototype,"heightBreakpoint",void 0),t=b([ne("esri.views.BreakpointsOwner")],t),t};function mN(e){return typeof e=="string"?document.getElementById(e):e??null}function dse(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function $G(e,t){const i=t.parentNode;i&&i.insertBefore(e,t)}function MG(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let I0=class extends vt{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,nt)}addWhen(t,i,r={}){return this._installWatch(t,i,r,oa)}addOnCollectionChange(t,i,{initial:r=!1,final:n=!1}={}){const o=++this._handleId;return this.addHandles([ro(t,"after-changes",this._createSyncUpdatingCallback(),is),ro(t,"change",i,{onListenerAdd:r?c=>i({added:c.toArray(),removed:[]}):void 0,onListenerRemove:n?c=>i({added:[],removed:c.toArray()}):void 0})],o),Bi(()=>this.removeHandles(o))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(Bi(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(C_)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},n){const o=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,o);const c=n(t,i,r);return this.addHandles(c,o),Bi(()=>this.removeHandles(o))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),n=nt(t,r,{sync:!0,equals:()=>!1});return this.addHandles(n,i),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(C_),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Ag(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(C_))}),C_)}}};b([$({readOnly:!0})],I0.prototype,"updating",void 0),I0=b([ne("esri.core.support.UpdatingHandles")],I0);const C_=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.0.3 - Wed Jul 03 2024 17:50:35 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var F4=function(){return F4=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},F4.apply(this,arguments)},yE={exports:{}},Wr={},mE={exports:{}},w1={};function pse(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function _8e(e,t,i){}function S8e(e,t,i){}var $8e=/javascript\s*\:/img;function M8e(e,t){return $8e.test(t)?"":t}w1.whiteList=pse();w1.getDefaultWhiteList=pse;w1.onAttr=_8e;w1.onIgnoreAttr=S8e;w1.safeAttrValue=M8e;var T8e={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ov=T8e;function k8e(e,t){e=Ov.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,n=0,o=0,c="";function f(){if(!r){var _=Ov.trim(e.slice(n,o)),M=_.indexOf(":");if(M!==-1){var T=Ov.trim(_.slice(0,M)),E=Ov.trim(_.slice(M+1));if(T){var j=t(n,c.length,T,E,_);j&&(c+=j+"; ")}}}n=o+1}for(;o<i;o++){var g=e[o];if(g==="/"&&e[o+1]==="*"){var v=e.indexOf("*/",o+2);if(v===-1)break;o=v+1,n=o+1,r=!1}else g==="("?r=!0:g===")"?r=!1:g===";"?r||f():g===`
`&&f()}return Ov.trim(c)}var C8e=k8e,I_=w1,I8e=C8e;function TG(e){return e==null}function E8e(e){var t={};for(var i in e)t[i]=e[i];return t}function fse(e){e=E8e(e||{}),e.whiteList=e.whiteList||I_.whiteList,e.onAttr=e.onAttr||I_.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||I_.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||I_.safeAttrValue,this.options=e}fse.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onAttr,o=i.onIgnoreAttr,c=i.safeAttrValue,f=I8e(e,function(g,v,_,M,T){var E=r[_],j=!1;if(E===!0?j=E:typeof E=="function"?j=E(M):E instanceof RegExp&&(j=E.test(M)),j!==!0&&(j=!1),M=c(_,M),!!M){var R={position:v,sourcePosition:g,source:T,isWhite:j};if(j){var N=n(_,M,R);return TG(N)?_+":"+M:N}else{var N=o(_,M,R);if(!TG(N))return N}}});return f};var A8e=fse;(function(e,t){var i=w1,r=A8e;function n(c,f){var g=new r(f);return g.process(c)}t=e.exports=n,t.FilterCSS=r;for(var o in i)t[o]=i[o]})(mE,mE.exports);var gN=mE.exports,vN={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},j8e=gN.FilterCSS,P8e=gN.getDefaultWhiteList,D4=vN;function yse(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var mse=new j8e;function O8e(e,t,i){}function R8e(e,t,i){}function L8e(e,t,i){}function N8e(e,t,i){}function gse(e){return e.replace(D8e,"&lt;").replace(z8e,"&gt;")}function F8e(e,t,i,r){if(i=Sse(i),t==="href"||t==="src"){if(i=D4.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(E_.lastIndex=0,E_.test(i))return""}else if(t==="style"){if(kG.lastIndex=0,kG.test(i)||(CG.lastIndex=0,CG.test(i)&&(E_.lastIndex=0,E_.test(i))))return"";r!==!1&&(r=r||mse,i=r.process(i))}return i=$se(i),i}var D8e=/</g,z8e=/>/g,V8e=/"/g,B8e=/&quot;/g,U8e=/&#([a-zA-Z0-9]*);?/gim,G8e=/&colon;?/gim,q8e=/&newline;?/gim,E_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,kG=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,CG=/u\s*r\s*l\s*\(.*/gi;function vse(e){return e.replace(V8e,"&quot;")}function bse(e){return e.replace(B8e,'"')}function wse(e){return e.replace(U8e,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function xse(e){return e.replace(G8e,":").replace(q8e," ")}function _se(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return D4.trim(t)}function Sse(e){return e=bse(e),e=wse(e),e=xse(e),e=_se(e),e}function $se(e){return e=vse(e),e=gse(e),e}function W8e(){return""}function H8e(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(c){return i?!0:D4.indexOf(e,c)!==-1}var n=[],o=!1;return{onIgnoreTag:function(c,f,g){if(r(c))if(g.isClosing){var v="[/removed]",_=g.position+v.length;return n.push([o!==!1?o:g.position,_]),o=!1,v}else return o||(o=g.position),"[removed]";else return t(c,f,g)},remove:function(c){var f="",g=0;return D4.forEach(n,function(v){f+=c.slice(g,v[0]),g=v[1]}),f+=c.slice(g),f}}}function J8e(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("-->",r);if(n===-1)break;i=n+3}return t}function K8e(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}Wr.whiteList=yse();Wr.getDefaultWhiteList=yse;Wr.onTag=O8e;Wr.onIgnoreTag=R8e;Wr.onTagAttr=L8e;Wr.onIgnoreTagAttr=N8e;Wr.safeAttrValue=F8e;Wr.escapeHtml=gse;Wr.escapeQuote=vse;Wr.unescapeQuote=bse;Wr.escapeHtmlEntities=wse;Wr.escapeDangerHtml5Entities=xse;Wr.clearNonPrintableCharacter=_se;Wr.friendlyAttrValue=Sse;Wr.escapeAttrValue=$se;Wr.onIgnoreTagStripAll=W8e;Wr.StripTagBody=H8e;Wr.stripCommentTag=J8e;Wr.stripBlankChar=K8e;Wr.cssFilter=mse;Wr.getDefaultCSSWhiteList=P8e;var m7={},Rd=vN;function Y8e(e){var t=Rd.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Rd.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Z8e(e){return e.slice(0,2)==="</"}function X8e(e,t,i){var r="",n=0,o=!1,c=!1,f=0,g=e.length,v="",_="";e:for(f=0;f<g;f++){var M=e.charAt(f);if(o===!1){if(M==="<"){o=f;continue}}else if(c===!1){if(M==="<"){r+=i(e.slice(n,f)),o=f,n=f;continue}if(M===">"){r+=i(e.slice(n,o)),_=e.slice(o,f+1),v=Y8e(_),r+=t(o,r.length,v,_,Z8e(_)),n=f+1,o=!1;continue}if(M==='"'||M==="'")for(var T=1,E=e.charAt(f-T);E.trim()===""||E==="=";){if(E==="="){c=M;continue e}E=e.charAt(f-++T)}}else if(M===c){c=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r}var Q8e=/[^a-zA-Z0-9\\_:.-]/gim;function eMe(e,t){var i=0,r=0,n=[],o=!1,c=e.length;function f(T,E){if(T=Rd.trim(T),T=T.replace(Q8e,"").toLowerCase(),!(T.length<1)){var j=t(T,E||"");j&&n.push(j)}}for(var g=0;g<c;g++){var v=e.charAt(g),_,M;if(o===!1&&v==="="){o=e.slice(i,g),i=g+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:iMe(e,g+1);continue}if(o!==!1&&g===r){if(M=e.indexOf(v,g+1),M===-1)break;_=Rd.trim(e.slice(r+1,M)),f(o,_),o=!1,g=M,i=g+1;continue}if(/\s|\n|\t/.test(v))if(e=e.replace(/\s|\n|\t/g," "),o===!1)if(M=tMe(e,g),M===-1){_=Rd.trim(e.slice(i,g)),f(_),o=!1,i=g+1;continue}else{g=M-1;continue}else if(M=rMe(e,g-1),M===-1){_=Rd.trim(e.slice(i,g)),_=IG(_),f(o,_),o=!1,i=g+1;continue}else continue}return i<e.length&&(o===!1?f(e.slice(i)):f(o,IG(Rd.trim(e.slice(i))))),Rd.trim(n.join(" "))}function tMe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function iMe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function rMe(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function nMe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function IG(e){return nMe(e)?e.substr(1,e.length-2):e}m7.parseTag=X8e;m7.parseAttr=eMe;var sMe=gN.FilterCSS,Fl=Wr,Mse=m7,oMe=Mse.parseTag,aMe=Mse.parseAttr,yS=vN;function A_(e){return e==null}function lMe(e){var t=yS.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=yS.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=yS.trim(e.slice(0,-1))),{html:e,closing:i}}function uMe(e){var t={};for(var i in e)t[i]=e[i];return t}function cMe(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function Tse(e){e=uMe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Fl.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=cMe(e.whiteList||e.allowList):e.whiteList=Fl.whiteList,e.onTag=e.onTag||Fl.onTag,e.onTagAttr=e.onTagAttr||Fl.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Fl.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Fl.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Fl.safeAttrValue,e.escapeHtml=e.escapeHtml||Fl.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new sMe(e.css))}Tse.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onTag,o=i.onIgnoreTag,c=i.onTagAttr,f=i.onIgnoreTagAttr,g=i.safeAttrValue,v=i.escapeHtml,_=t.cssFilter;i.stripBlankChar&&(e=Fl.stripBlankChar(e)),i.allowCommentTag||(e=Fl.stripCommentTag(e));var M=!1;i.stripIgnoreTagBody&&(M=Fl.StripTagBody(i.stripIgnoreTagBody,o),o=M.onIgnoreTag);var T=oMe(e,function(E,j,R,N,F){var V={sourcePosition:E,position:j,isClosing:F,isWhite:Object.prototype.hasOwnProperty.call(r,R)},z=n(R,N,V);if(!A_(z))return z;if(V.isWhite){if(V.isClosing)return"</"+R+">";var G=lMe(N),H=r[R],Z=aMe(G.html,function(Y,re){var q=yS.indexOf(H,Y)!==-1,W=c(R,Y,re,q);return A_(W)?q?(re=g(R,Y,re,_),re?Y+'="'+re+'"':Y):(W=f(R,Y,re,q),A_(W)?void 0:W):W});return N="<"+R,Z&&(N+=" "+Z),G.closing&&(N+=" /"),N+=">",N}else return z=o(R,N,V),A_(z)?v(N):z},v);return M&&(T=M.remove(T)),T};var hMe=Tse;(function(e,t){var i=Wr,r=m7,n=hMe;function o(f,g){var v=new n(g);return v.process(f)}t=e.exports=o,t.filterXSS=o,t.FilterXSS=n,function(){for(var f in i)t[f]=i[f];for(var g in r)t[g]=r[g]}();function c(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}c()&&(self.filterXSS=e.exports)})(yE,yE.exports);var V1=yE.exports,dMe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},pMe=function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=F4(F4({},V1.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,"justify-content":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(o,c,f,g){return o==="a"&&c==="href"||(o==="img"||o==="source")&&c==="src"?r.sanitizeUrl(f):V1.safeAttrValue(o,c,f,g)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;t&&!i?n=t:t&&i?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(o){if(o==="whiteList")n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]);else if(o==="css"){var c=t.css.whiteList;c!=null&&t.css instanceof Object&&Object.keys(c).forEach(function(f){return n.css.whiteList[f]=c[f]})}else n[o]=t[o]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new V1.FilterXSS(n)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,n=r===void 0?!0:r,o=this._trim(t.substring(0,t.indexOf(":"))),c=t==="/",f=/^#/.test(t),g=o&&this.allowedProtocols.indexOf(o.toLowerCase())>-1;return c||f||g?V1.escapeAttrValue(t):!o&&!n?V1.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,n):V1.safeAttrValue(t,i,r,n)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,n){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(n)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(n){Array.isArray(r[n])&&Array.isArray(i[n])?i[n]=i[n].concat(r[n]):i[n]=r[n]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var n=!1,o=void 0;if(Array.isArray(t))o=t.reduce(function(f,g){var v=r.validate(g,i);return v.isValid?f.concat([g]):(n=!0,f.concat([v.sanitized]))},[]);else if(dMe(t)){var c=Object.keys(t);o=c.reduce(function(f,g){var v=t[g],_=r.validate(v,i);return _.isValid?f[g]=v:(n=!0,f[g]=_.sanitized),f},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return n?o:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const g7=new Map;function kse(){g7.clear()}function fMe(e){return g7.get(e)}function yMe(e,t){g7.set(e,t)}function gT(e){g7.delete(e)}function Cse(...e){const t=Ks.acquire();for(let r=0;r<e.length;r++){const n=e[r],o=typeof n;if(o==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(o==="object")for(const c in n)n[c]&&t.push(c)}const i=t.join(" ");return Ks.release(t),i}const mMe=(()=>{const e=new Map,t=new ResizeObserver(r=>{var n;kse();for(const o of r)(n=e.get(o.target))==null||n(o)}),i=(r,n,o)=>(e.set(r,n),t.observe(r,o),Bi(()=>{t.unobserve(r),e.delete(r)}));return(r,n,o)=>{let c=null;return z3([nt(()=>typeof r=="function"?r():r,f=>{c==null||c.remove(),f&&(c=i(f,n,o))},Jo),Bi(()=>c==null?void 0:c.remove())])}})();function gMe(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function Z2t(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function j_(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const vMe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],bMe=vMe.reduce((e,t)=>(e[t]=[],e),{}),wMe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ise=new pMe({whiteList:bMe,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(wMe.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function xMe(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=i.top+i.height,o=r.top+r.height,c=i.top,f=r.top;(n>o||c<f)&&e.scrollIntoView({block:"end"})}function Ese(e){return e==="Enter"||e===" "}const Ase="http://www.w3.org/",v7=`${Ase}2000/svg`,jse=`${Ase}1999/xlink`;let EG=[],bN=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},wN=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Pse=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},_Me=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(wN(e[r],t))return r}return-1},vT=(e,t,i,r)=>{let n=e[t];if(n.vnodeSelector==="")return;let o=n.properties;if(!(o&&(o.key===void 0?o.bind:o.key))){for(let c=0;c<e.length;c++)if(c!==t){let f=e[c];if(wN(f,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},SMe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},gE=[],vE=!1,Ose=e=>{(e.children||[]).forEach(Ose),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},AG=()=>{vE=!1,gE.forEach(Ose),gE.length=0},jG=e=>{gE.push(e),vE||(vE=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(AG,{timeout:16}):setTimeout(AG,16))},PG=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),jG(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),jG(e))},$Me=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,n=Object.keys(t),o=n.length;for(let c=0;c<o;c++){let f=n[c],g=t[f];if(f==="className")throw new Error('Property "className" is not supported, use "class".');if(f==="class")wE(e,g,!0);else if(f==="classes"){let v=Object.keys(g),_=v.length;for(let M=0;M<_;M++){let T=v[M];g[T]&&e.classList.add(T)}}else if(f==="styles"){let v=Object.keys(g),_=v.length;for(let M=0;M<_;M++){let T=v[M],E=g[T];E&&(Pse(E),i.styleApplyer(e,T,E))}}else if(f!=="key"&&g!=null){let v=typeof g;v==="function"?(f.lastIndexOf("on",0)===0&&(r&&(g=r(f,g,e,t)),f==="oninput"&&function(){let _=g;g=function(M){_.apply(this,[M]),M.target["oninput-value"]=M.target.value}}()),e[f]=g):i.namespace===v7?f==="href"?e.setAttributeNS(jse,f,g):e.setAttribute(f,g):v==="string"&&f!=="value"?f==="innerHTML"?e[f]=Ise.sanitize(g):bE(e)&&f in e?e[f]=g:e.setAttribute(f,g):e[f]=g}}};function bE(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let z4,MMe=(e,t,i)=>{if(t)for(let r of t)om(r,e,void 0,i)},Rse=(e,t,i)=>{MMe(e,t.children,i),t.text&&(e.textContent=t.text),$Me(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},om=(e,t,i,r)=>{let n,o=0,c=e.vnodeSelector,f=t.ownerDocument;if(c==="")n=e.domNode=f.createTextNode(e.text),i!==void 0?t.insertBefore(n,i):t.appendChild(n);else{for(let g=0;g<=c.length;++g){let v=c.charAt(g);if(g===c.length||v==="."||v==="#"){let _=c.charAt(o-1),M=c.slice(o,g);_==="."?n.classList.add(M):_==="#"?n.id=M:(M==="svg"&&(r=bN(r,{namespace:v7})),r.namespace!==void 0?n=e.domNode=f.createElementNS(r.namespace,M):(n=e.domNode=e.domNode||f.createElement(M),M==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),o=g+1}}Rse(n,e,r)}},wE=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},TMe=(e,t,i,r)=>{if(!i)return;let n=!1,o=Object.keys(i),c=o.length;for(let f=0;f<c;f++){let g=o[f],v=i[g],_=t[g];if(g==="class")_!==v&&(wE(e,_,!1),wE(e,v,!0));else if(g==="classes"){let M=e.classList,T=Object.keys(v),E=T.length;for(let j=0;j<E;j++){let R=T[j],N=!!v[R];N!==!!_[R]&&(n=!0,N?M.add(R):M.remove(R))}}else if(g==="styles"){let M=Object.keys(v),T=M.length;for(let E=0;E<T;E++){let j=M[E],R=v[j];R!==_[j]&&(n=!0,R?(Pse(R),r.styleApplyer(e,j,R)):r.styleApplyer(e,j,""))}}else if(v||typeof _!="string"||(v=""),g!=="value"||bE(e)){if(v!==_){let M=typeof v;M==="function"&&r.eventHandlerInterceptor||(r.namespace===v7?g==="href"?e.setAttributeNS(jse,g,v):e.setAttribute(g,v):M==="string"?g==="innerHTML"?e[g]=Ise.sanitize(v):g==="role"&&v===""?e.removeAttribute(g):bE(e)&&g in e?e[g]=v:e.setAttribute(g,v):e[g]!==v&&(e[g]=v),n=!0)}}else{let M=e[g];M!==v&&(e["oninput-value"]?M===e["oninput-value"]:v!==_)&&(e[g]=v,e["oninput-value"]=void 0),v!==_&&(n=!0)}}return n},kMe=(e,t,i,r,n)=>{if(i===r)return!1;r=r||EG;let o,c=(i=i||EG).length,f=r.length,g=0,v=0,_=!1;for(;v<f;){let M=g<c?i[g]:void 0,T=r[v];if(M!==void 0&&wN(M,T))_=z4(M,T,n)||_,g++;else{let E=_Me(i,T,g+1);if(E>=0){for(o=g;o<E;o++)PG(i[o]),vT(i,o,e,"removed");_=z4(i[E],T,n)||_,g=E+1}else om(T,t,g<c?i[g].domNode:void 0,n),SMe(T),vT(r,v,e,"added")}v++}if(c>g)for(o=g;o<c;o++)PG(i[o]),vT(i,o,e,"removed");return _};z4=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let c=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(c,r),t.domNode=c,n=!0,n}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=bN(i,{namespace:v7})),e.text!==t.text&&(o=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,o=kMe(t,r,e.children,t.children,i)||o,o=TMe(r,e.properties,t.properties,i)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let Rv=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,z4(r,i,t)},domNode:e.domNode});const CMe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let uy=e=>bN(CMe,e),Yd={create:(e,t)=>(t=uy(t),om(e,document.createElement("div"),void 0,t),Rv(e,t)),append:(e,t,i)=>(i=uy(i),om(t,e,void 0,i),Rv(t,i)),insertBefore:(e,t,i)=>(i=uy(i),om(t,e.parentNode,e,i),Rv(t,i)),merge:(e,t,i)=>(i=uy(i),t.domNode=e,Rse(e,t,i),Rv(t,i)),replace:(e,t,i)=>(i=uy(i),om(t,e.parentNode,e,i),e.parentNode.removeChild(e),Rv(t,i))},Lse,IMe=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};Lse=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let EMe=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?Lse(i.children,n=>n.domNode===r):void 0}),i},AMe=(e,t,i)=>{let r=function(n){i("domEvent",n);let o=t(),c=IMe(n.currentTarget,o.domNode);c.reverse();let f,g=EMe(o.getLastRender(),c);return e.scheduleRender(),g&&(f=g.properties[`on${n.type}`].apply(g.properties.bind||this,arguments)),i("domEventProcessed",n),f};return(n,o,c,f)=>r},OG=e=>{let t,i,r=uy(e),n=r.performanceLogger,o=!0,c=!1,f=[],g=[],v=(M,T,E)=>{let j,R=()=>j;r.eventHandlerInterceptor=AMe(t,R,n),j=M(T,E(),r),f.push(j),g.push(E)},_=()=>{if(i=void 0,o){o=!1,n("renderStart",void 0);for(let M=0;M<f.length;M++){let T=g[M]();n("rendered",void 0),f[M].update(T),n("patched",void 0)}n("renderDone",void 0),o=!0}};return t={renderNow:_,scheduleRender:()=>{i||c||(i=requestAnimationFrame(_))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),c=!0},resume:()=>{c=!1,o=!0,t.scheduleRender()},append:(M,T)=>{v(Yd.append,M,T)},insertBefore:(M,T)=>{v(Yd.insertBefore,M,T)},merge:(M,T)=>{v(Yd.merge,M,T)},replace:(M,T)=>{v(Yd.replace,M,T)},detach:M=>{for(let T=0;T<g.length;T++)if(g[T]===M)return g.splice(T,1),f.splice(T,1)[0];throw new Error("renderFunction was not found")}},t},nd=class extends vt{constructor(){super(...arguments),this.items=new st,this._watchUpdatingTracking=new I0,this._callbacks=new Map,this._projector=OG(),this._hiddenProjector=OG()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of i.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,r=this._hiddenProjector;let n;const o=()=>(n=t.render(),n);r.append(i,o),r.renderNow();const c={left:0,top:0,right:0,bottom:0};if(n!=null&&n.domNode){const f=n.domNode.getBoundingClientRect();c.left=f.left,c.top=f.top,c.right=f.right,c.bottom=f.bottom}for(r.detach(o);i.firstChild;)i.removeChild(i.firstChild);return c}overlaps(t,i){const r=this.computeBoundingRect(t),n=this.computeBoundingRect(i);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(o=>o.visible&&!(r&&o.isDecoration)))return;const n=t.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(o=>{r&&o.isDecoration||(n.save(),o.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};b([$({readOnly:!0})],nd.prototype,"surface",void 0),b([$({readOnly:!0})],nd.prototype,"items",void 0),b([$({readOnly:!0})],nd.prototype,"needsRender",null),b([$({readOnly:!0})],nd.prototype,"_watchUpdatingTracking",void 0),b([$({readOnly:!0})],nd.prototype,"updating",null),nd=b([ne("esri.views.overlay.ViewOverlay")],nd);const RG=nd,bT=[0,0];function jMe(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return bT[0]=i.left+((t==null?void 0:t.pageXOffset)??0),bT[1]=i.top+((t==null?void 0:t.pageYOffset)??0),bT}function LG(e){e&&(dse(e),e.parentNode&&e.parentNode.removeChild(e))}function PMe(e){const t=document.createElement("div");return e.appendChild(t),t}const Lv=16,P_=750,OMe=512,RMe=2,LMe=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:Lv,time:P_},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([nt(()=>this.cursor,r=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",r)}),nt(()=>this.navigating,r=>{const{surface:n}=this;n&&n.setAttribute("data-navigating",r.toString())})])}initialize(){this.addHandles([nt(()=>this.ui,(i,r)=>this._handleUIChange(i,r),Xi),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=rr(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(i){const r=this._get("container"),n=mN(i);if(n||typeof i!="string"||Le.getLogger(this).error("#container",`element with id '${i}' not found`),r===n)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(LG(this.root),this._set("root",null)),this.userContent&&(MG(this.userContent,r),LG(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",MG(n,o),n.appendChild(o),this._set("userContent",o);const c=document.createElement("div");c.className="esri-view-root",n.insertBefore(c,n.firstChild),this._set("root",c);const f=document.createElement("div");f.className="esri-view-surface",f.setAttribute("role","application"),f.tabIndex=0,c.appendChild(f),this._set("surface",f);const g=new RG;c.appendChild(g.surface),this._set("overlay",g),this.addHandles(nt(()=>g.needsRender,v=>{v&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=tg({render:()=>{var _;return(_=this.overlay)==null?void 0:_.render()}}):this._overlayRenderTaskHandle=Lr(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,r,n){const o=this.position;return i-=o?o[0]:0,r-=o?o[1]:0,n?(n[0]=i,n[1]=r):n=[i,r],n}containerToPage(i,r,n){const o=this.position;return i+=o?o[0]:0,r+=o?o[1]:0,n?(n[0]=i,n[1]=r):n=[i,r],n}_handleUIChange(i,r){this.removeHandles("ui"),r&&r!==i&&r.destroy(),i&&(i.view=this,this.addHandles(nt(()=>this.root,n=>{i.container=n?PMe(n):null},Xi),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Lv,i.time=P_,this.addHandles([U3(window,"resize",()=>{i.freq=Lv,i.time=P_}),tg({prepare:r=>{const n=this._measure(),o=this._freqInfo;if(o.time+=r.deltaTime,n&&(o.freq=Lv,this._get("resizing")||this._set("resizing",!0)),o.time<o.freq)return;o.time=0;const c=this._position();o.freq=c||n?Lv:Math.min(P_,o.freq*RMe),!n&&o.freq>=OMe&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,r=i?i.clientWidth:0,n=i?i.clientHeight:0;if(r===0||n===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,c=this.height;return r===o&&n===c?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:c,width:r,height:n}),!0)}_position(){const i=this.container,r=this.position,n=i&&jMe(i);return!!n&&(!r||n[0]!==r[0]||n[1]!==r[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return b([$()],t.prototype,"container",null),b([$({readOnly:!0})],t.prototype,"focused",null),b([$({readOnly:!0})],t.prototype,"height",void 0),b([$()],t.prototype,"messagesCommon",void 0),b([$({type:RG})],t.prototype,"overlay",void 0),b([$({readOnly:!0})],t.prototype,"position",void 0),b([$({readOnly:!0})],t.prototype,"resizing",void 0),b([$({readOnly:!0})],t.prototype,"root",void 0),b([$({value:null,readOnly:!0})],t.prototype,"size",null),b([$({readOnly:!0})],t.prototype,"surface",void 0),b([$({readOnly:!0})],t.prototype,"suspended",void 0),b([$()],t.prototype,"ui",void 0),b([$({readOnly:!0})],t.prototype,"userContent",void 0),b([$({readOnly:!0})],t.prototype,"width",void 0),b([$()],t.prototype,"widthBreakpoint",void 0),t=b([ne("esri.views.DOMContainer")],t),t};let NMe=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const n=t[r],o=new Cte(n,void 0,void 0,2,2);this._properties[r]={pool:o,acquired:[]}}this._afterDispatchHandle=h_e(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)zB(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let n=r.pool.acquire();for(r.acquired.push(n);n===i;)r.acquired.push(n),n=r.pool.acquire();return n}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const n of i.acquired)zB(n)?i.acquired[r++]=n:i.pool.release(n);i.acquired.length=r}}};const FMe=ke("mac")?"Meta":"Control",DMe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),zMe=e=>DMe.has(e);let VMe=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},Cn=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let n;typeof i=="function"?(r=i,n=[]):n=i||[];const o=typeof t=="string"?new VMe(t,n):t,c=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},f=_=>{const M=this._incoming[_.match.eventType];if(M){const T=M.indexOf(_);M.splice(T,1),c(),this._manager&&this._manager.updateDependencies()}},g=new BMe(o,r,{onPause:f,onRemove:f,onResume:_=>{const M=this._incoming[_.match.eventType];M&&!M.includes(_)&&(M.push(_),c(),this._manager&&this._manager.updateDependencies())}});let v=this._incoming[o.eventType];return v||(v=[],this._incoming[o.eventType]=v),v.push(g),c(),this._manager&&this._manager.updateDependencies(),g}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new UMe(t,{onEmit:(r,n,o,c)=>{var f;(f=this._manager)==null||f.emit(r.eventType,n,o,c)},onRemove:r=>{var n;delete this._outgoing[r.eventType],(n=this._manager)==null||n.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var r;const i=this._incoming[t.type];if(i){for(const n of i)if(n.match.matches(t)&&((r=n.callback)==null||r.call(n,t),t.shouldStopPropagation()))break}}},BMe=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},UMe=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},GMe=class extends Cn{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>{this._update(i.data)})}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:n}=t;i===this._value&&this._x===r&&this._y===n||(this._value=i,this._x=r,this._y=n,this._onChange(i,r,n))}},qMe=class{constructor(t,i){this._observable=new Z3,this._value=t,this._equalityFunction=i}get value(){return jt(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function Nse(e,t=cte){return new qMe(e,t)}let WMe=class extends Cn{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Nse(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},va=class extends vt{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=FMe,this._latestPointerType="mouse",this._propertiesPool=new NMe({latestPointerLocation:KMe},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=hp.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const n={name:t,handlers:i.map(o=>({handler:o,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=n;for(let o=n.handlers.length-1;o>=0;o--){const c=n.handlers[o];this._handlers.push(c),c.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(f,g,v,_,M)=>{this._emitInputEvent(c.priorityIndex+1,f,g,v,M,_)},setPointerCapture:(f,g)=>{this._setPointerCapture(n,c,f,g)},setEventCallback:f=>{c.eventCallback=f},setUninstallCallback:f=>{c.uninstallCallback=f},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{var n;r.removed=!0,(n=r.uninstallCallback)==null||n.call(r)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Le.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers&&this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let o=n.handler.hasSideEffects;if(!o){for(const c of n.handler.outgoingEventTypes)if(t.has(c)){o=!0;break}}if(o)for(const c of n.handler.incomingEventMatches){t.add(c.eventType);for(const f of c.keyModifiers)zMe(f)||i.add(f)}n.active=o}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r){this._latestPointerType=t;const n=this._get("latestPointerLocation");if(n==null||n.x!==i||n.y!==r){const o=this._propertiesPool.get("latestPointerLocation");o.x=i,o.y=r,this._set("latestPointerLocation",o)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const o=i;this._pointerCaptures.delete(o.native.pointerId)}this._updateKeyModifiers(t,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,n=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,r,n)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const n=()=>{if(!r){const f=new Set;this._activeKeyModifiers.forEach(g=>{f.add(g)}),this._activeKeyModifiers=f,r=!0}},o=(f,g)=>{g&&!this._activeKeyModifiers.has(f)?(n(),this._activeKeyModifiers.add(f)):!g&&this._activeKeyModifiers.has(f)&&(n(),this._activeKeyModifiers.delete(f))};if(t==="key-down"||t==="key-up"){const f=i.key;this._keyModifiers.has(f)&&o(f,t==="key-down")}const c=i.native;o("Alt",!(!c||!c.altKey)),o("Control",!(!c||!c.ctrlKey)),o("Ctrl",!(!c||!c.ctrlKey)),o("Shift",!(!c||!c.shiftKey)),o("Meta",!(!c||!c.metaKey)),o("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new GMe((t,i,r)=>this._setLatestPointer(t,i,r)),this._multiTouchHandler=new WMe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],hp.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,hp.INTERNAL)}_setPointerCapture(t,i,r,n){const o=t.name+"-"+i.priorityIndex,c=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,c),n?(c.add(o),c.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):c.has(o)&&(c.delete(o),c.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,n){this._emitInputEvent(0,t,i,r,n)}_emitInputEvent(t,i,r,n,o,c){const f=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),g=o!==void 0&&o,v={event:new HMe(i,r,f,c||this._activeKeyModifiers,g),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(v):this._doNewPropagation(v)}_doNewPropagation(t){this._currentPropagation={events:new E4,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,r,n;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:o,priorityIndex:c}=t.events.pop(),f=(i=o.data)==null?void 0:i.eventId;if(!(f!=null&&this._stoppedPropagationEventIds.has(f)))for(t.currentHandler=this._handlersPriority[c];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!o.shouldStopPropagation()&&((n=(r=t.currentHandler).eventCallback)==null||n.call(r,o)),o.shouldStopPropagation()){f!=null&&this._stoppedPropagationEventIds.add(f);break}if(o.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:o,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new E4;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const n of i.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const o=r.keyModifiers.filter(c=>n.keyModifiers.includes(c));if(o.length===r.keyModifiers.length!=(o.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let n=0;for(;n<i.length&&this._compareHandlerPriority(r,i[n])>=0;)n++;i.splice(n,0,r)}return i}get debug(){const t=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{t(()=>{this._onEventReceived(i,r)})},disablePointerCapture:t}}};b([$({readOnly:!0})],va.prototype,"hasPendingInputs",null),b([$({constructOnly:!0})],va.prototype,"eventSource",void 0),b([$({constructOnly:!0})],va.prototype,"recognizers",void 0),b([$()],va.prototype,"_latestPointerType",void 0),b([$()],va.prototype,"latestPointerType",null),b([$()],va.prototype,"multiTouchActive",null),b([$({readOnly:!0})],va.prototype,"latestPointerLocation",void 0),b([$()],va.prototype,"_paused",void 0),b([$({readOnly:!0})],va.prototype,"updating",null),va=b([ne("esri.views.input.InputManager")],va);let HMe=class{constructor(t,i,r,n,o){this.type=t,this.data=i,this.timestamp=r,this.modifiers=n,this.cancelable=o,this._propagationState=Ld.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Ld.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Ld.STOPPED)}async(t){this._propagationState|=Ld.PAUSED;const i=(r,n)=>{this._propagationState&=~Ld.PAUSED;const o=this._resumeCallback;if(this._resumeCallback=null,o&&o(),n)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(this._propagationState&Ld.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Ld;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Ld||(Ld={}));const hp={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let JMe=class{};const KMe=JMe;function gc(e){return e!=null&&"open"in e&&"declaredClass"in e}function NG(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const YMe=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([nt(()=>[this.ui,this.popup],([i,r],n)=>{const o="popup",c="manual";if(n){const[f,g]=n;f&&gc(g)&&(g.view=null,NG(g)&&f.remove(g,o))}i&&gc(r)&&(r.view=this,NG(r)&&i.add(r,{key:o,position:c,internal:!0}))},Xi),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(gc(this.popup)?this.popup.viewModel.handleViewClick(i):i.async(async()=>{await this.setupPopup(),gc(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)}))},hp.WIDGET)]),lg(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Ce(()=>import("./Popup-DhF9W1yt.js"),__vite__mapDeps([115,51,116,2,117,118,119,120,121,50,48,49,11,10,14]),import.meta.url)})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(gc(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void Le.getLogger(this).error(new we("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),gc(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,r),r)}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!gc(this.popup))return this._popupSetupTask=KL(async r=>{const{default:n}=await Ce(()=>import("./Popup-DhF9W1yt.js"),__vite__mapDeps([115,51,116,2,117,118,119,120,121,50,48,49,11,10,14]),import.meta.url);if(qi(r),!this.popup||gc(this.popup))return;const o=this.popup;delete o.open,delete o.close,this.popup=new n(o)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:r},n){const o=[],c=[];let f=!1;const g=Gxe(n,ke("popup-view-fetch-timeout")??XMe),v=T=>{const E=new ZMe(T);return c.push(E),o.push(E.promise),E},_=T=>{const E=c.at(-1);return E&&E.layerView===T&&!f?E:v(T)};for(const T of r)"graphic"in T?(_(T.layerView).graphics.push(T.graphic),f=!1):(o.push(T.layerView.fetchPopupFeaturesAtLocation(T.mapPoint,g)),f=!0);c.map(T=>T.resolve(g));const M=Uxe(o).then(T=>T.filter(E=>!!E).flat());return{pendingFeatures:o,allGraphicsPromise:M,location:i}}async _getPopupHits(i,r){const{hits:n,location:o}=await this.popupHitTest(i);qi(r);const c=[];for(const f of n)if("graphic"in f){if(this._isValidPopupGraphic(f.graphic,r)){const g=this._isValidPopupGraphicsLayerView(f.layerView)?f.layerView:void 0;c.push({graphic:f.graphic,layerView:g})}}else this._isValidPopupLocationLayerView(f.layerView)&&c.push({mapPoint:f.mapPoint,layerView:f.layerView});return{hits:c,location:o}}_isValidPopupGraphic(i,r){return i&&!!i.getEffectivePopupTemplate(r==null?void 0:r.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return b([$({cast(i){return!i||gc(i)||typeof i=="object"&&(i.open=r=>(G0(Le.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(r)),i.close=()=>(G0(Le.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),i}})],t.prototype,"popup",void 0),b([$()],t.prototype,"popupEnabled",void 0),t=b([ne("esri.views.PopupView")],t),t};let ZMe=class{constructor(t){this.layerView=t,this._resolver=na(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:i,graphics:r,_resolver:n}=this;if(!i)return n.resolve(r),n.promise;let o;return i.fetchPopupFeaturesFromGraphics(r,t).catch(c=>(o=c,null)).then(c=>{c?n.resolve(c):n.reject(o)}),n.promise}};const XMe=5e3;function kp(e,t,i=st){return t||(t=new i),t===e||(t.removeAll(),QMe(e)?t.addMany(e):e&&t.add(e)),t}function Fse(e){return e}function QMe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Nd;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Nd||(Nd={}));let eTe=class{constructor(){this._resolver=na(),this._status=Nd.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Nd.RESOLVED,this._cleanUp()},()=>{this._status=Nd.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Nd.RESOLVED}isRejected(){return this._status===Nd.REJECTED}isFulfilled(){return this._status!==Nd.PENDING}abort(){this._resolver.reject(ln())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=na(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||Os(n)||this._resolver.reject(n)}),t.resolve()}};const ix=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new eTe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=b([ne("esri.core.Promise")],t),t};let V4=class extends ix(vt){};V4=b([ne("esri.core.Promise")],V4);const tTe="not-loaded",iTe="loading",rTe="failed",FG="loaded",Dse=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const n=this.load.bind(this);this.load=o=>{const c=new Promise((f,g)=>{const v=dL(o,g);this.destroyed&&g(new we("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(f,g).finally(()=>{v&&v.remove()})});if(this.loadStatus===tTe){this._set("loadStatus",iTe);const f=this._loadController=new AbortController;n({signal:f.signal})}return r(),c}})),this.when(()=>{this._set("loadStatus",FG),this._loadController=null},r=>{this._set("loadStatus",rTe),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=q0(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===FG}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new we("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return b([$({readOnly:!0})],t.prototype,"loaded",null),b([$({readOnly:!0})],t.prototype,"loadError",void 0),b([$({clonable:!1})],t.prototype,"loadStatus",void 0),b([$({type:[sl],readOnly:!0})],t.prototype,"loadWarnings",null),t=b([ne("esri.core.Loadable")],t),t};let _b=class extends Dse(V4){};_b=b([ne("esri.core.Loadable")],_b),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=Dse,e.isLoadable=t}(_b||(_b={}));const al=_b;async function xN(e,t){return await e.load(),nTe(e,t)}async function nTe(e,t){const i=[],r=(...o)=>{for(const c of o)c!=null&&(Array.isArray(c)?r(...c):st.isCollection(c)?c.forEach(f=>r(f)):al.isLoadable(c)&&i.push(c))};t(r);let n=null;if(await L4e(i,async o=>{const c=await a7(sTe(o)?o.loadAll():o.load());c.ok!==!1||n||(n=c)}),n)throw n.error;return e}function sTe(e){return"loadAll"in e&&typeof e.loadAll=="function"}let O_;function oTe(e){return O_&&!O_.destroyed||(O_=e()),O_}var xE;const aTe=new oi({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ba=xE=class extends vt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new xE({categories:this.categories?be(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(c=>Array.isArray(c)?JSON.stringify(c):c));let r="";if(this.extent){const c=s7(this.extent,At.WGS84);c!=null&&(r=`${c.xmin},${c.ymin},${c.xmax},${c.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const o={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(c=>aTe.toJSON(c.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};b([$()],ba.prototype,"categories",void 0),b([$()],ba.prototype,"disableExtraQuery",void 0),b([$({type:ci})],ba.prototype,"extent",void 0),b([$()],ba.prototype,"filter",void 0),b([$()],ba.prototype,"num",void 0),b([$()],ba.prototype,"query",void 0),b([$()],ba.prototype,"sortField",void 0),b([$()],ba.prototype,"sortOrder",null),b([$()],ba.prototype,"start",void 0),ba=xE=b([ne("esri.portal.PortalQueryParams")],ba);const Uu=ba;var _E;let dn=_E=class extends Ne{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new we("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new _E({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=vr(Uu,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Uu,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new Uu,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const o=new Uu({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(o,t)}throw new we("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],o=new Uu({num:1,query:`typekeywords:"${e}"`});return n.queryItems(o,t)}throw new we("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(n=>{const o=n==null?void 0:n.categorySchema;return o!=null&&o.length?o:[]}):[])}};b([$()],dn.prototype,"access",void 0),b([$({type:Date})],dn.prototype,"created",void 0),b([$()],dn.prototype,"description",void 0),b([$()],dn.prototype,"id",void 0),b([$()],dn.prototype,"isInvitationOnly",void 0),b([$({type:Date})],dn.prototype,"modified",void 0),b([$()],dn.prototype,"owner",void 0),b([$()],dn.prototype,"portal",void 0),b([$()],dn.prototype,"snippet",void 0),b([$()],dn.prototype,"sortField",void 0),b([$()],dn.prototype,"sortOrder",void 0),b([$()],dn.prototype,"sourceJSON",void 0),b([$()],dn.prototype,"tags",void 0),b([$()],dn.prototype,"thumbnail",void 0),b([$({readOnly:!0})],dn.prototype,"thumbnailUrl",null),b([$()],dn.prototype,"title",void 0),b([$({readOnly:!0})],dn.prototype,"url",null),dn=_E=b([ne("esri.portal.PortalGroup")],dn);const SE=dn;let ff=class extends vt{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};b([$()],ff.prototype,"nextQueryParams",void 0),b([$()],ff.prototype,"queryParams",void 0),b([$()],ff.prototype,"results",void 0),b([$()],ff.prototype,"total",void 0),ff=b([ne("esri.portal.PortalQueryResult")],ff);const lTe=ff;let Tc=class extends Ne{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new we("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};b([$({type:Date})],Tc.prototype,"created",void 0),b([$()],Tc.prototype,"id",void 0),b([$()],Tc.prototype,"portal",void 0),b([$()],Tc.prototype,"title",void 0),b([$({readOnly:!0})],Tc.prototype,"url",null),b([$()],Tc.prototype,"username",void 0),Tc=b([ne("esri.portal.PortalFolder")],Tc);const uTe=Tc;var $E;let ur=$E=class extends Ne{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,r=e==null?void 0:e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let o=this.userContentUrl;return r&&(o+="/"+(typeof r=="string"?r:r.id)),this.portal.request(o+"/addItem",n).then(c=>(t.id=c.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.concat();const i=this.userContentUrl+"/deleteItems",r=[],n=e.map(o=>o.id);if(n.length){const o={method:"post",query:{items:n.join(","),permanentDelete:t}},c=await this.portal.request(i,o);for(const f of c.results){const g=e.find(M=>f.itemId===M.id),v=f.success;let _=null;v?(g.id=null,g.portal=null):f.error&&(_=new we("portal:delete-item-failed",f.error.message,f.error)),r.push({item:g,success:v,error:_})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const n=uTe.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=SE.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await Ce(()=>Promise.resolve().then(()=>Bse),void 0,import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:r});let o;return n!=null&&n.items?(o=n.items.map(c=>{const f=i.fromJSON(c);return f.portal=this.portal,f}),await Promise.all(o.map(c=>c.load())),{items:o,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new SE({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new we("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new we("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new $E({sourceJSON:e});return t.read(e),t}};b([$()],ur.prototype,"access",void 0),b([$({type:Date})],ur.prototype,"created",void 0),b([$()],ur.prototype,"culture",void 0),b([$()],ur.prototype,"description",void 0),b([$()],ur.prototype,"email",void 0),b([$()],ur.prototype,"favGroupId",void 0),b([$()],ur.prototype,"fullName",void 0),b([$({type:Date})],ur.prototype,"modified",void 0),b([$()],ur.prototype,"orgId",void 0),b([$()],ur.prototype,"portal",void 0),b([$()],ur.prototype,"preferredView",void 0),b([$()],ur.prototype,"privileges",void 0),b([$()],ur.prototype,"region",void 0),b([$()],ur.prototype,"role",void 0),b([$()],ur.prototype,"roleId",void 0),b([$()],ur.prototype,"sourceJSON",void 0),b([$()],ur.prototype,"thumbnail",void 0),b([$({readOnly:!0})],ur.prototype,"thumbnailUrl",null),b([$()],ur.prototype,"units",void 0),b([$({readOnly:!0})],ur.prototype,"userContentUrl",null),b([$({readOnly:!0})],ur.prototype,"url",null),b([$()],ur.prototype,"username",void 0),b([$()],ur.prototype,"userLicenseTypeId",void 0),b([$()],ur.prototype,"userType",void 0),ur=$E=b([ne("esri.portal.PortalUser")],ur);const _N=ur;var Fo;let R_;const DG={PortalGroup:()=>Promise.resolve({default:SE}),PortalItem:()=>Ce(()=>Promise.resolve().then(()=>Bse),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:_N})};let Qe=Fo=class extends W3(al){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=yi.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){zG.unregister(this),this.defaultBasemap=rr(this.defaultBasemap),this.defaultDevBasemap=rr(this.defaultDevBasemap),this.defaultVectorBasemap=rr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Lr(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)yi.request.trustedServers.includes(t)||yi.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=_N.fromJSON(e),t.portal=this),t}load(e){const t=Ce(()=>Promise.resolve().then(()=>FTe),void 0,import.meta.url).then(({default:i})=>{qi(e),R_=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var r;if(ii){const n=ii;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Fo.AUTH_MODE_AUTO&&this.authMode!==Fo.AUTH_MODE_NO_PROMPT||((r=this._esriIdCredentialCreateHandle)==null||r.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",cTe(new WeakRef(this))),zG.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Ce(async()=>{const{default:i}=await import("./ElevationLayer-B3EIpMG0.js");return{default:i}},__vite__mapDeps([122,123,124,125,51]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):$h(e)?Promise.reject(ln()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new Uu({num:100,sortField:"title"});if(t!=null&&t.length){const r=[];for(const n of t)r.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(n=>n.results)}return $h(e)?Promise.reject(ln()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||ta();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||ta();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return oTe(()=>new Fo)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",n={authMode:e,query:{culture:ta().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(r,n)}queryPortal(e,t,i,r){const n=vr(Uu,t),o=c=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...r}).then(f=>{const g=n.clone();return g.start=f.nextStart,new lTe({nextQueryParams:g,queryParams:n,total:f.total,results:Fo._resultsToTypedArray(c,{portal:this},f,r)})}).then(f=>Promise.all(f.results.map(g=>typeof g.when=="function"?g.when():f)).then(()=>f,g=>(Ra(g),f)));return i&&DG[i]?DG[i]().then(({default:c})=>(qi(r),o(c))):o()}signIn(){if(this.authMode===Fo.AUTH_MODE_ANONYMOUS||this.authMode===Fo.AUTH_MODE_NO_PROMPT&&!ii)return Promise.reject(new we("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return ii?ii.getCredential(this.restUrl,{prompt:this.authMode!==Fo.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const n=Fo._resultsToTypedArray(i,{portal:this},r);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():r)).then(()=>n,()=>n)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===Fo.AUTH_MODE_ANONYMOUS||this.authMode===Fo.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:c="auto",responseType:f="json",signal:g}=t,v={authMode:r,body:n,cacheBust:o,method:c,query:i,responseType:f,timeout:0,signal:g};return t.withCredentials&&(v.withCredentials=!0),Vi(this._normalizeSSL(e),v).then(_=>_.data)}toJSON(){throw new we("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Fo({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new we("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new Uu;i.query=e||(yi.apiKey&&zie(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const n=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(i,t);return o.total?o.results.filter(c=>c.type==="Web Map").map(c=>new R_({portalItem:c})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];const r=new Uu({query:i,disableExtraQuery:!0}),n=await this.queryGroups(r,t);if(!n.total)return[];const o=n.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=o.sortField||"name",r.sortOrder=o.sortOrder||"desc";const c=await o.queryItems(r,t);return c.total?c.results.filter(f=>f.type==="Web Scene").map(f=>new R_({portalItem:f})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=R_.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let n;if(i){const o=r!=null?r.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(n=n.map(c=>{const f=Object.assign(e?e.fromJSON(c):c,t);return typeof f.load=="function"&&f.load(o),f}))}else n=[];return n}};Qe.AUTH_MODE_ANONYMOUS="anonymous",Qe.AUTH_MODE_AUTO="auto",Qe.AUTH_MODE_IMMEDIATE="immediate",Qe.AUTH_MODE_NO_PROMPT="no-prompt",b([$()],Qe.prototype,"access",void 0),b([$()],Qe.prototype,"allSSL",void 0),b([$()],Qe.prototype,"authMode",void 0),b([$()],Qe.prototype,"authorizedCrossOriginDomains",void 0),b([qe("authorizedCrossOriginDomains")],Qe.prototype,"readAuthorizedCrossOriginDomains",null),b([$()],Qe.prototype,"basemapGalleryGroupQuery",void 0),b([$({json:{name:"3DBasemapGalleryGroupQuery"}})],Qe.prototype,"basemapGalleryGroupQuery3D",void 0),b([$()],Qe.prototype,"bingKey",void 0),b([$()],Qe.prototype,"canListApps",void 0),b([$()],Qe.prototype,"canListData",void 0),b([$()],Qe.prototype,"canListPreProvisionedItems",void 0),b([$()],Qe.prototype,"canProvisionDirectPurchase",void 0),b([$()],Qe.prototype,"canSearchPublic",void 0),b([$()],Qe.prototype,"canShareBingPublic",void 0),b([$()],Qe.prototype,"canSharePublic",void 0),b([$()],Qe.prototype,"canSignInArcGIS",void 0),b([$()],Qe.prototype,"canSignInIDP",void 0),b([$()],Qe.prototype,"colorSetsGroupQuery",void 0),b([$()],Qe.prototype,"commentsEnabled",void 0),b([$({type:Date})],Qe.prototype,"created",void 0),b([$()],Qe.prototype,"credential",void 0),b([$()],Qe.prototype,"culture",void 0),b([$()],Qe.prototype,"currentVersion",void 0),b([$()],Qe.prototype,"customBaseUrl",void 0),b([$()],Qe.prototype,"defaultBasemap",void 0),b([qe("defaultBasemap")],Qe.prototype,"readDefaultBasemap",null),b([$()],Qe.prototype,"defaultDevBasemap",void 0),b([qe("defaultDevBasemap")],Qe.prototype,"readDefaultDevBasemap",null),b([$({type:ci})],Qe.prototype,"defaultExtent",void 0),b([$()],Qe.prototype,"defaultVectorBasemap",void 0),b([qe("defaultVectorBasemap")],Qe.prototype,"readDefaultVectorBasemap",null),b([$()],Qe.prototype,"description",void 0),b([$()],Qe.prototype,"devBasemapGalleryGroupQuery",void 0),b([$()],Qe.prototype,"eueiEnabled",void 0),b([$({readOnly:!0})],Qe.prototype,"extraQuery",null),b([$()],Qe.prototype,"featuredGroups",void 0),b([$()],Qe.prototype,"featuredItemsGroupQuery",void 0),b([$()],Qe.prototype,"galleryTemplatesGroupQuery",void 0),b([$()],Qe.prototype,"layoutGroupQuery",void 0),b([$()],Qe.prototype,"livingAtlasGroupQuery",void 0),b([$()],Qe.prototype,"hasCategorySchema",void 0),b([$()],Qe.prototype,"helpBase",void 0),b([$()],Qe.prototype,"helperServices",void 0),b([$()],Qe.prototype,"helpMap",void 0),b([$()],Qe.prototype,"homePageFeaturedContent",void 0),b([$()],Qe.prototype,"homePageFeaturedContentCount",void 0),b([$()],Qe.prototype,"httpPort",void 0),b([$()],Qe.prototype,"httpsPort",void 0),b([$()],Qe.prototype,"id",void 0),b([$()],Qe.prototype,"ipCntryCode",void 0),b([$({readOnly:!0})],Qe.prototype,"isOrganization",null),b([$()],Qe.prototype,"isPortal",void 0),b([$()],Qe.prototype,"isReadOnly",void 0),b([$({readOnly:!0})],Qe.prototype,"itemPageUrl",null),b([$()],Qe.prototype,"layerTemplatesGroupQuery",void 0),b([$()],Qe.prototype,"maxTokenExpirationMinutes",void 0),b([$({type:Date})],Qe.prototype,"modified",void 0),b([$()],Qe.prototype,"name",void 0),b([$()],Qe.prototype,"portalHostname",void 0),b([$()],Qe.prototype,"portalMode",void 0),b([$()],Qe.prototype,"portalProperties",void 0),b([$()],Qe.prototype,"region",void 0),b([$()],Qe.prototype,"recycleBinEnabled",void 0),b([$({readOnly:!0})],Qe.prototype,"restUrl",null),b([$()],Qe.prototype,"rotatorPanels",void 0),b([$()],Qe.prototype,"showHomePageDescription",void 0),b([$()],Qe.prototype,"sourceJSON",void 0),b([$()],Qe.prototype,"staticImagesUrl",void 0),b([$({json:{name:"2DStylesGroupQuery"}})],Qe.prototype,"stylesGroupQuery2d",void 0),b([$({json:{name:"stylesGroupQuery"}})],Qe.prototype,"stylesGroupQuery3d",void 0),b([$()],Qe.prototype,"supportsHostedServices",void 0),b([$()],Qe.prototype,"symbolSetsGroupQuery",void 0),b([$()],Qe.prototype,"templatesGroupQuery",void 0),b([$()],Qe.prototype,"thumbnail",void 0),b([$({readOnly:!0})],Qe.prototype,"thumbnailUrl",null),b([$()],Qe.prototype,"units",void 0),b([$()],Qe.prototype,"url",void 0),b([$()],Qe.prototype,"urlKey",void 0),b([qe("urlKey")],Qe.prototype,"readUrlKey",null),b([$()],Qe.prototype,"user",void 0),b([qe("user")],Qe.prototype,"readUser",null),b([$()],Qe.prototype,"use3dBasemaps",void 0),b([$()],Qe.prototype,"useStandardizedQuery",void 0),b([$()],Qe.prototype,"useVectorBasemaps",void 0),b([$()],Qe.prototype,"vectorBasemapGalleryGroupQuery",void 0),Qe=Fo=b([ne("esri.portal.Portal")],Qe);const kn=Qe,zG=new FinalizationRegistry(e=>{e.remove()});function cTe(e){const t=ii;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let kc=class extends vt{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:VG(t.path,t.portalItem)}:t}set path(t){t!=null&&ea(t)?Le.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return VG(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new we("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:r}=await Ce(()=>import("./resourceUtils-i2rn8fA_.js"),[],import.meta.url);return await r(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function VG(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&ea(e)&&(e=EL(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}b([$()],kc.prototype,"portalItem",void 0),b([$({type:String,value:null})],kc.prototype,"path",null),b([$i("path")],kc.prototype,"_castPath",null),b([$({type:String,readOnly:!0})],kc.prototype,"url",null),b([$({type:String,readOnly:!0})],kc.prototype,"cdnUrl",null),b([$({type:String,readOnly:!0})],kc.prototype,"itemRelativeUrl",null),kc=b([ne("esri.portal.PortalItemResource")],kc);const hTe=kc;let Sb=class extends vt{constructor(t){super(t),this.created=null,this.rating=null}};b([$()],Sb.prototype,"created",void 0),b([$()],Sb.prototype,"rating",void 0),Sb=b([ne("esri.portal.PortalRating")],Sb);const wT=Sb;function Dg(e,t){var r;const i=(r=t==null?void 0:t.url)==null?void 0:r.path;if(e&&i&&(e=Da(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=EL(e,t.portalItem.itemUrl);n!=null&&dTe.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=ME(e,t==null?void 0:t.portal))&&b7.test(e)?$N(e):e}function rx(e,t,i=Gw.YES){var n,o;if((e=e&&b7.test(e)?Vse(e):e)==null)return e;!ea(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let r=Da(e);if(t){const c=((n=t.verifyItemRelativeUrls)==null?void 0:n.rootPath)||((o=t.url)==null?void 0:o.path);if(c){const f=ME(c,t.portal),g=ME(r,t.portal);r=EL(g,f,f),r!=null&&r!==g&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=zse(r,t==null?void 0:t.portal),ea(r)&&(r=Za(r)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!ea(r)&&!g1(r)&&i===Gw.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function SN(e,t,i){return Dg(e,i)}function Q0(e,t,i,r){const n=rx(e,r);n!==void 0&&(t[i]=n)}const b7=/\/items\/([^/]+)\/resources\/(.*)/,dTe=/^\.\/resources\//;function pTe(e){const t=(e==null?void 0:e.match(b7))??null;return(t==null?void 0:t[1])??null}function fTe(e){const t=(e==null?void 0:e.match(b7))??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:c,extension:f}=iU(i);return{prefix:null,filename:c,extension:f}}const{path:n,extension:o}=iU(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:o}}function zse(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?zI(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function ME(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=TL();return ig(r,`${r.scheme}://${i}`)?zI(e,t.portalHostname,i):zI(e,i,t.portalHostname)}function $N(e){if(!e)return e||null;let t=e;return t&&ii&&!ii.findCredential(t)&&(t=Iie(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function Vse(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&ii&&!ii.findCredential(t)&&(t=Iie(t)),t}var Gw;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Gw||(Gw={}));const vwt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Gw},ensureMainOnlineDomain:zse,fromCDNUrl:Vse,fromJSON:Dg,itemIdFromResourceUrl:pTe,prefixAndFilenameFromResourceUrl:fTe,read:SN,toCDNUrl:$N,toJSON:rx,write:Q0},Symbol.toStringTag,{value:"Module"}));var yf;const yTe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),mTe=new Set(["KML","GeoJson","CSV"]);let Gt=yf=class extends W3(al){static from(e){return Z$(yf,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new ci(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var E;const e=((E=this.type)==null?void 0:E.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let n,o=!1,c=!1,f=!1,g=!1,v=!1,_=!1,M=!1,T=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(c=t.includes("Table"),f=t.includes("Route Layer"),g=t.includes("Markup"),v=t.includes("Spatiotemporal"),_=t.includes("UtilityNetwork"),n=v&&c?"spatiotemporaltable":c?"table":f?"routelayer":g?"markup":v?"spatiotemporal":_?"utilitynetwork":o?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(v=t.includes("Spatiotemporal"),M=t.includes("Relational"),n=v||M?"mapimages":o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):n=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?n="maps":e==="web scene"?n=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?n="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?n="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?n="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?n="datafiles":e==="360 vr experience"?n="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?n="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?n="addindesktop":e==="pdf"?n="pdf":e==="microsoft word"?n="word":e==="microsoft excel"?n="excel":e==="microsoft powerpoint"?n="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?n="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?n="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?n="layersgray":e==="analysis model"?n="analysismodel":e==="scene package"?n="scenepackage":e==="3dtiles package"?n="3dtileslayerpackage":e==="3dtiles service"?n="3dtileslayer":e==="mobile scene package"?n="mobilescenepackage":e==="tile package"||e==="compact tile package"?n="tilepackage":e==="task file"?n="taskfile":e==="report template"?n="report-template":e==="statistical data collection"?n="statisticaldatacollection":e==="insights workbook"?n="workbook":e==="insights model"?n="insightsmodel":e==="insights page"?n="insightspage":e==="insights theme"?n="insightstheme":e==="hub initiative"?n="hubinitiative":e==="hub page"?n="hubpage":e==="hub site application"?n="hubsite":e==="hub event"?n="hubevent":e==="hub project"?n="hubproject":e==="relational database connection"?n="relationaldatabaseconnection":e==="big data file share"?n="datastorecollection":e==="image collection"?n="imagecollection":e==="desktop style"?n="desktopstyle":e==="style"?n=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?n="dashboard":e==="raster function template"?n="rasterprocessingtemplate":e==="vector tile package"?n="vectortilepackage":e==="ortho mapping project"?n="orthomappingproject":e==="ortho mapping template"?n="orthomappingtemplate":e==="solution"?n="solutions":e==="geopackage"?n="geopackage":e==="deep learning package"?n="deeplearningpackage":e==="real time analytic"?n="realtimeanalytics":e==="big data analytic"?n="bigdataanalytics":e==="feed"?n="feed":e==="excalibur imagery project"?n="excaliburimageryproject":e==="notebook"?n="notebook":e==="storymap"?n="storymap":e==="survey123 add in"?n="survey123addin":e==="mission"?n="mission":e==="mission report"?n="missionreport":e==="mission template"?n="missiontemplate":e==="quickcapture project"?n="quickcaptureproject":e==="pro report"?n="proreport":e==="pro report template"?n="proreporttemplate":e==="urban model"?n="urbanmodel":e==="web experience"?n="experiencebuilder":e==="web experience template"?n="webexperiencetemplate":e==="experience builder widget"?n="experiencebuilderwidget":e==="experience builder widget package"?n="experiencebuilderwidgetpackage":e==="workflow"?n="workflow":e==="kernel gateway connection"?n="kernelgatewayconnection":e==="insights script"?n="insightsscript":e==="hub initiative template"?n="hubinitiativetemplate":e==="storymap theme"?n="storymaptheme":e==="knowledge graph"?n="knowledgegraph":e==="knowledge graph layer"?n="knowledgegraphlayer":e==="knowledge studio project"?n="knowledgestudio":e==="native application"?n="nativeapp":e==="native application installer"?n="nativeappinstaller":e==="web link chart"?n="linkchart":e==="knowledge graph web investigation"?n="investigation":e==="ogcfeatureserver"?n="features":e==="pro project"?n="proproject":e==="insights workbook package"?n="insightsworkbookpackage":e==="apache parquet"?n="apacheparquet":e==="notebook code snippet library"?n="notebookcodesnippets":e==="suitability model"?n="suitabilitymodel":e==="esri classifier definition"?n="classifierdefinition":e==="esri classification schema"?n="classificationschema":e==="insights data engineering workbook"?n="dataengineeringworkbook":e==="insights data engineering model"?n="dataengineeringmodel":e==="deep learning studio project"?n="deeplearningproject":e==="discussion"?n="discussion":e==="allsource project"?n="allsourceproject":e==="api key"?n="apikey":e==="data pipeline"?n="datapipelines":e==="group layer"?(T=t.includes("Map"),n=T?"layergroup2d":"layergroup"):n=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",n?Si(i+n+r+".png"):null}get isLayer(){return this.type!=null&&yTe.has(this.type)}get itemCdnUrl(){return $N(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,r,n;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((n=(r=this.portal)==null?void 0:r.user)==null?void 0:n.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=kn.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof wT&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new wT({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:be(this.applicationProxies),avgRating:this.avgRating,categories:be(this.categories),created:be(this.created),culture:this.culture,description:this.description,extent:be(this.extent),groupCategories:be(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:be(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:be(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:be(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:be(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new yf({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var i;const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]=(i=e[r])==null?void 0:i.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new wT(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},yf)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new we("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new we("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:o,title:c}=e||{},f={method:"post",query:{copyPrivateResources:r==="all",folder:typeof n=="string"?n:n==null?void 0:n.id,includeResources:!!r,tags:o==null?void 0:o.join(","),title:c}},{itemId:g}=await t.request(`${i}/copy`,f);return new yf({id:g,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")g1(t)?r.query={data:t}:r.query={url:Da(t)},i!=null&&(r.query.filename=i);else{const n=new FormData;i!=null?n.append("file",t,i):n.append("file",t),r.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new we("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await Ce(()=>import("./resourceUtils-i2rn8fA_.js"),[],import.meta.url);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await Ce(()=>import("./resourceUtils-i2rn8fA_.js"),[],import.meta.url);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await Ce(()=>import("./resourceUtils-i2rn8fA_.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new we("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await Ce(()=>import("./resourceUtils-i2rn8fA_.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new hTe({portalItem:this,path:e})}toJSON(){var i,r;const e=this.extent,t={accessInformation:this.accessInformation,categories:be(this.categories),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:be(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:be(this.typeKeywords),url:this.url};return sxe(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new yf({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};b([$({type:["private","shared","org","public"]})],Gt.prototype,"access",void 0),b([$()],Gt.prototype,"accessInformation",void 0),b([$({type:String})],Gt.prototype,"apiKey",void 0),b([$({json:{read:{source:"appProxies"}}})],Gt.prototype,"applicationProxies",void 0),b([$()],Gt.prototype,"avgRating",void 0),b([$()],Gt.prototype,"categories",void 0),b([$({type:Date})],Gt.prototype,"created",void 0),b([$()],Gt.prototype,"culture",void 0),b([$()],Gt.prototype,"description",void 0),b([$({readOnly:!0})],Gt.prototype,"displayName",null),b([$({type:ci})],Gt.prototype,"extent",void 0),b([qe("extent")],Gt.prototype,"readExtent",null),b([$()],Gt.prototype,"groupCategories",void 0),b([$({readOnly:!0})],Gt.prototype,"iconUrl",null),b([$()],Gt.prototype,"id",void 0),b([$({readOnly:!0})],Gt.prototype,"isLayer",null),b([$({type:Boolean,readOnly:!0})],Gt.prototype,"isOrgItem",void 0),b([$()],Gt.prototype,"itemControl",void 0),b([$({readOnly:!0})],Gt.prototype,"itemPageUrl",null),b([$({readOnly:!0})],Gt.prototype,"itemUrl",null),b([$()],Gt.prototype,"licenseInfo",void 0),b([$({type:Date})],Gt.prototype,"modified",void 0),b([$()],Gt.prototype,"name",void 0),b([$()],Gt.prototype,"numComments",void 0),b([$()],Gt.prototype,"numRatings",void 0),b([$()],Gt.prototype,"numViews",void 0),b([$()],Gt.prototype,"owner",void 0),b([$()],Gt.prototype,"ownerFolder",void 0),b([$({type:kn})],Gt.prototype,"portal",void 0),b([$()],Gt.prototype,"screenshots",void 0),b([$()],Gt.prototype,"size",void 0),b([$()],Gt.prototype,"snippet",void 0),b([$()],Gt.prototype,"sourceJSON",void 0),b([$({type:String})],Gt.prototype,"sourceUrl",void 0),b([$({type:String})],Gt.prototype,"spatialReference",void 0),b([$()],Gt.prototype,"tags",void 0),b([$()],Gt.prototype,"thumbnail",void 0),b([$({readOnly:!0})],Gt.prototype,"thumbnailUrl",null),b([$()],Gt.prototype,"title",void 0),b([$()],Gt.prototype,"type",void 0),b([$()],Gt.prototype,"typeKeywords",void 0),b([$({type:String,json:{read(e,t){var i;if(mTe.has(t.type)){const r=(i=this.portal)==null?void 0:i.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],Gt.prototype,"url",void 0),b([$({readOnly:!0})],Gt.prototype,"userItemUrl",null),Gt=yf=b([ne("esri.portal.PortalItem")],Gt);const Rm=Gt,Bse=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"}));async function gTe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await hN("esri/t9n/basemaps");return i[e]||i[t]}const dg={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Si("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Si("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Si("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Si("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Si("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Si("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return Si("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Si("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Si("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Si("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Si("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Si("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Si("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Si("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Si("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Si("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},vTe=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let sd=class extends vt{constructor(t){super(t),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=ta().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const i=t6e(t);return i==="pt"?"pt-BR":i&&vTe.has(i)?i:"global"}};b([$()],sd.prototype,"id",void 0),b([$()],sd.prototype,"language",void 0),b([$()],sd.prototype,"places",void 0),b([$()],sd.prototype,"serviceUrl",void 0),b([$()],sd.prototype,"worldview",void 0),sd=b([ne("esri.support.BasemapStyle")],sd);const bTe=sd;function wTe(e){return Use(e)||xTe(e)}function wwt(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function xTe(e){return(e==null?void 0:e.type)==="scene"}function _Te(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function mf(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function Use(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function STe(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const xwt={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Gse(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function w7(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function _wt(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function $Te(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const i=e.activeLayer.tileMatrixSets;if(i)return i}return null}async function qse(e,t){const i=ii==null?void 0:ii.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${e.substring(0,r)}/rest/info`,o=t!=null?t.signal:null,{data:c}=await Vi(n,{query:{f:"json"},responseType:"json",signal:o});return(c==null?void 0:c.owningSystemUrl)||null}function MTe(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function TTe(e){return MTe(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function kTe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function CTe(e){return!!kTe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const ITe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),ETe=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function ATe(e){return e.layerContainerType==="basemap"?ITe:e.layerContainerType==="operational-layers"?ETe:null}function jTe(e,t){if(t.restrictedWebMapWriting){const i=ATe(t);return i==null||i.has(e.type)&&!w7(e)}return!0}function PTe(e,t){var i;if(t)if(w7(e)){const r=D3("featureCollection.layers",t),n=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;n&&BG(e,n)}else e.type!=="group"&&BG(e,t)}function BG(e,t){"maxScale"in e&&(t.maxScale=p4(e.maxScale)??void 0),"minScale"in e&&(t.minScale=p4(e.minScale)??void 0)}function OTe(e,t){if(PTe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=p4(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(w7(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function TE(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i!=null&&i.messages&&i.messages.push(new we("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(w7(e)&&!e.isTable)t=e.resourceInfo;else if(jTe(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&OTe(e,t=be(t)),t}var $b;let RTe=0,Do=$b=class extends W3(al){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+RTe++,this.baseLayers=new st,this.referenceLayers=new st;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&Le.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>t(r.item)),this.referenceLayers.on("after-add",r=>t(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{Le.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=rr(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",kp(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(n=>{const o=TE(n,i.webmap?i.webmap.getLayerJSONFromResourceInfo(n):null,i);o!=null&&r.push(o)}),this.referenceLayers.forEach(n=>{const o=TE(n,i.webmap?i.webmap.getLayerJSONFromResourceInfo(n):null,i);o!=null&&(n.type!=="scene"&&(o.isReference=!0),r.push(o))})),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",kp(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xN(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>X9(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>X9(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new $b({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=be(r);return n.url&&ec(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&ec(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;qi(e);const n=[];if(t){const o=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,o,e)),t.data.id&&!t.data.title){const c=t.data.id;n.push(gTe(c).then(f=>{f&&this.read({title:f},t.context)}))}}else i?n.push(this._loadFromItem(i,e)):r&&n.push(this._loadFromStylesService(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,i){var g,v;const r=(g=this.resourceInfo)==null?void 0:g.context,n=((v=this.portalItem)==null?void 0:v.portal)||(r==null?void 0:r.portal)||null,o=NTe[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:c}=await Ce(async()=>{const{populateOperationalLayers:_}=await import("./layersCreator-D1qSvEOC.js");return{populateOperationalLayers:_}},__vite__mapDeps([126,127,128,129]),import.meta.url),f=[];if(qi(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const _={context:{...r,origin:o,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},M=j=>o==="web-scene"&&j.layerType==="ArcGISSceneServiceLayer"||j.isReference,T=c(this.baseLayers,e.baseMapLayers.filter(j=>!M(j)),_);f.push(T);const E=c(this.referenceLayers,e.baseMapLayers.filter(M),_);f.push(E)}await Promise.allSettled(f)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),n=Bn(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:LTe[e.type||""]??"web-map",portal:e.portal||kn.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||kn.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const i=`${e.serviceUrl}/${e.id}`,r=(await Vi(i,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview},signal:t==null?void 0:t.signal})).data,n=Bn(i);return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}static fromId(e){const t=dg[e];return t?t.itemId?new $b({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):$b.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};b([$({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:st}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],Do.prototype,"baseLayers",null),b([$({type:String,json:{origins:{"web-scene":{write:!0}}}})],Do.prototype,"id",void 0),b([$({type:Rm})],Do.prototype,"portalItem",void 0),b([$()],Do.prototype,"referenceLayers",null),b([$({readOnly:!0})],Do.prototype,"resourceInfo",void 0),b([$({type:At})],Do.prototype,"spatialReference",void 0),b([$({type:bTe})],Do.prototype,"style",void 0),b([$()],Do.prototype,"thumbnailUrl",void 0),b([$({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Do.prototype,"title",void 0),b([Ze("title")],Do.prototype,"writeTitle",null),Do=$b=b([ne("esri.Basemap")],Do);const LTe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},NTe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},dp=Do,FTe=Object.freeze(Object.defineProperty({__proto__:null,default:dp},Symbol.toStringTag,{value:"Module"})),B4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Wse(e){return!!B4[e]||!!B4[e.toLowerCase()]}function MN(e){return B4[e]??B4[e.toLowerCase()]}function DTe(e){return[...MN(e)]}function xT(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function Hse(e,t,i,r=1){const n=(e%360+360)%360/360,o=i<=.5?i*(t+1):i+t-i*t,c=2*i-o;return[Math.round(255*xT(c,o,n+1/3)),Math.round(255*xT(c,o,n)),Math.round(255*xT(c,o,n-1/3)),r]}function zTe(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,n=t?1:17,o=t?e.length===9:e.length===5;let c=+("0x"+e.substr(1));if(isNaN(c))return null;const f=[0,0,0,1];let g;return o&&(g=c&r,c>>=i,f[3]=n*g/255),g=c&r,c>>=i,f[2]=n*g,g=c&r,c>>=i,f[1]=n*g,g=c&r,c>>=i,f[0]=n*g,f}function L_(e){return ol(mL(e),0,255)}function N_(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function F_(e,t){const i=e.toString(16).padStart(2,"0");return t?i.substring(0,1):i}let mS=class xn{static blendColors(t,i,r,n=new xn){return n.r=Math.round(t.r+(i.r-t.r)*r),n.g=Math.round(t.g+(i.g-t.g)*r),n.b=Math.round(t.b+(i.b-t.b)*r),n.a=t.a+(i.a-t.a)*r,n._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const n=r[2].split(/\s*,\s*/),o=r[1];if(o==="rgb"&&n.length===3||o==="rgba"&&n.length===4){const c=n[0];if(c.charAt(c.length-1)==="%"){const f=n.map(g=>2.56*parseFloat(g));return n.length===4&&(f[3]=parseFloat(n[3])),xn.fromArray(f,i)}return xn.fromArray(n.map(f=>parseFloat(f)),i)}if(o==="hsl"&&n.length===3||o==="hsla"&&n.length===4)return xn.fromArray(Hse(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),i)}return null}static fromHex(t,i=new xn){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.substring(1,2),16),n=parseInt(t.substring(2,3),16),o=parseInt(t.substring(3,4),16),c=t.length===5?15:parseInt(t.substring(4),16);return xn.fromArray([r+16*r,n+16*n,o+16*o,(c+16*c)/255],i)}case 7:case 9:{const r=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),c=t.length===7?255:parseInt(t.substring(7),16);return xn.fromArray([r,n,o,c/255],i)}default:return null}}static fromArray(t,i=new xn){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=Wse(t)?MN(t):null;return r&&xn.fromArray(r,i)||xn.fromRgb(t,i)||xn.fromHex(t,i)}static fromJSON(t){return t!=null?new xn([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?xn.fromString(t,this):Array.isArray(t)?xn.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof xn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,r=(t==null?void 0:t.digits)??6,n=r===3||r===4,o=r===4||r===8,c=`#${F_(this.r,n)}${F_(this.g,n)}${F_(this.b,n)}${o?F_(Math.round(255*this.a),n):""}`;return i?c.toUpperCase():c}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=xn.AlphaMode.ALWAYS){const i=L_(this.r),r=L_(this.g),n=L_(this.b);return t===xn.AlphaMode.ALWAYS||this.a!==1?[i,r,n,L_(255*this.a)]:[i,r,n]}clone(){return new xn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(N_(this.r,0,255)),this.g=Math.round(N_(this.g,0,255)),this.b=Math.round(N_(this.b,0,255)),this.a=N_(this.a,0,1),this}_set(t,i,r,n){this.r=t,this.g=i,this.b=r,this.a=n}};mS.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(mS||(mS={}));const Lt=mS;function Swt(e){}function VTe(e){return()=>e}function Ct(e,t={}){const i=e instanceof oi?e:new oi(e,t),r={type:(t==null?void 0:t.ignoreUnknown)??1?i.apiValues:String,json:{type:i.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:i.read},write:{writer:i.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(r.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(r.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(r.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(r.nonNullable=t.nonNullable),$(r)}var kE;let gS=kE=class extends Ne{constructor(e){super(e),this.type="none"}clone(){return new kE({type:this.type})}};b([Ct({none:"none",stayAbove:"stay-above"})],gS.prototype,"type",void 0),gS=kE=b([ne("esri.ground.NavigationConstraint")],gS);function x7(e){const t=mL(100*(1-e));return Math.max(0,Math.min(t,100))}function qw(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var CE;let Cc=CE=class extends W3(al){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new st;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&Le.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{Os(e)||Le.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)rr(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",kp(e,this._get("layers")))}writeLayers(e,t,i,r){const n=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(o=>{if("write"in o){const c={};VTe(o)().write(c,r)&&n.push(c)}else r!=null&&r.messages&&r.messages.push(new we("layer:unsupported",`Layers (${o.title}, ${o.id}) of type '${o.declaredClass}' cannot be persisted in the ground`,{layer:o}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xN(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await Ce(()=>import("./ElevationQuery-Ch_LCl2m.js"),[],import.meta.url);qi(t);const r=new i,n=this.layers.filter(UG).toArray();return r.queryAll(n,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await Ce(()=>import("./ElevationQuery-Ch_LCl2m.js"),[],import.meta.url);qi(t);const r=new i,n=this.layers.filter(UG).toArray();return r.createSamplerAll(n,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:be(this.surfaceColor),navigationConstraint:be(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new CE({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=(t==null?void 0:t.origin)||"web-scene",n=(t==null?void 0:t.portal)||null,o=(t==null?void 0:t.url)||null,{populateOperationalLayers:c}=await Ce(async()=>{const{populateOperationalLayers:g}=await import("./layersCreator-D1qSvEOC.js");return{populateOperationalLayers:g}},__vite__mapDeps([126,127,128,129]),import.meta.url);qi(i);const f=[];if(e.layers&&Array.isArray(e.layers)){const g={context:{origin:r,url:o,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};f.push(c(this.layers,e.layers,g))}await Promise.allSettled(f)}};function BTe(e){return e&&"createElevationSampler"in e}function UG(e){return e.type==="elevation"||BTe(e)}b([$({json:{read:!1}})],Cc.prototype,"layers",null),b([Ze("layers")],Cc.prototype,"writeLayers",null),b([$({readOnly:!0})],Cc.prototype,"resourceInfo",void 0),b([$({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:zi,read:{reader:qw,source:"transparency"},write:{writer:(e,t)=>{t.transparency=x7(e)},target:"transparency"}}})],Cc.prototype,"opacity",void 0),b([$({type:Lt,json:{type:[zi],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Cc.prototype,"surfaceColor",void 0),b([$({type:gS,json:{write:!0}})],Cc.prototype,"navigationConstraint",void 0),Cc=CE=b([ne("esri.Ground")],Cc);const U4=Cc,D_=new WeakMap;function Jse(e){return!e.destroyed&&(D_.has(e)||e.addHandles([nt(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||Jse(t))},t=>D_.set(e,t),Jo),Bi(()=>D_.delete(e))]),D_.get(e))}function UTe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function GTe(e){var t,i;return!(!UTe(e)||!((i=(t=TTe(e))==null?void 0:t.operations)!=null&&i.supportsEditing)||"editingEnabled"in e&&!CTe(e)||Jse(e))}const qTe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,WTe="screenUtils.toPt: input not recognized!",Kse=96;function HTe(e){return e?e/72*Kse:0}function ll(e){return e?72*e/Kse:0}function wi(e){if(typeof e=="string"){const t=e.match(qTe);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",o=r==="px"?ll(i):i;return n?-o:o}return console.warn(WTe),null}return e}function rs(e=0,t=0){return{x:e,y:t}}function $wt(e=0,t=0){return[e,t]}function _7(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function JTe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function KTe(e,t,i,r,n,o,c,f,g,v,_,M,T,E,j,R){const N=new Float32Array(16);return N[0]=e,N[1]=t,N[2]=i,N[3]=r,N[4]=n,N[5]=o,N[6]=c,N[7]=f,N[8]=g,N[9]=v,N[10]=_,N[11]=M,N[12]=T,N[13]=E,N[14]=j,N[15]=R,N}function YTe(e,t){return new Float32Array(e,t,16)}const ZTe=_7();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:ZTe,clone:JTe,create:_7,createView:YTe,fromValues:KTe},Symbol.toStringTag,{value:"Module"}));function XTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Fp(e,t,i,r,n,o,c,f,g,v,_,M,T,E,j,R,N){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=c,e[6]=f,e[7]=g,e[8]=v,e[9]=_,e[10]=M,e[11]=T,e[12]=E,e[13]=j,e[14]=R,e[15]=N,e}function S7(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Dp(e,t){if(e===t){const i=t[1],r=t[2],n=t[3],o=t[6],c=t[7],f=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=n,e[13]=c,e[14]=f}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function QTe(e,t){return Yse(e,t)||S7(e),e}function Yse(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5],g=t[6],v=t[7],_=t[8],M=t[9],T=t[10],E=t[11],j=t[12],R=t[13],N=t[14],F=t[15],V=i*f-r*c,z=i*g-n*c,G=i*v-o*c,H=r*g-n*f,Z=r*v-o*f,Y=n*v-o*g,re=_*R-M*j,q=_*N-T*j,W=_*F-E*j,ee=M*N-T*R,le=M*F-E*R,ue=T*F-E*N;let ae=V*ue-z*le+G*ee+H*W-Z*q+Y*re;return ae?(ae=1/ae,e[0]=(f*ue-g*le+v*ee)*ae,e[1]=(n*le-r*ue-o*ee)*ae,e[2]=(R*Y-N*Z+F*H)*ae,e[3]=(T*Z-M*Y-E*H)*ae,e[4]=(g*W-c*ue-v*q)*ae,e[5]=(i*ue-n*W+o*q)*ae,e[6]=(N*G-j*Y-F*z)*ae,e[7]=(_*Y-T*G+E*z)*ae,e[8]=(c*le-f*W+v*re)*ae,e[9]=(r*W-i*le-o*re)*ae,e[10]=(j*Z-R*G+F*V)*ae,e[11]=(M*G-_*Z-E*V)*ae,e[12]=(f*q-c*ee-g*re)*ae,e[13]=(i*ee-r*q+n*re)*ae,e[14]=(R*z-j*H-N*V)*ae,e[15]=(_*H-M*z+T*V)*ae,e):null}function eke(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5],g=t[6],v=t[7],_=t[8],M=t[9],T=t[10],E=t[11],j=t[12],R=t[13],N=t[14],F=t[15];return e[0]=f*(T*F-E*N)-M*(g*F-v*N)+R*(g*E-v*T),e[1]=-(r*(T*F-E*N)-M*(n*F-o*N)+R*(n*E-o*T)),e[2]=r*(g*F-v*N)-f*(n*F-o*N)+R*(n*v-o*g),e[3]=-(r*(g*E-v*T)-f*(n*E-o*T)+M*(n*v-o*g)),e[4]=-(c*(T*F-E*N)-_*(g*F-v*N)+j*(g*E-v*T)),e[5]=i*(T*F-E*N)-_*(n*F-o*N)+j*(n*E-o*T),e[6]=-(i*(g*F-v*N)-c*(n*F-o*N)+j*(n*v-o*g)),e[7]=i*(g*E-v*T)-c*(n*E-o*T)+_*(n*v-o*g),e[8]=c*(M*F-E*R)-_*(f*F-v*R)+j*(f*E-v*M),e[9]=-(i*(M*F-E*R)-_*(r*F-o*R)+j*(r*E-o*M)),e[10]=i*(f*F-v*R)-c*(r*F-o*R)+j*(r*v-o*f),e[11]=-(i*(f*E-v*M)-c*(r*E-o*M)+_*(r*v-o*f)),e[12]=-(c*(M*N-T*R)-_*(f*N-g*R)+j*(f*T-g*M)),e[13]=i*(M*N-T*R)-_*(r*N-n*R)+j*(r*T-n*M),e[14]=-(i*(f*N-g*R)-c*(r*N-n*R)+j*(r*g-n*f)),e[15]=i*(f*T-g*M)-c*(r*T-n*M)+_*(r*g-n*f),e}function tke(e){const t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],c=e[5],f=e[6],g=e[7],v=e[8],_=e[9],M=e[10],T=e[11],E=e[12],j=e[13],R=e[14],N=e[15];return(t*c-i*o)*(M*N-T*R)-(t*f-r*o)*(_*N-T*j)+(t*g-n*o)*(_*R-M*j)+(i*f-r*c)*(v*N-T*E)-(i*g-n*c)*(v*R-M*E)+(r*g-n*f)*(v*j-_*E)}function Zse(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=t[6],_=t[7],M=t[8],T=t[9],E=t[10],j=t[11],R=t[12],N=t[13],F=t[14],V=t[15];let z=i[0],G=i[1],H=i[2],Z=i[3];return e[0]=z*r+G*f+H*M+Z*R,e[1]=z*n+G*g+H*T+Z*N,e[2]=z*o+G*v+H*E+Z*F,e[3]=z*c+G*_+H*j+Z*V,z=i[4],G=i[5],H=i[6],Z=i[7],e[4]=z*r+G*f+H*M+Z*R,e[5]=z*n+G*g+H*T+Z*N,e[6]=z*o+G*v+H*E+Z*F,e[7]=z*c+G*_+H*j+Z*V,z=i[8],G=i[9],H=i[10],Z=i[11],e[8]=z*r+G*f+H*M+Z*R,e[9]=z*n+G*g+H*T+Z*N,e[10]=z*o+G*v+H*E+Z*F,e[11]=z*c+G*_+H*j+Z*V,z=i[12],G=i[13],H=i[14],Z=i[15],e[12]=z*r+G*f+H*M+Z*R,e[13]=z*n+G*g+H*T+Z*N,e[14]=z*o+G*v+H*E+Z*F,e[15]=z*c+G*_+H*j+Z*V,e}function ike(e,t,i){const r=i[0],n=i[1],o=i[2];if(t===e)e[12]=t[0]*r+t[4]*n+t[8]*o+t[12],e[13]=t[1]*r+t[5]*n+t[9]*o+t[13],e[14]=t[2]*r+t[6]*n+t[10]*o+t[14],e[15]=t[3]*r+t[7]*n+t[11]*o+t[15];else{const c=t[0],f=t[1],g=t[2],v=t[3],_=t[4],M=t[5],T=t[6],E=t[7],j=t[8],R=t[9],N=t[10],F=t[11];e[0]=c,e[1]=f,e[2]=g,e[3]=v,e[4]=_,e[5]=M,e[6]=T,e[7]=E,e[8]=j,e[9]=R,e[10]=N,e[11]=F,e[12]=c*r+_*n+j*o+t[12],e[13]=f*r+M*n+R*o+t[13],e[14]=g*r+T*n+N*o+t[14],e[15]=v*r+E*n+F*o+t[15]}return e}function rke(e,t,i){const r=i[0],n=i[1],o=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nke(e,t,i,r){let n,o,c,f,g,v,_,M,T,E,j,R,N,F,V,z,G,H,Z,Y,re,q,W,ee,le=r[0],ue=r[1],ae=r[2],pe=Math.sqrt(le*le+ue*ue+ae*ae);return pe<eo()?null:(pe=1/pe,le*=pe,ue*=pe,ae*=pe,n=Math.sin(i),o=Math.cos(i),c=1-o,f=t[0],g=t[1],v=t[2],_=t[3],M=t[4],T=t[5],E=t[6],j=t[7],R=t[8],N=t[9],F=t[10],V=t[11],z=le*le*c+o,G=ue*le*c+ae*n,H=ae*le*c-ue*n,Z=le*ue*c-ae*n,Y=ue*ue*c+o,re=ae*ue*c+le*n,q=le*ae*c+ue*n,W=ue*ae*c-le*n,ee=ae*ae*c+o,e[0]=f*z+M*G+R*H,e[1]=g*z+T*G+N*H,e[2]=v*z+E*G+F*H,e[3]=_*z+j*G+V*H,e[4]=f*Z+M*Y+R*re,e[5]=g*Z+T*Y+N*re,e[6]=v*Z+E*Y+F*re,e[7]=_*Z+j*Y+V*re,e[8]=f*q+M*W+R*ee,e[9]=g*q+T*W+N*ee,e[10]=v*q+E*W+F*ee,e[11]=_*q+j*W+V*ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ske(e,t,i){const r=Math.sin(i),n=Math.cos(i),o=t[4],c=t[5],f=t[6],g=t[7],v=t[8],_=t[9],M=t[10],T=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+v*r,e[5]=c*n+_*r,e[6]=f*n+M*r,e[7]=g*n+T*r,e[8]=v*n-o*r,e[9]=_*n-c*r,e[10]=M*n-f*r,e[11]=T*n-g*r,e}function oke(e,t,i){const r=Math.sin(i),n=Math.cos(i),o=t[0],c=t[1],f=t[2],g=t[3],v=t[8],_=t[9],M=t[10],T=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-v*r,e[1]=c*n-_*r,e[2]=f*n-M*r,e[3]=g*n-T*r,e[8]=o*r+v*n,e[9]=c*r+_*n,e[10]=f*r+M*n,e[11]=g*r+T*n,e}function ake(e,t,i){const r=Math.sin(i),n=Math.cos(i),o=t[0],c=t[1],f=t[2],g=t[3],v=t[4],_=t[5],M=t[6],T=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+v*r,e[1]=c*n+_*r,e[2]=f*n+M*r,e[3]=g*n+T*r,e[4]=v*n-o*r,e[5]=_*n-c*r,e[6]=M*n-f*r,e[7]=T*n-g*r,e}function lke(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function uke(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cke(e,t,i){if(t===0)return S7(e);let r,n,o,c=i[0],f=i[1],g=i[2],v=Math.sqrt(c*c+f*f+g*g);return v<eo()?null:(v=1/v,c*=v,f*=v,g*=v,r=Math.sin(t),n=Math.cos(t),o=1-n,e[0]=c*c*o+n,e[1]=f*c*o+g*r,e[2]=g*c*o-f*r,e[3]=0,e[4]=c*f*o-g*r,e[5]=f*f*o+n,e[6]=g*f*o+c*r,e[7]=0,e[8]=c*g*o+f*r,e[9]=f*g*o-c*r,e[10]=g*g*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function hke(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dke(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pke(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Xse(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=r+r,g=n+n,v=o+o,_=r*f,M=r*g,T=r*v,E=n*g,j=n*v,R=o*v,N=c*f,F=c*g,V=c*v;return e[0]=1-(E+R),e[1]=M+V,e[2]=T-F,e[3]=0,e[4]=M-V,e[5]=1-(_+R),e[6]=j+N,e[7]=0,e[8]=T+F,e[9]=j-N,e[10]=1-(_+E),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function fke(e,t){const i=yke,r=-t[0],n=-t[1],o=-t[2],c=t[3],f=t[4],g=t[5],v=t[6],_=t[7],M=r*r+n*n+o*o+c*c;return M>0?(i[0]=2*(f*c+_*r+g*o-v*n)/M,i[1]=2*(g*c+_*n+v*r-f*o)/M,i[2]=2*(v*c+_*o+f*n-g*r)/M):(i[0]=2*(f*c+_*r+g*o-v*n),i[1]=2*(g*c+_*n+v*r-f*o),i[2]=2*(v*c+_*o+f*n-g*r)),Xse(e,t,i),e}const yke=hl();function mke(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function gke(e,t){const i=t[0],r=t[1],n=t[2],o=t[4],c=t[5],f=t[6],g=t[8],v=t[9],_=t[10];return e[0]=Math.sqrt(i*i+r*r+n*n),e[1]=Math.sqrt(o*o+c*c+f*f),e[2]=Math.sqrt(g*g+v*v+_*_),e}function vke(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function bke(e,t,i,r){const n=t[0],o=t[1],c=t[2],f=t[3],g=n+n,v=o+o,_=c+c,M=n*g,T=n*v,E=n*_,j=o*v,R=o*_,N=c*_,F=f*g,V=f*v,z=f*_,G=r[0],H=r[1],Z=r[2];return e[0]=(1-(j+N))*G,e[1]=(T+z)*G,e[2]=(E-V)*G,e[3]=0,e[4]=(T-z)*H,e[5]=(1-(M+N))*H,e[6]=(R+F)*H,e[7]=0,e[8]=(E+V)*Z,e[9]=(R-F)*Z,e[10]=(1-(M+j))*Z,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function wke(e,t,i,r,n){const o=t[0],c=t[1],f=t[2],g=t[3],v=o+o,_=c+c,M=f+f,T=o*v,E=o*_,j=o*M,R=c*_,N=c*M,F=f*M,V=g*v,z=g*_,G=g*M,H=r[0],Z=r[1],Y=r[2],re=n[0],q=n[1],W=n[2],ee=(1-(R+F))*H,le=(E+G)*H,ue=(j-z)*H,ae=(E-G)*Z,pe=(1-(T+F))*Z,ge=(N+V)*Z,ve=(j+z)*Y,ce=(N-V)*Y,he=(1-(T+R))*Y;return e[0]=ee,e[1]=le,e[2]=ue,e[3]=0,e[4]=ae,e[5]=pe,e[6]=ge,e[7]=0,e[8]=ve,e[9]=ce,e[10]=he,e[11]=0,e[12]=i[0]+re-(ee*re+ae*q+ve*W),e[13]=i[1]+q-(le*re+pe*q+ce*W),e[14]=i[2]+W-(ue*re+ge*q+he*W),e[15]=1,e}function xke(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=i+i,f=r+r,g=n+n,v=i*c,_=r*c,M=r*f,T=n*c,E=n*f,j=n*g,R=o*c,N=o*f,F=o*g;return e[0]=1-M-j,e[1]=_+F,e[2]=T-N,e[3]=0,e[4]=_-F,e[5]=1-v-j,e[6]=E+R,e[7]=0,e[8]=T+N,e[9]=E-R,e[10]=1-v-M,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _ke(e,t,i,r,n,o,c){const f=1/(i-t),g=1/(n-r),v=1/(o-c);return e[0]=2*o*f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*g,e[6]=0,e[7]=0,e[8]=(i+t)*f,e[9]=(n+r)*g,e[10]=(c+o)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*o*2*v,e[15]=0,e}function Ske(e,t,i,r,n){const o=1/Math.tan(t/2);let c;return e[0]=o/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(c=1/(r-n),e[10]=(n+r)*c,e[14]=2*n*r*c):(e[10]=-1,e[14]=-2*r),e}function $ke(e,t,i,r){const n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),c=Math.tan(t.leftDegrees*Math.PI/180),f=Math.tan(t.rightDegrees*Math.PI/180),g=2/(c+f),v=2/(n+o);return e[0]=g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=v,e[6]=0,e[7]=0,e[8]=-(c-f)*g*.5,e[9]=(n-o)*v*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function Mke(e,t,i,r,n,o,c){const f=1/(t-i),g=1/(r-n),v=1/(o-c);return e[0]=-2*f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*g,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*v,e[11]=0,e[12]=(t+i)*f,e[13]=(n+r)*g,e[14]=(c+o)*v,e[15]=1,e}function Tke(e,t,i,r){const n=t[0],o=t[1],c=t[2];let f=n-i[0],g=o-i[1],v=c-i[2];const _=eo();if(Math.abs(f)<_&&Math.abs(g)<_&&Math.abs(v)<_)return void S7(e);let M=1/Math.sqrt(f*f+g*g+v*v);f*=M,g*=M,v*=M;const T=r[0],E=r[1],j=r[2];let R=E*v-j*g,N=j*f-T*v,F=T*g-E*f;M=Math.sqrt(R*R+N*N+F*F),M?(M=1/M,R*=M,N*=M,F*=M):(R=0,N=0,F=0);let V=g*F-v*N,z=v*R-f*F,G=f*N-g*R;M=Math.sqrt(V*V+z*z+G*G),M?(M=1/M,V*=M,z*=M,G*=M):(V=0,z=0,G=0),e[0]=R,e[1]=V,e[2]=f,e[3]=0,e[4]=N,e[5]=z,e[6]=g,e[7]=0,e[8]=F,e[9]=G,e[10]=v,e[11]=0,e[12]=-(R*n+N*o+F*c),e[13]=-(V*n+z*o+G*c),e[14]=-(f*n+g*o+v*c),e[15]=1}function kke(e,t,i,r){const n=t[0],o=t[1],c=t[2],f=r[0],g=r[1],v=r[2];let _=n-i[0],M=o-i[1],T=c-i[2],E=_*_+M*M+T*T;E>0&&(E=1/Math.sqrt(E),_*=E,M*=E,T*=E);let j=g*T-v*M,R=v*_-f*T,N=f*M-g*_;return E=j*j+R*R+N*N,E>0&&(E=1/Math.sqrt(E),j*=E,R*=E,N*=E),e[0]=j,e[1]=R,e[2]=N,e[3]=0,e[4]=M*N-T*R,e[5]=T*j-_*N,e[6]=_*R-M*j,e[7]=0,e[8]=_,e[9]=M,e[10]=T,e[11]=0,e[12]=n,e[13]=o,e[14]=c,e[15]=1,e}function Cke(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ike(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Eke(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function Qse(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Ake(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function jke(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function Pke(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Oke(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],o=e[3],c=e[4],f=e[5],g=e[6],v=e[7],_=e[8],M=e[9],T=e[10],E=e[11],j=e[12],R=e[13],N=e[14],F=e[15],V=t[0],z=t[1],G=t[2],H=t[3],Z=t[4],Y=t[5],re=t[6],q=t[7],W=t[8],ee=t[9],le=t[10],ue=t[11],ae=t[12],pe=t[13],ge=t[14],ve=t[15],ce=eo();return Math.abs(i-V)<=ce*Math.max(1,Math.abs(i),Math.abs(V))&&Math.abs(r-z)<=ce*Math.max(1,Math.abs(r),Math.abs(z))&&Math.abs(n-G)<=ce*Math.max(1,Math.abs(n),Math.abs(G))&&Math.abs(o-H)<=ce*Math.max(1,Math.abs(o),Math.abs(H))&&Math.abs(c-Z)<=ce*Math.max(1,Math.abs(c),Math.abs(Z))&&Math.abs(f-Y)<=ce*Math.max(1,Math.abs(f),Math.abs(Y))&&Math.abs(g-re)<=ce*Math.max(1,Math.abs(g),Math.abs(re))&&Math.abs(v-q)<=ce*Math.max(1,Math.abs(v),Math.abs(q))&&Math.abs(_-W)<=ce*Math.max(1,Math.abs(_),Math.abs(W))&&Math.abs(M-ee)<=ce*Math.max(1,Math.abs(M),Math.abs(ee))&&Math.abs(T-le)<=ce*Math.max(1,Math.abs(T),Math.abs(le))&&Math.abs(E-ue)<=ce*Math.max(1,Math.abs(E),Math.abs(ue))&&Math.abs(j-ae)<=ce*Math.max(1,Math.abs(j),Math.abs(ae))&&Math.abs(R-pe)<=ce*Math.max(1,Math.abs(R),Math.abs(pe))&&Math.abs(N-ge)<=ce*Math.max(1,Math.abs(N),Math.abs(ge))&&Math.abs(F-ve)<=ce*Math.max(1,Math.abs(F),Math.abs(ve))}function Rke(e){const t=eo(),i=e[0],r=e[1],n=e[2],o=e[4],c=e[5],f=e[6],g=e[8],v=e[9],_=e[10];return Math.abs(1-(i*i+o*o+g*g))<=t&&Math.abs(1-(r*r+c*c+v*v))<=t&&Math.abs(1-(n*n+f*f+_*_))<=t}function Lke(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const Nke=Zse,Fke=Qse;Object.freeze(Object.defineProperty({__proto__:null,add:Eke,adjoint:eke,copy:XTe,determinant:tke,equals:Oke,exactEquals:Pke,frob:Ike,fromQuat:xke,fromQuat2:fke,fromRotation:cke,fromRotationTranslation:Xse,fromRotationTranslationScale:bke,fromRotationTranslationScaleOrigin:wke,fromScaling:uke,fromTranslation:lke,fromXRotation:hke,fromYRotation:dke,fromZRotation:pke,frustum:_ke,getRotation:vke,getScaling:gke,getTranslation:mke,hasIdentityRotation:Lke,identity:S7,invert:Yse,invertOrIdentity:QTe,isOrthoNormal:Rke,lookAt:Tke,mul:Nke,multiply:Zse,multiplyScalar:Ake,multiplyScalarAndAdd:jke,ortho:Mke,perspective:Ske,perspectiveFromFieldOfView:$ke,rotate:nke,rotateX:ske,rotateY:oke,rotateZ:ake,scale:rke,set:Fp,str:Cke,sub:Fke,subtract:Qse,targetTo:kke,translate:ike,transpose:Dp},Symbol.toStringTag,{value:"Module"}));const Dke=(e,t)=>{const i=Fp(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Dp(i,i)},zke=(e,t)=>{const i=Fp(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Dp(i,i)},Vke=(e,t)=>{const i=1-t,r=Fp(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return Dp(r,r)},Bke=(e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),n=Fp(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return Dp(n,n)},Uke=(e,t)=>{const i=1-2*t,r=Fp(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return Dp(r,r)},Gke=(e,t)=>{const i=Fp(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Dp(i,i)},qke=(e,t)=>{const i=1-t,r=Fp(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return Dp(r,r)};let eoe=class toe{constructor(t,i,r){this.strength=t,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(t,i,r){this.strength=mo(t.strength,i.strength,r),this.radius=mo(t.radius,i.radius,r),this.threshold=mo(t.threshold,i.threshold,r)}clone(){return new toe(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:U2(this.radius),strength:this.strength,threshold:this.threshold}}},ioe=class roe{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,r){this.radius=Math.round(mo(t.radius,i.radius,r))}clone(){return new roe(this.radius)}toJSON(){return{type:"blur",radius:U2(this.radius)}}},IE=class noe{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.amount=mo(t.amount,i.amount,r),this._updateMatrix()}clone(){return new noe(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||_7();switch(this.type){case"brightness":this._colorMatrix=Dke(t,this.amount);break;case"contrast":this._colorMatrix=zke(t,this.amount);break;case"grayscale":this._colorMatrix=Vke(t,this.amount);break;case"invert":this._colorMatrix=Uke(t,this.amount);break;case"saturate":this._colorMatrix=Gke(t,this.amount);break;case"sepia":this._colorMatrix=qke(t,this.amount)}}},soe=class ooe{constructor(t,i,r,n){this.offsetX=t,this.offsetY=i,this.blurRadius=r,this.color=n,this.type="drop-shadow"}interpolate(t,i,r){this.offsetX=mo(t.offsetX,i.offsetX,r),this.offsetY=mo(t.offsetY,i.offsetY,r),this.blurRadius=mo(t.blurRadius,i.blurRadius,r),this.color[0]=Math.round(mo(t.color[0],i.color[0],r)),this.color[1]=Math.round(mo(t.color[1],i.color[1],r)),this.color[2]=Math.round(mo(t.color[2],i.color[2],r)),this.color[3]=mo(t.color[3],i.color[3],r)}clone(){return new ooe(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:U2(this.offsetX),yoffset:U2(this.offsetY),blurRadius:U2(this.blurRadius),color:t}}},aoe=class loe{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.angle=mo(t.angle,i.angle,r),this._updateMatrix()}clone(){return new loe(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||_7();this._colorMatrix=Bke(t,this.angle)}},uoe=class coe{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,r){this.amount=mo(t.amount,i.amount,r)}clone(){return new coe(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function mo(e,t,i){return e+(t-e)*i}function U2(e){return Math.round(1e3*ll(e))/1e3}function Wke(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new IE(e.type,0);case"saturate":case"brightness":case"contrast":return new IE(e.type,1);case"opacity":return new uoe(1);case"hue-rotate":return new aoe(0);case"blur":return new ioe(0);case"drop-shadow":return new soe(0,0,0,[...MN("transparent")]);case"bloom":return new eoe(0,0,1)}}function Hke(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((r,n)=>r.type===i[n].type)}function Jke(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let n=r.length;n<i.length;n++)r.push(Wke(i[n]))}function Kke(e){const t=e[0];return!!t&&"type"in t}function Yke(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}const GG=()=>Le.getLogger("esri.support.basemapUtils");function Zke(){return{}}function Xke(e){for(const t in e){const i=e[t];rr(i),delete e[t]}}function Qke(e,t){let i;if(typeof e=="string"){const r=e in dg,n=!r&&e.includes("/");if(!r&&!n){const o=Object.entries(dg).filter(([c,f])=>yi.apiKey&&!f.classic||!yi.apiKey&&(f.classic||f.is3d)).map(([c])=>`"${c}"`).sort().join(", ");return GG().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${o}`),null}t&&(i=t[e]),i||(i=r?dp.fromId(e):new dp({style:{id:e}}),t&&(t[e]=i))}else i=vr(dp,e);return i!=null&&i.destroyed&&(GG().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function eCe(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(i=>i.type==="scene")}function tCe(e){var t,i;return!!((i=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&i.some(r=>r.toLowerCase()==="beta"))}function iCe(e){let t=null;const i=EE(e),r=!(i!=null&&i.baseLayers.length);for(const n in dg){const o=doe(i,hoe(dg[n]),{mustMatchReferences:r});if(o==="equal"){t=n;break}o==="base-layers-equal"&&(t=n)}return t}function rCe(e,t){var i,r;return e===t||((i=e==null?void 0:e.portalItem)==null?void 0:i.id)!=null&&e.portalItem.id===((r=t==null?void 0:t.portalItem)==null?void 0:r.id)?!0:doe(EE(e),EE(t),{mustMatchReferences:!0})==="equal"}function nCe(e,t){var o;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const i=t.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?(o=i.tileInfo)==null?void 0:o.spatialReference:i.spatialReference]).filter(Boolean),n=e.spatialReference;return n?{spatialReference:r.find(c=>n.equals(c))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}function EE(e){return e?!e.loaded&&e.resourceInfo?hoe(e.resourceInfo.data):{baseLayers:qG(e.baseLayers),referenceLayers:qG(e.referenceLayers)}:null}function qG(e){return(st.isCollection(e)?e.toArray():e).map(sCe)}function sCe(e){var t,i;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:poe("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(r=>({id:r.id,visible:r.visible})),activeLayerId:e.type==="wmts"?(i=e.activeLayer)==null?void 0:i.id:void 0}}function WG(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function hoe(e){return e?{baseLayers:HG((e.baseMapLayers??[]).filter(t=>!WG(t))),referenceLayers:HG((e.baseMapLayers??[]).filter(t=>WG(t)))}:null}function HG(e){return e.map(t=>oCe(t))}function oCe(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:poe(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function doe(e,t,i){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":JG(e.baseLayers,t.baseLayers)?JG(e.referenceLayers,t.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function JG(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!aCe(e[i],t[i]))return!1;return!0}function aCe(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!Yke(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let i=0;i<e.sublayers.length;i++){const r=e.sublayers.at(i),n=t.sublayers.at(i);if((r==null?void 0:r.id)!==(n==null?void 0:n.id)||(r==null?void 0:r.visible)!==(n==null?void 0:n.visible))return!1}}return!0}function poe(e){return e?Za(e).replace(/^\s*https?:/i,"").toLowerCase():""}function lCe(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const i=iCe(e);return i?dg[i].thumbnailUrl:Pw(e.baseLayers,uCe)}function uCe(e){var t;return"portalItem"in e?(t=e.portalItem)==null?void 0:t.thumbnailUrl:void 0}function foe(e){return new Z0({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function _T(e){for(const t of e.values())t==null||t.destroy();e.clear()}const KG={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function cCe(e){let t=null;if(typeof e=="string")if(e in KG){const i=KG[e];t=new U4({resourceInfo:{data:{layers:[i]}}})}else Le.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=vr(U4,e);return t}const YG={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function ST(e,t,i,r=ic){const n=new aa(lN(r)),o=Bt.fromJSDate(e,{zone:n}),c=i==="decades"||i==="centuries"?"year":moe(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),o.plus({[c]:t}).toJSDate()}function Mwt(e,t,i="milliseconds"){const r=e.getTime(),n=yoe(t,i,"milliseconds");return new Date(r+n)}function ZG(e,t,i=ic){const r=new aa(lN(i)),n=Bt.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const c=n.startOf("year"),{year:f}=c,g=f-f%(t==="decades"?10:100);return c.set({year:g}).toJSDate()}const o=moe(t);return n.startOf(o).toJSDate()}function yoe(e,t,i){return e===0?0:e*YG[t]/YG[i]}function moe(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var wa;let qo=wa=class extends Ne{static get allTime(){return XG}static get empty(){return hCe}static fromArray(e){return new wa({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(wa.allTime)}get isEmpty(){return this.equals(wa.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new wa({end:this.end,start:this.start})}equals(e){var o,c,f,g;if(!e)return!1;const t=((o=this.start)==null?void 0:o.getTime())??this.start,i=((c=this.end)==null?void 0:c.getTime())??this.end,r=((f=e.start)==null?void 0:f.getTime())??e.start,n=((g=e.end)==null?void 0:g.getTime())??e.end;return t===r&&i===n}expandTo(e,t=ic){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=ZG(i,e,t));let r=this.end;if(r){const n=ZG(r,e,t);r=r.getTime()===n.getTime()?n:ST(n,1,e,t)}return new wa({start:i,end:r})}intersection(e){var f,g,v,_;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return wa.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((f=this.start)==null?void 0:f.getTime())??-1/0,i=((g=this.end)==null?void 0:g.getTime())??1/0,r=((v=e.start)==null?void 0:v.getTime())??-1/0,n=((_=e.end)==null?void 0:_.getTime())??1/0;let o,c;return r>=t&&r<=i?o=r:t>=r&&t<=n&&(o=t),i>=r&&i<=n?c=i:n>=t&&n<=i&&(c=n),o==null||c==null||isNaN(o)||isNaN(c)?wa.empty:new wa({start:o===-1/0?null:new Date(o),end:c===1/0?null:new Date(c)})}offset(e,t,i=ic){if(this.isEmpty||this.isAllTime)return this.clone();const r=new wa,{start:n,end:o}=this;return n!=null&&(r.start=ST(n,e,t,i)),o!=null&&(r.end=ST(o,e,t,i)),r}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return XG.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new wa({start:t,end:i})}};b([$({type:Date,json:{write:{allowNull:!0}}})],qo.prototype,"end",void 0),b([qe("end")],qo.prototype,"readEnd",null),b([Ze("end")],qo.prototype,"writeEnd",null),b([$({readOnly:!0,json:{read:!1}})],qo.prototype,"isAllTime",null),b([$({readOnly:!0,json:{read:!1}})],qo.prototype,"isEmpty",null),b([$({type:Date,json:{write:{allowNull:!0}}})],qo.prototype,"start",void 0),b([qe("start")],qo.prototype,"readStart",null),b([Ze("start")],qo.prototype,"writeStart",null),qo=wa=b([ne("esri.TimeExtent")],qo);const XG=new qo,hCe=new qo({start:void 0,end:void 0}),rc=qo;let goe=0;const jh=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+goe++})}};return t=b([ne("esri.core.Identifiable")],t),t},TN=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:goe++})}};return t=b([ne("esri.core.Identifiable.NumericIdentifiable")],t),t};let QG=class extends jh(class{}){};QG=b([ne("esri.core.Identifiable")],QG);async function dCe(e){var r;const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await Ce(async()=>{const{fromItem:n}=await import("./portalLayers-BbsXOk2m.js").then(o=>o.p);return{fromItem:n}},__vite__mapDeps([127,128,129]),import.meta.url);try{return await i(t)}catch(n){const o=t==null?void 0:t.portalItem,c=(o==null?void 0:o.id)||"unset",f=((r=o==null?void 0:o.portal)==null?void 0:r.url)||yi.portalUrl;throw Le.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+f+"', id: '"+c+"')",n),n}}let pCe=0,nn=class extends dl.EventedMixin(jh(al)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new ci(-180,-90,180,90,At.WGS84),this.id=Date.now().toString(16)+"-layer-"+pCe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=At.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await Ce(async()=>{const{fromUrl:r}=await import("./arcgisLayers-Dn2ebwpA.js");return{fromUrl:r}},__vite__mapDeps([130,128,129]),import.meta.url)).fromUrl(i)}static fromPortalItem(t){return dCe(t)}initialize(){this.when().catch(t=>{Os(t)||Le.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Bn(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Vi(t,{query:{f:"json"},responseType:"json"})).data;throw new we("layer:no-attribution-data","Layer does not have attribution data")}};b([$({type:String})],nn.prototype,"attributionDataUrl",void 0),b([$({type:ci})],nn.prototype,"fullExtent",void 0),b([$({readOnly:!0})],nn.prototype,"hasAttributionData",null),b([$({type:String,clonable:!1})],nn.prototype,"id",void 0),b([$({type:Boolean,nonNullable:!0})],nn.prototype,"legendEnabled",void 0),b([$({type:["show","hide","hide-children"]})],nn.prototype,"listMode",void 0),b([$({type:Number,range:{min:0,max:1},nonNullable:!0})],nn.prototype,"opacity",void 0),b([$({clonable:!1})],nn.prototype,"parent",void 0),b([$({readOnly:!0})],nn.prototype,"parsedUrl",null),b([$({type:Boolean,readOnly:!0})],nn.prototype,"persistenceEnabled",void 0),b([$({type:Boolean})],nn.prototype,"popupEnabled",void 0),b([$({type:Boolean})],nn.prototype,"attributionVisible",void 0),b([$({type:At})],nn.prototype,"spatialReference",void 0),b([$({type:String})],nn.prototype,"title",void 0),b([$({readOnly:!0,json:{read:!1}})],nn.prototype,"type",void 0),b([$()],nn.prototype,"url",void 0),b([$({type:rc})],nn.prototype,"visibilityTimeExtent",void 0),b([$({type:Boolean,nonNullable:!0})],nn.prototype,"visible",void 0),nn=b([ne("esri.layers.Layer")],nn);const nx=nn;function AE(e,t,i){let r,n;if(e)for(let o=0,c=e.length;o<c;o++){if(r=e.at(o),(r==null?void 0:r[t])===i)return r;if((r==null?void 0:r.type)==="group"&&(n=AE(r.layers,t,i),n))return n}}const voe=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new st;const r=c=>{c.parent&&"remove"in c.parent&&c.parent.remove(c)},n=c=>{c.parent=this,this.layerAdded(c),c.type!=="elevation"&&c.type!=="base-elevation"||Le.getLogger(this).error(`Layer 'title:${c.title}, id:${c.id}' of type '${c.type}' is not supported as an operational layer and will therefore be ignored.`)},o=c=>{c.parent=null,this.layerRemoved(c)};this.addHandles([this.layers.on("before-add",c=>{if(c.item===this)return c.preventDefault(),void Le.getLogger(this).error("#add()","Cannot add layer to itself.");r(c.item)}),this.layers.on("after-add",c=>n(c.item)),this.layers.on("after-remove",c=>o(c.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",kp(i,this._get("layers")))}add(i,r){const n=this.layers;if(r=n.getNextIndex(r),i instanceof nx){const o=i;o.parent===this?this.reorder(o,r):n.add(o,r)}else Lp(i)?i.then(o=>{this.destroyed||this.add(o,r)}):Le.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const n=this.layers;let o=n.getNextIndex(r);i.slice().forEach(c=>{c.parent!==this?(n.add(c,o),o+=1):this.reorder(c,o)})}findLayerById(i){return AE(this.layers,"id",i)}findLayerByUid(i){return AE(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return b([$()],t.prototype,"layers",null),t=b([ne("esri.support.LayersMixin")],t),t};function jE(e,t,i){if(e)for(let r=0,n=e.length;r<n;r++){const o=e.at(r);if(o[t]===i)return o;if((o==null?void 0:o.type)==="group"){const c=jE(o.tables,t,i);if(c)return c}}}const boe=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new st,this.addHandles([this.tables.on("after-add",r=>{const n=r.item;n.parent&&n.parent!==this&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=this,n.type!=="feature"&&Le.getLogger(this).error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",kp(i,this._get("tables")))}findTableById(i){return jE(this.tables,"id",i)}findTableByUid(i){return jE(this.tables,"uid",i)}};return b([$()],t.prototype,"tables",null),t=b([ne("esri.support.TablesMixin")],t),t};let Ml=class extends boe(voe(dl.EventedMixin(vt))){constructor(t){super(t),this.allLayers=new Z0({getCollections:()=>{var i,r,n;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=foe(this),this.basemap=null,this.editableLayers=new Z0({getCollections:()=>[this.allLayers],itemFilterFunction:GTe}),this.ground=new U4,this._basemapCache=Zke()}destroy(){Xke(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=rr(this.basemap),rr(this.ground),this._set("ground",null)}castBasemap(t){return Qke(t,this._basemapCache)}castGround(t){return cCe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};b([$({readOnly:!0,dependsOn:[]})],Ml.prototype,"allLayers",void 0),b([$({readOnly:!0})],Ml.prototype,"allTables",void 0),b([$({type:dp,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Ml.prototype,"basemap",void 0),b([$i("basemap")],Ml.prototype,"castBasemap",null),b([$({readOnly:!0})],Ml.prototype,"editableLayers",void 0),b([$({type:U4,nonNullable:!0})],Ml.prototype,"ground",void 0),b([$i("ground")],Ml.prototype,"castGround",null),b([$()],Ml.prototype,"undoRedo",void 0),Ml=b([ne("esri.Map")],Ml);const woe=Ml;let G2=class extends st{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(st.ofType(this.itemType.Type))(t):new st(t)}};function PE(e,t){return{type:e,cast:Fse,set(i){const r=kp(i,this._get(t),e);r.owner=this,this._set(t,r)}}}b([$()],G2.prototype,"owner",null),G2=b([ne("esri.core.support.OwningCollection")],G2);var Mb;const G4=Rs()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),xoe=G4.jsonValues.slice();Z3e(xoe,"orthometric");const q2=Rs()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Tl=Mb=class extends Ne{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return G4.write(e,t,i)}readHeightModel(e,t,i){return G4.read(e)||(i!=null&&i.messages&&i.messages.push(fCe(e,{context:i})),null)}readHeightUnit(e,t,i){return q2.read(e)||(i!=null&&i.messages&&i.messages.push(eq(e,{context:i})),null)}readHeightUnitService(e,t,i){return ere(e)||q2.read(e)||(i!=null&&i.messages&&i.messages.push(eq(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Mb({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=M9e(t);return new Mb({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Mb;return t.read(e,{origin:"web-scene"}),t}};function eq(e,t){return new sl("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function fCe(e,t){return new sl("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}b([$({type:G4.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:xoe,default:"ellipsoidal"}}}})],Tl.prototype,"heightModel",void 0),b([Ze("web-scene","heightModel")],Tl.prototype,"writeHeightModel",null),b([qe(["web-scene","service"],"heightModel")],Tl.prototype,"readHeightModel",null),b([$({type:q2.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:q2.jsonValues,write:q2.write}}}})],Tl.prototype,"heightUnit",void 0),b([qe("web-scene","heightUnit")],Tl.prototype,"readHeightUnit",null),b([qe("service","heightUnit")],Tl.prototype,"readHeightUnitService",null),b([$({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Tl.prototype,"vertCRS",void 0),b([qe("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Tl.prototype,"readVertCRS",null),Tl=Mb=b([ne("esri.geometry.HeightModelInfo")],Tl);const $7=Tl;let q4=class extends G2{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(Le.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};q4=b([ne("esri.support.AnalysesCollection")],q4);async function _oe(e,t){const{WhereClause:i}=await Ce(()=>import("./WhereClause-D-DSzeYF.js").then(r=>r.W),__vite__mapDeps([19,20]),import.meta.url);return i.create(e,t)}function yCe(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function Awt(e){return typeof e=="number"}function kN(e){return typeof e=="string"||e instanceof String}const mCe="yyyy-MM-dd",gCe="TT";var W2;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(W2||(W2={}));const vCe=[W2.HMS_MS,W2.HMS,W2.HM,gCe];function tq(e){if(!e||!kN(e))return null;const t=Bt.fromFormat(e,mCe);return t.isValid?t:null}function iq(e){return e&&kN(e)?Pw(vCe,t=>{const i=Bt.fromFormat(e,t);return i.isValid?i:null})??null:null}function rq(e){if(!e||!kN(e))return null;const t=Bt.fromISO(e);return t.isValid?t:null}var pg;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(pg||(pg={}));const bCe=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function wCe(e){return e!=null&&bCe.has(e.type)}function Soe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function $oe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Moe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function xCe(e,t,i){const r=e==null?void 0:e.domain;if(!r)return null;switch(r.type){case"range":{const{min:n,max:o}=_Ce(e);if(n!=null&&+t<n||o!=null&&+t>o)return pg.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(n=>n==null||n.code!==t))return pg.INVALID_CODED_VALUE}return null}function _Ce(e,t){const i=e==null?void 0:e.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,o=wCe(e);return Soe(e)||Moe(e)||$oe(e)?{...SCe(e,n,r),isInteger:o}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:o}}function SCe(e,t,i){var r,n,o,c,f,g;return Soe(e)?{min:(r=tq(i))==null?void 0:r.toMillis(),max:(n=tq(t))==null?void 0:n.toMillis(),rawMin:i,rawMax:t}:Moe(e)?{min:(o=iq(i))==null?void 0:o.toMillis(),max:(c=iq(t))==null?void 0:c.toMillis(),rawMin:i,rawMax:t}:$oe(e)?{min:(f=rq(i))==null?void 0:f.toMillis(),max:(g=rq(t))==null?void 0:g.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}const $Ce=()=>Le.getLogger("esri.support.arcadeOnDemand");let $T;function e1(){return $T||($T=(async()=>{const e=await Ce(()=>import("./arcadeUtils-DN-gd975.js").then(t=>t.aN),__vite__mapDeps([131,20,132,22,13,10,11,14]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),$T}const MCe=(e,t,i)=>Toe.create(e,t,i,null,["$feature","$view"],[]),TCe=(e,t,i,r)=>Toe.create(e,t,i,r,["$feature","$view"],[]);let Toe=class koe{constructor(t,i,r,n,o,c,f){this.services=null,this.script=t,this.evaluate=n;const g=Array.isArray(c)?c:c==null?void 0:c.fields;this.fields=g??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=o,this._spatialReference=f,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,r,n,o,c){const{arcade:f,Feature:g,Dictionary:v}=await e1(),_=At.fromJSON(i);let M;try{M=f.parseScript(t,c)}catch(re){return $Ce().error(new we("arcade-bad-expression","Failed to parse arcade script",{script:t,error:re})),null}const T=o.reduce((re,q)=>({...re,[q]:null}),{});let E=null;n!=null&&(E=new v(n),E.immutable=!0,T.$config=null);const j=f.scriptUsesGeometryEngine(M),R=j&&f.enableGeometrySupport(),N=f.scriptUsesFeatureSet(M)&&f.enableFeatureSetSupport(),F=f.scriptIsAsync(M),V=F&&f.enableAsyncSupport(),z={vars:T,spatialReference:_,useAsync:!!V};await Promise.all([R,N,V]);const G=new Set;await f.loadDependentModules(G,M,null,F,j);const H=new v;H.immutable=!1,H.setField("scale",0);const Z=f.compileScript(M,z),Y=(re,q)=>{var ee;const W=(ee=re.$view)==null?void 0:ee.timeZone;return"$view"in re&&re.$view&&(H.setField("scale",typeof re.$view=="object"&&"scale"in re.$view?re.$view.scale:void 0),re.$view=H),E&&(re.$config=E),Z({vars:re,spatialReference:_,services:q,timeZone:W})};return new koe(t,f,M,Y,new g,r,_)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const kCe=/^([0-9_])/,CCe=/[^a-z0-9_\u0080-\uffff]+/gi;function ICe(e){return e==null?null:e.trim().replaceAll(CCe,"_").replace(kCe,"F$1")||null}const ECe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],ACe=["field","normalizationField"];function nq(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(sq(ECe,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)sq(ACe,r,t)}}function sq(e,t,i){if(e)for(const r of e){const n=D3(r,t),o=n&&typeof n!="function"&&i.get(n);o&&As(r,o.name,t)}}function Coe(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(n==null?void 0:n.name)??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(n==null?void 0:n.name)??null}}const MT=new Set;function M7(e,t){return e&&t?(MT.clear(),t1(MT,e,t),Array.from(MT).sort()):[]}function t1(e,t,i){var r;if(i)if((r=t==null?void 0:t.fields)!=null&&r.length)if(i.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of i)to(e,t,n);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const n of i)n!=null&&e.add(n)}}function to(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function jwt(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function Pwt(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=M7(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Ps(e,t,i){var o;if(!i)return;const{arcadeUtils:r}=await e1(),n=r.extractFieldNames(i,(o=t==null?void 0:t.fields)==null?void 0:o.map(c=>c.name));for(const c of n)to(e,t,c)}async function Ioe(e,t,i){if(i&&i!=="1=1"){const r=await _oe(i,t);if(!r.isStandardized)throw new we("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});t1(e,t,r.fieldNames)}}function jCe({displayField:e,fields:t}){return e||(t!=null&&t.length?TT(t,"name-or-title")||TT(t,"unique-identifier")||TT(t,"type-or-category")||PCe(t):null)}function PCe(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function TT(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function Owt(e,t){var r;if(!t)return;const i=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function OCe(e,t,i){i.onStatisticExpression?Ps(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function Rwt(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(RCe(e,t,n)),i.fields&&r.push(...i.fields.map(async o=>OCe(e,t.fieldsIndex,o))),await Promise.all(r)}async function RCe(e,t,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(o=>Ps(e,t.fieldsIndex,o.expression)));const n=i==null?void 0:i.content;if(Array.isArray(n))for(const o of n)o.type==="expression"&&o.expressionInfo&&r.push(Ps(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(r)}async function Lwt(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&t1(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&t1(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await Ioe(e,t.fieldsIndex,i.where))}async function Nwt(e,t,i){t&&i&&await Promise.all(i.map(r=>LCe(e,t,r)))}async function LCe(e,t,i){t&&i&&(i.valueExpression?await Ps(e,t.fieldsIndex,i.valueExpression):i.field&&to(e,t.fieldsIndex,i.field))}function Fwt(e){return e?M7(e.fieldsIndex,Eoe(e)):[]}function NCe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?M7(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const FCe=new Set(["oid","global-id","guid"]),DCe=new Set(["oid","global-id"]),zCe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function VCe(e){const t=new Set;Aoe(e).forEach(r=>t.add(r)),NCe(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function Eoe(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:o}=t;return[i,r,n,o].filter(Boolean)}function Aoe(e){return Eoe(e).map(t=>t.toLowerCase())}function BCe(e,t){var i;return e.editable&&!FCe.has(e.type)&&!Aoe(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function UCe(e,t){var r;const i=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||VCe(t).includes(i)||DCe.has(e.type)||zCe.some(n=>n.test(i)))}async function Dwt(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i!=null&&i.length&&await Promise.all(i.map(n=>GCe(e,r,n)))}async function GCe(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await Ps(e,t,r.expression);else{const o=r.expression.match(/{[^}]*}/g);o&&o.forEach(c=>{to(e,t,c.slice(1,-1))})}await Ioe(e,t,n)}function qCe(e){const t=e.defaultValue;return t!==void 0&&Ooe(e,t)?t:e.nullable?null:void 0}function zwt(e){const t=typeof e=="string"?{type:e}:e;return rIe(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function joe(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function WCe(e){return e===null||joe(e)}function HCe(e){return e===null||Number.isInteger(e)}function Poe(e){return e!=null&&typeof e=="string"}function JCe(e){return e===null||Poe(e)}function KCe(){return!0}function Ooe(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?HCe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?WCe:joe;break;case"string":case"esriFieldTypeString":i=e.nullable?JCe:Poe;break;default:i=KCe}return arguments.length===1?i:i(t)}const YCe=["integer","small-integer","big-integer"],ZCe=["single","double"],XCe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],QCe=["esriFieldTypeSingle","esriFieldTypeDouble"],eIe=new Set([...YCe,...XCe]),tIe=new Set([...ZCe,...QCe]),iIe=Rte(eIe,tIe);function Roe(e){return e!=null&&iIe.has(e.type)}function rIe(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function nIe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function Vwt(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function Bwt(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function sIe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function oq(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function aq(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function Uwt(e,t){return oIe(e,t)===null}var W4,H4;function Gwt(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function oIe(e,t){return e==null||e.nullable&&t===null?null:Roe(e)&&!aIe(e.type,Number(t))?W4.OUT_OF_RANGE:Ooe(e,t)?e.domain?xCe(e,t):null:H4.INVALID_TYPE}function aIe(e,t){const i=typeof e=="string"?Loe(e):e;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=n:t>=r&&t<=n}function Loe(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return lIe;case"esriFieldTypeInteger":case"integer":return uIe;case"esriFieldTypeBigInteger":case"big-integer":return cIe;case"esriFieldTypeSingle":case"single":return hIe;case"esriFieldTypeDouble":case"double":return dIe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(W4||(W4={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(H4||(H4={}));const lIe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},uIe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},cIe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},hIe={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},dIe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function qwt(e,t,i){switch(e){case pg.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case pg.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case H4.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case W4.OUT_OF_RANGE:{const{min:r,max:n}=Loe(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${n}`}}}function Wwt(e,t){return!pIe(e,t,null)}function pIe(e,t,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let n=!1;for(const o of e)if(!r.has(o)&&(n=!0,i==null))break;return n}function fIe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Noe(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let vS=class extends Ne{constructor(t){super(t),this.type=null}};b([$({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],vS.prototype,"type",void 0),vS=b([ne("esri.popup.content.Content")],vS);const zp=vS;var OE;let gf=OE=class extends zp{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new OE({description:this.description,displayType:this.displayType,title:this.title})}};b([$({type:String,json:{write:!0}})],gf.prototype,"description",void 0),b([$({type:["auto","preview","list"],json:{write:!0}})],gf.prototype,"displayType",void 0),b([$({type:String,json:{write:!0}})],gf.prototype,"title",void 0),b([$({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],gf.prototype,"type",void 0),gf=OE=b([ne("esri.popup.content.AttachmentsContent")],gf);const Ww=gf;var RE;let vf=RE=class extends zp{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new RE({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?be(this.outFields):null})}};b([$()],vf.prototype,"creator",void 0),b([$()],vf.prototype,"destroyer",void 0),b([$()],vf.prototype,"outFields",void 0),b([$({type:["custom"],readOnly:!0})],vf.prototype,"type",void 0),vf=RE=b([ne("esri.popup.content.CustomContent")],vf);const yIe=vf;var LE;let cy=LE=class extends Ne{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new LE({title:this.title,expression:this.expression})}};b([$({type:String,json:{write:!0}})],cy.prototype,"title",void 0),b([$({type:String,json:{write:!0}})],cy.prototype,"expression",void 0),b([$({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],cy.prototype,"returnType",void 0),cy=LE=b([ne("esri.popup.ElementExpressionInfo")],cy);const mIe=cy;var NE;let Tb=NE=class extends zp{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new NE({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};b([$({type:mIe,json:{write:!0}})],Tb.prototype,"expressionInfo",void 0),b([$({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Tb.prototype,"type",void 0),Tb=NE=b([ne("esri.popup.content.ExpressionContent")],Tb);const CN=Tb;let hy=class extends sr(Ne){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};b([Ct(h7e)],hy.prototype,"dateFormat",void 0),b([$({type:Boolean,json:{write:!0}})],hy.prototype,"digitSeparator",void 0),b([$({type:zi,json:{write:!0}})],hy.prototype,"places",void 0),hy=b([ne("esri.popup.support.FieldInfoFormat")],hy);const bS=hy;var FE;let kl=FE=class extends Ne{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new FE({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};b([$({type:String,json:{write:!0}})],kl.prototype,"fieldName",void 0),b([$({type:bS,json:{write:!0}})],kl.prototype,"format",void 0),b([$({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],kl.prototype,"isEditable",void 0),b([$({type:String,json:{write:!0}})],kl.prototype,"label",void 0),b([Ct(new oi({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],kl.prototype,"stringFieldOption",void 0),b([$({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],kl.prototype,"statisticType",void 0),b([$({type:String,json:{write:!0}})],kl.prototype,"tooltip",void 0),b([$({type:Boolean,json:{write:!0}})],kl.prototype,"visible",void 0),kl=FE=b([ne("esri.popup.FieldInfo")],kl);const IN=kl;var DE;let Ic=DE=class extends zp{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new DE(be({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};b([$({type:Object,json:{write:!0}})],Ic.prototype,"attributes",void 0),b([$({type:String,json:{write:!0}})],Ic.prototype,"description",void 0),b([$({type:[IN]})],Ic.prototype,"fieldInfos",void 0),b([Ze("fieldInfos")],Ic.prototype,"writeFieldInfos",null),b([$({type:String,json:{write:!0}})],Ic.prototype,"title",void 0),b([$({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Ic.prototype,"type",void 0),Ic=DE=b([ne("esri.popup.content.FieldsContent")],Ic);const Hw=Ic;let bf=class extends Ne{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};b([$({type:String,json:{write:!0}})],bf.prototype,"altText",void 0),b([$({type:String,json:{write:!0}})],bf.prototype,"caption",void 0),b([$({type:String,json:{write:!0}})],bf.prototype,"title",void 0),b([$({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],bf.prototype,"type",void 0),bf=b([ne("esri.popup.content.mixins.MediaInfo")],bf);const EN=bf;var zE;let wf=zE=class extends vt{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new zE({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};b([$()],wf.prototype,"color",void 0),b([$()],wf.prototype,"fieldName",void 0),b([$()],wf.prototype,"tooltip",void 0),b([$()],wf.prototype,"value",void 0),wf=zE=b([ne("esri.popup.content.support.ChartMediaInfoValueSeries")],wf);const gIe=wf;var VE;let od=VE=class extends Ne{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new VE({colors:be(this.colors),fields:be(this.fields),normalizeField:this.normalizeField,series:be(this.series),tooltipField:this.tooltipField})}};b([$({type:[Lt],json:{type:[[zi]],write:!0}})],od.prototype,"colors",void 0),b([$({type:[String],json:{write:!0}})],od.prototype,"fields",void 0),b([$({type:String,json:{write:!0}})],od.prototype,"normalizeField",void 0),b([$({type:[gIe],json:{read:!1}})],od.prototype,"series",void 0),b([$({type:String,json:{write:!0}})],od.prototype,"tooltipField",void 0),od=VE=b([ne("esri.popup.content.support.ChartMediaInfoValue")],od);const vIe=od;let kb=class extends EN{constructor(t){super(t),this.type=null,this.value=void 0}};b([$({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],kb.prototype,"type",void 0),b([$({type:vIe,json:{write:!0}})],kb.prototype,"value",void 0),kb=b([ne("esri.popup.content.mixins.ChartMediaInfo")],kb);const T7=kb,k7=Rs()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var BE;let wS=BE=class extends T7{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new BE({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([$({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k7.write}})],wS.prototype,"type",void 0),wS=BE=b([ne("esri.popup.content.BarChartMediaInfo")],wS);const Foe=wS;var UE;let xS=UE=class extends T7{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new UE({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([$({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k7.write}})],xS.prototype,"type",void 0),xS=UE=b([ne("esri.popup.content.ColumnChartMediaInfo")],xS);const Doe=xS;var GE;let Cb=GE=class extends Ne{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new GE({linkURL:this.linkURL,sourceURL:this.sourceURL})}};b([$({type:String,json:{write:!0}})],Cb.prototype,"linkURL",void 0),b([$({type:String,json:{write:!0}})],Cb.prototype,"sourceURL",void 0),Cb=GE=b([ne("esri.popup.content.support.ImageMediaInfoValue")],Cb);const bIe=Cb;var qE;let dy=qE=class extends EN{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new qE({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};b([$({type:Number,json:{write:!0}})],dy.prototype,"refreshInterval",void 0),b([$({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],dy.prototype,"type",void 0),b([$({type:bIe,json:{write:!0}})],dy.prototype,"value",void 0),dy=qE=b([ne("esri.popup.content.ImageMediaInfo")],dy);const zoe=dy;var WE;let _S=WE=class extends T7{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new WE({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([$({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k7.write}})],_S.prototype,"type",void 0),_S=WE=b([ne("esri.popup.content.LineChartMediaInfo")],_S);const Voe=_S;var HE;let SS=HE=class extends T7{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new HE({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([$({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:k7.write}})],SS.prototype,"type",void 0),SS=HE=b([ne("esri.popup.content.PieChartMediaInfo")],SS);const Boe=SS,Uoe={base:EN,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Foe,"column-chart":Doe,"line-chart":Voe,"pie-chart":Boe,image:zoe}};var JE;let Cl=JE=class extends zp{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?zoe.fromJSON(t):t.type==="barchart"?Foe.fromJSON(t):t.type==="columnchart"?Doe.fromJSON(t):t.type==="linechart"?Voe.fromJSON(t):t.type==="piechart"?Boe.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new JE(be({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};b([$()],Cl.prototype,"activeMediaInfoIndex",void 0),b([$({type:Object,json:{write:!0}})],Cl.prototype,"attributes",void 0),b([$({type:String,json:{write:!0}})],Cl.prototype,"description",void 0),b([$({types:[Uoe]})],Cl.prototype,"mediaInfos",void 0),b([qe("mediaInfos")],Cl.prototype,"readMediaInfos",null),b([Ze("mediaInfos")],Cl.prototype,"writeMediaInfos",null),b([$({type:String,json:{write:!0}})],Cl.prototype,"title",void 0),b([$({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Cl.prototype,"type",void 0),Cl=JE=b([ne("esri.popup.content.MediaContent")],Cl);const J4=Cl;var KE;let Ib=KE=class extends Ne{constructor(e){super(e),this.field=null,this.order=null}clone(){return new KE({field:this.field,order:this.order})}};b([$({type:String,json:{write:!0}})],Ib.prototype,"field",void 0),b([$({type:["asc","desc"],json:{write:!0}})],Ib.prototype,"order",void 0),Ib=KE=b([ne("esri.popup.support.RelatedRecordsInfoFieldOrder")],Ib);const AN=Ib;let gu=class extends sr(zp){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};b([$({type:String,json:{write:!0}})],gu.prototype,"description",void 0),b([$({type:Number,json:{type:zi,write:!0}})],gu.prototype,"displayCount",void 0),b([$({type:["list"],json:{write:!0}})],gu.prototype,"displayType",void 0),b([$({type:[AN],json:{write:!0}})],gu.prototype,"orderByFields",void 0),b([$({type:Number,json:{type:zi,write:!0}})],gu.prototype,"relationshipId",void 0),b([$({type:String,json:{write:!0}})],gu.prototype,"title",void 0),b([$({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],gu.prototype,"type",void 0),gu=b([ne("esri.popup.content.RelationshipContent")],gu);const K4=gu;var YE;let Eb=YE=class extends zp{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new YE({text:this.text})}};b([$({type:String,json:{write:!0}})],Eb.prototype,"text",void 0),b([$({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Eb.prototype,"type",void 0),Eb=YE=b([ne("esri.popup.content.TextContent")],Eb);const Y4=Eb,wIe={base:null,key:"type",typeMap:{attachment:Ww,media:J4,text:Y4,expression:CN,field:Hw,relationship:K4}};var ZE;let xf=ZE=class extends Ne{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ZE({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([$({type:String,json:{write:!0}})],xf.prototype,"name",void 0),b([$({type:String,json:{write:!0}})],xf.prototype,"title",void 0),b([$({type:String,json:{write:!0}})],xf.prototype,"expression",void 0),b([$({type:["string","number"],json:{write:!0}})],xf.prototype,"returnType",void 0),xf=ZE=b([ne("esri.popup.ExpressionInfo")],xf);const xIe=xf;var XE;let Ab=XE=class extends Ne{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new XE({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};b([$({type:Boolean,json:{write:!0}})],Ab.prototype,"returnTopmostRaster",void 0),b([$({type:Boolean,json:{write:!0}})],Ab.prototype,"showNoDataRecords",void 0),Ab=XE=b([ne("esri.popup.LayerOptions")],Ab);const _Ie=Ab;var QE;let jb=QE=class extends Ne{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new QE({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?be(this.orderByFields):null})}};b([$({type:Boolean,json:{write:!0}})],jb.prototype,"showRelatedRecords",void 0),b([$({type:[AN],json:{write:!0}})],jb.prototype,"orderByFields",void 0),jb=QE=b([ne("esri.popup.RelatedRecordsInfo")],jb);const SIe=jb;var eA;let xa=eA=class extends jh(vt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new eA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};b([$()],xa.prototype,"active",void 0),b([$()],xa.prototype,"className",void 0),b([$()],xa.prototype,"disabled",void 0),b([$()],xa.prototype,"icon",void 0),b([$()],xa.prototype,"id",void 0),b([$()],xa.prototype,"indicator",void 0),b([$()],xa.prototype,"title",void 0),b([$()],xa.prototype,"type",void 0),b([$()],xa.prototype,"visible",void 0),xa=eA=b([ne("esri.support.actions.ActionBase")],xa);const sx=xa;var tA;let $S=tA=class extends sx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new tA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};b([$()],$S.prototype,"image",void 0),$S=tA=b([ne("esri.support.actions.ActionButton")],$S);const Goe=$S;var iA;let Pb=iA=class extends sx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new iA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};b([$()],Pb.prototype,"image",void 0),b([$()],Pb.prototype,"value",void 0),Pb=iA=b([ne("esri.support.actions.ActionToggle")],Pb);const qoe=Pb,Nv="relationships/",lq="expression/",$Ie=st.ofType({key:"type",defaultKeyValue:"button",base:sx,typeMap:{button:Goe,toggle:qoe}}),MIe={base:zp,key:"type",typeMap:{media:J4,custom:yIe,text:Y4,attachments:Ww,fields:Hw,expression:CN,relationship:K4}},TIe=new Set(["attachments","fields","media","text","expression","relationship"]);let _n=class extends sr(Ne){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Qu(MIe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Lp(t)?t:(Le.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeContent(t,i,r,n){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(o=>TIe.has(o.type)).map(o=>o==null?void 0:o.toJSON(n)),i.popupElements.forEach(o=>{o.type==="attachments"?this._writeAttachmentContent(i):o.type==="media"?this._writeMediaContent(o,i):o.type==="text"?this._writeTextContent(o,i):o.type==="relationship"&&this._writeRelationshipContent(o,i)})):i.description=t}writeFieldInfos(t,i,r,n){const{content:o}=this,c=Array.isArray(o)?o:null;if(t){const f=c?c.filter(v=>v.type==="fields"):[],g=f.length&&f.every(v=>{var _;return(_=v.fieldInfos)==null?void 0:_.length});i.fieldInfos=t.filter(Boolean).map(v=>{const _=v.toJSON(n);return g&&(_.visible=!1),_})}if(c)for(const f of c)f.type==="fields"&&this._writeFieldsContent(f,i)}writeLayerOptions(t,i,r,n){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),t1(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=be(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(n=>{const o=i.fieldInfos.find(c=>{var f,g;return((f=c.fieldName)==null?void 0:f.toLowerCase())===((g=n.fieldName)==null?void 0:g.toLowerCase())});o?o.visible=!0:i.fieldInfos.push(n)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var o,c;const r=((o=t.orderByFields)==null?void 0:o.map(f=>this._toFieldOrderJSON(f,t.relationshipId)))||[],n=[...((c=i.relatedRecordsInfo)==null?void 0:c.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(n==null?void 0:n.length)&&{orderByFields:n}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=be(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const n={description:!1,mediaInfos:!1};return r.map(o=>o.type==="media"?(o.mediaInfos||!i||n.mediaInfos||(o.mediaInfos=i,n.mediaInfos=!0),J4.fromJSON(o)):o.type==="text"?(o.text||!t||n.description||(o.text=t,n.description=!0),Y4.fromJSON(o)):o.type==="attachments"?Ww.fromJSON(o):o.type==="fields"?Hw.fromJSON(o):o.type==="expression"?CN.fromJSON(o):o.type==="relationship"?K4.fromJSON(o):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!(i!=null&&i.startsWith(Nv)))return null;const n=i.replace(Nv,"").split("/");if(n.length!==2)return null;const o=parseInt(n[0],10),c=n[1];return typeof o=="number"&&c?K4.fromJSON({relationshipId:o,orderByFields:[{field:c,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:n}=t;return{field:`${Nv}${i}/${n}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const o=[];t?o.push(new Y4({text:t})):o.push(new Hw),Array.isArray(i)&&i.length&&o.push(J4.fromJSON({mediaInfos:i})),r&&o.push(Ww.fromJSON({displayType:"auto"}));const{showRelatedRecords:c,orderByFields:f}=n;return c&&(f!=null&&f.length)&&f.forEach(g=>{const v=this._toRelationshipContent(g);v&&o.push(v)}),o.length?o:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((n,o)=>[...n,...this._getMediaInfoFields(o)],[])]}return i==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:i,title:r,value:n}=t,o=n||{},{fields:c,normalizeField:f,tooltipField:g,sourceURL:v,linkURL:_}=o,M=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(v),...this._extractFieldNames(_),...c??[]];return f&&M.push(f),g&&M.push(g),M}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(n=>Ps(t,i,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Nv)||i.startsWith(lq))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:n}=t,o=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(o)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Noe(t).filter(i=>!(i.indexOf(Nv)===0||i.indexOf(lq)===0))}};b([$({type:$Ie})],_n.prototype,"actions",void 0),b([$()],_n.prototype,"content",void 0),b([$i("content")],_n.prototype,"castContent",null),b([qe("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],_n.prototype,"readContent",null),b([Ze("content",{popupElements:{type:st.ofType(wIe)},showAttachments:{type:Boolean},mediaInfos:{type:st.ofType(Uoe)},description:{type:String},relatedRecordsInfo:{type:SIe}})],_n.prototype,"writeContent",null),b([$({type:[xIe],json:{write:!0}})],_n.prototype,"expressionInfos",void 0),b([$({type:[IN]})],_n.prototype,"fieldInfos",void 0),b([Ze("fieldInfos")],_n.prototype,"writeFieldInfos",null),b([$({type:_Ie})],_n.prototype,"layerOptions",void 0),b([Ze("layerOptions")],_n.prototype,"writeLayerOptions",null),b([$({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],_n.prototype,"lastEditInfoEnabled",void 0),b([$()],_n.prototype,"outFields",void 0),b([$()],_n.prototype,"overwriteActions",void 0),b([$()],_n.prototype,"returnGeometry",void 0),b([$({json:{type:String}})],_n.prototype,"title",void 0),b([Ze("title")],_n.prototype,"writeTitle",null),_n=b([ne("esri.PopupTemplate")],_n);const Vp=_n,uq=new oi({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let kIe=0,py=class extends Ne{constructor(t){super(t),this.id="sym"+kIe++,this.type=null,this.color=new Lt([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};b([$({type:uq.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:uq.write}}})],py.prototype,"type",void 0),b([$({type:Lt,json:{write:{allowNull:!0}}})],py.prototype,"color",void 0),b([qe("color")],py.prototype,"readColor",null),py=b([ne("esri.symbols.Symbol")],py);const as=py;var rA;let ad=rA=class extends as{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(o=>{const c=o.valueExpressionInfo;return c?Ps(e,t,c.expression):null});await Promise.all(n)}}}clone(){return new rA({data:be(this.data)})}hash(){return pte(JSON.stringify(this.data)).toString()}};b([$({json:{write:!1}})],ad.prototype,"color",void 0),b([$({json:{write:!0}})],ad.prototype,"data",void 0),b([qe("data",["symbol"])],ad.prototype,"readData",null),b([Ze("data",{})],ad.prototype,"writeData",null),b([Ct({CIMSymbolReference:"cim"},{readOnly:!0})],ad.prototype,"type",void 0),ad=rA=b([ne("esri.symbols.CIMSymbol")],ad);const Bp=ad;let fy=class extends Ne{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};b([$({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],fy.prototype,"enabled",void 0),b([Ze("enabled")],fy.prototype,"writeEnabled",null),b([$({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],fy.prototype,"type",void 0),fy=b([ne("esri.symbols.Symbol3DLayer")],fy);const uc=fy;function CIe(e,t){const i=t.transparency!=null?qw(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new Lt([r[0]||0,r[1]||0,r[2]||0,i]):null}function IIe(e,t){t.color=e.toJSON().slice(0,3);const i=x7(e.a);i!==0&&(t.transparency=i)}const Up={type:Lt,json:{type:[zi],default:null,read:{source:["color","transparency"],reader:CIe},write:{target:{color:{type:[zi]},transparency:{type:zi}},writer:IIe}}},nc={type:Number,cast:wi,json:{write:!0}};let _f=class extends Ne{constructor(t){super(t),this.color=new Lt([0,0,0,1]),this.extensionLength=0,this.size=ll(1)}clone(){}cloneProperties(){return{color:be(this.color),size:this.size,extensionLength:this.extensionLength}}};b([$({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],_f.prototype,"type",void 0),b([$(Up)],_f.prototype,"color",void 0),b([$({...nc,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],_f.prototype,"extensionLength",void 0),b([$(nc)],_f.prototype,"size",void 0),_f=b([ne("esri.symbols.edges.Edges3D")],_f);const jN=_f;var nA;let MS=nA=class extends jN{constructor(e){super(e),this.type="sketch"}clone(){return new nA(this.cloneProperties())}};b([Ct({sketch:"sketch"},{readOnly:!0})],MS.prototype,"type",void 0),MS=nA=b([ne("esri.symbols.edges.SketchEdges3D")],MS);const EIe=MS;var sA;let TS=sA=class extends jN{constructor(e){super(e),this.type="solid"}clone(){return new sA(this.cloneProperties())}};b([Ct({solid:"solid"},{readOnly:!0})],TS.prototype,"type",void 0),TS=sA=b([ne("esri.symbols.edges.SolidEdges3D")],TS);const Woe=TS,Hoe={types:{key:"type",base:jN,typeMap:{solid:Woe,sketch:EIe}},json:{write:!0}};var oA;let el=oA=class extends Ne{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new oA(e)}};b([$(Up)],el.prototype,"color",void 0),el=oA=b([ne("esri.symbols.support.Symbol3DMaterial")],el);var aA;let ld=aA=class extends uc{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new aA({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};b([Ct({Extrude:"extrude"},{readOnly:!0})],ld.prototype,"type",void 0),b([$({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ld.prototype,"size",void 0),b([$({type:el,json:{write:!0}})],ld.prototype,"material",void 0),b([$({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ld.prototype,"castShadows",void 0),b([$(Hoe)],ld.prototype,"edges",void 0),ld=aA=b([ne("esri.symbols.ExtrudeSymbol3DLayer")],ld);const Joe=ld;let Ob=class extends as{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};b([Ct({esriSLS:"simple-line"},{readOnly:!0})],Ob.prototype,"type",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],Ob.prototype,"width",void 0),Ob=b([ne("esri.symbols.LineSymbol")],Ob);const AIe=Ob,jIe=["begin","end","begin-end"],Koe=["arrow","circle","square","diamond","cross","x"];var lA;let vu=lA=class extends Ne{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){(r==null?void 0:r.origin)==="web-map"||(t[i]=e)}clone(){return new lA({color:be(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};b([$({type:["begin","end","begin-end"],json:{write:!0}})],vu.prototype,"placement",void 0),b([Ct({"line-marker":"line-marker"},{readOnly:!0}),$({json:{origins:{"web-map":{write:!1}}}})],vu.prototype,"type",void 0),b([$({type:Koe})],vu.prototype,"style",void 0),b([Ze("style")],vu.prototype,"writeStyle",null),b([$({type:Lt,value:null,json:{write:{allowNull:!0}}})],vu.prototype,"color",null),b([qe("color")],vu.prototype,"readColor",null),b([Ze("color")],vu.prototype,"writeColor",null),vu=lA=b([ne("esri.symbols.LineSymbolMarker")],vu);const PIe=vu;var uA;const kT=new oi({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Ec=uA=class extends AIe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,n,o){if(e&&typeof e!="string")return e;const c={};return e!=null&&(c.style=e),t!=null&&(c.color=t),i!=null&&(c.width=wi(i)),r!=null&&(c.cap=r),n!=null&&(c.join=n),o!=null&&(c.miterLimit=wi(o)),c}clone(){var e;return new uA({color:be(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};b([Ct({esriSLS:"simple-line"},{readOnly:!0})],Ec.prototype,"type",void 0),b([$({type:kT.apiValues,json:{read:kT.read,write:kT.write}})],Ec.prototype,"style",void 0),b([$({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Ec.prototype,"cap",void 0),b([$({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],Ec.prototype,"join",void 0),b([$({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":PIe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ec.prototype,"marker",void 0),b([$({type:Number,json:{read:!1,write:!1}})],Ec.prototype,"miterLimit",void 0),Ec=uA=b([ne("esri.symbols.SimpleLineSymbol")],Ec);const Ao=Ec;let Rb=class extends as{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};b([$({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ao}},json:{default:null,write:!0}})],Rb.prototype,"outline",void 0),b([$({type:["simple-fill","picture-fill"],readOnly:!0})],Rb.prototype,"type",void 0),Rb=b([ne("esri.symbols.FillSymbol")],Rb);const Yoe=Rb;let kS=class extends Ne{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};b([$({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],kS.prototype,"type",void 0),kS=b([ne("esri.symbols.patterns.LinePattern3D")],kS);const Zoe=kS,OIe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var cA;const RIe=Rs()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Lb=cA=class extends Zoe{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new cA(e)}};b([$({type:["style"]})],Lb.prototype,"type",void 0),b([Ct(RIe),$({type:OIe})],Lb.prototype,"style",void 0),Lb=cA=b([ne("esri.symbols.patterns.LineStylePattern3D")],Lb);const PN=Lb;let CS=class extends Ne{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};b([$({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],CS.prototype,"type",void 0),CS=b([ne("esri.symbols.patterns.Pattern3D")],CS);const Xoe=CS,LIe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var hA;let Nb=hA=class extends Xoe{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new hA({style:this.style})}};b([$({type:["style"]})],Nb.prototype,"type",void 0),b([$({type:LIe,json:{read:!0,write:!0}})],Nb.prototype,"style",void 0),Nb=hA=b([ne("esri.symbols.patterns.StylePattern3D")],Nb);const Qoe=Nb,NIe={types:{key:"type",base:Xoe,typeMap:{style:Qoe}},json:{write:!0}},eae={types:{key:"type",base:Zoe,typeMap:{style:PN}},json:{write:!0}},H2=new Lt("white");new Lt("black");const FIe=new Lt([255,255,255,0]);function DIe(e){return e.r===0&&e.g===0&&e.b===0}var dA;let J2=dA=class extends el{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new dA(e)}};b([Ct({multiply:"multiply",replace:"replace",tint:"tint"})],J2.prototype,"colorMixMode",void 0),J2=dA=b([ne("esri.symbols.support.Symbol3DFillMaterial")],J2);function ON(e=GIe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function RN(e,t,i,r,n,o,c=ON()){return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=o,c}function o3t(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new ci(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function a3t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function l3t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function u3t(e,t,i=0,r=t.length/3){let n=e[0],o=e[1],c=e[2],f=e[3],g=e[4],v=e[5];for(let _=0;_<r;_++)n=Math.min(n,t[i+3*_]),o=Math.min(o,t[i+3*_+1]),c=Math.min(c,t[i+3*_+2]),f=Math.max(f,t[i+3*_]),g=Math.max(g,t[i+3*_+1]),v=Math.max(v,t[i+3*_+2]);e[0]=n,e[1]=o,e[2]=c,e[3]=f,e[4]=g,e[5]=v}function zIe(e){return e[0]>=e[3]?0:e[3]-e[0]}function VIe(e){return e[1]>=e[4]?0:e[4]-e[1]}function BIe(e){return e[2]>=e[5]?0:e[5]-e[2]}function c3t(e,t=[0,0,0]){return t[0]=zIe(e),t[1]=VIe(e),t[2]=BIe(e),t}function h3t(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function d3t(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function UIe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function p3t(e){return e?UIe(e,hq):ON(hq)}function f3t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function y3t(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function cq(e){return e.length===6}function m3t(e,t,i){if(e==null||t==null)return e===t;if(!cq(e)||!cq(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const hq=[1/0,1/0,1/0,-1/0,-1/0,-1/0],GIe=[0,0,0,0,0,0];ON();const qIe=RN(-.5,-.5,-.5,.5,.5,.5),WIe=RN(-.5,-.5,0,.5,.5,1),HIe=RN(-.5,-.5,0,.5,.5,.5);function g3t(e){switch(e){case"sphere":case"cube":case"diamond":return qIe;case"cylinder":case"cone":case"inverted-cone":return WIe;case"tetrahedron":return HIe;default:return}}const LN=["butt","square","round"],JIe=[...LN,"none"],tae=["miter","bevel","round"];var pA;let Sf=pA=class extends Ne{constructor(e){super(e),this.color=new Lt([0,0,0,1]),this.size=ll(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new pA(e)}};b([$(Up)],Sf.prototype,"color",void 0),b([$(nc)],Sf.prototype,"size",void 0),b([$(eae)],Sf.prototype,"pattern",void 0),b([$({type:LN,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Sf.prototype,"patternCap",void 0),Sf=pA=b([ne("esri.symbols.support.Symbol3DOutline")],Sf);var IS;let Ac=IS=class extends uc{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new IS(e)}static fromSimpleFillSymbol(e){var r,n,o;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new PN({style:e.outline.style}):null,i={size:((r=e.outline)==null?void 0:r.width)??0,color:(((n=e.outline)==null?void 0:n.color)??H2).clone(),pattern:t};return t&&((o=e.outline)!=null&&o.cap)&&(i.patternCap=e.outline.cap),new IS({material:new J2({color:(e.color??FIe).clone()}),pattern:e.style&&e.style!=="solid"?new Qoe({style:e.style}):null,outline:i})}};b([Ct({Fill:"fill"},{readOnly:!0})],Ac.prototype,"type",void 0),b([$({type:J2,json:{write:!0}})],Ac.prototype,"material",void 0),b([$(NIe)],Ac.prototype,"pattern",void 0),b([$({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ac.prototype,"castShadows",void 0),b([$({type:Sf,json:{write:!0}})],Ac.prototype,"outline",void 0),b([$(Hoe)],Ac.prototype,"edges",void 0),Ac=IS=b([ne("esri.symbols.FillSymbol3DLayer")],Ac);const x1=Ac,KIe=["none","underline","line-through"],YIe=["normal","italic","oblique"],ZIe=["normal","lighter","bold","bolder"],iae={type:Number,cast:e=>{const t=La(e);return t===0?1:ol(t,.1,4)},nonNullable:!0},XIe=["left","right","center"],QIe=["baseline","top","middle","bottom"],rae={type:XIe,nonNullable:!0},nae={type:QIe,nonNullable:!0},v3t=8;var fA;let jc=fA=class extends Ne{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return wi(e)}clone(){return new fA({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};b([$({type:KIe,json:{default:"none",write:!0}})],jc.prototype,"decoration",void 0),b([$({type:String,json:{write:!0}})],jc.prototype,"family",void 0),b([$({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],jc.prototype,"size",void 0),b([$i("size")],jc.prototype,"castSize",null),b([$({type:YIe,json:{default:"normal",write:!0}})],jc.prototype,"style",void 0),b([$({type:ZIe,json:{default:"normal",write:!0}})],jc.prototype,"weight",void 0),jc=fA=b([ne("esri.symbols.Font")],jc);const C7=jc;var yA;const eEe=Rs()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let $f=yA=class extends Ne{constructor(e){super(e)}readHref(e,t,i){return e?Dg(e,i):t.dataURI}writeHref(e,t,i,r){e&&(g1(e)?t.dataURI=e:(t.href=rx(e,r),ea(t.href)&&(t.href=Za(t.href))))}clone(){return new yA({href:this.href,primitive:this.primitive})}};b([$({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],$f.prototype,"href",void 0),b([qe("href")],$f.prototype,"readHref",null),b([Ze("href",{href:{type:String},dataURI:{type:String}})],$f.prototype,"writeHref",null),b([Ct(eEe)],$f.prototype,"primitive",void 0),$f=yA=b([ne("esri.symbols.support.IconSymbol3DLayerResource")],$f);const b3t="circle";var mA;let am=mA=class extends vt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new mA({x:this.x,y:this.y})}};b([$({type:Number})],am.prototype,"x",void 0),b([$({type:Number})],am.prototype,"y",void 0),am=mA=b([ne("esri.symbols.support.Symbol3DAnchorPosition2D")],am);var gA;let Fb=gA=class extends Ne{constructor(e){super(e),this.color=new Lt([0,0,0,1]),this.size=ll(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new gA(e)}};b([$(Up)],Fb.prototype,"color",void 0),b([$(nc)],Fb.prototype,"size",void 0),Fb=gA=b([ne("esri.symbols.support.Symbol3DIconOutline")],Fb);var yy;const sae="esri.symbols.IconSymbol3DLayer";let bu=yy=class extends uc{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new yy({anchor:this.anchor,anchorPosition:be(this.anchorPosition),enabled:this.enabled,material:be(this.material),outline:be(this.outline),resource:be(this.resource),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||H2,i=dq(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||H2).clone()}:null;return new yy({size:e.size,resource:{primitive:iEe(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||DIe(e.color)?H2:e.color,i=dq(e);return new yy({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new yy({resource:{href:Oie({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};b([$({type:el,json:{write:!0}})],bu.prototype,"material",void 0),b([$({type:$f,json:{write:!0}})],bu.prototype,"resource",void 0),b([Ct({Icon:"icon"},{readOnly:!0})],bu.prototype,"type",void 0),b([$(nc)],bu.prototype,"size",void 0),b([Ct({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),$({json:{default:"center"}})],bu.prototype,"anchor",void 0),b([$({type:am,json:{type:[Number],read:{reader:e=>new am({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],bu.prototype,"anchorPosition",void 0),b([$({type:Fb,json:{write:!0}})],bu.prototype,"outline",void 0),bu=yy=b([ne(sae)],bu);const p0=bu;function dq(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=pq(e.xoffset),n=pq(e.yoffset);return(r||n)&&t&&i?{x:-r/t,y:n/i}:null}function pq(e){return isFinite(e)?e:0}const tEe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function iEe(e){return tEe[e]||(Le.getLogger(sae).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let Mf=class extends sr(Ne){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};b([$({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Mf.prototype,"type",void 0),b([$({type:jIe,json:{default:"begin-end",write:!0}})],Mf.prototype,"placement",void 0),b([$({type:Koe,json:{default:"arrow",write:!0}})],Mf.prototype,"style",void 0),b([$({type:Lt,json:{type:[zi],default:null,write:!0}})],Mf.prototype,"color",void 0),Mf=b([ne("esri.symbols.LineStyleMarker3D")],Mf);const vA=Mf;var ES;let wu=ES=class extends uc{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ll(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new ES(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??ll(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new PN({style:e.style}):null,material:new el({color:(e.color||H2).clone()}),marker:e.marker?new vA({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new ES(t)}};b([$({type:el,json:{write:!0}})],wu.prototype,"material",void 0),b([Ct({Line:"line"},{readOnly:!0})],wu.prototype,"type",void 0),b([$({type:tae,json:{write:!0,default:"miter"}})],wu.prototype,"join",void 0),b([$({type:LN,json:{write:!0,default:"butt"}})],wu.prototype,"cap",void 0),b([$(nc)],wu.prototype,"size",void 0),b([$(eae)],wu.prototype,"pattern",void 0),b([$({types:{key:"type",base:vA,typeMap:{style:vA}},json:{write:!0}})],wu.prototype,"marker",void 0),wu=ES=b([ne("esri.symbols.LineSymbol3DLayer")],wu);const zg=wu;var bA;const rEe=Rs()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Db=bA=class extends Ne{clone(){return new bA({href:this.href,primitive:this.primitive})}};b([$({type:String,json:{read:SN,write:Q0}})],Db.prototype,"href",void 0),b([Ct(rEe)],Db.prototype,"primitive",void 0),Db=bA=b([ne("esri.symbols.support.ObjectSymbol3DLayerResource")],Db);const x3t="sphere";var wA;let Qf=wA=class extends vt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new wA({x:this.x,y:this.y,z:this.z})}};b([$({type:Number})],Qf.prototype,"x",void 0),b([$({type:Number})],Qf.prototype,"y",void 0),b([$({type:Number})],Qf.prototype,"z",void 0),Qf=wA=b([ne("esri.symbols.support.Symbol3DAnchorPosition3D")],Qf);var xA;let gs=xA=class extends uc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new xA({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};b([$({type:el,json:{write:!0}})],gs.prototype,"material",void 0),b([$({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gs.prototype,"castShadows",void 0),b([$({type:Db,json:{write:!0}})],gs.prototype,"resource",void 0),b([Ct({Object:"object"},{readOnly:!0})],gs.prototype,"type",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"width",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"height",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"depth",void 0),b([Ct({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),$({json:{default:"origin"}})],gs.prototype,"anchor",void 0),b([$({type:Qf,json:{type:[Number],read:{reader:e=>new Qf({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],gs.prototype,"anchorPosition",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"heading",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"tilt",void 0),b([$({type:Number,json:{write:!0}})],gs.prototype,"roll",void 0),b([$({readOnly:!0})],gs.prototype,"isPrimitive",null),gs=xA=b([ne("esri.symbols.ObjectSymbol3DLayer")],gs);const NN=gs;var _A;let Bs=_A=class extends uc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new _A({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};b([$({type:el,json:{write:!0}})],Bs.prototype,"material",void 0),b([$({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Bs.prototype,"castShadows",void 0),b([Ct({Path:"path"},{readOnly:!0})],Bs.prototype,"type",void 0),b([$({type:["circle","quad"],json:{write:!0,default:"circle"}})],Bs.prototype,"profile",void 0),b([$({type:tae,json:{write:!0,default:"miter"}})],Bs.prototype,"join",void 0),b([$({type:JIe,json:{write:!0,default:"butt"}})],Bs.prototype,"cap",void 0),b([$({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Bs.prototype,"width",void 0),b([qe("width",["width","size","height"])],Bs.prototype,"readWidth",null),b([$({type:Number,json:{write:!0}})],Bs.prototype,"height",void 0),b([qe("height",["height","size","width"])],Bs.prototype,"readHeight",null),b([$({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Bs.prototype,"anchor",void 0),b([$({type:["heading","all"],json:{write:!0,default:"all"}})],Bs.prototype,"profileRotation",void 0),Bs=_A=b([ne("esri.symbols.PathSymbol3DLayer")],Bs);const FN=Bs;var SA;let lm=SA=class extends Ne{constructor(){super(...arguments),this.color=new Lt([0,0,0,1]),this.size=0}clone(){const e={color:be(this.color),size:this.size};return new SA(e)}};b([$(Up)],lm.prototype,"color",void 0),b([$(nc)],lm.prototype,"size",void 0),lm=SA=b([ne("esri.symbols.support.Symbol3DHalo")],lm);let K2=class extends sr(Ne){constructor(t){super(t),this.color=null}};b([$(Up)],K2.prototype,"color",void 0),K2=b([ne("esri.symbols.support.Symbol3DTextBackground")],K2);var AS;let uo=AS=class extends uc{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const n={...r,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new AS({enabled:this.enabled,font:this.font&&be(this.font),halo:this.halo&&be(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:be(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new AS({font:e.font!=null?e.font.clone():new C7,halo:nEe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new el({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new K2({color:e.backgroundColor.clone()}):null})}};function nEe(e,t){return e&&t!=null&&t>0?new lm({color:be(e),size:t}):null}b([$({type:C7,json:{write:!0}})],uo.prototype,"font",null),b([Ze("font")],uo.prototype,"writeFont",null),b([$({type:lm,json:{write:!0}})],uo.prototype,"halo",void 0),b([$({...rae,json:{default:"center",write:!0}})],uo.prototype,"horizontalAlignment",void 0),b([$({...iae,json:{default:1,write:!0}})],uo.prototype,"lineHeight",void 0),b([$({type:el,json:{write:!0}})],uo.prototype,"material",void 0),b([$({type:K2,json:{write:!0}})],uo.prototype,"background",void 0),b([$(nc)],uo.prototype,"size",null),b([$({type:String,json:{write:!0}})],uo.prototype,"text",void 0),b([Ct({Text:"text"},{readOnly:!0})],uo.prototype,"type",void 0),b([$({...nae,json:{default:"baseline",write:!0}})],uo.prototype,"verticalAlignment",void 0),uo=AS=b([ne("esri.symbols.TextSymbol3DLayer")],uo);const Vg=uo;var $A;let ud=$A=class extends uc{constructor(e){super(e),this.color=MA.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new $A({color:be(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};b([$({type:Lt,nonNullable:!0,json:{type:[zi],write:(e,t,i)=>t[i]=e.toArray(Lt.AlphaMode.UNLESS_OPAQUE),default:()=>MA.clone(),defaultEquals:e=>e.toCss(!0)===MA.toCss(!0)}})],ud.prototype,"color",void 0),b([Ct({Water:"water"},{readOnly:!0})],ud.prototype,"type",void 0),b([$({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ud.prototype,"waterbodySize",void 0),b([$({type:Number,json:{write:!0,default:null}})],ud.prototype,"waveDirection",void 0),b([$({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ud.prototype,"waveStrength",void 0),ud=$A=b([ne("esri.symbols.WaterSymbol3DLayer")],ud);const oae=ud,MA=new Lt([0,119,190]);var TA;let Tf=TA=class extends vt{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new TA({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};b([$({type:String})],Tf.prototype,"name",void 0),b([$({type:String})],Tf.prototype,"styleUrl",void 0),b([$({type:String})],Tf.prototype,"styleName",void 0),b([$({type:kn})],Tf.prototype,"portal",void 0),Tf=TA=b([ne("esri.symbols.support.StyleOrigin")],Tf);const kA=Tf;var CA;let Y2=CA=class extends vt{constructor(){super(...arguments),this.url=""}clone(){return new CA({url:this.url})}};b([$({type:String})],Y2.prototype,"url",void 0),Y2=CA=b([ne("esri.symbols.support.Thumbnail")],Y2);const aae={icon:p0,object:NN,line:zg,path:FN,fill:x1,extrude:Joe,text:Vg,water:oae},sEe=st.ofType({base:uc,key:"type",typeMap:aae,errorContext:"symbol-layer"});let xu=class extends as{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,n=r||st;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&Le.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){kp(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const n=Dg(t.styleUrl,r);return new kA({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new kA({portal:(r==null?void 0:r.portal)||kn.getDefault(),styleName:t.styleName,name:t.name});r!=null&&r.messages&&r.messages.push(new sl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,n){if(t.styleUrl&&t.name){let o=rx(t.styleUrl,n);ea(o)&&(o=Za(o)),i.styleOrigin={styleUrl:o,name:t.name}}else t.styleName&&t.name&&(t.portal&&(n!=null&&n.portal)&&!Pie(t.portal.restUrl,n.portal.restUrl)?n!=null&&n.messages&&n.messages.push(new sl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof uc||t&&aae[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};b([$({json:{read:!1,write:!1}})],xu.prototype,"color",null),b([$({type:sEe,nonNullable:!0,json:{write:!0}}),$i(Fse)],xu.prototype,"symbolLayers",null),b([$({type:kA})],xu.prototype,"styleOrigin",void 0),b([qe("styleOrigin")],xu.prototype,"readStyleOrigin",null),b([Ze("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],xu.prototype,"writeStyleOrigin",null),b([$({type:Y2,json:{read:!1}})],xu.prototype,"thumbnail",void 0),b([$({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],xu.prototype,"type",void 0),xu=b([ne("esri.symbols.Symbol3D")],xu);const Bg=xu;let zb=class extends Ne{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};b([$({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],zb.prototype,"type",void 0),b([$({readOnly:!0})],zb.prototype,"visible",void 0),zb=b([ne("esri.symbols.callouts.Callout3D")],zb);const lae=zb;var IA;let jS=IA=class extends Ne{constructor(e){super(e),this.color=new Lt("white")}clone(){return new IA({color:be(this.color)})}};b([$(Up)],jS.prototype,"color",void 0),jS=IA=b([ne("esri.symbols.callouts.LineCallout3DBorder")],jS);const oEe=jS;var EA;let cd=EA=class extends lae{constructor(e){super(e),this.type="line",this.color=new Lt([0,0,0,1]),this.size=ll(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new EA({color:be(this.color),size:this.size,border:be(this.border)})}};b([Ct({line:"line"})],cd.prototype,"type",void 0),b([$(Up)],cd.prototype,"color",void 0),b([$(nc)],cd.prototype,"size",void 0),b([$({type:oEe,json:{write:!0}})],cd.prototype,"border",void 0),b([$({readOnly:!0})],cd.prototype,"visible",null),cd=EA=b([ne("esri.symbols.callouts.LineCallout3D")],cd);const uae=cd;function DN(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function cae(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!DN(e)}const hae={types:{key:"type",base:lae,typeMap:{line:uae}},json:{write:!0}};var AA;let my=AA=class extends Ne{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new AA({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};b([$(nc)],my.prototype,"screenLength",void 0),b([$({type:Number,nonNullable:!0,json:{write:!0,default:0}})],my.prototype,"minWorldLength",void 0),b([$({type:Number,json:{write:!0}})],my.prototype,"maxWorldLength",void 0),my=AA=b([ne("esri.symbols.support.Symbol3DVerticalOffset")],my);const zN=my;var PS;const dae=st.ofType({base:null,key:"type",typeMap:{text:Vg}});let hd=PS=class extends Bg{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new dae,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return cae(this)}hasVisibleVerticalOffset(){return DN(this)}clone(){return new PS({styleOrigin:be(this.styleOrigin),symbolLayers:be(this.symbolLayers),thumbnail:be(this.thumbnail),callout:be(this.callout),verticalOffset:be(this.verticalOffset)})}static fromTextSymbol(e){return new PS({symbolLayers:new st([Vg.fromTextSymbol(e)])})}};b([$({type:zN,json:{write:!0}})],hd.prototype,"verticalOffset",void 0),b([$(hae)],hd.prototype,"callout",void 0),b([$({json:{read:!1,write:!1}})],hd.prototype,"styleOrigin",void 0),b([$({type:dae})],hd.prototype,"symbolLayers",void 0),b([Ct({LabelSymbol3D:"label-3d"},{readOnly:!0})],hd.prototype,"type",void 0),hd=PS=b([ne("esri.symbols.LabelSymbol3D")],hd);const I7=hd;var OS;const pae=st.ofType({base:null,key:"type",typeMap:{line:zg,path:FN}}),aEe=st.ofType({base:null,key:"type",typeMap:{line:zg,path:FN}});let Vb=OS=class extends Bg{constructor(e){super(e),this.symbolLayers=new pae,this.type="line-3d"}clone(){return new OS({styleOrigin:be(this.styleOrigin),symbolLayers:be(this.symbolLayers),thumbnail:be(this.thumbnail)})}static fromSimpleLineSymbol(e){return new OS({symbolLayers:new st([zg.fromSimpleLineSymbol(e)])})}};b([$({type:pae,json:{type:aEe}})],Vb.prototype,"symbolLayers",void 0),b([Ct({LineSymbol3D:"line-3d"},{readOnly:!0})],Vb.prototype,"type",void 0),Vb=OS=b([ne("esri.symbols.LineSymbol3D")],Vb);const _1=Vb;let dd=class extends as{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};b([$({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],dd.prototype,"angle",void 0),b([$({type:["simple-marker","picture-marker"],readOnly:!0})],dd.prototype,"type",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],dd.prototype,"xoffset",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],dd.prototype,"yoffset",void 0),b([$({type:Number,cast:e=>e==="auto"?e:wi(e),json:{write:!0}})],dd.prototype,"size",void 0),dd=b([ne("esri.symbols.MarkerSymbol")],dd);const fae=dd;var RS;const yae=st.ofType({base:null,key:"type",typeMap:{fill:x1}});let Bb=RS=class extends Bg{constructor(e){super(e),this.symbolLayers=new yae,this.type="mesh-3d"}clone(){return new RS({styleOrigin:be(this.styleOrigin),symbolLayers:be(this.symbolLayers),thumbnail:be(this.thumbnail)})}static fromSimpleFillSymbol(e){return new RS({symbolLayers:new st([x1.fromSimpleFillSymbol(e)])})}};b([$({type:yae})],Bb.prototype,"symbolLayers",void 0),b([Ct({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Bb.prototype,"type",void 0),Bb=RS=b([ne("esri.symbols.MeshSymbol3D")],Bb);const ox=Bb;function lEe(e,t,i){return t.imageData?Oie({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):mae(t.url,i)}function mae(e,t){if(!ea(e)){const i=cEe(t);if(i)return rg(i,"images",e)}return Dg(e,t)}function uEe(e,t,i,r){if(g1(e)){const n=Fw(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,i&&i.imageData===t.imageData&&i.url&&Q0(i.url,t,"url",r)}else Q0(e,t,"url",r)}const gae={json:{read:{source:["imageData","url"],reader:lEe},write:{writer(e,t,i,r){uEe(e,t,this.source,r)}}}},vae={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=mae(t.url,i)),r}}}};function cEe(e){var n,o;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(n=i.parsedUrl)==null?void 0:n.path:r==="map-image"||r==="tile"?(o=e.url)==null?void 0:o.path:null}var jA;let _a=jA=class extends Yoe{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),i!=null&&(n.width=wi(i)),r!=null&&(n.height=wi(r)),n}clone(){const e=new jA({color:be(this.color),height:this.height,outline:be(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",be(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};b([Ct({esriPFS:"picture-fill"},{readOnly:!0})],_a.prototype,"type",void 0),b([$(gae)],_a.prototype,"url",void 0),b([$({type:Number,json:{write:!0}})],_a.prototype,"xscale",void 0),b([$({type:Number,json:{write:!0}})],_a.prototype,"yscale",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],_a.prototype,"width",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],_a.prototype,"height",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],_a.prototype,"xoffset",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],_a.prototype,"yoffset",void 0),b([$(vae)],_a.prototype,"source",void 0),_a=jA=b([ne("esri.symbols.PictureFillSymbol")],_a);const VN=_a;var PA;let Il=PA=class extends fae{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=wi(t)),i!=null&&(r.height=wi(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new PA({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",be(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};b([$({json:{write:!1}})],Il.prototype,"color",void 0),b([Ct({esriPMS:"picture-marker"},{readOnly:!0})],Il.prototype,"type",void 0),b([$(gae)],Il.prototype,"url",void 0),b([$(vae)],Il.prototype,"source",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],Il.prototype,"height",void 0),b([qe("height",["height","size"])],Il.prototype,"readHeight",null),b([$({type:Number,cast:wi,json:{write:!0}})],Il.prototype,"width",void 0),b([$({json:{write:!1}})],Il.prototype,"size",void 0),Il=PA=b([ne("esri.symbols.PictureMarkerSymbol")],Il);const Ug=Il;var kf;const bae=st.ofType({base:null,key:"type",typeMap:{icon:p0,object:NN,text:Vg}});let Cf=kf=class extends Bg{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new bae,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return cae(this)}hasVisibleVerticalOffset(){return DN(this)}clone(){return new kf({verticalOffset:be(this.verticalOffset),callout:be(this.callout),styleOrigin:be(this.styleOrigin),symbolLayers:be(this.symbolLayers),thumbnail:be(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new kf({symbolLayers:new st([p0.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new kf({symbolLayers:new st([p0.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var r,n;if(((n=(r=e.data)==null?void 0:r.symbol)==null?void 0:n.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new kf(i!=null&&i.callout?{symbolLayers:new st([p0.fromCIMSymbol(e)]),callout:new uae({size:.5,color:new Lt([0,0,0])}),verticalOffset:new zN({screenLength:40})}:{symbolLayers:new st([p0.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new kf({symbolLayers:new st([Vg.fromTextSymbol(e)])})}};b([$({type:zN,json:{write:!0}})],Cf.prototype,"verticalOffset",void 0),b([$(hae)],Cf.prototype,"callout",void 0),b([$({type:bae,json:{origins:{"web-scene":{write:!0}}}})],Cf.prototype,"symbolLayers",void 0),b([Ct({PointSymbol3D:"point-3d"},{readOnly:!0})],Cf.prototype,"type",void 0),Cf=kf=b([ne("esri.symbols.PointSymbol3D")],Cf);const lh=Cf;var Ub;const wae=st.ofType({base:null,key:"type",typeMap:{extrude:Joe,fill:x1,icon:p0,line:zg,object:NN,text:Vg,water:oae}});let Gb=Ub=class extends Bg{constructor(e){super(e),this.symbolLayers=new wae,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&G0(Le.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&G0(Le.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(ro(()=>this.symbolLayers,"after-add",({item:t})=>e(t),is))}clone(){return new Ub({styleOrigin:be(this.styleOrigin),symbolLayers:be(this.symbolLayers),thumbnail:be(this.thumbnail)})}static fromJSON(e){var i;const t=new Ub;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Ub({symbolLayers:new st([x1.fromSimpleFillSymbol(e)])})}};b([$({type:wae,json:{write:!0}})],Gb.prototype,"symbolLayers",void 0),b([Ct({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Gb.prototype,"type",void 0),Gb=Ub=b([ne("esri.symbols.PolygonSymbol3D")],Gb);const Gp=Gb;var OA;const CT=new oi({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let If=OA=class extends Yoe{constructor(...e){super(...e),this.color=new Lt([0,0,0,.25]),this.outline=new Ao,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new OA({color:be(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};b([$()],If.prototype,"color",void 0),b([$()],If.prototype,"outline",void 0),b([Ct({esriSFS:"simple-fill"},{readOnly:!0})],If.prototype,"type",void 0),b([$({type:CT.apiValues,json:{read:CT.read,write:CT.write}})],If.prototype,"style",void 0),If=OA=b([ne("esri.symbols.SimpleFillSymbol")],If);const Ph=If;var RA;const IT=new oi({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let _u=RA=class extends fae{constructor(...e){super(...e),this.color=new Lt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ao}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=wi(t)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new RA({angle:this.angle,color:be(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};b([$()],_u.prototype,"color",void 0),b([Ze("color")],_u.prototype,"writeColor",null),b([Ct({esriSMS:"simple-marker"},{readOnly:!0})],_u.prototype,"type",void 0),b([$()],_u.prototype,"size",void 0),b([$({type:IT.apiValues,json:{read:IT.read,write:IT.write}})],_u.prototype,"style",void 0),b([$({type:String,json:{write:!0}})],_u.prototype,"path",null),b([$({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ao}},json:{default:null,write:!0}})],_u.prototype,"outline",void 0),_u=RA=b([ne("esri.symbols.SimpleMarkerSymbol")],_u);const cc=_u;var LA;let xr=LA=class extends as{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new C7,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return wi(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new LA({angle:this.angle,backgroundColor:be(this.backgroundColor),borderLineColor:be(this.borderLineColor),borderLineSize:this.borderLineSize,color:be(this.color),font:this.font&&this.font.clone(),haloColor:be(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};b([$({type:Lt,json:{write:!0}})],xr.prototype,"backgroundColor",void 0),b([$({type:Lt,json:{write:!0}})],xr.prototype,"borderLineColor",void 0),b([$({type:Number,json:{write:!0},cast:wi})],xr.prototype,"borderLineSize",void 0),b([$({type:C7,json:{write:!0}})],xr.prototype,"font",void 0),b([$({...rae,json:{write:!0}})],xr.prototype,"horizontalAlignment",void 0),b([$({type:Boolean,json:{write:!0}})],xr.prototype,"kerning",void 0),b([$({type:Lt,json:{write:!0}})],xr.prototype,"haloColor",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],xr.prototype,"haloSize",void 0),b([$({type:Boolean,json:{write:!0}})],xr.prototype,"rightToLeft",void 0),b([$({type:Boolean,json:{write:!0}})],xr.prototype,"rotated",void 0),b([$({type:String,json:{write:!0}})],xr.prototype,"text",void 0),b([Ct({esriTS:"text"},{readOnly:!0})],xr.prototype,"type",void 0),b([$({...nae,json:{write:!0}})],xr.prototype,"verticalAlignment",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],xr.prototype,"xoffset",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],xr.prototype,"yoffset",void 0),b([$({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],xr.prototype,"angle",void 0),b([$({type:Number,json:{write:!0}})],xr.prototype,"width",void 0),b([$({type:Number})],xr.prototype,"lineWidth",void 0),b([Ze("lineWidth")],xr.prototype,"writeLineWidth",null),b([$i("lineWidth")],xr.prototype,"castLineWidth",null),b([$(iae)],xr.prototype,"lineHeight",void 0),b([Ze("lineHeight")],xr.prototype,"writeLineHeight",null),xr=LA=b([ne("esri.symbols.TextSymbol")],xr);const S1=xr;var NA;let El=NA=class extends as{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:kn.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new NA({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=t!=null?t.cache:null,r=i?this._fetchCacheKey:null;if(i!=null){const f=r&&i.get(r);if(f)return f.clone()}const{resolveWebStyleSymbol:n}=await Ce(()=>import("./webStyleSymbolUtils-CjYCxyGS.js"),__vite__mapDeps([119,120]),import.meta.url);qi(t);const o=n(this,{portal:this.portal},e,t);o.catch(f=>{Le.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",f)});const c=await o;return e==="webRef"&&c.type==="point-3d"||e==="cimRef"&&c.type==="cim"?(i!=null&&i.set(r,c.clone()),c):null}};b([$({json:{write:!1}})],El.prototype,"color",void 0),b([$({type:String,json:{write:!0}})],El.prototype,"styleName",void 0),b([$({type:kn,json:{write:!1}})],El.prototype,"portal",void 0),b([$({type:String,json:{read:SN,write:Q0}})],El.prototype,"styleUrl",void 0),b([$({type:Y2,json:{read:!1}})],El.prototype,"thumbnail",void 0),b([$({type:String,json:{write:!0}})],El.prototype,"name",void 0),b([Ct({styleSymbolReference:"web-style"},{readOnly:!0})],El.prototype,"type",void 0),b([$()],El.prototype,"_fetchCacheKey",null),El=NA=b([ne("esri.symbols.WebStyleSymbol")],El);const $1=El;function T3t(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function fq(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const E0={base:as,key:"type",typeMap:{"simple-fill":Ph,"picture-fill":VN,"picture-marker":Ug,"simple-line":Ao,"simple-marker":cc,text:S1,"label-3d":I7,"line-3d":_1,"mesh-3d":ox,"point-3d":lh,"polygon-3d":Gp,"web-style":$1,cim:Bp},errorContext:"symbol"},k3t={base:as,key:"type",typeMap:{"picture-marker":Ug,"simple-marker":cc,"point-3d":lh,cim:Bp},errorContext:"symbol"},C3t={base:as,key:"type",typeMap:{"simple-line":Ao,"line-3d":_1,cim:Bp},errorContext:"symbol"},I3t={base:as,key:"type",typeMap:{"simple-fill":Ph,"picture-fill":VN,"polygon-3d":Gp,cim:Bp},errorContext:"symbol"},hEe={base:as,key:"type",typeMap:{"picture-marker":Ug,"simple-marker":cc,text:S1,"web-style":$1,cim:Bp},errorContext:"symbol"},dEe=jg({types:E0}),xae={base:as,key:"type",typeMap:{"simple-fill":Ph,"picture-fill":VN,"picture-marker":Ug,"simple-line":Ao,"simple-marker":cc,text:S1,"line-3d":_1,"mesh-3d":ox,"point-3d":lh,"polygon-3d":Gp,"web-style":$1,cim:Bp},errorContext:"symbol"},pEe={base:as,key:"type",typeMap:{text:S1,"label-3d":I7},errorContext:"symbol"},yq={base:as,key:"type",typeMap:{"line-3d":_1,"mesh-3d":ox,"point-3d":lh,"polygon-3d":Gp,"web-style":$1,cim:Bp},errorContext:"symbol"},fEe={base:as,key:"type",typeMap:{"label-3d":I7},errorContext:"symbol"},_ae=Qu(E0);var FA;function yEe(e){if(!e)return null;const t={};for(const i in e){const r=_p(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function mEe(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let Us=FA=class extends sr(Ne){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:P2(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&K3e(Le.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new FA({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:mEe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:m4(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(n.action=r),e==="attributes"&&(n.attributeName=r),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([oa(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),oa(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};b([$({value:null,json:{read:yEe}})],Us.prototype,"aggregateGeometries",null),b([$({value:null})],Us.prototype,"attributes",null),b([$({value:null,types:v1,json:{read:_p}})],Us.prototype,"geometry",null),b([$({type:Boolean})],Us.prototype,"isAggregate",void 0),b([$({clonable:"reference"})],Us.prototype,"layer",void 0),b([$({clonable:"reference"})],Us.prototype,"origin",void 0),b([$({type:Vp})],Us.prototype,"popupTemplate",void 0),b([$({clonable:"reference"})],Us.prototype,"sourceLayer",void 0),b([$({value:null,types:E0})],Us.prototype,"symbol",null),b([$({type:Boolean,value:!0})],Us.prototype,"visible",null),Us=FA=b([ne("esri.Graphic")],Us),function(e){e.generateUID=P2}(Us||(Us={}));const la=Us;let A0=class extends G2{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};b([WL({Type:la,ensureType:vr(la)})],A0.prototype,"itemType",void 0),A0=b([ne("esri.support.GraphicsCollection")],A0);let pd=class extends vt{constructor(t){super(t),this.view=null,this.baseLayerViews=new st,this.referenceLayerViews=new st,this._loadingHandle=nt(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Xi)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var i,r,n;if((i=this.view)!=null&&i.suspended)return!1;const t=(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(o=>o.updating)||this.referenceLayerViews.some(o=>o.updating))}};b([$({constructOnly:!0})],pd.prototype,"view",void 0),b([$({readOnly:!0})],pd.prototype,"baseLayerViews",void 0),b([$({readOnly:!0})],pd.prototype,"referenceLayerViews",void 0),b([$({readOnly:!0})],pd.prototype,"suspended",null),b([$({type:Boolean,readOnly:!0})],pd.prototype,"updating",null),pd=b([ne("esri.views.BasemapView")],pd);function gEe(e){return"tryRecycleWith"in e}function vEe(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let bEe=class{constructor(t,i,r){this.layer=t,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._deferred=na(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Ya(this._controller.signal,()=>{const n=new we("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(n)})}tryRecycle(t){if(!this.done||!this.layerView||!gEe(this.layerView))return null;const i=this.layer.type,r=this._controller.signal;for(let n=0;n<t.length;n++){const o=t[n];if(o.type!==i)continue;const c=this.layerView.tryRecycleWith(o,{signal:r});if(c){t.splice(n,1),this.layer=o;const f=this.layerView,g=f.view;return this.promise=Promise.race([c.then(()=>(qi(this._controller.signal),o.emit("layerview-destroy",{view:g,layerView:f}),g.emit("layerview-destroy",{view:g,layerView:f}),o.emit("layerview-create",{view:g,layerView:f}),g.emit("layerview-create",{view:g,layerView:f}),f)),new Promise((v,_)=>Ya(this._controller.signal,()=>_(ln())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:t}),r.emit("layerview-destroy",{layer:i,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var n,o;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:r}=this;this._map=r.map;try{let c,f;if(await i.load({signal:t}),i.prefetchResources&&await i.prefetchResources({signal:t}),xEe(i))c=await i.createLayerView(r,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new we("layer:view-not-supported","No layerview implementation was found");const _=await this.layerViewImporter.importLayerView(i);qi(t),c="default"in _?new _.default({layer:i,view:r}):new _({layer:i,view:r})}const g=()=>{f=Lr(f),c.destroyed||c.destroy(),c.layer=null,c.parent=null,c.view=null,this.done=!0};f=Ya(t,g),qi(t);try{await c.when()}catch(_){throw g(),_}if(!((o=(n=this._map)==null?void 0:n.allLayers)==null?void 0:o.includes(i)))return g(),void this._deferred.reject(new we("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=c,i.emit("layerview-create",{view:r,layerView:c}),r.emit("layerview-create",{layer:i,layerView:c}),this.done=!0,this._deferred.resolve(c)}catch(c){i.emit("layerview-create-error",{view:r,error:c}),r.emit("layerview-create-error",{layer:i,error:c}),this.done=!0,this._deferred.reject(new we("layerview:create-error","layerview creation failed",{layer:i,error:c}))}}},Sa=class extends vt{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new I0,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const n of i)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=na(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Ag(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var g,v,_;if(this.destroyed)return;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,n=[],o=this.view.ready,c=M=>{if(M!=null){for(const T of M)if(T){r.add(T);const E=this._layerLayerViewInfoMap.get(T);E&&o?E.start():E||this._recyclingInfoMap.has(T)||n.push(T),"layers"in T&&T.layers&&c(T.layers)}}};for(const M of this._rootCollectionNames)c(Ys(this,M));for(const[M,T]of this._layerLayerViewInfoMap)if(!r.has(M)){this._layerLayerViewInfoMap.delete(T.layer);const E=T.tryRecycle(n);E?(this.notifyChange("updating"),this._recyclingInfoMap.set(T.layer,T),E.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),this._layerLayerViewInfoMap.set(T.layer,T),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),T.destroy(),this._reschedule()})):T.destroy()}for(const[M,T]of this._recyclingInfoMap)r.has(M)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),T.destroy());for(const M of n)this._createLayerView(M);this._refreshCollections();const f=[(g=i==null?void 0:i.ground)==null?void 0:g.layers,(v=i==null?void 0:i.basemap)==null?void 0:v.baseLayers,(_=i==null?void 0:i.basemap)==null?void 0:_.referenceLayers,i==null?void 0:i.layers].filter(M=>!!M);r.forEach(M=>"layers"in M&&f.push(M.layers)),this.addHandles(f.map(M=>this._watchUpdatingTracking.addOnCollectionChange(()=>M,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([ro(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),nt(()=>{const t=this.view,i=t==null?void 0:t.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,t==null?void 0:t.ready]},()=>this._reschedule(),Jo)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),_T(this._recyclingInfoMap),_T(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(ln()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Y$(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(_T(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new we("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,i){var o;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(t);if(!(r!=null&&r.done))return!0;const n=r.layerView;return!(!n||!i||n.parent===i)||!!(r.done&&n&&"layers"in t&&((o=t.layers)!=null&&o.length))&&t.layers.some(c=>this.isCreatingLayerViewsForLayer(c,n))}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Ys(this,t),Ys(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,r){if(!t||!i)return void(i&&i.removeAll());let n=0;for(const o of t){const c=this._layerLayerViewInfoMap.get(o);if(!(c!=null&&c.layerView))continue;const f=c.layerView;f.layer=o,f.parent=r,i.at(n)!==f&&i.splice(n,0,f),"layers"in o&&vEe(f)&&this._populateLayerViewsOwners(o.layers,f.layerViews,f),n+=1}n<i.length&&i.splice(n,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new bEe(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),r=>{r&&(Os(r)||r.name==="cancelled:layerview-create")||Le.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};b([$()],Sa.prototype,"_workPromise",void 0),b([$({readOnly:!0})],Sa.prototype,"_watchUpdatingTracking",void 0),b([$({readOnly:!0})],Sa.prototype,"_layersToLayerViews",null),b([$({readOnly:!0})],Sa.prototype,"_rootCollectionNames",null),b([$()],Sa.prototype,"layerViewImporter",void 0),b([$()],Sa.prototype,"supportsGround",void 0),b([$({readOnly:!0})],Sa.prototype,"updating",null),b([$({readOnly:!0})],Sa.prototype,"updatingRemaining",null),b([$({constructOnly:!0})],Sa.prototype,"view",void 0),Sa=b([ne("esri.views.LayerViewManager")],Sa);const wEe=Sa;function xEe(e){return"createLayerView"in e&&e.createLayerView!=null}let zo=class extends vt{constructor(t){super(t),this.factor=1.5,this.offset=rs(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};b([$({type:Number})],zo.prototype,"factor",void 0),b([$({nonNullable:!0})],zo.prototype,"offset",void 0),b([$()],zo.prototype,"position",void 0),b([$({type:Number,range:{min:0}})],zo.prototype,"size",void 0),b([$()],zo.prototype,"maskUrl",void 0),b([$()],zo.prototype,"maskEnabled",void 0),b([$()],zo.prototype,"overlayUrl",void 0),b([$()],zo.prototype,"overlayEnabled",void 0),b([$({readOnly:!0})],zo.prototype,"version",null),b([$({type:Boolean})],zo.prototype,"visible",void 0),zo=b([ne("esri.views.Magnifier")],zo);const Sae=zo;let Z2=class{constructor(t){this._observable=new Z3,this._map=new Map(t)}get size(){return jt(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const i=this._map.delete(t);return i&&this._observable.notify(),i}entries(){return jt(this._observable),this._map.entries()}forEach(t,i){jt(this._observable),this._map.forEach((r,n)=>t.call(i,r,n,this),i)}get(t){return jt(this._observable),this._map.get(t)}has(t){return jt(this._observable),this._map.has(t)}keys(){return jt(this._observable),this._map.keys()}set(t,i){return this._map.set(t,i),this._observable.notify(),this}values(){return jt(this._observable),this._map.values()}[Symbol.iterator](){return jt(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var DA;let qb=DA=class extends Ne{constructor(e){super(e),this.name=null,this.code=null}clone(){return new DA({name:this.name,code:this.code})}};b([$({type:String,json:{write:!0}})],qb.prototype,"name",void 0),b([$({type:[String,Number],json:{write:!0}})],qb.prototype,"code",void 0),qb=DA=b([ne("esri.layers.support.CodedValue")],qb);const _Ee=new oi({inherited:"inherited",codedValue:"coded-value",range:"range"});let Wb=class extends Ne{constructor(t){super(t),this.name=null,this.type=null}};b([$({type:String,json:{write:!0}})],Wb.prototype,"name",void 0),b([Ct(_Ee)],Wb.prototype,"type",void 0),Wb=b([ne("esri.layers.support.Domain")],Wb);const E7=Wb;var zA;let Hb=zA=class extends E7{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(r=>(String(r.code)===i&&(t=r.name),!!t))}return t}clone(){return new zA({codedValues:be(this.codedValues),name:this.name})}};b([$({type:[qb],json:{write:!0}})],Hb.prototype,"codedValues",void 0),b([Ct({codedValue:"coded-value"})],Hb.prototype,"type",void 0),Hb=zA=b([ne("esri.layers.support.CodedValueDomain")],Hb);const $ae=Hb;var VA;let LS=VA=class extends E7{constructor(e){super(e),this.type="inherited"}clone(){return new VA}};b([Ct({inherited:"inherited"})],LS.prototype,"type",void 0),LS=VA=b([ne("esri.layers.support.InheritedDomain")],LS);const Mae=LS;var BA;let gy=BA=class extends E7{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new BA({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};b([$({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],gy.prototype,"maxValue",void 0),b([$({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],gy.prototype,"minValue",void 0),b([Ct({range:"range"})],gy.prototype,"type",void 0),gy=BA=b([ne("esri.layers.support.RangeDomain")],gy);const Tae=gy,kae={key:"type",base:E7,typeMap:{range:Tae,"coded-value":$ae,inherited:Mae}};function A7(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return Tae.fromJSON(e);case"codedValue":return $ae.fromJSON(e);case"inherited":return Mae.fromJSON(e)}return null}const SEe=new oi({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var UA;const $Ee=new oi({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let vs=UA=class extends Ne{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?$Ee.fromJSON(i.fieldValueType):null}clone(){var e;return new UA({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};b([$({type:String,json:{write:!0}})],vs.prototype,"alias",void 0),b([$({type:[String,Number],json:{write:{allowNull:!0}}})],vs.prototype,"defaultValue",void 0),b([$()],vs.prototype,"description",void 0),b([qe("description")],vs.prototype,"readDescription",null),b([$({types:kae,json:{read:{reader:A7},write:!0}})],vs.prototype,"domain",void 0),b([$({type:Boolean,json:{write:!0}})],vs.prototype,"editable",void 0),b([$({type:zi,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],vs.prototype,"length",void 0),b([$({type:String,json:{write:!0}})],vs.prototype,"name",void 0),b([$({type:Boolean,json:{write:!0}})],vs.prototype,"nullable",void 0),b([Ct(SEe)],vs.prototype,"type",void 0),b([$()],vs.prototype,"valueType",void 0),b([qe("valueType",["description"])],vs.prototype,"readValueType",null),b([$({type:Boolean,json:{read:!1}})],vs.prototype,"visible",void 0),vs=UA=b([ne("esri.layers.support.Field")],vs);const BN=vs;var GA;let vy=GA=class extends Ne{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new GA({mapLayerId:e,gdbVersion:t})}};b([Ct({mapLayer:"map-layer"})],vy.prototype,"type",void 0),b([$({type:zi,json:{write:!0}})],vy.prototype,"mapLayerId",void 0),b([$({type:String,json:{write:!0}})],vy.prototype,"gdbVersion",void 0),vy=GA=b([ne("esri.layers.support.source.MapLayerSource")],vy);var qA;let Pc=qA=class extends Ne{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:n}=this,o={workspaceId:e,query:t,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:n};return new qA(o)}};b([Ct({queryTable:"query-table"})],Pc.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Pc.prototype,"workspaceId",void 0),b([$({type:String,json:{write:!0}})],Pc.prototype,"query",void 0),b([$({type:String,json:{write:!0}})],Pc.prototype,"oidFields",void 0),b([$({type:At,json:{write:!0}})],Pc.prototype,"spatialReference",void 0),b([Ct(I4e)],Pc.prototype,"geometryType",void 0),Pc=qA=b([ne("esri.layers.support.source.QueryTableDataSource")],Pc);var WA;let by=WA=class extends Ne{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new WA({workspaceId:e,dataSourceName:t})}};b([Ct({raster:"raster"})],by.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],by.prototype,"dataSourceName",void 0),b([$({type:String,json:{write:!0}})],by.prototype,"workspaceId",void 0),by=WA=b([ne("esri.layers.support.source.RasterDataSource")],by);var HA;let Ef=HA=class extends Ne{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new HA({workspaceId:e,gdbVersion:t,dataSourceName:i})}};b([Ct({table:"table"})],Ef.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Ef.prototype,"workspaceId",void 0),b([$({type:String,json:{write:!0}})],Ef.prototype,"gdbVersion",void 0),b([$({type:String,json:{write:!0}})],Ef.prototype,"dataSourceName",void 0),Ef=HA=b([ne("esri.layers.support.source.TableDataSource")],Ef);var JA,KA;const MEe=Rs()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Vo=JA=class extends Ne{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return mq()(e,t,i)}castLeftTableSource(e){return Qu(YA(),e)}readRightTableSource(e,t,i){return mq()(e,t,i)}castRightTableSource(e){return Qu(YA(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:n}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:n};return new JA(o)}};b([Ct({joinTable:"join-table"})],Vo.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Vo.prototype,"leftTableKey",void 0),b([$({type:String,json:{write:!0}})],Vo.prototype,"rightTableKey",void 0),b([$({json:{write:!0}})],Vo.prototype,"leftTableSource",void 0),b([qe("leftTableSource")],Vo.prototype,"readLeftTableSource",null),b([$i("leftTableSource")],Vo.prototype,"castLeftTableSource",null),b([$({json:{write:!0}})],Vo.prototype,"rightTableSource",void 0),b([qe("rightTableSource")],Vo.prototype,"readRightTableSource",null),b([$i("rightTableSource")],Vo.prototype,"castRightTableSource",null),b([Ct(MEe)],Vo.prototype,"joinType",void 0),Vo=JA=b([ne("esri.layers.support.source.JoinTableDataSource")],Vo);let ET=null;function mq(){return ET||(ET=jg({types:YA()})),ET}let AT=null;function YA(){return AT||(AT={key:"type",base:null,typeMap:{"data-layer":zl,"map-layer":vy}}),AT}const TEe={key:"type",base:null,typeMap:{"join-table":Vo,"query-table":Pc,raster:by,table:Ef}};let zl=KA=class extends Ne{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new KA({fields:e,dataSource:t})}};b([Ct({dataLayer:"data-layer"})],zl.prototype,"type",void 0),b([$({type:[BN],json:{write:!0}})],zl.prototype,"fields",void 0),b([$({types:TEe,json:{write:!0}})],zl.prototype,"dataSource",void 0),zl=KA=b([ne("esri.layers.support.source.DataLayerSource")],zl),zl.from=vr(zl);let Af=class extends sr(Ne){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};b([$({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Af.prototype,"onFields",void 0),b([$({type:String,json:{write:!0}})],Af.prototype,"operator",void 0),b([$({type:String,json:{write:!0}})],Af.prototype,"searchTerm",void 0),b([$({type:String,json:{write:!0}})],Af.prototype,"searchType",void 0),Af=b([ne("esri.rest.support.FullTextSearch")],Af);const Cae=Af;var ZA;const gq=new oi({upperLeft:"upper-left",lowerLeft:"lower-left"});let jf=ZA=class extends Ne{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new ZA(be({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};b([$({type:ci,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],jf.prototype,"extent",void 0),b([$({type:["view","edit"],json:{write:!0}})],jf.prototype,"mode",void 0),b([$({type:String,json:{read:gq.read,write:gq.write}})],jf.prototype,"originPosition",void 0),b([$({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],jf.prototype,"tolerance",void 0),jf=ZA=b([ne("esri.rest.support.QuantizationParameters")],jf);const Iae=jf,kEe=new oi({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var XA;const vq=new oi({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Al=XA=class extends Ne{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=be(e))}clone(){return new XA({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:be(this.statisticParameters)})}};b([$({type:Number,json:{write:!0}})],Al.prototype,"maxPointCount",void 0),b([$({type:Number,json:{write:!0}})],Al.prototype,"maxRecordCount",void 0),b([$({type:Number,json:{write:!0}})],Al.prototype,"maxVertexCount",void 0),b([$({type:String,json:{write:!0}})],Al.prototype,"onStatisticField",void 0),b([$({type:String,json:{write:!0}})],Al.prototype,"outStatisticFieldName",void 0),b([$({type:String,json:{read:{source:"statisticType",reader:vq.read},write:{target:"statisticType",writer:vq.write}}})],Al.prototype,"statisticType",void 0),b([$({type:Object})],Al.prototype,"statisticParameters",void 0),b([Ze("statisticParameters")],Al.prototype,"writeStatisticParameters",null),Al=XA=b([ne("esri.rest.support.StatisticDefinition")],Al);const CEe=Al;var NS;const IEe=new oi({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ot=NS=class extends Ne{static from(e){return Z$(NS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const r in e){const n=e[r];Array.isArray(n)?i[r]=n.map(o=>o instanceof Date?o.getTime():o):n instanceof Date?i[r]=n.getTime():i[r]=n}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new NS(be({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ot.MAX_MAX_RECORD_COUNT_FACTOR=5,b([$({json:{write:!0}})],Ot.prototype,"aggregateIds",void 0),b([$({type:Boolean,json:{write:!0}})],Ot.prototype,"cacheHint",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"compactGeometryEnabled",void 0),b([$({json:{write:!0}})],Ot.prototype,"datumTransformation",void 0),b([$i("datumTransformation")],Ot.prototype,"castDatumTransformation",null),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"defaultSpatialReferenceEnabled",void 0),b([$({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Ot.prototype,"distance",void 0),b([$({type:zl,json:{write:!0}})],Ot.prototype,"dynamicDataSource",void 0),b([$({type:String,json:{write:!0}})],Ot.prototype,"formatOf3DObjects",void 0),b([$({type:[Cae],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Ot.prototype,"fullText",void 0),b([$({type:String,json:{write:!0}})],Ot.prototype,"gdbVersion",void 0),b([$({types:v1,json:{read:_p,write:!0}})],Ot.prototype,"geometry",void 0),b([$({type:Number,json:{write:!0}})],Ot.prototype,"geometryPrecision",void 0),b([$({type:[String],json:{write:!0}})],Ot.prototype,"groupByFieldsForStatistics",void 0),b([$({type:String,json:{write:!0}})],Ot.prototype,"having",void 0),b([$({type:Date})],Ot.prototype,"historicMoment",void 0),b([Ze("historicMoment")],Ot.prototype,"writeHistoricMoment",null),b([$({type:Number,json:{write:!0}})],Ot.prototype,"maxAllowableOffset",void 0),b([$({type:Number,cast:e=>e<1?1:e>Ot.MAX_MAX_RECORD_COUNT_FACTOR?Ot.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ot.prototype,"maxRecordCountFactor",void 0),b([$({type:["xyFootprint"],json:{write:!0}})],Ot.prototype,"multipatchOption",void 0),b([$({type:Number,json:{read:{source:"resultRecordCount"}}})],Ot.prototype,"num",void 0),b([$({json:{write:!0}})],Ot.prototype,"objectIds",void 0),b([$({type:[String],json:{write:!0}})],Ot.prototype,"orderByFields",void 0),b([$({type:[String],json:{write:!0}})],Ot.prototype,"outFields",void 0),b([$({type:At,json:{name:"outSR",write:!0}})],Ot.prototype,"outSpatialReference",void 0),b([$({type:[CEe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Ot.prototype,"outStatistics",void 0),b([$({json:{write:!0}})],Ot.prototype,"parameterValues",void 0),b([Ze("parameterValues")],Ot.prototype,"writeParameterValues",null),b([$({type:Pt,json:{write:!0}})],Ot.prototype,"pixelSize",void 0),b([$({type:Iae,json:{write:!0}})],Ot.prototype,"quantizationParameters",void 0),b([$({type:[Object],json:{write:!0}})],Ot.prototype,"rangeValues",void 0),b([$({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ot.prototype,"relationParameter",void 0),b([$({type:String,json:{write:!0}})],Ot.prototype,"resultType",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"returnCentroid",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"returnDistinctValues",void 0),b([$({type:Boolean,json:{default:!0,write:!0}})],Ot.prototype,"returnExceededLimitFeatures",void 0),b([$({type:Boolean,json:{write:!0}})],Ot.prototype,"returnGeometry",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"returnQueryGeometry",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"returnM",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ot.prototype,"returnZ",void 0),b([$({type:At,json:{write:!0}})],Ot.prototype,"sourceSpatialReference",void 0),b([Ct(kEe,{ignoreUnknown:!1,name:"spatialRel"})],Ot.prototype,"spatialRelationship",void 0),b([$({type:Number,json:{read:{source:"resultOffset"}}})],Ot.prototype,"start",void 0),b([Ze("start"),Ze("num")],Ot.prototype,"writeStart",null),b([$({type:String,json:{write:!0}})],Ot.prototype,"sqlFormat",void 0),b([$({type:String,json:{write:!0}})],Ot.prototype,"text",void 0),b([$({type:rc,json:{write:!0}})],Ot.prototype,"timeExtent",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Ot.prototype,"timeReferenceUnknownClient",void 0),b([Ct(IEe,{ignoreUnknown:!1}),$({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Ot.prototype,"units",void 0),b([$({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Ot.prototype,"where",void 0),b([Ze("where")],Ot.prototype,"writeWhere",null),Ot=NS=b([ne("esri.rest.support.Query")],Ot);const Th=Ot;function z_(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let Oc=class extends dl.EventedAccessor{constructor(t){super(t),this._selectionMap=new Z2,this._sources=new st,this._trashCan=[],this._layerEditHandles=new st,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([nt(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),ro(()=>this.sources,"change",i=>{const r=this._selectionMap;for(const n of i.removed)r.delete(n);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new st;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(i=>"sublayers"in i&&i.sublayers?i.sublayers:null).forEach(i=>{(z_(i)&&!_Te(i)||mf(i))&&t.add(i)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(Lr)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[i,r]=t;return{layer:i,selection:[...r.selection]}})}get count(){let t=0;for(const i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){kp(t,this._sources)}async getSelectedFeatures(t,i={},r="layerView"){const{view:n,selections:o}=this,c=(t!==void 0?o.filter(f=>t.includes(f.layer)):o).filter(f=>f.selection.length>0).map(async f=>{const{layer:g,selection:v}=f,_=mf(g)?g.parent:g;if(_==null||!wq(_))return null;if(r==="layer")return xq(_,v,i);if(bq(_))return null;const M=await n.whenLayerView(_).catch(()=>null);return M?xq(M,v,i):null});return(await Promise.all(c)).filter(f=>f!=null)}updateSelection(t){const i=new Map;for(const[o,c]of this._selectionMap)i.set(o,[...c.selection]);let r=!1;const n=t.current.concat(t.added);for(const o of n){const c=o.sourceLayer,f=o.getObjectId();if(this.sources.includes(c)&&(z_(c)||mf(c))&&f!==null){const g=yL(i,c,()=>[]);g.includes(f)||(g.push(f),r=!0)}}for(const o of t.removed){const c=o.sourceLayer,f=o.getObjectId();if(this.sources.includes(c)&&(z_(c)||mf(c))&&f!==null){const g=i.get(c),v=g==null?void 0:g.indexOf(f);v!==void 0&&v>=0&&(g==null||g.splice(v,1),r=!0)}}if(r){const{_selectionMap:o,_trashCan:c}=this,f=[];for(const[g,v]of i){const _=o.get(g);_!==void 0&&c.push(_),o.set(g,{selection:v}),f.push({layer:g,selection:v,...xB(_!==void 0?_.selection:[],v)})}this._onSelectionChange(f)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){const i=this._selectionMap.get(t);return i==null?void 0:i.selection}appendToSelection(t,i){const r=this._selectionMap.get(t),n=r!==void 0?[...r.selection]:[];for(const o of i)n.includes(o)||n.push(o);this._setSelection(t,n)}removeFromSelection(t,i){const r=this._selectionMap.get(t);if(!r)return;const n=[];for(const o of r.selection)i.includes(o)||n.push(o);this._setSelection(t,n)}toggleInSelection(t,i){const r=this._selectionMap.get(t);if(!r||r.selection.length===0)return void this._setSelection(t,i);const n=new Set(r.selection),o=new Set(i),c=r_e(n,o);this._setSelection(t,Array.from(c))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const i=[];for(const[r,n]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var c;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const f=this._trashCan.pop();(c=f==null?void 0:f.highlightHandle)==null||c.remove()}const{sources:t,view:i,_selectionMap:r,showHighlight:n}=this,o=this._vizTaskId;for(const f of t){const g=r.get(f),v=mf(f)?f.parent:f;if(v!=null&&wq(v)){if(bq(v))continue;i.whenLayerView(v).then(_=>{var M;(M=g==null?void 0:g.highlightHandle)==null||M.remove(),g!=null&&n&&o===this._vizTaskId&&"highlight"in _&&typeof _.highlight=="function"&&g.selection.length>0&&(g.highlightHandle=_.highlight(g.selection,"selection"))}).catch(()=>{var _;(_=g==null?void 0:g.highlightHandle)==null||_.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Lr);for(const t of this.sources){const i=mf(t)?t.parent:t;if(i!=null&&z_(i)){const r=i.on("edits",n=>{this._handleEditChanges(n,t)});this._layerEditHandles.push(r)}}}_handleEditChanges(t,i){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(i)){const r=t.deletedFeatures.filter(n=>n.error==null).map(n=>n.objectId).filter(ss);this.removeFromSelection(i,r)}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const r=this._selectionMap.get(t);if(r===void 0||!AEe(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(t,{selection:[...i]});const n={layer:t,selection:[...i],...xB(r!==void 0?r.selection:[],i)};this._onSelectionChange([n])}}};b([$({readOnly:!0,nonNullable:!0})],Oc.prototype,"selections",null),b([$({readOnly:!0,nonNullable:!0})],Oc.prototype,"count",null),b([$({constructOnly:!0,nonNullable:!0})],Oc.prototype,"view",void 0),b([$({readOnly:!0,nonNullable:!0})],Oc.prototype,"hasSelection",null),b([$()],Oc.prototype,"showHighlight",void 0),b([$()],Oc.prototype,"sources",null),Oc=b([ne("esri.views.SelectionManager")],Oc);const bq=e=>{var t;return mf(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},EEe=e=>e.layer!==void 0,wq=e=>(e==null?void 0:e.when)!==void 0,AEe=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let n=0;n<i.length;n++)if(i[n]!==r[n])return!1}return!0},xq=async(e,t,i={})=>{let r;if(EEe(e)){const n=e;r=n===void 0?null:await n.queryFeatures(new Th({...i,objectIds:t})).then(o=>({data:o,layer:e.layer}))}else{const n=e;r=n===void 0?null:await n.queryFeatures(new Th({...i,objectIds:t})).then(o=>({data:o,layer:n}))}return r},jEe=Oc;let Jb=class extends sr(vt){constructor(t){super(t),this.accentColor=new Lt([255,127,0]),this.textColor=new Lt([255,255,255])}};b([$({type:Lt,nonNullable:!0})],Jb.prototype,"accentColor",void 0),b([$({type:Lt,nonNullable:!0})],Jb.prototype,"textColor",void 0),Jb=b([ne("esri.views.Theme")],Jb);const QA=Jb;var _q;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(_q||(_q={}));const Eae=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Aae={};function jae(e){return!!Aae[e]}function PEe(e){for(const t of e)if(!jae(t))return!1;return!0}Eae.forEach(e=>{Aae[e]=!0});let OEe=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:r},n)=>{var o;return(o=this.inputManager)==null?void 0:o.installHandlers(n,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,r,n){const o=Array.isArray(t)?t:t.split(",");if(!PEe(o))return o.some(jae)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let c,f;Array.isArray(i)?f=i:(c=i,f=[]),typeof r=="function"?c=r:n=r,n=n??hp.DEFAULT;const g=this._createUniqueGroupName(),v=new REe(this.view,o,f,c);this._handlers.set(g,{handler:v,priority:n});for(const _ of o){const M=this._handlerCounts.get(_)||0;this._handlerCounts.set(_,M+1)}return this.inputManager&&this.inputManager.installHandlers(g,[v],n),Bi(()=>this._removeHandler(g,o))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const r of i){const n=this._handlerCounts.get(r);n===void 0||(n===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},REe=class extends Cn{constructor(t,i,r,n){super(!0),this._latestDragStart=void 0,this.view=t;for(const o of i)switch(o){case"click":this.registerIncoming("click",r,c=>n(FEe(t,c)));break;case"double-click":this.registerIncoming("double-click",r,c=>n(DEe(t,c)));break;case"immediate-click":this.registerIncoming("immediate-click",r,c=>n(zEe(t,c)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,c=>n(VEe(t,c)));break;case"hold":this.registerIncoming("hold",r,c=>n(BEe(t,c)));break;case"drag":this.registerIncoming("drag",r,c=>{const f=this._wrapDrag(c);f&&n(f)});break;case"key-down":this.registerIncoming("key-down",r,c=>n(UEe(c)));break;case"key-up":this.registerIncoming("key-up",r,c=>n(GEe(c)));break;case"pointer-down":this.registerIncoming("pointer-down",r,c=>n(Fv(c,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,c=>n(Fv(c,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,c=>n(Fv(c,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,c=>n(qEe(c)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,c=>n(WEe(c)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,c=>n(Fv(c,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,c=>n(Fv(c,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,c=>{n(HEe(c))});break;case"focus":this.registerIncoming("focus",r,c=>{n(LEe(c))});break;case"blur":this.registerIncoming("blur",r,c=>{n(NEe(c))})}}_wrapDrag(t){const i=t.data,{x:r,y:n}=i.center,{action:o,pointerType:c,button:f}=i;if(o==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const g=i.pointer.native,v=i.buttons,{cancelable:_,timestamp:M}=t,T={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return o==="end"&&(this._latestDragStart=void 0),{type:"drag",action:o,x:r,y:n,origin:T,pointerType:c,button:f,buttons:v,radius:i.radius,angle:vie(i.angle),native:g,timestamp:M,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:E=>t.async(E),preventDefault:()=>t.preventDefault()}}};function LEe(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function NEe(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function FEe(e,t){const{pointerType:i,button:r,buttons:n,x:o,y:c,native:f,eventId:g}=t.data,{cancelable:v,timestamp:_}=t;return{type:"click",pointerType:i,button:r,buttons:n,x:o,y:c,native:f,timestamp:_,screenPoint:rs(o,c),mapPoint:ax(e,o,c),eventId:g,cancelable:v,stopPropagation:()=>t.stopPropagation(),async:M=>t.async(M),preventDefault:()=>t.preventDefault()}}function DEe(e,t){const{pointerType:i,button:r,buttons:n,x:o,y:c,native:f,eventId:g}=t.data,{cancelable:v,timestamp:_}=t;return{type:"double-click",pointerType:i,button:r,buttons:n,x:o,y:c,native:f,timestamp:_,mapPoint:ax(e,o,c),eventId:g,cancelable:v,stopPropagation:()=>t.stopPropagation(),async:M=>t.async(M),preventDefault:()=>t.preventDefault()}}function zEe(e,t){const{pointerType:i,button:r,buttons:n,x:o,y:c,native:f,eventId:g}=t.data,v=f.pointerId,{cancelable:_,timestamp:M}=t;return{type:"immediate-click",pointerId:v,pointerType:i,button:r,buttons:n,x:o,y:c,native:f,timestamp:M,mapPoint:ax(e,o,c),eventId:g,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:T=>t.async(T),preventDefault:()=>t.preventDefault()}}function VEe(e,t){const{pointerType:i,button:r,buttons:n,x:o,y:c,native:f,eventId:g}=t.data,v=f.pointerId,{cancelable:_,timestamp:M}=t;return{type:"immediate-double-click",pointerId:v,pointerType:i,button:r,buttons:n,x:o,y:c,native:f,timestamp:M,mapPoint:ax(e,o,c),eventId:g,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:T=>t.async(T),preventDefault:()=>t.preventDefault()}}function BEe(e,t){const{pointerType:i,button:r,buttons:n,x:o,y:c,native:f}=t.data,{cancelable:g,timestamp:v}=t;return{type:"hold",pointerType:i,button:r,buttons:n,x:o,y:c,native:f,timestamp:v,mapPoint:ax(e,o,c),cancelable:g,stopPropagation:()=>t.stopPropagation(),async:_=>t.async(_),preventDefault:()=>t.preventDefault()}}function ax(e,t,i){return e.toMap(rs(t,i),{exclude:[]})}function UEe(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:n,timestamp:o}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:o,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:c=>e.async(c),preventDefault:()=>e.preventDefault()}}function GEe(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:n}=e;return{type:"key-up",key:t,native:i,timestamp:n,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function Fv(e,t){const{x:i,y:r,button:n,buttons:o,native:c,eventId:f}=e.data,g=c.pointerId,v=c.pointerType,{cancelable:_,timestamp:M}=e;return{type:t,x:i,y:r,pointerId:g,pointerType:v,button:n,buttons:o,native:c,timestamp:M,eventId:f,cancelable:_,stopPropagation:()=>e.stopPropagation(),async:T=>e.async(T),preventDefault:()=>e.preventDefault()}}function qEe(e){const{x:t,y:i,buttons:r,native:n,eventId:o}=e.data.currentEvent,{button:c}=e.data.startEvent,f=e.data.startEvent.native.pointerId,g=e.data.startEvent.native.pointerType,v=e.data.action,_={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:M,timestamp:T}=e;return{type:"pointer-drag",x:t,y:i,pointerId:f,pointerType:g,button:c,buttons:r,action:v,origin:_,native:n,timestamp:T,eventId:o,cancelable:M,stopPropagation:()=>e.stopPropagation(),async:E=>e.async(E),preventDefault:()=>e.preventDefault()}}function WEe(e){const{cancelable:t,data:i,timestamp:r}=e,{x:n,y:o,deltaY:c,native:f}=i;return{type:"mouse-wheel",x:n,y:o,deltaY:c,native:f,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}function HEe(e){const{action:t,state:i,device:r}=e.data,{cancelable:n,timestamp:o}=e,{buttons:c,axes:f}=i;return{type:"gamepad",device:r,timestamp:o,action:t,buttons:c,axes:f,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:g=>e.async(g),preventDefault:()=>e.preventDefault()}}var Jw,Sq,$q;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Jw||(Jw={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(Sq||(Sq={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}($q||($q={}));function JEe(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return Le.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function ej(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(Jw.USER)&&e.getEditableFlag(Jw.MANAGER)}function Su(e){return rs(e.x,e.y)}function Pae(e,t){var r;const i=(r=e instanceof HTMLElement?e:e.surface)==null?void 0:r.getBoundingClientRect();return i?rs(t.clientX-i.left,t.clientY-i.top):rs(0,0)}function Oae(e,t){return t instanceof Event?Pae(e,t):Su(t)}function Rae(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let KEe=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,i){const r=()=>t.stopPropagation();switch(t.type){case"pointer-move":Tq(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(r(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!kq(t))break;const n=Su(t),o=B1(n,t.pointerType,i.forEachTool);if(o==null)break;const c=o.manipulator,f=o.tool;c==null||f==null||!c.interactive||c.grabbable&&c.grabbableForEvent(t)||!c.grabbing||c.dragging||this._releaseManipulatorBeforeDragging(c,t,i),c!=null&&f!=null&&c.interactive&&c.grabbable&&c.grabbableForEvent(t)&&!c.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:c,tool:f,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(o.tool)),c.grabbing=!0,c.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),r());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!kq(t))break;const n=this._grabbedManipulators.get(t.pointerId),o=n==null?void 0:n.manipulator,c=n==null?void 0:n.tool;if(o==null||c==null)break;const f=Su(t);f.x=ol(f.x,0,i.view.width),f.y=ol(f.y,0,i.view.height);const g=n.start,v=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(o.dragging=!0,v?o.events.emit("drag",{action:"update",start:g,screenPoint:f}):o.events.emit("drag",{action:"start",start:g,screenPoint:f,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:c,manipulator:o,start:g}));break;case"end":o.dragging=!1,v&&o.events.emit("drag",{action:"end",start:g,screenPoint:f}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}r();break}case"immediate-click":{const n=Su(t),o=B1(n,t.pointerType,i.forEachTool);if(YEe(t)||i.forEachTool(v=>{if((o==null||o.tool!==v||v.automaticManipulatorSelection)&&v.manipulators){let _=!1;v.manipulators.forEach(({manipulator:M})=>{M.selected&&(M.selected=!1,_=!0)}),_&&v.onManipulatorSelectionChanged&&v.onManipulatorSelectionChanged()}}),o==null)break;const{manipulator:c,tool:f}=o;if(!c.interactive)break;c.selectable&&f.automaticManipulatorSelection&&(c.selected=!c.selected,f.onManipulatorSelectionChanged&&f.onManipulatorSelectionChanged());const g=t.native.shiftKey;c.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:g,stopPropagation:r}),jT(c,r);break}case"click":{const n=Su(t),o=B1(n,t.pointerType,i.forEachTool),c=o==null?void 0:o.manipulator;if(c==null||!c.interactive)break;const f=t.native.shiftKey;c.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f}),r();break}case"double-click":{const n=Su(t),o=B1(n,t.pointerType,i.forEachTool),c=o!=null?o.manipulator:null;if(c==null||!c.interactive)break;const f=t.native.shiftKey;c.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f,stopPropagation:r}),jT(c,r);break}case"immediate-double-click":{const n=Su(t),o=B1(n,t.pointerType,i.forEachTool),c=o!=null?o.manipulator:null;if(c==null||!c.interactive)break;const f=t.native.shiftKey;c.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f,stopPropagation:r}),jT(c,r);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(t,i,r){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Su(i)}),this._grabbedManipulators.forEach(({manipulator:n},o)=>{n===t&&this._grabbedManipulators.delete(o)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(t,i){var n;const r=(n=this._grabbedManipulators.get(t.pointerId))==null?void 0:n.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Su(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=Mq(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=Mq(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:n})=>{i.add(n)}),this._hoveredManipulators.forEach(({tool:n})=>{r.add(n)}),t(n=>{n.hasGrabbedManipulators=i.has(n),n.hasHoveredManipulators=r.has(n);const o=this._grabbedManipulators.values(),c=Y3e(o,({tool:f})=>f===n);n.firstGrabbedManipulator=c!=null?c.manipulator:null})}clearPointers(t,{forEachTool:i,setActiveTool:r},n=!0,o){const c=(f,g)=>f===t&&(o==null||o===g);this._grabbedManipulators.forEach(({tool:f,manipulator:g,pointerType:v},_)=>{c(f,g)&&(this._grabbedManipulators.delete(_),g.grabbing=!1,g.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:v}))}),this._draggedManipulators.forEach(({tool:f,manipulator:g},v)=>{c(f,g)&&(this._draggedManipulators.delete(v),g.dragging=!1,g.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:f,manipulator:g},v)=>{c(f,g)&&(this._hoveredManipulators.delete(v),g.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(rs(i.x,i.y),r,i.pointerType,t)})}handleHoverEvent(t,i){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!Tq(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Su(t),t.pointerId,t.pointerType,i)}_updateHoveredStateForPointerAtScreenPosition(t,i,r,n){var f;let o=B1(t,r,n);const c=(f=this._hoveredManipulators.get(i))==null?void 0:f.manipulator;o==null||o.manipulator.interactive||(o=null),o!=null&&c===o.manipulator||(c!=null&&(c.hovering=!1),o!=null?(o.manipulator.hovering=!0,this._hoveredManipulators.set(i,o)):this._hoveredManipulators.delete(i),this._onFocusChange(n))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function Mq(e){let t=null;return Y$(e,({manipulator:i})=>!(i==null||!i.interactive)&&(i.grabbing&&i.grabCursor?(t=i.grabCursor,!0):!!i.cursor&&(t=i.cursor,!0))),t}function B1(e,t,i){let r=null;return i(n=>{if(n.manipulators==null||!ej(n))return!1;const o=n.manipulators.intersect(e,t);return o!=null&&(r={tool:n,manipulator:o},!0)}),r}function Tq(e){return e==="mouse"}function kq(e){return e.pointerType!=="mouse"||e.button===0}function YEe(e){return!!e.native.shiftKey}function jT(e,t){e!=null&&e.consumesClicks&&t()}const Cq="attached",PT="tools",ZEe=1e3;let $u=class extends vt{constructor(t){super(t),this._updatingHandles=new I0,this._clock=Eg,this._manipulatorState=new KEe,this.tools=new st,this.cursor=null,this._interacting=!1,this._interactingTimeout=ZEe,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const r of this.tools.items)if(i(r))return}}initialize(){this.addHandles([this.view.on(Eae,t=>{this._handleInputEvent(t)},hp.TOOL),...JEe(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void Le.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),i!=null&&i.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const r of this.tools){this._updateToolEditableFlag(r);const n=ej(r);this.activeTool!=null&&n||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!n)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Lr(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([nt(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",i=>this._forEachManipulator(r=>r.onElevationChange(i)))],Cq):this.addHandles(nt(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(Cq),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:r})=>t(r,i))})}_handleInputEvent(t){let i=!1;const r={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(n=>{!i&&n.visible&&n.handleInputEvent(r)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(PT),this._forEachTool(t=>{if(t instanceof vt){const i=nt(()=>[t.cursor,t.visible,t.editable],()=>{ej(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,PT)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],PT)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var i;(i=t.setEditableFlag)==null||i.call(t,Jw.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};b([$({constructOnly:!0,nonNullable:!0})],$u.prototype,"view",void 0),b([$({value:null})],$u.prototype,"activeTool",null),b([$({readOnly:!0,type:st})],$u.prototype,"tools",void 0),b([$({readOnly:!0})],$u.prototype,"cursor",void 0),b([$({readOnly:!0})],$u.prototype,"updating",null),b([$()],$u.prototype,"_interacting",void 0),b([$({readOnly:!0})],$u.prototype,"interacting",null),$u=b([ne("esri.views.ToolViewManager")],$u);let wy=class extends vt{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":XEe.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return QEe[this.deviceType]}};b([$({nonNullable:!0,readOnly:!0})],wy.prototype,"nativeIndex",void 0),b([$({type:String,readOnly:!0})],wy.prototype,"deviceType",null),b([$({type:Number,readOnly:!0})],wy.prototype,"axisThreshold",null),wy=b([ne("esri.views.input.gamepad.GamepadInputDevice")],wy);const UN=wy,XEe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),QEe={standard:.15,spacemouse:.025,unknown:0};let Kb=class extends vt{constructor(...t){super(...t),this.devices=new st,this.enabledFocusMode="document"}};b([$({type:st.ofType(UN),readOnly:!0})],Kb.prototype,"devices",void 0),b([$({type:["document","view","none"]})],Kb.prototype,"enabledFocusMode",void 0),Kb=b([ne("esri.views.input.gamepad.GamepadSettings")],Kb);const eAe=Kb;let FS=class extends vt{constructor(){super(...arguments),this.gamepad=new eAe}};b([$({readOnly:!0})],FS.prototype,"gamepad",void 0),FS=b([ne("esri.views.input.Input")],FS);const tAe=FS,Lae=()=>yi.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let fd=class extends vt{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};b([$({type:Boolean,nonNullable:!0})],fd.prototype,"enabled",void 0),b([$({type:UN})],fd.prototype,"device",void 0),b([$({type:["pan","zoom"],nonNullable:!0})],fd.prototype,"mode",void 0),b([$({type:["forward-down","forward-up"],nonNullable:!0})],fd.prototype,"tiltDirection",void 0),b([$({type:Number,nonNullable:!0})],fd.prototype,"velocityFactor",void 0),fd=b([ne("esri.views.navigation.gamepad.GamepadSettings")],fd);const Nae=fd;let Pf=class extends vt{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new Nae,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!Lae()}};b([$({type:Boolean})],Pf.prototype,"browserTouchPanEnabled",void 0),b([$({type:Nae,nonNullable:!0})],Pf.prototype,"gamepad",void 0),b([$({type:Boolean})],Pf.prototype,"momentumEnabled",void 0),b([$({type:Boolean})],Pf.prototype,"mouseWheelZoomEnabled",void 0),Pf=b([ne("esri.views.navigation.Navigation")],Pf);const Fae=Pf,Dae={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},zae=Object.values(Dae),Vae=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${zae.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),iAe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${zae.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),rAe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function K3t(e){return Vae.test(e)}function Gg(e){if(e==null)return null;const t=Bn(e),i=(t==null?void 0:t.path.match(Vae))||(t==null?void 0:t.path.match(iAe));if(!i)return null;const[,r,n,o,c]=i,f=n.indexOf("/");return{title:GN(f!==-1?n.slice(f+1):n),serverType:Dae[o.toLowerCase()],sublayer:c!=null&&c!==""?parseInt(c,10):null,url:{path:r}}}function nAe(e){const t=Bn(e).path.match(rAe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function GN(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function sAe(e,t){const i=[];if(e){const r=Gg(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=GN(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function Bae(e){let t=Xa(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function oAe(e,t){return e&&Rie(Lie(e,t))}function aAe(e){let{url:t}=e;if(!t)return{url:t};t=Lie(t,e.logger);const i=Bn(t),r=Gg(i.path);let n;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(n=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const o=nAe(i.path);o!=null&&(t=o.serviceUrl,n=o.sublayerId)}return{url:Rie(t),layerId:n}}function lAe(e,t,i,r,n){Q0(t,r,"url",n),r.url&&e.layerId!=null&&(r.url=rg(r.url,i,e.layerId.toString()))}function uAe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return i&&(r||n||o)}var Iq;function cAe(e){var r;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Gg(e.url):void 0;return!(((r=e.spatialReference)==null?void 0:r.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&Uae(e)&&e.heightModelInfo?e.heightModelInfo:hAe(e)?$7.deriveUnitFromSR(pAe,e.spatialReference):null}function Uae(e){return"heightModelInfo"in e}function Gae(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function hAe(e){return Gae(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):qae(e)}function dAe(e){return e.layers!=null||qae(e)||Gae(e)||Uae(e)}function qae(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(Iq||(Iq={}));const pAe=new $7({heightModel:"gravity-related-height"});var kh;function Eq(e){return e===kh.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(kh||(kh={}));let tj,OT=null;async function fAe(e){OT||(OT=Ce(()=>import("./geometryServiceUtils-BrhLCFso.js"),[],import.meta.url).then(t=>tj=t)),await OT,qi(e)}async function Wae(e,t,i,r){if(!e)return null;const n=e.spatialReference;return Ah()||tu(n,t)?Np(e,t):tj?tj.projectGeometry(e,t,i,r):(await Promise.race([fAe(r),Mh(r)]),Wae(e,t,i,r))}let Ji=class extends vt{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=q0(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,n,o,c;const t=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t==null?void 0:t.basemap,layers:(n=t==null?void 0:t.basemap)==null?void 0:n.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(o=t==null?void 0:t.ground)==null?void 0:o.layers},{parent:t==null?void 0:t.basemap,layers:(c=t==null?void 0:t.basemap)==null?void 0:c.referenceLayers}),i}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:i}=this._allLayers;let r=null;for(const o of t){const c=this._getSupportedSpatialReferences(o);if(c.length>0){const f=this._narrowDownSpatialReferenceCandidates(r,c);f!=null&&(r=f)}if(r!=null&&r.length===1)break}if(i&&(r==null||r.length!==1))return{updating:!0};const n=this._pickSpatialReferenceCandidate(r);return{spatialReference:(n==null?void 0:n.spatialReference)??null,viewingMode:(n==null?void 0:n.viewingMode)??null,updating:!1}}get _tileInfoTask(){var r,n,o,c,f,g,v;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:i}=this._collectLayers([{parent:(n=(r=this.map)==null?void 0:r.call(this))==null?void 0:n.basemap,layers:(f=(c=(o=this.map)==null?void 0:o.call(this))==null?void 0:c.basemap)==null?void 0:f.baseLayers},{layers:(v=(g=this.map)==null?void 0:g.call(this))==null?void 0:v.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const _=t[0].tileInfo;return{tileInfo:_!=null&&_.spatialReference.equals(this.spatialReference)?_:null,updating:!1}}return{updating:i}}get _heightModelInfoTask(){var r,n,o;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:i}=this._allLayers;for(const c of t)if(dAe(c)){const f=cAe(c);if(f)return{heightModelInfo:f,vcsWkid:(n=c.spatialReference)==null?void 0:n.vcsWkid,latestVcsWkid:(o=c.spatialReference)==null?void 0:o.latestVcsWkid,updating:!1}}return{updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,i=t.updating,r=[];for(const n of t.layers){const o="fullExtents"in n&&n.fullExtents||(n.fullExtent!=null?[n.fullExtent]:[]),c=this.requiresExtentInSpatialReference?null:o[0],f=o.find(g=>g.spatialReference.equals(this.spatialReference))??c;if(f)return{candidates:[{extent:f,layer:n}],updating:!1};if(this._getSupportedSpatialReferences(n).length>0)for(const g of o)r.push({extent:g,layer:n})}return{candidates:r,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(t),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=q0(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:KL(async o=>{try{const c=await Wae(r.extent,n,"portalItem"in r.layer?r.layer.portalItem:void 0,o);this._projectExtentTask={...this._projectExtentTask,task:null,output:c}}catch{if($h(o))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;const r=new Array;for(const n of t)for(const o of i){if(!n.spatialReference.equals(o.spatialReference))continue;const c=mAe(n.viewingMode,o.viewingMode);if(c!==!1){r.push({spatialReference:n.spatialReference,viewingMode:c});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:r})=>r.equals(i))&&(t=t.filter(({spatialReference:r})=>r.equals(i))),t.length>1&&t.some(({viewingMode:r})=>r!==kh.Local)&&(t=t.filter(({viewingMode:r})=>r!==kh.Local)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const n of i){const o=this.getSpatialReferenceSupport(n,t);if(o!=null){const c=o.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:f,viewingMode:g}of c)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!f.equals(this.userSpatialReference)||r.push({spatialReference:f,viewingMode:g})}}return r}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:r})=>i.equals(r.spatialReference))||t[0]}_collectLayers(t){var r;if(this._loadMaybe((r=this.map)==null?void 0:r.call(this))!=="loaded")return{layers:[],updating:!0};const i=new yAe;for(const n of t)if(this._collectCollection(n,i),i.preloading===this.sourcePreloadCount)break;return{layers:i.layers,updating:i.updating}}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of t.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":i.updating||i.layers.push(r),"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{Os(i)||console.log(i)}),"loading"):t.loadStatus:"loaded"}};b([$()],Ji.prototype,"required",void 0),b([$({constructOnly:!0})],Ji.prototype,"map",void 0),b([$({constructOnly:!0})],Ji.prototype,"getSpatialReferenceSupport",void 0),b([$()],Ji.prototype,"defaultSpatialReference",void 0),b([$()],Ji.prototype,"userSpatialReference",void 0),b([$()],Ji.prototype,"sourcePreloadCount",void 0),b([$()],Ji.prototype,"priorityCollection",void 0),b([$()],Ji.prototype,"requiresExtentInSpatialReference",void 0),b([$()],Ji.prototype,"suspended",void 0),b([$({readOnly:!0})],Ji.prototype,"ready",null),b([$({readOnly:!0})],Ji.prototype,"heightModelInfoReady",null),b([$({readOnly:!0})],Ji.prototype,"spatialReference",null),b([$({readOnly:!0})],Ji.prototype,"extent",null),b([$({readOnly:!0})],Ji.prototype,"heightModelInfo",null),b([$({readOnly:!0})],Ji.prototype,"vcsWkid",null),b([$({readOnly:!0})],Ji.prototype,"latestVcsWkid",null),b([$({readOnly:!0})],Ji.prototype,"viewingMode",null),b([$({readOnly:!0})],Ji.prototype,"tileInfo",null),b([$({readOnly:!0})],Ji.prototype,"mapCollections",null),b([$({readOnly:!0})],Ji.prototype,"_allLayers",null),b([$({readOnly:!0})],Ji.prototype,"_spatialReferenceTask",null),b([$({readOnly:!0})],Ji.prototype,"_tileInfoTask",null),b([$({readOnly:!0})],Ji.prototype,"_heightModelInfoTask",null),b([$({readOnly:!0})],Ji.prototype,"_extentCandidatesTask",null),b([$()],Ji.prototype,"_extentTask",null),b([$()],Ji.prototype,"_projectExtentTask",void 0),Ji=b([ne("esri.views.support.DefaultsFromMap")],Ji);let yAe=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};function mAe(e,t){return e!=null?t!=null?e===t&&e:e:t}var Yb;let kt=Yb=class extends dl.EventedMixin(ix(vt)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new F3,this.updatingHandles=new I0,this.allLayerViews=new Z0({getCollections:()=>{var t,i,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:vAe}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new A0,this.analyses=new q4,this.typeSpecificPreconditionsReady=!0,this.layerViews=new st,this.magnifier=new Sae,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new tAe,this.navigation=new Fae,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new OEe(this),this.persistableViewModels=new st,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(nt(()=>this.preconditionsReady,t=>{var r,n;const i=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Yb.views.add(this)):(this._lockedSpatialReference=null,Yb.views.remove(this)),this.notifyChange("spatialReference"),!t&&i)(r=this.toolViewManager)==null||r.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown();else if(t&&!i){try{this._startup()}catch(o){return void queueMicrotask(()=>{this.fatalError=new we("startup-error",null,o)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},is))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,lg(()=>this.ready)))),this.basemapView=new pd({view:this}),this.layerViewManager=new wEe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new $u({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new jEe({view:this}),this.addHandles([nt(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Jo),nt(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},is),nt(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Jo)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([nt(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var r;const i=((r=this.map)==null?void 0:r.allLayers.length)>0;if(t&&!this.spatialReference&&i){if(e!=null)return;const n=Bi(()=>e=q0(e));e=KL(async o=>{try{await pL(this.spatialReferenceWarningDelay,null,o)}catch{return}finally{e=null}Le.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(n,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var e,t;this.destroyed||(Yb.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=rr(this.graphics),this.analyses=rr(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),rr(this.analysisViewManager),this.toolViewManager=rr(this.toolViewManager),this.layerViewManager=rr(this.layerViewManager),this.selectionManager=rr(this.selectionManager),this.basemapView=rr(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=rr(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Le.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ji({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||al.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(Le.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),al.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){var t,i;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((i=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&i.heightModelInfo)){const r=e.clone();return r.vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,r}return e}set spatialReference(e){const t=!tn(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ic}set timeZone(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));this._userTimeZone=e,e===ic||e===X0||t.has(e.toLowerCase())||i.has(e.toLowerCase())||Le.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new QA}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(e){throw new we("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&Le.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(oa(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};kt.views=new st,b([$()],kt.prototype,"_userSpatialReference",void 0),b([$()],kt.prototype,"activeTool",null),b([$({readOnly:!0})],kt.prototype,"allLayerViews",void 0),b([$()],kt.prototype,"groundView",void 0),b([$()],kt.prototype,"animation",null),b([$()],kt.prototype,"basemapView",void 0),b([$()],kt.prototype,"center",null),b([$({readOnly:!0})],kt.prototype,"_defaultsFromMapSettings",null),b([$()],kt.prototype,"defaultsFromMap",null),b([$()],kt.prototype,"fatalError",void 0),b([$({type:ci})],kt.prototype,"extent",null),b([$(PE(A0,"graphics"))],kt.prototype,"graphics",void 0),b([$(PE(q4,"analyses"))],kt.prototype,"analyses",void 0),b([$({readOnly:!0,type:$7})],kt.prototype,"heightModelInfo",null),b([$({readOnly:!0})],kt.prototype,"interacting",null),b([$({readOnly:!0})],kt.prototype,"navigating",null),b([$({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],kt.prototype,"preconditionsReady",null),b([$({readOnly:!0})],kt.prototype,"typeSpecificPreconditionsReady",void 0),b([$({type:st,readOnly:!0})],kt.prototype,"layerViews",void 0),b([$()],kt.prototype,"resolution",null),b([$({type:Sae})],kt.prototype,"magnifier",void 0),b([$({value:null,type:woe})],kt.prototype,"map",null),b([$()],kt.prototype,"padding",void 0),b([$({readOnly:!0})],kt.prototype,"ready",void 0),b([$({type:At})],kt.prototype,"spatialReference",null),b([$()],kt.prototype,"spatialReferenceWarningDelay",void 0),b([$()],kt.prototype,"stationary",null),b([$({readOnly:!0})],kt.prototype,"supportsGround",void 0),b([$({type:rc})],kt.prototype,"timeExtent",void 0),b([$({type:String,nonNullable:!0})],kt.prototype,"timeZone",null),b([$()],kt.prototype,"tools",null),b([$()],kt.prototype,"toolViewManager",void 0),b([$({readOnly:!0})],kt.prototype,"type",void 0),b([$({type:Number})],kt.prototype,"scale",void 0),b([$({readOnly:!0})],kt.prototype,"updating",void 0),b([$({readOnly:!0})],kt.prototype,"initialExtentRequired",void 0),b([$({readOnly:!0})],kt.prototype,"initialExtent",null),b([$()],kt.prototype,"cursor",null),b([$({readOnly:!0})],kt.prototype,"input",void 0),b([$({type:Fae,nonNullable:!0})],kt.prototype,"navigation",void 0),b([$()],kt.prototype,"layerViewManager",void 0),b([$()],kt.prototype,"analysisViewManager",void 0),b([$()],kt.prototype,"selectionManager",void 0),b([$()],kt.prototype,"width",void 0),b([$()],kt.prototype,"height",void 0),b([$({readOnly:!0})],kt.prototype,"resizing",void 0),b([$({value:null,readOnly:!0})],kt.prototype,"size",null),b([$({readOnly:!0})],kt.prototype,"suspended",void 0),b([$({readOnly:!0})],kt.prototype,"viewEvents",void 0),b([$({readOnly:!0})],kt.prototype,"persistableViewModels",void 0),b([$()],kt.prototype,"_isValid",void 0),b([$()],kt.prototype,"_readyCycleForced",void 0),b([$()],kt.prototype,"_lockedSpatialReference",void 0),b([$()],kt.prototype,"_userTimeZone",void 0),b([$()],kt.prototype,"_lockedTimeZone",void 0),b([$({type:QA})],kt.prototype,"theme",void 0),b([$({readOnly:!0,type:QA})],kt.prototype,"effectiveTheme",null),kt=Yb=b([ne("esri.views.View")],kt);const gAe=kt;function vAe(e){return e.layerViews}function Gr(){return[0,0]}function bAe(e){return[e[0],e[1]]}function lx(e,t){return[e,t]}function wAe(e,t=Gr()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function xAe(e,t){return new Float64Array(e,t,2)}function Hae(){return Gr()}function Jae(){return lx(1,1)}function Kae(){return lx(1,0)}function Yae(){return lx(0,1)}const _Ae=Hae(),SAe=Jae(),$Ae=Kae(),MAe=Yae();Object.freeze(Object.defineProperty({__proto__:null,ONES:SAe,UNIT_X:$Ae,UNIT_Y:MAe,ZEROS:_Ae,clone:bAe,create:Gr,createView:xAe,fromArray:wAe,fromValues:lx,ones:Jae,unitX:Kae,unitY:Yae,zeros:Hae},Symbol.toStringTag,{value:"Module"}));let yd=class extends V4{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=na(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new we("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,i){i||(i=Lp(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};b([$({readOnly:!0})],yd.prototype,"done",null),b([$({readOnly:!0,type:String})],yd.prototype,"state",void 0),b([$()],yd.prototype,"target",void 0),yd=b([ne("esri.views.ViewAnimation")],yd),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(yd||(yd={}));const ij=yd;function Lm(e,t){return e[0]=t[0],e[1]=t[1],e}function Rn(e,t,i){return e[0]=t,e[1]=i,e}function Zae(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Kw(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function Xae(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function Qae(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function TAe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function kAe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function CAe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function IAe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function EAe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function ux(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function AAe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function j7(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function Z4(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function X4(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function ele(e){const t=e[0],i=e[1];return t*t+i*i}function tle(e,t){return e[0]=-t[0],e[1]=-t[1],e}function jAe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function rj(e,t){const i=t[0],r=t[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function ile(e,t){return e[0]*t[0]+e[1]*t[1]}function rle(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function PAe(e,t,i,r){const n=t[0],o=t[1];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e}function OAe(e,t){t=t||1;const i=2*e7()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function RAe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e}function Du(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e}function LAe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e}function NAe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e}function FAe(e,t,i,r){const n=t[0]-i[0],o=t[1]-i[1],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f-o*c+i[0],e[1]=n*c+o*f+i[1],e}function DAe(e,t){const i=e[0],r=e[1],n=t[0],o=t[1];let c=i*i+r*r;c>0&&(c=1/Math.sqrt(c));let f=n*n+o*o;f>0&&(f=1/Math.sqrt(f));const g=(i*n+r*o)*c*f;return g>1?0:g<-1?Math.PI:Math.acos(g)}function zAe(e){return"vec2("+e[0]+", "+e[1]+")"}function VAe(e,t){return e[0]===t[0]&&e[1]===t[1]}function BAe(e,t){const i=e[0],r=e[1],n=t[0],o=t[1],c=eo();return Math.abs(i-n)<=c*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))}function UAe(e,t,i,r,n){let o=t[0]-i[0],c=t[1]-i[1];const f=(r[0]*o+r[1]*c)*(n-1);return o=r[0]*f,c=r[1]*f,e[0]=t[0]+o,e[1]=t[1]+c,e}const GAe=X4,qN=Kw,qAe=Xae,WAe=Qae,HAe=j7,JAe=Z4,KAe=ele;Object.freeze(Object.defineProperty({__proto__:null,add:Zae,angle:DAe,ceil:TAe,copy:Lm,cross:rle,dist:HAe,distance:j7,div:WAe,divide:Qae,dot:ile,equals:BAe,exactEquals:VAe,floor:kAe,inverse:jAe,len:GAe,length:X4,lerp:PAe,max:IAe,min:CAe,mul:qAe,multiply:Xae,negate:tle,normalize:rj,projectAndScale:UAe,random:OAe,rotate:FAe,round:EAe,scale:ux,scaleAndAdd:AAe,set:Rn,sqrDist:JAe,sqrLen:KAe,squaredDistance:Z4,squaredLength:ele,str:zAe,sub:qN,subtract:Kw,transformMat2:RAe,transformMat2d:Du,transformMat3:LAe,transformMat4:NAe},Symbol.toStringTag,{value:"Module"}));function YAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ZAe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function XAe(e,t,i,r,n,o,c){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=c,e}function WN(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5];let g=i*o-r*n;return g?(g=1/g,e[0]=o*g,e[1]=-r*g,e[2]=-n*g,e[3]=i*g,e[4]=(n*f-o*c)*g,e[5]=(r*c-i*f)*g,e):null}function QAe(e){return e[0]*e[3]-e[1]*e[2]}function nle(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=i[0],_=i[1],M=i[2],T=i[3],E=i[4],j=i[5];return e[0]=r*v+o*_,e[1]=n*v+c*_,e[2]=r*M+o*T,e[3]=n*M+c*T,e[4]=r*E+o*j+f,e[5]=n*E+c*j+g,e}function P7(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=Math.sin(i),_=Math.cos(i);return e[0]=r*_+o*v,e[1]=n*_+c*v,e[2]=r*-v+o*_,e[3]=n*-v+c*_,e[4]=f,e[5]=g,e}function HN(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=i[0],_=i[1];return e[0]=r*v,e[1]=n*v,e[2]=o*_,e[3]=c*_,e[4]=f,e[5]=g,e}function Yw(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=i[0],_=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=c,e[4]=r*v+o*_+f,e[5]=n*v+c*_+g,e}function sle(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function ole(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function JN(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function eje(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function tje(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function ije(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function ale(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function rje(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function nje(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function sje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function oje(e,t){const i=e[0],r=e[1],n=e[2],o=e[3],c=e[4],f=e[5],g=t[0],v=t[1],_=t[2],M=t[3],T=t[4],E=t[5],j=eo();return Math.abs(i-g)<=j*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(r-v)<=j*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-_)<=j*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(o-M)<=j*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(c-T)<=j*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-E)<=j*Math.max(1,Math.abs(f),Math.abs(E))}const aje=nle,lje=ale;Object.freeze(Object.defineProperty({__proto__:null,add:ije,copy:YAe,determinant:QAe,equals:oje,exactEquals:sje,frob:tje,fromRotation:sle,fromScaling:ole,fromTranslation:JN,identity:ZAe,invert:WN,mul:aje,multiply:nle,multiplyScalar:rje,multiplyScalarAndAdd:nje,rotate:P7,scale:HN,set:XAe,str:eje,sub:lje,subtract:ale,translate:Yw},Symbol.toStringTag,{value:"Module"}));function fh(){return[1,0,0,1,0,0]}function uje(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function cje(e,t,i,r,n,o){return[e,t,i,r,n,o]}function hje(e,t){return new Float64Array(e,t,6)}const dje=fh();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:dje,clone:uje,create:fh,createView:hje,fromValues:cje},Symbol.toStringTag,{value:"Module"}));const V_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Ga({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:At.WebMercator}),minus180Line:new Ga({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:At.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Ga({paths:[[[180,-180],[180,180]]],spatialReference:At.WGS84}),minus180Line:new Ga({paths:[[[-180,-180],[-180,180]]],spatialReference:At.WGS84})}};function f0(e,t){return Math.ceil((e-t)/(2*t))}function lle(e,t){const i=X2(e);for(const r of i)for(const n of r)n[0]+=t;return e}function X2(e){return Mm(e)?e.rings:e.paths}function O7(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function cx(e){return typeof e=="string"?Bn(e):be(e)}function R7(e,t,i){const r={};for(const n in e){if(n==="declaredClass")continue;const o=e[n];if(o!=null&&typeof o!="function")if(Array.isArray(o))r[n]=o.map(c=>R7(c));else if(typeof o=="object")if(o.toJSON){const c=o.toJSON(i==null?void 0:i[n]);r[n]=JSON.stringify(c)}else r[n]=JSON.stringify(o);else r[n]=o}return r}async function pje(e,t,i,r){const n=cx(e),o=t[0].spatialReference,c={...r,responseType:"json",query:{...n.query,f:"json",sr:M4(o),target:JSON.stringify({geometryType:Y3(t[0]),geometries:t}),cutter:JSON.stringify(i)}},f=await Vi(n.path+"/cut",c),{cutIndexes:g,geometries:v=[]}=f.data;return{cutIndexes:g,geometries:v.map(_=>{const M=_p(_);return M.spatialReference=o,M})}}function fje(e){return{geometryType:Y3(e[0]),geometries:e.map(t=>t.toJSON())}}function ule(e,t,i){const r=A4e(t);return e.map(n=>{const o=r.fromJSON(n);return o.spatialReference=i,o})}async function yje(e,t,i){const r=typeof e=="string"?Bn(e):e,n=t[0].spatialReference,o=Y3(t[0]),c={...i,query:{...r.query,f:"json",sr:M4(n),geometries:JSON.stringify(fje(t))}},{data:f}=await Vi(r.path+"/simplify",c);return ule(f.geometries,o,n)}const cle=()=>Le.getLogger("esri.geometry.support.normalizeUtils");function mje(e){return e.type==="polygon"}function gje(e){return e[0].type==="polygon"}function vje(e){return e[0].type==="polyline"}function Aq(e){const t=[];let i=0,r=0;for(let n=0;n<e.length;n++){const o=e[n];let c=null;for(let f=0;f<o.length;f++)c=o[f],t.push(c),f===0?(i=c[0],r=i):(i=Math.min(i,c[0]),r=Math.max(r,c[0]));c&&t.push([(i+r)/2,0])}return t}function bje(e,t){if(!(e instanceof Ga||e instanceof sa)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw cle().error(n),new we(n)}const i=X2(e),r=[];for(const n of i){const o=[];r.push(o),o.push([n[0][0],n[0][1]]);for(let c=0;c<n.length-1;c++){const f=n[c][0],g=n[c][1],v=n[c+1][0],_=n[c+1][1],M=Math.sqrt((v-f)*(v-f)+(_-g)*(_-g)),T=(_-g)/M,E=(v-f)/M,j=M/t;if(j>1){for(let V=1;V<=j-1;V++){const z=V*t,G=E*z+f,H=T*z+g;o.push([G,H])}const R=(M+Math.floor(j-1)*t)/2,N=E*R+f,F=T*R+g;o.push([N,F])}o.push([v,_])}}return mje(e)?new sa({rings:r,spatialReference:e.spatialReference}):new Ga({paths:r,spatialReference:e.spatialReference})}function jq(e,t,i){if(t){const r=bje(e,1e6);e=nm(r,!0)}return i&&(e=lle(e,i)),e}function Pq(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const n=f0(r,t);e[0]=r+n*(-2*t)}else if(r<i){const n=f0(r,i);e[0]=r+n*(-2*i)}}else{const r=e.x;if(r>t){const n=f0(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<i){const n=f0(r,i);e=e.clone().offset(n*(-2*i),0)}}return e}function wje(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const n=t.cutIndexes[r],o=t.geometries[r],c=X2(o);for(let f=0;f<c.length;f++){const g=c[f];g.some(v=>{if(v[0]<180)return!0;{let _=0;for(let T=0;T<g.length;T++){const E=g[T][0];_=E>_?E:_}_=Number(_.toFixed(9));const M=-360*f0(_,180);for(let T=0;T<g.length;T++){const E=o.getPoint(f,T);o.setPoint(f,T,E.clone().offset(M,0))}return!0}})}if(n===i){if(gje(e))for(const f of X2(o))e[n]=e[n].addRing(f);else if(vje(e))for(const f of X2(o))e[n]=e[n].addPath(f)}else i=n,e[n]=o}return e}async function xje(e,t,i){if(!Array.isArray(e))return xje([e],t);t&&typeof t!="string"&&cle().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof t=="string"?t:(t==null?void 0:t.url)??yi.geometryServiceUrl;let n,o,c,f,g,v,_,M,T=0;const E=[],j=[];for(const G of e)if(G!=null)if(n||(n=G.spatialReference,o=To(n),c=n.isWebMercator,v=c?102100:4326,f=V_[v].maxX,g=V_[v].minX,_=V_[v].plus180Line,M=V_[v].minus180Line),o)if(G.type==="mesh")j.push(G);else if(G.type==="point")j.push(Pq(G.clone(),f,g));else if(G.type==="multipoint"){const H=G.clone();H.points=H.points.map(Z=>Pq(Z,f,g)),j.push(H)}else if(G.type==="extent"){const H=G.clone()._normalize(!1,!1,o);j.push(H.rings?new sa(H):H)}else if(G.extent){const H=G.extent,Z=f0(H.xmin,g)*(2*f);let Y=Z===0?G.clone():lle(G.clone(),Z);H.offset(Z,0);let{xmin:re,xmax:q}=H;re=Number(re.toFixed(9)),q=Number(q.toFixed(9)),H.intersects(_)&&q!==f?(T=q>T?q:T,Y=jq(Y,c),E.push(Y),j.push("cut")):H.intersects(M)&&re!==g?(T=q*(2*f)>T?q*(2*f):T,Y=jq(Y,c,360),E.push(Y),j.push("cut")):j.push(Y)}else j.push(G.clone());else j.push(G);else j.push(G);let R=f0(T,f),N=-90;const F=R,V=new Ga;for(;R>0;){const G=360*R-180;V.addPath([[G,N],[G,-1*N]]),N*=-1,R--}if(E.length>0&&F>0){const G=wje(E,await pje(r,E,V,i)),H=[],Z=[];for(let q=0;q<j.length;q++){const W=j[q];if(W!=="cut")Z.push(W);else{const ee=G.shift(),le=e[q];le!=null&&le.type==="polygon"&&le.rings&&le.rings.length>1&&ee.rings.length>=le.rings.length?(H.push(ee),Z.push("simplify")):Z.push(c?Yl(ee):ee)}}if(!H.length)return Z;const Y=await yje(r,H,i),re=[];for(let q=0;q<Z.length;q++){const W=Z[q];W!=="simplify"?re.push(W):re.push(c?Yl(Y.shift()):Y.shift())}return re}const z=[];for(let G=0;G<j.length;G++){const H=j[G];if(H!=="cut")z.push(H);else{const Z=E.shift();z.push(c===!0?Yl(Z):Z)}}return z}function _je(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&To(e.spatialReference);if(!i)return t;const[r,n]=i.valid,o=2*n,{width:c}=t;let f,{xmin:g,xmax:v}=t;if([g,v]=[v,g],e.type==="extent"||c===0||c<=n||c>o||g<r||v>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;f=Aq(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;f=Aq(e.paths);break;case"multipoint":f=e.points}const _=t.clone();for(let M=0;M<f.length;M++){let T=f[M][0];T<0?(T+=n,v=Math.max(T,v)):(T-=n,g=Math.min(T,g))}return _.xmin=g,_.xmax=v,_.width<c?(_.xmin-=n,_.xmax-=n,_):t}function KN(e,t,i){const r=To(i);if(r==null)return e;const[n,o]=r.valid,c=2*o;let f=0,g=0;t>o?f=Math.ceil(Math.abs(t-o)/c):t<n&&(f=-Math.ceil(Math.abs(t-n)/c)),e>o?g=Math.ceil(Math.abs(e-o)/c):e<n&&(g=-Math.ceil(Math.abs(e-n)/c));let v=e+(f-g)*c;const _=v-t;return _>o?v-=c:_<n&&(v+=c),v}function Q3t(e,t){const i=To(t);if(i){const[r,n]=i.valid,o=n-r;if(e<r)for(;e<r;)e+=o;if(e>n)for(;e>n;)e-=o}return e}const hle=96,dle=39.37,Sje=180/Math.PI;function ple(e){return e.wkid?e:e.spatialReference||At.WGS84}function YN(e,t){return t.type?Rn(e,t.x,t.y):Lm(e,t)}function fle(e){return nu(e)}function L7(e,t,i=0){let r=e.width,n=e.height;if(i!==0){const f=Hd(i),g=Math.abs(Math.cos(f)),v=Math.abs(Math.sin(f));r=e.width*g+e.height*v,n=e.width*v+e.height*g}const o=Math.max(1,t[0]),c=Math.max(1,t[1]);return Math.max(r/o,n/c)*Aje(e.spatialReference)}async function Zb(e,t,i,r){var f,g;let n,o;if(!e||Array.isArray(e)&&!e.length)return null;if(st.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const v=e.every(T=>"attributes"in T),_=e.some(T=>!T.geometry);let M=e;if(v&&_&&t&&t.allLayerViews){const T=new Map;for(const N of e){const F=N.layer,V=T.get(F)||[],z=N.attributes[F.objectIdField];z!=null&&V.push(z),T.set(F,V)}const E=[];T.forEach((N,F)=>{const V=t.allLayerViews.find(z=>z.layer.id===F.id);if(V&&"queryFeatures"in V){const z=F.createQuery();z.objectIds=N,z.returnGeometry=!0,E.push(V.queryFeatures(z))}});const j=await Promise.all(E),R=[];for(const N of j)if(N&&N.features&&N.features.length)for(const F of N.features)F.geometry!=null&&R.push(F.geometry);M=R}for(const T of M)r=await Zb(T,t,i,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new Pt(e);else if(e instanceof Eh)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const v=e.layer,_=t.allLayerViews.find(M=>M.layer.id===v.id);if(_&&"queryFeatures"in _){const M=v.createQuery();M.objectIds=[e.attributes[v.objectIdField]],M.returnGeometry=!0;const T=await _.queryFeatures(M);n=(g=(f=T==null?void 0:T.features)==null?void 0:f[0])==null?void 0:g.geometry}}}if(n==null)return null;switch(n.type){case"point":o=new ci({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":o=_je(n);break;default:o=n.extent}if(!o)return null;Ah()||tu(o.spatialReference,i)||await Mh();const c=Np(o,i);if(!c)return null;if(r){const v=c.center,_=v.clone();_.x=KN(v.x,r.center.x,i),_.x!==v.x&&c.centerAt(_),r=r.union(c)}else r=c;return r}function $je(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const i=e.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(e)&&e.length&&e.every(i=>"layer"in i)){let i=0,r=0;for(const n of e){const o=n.layer;o!=null&&o.minScale&&o.maxScale&&(i=o.minScale<i?o.minScale:i,r=o.maxScale>r?o.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function Oq(e,t){return tn(ple(e),t)?e:Np(e,t)}async function Mje(e,t){var N;if(!e||!t)return new Qa({targetGeometry:new Pt,scale:0,rotation:0});let i=t.spatialReference;const{constraints:r,padding:n,viewpoint:o,size:c}=t,f=[n?c[0]-n.left-n.right:c[0],n?c[1]-n.top-n.bottom:c[1]];let g=null;e instanceof Qa?g=e:e.viewpoint?g=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(g=e.target);let v=null;g!=null&&g.targetGeometry?v=g.targetGeometry:e instanceof ci?v=e:e instanceof Eh?v=await Zb(e,t,i):e&&(v=await Zb(e.center,t,i)||await Zb(e.target,t,i)||await Zb(e,t,i)),!v&&(o!=null&&o.targetGeometry)?v=o.targetGeometry:!v&&t.extent&&(v=t.extent),i||(i=ple(t.spatialReference||t.extent||v)),Ah()||tn(v.spatialReference,i)||tu(v.spatialReference,i)||await Mh();const _=Oq(v,i),M="center"in _?_.center:_;t.pickClosestTarget!==!1&&M.type==="point"&&((N=o.targetGeometry)==null?void 0:N.type)==="point"&&(M.x=KN(M.x,o.targetGeometry.x,M.spatialReference));let T=0;g?T=g.rotation:e.hasOwnProperty("rotation")?T=e.rotation:o&&(T=o.rotation);let E=0;E=(g==null?void 0:g.targetGeometry)!=null&&g.targetGeometry.type==="point"?g.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(v)||v.type==="point"||v.type==="extent"&&v.width===0&&v.height===0?o.scale:L7(Oq(v.extent,i),f,T);const j=$je(e.target??e);j&&(j.min&&j.min<E?E=j.min:j.max&&j.max>E&&(E=j.max));let R=new Qa({targetGeometry:M,scale:E,rotation:T});return r&&(R=r.fit(R),r.constrainByGeometry(R),r.rotationEnabled||(R.rotation=o.rotation)),R}function ks(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function Tje(e,t,i){return i?Rn(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):ux(e,t,.5)}const kje=function(){const e=Gr();return function(t,i,r){const n=i.targetGeometry;YN(e,n);const o=.5*qg(i);return t.xmin=e[0]-o*r[0],t.ymin=e[1]-o*r[1],t.xmax=e[0]+o*r[0],t.ymax=e[1]+o*r[1],t.spatialReference=n.spatialReference,t}}();function Cje(e,t,i,r,n){var o;return nj(e,t,i.center),e.scale=L7(i,r),(o=n==null?void 0:n.constraints)==null||o.constrain(e),e}function Ije(e,t,i,r){return QN(e,t,i,r),WN(e,e)}const yle=function(){const e=Gr();return function(t,i,r){return qN(t,jje(t,i),Tje(e,i,r))}}(),Eje=function(){const e=fh(),t=Gr();return function(i,r,n,o){const c=qg(r),f=ZN(r);return Rn(t,c,c),ole(e,t),P7(e,e,f),Yw(e,e,yle(t,n,o)),Yw(e,e,[0,o.top-o.bottom]),Rn(i,e[4],e[5])}}();function qg(e){var t;return e.scale*mle((t=e.targetGeometry)==null?void 0:t.spatialReference)}function mle(e){return e!=null&&Zo(e)?1/(fle(e)*dle*hle):1}function ZN(e){return xL(e.rotation)||0}function Aje(e){return Zo(e)?fle(e)*dle*hle:1}function jje(e,t){return ux(e,t,.5)}const XN=function(){const e=Gr(),t=Gr(),i=Gr();return function(r,n,o,c,f,g){return tle(e,n),ux(t,o,.5*g),Rn(i,1/c*g,-1/c*g),JN(r,t),f&&P7(r,r,f),HN(r,r,i),Yw(r,r,e),r}}(),QN=function(){const e=Gr();return function(t,i,r,n){const o=qg(i),c=ZN(i);return YN(e,i.targetGeometry),XN(t,e,r,o,c,n)}}(),Pje=function(){const e=Gr();return function(t,i,r,n){const o=qg(i);return YN(e,i.targetGeometry),XN(t,e,r,o,0,n)}}();function gle(e){const t=To(e);return t?t.valid[1]-t.valid[0]:0}function Oje(e,t){return Math.round(gle(e)/t)}const Rje=function(){const e=Gr(),t=Gr(),i=[0,0,0];return function(r,n,o){Kw(e,r,n),rj(e,e),Kw(t,r,o),rj(t,t),rle(i,e,t);let c=Math.acos(ile(e,t)/(X4(e)*X4(t)))*Sje;return i[2]<0&&(c=-c),isNaN(c)&&(c=0),c}}(),Lje=function(){const e=Gr();return function(t,i,r,n){const o=t.targetGeometry;return ks(t,i),Eje(e,i,r,n),o.x+=e[0],o.y+=e[1],t}}(),nj=function(e,t,i){ks(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},Nje=function(){const e=Gr();return function(t,i,r,n,o){o||(o="center"),qN(e,r,n),ux(e,e,.5);const c=e[0],f=e[1];switch(o){case"center":Rn(e,0,0);break;case"left":Rn(e,-c,0);break;case"top":Rn(e,0,f);break;case"right":Rn(e,c,0);break;case"bottom":Rn(e,0,-f);break;case"top-left":Rn(e,-c,f);break;case"bottom-left":Rn(e,-c,-f);break;case"top-right":Rn(e,c,f);break;case"bottom-right":Rn(e,c,-f)}return N7(t,i,e),t}}();function ext(e,t,i){return ks(e,t),e.rotation+=i,e}function Fje(e,t,i){return ks(e,t),e.rotation=i,e}const Dje=function(){const e=Gr();return function(t,i,r,n,o){return ks(t,i),isNaN(r)||r===0||(ble(e,n,i,o),t.scale=i.scale*r,wle(e,e,t,o),N7(t,t,Rn(e,e[0]-n[0],n[1]-e[1]))),t}}();function Rq(e,t,i){return ks(e,t),e.scale=i,e}const vle=function(){const e=Gr();return function(t,i,r,n,o,c){return ks(t,i),isNaN(r)||r===0||(ble(e,o,i,c),t.scale=i.scale*r,t.rotation+=n,wle(e,e,t,c),N7(t,t,Rn(e,e[0]-o[0],o[1]-e[1]))),t}}(),txt=function(){const e=Gr(),t=Gr();return function(i,r,n,o,c,f,g){return yle(t,f,g),Zae(e,c,t),o?vle(i,r,n,o,e,f):Dje(i,r,n,e,f)}}(),ble=function(){const e=fh();return function(t,i,r,n){return Du(t,i,Ije(e,r,n,1))}}(),wle=function(){const e=fh();return function(t,i,r,n){return Du(t,i,QN(e,r,n,1))}}(),N7=function(){const e=Gr(),t=fh();return function(i,r,n){ks(i,r);const o=qg(r),c=i.targetGeometry;return sle(t,ZN(r)),HN(t,t,lx(o,o)),Du(e,n,t),c.x+=e[0],c.y+=e[1],i}}();function xle(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function zje(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Vje(e,t,i,r,n,o){const c=new Float32Array(6);return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=o,c}function Bje(e,t){return new Float32Array(e,t,6)}function _le(e,t,i,r){const n=t[r],o=t[r+1];e[r]=i[0]*n+i[2]*o+i[4],e[r+1]=i[1]*n+i[3]*o+i[5]}function Uje(e,t,i,r=0,n=0,o=2){const c=n||t.length/o;for(let f=r;f<c;f++)_le(e,t,i,f*o)}Object.freeze(Object.defineProperty({__proto__:null,clone:zje,create:xle,createView:Bje,fromValues:Vje,transform:_le,transformMany:Uje},Symbol.toStringTag,{value:"Module"}));function Gje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function qje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Sle(e,t,i,r,n,o,c,f,g,v){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=c,e[6]=f,e[7]=g,e[8]=v,e}function $le(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Wje(e,t){if(e===t){const i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Hje(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5],g=t[6],v=t[7],_=t[8],M=_*c-f*v,T=-_*o+f*g,E=v*o-c*g;let j=i*M+r*T+n*E;return j?(j=1/j,e[0]=M*j,e[1]=(-_*r+n*v)*j,e[2]=(f*r-n*c)*j,e[3]=T*j,e[4]=(_*i-n*g)*j,e[5]=(-f*i+n*o)*j,e[6]=E*j,e[7]=(-v*i+r*g)*j,e[8]=(c*i-r*o)*j,e):null}function Jje(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5],g=t[6],v=t[7],_=t[8];return e[0]=c*_-f*v,e[1]=n*v-r*_,e[2]=r*f-n*c,e[3]=f*g-o*_,e[4]=i*_-n*g,e[5]=n*o-i*f,e[6]=o*v-c*g,e[7]=r*g-i*v,e[8]=i*c-r*o,e}function Kje(e){const t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],c=e[5],f=e[6],g=e[7],v=e[8];return t*(v*o-c*g)+i*(-v*n+c*f)+r*(g*n-o*f)}function eF(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=t[6],_=t[7],M=t[8],T=i[0],E=i[1],j=i[2],R=i[3],N=i[4],F=i[5],V=i[6],z=i[7],G=i[8];return e[0]=T*r+E*c+j*v,e[1]=T*n+E*f+j*_,e[2]=T*o+E*g+j*M,e[3]=R*r+N*c+F*v,e[4]=R*n+N*f+F*_,e[5]=R*o+N*g+F*M,e[6]=V*r+z*c+G*v,e[7]=V*n+z*f+G*_,e[8]=V*o+z*g+G*M,e}function sj(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=t[6],_=t[7],M=t[8],T=i[0],E=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=c,e[4]=f,e[5]=g,e[6]=T*r+E*c+v,e[7]=T*n+E*f+_,e[8]=T*o+E*g+M,e}function Mle(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3],f=t[4],g=t[5],v=t[6],_=t[7],M=t[8],T=Math.sin(i),E=Math.cos(i);return e[0]=E*r+T*c,e[1]=E*n+T*f,e[2]=E*o+T*g,e[3]=E*c-T*r,e[4]=E*f-T*n,e[5]=E*g-T*o,e[6]=v,e[7]=_,e[8]=M,e}function Yje(e,t,i){const r=i[0],n=i[1],o=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function Zje(e,t,i){const r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function Xje(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Qje(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ePe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function tPe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function iPe(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=i+i,f=r+r,g=n+n,v=i*c,_=r*c,M=r*f,T=n*c,E=n*f,j=n*g,R=o*c,N=o*f,F=o*g;return e[0]=1-M-j,e[3]=_-F,e[6]=T+N,e[1]=_+F,e[4]=1-v-j,e[7]=E-R,e[2]=T-N,e[5]=E+R,e[8]=1-v-M,e}function rPe(e,t){const i=t[0],r=t[1],n=t[2],o=t[4],c=t[5],f=t[6],g=t[8],v=t[9],_=t[10],M=_*c-f*v,T=-_*o+f*g,E=v*o-c*g,j=i*M+r*T+n*E;if(!j)return null;const R=1/j;return e[0]=M*R,e[1]=(-_*r+n*v)*R,e[2]=(f*r-n*c)*R,e[3]=T*R,e[4]=(_*i-n*g)*R,e[5]=(-f*i+n*o)*R,e[6]=E*R,e[7]=(-v*i+r*g)*R,e[8]=(c*i-r*o)*R,e}function nPe(e,t){const i=t[0],r=t[1],n=t[2],o=t[3],c=t[4],f=t[5],g=t[6],v=t[7],_=t[8],M=t[9],T=t[10],E=t[11],j=t[12],R=t[13],N=t[14],F=t[15],V=i*f-r*c,z=i*g-n*c,G=i*v-o*c,H=r*g-n*f,Z=r*v-o*f,Y=n*v-o*g,re=_*R-M*j,q=_*N-T*j,W=_*F-E*j,ee=M*N-T*R,le=M*F-E*R,ue=T*F-E*N;let ae=V*ue-z*le+G*ee+H*W-Z*q+Y*re;return ae?(ae=1/ae,e[0]=(f*ue-g*le+v*ee)*ae,e[1]=(g*W-c*ue-v*q)*ae,e[2]=(c*le-f*W+v*re)*ae,e[3]=(n*le-r*ue-o*ee)*ae,e[4]=(i*ue-n*W+o*q)*ae,e[5]=(r*W-i*le-o*re)*ae,e[6]=(R*Y-N*Z+F*H)*ae,e[7]=(N*G-j*Y-F*z)*ae,e[8]=(j*Z-R*G+F*V)*ae,e):null}function sPe(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function oPe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function aPe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function lPe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function Tle(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function uPe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function cPe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e}function hPe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function dPe(e,t){const i=e[0],r=e[1],n=e[2],o=e[3],c=e[4],f=e[5],g=e[6],v=e[7],_=e[8],M=t[0],T=t[1],E=t[2],j=t[3],R=t[4],N=t[5],F=t[6],V=t[7],z=t[8],G=eo();return Math.abs(i-M)<=G*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(r-T)<=G*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(n-E)<=G*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(o-j)<=G*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(c-R)<=G*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-N)<=G*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(g-F)<=G*Math.max(1,Math.abs(g),Math.abs(F))&&Math.abs(v-V)<=G*Math.max(1,Math.abs(v),Math.abs(V))&&Math.abs(_-z)<=G*Math.max(1,Math.abs(_),Math.abs(z))}function pPe(e){const t=eo(),i=e[0],r=e[1],n=e[2],o=e[3],c=e[4],f=e[5],g=e[6],v=e[7],_=e[8];return Math.abs(1-(i*i+o*o+g*g))<=t&&Math.abs(1-(r*r+c*c+v*v))<=t&&Math.abs(1-(n*n+f*f+_*_))<=t}const fPe=eF,yPe=Tle;Object.freeze(Object.defineProperty({__proto__:null,add:lPe,adjoint:Jje,copy:qje,determinant:Kje,equals:dPe,exactEquals:hPe,frob:aPe,fromMat2d:tPe,fromMat4:Gje,fromQuat:iPe,fromRotation:Qje,fromScaling:ePe,fromTranslation:Xje,identity:$le,invert:Hje,isOrthoNormal:pPe,mul:fPe,multiply:eF,multiplyScalar:uPe,multiplyScalarAndAdd:cPe,normalFromMat4:nPe,normalFromMat4Legacy:rPe,projection:sPe,rotate:Mle,scale:Yje,scaleByVec2:Zje,set:Sle,str:oPe,sub:yPe,subtract:Tle,translate:sj,transpose:Wje},Symbol.toStringTag,{value:"Module"}));function DS(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function mPe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function gPe(e,t,i,r,n,o,c,f,g){const v=new Float32Array(9);return v[0]=e,v[1]=t,v[2]=i,v[3]=r,v[4]=n,v[5]=o,v[6]=c,v[7]=f,v[8]=g,v}function vPe(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:mPe,create:DS,createView:vPe,fromValues:gPe},Symbol.toStringTag,{value:"Module"}));function kle(){return new Float32Array(2)}function bPe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function fg(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function wPe(e,t){return new Float32Array(e,t,2)}function Cle(){return kle()}function Ile(){return fg(1,1)}function Ele(){return fg(1,0)}function Ale(){return fg(0,1)}const xPe=Cle(),_Pe=Ile(),SPe=Ele(),$Pe=Ale();Object.freeze(Object.defineProperty({__proto__:null,ONES:_Pe,UNIT_X:SPe,UNIT_Y:$Pe,ZEROS:xPe,clone:bPe,create:kle,createView:wPe,fromValues:fg,ones:Ile,unitX:Ele,unitY:Ale,zeros:Cle},Symbol.toStringTag,{value:"Module"}));function MPe(e){return e instanceof Float32Array&&e.length>=2}function TPe(e){return Array.isArray(e)&&e.length>=2}function RT(e){return MPe(e)||TPe(e)}var oj;const vc=[0,0];let md=oj=class extends Ne{constructor(e){super(e),this._viewpoint2D={center:Gr(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new ci,this.id=0,this.inverseTransform=fh(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=fh(),this.transformNoRotation=fh(),this.displayMat3=DS(),this.displayViewMat3=DS(),this.viewMat3=DS(),this.viewMat2d=xle(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=ks(i,e.viewpoint),this._set("size",Lm(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new oj({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return RT(t)?Du(e,t,this.inverseTransform):(vc[0]=t,vc[1]=i,Du(e,vc,this.inverseTransform))}toScreen(e,t,i){return RT(t)?Du(e,t,this.transform):(vc[0]=t,vc[1]=i,Du(e,vc,this.transform))}toScreenNoRotation(e,t,i){return RT(t)?Du(e,t,this.transformNoRotation):(vc[0]=t,vc[1]=i,Du(e,vc,this.transformNoRotation))}wrapMapCoordinate(e,t){Lm(e,t);const[i]=t,[r]=this.center,{extent:n,spatialReference:o}=this;let{xmin:c,xmax:f}=n;if(o.isWrappable){const g=gle(o)/2;c=Math.max(c,r-g),f=Math.min(f,r+g)}return(i<c||i>f)&&(e[0]=KN(i,r,o)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return XN(e,i,n,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,o=this._get("size"),c=new Qa({targetGeometry:new Pt(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",c),!o||!t||!i)return;this.resolution=qg(c),this.rotation=r,this.scale=i,this.spatialReference=t,Lm(this.center,e);const f=o[0]!==0?2/o[0]:0,g=o[1]!==0?-2/o[1]:0;Sle(this.displayMat3,f,0,0,0,g,0,-1,1,1);const v=$le(this.viewMat3),_=fg(o[0]/2,o[1]/2),M=fg(-o[0]/2,-o[1]/2),T=xL(r);sj(v,v,_),Mle(v,v,T),sj(v,v,M),eF(this.displayViewMat3,this.displayMat3,v);const E=JN(this.viewMat2d,_);return P7(E,E,T),Yw(E,E,M),kje(this.extent,c,o),QN(this.transform,c,o,n),WN(this.inverseTransform,this.transform),Pje(this.transformNoRotation,c,o,n),this.worldScreenWidth=Oje(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};b([$({readOnly:!0})],md.prototype,"id",void 0),b([$({value:1,json:{write:!0}})],md.prototype,"pixelRatio",null),b([$({json:{write:!0}})],md.prototype,"size",null),b([$()],md.prototype,"spatialReference",void 0),b([$({type:Qa,json:{write:!0}})],md.prototype,"viewpoint",null),md=oj=b([ne("esri.views.2d.ViewState")],md);const Lq=md;var aj,lj;let nh=aj=class extends vt{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new aj({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};b([$()],nh.prototype,"left",void 0),b([$()],nh.prototype,"top",void 0),b([$()],nh.prototype,"right",void 0),b([$()],nh.prototype,"bottom",void 0),nh=aj=b([ne("esri.views.2d.PaddedViewState.Padding")],nh);let xy=lj=class extends Lq{constructor(...e){super(...e),this.paddedViewState=new Lq,this._updateContent=(()=>{const t=Gr();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const n=this.paddedViewState;Rn(t,r.left+r.right,r.top+r.bottom),Kw(t,i,t),Lm(n.size,t);const o=n.viewpoint;o&&(this.viewpoint=o)}})(),this.addHandles(nt(()=>[this.size,this.padding],()=>this._updateContent(),is)),this.padding=new nh,this.size=[0,0]}set padding(e){this._set("padding",e||new nh)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;const t=this._viewpoint2D;if(this._get("padding")){const i=e.clone();Lje(i,e,this._get("size"),this._get("padding"));const r=i.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=i.rotation,t.scale=i.scale,t.spatialReference=r.spatialReference}else{const i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}}clone(){return new lj({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};b([$()],xy.prototype,"paddedViewState",void 0),b([$({type:nh})],xy.prototype,"padding",null),b([$()],xy.prototype,"viewpoint",null),xy=lj=b([ne("esri.views.2d.PaddedViewState")],xy);const tF=xy;function e0(e,t,i,r){const n=3*e,o=3*(i-e)-n,c=1-n-o,f=3*t,g=3*(r-t)-f,v=1-f-g;function _(j){return((c*j+o)*j+n)*j}function M(j){return((v*j+g)*j+f)*j}function T(j){return(3*c*j+2*o)*j+n}function E(j,R){let N,F,V,z,G,H;for(V=j,H=0;H<8;H++){if(z=_(V)-j,Math.abs(z)<R)return V;if(G=T(V),Math.abs(G)<1e-6)break;V-=z/G}if(N=0,F=1,V=j,V<N)return N;if(V>F)return F;for(;N<F;){if(z=_(V),Math.abs(z-j)<R)return V;j>z?N=V:F=V,V=.5*(F-N)+N}return V}return function(j,R=1e-6){return M(E(j,R))}}const kPe=/^cubic-bezier\((.*)\)/,Pu={};function CPe(e){let t=Pu[e]||null;if(!t){const i=kPe.exec(e);if(i){const r=i[1].split(",").map(n=>parseFloat(n.trim()));r.length!==4||r.some(n=>isNaN(n))||(t=e0.apply(e0,r))}}return t}Pu.ease=e0(.25,.1,.25,1),Pu.linear=e0(0,0,1,1),Pu.easeIn=Pu["ease-in"]=e0(.42,0,1,1),Pu.easeOut=Pu["ease-out"]=e0(0,0,.58,1),Pu.easeInOut=Pu["ease-in-out"]=e0(.42,0,.58,1);let Nq=class{constructor(t){this._view=t,this.viewpoint=new Qa({targetGeometry:new Pt,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,i]=this._view.size;return Math.sqrt(t*t+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return mle(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotateAtZoom(t){return this.size/2}compareTo(t,i){i.pan=sre(this.center,t.center);let r=Math.abs(t.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=Hd(r),i.sourceZoom=this.scale,i.targetZoom=t.scale}interpolate(t,i,r){const{pan:n,rotate:o,zoom:c,zoomOffset:f}=r,{center:g}=this;g.spatialReference=t.center.spatialReference,g.x=vb(t.center.x,i.center.x,n),g.y=vb(t.center.y,i.center.y,n),this.viewpoint.scale=vb(t.scale,i.scale+f,c);let v=t.rotation;const _=i.rotation;Math.abs(_-v)>=180&&(v+=360*(v<_?1:-1)),this.viewpoint.rotation=vb(v,_,o)}copyFrom(t){ks(this.viewpoint,t.viewpoint),this._view=t.view}};const jle=e=>e*e,IPe=e=>1-jle(1-e),EPe=e=>2**(10*(e-1)),APe=e=>1-EPe(1-e);function jPe(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function PPe(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const Fq=PPe(jPe(1),.5);let OPe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Zw={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},Ple={...Zw,maxDuration:4e3};let RPe=class Ole{constructor(t){this._createCamera=t,this.compared=new OPe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Zw.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new Ole(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,i,r){this.source!==t&&this.source.copyFrom(t),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow!=null?r.desiredScreenFlow:Zw.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const i=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>eo()}get hasFov(){return Math.abs(this.compared.fov)>eo()}get hasRotate(){return this.compared.rotate>eo()}},LPe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},NPe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let r=0,n=0;const o=this.definition,c=this.segments.reduce((f,g)=>f||g.definition.hasZoom,!1);for(let f=0;f<this.segments.length;f++){const g=this.segments[f],v=g.definition;if(t<=g.time||f===this.segments.length-1){if(this.segmentInterpolateComponentsAt(g,g.time===0?0:t/g.time,i),o.hasPan&&!isNaN(i.pan)&&isFinite(o.compared.pan)?i.pan=(r+v.compared.pan*i.pan)/o.compared.pan:i.pan=1,o.hasRotate&&!isNaN(i.rotate)&&isFinite(o.compared.rotate)?i.rotate=(n+v.compared.rotate*i.rotate)/o.compared.rotate:i.rotate=1,c&&!isNaN(i.zoom)&&isFinite(v.compared.targetZoom)){const{sourceZoom:_,targetZoom:M}=v.compared,T=i.zoom*(M-_)+_,E=this.segments[0].definition.compared.sourceZoom,j=this.segments[this.segments.length-1].definition.compared.targetZoom,R=Math.abs(M-E)>Math.abs(_-E)?M:_;i.zoomOffset=R-j,i.zoom=(T-E)/(R-E)}else i.zoom=1;return i}t-=g.time,r+=v.compared.pan,n+=v.compared.rotate}}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r)}},LT=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,r=i.sourceZoom,n=i.targetZoom;this._zoomSign=r>n?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(r);const o=(t.source.pixelsPerRotateAtZoom(r)+t.target.pixelsPerRotateAtZoom(n))/2;this._rotatePixels=i.rotate*o}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:n,hasRotate:o}=this.definition;let c=0,f=0;r&&(n&&(c=(i/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),o&&(f=this._zoomSign*(Math.log(t/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const g=this.definition.desiredPixelFlow;if(r&&n&&o){const v=c+f+c*f;this._zoomPixelFlow=c*f/v*g,this._panPixelFlow=f/v*g,this._rotatePixelFlow=c/v*g}else if(r&&n){const v=1+c;this._zoomPixelFlow=c/v*g,this._panPixelFlow=1/v*g}else if(r&&o){const v=1+f;this._zoomPixelFlow=f/v*g,this._rotatePixelFlow=1/v*g}else if(n&&o){const v=this._panPixelsAtSource/this._rotatePixels,_=1+v;this._panPixelFlow=v/_*g,this._rotatePixelFlow=1/_*g}else n?this._panPixelFlow=g:r?this._zoomPixelFlow=g:o&&(this._rotatePixelFlow=g);this._time=this.rotateTime??this.zoomTime??this.panTime??this.fovTime??0}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:null}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:null}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/FPe:null}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=t*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-t-i)/(r-i)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+t*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),i.zoom=this._interpolateComponentsZoom(t),i.pan=this._interpolateComponentsPan(t),i.rotate=this._interpolateComponentsRotate(t),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(t)}};const FPe=Hd(90);function DPe(e,t,i){const r=t-e.compared.sourceZoom,n=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+n)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*n)}function zPe(e,t,i){const r=1/t,n=Math.log(e.compared.sourceZoom*r),o=1/e.desiredPixelFlow,c=1/Math.LN2,f=t-e.compared.sourceZoom,g=1/f,v=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(f))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*o*c*g*v-e.halfWindowSize*n*o*c*g+e.halfWindowSize*n*o*c*v/(f*f)}function VPe(e,t,i){const r=t-e.compared.sourceZoom,n=1/r,o=1/t,c=Math.log(e.compared.sourceZoom*o),f=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*o*f+2*n*c+2*o-2*c*f/(r*r)-f/(t*t))/(e.desiredPixelFlow*Math.LN2)}function BPe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function UPe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function GPe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function qPe(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function WPe(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function HPe(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function JPe(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function KPe(e,t,i){const r=Math.log(t/e.compared.targetZoom),n=1/e.desiredPixelFlow,o=1/Math.LN2,c=-t+e.compared.targetZoom,f=1/c,g=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*n*o*f+e.halfWindowSize*r*n*o*g/(c*c)+e.halfWindowSize*n*o*f*g/t}function YPe(e,t,i){const r=t-e.compared.targetZoom,n=1/r,o=1/t,c=Math.log(t/e.compared.targetZoom),f=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*o*f-2*n*c+2*o+2*c*f/(r*r)-f/(t*t))/(e.desiredPixelFlow*Math.LN2)}function ZPe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function XPe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function QPe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function eOe(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,n=e.halfWindowPanAtZoom(r),o=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*n);return e.compared.sourceZoom<=e.compared.targetZoom?o*(i-n):o*(i+n)}function tOe(e,t){let i=iOe(e,t);const r={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},n=r.ascensionFactor===0,o=r.descensionFactor===0,c=n?BPe:DPe,f=n?UPe:zPe,g=n?GPe:VPe,v=o?ZPe:JPe,_=o?XPe:KPe,M=o?QPe:YPe,T=G=>c(e,G,r)+qPe(e,G,r)+v(e,G,r),E=G=>f(e,G,r)+WPe(e,G,r)+_(e,G,r),j=G=>g(e,G,r)+HPe(e,G,r)+M(e,G,r);let R=T(i);const N=eOe(e);let F;const V=t.maximumIterations||20,z=t.maximumDistance!=null?t.maximumDistance:1/0;for(F=0;F<V;F++){const G=t.desiredSlope??1e-6;let H=E(i);Math.abs(H)>G&&(H+=G);const Z=H/j(i);if(isNaN(Z)||i>=z&&Z<0){if(!isFinite(z))return null;i=z,R=T(i);break}if(i-=Z,i<e.compared.sourceZoom||i<e.compared.targetZoom)return null;const Y=T(i);if(Math.abs(Y-R)/R<=.005)break;R=Y}return R>N*(1-.3)||i<e.compared.sourceZoom||i<e.compared.targetZoom?null:i}function iOe(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?t.maximumDistance!=null?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}let rOe=class extends NPe{constructor(t,i){super(),this._preallocSegments=[new LT,new LT,new LT],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,i)}update(t,i){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const r=i!=null&&i.apex?tOe(t,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r),t===this._ascensionSegment?r.zoom=IPe(r.zoom):t===this._descensionSegment&&(r.zoom=jle(r.zoom))}_updateWithApex(t,i){const[r,n,o]=this._preallocSegments,c=(i==null?void 0:i.ascensionFactor)??.5,f=Math.min(1-c,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),g=1-c-f;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*c,r.definition.compared.rotate=this.definition.compared.rotate*c,r.definition.segmentEnd=c,r.update(),this._ascensionSegment=r,this.segments.push(r),g>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=t,n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*g,n.definition.compared.rotate=this.definition.compared.rotate*g,n.definition.segmentStart=r.definition.segmentEnd,n.definition.segmentEnd=r.definition.segmentEnd+g,n.update(),this.segments.push(n)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=t,o.definition.compared.pan=this.definition.compared.pan*f,o.definition.compared.rotate=this.definition.compared.rotate*f,o.definition.segmentStart=c+g,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const nOe=new LPe;let sOe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=Fq,this.definition=new RPe(t),this.path=new rOe}update(t,i,r){this.definition.update(t,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(qxe(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?Fq:APe)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const r=this.path.interpolateComponentsAt(t,nOe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(t){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(r-i)}_applyTimeSettings(t,i){const r=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??Zw.minDuration/r,o=i.maxDuration??Zw.maxDuration/r;return t=i.duration!=null?i.duration:Math.min(Math.max(t/r,n),o)}};const Dq=2e3,oOe=64;let aOe=class{constructor(t){this._view=t,this._animation=new sOe(()=>new Nq(this._view)),this._current=new Nq(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,i,r={}){ks(this._current.viewpoint,t),ks(this._source.viewpoint,t),ks(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(t,i){this._animation.cameraAt(i,this._current),ks(t,this._current.viewpoint)}},_y=class extends vt{constructor(t){super(t),this._animation=null,this._destinationViewState=new tF,this.updateFunction=null,this.easing=Pu.ease,this.viewpoint=new Qa({targetGeometry:new Pt,scale:0,rotation:0}),this._updateTask=tg({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new aOe(t.view)}destroy(){this._updateTask=Lr(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,r){this.stop();const n=this.viewpoint;ks(n,i);const o=(typeof(r==null?void 0:r.easing)=="string"?CPe(r.easing):r==null?void 0:r.easing)||this.easing,c=t.target;this._transition.update(this.viewpoint,c,{apex:{maximumDistance:Math.min(Math.min(i.scale,c.scale)*oOe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??Ple.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:typeof o=="function"?g=>o(g):void 0}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=c,lOe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,c,{duration:0}));const f=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(f,f),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const r=new ij({target:t.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var r,n;const i=this.animation;if(i&&i.state!==ij.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const o=performance.now()-this._startTime,c=this._transition.duration,f=c>0?o/c:1,g=f>=1;this._transition.applyRatio(this.viewpoint,f),g&&((n=this.animation)==null||n.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function lOe(e,t,i,r){if((t==null?void 0:t.duration)!=null)return!0;const{time:n,isLinear:o}=e,c=(t==null?void 0:t.speedFactor)||1,f=(t==null?void 0:t.maxDuration)??Ple.maxDuration/c;if(ke("esri-goto-debug")&&(console.log("speed factor:",c),console.log("adjusted duration:		",n),console.log("adjusted max duration:	",f),console.log("is linear:",o)),n>f)return ke("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${f/1e3}s`),!1;if(o){const v=Gr(),_=rs(...r.toScreen(v,...i.center)),M=rs(...i.toScreen(v,...r.center)),T=M!=null&&M.x>-(1.5-.5)*i.size[0]&&M.x<(1.5+.5)*i.size[0]&&M.y>-(1.5-.5)*i.size[1]&&M.y<(1.5+.5)*i.size[1],E=_!=null&&_.x>-(1.5-.5)*r.size[0]&&_.x<(1.5+.5)*r.size[0]&&_.y>-(1.5-.5)*r.size[1]&&_.y<(1.5+.5)*r.size[1];if(ke("esri-goto-debug")&&(console.log(`dest is within ${1.5} screens at start view:`,T),console.log(`start is within ${1.5} screens at dest view:`,E)),n>Dq/c&&!T&&!E)return ke("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...
  - shorter than ${Dq/1e3/c}s, or
  - shorter than ${f/1e3}s and the destination is close enough to the starting screen, or
  - shorter than ${f/1e3}s and the start point is close enough to the destination screen`),!1}return!0}b([$()],_y.prototype,"easing",void 0),b([$()],_y.prototype,"view",void 0),b([$()],_y.prototype,"viewpoint",void 0),_y=b([ne("esri.views.2d.AnimationManager")],_y);const uOe=_y;let cOe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation&&!("then"in this.view.animation.target)&&(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=()=>{var c,f;if(this._updateRequested=!1,(c=this.view)==null?void 0:c.destroyed)return;const{allLayerViews:i,graphicsView:r,labelManager:n,state:{id:o}}=this.view;i.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),r!=null&&(r.lastUpdateId!==o&&(r.viewChange(),r.lastUpdateId=o),r.updateRequested&&r.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((f=this._frameTaskHandle)==null||f.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new tF,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=nt(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=tg(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var n;if(!t.attached)return void this.requestUpdate();const i=this.view.state,r=t.lastUpdateId;r!=null&&(this.stationary||t.moving)||(t.moving=!0),r!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((n=t.layerViews)==null||n.forEach(this._updateLayerView,this))}},zS=class extends vt{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,i){if(!t)return void Le.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new ij;this.view.animation=r,await lg(()=>this.view.ready,i);const n={...i,animate:(i==null?void 0:i.animate)??!Lae(),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:o,spatialReference:c,size:f,viewpoint:g,constraints:v,padding:_,allLayerViews:M}=this.view,T=Mje(t,{extent:o,spatialReference:c,size:f,viewpoint:g,constraints:v,padding:_,allLayerViews:M,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(T),this._gotoTask={},n.animate?this._gotoAnimated(T,n):this._gotoImmediate(T,n)}_gotoImmediate(t,i){const r=this._gotoTask,n=this.view.animation,o=t.then(c=>{if(qi(i),r!==this._gotoTask)throw new we("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=c,n.finish()});return this._cancellableGoTo(r,n,o,i)}_gotoAnimated(t,i){const r=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const o=t.then(c=>{if(qi(i),r!==this._gotoTask)throw new we("view:goto-interrupted","Goto was interrupted");return n.update(c),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,o,i)}_cancellableGoTo(t,i,r,n){const o=()=>t===this._gotoTask;return jte(r,n).finally(()=>{o()&&(i.done||i.stop())})}};b([$({constructOnly:!0})],zS.prototype,"view",void 0),zS=b([ne("esri.views.2d.GoToManager")],zS);function fr(){return Promise.all([Ce(()=>import("./webglDeps-BKXu2rVn.js"),__vite__mapDeps([133,64,63,33,134,135]),import.meta.url),Ce(()=>import("./mapViewDeps-BDYOjfNC.js"),__vite__mapDeps([136,71,69,70,11,72,62,59,73,65,137,103,76,33,66,67,28,63,64,61,34,68,77,78,79,138,139,140,135,87,112,111,13,10,14,110,133,134,141,82,142,60,20,17,7,143,144,145,105,146,147,148,149,49,150,80,151,75,152,153,154,155,156,157,158]),import.meta.url)])}const Dv=()=>fr().then(()=>Ce(()=>import("./TileLayerView2D-_YgI6-Oa.js"),__vite__mapDeps([159,72,69,70,71,11,62,59,73,65,103,139,138,68,33,63,140,61,64,34,135,87,112,111,78,13,10,14,110,141,82,142,60,66,67,28,20,17,7,49,151,79,76,77,144,145,105,152,153,160,161,157,162,163,155,156,164,165,166,167,168]),import.meta.url)),U1=()=>fr().then(()=>Ce(()=>import("./FeatureLayerView2D-k9SzOe3P.js").then(e=>e.F),__vite__mapDeps([169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),zq={"base-dynamic":()=>fr().then(()=>Ce(()=>import("./BaseDynamicLayerView2D-D5pGMXd-.js"),__vite__mapDeps([173,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,175,161,164]),import.meta.url)),"base-tile":Dv,"bing-maps":Dv,catalog:()=>fr().then(()=>Ce(()=>import("./CatalogLayerView2D-VVzk1wx8.js"),__vite__mapDeps([176,162,138,139,68,59,33,63]),import.meta.url)),"catalog-dynamic-group":()=>fr().then(()=>Ce(()=>import("./CatalogDynamicGroupLayerView2D-CeFdMjww.js"),__vite__mapDeps([177,162,138,139,68,59,33,63]),import.meta.url)),"catalog-footprint":()=>fr().then(()=>Ce(()=>import("./CatalogFootprintLayerView2D-Cs-SPGd3.js"),__vite__mapDeps([178,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),csv:U1,"geo-rss":()=>fr().then(()=>Ce(()=>import("./GeoRSSLayerView2D-xqwrvqdm.js"),__vite__mapDeps([179,162,138,139,68,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),feature:U1,geojson:U1,graphics:()=>fr().then(()=>Ce(()=>import("./GraphicsLayerView2D-008CGhdJ.js"),__vite__mapDeps([180,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153,172]),import.meta.url)),group:()=>fr().then(()=>Ce(()=>import("./GroupLayerView2D-SB4yVzeD.js"),__vite__mapDeps([181,162,138,139,68,59,33,63]),import.meta.url)),imagery:()=>fr().then(()=>Ce(()=>import("./ImageryLayerView2D-BtHXs0lE.js"),__vite__mapDeps([182,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,152,69,70,71,72,73,60,66,67,28,20,17,7,151,79,153,163,155,156,157,174,161,175,97,170,168,164]),import.meta.url)),"imagery-tile":()=>fr().then(()=>Ce(()=>import("./ImageryTileLayerView2D-vfgeIgxN.js"),__vite__mapDeps([184,185,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,186,157,187,97,170,168,164]),import.meta.url)),kml:()=>fr().then(()=>Ce(()=>import("./KMLLayerView2D-CjCAe7aX.js"),__vite__mapDeps([188,189,161,138,139,68,59,33,63,174,140,61,62,64,34,65,135,87,112,111,78,13,10,11,14,162,154,155,156,66,67,28,157,151,69,70,71,72,73,79,152,60,20,17,7,153,97,143,133,134,144,145,105,142,103,146,186]),import.meta.url)),"knowledge-graph":()=>fr().then(()=>Ce(()=>import("./KnowledgeGraphLayerView2D-CzjtSkII.js"),__vite__mapDeps([190,162,138,139,68,59,33,63]),import.meta.url)),"link-chart":()=>fr().then(()=>Ce(()=>import("./KnowledgeGraphLayerView2D-CzjtSkII.js"),__vite__mapDeps([190,162,138,139,68,59,33,63]),import.meta.url)),"knowledge-graph-sublayer":U1,"map-image":()=>fr().then(()=>Ce(()=>import("./MapImageLayerView2D-BZKJTTMM.js"),__vite__mapDeps([191,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,152,69,70,71,72,73,60,66,67,28,20,17,7,151,79,153,163,155,156,157,175,161,192,166,167,170,164,165,168]),import.meta.url)),"map-notes":()=>fr().then(()=>Ce(()=>import("./MapNotesLayerView2D-DFCneuP9.js"),__vite__mapDeps([193,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),media:()=>fr().then(()=>Ce(()=>import("./MediaLayerView2D-PNRP1k4M.js"),__vite__mapDeps([194,195,153,38,72,69,70,71,11,62,59,73,65,103,139,138,68,33,63,140,61,64,34,135,87,112,111,78,13,10,14,110,141,82,142,60,66,67,28,20,17,7,49,151,79,76,77,144,145,105,152,150,80,196,162]),import.meta.url)),"ogc-feature":()=>fr().then(()=>Ce(()=>import("./OGCFeatureLayerView2D-DK5J5gU4.js"),__vite__mapDeps([197,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),"open-street-map":Dv,"oriented-imagery":U1,route:()=>fr().then(()=>Ce(()=>import("./RouteLayerView2D-CpLxDDDP.js"),__vite__mapDeps([198,199,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),stream:()=>fr().then(()=>Ce(()=>import("./StreamLayerView2D-DcwSfH7T.js"),__vite__mapDeps([200,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),"subtype-group":()=>fr().then(()=>Ce(()=>import("./SubtypeGroupLayerView2D--mIrh71U.js"),__vite__mapDeps([201,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),tile:Dv,"vector-tile":()=>fr().then(()=>Ce(()=>import("./VectorTileLayerView2D-DurtqRbx.js"),__vite__mapDeps([202,110,73,33,63,49,149,103,79,72,64,135,111,140,59,61,62,34,65,87,138,139,68,112,78,13,10,11,14,157,16,113,114,162]),import.meta.url)),video:()=>fr().then(()=>Ce(()=>import("./VideoLayerView2D-B9FDp0zP.js"),__vite__mapDeps([203,204,196,87,140,59,61,62,63,33,64,34,65,135,138,139,68,112,111,78,13,10,11,14,162,154,155,156,66,67,28,157,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),wcs:()=>fr().then(()=>Ce(()=>import("./ImageryTileLayerView2D-vfgeIgxN.js"),__vite__mapDeps([184,185,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,186,157,187,97,170,168,164]),import.meta.url)),"web-tile":Dv,wfs:U1,wms:()=>fr().then(()=>Ce(()=>import("./WMSLayerView2D-B66_X8z8.js"),__vite__mapDeps([205,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,175,161,164,170]),import.meta.url)),wmts:()=>fr().then(()=>Ce(()=>import("./WMTSLayerView2D-5oZXf-IN.js"),__vite__mapDeps([206,160,161,138,139,68,59,33,63,140,61,62,64,34,65,135,87,112,111,78,13,10,11,14,157,162,164]),import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function hOe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new we(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const Vq={hasLayerViewModule:e=>zq[e.type]!=null,importLayerView:e=>{const t=zq[e.type];if(t==null)throw hOe(e);return t(e)}};function dOe(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let n=Number.POSITIVE_INFINITY,o=0,c=0;const f=[0,0],g=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const v of g)for(let _=0;_<v.length-1;_++){i4e(f,r,v,_);const M=j7(r,f);M<n&&(n=M,o=f[0],c=f[1])}return{coordinate:new Pt({x:o,y:c,spatialReference:i}),distance:n}}var uj;let t0=uj=class extends TN(vt){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Np(this.geometry,this.spatialReference)}catch(e){return Le.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?J3(this.normalizedGeometry,i):zL(this.normalizedGeometry,i))return e;const{coordinate:r}=dOe(this.normalizedGeometry,i);return r&&(e.targetGeometry=r),e}clone(){var e,t;return new uj({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};b([$({constructOnly:!0})],t0.prototype,"geometry",void 0),b([$({readOnly:!0})],t0.prototype,"normalizedGeometry",null),b([$({constructOnly:!0})],t0.prototype,"spatialReference",void 0),t0=uj=b([ne("esri.views.2d.constraints.GeometryConstraint")],t0);var cj;let Xb=cj=class extends TN(vt){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new cj({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};b([$()],Xb.prototype,"enabled",void 0),b([$()],Xb.prototype,"rotationEnabled",void 0),Xb=cj=b([ne("esri.views.2d.constraints.RotationConstraint")],Xb);const Rle=Xb;var hj;let co=hj=class extends TN(vt){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:n,maxZoom:o}=this,c=-1,f=-1,g=!1,v=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(t!=null&&t.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map(_=>_.clone()),t.sort((_,M)=>M.scale-_.scale),t.forEach((_,M)=>_.level=M);for(const _ of t)!g&&i>0&&i>=_.scale&&(c=_.level,g=!0),!v&&r>0&&r>=_.scale&&(f=e?e.level:-1,v=!0),e=_;n===-1&&(n=i===0?0:c),o===-1&&(o=r===0?t.length-1:f),n=Math.max(n,0),n=Math.min(n,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),n>o&&([n,o]=[o,n]),i=t[n].scale,r=t[o].scale,t.splice(0,n),t.splice(o-n+1,t.length),t.forEach((_,M)=>{this._lodByScale[_.scale]=_,this._scales[M]=_.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=e.targetGeometry,o=t&&t.targetGeometry,c=r!==0&&e.scale<r,f=i!==0&&e.scale>i;if(c||f){const g=f?i:r;if(t&&o){const v=(g-t.scale)/(e.scale-t.scale);n.x=o.x+(n.x-o.x)*v,n.y=o.y+(n.y-o.y)*v}e.scale=g}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],r===e)return n+this.effectiveMinZoom+1;if(i>e&&r<e)return n+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new hj({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};b([$({readOnly:!0})],co.prototype,"effectiveLODs",void 0),b([$({readOnly:!0})],co.prototype,"effectiveMinZoom",void 0),b([$({readOnly:!0})],co.prototype,"effectiveMaxZoom",void 0),b([$({readOnly:!0})],co.prototype,"effectiveMinScale",void 0),b([$({readOnly:!0})],co.prototype,"effectiveMaxScale",void 0),b([$()],co.prototype,"lods",void 0),b([$()],co.prototype,"minZoom",void 0),b([$()],co.prototype,"maxZoom",void 0),b([$()],co.prototype,"minScale",void 0),b([$()],co.prototype,"maxScale",void 0),b([$()],co.prototype,"snapToZoom",void 0),co=hj=b([ne("esri.views.2d.constraints.ZoomConstraint")],co);const Lle=co,pOe={base:null,key:"type",typeMap:{extent:ci,polygon:sa}};let Hr=class extends vt{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new st}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,i,r;return`${(t=this._zoom)==null?void 0:t.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===t.spatialReference?t:new t0({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new Rle({rotationEnabled:this.rotationEnabled})}get _zoom(){var g;const t=this._get("_zoom"),i=this.lods||((g=this.view)==null?void 0:g.constraintsInfo.lods),r=this.minZoom,n=this.maxZoom,o=this.minScale,c=this.maxScale,f=this.snapToZoom;return t&&t.lods===i&&t.minZoom===r&&t.maxZoom===n&&t.minScale===o&&t.maxScale===c&&t.snapToZoom===f?t:new Lle({lods:i,minZoom:r,maxZoom:n,minScale:o,maxScale:c,snapToZoom:f})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(r=>r.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};b([$({readOnly:!0})],Hr.prototype,"effectiveLODs",null),b([$({readOnly:!0})],Hr.prototype,"effectiveMinScale",null),b([$({readOnly:!0})],Hr.prototype,"effectiveMaxScale",null),b([$({readOnly:!0})],Hr.prototype,"effectiveMinZoom",null),b([$({readOnly:!0})],Hr.prototype,"effectiveMaxZoom",null),b([$({types:pOe,value:null})],Hr.prototype,"geometry",null),b([$({type:[Na]})],Hr.prototype,"lods",void 0),b([$()],Hr.prototype,"minScale",void 0),b([$()],Hr.prototype,"maxScale",void 0),b([$()],Hr.prototype,"minZoom",void 0),b([$()],Hr.prototype,"maxZoom",void 0),b([$()],Hr.prototype,"rotationEnabled",void 0),b([$()],Hr.prototype,"snapToZoom",void 0),b([$({type:st})],Hr.prototype,"customConstraints",void 0),b([$()],Hr.prototype,"view",void 0),b([$({readOnly:!0})],Hr.prototype,"version",null),b([$({type:t0,readOnly:!0})],Hr.prototype,"_geometry",null),b([$({type:Rle})],Hr.prototype,"_rotation",null),b([$({readOnly:!0,type:Lle})],Hr.prototype,"_zoom",null),Hr=b([ne("esri.views.2d.MapViewConstraints")],Hr);const Nle=Hr;let Cp=class Of{static getId(t,i,r,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${r}/${n}`}constructor(t,i,r,n){this.set(t,i,r,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|t<<8|r}acquire(t,i,r,n){this.set(t,i,r,n)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}containsChild(t){const i=t.level-this.level;return i>0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Of(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,r,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[o,c,f,g]=t.split("/");this.level=parseFloat(o),this.row=parseFloat(c),this.col=parseFloat(f),this.world=parseFloat(g)}else this.level=+t,this.row=+i,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Of(this.level-1,this.row>>1,this.col>>1,this.world)}getNeighborId(t,i){return`${this.level}/${this.row+i}/${this.col+t}/${this.world}`}getChildKeys(){const t=this.level+1,i=this.row<<1,r=this.col<<1,n=this.world;return[new Of(t,i,r,n),new Of(t,i,r+1,n),new Of(t,i+1,r,n),new Of(t,i+1,r+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Cp.pool=new m1(Cp,null,null,25,50);function Hh(e,t){return[e,t]}function Kp(e,t,i){return e[0]=t,e[1]=i,e}function fOe(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}const xl=new Cp("0/0/0/0");let yOe=class Fle{static create(t,i,r=null){const n=To(t.spatialReference),o=i.origin||Hh(t.origin.x,t.origin.y),c=Hh(t.size[0]*i.resolution,t.size[1]*i.resolution),f=Hh(-1/0,-1/0),g=Hh(1/0,1/0),v=Hh(1/0,1/0);r!=null&&(Kp(f,Math.max(0,Math.floor((r.xmin-o[0])/c[0])),Math.max(0,Math.floor((o[1]-r.ymax)/c[1]))),Kp(g,Math.max(0,Math.floor((r.xmax-o[0])/c[0])),Math.max(0,Math.floor((o[1]-r.ymin)/c[1]))),Kp(v,g[0]-f[0]+1,g[1]-f[1]+1));const{cols:_,rows:M}=i;let T,E,j,R;return!r&&_&&M&&(Kp(f,_[0],M[0]),Kp(g,_[1],M[1]),Kp(v,_[1]-_[0]+1,M[1]-M[0]+1)),t.isWrappable?(T=Hh(Math.ceil(Math.round((n.valid[1]-n.valid[0])/i.resolution)/t.size[0]),v[1]),E=Hh(Math.floor((n.origin[0]-o[0])/c[0]),f[1]),j=Hh(T[0]+E[0]-1,g[1]),R=!0):(E=f,j=g,T=v,R=!1),new Fle(i.level,i.resolution,i.scale,o,f,g,v,c,E,j,T,R)}constructor(t,i,r,n,o,c,f,g,v,_,M,T){this.level=t,this.resolution=i,this.scale=r,this.origin=n,this.first=o,this.last=c,this.size=f,this.norm=g,this.worldStart=v,this.worldEnd=_,this.worldSize=M,this.wrap=T}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,r=!1){xl.set(i);const n=r?xl.col:this.denormalizeCol(xl.col,xl.world),o=xl.row;return fOe(t,this.getXForColumn(n),this.getYForRow(o+1),this.getXForColumn(n+1),this.getYForRow(o)),t}getTileCoords(t,i,r=!1){xl.set(i);const n=r?xl.col:this.denormalizeCol(xl.col,xl.world);return Array.isArray(t)?Kp(t,this.getXForColumn(n),this.getYForRow(xl.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(xl.row)),t}},Xw=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:i,colFrom:r,colTo:n}of this.spans)for(let o=r;o<=n;o++){const c=t.getWorldForColumn(o);yield new Cp(t.level,i,t.normalizeCol(o),c)}}forEach(t,i){const{spans:r,lodInfo:n}=this,{level:o}=n;if(r.length!==0)for(const{row:c,colFrom:f,colTo:g}of r)for(let v=f;v<=g;v++)t.call(i,o,c,n.normalizeCol(v),n.getWorldForColumn(v))}};Xw.pool=new m1(Xw);let NT=class{constructor(t,i,r){this.row=t,this.colFrom=i,this.colTo=r}};const br=new Cp("0/0/0/0");let mOe=class Dle{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[r,n]=t,[o,c]=i,f=o-r,g=c-n,v=g!==0?f/g:0,_=(Math.ceil(n)-n)*v,M=(Math.floor(n)-n)*v;return new Dle(r,Math.floor(n),Math.ceil(c),v,f<0?_:M,f<0?M:_,f<0?o:r,f<0?r:o)}constructor(t,i,r,n,o,c,f,g){this.x=t,this.ymin=i,this.ymax=r,this.invM=n,this.leftAdjust=o,this.rightAdjust=c,this.leftBound=f,this.rightBound=g}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Po=[[0,0],[0,0],[0,0],[0,0]],gOe=1e-6;let vOe=class{constructor(t,i=null,r=t.lods[0].level,n=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const o=t.lods.filter(f=>f.level>=r&&f.level<=n);this.minScale=o[0].scale,this.maxScale=o[o.length-1].scale;const c=this._lodInfos=o.map(f=>yOe.create(t,f,i));o.forEach((f,g)=>{this._infoByLevel[f.level]=c[g],this._infoByScale[f.scale]=c[g],this.scales[g]=f.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,r=!1){br.set(i);const n=this._infoByLevel[br.level];return n?n.getTileBounds(t,br,r):t}getTileCoords(t,i,r=!1){br.set(i);const n=this._infoByLevel[br.level];return n?n.getTileCoords(t,br,r):t}getTileCoverage(t,i=192,r=!0,n="closest"){if(!r&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const o=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),c=Xw.pool.acquire(o),f=this._wrap;let g,v,_,M=1/0,T=-1/0;const E=c.spans;Po[0][0]=Po[0][1]=Po[1][1]=Po[3][0]=-i,Po[1][0]=Po[2][0]=t.size[0]+i,Po[2][1]=Po[3][1]=t.size[1]+i;for(const F of Po)t.toMap(F,F),F[0]=o.getColumnForX(F[0]),F[1]=o.getRowForY(F[1]);const j=[];let R=3;for(let F=0;F<4;F++){if(Po[F][1]===Po[R][1]){R=F;continue}const V=mOe.create(Po[F],Po[R]);M=Math.min(V.ymin,M),T=Math.max(V.ymax,T),j[V.ymin]===void 0&&(j[V.ymin]=[]),j[V.ymin].push(V),R=F}if(M==null||T==null||T-M>100)return null;let N=[];for(g=M;g<T;){j[g]!=null&&(N=N.concat(j[g])),v=1/0,_=-1/0;for(let F=N.length-1;F>=0;F--){const V=N[F];v=Math.min(v,V.getLeftCol()),_=Math.max(_,V.getRightCol())}if(v=Math.floor(v),_=Math.floor(_),g>=o.first[1]&&g<=o.last[1])if(f)if(o.size[0]<o.worldSize[0]){const F=Math.floor(_/o.worldSize[0]);for(let V=Math.floor(v/o.worldSize[0]);V<=F;V++)E.push(new NT(g,Math.max(o.getFirstColumnForWorld(V),v),Math.min(o.getLastColumnForWorld(V),_)))}else E.push(new NT(g,v,_));else v>o.last[0]||_<o.first[0]||(v=Math.max(v,o.first[0]),_=Math.min(_,o.last[0]),E.push(new NT(g,v,_)));g+=1;for(let F=N.length-1;F>=0;F--){const V=N[F];V.ymax>=g?V.incrRow():N.splice(F,1)}}return c}getTileParentId(t){br.set(t);const i=this._infoByLevel[br.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(br,this._lodInfos[r],br),br.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){br.set(i);const r=this._infoByLevel[br.level],n=t.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(br,n,br);const c=n.denormalizeCol(br.col,br.world);for(const f of t.spans)if(f.row===br.row&&f.colFrom<=c&&f.colTo>=c)return!0}if(n.resolution<r.resolution){const[c,f,g,v]=t.spans.reduce((R,N)=>(R[0]=Math.min(R[0],N.row),R[1]=Math.max(R[1],N.row),R[2]=Math.min(R[2],N.colFrom),R[3]=Math.max(R[3],N.colTo),R),[1/0,-1/0,1/0,-1/0]),_=r.denormalizeCol(br.col,br.world),M=n.getColumnForX(r.getXForColumn(_)),T=n.getRowForY(r.getYForRow(br.row)),E=n.getColumnForX(r.getXForColumn(_+1))-1,j=n.getRowForY(r.getYForRow(br.row+1))-1;return!(M>v||E<g||T>f||j<c)}const o=n.denormalizeCol(br.col,br.world);return t.spans.some(c=>c.row===br.row&&c.colFrom<=o&&c.colTo>=o)}normalizeBounds(t,i,r){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const n=To(this.tileInfo.spatialReference),o=-r*(n.valid[1]-n.valid[0]);t[0]+=o,t[2]+=o}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(t>i[r]+gOe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((r,n)=>Math.abs(n-t)<Math.abs(r-t)?n:r,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let r=i.length-1;r>=0;r--)if(t<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-t)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,i,r){const n=this._infoByLevel[r.level];return t.set(r),i.resolution<n.resolution?null:(i.resolution===n.resolution||(t.level=i.level,t.col=Math.floor(r.col*n.resolution/i.resolution+.01),t.row=Math.floor(r.row*n.resolution/i.resolution+.01)),t)}},bOe=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},wOe=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new Z2,this._controllers=new Z2,this._processingItems=new Z2,this._pausedSignal=Nse(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new E4(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&i&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Lr(this._schedule),this._task=Lr(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,r)=>t(r))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,i){const r=this.get(t);if(r)return r;const n=new AbortController;let o=null;i&&(o=Ya(i,()=>n.abort()));const c=()=>{const _=this._processingItems.get(t);_&&_.controller.abort(),f(),v.reject(ln())},f=()=>{g.remove(),o!=null&&o.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},g=dL(n.signal,c),v=na();return this._deferreds.set(t,v),this._controllers.set(t,n),v.promise.then(f,f),this._queue.push(t),this._scheduleNext(),v.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var i;const t=this._queue.popLast();return t&&((i=this._deferreds.get(t))==null||i.reject(ln("Removed from queue")),this._removeItem(t)),t}reset(){const t=[];this._processingItems.forEach(i=>t.push(i)),this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Ag(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let i;const r=new AbortController,n=new bOe(t,r);this._processingItems.set(t,n);try{i=this.process(t,r.signal)}catch(o){this._processError(n,o)}Lp(i)?(n.promise=i,i.then(o=>this._processResult(n,o),o=>this._processError(n,o))):this._processResult(n,i)}get test(){}};function xOe(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const FT=new Set,B_=[],G1=new Map,Bq=[0,0];let gd=class extends vt{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:i,strategy:r}=this;this._queue=new wOe({concurrency:t,process:(n,o)=>{const c=this._keyToItem.get(n);return i(c,{signal:o})},peeker:r==="scale-first"?n=>this._peekByScaleFirst(n):n=>this._peekByCenterFirst(n)})}destroy(){this.clear(),this._queue=rr(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const i=typeof t=="string"?t:t.id;return this.has(i)&&this._queue.isOngoing(i)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),n=()=>{this._keyToItem.delete(i)};return this._keyToItem.set(i,t),r.then(n,n),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView;let r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;t.forEach(_=>{const M=this._keyToItem.get(_),T=this.tileInfoView.getTileScale(M.key);G1.has(T)||(G1.set(T,[]),r=Math.max(T,r),n=Math.min(T,n)),G1.get(T).push(M.key),FT.add(T)});let o=this.state.scale;G1.has(o)||(xOe(B_,FT),B_.sort((_,M)=>_-M),o=B_.reduce((_,M)=>Math.abs(M-o)<Math.abs(_-o)?M:_,B_[0])),o=Math.min(o,r),o=Math.max(o,n);const c=G1.get(o),f=i.getClosestInfoForScale(o),g=f.getColumnForX(this.state.center[0]),v=f.getRowForY(this.state.center[1]);return c.sort((_,M)=>{const T=f.denormalizeCol(_.col,_.world),E=f.denormalizeCol(M.col,M.world);return Math.sqrt((g-T)*(g-T)+(v-_.row)*(v-_.row))-Math.sqrt((g-E)*(g-E)+(v-M.row)*(v-M.row))}),FT.clear(),G1.clear(),c[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView,r=this.state.center;let n,o=Number.POSITIVE_INFINITY;return t.forEach(c=>{const f=this._keyToItem.get(c);i.getTileCoords(Bq,f.key);const g=j7(Bq,r);g<o&&(o=g,n=f.key)}),n.id}};b([$({constructOnly:!0})],gd.prototype,"concurrency",void 0),b([$({constructOnly:!0})],gd.prototype,"process",void 0),b([$()],gd.prototype,"state",void 0),b([$({constructOnly:!0})],gd.prototype,"strategy",void 0),b([$({constructOnly:!0})],gd.prototype,"tileInfoView",void 0),gd=b([ne("esri.views.2d.tiling.TileQueue")],gd);const wxt=gd;let _Oe=class{constructor(t,i,r){this.maxSize=t,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const r=i.key.level,n=this._tileKeysPerLevel[r];Uq(this._tilePerId,t);for(let o=0;o<n.length;o++)if(n[o].id===t){n.splice(o,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,t);const n=i.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(i)}prune(t,i,r){let n=this._tilePerId.size;if(n<=this.maxSize)return;let o=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&o>=0;)o!==t&&(n=this._pruneAroundCenterTile(n,i,r,o)),o--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,i,r,t))}_pruneAroundCenterTile(t,i,r,n){const o=this._tileKeysPerLevel[n];if(!o||o.length===0)return t;const{size:c,origin:f}=this._tileInfoView.tileInfo,g=r*c[0],v=r*c[1],_=[0,0],M=[0,0];for(o.sort((T,E)=>(_[0]=f.x+g*(T.col+.5),_[1]=f.y-v*(T.row+.5),M[0]=f.x+g*(E.col+.5),M[1]=f.y-v*(E.row+.5),Z4(_,i)-Z4(M,i)));o.length>0;){const T=o.pop();if(this._removeTile(T.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),Uq(this._tilePerId,t)}};function Uq(e,t){e.delete(t)}const Yp=new Cp(0,0,0,0),bc=new Map,Zp=[],DT=[];let _xt=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new _Oe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){var F,V;const{resampling:i,tileIndex:r}=this,{scale:n,center:o,resolution:c}=t.state,{minScale:f,maxScale:g}=this.tileInfoView,v=!t.stationary&&n>this._previousScale;if(this._previousScale=n,!i&&(n>f||n<g))return this.tiles.length=0,void this.clear();const _=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!_)return this.tiles.length=0,void this.clear();const{spans:M,lodInfo:T}=_,{level:E}=T;this.tiles.length=0,r.forEach(z=>z.visible=!0);let j=0,R=0;if(M.length>0)for(const{row:z,colFrom:G,colTo:H}of M)for(let Z=G;Z<=H;Z++){j++;const Y=Yp.set(E,z,T.normalizeCol(Z),T.getWorldForColumn(Z)).id;let re=r.get(Y);if(re)re.isReady?(bc.set(Y,re),R++):v||this._addParentTile(Y,bc);else{if((F=this._tileCache)!=null&&F.has(Y)){if(re=this._tileCache.pop(Y),this.tileIndex.set(Y,re),re.isReady){bc.set(Y,re),R++;continue}}else re=this.acquireTile(Yp),this.tileIndex.set(Y,re);v||this._addParentTile(Y,bc)}}const N=R===j;for(const[z,G]of r){if(bc.has(z))continue;Yp.set(z);const H=this.tileInfoView.intersects(_,Yp),Z=this.cachePolicy==="purge"?Yp.level!==E:Yp.level>E;!H||!v&&N?!Z&&H||Zp.push(G):G.isReady?Z&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Yp,E)?Zp.push(G):DT.push(G):Z&&Zp.push(G)}for(const z of DT)z.isReady&&bc.set(z.key.id,z);for(const z of Zp)this._tileCache?this._tileCache.add(z):this.releaseTile(z),r.delete(z.key.id);for(const z of bc.values())this.tiles.push(z);for(const z of r.values())bc.has(z.key.id)||(z.visible=!1);(V=this._tileCache)==null||V.prune(E,o,c),Xw.pool.release(_),DT.length=0,Zp.length=0,bc.clear()}clear(){const{tileIndex:t}=this;for(const i of t.values())this.releaseTile(i);t.clear()}refresh(t){var i;for(const r of this.tileIndex.values())this.tiles.includes(r)?t(r):Zp.push(r);for(const r of Zp)this.releaseTile(r),this.tileIndex.delete(r.key.id);(i=this._tileCache)==null||i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){var o;let r=t,n=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(n=this.tileIndex.get(r),n==null?void 0:n.isReady){i.has(n.key.id)||i.set(n.key.id,n);break}}else if((o=this._tileCache)!=null&&o.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n==null?void 0:n.isReady)){i.has(n.key.id)||i.set(n.key.id,n);break}}_hasReadyAncestor(t,i){const r=Fn();this.tileInfoView.getTileBounds(r,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=i&&n.key.level<t.level){const o=Fn();if(this.tileInfoView.getTileBounds(o,n.key,!0),v4e(o,r))return!0}return!1}},Gs=class extends vt{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([nt(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},is)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Pt({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void Le.getLogger(this).error(new we("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:n}))}const r=this.viewpoint;nj(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void Le.getLogger(this).error(new we("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void Le.getLogger(this).error(new we("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;Cje(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const i=this.viewpoint;Fje(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;Rq(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var o;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?r=new we("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(r=new we("mapview:invalid-viewpoint","geometry not defined"))}catch(c){r=new we("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:c})}if(r)return void Le.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Qa({targetGeometry:new Pt,scale:0,rotation:0});ks(n,i),(o=this.constraints)==null||o.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var n,o;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const c=this._get("extent");return void(c&&(this._set("extent",void 0),this._set("center",c.center)))}const i=((n=this.constraints)==null?void 0:n.zoomToScale(t))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;Rq(r,r,i),this.viewpoint=r,this._set("zoom",((o=this.constraints)==null?void 0:o.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,n=this._get("center"),o=this._get("extent"),c=this._get("scale"),f=this._get("rotation"),g=this._get("viewpoint"),v=this._get("zoom"),_=v!=null&&r!=null&&r.zoomToScale(v)||void 0;let M,T,E;const j=g==null?void 0:g.rotation,R=g==null?void 0:g.targetGeometry;(R==null?void 0:R.type)==="extent"?M=R:(R==null?void 0:R.type)==="point"&&(T=R,E=g==null?void 0:g.scale);const N=o??M;return{center:n??T??(N==null?void 0:N.center),rotation:f??j,scale:(c??_??E??(N&&L7(N,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,r,n){var c;const o=t.targetGeometry;try{this._project(t,r)}catch(f){Le.getLogger(this).warn(new sl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:r,error:f})),t.targetGeometry=n||new Pt({x:0,y:0,spatialReference:r})}(c=this.constraints)==null||c.fit(t),this._set("state",new tF({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,i],spatialReference:r,rotation:n,scale:o}=this.state.paddedViewState,c=new Pt({x:t,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",c),this._set("zoom",-1),this._set("rotation",n),this._set("scale",o),this._set("state",null)}changeSpatialReference(t){var g;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const v=i.viewpoint.clone();v.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=v}const r=i.clone(),[n,o]=i.center;let c=null;try{c=this._project(new Pt({x:n,y:o,spatialReference:i.spatialReference}),t)}catch(v){OL()||Le.getLogger(this).warn(new sl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:c==null?void 0:c.toJSON(),spatialReference:t,error:v}))}c||(c=new Pt({x:0,y:0,spatialReference:t}));const f=nj(new Qa({targetGeometry:new Pt,scale:0,rotation:0}),i.viewpoint,c);r.viewpoint=f;try{const _=[i.size[0]/2,i.size[1]/2],M=[_[0]+20,_[1]],T=i.toMap([0,0],M),{x:E,y:j}=this._project(new Pt({x:T[0],y:T[1],spatialReference:i.spatialReference}),t);T[0]=E,T[1]=j,r.toScreen(T,T);const R=Rje(_,T,M),N=Math.hypot(T[0]-_[0],T[1]-_[1])/20;!Number.isFinite(N)||Math.abs(N)>4?(f.rotation=0,f.targetGeometry=new Pt({x:0,y:0,spatialReference:t})):(f.scale*=N,f.scale>ke("mapview-srswitch-adjust-rotation-scale-threshold")?f.rotation=0:f.rotation+=Number.isFinite(R)?R:0)}catch{}(g=this._get("constraints"))==null||g.constrain(f,void 0),this._get("state").viewpoint=f}resize(t,i){var c;if(!this.ready)return;const r=this.state;let n=this.state.paddedViewState.viewpoint;const o=this.state.paddedViewState.size.concat();r.size=[t,i],Nje(n,n,o,this.state.paddedViewState.size,this.resizeAlign),n=((c=this.constraints)==null?void 0:c.constrain(n,void 0))??n,this.state.viewpoint=n}toMap(t){if(!this.ready)return null;const i=[0,0],[r,n]=this.state.toMap(i,[t.x,t.y]),o=this.state.spatialReference;return new Pt({x:r,y:n,spatialReference:o})}toScreen(t,i){if(!this.ready)return null;const r=this._project(t,this.state.spatialReference),n=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),rs(n[0],n[1])}_project(t,i){var o;const r=(t==null?void 0:t.targetGeometry)||t;if(!i)return t;if(!r)return null;if(i.imageCoordinateSystem||(o=r.spatialReference)!=null&&o.imageCoordinateSystem||tn(i,r.spatialReference))return t;const n=Np(r,i);if(!n)throw new we("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return SOe(t)?(t.targetGeometry=n,t):n}};function SOe(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}b([$({type:Pt})],Gs.prototype,"center",null),b([$()],Gs.prototype,"constraints",void 0),b([$({type:ci})],Gs.prototype,"extent",null),b([$({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Gs.prototype,"padding",null),b([$()],Gs.prototype,"ready",void 0),b([$()],Gs.prototype,"resizeAlign",void 0),b([$({readOnly:!0})],Gs.prototype,"resolution",null),b([$({type:Number})],Gs.prototype,"rotation",null),b([$({type:Number})],Gs.prototype,"scale",null),b([$({readOnly:!0})],Gs.prototype,"state",void 0),b([$({type:Qa})],Gs.prototype,"viewpoint",null),b([$()],Gs.prototype,"zoom",null),Gs=b([ne("esri.views.2d.ViewStateManager")],Gs);function iF(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let Gq=class extends Cn{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(t,i){iF(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},$Oe=class extends Cn{constructor(t,i,r){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",r,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:r}=i;if(r!==this.pointerType)return;t.stopPropagation();const{action:n,delta:o}=i,{view:c}=this,{mapViewNavigation:f}=c;switch(n){case"begin":{const{scale:g}=c;this._startScale=g,this._currentScale=g,this._previousDelta=o,f.begin();break}case"update":{if(this._previousDelta.y===o.y)return;this._previousDelta=o;const g=1.015**o.y,v=this._startScale*g,_=v/this._currentScale;f.setViewpointImmediate(_),this._currentScale=v;break}case"end":{const{constraints:g}=c,{effectiveLODs:v,snapToZoom:_}=g;if(!_||!v)return void f.end();const M=g.snapScale(this._currentScale),T=(o.y>0?Math.max(M,g.snapToPreviousScale(this._startScale)):Math.min(M,g.snapToNextScale(this._startScale)))/this._currentScale;f.zoom(T).then(()=>{f.end()});break}}}},F7=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var i,r;this._startEvent=t,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},MOe=class extends Cn{constructor(t,i,r){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",r,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new F7({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&iF(r.data,this.pointerAction)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},TOe=class extends Cn{constructor(t,i,r){super(!0),this._view=t,this.pointerAction=i;const n=this._view.mapViewNavigation;this._dragEventSeparator=new F7({start:(o,c)=>{n.rotate.begin(this._view,c.data),c.stopPropagation()},update:(o,c)=>{n.rotate.update(this._view,c.data),c.stopPropagation()},end:(o,c)=>{n.rotate.end(),c.stopPropagation()},condition:(o,c)=>o===1&&iF(c.data,this.pointerAction)}),this.registerIncoming("drag",r,o=>this._dragEventSeparator.handle(o))}};function _l(e){let t=e*e;return e<0&&(t*=-1),t}function kOe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function COe(e,t,i){const r=i,n=e.state,o=e.device,c=t.tiltDirection==="forward-down"?1:-1,f=1;return o.deviceType==="standard"?(r.translation[0]=_l(n.axes[0]),r.translation[1]=_l(n.axes[1]),r.translation[2]=_l(n.buttons[7])-_l(n.buttons[6]),r.heading=_l(n.axes[2]),r.tilt=_l(n.axes[3])):o.deviceType==="spacemouse"&&(r.translation[0]=1.2*_l(n.axes[0]),r.translation[1]=1.2*_l(n.axes[1]),r.translation[2]=2*-_l(n.axes[2]),r.heading=1.2*_l(n.axes[5]),r.tilt=1.2*_l(n.axes[3])),r.tilt*=c,SL(r.translation,r.translation,f),r}function IOe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let EOe=class extends Cn{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new F3,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([nt(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=tg({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Xi)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,kOe(this._transformation)):(this._currentDevice=t.data.device,COe(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const i=this._transformation;if(IOe(i))return;const r=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,o=jOe*n*t;N7(r,r,[i.translation[0]*o,-i.translation[1]*o]);const c=1+i.translation[2]*POe*t,f=this._view.constraints.rotationEnabled?-i.heading*AOe*t:0,g=this._view.size,v=[g[0]/2,g[1]];vle(r,r,c,f,v,g);const _=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=_}};const AOe=.06,jOe=.7,POe=6e-4;function zle(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),Bi(()=>document.removeEventListener("visibilitychange",t))}let OOe=class extends Cn{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const o=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(o==null)return;n.stopPropagation(),n.preventDefault();const c=n.type==="key-down";if(this._pressedKeys[c?"add":"delete"](o),c){if(this._direction===o)return;this._direction=o,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const f=this._timeout===void 0,g=this._pressedKeys.size>0;f||g?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=zle(n=>n?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const i=this._currentDirection!=null;if(t!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},ROe=class extends Cn{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",r,n=>this._handleKeyUp(n)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=zle(n=>n?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const r=t.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection[t.data.key];if(this._pressed=n!=null,this._pressed){if(t.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var um;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(um||(um={}));let LOe=class extends Cn{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),i.zoomIn.forEach(n=>this._keysToZoomAction[n]=um.IN),i.zoomOut.forEach(n=>this._keysToZoomAction[n]=um.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=t.data;if(!(r in this._keysToZoomAction))return;const n=this._keysToZoomAction[r],{mapViewNavigation:o}=this.view;let c=null;switch(n){case um.IN:c=o.zoomIn();break;case um.OUT:c=o.zoomOut();break;default:return}o.begin(),c.then(()=>o.end()),t.stopPropagation()}};const NOe=.6;let FOe=class extends Cn{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:n,deltaY:o}=t.data,c=1/NOe**(1/60*o),f=i.zoom(c,[r,n]);f&&(this._canZoom=!1,f.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},DOe=class extends Cn{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new F7({start:(r,n)=>{i.pinch.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{i.pinch.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{i.pinch.end(this.view),n.stopPropagation()},condition:r=>r>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function qq(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value||1:0),axes:t.axes.map(i=>BOe(i,e.axisThreshold))}:{buttons:[],axes:[]}}function zOe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function VOe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function BOe(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let UOe=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=o=>{this._connectGamepad(o.gamepad)},this._onDisconnectGamepad=o=>{const c=o.gamepad,f=c.index,g=this._inputDevices[f];g&&(this._emitGamepadEvent(c,qq(g),!1),this._inputDevices.splice(f,1),this._latestUpdate.splice(f,1),this._input.gamepad.devices.remove(g),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=r&&n,this.supported&&(Wq(o=>this._connectGamepad(o)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new UN(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=tg({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;Wq(n=>{const o=this._inputDevices[n.index];if(!o)return;const c=this._latestUpdate[n.index],f=qq(o),g=r||VOe(f);c&&(c.timestamp===n.timestamp||!c.active&&g||zOe(c.state,f))||this._emitGamepadEvent(n,f,!g)})}_emitGamepadEvent(t,i,r){const n=this._latestUpdate[t.index],o=n&&n.active;if(!o&&!r)return;const c=!o&&r?"start":o&&r?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:c})}};function GOe(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function Wq(e){const t=window.navigator.getGamepads();for(let i=0;i<t.length;i++){const r=t[i];GOe(r)&&e(r)}}const Hq=ke("edge"),qOe=ke("chrome"),WOe=ke("ff"),HOe=ke("safari"),Jq="esri-view-surface",q1={touchNone:`${Jq}--touch-none`,touchPan:`${Jq}--touch-pan`};let Vle=class Ble{constructor(t,i){this._input=i,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new UOe(t,this._input),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=rr(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const r=this._active[i];this._element.removeEventListener(zT[i],r),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&zT[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(zT[i],r),this._active[i]=r}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,i){i?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?q1.touchNone:q1.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?q1.touchPan:q1.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(q1.touchNone),this._element.classList.remove(q1.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const r=Pae(this._element,t);return Ble.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(t,i){const{key:r}=i;r&&t==="key-up"&&this._keyDownState.delete(r);const n={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,r)}_handlePointerPreventDefault(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,r)}_handleMouseWheel(t,i){let r=i.deltaY;switch(i.deltaMode){case 0:Hq&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}Hq?r*=.7:qOe||HOe?r*=.6:WOe&&(r*=1.375);const n=100,o=Math.abs(r);o>n&&(r=r/o*200/(1+Math.exp(-.02*(o-n))));const c=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(t,c)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const r={native:i};i.preventDefault(),this._callback(t,r)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};Vle.test={disableSubpixelCoordinates:!1};const zT={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let JOe=class extends Cn{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};const ts={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function Q4(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function KOe(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}function YOe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:rs()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[z,G]=e,[H,Z]=[G.x-z.x,G.y-z.y];return t.radius=Math.sqrt(H*H+Z*Z)/2,t.center.x=(z.x+G.x)/2,t.center.y=(z.y+G.y)/2,t}let i=0,r=0;for(let z=0;z<e.length;z++)i+=e[z].x,r+=e[z].y;i/=e.length,r/=e.length;const n=e.map(z=>z.x-i),o=e.map(z=>z.y-r);let c=0,f=0,g=0,v=0,_=0,M=0,T=0;for(let z=0;z<n.length;z++){const G=n[z],H=o[z],Z=G*G,Y=H*H;c+=Z,f+=Y,g+=G*H,v+=Z*G,_+=Y*H,M+=G*Y,T+=H*Z}const E=.5*(v+M),j=.5*(_+T),R=c*f-g*g,N=(E*f-j*g)/R,F=(c*j-g*E)/R,V=rs(N+i,F+r);return{radius:Math.sqrt(N*N+F*F+(c+f)/e.length),center:V}}function j0(e){const{native:t}=e,{pointerId:i,button:r,pointerType:n}=t;return n==="mouse"?`${i}:${r}`:`${n}`}let ZOe=class extends Cn{constructor(t=ts.maximumDoubleClickDelay,i=ts.maximumDoubleClickDistance,r=ts.maximumDoubleTouchDelay,n=ts.maximumDoubleTouchDistance,o=Eg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=o,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=rs(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new F7({start:(c,f)=>this._dragStart(c,f),update:(c,f)=>this._dragUpdate(f),end:(c,f)=>this._dragEnd(f)}),this.registerIncoming("drag",c=>this._dragEventSeparator.handle(c)),this.registerIncoming("pointer-down",c=>this._handlePointerDown(c)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Lr(t.doubleTapTimeout)})}get hasPendingInputs(){return Y$(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=Lr(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:n}=i,{center:o}=r;this._dragStartCenter=o;const c=VT("begin",rs(0,0),r);this._doubleTapDrag.emit(c,void 0,n),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,o=VT("update",rs(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(o,void 0,r),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,o=VT("end",rs(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(o,void 0,r),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,r=j0(i),n=this._pointerState.get(r),{pointerType:o}=i.native;if(n){const c=o==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(r),Q4(n.event.data,i)>c?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:r}=i.native,n=j0(i),o=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,c=this._clock.setTimeout(()=>this._clearPointerDown(n),o);this._pointerState.set(n,{event:t,doubleTapTimeout:c}),this.refreshHasPendingInputs()}};function VT(e,t,i){const{button:r,buttons:n,pointer:o,pointers:c,pointerType:f,timestamp:g}=i;return{action:e,delta:t,button:r,buttons:n,pointer:o,pointers:c,pointerType:f,timestamp:g}}let XOe=class extends Cn{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,r,n){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:n,pointers:QOe(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(t){const i=t.native.pointerId,r=U_(this._activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,n);const o=VS(n,Ule(this._activePointerMap));n.initialAngle=o,n.lastAngle=o,this._updatePointerAngles(r)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,r=this._activePointerMap.get(i);r?r.event=t:this._addPointer(t)}_removePointer(t){const i=U_(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=U_(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=VS(r,i)-t,r.lastAngle=VS(r,i)-t})}_emitEvent(t,i,r){const n=U_(this._activePointerMap);this._drag.emit(this._createPayload(t,i,n,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,r=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,r=i.currentEvent,n=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function Ule(e){const t=[];return e.forEach(i=>{t.push(rs(i.event.x,i.event.y))}),YOe(t)}function U_(e){const t=Ule(e);let i=0;return e.forEach(r=>{let n=VS(r,t),o=n-r.lastAngle;for(;o>Math.PI;)o-=2*Math.PI;for(;o<-Math.PI;)o+=2*Math.PI;n=r.lastAngle+o,r.lastAngle=n;const c=n-r.initialAngle;i+=c}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function QOe(e){const t=new Map;return e.forEach((i,r)=>t.set(r,i.event)),t}function VS(e,t){const i=e.event,r=i.x-t.center.x,n=i.y-t.center.y;return Math.atan2(n,r)}var Kq;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(Kq||(Kq={}));let eRe=class extends Cn{constructor(t=ts.maximumDoubleClickDelay,i=ts.maximumDoubleClickDistance,r=ts.maximumDoubleTouchDelay,n=ts.maximumDoubleTouchDistance,o=Eg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=j0(i);if(!this._pointerState.has(r)){const n={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,r=j0(i),n=this._pointerState.get(r);if(n&&n.downButton===i.native.button){const o=n.immediateDoubleClick,c=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;o?(o.timeoutHandle.remove(),Q4(o,t.data)>c?this._startImmediateDoubleClick(t,n):(this._immediateDoubleClick.emit(t.data,void 0,o.modifiers),this._removeState(i))):Q4(n,t.data)>c?this._removeState(i):this._startImmediateDoubleClick(t,n)}}_startImmediateDoubleClick(t,i){const r=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),r)}}_removeState(t){const i=j0(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},tRe=class extends Cn{constructor(t=ts.maximumClickDelay,i=ts.movementUntilMouseDrag,r=ts.movementUntilPenDrag,n=ts.movementUntilTouchDrag,o=ts.holdDelay,c=Eg){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=r,this._movementUntilTouchDrag=n,this._holdDelay=o,this._clock=c,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",f=>{this._handlePointerLoss(f,"pointer-up")}),this.registerIncoming("pointer-capture-lost",f=>{this._handlePointerLoss(f,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",f=>{this._handlePointerLoss(f,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Lr(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=i.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const c=this._pointerState.get(r);if(c){if(!c.isDragging){const f=c.previousEvent;this._pointerHold.emit(f,void 0,t.modifiers),c.holdEmitted=!0}c.holdTimeout=null}},this._holdDelay));const o={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,o),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const i=t.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(G_("update",n,i),void 0,n.modifiers):KOe(i,n.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),n.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const i=t.data,r=i.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(G_("start",n,i)):this._pointerDrag.emit(G_("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const r=t.data,n=r.native.pointerId,o=this._pointerState.get(n);o&&(o.holdTimeout!=null&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging?this._pointerDrag.emit(G_("end",o,i==="pointer-up"?r:o.previousEvent),void 0,o.modifiers):i==="pointer-up"&&o.downButton===r.native.button&&t.timestamp-o.startTimestamp<=this._maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function G_(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}let iRe=class extends Cn{constructor(t=ts.maximumDoubleClickDelay,i=ts.maximumDoubleClickDistance,r=ts.maximumDoubleTouchDelay,n=ts.maximumDoubleTouchDistance,o=Eg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Lr(t.doubleClickTimer))}get hasPendingInputs(){return Y$(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,i){const r=this._pointerState.get(t);r&&(r.doubleClickTimer=Lr(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const i=t.data,{pointerType:r}=i.native,n=rRe(i);if(!this._pointerState.has(n))return void this._startClick(t);const o=this._pointerState.get(n),{data:c,modifiers:f}=o.event,g=r==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;Q4(c,i)>g?(this._clearDoubleClickTimer(n,!0),this._startClick(t)):(this._clearDoubleClickTimer(n,!1),o.pointerDownCount===2&&this._doubleClick.emit(c,void 0,f))}_handlePointerDown(t){const i=j0(t.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:r}}=i,n=j0(i),o=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,c=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),o);this._pointerState.set(n,{event:t,doubleClickTimer:c,pointerDownCount:1}),this.refreshHasPendingInputs()}};function rRe(e){const{pointerId:t,pointerType:i,button:r}=e.native;return i==="mouse"?`${t}:${r}`:`${i}`}const q_={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Rf=class extends vt{initialize(){const t=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([oa(()=>!t(),()=>this._disconnect()),oa(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=rr(this._inputManager)}_connect(){const t=this.view.surface,i=new Vle(t,this.view.input),r=[new eRe,new tRe,new iRe,new XOe(this.view.navigation),new ZOe],n=new va({eventSource:i,recognizers:r});n.installHandlers("prevent-context-menu",[new JOe],hp.INTERNAL),n.installHandlers("navigation",[new DOe(this.view),new EOe(this.view),new FOe(this.view),new Gq(this.view),new Gq(this.view,[q_.counter]),new MOe(this.view,"primary"),new OOe(this.view,q_.pan),new LOe(this.view,q_.zoom),new ROe(this.view,q_.rotate),new TOe(this.view,"secondary"),new $Oe(this.view,"touch")],hp.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,nt(()=>{var o,c;return(c=(o=this.view)==null?void 0:o.navigation)==null?void 0:c.browserTouchPanEnabled},o=>{this._source&&(this._source.browserTouchPanningEnabled=!o)},Xi)}get test(){}};b([$()],Rf.prototype,"view",void 0),b([$()],Rf.prototype,"latestPointerType",null),b([$()],Rf.prototype,"latestPointerLocation",null),b([$()],Rf.prototype,"multiTouchActive",null),Rf=b([ne("esri.views.2d.input.MapViewInputManager")],Rf);const nRe=Rf;var Gxt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gle(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yq,Zq,Xq,qle={exports:{}};Yq=qle,Zq=function(){function e(n,o,c,f,g){t(n,o,c||0,f||n.length-1,g||r)}function t(n,o,c,f,g){for(;f>c;){if(f-c>600){var v=f-c+1,_=o-c+1,M=Math.log(v),T=.5*Math.exp(2*M/3),E=.5*Math.sqrt(M*T*(v-T)/v)*(_-v/2<0?-1:1);t(n,o,Math.max(c,Math.floor(o-_*T/v+E)),Math.min(f,Math.floor(o+(v-_)*T/v+E)),g)}var j=n[o],R=c,N=f;for(i(n,c,o),g(n[f],j)>0&&i(n,c,f);R<N;){for(i(n,R,N),R++,N--;g(n[R],j)<0;)R++;for(;g(n[N],j)>0;)N--}g(n[c],j)===0?i(n,c,N):i(n,++N,f),N<=o&&(c=N+1),o<=N&&(f=N-1)}}function i(n,o,c){var f=n[o];n[o]=n[c],n[c]=f}function r(n,o){return n<o?-1:n>o?1:0}return e},(Xq=Zq())!==void 0&&(Yq.exports=Xq);const sRe=Gle(qle.exports);function e6(e,t){if(!(this instanceof e6))return new e6(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function oRe(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function W1(e,t){Qb(e,0,e.children.length,t,e)}function Qb(e,t,i,r,n){n||(n=Sy(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,c=t;c<i;c++)o=e.children[c],e2(n,e.leaf?r(o):o);return n}function e2(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Qq(e,t){return e.minX-t.minX}function eW(e,t){return e.minY-t.minY}function BT(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function W_(e){return e.maxX-e.minX+(e.maxY-e.minY)}function aRe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function lRe(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,n-i)*Math.max(0,o-r)}function UT(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function H_(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Sy(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tW(e,t,i,r,n){for(var o,c=[t,i];c.length;)(i=c.pop())-(t=c.pop())<=r||(o=t+Math.ceil((i-t)/r/2)*r,sRe(e,o,t,i,n),c.push(t,o,o,i))}e6.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!H_(e,t))return i;for(var n,o,c,f,g=[];t;){for(n=0,o=t.children.length;n<o;n++)c=t.children[n],H_(e,f=t.leaf?r(c):c)&&(t.leaf?i.push(c):UT(e,f)?this._all(c,i):g.push(c));t=g.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!H_(e,t))return!1;for(var r,n,o,c,f=[];t;){for(r=0,n=t.children.length;r<n;r++)if(o=t.children[r],H_(e,c=t.leaf?i(o):o)){if(t.leaf||UT(e,c))return!0;f.push(o)}t=f.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Sy([]),this},remove:function(e,t){if(e==null)return this;for(var i,r,n,o,c=this.data,f=this.toBBox(e),g=[],v=[];c||g.length;){if(c||(c=g.pop(),r=g[g.length-1],i=v.pop(),o=!0),c.leaf&&(n=oRe(e,c.children,t))!==-1)return c.children.splice(n,1),g.push(c),this._condense(g),this;o||c.leaf||!UT(c,f)?r?(i++,c=r.children[i],o=!1):c=null:(g.push(c),v.push(i),i=0,r=c,c=c.children[0])}return this},toBBox:function(e){return e},compareMinX:Qq,compareMinY:eW,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n,o=i-t+1,c=this._maxEntries;if(o<=c)return W1(n=Sy(e.slice(t,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,r-1))),(n=Sy([])).leaf=!1,n.height=r;var f,g,v,_,M=Math.ceil(o/c),T=M*Math.ceil(Math.sqrt(c));for(tW(e,t,i,T,this.compareMinX),f=t;f<=i;f+=T)for(tW(e,f,v=Math.min(f+T-1,i),M,this.compareMinY),g=f;g<=v;g+=M)_=Math.min(g+M-1,v),n.children.push(this._build(e,g,_,r-1));return W1(n,this.toBBox),n},_chooseSubtree:function(e,t,i,r){for(var n,o,c,f,g,v,_,M;r.push(t),!t.leaf&&r.length-1!==i;){for(_=M=1/0,n=0,o=t.children.length;n<o;n++)g=BT(c=t.children[n]),(v=aRe(e,c)-g)<M?(M=v,_=g<_?g:_,f=c):v===M&&g<_&&(_=g,f=c);t=f||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),o=[],c=this._chooseSubtree(n,this.data,t,o);for(c.children.push(e),e2(c,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var o=this._chooseSplitIndex(i,n,r),c=Sy(i.children.splice(o,i.children.length-o));c.height=i.height,c.leaf=i.leaf,W1(i,this.toBBox),W1(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(i,c)},_splitRoot:function(e,t){this.data=Sy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,W1(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,o,c,f,g,v,_;for(g=v=1/0,r=t;r<=i-t;r++)c=lRe(n=Qb(e,0,r,this.toBBox),o=Qb(e,r,i,this.toBBox)),f=BT(n)+BT(o),c<g?(g=c,_=r,v=f<v?f:v):c===g&&f<v&&(v=f,_=r);return _},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:Qq,n=e.leaf?this.compareMinY:eW;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,n)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n,o,c=this.toBBox,f=Qb(e,0,t,c),g=Qb(e,i-t,i,c),v=W_(f)+W_(g);for(n=t;n<i-t;n++)o=e.children[n],e2(f,e.leaf?c(o):o),v+=W_(f);for(n=i-t-1;n>=t;n--)o=e.children[n],e2(g,e.leaf?c(o):o),v+=W_(g);return v},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)e2(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():W1(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let iW=class Wle{constructor(t,i){this.key=new Cp(0,0,0,0),this.bounds=Fn(),this.objectIds=new Set,this.key.set(i);const r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=t.zoomToScale(r.level-1),this.maxScale=t.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return ci.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return{$view:{scale:this.scale,timeZone:t}}}createChildTiles(){const t=this.key.getChildKeys(),i=Ks.acquire();for(let r=0;r<t.length;r++)i[r]=new Wle(this.tileInfoView,t[r]);return i}getQuantizationParameters(){return Iae.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Xp={added:[],removed:[]},GT=new Set,uRe=new Cp(0,0,0,0);function cRe(e,t){const i=To(t);if(!i)return null;const[r,n]=i.valid;return e[2]>n?[Fn([e[0],e[1],n,e[3]]),Fn([r,e[1],r+e[2]-n,e[3]])]:e[0]<r?[Fn([r,e[1],e[2],e[3]]),Fn([n-(r-e[0]),e[1],n,e[3]])]:null}let hRe=class extends dl{constructor(t){super(),this._tiles=new Map,this._index=e6(9,ke("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||yre(t)===0||mre(t)===0)return[];const i=cRe(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const n=new iW(this.tileScheme,r);this._tiles.set(r,n),this._index.insert(n),i.added.push(n)}for(const r of t.removed)if(this.has(r)){const n=this.get(r);this._tiles.delete(r),this._index.remove(n),i.removed.push(n)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:n}=i,{level:o}=n;if(r.length>0)for(const{row:c,colFrom:f,colTo:g}of r)for(let v=f;v<=g;v++){const _=uRe.set(o,c,n.normalizeCol(v),n.getWorldForColumn(v)).id;if(GT.add(_),!this.has(_)){const M=new iW(this.tileScheme,_);this._tiles.set(_,M),this._index.insert(M),this.tiles.push(M),Xp.added.push(M)}}for(let c=this.tiles.length-1;c>=0;c--){const f=this.tiles[c];GT.has(f.id)||(this._tiles.delete(f.id),this.tiles.splice(c,1),this._index.remove(f),Xp.removed.push(f))}(Xp.added.length||Xp.removed.length)&&this.emit("update",Xp),Xw.pool.release(i),GT.clear(),Xp.added.length=0,Xp.removed.length=0}},vd=class extends vt{constructor(){super(...arguments),this.color=new Lt([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25,this.multiHighlightEnabled=!1}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.multiHighlightEnabled===t.multiHighlightEnabled}};b([$({type:Lt})],vd.prototype,"color",void 0),b([$({type:Lt})],vd.prototype,"haloColor",void 0),b([$()],vd.prototype,"haloOpacity",void 0),b([$()],vd.prototype,"fillOpacity",void 0),b([$()],vd.prototype,"multiHighlightEnabled",void 0),vd=b([ne("esri.views.2d.support.HighlightOptions")],vd);const Hle=vd,J_=e=>parseFloat(e)/100;function dRe(e,t,i){const r=typeof e.left=="string"?J_(e.left)*t:e.left,n=typeof e.right=="string"?J_(e.right)*t:e.right,o=typeof e.top=="string"?J_(e.top)*i:e.top,c=typeof e.bottom=="string"?J_(e.bottom)*i:e.bottom,f=o;return{xmin:r,xmax:Math.max(t-n,r),ymin:f,ymax:Math.max(i-c,o)}}function pRe(e,t,i,r){switch(t.type){case"rect":{const{width:n,height:o}=e,{xmin:c,xmax:f,ymin:g,ymax:v}=dRe(t,n,o),{x:_,y:M}=i;return _>c&&_<f&&M>g&&M<v}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||VL(t.path,[i.x,i.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?zL(t.geometry,r):J3(t.geometry,r))}}async function fRe(e,t,i){const r=Rae(t)?Oae(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const o=new Set;let c=!1,f=null,g=null;i!=null&&i.include?nW(i.include,rW(e,T=>{n.add(T),qT(T,E=>o.add(E))},(T,E)=>{o.add(T),n.add(E)},T=>{f||(f=new Set),f.add(T)},T=>n.add(T),()=>c=!0)):(c=!0,n=new Set(e.allLayerViews),n.forEach(T=>{qT(T,E=>o.add(E))})),i!=null&&i.exclude&&nW(i.exclude,rW(e,T=>{n.delete(T),qT(T,E=>o.delete(E))},T=>o.delete(T),T=>{g||(g=new Set),g.add(T)}));const v=e.toMap(r),_=e.allLayerViews.filter(T=>!T.suspended&&n.has(T)&&T.clips.every(E=>pRe(e,E,r,v))).reverse();let M=[...c?e.graphicsView.hitTest(v).map(T=>({type:"graphic",graphic:T,layer:null,mapPoint:v})):[],...await Promise.all(_.map(T=>T.hitTest(v,r)).toArray())].filter(ss).flat().filter(ss);return M=M.filter(T=>{var E;return T.type!=="graphic"||((E=T.layer)==null?void 0:E.type)!=="subtype-group"||o.has(T.graphic.layer)}),f&&(M=M.filter(T=>!("graphic"in T)||!T.graphic||(f==null?void 0:f.has(dj(T.graphic))))),g&&(M=M.filter(T=>!("graphic"in T)||!T.graphic||!(g!=null&&g.has(dj(T.graphic))))),{screenPoint:r,results:M}}function rW(e,t,i,r,n,o){return c=>{if(c instanceof la){if(c.layer===e)o==null||o();else{const f=e.allLayerViews.find(g=>g.layer===c.layer);f&&(n==null||n(f))}r(dj(c))}else if(!("layer"in c&&"element"in c))if(c.type==="subtype-sublayer"){const f=e.allLayerViews.find(g=>g.layer===c.parent);f&&i(c,f)}else{const f=e.allLayerViews.find(g=>g.layer===c);f&&t(f)}}}function nW(e,t){if(e)if(Z9(e))for(const i of e)if(Z9(i))for(const r of i)t(r);else t(i);else t(e)}function dj(e){var i,r;const t=e.getObjectId();return t?`${((i=e.layer)==null?void 0:i.uid)??((r=e.sourceLayer)==null?void 0:r.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function qT({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(i=>{t(i)})}function yRe(e,t,i){const{ctx:r,canvas:n}=Jle(e,i),o=r.getImageData(0,0,e.width,e.height),c=vRe(n,t);return Kle(n),{dataUrl:c,data:o}}function mRe(e,t){const{ctx:i,canvas:r}=Jle(e,t),n=i.getImageData(0,0,e.width,e.height);return Kle(r),n}function Jle(e,t){const i=gRe();t.premultipliedAlpha&&SRe(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&_Re(r),{ctx:r,canvas:i}}function Kle(e){e.width=0,e.height=0}function gRe(){return WT==null&&(WT=document.createElement("canvas")),WT}let WT=null;function vRe(e,t){const i=$Re[t.format],r=t.quality/100;return e.toDataURL(i,r)}function bRe(e,t){const i=xRe(e),r=TRe[i];return{format:i,quality:ol(t??r,0,100)}}function wRe(e,t){return t/Math.max(e[0],e[1])}function Hxt(e,t,i,r=0,n=0,o=e.width-r,c=e.height-n,f=!1){const{data:g}=e,{width:v,height:_,data:M}=t,T=o/v,E=c/_,j=Math.ceil(T/2),R=Math.ceil(E/2),N=e.width;for(let F=0;F<_;F++)for(let V=0;V<v;V++){const z=4*(V+(f?_-F-1:F)*v);let G=0,H=0,Z=0,Y=0,re=0,q=0;const W=(F+.5)*E;for(let ee=Math.floor(F*E);ee<(F+1)*E;ee++){const le=Math.abs(W-(ee+.5))/R,ue=(V+.5)*T,ae=le*le;for(let pe=Math.floor(V*T);pe<(V+1)*T;pe++){const ge=Math.abs(ue-(pe+.5))/j,ve=Math.sqrt(ae+ge*ge);if(ve>=1)continue;let ce=2*ve*ve*ve-3*ve*ve+1;const he=4*(r+pe+(n+ee)*N);q+=ce*g[he+3],H+=ce,Z+=ce*g[he],Y+=ce*g[he+1],re+=ce*g[he+2],G+=ce}}M[z]=Z/G,M[z+1]=Y/G,M[z+2]=re/G,M[z+3]=q/H}return t}function xRe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return MRe}}function _Re(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function SRe(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const n=t[r+3];if(n!==255&&n>0){const o=255/n;t[r]=t[r]*o,t[r+1]=t[r+1]*o,t[r+2]=t[r+2]*o}}}const $Re={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},sW=98,MRe="png",TRe={png:100,jpg:sW,jpeg:sW},Yle={flipY:!0,premultipliedAlpha:!0};async function kRe(e,t){const i=await Zle(e,t),{format:r,quality:n}=bRe(t==null?void 0:t.format,t==null?void 0:t.quality);return yRe(i,{format:r,quality:n,rotation:0,disableDecorations:!1},Yle)}async function CRe(e,t){const i=await Zle(e,t);return mRe(i,Yle)}function Zle(e,t){const i=ARe(t||{},ERe(e.stage,e.size),e.size,e.padding),r=IRe(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t==null?void 0:t.rotation)}function IRe(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach(r=>{const n=t.find(o=>o.layer.id===r.id);n!=null&&n.container&&i.push(n.container)}),i}function ERe(e,t){return Math.min(4,wRe(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function ARe(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;e.width!=null&&e.height!=null?n=[e.width,e.height]:e.width==null&&e.height!=null?n=[e.height,e.height]:e.width!=null&&e.height==null?n=[e.width,e.width]:e.width==null&&e.height==null&&(n=null);const o=i[0]-(r.left+r.right),c=i[1]-(r.top+r.bottom);let f,g,v=e.area||{x:0,y:0,width:o,height:c};if(n){const _=o/c,M=n[0]/n[1];if(M>_){const T=v.width/M;v={x:v.x,y:Math.round(v.y+(v.height-T)/2),width:v.width,height:Math.round(T)}}else{const T=v.height*M;v={x:Math.round(v.x+(v.width-T)/2),y:v.y,width:Math.round(T),height:v.height}}}else n=[v.width,v.height];return n[0]>v.width?(f=Math.min(n[0]/v.width,t),g=n[0]/v.width/f):(f=1,g=n[0]/v.width),{cropArea:{x:Math.round((v.x+r.left)*f),y:Math.round((v.y+r.top)*f),width:Math.round(v.width*f),height:Math.round(v.height*f)},outputScale:g,resolutionScale:f}}const oW=160;let t2=class extends vt{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=oW&&this.clear()},oW))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};b([$()],t2.prototype,"_timer",void 0),b([$()],t2.prototype,"stationary",null),t2=b([ne("esri.views.2d.support.StationaryManager")],t2);const jRe=e=>e.includes("Brush");let Xle=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),jRe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function aW(e,t={}){return e.getContext("webgl2",t)||null}let HT;function PRe(){return HT||(HT=LRe()),HT}let ORe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function RRe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let i=aW(t,{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=aW(t),i!=null&&(e.majorPerformanceCaveat=!0)),i==null)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),i}function LRe(){const e=new ORe,t=RRe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function NRe(e){const t=PRe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new we("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new we("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new we("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new we("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function FRe(e){return e&&"nodeType"in e}function DRe(e){return e&&typeof e.render=="function"}const lW={component:"esri-component"};let Lf=class extends vt{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,i;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((i=this.node)==null?void 0:i.id)}set id(t){this._set("id",t)}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(lW.component),i&&i.classList.remove(lW.component),this._set("node",t))}castNode(t){var i;return(i=this.widget)==null||i.destroy(),t?typeof t=="string"||FRe(t)?(this._set("widget",null),mN(t)):(DRe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};b([$()],Lf.prototype,"id",null),b([$()],Lf.prototype,"node",null),b([$i("node")],Lf.prototype,"castNode",null),b([$({readOnly:!0})],Lf.prototype,"widget",void 0),Lf=b([ne("esri.views.ui.Component")],Lf);const BS=Lf,Qle="calcite-mode-";function zRe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function VRe(){return zRe().startsWith("dark")}function BRe(){return`${Qle}${VRe()?"dark":"light"}`}function URe(e){GRe(e),e.classList.add(BRe())}function GRe(e){Array.from(e.classList).forEach(t=>{t.startsWith(Qle)&&e.classList.remove(t)})}const qRe={left:0,top:0,bottom:0,right:0},eue={bottom:30,top:15,right:15,left:15},wc="esri-ui",lo={ui:wc,corner:`${wc}-corner`,innerContainer:`${wc}-inner-container`,manualContainer:`${wc}-manual-container`,cornerContainer:`${wc}-corner-container`,topLeft:`${wc}-top-left`,topRight:`${wc}-top-right`,bottomLeft:`${wc}-bottom-left`,bottomRight:`${wc}-bottom-right`};function WRe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function K_(e){return e===0?"0":`${e}px`}function JT(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function KT(e,{top:t,bottom:i,left:r,right:n}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=n}let Mu=class extends dl.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=ta(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&KT(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&KT(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([nt(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,Xi),nt(()=>this.padding,this._applyUIPadding,Xi),nt(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},Xi),XL(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(lo.ui),URe(t),this._attachContainers(t)),i&&(i.classList.remove(lo.ui),KT(i,{top:"",bottom:"",left:"",right:""}),dse(i)),this._set("container",t))}get height(){var o;const t=((o=this.view)==null?void 0:o.height)??0;if(t===0)return t;const i=this._getViewPadding(),{top:r,bottom:n}=i;return Math.max(t-r-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...eue,...t}}get width(){var o;const t=((o=this.view)==null?void 0:o.width)??0;if(t===0)return t;const i=this._getViewPadding(),{left:r,right:n}=i;return Math.max(t-r-n,0)}add(t,i){let r,n,o;if(Array.isArray(t))return void t.forEach(f=>this.add(f,i));const c=JT(t);c&&({index:r,position:i,component:t,key:n}=c),i&&typeof i=="object"&&({index:r,key:n,position:i,internal:o}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,r,n,o)}remove(t,i){var n,o;if(!t)return;if(Array.isArray(t))return t.map(c=>this.remove(c,i));const r=this._find(t);if(r){if(this._componentMap.has(r)&&((n=this._componentMap.get(r))==null?void 0:n.key)!==i)return;const c=this._components.indexOf(r),f=r.node.parentNode;return f==null||f.removeChild(r.node),this._componentMap.delete(r),(o=r.widget)==null||o.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(c,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(const o of t)this.empty(o,i);return}const r=this._positionNameToContainerLookup[t??"manual"],n=Array.prototype.slice.call(r.children).map(o=>this._findByNode(o)).filter(o=>{var c;return o==null?!1:!(((c=this._componentMap.get(o))==null?void 0:c.internal)??!1)||i.removeInternal});for(const o of n)this.remove(o)}move(t,i){if(Array.isArray(t)&&t.forEach(c=>this.move(c,i)),!t)return;let r;const n=JT(t)||JT(i);if(n&&(r=n.index,i=n.position,t=n.component||t),i&&!this._isValidPosition(i))return;const o=this.remove(t);o&&this.add(o,{position:i,index:r})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(t,i):this._components.filter(r=>{var n;return i.includeInternal||!((n=this._componentMap.get(r))!=null&&n.internal)}).map(({widget:r,node:n})=>r??n)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,r,n,o){t instanceof BS||(t=new BS({node:t}));const{widget:c}=t;c!=null&&c instanceof vt&&c.addHandles(Bi(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:i,index:r}),this._components.push(t),this._componentMap.set(t,{key:n,internal:o})}_find(t){return t?t instanceof BS?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??qRe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(lo.innerContainer,lo.cornerContainer);const i=document.createElement("div");i.classList.add(lo.innerContainer,lo.manualContainer);const r=document.createElement("div");r.classList.add(lo.topLeft,lo.corner),t.appendChild(r);const n=document.createElement("div");n.classList.add(lo.topRight,lo.corner),t.appendChild(n);const o=document.createElement("div");o.classList.add(lo.bottomLeft,lo.corner),t.appendChild(o);const c=document.createElement("div");c.classList.add(lo.bottomRight,lo.corner),t.appendChild(c),this._innerContainer=t,this._manualContainer=i;const f=gMe();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":o,"bottom-right":c,"top-leading":f?n:r,"top-trailing":f?r:n,"bottom-leading":f?c:o,"bottom-trailing":f?o:c},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const i=t.position??"manual",{component:r,index:n}=t,o=this._positionNameToContainerLookup[i],c=n!=null&&n>-1;if(WRe(r.widget)&&r.widget.startup(),!c)return void o.appendChild(r.node);const f=Array.from(o.children);if(n===0)return void(o.firstChild?$G(r.node,o.firstChild):o.appendChild(r.node));n>=f.length?o.appendChild(r.node):$G(r.node,f[n])}_toPixelPosition(t){return{top:K_(t.top),left:K_(t.left),right:K_(t.right),bottom:K_(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return this._components.find(({node:i})=>i===t)??null}_getComponentsAtPosition(t,i){const r=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(ss).filter(n=>{var o;return i.includeInternal||!((o=this._componentMap.get(n))!=null&&o.internal)}).map(({widget:n,node:o})=>n??o)}};b([$()],Mu.prototype,"_locale",void 0),b([$()],Mu.prototype,"container",null),b([$()],Mu.prototype,"height",null),b([$({value:eue})],Mu.prototype,"padding",null),b([$i("padding")],Mu.prototype,"castPadding",null),b([$()],Mu.prototype,"view",void 0),b([$()],Mu.prototype,"width",null),Mu=b([ne("esri.views.ui.UI")],Mu);const HRe=Mu,JRe="randomUUID"in crypto;function rF(){if(JRe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function Qxt(){return`{${rF().toUpperCase()}}`}function KRe(){return`{${rF()}}`}const YRe={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},ZRe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},XRe=e=>({...ZRe,...e}),QRe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},eLe=(e,t)=>e.find(t),uW=(e,t,i=!1)=>{let r=e;return t.forEach((n,o)=>{const c=r!=null&&r.children?eLe(r.children,f=>f.domNode===n):void 0;i&&!c&&o!==t.length-1||(r=c)}),r},tLe=e=>{let t;const i={...YRe,...e},r=XRe(i),n=r.performanceLogger;let o,c=!0,f=!1;const g=[],v=[],_=(T,E,j)=>{var F;let R;r.eventHandlerInterceptor=(V,z,G,H)=>function(Z){let Y;n("domEvent",Z);const re=QRe(Z.currentTarget,R.domNode),q=re.some(ee=>{var le;return customElements.get((le=ee==null?void 0:ee.tagName)==null?void 0:le.toLowerCase())});if(Z.eventPhase===Event.CAPTURING_PHASE||!q)re.reverse(),Y=uW(R.getLastRender(),re);else{const ee=Z.composedPath(),le=ee.slice(ee.indexOf(Z.currentTarget),ee.indexOf(R.domNode)).reverse();Y=uW(R.getLastRender(),le,!0)}let W;return Y&&(W=i.handleInterceptedEvent(t,Y,this,Z)),n("domEventProcessed",Z),W},(F=i.postProcessProjectionOptions)==null||F.call(i,r);const N=j();R=T(E,N,r),r.eventHandlerInterceptor=void 0,g.push(R),v.push(j),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(R,N)};let M=()=>{if(o=void 0,c){c=!1,n("renderStart",void 0);for(let T=0;T<g.length;T++){const E=v[T]();n("rendered",void 0),g[T].update(E),n("patched",void 0)}n("renderDone",void 0),c=!0}};return i.modifyDoRenderImplementation&&(M=i.modifyDoRenderImplementation(M,g,v)),t={renderNow:M,scheduleRender:()=>{o||f||(o=requestAnimationFrame(M))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),f=!0},resume:()=>{f=!1,c=!0,t.scheduleRender()},append:(T,E)=>{_(Yd.append,T,E)},insertBefore:(T,E)=>{_(Yd.insertBefore,T,E)},merge:(T,E)=>{_(Yd.merge,T,E)},replace:(T,E)=>{_(Yd.replace,T,E)},detach:T=>{for(let E=0;E<v.length;E++)if(v[E]===T)return v.splice(E,1),g.splice(E,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const tue="calcite-mode-auto",iue="calcite-mode-dark",iLe="calcite-mode-light",e_t={autoMode:tue,darkMode:iue,lightMode:iLe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},t_t={filter:250,nextTick:0,resize:150,reposition:100};var Va={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},rLe=Object.defineProperty,nLe=(e,t)=>{for(var i in t)rLe(e,i,{get:t[i],enumerable:!0})},rue=new WeakMap,M1=e=>rue.get(e),sLe=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return rue.set(e,i)},cW=(e,t)=>t in e,hx=(e,t)=>(0,console.error)(e,t),t6=new Map,oLe=[],aLe="slot-fb{display:contents}slot-fb[hidden]{display:none}",hW="http://www.w3.org/1999/xlink",dx=typeof window<"u"?window:{},Xl=dx.document||{head:{}},i_t=dx.HTMLElement||class{},Un={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},lLe=(()=>{let e=!1;try{Xl.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),uLe=e=>Promise.resolve(e),cLe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),pj=!1,fj=[],nue=[],sue=(e,t)=>i=>{e.push(i),pj||(pj=!0,t&&Un.$flags$&4?hLe(yj):Un.raf(yj))},dW=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){hx(i)}e.length=0},yj=()=>{dW(fj),dW(nue),(pj=fj.length>0)&&Un.raf(yj)},hLe=e=>uLe().then(e),r_t=sue(fj,!1),dLe=sue(nue,!0),pLe=e=>{const t=new URL(e,Un.$resourcesUrl$);return t.origin!==dx.location.origin?t.href:t.pathname},fLe=e=>Un.$resourcesUrl$=e,pW={},yLe="http://www.w3.org/2000/svg",mLe="http://www.w3.org/1999/xhtml",gLe=e=>e!=null,nF=e=>(e=typeof e,e==="object"||e==="function");function vLe(e){var t,i,r;return(r=(i=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:i.getAttribute("content"))!=null?r:void 0}var bLe={};nLe(bLe,{err:()=>oue,map:()=>wLe,ok:()=>mj,unwrap:()=>xLe,unwrapErr:()=>_Le});var mj=e=>({isOk:!0,isErr:!1,value:e}),oue=e=>({isOk:!1,isErr:!0,value:e});function wLe(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then(r=>mj(r)):mj(i)}if(e.isErr){const i=e.value;return oue(i)}throw"should never get here"}var xLe=e=>{if(e.isOk)return e.value;throw e.value},_Le=e=>{if(e.isErr)return e.value;throw e.value},i1=(e,t="")=>()=>{},aue=(e,t,...i)=>{let r=null,n=null,o=null,c=!1,f=!1;const g=[],v=M=>{for(let T=0;T<M.length;T++)r=M[T],Array.isArray(r)?v(r):r!=null&&typeof r!="boolean"&&((c=typeof e!="function"&&!nF(r))&&(r=String(r)),c&&f?g[g.length-1].$text$+=r:g.push(c?i6(null,r):r),f=c)};if(v(i),t){t.key&&(n=t.key),t.name&&(o=t.name);{const M=t.className||t.class;M&&(t.class=typeof M!="object"?M:Object.keys(M).filter(T=>M[T]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,g,MLe);const _=i6(e,null);return _.$attrs$=t,g.length>0&&(_.$children$=g),_.$key$=n,_.$name$=o,_},i6=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},SLe={},$Le=e=>e&&e.$tag$===SLe,MLe={forEach:(e,t)=>e.map(fW).forEach(t),map:(e,t)=>e.map(fW).map(t).map(TLe)},fW=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),TLe=e=>{if(typeof e.vtag=="function"){const i={...e.vattrs};return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),aue(e.vtag,i,...e.vchildren||[])}const t=i6(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},kLe=e=>oLe.map(t=>t(e)).find(t=>!!t),CLe=(e,t)=>e!=null&&!nF(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,ILe=e=>e,n_t=(e,t,i)=>{const r=ILe(e);return{emit:n=>ELe(r,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:n})}},ELe=(e,t,i)=>{const r=Un.ce(t,i);return e.dispatchEvent(r),r},yW=new WeakMap,ALe=(e,t,i)=>{let r=t6.get(e);cLe&&i?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,t6.set(e,r)},jLe=(e,t,i)=>{var r;const n=lue(t,i),o=t6.get(n);if(e=e.nodeType===11?e:Xl,o)if(typeof o=="string"){e=e.head||e;let c=yW.get(e),f;if(c||yW.set(e,c=new Set),!c.has(n)){{f=Xl.createElement("style"),f.innerHTML=o;const g=(r=Un.$nonce$)!=null?r:vLe(Xl);g!=null&&f.setAttribute("nonce",g),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(f,e.querySelector("link"))}t.$flags$&4&&(f.innerHTML+=aLe),c&&c.add(n)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return n},PLe=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,r=t.$flags$,n=i1("attachStyles",t.$tagName$),o=jLe(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);r&10&&r&2&&(i["s-sc"]=o,i.classList.add(o+"-h"),r&2&&i.classList.add(o+"-s")),n()},lue=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),mW=(e,t,i,r,n,o)=>{if(i!==r){let c=cW(e,t),f=t.toLowerCase();if(t==="class"){const g=e.classList,v=gW(i),_=gW(r);g.remove(...v.filter(M=>M&&!_.includes(M))),g.add(..._.filter(M=>M&&!v.includes(M)))}else if(t==="style"){for(const g in i)(!r||r[g]==null)&&(g.includes("-")?e.style.removeProperty(g):e.style[g]="");for(const g in r)(!i||r[g]!==i[g])&&(g.includes("-")?e.style.setProperty(g,r[g]):e.style[g]=r[g])}else if(t!=="key")if(t==="ref")r&&r(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):cW(dx,f)?t=f.slice(2):t=f[2]+t.slice(3),i||r){const g=t.endsWith(uue);t=t.replace(RLe,""),i&&Un.rel(e,t,i,g),r&&Un.ael(e,t,r,g)}}else{const g=nF(r);if((c||g&&r!==null)&&!n)try{if(e.tagName.includes("-"))e[t]=r;else{const _=r??"";t==="list"?c=!1:(i==null||e[t]!=_)&&(e[t]=_)}}catch{}let v=!1;f!==(f=f.replace(/^xlink\:?/,""))&&(t=f,v=!0),r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&(v?e.removeAttributeNS(hW,t):e.removeAttribute(t)):(!c||o&4||n)&&!g&&(r=r===!0?"":r,v?e.setAttributeNS(hW,t,r):e.setAttribute(t,r))}}},OLe=/\s/,gW=e=>e?e.split(OLe):[],uue="Capture",RLe=new RegExp(uue+"$"),cue=(e,t,i)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,n=e&&e.$attrs$||pW,o=t.$attrs$||pW;for(const c of vW(Object.keys(n)))c in o||mW(r,c,n[c],void 0,i,t.$flags$);for(const c of vW(Object.keys(o)))mW(r,c,n[c],o[c],i,t.$flags$)};function vW(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var $y,gj,yg,r6=!1,n6=!1,sF=!1,Ho=!1,s6=(e,t,i,r)=>{var n;const o=t.$children$[i];let c=0,f,g,v;if(r6||(sF=!0,o.$tag$==="slot"&&($y&&r.classList.add($y+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)f=o.$elm$=Xl.createTextNode(o.$text$);else if(o.$flags$&1)f=o.$elm$=Xl.createTextNode("");else{if(Ho||(Ho=o.$tag$==="svg"),f=o.$elm$=Xl.createElementNS(Ho?yLe:mLe,!r6&&Va.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),Ho&&o.$tag$==="foreignObject"&&(Ho=!1),cue(null,o,Ho),!!f.getRootNode().querySelector("body")&&Va.scoped&&gLe($y)&&f["s-si"]!==$y&&f.classList.add(f["s-si"]=$y),aF(f,r),o.$children$)for(c=0;c<o.$children$.length;++c)g=s6(e,o,c,f),g&&f.appendChild(g);o.$tag$==="svg"?Ho=!1:f.tagName==="foreignObject"&&(Ho=!0)}return f["s-hn"]=yg,o.$flags$&3&&(f["s-sr"]=!0,f["s-cr"]=gj,f["s-sn"]=o.$name$||"",f["s-rf"]=(n=o.$attrs$)==null?void 0:n.ref,v=e&&e.$children$&&e.$children$[i],v&&v.$tag$===o.$tag$&&e.$elm$&&Qw(e.$elm$,!1)),f},Qw=(e,t)=>{Un.$flags$|=1;const i=Array.from(e.childNodes);if(e["s-sr"]&&Va.experimentalSlotFixes){let r=e;for(;r=r.nextSibling;)r&&r["s-sn"]===e["s-sn"]&&r["s-sh"]===yg&&i.push(r)}for(let r=i.length-1;r>=0;r--){const n=i[r];n["s-hn"]!==yg&&n["s-ol"]&&(pp(pue(n),n,oF(n)),n["s-ol"].remove(),n["s-ol"]=void 0,n["s-sh"]=void 0,sF=!0),t&&Qw(n,t)}Un.$flags$&=-2},hue=(e,t,i,r,n,o)=>{let c=e["s-cr"]&&e["s-cr"].parentNode||e,f;for(c.shadowRoot&&c.tagName===yg&&(c=c.shadowRoot);n<=o;++n)r[n]&&(f=s6(null,i,n,e),f&&(r[n].$elm$=f,pp(c,f,oF(t))))},due=(e,t,i)=>{for(let r=t;r<=i;++r){const n=e[r];if(n){const o=n.$elm$;mue(n),o&&(n6=!0,o["s-ol"]?o["s-ol"].remove():Qw(o,!0),o.remove())}}},LLe=(e,t,i,r,n=!1)=>{let o=0,c=0,f=0,g=0,v=t.length-1,_=t[0],M=t[v],T=r.length-1,E=r[0],j=r[T],R,N;for(;o<=v&&c<=T;)if(_==null)_=t[++o];else if(M==null)M=t[--v];else if(E==null)E=r[++c];else if(j==null)j=r[--T];else if(Y_(_,E,n))My(_,E,n),_=t[++o],E=r[++c];else if(Y_(M,j,n))My(M,j,n),M=t[--v],j=r[--T];else if(Y_(_,j,n))(_.$tag$==="slot"||j.$tag$==="slot")&&Qw(_.$elm$.parentNode,!1),My(_,j,n),pp(e,_.$elm$,M.$elm$.nextSibling),_=t[++o],j=r[--T];else if(Y_(M,E,n))(_.$tag$==="slot"||j.$tag$==="slot")&&Qw(M.$elm$.parentNode,!1),My(M,E,n),pp(e,M.$elm$,_.$elm$),M=t[--v],E=r[++c];else{for(f=-1,g=o;g<=v;++g)if(t[g]&&t[g].$key$!==null&&t[g].$key$===E.$key$){f=g;break}f>=0?(N=t[f],N.$tag$!==E.$tag$?R=s6(t&&t[c],i,f,e):(My(N,E,n),t[f]=void 0,R=N.$elm$),E=r[++c]):(R=s6(t&&t[c],i,c,e),E=r[++c]),R&&pp(pue(_.$elm$),R,oF(_.$elm$))}o>v?hue(e,r[T+1]==null?null:r[T+1].$elm$,i,r,c,T):c>T&&due(t,o,v)},Y_=(e,t,i=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&i&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:i?!0:e.$key$===t.$key$:!1,oF=e=>e&&e["s-ol"]||e,pue=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,My=(e,t,i=!1)=>{const r=t.$elm$=e.$elm$,n=e.$children$,o=t.$children$,c=t.$tag$,f=t.$text$;let g;f===null?(Ho=c==="svg"?!0:c==="foreignObject"?!1:Ho,c==="slot"&&!r6||cue(e,t,Ho),n!==null&&o!==null?LLe(r,n,t,o,i):o!==null?(e.$text$!==null&&(r.textContent=""),hue(r,null,t,o,0,o.length-1)):!i&&Va.updatable&&n!==null&&due(n,0,n.length-1),Ho&&c==="svg"&&(Ho=!1)):(g=r["s-cr"])?g.parentNode.textContent=f:e.$text$!==f&&(r.data=f)},fue=e=>{const t=e.childNodes;for(const i of t)if(i.nodeType===1){if(i["s-sr"]){const r=i["s-sn"];i.hidden=!1;for(const n of t)if(n!==i){if(n["s-hn"]!==i["s-hn"]||r!==""){if(n.nodeType===1&&(r===n.getAttribute("slot")||r===n["s-sn"])||n.nodeType===3&&r===n["s-sn"]){i.hidden=!0;break}}else if(n.nodeType===1||n.nodeType===3&&n.textContent.trim()!==""){i.hidden=!0;break}}}fue(i)}},sh=[],yue=e=>{let t,i,r;for(const n of e.childNodes){if(n["s-sr"]&&(t=n["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const o=n["s-sn"];for(r=i.length-1;r>=0;r--)if(t=i[r],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==n["s-hn"]&&!Va.experimentalSlotFixes)if(bW(t,o)){let c=sh.find(f=>f.$nodeToRelocate$===t);n6=!0,t["s-sn"]=t["s-sn"]||o,c?(c.$nodeToRelocate$["s-sh"]=n["s-hn"],c.$slotRefNode$=n):(t["s-sh"]=n["s-hn"],sh.push({$slotRefNode$:n,$nodeToRelocate$:t})),t["s-sr"]&&sh.map(f=>{bW(f.$nodeToRelocate$,t["s-sn"])&&(c=sh.find(g=>g.$nodeToRelocate$===t),c&&!f.$slotRefNode$&&(f.$slotRefNode$=c.$slotRefNode$))})}else sh.some(c=>c.$nodeToRelocate$===t)||sh.push({$nodeToRelocate$:t})}n.nodeType===1&&yue(n)}},bW=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",mue=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(mue)},pp=(e,t,i)=>{const r=e==null?void 0:e.insertBefore(t,i);return aF(t,e),r},gue=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...gue(e.parentElement)),t},aF=(e,t,i=!1)=>{var r;if(e&&t&&e.nodeType===1){const n=new Set(gue(t).filter(Boolean));if(n.size&&((r=e.classList)==null||r.add(...e["s-scs"]=[...n]),e["s-ol"]||i))for(const o of Array.from(e.childNodes))aF(o,e,!0)}},NLe=(e,t,i=!1)=>{var r,n,o,c,f;const g=e.$hostElement$,v=e.$cmpMeta$,_=e.$vnode$||i6(null,null),M=$Le(t)?t:aue(null,null,t);if(yg=g.tagName,v.$attrsToReflect$&&(M.$attrs$=M.$attrs$||{},v.$attrsToReflect$.map(([T,E])=>M.$attrs$[E]=g[T])),i&&M.$attrs$)for(const T of Object.keys(M.$attrs$))g.hasAttribute(T)&&!["key","ref","style","class"].includes(T)&&(M.$attrs$[T]=g[T]);M.$tag$=null,M.$flags$|=4,e.$vnode$=M,M.$elm$=_.$elm$=g.shadowRoot||g,$y=g["s-sc"],r6=(v.$flags$&1)!==0,gj=g["s-cr"],n6=!1,My(_,M,i);{if(Un.$flags$|=1,sF){yue(M.$elm$);for(const T of sh){const E=T.$nodeToRelocate$;if(!E["s-ol"]){const j=Xl.createTextNode("");j["s-nr"]=E,pp(E.parentNode,E["s-ol"]=j,E)}}for(const T of sh){const E=T.$nodeToRelocate$,j=T.$slotRefNode$;if(j){const R=j.parentNode;let N=j.nextSibling;{let F=(r=E["s-ol"])==null?void 0:r.previousSibling;for(;F;){let V=(n=F["s-nr"])!=null?n:null;if(V&&V["s-sn"]===E["s-sn"]&&R===V.parentNode){for(V=V.nextSibling;V===E||V!=null&&V["s-sr"];)V=V==null?void 0:V.nextSibling;if(!V||!V["s-nr"]){N=V;break}}F=F.previousSibling}}(!N&&R!==E.parentNode||E.nextSibling!==N)&&E!==N&&(!E["s-hn"]&&E["s-ol"]&&(E["s-hn"]=E["s-ol"].parentNode.nodeName),pp(R,E,N),E.nodeType===1&&(E.hidden=(o=E["s-ih"])!=null?o:!1)),E&&typeof j["s-rf"]=="function"&&j["s-rf"](E)}else E.nodeType===1&&(i&&(E["s-ih"]=(c=E.hidden)!=null?c:!1),E.hidden=!0)}}n6&&fue(M.$elm$),Un.$flags$&=-2,sh.length=0}if(Va.experimentalScopedSlotChanges&&v.$flags$&2)for(const T of M.$elm$.childNodes)T["s-hn"]!==yg&&!T["s-sh"]&&(i&&T["s-ih"]==null&&(T["s-ih"]=(f=T.hidden)!=null?f:!1),T.hidden=!0);gj=void 0},FLe=(e,t)=>{},lF=(e,t)=>(e.$flags$|=16,FLe(e,e.$ancestorComponent$),dLe(()=>DLe(e,t))),DLe=(e,t)=>{const i=e.$hostElement$,r=i1("scheduleUpdate",e.$cmpMeta$.$tagName$),n=i;if(!n)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?o=Nm(n,"componentWillLoad"):o=Nm(n,"componentWillUpdate"),o=wW(o,()=>Nm(n,"componentWillRender")),r(),wW(o,()=>VLe(e,n,t))},wW=(e,t)=>zLe(e)?e.then(t).catch(i=>{console.error(i),t()}):t(),zLe=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",VLe=async(e,t,i)=>{const r=e.$hostElement$,n=i1("update",e.$cmpMeta$.$tagName$);r["s-rc"],i&&PLe(e);const o=i1("render",e.$cmpMeta$.$tagName$);BLe(e,t,r,i),o(),n(),ULe(e)},xW=null,BLe=(e,t,i,r)=>{try{xW=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Va.hasRenderFn||Va.reflect)&&(Va.vdomRender||Va.reflect)&&(Va.hydrateServerSide||NLe(e,t,r))}catch(g){hx(g,e.$hostElement$)}return xW=null,null},ULe=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,r=i1("postUpdate",t),n=i;e.$ancestorComponent$,Nm(n,"componentDidRender"),e.$flags$&64?(Nm(n,"componentDidUpdate"),r()):(e.$flags$|=64,Nm(n,"componentDidLoad"),r())},s_t=e=>{{const t=M1(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&lF(t,!1),i}},Nm=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(r){hx(r)}},GLe=(e,t)=>M1(e).$instanceValues$.get(t),qLe=(e,t,i,r)=>{const n=M1(e),o=e,c=n.$instanceValues$.get(t),f=n.$flags$,g=o;i=CLe(i,r.$members$[t][0]);const v=Number.isNaN(c)&&Number.isNaN(i);if(i!==c&&!v){n.$instanceValues$.set(t,i);{if(r.$watchers$&&f&128){const M=r.$watchers$[t];M&&M.map(T=>{try{g[T](i,c,t)}catch(E){hx(E,o)}})}if((f&18)===2){if(g.componentShouldUpdate&&g.componentShouldUpdate(i,c,t)===!1)return;lF(n,!1)}}}},WLe=(e,t,i)=>{var r,n;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const c=Object.entries((r=t.$members$)!=null?r:{});c.map(([f,[g]])=>{(g&31||g&32)&&Object.defineProperty(o,f,{get(){return GLe(this,f)},set(v){qLe(this,f,v,t)},configurable:!0,enumerable:!0})});{const f=new Map;o.attributeChangedCallback=function(g,v,_){Un.jmp(()=>{var M;const T=f.get(g);if(this.hasOwnProperty(T))_=this[T],delete this[T];else{if(o.hasOwnProperty(T)&&typeof this[T]=="number"&&this[T]==_)return;if(T==null){const E=M1(this),j=E==null?void 0:E.$flags$;if(j&&!(j&8)&&j&128&&_!==v){const N=this,F=(M=t.$watchers$)==null?void 0:M[g];F==null||F.forEach(V=>{N[V]!=null&&N[V].call(N,_,v,g)})}return}}this[T]=_===null&&typeof this[T]=="boolean"?!1:_})},e.observedAttributes=Array.from(new Set([...Object.keys((n=t.$watchers$)!=null?n:{}),...c.filter(([g,v])=>v[0]&15).map(([g,v])=>{var _;const M=v[1]||g;return f.set(M,g),v[0]&512&&((_=t.$attrsToReflect$)==null||_.push([g,M])),M})]))}}return e},HLe=async(e,t,i,r)=>{let n;if(!(t.$flags$&32)){t.$flags$|=32,i.$lazyBundleId$;{n=e.constructor;const c=e.localName;customElements.whenDefined(c).then(()=>t.$flags$|=128)}if(n&&n.style){let c;typeof n.style=="string"?c=n.style:typeof n.style!="string"&&(t.$modeName$=kLe(e),t.$modeName$&&(c=n.style[t.$modeName$]));const f=lue(i,t.$modeName$);if(!t6.has(f)){const g=i1("registerStyles",i.$tagName$);ALe(f,c,!!(i.$flags$&1)),g()}}}t.$ancestorComponent$,lF(t,!0)},_W=e=>{},JLe=e=>{if(!(Un.$flags$&1)){const t=M1(e),i=t.$cmpMeta$,r=i1("connectedCallback",i.$tagName$);t.$flags$&1?(vue(e,t,i.$listeners$),t!=null&&t.$lazyInstance$?_W(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>_W(t.$lazyInstance$))):(t.$flags$|=1,i.$flags$&12&&KLe(e),i.$members$&&Object.entries(i.$members$).map(([n,[o]])=>{if(o&31&&e.hasOwnProperty(n)){const c=e[n];delete e[n],e[n]=c}}),HLe(e,t,i)),r()}},KLe=e=>{const t=e["s-cr"]=Xl.createComment("");t["s-cn"]=!0,pp(e,t,e.firstChild)},YLe=async e=>{if(!(Un.$flags$&1)){const t=M1(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},o_t=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const r=e.prototype.connectedCallback,n=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){sLe(this,i)},connectedCallback(){const o=M1(this);vue(this,o,i.$listeners$),JLe(this),r&&r.call(this)},disconnectedCallback(){YLe(this),n&&n.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=i.$tagName$,WLe(e,i)},a_t=(e,t)=>t,vue=(e,t,i,r)=>{i&&i.map(([n,o,c])=>{const f=XLe(e,n),g=ZLe(t,c),v=QLe(n);Un.ael(f,o,g,v),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Un.rel(f,o,g,v))})},ZLe=(e,t)=>i=>{var r;try{Va.lazyLoad||e.$hostElement$[t](i)}catch(n){hx(n)}},XLe=(e,t)=>t&4?Xl:t&8?dx:t&16?Xl.body:e,QLe=e=>lLe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const yh=globalThis.calciteConfig,l_t=(yh==null?void 0:yh.focusTrapStack)||[],u_t=(yh==null?void 0:yh.logLevel)||"info",SW="2.12.1",eNe="2024-09-04",tNe="eae5049";function iNe(){if(yh&&yh.version)return;console.info(`Using Calcite Components ${SW} [Date: ${eNe}, Revision: ${tNe}]`);const e=yh||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:SW,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const bue=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function rNe(){return navigator.userAgentData}function c_t(){if(!bue())return"";const e=rNe();return e!=null&&e.brands?e.brands.map(({brand:t,version:i})=>`${t}/${i}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */function $W(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(iue)||e.contains(tue)&&t?"dark":"light",r=c=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:c}})),n=c=>{o!==c&&r(c),o=c};let o=i();r(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c=>n(c.matches?"dark":"light")),new MutationObserver(()=>n(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function nNe(){bue()&&(document.readyState==="interactive"?$W():document.addEventListener("DOMContentLoaded",()=>$W(),{once:!0})),iNe()}const sNe=nNe;sNe();let wue;function oNe(){try{pLe(".")}catch{fLe(Da(Si(wue)))}}function qp(e){var i;const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push((i=e[r])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}wue="components/assets";const xue=Symbol("widget"),_ue=Symbol("widget-test-data"),aNe=[],lNe={},o6=new WeakMap;function Sue(e,t){let i=t.children;if(i!=null&&i.length)for(let n=0;n<i.length;++n)i[n]=Sue(e,i[n]);else i=aNe;const r=t.vnodeSelector;if(a6(r)){const n=t.properties||lNe,o=n.key||r;return{vnodeSelector:"div",properties:{key:o,afterCreate:uNe,afterUpdate:cNe,afterRemoved:$ue,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:o,children:i}},children:void 0,text:void 0,domNode:null}}return t}function uNe(e,t,i,{parentWidget:r,widgetConstructor:n,widgetProperties:o}){var f;const c=new n(o);c.container=e,o6.set(e,c),(f=c.afterCreate)==null||f.call(c,c,e),r.addHandles(Bi(()=>$ue(e))),queueMicrotask(()=>{c[_ue].projector.renderNow()})}function cNe(e,t,i,{widgetProperties:r}){var o;const n=o6.get(e);n&&(n.set(r),(o=n.afterUpdate)==null||o.call(n,n,e))}function $ue(e){var i;const t=o6.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),o6.delete(e))}function a6(e){return typeof e=="function"&&e[xue]}const MW=new Set;function hNe(e){MW.add(e),e.finally(()=>MW.delete(e))}var Mue;const dNe="esri.widgets.Widget";let pNe=0;function Tue(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]=="object"&&typeof t[r]=="object"?Tue(e[r],t[r]):e[r]=t[r]);return e}const fNe=tLe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,n,o,c)=>{const f=t==null?void 0:t(r,n,o,c),g=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in o)||g){const v=r[2].toLowerCase()+r.slice(3),_=E=>f==null?void 0:f.call(o,E);o.addEventListener(v,_,g);const M=()=>o.removeEventListener(v,_,g),T=c.afterRemoved;c.afterRemoved=E=>{T==null||T(E),M()}}return f}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:o}=r,c=n===Event.CAPTURING_PHASE;let f=`on${o}${c?"capture":""}`;const g=t.properties;(g&&f in g||(f=`on${o[0].toUpperCase()}${o.slice(1)}${c?"Capture":""}`,g&&f in g))&&(kse(),e.scheduleRender(),g[f].call(g.bind||i,r))}});let YT=!1,Sn=class extends ix(dl.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._projector=fNe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=J$(async()=>{var g;if((g=this._messageBundleProps)!=null&&g.length){const v=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:_,propertyName:M})=>{if(this.destroyed)return;let T=await hN(_);this.uiStrings&&Object.keys(this.uiStrings)&&(T=Tue(be(T),this.uiStrings)),this[M]=T}));if(this.destroyed)return;for(const _ of v)_.status==="rejected"&&Le.getLogger(this).error("widget-intl:locale-error",this.declaredClass,_.reason)}await this.loadLocale()}),oNe();const r="esri-widget-uid-"+rF(),n=this.render.bind(this);this._trackingTarget=new K$(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const o=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),c=()=>{var M,T;if(!this._readyForTrueRender||this.destroyed)return null;const g=n()??o(),v=g.properties??(g.properties={});if(v.key??(v.key=r),a6(g.vnodeSelector)){if(!this.visible)return o()}else this.visible?v.styles||(v.styles={}):(v.class="",v.styles={display:"none"}),(M=v.styles).display??(M.display="");let _=0;return(T=g.children)==null||T.forEach(E=>{var j;a6(E.vnodeSelector)||(E.properties??(E.properties={}),(j=E.properties).key??(j.key=`${this.id}--${_++}`))}),Sue(this,g)};this.render=()=>{if(YT)return c();let g=fMe(this)??null;if(g)return g;this._trackingTarget.clear(),YT=!0;try{g=Sh(this._trackingTarget,c)}catch(v){throw Le.getLogger(this).error(v),v}finally{YT=!1}return g&&yMe(this,g),g};const f=this.beforeFirstRender();f?this._resourcesFetch=f.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),hNe(this._resourcesFetch)}normalizeCtorArgs(t,i){const r={...t};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const t=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(RB):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(rr(this._trackingTarget),rr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,gT(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return mN(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+pNe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(Mue=xue,_ue)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(gT(this),this._projector.scheduleRender())}own(t){Yee(Le.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return Cse.apply(this,t)}renderNow(){gT(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(nt(()=>this.viewModel,(r,n)=>{n&&this.removeHandles("delegated-events"),r&&W$(r)&&this.addHandles(this._delegatedEventNames.map(o=>U3(r,o,c=>{this.emit(o,c)})),"delegated-events")},Jo)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(RB),this.scheduleRender()};this.addHandles([XL(t),nt(()=>this.uiStrings,t),oa(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};Sn[Mue]=!0,b([$()],Sn.prototype,"_readyForTrueRender",void 0),b([$({value:null})],Sn.prototype,"container",null),b([$i("container")],Sn.prototype,"castContainer",null),b([$()],Sn.prototype,"icon",null),b([$()],Sn.prototype,"id",null),b([$()],Sn.prototype,"label",null),b([$()],Sn.prototype,"renderable",null),b([$()],Sn.prototype,"uiStrings",void 0),b([$()],Sn.prototype,"viewModel",void 0),b([$({value:!0})],Sn.prototype,"visible",null),b([$()],Sn.prototype,"key",void 0),b([$()],Sn.prototype,"children",void 0),b([$()],Sn.prototype,"afterCreate",void 0),b([$()],Sn.prototype,"afterUpdate",void 0),b([$()],Sn.prototype,"afterRemoved",void 0),Sn=b([ne(dNe)],Sn);const pl=Sn,yNe=new Map;function mNe(e){return yNe.get(e)}function TW(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function gNe(e,t){return e.length!==t.length||e.some((i,r)=>i.text!==t[r].text)}function zv(e,t,i){!i||!t||e.find(r=>r.layerView===t&&r.text===i)||e.push({text:i,layerView:t})}function vNe(e){return e.type==="bing-maps"}const xc=[];let Ty=class extends vt{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new st,this.view=null,this._allLayerViewsChange=i=>{var n;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=(n=this.view)==null?void 0:n.allLayerViews;r&&(this.addHandles(r.map(o=>nt(()=>{var c;return[o.suspended,(c=o.layer)==null?void 0:c.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(o=>{o.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(o.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i!=null&&i.removed&&i.removed.forEach(o=>{this._pendingAttributions.delete(o),this._fetchedAttributionData.delete(o)}),this._updateAttributionItems()},this.addHandles([ro(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),oa(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,i=t==null?void 0:t.allLayerViews;if(xc.length=0,!t||!i)return void this._clear();i.forEach(n=>{var f,g;if(n.suspended||!((f=n.layer)!=null&&f.attributionVisible))return;const o=n.layer;if(TW(o,"user"))return void zv(xc,n,o.copyright);if(o.hasAttributionData){if(this._fetchedAttributionData.has(n)){const v=this._fetchedAttributionData.get(n);return void(v?zv(xc,n,this._getDynamicAttribution(v,t,o)):TW(o)&&zv(xc,n,o.copyright))}return void this._fetchAttributionData(n)}const c="portalItem"in o?(g=o.portalItem)==null?void 0:g.accessInformation:void 0;zv(xc,n,c||o.copyright)});const r=i.find(n=>{var o;return((o=n.layer)==null?void 0:o.type)==="integrated-mesh-3dtiles"});if(this.view&&r){const n=mNe(this.view);if(n){const o=n.getAttributionText();for(let c=0;c<o.length;++c)zv(xc,r,o[c])}}gNe(this.items,xc)&&(this.items.removeAll(),this.items.addMany(xc)),xc.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await a7(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const r=i.ok?this._createContributionIndex(i.value,vNe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,r)}this._updateAttributionItems()}_createContributionIndex(t,i){const r=t.contributors,n={};if(!r)return n;for(let o=0;o<r.length;o++){const c=r[o],f=c.coverageAreas;if(!f)return;for(const g of f){const v=g.bbox,_=g.zoomMin-(i&&g.zoomMin?1:0),M=g.zoomMax-(i&&g.zoomMax?1:0),T=new ci({xmin:v[1],ymin:v[0],xmax:v[3],ymax:v[2],spatialReference:At.WGS84}),E={extent:Yl(T),attribution:c.attribution||"",score:g.score!=null?g.score:100,id:o};for(let j=_;j<=M;j++)n[j]??(n[j]=[]),n[j].push(E)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,i,r){var _;const{extent:n,scale:o}=i;let c=((_=r.tileInfo)==null?void 0:_.scaleToZoom(o))??0;if(c=Math.min(t.maxKey??0,Math.round(c)),!n||c==null||c<=-1)return"";const f=t[c],g=s7(n.center.clone().normalize(),i.spatialReference),v=new Set;return f?f.filter(M=>{const T=M.id,E=!v.has(T)&&g&&M.extent&&J3(M.extent,g);return E&&v.add(T),E}).sort((M,T)=>T.score-M.score||M.objectId-T.objectId).map(M=>M.attribution).join(", "):""}};b([$({readOnly:!0,type:st})],Ty.prototype,"items",void 0),b([$({readOnly:!0})],Ty.prototype,"state",null),b([$()],Ty.prototype,"view",void 0),Ty=b([ne("esri.widgets.Attribution.AttributionViewModel")],Ty);const kue=Ty,Dt={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function l6(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:wNe(e[t])}}}function bNe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function wNe(e){return function(t,...i){bNe(t)?Ese(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function no(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var xNe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},Cue=function(e,t){for(var i=0,r=e.length;i<r;i++){var n=e[i];Array.isArray(n)?Cue(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=xNe(n)),t.push(n))}},_Ne=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return Cue(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function Ee(e,t,...i){return typeof e!="function"||a6(e)?_Ne(e,t,...i):e(t,...i)}function p_t(...e){return e}const H1="esri-attribution",J1={base:H1,poweredBy:`${H1}__powered-by`,sources:`${H1}__sources`,open:`${H1}--open`,sourcesOpen:`${H1}__sources--open`,link:`${H1}__link`};let qs=class extends pl{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:n})=>this._checkSourceTextOverflow(n))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new kue}initialize(){this.addHandles(ro(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[J1.open]:this._isOpen};return Ee("div",{bind:this,class:this.classes(J1.base,Dt.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return Ee("div",{class:J1.poweredBy},"Powered by"," ",Ee("a",{class:J1.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:n}=this,o={[J1.sourcesOpen]:t,[Dt.interactive]:i};return Ee("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(J1.sources,o),innerHTML:n,tabIndex:r})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:r,clientWidth:n,scrollWidth:o}=t,c=o>n,f=this._attributionTextOverflowed!==c;if(this._attributionTextOverflowed=c,f&&(i=!0),this._isOpen){const g=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,g&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};b([$()],qs.prototype,"_isOpen",void 0),b([$()],qs.prototype,"_isInteractive",null),b([$()],qs.prototype,"_attributionTextOverflowed",void 0),b([$()],qs.prototype,"_prevSourceNodeHeight",void 0),b([$({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],qs.prototype,"attributionText",null),b([$()],qs.prototype,"icon",null),b([$()],qs.prototype,"itemDelimiter",void 0),b([$()],qs.prototype,"label",null),b([$(),no("esri/widgets/Attribution/t9n/Attribution")],qs.prototype,"messages",void 0),b([$()],qs.prototype,"view",null),b([$({type:kue})],qs.prototype,"viewModel",void 0),b([l6()],qs.prototype,"_toggleState",null),qs=b([ne("esri.widgets.Attribution")],qs);const SNe=qs;function $Ne(e){var t,i;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((i=e==null?void 0:e.spatialReference)==null?void 0:i.isGeographic)||!1}const uF=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:r}=this;return fte(r),this.goToOverride?this.goToOverride(r,i):r.goTo(i.target,i.options)}};return b([$()],t.prototype,"goToOverride",void 0),b([$()],t.prototype,"view",void 0),t=b([ne("esri.widgets.support.GoTo")],t),t};let Nf=class extends uF(vt){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(nt(()=>this.view,this._updateRotationWatcher,Xi))}destroy(){this.view=null}get canShowNorth(){return $Ne(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,i;(t=this.view)!=null&&t.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:ke("mapview-essential-goto-duration")}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?nt(()=>t==null?void 0:t.rotation,this._updateForRotation,Xi):nt(()=>t==null?void 0:t.camera,this._updateForCamera,Xi))}};b([$({readOnly:!0})],Nf.prototype,"canShowNorth",null),b([$({readOnly:!0})],Nf.prototype,"orientation",void 0),b([$({readOnly:!0})],Nf.prototype,"state",null),b([$()],Nf.prototype,"view",void 0),Nf=b([ne("esri.widgets.Compass.CompassViewModel")],Nf);const Iue=Nf,kW="esri-compass",CW={base:kW,iconContainer:`${kW}__icon-container`};let Rc=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new Iue,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-BglXzQj1.js"),__vite__mapDeps([219,217,209,215]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,{messages:r}=this;return Ee("div",{class:this.classes(CW.base,Dt.widget)},Ee("calcite-button",{class:Dt.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},Ee("div",{"aria-hidden":"true",class:CW.iconContainer,title:r.reset},Ee("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};b([$()],Rc.prototype,"goToOverride",null),b([$()],Rc.prototype,"icon",null),b([$()],Rc.prototype,"label",null),b([$(),no("esri/widgets/Compass/t9n/Compass")],Rc.prototype,"messages",void 0),b([$()],Rc.prototype,"view",null),b([$({type:Iue})],Rc.prototype,"viewModel",void 0),Rc=b([ne("esri.widgets.Compass")],Rc);const MNe=Rc,IW="esri-navigation-toggle",EW={base:IW,isLayoutHorizontal:`${IW}--horizontal`};let ky=class extends vt{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(oa(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,i;return(t=this.view)!=null&&t.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._setNavigationMode()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_setNavigationMode(){var i;const t=(i=this.view)==null?void 0:i.inputManager;t&&(t.primaryDragAction=this._navigationMode==="pan"?"pan":"rotate")}};b([$({readOnly:!0})],ky.prototype,"state",null),b([$()],ky.prototype,"_navigationMode",void 0),b([$()],ky.prototype,"view",void 0),ky=b([ne("esri.widgets.NavigationToggle.NavigationToggleViewModel")],ky);const Eue=ky;let Lc=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new Eue,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var n;const r=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan"?this._rotateButton:this._panButton;r==null||r.setFocus(),this.toggle()}}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var n,o;const t=((n=this.viewModel)==null?void 0:n.state)==="disabled",i=((o=this.viewModel)==null?void 0:o.navigationMode)==="pan",r=this.messages.toggle;return Ee("div",{class:this.classes(EW.base,Dt.widget,{[EW.isLayoutHorizontal]:this.layout==="horizontal"})},Ee("calcite-button",{afterCreate:c=>{this._panButton=c},appearance:i?"outline-fill":"solid",class:Dt.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),Ee("calcite-button",{afterCreate:c=>{this._rotateButton=c},appearance:i?"solid":"outline-fill",class:Dt.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};b([$()],Lc.prototype,"icon",null),b([$()],Lc.prototype,"label",null),b([$({value:"vertical"})],Lc.prototype,"layout",null),b([$(),no("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Lc.prototype,"messages",void 0),b([$()],Lc.prototype,"view",null),b([$({type:Eue})],Lc.prototype,"viewModel",void 0),Lc=b([ne("esri.widgets.NavigationToggle")],Lc);const TNe=Lc;let Ff=class extends vt{get canZoomIn(){var r,n,o;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(o=(n=this.view)==null?void 0:n.constraints)==null?void 0:o.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var n;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const r=(n=t.constraints)==null?void 0:n.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,n;const t=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(t&&"then"in t||t==null?void 0:t.scale)??((n=this.view)==null?void 0:n.scale)??0}};b([$({readOnly:!0})],Ff.prototype,"canZoomIn",null),b([$({readOnly:!0})],Ff.prototype,"canZoomOut",null),b([$()],Ff.prototype,"view",void 0),b([$()],Ff.prototype,"_scale",null),Ff=b([ne("esri.widgets.Zoom.ZoomConditions2D")],Ff);const kNe=Ff;let Cy=class extends vt{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};b([$({readOnly:!0})],Cy.prototype,"canZoomIn",null),b([$({readOnly:!0})],Cy.prototype,"canZoomOut",null),b([$()],Cy.prototype,"view",void 0),Cy=b([ne("esri.widgets.Zoom.ZoomConditions3D")],Cy);const CNe=Cy;let bd=class extends vt{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new kNe({view:t}):t.type==="3d"&&(this._zoomConditions=new CNe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():wI(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():wI(t.goTo({zoomFactor:.5}))}};b([$()],bd.prototype,"_zoomConditions",void 0),b([$()],bd.prototype,"canZoomIn",null),b([$()],bd.prototype,"canZoomOut",null),b([$({readOnly:!0})],bd.prototype,"state",null),b([$()],bd.prototype,"view",null),bd=b([ne("esri.widgets.Zoom.ZoomViewModel")],bd);const Aue=bd,AW={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Nc=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new Aue,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[AW.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:n,zoomOut:o}=this.messages;return Ee("div",{class:this.classes(AW.base,Dt.widget,t)},Ee("calcite-button",{class:Dt.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),Ee("calcite-button",{class:Dt.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:o,onclick:this.zoomOut,title:o}))}};b([$()],Nc.prototype,"icon",null),b([$()],Nc.prototype,"label",null),b([$({value:"vertical"})],Nc.prototype,"layout",null),b([$(),no("esri/widgets/Zoom/t9n/Zoom")],Nc.prototype,"messages",void 0),b([$()],Nc.prototype,"view",null),b([$({type:Aue})],Nc.prototype,"viewModel",void 0),Nc=b([ne("esri.widgets.Zoom")],Nc);const INe=Nc;function ENe(e){return(e==null?void 0:e.view)!==void 0}let US=class extends HRe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const n=this._find(r),o=n==null?void 0:n.widget;ENe(o)&&(o.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([nt(()=>this.components,this._componentsWatcher,Xi),nt(()=>this.view,this._updateViewAwareWidgets,Xi)])}_add(t,i,r,n,o){let c=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;c=this._createComponent(t)}super._add(c,i,r,n,o)}_removeComponents(t){t.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){const i=this._createWidget(t);return new BS({id:t,node:i})}_createWidget(t){const i=this.view;switch(t){case"attribution":return new SNe({view:i});case"compass":return new MNe({view:i});case"navigation-toggle":return new TNe({view:i});case"zoom":return new INe({view:i})}}};b([$()],US.prototype,"components",void 0),US=b([ne("esri.views.ui.DefaultUI")],US);const jue=US;let GS=class extends jue{constructor(t){super(t),this.components=["attribution","zoom"]}};b([$()],GS.prototype,"components",void 0),GS=b([ne("esri.views.ui.2d.DefaultUI2D")],GS);const Pue=GS;function jW(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}var vj;let qS=vj=class extends Ne{constructor(e){super(e),this.color=new Lt([0,0,0,1])}clone(){return new vj(be({color:this.color}))}};b([$({type:Lt,json:{write:!0}})],qS.prototype,"color",void 0),qS=vj=b([ne("esri.webmap.background.ColorBackground")],qS);const ANe=qS;let Oue,Rue,Lue,Nue,Fue,Due;async function jNe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:n,Stage:o}]=await Promise.all([Ce(()=>import("./webglDeps-BKXu2rVn.js"),__vite__mapDeps([133,64,63,33,134,135]),import.meta.url),Ce(()=>import("./mapViewDeps-BDYOjfNC.js"),__vite__mapDeps([136,71,69,70,11,72,62,59,73,65,137,103,76,33,66,67,28,63,64,61,34,68,77,78,79,138,139,140,135,87,112,111,13,10,14,110,133,134,141,82,142,60,20,17,7,143,144,145,105,146,147,148,149,49,150,80,151,75,152,153,154,155,156,157,158]),import.meta.url)]);Rue=e,Lue=t,Nue=i,Fue=r,Due=n,Oue=o}let Vt=class extends x8e(YMe(LMe(gAe))){constructor(t){super(t),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Z0({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new zS({view:this}),this.graphicsView=null,this.stateManager=new Gs({constraints:new Nle({view:this})}),this.stationaryManager=new t2,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new cOe(this),this.floors=new st,this.highlightOptions=new Hle,this.inputManager=new nRe({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Xle,this.type="2d",this.ui=new Pue,this.test={takeScreenshot:async i=>CRe(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([nt(()=>this.viewpoint,()=>this.stationaryManager.flip(),is),this.on("resize",i=>this.stateManager.resize(i.width,i.height))]),N7e()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=rr(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new hRe(this.featuresTilingScheme)}get constraintsInfo(){var r,n;const t=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(n=t==null?void 0:t.spatialReference)!=null&&n.equals(i)?t.lods:null,spatialReference:i}}get state(){return this.stateManager.state}get initialExtentRequired(){var f;if(!this.stateManager)return!1;const{scale:t,constraints:i,center:r,viewpoint:n,extent:o}=this;let c=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((f=this.map.initialViewProperties)!=null&&f.viewpoint))&&!o&&(i!=null&&i.effectiveLODs||(c=-1),(!r||t===0&&c===-1)&&((n==null?void 0:n.targetGeometry)==null||n.targetGeometry.type!=="extent"&&!n.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const i=t.targetGeometry,r=this.spatialReference;return rse(i.spatialReference,r)}set animation(t){const i=this._get("animation");if(t===i)return;if(i&&i.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",t),this.frameTask.animationInProgress=!0;const r=()=>{var n;this.destroyed||(t===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame()),this.frameTask.animationInProgress=!1)};t.when(r,r)}get background(){return jW(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get constraints(){var t;return(t=this.stateManager)==null?void 0:t.constraints}set constraints(t){t.view=this;const i=this.stateManager.constraints;this.stateManager.constraints=t,i==null||i.destroy()}get extent(){var t;return((t=this.stateManager)==null?void 0:t.extent)??null}set extent(t){this.stateManager.extent=t}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(t){const{rotationEnabled:i}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=i}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var r,n,o,c;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(f=>!f.destroyed&&!("layerViews"in f)&&f.updating===!0)||t);if(ke("esri-2d-log-updating")){const f=this.allLayerViews.reduce((g,v)=>({...g,[`${v.layer.id}(${v.layer.type})`]:!v.destroyed&&!("layerViews"in v)&&v.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(n=this.layerViewManager)==null?void 0:n.updating}
-> labelManager.updating: ${(o=this.labelManager)==null?void 0:o.updating}
-> graphicsView.updating: ${(c=this.graphicsView)==null?void 0:c.updating}
-> allLayerViews: ${JSON.stringify(f)}
-> updatingMagnifier: ${t}
`)}return i}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}goTo(t,i){return this.goToManager.goTo(t,i)}async hitTest(t,i){return fRe(this,t,i)}async takeScreenshot(t){return kRe(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const i=Rae(t)?Oae(this,t):t;return this.stateManager.toMap(i)}toScreen(t,i){return this.stateManager.toScreen(t,i)}on(t,i,r,n){return this.inputManager&&this.viewEvents.on(t,i,r,n)||super.on(t,i)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t,i,r;return this.map&&"initialViewProperties"in this.map&&((i=(t=this.map)==null?void 0:t.initialViewProperties)==null?void 0:i.spatialReference)||((r=this.defaultsFromMap)==null?void 0:r.spatialReference)||null}getDefaultTimeZone(){return jW(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(t){return Vq.hasLayerViewModule(t)}importLayerView(t){return Vq.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(Le.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var v;const i=this.toMap(t),r=await this.hitTest(t),n=this.allLayerViews.toArray().reverse(),o=new globalThis.Map(n.map(_=>[_.layer.uid,_])),c=[];let f=0,g=0;for(;f<r.results.length||g<n.length;){const _=r.results.at(f);if(_&&_.type!=="graphic"){++f;continue}const M=o.get((v=(_==null?void 0:_.layer)??(_==null?void 0:_.graphic.layer))==null?void 0:v.uid);if((!_||M)&&g<n.length&&n.at(g)!==M){const T=n.at(g);"fetchPopupFeaturesAtLocation"in T&&c.push({mapPoint:i,layerView:T}),++g}else _&&(c.push({graphic:_.graphic,layerView:M}),++f)}return{hits:c,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=NRe(this.type);if(ke("safari")&&ke("safari")<9&&(t=new we("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:ke("safari")})),t!=null)throw Le.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return jNe()}_getDefaultViewpoint(){var N;const{constraints:t,initialExtent:i,map:r,padding:n,size:o}=this;if(!t)return null;const c=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,f=this.stateManager.getUserStartupOptions(this.size),g=c==null?void 0:c.viewpoint,v=((N=g==null?void 0:g.targetGeometry)==null?void 0:N.extent)??i,_=v==null?void 0:v.center,M=(g==null?void 0:g.rotation)??0,T=(g==null?void 0:g.scale)||v&&L7(v,[o[0]-n.left-n.right,o[1]-n.top-n.bottom]),E=f.center??_,j=f.rotation??M,R=f.scale??T;return E&&R?new Qa({targetGeometry:E,scale:R,rotation:j}):null}_startup(){var f;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(f=this.defaultsFromMap.extent)==null?void 0:f.center),this.graphics.owner=this;const i=new Oue(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new Due,this._magnifierView.magnifier=this.magnifier;const r=new Nue({view:this});this._set("labelManager",r);const n=new uOe({view:this});this._set("animationManager",n);const o=new Fue({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("webgl-error",g=>this.fatalError=g.error),nt(()=>this.stationary,g=>i.stationary=g,Jo),nt(()=>this.background,g=>{i.backgroundColor=g==null?void 0:g.color,this._magnifierView.backgroundColor=g==null?void 0:g.color},Jo),nt(()=>this.magnifier,g=>this._magnifierView.magnifier=g,Jo),nt(()=>this.renderingOptions,g=>i.renderingOptions=g,Jo),nt(()=>this.highlightOptions,g=>i.highlightOptions=g,Jo),nt(()=>this.state.id,()=>i.state=this.state,Jo)],"map-view"),this._updateStageChildren();const c=this._resolveWhenReady;this._resolveWhenReady=[],c.forEach(g=>g(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const t=new vOe(B2.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const i=new Rue({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Lue(t)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var c;const{allLayerViews:i,padding:r,size:n,stage:o}=this;return{allLayerViews:i,backgroundColor:t!=null&&t.ignoreBackground?null:(c=this.background)==null?void 0:c.color,padding:r,size:n,stage:o}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Vt.type="2d",b([$({readOnly:!0})],Vt.prototype,"animationManager",void 0),b([$({constructOnly:!0})],Vt.prototype,"deactivatedWebGLExtensions",void 0),b([$({constructOnly:!0})],Vt.prototype,"debugWebGLExtensions",void 0),b([$({readOnly:!0})],Vt.prototype,"featuresTilingScheme",void 0),b([$({readOnly:!0})],Vt.prototype,"fullOpacity",void 0),b([$()],Vt.prototype,"goToManager",void 0),b([$({readOnly:!0})],Vt.prototype,"graphicsTileStore",null),b([$()],Vt.prototype,"graphicsView",void 0),b([$()],Vt.prototype,"stateManager",void 0),b([$()],Vt.prototype,"constraintsInfo",null),b([$({readOnly:!0})],Vt.prototype,"state",null),b([$()],Vt.prototype,"initialExtentRequired",null),b([$()],Vt.prototype,"labelManager",void 0),b([$({readOnly:!0})],Vt.prototype,"mapViewNavigation",void 0),b([$({constructOnly:!0})],Vt.prototype,"renderCanvas",void 0),b([$()],Vt.prototype,"renderingOptions",void 0),b([$({constructOnly:!0})],Vt.prototype,"supersampleScreenshotsEnabled",void 0),b([$({readOnly:!0})],Vt.prototype,"supportsGround",void 0),b([$()],Vt.prototype,"_defaultsFromMapSettings",null),b([$({readOnly:!0})],Vt.prototype,"typeSpecificPreconditionsReady",null),b([$()],Vt.prototype,"animation",null),b([$({type:ANe})],Vt.prototype,"background",null),b([$()],Vt.prototype,"center",null),b([$({type:Nle})],Vt.prototype,"constraints",null),b([$()],Vt.prototype,"extent",null),b([$()],Vt.prototype,"floors",void 0),b([$({type:Hle})],Vt.prototype,"highlightOptions",void 0),b([$({readOnly:!0})],Vt.prototype,"inputManager",void 0),b([$()],Vt.prototype,"map",void 0),b([$()],Vt.prototype,"padding",null),b([$({readOnly:!0})],Vt.prototype,"rendering",null),b([$()],Vt.prototype,"resizeAlign",null),b([$({readOnly:!0})],Vt.prototype,"resolution",null),b([$()],Vt.prototype,"rotation",null),b([$()],Vt.prototype,"scale",null),b([$({constructOnly:!0})],Vt.prototype,"spatialReferenceLocked",void 0),b([$()],Vt.prototype,"stationary",null),b([$({readOnly:!0})],Vt.prototype,"tileInfo",null),b([$({type:Xle,readOnly:!0})],Vt.prototype,"timeline",void 0),b([$({readOnly:!0})],Vt.prototype,"type",void 0),b([$({readOnly:!0})],Vt.prototype,"updating",null),b([$()],Vt.prototype,"viewpoint",null),b([$()],Vt.prototype,"zoom",null),b([$({readOnly:!0})],Vt.prototype,"navigating",null),b([$(),$i(e=>e instanceof jue?e:Z$(Pue,e))],Vt.prototype,"ui",void 0),Vt=b([ne("esri.views.MapView")],Vt);const PNe=Vt;var bj;let i2=bj=class extends Ne{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new bj({minValue:this.minValue,maxValue:this.maxValue})}};b([$({type:Number,json:{write:!0}})],i2.prototype,"minValue",void 0),b([$({type:Number,json:{write:!0}})],i2.prototype,"maxValue",void 0),i2=bj=b([ne("esri.renderers.support.AuthoringInfoClassBreakInfo")],i2);var wj;let Fd=wj=class extends Ne{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new wj({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:be(this.classBreakInfos)})}};b([$({type:String,json:{write:!0}})],Fd.prototype,"field",void 0),b([$({type:String,json:{write:!0}})],Fd.prototype,"normalizationField",void 0),b([$({type:String,json:{write:!0}})],Fd.prototype,"label",void 0),b([$({type:[i2],json:{write:!0}})],Fd.prototype,"classBreakInfos",void 0),Fd=wj=b([ne("esri.renderers.support.AuthoringInfoFieldInfo")],Fd);var xj;let Iy=xj=class extends Ne{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new xj({label:this.label,value:this.value,size:this.size})}};b([$({type:String,json:{write:!0}})],Iy.prototype,"label",void 0),b([$({type:Number,json:{write:!0}})],Iy.prototype,"size",void 0),b([$({type:Number,json:{write:!0}})],Iy.prototype,"value",void 0),Iy=xj=b([ne("esri.renderers.support.AuthoringInfoSizeStop")],Iy);const ONe=Iy;var _j;const Z_=new oi({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),X_=new oi({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),PW={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},OW=["high-to-low","above-and-below","centered-on","extremes"],RW=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],LW=["seconds","minutes","hours","days","months","years"],RNe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let An=_j=class extends Ne{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new _j({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:be(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};b([$({types:PW,json:{write:!0}})],An.prototype,"endTime",void 0),b([$i("endTime")],An.prototype,"castEndTime",null),b([$({type:String,json:{write:!0}})],An.prototype,"field",void 0),b([$({type:Number,json:{write:!0}})],An.prototype,"maxSliderValue",void 0),b([$({type:Number,json:{write:!0}})],An.prototype,"minSliderValue",void 0),b([$({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"normalizationField",null),b([$({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"referenceSizeScale",null),b([$({type:RNe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"referenceSizeSymbolStyle",null),b([$({types:PW,json:{write:!0}})],An.prototype,"startTime",void 0),b([$i("startTime")],An.prototype,"castStartTime",null),b([$({type:[ONe],json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"sizeStops",null),b([$({type:Z_.apiValues,value:null,json:{type:Z_.jsonValues,read:Z_.read,write:Z_.write}})],An.prototype,"style",null),b([$({type:RW,value:null,json:{type:RW,origins:{"web-scene":{type:OW,write:{writer:(e,t)=>{OW.includes(e)&&(t.theme=e)}}}},write:!0}})],An.prototype,"theme",null),b([$({type:X_.apiValues,json:{type:X_.jsonValues,read:X_.read,write:X_.write}})],An.prototype,"type",void 0),b([$({type:LW,json:{type:LW,write:!0}})],An.prototype,"units",void 0),An=_j=b([ne("esri.renderers.support.AuthoringInfoVisualVariable")],An);const LNe=An;let WS=class extends Ne{constructor(t){super(t),this.type=null}};b([$({readOnly:!0,json:{read:!1,write:!0}})],WS.prototype,"type",void 0),WS=b([ne("esri.rest.support.ColorRamp")],WS);const cF=WS;var Sj;let Df=Sj=class extends cF{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new Sj({fromColor:be(this.fromColor),toColor:be(this.toColor),algorithm:this.algorithm})}};b([Ct({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Df.prototype,"algorithm",void 0),b([$({type:Lt,json:{type:[zi],write:!0}})],Df.prototype,"fromColor",void 0),b([$({type:Lt,json:{type:[zi],write:!0}})],Df.prototype,"toColor",void 0),b([$({type:["algorithmic"]})],Df.prototype,"type",void 0),Df=Sj=b([ne("esri.rest.support.AlgorithmicColorRamp")],Df);const hF=Df;var $j;let r2=$j=class extends cF{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new $j({colorRamps:be(this.colorRamps)})}};b([$({type:[hF],json:{write:!0}})],r2.prototype,"colorRamps",void 0),b([$({type:["multipart"]})],r2.prototype,"type",void 0),r2=$j=b([ne("esri.rest.support.MultipartColorRamp")],r2);const zue=r2,NNe={key:"type",base:cF,typeMap:{algorithmic:hF,multipart:zue}};function FNe(e){return e!=null&&e.type?e.type==="algorithmic"?hF.fromJSON(e):e.type==="multipart"?zue.fromJSON(e):null:null}var Mj;const Qp=new oi({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),Q_=new oi({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),NW=new oi({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),FW=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],DNe=["high-to-low","above-and-below","above","below"],zNe=["flow-line","wave-front"],VNe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let zr=Mj=class extends Ne{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?FNe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new Mj({classificationMethod:this.classificationMethod,colorRamp:be(this.colorRamp),fadeRatio:be(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(0),field1:be(this.field1),field2:be(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};b([$({type:Qp.apiValues,value:null,json:{type:Qp.jsonValues,read:Qp.read,write:Qp.write,origins:{"web-document":{default:"manual",type:Qp.jsonValues,read:Qp.read,write:Qp.write}}}})],zr.prototype,"classificationMethod",null),b([$({types:NNe,json:{write:!0}})],zr.prototype,"colorRamp",void 0),b([qe("colorRamp")],zr.prototype,"readColorRamp",null),b([$({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],zr.prototype,"fadeRatio",void 0),b([$({type:[String],value:null,json:{write:!0}})],zr.prototype,"fields",null),b([$({type:Fd,value:null,json:{write:!0}})],zr.prototype,"field1",null),b([$({type:Fd,value:null,json:{write:!0}})],zr.prototype,"field2",null),b([$({type:zNe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zr.prototype,"flowTheme",null),b([$({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],zr.prototype,"focus",null),b([$({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],zr.prototype,"isAutoGenerated",void 0),b([$({type:Number,value:null,json:{type:zi,write:!0}})],zr.prototype,"numClasses",null),b([$({type:FW,json:{type:FW,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],zr.prototype,"lengthUnit",void 0),b([$({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],zr.prototype,"maxSliderValue",void 0),b([$({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],zr.prototype,"minSliderValue",void 0),b([$({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],zr.prototype,"statistics",null),b([$({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],zr.prototype,"standardDeviationInterval",null),b([$({type:Q_.apiValues,value:null,json:{type:Q_.jsonValues,read:Q_.read,write:Q_.write,origins:{"web-scene":{type:NW.jsonValues,write:{writer:NW.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],zr.prototype,"type",null),b([$({type:[LNe],json:{write:!0}})],zr.prototype,"visualVariables",void 0),b([$({type:VNe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zr.prototype,"univariateSymbolStyle",null),b([$({type:DNe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zr.prototype,"univariateTheme",null),zr=Mj=b([ne("esri.renderers.support.AuthoringInfo")],zr);const dF=zr,ZT=new oi({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let n2=class extends Ne{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};b([$({type:dF,json:{write:!0}})],n2.prototype,"authoringInfo",void 0),b([$({type:ZT.apiValues,readOnly:!0,json:{type:ZT.jsonValues,read:!1,write:{writer:ZT.write,ignoreOrigin:!0}}})],n2.prototype,"type",void 0),n2=b([ne("esri.renderers.Renderer")],n2);const Oh=n2;function BNe(e){var t,i;return((i=(t=e.match(UNe))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const UNe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var Tj;let Fm=Tj=class extends Ne{constructor(){super(...arguments),this.title=null}clone(){return new Tj({title:this.title})}};b([$({type:String,json:{write:!0}})],Fm.prototype,"title",void 0),Fm=Tj=b([ne("esri.renderers.support.LegendOptions")],Fm);var kj;let HS=kj=class extends Fm{constructor(){super(...arguments),this.showLegend=null}clone(){return new kj({title:this.title,showLegend:this.showLegend})}};b([$({type:Boolean,json:{write:!0}})],HS.prototype,"showLegend",void 0),HS=kj=b([ne("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],HS);const Vue=HS,XT=new oi({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let jl=class extends Ne{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(Le.getLogger(this).error(".field: field must be a string value"),null):G3(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};b([$()],jl.prototype,"index",void 0),b([$({type:XT.apiValues,readOnly:!0,json:{read:XT.read,write:XT.write}})],jl.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],jl.prototype,"field",void 0),b([$i("field")],jl.prototype,"castField",null),b([$({type:String,json:{write:!0}})],jl.prototype,"valueExpression",void 0),b([$({type:String,json:{write:!0}})],jl.prototype,"valueExpressionTitle",void 0),b([$({readOnly:!0})],jl.prototype,"arcadeRequired",null),b([$({type:Vue,json:{write:!0}})],jl.prototype,"legendOptions",void 0),jl=b([ne("esri.renderers.visualVariables.VisualVariable")],jl);const px=jl;var Cj;let zf=Cj=class extends Ne{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new Cj({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};b([$({type:Lt,json:{type:[zi],write:!0}})],zf.prototype,"color",void 0),b([$({type:String,json:{write:!0}})],zf.prototype,"label",void 0),b([$({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],zf.prototype,"value",void 0),b([Ze("value")],zf.prototype,"writeValue",null),zf=Cj=b([ne("esri.renderers.visualVariables.support.ColorStop")],zf);const GNe=zf;var Ij;let Vf=Ij=class extends px{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new Ij({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};b([$({readOnly:!0})],Vf.prototype,"cache",null),b([$({type:["color"],json:{type:["colorInfo"]}})],Vf.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Vf.prototype,"normalizationField",void 0),b([$({type:[GNe],json:{write:!0}})],Vf.prototype,"stops",null),Vf=Ij=b([ne("esri.renderers.visualVariables.ColorVariable")],Vf);const Bue=Vf;var Ej;let wd=Ej=class extends Ne{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return qw(t.transparency)}writeOpacity(e,t,i){t[i]=x7(e)}clone(){return new Ej({label:this.label,opacity:this.opacity,value:this.value})}};b([$({type:String,json:{write:!0}})],wd.prototype,"label",void 0),b([$({type:Number,json:{type:zi,write:{target:"transparency"}}})],wd.prototype,"opacity",void 0),b([qe("opacity",["transparency"])],wd.prototype,"readOpacity",null),b([Ze("opacity")],wd.prototype,"writeOpacity",null),b([$({type:Number,json:{write:!0}})],wd.prototype,"value",void 0),wd=Ej=b([ne("esri.renderers.visualVariables.support.OpacityStop")],wd);const qNe=wd;var Aj;let Bf=Aj=class extends px{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new Aj({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};b([$({readOnly:!0})],Bf.prototype,"cache",null),b([$({type:["opacity"],json:{type:["transparencyInfo"]}})],Bf.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Bf.prototype,"normalizationField",void 0),b([$({type:[qNe],json:{write:!0}})],Bf.prototype,"stops",null),Bf=Aj=b([ne("esri.renderers.visualVariables.OpacityVariable")],Bf);const Uue=Bf;var jj;let Fc=jj=class extends px{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,r){if(r!=null&&r.messages){const n=`visualVariables[${this.index}]`;r.messages.push(new we("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpressionTitle",context:r}))}}clone(){var e;return new jj({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};b([$({readOnly:!0})],Fc.prototype,"cache",null),b([$({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Fc.prototype,"axis",void 0),b([$({type:["rotation"],json:{type:["rotationInfo"]}})],Fc.prototype,"type",void 0),b([$({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Fc.prototype,"rotationType",void 0),b([$({type:String,json:{write:!0}})],Fc.prototype,"valueExpressionTitle",void 0),b([Ze("web-scene","valueExpressionTitle")],Fc.prototype,"writeValueExpressionTitleWebScene",null),Fc=jj=b([ne("esri.renderers.visualVariables.RotationVariable")],Fc);const Gue=Fc;function WNe(e){return wi(e)}var Pj;let xd=Pj=class extends Ne{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new Pj({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};b([$({type:String,json:{write:!0}})],xd.prototype,"label",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],xd.prototype,"size",void 0),b([$({type:Number,json:{write:!0}})],xd.prototype,"value",void 0),b([$({type:Boolean,json:{write:!1}})],xd.prototype,"useMinValue",void 0),b([$({type:Boolean,json:{write:!1}})],xd.prototype,"useMaxValue",void 0),xd=Pj=b([ne("esri.renderers.visualVariables.support.SizeStop")],xd);const JS=xd;var Oj;let KS=Oj=class extends Vue{constructor(){super(...arguments),this.customValues=null}clone(){var e;return new Oj({title:this.title,showLegend:this.showLegend,customValues:(e=this.customValues)==null?void 0:e.slice(0)})}};b([$({type:[Number],json:{write:!0}})],KS.prototype,"customValues",void 0),KS=Oj=b([ne("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],KS);const HNe=KS;var mh,Mn;function cm(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function e3(e){return e!=null&&!isNaN(e)&&isFinite(e)}function que(e){return e.valueExpression?mh.Expression:e.field&&typeof e.field=="string"?mh.Field:mh.Unknown}function JNe(e,t){const i=t||que(e),r=e.valueUnit||"unknown";return i===mh.Unknown?Mn.Constant:e.stops?Mn.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Mn.ClampedLinear:r==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Mn.Proportional:Mn.Additive:Mn.Identity:Mn.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(mh||(mh={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Mn||(Mn={}));const pF={unknown:1,inches:ma(1,"meters","inches"),feet:ma(1,"meters","feet"),"us-feet":ma(1,"meters","us-feet"),yards:ma(1,"meters","yards"),miles:ma(1,"meters","miles"),"nautical-miles":ma(1,"meters","nautical-miles"),millimeters:ma(1,"meters","millimeters"),centimeters:ma(1,"meters","centimeters"),decimeters:ma(1,"meters","decimeters"),meters:ma(1,"meters","meters"),kilometers:ma(1,"meters","kilometers"),"decimal-degrees":1/$9e(1,"meters",Fr.radius)},Wue=()=>Le.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),D7=e=>Wue().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),z7=()=>Wue().error("Use of arcade expressions requires an arcade context"),DW=new la,YS=Math.PI,Hue=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Jue(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(j=>j.type==="color"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void D7("ColorVariable");const n=typeof t=="number",o=n?null:t,c=o==null?void 0:o.attributes;let f=n?t:null;const g=r.field,{ipData:v,hasExpression:_}=r.cache;let M=r.cache.compiledFunc;if(!g&&!_){const j=r.stops;return j&&j[0]&&j[0].color}if(typeof f!="number")if(_){if((i==null?void 0:i.arcade)==null)return void z7();const j={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},R=i.arcade.arcadeUtils,N=R.getViewInfo(j),F=R.createExecContext(o,N,i.timeZone);if(!M){const V=R.createSyntaxTree(r.valueExpression);M=R.createFunction(V),r.cache.compiledFunc=M}f=R.executeFunction(M,F)}else c&&(f=c[g]);const T=r.normalizationField,E=c!=null&&T!=null?parseFloat(c[T]):void 0;if(f!=null&&(!T||n||!isNaN(E)&&E!==0)){isNaN(E)||n||(f/=E);const j=fF(f,v);if(j){const R=j[0],N=j[1],F=R===N?r.stops[R].color:Lt.blendColors(r.stops[R].color,r.stops[N].color,j[2],i!=null?i.color:void 0);return new Lt(F)}}}function Kue(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(j=>j.type==="opacity"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void D7("OpacityVariable");const n=typeof t=="number",o=n?null:t,c=o==null?void 0:o.attributes;let f=n?t:null;const g=r.field,{ipData:v,hasExpression:_}=r.cache;let M=r.cache.compiledFunc;if(!g&&!_){const j=r.stops;return j&&j[0]&&j[0].opacity}if(typeof f!="number")if(_){if((i==null?void 0:i.arcade)==null)return void z7();const j={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},R=i.arcade.arcadeUtils,N=R.getViewInfo(j),F=R.createExecContext(o,N,i.timeZone);if(!M){const V=R.createSyntaxTree(r.valueExpression);M=R.createFunction(V),r.cache.compiledFunc=M}f=R.executeFunction(M,F)}else c&&(f=c[g]);const T=r.normalizationField,E=c!=null&&T!=null?parseFloat(c[T]):void 0;if(f!=null&&(!T||n||!isNaN(E)&&E!==0)){isNaN(E)||n||(f/=E);const j=fF(f,v);if(j){const R=j[0],N=j[1];if(R===N)return r.stops[R].opacity;{const F=r.stops[R].opacity;return F+(r.stops[N].opacity-F)*j[2]}}}}function Yue(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(E=>E.type==="rotation"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void D7("RotationVariable");const n=r.axis||"heading",o=n==="heading"&&r.rotationType==="arithmetic"?90:0,c=n==="heading"&&r.rotationType==="arithmetic"?-1:1,f=typeof t=="number"?null:t,g=f==null?void 0:f.attributes,v=r.field,{hasExpression:_}=r.cache;let M=r.cache.compiledFunc,T=0;if(!v&&!_)return T;if(_){if((i==null?void 0:i.arcade)==null)return void z7();const E={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},j=i.arcade.arcadeUtils,R=j.getViewInfo(E),N=j.createExecContext(f,R,i.timeZone);if(!M){const F=j.createSyntaxTree(r.valueExpression);M=j.createFunction(F),r.cache.compiledFunc=M}T=j.executeFunction(M,N)}else g&&(T=g[v]||0);return T=typeof T!="number"||isNaN(T)?null:o+c*T,T}function KNe(e,t,i){const r=typeof t=="number",n=r?null:t,o=n==null?void 0:n.attributes;let c=r?t:null;const{isScaleDriven:f}=e.cache;let g=e.cache.compiledFunc;if(f){const _=i!=null?i.scale:void 0,M=i!=null?i.view:void 0;c=_==null||M==="3d"?YNe(e):_}else if(!r)switch(e.inputValueType){case mh.Expression:{if((i==null?void 0:i.arcade)==null)return void z7();const _={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},M=i.arcade.arcadeUtils,T=M.getViewInfo(_),E=M.createExecContext(n,T,i.timeZone);if(!g){const j=M.createSyntaxTree(e.valueExpression);g=M.createFunction(j),e.cache.compiledFunc=g}c=M.executeFunction(g,E);break}case mh.Field:o&&(c=o[e.field]);break;case mh.Unknown:c=null}if(!e3(c))return null;if(r||!e.normalizationField)return c;const v=o?parseFloat(o[e.normalizationField]):null;return e3(v)&&v!==0?c/v:null}function YNe(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function V7(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(o=>o.type==="size"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void D7("SizeVariable");const n=Xue(KNe(r,t,i),r,t,i,r.cache.ipData);return n==null||isNaN(n)?0:n}function ko(e,t,i){return e==null?null:cm(e)?V7(e,t,i):e3(e)?e:null}function Zue(e,t,i){return e3(i)&&e>i?i:e3(t)&&e<t?t:e}function ZNe(e,t,i,r){return e+((ko(t.minSize,i,r)||t.minDataValue)??0)}function XNe(e,t,i){const r=e.stops;let n=(r==null?void 0:r.length)&&r[0].size;return n==null&&(n=e.minSize),ko(n,t,i)}function QNe(e,t,i,r){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=ko(t.minSize,i,r),c=ko(t.maxSize,i,r),f=r!=null?r.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return c;if(o==null||c==null)return null;if(t.scaleBy==="area"&&f){const g=f==="circle",v=g?YS*(o/2)**2:o*o,_=v+n*((g?YS*(c/2)**2:c*c)-v);return g?2*Math.sqrt(_/YS):Math.sqrt(_)}return o+n*(c-o)}function eFe(e,t,i,r){const n=r!=null?r.shape:void 0,o=e/t.minDataValue,c=ko(t.minSize,i,r),f=ko(t.maxSize,i,r);let g=null;return g=n==="circle"?2*Math.sqrt(o*(c/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(o*c**2):o*c,Zue(g,c,f)}function tFe(e,t,i,r,n){var g,v,_;const[o,c,f]=fF(e,n);if(o===c)return ko((g=t.stops)==null?void 0:g[o].size,i,r);{const M=ko((v=t.stops)==null?void 0:v[o].size,i,r);return M+(ko((_=t.stops)==null?void 0:_[c].size,i,r)-M)*f}}function iFe(e,t,i,r){const n=((r==null?void 0:r.resolution)??1)*pF[t.valueUnit],o=ko(t.minSize,i,r),c=ko(t.maxSize,i,r),{valueRepresentation:f}=t;let g=null;return g=f==="area"?2*Math.sqrt(e/YS)/n:f==="radius"||f==="distance"?2*e/n:e/n,Zue(g,o,c)}function Xue(e,t,i,r,n){switch(t.transformationType){case Mn.Additive:return ZNe(e,t,i,r);case Mn.Constant:return XNe(t,i,r);case Mn.ClampedLinear:return QNe(e,t,i,r);case Mn.Proportional:return eFe(e,t,i,r);case Mn.Stops:return tFe(e,t,i,r,n);case Mn.RealWorldSize:return iFe(e,t,i,r);case Mn.Identity:return e;case Mn.Unknown:return null}}function rFe(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&i==="3d"||t))return null;const n={scale:t,view:i};let o=ko(e.minSize,DW,n),c=ko(e.maxSize,DW,n);if(o!=null||c!=null){if(o>c){const f=c;c=o,o=f}return{minSize:o,maxSize:c}}}function nFe(e,t,i){if(!e.visualVariables)return;const r=[],n=[],o=[],c=[],f=[];for(const g of e.visualVariables)switch(g.type){case"color":n.push(g);break;case"opacity":o.push(g);break;case"rotation":f.push(g);break;case"size":c.push(g)}return n.forEach(g=>{const v=Jue(g,t,i);r.push({variable:g,value:v})}),o.forEach(g=>{const v=Kue(g,t,i);r.push({variable:g,value:v})}),f.forEach(g=>{const v=Yue(g,t,i);r.push({variable:g,value:v})}),c.forEach(g=>{const v=V7(g,t,i);r.push({variable:g,value:v})}),r.filter(g=>g.value!=null)}function fF(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((n,o)=>e<n?(r=o,!0):(i=o,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function sFe(e,t,i){const r=["proportional","proportional","proportional"];for(const n of e){const o=n.useSymbolValue?"symbol-value":V7(n,t,i);switch(n.axis){case"width":r[0]=o;break;case"depth":r[1]=o;break;case"height":r[2]=o;break;case"width-and-depth":r[0]=o,r[1]=o;break;case"all":case void 0:case null:r[0]=o,r[1]=o,r[2]=o;break;default:n.axis}}return r}const I_t=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:sFe,getColor:Jue,getOpacity:Kue,getRotationAngle:Yue,getSize:V7,getSizeForValue:Xue,getSizeFromNumberOrVariable:ko,getSizeRangeAtScale:rFe,getVisualVariableValues:nFe,viewScaleRE:Hue},Symbol.toStringTag,{value:"Module"}));var Rj;const e5=new oi({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Lj=new oi({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function zW(e){if(e!=null)return typeof e=="string"||typeof e=="number"?WNe(e):e.type==="size"?cm(e)?e:(delete(e={...e}).type,new Pi(e)):void 0}function VW(e,t,i){if(typeof e!="object")return e;const r=new Pi;return r.read(e,i),r}let Pi=Rj=class extends px{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Hue.test(this.valueExpression)}}set index(e){cm(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),cm(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return que(this)}set maxDataValue(e){e&&this.stops&&(Le.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Le.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return zW(e)}readMaxSize(e,t,i){return VW(e,t,i)}set minDataValue(e){e&&this.stops&&(Le.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Le.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return zW(e)}readMinSize(e,t,i){return VW(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(Le.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return JNe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if(e==="$view.scale"){if(r!=null&&r.messages){const n=this.index,o=typeof n=="string"?n:`visualVariables[${n}]`;r.messages.push(new we("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:o+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?Lj.read(e):null}clone(){var e,t;return new Rj({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:cm(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:cm(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Mn.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Mn.Stops){const e=this.stops;if(!e)return this;const t=e.map(r=>r.size).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};b([$({readOnly:!0})],Pi.prototype,"cache",null),b([$({type:e5.apiValues,json:{type:e5.jsonValues,origins:{"web-map":{read:!1}},read:e5.read,write:e5.write}})],Pi.prototype,"axis",void 0),b([$()],Pi.prototype,"index",null),b([$({type:String,readOnly:!0})],Pi.prototype,"inputValueType",null),b([$({type:HNe,json:{write:!0}})],Pi.prototype,"legendOptions",void 0),b([$({type:Number,value:null,json:{write:!0}})],Pi.prototype,"maxDataValue",null),b([$({type:Number,value:null,json:{write:!0}})],Pi.prototype,"maxSize",null),b([$i("maxSize")],Pi.prototype,"castMaxSize",null),b([qe("maxSize")],Pi.prototype,"readMaxSize",null),b([$({type:Number,value:null,json:{write:!0}})],Pi.prototype,"minDataValue",null),b([$({type:Number,value:null,json:{write:!0}})],Pi.prototype,"minSize",null),b([$i("minSize")],Pi.prototype,"castMinSize",null),b([qe("minSize")],Pi.prototype,"readMinSize",null),b([$({type:String,json:{write:!0}})],Pi.prototype,"normalizationField",void 0),b([$({readOnly:!0})],Pi.prototype,"arcadeRequired",null),b([$({type:String})],Pi.prototype,"scaleBy",void 0),b([$({type:[JS],value:null,json:{write:!0}})],Pi.prototype,"stops",null),b([$({type:["outline"],json:{write:!0}})],Pi.prototype,"target",void 0),b([$({type:String,readOnly:!0})],Pi.prototype,"transformationType",null),b([$({type:["size"],json:{type:["sizeInfo"]}})],Pi.prototype,"type",void 0),b([$({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Pi.prototype,"useSymbolValue",void 0),b([$({type:String,json:{write:!0}})],Pi.prototype,"valueExpression",void 0),b([qe("valueExpression",["valueExpression","expression"])],Pi.prototype,"readValueExpression",null),b([Ze("web-scene","valueExpression")],Pi.prototype,"writeValueExpressionWebScene",null),b([$({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Pi.prototype,"valueRepresentation",void 0),b([$({type:Lj.apiValues,json:{write:Lj.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Pi.prototype,"valueUnit",void 0),b([qe("valueUnit")],Pi.prototype,"readValueUnit",null),Pi=Rj=b([ne("esri.renderers.visualVariables.SizeVariable")],Pi);const yF=Pi,oFe={color:Bue,size:yF,opacity:Uue,rotation:Gue},aFe=new oi({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),lFe=/^\[([^\]]+)\]$/i;let ZS=class extends vt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t&&t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,r)=>{let n=null;return n=i.target===r.target?0:i.target?1:-1,n});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,r){const{rotationExpression:n,rotationType:o}=i,c=n==null?void 0:n.match(lFe),f=c==null?void 0:c[1];if(f&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:o,field:f})),t)return t.map(g=>{const v=aFe.read(g.type),_=oFe[v];_||(Le.getLogger(this).warn(`Unknown variable type: ${v}`),r!=null&&r.messages&&r.messages.push(new sl("visual-variable:unsupported",`visualVariable of type '${v}' is not supported`,{definition:g,context:r})));const M=new _;return M.read(g,r),M})}writeVariables(t,i){const r=[];for(const n of t){const o=n.toJSON(i);o&&r.push(o)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};b([$()],ZS.prototype,"visualVariables",null),ZS=b([ne("esri.renderers.visualVariables.VisualVariableFactory")],ZS);const uFe=ZS,cFe={base:px,key:"type",typeMap:{opacity:Uue,color:Bue,rotation:Gue,size:yF}},Wg=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new uFe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,n){return this._vvFactory.readVariables(i,r,n)}writeVisualVariables(i,r,n,o){r[n]=this._vvFactory.writeVariables(i,o)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){const n=this.visualVariables;return n?n.filter(o=>o.type===i&&(typeof r=="string"?o.target===r:r!==!1||!o.target)):[]}async collectVVRequiredFields(i,r){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const o of n)o&&(o.field&&to(i,r,o.field),o.normalizationField&&to(i,r,o.normalizationField),o.valueExpression&&(hFe(o.valueExpression,i,r)||await Ps(i,r,o.valueExpression)))}};return b([$({types:[cFe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),b([qe("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),b([Ze("visualVariables")],t.prototype,"writeVisualVariables",null),t=b([ne("esri.renderers.mixins.VisualVariablesMixin")],t),t};function hFe(e,t,i){const r=BNe(e);return r!=null&&(to(t,i,r),!0)}const mF=[252,146,31,255],dFe=[153,153,153,255],pFe={type:"esriSMS",style:"esriSMSCircle",size:6,color:mF,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},fFe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:mF},yFe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},mFe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},gFe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},vFe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},bFe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},wFe=cc.fromJSON(pFe),xFe=Ao.fromJSON(fFe),_Fe=Ph.fromJSON(yFe),SFe=S1.fromJSON(mFe),A_t=cc.fromJSON(gFe),j_t=Ao.fromJSON(vFe),P_t=Ph.fromJSON(bFe);lh.fromSimpleMarkerSymbol(wFe);_1.fromSimpleLineSymbol(xFe);Gp.fromSimpleFillSymbol(_Fe);new ox({symbolLayers:new st([new x1({material:{color:mF},edges:new Woe({size:ll(1),color:new Lt(dFe)})})])});const $Fe=new _1({symbolLayers:new st([new zg({material:{color:new Lt([0,0,0])},size:ll(1)})])}),MFe=new Gp({symbolLayers:new st([new x1({outline:{color:new Lt([0,0,0]),size:ll(1)}})])}),K1={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function TFe(e,t=K1){var g,v,_,M;if(!e)return{symbol:null};const{retainId:i=K1.retainId,ignoreDrivers:r=K1.ignoreDrivers,hasLabelingContext:n=K1.hasLabelingContext,retainCIM:o=K1.retainCIM,cimFallbackEnabled:c=K1.cimFallbackEnabled}=t;let f=null;if(fq(e)||e instanceof $1)f=e.clone();else if(e.type==="cim"){const T=(v=(g=e.data)==null?void 0:g.symbol)==null?void 0:v.type;switch(T){case"CIMPointSymbol":f=o?e.clone():lh.fromCIMSymbol(e);break;case"CIMLineSymbol":c&&(f=$Fe.clone(),(_=t==null?void 0:t.logWarning)==null||_.call(t,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":c&&(f=MFe.clone(),(M=t==null?void 0:t.logWarning)==null||M.call(t,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!f)return{error:new we("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${T||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Ao)f=_1.fromSimpleLineSymbol(e);else if(e instanceof cc)f=lh.fromSimpleMarkerSymbol(e);else if(e instanceof Ug)f=lh.fromPictureMarkerSymbol(e);else if(e instanceof Ph)f=t.geometryType&&t.geometryType==="mesh"?ox.fromSimpleFillSymbol(e):Gp.fromSimpleFillSymbol(e);else{if(!(e instanceof S1))return{error:new we("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};f=n?I7.fromTextSymbol(e):lh.fromTextSymbol(e)}return i&&f&&f.type!=="cim"&&(f.id=e.id),r&&fq(f)&&f.symbolLayers.forEach(T=>T.ignoreDrivers=!0),{symbol:f}}function u6(e,t,i,r){const n=Que(e,{},{context:r,isLabelSymbol:!1});n!=null&&(t[i]=n)}function BW(e,t,i,r){const n=Que(e,{},{context:r,isLabelSymbol:!0});n!=null&&(t[i]=n)}function UW(e){return e instanceof Bg||e instanceof $1}function Que(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:n}=i,o=r==null?void 0:r.origin,c=r==null?void 0:r.messages;if(o==="web-scene"&&!UW(e)){const f=TFe(e,{retainCIM:!0,hasLabelingContext:n});return f.symbol!=null?f.symbol.write(t,r):(c==null||c.push(new we("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:f.error})),null)}return(o==="web-map"||o==="portal-item"&&!Gse(r==null?void 0:r.layer))&&UW(e)?(c==null||c.push(new we("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function O_t(e,t){return dEe(e,null,t)}const B7={types:xae,json:{write:{writer:u6},origins:{"web-scene":{types:yq,write:{writer:u6},read:{reader:jg({types:yq})}}}}},gF=cL({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},B7),ece={types:{base:as,key:"type",typeMap:{"simple-fill":E0.typeMap["simple-fill"],"picture-fill":E0.typeMap["picture-fill"],"polygon-3d":E0.typeMap["polygon-3d"]}},json:{write:{writer:u6},origins:{"web-scene":{type:Gp,write:{writer:u6}}}}},XS={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var Nj;let _d=Nj=class extends Ne{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new Nj({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};b([$({type:String,json:{write:!0}})],_d.prototype,"description",void 0),b([$({type:String,json:{write:!0}})],_d.prototype,"label",void 0),b([$({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],_d.prototype,"minValue",void 0),b([$({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],_d.prototype,"maxValue",void 0),b([$(gF)],_d.prototype,"symbol",void 0),_d=Nj=b([ne("esri.renderers.support.ClassBreakInfo")],_d);const c6=_d;var Fj;const tce="log",QS="percent-of-total",e9="field",t5=new oi({esriNormalizeByLog:tce,esriNormalizeByPercentOfTotal:QS,esriNormalizeByField:e9}),kFe=vr(c6);let pn=Fj=class extends Wg(Oh){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map(n=>{const o=new c6;return o.read(n,i),o.minValue==null&&(o.minValue=r),o.maxValue==null&&(o.maxValue=o.minValue),r=o.maxValue,o})}writeClassBreakInfos(e,t,i,r){const n=e.map(o=>o.write({},r));this._areClassBreaksConsecutive()&&n.forEach(o=>delete o.classMinValue),t[i]=n}castField(e){return e==null?e:typeof e=="function"?(Le.getLogger(this).error(".field: field must be a string value"),null):G3(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&e9||i&&QS||null,t&&i&&Le.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==e9&&e!==QS||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r=typeof e=="number"?new c6({minValue:e,maxValue:t,symbol:_ae(i)}):kFe(be(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&Le.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await e1()});const r=this.getBreakIndex(e,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Le.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const n=await e1(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),i={...i,arcade:n}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((r,n)=>r+n.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new Fj({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:be(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:be(this.visualVariables),legendOptions:be(this.legendOptions),authoringInfo:be(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(r=>r.collectRequiredFields(e,t)),Ps(e,t,this.valueExpression)];to(e,t,this.field),to(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:o,timeZone:c}=t??{},{valueExpression:f}=this;let g=this._compiledValueExpression.valueExpression===f?this._compiledValueExpression.compiledFunction:null;const v=o.arcadeUtils;if(!g){const M=v.createSyntaxTree(f);g=v.createFunction(M),this._compiledValueExpression.compiledFunction=g}this._compiledValueExpression.valueExpression=f;const _=v.executeFunction(g,v.createExecContext(e,v.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),c));return this._getBreakIndexfromInfos(_)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let n=parseFloat(i[t]);if(r){const o=this.normalizationTotal,c=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===tce)n=Math.log(n)*Math.LOG10E;else if(r!==QS||o==null||isNaN(o)){if(r===e9&&!isNaN(c)){if(isNaN(n)||isNaN(c))return-1;n/=c}}else n=n/o*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};b([$(ece)],pn.prototype,"backgroundFillSymbol",void 0),b([$({type:[c6]})],pn.prototype,"classBreakInfos",void 0),b([qe("classBreakInfos")],pn.prototype,"readClassBreakInfos",null),b([Ze("classBreakInfos")],pn.prototype,"writeClassBreakInfos",null),b([$({type:String,json:{write:!0}})],pn.prototype,"defaultLabel",void 0),b([$(B7)],pn.prototype,"defaultSymbol",void 0),b([$({type:String,json:{write:!0}})],pn.prototype,"field",void 0),b([$i("field")],pn.prototype,"castField",null),b([$({type:Boolean})],pn.prototype,"isMaxInclusive",void 0),b([$({type:Fm,json:{write:!0}})],pn.prototype,"legendOptions",void 0),b([$({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],pn.prototype,"minValue",null),b([$({type:String,json:{write:!0}})],pn.prototype,"normalizationField",void 0),b([$({type:Number,cast:e=>La(e),json:{write:!0}})],pn.prototype,"normalizationTotal",void 0),b([$({type:t5.apiValues,value:null,json:{type:t5.jsonValues,read:t5.read,write:t5.write}})],pn.prototype,"normalizationType",null),b([Ct({classBreaks:"class-breaks"})],pn.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],pn.prototype,"valueExpression",void 0),b([$({type:String,json:{write:!0}})],pn.prototype,"valueExpressionTitle",void 0),pn=Fj=b([ne("esri.renderers.ClassBreaksRenderer")],pn);const ice=pn,Dj=-3,CFe=Dj-1;var Xc;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Xc||(Xc={}));let R_t=class{constructor(t,i,r){this.name=t,this._storage=i,this.id=EFe+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),r&&(this._storage.registerRemoveFunc(this.id,r),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,i,r,n=0){this._storage.put(this,t,i,r,n)}pop(t){const i=this._storage.pop(this,t);return i===void 0?++this._miss:++this._hit,i}get(t){const i=this._storage.get(this,t);return i===void 0?++this._miss:++this._hit,i}peek(t){return this._storage.peek(this,t)}updateSize(t,i,r){this._storage.updateSize(this,t,i,r)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}},IFe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new n4,this._users=new n4}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const r=this._db.get(t.id+i);return(r==null?void 0:r.size)??0}put(t,i,r,n,o){i=t.id+i;const c=this._db.get(i);if(c&&(this._size-=c.size,t.size-=c.size,this._db.delete(i),c.entry!==r&&this._notifyRemove(i,c.entry,c.size,Xc.ALL)),n>this._maxSize)return void this._notifyRemove(i,r,n,Xc.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${i}`),void this._notifyRemove(i,r,0,Xc.ALL);const f=1+Math.max(o,CFe)-Dj;this._db.set(i,new AFe(r,n,f)),this._size+=n,t.size+=n,this._checkSize()}updateSize(t,i,r,n){i=t.id+i;const o=this._db.get(i);if(o&&o.entry===r){for(this._size-=o.size,t.size-=o.size;n>this._maxSize;){const c=this._notifyRemove(i,r,n,Xc.SOME);if(!(c!=null&&c>0))return void this._db.delete(i);n=c}o.size=n,this._size+=n,t.size+=n,this._checkSize()}}pop(t,i){i=t.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,t.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(t,i){i=t.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(t,i){const r=this._db.get(t.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((c,f)=>{const g=c.lifetime;r[g]=(r[g]||0)+c.size,this._users.forAll(v=>{const{id:_,name:M}=v;if(f.startsWith(_)){const T=i[M]||0;i[M]=T+c.size}})});const n={};this._users.forAll(c=>{const f=c.name;if("hitRate"in c&&typeof c.hitRate=="number"&&!isNaN(c.hitRate)&&c.hitRate>0){const g=i[f]||0;i[f]=g,n[f]=Math.round(100*c.hitRate)+"%"}else n[f]="0%"});const o=Object.keys(i);o.sort((c,f)=>i[f]-i[c]),o.forEach(c=>t[c]=Math.round(i[c]/2**20)+"MB / "+n[c]);for(let c=r.length-1;c>=0;--c){const f=r[c];f&&(t["Priority "+(c+Dj-1)]=Math.round(f/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((r,n)=>{n.startsWith(i)&&(this._size-=r.size,this._db.delete(n),this._notifyRemove(n,r.entry,r.size,Xc.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,Xc.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,r,n){let o;return this._removeFuncs.some(c=>{if(t.startsWith(c[0])){const f=c[1](i,n,r);return typeof f=="number"&&(o=f),!0}return!1}),o}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const r=t==null?void 0:t.id;let n=!0;for(;n;){n=!1;for(const[o,c]of this._db)if(c.lifetime===0&&(!r||o.startsWith(r))){if(this._purgeItem(o,c,t),i.size<=.9*i.maxSize)return;n||(n=this._db.has(o))}}for(const[o,c]of this._db)if((!r||o.startsWith(r))&&(this._purgeItem(o,c,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,r=this._users.find(n=>t.startsWith(n.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const n=this._notifyRemove(t,i.entry,i.size,Xc.SOME);n!=null&&n>0&&(this._size+=n,r&&(r.size+=n),i.lives=i.lifetime,i.size=n,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},EFe=0,AFe=class{constructor(t,i,r){this.entry=t,this.size=i,this.lifetime=r,this.lives=r}},jFe=class{constructor(t,i){this._storage=new IFe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,r=1){this._storage.put(this,t,i,r,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},PFe=class zj{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}since(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new we(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new zj(this.major,this.minor,this._context)}static parse(t,i=""){const[r,n]=t.split("."),o=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!o.test(r))throw new we((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(n!=null&&n.match)||!o.test(n))throw new we((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const c=parseInt(r,10),f=parseInt(n,10);return new zj(c,f,i)}},U7=class{};function OFe(e){return e instanceof Og?e===U7.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function V_t(e){return OFe(e)?U7.instance:e}U7.instance=new aa("Etc/UTC");function RFe(e){return"timeZone"in e}function LFe(e){return"timeZone"in e}function NFe(e){return"dateFieldsTimeZone"in e}const FFe=new Map;let rce=class t9{static fromJSON(t){return new t9(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new t9(t.fields??[],qW(t))}static fromLayerJSON(t){return new t9(t.fields??[],qW(t))}constructor(t=[],i){var n;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const o of this.fields){const c=o==null?void 0:o.name,f=GW(c);if(c&&f){const g=i0(c);this._fieldsMap.set(c,o),this._fieldsMap.set(g,o),this._normalizedFieldsMap.set(f,o),r.push(`${g}:${o.type}:${(n=this._timeZoneByFieldName)==null?void 0:n.get(c)}`),nIe(o)?(this.dateFields.push(o),this._dateFieldsSet.add(o)):Roe(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),oq(o)||aq(o)||(o.editable=o.editable==null||!!o.editable,o.nullable=o.nullable==null||!!o.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)oq(t)||aq(t)||t.nullable||qCe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(i0(t))??this._normalizedFieldsMap.get(GW(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(Le.getLogger("esri.layers.support.FieldsIndex").error(new we("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),$p):nce.has(i.type)?X0:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===X0?U7.instance:i===$p?Dn.utcInstance:yL(FFe,i,()=>aa.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return sIe(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>m4(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function i0(e){return e.trim().toLowerCase()}function GW(e){var t;return((t=ICe(e))==null?void 0:t.toLowerCase())??""}const nce=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function qW(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:n}=e,o=(r?"startField"in r?r.startField:r.startTimeField:"")??"",c=(r?"endField"in r?r.endField:r.endTimeField:"")??"",f=NFe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?lS(e.dateFieldsTimeReference):null,g=n?RFe(n)?n.timeZone??f:n.dateFieldsTimeReference?lS(n.dateFieldsTimeReference):f??$p:null,v=r?LFe(r)?r.timeZone??f:r.timeReference?lS(r.timeReference):f:null,_=new Map([[i0((n==null?void 0:n.creationDateField)??""),g],[i0((n==null?void 0:n.editDateField)??""),g],[i0(o),v],[i0(c),v]]);for(const{name:M,type:T}of e.fields)if(nce.has(T))t.set(M,X0);else if(T!=="date"&&T!=="esriFieldTypeDate")t.set(M,null);else if(i)t.set(M,X0);else{const E=_.get(i0(M??""))??f;t.set(M,E)}return t}function DFe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function zFe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function VFe(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}function BFe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function sce(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function oce(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function ace(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function UFe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function GFe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function qFe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function WFe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function HFe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function JFe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function KFe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e}function lce(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(i*i+r*r+n*n+o*o)}function uce(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return i*i+r*r+n*n+o*o}function cce(e){const t=e[0],i=e[1],r=e[2],n=e[3];return Math.sqrt(t*t+i*i+r*r+n*n)}function hce(e){const t=e[0],i=e[1],r=e[2],n=e[3];return t*t+i*i+r*r+n*n}function YFe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ZFe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function XFe(e,t){const i=t[0],r=t[1],n=t[2],o=t[3];let c=i*i+r*r+n*n+o*o;return c>0&&(c=1/Math.sqrt(c),e[0]=i*c,e[1]=r*c,e[2]=n*c,e[3]=o*c),e}function QFe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function dce(e,t,i,r){const n=t[0],o=t[1],c=t[2],f=t[3];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=c+r*(i[2]-c),e[3]=f+r*(i[3]-f),e}function eDe(e,t){const i=e7;let r,n,o,c,f,g;t=t||1;do r=2*i()-1,n=2*i()-1,f=r*r+n*n;while(f>=1);do o=2*i()-1,c=2*i()-1,g=o*o+c*c;while(g>=1);const v=Math.sqrt((1-f)/g);return e[0]=t*r,e[1]=t*n,e[2]=t*o*v,e[3]=t*c*v,e}function tDe(e,t,i){const r=t[0],n=t[1],o=t[2],c=t[3];return e[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*c,e[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*c,e[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*c,e[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*c,e}function iDe(e,t,i){const r=t[0],n=t[1],o=t[2],c=i[0],f=i[1],g=i[2],v=i[3],_=v*r+f*o-g*n,M=v*n+g*r-c*o,T=v*o+c*n-f*r,E=-c*r-f*n-g*o;return e[0]=_*v+E*-c+M*-g-T*-f,e[1]=M*v+E*-f+T*-c-_*-g,e[2]=T*v+E*-g+_*-f-M*-c,e[3]=t[3],e}function rDe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function nDe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function sDe(e,t){const i=e[0],r=e[1],n=e[2],o=e[3],c=t[0],f=t[1],g=t[2],v=t[3],_=eo();return Math.abs(i-c)<=_*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-f)<=_*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-g)<=_*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(o-v)<=_*Math.max(1,Math.abs(o),Math.abs(v))}const oDe=sce,aDe=oce,lDe=ace,uDe=lce,cDe=uce,hDe=cce,dDe=hce;Object.freeze(Object.defineProperty({__proto__:null,add:BFe,ceil:UFe,copy:DFe,copyVec3:zFe,dist:uDe,distance:lce,div:lDe,divide:ace,dot:QFe,equals:sDe,exactEquals:nDe,floor:GFe,inverse:ZFe,len:hDe,length:cce,lerp:dce,max:WFe,min:qFe,mul:aDe,multiply:oce,negate:YFe,normalize:XFe,random:eDe,round:HFe,scale:JFe,scaleAndAdd:KFe,set:VFe,sqrDist:cDe,sqrLen:dDe,squaredDistance:uce,squaredLength:hce,str:rDe,sub:oDe,subtract:sce,transformMat4:tDe,transformQuat:iDe},Symbol.toStringTag,{value:"Module"}));function G7(){return[0,0,0,0]}function pDe(e){return[e[0],e[1],e[2],e[3]]}function Hg(e,t,i,r){return[e,t,i,r]}function fDe(e,t=G7()){const i=Math.min(4,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function yDe(e,t){return new Float64Array(e,t,4)}function pce(){return G7()}function fce(){return Hg(1,1,1,1)}function yce(){return Hg(1,0,0,0)}function mce(){return Hg(0,1,0,0)}function gce(){return Hg(0,0,1,0)}function vce(){return Hg(0,0,0,1)}const mDe=pce(),gDe=fce(),vDe=yce(),bDe=mce(),wDe=gce(),xDe=vce();Object.freeze(Object.defineProperty({__proto__:null,ONES:gDe,UNIT_W:xDe,UNIT_X:vDe,UNIT_Y:bDe,UNIT_Z:wDe,ZEROS:mDe,clone:pDe,create:G7,createView:yDe,fromArray:fDe,fromValues:Hg,ones:fce,unitW:vce,unitX:yce,unitY:mce,unitZ:gce,zeros:pce},Symbol.toStringTag,{value:"Module"}));function bce(e){return"r"in e&&"g"in e&&"b"in e}function wce(e){return"h"in e&&"s"in e&&"v"in e}function xce(e){return"l"in e&&"a"in e&&"b"in e}function _ce(e){return"l"in e&&"c"in e&&"h"in e}function _De(e){return"x"in e&&"y"in e&&"z"in e}const SDe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],$De=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function Sce(e,t){const i=[];let r,n;if(e[0].length!==t.length)throw new Error("dimensions do not match");const o=e.length,c=e[0].length;let f=0;for(r=0;r<o;r++){for(f=0,n=0;n<c;n++)f+=e[r][n]*t[n];i.push(f)}return i}function $ce(e){const t=[e.r/255,e.g/255,e.b/255].map(r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4),i=Sce(SDe,t);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function vF(e){const t=Sce($De,[e.x/100,e.y/100,e.z/100]).map(i=>{const r=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(r,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function Mce(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function Tce(e){const t=e.l,i=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(r=>r>6/29?r**3:3*(6/29)**2*(r-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function MDe(e){const t=e.l,i=e.a,r=e.b,n=Math.sqrt(i*i+r*r);let o=Math.atan2(r,i);return o=o>0?o:o+2*Math.PI,{l:t,c:n,h:o}}function TDe(e){const t=e.l,i=e.c,r=e.h;return{l:t,a:i*Math.cos(r),b:i*Math.sin(r)}}function kDe(e){return Mce($ce(e))}function CDe(e){return vF(Tce(e))}function IDe(e){return MDe(Mce($ce(e)))}function EDe(e){return vF(Tce(TDe(e)))}function ADe(e){const t=e.r,i=e.g,r=e.b,n=Math.max(t,i,r),o=n-Math.min(t,i,r);let c=n,f=o===0?0:n===t?(i-r)/o%6:n===i?(r-t)/o+2:(t-i)/o+4,g=o===0?0:o/c;return f<0&&(f+=6),f*=60,g*=100,c*=100/255,{h:f,s:g,v:c}}function jDe(e){const t=(e.h+360)%360/60,i=e.s/100,r=e.v/100*255,n=r*i,o=n*(1-Math.abs(t%2-1));let c;switch(Math.floor(t)){case 0:c={r:n,g:o,b:0};break;case 1:c={r:o,g:n,b:0};break;case 2:c={r:0,g:n,b:o};break;case 3:c={r:0,g:o,b:n};break;case 4:c={r:o,g:0,b:n};break;case 5:case 6:c={r:n,g:0,b:o};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+r-n),c.g=Math.round(c.g+r-n),c.b=Math.round(c.b+r-n),c}function bF(e){return bce(e)?e:_ce(e)?EDe(e):xce(e)?CDe(e):_De(e)?vF(e):wce(e)?jDe(e):e}function B_t(e){return wce(e)?e:ADe(bF(e))}function U_t(e){return xce(e)?e:kDe(bF(e))}function G_t(e){return _ce(e)?e:IDe(bF(e))}function PDe(e){let{r:t,g:i,b:r,a:n}=e;return n<1&&(t=Math.round(n*t+255*(1-n)),i=Math.round(n*i+255*(1-n)),r=Math.round(n*r+255*(1-n))),new Lt({r:t,g:i,b:r})}function q_t(e,t){const{r:i,g:r,b:n}=PDe(e);return .2126*i+.7152*r+.0722*n}var WW;(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(WW||(WW={}));const ODe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},Vj={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};function W_t(e){return[e.r,e.g,e.b,e.a]}const RDe=` /-,
`;function HW(e){let t=e.length;for(;t--;)if(!RDe.includes(e.charAt(t)))return!1;return!0}function LDe(e,t){const i=[];let r=0,n=-1;do if(n=e.indexOf("[",r),n>=r){if(n>r){const o=e.substr(r,n-r);i.push([o,null,HW(o)])}if(r=n+1,n=e.indexOf("]",r),n>=r){if(n>r){const o=t[e.substr(r,n-r)];o&&i.push([null,o,!1])}r=n+1}}while(n!==-1);if(r<e.length-1){const o=e.substr(r);i.push([o,null,HW(o)])}return i}function NDe(e,t,i,r){let n="",o=null;for(const c of t){const[f,g,v]=c;if(f)v?o=f:(o&&(n+=o,o=null),n+=f);else{let _=g;i!=null&&(_=kce(g,i));const M=e.attributes[_];M&&(o&&(n+=o,o=null),n+=M)}}return FDe(n,r)}function FDe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function H_t(e,t,i,r,n,o,c=!0){const f=t/n,g=i/o,v=Math.ceil(f/2),_=Math.ceil(g/2);for(let M=0;M<o;M++)for(let T=0;T<n;T++){const E=4*(T+(c?o-M-1:M)*n);let j=0,R=0,N=0,F=0,V=0,z=0,G=0;const H=(M+.5)*g;for(let Z=Math.floor(M*g);Z<(M+1)*g;Z++){const Y=Math.abs(H-(Z+.5))/_,re=(T+.5)*f,q=Y*Y;for(let W=Math.floor(T*f);W<(T+1)*f;W++){let ee=Math.abs(re-(W+.5))/v;const le=Math.sqrt(q+ee*ee);le>=-1&&le<=1&&(j=2*le*le*le-3*le*le+1,j>0&&(ee=4*(W+Z*t),G+=j*e[ee+3],N+=j,e[ee+3]<255&&(j=j*e[ee+3]/250),F+=j*e[ee],V+=j*e[ee+1],z+=j*e[ee+2],R+=j))}}r[E]=F/R,r[E+1]=V/R,r[E+2]=z/R,r[E+3]=G/N}}function DDe(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function J_t(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function K_t(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function Y_t(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function Z_t(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function zDe(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const X_t=(e,t=0)=>e==null||isNaN(e)?t:e,Q_t=(e,t)=>e??t,e5t=e=>e.tintColor?DDe(e.tintColor):[255,255,255,1],t5t=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function i5t(){return Ce(()=>import("./geometryEngineJSON-BmskT4ha.js").then(e=>e.g),__vite__mapDeps([6,7]),import.meta.url)}function r5t(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function n5t(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function s5t(e){let t="normal",i="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:t,weight:i}}function o5t(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function JW(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=JW(t);if(i!=null)return i}break;case"CIMTextSymbol":return JW(e.symbol);case"CIMSolidFill":return e.color}return null}function KW(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const r=KW(i);if(r!=null)return r}break}case"CIMTextSymbol":return KW(e.symbol);case"CIMSolidStroke":return e.color}}function YW(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=YW(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return YW(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function a5t(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function l5t(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function VDe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const u5t=e=>e.includes("data:image/svg+xml");function c5t(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function wF(e){return e&&e.charAt(0).toLowerCase()+e.substring(1)}function h5t(e,t,i,r,n,o){const{infos:c}=o;let f=1,g=0,v=0,_=0;for(const{offsetX:E,offsetY:j,rotation:R,size:N,frameHeight:F,rotateClockWise:V}of c)v=QW(E,j,g,f,v),_=XW(E,j,g,f,_),F&&(f*=N/F),g=eH(R,V,g);const M=QW(r,n,g,f,v),T=XW(r,n,g,f,_);return{size:e*f,rotation:eH(t,i,g),offsetX:M,offsetY:T}}function BDe(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>BDe(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function d5t(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...ODe[t]];const i=Vj[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function UDe(e){return e!=null&&e.dashTemplate&&typeof e.dashTemplate=="string"&&(e.dashTemplate=e.dashTemplate.split(" ").map(Number)),e}function Bj(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return Bj(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return Bj(i.symbol)}}return"Normal"}function p5t(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??Vj.CIMVectorMarker.size;r>t&&(t=r);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>t&&(t=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&zDe(i.markerPlacement)){const r=i.size??Vj.CIMVectorMarker.size;r>t&&(t=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>t&&(t=r)}}}return t}}}function kce(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function GDe(e){return e.map(t=>({...t,propertyName:wF(t.propertyName)}))}function ZW(e){const t={};for(const i in e){const r=e[i];t[wF(i)]=r}return t}function XW(e,t,i,r,n){const o=i*Math.PI/180;if(o){const c=Math.cos(o);return(Math.sin(o)*e+c*t)*r+n}return t*r+n}function QW(e,t,i,r,n){const o=i*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*r+n:e*r+n}function eH(e,t,i){return t?i-e:i+e}function f5t(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function qDe(e){return e.originPosition==="lowerLeft"&&e.scale.length===4&&e.translate.length===4}function fx(e){if(qDe(e))return e;const{originPosition:t,scale:i,translate:r}=e,n=i[0]??1,o=i[1]??1;return{originPosition:"lowerLeft",scale:[n,t==="lowerLeft"?o:-o,i[2]??1,i[3]??1],translate:[r[0]??0,r[1]??0,r[2]??0,r[3]??0]}}function WDe({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function HDe({scale:e,translate:t},i){return Math.round((i-t[1])/e[1])}function JDe({scale:e,translate:t},i){return Math.round(((i??0)-t[2])/e[2])}function KDe({scale:e,translate:t},i){return i?Math.round((i-t[3])/e[3]):0}function yx({scale:e,translate:t},i){return i*e[0]+t[0]}function mx({scale:e,translate:t},i){return i*e[1]+t[1]}function t3({scale:e,translate:t},i){return(i??0)*e[2]+t[2]}function i3({scale:e,translate:t},i){return i?i*e[3]+t[3]:0}function xF(e,t){return e&&t?QDe:e&&!t?ZDe:!e&&t?XDe:YDe}const YDe=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const r=t[0];let n=yx(e,r[0]),o=mx(e,r[1]);i[0]=[n,o];const{scale:c,originPosition:f}=e,g=c[0],v=f==="lowerLeft"?c[1]:-c[1];for(let _=1;_<t.length;_++){const[M,T]=t[_];n+=g*M,o+=v*T,i[_]=[n,o]}return i},ZDe=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const r=t[0];let n=yx(e,r[0]),o=mx(e,r[1]);i[0]=[n,o,t3(e,r[2])];const{scale:c,originPosition:f}=e,g=c[0],v=f==="lowerLeft"?c[1]:-c[1];for(let _=1;_<t.length;_++){const[M,T,E]=t[_];n+=g*M,o+=v*T,i[_]=[n,o,t3(e,E)]}return i},XDe=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const r=t[0];let n=yx(e,r[0]),o=mx(e,r[1]);i[0]=[n,o,i3(e,r[2])];const{scale:c,originPosition:f}=e,g=c[0],v=f==="lowerLeft"?c[1]:-c[1];for(let _=1;_<t.length;_++){const[M,T,E]=t[_];n+=g*M,o+=v*T,i[_]=[n,o,i3(e,E)]}return i},QDe=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const r=t[0];let n=yx(e,r[0]),o=mx(e,r[1]);i[0]=[n,o,t3(e,r[2]),i3(e,r[3])];const{scale:c,originPosition:f}=e,g=c[0],v=f==="lowerLeft"?c[1]:-c[1];for(let _=1;_<t.length;_++){const[M,T,E,j]=t[_];n+=g*M,o+=v*T,i[_]=[n,o,t3(e,E),i3(e,j)]}return i};function Cce(e,t,i){const r=new Array(i.length);for(let n=0;n<i.length;n++)r[n]=t(e,i[n]);return r}function y5t(e,t,i){const r=fx(e);return t.x=WDe(r,i.x),t.y=HDe(r,i.y),i.z!=null&&(t.z=JDe(r,i.z)),i.m!=null&&(t.m=KDe(r,i.m)),t}function eze(e,t,i,r=(i==null?void 0:i.hasZ)??!1,n=(i==null?void 0:i.hasM)??!1){if(i!=null){const o=fx(e);t.points=xF(r,n)(o,i.points),t.hasZ=r,t.hasM=n}return t}function tze(e,t,i,r=(i==null?void 0:i.z)!=null,n=(i==null?void 0:i.m)!=null){if(i==null)return t;const o=fx(e);return t.x=yx(o,i.x),t.y=mx(o,i.y),r&&(t.z=t3(o,i.z)),n&&(t.m=i3(o,i.m)),t}function ize(e,t,i,r=(i==null?void 0:i.hasZ)??!1,n=(i==null?void 0:i.hasM)??!1){if(i!=null){const o=fx(e);t.rings=Cce(o,xF(r,n),i.rings),t.hasZ=r,t.hasM=n}return t}function rze(e,t,i,r=(i==null?void 0:i.hasZ)??!1,n=(i==null?void 0:i.hasM)??!1){if(i!=null){const o=fx(e);t.paths=Cce(o,xF(r,n),i.paths),t.hasZ=r,t.hasM=n}return t}function nze(e,t,i,r,n){if(e==null)return null;const o=e.referencesGeometry()&&n?sze(t,r,n):t,c=e.repurposeFeature(o);try{return e.evaluate({...i,$feature:c},e.services)}catch(f){return Le.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",f),null}}const QT=new Map;function sze(e,t,i){const{transform:r,hasZ:n,hasM:o}=i;QT.has(t)||QT.set(t,oze(t));const c=QT.get(t)(e.geometry,r,n,o);return{...e,geometry:c}}function oze(e){const t={};switch(e){case"esriGeometryPoint":return(i,r,n,o)=>tze(r,t,i,n,o);case"esriGeometryPolygon":return(i,r,n,o)=>ize(r,t,i,n,o);case"esriGeometryPolyline":return(i,r,n,o)=>rze(r,t,i,n,o);case"esriGeometryMultipoint":return(i,r,n,o)=>eze(r,t,i,n,o);default:return Le.getLogger("esri.views.2d.support.arcadeOnDemand").error(new we("mapview-arcade",`Unable to handle geometryType: ${e}`)),i=>i}}const aze=e=>{if(!e)return[0,0,0,0];const{r:t,g:i,b:r,a:n}=e;return[t,i,r,255*n]};let Ice=class Ar{static findApplicableOverrides(t,i,r){if(t&&i){if(t.primitiveName){let n=!1;for(const o of r)if(o.primitiveName===t.primitiveName){n=!0;break}if(!n)for(const o of i)o.primitiveName===t.primitiveName&&r.push(o)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const n of t.effects)Ar.findApplicableOverrides(n,i,r);if(t.symbolLayers)for(const n of t.symbolLayers)Ar.findApplicableOverrides(n,i,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const n of t.effects)Ar.findApplicableOverrides(n,i,r);if(t.markerPlacement&&Ar.findApplicableOverrides(t.markerPlacement,i,r),t.type==="CIMVectorMarker"){if(t.markerGraphics)for(const n of t.markerGraphics)Ar.findApplicableOverrides(n,i,r),Ar.findApplicableOverrides(n.symbol,i,r)}else t.type==="CIMCharacterMarker"?Ar.findApplicableOverrides(t.symbol,i,r):t.type==="CIMHatchFill"?Ar.findApplicableOverrides(t.lineSymbol,i,r):t.type==="CIMPictureMarker"&&Ar.findApplicableOverrides(t.animatedSymbolProperties,i,r)}}}static findEffectOverrides(t,i){if(!t)return null;if(t.type==="CIMGeometricEffectDashes"&&UDe(t),!i||!t.primitiveName)return{type:"cim-effect-param",effect:t,overrides:[]};const r=ZW(t),n=t.primitiveName,o=[];for(const c of i)c.primitiveName===n&&o.push(ZW(c));return{type:"cim-effect-param",effect:r,overrides:GDe(o)}}static async resolveSymbolOverrides(t,i,r,n,o,c,f){if(!(t!=null&&t.symbol))return null;let{symbol:g,primitiveOverrides:v}=t;const _=!!v;if(!_&&!n)return g;g=be(g),v=be(v);let M=!0;if(i||(i={attributes:{}},M=!1),_){if(M||(v=v.filter(T=>{var E;return!((E=T.valueExpressionInfo)!=null&&E.expression.includes("$feature"))})),f||(v=v.filter(T=>{var E;return!((E=T.valueExpressionInfo)!=null&&E.expression.includes("$view"))})),v.length>0){const T={spatialReference:r,fields:VDe(i.attributes),geometryType:o};await Ar.createRenderExpressions(v,T),Ar.evaluateOverrides(v,i,o??"esriGeometryPoint",c,f)}Ar.applyOverrides(g,v)}return n&&Ar.applyDictionaryTextOverrides(g,i,n,null),g}static async createRenderExpressions(t,i){const r=[];for(const n of t){const o=n.valueExpressionInfo;if(!o||Ar._expressionToRenderExpression.has(o.expression))continue;const c=MCe(o.expression,i.spatialReference,i.fields);r.push(c),c.then(f=>Ar._expressionToRenderExpression.set(o.expression,f))}r.length>0&&await Promise.all(r)}static evaluateOverrides(t,i,r,n,o){const c={$view:{scale:o==null?void 0:o.scale}};for(const f of t){f.value&&typeof f.value=="object"&&bce(f.value)&&(f.propertyName==="Color"||f.propertyName==="StrokeColor")&&(f.value=aze(f.value));const g=f.valueExpressionInfo;if(!g)continue;const v=Ar._expressionToRenderExpression.get(g.expression);v&&(f.value=nze(v,i,c,r,n))}}static applyDictionaryTextOverrides(t,i,r,n,o="Normal"){if(t!=null&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const c=t.symbolLayers;if(!c)return;for(const f of c)f&&f.type==="CIMVectorMarker"&&Ar.applyDictionaryTextOverrides(f,i,r,n,t.type==="CIMTextSymbol"?t.textCase:o)}break;case"CIMVectorMarker":{const c=t.markerGraphics;if(!c)return;for(const f of c)f&&Ar.applyDictionaryTextOverrides(f,i,r,n)}break;case"CIMMarkerGraphic":{const c=t.textString;if(c&&c.includes("[")){const f=LDe(c,r);t.textString=NDe(i,f,n,o)}}}}static applyOverrides(t,i,r,n){if(t.primitiveName){for(const o of i)if(o.primitiveName===t.primitiveName){const c=wF(o.propertyName);if(n&&n.push({cim:t,nocapPropertyName:c,value:t[c]}),r){let f=!1;for(const g of r)g.primitiveName===t.primitiveName&&(f=!0);f||r.push(o)}o.value!=null&&(t[c]=o.value)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const o of t.effects)Ar.applyOverrides(o,i,r,n);if(t.symbolLayers)for(const o of t.symbolLayers)Ar.applyOverrides(o,i,r,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const o of t.effects)Ar.applyOverrides(o,i,r,n);if(t.type==="CIMVectorMarker"&&t.markerGraphics)for(const o of t.markerGraphics)Ar.applyOverrides(o,i,r,n),Ar.applyOverrides(o.symbol,i,r,n)}}static restoreOverrides(t){for(const i of t)i.cim[i.nocapPropertyName]=i.value}static buildOverrideKey(t){let i="";for(const r of t)r.value!==void 0&&(i+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return i}static toValue(t,i){if(t==="DashTemplate")return i.split(" ").map(r=>Number(r));if(t==="Color"){const r=new Lt(i).toRgba();return r[3]*=255,r}return i}};Ice._expressionToRenderExpression=new Map;const tH="esri.renderers.support.DictionaryLoader",lze={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let Ece=class{constructor(t,i,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new jFe(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){var M;let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{r=await this._dictionaryPromise}catch(T){if(Os(T))return this._dictionaryPromise=null,null}const n=(M=this._dictionaryVersion)==null?void 0:M.since(4,0),o={};if(this.fieldMap)for(const T of this._symbolFields){const E=kce(this.fieldMap[T],this._fieldIndex);if(E){const j=t.attributes[E];o[T]=n?j:j!=null?""+t.attributes[E]:""}else o[T]=""}let c=null;try{c=r==null?void 0:r(o,i)}catch{return null}if(!c||typeof c!="string"||c==="invalid")return null;const f=c.split(";"),g=[],v=[];for(const T of f)if(T)if(T.includes("po:")){const E=T.substr(3).split("|");if(E.length===3){const j=E[0],R=E[1];let N=E[2];if(R==="DashTemplate")N=N.split(" ").map(F=>Number(F));else if(R==="Color"){const F=new Lt(N).toRgba();N=[F[0],F[1],F[2],255*F[3]]}else N=Number(N);v.push({primitiveName:j,propertyName:R,value:N,defaultValue:null})}}else if(T.includes("|")){for(const E of T.split("|"))if(this._itemNames.has(E)){g.push(E);break}}else this._itemNames.has(T)&&g.push(T);const _=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,g,v,_,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void Le.getLogger(tH).error("no valid URL!");const i=Vi(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:r}]=await Promise.all([i,e1()]);if(!r)throw this._dictionaryPromise=null,new we("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:n,dictionary_version:o,expression:c,itemsNames:f}=r,g=c;let v=!1;o&&(this._dictionaryVersion=PFe.parse(o),v=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(f),this._symbolFields=n.symbol;const _={};if(this.config){const E=this.config;for(const j in E)_[j]=E[j]}if(n.configuration)for(const E of n.configuration)_.hasOwnProperty(E.name)||(_[E.name]=E.value);const M=[];if(t!=null&&t.fields&&this.fieldMap)for(const E in this.fieldMap){const j=this.fieldMap[E],R=t.fields.filter(N=>N.name.toLowerCase()===(j==null?void 0:j.toLowerCase()));R.length>0&&M.push({...R[0],type:v?R[0].type:"esriFieldTypeString"})}M.length>0&&(this._fieldIndex=new rce(M));const T=TCe(g,t!=null?t.spatialReference:null,M,_).then(E=>{const j={scale:0};return(R,N)=>{if(E==null)return null;const F=E.repurposeFeature({geometry:null,attributes:R});return j.scale=N!=null?N.scale??void 0:void 0,E.evaluate({$feature:F,$view:j},E.services)}}).catch(E=>(Le.getLogger(tH).error("Creating dictionary expression failed:",E),null));return this._dictionaryPromise=T,T}async _cimPartsToCIMSymbol(t,i,r,n,o){const c=new Array(i.length);for(let v=0;v<i.length;v++)c[v]=this._getSymbolPart(i[v],o);let f=await Promise.all(c);const g=this.fieldMap;if(g){f=be(f);for(const v of f)Ice.applyDictionaryTextOverrides(v,t,g,this._fieldIndex,Bj(v))}return new Bp({data:uze(f,r,n)})}async _getSymbolPart(t,i){const r=this._symbolCache.get(t);if(r)return r;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(c=>c.data);const n=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),o=Vi(n,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,o),o.finally(()=>this._ongoingRequests.delete(t));try{const c=await o;return this._symbolCache.put(t,c.data),c.data}catch(c){throw c}}};function uze(e,t,i){if(!e||e.length===0)return null;const r={...e[0]};if(e.length>1){r.symbolLayers=[];for(const n of e){const o=n;r.symbolLayers.unshift(...o.symbolLayers)}}return i&&(r.callout=lze),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var Uj;let Pl=Uj=class extends Wg(Oh){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new Ece(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){r!=null&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new Uj({config:be(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:be(this.fieldMap),url:be(this.url),visualVariables:be(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Ps(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};b([$({type:Ece})],Pl.prototype,"_loader",null),b([$({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Pl.prototype,"config",void 0),b([$({type:Object,json:{write:!0}})],Pl.prototype,"fieldMap",void 0),b([$({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Pl.prototype,"scaleExpression",void 0),b([Ze("scaleExpression")],Pl.prototype,"writeData",null),b([$({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Pl.prototype,"scaleExpressionTitle",void 0),b([$({type:String,json:{write:!0}})],Pl.prototype,"url",void 0),b([Ze("visualVariables")],Pl.prototype,"writeVisualVariables",null),Pl=Uj=b([ne("esri.renderers.DictionaryRenderer")],Pl);const cze=Pl;var Gj;let Dc=Gj=class extends Ne{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(Le.getLogger(this).error(".field: field must be a string value"),null):G3(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new Gj({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};b([$({type:Lt,json:{type:[Number],write:!0}})],Dc.prototype,"color",void 0),b([$({type:String,json:{write:!0}})],Dc.prototype,"field",void 0),b([$i("field")],Dc.prototype,"castField",null),b([$({type:String,json:{write:!0}})],Dc.prototype,"label",void 0),b([$({type:String,json:{write:!0}})],Dc.prototype,"valueExpression",void 0),b([$({type:String,json:{write:!0}})],Dc.prototype,"valueExpressionTitle",void 0),Dc=Gj=b([ne("esri.renderers.support.AttributeColorInfo")],Dc);const Ace=Dc;var qj;let i9=qj=class extends Ne{constructor(){super(...arguments),this.unit=null}clone(){return new qj({unit:this.unit})}};b([$({type:String,json:{write:!0}})],i9.prototype,"unit",void 0),i9=qj=b([ne("esri.renderers.support.DotDensityLegendOptions")],i9);const hze=i9;var Wj;let ho=Wj=class extends Wg(Oh){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Lt([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Ao,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Ph({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new Wj({attributes:be(this.attributes),backgroundColor:be(this.backgroundColor),dotBlendingEnabled:be(this.dotBlendingEnabled),dotShape:be(this.dotShape),dotSize:be(this.dotSize),dotValue:be(this.dotValue),legendOptions:be(this.legendOptions),outline:be(this.outline),referenceScale:be(this.referenceScale),seed:be(this.seed),visualVariables:be(this.visualVariables),authoringInfo:be(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await Ps(e,t,i.valueExpression),i.field&&e.add(i.field)}};b([$({type:[Ace],json:{write:!0}})],ho.prototype,"attributes",void 0),b([$({type:Lt,json:{write:!0}})],ho.prototype,"backgroundColor",void 0),b([$({type:Boolean,json:{write:!0}})],ho.prototype,"dotBlendingEnabled",void 0),b([$({type:String,json:{write:!1}})],ho.prototype,"dotShape",void 0),b([$({type:Number,json:{write:!0}})],ho.prototype,"dotSize",void 0),b([$({type:hze,json:{write:!0}})],ho.prototype,"legendOptions",void 0),b([$({type:Ao,json:{default:null,write:!0}})],ho.prototype,"outline",void 0),b([$({type:Number,json:{write:!0}})],ho.prototype,"dotValue",void 0),b([$({type:Number,json:{write:!0}})],ho.prototype,"referenceScale",void 0),b([$({type:Number,json:{write:!0}})],ho.prototype,"seed",void 0),b([Ct({dotDensity:"dot-density"})],ho.prototype,"type",void 0),ho=Wj=b([ne("esri.renderers.DotDensityRenderer")],ho);const dze=ho;var Hj;let s2=Hj=class extends Ne{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new Hj({color:this.color&&this.color.clone(),ratio:this.ratio})}};b([$({type:Lt,json:{type:[zi],default:null,write:!0}})],s2.prototype,"color",void 0),b([$({type:Number,json:{write:!0}})],s2.prototype,"ratio",void 0),s2=Hj=b([ne("esri.renderers.support.HeatmapColorStop")],s2);const r9=s2;let Ey=class extends sr(Ne){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};b([$({type:String,json:{write:!0}})],Ey.prototype,"minLabel",void 0),b([$({type:String,json:{write:!0}})],Ey.prototype,"maxLabel",void 0),b([$({type:String,json:{write:!0}})],Ey.prototype,"title",void 0),Ey=b([ne("esri.renderers.support.HeatmapLegendOptions")],Ey);const _F=2.4;function pze(e){return ll(e*_F)}function fze(e){return HTe(e)/_F}function yze(e,t,i,r){let{color:n,ratio:o}=t,{color:c,ratio:f}=i;f===o&&(f===1?o-=1e-6:f+=1e-6);const g=ol((r-o)/(f-o),0,1);dce(e,n.toArray(),c.toArray(),g)}function v5t(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:f})=>f>=0&&f<=1).sort((f,g)=>f.ratio-g.ratio).map(({color:f,ratio:g})=>({color:f,ratio:Math.max(g,.001)})),e.length<1)return i;let r=e[0],n=e[0],o=1;const c=G7();for(let f=0;f<512;f++){const g=(f+.5)/512;for(;g>n.ratio&&o<e.length;)r=n,n=e[o++];yze(c,r,n,g),i.set(c,4*f)}return i}function b5t(e,t,i){const r=Math.sqrt(e**2+t**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function w5t(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var Jj;function iH(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:r}=e;if(t!=null||i!=null||r!=null){const{blurRadius:n,maxPixelIntensity:o,minPixelIntensity:c,...f}=e;return f}}return e}let jn=Jj=class extends Oh{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new r9({ratio:0,color:new Lt("rgba(255, 140, 0, 0)")}),new r9({ratio:.75,color:new Lt("rgba(255, 140, 0, 1)")}),new r9({ratio:.9,color:new Lt("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return iH(e)}get blurRadius(){return fze(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",pze(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(_F**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||js(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,Ag(()=>{mb(Le.getLogger(this),e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=iH(e),super.read(e,t)}getSymbol(){return new cc}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&to(e,t,i),r&&typeof r=="string"&&await Ps(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new Jj({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:be(this.colorStops),field:this.field,legendOptions:be(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};b([$({type:dF,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],jn.prototype,"authoringInfo",void 0),b([$({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],jn.prototype,"blurRadius",null),b([$({type:[r9],json:{write:!0}})],jn.prototype,"colorStops",void 0),b([$({type:String,json:{write:!0}})],jn.prototype,"field",void 0),b([$({type:Ey,json:{write:!0}})],jn.prototype,"legendOptions",void 0),b([$({type:Number,json:{write:!0}})],jn.prototype,"maxDensity",void 0),b([$({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],jn.prototype,"maxPixelIntensity",null),b([$({type:Number,json:{write:!0}})],jn.prototype,"minDensity",void 0),b([$({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],jn.prototype,"minPixelIntensity",null),b([$({type:Number,cast:wi,json:{write:!0}})],jn.prototype,"radius",void 0),b([$({type:Number,range:{min:0},json:{default:0,write:!0}})],jn.prototype,"referenceScale",void 0),b([Ct({heatmap:"heatmap"})],jn.prototype,"type",void 0),b([$({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],jn.prototype,"valueExpression",void 0),b([$({type:String})],jn.prototype,"valueExpressionTitle",void 0),b([$({readOnly:!0})],jn.prototype,"_pixelIntensityToDensity",null),jn=Jj=b([ne("esri.renderers.HeatmapRenderer")],jn);const jce=jn;let r0=class extends sr(Ne){constructor(){super(...arguments),this.color=new Lt([0,0,0,0]),this.label=null,this.threshold=0}};b([$({type:Lt,json:{write:!0}})],r0.prototype,"color",void 0),b([$({type:String,json:{write:!0}})],r0.prototype,"label",void 0),b([$({type:Number,range:{min:0,max:1},json:{write:!0}})],r0.prototype,"threshold",void 0),r0=b([ne("esri.renderers.support.OthersCategory")],r0);let n9=class extends sr(Ne){constructor(){super(...arguments),this.title=null}};b([$({type:String,json:{write:!0}})],n9.prototype,"title",void 0),n9=b([ne("esri.renderers.support.PieChartLegendOptions")],n9);let Bo=class extends Wg(sr(Oh)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Lt([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new r0,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new cc({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(ss)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,i)=>t+i.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const r of this.attributes)r.valueExpression&&await Ps(t,i,r.valueExpression),r.field&&t.add(r.field)}};b([$({type:[Ace],json:{write:!0}})],Bo.prototype,"attributes",void 0),b([$({type:Ph,json:{default:null,write:!0}})],Bo.prototype,"backgroundFillSymbol",void 0),b([$({type:Lt,json:{write:!0}})],Bo.prototype,"defaultColor",void 0),b([$({type:String,json:{write:!0}})],Bo.prototype,"defaultLabel",void 0),b([$({type:Number,range:{min:0,max:1},json:{write:!0}})],Bo.prototype,"holePercentage",void 0),b([$({type:r0,json:{write:!0}})],Bo.prototype,"othersCategory",void 0),b([$({type:n9,json:{write:!0}})],Bo.prototype,"legendOptions",void 0),b([$({type:Ao,json:{default:null,write:!0}})],Bo.prototype,"outline",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],Bo.prototype,"size",void 0),b([Ct({pieChart:"pie-chart"})],Bo.prototype,"type",void 0),Bo=b([ne("esri.renderers.PieChartRenderer")],Bo);const mze=Bo;var Kj;let Uf=Kj=class extends Wg(Oh){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new Kj({description:this.description,label:this.label,symbol:be(this.symbol),visualVariables:be(this.visualVariables),authoringInfo:be(this.authoringInfo)})}};b([$({type:String,json:{write:!0}})],Uf.prototype,"description",void 0),b([$({type:String,json:{write:!0}})],Uf.prototype,"label",void 0),b([$(gF)],Uf.prototype,"symbol",void 0),b([Ct({simple:"simple"})],Uf.prototype,"type",void 0),Uf=Kj=b([ne("esri.renderers.SimpleRenderer")],Uf);const Jg=Uf,gze=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function Yj(e){return e instanceof vt}function rH(e){return e instanceof st?Object.keys(e.items):Yj(e)?js(e).keys():e?Object.keys(e):[]}function i5(e,t){return e instanceof st?e.items[t]:e[t]}function vze(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Q2(e){return e?e.declaredClass:null}function Pce(e,t){var M;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const r=rH(e),n=rH(t);if(r.length===0&&n.length===0)return;if(!r.length||!n.length||vze(e,t))return{type:"complete",oldValue:e,newValue:t};const o=n.filter(T=>!r.includes(T)),c=r.filter(T=>!n.includes(T)),f=r.filter(T=>n.includes(T)&&i5(e,T)!==i5(t,T)).concat(o,c).sort(),g=Q2(e);if(g&&gze.has(g)&&f.length)return{type:"complete",oldValue:e,newValue:t};let v;const _=Yj(e)&&Yj(t);for(const T of f){const E=i5(e,T),j=i5(t,T);let R;if((_||typeof E!="function"&&typeof j!="function")&&E!==j&&(E!=null||j!=null)){if(i&&i[T]&&typeof i[T]=="function")R=(M=i[T])==null?void 0:M.call(i,E,j);else if(E instanceof Date&&j instanceof Date){if(E.getTime()===j.getTime())continue;R={type:"complete",oldValue:E,newValue:j}}else R=typeof E=="object"&&typeof j=="object"&&Q2(E)===Q2(j)?Pce(E,j):{type:"complete",oldValue:E,newValue:j};R!=null&&(v!=null?v.diff[T]=R:v={type:"partial",diff:{[T]:R}})}}return v}function $5t(e,t){return bze(e,t)}function bze(e,t){if(e==null)return!1;const i=t.split(".");let r=e;for(const n of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const o=r.diff[n];if(!o)return!1;r=o}}return!0}function M5t(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function wze(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&Q2(e)!==Q2(t)?{type:"complete",oldValue:e,newValue:t}:Pce(e,t)}let Ay=class extends sr(Ne){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};b([$(XS)],Ay.prototype,"value",void 0),b([$(XS)],Ay.prototype,"value2",void 0),b([$(XS)],Ay.prototype,"value3",void 0),Ay=b([ne("esri.renderers.support.UniqueValue")],Ay);const Dm=Ay;let Sd=class extends sr(Ne){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(r=>new Dm({value:r})):i==="object"?t[0]instanceof Dm?t:t.map(r=>new Dm(r)):null}};b([$({type:String,json:{write:!0}})],Sd.prototype,"description",void 0),b([$({type:String,json:{write:!0}})],Sd.prototype,"label",void 0),b([$(B7)],Sd.prototype,"symbol",void 0),b([$({type:[Dm],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Dm({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const r of e){const n=[r.value,r.value2,r.value3].filter(ss).map(o=>o.toString());i.push(n)}t.values=i}}}})],Sd.prototype,"values",void 0),b([$i("values")],Sd.prototype,"castValues",null),Sd=b([ne("esri.renderers.support.UniqueValueClass")],Sd);const Oce=Sd;let o2=class extends sr(Ne){constructor(t){super(t),this.heading=null,this.classes=null}};b([$({type:String,json:{write:!0}})],o2.prototype,"heading",void 0),b([$({type:[Oce],json:{write:!0}})],o2.prototype,"classes",void 0),o2=b([ne("esri.renderers.support.UniqueValueGroup")],o2);const Zj=o2;var Xj;let Gf=Xj=class extends Ne{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new Xj({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};b([$({type:String,json:{write:!0}})],Gf.prototype,"description",void 0),b([$({type:String,json:{write:!0}})],Gf.prototype,"label",void 0),b([$(gF)],Gf.prototype,"symbol",void 0),b([$(XS)],Gf.prototype,"value",void 0),Gf=Xj=b([ne("esri.renderers.support.UniqueValueInfo")],Gf);const ew=Gf,xze=()=>!!ke("enable-feature:force-wosr"),_ze=()=>ke.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),Sze=()=>ke.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),$ze=()=>ke.add("enable-i3s-patching",!0,!0,!0),Mze=()=>ke.add("enable-i3s-patching",!1,!0,!0),I5t=()=>!!ke("enable-feature:SceneLayer-editing"),Tze=(e="i3s-patching")=>{switch(Mze(),Sze(),ke.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":_ze();break;case"i3s-patching":$ze()}};Tze("i3s-patching");let ek={};async function kze(e,t){try{return{data:(await Aze(e,t)).data,baseUrl:RSe(e),styleUrl:e}}catch(i){return Ra(i),null}}function Cze(e,t,i){var c;const r=t.portal!=null?t.portal:kn.getDefault();let n;const o=`${r.url} - ${(c=r.user)==null?void 0:c.username} - ${e}`;return ek[o]||(ek[o]=Ize(e,r,i).then(f=>(n=f,f.fetchData())).then(f=>({data:f,baseUrl:n.itemUrl??"",styleName:e}))),ek[o]}function Ize(e,t,i){return t.load(i).then(()=>{const r=new Uu({disableExtraQuery:!0,query:`owner:${nH} AND type:${sH} AND typekeywords:"${e}"`});return t.queryItems(r,i)}).then(({results:r})=>{var c;let n=null;const o=e.toLowerCase();if(r&&Array.isArray(r)){for(const f of r)if(((c=f.typeKeywords)==null?void 0:c.some(v=>v.toLowerCase()===o))&&f.type===sH&&f.owner===nH){n=f;break}}if(!n)throw new we("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return n.load(i)})}function Eze(e,t,i){return(e==null?void 0:e.styleUrl)!=null?kze(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?Cze(e.styleName,t,i):Promise.reject(new we("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function E5t(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function A5t(e,t,i=["gltf"]){if(t==="cimRef")return encodeURI(e.cimRef);if(e.formatInfos&&!xze())for(const r of i){const n=e.formatInfos.find(o=>o.type===r);if(n)return n.href}return encodeURI(e.webRef)}function Aze(e,t){const i={responseType:"json",query:{f:"json"},...t};return Vi(Za(e),i)}const nH="esri_en",sH="Style",j5t="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var a2;const Rce="esri.renderers.UniqueValueRenderer",Jh=()=>Le.getLogger(Rce),oH="uvInfos-watcher",aH="uvGroups-watcher",jze=",",Pze=vr(ew);function Oze(e){const{field1:t,field2:i,field3:r,fieldDelimiter:n,uniqueValueInfos:o,valueExpression:c}=e,f=!(!t||!i);return[{classes:(o??[]).map(g=>{var F;const{symbol:v,label:_,value:M,description:T}=g,[E,j,R]=f?((F=M==null?void 0:M.toString())==null?void 0:F.split(n||""))||[]:[M],N=[];return(t||c)&&N.push(E),i&&N.push(j),r&&N.push(R),{symbol:v,label:_,values:[N],description:T}})}]}let _r=a2=class extends Wg(Oh){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let r=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<i.length;o++){const c=t.find(f=>f.value===i[o].value);c?wze(c,i[o])?(n.changed.push({type:"complete",oldValue:c,newValue:i[o]}),r=!0):n.unchanged.push({oldValue:c,newValue:i[o]}):(n.added.push(i[o]),r=!0)}for(let o=0;o<t.length;o++)i.find(c=>c.value===t[o].value)||(n.removed.push(t[o]),r=!0);return r?n:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:G3(e)}writeField(e,t,i,r){typeof e=="string"?t[i]=e:r!=null&&r.messages?r.messages.push(new we("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Jh().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||kn.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const r=Dg(t.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=rx(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?Jh().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Jh().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var r;if(this.styleOrigin)return void Jh().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?Pze(e):new ew({value:e,symbol:_ae(t)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[i.value]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Jh().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const r=t[i];if(String(r.value)===String(e)){delete this._valueInfoMap[e],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await e1()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Jh().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const n=await e1(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),i={...i,arcade:n}}const r=this._getUniqueValueInfo(e,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var r;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((n,o)=>n+o.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new a2({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:be(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:be(this.visualVariables),legendOptions:be(this.legendOptions),authoringInfo:be(this.authoringInfo),backgroundFillSymbol:be(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=be(this.uniqueValueInfos),i=be(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(be(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(r=>r.collectRequiredFields(e,t)),Ps(e,t,this.valueExpression)];to(e,t,this.field),to(e,t,this.field2),to(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return Eze(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const n=new $1({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const o=new ew({value:r.name,symbol:n});t.push(o),this._valueInfoMap[r.name]=o}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",jze)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(oH);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(nt(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,n)=>{r!==n&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,oH)}}_watchUniqueValueGroups(){this.removeHandles(aH);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(nt(()=>({classes:i.classes}),(r,n)=>{r!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])t.push(nt(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(n,o)=>{n!==o&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,aH)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:r,fieldDelimiter:n,uniqueValueGroups:o,valueExpression:c}=this;if(!t&&!c)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const f=!(!t||!i);for(const g of o)for(const v of g.classes??[]){const{symbol:_,label:M,values:T,description:E}=v;for(const j of T??[]){const{value:R,value2:N,value3:F}=j,V=[R];i&&V.push(N),r&&V.push(F);const z=f?V.join(n||""):V[0]??void 0;e.push(new ew({symbol:_,label:M,value:z,description:E}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:r,fieldDelimiter:n,uniqueValueInfos:o}=this;if(!t&&!r||!o.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const c=!(!t||!i),f=o.map(v=>{var F;const{symbol:_,label:M,value:T,description:E}=v,[j,R,N]=c?((F=T==null?void 0:T.toString())==null?void 0:F.split(n||""))||[]:[T];return new Oce({symbol:_,label:M,description:E,values:[new Dm({value:j,value2:R,value3:N})]})}),g=[new Zj({classes:f})];e&&Object.freeze(g),this._set("uniqueValueGroups",g),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:o,timeZone:c}=t??{};let f=this._cache.compiledFunc;const g=o.arcadeUtils;if(!f){const _=g.createSyntaxTree(this.valueExpression);f=g.createFunction(_),this._cache.compiledFunc=f}const v=g.executeFunction(f,g.createExecContext(e,g.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),c));return this._valueInfoMap[v+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(this.field2){const n=this.field2,o=this.field3,c=[];t&&c.push(i[t]),n&&c.push(i[n]),o&&c.push(i[o]),r=c.join(this.fieldDelimiter||"")}else t&&(r=i[t]);return this._valueInfoMap[r+""]}static fromPortalStyle(e,t){const i=new a2(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||kn.getDefault());const r=i.populateFromStyle();return r.catch(n=>{Jh().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",n)}),r}static fromStyleUrl(e,t){const i=new a2(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch(n=>{Jh().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),r}};b([$({readOnly:!0})],_r.prototype,"_cache",null),b([Ct({uniqueValue:"unique-value"})],_r.prototype,"type",void 0),b([$(ece)],_r.prototype,"backgroundFillSymbol",void 0),b([$({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],_r.prototype,"field",null),b([$i("field")],_r.prototype,"castField",null),b([Ze("field")],_r.prototype,"writeField",null),b([$({type:String,value:null,json:{write:!0}})],_r.prototype,"field2",null),b([$({type:String,value:null,json:{write:!0}})],_r.prototype,"field3",null),b([$({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],_r.prototype,"orderByClassesEnabled",void 0),b([$({type:String,value:null,json:{write:!0}})],_r.prototype,"valueExpression",null),b([$({type:String,json:{write:!0}})],_r.prototype,"valueExpressionTitle",void 0),b([$({type:Fm,json:{write:!0}})],_r.prototype,"legendOptions",void 0),b([$({type:String,json:{write:!0}})],_r.prototype,"defaultLabel",void 0),b([$(cL({...B7},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],_r.prototype,"defaultSymbol",null),b([$({type:String,value:null,json:{write:!0}})],_r.prototype,"fieldDelimiter",null),b([$({type:kn,readOnly:!0})],_r.prototype,"portal",void 0),b([qe("portal",["styleName"])],_r.prototype,"readPortal",null),b([$({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],_r.prototype,"styleOrigin",void 0),b([qe("styleOrigin",["styleName","styleUrl"])],_r.prototype,"readStyleOrigin",null),b([Ze("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],_r.prototype,"writeStyleOrigin",null),b([$({type:[Zj],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||Oze(t)).map(r=>Zj.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],_r.prototype,"uniqueValueGroups",null),b([$({type:[ew],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],_r.prototype,"uniqueValueInfos",null),_r=a2=b([ne(Rce)],_r);const SF=_r,q7={key:"type",base:Oh,typeMap:{heatmap:jce,simple:Jg,"unique-value":SF,"class-breaks":ice,"dot-density":dze,dictionary:cze,"pie-chart":mze},errorContext:"renderer"},Rze={key:"type",base:Oh,typeMap:{simple:Jg,"unique-value":SF,"class-breaks":ice,heatmap:jce},errorContext:"renderer",validate:Lze};function Lze(e){switch(e.type){case"simple":return Nze(e);case"unique-value":return Fze(e);case"class-breaks":return Dze(e);case"heatmap":return e}}function Nze(e){if(e.symbol)return e;Le.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function Fze(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:r,label:n},o)=>(r||Le.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${o}] ${n}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function Dze(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:r,label:n},o)=>(r||Le.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${o}] ${n}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function P5t(e,t){return r3(e,null,t)}const zze=jg({types:q7});function r3(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new sl("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):zze(e,t,i):null}let Vze=class Lce{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(vI),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new Lce,r=this._originStores[ri.DEFAULTS];r&&r.forEach((n,o)=>{i.set(o,be(n),ri.DEFAULTS)});for(let n=ri.SERVICE;n<vI;n++){const o=this._originStores[n];o&&o.forEach((c,f)=>{t&&t.has(f)||i.set(f,be(c),n)})}return i}get(t,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,r=ri.USER){let n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const o=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),o!==i}return!1}delete(t,i=ri.USER){const r=this._originStores[i];if(!r)return;const n=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let o=i-1;o>=0;o--){const c=this._originStores[o];if(c&&c.has(t)){this._values.set(t,c.get(t)),this._propertyOriginMap.set(t,o);break}}}return n}has(t,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const r=this._originStores[i],n=r==null?void 0:r.get(t),o=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,i),o!==n}originOf(t){return this._propertyOriginMap.get(t)||ri.DEFAULTS}forEach(t){this._values.forEach(t)}};const Nce=e=>{let t=class extends e{constructor(...i){super(...i);const r=js(this),n=r.store,o=new Vze;r.store=o,Sie(r,n,o)}read(i,r){Mie(this,i,r)}getAtOrigin(i,r){const n=tk(this),o=Wd(r);if(typeof i=="string")return n.get(i,o);const c={};return i.forEach(f=>{c[f]=n.get(f,o)}),c}originOf(i){return e4(this.originIdOf(i))}originIdOf(i){return tk(this).originOf(i)}revert(i,r){const n=tk(this),o=Wd(r),c=js(this);let f;f=typeof i=="string"?i==="*"?n.keys(o):[i]:i,f.forEach(g=>{c.invalidate(g),n.revert(g,o),c.commit(g)})}};return t=b([ne("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function tk(e){return js(e).store}let lH=class extends Nce(vt){};lH=b([ne("esri.core.ReadOnlyMultiOriginJSONSupport")],lH);const Bze=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,r="user"){return ik(this).delete(i,Wd(r))}write(i,r){return Cie(this,i=i||{},r),i}setAtOrigin(i,r,n){js(this).setAtOrigin(i,r,Wd(n))}removeOrigin(i){const r=ik(this),n=Wd(i),o=r.keys(n);for(const c of o)r.originOf(c)===n&&r.set(c,r.get(c,n),ri.USER)}updateOrigin(i,r){const n=ik(this),o=Wd(r),c=Ys(this,i);for(let f=o+1;f<vI;++f)n.delete(i,f);n.set(i,c,o)}toJSON(i){return this.write({},i)}};return t=b([ne("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function ik(e){return js(e).store}const W7=e=>{let t=class extends Bze(Nce(e)){constructor(...i){super(...i)}};return t=b([ne("esri.core.MultiOriginJSONSupport")],t),t};let Qj=class extends W7(vt){};Qj=b([ne("esri.core.MultiOriginJSONSupport")],Qj);const Vn=(e=>e)(["operational-layers","basemap","ground"]);var eP;let qf=eP=class extends Ne{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new eP({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([$({type:String,json:{write:!0}})],qf.prototype,"expression",void 0),b([$({type:String,json:{write:!0}})],qf.prototype,"name",void 0),b([$({type:["boolean","date","number","string"],json:{write:!0}})],qf.prototype,"returnType",void 0),b([$({type:String,json:{write:!0}})],qf.prototype,"title",void 0),qf=eP=b([ne("esri.form.ExpressionInfo")],qf);const Uze=qf;let Wf=class extends Ne{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};b([$({type:String,json:{write:!0}})],Wf.prototype,"description",void 0),b([$({type:String,json:{write:!0}})],Wf.prototype,"label",void 0),b([$()],Wf.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],Wf.prototype,"visibilityExpression",void 0),Wf=b([ne("esri.form.elements.Element")],Wf);const r1=Wf;var tP;let s9=tP=class extends Ne{constructor(e){super(e),this.type=null}clone(){return new tP({type:this.type})}};b([$({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],s9.prototype,"type",void 0),s9=tP=b([ne("esri.form.elements.inputs.AttachmentInput")],s9);const Gze=s9;var iP;let Hf=iP=class extends r1{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new iP({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};b([$({type:String,json:{write:!0}})],Hf.prototype,"attachmentKeyword",void 0),b([$({type:String,json:{write:!0}})],Hf.prototype,"editableExpression",void 0),b([$({type:Gze,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Hf.prototype,"input",void 0),b([$({type:["attachment"],json:{read:!1,write:!0}})],Hf.prototype,"type",void 0),Hf=iP=b([ne("esri.form.elements.AttachmentElement")],Hf);const uH=Hf;let o9=class extends Ne{constructor(t){super(t),this.type=null}};b([$()],o9.prototype,"type",void 0),o9=b([ne("esri.form.elements.inputs.Input")],o9);const Rh=o9;let l2=class extends Rh{constructor(t){super(t),this.maxLength=null,this.minLength=0}};b([$({type:Number,json:{write:!0}})],l2.prototype,"maxLength",void 0),b([$({type:Number,json:{write:!0}})],l2.prototype,"minLength",void 0),l2=b([ne("esri.form.elements.inputs.TextInput")],l2);const $F=l2;var rP;let a9=rP=class extends $F{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new rP({maxLength:this.maxLength,minLength:this.minLength})}};b([$({type:["barcode-scanner"],json:{read:!1,write:!0}})],a9.prototype,"type",void 0),a9=rP=b([ne("esri.form.elements.inputs.BarcodeScannerInput")],a9);const qze=a9;var nP;let jy=nP=class extends Rh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new nP({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};b([$({type:String,json:{write:!0}})],jy.prototype,"noValueOptionLabel",void 0),b([$({type:Boolean,json:{write:!0}})],jy.prototype,"showNoValueOption",void 0),b([$({type:["combo-box"],json:{read:!1,write:!0}})],jy.prototype,"type",void 0),jy=nP=b([ne("esri.form.elements.inputs.ComboBoxInput")],jy);const Wze=jy;var sP;function cH(e){return e??null}function hH(e){return e??null}let Tu=sP=class extends Rh{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return cH(t.max)}writeMax(e,t){t.max=hH(e)}readMin(e,t){return cH(t.min)}writeMin(e,t){t.min=hH(e)}clone(){return new sP({max:this.max,min:this.min})}};b([$({type:String,json:{type:String,write:!0}})],Tu.prototype,"max",void 0),b([qe("max")],Tu.prototype,"readMax",null),b([Ze("max")],Tu.prototype,"writeMax",null),b([$({type:String,json:{type:String,write:!0}})],Tu.prototype,"min",void 0),b([qe("min")],Tu.prototype,"readMin",null),b([Ze("min")],Tu.prototype,"writeMin",null),b([$({type:["date-picker"],json:{read:!1,write:!0}})],Tu.prototype,"type",void 0),Tu=sP=b([ne("esri.form.elements.inputs.DatePickerInput")],Tu);const Hze=Tu;var oP;function rk(e){return e??null}function nk(e){return e??null}let po=oP=class extends Rh{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return rk(t.max)}writeMax(e,t){t.max=nk(e)}readMin(e,t){return rk(t.min)}writeMin(e,t){t.min=nk(e)}readTimeResolution(e,t){return rk(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=nk(e)}clone(){return new oP({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};b([$({type:Boolean,json:{write:!0}})],po.prototype,"includeTimeOffset",void 0),b([$({type:String,json:{type:String,write:!0}})],po.prototype,"max",void 0),b([qe("max")],po.prototype,"readMax",null),b([Ze("max")],po.prototype,"writeMax",null),b([$({type:String,json:{type:String,write:!0}})],po.prototype,"min",void 0),b([qe("min")],po.prototype,"readMin",null),b([Ze("min")],po.prototype,"writeMin",null),b([$({type:String,json:{type:String,write:!0}})],po.prototype,"timeResolution",void 0),b([qe("timeResolution")],po.prototype,"readTimeResolution",null),b([Ze("timeResolution")],po.prototype,"writeTimeResolution",null),b([$({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],po.prototype,"type",void 0),po=oP=b([ne("esri.form.elements.inputs.DateTimeOffsetPickerInput")],po);const Jze=po;var aP;function dH(e){return e!=null?new Date(e):null}function pH(e){return e?e.getTime():null}let Ol=aP=class extends Rh{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return dH(t.max)}writeMax(e,t){t.max=pH(e)}readMin(e,t){return dH(t.min)}writeMin(e,t){t.min=pH(e)}clone(){return new aP({includeTime:this.includeTime,max:this.max,min:this.min})}};b([$({type:Boolean,json:{write:!0}})],Ol.prototype,"includeTime",void 0),b([$({type:Date,json:{type:Number,write:!0}})],Ol.prototype,"max",void 0),b([qe("max")],Ol.prototype,"readMax",null),b([Ze("max")],Ol.prototype,"writeMax",null),b([$({type:Date,json:{type:Number,write:!0}})],Ol.prototype,"min",void 0),b([qe("min")],Ol.prototype,"readMin",null),b([Ze("min")],Ol.prototype,"writeMin",null),b([$({type:["datetime-picker"],json:{read:!1,write:!0}})],Ol.prototype,"type",void 0),Ol=aP=b([ne("esri.form.elements.inputs.DateTimePickerInput")],Ol);const Kze=Ol;var lP;let Py=lP=class extends Rh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new lP({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};b([$({type:String,json:{write:!0}})],Py.prototype,"noValueOptionLabel",void 0),b([$({type:Boolean,json:{write:!0}})],Py.prototype,"showNoValueOption",void 0),b([$({type:["radio-buttons"],json:{read:!1,write:!0}})],Py.prototype,"type",void 0),Py=lP=b([ne("esri.form.elements.inputs.RadioButtonsInput")],Py);const Yze=Py;var uP;let Oy=uP=class extends Rh{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new uP({offValue:this.offValue,onValue:this.onValue})}};b([$({type:[String,Number],json:{write:!0}})],Oy.prototype,"offValue",void 0),b([$({type:[String,Number],json:{write:!0}})],Oy.prototype,"onValue",void 0),b([$({type:["switch"],json:{read:!1,write:!0}})],Oy.prototype,"type",void 0),Oy=uP=b([ne("esri.form.elements.inputs.SwitchInput")],Oy);const Zze=Oy;var cP;let l9=cP=class extends $F{constructor(e){super(e),this.type="text-area"}clone(){return new cP({maxLength:this.maxLength,minLength:this.minLength})}};b([$({type:["text-area"],json:{read:!1,write:!0}})],l9.prototype,"type",void 0),l9=cP=b([ne("esri.form.elements.inputs.TextAreaInput")],l9);const Xze=l9;var hP;let u9=hP=class extends $F{constructor(e){super(e),this.type="text-box"}clone(){return new hP({maxLength:this.maxLength,minLength:this.minLength})}};b([$({type:["text-box"],json:{read:!1,write:!0}})],u9.prototype,"type",void 0),u9=hP=b([ne("esri.form.elements.inputs.TextBoxInput")],u9);const Qze=u9;var dP;function sk(e){return e??null}function ok(e){return e??null}let Uo=dP=class extends Rh{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return sk(t.max)}writeMax(e,t){t.max=ok(e)}readMin(e,t){return sk(t.min)}writeMin(e,t){t.min=ok(e)}readTimeResolution(e,t){return sk(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=ok(e)}clone(){return new dP({max:this.max,min:this.min,timeResolution:this.timeResolution})}};b([$({type:String,json:{type:String,write:!0}})],Uo.prototype,"max",void 0),b([qe("max")],Uo.prototype,"readMax",null),b([Ze("max")],Uo.prototype,"writeMax",null),b([$({type:String,json:{type:String,write:!0}})],Uo.prototype,"min",void 0),b([qe("min")],Uo.prototype,"readMin",null),b([Ze("min")],Uo.prototype,"writeMin",null),b([$({type:String,json:{type:String,write:!0}})],Uo.prototype,"timeResolution",void 0),b([qe("timeResolution")],Uo.prototype,"readTimeResolution",null),b([Ze("timeResolution")],Uo.prototype,"writeTimeResolution",null),b([$({type:["time-picker"],json:{read:!1,write:!0}})],Uo.prototype,"type",void 0),Uo=dP=b([ne("esri.form.elements.inputs.TimePickerInput")],Uo);const eVe=Uo,tVe={base:Rh,key:"type",typeMap:{"barcode-scanner":qze,"combo-box":Wze,"date-picker":Hze,"datetime-picker":Kze,"datetimeoffset-picker":Jze,"radio-buttons":Yze,switch:Zze,"text-area":Xze,"text-box":Qze,"time-picker":eVe}};var pP;let $a=pP=class extends r1{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new pP({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};b([$({types:kae,json:{read:{reader:A7},write:!0}})],$a.prototype,"domain",void 0),b([$({type:Boolean,json:{write:!0}})],$a.prototype,"editable",null),b([$({type:String,json:{write:!0}})],$a.prototype,"editableExpression",void 0),b([$({type:String,json:{write:!0}})],$a.prototype,"fieldName",void 0),b([$({type:String,json:{write:!0}})],$a.prototype,"hint",void 0),b([$({types:tVe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$a.prototype,"input",void 0),b([$({type:String,json:{write:!0}})],$a.prototype,"requiredExpression",void 0),b([$({type:String,json:{read:!1,write:!0}})],$a.prototype,"type",void 0),b([$({type:String,json:{write:!0}})],$a.prototype,"valueExpression",void 0),$a=pP=b([ne("esri.form.elements.FieldElement")],$a);const fH=$a;var fP;let zc=fP=class extends r1{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new fP({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:be(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};b([$({type:Number,json:{write:!0}})],zc.prototype,"displayCount",void 0),b([$({type:["list"],json:{write:!0}})],zc.prototype,"displayType",void 0),b([$({type:String,json:{write:!0}})],zc.prototype,"editableExpression",void 0),b([$({type:[AN],json:{write:!0}})],zc.prototype,"orderByFields",void 0),b([$({type:Number,json:{write:!0}})],zc.prototype,"relationshipId",void 0),b([$({type:["relationship"],json:{read:!1,write:!0}})],zc.prototype,"type",void 0),zc=fP=b([ne("esri.form.elements.RelationshipElement")],zc);const yH=zc;var yP;let Ry=yP=class extends r1{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new yP({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};b([$({type:String,json:{write:!0}})],Ry.prototype,"text",void 0),b([$({type:String,json:{write:!0}})],Ry.prototype,"textFormat",void 0),b([$({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Ry.prototype,"type",void 0),Ry=yP=b([ne("esri.form.elements.TextElement")],Ry);const mH=Ry;function Fce(e){return{typesWithGroup:{base:r1,key:"type",typeMap:{attachment:uH,field:fH,group:e,relationship:yH,text:mH}},typesWithoutGroup:{base:r1,key:"type",typeMap:{attachment:uH,field:fH,relationship:yH,text:mH}}}}function Dce(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>r[n.type]).map(n=>r[n.type].fromJSON(n))}function zce(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>r[n.type]).map(n=>n.toJSON())}function Vce(e,t,i=!0){return e?e.map(r=>Qu(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var mP;let Ou=mP=class extends r1{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return Vce(e,ak,!1)}readElements(e,t){return Dce(t.formElements,ak,!1)}writeElements(e,t){t.formElements=zce(e,ak,!1)}clone(){return new mP({description:this.description,elements:be(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};b([$({json:{write:!0}})],Ou.prototype,"elements",void 0),b([$i("elements")],Ou.prototype,"castElements",null),b([qe("elements",["formElements"])],Ou.prototype,"readElements",null),b([Ze("elements")],Ou.prototype,"writeElements",null),b([$({type:["collapsed","expanded"],json:{write:!0}})],Ou.prototype,"initialState",void 0),b([$({type:String,json:{read:!1,write:!0}})],Ou.prototype,"type",void 0),Ou=mP=b([ne("esri.form.elements.GroupElement")],Ou);const ak=Fce(Ou),iVe=Ou,rVe=e=>e.type==="field",nVe=e=>e.type==="group",sVe=e=>e.type==="text";var gP;const lk=Fce(iVe);let Rl=gP=class extends Ne{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return Vce(e,lk)}readElements(e,t){return Dce(t.formElements,lk)}writeElements(e,t){t.formElements=zce(e,lk)}clone(){return new gP({description:this.description,expressionInfos:be(this.expressionInfos),elements:be(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const i=new Set,{description:r,elements:n,expressionInfos:o,title:c}=this;if(tw(i,e,r),tw(i,e,c),!n)return[];const f=oVe(n,o).map(g=>Ps(i,e,g));await Promise.all(f);for(const g of n)Bce(i,{fieldsIndex:e,relationships:t},g);return Array.from(i).sort()}};function Bce(e,t,i){var n;const{fieldsIndex:r}=t;if(!r||r.fields.length!==e.size)switch(tw(e,r,i.label),tw(e,r,i.description),i.type){case"field":to(e,r,i.fieldName);break;case"group":i.elements.forEach(o=>Bce(e,t,o));break;case"relationship":if(t.relationships){const o=t.relationships.find(c=>c.id===i.relationshipId);o&&to(e,r,o.keyField)}t1(e,r,(n=i.orderByFields)==null?void 0:n.map(o=>o.field));break;case"text":tw(e,r,i.text)}}function oVe(e,t){if(!t||t.length===0)return[];const i=Uce(e),r=[];for(const n of t)i.has(n.name)&&r.push(n.expression);return r}function Uce(e){const t=new Set;for(const i of e)if(FB(t,i.visibilityExpression),!sVe(i)){if(nVe(i))o4(t,Uce(i.elements));else if(FB(t,i.editableExpression),rVe(i)){const{requiredExpression:r,valueExpression:n}=i;o4(t,[r,n])}}return t}function tw(e,t,i){t1(e,t,Noe(i))}b([$({type:String,json:{write:!0}})],Rl.prototype,"description",void 0),b([$({json:{write:!0}})],Rl.prototype,"elements",void 0),b([$i("elements")],Rl.prototype,"castElements",null),b([qe("elements",["formElements"])],Rl.prototype,"readElements",null),b([Ze("elements")],Rl.prototype,"writeElements",null),b([$({type:[Uze],json:{write:!0}})],Rl.prototype,"expressionInfos",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],Rl.prototype,"preserveFieldValuesWhenHidden",void 0),b([$({type:String,json:{write:!0}})],Rl.prototype,"title",void 0),Rl=gP=b([ne("esri.form.FormTemplate")],Rl);const aVe=Rl;function gH(e,t,i){if(e.hasM==null||e.hasZ)for(const r of t)for(const n of r)n.length>2&&(n[2]*=i)}function lVe(e,t,i){if(!e&&!t||!i)return;const r=k4(i);vH(e,i,r),vH(t,i,r)}function vH(e,t,i){if(e)for(const r of e)uVe(r.geometry,t,i)}function uVe(e,t,i){if(!(e!=null&&e.spatialReference)||tn(e.spatialReference,t))return;const r=k4(e.spatialReference)/i;if(r!==1){if("x"in e)e.z!=null&&(e.z*=r);else if("rings"in e)gH(e,e.rings,r);else if("paths"in e)gH(e,e.paths,r);else if("points"in e&&(e.hasM==null||e.hasZ))for(const n of e.points)n.length>2&&(n[2]*=r)}}function bH(e,t,i){if(!(i!=null&&i.features)||!i.hasZ)return;const r=tse(i.geometryType,t,e.outSpatialReference);if(r!=null)for(const n of i.features)r(n.geometry)}var vP;const bP=new oi({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Pn=vP=class extends Ne{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var n;const i=At.fromJSON(t.spatialReference),r=[];for(let o=0;o<e.length;o++){const c=e[o],f=la.fromJSON(c),g=(n=c.geometry)==null?void 0:n.spatialReference;f.geometry==null||g||(f.geometry.spatialReference=i);const v=c.aggregateGeometries,_=f.aggregateGeometries;if(v&&_!=null)for(const M in _){const T=_[M],E=v[M],j=E==null?void 0:E.spatialReference;T==null||j||(T.spatialReference=i)}r.push(f)}return r}writeGeometryType(e,t,i,r){if(e)return void bP.write(e,t,i,r);const{features:n}=this;if(n){for(const o of n)if((o==null?void 0:o.geometry)!=null)return void bP.write(o.geometry.type,t,i,r)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=_p(e);return r&&!i&&t.spatialReference&&(r.spatialReference=At.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new vP(this.cloneProperties())}cloneProperties(){return be({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const n=e==null?void 0:e[i];r.geometry=(n==null?void 0:n.toJSON())||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,n]}=e,o=v=>Math.round((v-r)/t),c=v=>Math.round((n-v)/i),f=this.features,g=this._getQuantizationFunction(this.geometryType,o,c);for(let v=0,_=f.length;v<_;v++)g!=null&&g(f[v].geometry)||(f.splice(v,1),v--,_--);return this.transform=e,this}unquantize(){var T,E;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,n],scale:[o,c]}=i,f=j=>j*o+r,g=j=>n-j*c;let v=null,_=null;if(this.hasZ&&((T=i==null?void 0:i.scale)==null?void 0:T[2])!=null){const{translate:[,,j],scale:[,,R]}=i;v=N=>N*R+j}if(this.hasM&&((E=i==null?void 0:i.scale)==null?void 0:E[3])!=null){const{translate:[,,,j],scale:[,,,R]}=i;_=N=>N==null?N:N*R+j}const M=this._getHydrationFunction(e,f,g,v,_);for(const{geometry:j}of t)j!=null&&M&&M(j);return this.transform=null,this}_quantizePoints(e,t,i){let r,n;const o=[];for(let c=0,f=e.length;c<f;c++){const g=e[c];if(c>0){const v=t(g[0]),_=i(g[1]);v===r&&_===n||(o.push([v-r,_-n]),r=v,n=_)}else r=t(g[0]),n=i(g[1]),o.push([r,n])}return o.length>0?o:null}_getQuantizationFunction(e,t,i){return e==="point"?r=>(r.x=t(r.x),r.y=i(r.y),r):e==="polyline"||e==="polygon"?r=>{const n=Mm(r)?r.rings:r.paths,o=[];for(let c=0,f=n.length;c<f;c++){const g=n[c],v=this._quantizePoints(g,t,i);v&&o.push(v)}return o.length>0?(Mm(r)?r.rings=o:r.paths=o,r):null}:e==="multipoint"?r=>{const n=this._quantizePoints(r.points,t,i);return n&&n.length>0?(r.points=n,r):null}:e==="extent"?r=>r:null}_getHydrationFunction(e,t,i,r,n){return e==="point"?o=>{o.x=t(o.x),o.y=i(o.y),r&&(o.z=r(o.z))}:e==="polyline"||e==="polygon"?o=>{const c=Mm(o)?o.rings:o.paths;let f,g;for(let v=0,_=c.length;v<_;v++){const M=c[v];for(let T=0,E=M.length;T<E;T++){const j=M[T];T>0?(f+=j[0],g+=j[1]):(f=j[0],g=j[1]),j[0]=t(f),j[1]=i(g)}}if(r&&n)for(let v=0,_=c.length;v<_;v++){const M=c[v];for(let T=0,E=M.length;T<E;T++){const j=M[T];j[2]=r(j[2]),j[3]=n(j[3])}}else if(r)for(let v=0,_=c.length;v<_;v++){const M=c[v];for(let T=0,E=M.length;T<E;T++){const j=M[T];j[2]=r(j[2])}}else if(n)for(let v=0,_=c.length;v<_;v++){const M=c[v];for(let T=0,E=M.length;T<E;T++){const j=M[T];j[2]=n(j[2])}}}:e==="extent"?o=>{o.xmin=t(o.xmin),o.ymin=i(o.ymin),o.xmax=t(o.xmax),o.ymax=i(o.ymax),r&&o.zmax!=null&&o.zmin!=null&&(o.zmax=r(o.zmax),o.zmin=r(o.zmin)),n&&o.mmax!=null&&o.mmin!=null&&(o.mmax=n(o.mmax),o.mmin=n(o.mmin))}:e==="multipoint"?o=>{const c=o.points;let f,g;for(let v=0,_=c.length;v<_;v++){const M=c[v];v>0?(f+=M[0],g+=M[1]):(f=M[0],g=M[1]),M[0]=t(f),M[1]=i(g)}if(r&&n)for(let v=0,_=c.length;v<_;v++){const M=c[v];M[2]=r(M[2]),M[3]=n(M[3])}else if(r)for(let v=0,_=c.length;v<_;v++){const M=c[v];M[2]=r(M[2])}else if(n)for(let v=0,_=c.length;v<_;v++){const M=c[v];M[2]=n(M[2])}}:null}};b([$({type:String,json:{write:!0}})],Pn.prototype,"displayFieldName",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Pn.prototype,"exceededTransferLimit",void 0),b([$({type:[la],json:{write:!0}})],Pn.prototype,"features",void 0),b([qe("features")],Pn.prototype,"readFeatures",null),b([$({type:[BN],json:{write:!0}})],Pn.prototype,"fields",void 0),b([$({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:bP.read}}})],Pn.prototype,"geometryType",void 0),b([Ze("geometryType")],Pn.prototype,"writeGeometryType",null),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Pn.prototype,"hasM",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Pn.prototype,"hasZ",void 0),b([$({types:v1,json:{write:!0}})],Pn.prototype,"queryGeometry",void 0),b([qe("queryGeometry")],Pn.prototype,"readQueryGeometry",null),b([$({type:At,json:{write:!0}})],Pn.prototype,"spatialReference",void 0),b([Ze("spatialReference")],Pn.prototype,"writeSpatialReference",null),b([$({json:{write:!0}})],Pn.prototype,"transform",void 0),Pn=vP=b([ne("esri.rest.support.FeatureSet")],Pn),Pn.prototype.toJSON.isDefaultToJSON=!0;const Gce=Pn;let cVe=0,Qc=class extends al.LoadableMixin(ix(st)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var i;const t=(i=this.layer)==null?void 0:i.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,i={}){await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);bH(t,this.layer.spatialReference,r);const n=Gce.fromJSON(r);if(!this._requiresClientGraphicMapping())return n;const o=this.layer.objectIdField;for(const c of n.features){const f=c.attributes[o],g=this._idToClientGraphic.get(f);g&&(c.geometry=g.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(t,i={}){if(this._requiresClientGraphicMapping())throw new we("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const r=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);return bH(t,this.layer.spatialReference,r),r}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(r=>({count:r.count,extent:ci.fromJSON(r.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async _applyEdits(t){if(!this._connection)throw new we("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let r=null;const n=[],o=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const c=_=>"objectId"in _&&_.objectId!=null?_.objectId:"attributes"in _&&_.attributes[i]!=null?_.attributes[i]:null;if(t.addFeatures&&(r=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const _ of t.deleteFeatures){const M=c(_);M!=null&&n.push(M)}const f=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const _ of t.updateFeatures)if(o.push(this._serializeFeature(_)),f){const M=c(_);M!=null&&f.set(M,_)}}lVe(r?r.features:null,o,this.layer.spatialReference);const{fullExtent:g,featureEditResults:v}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:o,deletes:n});return this.fullExtent=g,r&&r.finish(v.uidToObjectId),this._updateClientGraphicIds(f,v),this._createEditsResult(v)}async _prepareClientMapping(t,i){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const r=[];for(const{geometry:n}of t)n==null||n.type!=="mesh"||n.hasExtent||n.loaded||r.push(n.load({signal:i}));r.length&&await Promise.all(r)}_updateClientGraphicIds(t,i){if(this._idToClientGraphic){if(t)for(const r of i.updateResults){if(!r.success)continue;const n=t.get(r.objectId);n!=null&&this._addIdToClientGraphic(n)}for(const r of i.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new we("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(t){const i=new Map,r=new Array(t.length);let n=null;for(let c=0;c<t.length;c++){const f=t[c],g=this._serializeFeature(f);n||f.geometry==null||(n=f.geometry.type),r[c]=g,i.set(`${g.uid}`,f)}const o=this;return{features:r,inferredGeometryType:n,finish(c){const f=o.sourceJSON.objectIdField;for(const g in c){const v=c[g],_=i.get(g);_&&(_.attributes||(_.attributes={}),v===-1?delete _.attributes[f]:_.attributes[f]=v,o._addIdToClientGraphic(_))}}}}_addIdToClientGraphic(t){var n;if(!this._idToClientGraphic)return;const i=this.sourceJSON.objectIdField,r=(n=t.attributes)==null?void 0:n[i];r!=null&&this._idToClientGraphic.set(r,t)}get _layerOrSourceGeometryType(){var t,i;return((t=this.layer)==null?void 0:t.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:i}=t,r=this._geometryForSerialization(t),n=(cVe++).toString();return r?{uid:n,geometry:r.toJSON(),attributes:i}:{uid:n,attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?sa.fromExtent(i.extent):null:i}async _startWorker(t){this._connection=await F7e("MemorySourceWorker",{strategy:ke("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:r,objectIdField:n,hasM:o,hasZ:c,timeInfo:f,dateFieldsTimeZone:g}=this.layer,v=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const _=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",j=>{Le.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),j.preventDefault()}));const M={features:_.features,fields:i==null?void 0:i.map(j=>j.toJSON()),geometryType:wU.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&o,hasZ:this._layerOrSourceGeometryType==="mesh"||c,objectIdField:n,spatialReference:v?null:r&&r.toJSON(),timeInfo:(f==null?void 0:f.toJSON())??null,dateFieldsTimeZone:g},T=await this._connection.invoke("load",M,{signal:t});for(const j of T.warnings)Le.getLogger(this.layer).warn("#load()",`${j.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:j});T.featureErrors.length&&Le.getLogger(this.layer).warn("#load()",`Encountered ${T.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:T.featureErrors});const E=T.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(_.inferredGeometryType)&&(E.geometryType=wU.toJSON(_.inferredGeometryType)),this.sourceJSON=E,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),_.finish(T.assignedObjectIds)}};b([WL({Type:la,ensureType:vr(la)})],Qc.prototype,"itemType",void 0),b([$()],Qc.prototype,"type",void 0),b([$({constructOnly:!0})],Qc.prototype,"layer",void 0),b([$({readOnly:!0})],Qc.prototype,"_workerGeometryType",null),b([$()],Qc.prototype,"sourceJSON",void 0),Qc=b([ne("esri.layers.graphics.sources.MemorySource")],Qc);function hVe(e){return"portalItem"in e}const dVe=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):hVe(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return b([$({type:String})],t.prototype,"apiKey",null),t=b([ne("esri.layers.mixins.APIKeyMixin")],t),t},pVe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=Gg(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",oAe(i,Le.getLogger(this)))}};return b([$()],t.prototype,"title",null),b([$({type:String})],t.prototype,"url",null),t=b([ne("esri.layers.mixins.ArcGISService")],t),t};var wH,xH,qce={exports:{}};xH=function(){function e(n,o){function c(){this.constructor=n}c.prototype=o.prototype,n.prototype=new c}function t(n,o,c,f){var g=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(g,t.prototype),g.expected=o,g.found=c,g.location=f,g.name="SyntaxError",g}function i(n,o,c){return c=c||" ",n.length>o?n:(o-=n.length,n+(c+=c.repeat(o)).slice(0,o))}function r(n,o){var c,f={},g=(o=o!==void 0?o:{}).grammarSource,v={start:mi},_=mi,M="none",T=")",E=",",j="(",R="%",N="px",F="cm",V="mm",z="in",G="pt",H="pc",Z="deg",Y="rad",re="grad",q="turn",W="#",ee=".",le="e",ue=/^[ \t\n\r]/,ae=/^[a-z\-]/,pe=/^[0-9a-fA-F]/,ge=/^[+\-]/,ve=/^[0-9]/,ce=Ae("none"),he=Se("none",!1),Ie=Se(")",!1),Be=Se(",",!1),Ke=Ae("whitespace"),wt=xe([" ","	",`
`,"\r"],!1,!1),He=Ae("function"),yt=Se("(",!1),Fe=Ae("identifier"),it=xe([["a","z"],"-"],!1,!1),Ge=Ae("percentage"),Te=Se("%",!1),Ve=Ae("length"),De=Se("px",!1),me=Se("cm",!1),rt=Se("mm",!1),lt=Se("in",!1),zt=Se("pt",!1),xt=Se("pc",!1),bt=Ae("angle"),te=Se("deg",!1),St=Se("rad",!1),fi=Se("grad",!1),ft=Se("turn",!1),Nt=Ae("number"),ht=Ae("color"),ui=Se("#",!1),ei=xe([["0","9"],["a","f"],["A","F"]],!1,!1),$t=xe(["+","-"],!1,!1),_t=xe([["0","9"]],!1,!1),qt=Se(".",!1),Ti=Se("e",!1),Oe=function(){return[]},Yt=function(fe,Pe){return{type:"function",name:fe,parameters:Pe||[]}},d=function(fe,Pe){return Pe.length>0?T1e(fe,Pe,3):[fe]},O=function(fe){return{type:"quantity",value:fe.value,unit:fe.unit}},x=function(fe){return{type:"color",colorType:fe.type,value:fe.value}},h=function(fe){return fe},l=function(){return Me()},s=function(fe){return{value:fe,unit:"%"}},a=function(fe){return{value:fe,unit:"px"}},u=function(fe){return{value:fe,unit:"cm"}},p=function(fe){return{value:fe,unit:"mm"}},y=function(fe){return{value:fe,unit:"in"}},m=function(fe){return{value:fe,unit:"pt"}},w=function(fe){return{value:fe,unit:"pc"}},S=function(fe){return{value:fe,unit:"deg"}},k=function(fe){return{value:fe,unit:"rad"}},I=function(fe){return{value:fe,unit:"grad"}},A=function(fe){return{value:fe,unit:"turn"}},L=function(fe){return{value:fe,unit:null}},D=function(){return{type:"hex",value:Me()}},U=function(fe){return{type:"function",value:fe}},X=function(){return{type:"named",value:Me()}},J=function(){return parseFloat(Me())},B=0,Q=0,oe=[{line:1,column:1}],se=0,ye=[],de=0;if("startRule"in o){if(!(o.startRule in v))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=v[o.startRule]}function Me(){return n.substring(Q,B)}function Se(fe,Pe){return{type:"literal",text:fe,ignoreCase:Pe}}function xe(fe,Pe,Je){return{type:"class",parts:fe,inverted:Pe,ignoreCase:Je}}function ze(){return{type:"end"}}function Ae(fe){return{type:"other",description:fe}}function et(fe){var Pe,Je=oe[fe];if(Je)return Je;for(Pe=fe-1;!oe[Pe];)Pe--;for(Je={line:(Je=oe[Pe]).line,column:Je.column};Pe<fe;)n.charCodeAt(Pe)===10?(Je.line++,Je.column=1):Je.column++,Pe++;return oe[fe]=Je,Je}function ot(fe,Pe,Je){var ni=et(fe),hn=et(Pe);return{source:g,start:{offset:fe,line:ni.line,column:ni.column},end:{offset:Pe,line:hn.line,column:hn.column}}}function Ue(fe){B<se||(B>se&&(se=B,ye=[]),ye.push(fe))}function Mt(fe,Pe,Je){return new t(t.buildMessage(fe,Pe),fe,Pe,Je)}function mi(){var fe;return(fe=gi())===f&&(fe=Ft()),fe}function gi(){var fe,Pe;return de++,fe=B,Tt(),n.substr(B,4)===M?(Pe=M,B+=4):(Pe=f,de===0&&Ue(he)),Pe!==f?(Tt(),Q=fe,fe=Oe()):(B=fe,fe=f),de--,fe===f&&de===0&&Ue(ce),fe}function Ft(){var fe,Pe;if(fe=[],(Pe=Ut())!==f)for(;Pe!==f;)fe.push(Pe),Pe=Ut();else fe=f;return fe}function Ut(){var fe,Pe,Je,ni;return fe=B,Tt(),(Pe=bn())!==f?(Tt(),(Je=We())===f&&(Je=null),Tt(),n.charCodeAt(B)===41?(ni=T,B++):(ni=f,de===0&&Ue(Ie)),ni!==f?(Tt(),Q=fe,fe=Yt(Pe,Je)):(B=fe,fe=f)):(B=fe,fe=f),fe}function We(){var fe,Pe,Je,ni,hn,Dr,da,Px;if(fe=B,(Pe=vi())!==f){for(Je=[],ni=B,hn=Tt(),n.charCodeAt(B)===44?(Dr=E,B++):(Dr=f,de===0&&Ue(Be)),Dr===f&&(Dr=null),da=Tt(),(Px=vi())!==f?ni=hn=[hn,Dr,da,Px]:(B=ni,ni=f);ni!==f;)Je.push(ni),ni=B,hn=Tt(),n.charCodeAt(B)===44?(Dr=E,B++):(Dr=f,de===0&&Ue(Be)),Dr===f&&(Dr=null),da=Tt(),(Px=vi())!==f?ni=hn=[hn,Dr,da,Px]:(B=ni,ni=f);Q=fe,fe=d(Pe,Je)}else B=fe,fe=f;return fe}function vi(){var fe,Pe;return fe=B,(Pe=cn())===f&&(Pe=hi())===f&&(Pe=fc())===f&&(Pe=ao()),Pe!==f&&(Q=fe,Pe=O(Pe)),(fe=Pe)===f&&(fe=B,(Pe=Nh())!==f&&(Q=fe,Pe=x(Pe)),fe=Pe),fe}function Tt(){var fe,Pe;for(de++,fe=[],ue.test(n.charAt(B))?(Pe=n.charAt(B),B++):(Pe=f,de===0&&Ue(wt));Pe!==f;)fe.push(Pe),ue.test(n.charAt(B))?(Pe=n.charAt(B),B++):(Pe=f,de===0&&Ue(wt));return de--,Pe=f,de===0&&Ue(Ke),fe}function bn(){var fe,Pe,Je;return de++,fe=B,(Pe=Zt())!==f?(n.charCodeAt(B)===40?(Je=j,B++):(Je=f,de===0&&Ue(yt)),Je!==f?(Q=fe,fe=h(Pe)):(B=fe,fe=f)):(B=fe,fe=f),de--,fe===f&&(Pe=f,de===0&&Ue(He)),fe}function Zt(){var fe,Pe,Je;if(de++,fe=B,Pe=[],ae.test(n.charAt(B))?(Je=n.charAt(B),B++):(Je=f,de===0&&Ue(it)),Je!==f)for(;Je!==f;)Pe.push(Je),ae.test(n.charAt(B))?(Je=n.charAt(B),B++):(Je=f,de===0&&Ue(it));else Pe=f;return Pe!==f&&(Q=fe,Pe=l()),de--,(fe=Pe)===f&&(Pe=f,de===0&&Ue(Fe)),fe}function cn(){var fe,Pe,Je;return de++,fe=B,Tt(),(Pe=Ir())!==f?(n.charCodeAt(B)===37?(Je=R,B++):(Je=f,de===0&&Ue(Te)),Je!==f?(Q=fe,fe=s(Pe)):(B=fe,fe=f)):(B=fe,fe=f),de--,fe===f&&de===0&&Ue(Ge),fe}function hi(){var fe,Pe,Je;return de++,fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===N?(Je=N,B+=2):(Je=f,de===0&&Ue(De)),Je!==f?(Q=fe,fe=a(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===F?(Je=F,B+=2):(Je=f,de===0&&Ue(me)),Je!==f?(Q=fe,fe=u(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===V?(Je=V,B+=2):(Je=f,de===0&&Ue(rt)),Je!==f?(Q=fe,fe=p(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===z?(Je=z,B+=2):(Je=f,de===0&&Ue(lt)),Je!==f?(Q=fe,fe=y(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===G?(Je=G,B+=2):(Je=f,de===0&&Ue(zt)),Je!==f?(Q=fe,fe=m(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,Tt(),(Pe=Ir())!==f?(n.substr(B,2)===H?(Je=H,B+=2):(Je=f,de===0&&Ue(xt)),Je!==f?(Q=fe,fe=w(Pe)):(B=fe,fe=f)):(B=fe,fe=f)))))),de--,fe===f&&de===0&&Ue(Ve),fe}function fc(){var fe,Pe,Je;return de++,fe=B,(Pe=Ir())!==f?(n.substr(B,3)===Z?(Je=Z,B+=3):(Je=f,de===0&&Ue(te)),Je!==f?(Q=fe,fe=S(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,(Pe=Ir())!==f?(n.substr(B,3)===Y?(Je=Y,B+=3):(Je=f,de===0&&Ue(St)),Je!==f?(Q=fe,fe=k(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,(Pe=Ir())!==f?(n.substr(B,4)===re?(Je=re,B+=4):(Je=f,de===0&&Ue(fi)),Je!==f?(Q=fe,fe=I(Pe)):(B=fe,fe=f)):(B=fe,fe=f),fe===f&&(fe=B,(Pe=Ir())!==f?(n.substr(B,4)===q?(Je=q,B+=4):(Je=f,de===0&&Ue(ft)),Je!==f?(Q=fe,fe=A(Pe)):(B=fe,fe=f)):(B=fe,fe=f)))),de--,fe===f&&(Pe=f,de===0&&Ue(bt)),fe}function ao(){var fe,Pe;return de++,fe=B,Tt(),(Pe=Ir())!==f?(Q=fe,fe=L(Pe)):(B=fe,fe=f),de--,fe===f&&de===0&&Ue(Nt),fe}function Nh(){var fe,Pe,Je,ni;if(de++,fe=B,n.charCodeAt(B)===35?(Pe=W,B++):(Pe=f,de===0&&Ue(ui)),Pe!==f){if(Je=[],pe.test(n.charAt(B))?(ni=n.charAt(B),B++):(ni=f,de===0&&Ue(ei)),ni!==f)for(;ni!==f;)Je.push(ni),pe.test(n.charAt(B))?(ni=n.charAt(B),B++):(ni=f,de===0&&Ue(ei));else Je=f;Je!==f?(Q=fe,fe=D()):(B=fe,fe=f)}else B=fe,fe=f;return fe===f&&(fe=B,(Pe=Ut())!==f&&(Q=fe,Pe=U(Pe)),(fe=Pe)===f&&(fe=B,(Pe=Zt())!==f&&(Q=fe,Pe=X()),fe=Pe)),de--,fe===f&&(Pe=f,de===0&&Ue(ht)),fe}function Ir(){var fe,Pe,Je,ni,hn,Dr,da;for(fe=B,ge.test(n.charAt(B))?(n.charAt(B),B++):de===0&&Ue($t),Pe=B,Je=[],ve.test(n.charAt(B))?(ni=n.charAt(B),B++):(ni=f,de===0&&Ue(_t));ni!==f;)Je.push(ni),ve.test(n.charAt(B))?(ni=n.charAt(B),B++):(ni=f,de===0&&Ue(_t));if(n.charCodeAt(B)===46?(ni=ee,B++):(ni=f,de===0&&Ue(qt)),ni!==f){if(hn=[],ve.test(n.charAt(B))?(Dr=n.charAt(B),B++):(Dr=f,de===0&&Ue(_t)),Dr!==f)for(;Dr!==f;)hn.push(Dr),ve.test(n.charAt(B))?(Dr=n.charAt(B),B++):(Dr=f,de===0&&Ue(_t));else hn=f;hn!==f?Pe=Je=[Je,ni,hn]:(B=Pe,Pe=f)}else B=Pe,Pe=f;if(Pe===f)if(Pe=[],ve.test(n.charAt(B))?(Je=n.charAt(B),B++):(Je=f,de===0&&Ue(_t)),Je!==f)for(;Je!==f;)Pe.push(Je),ve.test(n.charAt(B))?(Je=n.charAt(B),B++):(Je=f,de===0&&Ue(_t));else Pe=f;if(Pe!==f){if(Je=B,n.charCodeAt(B)===101?(ni=le,B++):(ni=f,de===0&&Ue(Ti)),ni!==f){if(ge.test(n.charAt(B))?(hn=n.charAt(B),B++):(hn=f,de===0&&Ue($t)),hn===f&&(hn=null),Dr=[],ve.test(n.charAt(B))?(da=n.charAt(B),B++):(da=f,de===0&&Ue(_t)),da!==f)for(;da!==f;)Dr.push(da),ve.test(n.charAt(B))?(da=n.charAt(B),B++):(da=f,de===0&&Ue(_t));else Dr=f;Dr!==f?Je=ni=[ni,hn,Dr]:(B=Je,Je=f)}else B=Je,Je=f;Je===f&&(Je=null),Q=fe,fe=J()}else B=fe,fe=f;return fe}function hv(fe,Pe){return fe.map(function(Je){return Je[Pe]})}function T1e(fe,Pe,Je){return[fe].concat(hv(Pe,Je))}if((c=_())!==f&&B===n.length)return c;throw c!==f&&B<n.length&&Ue(ze()),Mt(ye,se<n.length?n.charAt(se):null,se<n.length?ot(se,se+1):ot(se,se))}return e(t,Error),t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var c,f=null;for(c=0;c<n.length;c++)if(n[c].source===this.location.source){f=n[c].text.split(/\r\n|\n|\r/g);break}var g=this.location.start,v=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(g):g,_=this.location.source+":"+v.line+":"+v.column;if(f){var M=this.location.end,T=i("",v.line.toString().length," "),E=f[g.line-1],j=(g.line===M.line?M.column:E.length+1)-g.column||1;o+=`
 --> `+_+`
`+T+` |
`+v.line+" | "+E+`
`+T+" | "+i("",g.column-1," ")+i("",j,"^")}else o+=`
 at `+_}return o},t.buildMessage=function(n,o){var c={literal:function(E){return'"'+g(E.text)+'"'},class:function(E){var j=E.parts.map(function(R){return Array.isArray(R)?v(R[0])+"-"+v(R[1]):v(R)});return"["+(E.inverted?"^":"")+j.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};function f(E){return E.charCodeAt(0).toString(16).toUpperCase()}function g(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(j){return"\\x0"+f(j)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(j){return"\\x"+f(j)})}function v(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(j){return"\\x0"+f(j)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(j){return"\\x"+f(j)})}function _(E){return c[E.type](E)}function M(E){var j,R,N=E.map(_);if(N.sort(),N.length>0){for(j=1,R=1;j<N.length;j++)N[j-1]!==N[j]&&(N[R]=N[j],R++);N.length=R}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function T(E){return E?'"'+g(E)+'"':"end of input"}return"Expected "+M(n)+" but "+T(o)+" found."},{SyntaxError:t,parse:r}},(wH=qce).exports&&(wH.exports=xH());var fVe=qce.exports;function Wce(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=_H(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new we("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:_H(i.value)}});t.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!Hke(t[i].effects,t[i+1].effects))throw new we("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});Jke(t[i].effects,t[i+1].effects)}return t.sort((i,r)=>r.scale-i.scale),t}function _H(e){let t;if(!e)return[];try{t=fVe.parse(e)}catch(i){throw new we("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>yVe(i))}function yVe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return mVe(e);case"opacity":return gVe(e);case"hue-rotate":return vVe(e);case"blur":return bVe(e);case"drop-shadow":return wVe(e);case"bloom":return xVe(e)}}catch(t){throw t.details.filter=e,t}throw new we("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function mVe(e){let t=1;return Kg(e.parameters,1),e.parameters.length===1&&(t=Vl(e.parameters[0])),new IE(e.name,t)}function gVe(e){let t=1;return Kg(e.parameters,1),e.parameters.length===1&&(t=Vl(e.parameters[0])),new uoe(t)}function vVe(e){let t=0;return Kg(e.parameters,1),e.parameters.length===1&&(t=kVe(e.parameters[0])),new aoe(t)}function bVe(e){let t=0;return Kg(e.parameters,1),e.parameters.length===1&&(t=kF(e.parameters[0]),gx(t,e.parameters[0])),new ioe(t)}function wVe(e){const t=[];let i=null;for(const r of e.parameters)if(r.type==="color"){if(t.length&&Object.freeze(t),i)throw new we("effect:type-error","Accepts only one color",{});i=CVe(r)}else{const n=kF(r);if(Object.isFrozen(t))throw new we("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(n),t.length===3&&gx(n,r)}if(t.length<2||t.length>3)throw new we("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new soe(t[0],t[1],t[2]||0,i||Hce("black"))}function xVe(e){let t=1,i=0,r=0;return Kg(e.parameters,3),e.parameters[0]&&(t=Vl(e.parameters[0])),e.parameters[1]&&(i=kF(e.parameters[1]),gx(i,e.parameters[1])),e.parameters[2]&&(r=Vl(e.parameters[2])),new eoe(t,i,r)}function Kg(e,t){if(e.length>t)throw new we("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function H7(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in TF)return"<length>";if(e.unit in MF)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function gx(e,t){if(e<0)throw new we("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function _Ve(e){if(e.type!=="quantity"||e.unit!==null)throw new we("effect:type-error",`Expected <double>, Actual: ${H7(e)}`,{term:e})}function SVe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new we("effect:type-error",`Expected <double> or <percentage>, Actual: ${H7(e)}`,{term:e})}const MF={deg:1,grad:.9,rad:180/Math.PI,turn:360};function $Ve(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&MF[e.unit]!=null))throw new we("effect:type-error",`Expected <angle>, Actual: ${H7(e)}`,{term:e})}const TF={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function MVe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&TF[e.unit]!=null))throw new we("effect:type-error",`Expected <length>, Actual: ${H7(e)}`,{term:e})}function Vl(e){SVe(e);const t=e.value;return gx(t,e),e.unit==="%"?.01*t:t}function TVe(e){return _Ve(e),gx(e.value,e),e.value}function kVe(e){return $Ve(e),e.value*MF[e.unit]||0}function kF(e){return MVe(e),e.value*TF[e.unit]||0}function CVe(e){switch(e.colorType){case"hex":return zTe(e.value);case"named":return Hce(e.value);case"function":return AVe(e.value)}}function Hce(e){if(!Wse(e))throw new we("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return DTe(e)}const IVe=/^rgba?/i,EVe=/^hsla?/i;function AVe(e){if(Kg(e.parameters,4),IVe.test(e.name))return[Vl(e.parameters[0]),Vl(e.parameters[1]),Vl(e.parameters[2]),e.parameters[3]?Vl(e.parameters[3]):1];if(EVe.test(e.name))return Hse(TVe(e.parameters[0]),Vl(e.parameters[1]),Vl(e.parameters[2]),e.parameters[3]?Vl(e.parameters[3]):1);throw new we("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function n3(e,t,i){var r;try{return PVe(e)}catch(n){(r=i==null?void 0:i.messages)==null||r.push(n)}return null}function s3(e,t,i,r){try{const n=jVe(e);As(i,n,t)}catch(n){r.messages&&r.messages.push(n)}}function jVe(e){const t=Wce(e);return t?Kke(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:r})=>({scale:i,value:r.map(n=>n.toJSON())})):null}function PVe(e){if(!e||e.length===0)return null;if(OVe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:SH(i.value)});return t}return SH(e)}function OVe(e){const t=e[0];return!!t&&"scale"in t}function SH(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[_c(i,"amount")];break;case"blur":r=[_c(i,"radius","pt")];break;case"hue-rotate":r=[_c(i,"angle","deg")];break;case"drop-shadow":r=[_c(i,"xoffset","pt"),_c(i,"yoffset","pt"),_c(i,"blurRadius","pt"),RVe(i,"color")];break;case"bloom":r=[_c(i,"strength"),_c(i,"radius","pt"),_c(i,"threshold")]}const n=`${i.type}(${r.filter(Boolean).join(" ")})`;Wce(n),t.push(n)}return t.join(" ")}function _c(e,t,i){if(e[t]==null)throw new we("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function RVe(e,t){if(e[t]==null)throw new we("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const LVe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},$H={read:{reader:n3},write:{allowNull:!0,writer:s3}},NVe={json:{read:!1,write:!1,origins:{"web-map":$H,"portal-item":$H}}},J7=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return b([$(LVe)],t.prototype,"blendMode",void 0),b([$(NVe)],t.prototype,"effect",void 0),t=b([ne("esri.layers.mixins.BlendLayer")],t),t},FVe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return b([$({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=b([ne("esri.layers.mixins.CustomParametersMixin")],t),t},DVe=KRe(),Jce=new Map,Kce=new Map;async function z5t(e,t,i){if(!e||!i)return!1;if(!t)return!0;const r=new URL(e).host;let n=Jce.get(r);if(!n){const o=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");n=(await Vi(o,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return n===t}async function V5t(e,t,i=!1){var o,c,f;if(!e||!t)return!0;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=(o=Kce.get(r))==null?void 0:o.entries();if(n){for(const[g,v]of n)if(v.name===t){const _=!((c=v.stack)!=null&&c.hasForwardEdits());if(!_&&i){const[{deleteForwardEdits:M},{default:T}]=await Promise.all([Ce(()=>import("./deleteForwardEdits-Dx9I61Mi.js"),[],import.meta.url),Ce(()=>import("./DeleteForwardEditsParameters-D-CWk2FB.js"),[],import.meta.url)]),E=await M(r,g,new T({sessionId:DVe,moment:v.moment}));return E.success&&((f=v.stack)==null||f.clearForwardEdits()),E.success}return _}}return!0}function zVe(e,t){var n;if(!e)return!1;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=(n=Kce.get(i))==null?void 0:n.entries();if(r){for(const[o,c]of r)if(c.name===t)return c.lockType==="edit"}return!1}const CF=new dl.EventEmitter;function VVe(e){return CF.on("apply-edits",new WeakRef(e))}function BVe(e){return CF.on("update-moment",new WeakRef(e))}function B5t(e,t,i=null,r=!1){const n=na();return r=t==null||r,CF.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:i,mayReceiveServiceEdits:r,result:n.promise}),n}const Yce=Symbol();function U5t(e){return e!=null&&typeof e=="object"&&Yce in e}function Vv(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function uk(e,t,i){const r=new URL(e).host,n=Jce.get(r),o=c=>!c||c===n;return o(t)&&o(i)||t===i}const UVe=e=>{var t;let i=class extends e{constructor(...r){super(...r),this[t]=!0,this._applyEditsHandler=n=>{const{serviceUrl:o,layerId:c,gdbVersion:f,mayReceiveServiceEdits:g,result:v}=n,_=o===this.url,M=c!=null&&this.layerId!=null&&c===this.layerId,T=Vv(this),E=Vv(this)&&uk(o,f,this.gdbVersion);if(!_||T&&!E||!M&&!g)return;const j=v.then(R=>{var V;if(this.lastEditsEventDate=new Date,M&&(R.addedFeatures.length||R.updatedFeatures.length||R.deletedFeatures.length||R.addedAttachments.length||R.updatedAttachments.length||R.deletedAttachments.length))return this.emit("edits",be(R)),R;const N=(V=R.editedFeatures)==null?void 0:V.find(({layerId:z})=>z===this.layerId);if(N){const{adds:z,updates:G,deletes:H}=N.editedFeatures,Z={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:z?z.map(({attributes:Y})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],deletedFeatures:H?H.map(({attributes:Y})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],updatedFeatures:G?G.map(({current:{attributes:Y}})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],editedFeatures:be(R.editedFeatures),exceededTransferLimit:!1,historicMoment:be(R.historicMoment)};return this.emit("edits",Z),Z}const F={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:be(R.editedFeatures),exceededTransferLimit:!1,historicMoment:be(R.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(o,f,F.historicMoment)&&this.emit("edits",F),F}).then(R=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(o,f,R.historicMoment)&&(this.historicMoment=R.historicMoment),R));this.emit("apply-edits",{result:j})},this._updateMomentHandler=n=>{const{serviceUrl:o,gdbVersion:c,moment:f}=n,g=o===this.url,v=Vv(this),_=Vv(this)&&uk(o,c,this.gdbVersion),M=Vv(this)&&!uk(o,this.gdbVersion,null);g&&v&&_&&M&&"historicMoment"in this&&this.historicMoment!==f&&(this.historicMoment=f)},this.when().then(()=>{this.addHandles(VVe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(BVe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(r,n,o){return"historicMoment"in this&&this.historicMoment!==o&&zVe(r,n)}};return t=Yce,b([$()],i.prototype,"lastEditsEventDate",void 0),i=b([ne("esri.layers.mixins.EditBusLayer")],i),i};var wP;const ck=new oi({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),hk=new oi({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ku=wP=class extends Ne{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:n,objectIds:o,units:c,distance:f}=this;return new Th({geometry:be(i),objectIds:be(o),spatialRelationship:r,timeExtent:be(n),where:t,units:c,distance:f,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:n,units:o,distance:c}=this;return new wP({geometry:be(t),objectIds:be(n),spatialRelationship:i,timeExtent:be(r),where:e,units:o,distance:c})}};b([$({type:String,json:{write:!0}})],ku.prototype,"where",void 0),b([$({types:v1,json:{write:!0}})],ku.prototype,"geometry",void 0),b([$({type:ck.apiValues,json:{name:"spatialRel",read:{reader:ck.read},write:{allowNull:!1,writer:ck.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],ku.prototype,"spatialRelationship",void 0),b([$({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ku.prototype,"distance",void 0),b([$({type:[Number],json:{write:!0}})],ku.prototype,"objectIds",void 0),b([$({type:hk.apiValues,json:{read:hk.read,write:{writer:hk.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ku.prototype,"units",void 0),b([$({type:rc,json:{write:!0}})],ku.prototype,"timeExtent",void 0),ku=wP=b([ne("esri.layers.support.FeatureFilter")],ku);const GVe=ku;var xP;const MH={read:{reader:n3},write:{writer:s3,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},TH={read:{reader:n3},write:{writer:s3,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},kH={name:"showExcludedLabels",default:!0};let Jf=xP=class extends Ne{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var r,n;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const o=Object.keys(i.filter);if(o.length>1||o[0]!=="where")return(r=t.messages)==null||r.push(new we("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(n=t.messages)==null||n.push(new we("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new xP({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};b([$({type:GVe,json:{write:{allowNull:!0,writer(e,t,i,r){const n=e==null?void 0:e.write({},r);n&&Object.keys(n).length!==0?As(i,n,t):As(i,null,t)}}}})],Jf.prototype,"filter",void 0),b([$({json:{read:n3,write:{writer:s3,allowNull:!0},origins:{"web-map":MH,"portal-item":MH}}})],Jf.prototype,"includedEffect",void 0),b([$({json:{read:n3,write:{writer:s3,allowNull:!0},origins:{"web-map":TH,"portal-item":TH}}})],Jf.prototype,"excludedEffect",void 0),b([$({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":kH,"portal-item":kH}}})],Jf.prototype,"excludedLabelsVisible",void 0),Jf=xP=b([ne("esri.layers.support.FeatureEffect")],Jf);const qVe=Jf,CH={write:{allowNull:!0}},WVe={type:qVe,json:{origins:{"web-map":CH,"portal-item":CH}}},HVe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return b([$(WVe)],t.prototype,"featureEffect",void 0),t=b([ne("esri.layers.mixins.FeatureEffectLayer")],t),t};var _P;let u2=_P=class extends Ne{constructor(e){super(e)}async collectRequiredFields(e,t){return Ps(e,t,this.expression)}clone(){return new _P({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};b([$({type:String,json:{write:!0}})],u2.prototype,"expression",void 0),b([$({type:String,json:{write:!0}})],u2.prototype,"title",void 0),u2=_P=b([ne("esri.symbols.support.FeatureExpressionInfo")],u2);const IH=u2;function G5t(e){return 1/(pF[e]||1)}function JVe(){const e=Object.keys(pF);return e.sort(),e}const KVe=JVe();var SP;const r5=Rs()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),EH=new oi({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Vc=SP=class extends Ne{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write({},r),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new SP({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&pxe(this.featureExpressionInfo,e.featureExpressionInfo)}};b([$({type:IH,json:{write:!0}})],Vc.prototype,"featureExpressionInfo",void 0),b([qe("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Vc.prototype,"readFeatureExpressionInfo",null),b([Ze("featureExpressionInfo",{featureExpressionInfo:{type:IH},"featureExpression.value":{type:[0]}})],Vc.prototype,"writeFeatureExpressionInfo",null),b([$({type:r5.apiValues,nonNullable:!0,json:{type:r5.jsonValues,read:r5.read,write:{writer:r5.write,isRequired:!0}}})],Vc.prototype,"mode",null),b([$({type:Number,json:{write:!0}})],Vc.prototype,"offset",void 0),b([$({type:KVe,json:{type:String,read:EH.read,write:EH.write}})],Vc.prototype,"unit",null),Vc=SP=b([ne("esri.symbols.support.ElevationInfo")],Vc);const Zce=Vc,YVe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Vn}}},IF={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},EF={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Vn}}},Xce={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Q0}}},Qce={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Vn}}},ZVe={value:null,type:Zce,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Vn}}};function q5t(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const ehe={write:{enabled:!0,layerContainerTypes:Vn},read:!0},$P={type:Number,json:{origins:{"web-document":ehe,"portal-item":{write:!0}}}},XVe={...$P,json:{...$P.json,origins:{"web-document":{...ehe,write:{enabled:!0,layerContainerTypes:Vn,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var r;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(r=t.layerDefinition)!=null&&r.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?qw(t.layerDefinition.drawingInfo.transparency):void 0:qw(t.drawingInfo.transparency)}}}},W5t={type:ci,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=ci.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=At.fromJSON(t.spatialReference)),i}}}},read:!1}},QVe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},eBe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:Vn}}},name:"layerDefinition.minScale",write:!0}},tBe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:Vn}}},name:"layerDefinition.maxScale",write:!0}},the={json:{write:{ignoreOrigin:!0,layerContainerTypes:Vn},origins:{"web-map":{read:!1,write:!1}}}};let Bc=class extends sr(Ne){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};b([$()],Bc.prototype,"creatorField",void 0),b([$()],Bc.prototype,"creationDateField",void 0),b([$()],Bc.prototype,"editorField",void 0),b([$()],Bc.prototype,"editDateField",void 0),b([$()],Bc.prototype,"realm",void 0),b([$(R4("dateFieldsTimeReference",!0))],Bc.prototype,"timeZone",void 0),Bc=b([ne("esri.layers.support.EditFieldsInfo")],Bc);const iBe=Bc;let Ru=class extends sr(Ne){constructor(t){super(t)}};b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"name",void 0),b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"fields",void 0),b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"isAscending",void 0),b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"indexType",void 0),b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"isUnique",void 0),b([$({constructOnly:!0,json:{write:!0}})],Ru.prototype,"description",void 0),Ru=b([ne("esri.layers.support.FeatureIndex")],Ru);async function rBe(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=ihe(e));const r=nBe(e),n=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let o=null;for(;;){const c=await e.source.queryFeaturesJSON(t,i);if(o==null?o=c:o.features=o.features.concat(c.features),o.exceededTransferLimit=c.exceededTransferLimit,!n||!c.exceededTransferLimit)break;t.start+=r}return o}function nBe(e){return ihe(e)*sBe(e)}function sBe(e){return e.capabilities.query.maxRecordCount||2e3}function ihe(e){return e.capabilities.query.supportsMaxRecordCountFactor?Th.MAX_MAX_RECORD_COUNT_FACTOR:1}var MP;let On=MP=class extends Ne{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new MP(be({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};b([$({type:[String],json:{write:!0}})],On.prototype,"attachmentTypes",void 0),b([$({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],On.prototype,"attachmentsWhere",void 0),b([$({type:Boolean,json:{write:!0}})],On.prototype,"cacheHint",void 0),b([$({type:[String],json:{write:!0}})],On.prototype,"keywords",void 0),b([$({type:[Number],json:{write:!0}})],On.prototype,"globalIds",void 0),b([$({json:{write:!0}})],On.prototype,"name",void 0),b([$({type:Number,json:{read:{source:"resultRecordCount"}}})],On.prototype,"num",void 0),b([$({type:[Number],json:{write:!0}})],On.prototype,"objectIds",void 0),b([$({type:Boolean,json:{default:!1,write:!0}})],On.prototype,"returnMetadata",void 0),b([$({type:[Number],json:{write:!0}})],On.prototype,"size",void 0),b([$({type:Number,json:{read:{source:"resultOffset"}}})],On.prototype,"start",void 0),b([Ze("start"),Ze("num")],On.prototype,"writeStart",null),b([$({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],On.prototype,"where",void 0),On=MP=b([ne("esri.rest.support.AttachmentQuery")],On),On.from=vr(On);const oBe=On;var TP;let jr=TP=class extends Ne{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new TP(be({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};b([$({type:Boolean,json:{write:!0}})],jr.prototype,"cacheHint",void 0),b([$({type:zl,json:{write:!0}})],jr.prototype,"dynamicDataSource",void 0),b([$({type:String,json:{write:!0}})],jr.prototype,"gdbVersion",void 0),b([$({type:Number,json:{write:!0}})],jr.prototype,"geometryPrecision",void 0),b([$({type:Date})],jr.prototype,"historicMoment",void 0),b([Ze("historicMoment")],jr.prototype,"_writeHistoricMoment",null),b([$({type:Number,json:{write:!0}})],jr.prototype,"maxAllowableOffset",void 0),b([$({json:{write:!0}})],jr.prototype,"objectIds",void 0),b([$({type:[String],json:{write:!0}})],jr.prototype,"orderByFields",void 0),b([$({type:[String],json:{write:!0}})],jr.prototype,"outFields",void 0),b([$({type:At,json:{read:{source:"outSR"},write:{target:"outSR"}}})],jr.prototype,"outSpatialReference",void 0),b([$({json:{write:!0}})],jr.prototype,"relationshipId",void 0),b([$({type:Number,json:{read:{source:"resultOffset"}}})],jr.prototype,"start",void 0),b([Ze("start"),Ze("num")],jr.prototype,"writeStart",null),b([$({type:Number,json:{read:{source:"resultRecordCount"}}})],jr.prototype,"num",void 0),b([$({json:{write:!0}})],jr.prototype,"returnGeometry",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jr.prototype,"returnM",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jr.prototype,"returnZ",void 0),b([$({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],jr.prototype,"where",void 0),jr=TP=b([ne("esri.rest.support.RelationshipQuery")],jr),jr.from=vr(jr);const AF=jr,K5t=Object.freeze(Object.defineProperty({__proto__:null,default:AF},Symbol.toStringTag,{value:"Module"})),kP=new oi({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function aBe(e,t,i,r){const n=await Wp(e);if(await jF(e,t,r),!n.addAttachment)throw new we(r,"Layer source does not support addAttachment capability");return n.addAttachment(t,i)}function jF(e,t,i){var o,c;const{attributes:r}=t,{objectIdField:n}=e;return(c=(o=e.capabilities)==null?void 0:o.data)!=null&&c.supportsAttachment?t?r?n&&r[n]?Promise.resolve():Promise.reject(new we(i,`feature is missing the identifying attribute ${n}`)):Promise.reject(new we(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new we(i,"A feature is required to add/delete/update attachments")):Promise.reject(new we(i,"this layer doesn't support attachments"))}async function lBe(e,t,i,r,n){const o=await Wp(e);if(await jF(e,t,n),!o.updateAttachment)throw new we(n,"Layer source does not support updateAttachment capability");return o.updateAttachment(t,i,r)}async function uBe(e,t,i){const{applyEdits:r}=await Ce(()=>import("./editingSupport-Jg2kWnYm.js"),__vite__mapDeps([220,221]),import.meta.url),n=await e.load();let o=i;return n.type==="feature"&&n.infoFor3D&&t.deleteFeatures!=null&&n.globalIdField!=null&&(o={...o,globalIdToObjectId:await kBe(n,t.deleteFeatures,n.globalIdField)}),r(n,n.source,t,i)}async function cBe(e,t,i){const{uploadAssets:r}=await Ce(()=>import("./editingSupport-Jg2kWnYm.js"),__vite__mapDeps([220,221]),import.meta.url),n=await e.load();return r(n,n.source,t,i)}async function hBe(e,t,i,r){const n=await Wp(e);if(await jF(e,t,r),!n.deleteAttachments)throw new we(r,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(t,i)}async function dBe(e,t,i){const r=(await e.load({signal:t==null?void 0:t.signal})).source;if(!r.fetchRecomputedExtents)throw new we(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function pBe(e,t,i,r){var E,j;t=oBe.from(t),await e.load();const n=e.source,o=e.capabilities;if(!((E=o==null?void 0:o.data)!=null&&E.supportsAttachment))throw new we(r,"this layer doesn't support attachments");const{attachmentTypes:c,objectIds:f,globalIds:g,num:v,size:_,start:M,where:T}=t;if(!((j=o==null?void 0:o.operations)!=null&&j.supportsQueryAttachments)&&((c==null?void 0:c.length)>0||(g==null?void 0:g.length)>0||(_==null?void 0:_.length)>0||v||M||T))throw new we(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(f!=null&&f.length||g!=null&&g.length||T))throw new we(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!n.queryAttachments)throw new we(r,"Layer source does not support queryAttachments capability",t);return n.queryAttachments(t)}async function fBe(e,t,i,r){const n=await Wp(e);if(!n.queryObjectIds)throw new we(r,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(Th.from(t)??e.createQuery(),i)}async function yBe(e,t,i,r){const n=await Wp(e);if(!n.queryFeatureCount)throw new we(r,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(Th.from(t)??e.createQuery(),i)}async function mBe(e,t,i,r){const n=await Wp(e);if(!n.queryExtent)throw new we(r,"Layer source does not support queryExtent capability");return n.queryExtent(Th.from(t)??e.createQuery(),i)}async function gBe(e,t,i,r){const n=await Wp(e);if(!n.queryRelatedFeatures)throw new we(r,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(AF.from(t),i)}async function vBe(e,t,i,r){const n=await Wp(e);if(!n.queryRelatedFeaturesCount)throw new we(r,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(AF.from(t),i)}async function bBe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await _oe(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function wBe(e){var c,f;const t=new Th,i=(c=e.capabilities)==null?void 0:c.data,r=(f=e.capabilities)==null?void 0:f.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:n,timeExtent:o}=e;return t.timeExtent=n!=null&&o!=null?o.offset(-n.value,n.unit):o||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function rhe(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function nhe(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function xBe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function _Be(e,t){const{subtypes:i,subtypeField:r}=e;if(!t||!(i!=null&&i.length)||!r)return null;const n=t.attributes[r];return n==null?null:i.find(o=>o.code===n)}async function Wp(e){return(await e.load()).source}async function SBe(e,t){if(!ii||ii.findCredential(e))return;let i;try{const r=await qse(e,t);r&&(i=await ii.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=t!=null?t.signal:null;await ii.getCredential(e,{signal:r})}catch{}}async function $Be(e,t,i){var n;const r=(n=e.parsedUrl)==null?void 0:n.path;r&&e.authenticationTriggerEvent===t&&await SBe(r,i)}function MBe(e){return!c9(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const dk=jg({types:xae});function PF(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new SF({defaultSymbol:dk(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:dk(r.symbol,r,t)}))}):new Jg({symbol:dk(e.defaultSymbol,e,t)})}function TBe(e){var r,n,o;let t=(r=e.sourceJSON)==null?void 0:r.cacheMaxAge;if(!t)return!1;const i=(o=(n=e.editingInfo)==null?void 0:n.lastEditDate)==null?void 0:o.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function kBe(e,t,i){if(t==null)return null;const r=[],{objectIdField:n}=e;if(t.forEach(v=>{let _=null;if("attributes"in v){const{attributes:M}=v;_={globalId:M[i],objectId:M[n]!=null&&M[n]!==-1?M[n]:null}}else _={globalId:v.globalId,objectId:v.objectId!=null&&v.objectId!==-1?v.objectId:null};_.globalId!=null&&(_.objectId!=null&&_.objectId!==-1||r.push(_.globalId))}),r.length===0)return null;const o=e.createQuery();o.where=r.map(v=>`${i}='${v}'`).join(" OR "),o.returnGeometry=!1,o.outFields=[n,i],o.cacheHint=!1;const c=await D4e(rBe(e,o));if(!c.ok)return null;const f=new Map,g=c.value.features;for(const v of g){const _=v.attributes[i],M=v.attributes[n];_!=null&&M!=null&&M!==-1&&f.set(_,M)}return f}function CBe(e,t,i){if(!t||!i||!e)return null;const r=i.getAttribute(t);return r==null?null:e.find(n=>{const{id:o}=n;return o!=null&&o.toString()===r.toString()})??null}function c9(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||IBe(e)}function IBe(e){var t,i;return!!((i=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}let Ly=class extends sr(Ne){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};b([$({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Ly.prototype,"shapeAreaField",void 0),b([$({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Ly.prototype,"shapeLengthField",void 0),b([$({type:String,json:{read:e=>j9e.read(e)||P9e.read(e)}})],Ly.prototype,"units",void 0),Ly=b([ne("esri.layers.support.GeometryFieldsInfo")],Ly);const EBe=Ly;var CP;let Ny=CP=class extends Ne{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new st}clone(){return new CP({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};b([$({type:String,json:{write:!0}})],Ny.prototype,"floorField",void 0),b([$({json:{read:!1,write:!1}})],Ny.prototype,"viewAllMode",void 0),b([$({json:{read:!1,write:!1}})],Ny.prototype,"viewAllLevelIds",void 0),Ny=CP=b([ne("esri.layers.support.LayerFloorInfo")],Ny);const ABe=Ny,AH=new oi({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),jH=new oi({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ma=class extends sr(Ne){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};b([$({json:{read:AH.read,write:AH.write}})],Ma.prototype,"cardinality",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"composite",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"id",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"keyField",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"keyFieldInRelationshipTable",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"name",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"relatedTableId",void 0),b([$({json:{read:!0,write:!0}})],Ma.prototype,"relationshipTableId",void 0),b([$({json:{read:jH.read,write:jH.write}})],Ma.prototype,"role",void 0),Ma=b([ne("esri.layers.support.Relationship")],Ma);const jBe=Ma;function It(e,t,i){return!!she(e,t,i)}function c2(e,t,i){return she(e,t,i)}function she(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}const PBe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function OBe(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(r=>r.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function vx(e,t){var r;const i=(r=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:r.map(n=>n.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function ohe(e,t){return{analytics:RBe(e),attachment:LBe(e),data:NBe(e),metadata:FBe(e),operations:DBe(e.capabilities,e,t),query:zBe(e,t),queryRelated:VBe(e),queryTopFeatures:BBe(e),editing:UBe(e)}}function RBe(e){return{supportsCacheHint:vx(e.advancedQueryCapabilities,"queryAnalytics")}}function LBe(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:vx(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:It(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(r=>{const n=PBe[r.name];n&&(i[n]=!!r.isEnabled)}),i}function NBe(e){return{isVersioned:It(e,"isDataVersioned",!1),supportsAttachment:It(e,"hasAttachments",!1),supportsM:It(e,"hasM",!1),supportsZ:It(e,"hasZ",!1)}}function FBe(e){return{supportsAdvancedFieldProperties:It(e,"supportsFieldDescriptionProperty",!1)}}function DBe(e,t,i){const r=e?e.toLowerCase().split(",").map(T=>T.trim()):[],n=i?Gg(i):null,o=r.includes(n!=null&&n.serverType==="MapServer"?"data":"query"),c=r.includes("editing")&&!t.datesInUnknownTimezone;let f=c&&r.includes("create"),g=c&&r.includes("delete"),v=c&&r.includes("update");const _=r.includes("changetracking"),M=t.advancedQueryCapabilities;return c&&!(f||g||v)&&(f=g=v=!0),{supportsCalculate:It(t,"supportsCalculate",!1),supportsTruncate:It(t,"supportsTruncate",!1),supportsValidateSql:It(t,"supportsValidateSql",!1),supportsAdd:f,supportsDelete:g,supportsEditing:c,supportsChangeTracking:_,supportsQuery:o,supportsQueryAnalytics:It(M,"supportsQueryAnalytic",!1),supportsQueryAttachments:It(M,"supportsQueryAttachments",!1),supportsQueryTopFeatures:It(M,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:It(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:v,supportsExceedsLimitStatistics:It(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:It(t,"supportsAsyncConvert3D",!1)}}function zBe(e,t){const i=e.advancedQueryCapabilities,r=e.ownershipBasedAccessControlForFeatures,n=e.archivingInfo,o=e.currentVersion,c=t==null?void 0:t.includes("MapServer"),f=!c||o>=ke("mapserver-pbf-version-support"),g=Bae(t),v=new Set((e.supportedQueryFormats??"").split(",").map(_=>_.toLowerCase().trim()));return{maxRecordCount:c2(e,"maxRecordCount",void 0),maxRecordCountFactor:c2(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:c2(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:OBe(i),supportsCacheHint:It(i,"supportsQueryWithCacheHint",!1)||vx(i,"query"),supportsCentroid:It(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:g,supportsDefaultSpatialReference:It(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:It(i,"supportsDisjointSpatialRel",!1),supportsDistance:It(i,"supportsQueryWithDistance",!1),supportsDistinct:It(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:It(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:f&&v.has("pbf"),supportsFullTextSearch:It(i,"supportsFullTextSearch",!1),supportsGeometryProperties:It(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:It(i,"supportsHavingClause",!1),supportsHistoricMoment:It(n,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:It(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:It(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:It(i,"supportsPagination",!1),supportsPercentileStatistics:It(i,"supportsPercentileStatistics",!1),supportsQuantization:It(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:It(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:It(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:It(r,"allowOthersToQuery",!0),supportsQueryGeometry:It(e,"supportsReturningQueryGeometry",!1),supportsResultType:It(i,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:It(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:It(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:It(e,"useStandardizedQueries",!1),supportsStatistics:It(i,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:It(i,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:c2(e,"tileMaxRecordCount",void 0)}}function VBe(e){const t=e.advancedQueryCapabilities,i=It(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:It(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:vx(t,"queryRelated")}}function BBe(e){return{supportsCacheHint:vx(e.advancedQueryCapabilities,"queryTopFilter")}}function UBe(e){const t=e.ownershipBasedAccessControlForFeatures,i=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:It(e,"allowGeometryUpdates",!0),supportsGlobalId:It(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:It(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:It(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:It(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:It(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:It(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:It(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:It(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:It(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:It(i,"supportsAsyncApplyEdits",!1),zDefault:c2(e,"zDefault",void 0)}}function X5t(e){var t;return{operations:{supportsAppend:It(e,"supportsAppend",!1),supportsExportClip:It(e,"supportsExportClip",!1),supportsExportFrameset:It(e,"supportsExportFrameset",!1),supportsMensuration:It(e,"supportsMensuration",!1),supportsUpdate:It(e,"supportsUpdate",!1)},query:{supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1}}}let Uc=class extends sr(Ne){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const i={};for(const r of Object.keys(t))i[r]=A7(t[r]);return i}writeDomains(t,i){var n;if(!t)return;const r={};for(const o of Object.keys(t))t[o]&&(r[o]=(n=t[o])==null?void 0:n.toJSON());i.domains=r}};b([$({type:Number,json:{write:!0}})],Uc.prototype,"code",void 0),b([$({type:Object,json:{write:!0}})],Uc.prototype,"defaultValues",void 0),b([$({json:{write:!0}})],Uc.prototype,"domains",void 0),b([qe("domains")],Uc.prototype,"readDomains",null),b([Ze("domains")],Uc.prototype,"writeDomains",null),b([$({type:String,json:{write:!0}})],Uc.prototype,"name",void 0),Uc=b([ne("esri.layers.support.Subtype")],Uc);const GBe=Uc,qBe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(st.ofType(Ru)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=At.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:i}=this;if(i){const{query:n,operations:o,editing:c}=i;if(!n.supportsQueryByOthers||!n.supportsQueryByAnonymous||o.supportsEditing&&!(c.supportsUpdateByOthers&&c.supportsUpdateByAnonymous&&c.supportsDeleteByOthers&&c.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(TBe(this))return"load";if(this.hasUpdateItemRestrictions)return i.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const r=this.editFieldsInfo;return(r!=null&&r.creatorField||r!=null&&r.editorField)&&(i!=null&&i.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(i,r){return ohe(r,this.url)}readEditingInfo(i,r){const{editingInfo:n}=r;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){const i=this.capabilities;if(!i)return null;const r=be(i),{operations:n,editing:o}=r;return c9(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=o.supportsDeleteByOthers=o.supportsGeometryUpdate=o.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=o.supportsGeometryUpdate=!0),r)}readGlobalIdFieldFromService(i,r){return rhe(r)}get hasFullEditingRestrictions(){const i=this.capabilities;if(!i||c9(this))return!1;const{operations:r,editing:n}=i;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const i=this.capabilities;if(!i)return!1;const{operations:r,editing:n}=i;return c9(this)?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(i,r){return r.type==="Table"}readMaxScale(i,r){return r.effectiveMaxScale||i||0}readMinScale(i,r){return r.effectiveMinScale||i||0}readObjectIdFieldFromService(i,r){return nhe(r)}readServiceDefinitionExpression(i,r){return r.definitionQuery||r.definitionExpression}set url(i){if(i==null)return void this._set("url",i);const r=aAe({layer:this,url:i,nonStandardUrlAllowed:!0,logger:Le.getLogger(this)});this._set("url",r.url),r.layerId!=null&&this._set("layerId",r.layerId)}writeUrl(i,r,n,o){lAe(this,i,null,r,o)}readVersion(i,r){return xBe(r)}};return b([$({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),b([$({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),b([$({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),b([qe("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),b([$(R4("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),b([$({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),b([$({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),b([$({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),b([$({readOnly:!0,type:iBe})],t.prototype,"editFieldsInfo",void 0),b([$({readOnly:!0})],t.prototype,"editingInfo",void 0),b([qe("editingInfo")],t.prototype,"readEditingInfo",null),b([$({readOnly:!0})],t.prototype,"effectiveCapabilities",null),b([$((()=>{const i=be(ZVe),r=i.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),b([$({type:ABe,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Vn}}}}})],t.prototype,"floorInfo",void 0),b([$({type:ci,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),b([$()],t.prototype,"gdbVersion",void 0),b([$({readOnly:!0,type:EBe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),b([$({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:kP.read}}}})],t.prototype,"geometryType",void 0),b([$({type:String})],t.prototype,"globalIdField",void 0),b([qe("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),b([$({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),b([$({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),b([$({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),b([$({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),b([$({readOnly:!0,type:$7})],t.prototype,"heightModelInfo",void 0),b([$({type:Date})],t.prototype,"historicMoment",void 0),b([$({type:st.ofType(Ru),readOnly:!0})],t.prototype,"indexes",void 0),b([$({readOnly:!0})],t.prototype,"isTable",void 0),b([qe("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),b([$({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),b([$(tBe)],t.prototype,"maxScale",void 0),b([qe("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),b([$(eBe)],t.prototype,"minScale",void 0),b([qe("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),b([$({type:String})],t.prototype,"objectIdField",void 0),b([qe("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),b([$(R4("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),b([$({type:[jBe],readOnly:!0})],t.prototype,"relationships",void 0),b([$({type:Boolean})],t.prototype,"returnM",void 0),b([$({type:Boolean})],t.prototype,"returnZ",void 0),b([$({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),b([$({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),b([qe("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),b([$({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),b([$()],t.prototype,"sourceJSON",void 0),b([$({type:At,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),b([$({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),b([$({type:[GBe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),b([$({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),b([$(Xce)],t.prototype,"url",null),b([Ze("url")],t.prototype,"writeUrl",null),b([$({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),b([qe("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=b([ne("esri.layers.mixins.FeatureLayerBase")],t),t};let Fy=class extends sr(Ne){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};b([$({type:String,json:{write:!0}})],Fy.prototype,"expression",void 0),b([$({type:String,json:{write:!0}})],Fy.prototype,"title",void 0),b([$({type:String,json:{write:!0}})],Fy.prototype,"returnType",void 0),Fy=b([ne("esri.layers.support.ExpressionInfo")],Fy);const OF=Fy;var IP;let Gc=IP=class extends Ne{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new IP({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:be(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};b([$({type:Boolean,json:{write:!0}})],Gc.prototype,"isAutoGenerated",void 0),b([$({type:String,json:{write:!0}})],Gc.prototype,"name",void 0),b([$({type:String,json:{write:!0}})],Gc.prototype,"alias",void 0),b([$({type:String,json:{write:!0}})],Gc.prototype,"onStatisticField",void 0),b([$({type:OF,json:{write:!0}})],Gc.prototype,"onStatisticExpression",void 0),b([$({type:String,json:{write:!0}})],Gc.prototype,"statisticType",void 0),Gc=IP=b([ne("esri.layers.support.AggregateField")],Gc);const n1=Gc;let fp=class extends Ne{constructor(){super(...arguments),this.type=null}};b([$({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],fp.prototype,"type",void 0),fp=b([ne("esri.layers.support.FeatureReduction")],fp);const RF="__begin__",LF="__end__",WBe=new RegExp(RF,"ig"),HBe=new RegExp(LF,"ig"),PH=new RegExp("^"+RF,"i"),OH=new RegExp(LF+"$","i"),h6='"',JBe=h6+" + ",KBe=" + "+h6;function YBe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function ZBe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function NF(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=YBe(e.labelExpression),t.type="conventional"),t}function XBe(e){const t=NF(e);if(!t)return null;switch(t.type){case"conventional":return EP(t.expression);case"arcade":return t.expression}return null}function QBe(e){const t=NF(e);if(!t)return null;switch(t.type){case"conventional":return tUe(t.expression);case"arcade":return ahe(t.expression)}return null}function EP(e){let t;return e?(t=G$(e,i=>RF+'$feature["'+i+'"]'+LF),t=PH.test(t)?t.replace(PH,""):h6+t,t=OH.test(t)?t.replace(OH,""):t+h6,t=t.replaceAll(WBe,JBe).replaceAll(HBe,KBe)):t='""',t}const eUe=/^\s*\{([^}]+)\}\s*$/i;function tUe(e){const t=e==null?void 0:e.match(eUe);return(t==null?void 0:t[1].trim())||null}const iUe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,rUe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,nUe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function ahe(e){if(!e)return null;let t=iUe.exec(e)||rUe.exec(e);return t?t[1]||t[3]:(t=nUe.exec(e),t?t[2]:null)}var AP;let $d=AP=class extends Ne{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?EP(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=EP(this.value)),e!=null&&(t[i]=e)}clone(){return new AP({expression:this.expression,title:this.title,value:this.value})}};b([$({type:String,json:{write:{writerEnsuresNonNull:!0}}})],$d.prototype,"expression",void 0),b([qe("expression",["expression","value"])],$d.prototype,"readExpression",null),b([Ze("expression")],$d.prototype,"writeExpression",null),b([$({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$d.prototype,"title",void 0),b([$({json:{read:!1,write:!1}})],$d.prototype,"value",void 0),$d=AP=b([ne("esri.layers.support.LabelExpressionInfo")],$d);const lhe=$d;var jP;const n5=new oi({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function s5(e,t,i){return{enabled:!Gse(i==null?void 0:i.layer)}}function uhe(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function sUe(e){return(e==null?void 0:e.type)==="map-image"}function che(e){var t,i;return!!sUe(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function oUe(e){return uhe(e)||che(e==null?void 0:e.layer)}let Jr=jP=class extends Ne{static evaluateWhere(e,t){const i=(r,n,o)=>{switch(n){case"=":return r==o;case"<>":return r!=o;case">":return r>o;case">=":return r>=o;case"<":return r<o;case"<=":return r<=o}return!1};try{if(e==null)return!0;const r=e.split(" ");if(r.length===3)return i(t[r[0]],r[1],r[2]);if(r.length===7){const n=i(t[r[0]],r[1],r[2]),o=r[3],c=i(t[r[4]],r[5],r[6]);switch(o){case"AND":return n&&c;case"OR":return n||c}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=SFe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=ZBe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const r=ahe(this.labelExpressionInfo.expression);r&&(e="["+r+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(e==null&&this.labelExpression!=null&&uhe(r))e=new lhe({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(r);n.expression&&(t[i]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return NF(this)}getLabelExpressionArcade(){return XBe(this)}getLabelExpressionSingleField(){return QBe(this)}hash(){return JSON.stringify(this)}clone(){return new jP({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:be(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:be(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};b([$({type:String,json:{write:!0}})],Jr.prototype,"name",void 0),b([$({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:s5}}}}})],Jr.prototype,"allowOverrun",void 0),b([$({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:s5}}}}})],Jr.prototype,"deconflictionStrategy",void 0),b([$({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&che(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Jr.prototype,"labelExpression",void 0),b([qe("labelExpression")],Jr.prototype,"readLabelExpression",null),b([Ze("labelExpression")],Jr.prototype,"writeLabelExpression",null),b([$({type:lhe,json:{write:{overridePolicy:(e,t,i)=>oUe(i)?{allowNull:!0}:{enabled:!1}}}})],Jr.prototype,"labelExpressionInfo",void 0),b([Ze("labelExpressionInfo")],Jr.prototype,"writeLabelExpressionInfo",null),b([$({type:n5.apiValues,json:{type:n5.jsonValues,read:n5.read,write:n5.write}})],Jr.prototype,"labelPlacement",void 0),b([$({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Jr.prototype,"labelPosition",void 0),b([$({type:Number})],Jr.prototype,"maxScale",void 0),b([Ze("maxScale")],Jr.prototype,"writeMaxScale",null),b([$({type:Number})],Jr.prototype,"minScale",void 0),b([Ze("minScale")],Jr.prototype,"writeMinScale",null),b([$({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:s5}}}}})],Jr.prototype,"repeatLabel",void 0),b([$({type:Number,cast:wi,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:s5}}}}})],Jr.prototype,"repeatLabelDistance",void 0),b([$({types:pEe,json:{origins:{"web-scene":{types:fEe,write:BW,default:null}},write:BW,default:null}})],Jr.prototype,"symbol",void 0),b([$({type:Boolean,json:{write:!0}})],Jr.prototype,"useCodedValues",void 0),b([$({type:String,json:{write:!0}})],Jr.prototype,"where",void 0),Jr=jP=b([ne("esri.layers.support.LabelClass")],Jr);const K7=Jr;var PP;let bs=PP=class extends fp{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=wi("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const r=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());As(i,r,t)}readRenderer(e,t,i){var n;const r=(n=t.drawingInfo)==null?void 0:n.renderer;return r?r3(r,t,i)??void 0:PF(t,i)}clone(){return new PP({fields:be(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:be(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:be(this.popupTemplate),renderer:be(this.renderer),binType:be(this.binType),size:this.size})}};b([Ct({binning:"binning"})],bs.prototype,"type",void 0),b([Ct({geohash:"geohash",square:"square"}),$({type:["geohash","square"]})],bs.prototype,"binType",void 0),b([$({type:Number,json:{write:!0}})],bs.prototype,"fixedBinLevel",void 0),b([$({type:[K7],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],bs.prototype,"labelingInfo",void 0),b([$(EF)],bs.prototype,"labelsVisible",void 0),b([$({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],bs.prototype,"maxScale",void 0),b([$(IF)],bs.prototype,"popupEnabled",void 0),b([$({type:Vp,json:{name:"popupInfo",write:!0}})],bs.prototype,"popupTemplate",void 0),b([$({type:Number,cast:e=>e==="auto"?e:wi(e)})],bs.prototype,"size",void 0),b([$({type:[n1],json:{write:!0}})],bs.prototype,"fields",void 0),b([Ze("fields")],bs.prototype,"writeFields",null),b([$({types:q7,json:{write:{target:"drawingInfo.renderer"}}})],bs.prototype,"renderer",void 0),b([qe("renderer",["drawingInfo.renderer"])],bs.prototype,"readRenderer",null),bs=PP=b([ne("esri.layers.support.FeatureReductionBinning")],bs);const hhe=bs;var OP;function RH(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let fn=OP=class extends Ne{constructor(e){super(e),this.type="cluster",this.clusterRadius=wi("80px"),this.clusterMinSize=wi("12px"),this.clusterMaxSize=wi("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var n,o;const r=(n=t.drawingInfo)==null?void 0:n.renderer;return(o=r==null?void 0:r.authoringInfo)!=null&&o.isAutoGenerated?null:r?RH(r)?null:r3(r,t,i)??void 0:PF(t,i)}readSymbol(e,t,i){var n,o;const r=(n=t.drawingInfo)==null?void 0:n.renderer;if((o=r==null?void 0:r.authoringInfo)!=null&&o.isAutoGenerated)return null;if(r&&RH(r)){const c=r3(r,t,i);return c==null?void 0:c.symbol}return null}writeSymbol(e,t,i,r){var o,c;const n=(c=(o=this.renderer)==null?void 0:o.authoringInfo)==null?void 0:c.isAutoGenerated;if(!this.renderer||n){const f=new Jg({symbol:e});t.drawingInfo={renderer:f.write({},r)}}}writeFields(e,t,i){const r=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());As(i,r,t)}readFields(e,t,i){return e.filter(r=>!r.isAutoGenerated).map(r=>n1.fromJSON(r))}clone(){return new OP({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:be(this.labelingInfo),labelsVisible:this.labelsVisible,fields:be(this.fields),maxScale:this.maxScale,renderer:be(this.renderer),symbol:be(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:be(this.popupTemplate)})}};b([$({type:["cluster"],readOnly:!0,json:{write:!0}})],fn.prototype,"type",void 0),b([$({type:Number,cast:e=>e==="auto"?e:wi(e),json:{write:!0}})],fn.prototype,"clusterRadius",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],fn.prototype,"clusterMinSize",void 0),b([$({type:Number,cast:wi,json:{write:!0}})],fn.prototype,"clusterMaxSize",void 0),b([$({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],fn.prototype,"maxScale",void 0),b([$(IF)],fn.prototype,"popupEnabled",void 0),b([$({type:Vp,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],fn.prototype,"popupTemplate",void 0),b([$({types:q7,json:{write:{target:"drawingInfo.renderer"}}})],fn.prototype,"renderer",void 0),b([qe("renderer",["drawingInfo.renderer"])],fn.prototype,"readRenderer",null),b([$({types:hEe})],fn.prototype,"symbol",void 0),b([qe("symbol",["drawingInfo.renderer"])],fn.prototype,"readSymbol",null),b([Ze("symbol")],fn.prototype,"writeSymbol",null),b([$({type:[K7],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],fn.prototype,"labelingInfo",void 0),b([$(EF)],fn.prototype,"labelsVisible",void 0),b([$({type:[n1],json:{write:!0}})],fn.prototype,"fields",void 0),b([Ze("fields")],fn.prototype,"writeFields",null),b([qe("fields")],fn.prototype,"readFields",null),fn=OP=b([ne("esri.layers.support.FeatureReductionCluster")],fn);const dhe=fn;var RP;let h9=RP=class extends fp{constructor(e){super(e),this.type="selection"}clone(){return new RP}};b([$({type:["selection"]})],h9.prototype,"type",void 0),h9=RP=b([ne("esri.layers.support.FeatureReductionSelection")],h9);const LH=h9,NH={key:"type",base:fp,typeMap:{cluster:dhe,binning:hhe}},aUe={types:{key:"type",base:fp,typeMap:{selection:LH,cluster:dhe,binning:hhe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:NH},"portal-item":{types:NH},"web-scene":{types:{key:"type",base:fp,typeMap:{selection:LH}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Vn}}}}},Y1={Base64:0,Hex:1,String:2,Raw:3},zm=8,phe=(1<<zm)-1;function Zd(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function lUe(e){const t=[];for(let i=0,r=e.length*zm;i<r;i+=zm)t[i>>5]|=(e.charCodeAt(i/zm)&phe)<<i%32;return t}function uUe(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=zm)t.push(String.fromCharCode(e[i>>5]>>>i%32&phe));return t.join("")}function cUe(e){const t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function hUe(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,o=4*e.length;n<o;n+=3){const c=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let f=0;f<4;f++)8*n+6*f>32*e.length?r.push(t):r.push(i.charAt(c>>6*(3-f)&63))}return r.join("")}function dUe(e,t){return e<<t|e>>>32-t}function Y7(e,t,i,r,n,o){return Zd(dUe(Zd(Zd(t,e),Zd(r,o)),n),i)}function cs(e,t,i,r,n,o,c){return Y7(t&i|~t&r,e,t,n,o,c)}function hs(e,t,i,r,n,o,c){return Y7(t&r|i&~r,e,t,n,o,c)}function ds(e,t,i,r,n,o,c){return Y7(t^i^r,e,t,n,o,c)}function ps(e,t,i,r,n,o,c){return Y7(i^(t|~r),e,t,n,o,c)}function pUe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,n=-1732584194,o=271733878;for(let c=0;c<e.length;c+=16){const f=i,g=r,v=n,_=o;i=cs(i,r,n,o,e[c],7,-680876936),o=cs(o,i,r,n,e[c+1],12,-389564586),n=cs(n,o,i,r,e[c+2],17,606105819),r=cs(r,n,o,i,e[c+3],22,-1044525330),i=cs(i,r,n,o,e[c+4],7,-176418897),o=cs(o,i,r,n,e[c+5],12,1200080426),n=cs(n,o,i,r,e[c+6],17,-1473231341),r=cs(r,n,o,i,e[c+7],22,-45705983),i=cs(i,r,n,o,e[c+8],7,1770035416),o=cs(o,i,r,n,e[c+9],12,-1958414417),n=cs(n,o,i,r,e[c+10],17,-42063),r=cs(r,n,o,i,e[c+11],22,-1990404162),i=cs(i,r,n,o,e[c+12],7,1804603682),o=cs(o,i,r,n,e[c+13],12,-40341101),n=cs(n,o,i,r,e[c+14],17,-1502002290),r=cs(r,n,o,i,e[c+15],22,1236535329),i=hs(i,r,n,o,e[c+1],5,-165796510),o=hs(o,i,r,n,e[c+6],9,-1069501632),n=hs(n,o,i,r,e[c+11],14,643717713),r=hs(r,n,o,i,e[c],20,-373897302),i=hs(i,r,n,o,e[c+5],5,-701558691),o=hs(o,i,r,n,e[c+10],9,38016083),n=hs(n,o,i,r,e[c+15],14,-660478335),r=hs(r,n,o,i,e[c+4],20,-405537848),i=hs(i,r,n,o,e[c+9],5,568446438),o=hs(o,i,r,n,e[c+14],9,-1019803690),n=hs(n,o,i,r,e[c+3],14,-187363961),r=hs(r,n,o,i,e[c+8],20,1163531501),i=hs(i,r,n,o,e[c+13],5,-1444681467),o=hs(o,i,r,n,e[c+2],9,-51403784),n=hs(n,o,i,r,e[c+7],14,1735328473),r=hs(r,n,o,i,e[c+12],20,-1926607734),i=ds(i,r,n,o,e[c+5],4,-378558),o=ds(o,i,r,n,e[c+8],11,-2022574463),n=ds(n,o,i,r,e[c+11],16,1839030562),r=ds(r,n,o,i,e[c+14],23,-35309556),i=ds(i,r,n,o,e[c+1],4,-1530992060),o=ds(o,i,r,n,e[c+4],11,1272893353),n=ds(n,o,i,r,e[c+7],16,-155497632),r=ds(r,n,o,i,e[c+10],23,-1094730640),i=ds(i,r,n,o,e[c+13],4,681279174),o=ds(o,i,r,n,e[c],11,-358537222),n=ds(n,o,i,r,e[c+3],16,-722521979),r=ds(r,n,o,i,e[c+6],23,76029189),i=ds(i,r,n,o,e[c+9],4,-640364487),o=ds(o,i,r,n,e[c+12],11,-421815835),n=ds(n,o,i,r,e[c+15],16,530742520),r=ds(r,n,o,i,e[c+2],23,-995338651),i=ps(i,r,n,o,e[c],6,-198630844),o=ps(o,i,r,n,e[c+7],10,1126891415),n=ps(n,o,i,r,e[c+14],15,-1416354905),r=ps(r,n,o,i,e[c+5],21,-57434055),i=ps(i,r,n,o,e[c+12],6,1700485571),o=ps(o,i,r,n,e[c+3],10,-1894986606),n=ps(n,o,i,r,e[c+10],15,-1051523),r=ps(r,n,o,i,e[c+1],21,-2054922799),i=ps(i,r,n,o,e[c+8],6,1873313359),o=ps(o,i,r,n,e[c+15],10,-30611744),n=ps(n,o,i,r,e[c+6],15,-1560198380),r=ps(r,n,o,i,e[c+13],21,1309151649),i=ps(i,r,n,o,e[c+4],6,-145523070),o=ps(o,i,r,n,e[c+11],10,-1120210379),n=ps(n,o,i,r,e[c+2],15,718787259),r=ps(r,n,o,i,e[c+9],21,-343485551),i=Zd(i,f),r=Zd(r,g),n=Zd(n,v),o=Zd(o,_)}return[i,r,n,o]}function fhe(e,t=Y1.Hex){const i=t||Y1.Base64,r=pUe(lUe(e),e.length*zm);switch(i){case Y1.Raw:return r;case Y1.Hex:return cUe(r);case Y1.String:return uUe(r);case Y1.Base64:return hUe(r)}}const fUe=()=>Le.getLogger("esri.views.2d.layers.support.clusterUtils");ke.add("esri-cluster-arcade-enabled",!0);const yUe=ke("esri-cluster-arcade-enabled"),mUe=new Set(["simple-line","simple-fill","picture-fill"]);function FH(e,t){let i=t.clone();if(!gUe(i))return i;if(t.getSymbols().some(r=>mUe.has(r.type))&&(i=new Jg({symbol:new cc})),i.authoringInfo||(i.authoringInfo=new dF),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(n=>n.valueExpression!=="$view.scale");r.forEach(n=>{n.type==="rotation"?n.field?n.field=ef(e,n.field,"avg_angle","number"):n.valueExpression&&(n.field=Bv(e,n.valueExpression,"avg_angle","number"),n.valueExpression=null):n.normalizationField?(n.field=ef(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=ef(e,n.field,"avg","number"):n.valueExpression&&(n.field=Bv(e,n.valueExpression,"avg","number"),n.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=ef(e,r.field,"sum","number"):r.valueExpression&&(r.field=Bv(e,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=ef(e,i.field,"mode","string"):i.valueExpression&&(i.field=Bv(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=ef(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=ef(e,i.field,"avg","number"):i.valueExpression&&(i.field=Bv(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const gUe=e=>{const t=i=>fUe().error(new we("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!yUe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function vUe(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const r=i,n="field",o=t.toLowerCase()+",norm:"+n+","+r.toLowerCase();return"cluster_avg_"+fhe(o)}}}function Bv(e,t,i,r){const n=fhe(t),o=i==="mode"?`cluster_type_${n}`:i==="sum"?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some(c=>c.name===o)||e.push(new n1({name:o,isAutoGenerated:!0,onStatisticExpression:new OF({expression:t,returnType:r}),statisticType:i})),o}function ef(e,t,i,r,n){if(t==="cluster_count"||e.some(c=>c.name===t))return t;const o=vUe(i,t,n);return e.some(c=>c.name===o)||(i==="avg_norm"?e.push(new n1({name:o,isAutoGenerated:!0,onStatisticExpression:new OF({expression:`$feature.${t} / $feature.${n}`,returnType:r}),statisticType:"avg"})):e.push(new n1({name:o,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),o}const bUe=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(nt(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},is))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,n){const o=i.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(c=>c.type==="size")||o.visualVariables.push(new yF({field:"cluster_count",stops:[new JS({value:1}),new JS({useMinValue:!0,size:r}),new JS({useMaxValue:!0,size:n})]}))),o}_normalizeFeatureReduction(i){var M;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),n=[new n1({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(r.fields??[]).filter(T=>!T.isAutoGenerated),c=i.renderer&&!((M=i.renderer.authoringInfo)!=null&&M.isAutoGenerated),{clusterMinSize:f,clusterMaxSize:g}=r;if(c){r.fields=[...n,...o];const T=this._withClusterVariable(r.renderer,f,g);return r.effectiveFeatureRenderer=T,r.effectiveClusterRenderer=T,r}if(i.symbol){if(r.fields=[...n,...o],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const T=FH(n,this.renderer),E=this._withClusterVariable(T,f,g),j="visualVariables"in E&&E.visualVariables?E.visualVariables:[],R=new Jg({symbol:i.symbol,visualVariables:j});return r.fields=[...n,...o],r.effectiveFeatureRenderer=E,r.effectiveClusterRenderer=R,r}if(!this.renderer)return i;const v=FH(n,this.renderer);r.fields=[...n,...o],r.renderer=v;const _=this._withClusterVariable(v,f,g);return r.effectiveFeatureRenderer=_,r.effectiveClusterRenderer=_,r}};return b([$(aUe)],t.prototype,"featureReduction",null),t=b([ne("esri.layers.mixins.FeatureReductionLayer")],t),t},DH={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},zH={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},VH={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},wUe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":DH,"web-map/basemap":zH,"web-map/tables":VH,"link-chart/operational-layers":{...DH,LinkChartLayer:!0},"link-chart/basemap":zH,"link-chart/tables":VH,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},FF=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,n){var o;return((o=n==null?void 0:n.portalItem)==null?void 0:o.type)==="Group Layer"?void 0:i}writeListMode(i,r,n,o){(o&&o.layerContainerType==="ground"||i&&kie(this,n,{},o))&&(r[n]=i)}writeOperationalLayerType(i,r,n,o){i&&(o==null?void 0:o.layerContainerType)!=="tables"&&(r.layerType=i)}writeTitle(i,r){r.title=i??"Layer"}readTimeExtent(i){return i?rc.fromArray(i):null}writeTimeExtent(i,r,n,o){i&&o.layerContainerType!=="tables"&&(i.isEmpty?o!=null&&o.messages&&o.messages.push(new we("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[n]=i.toArray())}read(i,r){r&&(r.layer=this),Q5e(this,i,n=>super.read(i,n),r)}write(i,r){var c,f;if(!this.persistenceEnabled&&!(r!=null&&r.ignorePersistenceEnabled))return null;if(r!=null&&r.origin){const g=`${r.origin}/${r.layerContainerType||"operational-layers"}`,v=wUe[g];let _=!!(v!=null&&v[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&g==="web-scene/operational-layers"&&(_=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&g==="web-map/operational-layers"&&(_=!1),!_)return(c=r.messages)==null||c.push(new we("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${g}'`,{layer:this})),null}const n=super.write(i,{...r,layer:this}),o=!!r&&!!r.messages&&!!r.messages.filter(g=>g instanceof we&&g.name==="web-document-write:property-required").length;return i7(n==null?void 0:n.url)?((f=r==null?void 0:r.messages)==null||f.push(new we("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return b([$({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),b([qe("id",["id"])],t.prototype,"readId",null),b([$(the)],t.prototype,"listMode",void 0),b([Ze("listMode")],t.prototype,"writeListMode",null),b([$({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Vn}}}}})],t.prototype,"operationalLayerType",void 0),b([Ze("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),b([$($P)],t.prototype,"opacity",void 0),b([$({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),b([$({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),b([Ze("title"),Ze(["web-scene"],"title")],t.prototype,"writeTitle",null),b([$({type:rc,json:{origins:{"web-scene":{write:{layerContainerTypes:Vn}}}}})],t.prototype,"visibilityTimeExtent",void 0),b([qe("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),b([Ze(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[zi,Q$]]}})],t.prototype,"writeTimeExtent",null),b([$({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:Vn}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=b([ne("esri.layers.mixins.OperationalLayer")],t),t};var LP;const o5=new oi({asc:"ascending",desc:"descending"});let Dy=LP=class extends Ne{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new LP({field:this.field,valueExpression:this.valueExpression,order:this.order})}};b([$({type:String,json:{write:!0}})],Dy.prototype,"field",void 0),b([$({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Dy.prototype,"valueExpression",void 0),b([$({type:o5.apiValues,json:{type:o5.jsonValues,read:o5.read,write:o5.write}})],Dy.prototype,"order",void 0),Dy=LP=b([ne("esri.layers.support.OrderByInfo")],Dy);const yhe=Dy;function xUe(e,t,i){if(!e)return null;const r=e.find(o=>!!o.field);if(!r)return null;const n=new yhe;return n.read(r,i),[n]}function _Ue(e,t,i,r){const n=e.find(o=>!!o.field);n&&As(i,[n.toJSON()],t)}const SUe={type:[yhe],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:xUe},write:{writer:_Ue}}},$Ue=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return b([$(SUe)],t.prototype,"orderBy",void 0),t=b([ne("esri.layers.mixins.OrderedLayer")],t),t};async function MUe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return nm(e);const i=At.WGS84;return await yN(t,i),Np(e,i)}function TUe(e,t){if(!mhe(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function mhe(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function iSt(e){return mhe(e,CUe.HOSTED_SERVICE)}function kUe(e,t){const i=e.typeKeywords;if(i){const r=i.indexOf(t);r>-1&&i.splice(r,1)}}function rSt(e,t,i){i?TUe(e,t):kUe(e,t)}async function nSt(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return MUe(i)}const CUe={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function BH(e){var g;const{portal:t,isOrgItem:i,itemControl:r}=e,n=(g=t.user)==null?void 0:g.privileges;let o=!n||n.includes("features:user:edit"),c=!!i&&!!(n!=null&&n.includes("features:user:fullEdit"));const f=r==="update"||r==="admin";return f?c=o=!0:c&&(o=!0),{features:{edit:o,fullEdit:c},content:{updateItem:f}}}const DF=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=rr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,n){if(r.itemId)return new Rm({id:r.itemId,portal:n==null?void 0:n.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var n;if((n=this.portalItem)!=null&&n.id)try{const{load:o}=await Ce(()=>import("./layersLoader-CLhxpMe2.js"),__vite__mapDeps([222,129,127,128,126,223]),import.meta.url);return qi(r),await o({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap},r)}catch(o){throw Os(o)||Le.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${o}`),o}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(Ra(r),!0)))}async setUserPrivileges(i,r){if(!yi.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:n,fullEdit:o},content:{updateItem:c}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",c)}catch(n){Ra(n)}}async _fetchUserPrivileges(i,r){let n=this.portalItem;if(!i||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(r);const o=i===n.id;if(o&&n.portal.user)return BH(n);let c,f;if(o)c=n.portal.url;else try{c=await qse(this.url,r)}catch(M){Ra(M)}if(!c||!TSe(c,n.portal.url))return this._fetchFallbackUserPrivileges(r);try{const M=r!=null?r.signal:null;f=await(ii==null?void 0:ii.getCredential(`${c}/sharing`,{prompt:!1,signal:M}))}catch(M){Ra(M)}const g=!0,v=!1,_=!1;if(!f)return{features:{edit:g,fullEdit:v},content:{updateItem:_}};try{if(o?await n.reload():(n=new Rm({id:i,portal:{url:c}}),await n.load(r)),n.portal.user)return BH(n)}catch(M){Ra(M)}return{features:{edit:g,fullEdit:v},content:{updateItem:_}}}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(n){Ra(n)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?ii==null?void 0:ii.findCredential(this.url):null;if(!r)return!0;const n=a5.credential===r?a5.user:await this._fetchEditingUser(i);return a5.credential=r,a5.user=n,(n==null?void 0:n.privileges)==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var _,M;const r=(M=(_=this.portalItem)==null?void 0:_.portal)==null?void 0:M.user;if(r)return r;const n=ii==null?void 0:ii.findServerInfo(this.url??"");if(!(n!=null&&n.owningSystemUrl))return null;const o=`${n.owningSystemUrl}/sharing/rest`,c=kn.getDefault();if(c&&c.loaded&&Za(c.restUrl)===Za(o))return c.user;const f=`${o}/community/self`,g=i!=null?i.signal:null,v=await a7(Vi(f,{authMode:"no-prompt",query:{f:"json"},signal:g}));return v.ok?_N.fromJSON(v.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var c;const n=r==null?void 0:r.portal,o=((c=this.portalItem)==null?void 0:c.id)&&(this.portalItem.portal||kn.getDefault());return n&&o&&!Pie(o.restUrl,n.restUrl)?(r.messages&&r.messages.push(new we("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return b([$({type:Rm})],t.prototype,"portalItem",null),b([qe("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),b([Ze("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),b([$({clonable:!1})],t.prototype,"resourceReferences",void 0),b([$({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),b([$({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),b([$({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=b([ne("esri.layers.mixins.PortalLayer")],t),t},a5={credential:null,user:null};let h2=class extends vt{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};b([$()],h2.prototype,"updating",void 0),b([$()],h2.prototype,"status",void 0),h2=b([ne("esri.layers.support.PublishingInfo")],h2);const IUe=h2,EUe=Symbol(),AUe=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const r=this._get("publishingInfo");if(r)return r;const n=new IUe;return this._checkPublishingStatus(n),n}_checkPublishingStatus(r){let c=0;const f=async v=>{let _;r.updating=!0;try{_=await this.fetchPublishingStatus()}catch{_="unavailable"}_!=="published"&&_!=="unavailable"||(r.status==="publishing"&&this.refresh(),g.remove()),r.status=_,r.updating=!1,g.removed||(c=setTimeout(f,v,v+125))},g={removed:!1,remove(){this.removed=!0,clearTimeout(c)}};this.when().catch(()=>g.remove()),f(250),this.addHandles(g)}};return t=EUe,b([$({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=b([ne("esri.layers.mixins.PublishableLayer")],i),i},Xd=new st,iw=new WeakMap;function jUe(e){OUe(e)&&Xd.push(new WeakRef(e))}function PUe(e){const t=Xd.find(i=>i.deref()===e);t&&Xd.remove(t)}function OUe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function ghe(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:ghe(t,e%t):0}let pk=0,l5=0;function RUe(){const e=Date.now();let t=!1;for(const i of Xd){const r=i.deref();r?r.refreshInterval&&e-(iw.get(r)??0)+5>=6e4*r.refreshInterval&&(iw.set(r,e),r.refresh(e)):t=!0}if(t)for(let i=Xd.length-1;i>=0;i--)Xd.at(i).deref()||Xd.removeAt(i)}Fte(()=>{const e=Date.now();let t=0;for(const i of Xd){const r=i.deref();r&&(t=ghe(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?iw.get(r)||iw.set(r,e):iw.delete(r))}if(t!==l5){if(l5=t,clearInterval(pk),l5===0)return void(pk=0);pk=setInterval(RUe,l5)}});const UH=.1,vhe=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=J$(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||jUe(this)},()=>{})}destroy(){PUe(this)}castRefreshInterval(i){return i>=UH?i:i<=0?0:UH}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){wI(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{Le.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){}};return b([$({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Vn}}}}})],t.prototype,"refreshInterval",void 0),b([$i("refreshInterval")],t.prototype,"castRefreshInterval",null),b([$({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),b([$({readOnly:!0})],t.prototype,"refreshParameters",null),t=b([ne("esri.layers.mixins.RefreshableLayer")],t),t},Z7=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&LUe(i,r.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===i.minScale&&n.maxScale===i.maxScale?n:i}};return b([$({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),b([$({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),b([$({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=b([ne("esri.layers.mixins.ScaleRangeLayer")],t),t};function LUe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const bhe=Rs()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let d2=class extends sr(Ne){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return yoe(this.value,this.unit,"milliseconds")}};b([Ct(bhe,{nonNullable:!0})],d2.prototype,"unit",void 0),b([$({type:Number,json:{write:!0},nonNullable:!0})],d2.prototype,"value",void 0),d2=b([ne("esri.TimeInterval")],d2);const d6=d2;function GH(e,t){return d6.fromJSON({value:e,unit:t})}let Kn=class extends sr(Ne){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?rc.fromArray(i.timeExtent):null}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=t.toArray():i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?GH(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?GH(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};b([$({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Kn.prototype,"cumulative",void 0),b([$({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Kn.prototype,"endField",void 0),b([$({type:rc,json:{write:{enabled:!0,allowNull:!0}}})],Kn.prototype,"fullTimeExtent",void 0),b([qe("fullTimeExtent",["timeExtent"])],Kn.prototype,"readFullTimeExtent",null),b([Ze("fullTimeExtent")],Kn.prototype,"writeFullTimeExtent",null),b([$({type:Boolean,json:{write:!0}})],Kn.prototype,"hasLiveData",void 0),b([$({type:d6,json:{write:{enabled:!0,allowNull:!0}}})],Kn.prototype,"interval",void 0),b([qe("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Kn.prototype,"readInterval",null),b([Ze("interval")],Kn.prototype,"writeInterval",null),b([$({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Kn.prototype,"startField",void 0),b([$(R4("timeReference",!0))],Kn.prototype,"timeZone",void 0),b([$({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Kn.prototype,"trackIdField",void 0),b([$({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Kn.prototype,"useTime",void 0),b([$({type:[Date],json:{read:!1}})],Kn.prototype,"stops",void 0),Kn=b([ne("esri.layers.support.TimeInfo")],Kn);const whe=Kn,NUe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Vn}}},xhe=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const n=r.timeInfo.exportOptions;if(!n)return null;const o=n.timeOffset,c=bhe.fromJSON(n.timeOffsetUnits);return o&&c?new d6({value:o,unit:c}):null}set timeInfo(i){Coe(i,this.fieldsIndex),this._set("timeInfo",i)}};return b([$({type:rc,json:{write:!1}})],t.prototype,"timeExtent",void 0),b([$({type:d6})],t.prototype,"timeOffset",void 0),b([qe("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),b([$({value:null,type:whe,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),b([$(NUe)],t.prototype,"useViewTime",void 0),t=b([ne("esri.layers.mixins.TemporalLayer")],t),t},qH=new oi({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Md=class extends sr(Ne){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};b([$({json:{write:!0}})],Md.prototype,"name",void 0),b([$({json:{write:!0}})],Md.prototype,"description",void 0),b([$({json:{read:qH.read,write:qH.write}})],Md.prototype,"drawingTool",void 0),b([$({json:{write:!0}})],Md.prototype,"prototype",void 0),b([$({json:{write:!0}})],Md.prototype,"thumbnail",void 0),Md=b([ne("esri.layers.support.FeatureTemplate")],Md);const zF=Md;let qc=class extends sr(Ne){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const i={};for(const r of Object.keys(t))i[r]=A7(t[r]);return i}writeDomains(t,i){var n;const r={};for(const o of Object.keys(t))t[o]&&(r[o]=(n=t[o])==null?void 0:n.toJSON());i.domains=r}};b([$({json:{write:!0}})],qc.prototype,"id",void 0),b([$({json:{write:!0}})],qc.prototype,"name",void 0),b([$({json:{write:!0}})],qc.prototype,"domains",void 0),b([qe("domains")],qc.prototype,"readDomains",null),b([Ze("domains")],qc.prototype,"writeDomains",null),b([$({type:[zF],json:{write:!0}})],qc.prototype,"templates",void 0),qc=b([ne("esri.layers.support.FeatureType")],qc);const _he=qc;function FUe(){return{fields:{type:[BN],value:null,set:function(e){if(e&&ke("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(r=>`'${r.name}'`).join(", ");Le.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return rce.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||Le.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return M7(this.fieldsIndex,e)}}}}const fk=()=>Le.getLogger("esri.layers.support.labelingInfo"),DUe=/\[([^[\]]+)\]/gi;function yk(e,t,i){return e?e.map(r=>{var o;const n=new K7;if(n.read(r,i),n.labelExpression){const c=t.fields||((o=t.layerDefinition)==null?void 0:o.fields)||this.fields;n.labelExpression=n.labelExpression.replaceAll(DUe,(f,g)=>`[${zUe(g,c)}]`)}return n}):null}function zUe(e,t){if(!t)return e;const i=e.toLowerCase();for(let r=0;r<t.length;r++){const n=t[r].name;if(n.toLowerCase()===i)return n}return e}const VUe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function cSt(e,t){const i=[];for(const r of e){const n=r.labelPlacement,o=VUe[t];if(!r.symbol)return fk().warn("No ILabelClass symbol specified."),[];if(!o)return fk().error(new we("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(o.includes(n))i.push(r);else{const c=o[0];n&&fk().warn(`Found invalid label placement type ${n} for ${t}. Defaulting to ${c}`);const f=r.clone();f.labelPlacement=c,i.push(f)}}return i}const zy=[];function BUe(e,t){if(Bae(e.url??""))return!0;const{wkid:i}=t;for(const r of zy){if((e.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}zy.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),zy.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),zy.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),zy.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),zy.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function UUe(e,t,i){const r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const n=await a7(r.populateFromStyle());if(qi(i),n.ok===!1){const o=n.error;t!=null&&t.messages&&t.messages.push(new sl("renderer:style-reference",`Failed to create unique value renderer from style reference: ${o.message}`,{error:o,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}var NP;let Vy=NP=class extends Ne{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new NP({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};b([$({type:[String],json:{write:!0}})],Vy.prototype,"groupByFields",void 0),b([$({type:Number,json:{write:!0}})],Vy.prototype,"topCount",void 0),b([$({type:[String],json:{write:!0}})],Vy.prototype,"orderByFields",void 0),Vy=NP=b([ne("esri.rest.support.TopFilter")],Vy);const GUe=Vy;var FP;const WH=new oi({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),HH=new oi({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let pr=FP=class extends Ne{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new FP(be({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};b([$({type:Boolean,json:{write:!0}})],pr.prototype,"cacheHint",void 0),b([$({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],pr.prototype,"distance",void 0),b([$({types:v1,json:{read:_p,write:!0}})],pr.prototype,"geometry",void 0),b([$({type:Number,json:{write:!0}})],pr.prototype,"geometryPrecision",void 0),b([$({type:Number,json:{write:!0}})],pr.prototype,"maxAllowableOffset",void 0),b([$({type:Number,json:{read:{source:"resultRecordCount"}}})],pr.prototype,"num",void 0),b([$({json:{write:!0}})],pr.prototype,"objectIds",void 0),b([$({type:[String],json:{write:!0}})],pr.prototype,"orderByFields",void 0),b([$({type:[String],json:{write:!0}})],pr.prototype,"outFields",void 0),b([$({type:At,json:{read:{source:"outSR"},write:{target:"outSR"}}})],pr.prototype,"outSpatialReference",void 0),b([$({type:String,json:{write:!0}})],pr.prototype,"resultType",void 0),b([$({json:{write:!0}})],pr.prototype,"returnGeometry",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pr.prototype,"returnM",void 0),b([$({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pr.prototype,"returnZ",void 0),b([$({type:Number,json:{read:{source:"resultOffset"}}})],pr.prototype,"start",void 0),b([Ze("start"),Ze("num")],pr.prototype,"writeStart",null),b([$({type:String,json:{read:{source:"spatialRel",reader:WH.read},write:{target:"spatialRel",writer:WH.write}}})],pr.prototype,"spatialRelationship",void 0),b([$({type:rc,json:{write:!0}})],pr.prototype,"timeExtent",void 0),b([$({type:GUe,json:{write:!0}})],pr.prototype,"topFilter",void 0),b([$({type:String,json:{read:HH.read,write:{writer:HH.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null&&this.distance>0}}}}})],pr.prototype,"units",void 0),b([$({type:String,json:{write:!0}})],pr.prototype,"where",void 0),pr=FP=b([ne("esri.rest.support.TopFeaturesQuery")],pr),pr.from=vr(pr);const u5=pr;function qUe({displayField:e,editFieldsInfo:t,fields:i,objectIdField:r,title:n},o){if(!i)return null;const c=KUe({editFieldsInfo:t,fields:i,objectIdField:r},o);if(!c.length)return null;const f=XUe({titleBase:n,fields:i,displayField:e}),g=ZUe();return new Vp({title:f,content:g,fieldInfos:c})}const WUe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):UCe(e,t);function HUe(e,t){const i=e;return t&&(e=e.filter(r=>!t.includes(r.type))),e===i&&(e=e.slice()),e.sort(JUe),e}function JUe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:JH(e)?-1:JH(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function KUe(e,t){const i=t==null?void 0:t.visibleFieldNames;return HUe(e.fields??[],(t==null?void 0:t.ignoreFieldTypes)||QUe).map(r=>new IN({fieldName:r.name,isEditable:BCe(r,e),label:r.alias,format:YUe(r),visible:WUe(r,{...e,visibleFieldNames:i})}))}function YUe(e){switch(e.type){case"small-integer":case"integer":case"single":return new bS({digitSeparator:!0,places:0});case"double":return new bS({digitSeparator:!0,places:2});case"string":return fIe(e.name)?new bS({digitSeparator:!0,places:0}):void 0;default:return}}function ZUe(){return[new Hw,new Ww]}function XUe(e){const t=jCe(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function JH(e){var i;return(e.name&&e.name.toLowerCase())==="name"?!0:((i=e.alias)==null?void 0:i.toLowerCase())==="name"}const QUe=["geometry","blob","raster","guid","xml"];var Gu;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(Gu||(Gu={}));const Ls="FeatureLayer";function c5(e,t){return new we("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function KH(e){return e&&e instanceof st}const mk=FUe();function gk(e,t,i){const r=!!(i!=null&&i.writeLayerSchema);return{enabled:r,ignoreOrigin:r}}let mt=class extends qBe(bUe(HVe(AUe(UVe(J7($Ue(xhe(Z7(vhe(pVe(FF(DF(W7(FVe(dVe(sr(nx))))))))))))))))){constructor(...t){super(...t),this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=At.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=J$(async(i,r,n)=>{const{save:o,saveAs:c}=await Ce(()=>import("./featureLayerUtils-BBg4A0MW.js"),__vite__mapDeps([224,225,226,227,223,228,129]),import.meta.url);switch(i){case Gu.SAVE:return o(this,r);case Gu.SAVE_AS:return c(this,n,r)}})}destroy(){var t;(t=this.source)==null||t.destroy()}normalizeCtorArgs(t,i){return typeof t=="string"?{url:t,...i}:t}load(t){var n;const i=t!=null?t.signal:null;if((n=this.portalItem)!=null&&n.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(i).then(o=>this.initLayerProperties(o))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(Ra).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const o=await this._fetchFirstValidLayerId(i);o!=null&&(this.layerId=o)}if(!this.url&&!this._hasMemorySource())throw new we("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(i))}).then(()=>$Be(this,"load",t));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(t,i){return i=i.layerDefinition||i,ohe(i,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var t;return!(this.loaded&&!((t=this.capabilities)!=null&&t.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,i){return this._readEditingEnabled(i,!1)}readEditingEnabledFromWebMap(t,i,r){return this._readEditingEnabled(i,!0,r)}writeEditingEnabled(t,i){this._writeEditingEnabled(t,i,!1)}writeEditingEnabledToWebMap(t,i,r,n){this._writeEditingEnabled(t,i,!0,n)}get effectiveEditingEnabled(){return MBe(this)}readIsTable(t,i){return(i=(i==null?void 0:i.layerDefinition)??i).type==="Table"||!i.geometryType}writeIsTable(t,i,r,n){n!=null&&n.writeLayerSchema&&As(r,t?"Table":"Feature Layer",i)}readGlobalIdField(t,i){return rhe(i.layerDefinition||i)}readObjectIdField(t,i){return nhe(i.layerDefinition||i)}get parsedUrl(){const t=Bn(this.url);return t!=null&&(this.dynamicDataSource!=null?t.path=rg(t.path,"dynamicLayer"):this.layerId!=null&&(t.path=rg(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){nq(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,i,r){var o;i=i.layerDefinition||i;const n=(o=i.drawingInfo)==null?void 0:o.renderer;if(n){const c=r3(n,i,r)??void 0;return c||Le.getLogger(this).error("Failed to create renderer",{rendererDefinition:i.drawingInfo.renderer,layer:this,context:r}),c}return PF(i,r)}set source(t){const i=this._get("source");i!==t&&(KH(i)&&this._resetMemorySource(i),KH(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof st?new Qc({layer:this,items:t}):t:null}readSource(t,i){const r=Gce.fromJSON(i.featureSet);return new Qc({layer:this,items:(r==null?void 0:r.features)??[]})}readTemplates(t,i){const r=i.editFieldsInfo,n=r==null?void 0:r.creatorField,o=r==null?void 0:r.editorField;return t=t==null?void 0:t.map(c=>zF.fromJSON(c)),this._fixTemplates(t,n),this._fixTemplates(t,o),t}readTitle(t,i){var o,c,f;const r=((o=i.layerDefinition)==null?void 0:o.name)??i.name,n=i.title||((c=i.layerDefinition)==null?void 0:c.title);if(r){const g=(f=this.portalItem)==null?void 0:f.title;if(this.sublayerTitleMode==="item-title")return this.url?sAe(this.url,r):r;let v=r;if(!v&&this.url){const _=Gg(this.url);_!=null&&(v=_.title)}return v?(this.sublayerTitleMode==="item-title-and-service-name"&&g&&g!==v&&(v=g+" - "+v),GN(v)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(t,i){var r;return i.title||((r=i.layerDefinition)==null?void 0:r.name)}readTypeIdField(t,i){let r=(i=i.layerDefinition||i).typeIdField;if(r&&i.fields){r=r.toLowerCase();const n=i.fields.find(o=>o.name.toLowerCase()===r);n&&(r=n.name)}return r}readTypes(t,i){t=(i=i.layerDefinition||i).types;const r=i.editFieldsInfo,n=r==null?void 0:r.creatorField,o=r==null?void 0:r.editorField;return t==null?void 0:t.map(c=>(c=_he.fromJSON(c),this._fixTemplates(c.templates,n),this._fixTemplates(c.templates,o),c))}readVisible(t,i){var r;return((r=i.layerDefinition)==null?void 0:r.defaultVisibility)!=null?!!i.layerDefinition.defaultVisibility:i.visibility!=null?!!i.visibility:void 0}async addAttachment(t,i){return aBe(this,t,i,Ls)}async updateAttachment(t,i,r){return lBe(this,t,i,r,Ls)}async applyEdits(t,i){return uBe(this,t,i)}async uploadAssets(t,i){return cBe(this,t,i)}on(t,i){return super.on(t,i)}createPopupTemplate(t){return qUe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:i}=await jte(Ce(()=>import("./FeatureLayerSource-DCW-2wLG.js"),__vite__mapDeps([229,36,42,230,221,39,85,38,86,220,23,21,231,232,50,48,49,11,10,14,121,233,13]),import.meta.url),t);return new i({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=wBe(this);t.dynamicDataSource=this.dynamicDataSource;const i=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,r=yCe(this.definitionExpression,i);return t.where=r||"1=1",t}async deleteAttachments(t,i){return hBe(this,t,i,Ls)}async fetchRecomputedExtents(t){return dBe(this,t,Ls)}getFeatureType(t){return CBe(this.types,this.typeIdField,t)}getFieldDomain(t,i){var c;const r=i==null?void 0:i.feature,n=_Be(this,r);if(n){const f=(c=n.domains)==null?void 0:c[t];return(f==null?void 0:f.type)==="inherited"?this._getLayerDomain(t):f}const o=this.getFeatureType(r);if(o){const f=o.domains&&o.domains[t];if(f&&f.type!=="inherited")return f}return this._getLayerDomain(t)}getField(t){return this.fieldsIndex.get(t)}async queryAttachments(t,i){return pBe(this,t,i,Ls)}async queryFeatures(t,i){const r=await this.load(),n=await r.source.queryFeatures(Th.from(t)??r.createQuery(),i);if(n!=null&&n.features)for(const o of n.features)o.layer=o.sourceLayer=r;return n}async queryObjectIds(t,i){return fBe(this,t,i,Ls)}async queryFeatureCount(t,i){return yBe(this,t,i,Ls)}async queryExtent(t,i){return mBe(this,t,i,Ls)}async queryRelatedFeatures(t,i){return gBe(this,t,i,Ls)}async queryRelatedFeaturesCount(t,i){return vBe(this,t,i,Ls)}async queryTopFeatures(t,i){var c;const{source:r,capabilities:n}=await this.load();if(!r.queryTopFeatures||!((c=n==null?void 0:n.query)!=null&&c.supportsTopFeaturesQuery))throw new we(Ls,"Layer source does not support queryTopFeatures capability");const o=await r.queryTopFeatures(u5.from(t),i);if(o!=null&&o.features)for(const f of o.features)f.layer=f.sourceLayer=this;return o}async queryTopObjectIds(t,i){const{source:r,capabilities:n}=await this.load();if(!r.queryTopObjectIds||!(n!=null&&n.query.supportsTopFeaturesQuery))throw new we(Ls,"Layer source does not support queryTopObjectIds capability");return r.queryTopObjectIds(u5.from(t),i)}async queryTopFeaturesExtent(t,i){var o;const{source:r,capabilities:n}=await this.load();if(!r.queryTopExtents||!((o=n==null?void 0:n.query)!=null&&o.supportsTopFeaturesQuery))throw new we(Ls,"Layer source does not support queryTopExtents capability");return r.queryTopExtents(u5.from(t),i)}async queryTopFeatureCount(t,i){var o;const{source:r,capabilities:n}=await this.load();if(!r.queryTopCount||!((o=n==null?void 0:n.query)!=null&&o.supportsTopFeaturesQuery))throw new we(Ls,"Layer source does not support queryFeatureCount capability");return r.queryTopCount(u5.from(t),i)}read(t,i){const r=t.featureCollection;if((r||t.type==="Feature Collection")&&(this.resourceInfo=t),r){const n=r.layers;n&&n.length===1&&(super.read(n[0],i),r.showLegend!=null&&super.read({showLegend:r.showLegend},i))}super.read(t,i),i&&i.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,i){i={...i,origin:(i==null?void 0:i.origin)??void 0,writeLayerSchema:(i==null?void 0:i.writeLayerSchema)??this._hasMemorySource()};const{origin:r,layerContainerType:n,messages:o}=i;if(this.dynamicDataSource)return o==null||o.push(c5(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((r==="web-map"||r==="web-scene")&&n!=="tables")return o==null||o.push(c5(this,`a table source can only be written to tables, not ${n}`)),null;if(this._hasMemorySource())return o==null||o.push(c5(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(r==="web-map"||r==="web-scene")&&n==="tables")return o==null||o.push(c5(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,i)}clone(){if(this._hasMemorySource())throw new we(Ls,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){var i;return!!this.loaded&&(((i=this.source)==null?void 0:i.type)==="memory"||BUe(this,t))}async save(t){return this._debouncedSaveOperations(Gu.SAVE,t)}async saveAs(t,i){return this._debouncedSaveOperations(Gu.SAVE_AS,i,t)}_readEditingEnabled(t,i,r){var o;let n=(o=t.layerDefinition)==null?void 0:o.capabilities;return n?this._hasEditingCapability(n):(n=t.capabilities,i&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(i=>i.trim()).includes("editing")}_writeEditingEnabled(t,i,r,n){var o,c;if(!t){const f=(c=(o=this.capabilities)==null?void 0:o.operations)!=null&&c.supportsSync?"Query,Sync":"Query";As("layerDefinition.capabilities",f,i),r&&!(n!=null&&n.writeLayerSchema)&&(i.capabilities=f)}}_getLayerDomain(t){const i=this.fieldsIndex.get(t);return i?i.domain:null}_fetchFirstValidLayerId(t){return Vi(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(i=>{const r=i.data;if(r)return this.findFirstValidLayerId(r)})}async initLayerProperties(t){var i;return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(i=this.portalItem)==null?void 0:i.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),nq(this.renderer,this.fieldsIndex),Coe(this.timeInfo,this.fieldsIndex),UUe(this,{origin:"service"})}async hasDataChanged(){return bBe(this)}async fetchPublishingStatus(){const t=this.source;return t!=null&&t.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){var i,r;const t=((i=this.parsedUrl)==null?void 0:i.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||(r=this.fields)!=null&&r.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,i){t&&t.forEach(r=>{var o;const n=(o=r.prototype)==null?void 0:o.attributes;n&&i&&delete n[i]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new we("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new we("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(i=>{i.layer=this,i.sourceLayer=this}),this.addHandles([t.on("after-add",i=>{i.item.layer=this,i.item.sourceLayer=this}),t.on("after-remove",i=>{i.item.layer=null,i.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(i=>{i.layer=null,i.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};b([qe("service","capabilities")],mt.prototype,"readCapabilities",null),b([$({json:{origins:{"web-scene":{write:!1}},write:!0}})],mt.prototype,"charts",void 0),b([$({readOnly:!0})],mt.prototype,"createQueryVersion",null),b([$({json:{read:{source:"layerDefinition.copyrightText"}}})],mt.prototype,"copyright",void 0),b([$({json:{read:{source:"layerDefinition.displayField"}}})],mt.prototype,"displayField",void 0),b([$({types:E0,readOnly:!0})],mt.prototype,"defaultSymbol",void 0),b([$({type:zl})],mt.prototype,"dynamicDataSource",void 0),b([$({type:Boolean})],mt.prototype,"editingEnabled",null),b([qe(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],mt.prototype,"readEditingEnabled",null),b([qe("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],mt.prototype,"readEditingEnabledFromWebMap",null),b([Ze(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],mt.prototype,"writeEditingEnabled",null),b([Ze("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],mt.prototype,"writeEditingEnabledToWebMap",null),b([$({readOnly:!0})],mt.prototype,"effectiveEditingEnabled",null),b([$({...mk.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:gk}}}}})],mt.prototype,"fields",void 0),b([$(mk.fieldsIndex)],mt.prototype,"fieldsIndex",void 0),b([$({type:aVe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],mt.prototype,"formTemplate",void 0),b([$({json:{read:{source:"layerDefinition.extent"}}})],mt.prototype,"fullExtent",void 0),b([$({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:gk,writer(e,t,i){const r=e?kP.toJSON(e):null;r&&As(i,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:kP.read}}})],mt.prototype,"geometryType",void 0),b([$({json:{read:{source:"layerDefinition.hasM"}}})],mt.prototype,"hasM",void 0),b([$({json:{read:{source:"layerDefinition.hasZ"}}})],mt.prototype,"hasZ",void 0),b([$(QVe)],mt.prototype,"id",void 0),b([$({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],mt.prototype,"infoFor3D",void 0),b([$({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],mt.prototype,"isTable",void 0),b([qe("service","isTable",["type","geometryType"]),qe("isTable",["layerDefinition.type","layerDefinition.geometryType"])],mt.prototype,"readIsTable",null),b([Ze("web-map","isTable")],mt.prototype,"writeIsTable",null),b([$(EF)],mt.prototype,"labelsVisible",void 0),b([$({type:[K7],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:yk,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:yk,write:{enabled:!0,layerContainerTypes:Vn}}},name:"layerDefinition.drawingInfo.labelingInfo",read:yk,write:!0}})],mt.prototype,"labelingInfo",void 0),b([$((()=>{const e=be(XVe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,r){As(r,x7(t),i)}}},e})())],mt.prototype,"opacity",void 0),b([$(Qce)],mt.prototype,"legendEnabled",void 0),b([$({type:["show","hide"],json:(()=>{const e=be(the.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],mt.prototype,"listMode",void 0),b([qe("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],mt.prototype,"readGlobalIdField",null),b([$({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:gk}}}}})],mt.prototype,"objectIdField",void 0),b([qe("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],mt.prototype,"readObjectIdField",null),b([$({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],mt.prototype,"operationalLayerType",void 0),b([$(mk.outFields)],mt.prototype,"outFields",void 0),b([$({readOnly:!0})],mt.prototype,"parsedUrl",null),b([$({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],mt.prototype,"path",void 0),b([$(IF)],mt.prototype,"popupEnabled",void 0),b([$({type:Vp,json:{name:"popupInfo",write:!0}})],mt.prototype,"popupTemplate",void 0),b([$({readOnly:!0})],mt.prototype,"defaultPopupTemplate",null),b([$({types:q7,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Rze,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Vn,overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],mt.prototype,"renderer",null),b([qe("service","renderer",["drawingInfo.renderer","defaultSymbol"]),qe("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],mt.prototype,"readRenderer",null),b([$()],mt.prototype,"resourceInfo",void 0),b([$((()=>{const e=be(YVe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],mt.prototype,"screenSizePerspectiveEnabled",void 0),b([$({clonable:!1})],mt.prototype,"source",null),b([$i("source")],mt.prototype,"castSource",null),b([qe("portal-item","source",["featureSet"]),qe("web-map","source",["featureSet"])],mt.prototype,"readSource",null),b([$({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],mt.prototype,"spatialReference",void 0),b([$({type:Number})],mt.prototype,"subtypeCode",void 0),b([$({type:[zF]})],mt.prototype,"templates",void 0),b([qe("templates",["editFieldsInfo","creatorField","editorField","templates"])],mt.prototype,"readTemplates",null),b([$({type:whe})],mt.prototype,"timeInfo",void 0),b([$()],mt.prototype,"title",void 0),b([qe("service","title",["name"]),qe("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],mt.prototype,"readTitle",null),b([qe("web-map","title",["layerDefinition.name","title"])],mt.prototype,"readTitleFromWebMap",null),b([$({type:String})],mt.prototype,"sublayerTitleMode",void 0),b([$({json:{read:!1}})],mt.prototype,"type",void 0),b([$({type:String})],mt.prototype,"typeIdField",void 0),b([qe("service","typeIdField"),qe("typeIdField",["layerDefinition.typeIdField"])],mt.prototype,"readTypeIdField",null),b([$({type:[_he]})],mt.prototype,"types",void 0),b([qe("service","types",["types"]),qe("types",["layerDefinition.types"])],mt.prototype,"readTypes",null),b([$({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],mt.prototype,"visible",void 0),b([qe("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],mt.prototype,"readVisible",null),mt=b([ne("esri.layers.FeatureLayer")],mt);const She=mt,eGe=Object.freeze(Object.defineProperty({__proto__:null,default:She},Symbol.toStringTag,{value:"Module"}));let Wc=class extends uF(dl.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var i,r;if(!((i=this.view)!=null&&i.ready))throw new we("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((r=this.view)==null?void 0:r.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};b([$()],Wc.prototype,"_goingHomeController",void 0),b([$({readOnly:!0})],Wc.prototype,"state",null),b([$()],Wc.prototype,"view",null),b([$({type:Qa})],Wc.prototype,"viewpoint",null),b([$()],Wc.prototype,"go",null),b([$()],Wc.prototype,"cancelGo",null),Wc=b([ne("esri.widgets.Home.HomeViewModel")],Wc);const $he=Wc;function VF(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,r=Array.isArray(e)?e:tGe(e);i.push(...r)}}function tGe(e){return e.split(",").map(t=>t.trim())}const iGe={base:"esri-home"};let Ta=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new $he,this._go=()=>{const{viewModel:r}=this;r.state==="going-home"?r.cancelGo():r.go()}}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),loader:()=>Ce(()=>import("./calcite-loader-EZ1RaAbP.js"),__vite__mapDeps([234,218,209,214,215]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var c;const{messagesCommon:t,messages:i,icon:r}=this,n=(c=this.viewModel)==null?void 0:c.state,o=n==="going-home";return Ee("div",{class:this.classes(iGe.base,Dt.widget)},Ee("calcite-button",{class:Dt.widgetButton,disabled:n==="disabled",iconStart:o?void 0:r,kind:"neutral",label:i.widgetLabel,onclick:this._go,scale:o?"s":"m",title:n==="going-home"?t.cancel:i.title},o?Ee("calcite-loader",{inline:!0,label:""}):null))}};b([$()],Ta.prototype,"goToOverride",null),b([$()],Ta.prototype,"icon",null),b([$()],Ta.prototype,"label",null),b([$(),no("esri/widgets/Home/t9n/Home")],Ta.prototype,"messages",void 0),b([$(),no("esri/t9n/common")],Ta.prototype,"messagesCommon",void 0),b([$()],Ta.prototype,"uiStrings",void 0),b([$()],Ta.prototype,"view",null),b([$({type:$he}),VF("go")],Ta.prototype,"viewModel",void 0),b([$()],Ta.prototype,"viewpoint",null),Ta=b([ne("esri.widgets.Home")],Ta);const rGe=Ta;var qu;(function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"})(qu||(qu={}));function nGe(e){return Mhe(e)||RL(e)||LL(e)}function Mhe(e){return wp(e)||YI(e)}const sGe=12;let gh=class fo{constructor(t){const i=fo.checkUnsupported(t);if(i!=null)throw i;const r=t;this.spatialReference=r.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=H3(this.spatialReference),this.origin=[r.origin.x,r.origin.y],this.pixelSize=r.size[0],this.dpi=r.dpi;const n=r.lods.reduce((v,_)=>(_.level<v.minLod.level&&(v.minLod=_),v.max=Math.max(v.max,_.level),v),{minLod:r.lods[0],max:-1/0}),o=n.minLod,c=2**o.level;let f=o.resolution*c,g=o.scale*c;this.levels=new Array(n.max+1);for(let v=0;v<this.levels.length;v++)this.levels[v]={resolution:f,scale:g,tileSize:[f*r.size[0],f*r.size[1]]},f/=2,g/=2}clone(){return new fo(this.toTileInfo())}toTileInfo(){return new B2({dpi:this.dpi,origin:new Pt({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,i)=>new Na({level:i,scale:t.scale,resolution:t.resolution}))})}getExtent(t,i,r,n){const o=this.levels[t],c=o.tileSize[0],f=o.tileSize[1];n[0]=this.origin[0]+r*c,n[2]=this.origin[0]+(r+1)*c,n[3]=this.origin[1]-i*f,n[1]=this.origin[1]-(i+1)*f}convertExtentToRadians(t,i){this._isWebMercator?(i[0]=pU(t[0]),i[1]=fU(t[1]),i[2]=pU(t[2]),i[3]=fU(t[3])):this._isGCS&&(i[0]=Hd(t[0]),i[1]=Hd(t[1]),i[2]=Hd(t[2]),i[3]=Hd(t[3]))}getExtentGeometry(t,i,r,n=new ci){return this.getExtent(t,i,r,uu),n.spatialReference=this.spatialReference,n.xmin=uu[0],n.ymin=uu[1],n.xmax=uu[2],n.ymax=uu[3],n.zmin=void 0,n.zmax=void 0,n}ensureMaxLod(t){if(t==null)return!1;let i=!1;for(;this.levels.length<=t;){const{resolution:r,scale:n}=this.levels[this.levels.length-1],o=r/2*this.pixelSize;this.levels.push({resolution:r/2,scale:n/2,tileSize:[o,o]}),i=!0}return i}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const i=this.levels[0].scale;return t>=i?0:Math.log(i/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,i=1/0){if(fo.checkUnsupported(t))return!1;const r=new fo(t);if(!r.spatialReference.equals(this.spatialReference)||r.pixelSize!==this.pixelSize)return!1;const n=Math.min(this.levels.length-1,r.levels.length-1,i),o=this.levels[n].resolution;let c=.5*o;return!cp(r.origin[0],this.origin[0],c)||!cp(r.origin[1],this.origin[1],c)?!1:(c=.5*o/2**n/this.pixelSize*sGe,cp(o,r.levels[n].resolution,c))}rootTilesInExtent(t,i=null,r=1/0){const n=new Array,o=this.levels[0].tileSize;if(t==null||o[0]===0||o[1]===0)return n;fo.computeRowColExtent(t,o,this.origin,uu);let c=uu[1],f=uu[3],g=uu[0],v=uu[2];const _=v-g,M=f-c;if(_*M>r){const T=Math.floor(Math.sqrt(r));M>T&&(c=c+Math.floor(.5*M)-Math.floor(.5*T),f=c+T),_>T&&(g=g+Math.floor(.5*_)-Math.floor(.5*T),v=g+T)}for(let T=c;T<f;T++)for(let E=g;E<v;E++)n.push([0,T,E]);return i!=null&&(i[0]=this.origin[0]+g*o[0],i[1]=this.origin[1]-f*o[1],i[2]=this.origin[0]+v*o[0],i[3]=this.origin[1]-c*o[1]),n}static computeRowColExtent(t,i,r,n){const o=.001*(t[2]-t[0]+(t[3]-t[1]));n[0]=Math.max(0,Math.floor((t[0]+o-r[0])/i[0])),n[2]=Math.max(0,Math.ceil((t[2]-o-r[0])/i[0])),n[1]=Math.max(0,Math.floor((r[1]-t[3]+o)/i[1])),n[3]=Math.max(0,Math.ceil((r[1]-t[1]-o)/i[1]))}static isPowerOfTwo(t){const i=t.lods,r=i[0].resolution*2**i[0].level;return!i.some(n=>!U5e(n.resolution,r/2**n.level))}static hasGapInLevels(t){const i=t.lods.map(r=>r.level);i.sort((r,n)=>r-n);for(let r=1;r<i.length;r++)if(i[r]!==i[0]+r)return!0;return!1}static tileSizeSupported(t){const i=t.size[1];return i===t.size[0]&&!(i&i-1)&&i>=128&&i<=512}static hasOriginPerLODs(t){const i=t.origin;return t.lods.some(r=>r.origin!=null&&(r.origin[0]!==i.x||r.origin[1]!==i.y))}static getMissingTileInfoError(){return new we("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?BF():t.lods.length<1?new we("tilingscheme:generic","Tiling scheme must have at least one level"):fo.isPowerOfTwo(t)?fo.hasGapInLevels(t)?new we("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):fo.tileSizeSupported(t)?fo.hasOriginPerLODs(t)?new we("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new we("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new we("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,i){const r=t[2]-t[0],n=t[3]-t[1],o=nu(i),c=1.2*Math.max(r,n),f=256,g=c/f,v=g*o*(96/.0254),_=new fo(new B2({size:[f,f],origin:new Pt({x:t[0]-.5*(c-r),y:t[3]+.5*(c-n)}),lods:[new Na({level:0,resolution:g,scale:v})],spatialReference:i}));return _.ensureMaxLod(20),_}static makeWebMercatorAuxiliarySphere(t){const i=new fo(fo.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(t),i}static makeGCSWithTileSize(t,i=256,r=16){const n=256/i,o=new fo(new B2({size:[i,i],origin:new Pt({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new Na({level:0,resolution:.703125*n,scale:295497598570834e-6*n})]}));return o.ensureMaxLod(r),o}get test(){}};function BF(){return new we("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}gh.WebMercatorAuxiliarySphereTileInfo=new B2({size:[256,256],origin:new Pt({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:At.WebMercator}),spatialReference:At.WebMercator,lods:[new Na({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),gh.WebMercatorAuxiliarySphere=gh.makeWebMercatorAuxiliarySphere(19);const uu=Fn(),YH=64;G5e(LI/10);const oGe=Fn();gh.WebMercatorAuxiliarySphere.getExtent(0,0,0,oGe);Fn([-180,-90,180,90]);const Z1=hl(),aGe=hl(),Sc=hl(),$c=hl();function lGe(e,t,i=0){const r=e.extent;if(r==null)return!1;if(i===0)return y4e(r,t);const n=Math.min(r[2]-r[0],r[3]-r[1]);return g4e(r,t,i*n)}function h5(e,t,i,r){cie(Z1,i),Z1[r]=t[r];const n=R2(Z1,Z1,t),o=R2(aGe,e,t),c=f4(o,n),f=f4(n,n);let g;g=c<=0?t:f<=c?i:die(Z1,t,SL(n,n,c/f));const v=R2(Z1,e,g);return Math.PI/2-Math.atan(v[2]/Math.sqrt(v[0]*v[0]+v[1]*v[1]))}function uGe(e,t,i){const r=e.extent;if(r==null)return 0;Sc[0]=r[0],Sc[1]=r[1],Sc[2]=i,$c[0]=r[2],$c[1]=r[3],$c[2]=i;let n=1/0,o=1/0;return t[0]<Sc[0]?n=h5(t,Sc,$c,0):t[0]>$c[0]&&(n=h5(t,$c,Sc,0)),t[1]<Sc[1]?o=h5(t,Sc,$c,1):t[1]>$c[1]&&(o=h5(t,$c,Sc,1)),Math.min(n,o)}function cGe(e,t,i,r){if(e==null)return BF();const n=e.spatialReference;if(n.isGeographic&&!Mhe(n))return new we("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const o=gh.checkUnsupported(e);return o??(i==null?new we("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):hGe(e,i)||(t==null||n.equals(t)||t.isWGS84&&n.isWebMercator?null:new we("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function hGe(e,t){const i=e.lods,r=i[0].resolution*2**i[0].level,n=[r*e.size[0],r*e.size[1]],o=[e.origin.x,e.origin.y],c=f4e(t),f=Fn();gh.computeRowColExtent(c,n,o,f);const g=(f[2]-f[0])*(f[3]-f[1]);if(g>YH){const v=i[0].scale*2**i[0].level;let _=Math.max((c[3]-c[1])/e.size[1],(c[2]-c[0])/e.size[0])*v/r;const M=Math.floor(Math.log(_)/Math.log(10));return _=Math.ceil(_/10**M)*10**M,new we("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(v).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+_.toLocaleString()+".",{level0Scale:v,suggestedLevel0Scale:_,requiredNumRootTiles:g,allowedNumRootTiles:YH})}return null}const dGe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:cGe,isInsideExtent:lGe,tiltToExtentEdge:uGe},Symbol.toStringTag,{value:"Module"}));function pGe(){return!0}function fGe(){return 0}function yGe(e,t,i,r){if(e==null)return BF();const n=(e==null?void 0:e.lods.length)-1,o=e.spatialReference;if(o.isWebMercator){if(!gh.makeWebMercatorAuxiliarySphere(n).compatibleWith(e,r))return new we("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!nGe(o))return new we("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!gh.makeGCSWithTileSize(e.spatialReference,e.size[0],n).compatibleWith(e,r))return e.spatialReference.isWGS84?new we("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new we("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new we("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const mGe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:yGe,isInsideExtent:pGe,tiltToExtentEdge:fGe},Symbol.toStringTag,{value:"Module"})),gGe={[kh.Global]:mGe,[kh.Local]:dGe};function DP(e,t,i,r,n){return gGe[r].checkIfTileInfoSupportedForViewSR(e,i,t,n)}function vGe(e,t,i){const r=$Te(e);if(r!=null){if(!st.isCollection(r))return{tileInfo:r.tileInfo,fullExtent:r.fullExtent};{const n=r.find(o=>DP(o.tileInfo,o.fullExtent,t,i)==null);if(n)return{tileInfo:n.tileInfo,fullExtent:n.fullExtent}}}return{tileInfo:null,fullExtent:null}}qu.NORTH,qu.EAST,qu.SOUTH,qu.WEST;qu.NORTH_EAST,qu.SOUTH_EAST,qu.SOUTH_WEST,qu.NORTH_WEST;function bGe(e,t){return e!=null&&(t==null||(t===kh.Local?!e.isGeographic||e.isWGS84||e.wkid===za.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===za.CGCS2000||e.wkid===za.GCSMARS2000||e.wkid===za.GCSMARS2000_SPHERE||e.wkid===za.GCSMOON2000))}async function wGe(e,t={}){const{basemap:i,view:r}=e;await i.load(t),_Ge(i),await $Ge(i,r,t),qi(t)}async function xGe(e,t={}){var f,g;const{basemap:i,view:r}=e;qi(t);const n=(f=i.baseLayers.find(v=>v.type==="unknown"))==null?void 0:f.loadError;if(n!=null)throw n;if(!r||"spatialReferenceLocked"in r&&!r.spatialReferenceLocked||(await i.load(t),qi(t),i.baseLayers.length===0))return;const o=i.baseLayers.at(0);if(!STe(o))return;if(i.spatialReference){if(r.spatialReference.equals(i.spatialReference))return;ZH()}await o.load(t),qi(t);const c=(("supportedSpatialReferences"in o?o.supportedSpatialReferences:null)||["tileInfo"in o?(g=o.tileInfo)==null?void 0:g.spatialReference:null]).filter(ss);c.length!==0&&c.every(v=>!r.spatialReference.equals(v))&&ZH()}function ZH(){throw new we("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function _Ge(e){if(e.baseLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(i=>!wTe(i)).map(i=>SGe(i));if(t.length)throw t[0]}function SGe(e){return new we("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function $Ge(e,t,i){if(e.baseLayers.length===0)return;const r=e.baseLayers.at(0);if(Use(r)){try{await r.load(i)}catch(n){const o="basemap-compatibility:unknown-error",c="Unknown basemap compatibility error",{name:f=o,message:g=c,details:v}=n;throw new we(f,g,v)}MGe(r,t)}}function MGe(e,t){var f;const i=t.state.viewingMode;if(!i)return;let r,n;if((e==null?void 0:e.type)==="wmts"){const g=vGe(e,t.spatialReference,i);if(g.tileInfo==null)throw new we("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");r=g.tileInfo,n=g.fullExtent}else r=e.tileInfo,n=e.fullExtent;if(r==null)return;if(!bGe(r.spatialReference,i))throw new we(`basemapgalleryitem:spatial-reference-unsupported-${Eq(i)}`,`Basemap spatial reference is unsupported in ${Eq(i)} mode`);const o=(e==null?void 0:e.type)==="vector-tile"?r.getCompatibleForVTL(256):null;if(i===kh.Global){let g=DP(r,n,null,i);if(g&&(e==null?void 0:e.type)==="vector-tile"&&n!=null&&o&&!DP(o,n,null,i)&&(g=null),g){const v=r.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new we(`basemapgalleryitem:tiling-scheme-unsupported-${v}-global`,"Basemap tiling scheme is unsupported in global mode",{error:g})}}else if(gh.checkUnsupported(r))throw new we("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const c=(f=t.basemapTerrain)==null?void 0:f.tilingScheme;if(c&&!c.compatibleWith(r)&&((e==null?void 0:e.type)!=="vector-tile"||!o||!c.compatibleWith(o)))throw new we("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let Cu=class extends jh(vt){constructor(t){super(t),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const t=()=>this.refresh();this.addHandles([nt(()=>{var i;return(i=this.basemap)==null?void 0:i.loadStatus},t),nt(()=>this.compatibilityFunction,t),nt(()=>{var i;return this.view&&"basemapTerrain"in this.view&&((i=this.view.basemapTerrain)==null?void 0:i.tilingScheme)},t),nt(()=>{var i;return(i=this.view)==null?void 0:i.ready},t),nt(()=>{var i;return(i=this.view)==null?void 0:i.spatialReference},t)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return nCe(this.view,this.basemap)}set basemap(t){t&&t.load().catch(()=>{}),this._set("basemap",t)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var n;this._cancelRefresh(),this._set("state","loading");const t=(n=this.basemap)==null?void 0:n.loadStatus;if(t!=="loaded"&&t!=="failed")return;if(!this.compatibilityFunction)return void(t==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const i=new AbortController,{signal:r}=i;this.compatibilityFunction(this,{signal:r}).then(()=>lg(()=>!this._spatialReferenceTask.updating,r)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(o=>{Os(o)||(this._set("state","error"),this._set("error",o))}),this._refreshController=i}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};b([$({readOnly:!0})],Cu.prototype,"_spatialReferenceTask",null),b([$()],Cu.prototype,"basemap",null),b([$()],Cu.prototype,"compatibilityFunction",void 0),b([$({readOnly:!0})],Cu.prototype,"error",void 0),b([$({readOnly:!0})],Cu.prototype,"spatialReference",null),b([$({readOnly:!0})],Cu.prototype,"state",void 0),b([$()],Cu.prototype,"view",void 0),Cu=b([ne("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Cu);const The=Cu,khe=st.ofType(dp);let p2=class extends vt{constructor(t){super(t),this.basemaps=new khe}destroy(){this.basemaps.forEach(t=>t.destroy())}get state(){return"ready"}refresh(){}};b([$({type:khe})],p2.prototype,"basemaps",void 0),b([$({readOnly:!0})],p2.prototype,"state",null),p2=b([ne("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],p2);const Che=p2,Ihe=st.ofType(dp);let Iu=class extends al.LoadableMixin(ix(Che)){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new Ihe,this.filterFunction=null,this.portal=kn.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(nt(()=>{var t,i,r;return[this.filterFunction,this.loadStatus,(t=this.portal)==null?void 0:t.basemapGalleryGroupQuery,(i=this.portal)==null?void 0:i.basemapGalleryGroupQuery3D,(r=this.portal)==null?void 0:r.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),Xi))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(t=>t.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,i=new AbortController;this._lastPortalBasemapFetchController=i,this.notifyChange("state");try{const r=await t.fetchBasemaps(this._toQueryString(this.query),{signal:i.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(r)}catch(r){if(Os(r))throw r;Le.getLogger(this).warn(new we("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:r})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(t){return t&&typeof t!="string"?Object.keys(t).map(i=>`${i}:${t[i]}`).join(" AND "):t}async _updateBasemaps(t=[]){let i=await this._filterBasemaps(t);i=this.updateBasemapsCallback?await this.updateBasemapsCallback(i):i,this.basemaps.removeAll(),this.basemaps.addMany(i)}async _filterBasemaps(t){if(!this.filterFunction)return t;const i=t.map(this.filterFunction),r=await Promise.all(i);return t.filter((n,o)=>r[o])}};b([$({readOnly:!0,type:Ihe})],Iu.prototype,"basemaps",void 0),b([$()],Iu.prototype,"filterFunction",void 0),b([$({type:kn})],Iu.prototype,"portal",void 0),b([$()],Iu.prototype,"query",void 0),b([$({readOnly:!0})],Iu.prototype,"state",null),b([$()],Iu.prototype,"updateBasemapsCallback",void 0),b([$()],Iu.prototype,"viewType",void 0),Iu=b([ne("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],Iu);const f2=Iu,Ehe=st.ofType(The);function TGe(e){return e&&e.declaredClass==="esri.portal.Portal"}function kGe(e){return e&&!(e instanceof f2)&&(!!e.portal||!!e.query)}function CGe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let ka=class extends al{constructor(t){super(t),this._loadingProjectionEngine=!1,this.items=new Ehe,this.source=new f2,this.view=null}initialize(){const t=()=>this._recreateItems();this.addHandles([nt(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),ro(()=>{var i;return(i=this.source)==null?void 0:i.basemaps},"change",t,{onListenerAdd:t}),oa(()=>this.view,()=>{var i;this.source instanceof f2&&(this.source.viewType=(i=this.view)==null?void 0:i.type)},{once:!0})])}destroy(){var i;const t=this.source.basemaps.find(r=>r===this.activeBasemap);t&&this.source.basemaps.remove(t),(i=this.source)==null||i.destroy()}get activeBasemap(){var t,i;return((i=(t=this.view)==null?void 0:t.map)==null?void 0:i.basemap)??null}set activeBasemap(t){var o,c;const i=this.view;if(!(i!=null&&i.map))return;const r=typeof t=="string"?dp.fromId(t):t;if(!r||!i.ready)return i.map.basemap=r,void this._clearOverride("activeBasemap");const n=r.spatialReference||((c=(o=this.items)==null?void 0:o.find(f=>this.basemapEquals(r,f.basemap)))==null?void 0:c.spatialReference);if(n&&"spatialReferenceLocked"in i&&!i.spatialReferenceLocked){const f=i.spatialReference;if(n!=null&&!tn(f,n)&&!tu(i.spatialReference,n)&&!Ah())return this._override("activeBasemap",r),this._loadingProjectionEngine=!0,void Mh().then(()=>{this._get("activeBasemap")===t&&(i.map.basemap=t,i.spatialReference=n,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});i.map.basemap=r,this._clearOverride("activeBasemap"),n==null||tn(i.spatialReference,n)||(i.spatialReference=n)}else i.map.basemap=r,this._clearOverride("activeBasemap")}get activeBasemapIndex(){const{state:t,activeBasemap:i}=this;return t!=="ready"?-1:this._findBasemapIndex(i)}get compatibilityFunction(){var t;return((t=this.view)==null?void 0:t.type)==="3d"?wGe:xGe}set compatibilityFunction(t){this._overrideIfSome("compatibilityFunction",t)}castSource(t){return Array.isArray(t)||st.isCollection(t)?new Che({basemaps:Array.isArray(t)?new st(t):t}):TGe(t)?new f2({portal:t}):kGe(t)?new f2(t):CGe(t)?t:null}get state(){var t;return(t=this.view)!=null&&t.ready&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(t,i){return rCe(t,i)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(t){return this.addResolvingPromise(al.isLoadable(this.source)?this.source.load(t):null),Promise.resolve(this)}_findBasemapIndex(t){const{items:i}=this,r=i.findIndex(n=>n.basemap===t);return r===-1?i.findIndex(n=>this.basemapEquals(n.basemap,t)):r}_recreateItems(){var c;const t=((c=this.source)==null?void 0:c.basemaps)??[],{view:i,compatibilityFunction:r}=this,n=new Map(this.items.map(f=>[f.basemap,f])),o=t.map(f=>{const g=n.get(f);return g?(n.delete(f),g):new The({basemap:f,compatibilityFunction:r,view:i})});this.items.removeAll(),this.items.addMany(o),n.forEach(f=>f.destroy())}_updateItems(){for(const t of this.items)t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}};b([$()],ka.prototype,"_loadingProjectionEngine",void 0),b([$()],ka.prototype,"activeBasemap",null),b([$({readOnly:!0})],ka.prototype,"activeBasemapIndex",null),b([$()],ka.prototype,"compatibilityFunction",null),b([$({readOnly:!0,type:Ehe})],ka.prototype,"items",void 0),b([$()],ka.prototype,"source",void 0),b([$i("source")],ka.prototype,"castSource",null),b([$({readOnly:!0})],ka.prototype,"state",null),b([$()],ka.prototype,"view",void 0),ka=b([ne("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],ka);const IGe=ka,Oo="esri-basemap-gallery",Ro={base:Oo,sourceLoading:`${Oo}--source-loading`,layoutGrid:`${Oo}--grid`,narrowItems:`${Oo}--narrow-items`,loader:`${Oo}__loader`,item:`${Oo}__item`,itemContainer:`${Oo}__item-container`,itemContent:`${Oo}__item-content`,itemTitle:`${Oo}__item-title`,itemTagsContainer:`${Oo}__item-tags-container`,itemThumbnail:`${Oo}__item-thumbnail`,selectedItem:`${Oo}__item--selected`,itemError:`${Oo}__item--error`};function EGe({level:e,class:t,...i},r){const n=Ahe(e);return Ee(`h${n}`,{...i,"aria-level":String(n),class:Cse(Dt.heading,t),role:"heading"},r)}function Ahe(e){return ol(Math.ceil(e),1,6)}function vSt(e,t=1){return Ahe(e+t)}const vk={small:200,default:280,wide:420};let ws=class extends pl{constructor(t,i){super(t,i),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new IGe,this._focusBasemapItemEnabled=!1,this._container=null,this._width=0,this._onContainerCreated=r=>{this._container=r}}initialize(){this.addHandles([mMe(()=>this._container,({contentRect:t})=>{this._width=t.width}),oa(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0})])}loadDependencies(){return qp({scrim:()=>Ce(()=>import("./calcite-scrim-DneRn_9b.js"),__vite__mapDeps([235,236,214,209,215,216,218]),import.meta.url),chip:()=>Ce(()=>import("./calcite-chip-DsyFtY8M.js"),__vite__mapDeps([237,209,213,216,214,215,210,212,217]),import.meta.url)})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(t){this.viewModel.activeBasemap=t}get icon(){return"basemap"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get source(){return this.viewModel.source}set source(t){this.viewModel.source=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.source.state==="loading",i=this.disabled||this.viewModel.state==="disabled",r=this.viewModel.items,n={[Ro.sourceLoading]:t,[Dt.disabled]:i},o=this._width;o<=vk.small||o>=vk.wide?n[Ro.layoutGrid]=!0:o<vk.default&&(n[Ro.narrowItems]=!0);const c=t?Ee("div",{class:Ro.loader,key:"loader"}):null,f=t?null:r.length>0?Ee("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:Ro.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},r.map((g,v)=>this._renderBasemapGalleryItem(g,v)).toArray()):Ee("div",{class:Dt.empty,key:"empty-message"},Ee(EGe,{level:this.headingLevel},this.messages.noBasemaps));return Ee("div",{afterCreate:this._onContainerCreated,class:this.classes(Ro.base,Dt.widget,Dt.panel,n),key:"container"},this._width===0?null:[c,f])}_getRoundRobinIndex(t,i){return(t+i)%i}_handleKeyDown(t){const{key:i}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(i))return;t.preventDefault();const{items:r,activeBasemapIndex:n}=this.viewModel,o=i==="ArrowUp"||i==="ArrowLeft"?this._getRoundRobinIndex(Math.max(n-1,-1),r.length):this._getRoundRobinIndex(n+1,r.length),c=r.at(o);(c==null?void 0:c.state)==="ready"&&(this.viewModel.activeBasemap=c.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(t){this._focusBasemapItemEnabled&&t.tabIndex===0&&(t.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(t){const i=t.currentTarget["data-item"];i.state==="ready"&&(this.viewModel.activeBasemap=i.basemap)}_renderBasemapGalleryItem(t,i){var R,N;const r=lCe(t.basemap)||Si("esri/themes/base/images/basemap-toggle-64.svg"),n=t.basemap.title,o=(R=t.basemap.portalItem)==null?void 0:R.snippet,c=((N=t.error)==null?void 0:N.message)||o||n,{viewModel:{state:f,activeBasemapIndex:g}}=this,v=this.disabled||f==="disabled",_=g===i,M=_||g===-1&&i===0?0:-1,T=f==="loading",E={[Ro.selectedItem]:_,[Ro.itemError]:t.state==="error"},j=`basemapgallery-item-${t.uid}`;return Ee("li",{afterUpdate:this._focusBasemapItem,"aria-checked":_.toString(),"aria-disabled":v.toString(),"aria-labelledby":j,bind:this,class:this.classes(Ro.item,E),"data-item":t,key:t.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:M,title:c},Ee("img",{alt:"",class:Ro.itemThumbnail,src:r}),Ee("div",{class:Ro.itemContent,key:"content"},Ee("div",{class:Ro.itemTitle,key:"title"},Ee("span",{id:j},n)),eCe(t.basemap)?this._renderTags(t.basemap):null),t.state==="loading"||_&&T?Ee("calcite-scrim",null,Ee("span",{"aria-hidden":"true",class:Dt.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(t){return Ee("div",{class:Ro.itemTagsContainer,key:"tag"},this._render3DTag(),tCe(t)?this._renderBetaTag():null)}_render3DTag(){const{messages:t}=this;return Ee("calcite-chip",{key:"tag-3d",scale:"s",value:t.tag3D},this.messages.tag3D)}_renderBetaTag(){const{messages:t}=this;return Ee("calcite-chip",{appearance:"outline-fill",key:"tag-beta",scale:"s",value:t.tagBeta},this.messages.tagBeta)}};b([$()],ws.prototype,"activeBasemap",null),b([$()],ws.prototype,"disabled",void 0),b([$()],ws.prototype,"headingLevel",void 0),b([$()],ws.prototype,"icon",null),b([$()],ws.prototype,"label",null),b([$(),no("esri/widgets/BasemapGallery/t9n/BasemapGallery")],ws.prototype,"messages",void 0),b([$()],ws.prototype,"source",null),b([$()],ws.prototype,"view",null),b([$()],ws.prototype,"viewModel",void 0),b([$()],ws.prototype,"_focusBasemapItemEnabled",void 0),b([$()],ws.prototype,"_container",void 0),b([$()],ws.prototype,"_width",void 0),b([l6()],ws.prototype,"_handleClick",null),ws=b([ne("esri.widgets.BasemapGallery")],ws);const AGe=ws;let Hc=class extends vt{constructor(t){super(t),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this)}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){var t;return((t=this.view)==null?void 0:t.container)??null}set element(t){this._override("element",t)}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const t=this._getVendorInfo(this.element);return this._addFullscreenListeners(t),this._vendorInfo=t,!!t}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),this.state==="active"?this._addStyle():this._removeStyle()}_errorHandler(t){Le.getLogger(this).error("fullscreen request failed",t)}_getVendorInfo(t){if(t)return t.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:t.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:t.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:void 0}_enterFullscreen(){if(this.state==="feature-unsupported")return void Le.getLogger(this).warn("The fullscreen API is not supported in this browser.");const{element:t}=this;t&&(this._vendorInfo&&t[this._vendorInfo.enterName].call(t),this.notifyChange("state"))}_addStyle(){const{element:t}=this;t&&t.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:t}=this;t&&t.removeAttribute("style")}_exitFullscreen(){if(this.state==="feature-unsupported")return;const{element:t}=this;t&&(this._vendorInfo&&document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(t){t&&(document.addEventListener(t.changeEventName,this._stateHandler),document.addEventListener(t.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:t}=this;t&&(document.removeEventListener(t.changeEventName,this._stateHandler),document.removeEventListener(t.errorEventName,this._errorHandler))}};b([$()],Hc.prototype,"element",null),b([$({readOnly:!0})],Hc.prototype,"state",null),b([$()],Hc.prototype,"view",void 0),b([$()],Hc.prototype,"enter",null),b([$()],Hc.prototype,"exit",null),b([$()],Hc.prototype,"toggle",null),Hc=b([ne("esri.widgets.Fullscreen.FullscreenViewModel")],Hc);const jhe=Hc,jGe={base:"esri-fullscreen"};let Eu=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new jhe,this._toggle=()=>{this.viewModel.toggle()}}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get element(){return this.viewModel.element}set element(t){this.viewModel.element=t}get fullscreenTitle(){var i;const t=(i=this.viewModel)==null?void 0:i.state;return t==="active"?this.messages.exit:t==="ready"?this.messages.enter:""}get icon(){var i;const t=(i=this.viewModel)==null?void 0:i.state;return t==="ready"||t==="disabled"||t==="feature-unsupported"?"zoom-out-fixed":"zoom-in-fixed"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var o;const{fullscreenTitle:t,icon:i}=this,r=(o=this.viewModel)==null?void 0:o.state,n=r==="feature-unsupported";return Ee("div",{class:this.classes(jGe.base,Dt.widget)},!n&&Ee("calcite-button",{class:Dt.widgetButton,disabled:r==="disabled",iconStart:i,kind:"neutral",label:t,onclick:this._toggle,title:t}))}};b([$()],Eu.prototype,"element",null),b([$({readOnly:!0})],Eu.prototype,"fullscreenTitle",null),b([$()],Eu.prototype,"icon",null),b([$()],Eu.prototype,"label",null),b([$(),no("esri/widgets/Fullscreen/t9n/Fullscreen")],Eu.prototype,"messages",void 0),b([$()],Eu.prototype,"view",null),b([$({type:jhe})],Eu.prototype,"viewModel",void 0),Eu=b([ne("esri.widgets.Fullscreen")],Eu);const PGe=Eu;let Jc=class extends J7(Z7(nx)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new A0,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,i){return super.on(t,i)}graphicChanged(t){this.emit("graphic-update",t)}};b([$({type:Zce})],Jc.prototype,"elevationInfo",void 0),b([$(PE(A0,"graphics"))],Jc.prototype,"graphics",void 0),b([$({type:["show","hide"]})],Jc.prototype,"listMode",void 0),b([$()],Jc.prototype,"screenSizePerspectiveEnabled",void 0),b([$({readOnly:!0})],Jc.prototype,"type",void 0),b([$({constructOnly:!0})],Jc.prototype,"internal",void 0),Jc=b([ne("esri.layers.GraphicsLayer")],Jc);const OGe=Jc;let Td=class extends vt{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(ro(()=>{var t;return(t=this.view)==null?void 0:t.ui},"expand",t=>{const{target:i}=t;i&&i!==this&&i.expanded&&i.group&&i.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){var n;const i=!!t;this._set("expanded",i);const r=(n=this.view)==null?void 0:n.ui;r&&r.emit("expand",{target:this}),this._viewpointHandleChange(i)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&oa(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?oa(()=>{var i;return(i=this.view)==null?void 0:i.stationary},()=>{var i;return(i=this._viewpointHandle)==null?void 0:i.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;const{autoCollapse:i,view:r}=this;if(!r||!i)return;const n=V4e(()=>r.type==="3d"?r.camera:r.viewpoint,()=>this._collapse());this.addHandles(n,t),this._viewpointHandle=n}_collapse(){this.expanded=!1}};b([$({value:!1})],Td.prototype,"autoCollapse",null),b([$({value:!1})],Td.prototype,"expanded",null),b([$()],Td.prototype,"group",void 0),b([$({readOnly:!0})],Td.prototype,"state",null),b([$({value:null})],Td.prototype,"view",null),Td=b([ne("esri.widgets.Expand.ExpandViewModel")],Td);const Phe=Td;function rw(e){return e&&typeof e.render=="function"}function RGe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const ya="esri-expand",Lo={base:ya,toggle:`${ya}__toggle`,popoverContent:`${ya}__popover-content`,panel:`${ya}__panel`,panelContent:`${ya}__panel-content`,sheet:`${ya}__sheet`,panelIconNumber:`${ya}__panel-icon-number`,contentContainer:`${ya}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${ya}__icon--expanded`,iconNumber:`${ya}__icon-number`,content:`${ya}__content`,contentExpanded:`${ya}__content--expanded`},XH="chevrons-left",QH="chevrons-right";let Pr=class extends pl{constructor(t,i){super(t,i),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new Phe,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=r=>{r.target===this._popoverEl&&(this.viewModel.expanded=r.target.open)},this._handleSheetClose=r=>{this.viewModel.expanded=r.target.open},this._handlePanelClose=r=>{this.viewModel.expanded=!r.target.closed},this._handleKeyDown=r=>{this.viewModel.expanded&&r.key==="Escape"&&!this._willCloseOnEsc(r)&&r.preventDefault()},this._storeToggleButtonEl=r=>{this._toggleButtonEl=r},this._storePopoverEl=r=>{this._popoverEl=r}}loadDependencies(){return qp({button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-BglXzQj1.js"),__vite__mapDeps([219,217,209,215]),import.meta.url),panel:()=>Ce(()=>import("./calcite-panel-CtbukTGW.js"),__vite__mapDeps([238,239,209,210,213,215,240,214,241,212,216,217,218,242,243,244,245,246,236]),import.meta.url),popover:()=>Ce(()=>import("./calcite-popover-B5rv8MYF.js"),__vite__mapDeps([247,242,243,209,244,245,246,214,215,216,213,212,241,210,217,218]),import.meta.url),sheet:()=>Ce(()=>import("./calcite-sheet-C1bhsGQw.js"),__vite__mapDeps([248,209,245,213,215,246,218,214,236,216]),import.meta.url)})}get expandTitle(){const{expanded:t,messagesCommon:i,collapseTooltip:r,expandTooltip:n}=this;return(t?r||(i==null?void 0:i.collapse):n||(i==null?void 0:i.expand))??""}get _displaySheet(){var t;switch(this.mode){case"drawer":return!0;case"auto":return((t=this.viewModel.view)==null?void 0:t.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return QH}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return rw(this.content)?this.content.icon:XH}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){var t;return(rw(this.content)?this.content.label:null)??((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:t,_toggleButtonEl:i,viewModel:{expanded:r},label:n,placement:o}=this;return Ee("div",{class:this.classes(Lo.base,Dt.widget)},this._renderToggle(),t?Ee("calcite-sheet",{class:Lo.sheet,heightScale:"l",label:n,onkeydown:this._handleKeyDown,open:r,position:"block-end",onCalciteSheetClose:this._handleSheetClose},Ee("calcite-panel",{class:Lo.panel,closable:!0,closed:!r,heading:n,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},Ee("div",{class:Lo.panelContent},this._renderContent()))):i?Ee("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,label:n,onkeydown:this._handleKeyDown,open:r,overlayPositioning:"fixed",placement:o??this._getPlacement(),referenceElement:i,onCalcitePopoverClose:this._handlePopoverClose},Ee("div",{class:Lo.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:t,view:i}=this,r=t&&i?i.ui.getPosition(t):null;if(!r||r==="manual")return"auto";const[n,o]=r.split("-");return`${o==="right"?"left":"right"}-${n==="bottom"?"end":"start"}`}_willCloseOnEsc(t){const{closeOnEsc:i}=this;return typeof i=="function"?i(t):i}_renderBadgeNumber(){const{expanded:t,iconNumber:i}=this;return i&&!t?Ee("span",{class:Lo.iconNumber,key:"expand__icon-number"},i):null}_renderToggleButton(){const{expanded:t,expandTitle:i,expandIcon:r,collapseIcon:n}=this,o=t?n:r,c=o===XH||o===QH;return Ee("calcite-button",{afterCreate:this._storeToggleButtonEl,afterUpdate:this._storeToggleButtonEl,class:Dt.widgetButton,kind:"neutral",label:i,onclick:this.toggle,scale:"s",title:i},o?Ee("calcite-icon",{class:this.classes(Lo.icon,c&&Lo.iconFlip),icon:o,scale:"s"}):null)}_renderToggle(){return Ee("div",{class:Lo.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:t}=this;return typeof t=="string"?Ee("div",{class:Lo.contentContainer,innerHTML:t,key:"content__string"}):rw(t)?Ee("div",{class:Lo.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?Ee("div",{afterCreate:this._attachToNode,bind:t,class:Lo.contentContainer,key:"content__html-element"}):RGe(t)?Ee("div",{afterCreate:this._attachToNode,bind:t.domNode,class:Lo.contentContainer,key:"content__node"}):null}_attachToNode(t){const i=this;t.appendChild(i)}};b([$({readOnly:!0})],Pr.prototype,"expandTitle",null),b([$()],Pr.prototype,"_toggleButtonEl",void 0),b([$()],Pr.prototype,"_displaySheet",null),b([$()],Pr.prototype,"autoCollapse",null),b([$()],Pr.prototype,"closeOnEsc",void 0),b([$()],Pr.prototype,"collapseIcon",null),b([$()],Pr.prototype,"collapseTooltip",void 0),b([$()],Pr.prototype,"content",void 0),b([$()],Pr.prototype,"expanded",null),b([$()],Pr.prototype,"expandIcon",null),b([$()],Pr.prototype,"expandTooltip",void 0),b([$()],Pr.prototype,"group",null),b([$()],Pr.prototype,"icon",null),b([$()],Pr.prototype,"iconNumber",void 0),b([$()],Pr.prototype,"label",null),b([$(),no("esri/widgets/Expand/t9n/Expand")],Pr.prototype,"messages",void 0),b([$(),no("esri/t9n/common")],Pr.prototype,"messagesCommon",void 0),b([$()],Pr.prototype,"mode",void 0),b([$()],Pr.prototype,"placement",void 0),b([$()],Pr.prototype,"view",null),b([$({type:Phe})],Pr.prototype,"viewModel",void 0),Pr=b([ne("esri.widgets.Expand")],Pr);const eJ=Pr,lr="esri-search",Wi={base:lr,hasMultipleSources:`${lr}--multiple-sources`,isLoading:`${lr}--loading`,isSearching:`${lr}--searching`,showSuggestions:`${lr}--show-suggestions`,showSources:`${lr}--sources`,showWarning:`${lr}--warning`,container:`${lr}__container`,input:`${lr}__input`,inputContainer:`${lr}__input-container`,form:`${lr}__form`,submitButton:`${lr}__submit-button`,sourcesButton:`${lr}__sources-button`,sourcesButtonDown:`${lr}__sources-button--down`,sourcesButtonUp:`${lr}__sources-button--up`,clearButton:`${lr}__clear-button`,sourceName:`${lr}__source-name`,suggestionsMenu:`${lr}__suggestions-menu`,suggestionList:`${lr}__suggestions-list`,suggestionListCurrentLocation:`${lr}__suggestions-list--current-location`,sourcesMenu:`${lr}__sources-menu`,source:`${lr}__source`,warningMenu:`${lr}__warning-menu`,warningMenuBody:`${lr}__warning-body`,warningMenuHeader:`${lr}__warning-header`,warningMenuText:`${lr}__warning-text`,noValueText:`${lr}__no-value-text`},tf="esri-search-result-renderer",rf={base:tf,showMoreResults:`${tf}__more-results--show-more-results`,moreResults:`${tf}__more-results`,moreResultsList:`${tf}__more-results-list`,moreResultsHeader:`${tf}__more-results-header`,moreResultsItem:`${tf}__more-results-item`,moreResultsListHeader:`${tf}__more-results-list-header`},Ohe=96;function tJ(e,t){const i=e.extent,r=e.width,n=nu(i==null?void 0:i.spatialReference);return i&&r?i.width/r*n*Zie*Ohe:0}function LGe(e,t){return e/(nu(t)*Zie*Ohe)}function NGe(e,t){const i=e.extent,r=e.width-(e.padding?e.padding.left+e.padding.right:0),n=LGe(t,i.spatialReference);return i.clone().expand(n*r/i.width)}function MSt(e,t,i){return FGe(e,t)&&DGe(e,i)}function FGe(e,t){return t===0||cp(e,t)||e<t}function DGe(e,t){return t===0||cp(e,t)||e>t}function iJ(e){var t;switch(e==null?void 0:e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}async function zGe(e,t){var n,o;if(e.hasZ||t.type==="2d")return e;const i=(n=t.map)==null?void 0:n.ground;if(!(i!=null&&i.layers.length))return e;const{geometry:r}=await i.queryElevation(e,{cache:(o=t.basemapTerrain)==null?void 0:o.elevationQueryCache});return r}function zP(e,t,i){return Rhe(e.center,t,i)}function UF(e,t,i){switch(e==null?void 0:e.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return Rhe(e,t,i);default:return null}}function Rhe(e,t,i){const r=e.hasZ?e.z:void 0;if(t!=null&&t.map)return(i!=null?NGe(t,i):t.extent).clone().centerAt(e).set({zmax:r,zmin:r});const{x:n,y:o,spatialReference:c}=e;return new ci({xmin:n-.25,ymin:o-.25,xmax:n+.25,ymax:o+.25,spatialReference:c,zmin:r,zmax:r})}function VGe(e){return e&&typeof e.highlight=="function"}function BGe(e,t,i){return e==null||e>=i&&(t===0||e<=t)}function TSt(e,t){if(t&&e){const{minScale:i,maxScale:r}=e;if(UGe(i,r))return BGe(t,i,r)}return!0}function UGe(e,t){return e!=null&&e>0||t!=null&&t>0}function kSt(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}let sn=class extends jh(Ne){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};b([$()],sn.prototype,"autoNavigate",void 0),b([$()],sn.prototype,"filter",void 0),b([$()],sn.prototype,"getResults",void 0),b([$()],sn.prototype,"getSuggestions",void 0),b([$()],sn.prototype,"maxResults",void 0),b([$()],sn.prototype,"maxSuggestions",void 0),b([$()],sn.prototype,"minSuggestCharacters",void 0),b([$()],sn.prototype,"outFields",void 0),b([$()],sn.prototype,"placeholder",void 0),b([$()],sn.prototype,"popupEnabled",void 0),b([$()],sn.prototype,"popupTemplate",void 0),b([$()],sn.prototype,"prefix",void 0),b([$()],sn.prototype,"resultGraphicEnabled",void 0),b([$()],sn.prototype,"resultSymbol",void 0),b([$()],sn.prototype,"suggestionsEnabled",void 0),b([$()],sn.prototype,"suffix",void 0),b([$()],sn.prototype,"withinViewEnabled",void 0),b([$()],sn.prototype,"zoomScale",void 0),sn=b([ne("esri.widgets.Search.SearchSource")],sn);const GF=sn,GGe=/https?:\/\/services.*\.arcgis\.com/i,qGe=/(?:\{([^}]+)\})/g,Vm=()=>Le.getLogger("esri.widgets.Search.support.layerSearchUtils");function WGe(e,t){const{exactMatch:i=!1,location:r,maxResults:n,spatialReference:o,source:c,sourceIndex:f,suggestResult:g,view:v}=e,{layer:_,filter:M,zoomScale:T}=c,E=v==null?void 0:v.scale,j=Lhe(c,v),R=t==null?void 0:t.signal;return Fhe(_).then(()=>{const N=_.popupTemplate;return N?N.getRequiredFields(_.fieldsIndex):null}).then(N=>{var ee,le,ue,ae;const{objectIdField:F,returnZ:V}=_,z=Ghe(c);if(!qF(_,z))throw Vm().error("invalid-field: displayField is invalid."),new we("getResults():invalid-field","displayField is invalid.");const G=N!=null&&N.length?N:[z],H=c.outFields||G,Z=Nhe(H);if(H.includes(F)||Z||H.push(F),(ee=_.floorInfo)!=null&&ee.floorField&&H.push(_.floorInfo.floorField),!(Z||p6(_,H)))throw Vm().error("invalid-field: outField is invalid."),new we("getResults():invalid-field","outField is invalid.");const Y=_.createQuery(),{orderByFields:re}=c;if(re&&(Y.orderByFields=re),o){Y.outSpatialReference=o;const pe=1/nu(o);pe&&(Y.maxAllowableOffset=pe)}const q=_.geometryType==="mesh"||_.geometryType==="multipatch",W=((ue=(le=_.capabilities)==null?void 0:le.data)==null?void 0:ue.supportsZ)&&!q;if(Y.returnZ=W&&V!==!1,Y.returnGeometry=!0,Y.multipatchOption=q?"xyFootprint":null,H&&(Y.outFields=H),r)Y.geometry=r;else if(g.key)Y.objectIds=[g.key];else{const pe=c.searchFields||[z];if(!p6(_,pe))throw Vm().error("invalid-field: search field is invalid."),new we("getResults():invalid-field","search field is invalid.");if(Uhe(_)&&(Y.num=n),j&&(Y.geometry=j),!((ae=g.text)==null?void 0:ae.trim()))return[];const ve=g.text,{prefix:ce="",suffix:he=""}=c,Ie=qhe(`${ce}${ve}${he}`);Bhe(_)&&zhe(_,pe)&&!i&&ve&&(Y.fullText=Vhe({text:ve,searchFields:pe}));const Be=Whe({searchTerm:Ie,layer:_,searchFields:pe,filter:M,exactMatch:i,query:Y,type:"search"});if(Y.where=Be,!Dhe(Y))return[]}return _.queryFeatures(Y,{signal:R}).then(pe=>sqe(pe,v,c,f,z,E,T))})}function HGe(e,t){const{source:i,spatialReference:r,view:n,suggestTerm:o,maxSuggestions:c,sourceIndex:f,exactMatch:g}=e,{layer:v,filter:_}=i,M=t==null?void 0:t.signal,T=Lhe(i,n);return Fhe(v).then(()=>{if(!Uhe(v))return[];const E=Ghe(i),j=i.searchFields||[E],R=[];i.suggestionTemplate?i.suggestionTemplate.replaceAll(qGe,(W,ee)=>(R.push(ee),W)):R.push(E);const N=Nhe(R);R.includes(v.objectIdField)||N||R.push(v.objectIdField);const F=qF(v,E),V=N||p6(v,R),z=p6(v,j);if(!F)throw Vm().error("invalid-field: displayField is invalid."),new we("getSuggestions():invalid-field","displayField is invalid.");if(!V)throw Vm().error("invalid-field: outField is invalid."),new we("getSuggestions():invalid-field","outField is invalid.");if(!z)throw Vm().error("invalid-field: search field is invalid."),new we("getSuggestions():invalid-field","search field is invalid.");const G=v.createQuery(),{orderByFields:H}=i;if(H&&(G.orderByFields=H),G.outSpatialReference=r,G.returnGeometry=!1,G.num=c,G.outFields=R,T&&(G.geometry=T),!o.trim())return[];const{prefix:Z="",suffix:Y=""}=i,re=qhe(`${Z}${o}${Y}`);Bhe(v)&&zhe(v,j)&&!g&&o&&(G.fullText=Vhe({text:o,searchFields:j}));const q=Whe({searchTerm:re,layer:v,searchFields:j,filter:_,exactMatch:g,query:G,type:"suggest"});return G.where=q,Dhe(G)?v.queryFeatures(G,{signal:M}).then(W=>iqe(W,i,f,E)):[]})}function Lhe(e,t){const{filter:i,withinViewEnabled:r}=e,n=t==null?void 0:t.extent;return(i==null?void 0:i.geometry)??(r&&n?n:void 0)}function Nhe(e){return e&&e.includes("*")}async function Fhe(e){e&&await e.load()}function Dhe(e){return!(!e.fullText&&!e.where)}function zhe(e,t){const i=e==null?void 0:e.indexes;return!i||!(t!=null&&t.length)?!1:i.filter(r=>r.indexType==="FullText").some(r=>{var o;const n=((o=r.fields)==null?void 0:o.split(",").map(c=>c.trim().toLowerCase()))||[];return t.every(c=>n.includes(c.toLowerCase()))})}function Vhe({text:e,searchFields:t}){return e.trim().split(" ").filter(i=>!!i.trim()).map(i=>new Cae({onFields:t,searchTerm:i,searchType:"prefix"}))}function Bhe(e){var t,i;return((i=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:i.supportsFullTextSearch)??!1}function Uhe(e){var t,i;return((i=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:i.supportsPagination)??!1}function JGe(e){var t,i,r;return((r=(i=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:i.find(n=>n.type==="string"))==null?void 0:r.name)??""}function Ghe(e){return e.displayField||e.layer.displayField||JGe(e.layer)}function p6(e,t){return!(!e||!(t!=null&&t.length))&&t.every(i=>qF(e,i))}function qF(e,t){return!!e.getField(t)}function KGe(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function YGe({codedValues:e},t,i){return Pw(e??[],r=>{const n=r.name,o=i?n:n.toLowerCase();return(i?t:t.toLowerCase())===o?r.code.toString():null})??null}function qhe(e){return e.replaceAll("'","''")}function Uv(e,t){const i=t==null?void 0:t.where;return i?`(${e}) AND (${i})`:e}function ZGe({currentTerm:e,field:t,filter:i,exactMatch:r,url:n,type:o}){const c=t==null?void 0:t.type,f=t==null?void 0:t.name;if(c==="string"||c==="date"||c==="global-id"){const g=GGe.test(n??""),v=g&&KGe(e)?"N":"";return Uv(r&&o==="search"?`${f} = ${v}'${e}'`:g?`${f} LIKE ${v}${`'${e}%'`}`:`${`LOWER(${f})`} LIKE ${v}${`'${e.toLowerCase()}%'`}`,i)}if(c==="oid"||c==="small-integer"||c==="integer"||c==="single"||c==="double"){const g=Number(e);return isNaN(g)?null:Uv(`${f} = ${g}`,i)}return Uv(`${f} = ${e}`,i)}function XGe(e,t){return e?` OR (${t})`:`(${t})`}function Whe({searchTerm:e,layer:t,searchFields:i,filter:r,exactMatch:n,query:o,type:c}){const{definitionExpression:f,url:g}=t;let v="";return!o.fullText&&e&&i&&i.forEach(_=>{const M=t.getField(_),T=typeof t.getFieldDomain=="function"&&t.getFieldDomain(_),E=(T&&T.type==="coded-value"?YGe(T,e,n):null)||e||null;if(E!==null){const j=ZGe({currentTerm:E,field:M,filter:r,exactMatch:n,url:g,type:c});j&&(v+=XGe(v,j))}}),f&&v?`(${f}) AND (${v})`:f||v}function QGe(e,t){let i=null;const{codedValues:r}=e;return r&&r.length&&r.some(n=>n.code===t&&(i=n.name,!0)),i}function eqe(e,t){return e[t]??e[Object.keys(e).find(i=>i.toLowerCase()===t.toLowerCase())]}function Hhe(e,t,i){const r=e.sourceLayer,{attributes:n}=e,o=typeof r.getFieldDomain=="function"&&r.getFieldDomain(i);if(t)return uN(t,n);if(i&&n){const c=r.getField(i),f=eqe(n,i);return f==null?"":o&&o.type==="coded-value"?QGe(o,f)??"":(c==null?void 0:c.type)==="date"?Mp(new Date(f)):typeof f=="number"?f.toString():typeof f!="string"?"":f.trim()}return""}function tqe(e,t,i,r){const n=e.sourceLayer,{attributes:o}=e,{objectIdField:c}=n,f=c?o[c]:null;return{text:Hhe(e,t.suggestionTemplate,r),key:f,sourceIndex:i}}function iqe(e,t,i,r){return e.features.map(n=>tqe(n,t,i,r))}function rqe(e){return e!=null&&e.minScale!=null&&e.maxScale!=null}function nqe(e,t,i,r,n,o,c){const f=e.clone(),g=e.sourceLayer,v=g==null?void 0:g.objectIdField,_=v?e.attributes[v]:null,M=Hhe(e,i.searchTemplate,n);o!=null&&rqe(g)&&(g.minScale&&g.minScale<o?o=g.minScale:g.maxScale&&g.maxScale>o&&(o=g.maxScale));const T=f.geometry?UF(f.geometry,t??void 0,o??void 0):void 0,E=typeof c=="number"&&T?zP(be(T),t??void 0,c):T,j=e.clone();return E!=null&&(j.geometry=sa.fromExtent(E)),{extent:E,target:j,feature:f,key:_,name:M,sourceIndex:r}}function sqe(e,t,i,r,n,o,c){return e.features.map(f=>nqe(f,t,i,r,n,o,c))}var VP;let Ll=VP=class extends GF{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,i)=>WGe({source:this,...t},i),this.getSuggestions=(t,i)=>HGe({source:this,...t},i)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new VP({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?be(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?be(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return((t=(e=this.layer.fieldsIndex)==null?void 0:e.fields.find(i=>i.type==="string"))==null?void 0:t.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(i=>{const r=e.getField(i);return(r==null?void 0:r.alias)||i}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};b([$({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Ll.prototype,"displayField",void 0),b([$({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Ll.prototype,"exactMatch",void 0),b([$({value:null})],Ll.prototype,"layer",null),b([$()],Ll.prototype,"name",null),b([$({type:[String],json:{write:!0}})],Ll.prototype,"orderByFields",void 0),b([$()],Ll.prototype,"searchFields",void 0),b([$()],Ll.prototype,"searchTemplate",void 0),b([$()],Ll.prototype,"suggestionTemplate",void 0),Ll=VP=b([ne("esri.widgets.Search.LayerSearchSource")],Ll);const By=Ll;function oqe(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function aqe(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let kd=class extends Ne{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};b([$({type:String,json:{write:!0}})],kd.prototype,"address",void 0),b([$({type:Object,json:{write:!0}})],kd.prototype,"attributes",void 0),b([$({type:ci,json:{write:!0}})],kd.prototype,"extent",void 0),b([$({type:Pt,json:{write:!0}})],kd.prototype,"location",void 0),b([$({type:Number,json:{write:!0}})],kd.prototype,"score",void 0),kd=b([ne("esri.rest.support.AddressCandidate")],kd);const Jhe=kd,WF={type:String,json:{read:{source:"token"},write:{target:"token"}}};let Yn=class extends Ne{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};b([$({type:Object,json:{write:!0}})],Yn.prototype,"address",void 0),b([$(WF)],Yn.prototype,"apiKey",void 0),b([$({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Yn.prototype,"categories",void 0),b([$({type:String,json:{write:!0}})],Yn.prototype,"countryCode",void 0),b([$({type:Boolean,json:{write:!0}})],Yn.prototype,"forStorage",void 0),b([$({type:Pt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Yn.prototype,"location",void 0),b([$({type:String,json:{write:!0}})],Yn.prototype,"locationType",void 0),b([$({type:String,json:{write:!0}})],Yn.prototype,"magicKey",void 0),b([$({type:Number,json:{write:!0}})],Yn.prototype,"maxLocations",void 0),b([$({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],Yn.prototype,"outFields",void 0),b([$({type:At,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Yn.prototype,"outSpatialReference",void 0),b([$({type:ci,json:{write:{writer:(e,t)=>{const i=e?e.shiftCentralMeridian():null;t.searchExtent=i}}}})],Yn.prototype,"searchExtent",void 0),Yn=b([ne("esri.rest.support.AddressToLocationsParameters")],Yn),Yn.from=vr(Yn);const Khe=Yn;async function lqe(e,t,i){t=Khe.from(t);const r=cx(e),{address:n,...o}=t.toJSON(),c={...n,...o,f:"json"},f=R7({...r.query,...c}),g=O7(f,i),v=`${r.path}/findAddressCandidates`;return Vi(v,g).then(uqe)}function uqe({data:e}){if(!e)return[];const{candidates:t,spatialReference:i}=e;return t?t.map(r=>{if(!r)return;const{extent:n,location:o}=r,c=!n||aqe(n);return oqe(o)&&c?(n&&(n.spatialReference=i),o&&(o.spatialReference=i),Jhe.fromJSON(r)):void 0}):[]}let Kc=class extends Ne{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};b([$(WF)],Kc.prototype,"apiKey",void 0),b([$({type:Pt,json:{write:{writer:(e,t)=>{const i=e?e.clone().normalize():null,r=i!==void 0;t.location=r?i:null}}}})],Kc.prototype,"location",void 0),b([$({type:String,json:{write:!0}})],Kc.prototype,"locationType",void 0),b([$({type:At,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Kc.prototype,"outSpatialReference",void 0),Kc=b([ne("esri.rest.support.LocationToAddressParameters")],Kc),Kc.from=vr(Kc);const Yhe=Kc;async function cqe(e,t,i){t=Yhe.from(t);const r=cx(e),n={...t.toJSON(),f:"json"},o=R7({...r.query,...n}),c=O7(o,i),f=`${r.path}/reverseGeocode`;return Vi(f,c).then(hqe)}function hqe({data:e}){if(!e)return;const{address:t,location:i}=e,r=(t==null?void 0:t.Match_addr)||"";return Jhe.fromJSON({address:r,attributes:t||{},location:i,score:100})}let Uy=class extends Ne{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};b([$({type:Boolean,json:{write:!0}})],Uy.prototype,"isCollection",void 0),b([$({type:String,json:{write:!0}})],Uy.prototype,"magicKey",void 0),b([$({type:String,json:{write:!0}})],Uy.prototype,"text",void 0),Uy=b([ne("esri.rest.support.SuggestionCandidate")],Uy);const dqe=Uy;let Go=class extends Ne{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};b([$(WF)],Go.prototype,"apiKey",void 0),b([$({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Go.prototype,"categories",void 0),b([$({type:String,json:{write:!0}})],Go.prototype,"countryCode",void 0),b([$({type:Pt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Go.prototype,"location",void 0),b([$({type:Number,json:{write:!0}})],Go.prototype,"maxSuggestions",void 0),b([$({type:At,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Go.prototype,"outSpatialReference",void 0),b([$({type:ci,json:{write:{writer:(e,t)=>{const i=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(i)}}}})],Go.prototype,"searchExtent",void 0),b([$({type:String,json:{write:!0}})],Go.prototype,"text",void 0),Go=b([ne("esri.rest.support.SuggestLocationsParameters")],Go),Go.from=vr(Go);const Zhe=Go;async function pqe(e,t,i){const r=cx(e),n={...(t=Zhe.from(t)).toJSON(),f:"json"},o=R7({...r.query,...n}),c=O7(o,i),f=`${r.path}/suggest`;return Vi(f,c).then(fqe)}function fqe(e){const{data:t}=e;if(!t)return[];const{suggestions:i}=t;return i?i.map(r=>new dqe(r)):[]}const yqe="Single Line Input",mqe=3e5;function gqe(e,t){return e.location?_qe(e,t):Sqe(e,t)}function Xhe(e,t){var r;if(t.localSearchDisabled)return null;const i=e==null?void 0:e.scale;return typeof i=="number"&&i<=mqe?(r=e==null?void 0:e.extent)==null?void 0:r.center:null}async function vqe(e,t){const{source:i,spatialReference:r,view:n,suggestTerm:o,maxSuggestions:c,sourceIndex:f}=e,g=new Zhe,{apiKey:v,url:_}=i,M=Qhe(i,n),T=t==null?void 0:t.signal;if(!_)return null;v&&(g.apiKey=v),i.categories&&(g.categories=i.categories),r&&(g.outSpatialReference=r);const E=Xhe(n,i);if(E&&(g.location=E),!o.trim())return null;const{prefix:j="",suffix:R=""}=i,N=`${j}${o}${R}`;return g.text=N,M&&(g.searchExtent=M),g.maxSuggestions=c,i.countryCode&&(g.countryCode=i.countryCode),pqe(_,g,{signal:T}).then(F=>Mqe(F,f))}function bqe(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function wqe(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function rJ(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const xqe="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function _qe(e,t){const{source:i,spatialReference:r,location:n,sourceIndex:o,view:c}=e,{apiKey:f,url:g,zoomScale:v,defaultZoomScale:_}=i;if(g==null)return[];const M=c==null?void 0:c.scale,T=t==null?void 0:t.signal,E=new Yhe({location:n});f&&(E.apiKey=f),r&&(E.outSpatialReference=r);try{return ede([await cqe(g,E,{signal:T})],{sourceIndex:o,scale:M,view:c,zoomScale:v,defaultZoomScale:_})}catch{return[]}}function Qhe(e,t){const{filter:i,withinViewEnabled:r}=e,n=t==null?void 0:t.scale,o=t==null?void 0:t.extent,c=i==null?void 0:i.geometry;return(c?UF(c,t??void 0,n):void 0)||(r&&o?o:void 0)}async function Sqe(e,t){var Y;const{source:i,suggestResult:r,spatialReference:n,view:o,maxResults:c,sourceIndex:f}=e,g=i==null?void 0:i.zoomScale,v=i==null?void 0:i.defaultZoomScale;if(!((Y=r.text)==null?void 0:Y.trim()))return null;const M=!r.key&&i.prefix?i.prefix:"",T=!r.key&&i.suffix?i.suffix:"",E=`${M}${r.text}${T}`,j=new Khe,{apiKey:R,url:N}=i,F=o==null?void 0:o.scale,V=Qhe(i,o),z=t==null?void 0:t.signal;if(R&&(j.apiKey=R),!N)return null;i.categories&&(j.categories=i.categories),i.locationType&&(j.locationType=i.locationType),n&&(j.outSpatialReference=n);const G=Xhe(o,i);G&&(j.location=G),j.maxLocations=c,V&&(j.searchExtent=V),i.countryCode&&(j.countryCode=i.countryCode);const{key:H}=r,Z=`${H}`;return H&&(j.magicKey=Z),j.address={},j.address[i.singleLineFieldName||yqe]=E,i.outFields&&(j.outFields=i.outFields),lqe(N,j,{signal:z}).then(re=>ede(re,{key:Z,scale:F,sourceIndex:f,view:o,zoomScale:g,defaultZoomScale:v}))}function $qe(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function Mqe(e,t){return e.map(i=>$qe(i,t))}function Tqe(e,t){const{key:i,scale:r,sourceIndex:n,view:o,zoomScale:c,defaultZoomScale:f}=t,{attributes:g,extent:v,location:_,address:M}=e,T=new la({geometry:_,attributes:g}),E=v||_,j=E?UF(E,o??void 0,r??void 0):void 0,R=j?typeof c=="number"?zP(j,o??void 0,c):typeof f=="number"&&(E==null?void 0:E.type)==="point"?zP(j,o??void 0,f):j:null,N=_?`${_.x},${_.y}`:"",F=M||N,V=T.clone();return R!=null&&(V.geometry=sa.fromExtent(R)),{extent:R,feature:T,target:V,key:i,name:F,sourceIndex:n}}function ede(e,t){return e.filter(Boolean).map(i=>Tqe(i,t))}var BP;let xs=BP=class extends GF{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,i)=>gqe({source:this,...t},i),this.getSuggestions=(t,i)=>vqe({source:this,...t},i)}clone(){return new BP({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?be(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?be(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};b([$()],xs.prototype,"apiKey",void 0),b([$()],xs.prototype,"categories",void 0),b([$()],xs.prototype,"countryCode",void 0),b([$({json:{write:!0}})],xs.prototype,"defaultZoomScale",void 0),b([$()],xs.prototype,"localSearchDisabled",void 0),b([$()],xs.prototype,"locationType",void 0),b([$({json:{write:!0}})],xs.prototype,"name",void 0),b([$({json:{write:!0}})],xs.prototype,"placeholder",void 0),b([$()],xs.prototype,"searchTemplate",void 0),b([$({json:{write:!0}})],xs.prototype,"singleLineFieldName",void 0),b([$({json:{read:{source:"suggest"},write:{target:"suggest"}}})],xs.prototype,"suggestionsEnabled",void 0),b([$({json:{write:!0}})],xs.prototype,"url",void 0),b([$({json:{write:!0}})],xs.prototype,"zoomScale",void 0),xs=BP=b([ne("esri.widgets.Search.LocatorSearchSource")],xs);const tde=xs;let Kf=class extends Ne{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(n=>n.toJSON()),i=this.geometries[0],r={};return r.outSR=M4(this.outSpatialReference),r.inSR=M4(i.spatialReference),r.geometries=JSON.stringify({geometryType:Y3(i),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};b([$()],Kf.prototype,"geometries",void 0),b([$({json:{read:{source:"outSR"}}})],Kf.prototype,"outSpatialReference",void 0),b([$()],Kf.prototype,"transformation",void 0),b([$()],Kf.prototype,"transformForward",void 0),Kf=b([ne("esri.rest.support.ProjectParameters")],Kf);const ide=Kf,kqe=vr(ide);async function Cqe(e,t,i){t=kqe(t);const r=cx(e),n={...r.query,f:"json",...t.toJSON()},o=t.outSpatialReference,c=Y3(t.geometries[0]),f=O7(n,i);return Vi(r.path+"/project",f).then(({data:{geometries:g}})=>ule(g,c,o))}const rde=()=>Le.getLogger("esri.widgets.support.geolocationUtils"),Iqe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Eqe(){const e=ke("esri-geolocation");return e||rde().warn("geolocation-unsupported","Geolocation unsupported."),e}function Aqe(){const e=window.isSecureContext;return e||rde().warn("insecure-context","Geolocation requires a secure origin."),e}function nJ(){return Eqe()&&Aqe()}function jqe(e){return e||(e=Iqe),new Promise((i,r)=>{setTimeout(()=>r(new we("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(i,r,e??void 0)})}function Pqe(e,t){const{position:i,view:r}=e,n=Oqe(i),o=n==null?void 0:n.coords;if(!o)throw new we("geometry-service:no-coords","Geolocation has no coordinates");return Lqe(Rqe(o),r,t)}function Oqe(e){const t=e&&e.coords||{},i={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:i,timestamp:e.timestamp}}function Rqe({longitude:e,latitude:t,altitude:i}){return new Pt({longitude:e,latitude:t,z:i||void 0,spatialReference:{wkid:4326}})}function Lqe(e,t,i){if(!t)return Promise.resolve(e);const r=t.spatialReference;return r.isWGS84?Promise.resolve(e):r.isWebMercator?Promise.resolve(Yl(e)):Nqe(i).then(n=>{if(!n)throw new we("geometry-service:missing-url","Geometry service URL is missing");const o=new ide({geometries:[e],outSpatialReference:r});return Cqe(n,o,i).then(c=>c[0])})}function Nqe(e){if(yi.geometryServiceUrl)return Promise.resolve(yi.geometryServiceUrl);const t=kn.getDefault();return t.load(e).catch(()=>{}).then(()=>{var i,r;return(r=(i=t.helperServices)==null?void 0:i.geometry)==null?void 0:r.url})}function fs(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const Fqe=()=>hN("esri/widgets/Search/t9n/Search"),sJ="highlight",d9=st.ofType({key:e=>e.layer?"layer":"locator",base:GF,typeMap:{layer:By,locator:tde}}),oJ=At.WGS84,Dqe="esri/images/search/search-symbol-32.png",zqe=/<[\s\S]*?>/g,Gy=-1;let Xt=class extends uF(dl.EventedMixin(vt)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new d9,this.defaultSymbols={point:new Ug({url:Si(Dqe),size:24,width:24,height:24}),polyline:new Ao({color:[130,130,130,1],width:2}),polygon:new Ph({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=kn.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new d9,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const i=await Fqe();this.messages=i,this.defaultPopupTemplate=new Vp({title:i.searchResult,content:"{Match_addr}"})};t(),this.addHandles([nt(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),Xi),XL(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:Gy}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:i,includeDefaultSources:r}=this,n=typeof r=="function"?r.call(null,{sources:t,defaultSources:i}):r?i.concat(t):t,o=this._get("allSources")||new d9;return o.removeAll(),o.addMany(n.filter(Boolean)),o}get locationEnabled(){return this._get("locationEnabled")||nJ()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const i=nJ();if(t&&!i){const r=new we("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Le.getLogger(this).error(r)}this._override("locationEnabled",!!t&&i)}get placeholder(){const{allSources:t,activeSourceIndex:i,allPlaceholder:r}=this;if(i===Gy)return r??"";const n=t.at(i);return(n==null?void 0:n.placeholder)??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:t,resultGraphic:i}=this;t&&i&&t.graphics.remove(i),this._set("resultGraphic",null)}search(t,i){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(t),n=(async()=>{var o;try{await this.when();const c=await this._getResultsFromSources(r,i);if((o=i==null?void 0:i.signal)!=null&&o.aborted)return null;const f={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(f,c,r);const g=this._getFirstResult(f.results),v=r.location&&g?g.name:r.text,_=v==null?void 0:v.replace(zqe,"");return this._set("searchTerm",_),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",f.results),this._set("resultCount",f.results.reduce((M,T)=>{var E;return M+(((E=T.results)==null?void 0:E.length)??0)},0)),this.emit("search-complete",f),await this._selectFirstResult(g),f}finally{this._clearSearching()}})();return this._searching=n,n}async searchNearby(t){if(!this.locationEnabled){const r=new we("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw Le.getLogger(this).error(r),r}const i=(async()=>{try{const r=await jqe(),n=await Pqe({position:r,view:this.view},t);return await this.search(n,t)}finally{this._clearSearching()}})();return this._searching=i,i}async select(t){if(this.clearGraphics(),!t){const W=new we("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw Le.getLogger(this).error(W),W}const{view:i}=this,r=fs(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=r!=null?this.allSources.at(r):null;if(!n){const W=new we("select:missing-source","Cannot select without a source.",{source:n});throw Le.getLogger(this).error(W),W}const o=n instanceof By?this._getLayerSourcePopupTemplate(n):n.popupTemplate,c=n.resultSymbol||this._getDefaultSymbol(t),f=fs(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,g=fs(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,v=fs(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,_=v?o||this.popupTemplate||this.defaultPopupTemplate:null,{feature:M}=t;if(!M){const W=new we("select:missing-feature","Cannot select without a feature.",{feature:M});throw Le.getLogger(this).error(W),W}const{attributes:T,geometry:E,layer:j,sourceLayer:R}=M,N=E?iJ(E):null,F={layerViewQuery:this._getLayerView(M),elevationQuery:i&&N!=null?zGe(N,i):Promise.resolve(N)},V=await c0(F),z=V.layerViewQuery.value,G=V.elevationQuery.value;c instanceof S1&&(c.text=t.name);const H=i&&g?t.target||t.extent:null;await(H!=null?this._goToSearchResult(H):Promise.resolve());const Y=z?M:new la({geometry:E,symbol:c,attributes:T,layer:j,sourceLayer:R,popupTemplate:_}),re=i==null?void 0:i.popup,q=re&&v&&Y.getEffectivePopupTemplate(re.defaultPopupTemplateEnabled);return q&&await i.openPopup({features:[Y],location:G}),z&&VGe(z)&&!q&&this._highlightFeature({graphic:Y,layerView:z}),!z&&f&&i&&i.graphics.push(Y),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",Y),this.emit("select-result",{result:t,source:n,sourceIndex:r}),t}async suggest(t,i,r){const n=t||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),await this._suggestTimer(i,r);const o=await this._suggestImmediate(n,r);return this._set("suggestions",o==null?void 0:o.results),this._set("suggestionCount",(o==null?void 0:o.results.reduce((c,f)=>{var g;return c+(((g=f.results)==null?void 0:g.length)??0)},0))??null),this.emit("suggest-complete",o),o}async when(){await lg(()=>!this.updating)}async _update(){const{portal:t,view:i}=this;if(this.includeDefaultSources){const r=this._updatingPromise=c0([t==null?void 0:t.load(),i==null?void 0:i.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await lg(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var i,r;const t=(r=(i=this.portal)==null?void 0:i.helperServices)==null?void 0:r.geocode;return t?t.map(n=>{var g;if(n.placefinding===!1)return;const o=yi.apiKey&&rJ(n.url)?{url:xqe}:null,c=tde.fromJSON({...n,...o}),f=c.url;if(rJ(f)||wqe(f)||bqe(f)){const v=c.outFields??["Addr_type","Match_addr","StAddr","City"],_=(c.placeholder||((g=this.messages)==null?void 0:g.placeholder))??"",M=typeof c.defaultZoomScale=="number"?c.defaultZoomScale:2500;c.singleLineFieldName="SingleLine",c.outFields=v,c.placeholder=_,c.defaultZoomScale=M}return c.singleLineFieldName?c:void 0}).filter(ss):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,i){var n;const r=(n=this.view)==null?void 0:n.map;return t.map(o=>{const c=r.findLayerById(o.id);if(!c)return;const f=this._getLayerJSON(o),g=By.fromJSON(f);return g.placeholder=i,this._getLayer(c,f).then(v=>{g.layer=v}),g}).filter(ss).toArray()}_getTableSources(t,i){var n;const r=(n=this.view)==null?void 0:n.map;return t.map(o=>{if(!o.id)return;const c=r.findTableById(o.id);if(!c)return;const f=this._getLayerJSON(o),g=By.fromJSON(f);return g.placeholder=i,this._getLayer(c,f).then(v=>{g.layer=v}),g}).filter(ss).toArray()}_convertApplicationProperties(){var f,g,v;const t=(f=this.view)==null?void 0:f.map,i=(v=(g=t==null?void 0:t.applicationProperties)==null?void 0:g.viewing)==null?void 0:v.search;if(!i)return[];const{enabled:r,hintText:n,layers:o,tables:c}=i;return r?[...this._getLayerSources(o,n),...this._getTableSources(c,n)]:[]}async _getSubLayer(t,i){var o;if(await t.load(),!t.allSublayers)throw new Error;const r=t.allSublayers.find(c=>c.id===i.subLayer);if(!r)throw new Error;const n=await((o=r.createFeatureLayer)==null?void 0:o.call(r));if(!n)throw new Error;return this._createdFeatureLayers.push(n),n}async _getBuildingSubLayer(t,i){await t.load();const r=t.allSublayers.find(n=>n.id===i.subLayer);if((r==null?void 0:r.type)!=="building-component")throw new Error;if(await r.load(),r.associatedLayer==null)throw new Error;return await r.associatedLayer.load(),r}async _getLayer(t,i){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return await this._getSubLayer(t,i)}catch{const n=new we("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return Le.getLogger(this).error(n),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,i):null}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:i}=this;this._destroyFeatureLayers(),t.removeAll(),i&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var o;const t=(o=this.view)==null?void 0:o.popup,{resultGraphic:i}=this;if(!t||!i)return;const r="selectedFeature"in t,n=r?t.selectedFeature:null;r&&n&&n===i&&t.close()}_suggestTimer(t,i){const r=t??this.suggestionDelay;return pL(r,null,i==null?void 0:i.signal)}_createLocationForSearch(t){return t instanceof la&&t.geometry?iJ(t.geometry):t instanceof Pt?t:Array.isArray(t)&&t.length===2?new Pt({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&fs(t,"key")&&fs(t,"text")&&fs(t,"sourceIndex"))return t;const i=this._createLocationForSearch(t),r=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:n,selectedResult:o}=this,c=!t&&n&&o,f=c&&n.key===o.key&&n.sourceIndex===o.sourceIndex,g=c&&n.location;return f||g?n:{location:i,text:i?"":r,sourceIndex:null,key:null}}_getFirstResult(t){return Pw(t,({results:i})=>i==null?void 0:i[0])??null}async _selectFirstResult(t){return this.autoSelect&&t?this.select(t):null}async _suggestImmediate(t,i){var o;await this.when();const r=await this._getSuggestionsFromSources(t,i);if((o=i==null?void 0:i.signal)!=null&&o.aborted)return null;const n={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,r),n}_formatSourceResponse(t,i,r){const n=(i==null?void 0:i.value)||[],o=i==null?void 0:i.error,c=this.allSources.at(r);if(o){const f={sourceIndex:r,source:c,error:o};t.errors.push(f),Le.getLogger(this).error(o),t.numErrors++}else{const f={sourceIndex:r,source:c,results:n};t.results.push(f),t.numResults+=n.length}}_formatResponse(t,i,r){if(i)if(t.activeSourceIndex===Gy){const n=r&&fs(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;i.forEach((o,c)=>{const f=n!==void 0?n:c;this._formatSourceResponse(t,o,f)})}else this._formatSourceResponse(t,i[0],t.activeSourceIndex)}async _getResultsFromSources(t,i){const{allSources:r}=this,n=!t.location&&fs(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,o=[];if(!r.length){const c=new we("search:no-sources-defined","At least one source is required.",{allSources:r});throw Le.getLogger(this).error(c),c}return n===Gy?r.forEach((c,f)=>{o.push(this._getResultsFromSource(t,f,i))}):o.push(this._getResultsFromSource(t,n,i)),c0(o)}async _getSuggestionsFromSources(t,i){const{allSources:r,activeSourceIndex:n}=this,o=[];if(!r.length){const c=new we("suggest:no-sources-defined","At least one source is required.",{allSources:r});throw Le.getLogger(this).error(c),c}return n===Gy?r.forEach((c,f)=>{o.push(this._getSuggestionsFromSource(t,f,i))}):o.push(this._getSuggestionsFromSource(t,n,i)),c0(o)}async _getResultsFromSource(t,i,r){var _,M;const n=i!=null?this.allSources.at(i):null;if(!n)return null;const{location:o=null}=t,c=((_=this.view)==null?void 0:_.spatialReference)||oJ,f=fs(n,"maxResults")?n.maxResults:this.maxResults,g=!!(n instanceof By&&fs(n,"exactMatch"))&&n.exactMatch,{view:v}=this;return(M=n.getResults)==null?void 0:M.call(n,{view:v,sourceIndex:i,location:o,suggestResult:t,spatialReference:c,exactMatch:g,maxResults:f},r)}async _getSuggestionsFromSource(t,i,r){var g,v;const n=this.allSources.at(i);if(!n)return null;t??(t="");const o=fs(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,c=t==null?void 0:t.length,f=fs(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(o&&t.trim()&&c>=f){const _=((g=this.view)==null?void 0:g.spatialReference)||oJ,M=fs(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:T}=this,E=!!(n instanceof By&&fs(n,"exactMatch"))&&n.exactMatch;return(v=n.getSuggestions)==null?void 0:v.call(n,{view:T,sourceIndex:i,suggestTerm:t,spatialReference:_,maxSuggestions:M,exactMatch:E},r)}return null}_getLayerSourcePopupTemplate(t){const{layer:i}=t;if(i)return fs(t,"popupTemplate")?t.popupTemplate:i.popupTemplate}_getSourceIndexOfResult(t){return Pw(this.results??[],({results:i,sourceIndex:r})=>(i==null?void 0:i.includes(t))?r:null)??null}async _goToSearchResult(t){this._abortGoTo();const i=new AbortController;this._gotoController=i;const r={target:{target:t},options:{signal:i.signal}};t||(r.options.animate=!1),await this.callGoTo(r),this._gotoController=null}_getDefaultSymbol(t){var n;const{defaultSymbols:i}=this,r=(n=t.feature)==null?void 0:n.geometry;if(r==null)return null;switch(r.type){case"point":case"multipoint":return i.point;case"polyline":return i.polyline;case"extent":case"polygon":return i.polygon;default:return null}}_removeHighlight(){this.removeHandles(sJ)}async _getLayerView(t){var n,o;const{view:i}=this;if(!t||!i||((n=t.layer)==null?void 0:n.type)==="building-component"||((o=t.layer)==null?void 0:o.type)==="subtype-sublayer")return null;const{layer:r}=t;return r?(await i.when(),i.whenLayerView(r)):null}_highlightFeature(t){const{graphic:i,layerView:r}=t,{attributes:n,layer:o}=i,{objectIdField:c}=o,f=(c&&(n==null?void 0:n[c]))??null,g=r.highlight(f??i);this.addHandles(g,sJ)}_setResultFloor(t){var o,c,f;const{view:i}=this,r=(o=t.feature)==null?void 0:o.attributes,n=(c=t.feature)==null?void 0:c.sourceLayer;if(n&&"floorInfo"in n&&((f=n==null?void 0:n.floorInfo)!=null&&f.floorField)&&r){const g=r[n.floorInfo.floorField];i==null||i.emit("select-result-floor",g)}}};Xt.ALL_INDEX=Gy,b([$()],Xt.prototype,"_searching",void 0),b([$()],Xt.prototype,"_updatingPromise",void 0),b([$({readOnly:!0,value:null})],Xt.prototype,"activeSource",null),b([$()],Xt.prototype,"activeSourceIndex",null),b([$()],Xt.prototype,"allPlaceholder",null),b([$({readOnly:!0})],Xt.prototype,"allSources",null),b([$()],Xt.prototype,"autoNavigate",void 0),b([$()],Xt.prototype,"autoSelect",void 0),b([$()],Xt.prototype,"defaultPopupTemplate",void 0),b([$({readOnly:!0})],Xt.prototype,"defaultSources",void 0),b([$()],Xt.prototype,"defaultSymbols",void 0),b([$()],Xt.prototype,"includeDefaultSources",void 0),b([$()],Xt.prototype,"locationEnabled",null),b([$()],Xt.prototype,"maxInputLength",void 0),b([$()],Xt.prototype,"maxResults",void 0),b([$()],Xt.prototype,"maxSuggestions",void 0),b([$()],Xt.prototype,"messages",void 0),b([$()],Xt.prototype,"minSuggestCharacters",void 0),b([$({readOnly:!0})],Xt.prototype,"placeholder",null),b([$()],Xt.prototype,"popupEnabled",void 0),b([$({type:Vp})],Xt.prototype,"popupTemplate",void 0),b([$({type:kn})],Xt.prototype,"portal",void 0),b([$()],Xt.prototype,"resultCount",void 0),b([$()],Xt.prototype,"resultGraphicEnabled",void 0),b([$({readOnly:!0})],Xt.prototype,"resultGraphic",void 0),b([$({readOnly:!0})],Xt.prototype,"results",void 0),b([$({readOnly:!0})],Xt.prototype,"selectedSuggestion",void 0),b([$()],Xt.prototype,"searchAllEnabled",void 0),b([$({readOnly:!0})],Xt.prototype,"selectedResult",void 0),b([$()],Xt.prototype,"searchTerm",null),b([$({type:d9})],Xt.prototype,"sources",void 0),b([$({readOnly:!0})],Xt.prototype,"state",null),b([$()],Xt.prototype,"suggestionDelay",void 0),b([$()],Xt.prototype,"suggestionCount",void 0),b([$({readOnly:!0})],Xt.prototype,"suggestions",void 0),b([$()],Xt.prototype,"suggestionsEnabled",void 0),b([$({readOnly:!0})],Xt.prototype,"updating",null),b([$()],Xt.prototype,"view",void 0),b([$()],Xt.prototype,"clear",null),Xt=b([ne("esri.widgets.Search.SearchViewModel")],Xt);const hm=Xt;let Cd=class extends pl{constructor(t,i){super(t,i),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[rf.showMoreResults]:this.showMoreResultsOpen};return Ee("div",{class:this.classes(rf.base,Dt.widget)},Ee("div",{class:this.classes(rf.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return Ee("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var r;const t=(r=this.viewModel)==null?void 0:r.selectedResult,i=(t==null?void 0:t.name)||"";return Ee("div",{class:rf.moreResultsItem,key:"esri-search-renderer__result-name"},i)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const i=t.results;if((t.resultCount??0)<2)return null;const r=i==null?void 0:i.map(n=>this._renderMoreResultsList(n));return Ee("div",{class:rf.moreResultsList,key:"esri-search-renderer__more-results-container"},r)}_renderMoreResultsButton(){const{messages:t,viewModel:i}=this;return i?(i.resultCount??0)<2?null:Ee("div",{class:rf.moreResultsItem,key:"esri-search-renderer__more-results-button"},Ee("a",{bind:this,class:Dt.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,i){return Ee("div",{class:rf.moreResultsListHeader,key:`esri-search-result-renderer__header-${i}`},t)}_renderMoreResultsList(t){var M,T,E;const{results:i}=t,r=(i==null?void 0:i.length)??0,n=r>0,o=(M=this.viewModel)==null?void 0:M.selectedResult,c=r===1&&i[0]===o,f=this._getSourceName(t.source,t.sourceIndex),g=(((E=(T=this.viewModel)==null?void 0:T.results)==null?void 0:E.length)??0)>1&&!c?this._renderMoreResultsHeader(f,t.sourceIndex):null,v=n&&i.map((j,R)=>this._renderMoreResultsListItem(j,R)),_=n&&!c?Ee("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},v):null;return n?Ee("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},g,_):null}_renderMoreResultsListItem(t,i){var n;const r=(n=this.viewModel)==null?void 0:n.selectedResult;return t!==r?Ee("li",{key:`esri-search-result-renderer__list-item-${i}`},Ee("a",{bind:this,class:Dt.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var r,n;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const i=(n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.popup;i&&"reposition"in i&&i.reposition()}_selectResultClick(t){var r;t.preventDefault();const i=t.currentTarget["data-result"];(r=this.viewModel)==null||r.select(i)}_getSourceName(t,i){return i===hm.ALL_INDEX?this.messages.all:t.name}};b([$(),no("esri/widgets/Search/t9n/Search")],Cd.prototype,"messages",void 0),b([$()],Cd.prototype,"showMoreResultsOpen",void 0),b([$()],Cd.prototype,"viewModel",void 0),b([l6()],Cd.prototype,"_showMoreResultsClick",null),b([l6()],Cd.prototype,"_selectResultClick",null),Cd=b([ne("esri.widgets.Search.SearchResultRenderer")],Cd);const Vqe=Cd,Kh={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"},Bqe=/<[a-z/][\s\S]*>/i,Uqe=(e,t)=>{const i=cxe(t).split(/\s/),r=new RegExp(`(${i.join("|")})`,"gi");return e.replace(r,n=>`<strong>${n}</strong>`)};let ti=class extends pl{constructor(t,i){super(t,i),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new Vqe,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new hm,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var o;const n=r.relatedTarget;n&&((o=this._container)!=null&&o.contains(n))||this._clearActiveMenu()},this.addHandles([nt(()=>this.searchTerm,r=>{var n,o;(r&&this.activeMenu==="warning"||!r&&!((o=(n=this.viewModel)==null?void 0:n.selectedSuggestion)!=null&&o.location))&&this._clearActiveMenu()}),ro(()=>{var r;return(r=this.viewModel)==null?void 0:r.allSources},"change",()=>this._watchSourceChanges()),nt(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),Xi),nt(()=>{var r;return(r=this.viewModel)==null?void 0:r.defaultPopupTemplate},r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))},Xi)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=rr(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){var t;return(t=this.viewModel)==null?void 0:t.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"search"}set icon(t){this._overrideIfSome("icon",t)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){var t;return(t=this.viewModel)==null?void 0:t.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this.viewModel.clear()}focus(){var t;(t=this._inputNode)==null||t.focus(),this.emit("search-focus")}blur(){var t;(t=this._inputNode)==null||t.blur(),this.emit("search-blur")}async search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const i=new AbortController,{signal:r}=i;this._searchController=i;try{const n=await this.viewModel.search(t,{signal:r});return this._searchController!==i?void 0:(this.activeMenu=n!=null&&n.numResults?"none":"warning",this._searchController=null,n)}catch{return this._searchController!==i?void 0:(this._clearActiveMenu(),void(this._searchController=null))}}async suggest(t){this._cancelSuggest();const i=new AbortController,{signal:r}=i;this._suggestController=i;try{const n=await this.viewModel.suggest(t,null,{signal:r});return this._suggestController!==i?void 0:(this._suggestController=null,n!=null&&n.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),n)}catch{return this._suggestController!==i||(this._suggestController=null),null}}render(){const{state:t}=this.viewModel,i={[Dt.disabled]:t==="disabled",[Dt.widgetDisabled]:this.disabled};return Ee("div",{class:this.classes(Wi.base,Dt.widget,i)},t==="loading"?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:t,disabled:i}=this;return Ee("button",{"aria-label":t.searchButtonTitle,bind:this,class:this.classes(Wi.submitButton,Dt.widgetButton),disabled:i,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle,type:"button"},Ee("span",{"aria-hidden":"true",class:Kh.search}))}_renderWarningMenu(){return Ee("div",{class:this.classes(Dt.menu,Wi.warningMenu),key:"esri-search__error-menu"},Ee("div",{class:Wi.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:t,activeMenu:i,sourceMenuId:r,sourceMenuButtonId:n,disabled:o}=this,{activeSourceIndex:c,allSources:f}=this.viewModel;return f.length>1?Ee("button",{afterCreate:j_,"aria-controls":r,"aria-expanded":(i==="source").toString(),"aria-haspopup":"true","aria-label":t.searchIn,bind:this,class:this.classes(Wi.sourcesButton,Dt.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:o,id:n,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:t.searchIn,type:"button"},Ee("span",{"aria-hidden":"true",class:this.classes(Kh.downArrow,Wi.sourcesButtonDown)}),Ee("span",{"aria-hidden":"true",class:this.classes(Kh.upArrow,Wi.sourcesButtonUp)}),Ee("span",{class:Wi.sourceName},this._getSourceName(c))):null}_renderSourcesList(){const{allSources:t,searchAllEnabled:i}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:n,sourceMenuId:o,sourceMenuButtonId:c}=this,f=n==="source"&&r>-1?this._buildId("source-item",r):null;return t.length>1?Ee("ul",{afterCreate:j_,"aria-activedescendant":f,"aria-labelledby":c,bind:this,class:Dt.menuList,"data-node-ref":"_sourceListNode",id:o,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},i?this._renderSource(hm.ALL_INDEX):null,t.map((g,v)=>this._renderSource(v)).toArray()):null}_renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?Ee("div",{class:this.classes(Dt.menu,Wi.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:t,messagesCommon:i,disabled:r}=this;return Ee("div",{class:Dt.loader,key:"base-loader",tabIndex:r?-1:void 0},Ee("span",{"aria-hidden":"true",class:Dt.loaderAnimation}),Ee("span",{class:Kh.fontFallbackText},t.searchButtonTitle),Ee("span",{class:Dt.loaderText},i.loading))}_renderContainer(){const{allSources:t,state:i}=this.viewModel,{activeMenu:r}=this,n={[Wi.hasMultipleSources]:t.length>1,[Wi.isLoading]:i==="loading",[Wi.isSearching]:i==="searching",[Wi.showWarning]:r==="warning",[Wi.showSources]:r==="source",[Wi.showSuggestions]:r==="suggestion"};return Ee("div",{afterCreate:o=>{this._container=o,o.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:o=>{o.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,Wi.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?Ee("button",{bind:this,class:this.classes(Wi.clearButton,Dt.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},Ee("span",{"aria-hidden":"true",class:Kh.close})):null}_renderLocationGroup(){const{messages:t,locationEnabled:i,displayedSearchTerm:r}=this,n=i&&!r,o=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return n?Ee("ul",{class:this.classes(Dt.menuList,Wi.suggestionList,Wi.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},Ee("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),bind:this,class:this.classes(Dt.menuItem,o?Dt.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},Ee("span",{"aria-hidden":"true",class:Kh.locateCircled})," ",t.useCurrentLocation)):null}_renderInput(){const{activeMenu:t,locationEnabled:i,displayedSearchTerm:r,messages:n,suggestionsMenuId:o,inputId:c,_activeMenuItemIndex:f,disabled:g}=this,{maxInputLength:v,placeholder:_,searchTerm:M,suggestionCount:T}=this.viewModel,E=!(!(i&&!r)&&!T),j=t==="suggestion"&&f>-1?this._buildId("suggestion-item",f):null;return Ee("input",{afterCreate:j_,"aria-activedescendant":j,"aria-autocomplete":"list","aria-controls":E?o:null,"aria-expanded":(E&&t==="suggestion").toString(),"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(Dt.input,Wi.input),"data-node-ref":"_inputNode",disabled:g,id:c,maxlength:v,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:_,role:"combobox",title:M?"":_,type:"text",value:M})}_renderForm(){return Ee("form",{bind:this,class:Wi.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(t){const{sourceIndex:i}=t,{results:r}=t;return(r==null?void 0:r.length)?Ee("ul",{class:this.classes(Dt.menuList,Wi.suggestionList),key:`esri-search__suggestion-list-${i}`,role:"group"},r==null?void 0:r.map(o=>this._renderSuggestion(o,this._menuItemCount++))):null}_renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(i=>[this._renderSuggestionHeader(i),this._renderSuggestList(i)]):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:i,suggestionsMenuId:r,inputId:n}=this,{suggestionCount:o}=this.viewModel,c=i&&!t||o;return this._menuItemCount=0,c?Ee("div",{afterCreate:j_,"aria-labelledby":n,bind:this,class:this.classes(Dt.menu,Wi.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:r,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return Ee("div",{class:Wi.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(t){var f;const{allSources:i,activeSourceIndex:r}=this.viewModel,{sourceIndex:n}=t,o=(f=t.results)==null?void 0:f.length,c=i.length>1&&r===hm.ALL_INDEX;return o&&c?Ee("div",{class:Dt.menuHeader,key:`esri-search__suggestion-header-${n}`},this._getSourceName(n)):null}_renderSuggestion(t,i){const{_activeMenuItemIndex:r,viewModel:{searchTerm:n}}=this;if(!n)return;const o=this.activeMenu==="suggestion"&&r===i;return Ee("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===i).toString(),bind:this,class:this.classes(Dt.menuItem,o?Dt.menuItemFocus:null),"data-suggestion":t,id:this._buildId("suggestion-item",i),innerHTML:this._getSuggestResultHTML(t.text,n),key:`esri-search__suggestion_${i}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(t){const{activeSourceIndex:i,searchAllEnabled:r}=this.viewModel,n={[Dt.menuItemActive]:t===i,[Dt.menuItemFocus]:this.activeMenu==="source"&&t===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},o=r?t+1:t;return Ee("li",{"aria-checked":(t===i).toString(),bind:this,class:this.classes(Wi.source,Dt.menuItem,n),"data-source-index":t,id:this._buildId("source-item",o),key:`esri-search__source-${t}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(t))}_renderNoResultsWarning(t){const{messages:i}=this,r=t?uN(i.noResultsFoundForValue,{value:`"${t}"`}):i.noResultsFound;return Ee("div",{key:"esri-search__no_results"},Ee("div",{class:Wi.warningMenuHeader},i.noResults),Ee("div",{class:Wi.warningMenuText},r))}_renderEmptySearchWarning(){const{messages:t}=this;return Ee("div",{key:"esri-search__empty-search"},Ee("span",{"aria-hidden":"true",class:Kh.noticeTriangle}),Ee("span",{class:Wi.noValueText},t.emptyValue))}_renderLocateWarning(){const{messages:t}=this;return Ee("div",{key:"esri-search__locate-error"},Ee("span",{"aria-hidden":"true",class:Kh.noticeTriangle}),Ee("span",{class:Wi.noValueText},t.locateError))}_renderWarning(){var n;const{displayedSearchTerm:t,_locateFailed:i}=this,{viewModel:r}=this;return i?this._renderLocateWarning():(n=r.selectedSuggestion)!=null&&n.location||t?this._renderNoResultsWarning(t):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,i){return`${this.id}-${t}${i===void 0?"":`-${i}`}`}_watchSourceChanges(){const{viewModel:{allSources:t}}=this,i="sources";this.removeHandles(i),t.forEach(r=>this.addHandles(nt(()=>r.name,()=>this.scheduleRender()),i))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var i;const t=this.activeMenu==="source";this.activeMenu=t?"none":"source",this.renderNow(),this.activeMenu==="source"&&((i=this._sourceListNode)==null||i.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const i=aJ(t.currentTarget);i&&(this._focus(),this.search(i))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:i}=t;this._searchController=t,(async()=>{try{const r=await this.viewModel.searchNearby({signal:i});this.activeMenu=r!=null&&r.numResults?"none":"warning"}catch{this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var r;if(!t)return;const i=Gqe(t);i!=null&&(this.viewModel.activeSourceIndex=i,this._clearActiveMenu(),(r=this._sourceMenuButtonNode)==null||r.focus())}_cancelSuggest(){this._suggestController=q0(this._suggestController)}_cancelSearch(){this._searchController=q0(this._searchController),this._locateFailed=!1}_handleInputKeyup(t){var o;const{key:i}=t;if(t.ctrlKey||t.metaKey||i==="Copy"||i==="ArrowLeft"||i==="ArrowRight"||i==="Shift")return;if(i==="Tab"||i==="Escape"||t.shiftKey&&i==="Tab")return this._cancelSuggest(),void(i==="Escape"&&this._clearActiveMenu());const r=i==="Home"||i==="End"||i==="ArrowUp"||i==="ArrowDown";if(i==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const n=(o=this._suggestionListNode)==null?void 0:o.getElementsByTagName("li");if(n!=null&&n.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),r)return t.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(i,n,this._suggestionListNode);const c=n[this._activeMenuItemIndex];if(i==="Enter"&&c){const f=aJ(c);return void(f?(this._focus(),this.search(f)):qqe(c)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(t,i,r){const n=this._activeMenuItemIndex;t==="Home"&&(this._activeMenuItemIndex=0),t==="End"&&(this._activeMenuItemIndex=i.length-1),t==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?i.length-1:this._activeMenuItemIndex-1),t==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===i.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&r&&xMe(i[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const i=t.target;this.viewModel.searchTerm!==i.value&&(this.viewModel.searchTerm=i.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){var r;const{key:i}=t;if(Ese(i)){t.preventDefault();const n=(r=this._sourceListNode)==null?void 0:r.getElementsByTagName("li"),o=n==null?void 0:n[this._activeMenuItemIndex];this._setSourceFromMenuItem(o)}else i!=="ArrowUp"&&i!=="ArrowDown"&&i!=="End"&&i!=="Home"||t.preventDefault()}_handleSourceMenuKeyup(t){var o,c,f;const{key:i}=t,r=i==="ArrowUp"||i==="ArrowDown"||i==="End"||i==="Home";if(r&&t.preventDefault(),i==="Escape")return this._clearActiveMenu(),void((o=this._sourceMenuButtonNode)==null?void 0:o.focus());const n=(c=this._sourceListNode)==null?void 0:c.getElementsByTagName("li");return n&&n.length!==0&&r?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(i,n,(f=this._sourceListNode)==null?void 0:f.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(t){const{messages:i}=this,r=this.viewModel,{allSources:n}=r,o=n.at(t);return t===hm.ALL_INDEX?i.all:o&&o.name||i.untitledSource}_getSuggestResultHTML(t,i){return t?Bqe.test(t)?t:Uqe(t,i):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function aJ(e){return e==null?void 0:e["data-suggestion"]}function Gqe(e){return e==null?void 0:e["data-source-index"]}function qqe(e){return!!(e!=null&&e["data-current-location-item"])}b([$()],ti.prototype,"_activeMenuItemIndex",void 0),b([$()],ti.prototype,"displayedSearchTerm",null),b([$({readOnly:!0})],ti.prototype,"inputId",null),b([$({readOnly:!0})],ti.prototype,"suggestionsMenuId",null),b([$({readOnly:!0})],ti.prototype,"sourceMenuId",null),b([$({readOnly:!0})],ti.prototype,"sourceMenuButtonId",null),b([$()],ti.prototype,"activeMenu",void 0),b([$({readOnly:!0})],ti.prototype,"activeSource",null),b([$()],ti.prototype,"activeSourceIndex",null),b([$()],ti.prototype,"allPlaceholder",null),b([$({readOnly:!0})],ti.prototype,"allSources",null),b([$()],ti.prototype,"autoNavigate",null),b([$()],ti.prototype,"autoSelect",null),b([$({readOnly:!0})],ti.prototype,"defaultSources",null),b([$()],ti.prototype,"disabled",void 0),b([$()],ti.prototype,"goToOverride",null),b([$()],ti.prototype,"icon",null),b([$()],ti.prototype,"includeDefaultSources",null),b([$()],ti.prototype,"label",null),b([$()],ti.prototype,"locationEnabled",null),b([$()],ti.prototype,"maxResults",null),b([$()],ti.prototype,"maxSuggestions",null),b([$(),no("esri/widgets/Search/t9n/Search")],ti.prototype,"messages",void 0),b([$(),no("esri/t9n/common")],ti.prototype,"messagesCommon",void 0),b([$()],ti.prototype,"minSuggestCharacters",null),b([$()],ti.prototype,"popupEnabled",null),b([$()],ti.prototype,"popupTemplate",null),b([$()],ti.prototype,"portal",null),b([$()],ti.prototype,"resultGraphic",null),b([$()],ti.prototype,"resultGraphicEnabled",null),b([$({readOnly:!0})],ti.prototype,"results",null),b([$()],ti.prototype,"searchAllEnabled",null),b([$()],ti.prototype,"searchTerm",null),b([$({readOnly:!0})],ti.prototype,"selectedResult",null),b([$()],ti.prototype,"sources",null),b([$({readOnly:!0})],ti.prototype,"suggestions",null),b([$()],ti.prototype,"suggestionsEnabled",null),b([$()],ti.prototype,"view",null),b([VF(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),$({type:hm})],ti.prototype,"viewModel",void 0),ti=b([ne("esri.widgets.Search")],ti);const Wqe=ti,lJ=K.createContext();function Hqe(e){return Ii("MuiGrid",e)}const Jqe=[0,1,2,3,4,5,6,7,8,9,10],Kqe=["column-reverse","column","row-reverse","row"],Yqe=["nowrap","wrap-reverse","wrap"],Gv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],o3=Ei("MuiGrid",["root","container","item","zeroMinWidth",...Jqe.map(e=>`spacing-xs-${e}`),...Kqe.map(e=>`direction-xs-${e}`),...Yqe.map(e=>`wrap-xs-${e}`),...Gv.map(e=>`grid-xs-${e}`),...Gv.map(e=>`grid-sm-${e}`),...Gv.map(e=>`grid-md-${e}`),...Gv.map(e=>`grid-lg-${e}`),...Gv.map(e=>`grid-xl-${e}`)]);function Zqe({theme:e,ownerState:t}){let i;return e.breakpoints.keys.reduce((r,n)=>{let o={};if(t[n]&&(i=t[n]),!i)return r;if(i===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=S0({values:t.columns,breakpoints:e.breakpoints.values}),f=typeof c=="object"?c[n]:c;if(f==null)return r;const g=`${Math.round(i/f*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const _=e.spacing(t.columnSpacing);if(_!=="0px"){const M=`calc(${g} + ${_})`;v={flexBasis:M,maxWidth:M}}}o={flexBasis:g,flexGrow:0,maxWidth:g,...v}}return e.breakpoints.values[n]===0?Object.assign(r,o):r[e.breakpoints.up(n)]=o,r},{})}function Xqe({theme:e,ownerState:t}){const i=S0({values:t.direction,breakpoints:e.breakpoints.values});return Io({theme:e},i,r=>{const n={flexDirection:r};return r.startsWith("column")&&(n[`& > .${o3.item}`]={maxWidth:"none"}),n})}function nde({breakpoints:e,values:t}){let i="";Object.keys(t).forEach(n=>{i===""&&t[n]!==0&&(i=n)});const r=Object.keys(e).sort((n,o)=>e[n]-e[o]);return r.slice(0,r.indexOf(i))}function Qqe({theme:e,ownerState:t}){const{container:i,rowSpacing:r}=t;let n={};if(i&&r!==0){const o=S0({values:r,breakpoints:e.breakpoints.values});let c;typeof o=="object"&&(c=nde({breakpoints:e.breakpoints.values,values:o})),n=Io({theme:e},o,(f,g)=>{const v=e.spacing(f);return v!=="0px"?{marginTop:e.spacing(-f),[`& > .${o3.item}`]:{paddingTop:v}}:c!=null&&c.includes(g)?{}:{marginTop:0,[`& > .${o3.item}`]:{paddingTop:0}}})}return n}function eWe({theme:e,ownerState:t}){const{container:i,columnSpacing:r}=t;let n={};if(i&&r!==0){const o=S0({values:r,breakpoints:e.breakpoints.values});let c;typeof o=="object"&&(c=nde({breakpoints:e.breakpoints.values,values:o})),n=Io({theme:e},o,(f,g)=>{const v=e.spacing(f);if(v!=="0px"){const _=e.spacing(-f);return{width:`calc(100% + ${v})`,marginLeft:_,[`& > .${o3.item}`]:{paddingLeft:v}}}return c!=null&&c.includes(g)?{}:{width:"100%",marginLeft:0,[`& > .${o3.item}`]:{paddingLeft:0}}})}return n}function tWe(e,t,i={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(n=>{const o=e[n];Number(o)>0&&r.push(i[`spacing-${n}-${String(o)}`])}),r}const iWe=ct("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{container:r,direction:n,item:o,spacing:c,wrap:f,zeroMinWidth:g,breakpoints:v}=i;let _=[];r&&(_=tWe(c,v,t));const M=[];return v.forEach(T=>{const E=i[T];E&&M.push(t[`grid-${T}-${String(E)}`])}),[t.root,r&&t.container,o&&t.item,g&&t.zeroMinWidth,..._,n!=="row"&&t[`direction-xs-${String(n)}`],f!=="wrap"&&t[`wrap-xs-${String(f)}`],...M]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),Xqe,Qqe,eWe,Zqe);function rWe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const i=[];return t.forEach(r=>{const n=e[r];if(Number(n)>0){const o=`spacing-${r}-${String(n)}`;i.push(o)}}),i}const nWe=e=>{const{classes:t,container:i,direction:r,item:n,spacing:o,wrap:c,zeroMinWidth:f,breakpoints:g}=e;let v=[];i&&(v=rWe(o,g));const _=[];g.forEach(T=>{const E=e[T];E&&_.push(`grid-${T}-${String(E)}`)});const M={root:["root",i&&"container",n&&"item",f&&"zeroMinWidth",...v,r!=="row"&&`direction-xs-${String(r)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,..._]};return Ri(M,Hqe,t)},at=K.forwardRef(function(t,i){const r=Fee({props:t,name:"MuiGrid"}),{breakpoints:n}=f1(),o=T$(r),{className:c,columns:f,columnSpacing:g,component:v="div",container:_=!1,direction:M="row",item:T=!1,rowSpacing:E,spacing:j=0,wrap:R="wrap",zeroMinWidth:N=!1,...F}=o,V=E||j,z=g||j,G=K.useContext(lJ),H=_?f||12:G,Z={},Y={...F};n.keys.forEach(W=>{F[W]!=null&&(Z[W]=F[W],delete Y[W])});const re={...o,columns:H,container:_,direction:M,item:T,rowSpacing:V,columnSpacing:z,wrap:R,zeroMinWidth:N,spacing:j,...Z,breakpoints:n.keys},q=nWe(re);return P.jsx(lJ.Provider,{value:H,children:P.jsx(iWe,{ownerState:re,className:Et(q.root,c),as:v,ref:i,...Y})})}),sWe={BingMapsLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./BingMapsLayer-CY-ma-oW.js");return{default:e}},[],import.meta.url)).default,BuildingSceneLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./BuildingSceneLayer-B1d8B73C.js");return{default:e}},__vite__mapDeps([249,250,251,225,226,223,252,253,228,254,102,39,40,100,91,38,86,89,32,103,104,105,67,90,85,41,168,128,255]),import.meta.url)).default,CSVLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./CSVLayer-BVU6LA28.js");return{default:e}},__vite__mapDeps([256,23,21]),import.meta.url)).default,CatalogLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./CatalogLayer-6FgIBJ2y.js");return{default:e}},__vite__mapDeps([257,3,4,229,36,42,230,221,39,85,38,86,220,23,21,231,232,50,48,49,11,10,14,121,233,13]),import.meta.url)).default,DimensionLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./DimensionLayer-BqebnmmZ.js");return{default:e}},__vite__mapDeps([258,259]),import.meta.url)).default,ElevationLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ElevationLayer-B3EIpMG0.js");return{default:e}},__vite__mapDeps([122,123,124,125,51]),import.meta.url)).default,FeatureLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>eGe);return{default:e}},void 0,import.meta.url)).default,GeoJSONLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./GeoJSONLayer-CFjGFskV.js");return{default:e}},__vite__mapDeps([260,23,21]),import.meta.url)).default,GeoRSSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./GeoRSSLayer-CTHQFIgJ.js");return{default:e}},[],import.meta.url)).default,GroupLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>uWe);return{default:e}},void 0,import.meta.url)).default,ImageryLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ImageryLayer-BlFtOjJv.js");return{default:e}},__vite__mapDeps([261,262,185,93,94,95,118,4,121,50,48,49,11,10,14,116,232]),import.meta.url)).default,ImageryTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ImageryTileLayer-fM7tM-ks.js");return{default:e}},__vite__mapDeps([263,262,185,93,94,95,118,4,187,97,96,125,51]),import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./IntegratedMesh3DTilesLayer-BqfB3sJJ.js");return{default:e}},__vite__mapDeps([264,255]),import.meta.url)).default,IntegratedMeshLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./IntegratedMeshLayer-A4toeQsg.js");return{default:e}},__vite__mapDeps([265,266,226,267,251,225,223,252,253,228,254,255]),import.meta.url)).default,KMLLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./KMLLayer-CMHWMIBB.js");return{default:e}},__vite__mapDeps([268,189]),import.meta.url)).default,KnowledgeGraphLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./KnowledgeGraphLayer-B0qsETMP.js");return{default:e}},__vite__mapDeps([269,270,12,13,10,11,14,15,16,17,7,18,19,20,21,1,2,3,4,23,271,272]),import.meta.url)).default,LineOfSightLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./LineOfSightLayer-BdT_YLLO.js");return{default:e}},__vite__mapDeps([273,259,266,226,267,255]),import.meta.url)).default,LinkChartLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./LinkChartLayer-DpGqmq39.js");return{default:e}},__vite__mapDeps([274,13,10,11,14,270,12,15,16,17,7,18,19,20,21,1,2,3,4,23,271,272]),import.meta.url)).default,MapImageLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MapImageLayer-BqOsjo_J.js");return{default:e}},__vite__mapDeps([275,276,231,221,232,50,48,49,11,10,14,121,233,13,167,192,166]),import.meta.url)).default,MapNotesLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MapNotesLayer-DhwFj9ML.js");return{default:e}},__vite__mapDeps([277,56]),import.meta.url)).default,MediaLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MediaLayer-QB2FEbeS.js");return{default:e}},__vite__mapDeps([278,195,153,38,148,267,15,16]),import.meta.url)).default,OGCFeatureLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OGCFeatureLayer-DQa-iglE.js");return{default:e}},__vite__mapDeps([279,81,13,10,11,14,53,9,23,21,54]),import.meta.url)).default,OpenStreetMapLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OpenStreetMapLayer-CJBHmGHZ.js");return{default:e}},__vite__mapDeps([280,281]),import.meta.url)).default,OrientedImageryLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OrientedImageryLayer-CSMICVNS.js");return{default:e}},[],import.meta.url)).default,PointCloudLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./PointCloudLayer-B0_TFPsO.js");return{default:e}},__vite__mapDeps([282,251,225,226,223,252,253,228,88,255]),import.meta.url)).default,RouteLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./RouteLayer-BlAQWChR.js");return{default:e}},__vite__mapDeps([283,225,226,199]),import.meta.url)).default,SceneLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./SceneLayer-C2NtEa78.js");return{default:e}},__vite__mapDeps([284,285,230,221,39,85,38,86,148,286,36,42,78,45,31,91,30,44,40,41,26,43,46,37,287,251,225,226,223,252,253,228,128,250,254,266,267,255,102,100,89,32,103,104,105,67,90,168]),import.meta.url)).default,StreamLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./StreamLayer-BSI3hwie.js");return{default:e}},[],import.meta.url)).default,SubtypeGroupLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./SubtypeGroupLayer-JaZzpRgK.js");return{default:e}},[],import.meta.url)).default,TileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./TileLayer-DCS-S3bd.js");return{default:e}},__vite__mapDeps([288,123,124,125,51,276,231,221,232,50,48,49,11,10,14,121,233,13,167]),import.meta.url)).default,UnknownLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./UnknownLayer-D54kLKFr.js");return{default:e}},[],import.meta.url)).default,UnsupportedLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./UnsupportedLayer-CCgd0gAF.js");return{default:e}},[],import.meta.url)).default,VectorTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VectorTileLayer-D1omNc5b.js");return{default:e}},__vite__mapDeps([289,123,124,125,51,223,114,112,62,110,72,33,34,59]),import.meta.url)).default,VideoLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VideoLayer-CzDM2UaS.js");return{default:e}},__vite__mapDeps([290,204,38,40]),import.meta.url)).default,VoxelLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VoxelLayer-DrfrfEVV.js");return{default:e}},__vite__mapDeps([291,251,225,226,223,252,253,228,266,267,85,38,86]),import.meta.url)).default,WFSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WFSLayer-Bl53-UaQ.js");return{default:e}},__vite__mapDeps([292,23,21,107,53,9,10,11,108]),import.meta.url)).default,WMSLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>fHe);return{default:e}},void 0,import.meta.url)).default,WMTSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WMTSLayer-f5O0S40I.js");return{default:e}},__vite__mapDeps([293,281,124,108]),import.meta.url)).default,WebTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WebTileLayer-BRgRtAAt.js").then(t=>t.W);return{default:e}},[],import.meta.url)).default},oWe=Symbol("WebScene");async function aWe(e){const t=[];for(const i of e.allLayers)if("beforeSave"in i&&typeof i.beforeSave=="function"){const r=i.beforeSave();r&&t.push(r)}await Promise.allSettled(t)}const lWe=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function FSt(e,t,i){let r=(e.messages??[]).filter(({type:n})=>n==="error").map(({name:n,message:o,details:c})=>new we(n,o,c));if(e.blockedRelativeUrls&&(r=r.concat(e.blockedRelativeUrls.map(n=>new we("url:unsupported",`Relative url '${n}' is not supported`)))),i){const{ignoreUnsupported:n,supplementalUnsupportedErrors:o=[],requiredPropertyChecksDisabled:c}=i;n&&(r=r.filter(({name:f})=>!(lWe.has(f)||o.includes(f)))),c&&(r=r.filter(f=>f.name!=="web-document-write:property-required"))}if(r.length>0)throw new we(t.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}let Zn=class extends J7(Z7(FF(DF(boe(voe(W7(nx))))))){constructor(t){super(t),this.allLayers=new Z0({getCollections:()=>[this.layers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=foe(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._debouncedSaveOperations=J$(async(i,r,n)=>{const{save:o,saveAs:c}=await Ce(()=>import("./groupLayerUtils-DFNbE8Cl.js"),__vite__mapDeps([294,227,225,226,223,228,252,253]),import.meta.url);switch(i){case Gu.SAVE:return o(this,r);case Gu.SAVE_AS:return c(this,n,r)}})}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([nt(()=>{let t=this.parent;for(;t&&"parent"in t&&t.parent;)t=t.parent;return t&&oWe in t},t=>{const i="prevent-adding-tables";this.removeHandles(i),t&&(this.tables.removeAll(),this.addHandles(ro(()=>this.tables,"before-add",r=>{r.preventDefault(),Le.getLogger(this).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")}),i))},Jo),nt(()=>this.visible,this._onVisibilityChange.bind(this),is)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf("portalItem")===ri.USER}_writeLayers(t,i,r,n){const o=[];if(!t)return o;t.forEach(c=>{const f=TE(c,n.webmap?n.webmap.getLayerJSONFromResourceInfo(c):null,n);f!=null&&f.layerType&&o.push(f)}),i.layers=o}set portalItem(t){this._set("portalItem",t)}readPortalItem(t,i,r){const{itemId:n,layerType:o}=i;if(o==="GroupLayer"&&n)return new Rm({id:n,portal:r==null?void 0:r.portal})}writePortalItem(t,i){t!=null&&t.id&&(i.itemId=t.id)}set visibilityMode(t){const i=this._get("visibilityMode")!==t;this._set("visibilityMode",t),i&&this._enforceVisibility(t,this.visible)}async beforeSave(){return aWe(this)}load(t){const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service"],layerModuleTypeMap:sWe},t).catch(r=>{if(Ra(r),this.sourceIsPortalItem)throw r});return this.addResolvingPromise(i),Promise.resolve(this)}async loadAll(){return xN(this,t=>{t(this.layers,this.tables)})}async save(t){return this._debouncedSaveOperations(Gu.SAVE,t)}async saveAs(t,i){return this._debouncedSaveOperations(Gu.SAVE_AS,i,t)}layerAdded(t){t.visible&&this.visibilityMode==="exclusive"?this._turnOffOtherLayers(t):this.visibilityMode==="inherited"&&(t.visible=this.visible),this.hasHandles(t.uid)?console.error(`Layer read to Grouplayer: uid=${t.uid}`):this.addHandles(nt(()=>t.visible,i=>this._onChildVisibilityChange(t,i),is),t.uid)}layerRemoved(t){this.removeHandles(t.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(t){this.layers.forEach(i=>{i!==t&&(i.visible=!1)})}_enforceVisibility(t,i){if(!js(this).initialized)return;const r=this.layers;let n=r.find(o=>o.visible);switch(t){case"exclusive":r.length&&!n&&(n=r.at(0),n.visible=!0),this._turnOffOtherLayers(n);break;case"inherited":r.forEach(o=>{o.visible=i})}}_onVisibilityChange(t){this.visibilityMode==="inherited"&&this.layers.forEach(i=>{i.visible=t})}_onChildVisibilityChange(t,i){switch(this.visibilityMode){case"exclusive":i?this._turnOffOtherLayers(t):this._isAnyLayerVisible()||(t.visible=!0);break;case"inherited":t.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some(t=>t.visible)}};b([$({readOnly:!0,dependsOn:[]})],Zn.prototype,"allLayers",void 0),b([$({readOnly:!0})],Zn.prototype,"allTables",void 0),b([$({json:{read:!0,write:!0}})],Zn.prototype,"blendMode",void 0),b([$()],Zn.prototype,"fullExtent",void 0),b([$({readOnly:!0})],Zn.prototype,"sourceIsPortalItem",null),b([$({json:{read:!1,write:{ignoreOrigin:!0}}})],Zn.prototype,"layers",void 0),b([Ze("layers")],Zn.prototype,"_writeLayers",null),b([$({type:["GroupLayer"]})],Zn.prototype,"operationalLayerType",void 0),b([$({json:{origins:{"web-map":{read:!1,write:{overridePolicy(e,t,i){return{enabled:(e==null?void 0:e.type)==="Group Layer"&&(i==null?void 0:i.initiator)!==this}}}},"web-scene":{read:!1,write:!1}}}})],Zn.prototype,"portalItem",null),b([qe("web-map","portalItem",["itemId"])],Zn.prototype,"readPortalItem",null),b([Ze("web-map","portalItem",{itemId:{type:String}})],Zn.prototype,"writePortalItem",null),b([$()],Zn.prototype,"spatialReference",void 0),b([$({json:{read:!1},readOnly:!0,value:"group"})],Zn.prototype,"type",void 0),b([$({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,t,i)=>{e!=="inherited"&&(t[i]=e)}}}}})],Zn.prototype,"visibilityMode",null),Zn=b([ne("esri.layers.GroupLayer")],Zn);const sde=Zn,uWe=Object.freeze(Object.defineProperty({__proto__:null,default:sde},Symbol.toStringTag,{value:"Module"}));var HF={},ode={exports:{}};(function(e){function t(i){return i&&i.__esModule?i:{default:i}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(ode);var bx=ode.exports,bk={};const cWe=E1e(Lwe);var uJ;function wx(){return uJ||(uJ=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=cWe}(bk)),bk}var hWe=bx;Object.defineProperty(HF,"__esModule",{value:!0});var UP=HF.default=void 0,dWe=hWe(wx()),pWe=P;UP=HF.default=(0,dWe.default)((0,pWe.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var JF={},fWe=bx;Object.defineProperty(JF,"__esModule",{value:!0});var GP=JF.default=void 0,yWe=fWe(wx()),mWe=P;GP=JF.default=(0,yWe.default)((0,mWe.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var ade={};function gWe(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}}return t.default=e,t}var lde=gWe,Mc={},wk,cJ;function vWe(){if(cJ)return wk;cJ=1;function e(t){return t&&t.__esModule?t:{default:t}}return wk=e,wk}var d5,hJ;function bWe(){if(hJ)return d5;hJ=1;function e(){return d5=e=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e.apply(this,arguments)}return d5=e,d5}var xk,dJ;function wWe(){if(dJ)return xk;dJ=1;function e(t,i){if(t==null)return{};var r={},n=Object.keys(t),o,c;for(c=0;c<n.length;c++)o=n[c],!(i.indexOf(o)>=0)&&(r[o]=t[o]);return r}return xk=e,xk}var _k,pJ;function xWe(){if(pJ)return _k;pJ=1;var e=wWe();function t(i,r){if(i==null)return{};var n=e(i,r),o,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(i);for(c=0;c<f.length;c++)o=f[c],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(n[o]=i[o])}return n}return _k=t,_k}var Sk,fJ;function _We(){if(fJ)return Sk;fJ=1;function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}return Sk=e,Sk}var $k,yJ;function SWe(){if(yJ)return $k;yJ=1;function e(i,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function t(i,r,n){return r&&e(i.prototype,r),n&&e(i,n),i}return $k=t,$k}var qv,mJ;function $We(){if(mJ)return qv;mJ=1;function e(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(n){return typeof n}:e=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(i)}function t(i){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?qv=t=function(n){return e(n)}:qv=t=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":e(n)},t(i)}return qv=t,qv}var Mk,gJ;function MWe(){if(gJ)return Mk;gJ=1;function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return Mk=e,Mk}var Tk,vJ;function TWe(){if(vJ)return Tk;vJ=1;var e=$We(),t=MWe();function i(r,n){return n&&(e(n)==="object"||typeof n=="function")?n:t(r)}return Tk=i,Tk}var p5,bJ;function kWe(){if(bJ)return p5;bJ=1;function e(t){return p5=e=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},e(t)}return p5=e,p5}var f5,wJ;function CWe(){if(wJ)return f5;wJ=1;function e(t,i){return f5=e=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},e(t,i)}return f5=e,f5}var kk,xJ;function IWe(){if(xJ)return kk;xJ=1;var e=CWe();function t(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&e(i,r)}return kk=t,kk}var Ck,_J;function ude(){if(_J)return Ck;_J=1;var e=function(){};return Ck=e,Ck}var Ik={},Ek,SJ;function X7(){if(SJ)return Ek;SJ=1;function e(t){return t&&t.__esModule?t:{default:t}}return Ek=e,Ek}var Wv={},$J;function EWe(){if($J)return Wv;$J=1;var e=X7();Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.default=void 0;var t=e(K);e(ude());var i=function(o){o.index;var c=o.children;t.default.Children.count(c)},r=i;return Wv.default=r,Wv}var y5={},Hv={},MJ;function cde(){if(MJ)return Hv;MJ=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return Hv.default=e,Hv}var TJ;function AWe(){if(TJ)return y5;TJ=1;var e=X7();Object.defineProperty(y5,"__esModule",{value:!0}),y5.default=r;var t=e(K),i=e(cde());function r(n){var o=n.children,c=n.startIndex,f=n.startX,g=n.pageX,v=n.viewLength,_=n.resistance,M=t.default.Children.count(o)-1,T=c+(f-g)/v,E;return _?T<0?T=Math.exp(T*i.default.RESISTANCE_COEF)-1:T>M&&(T=M+1-Math.exp((M-T)*i.default.RESISTANCE_COEF)):T<0?(T=0,E=(T-c)*v+g):T>M&&(T=M,E=(T-c)*v+g),{index:T,startX:E}}return y5}var Jv={},kJ;function jWe(){if(kJ)return Jv;kJ=1;var e=X7();Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.default=void 0;var t=e(K),i=function(o,c){var f=!1,g=function(j){return j?j.key:"empty"};if(o.children.length&&c.children.length){var v=t.default.Children.map(o.children,g),_=v[o.index];if(_!=null){var M=t.default.Children.map(c.children,g),T=M[c.index];_===T&&(f=!0)}}return f},r=i;return Jv.default=r,Jv}var Kv={},CJ;function PWe(){if(CJ)return Kv;CJ=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.default=void 0;function e(i,r){var n=i%r;return n<0?n+r:n}var t=e;return Kv.default=t,Kv}var IJ;function OWe(){return IJ||(IJ=1,function(e){var t=X7();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return c.default}});var i=t(EWe()),r=t(AWe()),n=t(cde()),o=t(jWe()),c=t(PWe())}(Ik)),Ik}var EJ;function RWe(){if(EJ)return Mc;EJ=1;var e=lde,t=vWe();Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.getDomTreeShapes=F,Mc.findNativeHandler=z,Mc.default=Mc.SwipeableViewsContext=void 0;var i=t(bWe()),r=t(xWe()),n=t(_We()),o=t(SWe()),c=t(TWe()),f=t(kWe()),g=t(IWe()),v=e(K);t(uee),t(ude());var _=OWe();function M(Y,re,q,W){return Y.addEventListener(re,q,W),{remove:function(){Y.removeEventListener(re,q,W)}}}var T={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},E={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(re){return"translate(".concat(-re,"%, 0)")},"x-reverse":function(re){return"translate(".concat(re,"%, 0)")},y:function(re){return"translate(0, ".concat(-re,"%)")},"y-reverse":function(re){return"translate(0, ".concat(re,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function j(Y,re){var q=re.duration,W=re.easeFunction,ee=re.delay;return"".concat(Y," ").concat(q," ").concat(W," ").concat(ee)}function R(Y,re){var q=E.rotationMatrix[re];return{pageX:q.x[0]*Y.pageX+q.x[1]*Y.pageY,pageY:q.y[0]*Y.pageX+q.y[1]*Y.pageY}}function N(Y){return Y.touches=[{pageX:Y.pageX,pageY:Y.pageY}],Y}function F(Y,re){for(var q=[];Y&&Y!==re&&Y!==document.body&&!Y.hasAttribute("data-swipeable");){var W=window.getComputedStyle(Y);W.getPropertyValue("position")==="absolute"||W.getPropertyValue("overflow-x")==="hidden"?q=[]:(Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth||Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight)&&q.push({element:Y,scrollWidth:Y.scrollWidth,scrollHeight:Y.scrollHeight,clientWidth:Y.clientWidth,clientHeight:Y.clientHeight,scrollLeft:Y.scrollLeft,scrollTop:Y.scrollTop}),Y=Y.parentNode}return q}var V=null;function z(Y){var re=Y.domTreeShapes,q=Y.pageX,W=Y.startX,ee=Y.axis;return re.some(function(le){var ue=q>=W;(ee==="x"||ee==="y")&&(ue=!ue);var ae=Math.round(le[E.scrollPosition[ee]]),pe=ae>0,ge=ae+le[E.clientLength[ee]]<le[E.scrollLength[ee]];return ue&&ge||!ue&&pe?(V=le.element,!0):!1})}var G=v.createContext();Mc.SwipeableViewsContext=G;var H=function(Y){(0,g.default)(re,Y);function re(q){var W;return(0,n.default)(this,re),W=(0,c.default)(this,(0,f.default)(re).call(this,q)),W.rootNode=null,W.containerNode=null,W.ignoreNextScrollEvents=!1,W.viewLength=0,W.startX=0,W.lastX=0,W.vx=0,W.startY=0,W.isSwiping=void 0,W.started=!1,W.startIndex=0,W.transitionListener=null,W.touchMoveListener=null,W.activeSlide=null,W.indexCurrent=null,W.firstRenderTimeout=null,W.setRootNode=function(ee){W.rootNode=ee},W.setContainerNode=function(ee){W.containerNode=ee},W.setActiveSlide=function(ee){W.activeSlide=ee,W.updateHeight()},W.handleSwipeStart=function(ee){var le=W.props.axis,ue=R(ee.touches[0],le);W.viewLength=W.rootNode.getBoundingClientRect()[E.length[le]],W.startX=ue.pageX,W.lastX=ue.pageX,W.vx=0,W.startY=ue.pageY,W.isSwiping=void 0,W.started=!0;var ae=window.getComputedStyle(W.containerNode),pe=ae.getPropertyValue("-webkit-transform")||ae.getPropertyValue("transform");if(pe&&pe!=="none"){var ge=pe.split("(")[1].split(")")[0].split(","),ve=window.getComputedStyle(W.rootNode),ce=R({pageX:parseInt(ge[4],10),pageY:parseInt(ge[5],10)},le);W.startIndex=-ce.pageX/(W.viewLength-parseInt(ve.paddingLeft,10)-parseInt(ve.paddingRight,10))||0}},W.handleSwipeMove=function(ee){if(!W.started){W.handleTouchStart(ee);return}if(!(V!==null&&V!==W.rootNode)){var le=W.props,ue=le.axis,ae=le.children,pe=le.ignoreNativeScroll,ge=le.onSwitching,ve=le.resistance,ce=R(ee.touches[0],ue);if(W.isSwiping===void 0){var he=Math.abs(ce.pageX-W.startX),Ie=Math.abs(ce.pageY-W.startY),Be=he>Ie&&he>_.constant.UNCERTAINTY_THRESHOLD;if(!ve&&(ue==="y"||ue==="y-reverse")&&(W.indexCurrent===0&&W.startX<ce.pageX||W.indexCurrent===v.Children.count(W.props.children)-1&&W.startX>ce.pageX)){W.isSwiping=!1;return}if(he>Ie&&ee.preventDefault(),Be===!0||Ie>_.constant.UNCERTAINTY_THRESHOLD){W.isSwiping=Be,W.startX=ce.pageX;return}}if(W.isSwiping===!0){ee.preventDefault(),W.vx=W.vx*.5+(ce.pageX-W.lastX)*.5,W.lastX=ce.pageX;var Ke=(0,_.computeIndex)({children:ae,resistance:ve,pageX:ce.pageX,startIndex:W.startIndex,startX:W.startX,viewLength:W.viewLength}),wt=Ke.index,He=Ke.startX;if(V===null&&!pe){var yt=F(ee.target,W.rootNode),Fe=z({domTreeShapes:yt,startX:W.startX,pageX:ce.pageX,axis:ue});if(Fe)return}He?W.startX=He:V===null&&(V=W.rootNode),W.setIndexCurrent(wt);var it=function(){ge&&ge(wt,"move")};(W.state.displaySameSlide||!W.state.isDragging)&&W.setState({displaySameSlide:!1,isDragging:!0},it),it()}}},W.handleSwipeEnd=function(){if(V=null,!!W.started&&(W.started=!1,W.isSwiping===!0)){var ee=W.state.indexLatest,le=W.indexCurrent,ue=ee-le,ae;Math.abs(W.vx)>W.props.threshold?W.vx>0?ae=Math.floor(le):ae=Math.ceil(le):Math.abs(ue)>W.props.hysteresis?ae=ue>0?Math.floor(le):Math.ceil(le):ae=ee;var pe=v.Children.count(W.props.children)-1;ae<0?ae=0:ae>pe&&(ae=pe),W.setIndexCurrent(ae),W.setState({indexLatest:ae,isDragging:!1},function(){W.props.onSwitching&&W.props.onSwitching(ae,"end"),W.props.onChangeIndex&&ae!==ee&&W.props.onChangeIndex(ae,ee,{reason:"swipe"}),le===ee&&W.handleTransitionEnd()})}},W.handleTouchStart=function(ee){W.props.onTouchStart&&W.props.onTouchStart(ee),W.handleSwipeStart(ee)},W.handleTouchEnd=function(ee){W.props.onTouchEnd&&W.props.onTouchEnd(ee),W.handleSwipeEnd(ee)},W.handleMouseDown=function(ee){W.props.onMouseDown&&W.props.onMouseDown(ee),ee.persist(),W.handleSwipeStart(N(ee))},W.handleMouseUp=function(ee){W.props.onMouseUp&&W.props.onMouseUp(ee),W.handleSwipeEnd(N(ee))},W.handleMouseLeave=function(ee){W.props.onMouseLeave&&W.props.onMouseLeave(ee),W.started&&W.handleSwipeEnd(N(ee))},W.handleMouseMove=function(ee){W.props.onMouseMove&&W.props.onMouseMove(ee),W.started&&W.handleSwipeMove(N(ee))},W.handleScroll=function(ee){if(W.props.onScroll&&W.props.onScroll(ee),ee.target===W.rootNode){if(W.ignoreNextScrollEvents){W.ignoreNextScrollEvents=!1;return}var le=W.state.indexLatest,ue=Math.ceil(ee.target.scrollLeft/ee.target.clientWidth)+le;W.ignoreNextScrollEvents=!0,ee.target.scrollLeft=0,W.props.onChangeIndex&&ue!==le&&W.props.onChangeIndex(ue,le,{reason:"focus"})}},W.updateHeight=function(){if(W.activeSlide!==null){var ee=W.activeSlide.children[0];ee!==void 0&&ee.offsetHeight!==void 0&&W.state.heightLatest!==ee.offsetHeight&&W.setState({heightLatest:ee.offsetHeight})}},W.state={indexLatest:q.index,isDragging:!1,renderOnlyActive:!q.disableLazyLoading,heightLatest:0,displaySameSlide:!0},W.setIndexCurrent(q.index),W}return(0,o.default)(re,[{key:"componentDidMount",value:function(){var W=this;this.transitionListener=M(this.containerNode,"transitionend",function(ee){ee.target===W.containerNode&&W.handleTransitionEnd()}),this.touchMoveListener=M(this.rootNode,"touchmove",function(ee){W.props.disabled||W.handleSwipeMove(ee)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){W.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(W){var ee=W.index;typeof ee=="number"&&ee!==this.props.index&&(this.setIndexCurrent(ee),this.setState({displaySameSlide:(0,_.getDisplaySameSlide)(this.props,W),indexLatest:ee}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var W=this;return{slideUpdateHeight:function(){W.updateHeight()}}}},{key:"setIndexCurrent",value:function(W){if(!this.props.animateTransitions&&this.indexCurrent!==W&&this.handleTransitionEnd(),this.indexCurrent=W,this.containerNode){var ee=this.props.axis,le=E.transform[ee](W*100);this.containerNode.style.WebkitTransform=le,this.containerNode.style.transform=le}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var W=this,ee=this.props;ee.action;var le=ee.animateHeight,ue=ee.animateTransitions,ae=ee.axis,pe=ee.children,ge=ee.containerStyle,ve=ee.disabled;ee.disableLazyLoading;var ce=ee.enableMouseEvents;ee.hysteresis,ee.ignoreNativeScroll,ee.index,ee.onChangeIndex,ee.onSwitching,ee.onTransitionEnd,ee.resistance;var he=ee.slideStyle,Ie=ee.slideClassName,Be=ee.springConfig,Ke=ee.style;ee.threshold;var wt=(0,r.default)(ee,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),He=this.state,yt=He.displaySameSlide,Fe=He.heightLatest,it=He.indexLatest,Ge=He.isDragging,Te=He.renderOnlyActive,Ve=ve?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},De=!ve&&ce?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},me=(0,i.default)({},T.slide,he),rt,lt;if(Ge||!ue||yt)rt="all 0s ease 0s",lt="all 0s ease 0s";else if(rt=j("transform",Be),lt=j("-webkit-transform",Be),Fe!==0){var zt=", ".concat(j("height",Be));rt+=zt,lt+=zt}var xt={height:null,WebkitFlexDirection:E.flexDirection[ae],flexDirection:E.flexDirection[ae],WebkitTransition:lt,transition:rt};if(!Te){var bt=E.transform[ae](this.indexCurrent*100);xt.WebkitTransform=bt,xt.transform=bt}return le&&(xt.height=Fe),v.createElement(G.Provider,{value:this.getSwipeableViewsContext()},v.createElement("div",(0,i.default)({ref:this.setRootNode,style:(0,i.default)({},E.root[ae],Ke)},wt,Ve,De,{onScroll:this.handleScroll}),v.createElement("div",{ref:this.setContainerNode,style:(0,i.default)({},xt,T.container,ge),className:"react-swipeable-view-container"},v.Children.map(pe,function(te,St){if(Te&&St!==it)return null;var fi,ft=!0;return St===it&&(ft=!1,le&&(fi=W.setActiveSlide,me.overflowY="hidden")),v.createElement("div",{ref:fi,style:me,className:Ie,"aria-hidden":ft,"data-swipeable":"true"},te)}))))}}]),re}(v.Component);H.displayName="ReactSwipableView",H.propTypes={},H.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var Z=H;return Mc.default=Z,Mc}(function(e){var t=lde;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return i.SwipeableViewsContext}});var i=t(RWe())})(ade);const Q7=rn(ade);function LWe(e){return Ii("MuiLinearProgress",e)}Ei("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const qP=4,WP=Rp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,NWe=typeof WP!="string"?kg`
        animation: ${WP} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,HP=Rp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,FWe=typeof HP!="string"?kg`
        animation: ${HP} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,JP=Rp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,DWe=typeof JP!="string"?kg`
        animation: ${JP} 3s infinite linear;
      `:null,zWe=e=>{const{classes:t,variant:i,color:r}=e,n={root:["root",`color${tt(r)}`,i],dashed:["dashed",`dashedColor${tt(r)}`],bar1:["bar",`barColor${tt(r)}`,(i==="indeterminate"||i==="query")&&"bar1Indeterminate",i==="determinate"&&"bar1Determinate",i==="buffer"&&"bar1Buffer"],bar2:["bar",i!=="buffer"&&`barColor${tt(r)}`,i==="buffer"&&`color${tt(r)}`,(i==="indeterminate"||i==="query")&&"bar2Indeterminate",i==="buffer"&&"bar2Buffer"]};return Ri(n,LWe,t)},KF=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?N3(e.palette[t].main,.62):L3(e.palette[t].main,.5),VWe=ct("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`color${tt(i.color)}`],t[i.variant]]}})(pi(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:KF(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),BWe=ct("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.dashed,t[`dashedColor${tt(i.color)}`]]}})(pi(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>{const i=KF(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${i} 0%, ${i} 16%, transparent 42%)`}}})]})),DWe||{animation:`${JP} 3s infinite linear`}),UWe=ct("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.bar,t[`barColor${tt(i.color)}`],(i.variant==="indeterminate"||i.variant==="query")&&t.bar1Indeterminate,i.variant==="determinate"&&t.bar1Determinate,i.variant==="buffer"&&t.bar1Buffer]}})(pi(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${qP}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${qP}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:NWe||{animation:`${WP} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),GWe=ct("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.bar,t[`barColor${tt(i.color)}`],(i.variant==="indeterminate"||i.variant==="query")&&t.bar2Indeterminate,i.variant==="buffer"&&t.bar2Buffer]}})(pi(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:KF(e,t),transition:`transform .${qP}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:FWe||{animation:`${HP} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),qWe=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiLinearProgress"}),{className:n,color:o="primary",value:c,valueBuffer:f,variant:g="indeterminate",...v}=r,_={...r,color:o,variant:g},M=zWe(_),T=Eee(),E={},j={bar1:{},bar2:{}};if((g==="determinate"||g==="buffer")&&c!==void 0){E["aria-valuenow"]=Math.round(c),E["aria-valuemin"]=0,E["aria-valuemax"]=100;let R=c-100;T&&(R=-R),j.bar1.transform=`translateX(${R}%)`}if(g==="buffer"&&f!==void 0){let R=(f||0)-100;T&&(R=-R),j.bar2.transform=`translateX(${R}%)`}return P.jsxs(VWe,{className:Et(M.root,n),ownerState:_,role:"progressbar",...E,ref:i,...v,children:[g==="buffer"?P.jsx(BWe,{className:M.dashed,ownerState:_}):null,P.jsx(UWe,{className:M.bar1,ownerState:_,style:j.bar1}),g==="determinate"?null:P.jsx(GWe,{className:M.bar2,ownerState:_,style:j.bar2})]})});function WWe(e){return Ii("MuiMobileStepper",e)}Ei("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);const HWe=e=>{const{classes:t,position:i}=e,r={root:["root",`position${tt(i)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return Ri(r,WWe,t)},JWe=ct(gr,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${tt(i.position)}`]]}})(pi(({theme:e})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(e.vars||e).palette.background.default,padding:8,variants:[{props:({position:t})=>t==="top"||t==="bottom",style:{position:"fixed",left:0,right:0,zIndex:(e.vars||e).zIndex.mobileStepper}},{props:{position:"top"},style:{top:0}},{props:{position:"bottom"},style:{bottom:0}}]}))),KWe=ct("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(e,t)=>t.dots})({variants:[{props:{variant:"dots"},style:{display:"flex",flexDirection:"row"}}]}),YWe=ct("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:e=>Dee(e)&&e!=="dotActive",overridesResolver:(e,t)=>{const{dotActive:i}=e;return[t.dot,i&&t.dotActive]}})(pi(({theme:e})=>({variants:[{props:{variant:"dots"},style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"}},{props:{variant:"dots",dotActive:!0},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}))),ZWe=ct(qWe,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(e,t)=>t.progress})({variants:[{props:{variant:"progress"},style:{width:"50%"}}]}),mg=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiMobileStepper"}),{activeStep:n=0,backButton:o,className:c,LinearProgressProps:f,nextButton:g,position:v="bottom",steps:_,variant:M="dots",...T}=r,E={...r,activeStep:n,position:v,variant:M};let j;M==="progress"&&(_===1?j=100:j=Math.ceil(n/(_-1)*100));const R=HWe(E);return P.jsxs(JWe,{square:!0,elevation:0,className:Et(R.root,c),ref:i,ownerState:E,...T,children:[o,M==="text"&&P.jsxs(K.Fragment,{children:[n+1," / ",_]}),M==="dots"&&P.jsx(KWe,{ownerState:E,className:R.dots,children:[...new Array(_)].map((N,F)=>P.jsx(YWe,{className:Et(R.dot,F===n&&R.dotActive),ownerState:E,dotActive:F===n},F))}),M==="progress"&&P.jsx(ZWe,{ownerState:E,className:R.progress,variant:"determinate",value:j,...f}),g]})}),XWe=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function KP(e){return e!=null&&XWe.some(([t,i])=>e>=t&&e<=i)}const QWe={visible:"visibleSublayers"};let eh=class extends vt{constructor(t){super(t),this.scale=0}set layer(t){this._get("layer")!==t&&(this._set("layer",t),this.removeHandles("layer"),t&&this.addHandles([t.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),t.on("wms-sublayer-update",i=>this.notifyChange(QWe[i.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:t})=>t).map(({name:t})=>t).join()}get version(){this.commitProperty("layers");const t=this.layer;return t&&t.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:t,scale:i}=this,r=t==null?void 0:t.sublayers,n=[],o=c=>{const{minScale:f,maxScale:g,sublayers:v,visible:_}=c;_&&(i===0||(f===0||i<=f)&&(g===0||i>=g))&&(v?v.forEach(o):n.push(c))};return r==null||r.forEach(o),n}toJSON(){const{layer:t,layers:i}=this,{imageFormat:r,imageTransparency:n,version:o}=t;return{format:r,request:"GetMap",service:"WMS",styles:"",transparent:n?"TRUE":"FALSE",version:o,layers:i}}};b([$()],eh.prototype,"layer",null),b([$({readOnly:!0})],eh.prototype,"layers",null),b([$({type:Number})],eh.prototype,"scale",void 0),b([$({readOnly:!0})],eh.prototype,"version",null),b([$({readOnly:!0})],eh.prototype,"visibleSublayers",null),eh=b([ne("esri.layers.support.ExportWMSImageParameters")],eh);async function eHe(e,t,i){let r;try{r=await createImageBitmap(e)}catch(n){throw new we("request:server",`Unable to load ${t}`,{url:t,error:n})}return qi(i),r}async function VSt(e,t,i,r,n){let o;try{o=await createImageBitmap(e)}catch(c){throw new we("request:server",`Unable to load tile ${t}/${i}/${r}`,{error:c,level:t,row:i,col:r})}return qi(n),o}var p9;let tHe=0,Or=p9=class extends jh(Qj){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([ro(()=>this.sublayers,"after-add",({item:t})=>{t.parent=this,t.layer=this.layer},is),ro(()=>this.sublayers,"after-remove",({item:t})=>{t.layer=t.parent=null},is),nt(()=>this.sublayers,(t,i)=>{if(i)for(const r of i)r.layer=r.parent=null;if(t)for(const r of t)r.parent=this,r.layer=this.layer},is),nt(()=>this.layer,t=>{if(this.sublayers)for(const i of this.sublayers)i.layer=t},is)])}get id(){return this._get("id")??tHe++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return vr(st.ofType(p9),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){var t,i,r;const e=new p9;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=((t=this.fullExtents)==null?void 0:t.map(n=>n.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=(i=this.sublayers)==null?void 0:i.map(n=>n.clone())),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=(r=this.spatialReferences)==null?void 0:r.map(n=>n)),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const i=this.layer;this._get(e)!==t&&(this._set(e,t),i&&i.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};b([$()],Or.prototype,"description",void 0),b([$({readOnly:!0})],Or.prototype,"dimensions",void 0),b([$({type:ci,json:{name:"extent"}})],Or.prototype,"fullExtent",void 0),b([$()],Or.prototype,"fullExtents",void 0),b([$({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],Or.prototype,"id",null),b([$({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],Or.prototype,"legendUrl",void 0),b([qe("legendUrl",["legendUrl","legendURL"])],Or.prototype,"readLegendUrl",null),b([$({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],Or.prototype,"legendEnabled",void 0),b([$()],Or.prototype,"layer",void 0),b([$()],Or.prototype,"maxScale",void 0),b([$()],Or.prototype,"minScale",void 0),b([$({readOnly:!0})],Or.prototype,"effectiveScaleRange",null),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],Or.prototype,"name",void 0),b([$()],Or.prototype,"parent",void 0),b([$({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],Or.prototype,"popupEnabled",void 0),b([$({type:Boolean,json:{write:{ignoreOrigin:!0}}})],Or.prototype,"queryable",void 0),b([$()],Or.prototype,"sublayers",void 0),b([$i("sublayers")],Or.prototype,"castSublayers",null),b([$({type:[Number],json:{read:{source:"spatialReferences"}}})],Or.prototype,"spatialReferences",void 0),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],Or.prototype,"title",void 0),b([$({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],Or.prototype,"visible",null),Or=p9=b([ne("esri.layers.support.WMSSublayer")],Or);const YP=Or,AJ={84:4326,83:4269,27:4267};function iHe(e){if(!e)return null;const t={idCounter:-1};typeof e=="string"&&(e=new DOMParser().parseFromString(e,"text/xml"));const i=e.documentElement;if(i.nodeName==="ServiceExceptionReport"){const he=Array.prototype.slice.call(i.childNodes).map(Ie=>Ie.textContent).join(`\r
`);throw new we("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",he)}const r=Cs("Capability",i),n=Cs("Service",i),o=r&&Cs("Request",r);if(!r||!n||!o)return null;const c=Cs("Layer",r);if(!c)return null;const f=i.nodeName==="WMS_Capabilities"||i.nodeName==="WMT_MS_Capabilities"?i.getAttribute("version"):"1.3.0",g=zu("Title",n,"")||zu("Name",n,""),v=zu("AccessConstraints",n,""),_=/^none$/i.test(v)?"":v,M=zu("Abstract",n,""),T=parseInt(zu("MaxWidth",n,"5000"),10),E=parseInt(zu("MaxHeight",n,"5000"),10),j=PJ(o,"GetMap"),R=jJ(o,"GetMap"),N=y2(c,f,t);if(!N)return null;let F,V=0;const z=Array.prototype.slice.call(r.childNodes),G=N.sublayers??[],H=he=>{he!=null&&G.push(he)};z.forEach(he=>{he.nodeName==="Layer"&&(V===0?F=he:(V===1&&N.name&&(N.name="",H(y2(F,f,t))),H(y2(he,f,t))),V++)});let Z=N.sublayers,Y=N.extent;const re=N.fullExtents??[];if(Z||(Z=[]),Z.length===0&&Z.push(N),!Y){const he=new ci(Z[0].extent);N.extent=he.toJSON(),Y=N.extent}const q=N.spatialReferences.length>0?N.spatialReferences:hde(N),W=jJ(o,"GetFeatureInfo"),ee=W?PJ(o,"GetFeatureInfo"):null,le=dde(Z),ue=N.minScale||0,ae=N.maxScale||0,pe=N.dimensions??[],ge=le.reduce((he,Ie)=>he.concat(Ie.dimensions??[]),[]),ve=pe.concat(ge).filter(fde);let ce=null;if(ve.length){const he=ve.map(Ie=>{const{extent:Be}=Ie;return sHe(Be)?Be.map(Ke=>Ke.getTime()):Be==null?void 0:Be.map(Ke=>[Ke.min.getTime(),Ke.max.getTime()])}).flat(2).filter(ss);ce={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...he),Math.max(...he)]}}return{copyright:_,description:M,dimensions:pe,extent:Y,fullExtents:re,featureInfoFormats:ee,featureInfoUrl:W,mapUrl:R,maxWidth:T,maxHeight:E,maxScale:ae,minScale:ue,layers:le,spatialReferences:q,supportedImageFormatTypes:j,timeInfo:ce,title:g,version:f}}function rHe(e){const t=e.filter(i=>i.popupEnabled&&i.name&&i.queryable);return t.length?t.map(({name:i})=>i).join():null}function hde(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const i=hde(t);if(i.length>0)return i}return[]}function dde(e){var i;let t=[];for(const r of e)t.push(r),(i=r.sublayers)!=null&&i.length&&(t=t.concat(dde(r.sublayers)),delete r.sublayers);return t}function f9(e,t,i){return t.getAttribute(e)??i}function nHe(e,t,i,r){const n=Cs(e,i);return n?f9(t,n,r):r}function Cs(e,t){for(let i=0;i<t.childNodes.length;i++){const r=t.childNodes[i];if(pde(r)&&r.nodeName===e)return r}return null}function y9(e,t){if(t==null)return[];const i=[];for(let r=0;r<t.childNodes.length;r++){const n=t.childNodes[r];pde(n)&&n.nodeName===e&&i.push(n)}return i}function zu(e,t,i){var r;return((r=Cs(e,t))==null?void 0:r.textContent)??i}function Yv(e,t,i){if(!e)return null;const r=parseFloat(e.getAttribute("minx")),n=parseFloat(e.getAttribute("miny")),o=parseFloat(e.getAttribute("maxx")),c=parseFloat(e.getAttribute("maxy"));let f,g,v,_;i?(f=isNaN(n)?-Number.MAX_VALUE:n,g=isNaN(r)?-Number.MAX_VALUE:r,v=isNaN(c)?Number.MAX_VALUE:c,_=isNaN(o)?Number.MAX_VALUE:o):(f=isNaN(r)?-Number.MAX_VALUE:r,g=isNaN(n)?-Number.MAX_VALUE:n,v=isNaN(o)?Number.MAX_VALUE:o,_=isNaN(c)?Number.MAX_VALUE:c);const M=new At({wkid:t});return new ci({xmin:f,ymin:g,xmax:v,ymax:_,spatialReference:M})}function jJ(e,t){const i=Cs(t,e);if(i){const r=Cs("DCPType",i);if(r){const n=Cs("HTTP",r);if(n){const o=Cs("Get",n);if(o){let c=nHe("OnlineResource","xlink:href",o,null);if(c)return c.indexOf("&")===c.length-1&&(c=c.substring(0,c.length-1)),aHe(c,["service","request"])}}}}return null}function PJ(e,t){const i=y9("Operation",e);if(!i.length)return y9("Format",Cs(t,e)).map(({textContent:n})=>n).filter(ss);const r=[];for(const n of i)if(n.getAttribute("name")===t){const o=y9("Format",n);for(const{textContent:c}of o)c!=null&&r.push(c)}return r}function OJ(e,t,i){const r=Cs(t,e);if(!r)return i;const{textContent:n}=r;if(n==null||n==="")return i;const o=Number(n);return isNaN(o)?i:o}function y2(e,t,i){if(!e)return null;const r={id:i.idCounter++,fullExtents:[],parentLayerId:null,queryable:e.getAttribute("queryable")==="1",spatialReferences:[],sublayers:null},n=Cs("LatLonBoundingBox",e),o=Cs("EX_GeographicBoundingBox",e);let c=null;n&&(c=Yv(n,4326)),o&&(c=new ci(0,0,0,0,new At({wkid:4326})),c.xmin=parseFloat(zu("westBoundLongitude",o,"0")),c.ymin=parseFloat(zu("southBoundLatitude",o,"0")),c.xmax=parseFloat(zu("eastBoundLongitude",o,"0")),c.ymax=parseFloat(zu("northBoundLatitude",o,"0"))),n||o||(c=new ci(-180,-90,180,90,new At({wkid:4326}))),r.minScale=OJ(e,"MaxScaleDenominator",0),r.maxScale=OJ(e,"MinScaleDenominator",0);const f=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach(g=>{var v;if(g.nodeName==="Name")r.name=g.textContent||"";else if(g.nodeName==="Title")r.title=g.textContent||"";else if(g.nodeName==="Abstract")r.description=g.textContent||"";else if(g.nodeName==="BoundingBox"){const _=g.getAttribute(f);if(_&&_.indexOf("EPSG:")===0){const T=parseInt(_.substring(5),10);T===0||isNaN(T)||c||(c=t==="1.3.0"?Yv(g,T,KP(T)):Yv(g,T))}const M=_==null?void 0:_.indexOf(":");if(M&&M>-1){let T=parseInt(_.substring(M+1,_.length),10);T===0||isNaN(T)||(T=AJ[T]??T);const E=t==="1.3.0"?Yv(g,T,KP(T)):Yv(g,T);E&&r.fullExtents&&r.fullExtents.push(E)}}else if(g.nodeName===f)(((v=g.textContent)==null?void 0:v.split(" "))??[]).forEach(_=>{const M=_.includes(":")?parseInt(_.split(":")[1],10):parseInt(_,10);if(M!==0&&!isNaN(M)){const T=AJ[M]??M;r.spatialReferences.includes(T)||r.spatialReferences.push(T)}});else if(g.nodeName!=="Style"||r.legendUrl){if(g.nodeName==="Layer"){const _=y2(g,t,i);_&&(_.parentLayerId=r.id,r.sublayers||(r.sublayers=[]),r.sublayers.push(_))}}else{const _=Cs("LegendURL",g);if(_){const M=Cs("OnlineResource",_);M&&(r.legendUrl=M.getAttribute("xlink:href"))}}}),r.extent=c==null?void 0:c.toJSON(),r.dimensions=y9("Dimension",e).filter(g=>g.getAttribute("name")&&g.getAttribute("units")&&g.textContent).map(g=>{const v=g.getAttribute("name"),_=g.getAttribute("units"),M=g.textContent,T=g.getAttribute("unitSymbol")??void 0,E=g.getAttribute("default")??void 0,j=f9("default",g,"0")!=="0",R=f9("nearestValue",g,"0")!=="0",N=f9("current",g,"0")!=="0";return fde({name:v,units:_})?{name:"time",units:"ISO8601",extent:NJ(M),default:NJ(E),multipleValues:j,nearestValue:R,current:N}:oHe({name:v,units:_})?{name:"elevation",units:_,extent:RJ(M),unitSymbol:T,default:RJ(E),multipleValues:j,nearestValue:R}:{name:v,units:_,extent:LJ(M),unitSymbol:T,default:LJ(E),multipleValues:j,nearestValue:R}}),r}function sHe(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function pde(e){return e.nodeType===Node.ELEMENT_NODE}function oHe(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function fde(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function aHe(e,t){const i=[],r=Bn(e);for(const n in r.query)r.query.hasOwnProperty(n)&&(t.includes(n.toLowerCase())||i.push(n+"="+r.query[n]));return r.path+(i.length?"?"+i.join("&"):"")}function RJ(e){if(!e)return;const t=e.includes("/"),i=e.split(",");return t?i.map(r=>{const n=r.split("/");return n.length<2?null:{min:parseFloat(n[0]),max:parseFloat(n[1]),resolution:n.length>=3&&n[2]!=="0"?parseFloat(n[2]):void 0}}).filter(ss):i.map(r=>parseFloat(r))}function LJ(e){if(!e)return;const t=e.includes("/"),i=e.split(",");return t?i.map(r=>{const n=r.split("/");return n.length<2?null:{min:n[0],max:n[1],resolution:n.length>=3&&n[2]!=="0"?n[2]:void 0}}).filter(ss):i}function NJ(e){if(!e)return;const t=e.includes("/"),i=e.split(",");return t?i.map(r=>{const n=r.split("/");return n.length<2?null:{min:Ak(n[0]),max:Ak(n[1]),resolution:n.length>=3&&n[2]!=="0"?lHe(n[2]):void 0}}).filter(ss):i.map(r=>Ak(r))}function Ak(e){return Bt.fromISO(e,{zone:Dn.utcInstance}).toJSDate()}function lHe(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,i=e.match(t);return i?{years:X1(i[1]),months:X1(i[2]),days:X1(i[3]),hours:X1(i[4]),minutes:X1(i[5]),seconds:X1(i[6])}:null}function X1(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,i=e.match(t);if(!i)return 0;const r=i[0].replace(",",".");return Number(r)}function jk(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const uHe="0000-01-01T00:00:00Z",cHe="9999-12-31T23:59:59Z";function FJ(e){if(!e||e.isAllTime||e.isEmpty)return;const{start:t,end:i}=e;return t&&i&&t.getTime()===i.getTime()?`${jk(t)}`:`${t?jk(t):uHe}/${i?jk(i):cHe}`}const DJ=new Set([102100,3857,102113,900913]),hHe=new Set([3395,54004]);function dHe(e,t){let i=e.wkid;return t==null?i:(i!=null&&t.includes(i)||!e.latestWkid||(i=e.latestWkid),i!=null&&DJ.has(i)?t.find(r=>DJ.has(r))||t.find(r=>hHe.has(r))||102100:i)}const Pk=new oi({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function zJ(e){return e==="text/html"}function VJ(e){return e==="text/plain"}let di=class extends J7(xhe(vhe(Z7(FF(DF(W7(nx))))))){constructor(...t){super(...t),this.allSublayers=new Z0({getCollections:()=>[this.sublayers],getChildrenFunction:i=>i.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([ro(()=>this.sublayers,"after-add",({item:i})=>{i.parent=i.layer=this},is),ro(()=>this.sublayers,"after-remove",({item:i})=>{i.layer=i.parent=null},is),nt(()=>this.sublayers,(i,r)=>{if(r)for(const n of r)n.layer=n.parent=null;if(i)for(const n of i)n.parent=n.layer=this},is)])}normalizeCtorArgs(t,i){return typeof t=="string"?{url:t,...i}:t}destroy(){this.allSublayers.destroy()}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},t).catch(Ra).then(()=>this._fetchService(i))),Promise.resolve(this)}readFullExtentFromItemOrMap(t,i){const r=i.extent;return r?new ci({xmin:r[0][0],ymin:r[0][1],xmax:r[1][0],ymax:r[1][1]}):null}writeFullExtent(t,i){i.extent=[[t.xmin,t.ymin],[t.xmax,t.ymax]]}get featureInfoFormat(){return this.featureInfoFormats==null?null:this.featureInfoFormats.find(zJ)??this.featureInfoFormats.find(VJ)??null}set featureInfoFormat(t){t==null?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(zJ(t)||VJ(t))&&this._override("featureInfoFormat",t)}readImageFormat(t,i){const r=i.supportedImageFormatTypes;return r&&r.includes("image/png")?"image/png":r&&r[0]}readSpatialReferenceFromItemOrDocument(t,i){return new At(i.spatialReferences[0])}writeSpatialReferences(t,i){var n;const r=(n=this.spatialReference)==null?void 0:n.wkid;t&&r?(i.spatialReferences=t.filter(o=>o!==r),i.spatialReferences.unshift(r)):i.spatialReferences=t}readSublayersFromItemOrMap(t,i,r){return BJ(i.layers,r,i.visibleLayers)}readSublayers(t,i,r){return BJ(i.layers,r)}writeSublayers(t,i,r,n){var f,g;i.layers=[];const o=new Map,c=t.flatten(({sublayers:v})=>v??[]);for(const v of c)if(typeof((f=v.parent)==null?void 0:f.id)=="number"){const _=o.get(v.parent.id);_!=null?_.push(v.id):o.set(v.parent.id,[v.id])}for(const v of c){const _={sublayer:v,...n},M=v.write({parentLayerId:typeof((g=v.parent)==null?void 0:g.id)=="number"?v.parent.id:-1},_);if(o.has(v.id)&&(M.sublayerIds=o.get(v.id)),!v.sublayers&&v.name){const T=v.write({},_);delete T.id,i.layers.push(T)}}i.visibleLayers=c.filter(({visible:v,sublayers:_})=>v&&!_).map(({name:v})=>v).toArray()}set url(t){if(!t)return void this._set("url",t);const{path:i,query:r}=Bn(t);for(const o in r)/^(request|service)$/i.test(o)&&delete r[o];const n=L2(i,r??{});this._set("url",n)}createExportImageParameters(t,i,r,n){const o=(n==null?void 0:n.pixelRatio)??1,c=tJ({extent:t,width:i})*o,f=new eh({layer:this,scale:c}),{xmin:g,ymin:v,xmax:_,ymax:M,spatialReference:T}=t,E=dHe(T,this.spatialReferences),j=this.version==="1.3.0"&&KP(E)?`${v},${g},${M},${_}`:`${g},${v},${_},${M}`,R=f.toJSON(),N=this.version==="1.3.0"?"crs":"srs";return{bbox:j,[N]:E==null||isNaN(E)?void 0:"EPSG:"+E,...R}}async fetchImage(t,i,r,n){const o=this.mapUrl,c=this.createExportImageParameters(t,i,r,n);if(!c.layers){const v=document.createElement("canvas");return v.width=i,v.height=r,v}const f=FJ(n==null?void 0:n.timeExtent),g={responseType:"image",query:this._mixCustomParameters({width:i,height:r,...c,time:f,...this.refreshParameters}),signal:n==null?void 0:n.signal};return Vi(o??"",g).then(v=>v.data)}async fetchImageBitmap(t,i,r,n){const o=this.mapUrl??"",c=this.createExportImageParameters(t,i,r,n);if(!c.layers){const _=document.createElement("canvas");return _.width=i,_.height=r,_}const f=FJ(n==null?void 0:n.timeExtent),g={responseType:"blob",query:this._mixCustomParameters({width:i,height:r,...c,time:f,...this.refreshParameters}),signal:n==null?void 0:n.signal},{data:v}=await Vi(o,g);return eHe(v,o,n==null?void 0:n.signal)}fetchFeatureInfo(t,i,r,n,o){const c=tJ({extent:t,width:i}),f=new eh({layer:this,scale:c}),g=rHe(f.visibleSublayers);if(this.featureInfoUrl==null||g==null)return Promise.resolve([]);if(this.fetchFeatureInfoFunction==null&&this.featureInfoFormat==null)return Promise.resolve([]);const v=this.version==="1.3.0"?{I:n,J:o}:{x:n,y:o},_={query_layers:g,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:i,height:r,...v},M={...this.createExportImageParameters(t,i,r),..._},T=this._mixCustomParameters(M);return this.fetchFeatureInfoFunction!=null?this.fetchFeatureInfoFunction(T):this._defaultFetchFeatureInfoFunction(L2(this.featureInfoUrl,T))}findSublayerById(t){return this.allSublayers.find(i=>i.id===t)}findSublayerByName(t){return this.allSublayers.find(i=>i.name===t)}serviceSupportsSpatialReference(t){return uAe(this.url)||this.spatialReferences!=null&&this.spatialReferences.some(i=>{const r=i===900913?At.WebMercator:new At({wkid:i});return tn(r,t)})}_defaultFetchFeatureInfoFunction(t){const i=document.createElement("iframe");i.src=$Se(t),i.style.border="none",i.style.margin="0",i.style.width="100%",i.setAttribute("sandbox","");const r=new Vp({title:this.title,content:i}),n=new la({sourceLayer:this,popupTemplate:r});return Promise.resolve([n])}async _fetchService(t){var i;if(!this.resourceInfo&&((i=this.parsedUrl)!=null&&i.path)){const{path:r,query:n}=this.parsedUrl,{data:o}=await Vi(r,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...n,...this.customParameters},responseType:"xml",signal:t});this.resourceInfo=iHe(o)}if(this.parsedUrl){const r=new M0(this.parsedUrl.path),{httpsDomains:n}=yi.request;r.scheme!=="https"||r.port&&r.port!=="443"||!r.host||n.includes(r.host)||n.push(r.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(t){if(!this.customLayerParameters&&!this.customParameters)return t;const i={...this.customParameters,...this.customLayerParameters};for(const r in i)t[r.toLowerCase()]=i[r];return t}};function pHe(e,t){return e.some(i=>{for(const r in i)if(kie(i,r,null,t))return!0;return!1})}function BJ(e,t,i){e=e??[];const r=new Map;e.every(o=>o.id==null)&&(e=be(e)).forEach((o,c)=>o.id=c);for(const o of e){const c=new YP;c.read(o,t),i&&!i.includes(c.name)&&(c.visible=!1),r.set(c.id,c)}const n=[];for(const o of e){const c=o.id!=null?r.get(o.id):null;if(c)if(o.parentLayerId!=null&&o.parentLayerId>=0){const f=r.get(o.parentLayerId);if(!f)continue;f.sublayers||(f.sublayers=new st),f.sublayers.push(c)}else n.push(c)}return n}b([$({readOnly:!0})],di.prototype,"allSublayers",void 0),b([$({json:{type:Object,write:!0}})],di.prototype,"customParameters",void 0),b([$({json:{type:Object,write:!0}})],di.prototype,"customLayerParameters",void 0),b([$({type:String,json:{write:!0}})],di.prototype,"copyright",void 0),b([$()],di.prototype,"description",void 0),b([$({readOnly:!0})],di.prototype,"dimensions",void 0),b([$({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],di.prototype,"fullExtent",void 0),b([qe(["web-document","portal-item"],"fullExtent",["extent"])],di.prototype,"readFullExtentFromItemOrMap",null),b([Ze(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],di.prototype,"writeFullExtent",null),b([$()],di.prototype,"fullExtents",void 0),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],di.prototype,"featureInfoFormat",null),b([$({type:[String],readOnly:!0})],di.prototype,"featureInfoFormats",void 0),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],di.prototype,"featureInfoUrl",void 0),b([$()],di.prototype,"fetchFeatureInfoFunction",void 0),b([$({type:String,json:{origins:{"web-document":{default:"image/png",type:Pk.jsonValues,read:{reader:Pk.read,source:"format"},write:{writer:Pk.write,target:"format"}}}}})],di.prototype,"imageFormat",void 0),b([qe("imageFormat",["supportedImageFormatTypes"])],di.prototype,"readImageFormat",null),b([$({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],di.prototype,"imageMaxHeight",void 0),b([$({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],di.prototype,"imageMaxWidth",void 0),b([$()],di.prototype,"imageTransparency",void 0),b([$(Qce)],di.prototype,"legendEnabled",void 0),b([$({type:["show","hide","hide-children"]})],di.prototype,"listMode",void 0),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],di.prototype,"mapUrl",void 0),b([$({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],di.prototype,"isReference",void 0),b([$({type:["WMS"]})],di.prototype,"operationalLayerType",void 0),b([$()],di.prototype,"resourceInfo",void 0),b([$({type:At,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],di.prototype,"spatialReference",void 0),b([qe(["web-document","portal-item"],"spatialReference",["spatialReferences"])],di.prototype,"readSpatialReferenceFromItemOrDocument",null),b([$({type:[zi],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],di.prototype,"spatialReferences",void 0),b([Ze(["web-document","portal-item"],"spatialReferences")],di.prototype,"writeSpatialReferences",null),b([$({type:st.ofType(YP),json:{write:{target:"layers",overridePolicy(e,t,i){if(pHe(this.allSublayers,i))return{ignoreOrigin:!0}}}}})],di.prototype,"sublayers",void 0),b([qe(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],di.prototype,"readSublayersFromItemOrMap",null),b([qe("service","sublayers",["layers"])],di.prototype,"readSublayers",null),b([Ze("sublayers",{layers:{type:[YP]},visibleLayers:{type:[String]}})],di.prototype,"writeSublayers",null),b([$({json:{read:!1},readOnly:!0,value:"wms"})],di.prototype,"type",void 0),b([$(Xce)],di.prototype,"url",null),b([$({type:String,json:{write:{ignoreOrigin:!0}}})],di.prototype,"version",void 0),di=b([ne("esri.layers.WMSLayer")],di);const ZP=di,fHe=Object.freeze(Object.defineProperty({__proto__:null,default:ZP},Symbol.toStringTag,{value:"Module"}));function yHe(e,t){for(var i=0;i<t.length;i++){const r=t[i];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(r,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var yde={exports:{}};(function(e,t){function i(){function n(d){if(typeof d=="number")return te.Tc.Zg(d);if(d==null)return null;if(_t[d]!=null)return te.Tc.Zg(_t[d]);throw Error("Unrecognised Unit Type")}function o(d){if(typeof d=="number")return te.Tc.Zg(d);if(d==null)return null;if(qt[d]!=null)return te.Tc.Zg(qt[d]);throw Error("Unrecognised Unit Type")}function c(d){if(d)switch(d){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function f(d,O,x,h){if(x==null||x.B())return null;switch(x.getType()){case te.qn.Point:return d.exportPoint(O,x,h);case te.qn.Polygon:return d.exportPolygon(O,x,h);case te.qn.Polyline:return d.exportPolyline(O,x,h);case te.qn.MultiPoint:return d.exportMultipoint(O,x,h);case te.qn.Envelope:return d.exportExtent(O,x,h)}return null}function g(d,O,x,h){if(x.getType()!==te.qn.Point)throw Error("Geometry not Point");return d.exportPoint(O,x,h)}function v(d,O,x){return d.convertToGEGeometry(O,x)}function _(d){var O=d.wkid;d=d.wkt2||d.wkt;var x=Ti.get(O||d);return x==null&&(O!==-1&&O!=null?(x=te.Eg.create(O),Ti.set(O,x)):d&&(x=te.Eg.qP(d),Ti.set(d,x)),Yt.has(O||d)&&x.VW(Yt.get(O||d))),x}function M(d){var O,x,h;if(d==null)return null;var l=_(d);return d=l.Hd(),l=l.Kn(),(O={}).tolerance=l,O.unitType=d==null?-1:d.od,O.unitID=d==null?-1:d.Ec(),O.unitBaseFactor=d==null?0:d.ai,O.unitSquareDerivative=d==null?0:(h=(x=te.Tc.aG(d))===null||x===void 0?void 0:x.Ec())!==null&&h!==void 0?h:0,O}function T(d,O,x,h){return x==null?null:(x=te.$b.clip(v(d,Oe,x),v(d,Oe,h),_(O)),f(d,Oe,x,O))}function E(d,O,x,h){x=te.$b.dl(v(d,Oe,x),v(d,Oe,h),_(O)),h=[];for(var l=0;l<x.length;l++)h.push(f(d,Oe,x[l],O));return h}function j(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.contains(v(d,Oe,x),v(d,Oe,h),_(O))}function R(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.BP(v(d,Oe,x),v(d,Oe,h),_(O))}function N(d,O,x,h,l){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.tb(v(d,Oe,x),v(d,Oe,h),_(O),n(l))}function F(d,O,x,h){return!(x==null&&h!=null||h==null&&x!=null)&&te.$b.Nb(v(d,Oe,x),v(d,Oe,h),_(O))}function V(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.TS(v(d,Oe,x),v(d,Oe,h),_(O))}function z(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.touches(v(d,Oe,x),v(d,Oe,h),_(O))}function G(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.qY(v(d,Oe,x),v(d,Oe,h),_(O))}function H(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.TP(v(d,Oe,x),v(d,Oe,h),_(O))}function Z(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.DU(v(d,Oe,x),v(d,Oe,h),_(O))}function Y(d,O,x,h,l){if(x==null||h==null)throw Error("Illegal Argument Exception");return te.$b.yB(v(d,Oe,x),v(d,Oe,h),_(O),l)}function re(d,O,x){if(x==null)throw Error("Illegal Argument Exception");return te.$b.dT(v(d,Oe,x),_(O))}function q(d,O,x){if(x==null)throw Error("Illegal Argument Exception");return x=te.$b.eC(v(d,Oe,x),_(O)),f(d,Oe,x,O)}function W(d,O,x,h){if(h===void 0&&(h=!1),x==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){var l=h,s=[];for(h=0;h<x.length;h++)s.push(v(d,Oe,x[h]));for(x=te.$b.jP(s,l),l=Array(x.length),h=0;h<x.length;h++)l[h]=f(d,Oe,x[h],O);return l}return h=te.$b.iP(v(d,Oe,x),_(O)),f(d,Oe,h,O)}function ee(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Oe,x[s]));for(x=te.$b.QP(l,v(d,Oe,h),_(O)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Oe,x[s],O);return h}return s=te.$b.im(v(d,Oe,x),v(d,Oe,h),_(O)),f(d,Oe,s,O)}function le(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Oe,x[s]));for(x=te.$b.VX(l,v(d,Oe,h),_(O)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Oe,x[s],O);return h}return s=te.$b.ep(v(d,Oe,x),v(d,Oe,h),_(O)),f(d,Oe,s,O)}function ue(d,O,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Oe,x[s]));for(x=te.$b.RS(l,v(d,Oe,h),_(O)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Oe,x[s],O);return h}return s=te.$b.Ea(v(d,Oe,x),v(d,Oe,h),_(O)),f(d,Oe,s,O)}function ae(d,O,x,h){if(x==null)return null;var l=[];if(Array.isArray(x)){if(x.length===0)return null;for(h=0;h<x.length;h++)l.push(v(d,Oe,x[h]))}else l.push(v(d,Oe,x)),h!=null&&l.push(v(d,Oe,h));return f(d,Oe,te.$b.jY(l,_(O)),O)}function pe(d,O,x,h,l,s,a,u){var p=0;if(s!=null)switch(s){case"round":p=0;break;case"bevel":p=1;break;case"miter":p=2;break;case"square":p=3}if(Array.isArray(x)){if(x==null)d=null;else if(x.length===0)d=[];else{var y=[];for(s=0;s<x.length;s++)y.push(v(d,Oe,x[s]));for(x=te.$b.BU(y,_(O),h,p,a,u,n(l)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Oe,x[s],O);d=h}return d}return x=te.$b.offset(v(d,Oe,x),_(O),h,p,a,u,n(l)),f(d,Oe,x,O)}function ge(d,O,x,h,l,s){if(s===void 0&&(s=!1),Array.isArray(x)){if(!Array.isArray(h)){for(var a=[],u=0;u<x.length;u++)a.push(h);h=a}if(h.length!=x.length){if(h.length==0)throw Error("Illegal Argument Exception");a=[];var p=0;for(u=0;u<x.length;u++)h[u]===void 0?a.push(p):(a.push(h[u]),p=h[u]);h=a}return ce(d,O,x,h,l,!1,s,"geodesic",NaN)}return x=te.$b.buffer(v(d,Oe,x),_(O),h,n(l),!1,0,NaN),f(d,Oe,x,O)}function ve(d,O,x,h,l,s,a,u){if(Array.isArray(x)){if(!Array.isArray(h)){for(var p=[],y=0;y<x.length;y++)p.push(h);h=p}if(h.length!==x.length){if(h.length===0)throw Error("Illegal Argument Exception");p=[];var m=0;for(y=0;y<x.length;y++)h[y]===void 0?p.push(m):(p.push(h[y]),m=h[y]);h=p}return ce(d,O,x,h,l,!0,s,a,u)}return a===void 0&&(a=NaN),x=te.$b.buffer(v(d,Oe,x),_(O),h,n(l),!0,c(s),a),f(d,Oe,x,O)}function ce(d,O,x,h,l,s,a,u,p){if(p===void 0&&(p=NaN),x==null)return null;if(x.length===0)return[];for(var y=[],m=0;m<x.length;m++)y.push(v(d,Oe,x[m]));for(x=te.$b.MN(y,_(O),h,n(l),s,a,c(u),p),h=Array(x.length),m=0;m<x.length;m++)h[m]=f(d,Oe,x[m],O);return h}function he(d,O,x,h,l){var s;return l===void 0&&(l=!0),x=te.$b.nz(v(d,Oe,x),v(d,Oe,h),l),(s={}).coordinate=g(d,Oe,x.fz(),O),s.distance=x.hz(),s.isRightSide=x.Sz(),s.vertexIndex=x.Ua(),s.isEmpty=x.B(),s}function Ie(d,O,x,h){var l;return x=te.$b.oz(v(d,Oe,x),v(d,Oe,h)),(l={}).coordinate=g(d,Oe,x.fz(),O),l.distance=x.hz(),l.isRightSide=x.Sz(),l.vertexIndex=x.Ua(),l.isEmpty=x.B(),l}function Be(d,O,x,h,l,s){var a;for(x=te.$b.pz(v(d,Oe,x),v(d,Oe,h),l,s),h=[],l=0;l<x.length;l++)x[l].B()===!1&&h.push(((a={}).coordinate=g(d,Oe,x[l].fz(),O),a.distance=x[l].hz(),a.isRightSide=x[l].Sz(),a.vertexIndex=x[l].Ua(),a.isEmpty=x[l].B(),a));return h}function Ke(d,O,x,h,l,s){return x=te.$b.QQ(v(d,Oe,x),_(O),h,l,n(s)),f(d,Oe,x,O)}function wt(d,O,x,h,l){return x=te.$b.Qr(v(d,Oe,x),_(O),h,n(l)),f(d,Oe,x,O)}function He(d,O,x,h,l,s){return s===void 0&&(s=0),x=te.$b.Wy(v(d,Oe,x),_(O),h,n(l),s),f(d,Oe,x,O)}function yt(d,O,x,h){if(x==null)throw Error("Illegal Argument Exception");return te.$b.JU(v(d,Oe,x),_(O),o(h))}function Fe(d,O,x,h){if(x==null)throw Error("Illegal Argument Exception");return te.$b.KU(v(d,Oe,x),_(O),n(h))}function it(d,O,x,h,l){if(x==null)throw Error("Illegal Argument Exception");return te.$b.WQ(v(d,Oe,x),_(O),o(h),c(l))}function Ge(d,O,x,h,l){if(x==null)throw Error("Illegal Argument Exception");return te.$b.ZQ(v(d,Oe,x),_(O),n(h),c(l))}function Te(d){te.NL.bind(d)}function Ve(d,O,x,h,l){var s=null,a=null;if(h){if(!l)throw te.i.N("AOI missing Spatial Reference");s=v(d,Oe,h),a=_(l).fh()}return(d=te.gu.XR(_(O).fh(),_(x).fh(),s,a))!==null?d:null}function De(d,O,x,h,l){var s=null,a=null;if(h){if(!l)throw te.i.N("AOI missing Spatial Reference");s=v(d,Oe,h),a=_(l).fh()}return te.gu.YR(_(O).fh(),_(x).fh(),s,a)}function me(d,O,x,h,l,s){if(l===void 0&&(l=null),s===void 0&&(s=null),s){var a=new te.yC;a.Vu=s.densificationStep,a.Jr=s.centralMeridianOfOutputGCS,s.clipWithInputHorizon&&a.PW(s.clipWithInputHorizon),s.clipWithOutputHorizon&&a.QW(s.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(O.length===0)return[];if(l){if(!(s=l.getCachedGeTransformation(x,h)))e:{if(s=l,l=null,s){var u=s.getGTListEntry();if(u!==null){l=new te.wC(null);for(var p=0,y=u.steps;p<y.length;p++){u=y[p];var m=new te.Dx(u.geogtran);u.isInverse&&m.Qz(),l.add(m)}a=te.vr.Nr(_(x).fh(),_(h).fh(),l,a),s.assignCachedGe(x,h,a),s=a;break e}}if(l===null&&s&&s.steps&&0<s.steps.length){for(l=new te.wC(null),p=0,y=s.steps;p<y.length;p++)(u=y[p]).wkid!=-1&&u.wkid!=null?l.add(te.Dx.create(u.wkid,u.isInverse)):l.add(te.Dx.uP(u.wkt,u.isInverse));a=te.vr.Nr(_(x).fh(),_(h).fh(),l,a),s.assignCachedGe(x,h,a),s=a}else s=te.vr.Nr(_(x).fh(),_(h).fh(),l,a)}for(x=[],l=0;l<O.length;l++)a=O[l],x.push(rt(d,a,h,s))}else for(s=te.vr.Nr(_(x).fh(),_(h).fh(),null),x=[],l=0;l<O.length;l++)a=O[l],x.push(rt(d,a,h,s));return x}function rt(d,O,x,h){return O=te.$b.zh(v(d,Oe,O),h),f(d,Oe,O,x)}function lt(d,O){d!=null&&(d=d.wkid||d.wkt2||d.wkt,Yt.has(d),Yt.set(d,O),Ti.has(d)&&Ti.delete(d))}function zt(d){d!=null&&(d=d.wkid||d.wkt2||d.wkt,Yt.has(d)&&(Yt.delete(d),Ti.has(d)&&Ti.delete(d)))}function xt(d,O,x,h){if(x==null||h==null)return[];var l=[],s=0;for(x=te.$b.QS(v(d,Oe,x),v(d,Oe,h),_(O))||[];s<x.length;s++)l.push(f(d,Oe,x[s],O));return l}var bt,te,St,fi,ft=this&&this.__extends||function(){function d(O,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var s in l)l.hasOwnProperty(s)&&(h[s]=l[s])})(O,x)}return function(O,x){function h(){this.constructor=O}d(O,x),O.prototype=x===null?Object.create(x):(h.prototype=x.prototype,new h)}}();(function(d){var O;(O=d.qn||(d.qn={}))[O.Unknown=0]="Unknown",O[O.Point=33]="Point",O[O.Line=322]="Line",O[O.Envelope=197]="Envelope",O[O.MultiPoint=550]="MultiPoint",O[O.Polyline=1607]="Polyline",O[O.Polygon=1736]="Polygon",function(h){h[h.enumMild=0]="enumMild",h[h.enumMedium=1]="enumMedium",h[h.enumHot=2]="enumHot"}(d.YK||(d.YK={}));var x=function(){function h(){this.description=null,this.VA=0}return h.prototype.getType=function(){return 0},h.prototype.Db=function(){return-1},h.prototype.Nf=function(l){this.vc(),l!=this.description&&this.sn(l)},h.prototype.sn=function(){},h.prototype.Jl=function(l){this.vc(),l!=this.description&&(l=d.ee.CR(this.description,l))!=this.description&&this.sn(l)},h.prototype.hasAttribute=function(l){return this.description.hasAttribute(l)},h.prototype.re=function(l){this.vc(),this.description.hasAttribute(l)||(l=d.ee.BR(this.description,l),this.sn(l))},h.prototype.Tg=function(){return null},h.prototype.bn=function(){},h.prototype.A=function(){},h.prototype.Qo=function(){},h.prototype.xc=function(l){this.A(l)},h.prototype.B=function(){return!0},h.prototype.Oa=function(){},h.prototype.Oc=function(){},h.prototype.Ia=function(){return null},h.prototype.copyTo=function(){},h.prototype.Ke=function(){return 0},h.prototype.Qb=function(){return 0},h.prototype.iG=function(){return this.hasAttribute(1)},h.tf=function(l){return 1+((192&l)>>6)>>1},h.Rn=function(l){return!!(32&l)},h.US=function(l){return!!(128&l)},h.yd=function(l){return!!(256&l)},h.xj=function(l){return!!(512&l)},h.Hc=function(l){return!!(1024&l)},h.prototype.Of=function(){var l=this.Ia();return this.copyTo(l),l},h.prototype.mg=function(){return null},h.jg=function(l){var s=l.Ia();return l.copyTo(s),s},h.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},h.Ax=function(l){var s=l.getType();if(h.xj(s))return l.I();if(l.B())return 0;if(s==197)return 4;if(s==33)return 1;if(h.yd(s))return 2;throw d.i.fa("missing type")},h}();d.aa=x})(te||(te={})),St=te||(te={}),fi=function(){function d(){this.y=this.x=0}return d.construct=function(O,x){var h=new d;return h.x=O,h.y=x,h},d.al=function(O){var x=new d;return x.x=O.x,x.y=O.y,x},d.prototype.ma=function(O,x){this.x=O,this.y=x},d.prototype.L=function(O){this.x=O.x,this.y=O.y},d.prototype.fq=function(O,x){return this.x===O&&this.y===x},d.prototype.Rz=function(O){return 2220446049250313e-31>=Math.abs(this.x-O.x)&&2220446049250313e-31>=Math.abs(this.y-O.y)},d.prototype.qb=function(O){return this.x===O.x&&this.y===O.y},d.prototype.Nb=function(O){return O==this||O instanceof d&&this.x==O.x&&this.y==O.y},d.prototype.sub=function(O){this.x-=O.x,this.y-=O.y},d.prototype.uc=function(O,x){this.x=O.x-x.x,this.y=O.y-x.y},d.prototype.add=function(O,x){x!==void 0?(this.x=O.x+x.x,this.y=O.y+x.y):(this.x+=O.x,this.y+=O.y)},d.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},d.prototype.mt=function(O){this.x=-O.x,this.y=-O.y},d.prototype.NS=function(O,x,h){this.x=O.x*(1-h)+x.x*h,this.y=O.y*(1-h)+x.y*h},d.prototype.Ct=function(O,x){this.x=this.x*O+x.x,this.y=this.y*O+x.y},d.prototype.HW=function(O,x,h){this.x=x.x*O+h.x,this.y=x.y*O+h.y},d.prototype.scale=function(O){this.x*=O,this.y*=O},d.prototype.compare=function(O){return this.y<O.y?-1:this.y>O.y?1:this.x<O.x?-1:this.x>O.x?1:0},d.prototype.normalize=function(){var O=this.length();O==0&&(this.x=1,this.y=0),this.x/=O,this.y/=O},d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},d.prototype.Sk=function(){return this.x*this.x+this.y*this.y},d.tb=function(O,x){return Math.sqrt(this.yc(O,x))},d.Oy=function(O,x,h,l){return O-=h,x-=l,Math.sqrt(O*O+x*x)},d.prototype.Qh=function(O){return this.x*O.x+this.y*O.y},d.prototype.fD=function(O){return Math.abs(this.x*O.x)+Math.abs(this.y*O.y)},d.prototype.wi=function(O){return this.x*O.y-this.y*O.x},d.prototype.Bt=function(O,x){var h=-this.x*x+this.y*O;this.x=this.x*O+this.y*x,this.y=h},d.prototype.Hv=function(){var O=this.x;this.x=-this.y,this.y=O},d.prototype.MG=function(O){this.x=-O.y,this.y=O.x},d.prototype.ar=function(){var O=this.x;this.x=this.y,this.y=-O},d.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},d.nu=function(O,x){var h=O.qu(),l=x.qu();return l==h?0>(O=O.wi(x))?1:0<O?-1:0:h<l?-1:1},d.yc=function(O,x){var h=O.x-x.x;return h*h+(O=O.y-x.y)*O},d.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},d.prototype.Rc=function(){this.y=this.x=NaN},d.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},d.prototype.offset=function(O,x){var h=d.tb(O,x),l=d.construct(this.x,this.y);if(h==0)return d.tb(l,O);var s=new d;return s.L(x),s.sub(O),l.sub(O),l.wi(s)/h},d.Uq=function(O,x,h){var l=new St.Wb;l.set(x.x),l.sub(O.x);var s=new St.Wb;s.set(h.y),s.sub(O.y);var a=new St.Wb;a.set(x.y),a.sub(O.y);var u=new St.Wb;return u.set(h.x),u.sub(O.x),l.Ag(s),a.Ag(u),l.sub(a),l.ps()?(l=new St.hp(x.x),s=new St.hp(O.x),a=new St.hp(O.y),l=l.jt(s),O=(O=new St.hp(h.y)).jt(a),x=(x=new St.hp(x.y)).jt(a),h=(h=new St.hp(h.x)).jt(s),l=l.lr(O),x=x.lr(h),(l=l.lr(x)).nT()?-1:l.fS()?1:0):0>(h=l.value())?-1:0<h?1:0},d.prototype.cc=function(){return St.O.uj(St.O.uj())},d}(),St.h=fi,function(d){var O=function(){function x(h){this.Fy=this.Mt=0,this.OX=h}return x.prototype.reset=function(){this.Fy=this.Mt=0},x.prototype.add=function(h){h-=this.Fy;var l=this.Mt+h;this.Fy=l-this.Mt-h,this.Mt=l},x.prototype.sub=function(h){this.add(-h)},x.prototype.rm=function(){return this.OX+this.Mt},x}();d.Fx=O,d.lc=function(){function x(){}return x.Cn=function(h,l){return 0<=l?Math.abs(h):-Math.abs(h)},x.sign=function(h){return 0>h?-1:0<h?1:0},x.RK=function(h){return h-360*Math.floor(h/360)},x.round=function(h){return Math.floor(h+.5)},x.ox=function(h){return h*h},x.hq=function(h,l,s){return .5>=s?h+(l-h)*s:l-(l-h)*(1-s)},x.OG=function(h,l,s,a){.5>=s?(a.x=h.x+(l.x-h.x)*s,a.y=h.y+(l.y-h.y)*s):(a.x=l.x-(l.x-h.x)*(1-s),a.y=l.y-(l.y-h.y)*(1-s))},x.lT=function(h,l,s,a,u,p){.5>=u?(p.x=h+(s-h)*u,p.y=l+(a-l)*u):(p.x=s-(s-h)*(1-u),p.y=a-(a-l)*(1-u))},x}()}(te||(te={})),function(d){var O=function(x){function h(){var l=x.call(this)||this;return l.sa=0,l.na=0,l.pa=0,l.la=0,l.ka=null,l}return ft(h,x),h.prototype.ac=function(){return d.h.construct(this.sa,this.na)},h.prototype.Yp=function(l){l.x=this.sa,l.y=this.na},h.prototype.Dc=function(l){this.em(0,l)},h.prototype.ZB=function(l,s){this.em(0,d.h.construct(l,s))},h.prototype.To=function(l){this.hD(0,l)},h.prototype.setStart=function(l){this.uD(0,l)},h.prototype.wv=function(l,s){return this.Od(0,l,s)},h.prototype.YB=function(l,s,a){this.tn(0,l,s,a)},h.prototype.wc=function(){return d.h.construct(this.pa,this.la)},h.prototype.Tr=function(l){l.x=this.pa,l.y=this.la},h.prototype.Qc=function(l){this.em(1,l)},h.prototype.Ql=function(l,s){this.em(1,d.h.construct(l,s))},h.prototype.Po=function(l){this.hD(1,l)},h.prototype.setEnd=function(l){this.uD(1,l)},h.prototype.gv=function(l,s){return this.Od(1,l,s)},h.prototype.OB=function(l,s,a){this.tn(1,l,s,a)},h.prototype.Db=function(){return 1},h.prototype.B=function(){return this.Ac()},h.prototype.Oa=function(){},h.prototype.Ke=function(){return 0},h.prototype.Ea=function(l,s,a,u,p){return this.KM(l,s,a,u,p)},h.prototype.isIntersecting=function(l,s){return this.zr(l,s,!1)!=0},h.prototype.qs=function(l,s){return this.ru(l,s,!1)},h.prototype.ru=function(){return null},h.prototype.Ac=function(){return!1},h.prototype.ay=function(l){if(this.vc(),this.ka==null&&0<l)this.ka=d.O.lg(2*l);else if(this.ka!=null&&this.ka.length<2*l){for(var s=this.ka.slice(0),a=this.ka.length;a<2*l;a++)s[a]=0;this.ka=s}},h.gM=function(l,s,a){if(0<a)var u=0;for(var p=0;p<a;p++)s[0+u]=l[0],u++},h.prototype.em=function(l,s){l!=0?(this.pa=s.x,this.la=s.y):(this.sa=s.x,this.na=s.y)},h.prototype.sn=function(l){if(this.ka!=null){for(var s=d.ee.Iw(l,this.description),a=[],u=h.Gg(this.description,0),p=h.Gg(this.description,1),y=h.Gg(l,0),m=h.Gg(l,1),w=0,S=1,k=l.Aa;S<k;S++){var I=l.kd(S),A=d.ra.Va(I);if(s[S]==-1){var L=d.ra.se(I);for(I=0;I<A;I++)a[y+w]=L,a[m+w]=L,w++}else for(L=this.description.$j(s[S])-2,I=0;I<A;I++)a[y+w]=this.ka[u+L],a[m+w]=this.ka[p+L],w++,L++}this.ka=a}this.description=l},h.prototype.hD=function(l,s){if(this.Ac())throw d.i.fa("empty geometry");s.Nf(this.description),s.Ac()&&s.un();for(var a=0;a<this.description.Aa;a++)for(var u=this.description.Ed(a),p=0,y=d.ra.Va(u);p<y;p++){var m=this.Od(l,u,p);s.setAttribute(u,p,m)}},h.prototype.uD=function(l,s){if(this.vc(),s.Ac())throw d.i.fa("empty geometry");for(var a=s.description,u=0,p=a.Aa;u<p;u++)for(var y=a.Ed(u),m=d.ra.Va(y),w=0;w<m;w++){var S=s.Uc(y,w);this.tn(l,y,w,S)}},h.prototype.Od=function(l,s,a){if(this.Ac())throw d.i.fa("This operation was performed on an Empty Geometry.");if(s==0)return l!=0?a!=0?this.la:this.pa:a!=0?this.na:this.sa;if(a>=d.ra.Va(s))throw d.i.ce();var u=this.description.Pf(s);return 0<=u?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[h.Gg(this.description,l)+this.description.$j(u)-2+a]):d.ra.se(s)},h.prototype.tn=function(l,s,a,u){if(this.vc(),a>=d.ra.Va(s))throw d.i.ce();var p=this.description.Pf(s);0>p&&(this.re(s),p=this.description.Pf(s)),s==0?l!=0?a!=0?this.la=u:this.pa=u:a!=0?this.na=u:this.sa=u:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[h.Gg(this.description,l)+this.description.$j(p)-2+a]=u)},h.prototype.copyTo=function(l){if(l.getType()!=this.getType())throw d.i.N();l.description=this.description,l.ay(this.description.Ae.length-2),h.gM(this.ka,l.ka,2*(this.description.Ae.length-2)),l.sa=this.sa,l.na=this.na,l.pa=this.pa,l.la=this.la,l.vc(),this.op(l)},h.prototype.Tg=function(l,s){var a=new d.Nc;return this.Ac()?(a.Oa(),a):(a.oa=this.Od(0,l,s),a.va=a.oa,a.Lk(this.Od(1,l,s)),a)},h.prototype.ZI=function(l){this.Ac()?l.Oa():(l.oa=this.Od(0,0,0),l.va=l.oa,l.Lk(this.Od(1,0,0)))},h.prototype.Tw=function(l,s){s.Nf(this.description),s.Cb(this.hc(l));for(var a=1,u=this.description.Aa;a<u;a++)for(var p=this.description.Ed(a),y=d.ra.Va(p),m=0;m<y;m++){var w=this.Uc(l,p,m);s.setAttribute(p,m,w)}},h.prototype.FM=function(l){if(this.description!=l.description||this.sa!=l.sa||this.pa!=l.pa||this.na!=l.na||this.la!=l.la)return!1;for(var s=0;s<2*(this.description.Ae.length-2);s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},h.prototype.reverse=function(){var l=this.sa;this.sa=this.pa,this.pa=l,l=this.na,this.na=this.la,this.la=l,l=1;for(var s=this.description.Aa;l<s;l++)for(var a=this.description.kd(l),u=0,p=d.ra.Va(a);u<p;u++){var y=this.Od(0,a,u),m=this.Od(1,a,u);this.tn(0,a,u,m),this.tn(1,a,u,y)}},h.prototype.zr=function(l,s,a){var u=this.getType(),p=l.getType();if(u===322){if(p==322)return d.yb.OM(this,l,s,a);throw d.i.Qa()}throw d.i.Qa()},h.prototype.KM=function(l,s,a,u,p){var y=this.getType(),m=l.getType();if(y===322){if(m==322)return d.yb.Zx(this,l,s,a,u,p);throw d.i.Qa()}throw d.i.Qa()},h.prototype.Tx=function(){return null},h.Gg=function(l,s){return s*(l.Ae.length-2)},h.prototype.hc=function(l,s){if(s===void 0)return s=new d.h,this.hc(l,s),s;d.lc.lT(this.sa,this.na,this.pa,this.la,l,s)},h.prototype.fe=function(){return null},h.prototype.eG=function(){return null},h.prototype.cq=function(){return null},h.prototype.Bi=function(){return null},h.prototype.Pn=function(){return null},h.prototype.kg=function(){return null},h.prototype.Ux=function(l,s){return s!==void 0?this.vx(s)-this.vx(l):this.vx(l)},h.prototype.op=function(){},h.prototype.dl=function(){return null},h.prototype.ah=function(){},h.prototype.Uc=function(){return null},h.prototype.Pe=function(){return null},h.prototype.vx=function(){return null},h.prototype.NG=function(){return null},h.prototype.tb=function(l,s){if(!s&&this.zr(l,0,!1)!=0)return 0;s=17976931348623157e292;var a=this.ac(),u=l.fe(a,!1);return a.sub(l.hc(u)),(a=a.length())<s&&(s=a),a=this.wc(),u=l.fe(a,!1),a.sub(l.hc(u)),(a=a.length())<s&&(s=a),a=l.ac(),u=this.fe(a,!1),a.sub(this.hc(u)),(a=a.length())<s&&(s=a),a=l.wc(),u=this.fe(a,!1),a.sub(this.hc(u)),(a=a.length())<s&&(s=a),s},h.prototype.mg=function(){return d.pi.gm(this,null)},h}(d.aa);d.SC=O}(te||(te={})),new te.h,function(d){var O;(O=d.$K||(d.$K={}))[O.Unknown=-1]="Unknown",O[O.Not=0]="Not",O[O.Weak=1]="Weak",O[O.Strong=2]="Strong",function(h){h[h.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",h[h.IsWeakSimple=2]="IsWeakSimple",h[h.IsStrongSimple=4]="IsStrongSimple",h[h.DirtyOGCFlags=8]="DirtyOGCFlags",h[h.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",h[h.DirtyExactIntervals=64]="DirtyExactIntervals",h[h.DirtyLooseIntervals=128]="DirtyLooseIntervals",h[h.DirtyIntervals=192]="DirtyIntervals",h[h.DirtyIsEnvelope=256]="DirtyIsEnvelope",h[h.DirtyLength2D=512]="DirtyLength2D",h[h.DirtyRingAreas2D=1024]="DirtyRingAreas2D",h[h.DirtyCoordinates=1993]="DirtyCoordinates",h[h.DirtyAllInternal=65535]="DirtyAllInternal",h[h.DirtyAll=16777215]="DirtyAll"}(d.MK||(d.MK={}));var x=function(h){function l(){var s=h.call(this)||this;return s.Hm=65535,s.wa=0,s.Pg=-1,s.Bb=null,s}return ft(l,h),l.prototype.op=function(){},l.prototype.$x=function(){},l.prototype.iy=function(){},l.prototype.I=function(){return this.wa},l.prototype.B=function(){return this.Ac()},l.prototype.Ac=function(){return this.wa==0},l.prototype.ak=function(s){return!!(this.Hm&s)},l.prototype.Lf=function(s,a){this.Hm=a?this.Hm|s:this.Hm&~s},l.prototype.mc=function(){this.ak(32)&&this.bN()},l.prototype.wx=function(){if(this.Ac())throw d.i.fa("This operation was performed on an Empty Geometry.")},l.prototype.ve=function(s,a){if(0>s||s>=this.wa)throw d.i.fa("index out of bounds");this.mc(),a.Nf(this.description),a.B()&&a.un();for(var u=0;u<this.description.Aa;u++)for(var p=this.description.Ed(u),y=0,m=d.ra.Va(p);y<m;y++){var w=this.za[u].eg(m*s+y);a.setAttribute(p,y,w)}},l.prototype.Ht=function(s,a){this.mc();for(var u=a.description,p=0;p<u.Aa;p++)for(var y=u.Ed(p),m=d.ra.Va(y),w=0;w<m;w++){var S=a.Uc(y,w);this.setAttribute(y,s,w,S)}},l.prototype.D=function(s,a){if(0>s||s>=this.I())throw d.i.ce();this.mc(),this.za[0].tc(2*s,a)},l.prototype.Na=function(s){var a=new d.h;return this.D(s,a),a},l.prototype.Gc=function(s,a){this.za[0].tc(2*s,a)},l.prototype.Cb=function(s,a,u){if(0>s||s>=this.wa)throw d.i.ce();this.mc();var p=this.za[0];u!==void 0?(p.write(2*s,a),p.write(2*s+1,u)):p.Tt(2*s,a),this.Pc(1993)},l.prototype.Cz=function(){if(void 0>=this.I())throw d.i.ce();this.mc();var s=this.za[0],a=new d.Nd;return a.x=s.read(NaN),a.y=s.read(NaN),a.z=this.hasAttribute(1)?this.za[1].eg():d.ra.se(1),a},l.prototype.dC=function(s){if(0>s||s>=this.I())throw d.i.ce();this.re(1),this.mc(),this.Pc(1993);var a=this.za[0];a.write(2*s,(void 0).x),a.write(2*s+1,(void 0).y),this.za[1].pr(s,(void 0).z)},l.prototype.Uc=function(s,a,u){if(0>a||a>=this.wa)throw d.i.ce();var p=d.ra.Va(s);if(u>=p)throw d.i.ce();this.mc();var y=this.description.Pf(s);return 0<=y?this.za[y].eg(a*p+u):d.ra.se(s)},l.prototype.yF=function(s,a){return this.Uc(s,a)},l.prototype.setAttribute=function(s,a,u,p){if(0>a||a>=this.wa)throw d.i.ce();var y=d.ra.Va(s);if(u>=y)throw d.i.ce();this.re(s),this.mc(),s=this.description.Pf(s),this.Pc(1993),this.za[s].pr(a*y+u,p)},l.prototype.ub=function(s){return this.wx(),this.re(s),this.mc(),this.za[this.description.Pf(s)]},l.prototype.hn=function(s,a){if(a!=null&&d.ra.Tp(s)!=a.Tp())throw d.i.N();this.re(s),s=this.description.Pf(s),this.za==null&&(this.za=d.Yc.qI(this.description.Aa)),this.za[s]=a,this.Pc(16777215)},l.prototype.sn=function(s){var a=null;if(this.za!=null){var u=d.ee.Iw(s,this.description);a=[];for(var p=0,y=s.Aa;p<y;p++)u[p]!=-1&&(a[p]=this.za[u[p]])}this.description=s,this.za=a,this.Pg=-1,this.Pc(16777215)},l.prototype.AD=function(s){this.wu(!0),s instanceof d.l?this.$.A(s):this.$.Qo(s)},l.prototype.aN=function(s){this.wu(!1),s instanceof d.l?this.$.A(s):this.$.Qo(s)},l.prototype.bn=function(s){this.wu(!0),this.$.copyTo(s)},l.prototype.A=function(s){this.AD(s)},l.prototype.Qo=function(s){this.AD(s)},l.prototype.xc=function(s){this.aN(s)},l.prototype.Tg=function(s,a){var u=new d.Nc;return this.Ac()?(u.Oa(),u):(this.wu(!0),this.$.Tg(s,a))},l.prototype.cc=function(){var s=this.description.cc();if(!this.Ac())for(var a=this.I(),u=0,p=this.description.Aa;u<p;u++)s=this.za[u].An(s,0,a*d.ra.Va(this.description.Ed(u)));return s},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l&&this.description.Nb(s.description))||this.Ac()!=s.Ac())return!1;if(this.Ac())return!0;var a=this.I();if(a!=s.I())return!1;for(var u=0;u<this.description.Aa;u++){var p=this.description.kd(u),y=this.ub(p),m=s.ub(p);if(!y.Nb(m,0,a*d.ra.Va(p)))return!1}return!0},l.prototype.copyTo=function(s){if(s.getType()!=this.getType())throw d.i.N();this.dD(s)},l.prototype.dD=function(s){this.mc(),s.description=this.description,s.za=null;var a=this.description.Aa,u=null;if(this.za!=null){u=[];for(var p=0;p<a;p++)this.za[p]!=null&&(u[p]=this.za[p].GB(this.I()*d.ra.Va(this.description.Ed(p))))}this.$!=null?(s.$=this.$.Ia(),this.$.copyTo(s.$)):s.$=null,s.wa=this.wa,s.Hm=this.Hm,s.za=u;try{this.op(s)}catch{throw s.Oa(),d.i.fu()}},l.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},l.prototype.Pc=function(s){s==16777215&&(this.Pg=-1,this.$x()),this.Hm|=s,this.lM(),this.vc()},l.prototype.wu=function(s){if(this.mc(),this.ak(192))if(this.$==null?this.$=new d.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(s);for(var a=1;a<this.description.Aa;a++)for(var u=this.description.Ed(a),p=d.ra.Va(u),y=this.za[a],m=0;m<p;m++){var w=new d.Nc;w.Oa();for(var S=0;S<this.wa;S++){var k=y.eg(S*p+m);w.Zb(k)}this.$.setInterval(u,m,w)}s&&this.Lf(192,!1)}},l.prototype.hy=function(){this.$.Oa();for(var s=this.za[0],a=new d.h,u=0;u<this.wa;u++)s.tc(2*u,a),this.$.Zb(a)},l.prototype.yp=function(s){s.Oa();for(var a=this.za[0],u=new d.h,p=0;p<this.wa;p++)a.tc(2*p,u),s.Zb(u)},l.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=d.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var s=0;s<this.description.Aa;s++){var a=this.description.Ed(s);if(this.za[s]!=null){var u=d.ra.Va(a),p=d.O.truncate(this.za[s].size/u);p<this.wa&&(p=d.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[s].resize(p*u,d.ra.se(a))),p<this.Pg&&(this.Pg=p)}else this.za[s]=d.Yc.YE(a,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},l.prototype.dm=function(s){if(0>s)throw d.i.N();s!=this.wa&&(this.wa=s,this.Pc(65535))},l.prototype.om=function(s){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=s)return this.ak(8)?1:2}return-1},l.prototype.Ch=function(s,a){if(this.QT=a,s==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),s==0)this.Lf(2,!1),this.Lf(4,!1);else if(s==1)this.Lf(2,!0),this.Lf(4,!1);else{if(s!=2)throw d.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},l.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},l.prototype.kD=function(s,a,u,p){if(0>s||s>=this.wa||0>a||a>=this.wa)throw d.i.fa("index out of bounds");this.mc(),p.Nf(this.description),p.B()&&p.un();for(var y=0;y<this.description.Aa;y++)for(var m=this.description.Ed(y),w=0,S=d.ra.Va(m);w<S;w++){var k=this.za[y].eg(S*s+w),I=this.za[y].eg(S*a+w);p.setAttribute(m,w,d.lc.hq(k,I,u))}},l.prototype.yr=function(s,a){var u=this.za[0].o,p=u[2*s]-u[2*a];return s=u[2*s+1]-u[2*a+1],Math.sqrt(p*p+s*s)},l.prototype.KR=function(s){if(0>s||s>=this.wa)throw d.i.ce();this.mc();var a=new d.Sa;a.Nf(this.description),a.B()&&a.un();for(var u=0;u<this.description.Aa;u++)for(var p=this.description.kd(u),y=0,m=d.ra.Va(p);y<m;y++){var w=this.za[u].eg(m*s+y);a.setAttribute(p,y,w)}return a},l.prototype.Dh=function(s,a){if(0>s||s>=this.wa)throw d.i.ce();if(a.B())throw d.i.N();this.mc();for(var u=a.description,p=0;p<u.Aa;p++)for(var y=u.kd(p),m=d.ra.Va(y),w=0;w<m;w++){var S=a.Uc(y,w);this.setAttribute(y,s,w,S)}},l.prototype.lu=function(){return null},l.prototype.fj=function(){return null},l}(d.aa);d.Gx=x}(te||(te={})),function(d){var O=function(){function x(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new d.$c(7),this.Zn=null}return x.prototype.Vo=function(h){this.Zn=h},x.prototype.RP=function(){this.Rv=!1},x.prototype.De=function(h){this.ob.De(h)},x.prototype.Pr=function(h){var l=this.ob.Ce();return this.rX(l),this.uX(h,l),l},x.prototype.MP=function(h){this.ob.jd(h)},x.prototype.addElement=function(h,l){return l==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),l=this.Qe),this.FD(h,0,l)},x.prototype.KD=function(h){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(h,1,this.Qe)},x.prototype.xn=function(h){this.Qe==-1&&(this.Qe=this.Pr(-1));var l=this.Qe,s=this.ob.o;if(l==-1||s[7*l]==-1)return h=this.ob.Ll([-1,-1,-1,h,this.gl(),-1,-1]),(s=this.ob.o)[7*l]=h,this.vp(-1,h,l,s),h;var a=l==-1?-1:s[7*l+2];return h=this.ob.Ll([-1,-1,a,h,this.gl(),-1,-1]),(s=this.ob.o)[7*a+1]=h,this.oy(h,s),s[7*h+2]===-1&&(s[7*l]=h),this.vp(-1,h,l,s),h},x.prototype.zu=function(h,l,s,a){var u=-1;u==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),u=this.Qe);var p=this.ob.o;if(u==-1||p[7*u]==-1)return s=this.ob.Ll([-1,-1,-1,s,this.gl(),-1,-1]),(p=this.ob.o)[7*u]=s,this.vp(-1,s,u,p),s;if(a){a=l!=-1?this.Zn.compare(this,s,l):-1;var y=h!=-1?this.Zn.compare(this,s,h):1}else a=-1,y=1;if(a==0||y==0)return p[7*u+3]=a==0?l:h,-1;for((l!=-1&&h!=-1?this.Tm>d.O.bB(this.Tm)>>1:l!=-1)?h=l:a=y,l=!0;;){if(0>a){if((y=p[7*h])==-1){a=h,s=this.ob.Ll([-1,-1,h,s,this.gl(),-1,-1]),(p=this.ob.o)[7*h]=s;break}h=y}else{if((y=p[7*h+1])==-1){a=p[7*h+6],s=this.ob.Ll([-1,-1,h,s,this.gl(),-1,-1]),(p=this.ob.o)[7*h+1]=s;break}h=y}l&&(a*=-1,l=!1)}return this.oy(s,p),p[7*s+2]===-1&&(p[7*u]=s),this.vp(a,s,u,p),s},x.prototype.FF=function(){return this.iR(this.Qe)},x.prototype.vd=function(h,l){l=l==-1?this.Qe:l,this.Rv?this.LP(h,l):this.iY(h,l)},x.prototype.search=function(h,l){for(l=this.sv(l);l!=-1;){var s=this.Zn.compare(this,h,l);if(s==0)return l;l=0>s?this.ll(l):this.Xp(l)}return-1},x.prototype.IW=function(h){for(var l=this.sv(-1),s=-1;l!=-1;){var a=h.compare(this,l);if(a==0)return l;0>a?l=this.ll(l):(s=l,l=this.Xp(l))}return s},x.prototype.uJ=function(h){for(var l=this.sv(-1),s=-1;l!=-1;){var a=h.compare(this,l);if(a==0)return l;0>a?(s=l,l=this.ll(l)):l=this.Xp(l)}return s},x.prototype.ja=function(h){return this.ob.T(h,3)},x.prototype.ll=function(h){return this.ob.T(h,0)},x.prototype.Xp=function(h){return this.ob.T(h,1)},x.prototype.getParent=function(h){return this.ob.T(h,2)},x.prototype.lb=function(h){return this.ob.T(h,6)},x.prototype.we=function(h){return this.ob.T(h,5)},x.prototype.rc=function(h){return h==-1?this.kl(this.Qe):this.kl(h)},x.prototype.Fc=function(h){return h==-1?this.Zr(this.Qe):this.Zr(h)},x.prototype.ZR=function(h){return h==-1?this.bG(this.Qe):this.bG(h)},x.prototype.Sj=function(h,l){this.NB(h,l)},x.prototype.sv=function(h){return h==-1?this.YF(this.Qe):this.YF(h)},x.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},x.prototype.size=function(h){return h==-1?this.$F(this.Qe):this.$F(h)},x.prototype.KN=function(h,l){for(var s=l[7*h],a=l[7*h+1],u=l[7*h+4];s!=-1||a!=-1;){var p=s!=-1?l[7*s+4]:2147483647;if(a=a!=-1?l[7*a+4]:2147483647,u<=Math.min(p,a))break;p<=a?this.sJ(s,l):this.rJ(h,l),s=l[7*h],a=l[7*h+1]}},x.prototype.oy=function(h,l){if(this.Rv)for(var s=l[7*h+4],a=l[7*h+2];a!=-1&&l[7*a+4]>s;)l[7*a]==h?this.sJ(h,l):this.rJ(a,l),a=l[7*h+2]},x.prototype.rJ=function(h,l){var s=l[7*h+1];l[7*s+2]=l[7*h+2],l[7*h+2]=s;var a=l[7*s];l[7*h+1]=a,a!=-1&&(l[7*a+2]=h),l[7*s]=h,(a=l[7*s+2])!=-1&&(l[7*a]==h?l[7*a]=s:l[7*a+1]=s)},x.prototype.sJ=function(h,l){var s=l[7*h+2];l[7*h+2]=l[7*s+2],l[7*s+2]=h;var a=l[7*h+1];l[7*s]=a,a!=-1&&(l[7*a+2]=s),l[7*h+1]=s,(a=l[7*h+2])!=-1&&(l[7*a]===s?l[7*a]=h:l[7*a+1]=h)},x.prototype.Pk=function(h,l){this.ob.S(h,2,l)},x.prototype.TB=function(h,l){this.ob.S(h,0,l)},x.prototype.XB=function(h,l){this.ob.S(h,1,l)},x.prototype.WB=function(h,l){this.ob.S(h,5,l)},x.prototype.ex=function(h,l){this.ob.S(h,6,l)},x.prototype.XJ=function(h,l){this.ob.S(l,0,h)},x.prototype.rX=function(h){this.ob.S(h,4,0)},x.prototype.uX=function(h,l){this.ob.S(l,5,h)},x.prototype.YF=function(h){return h==-1?-1:this.ob.T(h,0)},x.prototype.kl=function(h){return h==-1?-1:this.ob.T(h,1)},x.prototype.Zr=function(h){return h==-1?-1:this.ob.T(h,2)},x.prototype.iR=function(h){return h==-1?-1:this.ob.T(h,3)},x.prototype.$F=function(h){return h==-1?0:this.ob.T(h,4)},x.prototype.bG=function(h){return this.ob.T(h,5)},x.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},x.prototype.fl=function(h){h!=-1&&this.ob.jd(h)},x.prototype.gl=function(){return this.Tm=d.O.bB(this.Tm),1073741823&this.Tm},x.prototype.FD=function(h,l,s){var a=this.ob.o;if(s==-1||a[7*s]==-1)return h=this.ob.Ll([-1,-1,-1,h,this.gl(),-1,-1]),(a=this.ob.o)[7*s]=h,this.vp(-1,h,s,a),h;for(var u=s==-1?-1:a[7*s];;){var p=l==-1?1:this.Zn.compare(this,h,u);if(0>p){if((p=this.ll(u))==-1){l=u,h=this.ob.Ll([-1,-1,u,h,this.gl(),-1,-1]),(a=this.ob.o)[7*u]=h;break}u=p}else{if(l==1&&p==0)return a[7*s+3]=u,-1;if((p=a[7*u+1])==-1){l=a[7*u+6],h=this.ob.Ll([-1,-1,u,h,this.gl(),-1,-1]),(a=this.ob.o)[7*u+1]=h;break}u=p}}return this.oy(h,a),a[7*h+2]===-1&&(a[7*s]=h),this.vp(l,h,s,a),h},x.prototype.vp=function(h,l,s,a){if(h!=-1){var u=a[7*h+5];a[7*h+5]=l}else u=s==-1?-1:a[7*s+2];a[7*l+5]=u,u!=-1&&(a[7*u+6]=l),a[7*l+6]=h,h==(s==-1?-1:a[7*s+1])&&(a[7*s+1]=l),h==-1&&(a[7*s+2]=l),a[7*s+4]=(s==-1?0:a[7*s+4])+1},x.prototype.AB=function(h,l){var s=this.ob.o,a=s[7*h+5];h=s[7*h+6],a!=-1?s[7*a+6]=h:s[7*l+1]=h,h!=-1?s[7*h+5]=a:s[7*l+2]=a,s[7*l+4]=l===-1?-1:s[7*l+4]-1},x.prototype.iY=function(h,l){this.AB(h,l);var s=this.ll(h),a=this.Xp(h),u=this.getParent(h),p=h;if(s!=-1&&a!=-1){this.Tm=d.O.bB(this.Tm);var y=1073741823<this.Tm?this.lb(h):this.we(h),m=this.getParent(y)==h;this.ob.gC(h,y,0),this.ob.gC(h,y,1),this.ob.gC(h,y,2),u!=-1?this.ll(u)==h?this.TB(u,y):this.XB(u,y):this.XJ(y,l),m?(s==y?(this.TB(y,h),this.Pk(a,y)):a==y&&(this.XB(y,h),this.Pk(s,y)),this.Pk(h,y),u=y):(this.Pk(s,y),this.Pk(a,y),u=this.getParent(h),p=y),s=this.ll(h),a=this.Xp(h),s!=-1&&this.Pk(s,h),a!=-1&&this.Pk(a,h)}s=s!=-1?s:a,u==-1?this.XJ(s,l):this.ll(u)==p?this.TB(u,s):this.XB(u,s),s!=-1&&this.Pk(s,u),this.fl(h)},x.prototype.LP=function(h,l){var s=this.ob.o;s[7*h+4]=2147483647;var a=-1,u=-1,p=l===-1?-1:s[7*l],y=p==h;if(y&&(a=s[7*p],u=s[7*p+1],a==-1&&u==-1))return this.AB(p,l),this.fl(p),void(s[7*l]=-1);this.KN(h,s),(p=s[7*h+2])!=-1&&(s[7*p]==h?s[7*p]=-1:s[7*p+1]=-1),this.AB(h,l),this.fl(h),y&&(s[7*l]=a==-1||s[7*a+2]!=-1?u:a)},x.prototype.NB=function(h,l){this.ob.S(h,3,l)},x}();d.Yj=O}(te||(te={})),function(d){var O=function(){function x(h,l){h!==void 0&&this.K(h,l)}return x.prototype.K=function(h,l){this.oa=h,this.va=l,this.normalize()},x.prototype.isIntersecting=function(h){return this.oa<=h.oa?this.va>=h.oa:h.va>=this.oa},x.prototype.move=function(h){this.B()||(this.oa+=h,this.va+=h)},x.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var h=this.oa;this.oa=this.va,this.va=h}isNaN(this.va)&&this.Oa()}},x.prototype.Oa=function(){this.va=this.oa=NaN},x.prototype.B=function(){return isNaN(this.oa)},x.prototype.Zb=function(h){typeof h=="number"?this.B()?this.va=this.oa=h:this.Lk(h):h.B()||(this.B()?(this.oa=h.oa,this.va=h.va):(this.oa>h.oa&&(this.oa=h.oa),this.va<h.va&&(this.va=h.va),this.oa>this.va&&this.Oa()))},x.prototype.Lk=function(h){h<this.oa?this.oa=h:h>this.va&&(this.va=h)},x.prototype.contains=function(h){return typeof h=="number"?h>=this.oa&&h<=this.va:h.oa>=this.oa&&h.va<=this.va},x.prototype.Ea=function(h){this.B()||h.B()?this.Oa():(this.oa<h.oa&&(this.oa=h.oa),this.va>h.va&&(this.va=h.va),this.oa>this.va&&this.Oa())},x.prototype.W=function(h){this.B()||(this.oa-=h,this.va+=h,this.va<this.oa&&this.Oa())},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},x.prototype.KB=function(h,l){h>l?(this.oa=l,this.va=h):(this.oa=h,this.va=l)},x.prototype.It=function(h){return d.O.Rk(h,this.oa,this.va)},x.prototype.R=function(){return this.va-this.oa},x.prototype.sf=function(){return .5*(this.oa+this.va)},x.prototype.Nb=function(h){return h==this||h instanceof x&&(!(!this.B()||!h.B())||this.oa==h.oa&&this.va==h.va)},x.prototype.cc=function(){return d.O.uj(d.O.uj())},x}();d.Nc=O}(te||(te={})),function(d){var O=new d.Nc,x=new d.Nc,h=function(){this.ne=null,this.pb=-1,this.sb=new d.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new d.Nc,this.Uf.KB(0,0)};d.IY=h;var l=function(){function s(a,u,p){this.g=a,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=u,this.Nq=10*u,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=p,this.TA=new h,this.YH=new h,d.O.truncate(3*a.fd/2)}return s.prototype.mG=function(a,u,p,y){a.ne=y===null?null:y[p[5*u]],a.Tv=a.ne!=null,a.Tv||((y=p[5*u+2])!==-1&&this.g.mW(p[5*u],p[5*y],a.sb),a.ne=a.sb,a.Uf.KB(a.sb.sa,a.sb.pa),a.Uf.va+=this.qa,a.sb.rI(),a.Vv=a.sb.la==a.sb.na,a.Vv||(a.qA=(a.sb.pa-a.sb.sa)/(a.sb.la-a.sb.na)))},s.prototype.OO=function(a,u){var p=a.zr(u,this.qa,!0);return p!=0?p==2?this.Qy():this.xi():(a.Yp(ht),a.Tr(ui),u.Yp(ei),u.Tr($t),Nt.ma(this.Kq,this.Hk),ht.qb(ei)&&this.Hk==ht.y?0>ui.compare($t)?Nt.L(ui):Nt.L($t):ht.qb($t)&&this.Hk==ht.y?0>ui.compare(ei)?Nt.L(ui):Nt.L(ei):ei.qb(ui)&&this.Hk==ei.y?0>ht.compare($t)?Nt.L(ht):Nt.L($t):ui.qb($t)&&this.Hk==ui.y&&(0>ht.compare(ei)?Nt.L(ht):Nt.L(ei)),a.Pe(Nt.y,Nt.x)<u.Pe(Nt.y,Nt.x)?-1:1)},s.prototype.MO=function(a,u){if(a.sb.na==u.sb.na&&a.sb.sa==u.sb.sa)return a.sb.la==u.sb.la&&a.sb.pa==u.sb.pa?this.gA?this.Qy():0:this.PE(a,u);if(a.sb.la==u.sb.la&&a.sb.pa==u.sb.pa)return this.OE(a,u);var p=this.OE(a,u);return a=this.PE(a,u),0>p&&0>a?-1:0<p&&0<a?1:this.xi()},s.prototype.IO=function(a,u){if(a.pa>u.pa){if(u.pa>u.sa&&u.la-u.na<2*this.qa&&a.vi(u.pa,u.la,this.qa))return this.xi()}else if((u.la-u.na)/(u.pa-u.sa)*(a.pa-a.sa)<this.Nq&&u.vi(a.pa,a.la,this.qa))return this.xi();return 1},s.prototype.JO=function(a,u){if(a.sa<u.sa){if(u.pa>u.sa&&u.la-u.na<2*this.qa&&a.vi(u.pa,u.la,this.qa))return this.xi()}else if((u.la-u.na)/(u.pa-u.sa)*(a.sa-a.pa)<this.Nq&&u.vi(a.sa,a.na,this.qa))return this.xi();return-1},s.prototype.KO=function(a,u){var p=new d.h;p.uc(u.wc(),u.ac()),p.ar(),p.normalize();var y=new d.h;y.uc(a.ac(),u.ac());var m=new d.h;m.uc(a.wc(),u.ac()),y=y.Qh(p),p=m.Qh(p),m=Math.abs(y);var w=Math.abs(p);if(m<w){if(m<this.Nq&&u.vi(a.sa,a.na,this.qa))return this.xi()}else if(w<this.Nq&&u.vi(a.pa,a.la,this.qa))return this.xi();return 0>y&&0>p?-1:0<y&&0<p?1:this.xi()},s.prototype.NE=function(a,u){return a.na==u.na&&a.sa==u.sa?this.IO(a,u):a.la==u.la&&a.pa==u.pa?this.JO(a,u):this.KO(a,u)},s.prototype.LO=function(a,u){return a.la==u.la&&a.pa==u.pa&&a.na==u.na&&a.sa==u.sa?this.gA?this.Qy():0:this.xi()},s.prototype.OE=function(a,u){var p=1;if(a.sb.na<u.sb.na){p=-1;var y=a;a=u,u=y}a=a.sb,y=u.sb;var m=a.sa-y.sa;u=u.qA*(a.na-y.na);var w=this.Nq;return m<u-w?-p:m>u+w?p:y.vi(a.sa,a.na,this.qa)?this.xi():m<u?-p:p},s.prototype.PE=function(a,u){var p=1;if(u.sb.la<a.sb.la){p=-1;var y=a;a=u,u=y}a=a.sb,y=u.sb;var m=a.pa-y.sa;u=u.qA*(a.la-y.na);var w=this.Nq;return m<u-w?-p:m>u+w?p:y.vi(a.pa,a.la,this.qa)?this.xi():m<u?-p:p},s.prototype.Qy=function(){return this.rg=!0,this.Ni=new d.Md(5,this.Lo,this.gt),-1},s.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new d.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},s.prototype.NO=function(a,u,p,y){if(this.rg)return-1;var m=this.OH==this.Hk&&this.NH==this.Kq;if(m&&a==this.Ws)var w=this.PH;else w=NaN,this.Ws=-1;return m&&u==this.Xs?m=this.QH:(m=NaN,this.Xs=-1),p.ne.ZI(O),y.ne.ZI(x),O.va<x.oa?-1:x.va<O.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(w)&&(this.Ws=a,this.PH=w=a=p.ne.Pe(this.Hk,this.Kq)),isNaN(m)&&(this.Xs=u,this.QH=m=a=y.ne.Pe(this.Hk,this.Kq)),Math.abs(w-m)<=this.qa?this.OO(p.ne,y.ne):w<m?-1:w>m?1:0)},s.prototype.Kr=function(){this.rg=!1},s.prototype.rm=function(){return this.Ni},s.prototype.$J=function(a,u){this.Hk=a,this.Kq=u,this.gt=this.Lo=this.Xs=this.Ws=-1},s.prototype.compare=function(a,u,p){return this.rg?-1:(a=a.ja(p),this.Dm=p,this.RE(u,u,a,a))},s.prototype.RE=function(a,u,p,y){if(this.Lo==u)var m=this.TA;else this.Lo=u,m=this.TA,this.TA.pb=a,this.mG(m,u,this.g.td.o,this.g.We);if(w==null){this.gt=y;var w=this.YH;this.YH.pb=p,this.mG(w,y,this.g.td.o,this.g.We)}return m.Tv||w.Tv?this.NO(u,y,m,w):m.Uf.va<w.Uf.oa?-1:w.Uf.va<m.Uf.oa?1:(a=m.Vv?1:0,(a|=w.Vv?2:0)==0?this.MO(m,w):a==1?this.NE(m.sb,w.sb):a==2?-1*this.NE(w.sb,m.sb):this.LO(m.sb,w.sb))},s}();d.UC=l}(te||(te={})),function(d){var O=function(){function x(h,l){this.g=h,this.qa=l,this.rg=!1,this.Lo=-1,this.Uf=new d.Nc,this.Gq=new d.h,this.Gq.Rc(),this.ie=new d.yb,this.Dm=-1,this.BA=17976931348623157e292}return x.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},x.prototype.Dh=function(h){this.Gq.L(h)},x.prototype.compare=function(h,l){return this.SE(l,h.ja(l))},x.prototype.SE=function(h,l){var s=this.g.bc(l)!=null;if(s||(this.g.ed(l,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),s)throw d.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=h,this.rg=!0,0;this.ie.rI(),s=this.ie.ac(),(l=new d.h).uc(this.ie.wc(),s),l.ar();var a=new d.h;return a.uc(this.Gq,s),s=l.Qh(a),(s/=l.length())<10*-this.qa?-1:s>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((l=Math.abs(s))<this.BA&&(this.Dm=h,this.BA=l),this.rg=!0,l<.25*this.qa)?0:0>s?-1:1},x}();d.aM=O}(te||(te={})),function(d){function O(h,l,s,a){s=new Float64Array(h.subarray(s,a)),h.set(s,l)}var x=function(){function h(l){this.Pb=this.pk=!1,this.o=null;var s=l;2>s&&(s=2),this.o=new Float64Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),u=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)u[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Float64Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Float64Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Float64Array(l):l<=this.o.length||(0<this.o.length?((l=new Float64Array(l)).set(this.o),this.o=l):this.o=new Float64Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Float64Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Float64Array(a)).set(this.o),this.o=a),a=this.o;for(var u=this.size;u<l;u++)a[u]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var u=this.size;s<u&&s<a;s++)l=d.O.uj(this.read(s));return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var u=this.size,p=l.size;if(a>u||a>p&&u!=p)return!1;for(a>u&&(a=u);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,u,p){if(this.Pb)throw d.i.Hb();if(!u&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),u)this.o.set(l.o.subarray(s,s+a),y);else{u=a;for(var m=0;m<a;m+=p){u-=p;for(var w=0;w<p;w++)this.o[y+m+w]=l.o[s+u+w]}}},h.prototype.Mn=function(l,s,a,u,p,y,m){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||u%y!=0))throw d.i.N();var w=this.size-m;if(w<u&&this.resize(this.size+u-w),O(this.o,l+u,l,l+(m-l)),this.o==s.o&&l<a&&(a+=u),p)this.o.set(s.o.subarray(a,a+u),l);else for(p=u,m=0;m<u;m+=y)for(p-=y,w=0;w<y;w++)this.o[l+m+w]=s.o[a+p+w]},h.prototype.Iz=function(l,s,a,u,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*u>this.o.length?this.resize(this.size+2*u):this.size+=2*u,O(this.o,l+2*u,l,l+(y-l)),p)for(p=0;p<u;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var m=u-1;p<u;++p)y=s[a+m],this.o[l++]=y.x,this.o[l++]=y.y,m--}},h.prototype.Ln=function(l,s,a,u){if(this.Pb)throw d.i.Hb();for(u-=l,O(this.o,l+u,l,l+u),u=0;u<a;u++)this.o[l+u]=s},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();O(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,u,p,y){if(0>l||0>s||0>u||!p&&(0>=y||s%y!=0)||a.size<u+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,u,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u++;else if(u=u+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var m=0;m<y;m++)this.o[l+m]=a.o[u+m];l+=y,u-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&O(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var u=s>>1,p=0;p<u;p+=a){s-=a;for(var y=0;y<a;y++){var m=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=m}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var u=s;u<s+a;u++)this.o[u]=l},h.prototype.Ar=function(l,s,a,u,p){if(!(u&&l==a||(this.o.set(this.o.subarray(a,a+s),l),u)))for(a=l,l=l+s-p,u=0,s=d.O.truncate(s/2);u<s;u++){for(var y=0;y<p;y++){var m=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=m}a+=p,l-=p}},h.prototype.vC=function(l,s,a,u,p){if(0>l||0>s||0>u)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=u;u<s;u++)this.o[l]=a[u].x,this.o[l+1]=a[u].y,l+=p},h.prototype.uC=function(l,s,a){if(0>l||0>s)throw d.i.N();if(s!=0){this.size<(s<<1)+l&&this.resize((s<<1)+l),s+=0;for(var u=0;u<s;u++)this.o[l]=a[u][0],this.o[l+1]=a[u][1],l+=2}},h.prototype.Vw=function(l,s,a,u,p){if(0>l||0>s||0>u||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[u+p]=this.o[l+p];else for(u=u+s-1;l<s;l++)a[u]=this.o[l],u--},h.prototype.uB=function(l,s,a){if(0>l||0>s||this.size<(s>>1)+l)throw d.i.N();if(s!=0){s=0+s;for(var u=0;u<s;u++)a[u][0]=this.o[l],a[u][1]=this.o[l+1],l+=2}},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){Array.prototype.sort.call(this.o.subarray(l,s),a)},h.prototype.Tp=function(){return 1},h}();d.be=x}(te||(te={})),function(d){function O(h,l,s,a){s=new Int32Array(h.subarray(s,a)),h.set(s,l)}d.rY=function(){this.random=1973};var x=function(){function h(l){this.Pb=this.pk=!1,this.o=null;var s=l;2>s&&(s=2),this.o=new Int32Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),u=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)u[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Int32Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Int32Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Int32Array(l):l<=this.o.length||(0<this.o.length?((l=new Int32Array(l)).set(this.o),this.o=l):this.o=new Int32Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Int32Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Int32Array(a)).set(this.o),this.o=a),a=this.o;for(var u=this.size;u<l;u++)a[u]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var u=this.size;s<u&&s<a;s++)l=d.O.Th(this.read(s),l);return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var u=this.size,p=l.size;if(a>u||a>p&&u!=p)return!1;for(a>u&&(a=u);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,u,p){if(this.Pb)throw d.i.Hb();if(!u&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),u)this.o.set(l.o.subarray(s,s+a),y);else{u=a;for(var m=0;m<a;m+=p){u-=p;for(var w=0;w<p;w++)this.o[y+m+w]=l.o[s+u+w]}}},h.prototype.Mn=function(l,s,a,u,p,y,m){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||u%y!=0))throw d.i.N();if(O(this.o,l+u,l,l+(m-l)),this.o==s.o&&l<a&&(a+=u),p)this.o.set(s.o.subarray(a,a+u),l);else for(p=u,m=0;m<u;m+=y){p-=y;for(var w=0;w<y;w++)this.o[l+m+w]=s.o[a+p+w]}},h.prototype.Iz=function(l,s,a,u,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*u>this.o.length?this.resize(this.size+2*u):this.size+=2*u,O(this.o,l+2*u,l,l+(y-l)),p)for(p=0;p<u;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var m=u-1;p<u;++p)y=s[a+m],this.o[l++]=y.x,this.o[l++]=y.y,m--}},h.prototype.Ln=function(l,s,a,u){if(this.Pb)throw d.i.Hb();for(u-=l,O(this.o,l+u,l,l+u),u=0;u<a;u++)this.o[l+u]=s},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();O(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,u,p,y){if(0>l||0>s||0>u||!p&&(0>=y||s%y!=0)||a.size<u+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,u,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u++;else if(u=u+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var m=0;m<y;m++)this.o[l+m]=a.o[u+m];l+=y,u-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&O(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var u=s>>1,p=0;p<u;p+=a){s-=a;for(var y=0;y<a;y++){var m=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=m}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var u=s;u<s+a;u++)this.o[u]=l},h.prototype.Ar=function(l,s,a,u,p){if(!(u&&l==a||(this.o.set(this.o.subarray(a,a+s),l),u)))for(a=l,l=l+s-p,u=0,s=d.O.truncate(s/2);u<s;u++){for(var y=0;y<p;y++){var m=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=m}a+=p,l-=p}},h.prototype.vC=function(l,s,a,u,p){if(0>l||0>s||0>u)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=u;u<s;u++)this.o[l]=a[u].x,this.o[l+1]=a[u].y,l+=p},h.prototype.Vw=function(l,s,a,u,p){if(0>l||0>s||0>u||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[u+p]=this.o[l+p];else for(u=u+s-1;l<s;l++)a[u]=this.o[l],u--},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){10>s-l?h.rG(this.o,l,s,a):h.qB(this.o,l,s-1,a)},h.prototype.Tp=function(){return 2},h.prototype.Fc=function(){return this.o[this.size-1]},h.prototype.If=function(){this.resize(this.size-1)},h.prototype.bX=function(l){this.o[this.size-1]=l},h.prototype.SV=function(l){l<this.size-1&&(this.o[l]=this.o[this.size-1]),this.resize(this.size-1)},h.prototype.lF=function(l){for(var s=0,a=this.size;s<a;s++)if(this.o[s]==l)return s;return-1},h.prototype.hG=function(l){return 0<=this.lF(l)},h.rG=function(l,s,a,u){for(var p=s;p<a;p++){for(var y=l[p],m=p-1;m>=s&&0<u(l[m],y);)l[m+1]=l[m],m--;l[m+1]=y}},h.tx=function(l,s,a){var u=l[a];l[a]=l[s],l[s]=u},h.qB=function(l,s,a,u){if(!(s>=a))for(;;){if(9>a-s){h.rG(l,s,a+1,u);break}var p=l[s];h.tx(l,s,a);for(var y=s,m=s;m<a;m++)0>=u(l[m],p)&&(h.tx(l,y,m),y+=1);h.tx(l,y,a),y-s<a-y?(h.qB(l,s,y-1,u),s=y+1):(h.qB(l,y+1,a,u),a=y-1)}},h}();d.ia=x}(te||(te={})),function(d){function O(h,l,s,a){s=new Int8Array(h.subarray(s,a)),h.set(s,l)}var x=function(){function h(l){this.o=null;var s=l;2>s&&(s=2),this.o=new Int8Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),u=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)u[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Int8Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Int8Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Int8Array(l):l<=this.o.length||(0<this.o.length?((l=new Int8Array(l)).set(this.o),this.o=l):this.o=new Int8Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Int8Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Int8Array(a)).set(this.o),this.o=a),a=this.o;for(var u=this.size;u<l;u++)a[u]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var u=this.size;s<u&&s<a;s++)l=d.O.Th(this.read(s),l);return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var u=this.size,p=l.size;if(a>u||a>p&&u!=p)return!1;for(a>u&&(a=u);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,u,p){if(this.Pb)throw d.i.Hb();if(!u&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),u)this.o.set(l.o.subarray(s,s+a),y);else{u=a;for(var m=0;m<a;m+=p){u-=p;for(var w=0;w<p;w++)this.o[y+m+w]=l.o[s+u+w]}}},h.prototype.Mn=function(l,s,a,u,p,y,m){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||u%y!=0))throw d.i.N();if(O(this.o,l+u,l,l+(m-l)),this.o==s.o&&l<a&&(a+=u),p)this.o.set(s.o.subarray(a,a+u),l);else for(p=u,m=0;m<u;m+=y){p-=y;for(var w=0;w<y;w++)this.o[l+m+w]=s.o[a+p+w]}},h.prototype.Ln=function(l,s,a,u){if(this.Pb)throw d.i.Hb();for(u-=l,O(this.o,l+u,l,l+u),u=0;u<a;u++)this.o[l+u]=s},h.prototype.Iz=function(l,s,a,u,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*u>this.o.length?this.resize(this.size+2*u):this.size+=2*u,O(this.o,l+2*u,l,l+(y-l)),p)for(p=0;p<u;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var m=u-1;p<u;++p)y=s[a+m],this.o[l++]=y.x,this.o[l++]=y.y,m--}},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();O(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,u,p,y){if(0>l||0>s||0>u||!p&&(0>=y||s%y!=0)||a.size<u+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,u,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u++;else if(u=u+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[u],l++,u--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var m=0;m<y;m++)this.o[l+m]=a.o[u+m];l+=y,u-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&O(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var u=s>>1,p=0;p<u;p+=a){s-=a;for(var y=0;y<a;y++){var m=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=m}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var u=s;u<s+a;u++)this.o[u]=l},h.prototype.Ar=function(l,s,a,u,p){if(!(u&&l==a||(this.o.set(this.o.subarray(a,a+s),l),u)))for(a=l,l=l+s-p,u=0,s=d.O.truncate(s/2);u<s;u++){for(var y=0;y<p;y++){var m=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=m}a+=p,l-=p}},h.prototype.vC=function(l,s,a,u,p){if(0>l||0>s||0>u)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=u;u<s;u++)this.o[l]=a[u].x,this.o[l+1]=a[u].y,l+=p},h.prototype.Vw=function(l,s,a,u,p){if(0>l||0>s||0>u||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[u+p]=this.o[l+p];else for(u=u+s-1;l<s;l++)a[u]=this.o[l],u--},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){s=this.o.subarray(l,s),Array.prototype.sort.call(s,a),this.o.set(s,l)},h.prototype.zJ=function(l,s){if(this.Pb)throw d.i.fa("invalid call. Attribute Stream is read only.");this.o[l]|=s},h.prototype.KE=function(l,s){if(this.Pb)throw d.i.fa("invalid call. Attribute Stream is read only.");this.o[l]&=~s},h.prototype.Tp=function(){return 1},h}();d.pn=x}(te||(te={})),function(d){d.Yc=function(){function O(){}return O.Mr=function(x,h){return d.pn.qf(x,h)},O.Dn=function(x,h){return d.be.qf(x,h)},O.pP=function(x,h,l){switch(x){case 1:x=d.be.qf(h,l);break;case 2:x=d.ia.qf(h,l);break;case 4:x=d.pn.qf(h,l);break;default:throw d.i.Qa()}return x},O.YE=function(x,h){return O.pP(d.ra.Tp(x),h*d.ra.Va(x),d.ra.se(x))},O.Oh=function(x,h){return d.ia.qf(x,h)},O.qI=function(x){var h,l=[];for(h=0;h<x;h++)l.push(null);return l},O}()}(te||(te={})),function(d){d.ga=function(O){O===void 0&&(O=0),this.u=O}}(te||(te={})),function(d){d.NL=function(){function O(){}return O.bind=function(x){d.Sc=x.PeDefs,d.pf=x.PeFactory,d.NC=x.PeVertcs,d.ej=x.PeCSTransformations,d.MC=x.PeGTTransformations,d.LL=x.PeGeogtran,d.KL=x.PeFactoryCodechange,d.LC=x.PeGCSExtent,d.Cg=x.PePCSInfo,d.ML=x.PeHorizon,d.JL=x.PeCoordsys,d.lp=x.PeGTlistExtended,d.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,d.pf.initialize(null),d.Mx=x.PeGTlistExtendedEntry,d.pf.fromString(d.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},O}(),d.pf=null,d.NC=null,d.JL=null,d.ML=null,d.Cg=null,d.lp=null,d.Mx=null,d.LC=null,d.KL=null,d.LL=null,d.Sc=null,d.MC=null,d.ej=null}(te||(te={})),function(d){var O=function(){function x(){}return x.Mb=function(h,l){return 0<=l?x.P(h):-x.P(h)},x.P=function(h){return 0>h?-h:h},x.ti=function(h){return 3552713678800501e-30>h},x.KC=function(h,l,s){return x.P(h-l)<=s*(1+(x.P(h)+x.P(l))/2)},x.Y=function(h,l){return x.KC(h,l,3552713678800501e-30)},x.FL=function(h){return 3552713678800501e-30>=x.P(h)},x.Cd=function(h){return x.FL(h)},x}();d.s=O,d.F=function(){function x(){}return x.gp=function(h,l){var s=0;return(h=O.P(h))+(l=O.P(l))!=0&&(h>l?(s=l/h,s=h*Math.sqrt(1+s*s)):(s=h/l,s=l*Math.sqrt(1+s*s))),s},x.Wq=function(h,l,s,a,u){for(var p=[0,0,0],y=[0,0,0],m=0;2>=m;m++)l[m]-=h[m],s[m]-=l[m];s=p[1]*y[2]-p[2]*y[1],l=p[2]*y[0]-p[0]*y[2],p=p[0]*y[1]-p[1]*y[0],h=-1*(s*h[0]+l*h[1]+p*h[2]),a[0]=s,a[1]=l,a[2]=p,a[3]=h,y=x.on(a),a[0]/=y,a[1]/=y,a[2]/=y,a[3]/=y,u!=0&&(y=O.Cd(p)?O.Cd(h)?O.Mb(1,l):-O.Mb(1,h):O.Mb(1,p),y*=O.Mb(1,u),a[0]*=y,a[1]*=y,a[2]*=y,a[3]*=y)},x.zx=function(h,l,s){s[0]=h[1]*l[2]-l[1]*h[2],s[1]=h[2]*l[0]-l[2]*h[0],s[2]=h[0]*l[1]-l[0]*h[1]},x.St=function(h,l){return h[0]*l[0]+h[1]*l[1]+h[2]*l[2]},x.on=function(h){return x.gp(x.gp(h[0],h[1]),h[2])},x.cl=function(h,l,s,a,u,p,y,m){h=x.n(h,l,s);var w=Math.cos(s);p.u=(h+u)*w*Math.cos(a),y.u=(h+u)*w*Math.sin(a),m.u=(h*(1-l)+u)*Math.sin(s)},x.jO=function(h,l,s,a,u,p,y){var m=x.gp(l,s),w=1*Math.sqrt(1-h),S=w/1;if(O.Y(m,0))p.u=0,u.u=O.Mb(1.570796326794897,a),y.u=O.P(a)-w;else{p.u=Math.atan2(s,l),s=Math.atan2(1*a,w*m),p=Math.cos(s);var k=Math.sin(s);l=w*h/(1-h),h*=1,s=Math.atan2(a+l*k*k*k,m-h*p*p*p),3.141592653589793<O.P(s)&&(s=O.Mb(3.141592653589793,s)-s),s=Math.atan(S*Math.tan(s)),k=Math.sin(s),p=Math.cos(s),u.u=Math.atan2(a+l*k*k*k,m-h*p*p*p),1.570796326794897<O.P(u.u)&&(u.u=O.Mb(3.141592653589793,u.u)-u.u),s=Math.atan(S*Math.tan(u.u)),k=Math.sin(s),p=Math.cos(s),y.u=(a-w*k)*Math.sin(u.u)+(m-1*p)*Math.cos(u.u)}},x.n=function(h,l,s){return s=Math.sin(s),h/Math.sqrt(1-l*s*s)},x.ot=function(h,l){return Math.atan2(Math.sin(l)*(1-h),Math.cos(l))},x.Qj=function(h,l){return Math.atan2(Math.sin(l),Math.cos(l)*(1-h))},x.Rq=function(h,l){if(O.ti(h)||l==0||O.Y(O.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=Math.sqrt(1-h),a=(1-s)/(1+s),u=a*a,p=a*u,y=a*p,m=a*y,w=a*m,S=a*w,k=1.572916666666667*p-3.2578125*m+4.295068359375*S;h=2.142578125*y-6.071484375*w,s=3.129296875*m-11.249837239583334*S;var I=4.775276692708333*w,A=7.958636765252976*S,L=Math.cos(2*l);return l+Math.sin(2*l)*(1.5*a-.84375*p+.525390625*m-.2688395182291667*S-k+s-A+L*(2*(1.3125*u-1.71875*y+1.650146484375*w)-4*h+6*I+L*(4*k-12*s+24*A+L*(8*h-32*I+L*(16*s-80*A+L*(32*I+64*L*A))))))}for(s=1-h,a=h/2,p=(u=O.P(l))*x.Zu(h)/(1.570796326794897*s),y=9999,w=u,u=0;1e-16<y&&50>u;u++)S=x.w(h,w),m=w-(k=(m=(x.kG(w,h)-a*Math.sin(2*w)/S)/s-p)/(S=1/(S*S*S))),y=O.P(k),w=m;return 0<=l?w:-w},x.qW=function(h,l){return O.ti(l)?h:h*x.Zu(l)/1.570796326794897},x.ba=function(h){return 0>(h=x.pF(h,6.283185307179586))?h+6.283185307179586:3.141592653589793>O.P(h)||O.Y(O.P(h),3.141592653589793)?h:h-6.283185307179586},x.pF=function(h,l){return h-Math.floor(h/l)*l},x.Ah=function(h,l){if(.006884661117170036>l){var s=(l=(1-(l=Math.sqrt(1-l)))/(1+l))*l,a=s*s;return h/(1+l)*(1+.25*s+.015625*a+.00390625*s*a)*1.570796326794897}return h*x.Zu(l)},x.Vq=function(h,l){var s=O.Mb(1,Math.sin(l));return l=1.570796326794897>=(l=O.P(x.pF(l,3.141592653589793)))?l:3.141592653589793-l,(O.Y(l,1.570796326794897)?l:Math.atan(Math.sqrt(1-h)*Math.tan(l)))*s},x.q=function(h,l,s){if(.006884661117170036>l){var a=(l=(1-(l=Math.sqrt(1-l)))/(1+l))*l,u=l*a,p=l*u,y=l*p,m=l*y,w=l*m,S=-.7291666666666666*u+.2278645833333333*y+.03987630208333334*w,k=.615234375*p-.21533203125*m,I=-.54140625*y+.20302734375*w,A=.48876953125*m,L=-.4488699776785715*w,D=Math.cos(2*s);return h/(1+l)*((1+.25*a+.015625*p+.00390625*m)*s+Math.sin(2*s)*(-1.5*l+.1875*u+.0234375*y+.00732421875*w-S+I-L+D*(2*(.9375*a-.234375*p-.03662109375*m)-4*k+6*A+D*(4*S-12*I+24*L+D*(8*k-32*A+D*(16*I-80*L+D*(32*A+64*D*L)))))))}return h*(x.kG(s,l)-.5*l*Math.sin(2*s)/x.w(l,s))},x.w=function(h,l){return l=Math.sin(l),Math.sqrt(1-h*l*l)},x.Zu=function(h){return O.KC(h,1,2220446049250313e-31)?1:1>h?x.Xw(0,1-h)-h/3*x.Uw(0,1-h):NaN},x.kG=function(h,l){var s=O.Mb(1,h);h=O.P(h);var a=Math.floor(h/1.570796326794897);if(1<l)l=h==0?0:NaN;else if(O.Cd(a))l=(h=x.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h);else{var u=d.O.truncate(a%2),p=x.Zu(l);0<u?(h=1.570796326794897*(a+1)-h,l=p*(a+1)-(l=(h=Math.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h))):(h-=1.570796326794897*a,l=p*a+(l=(h=Math.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h)))}return l*s},x.sin=function(h){h=x.ba(h);var l=O.Mb(1,h);return h=O.P(h),O.Y(h,3.141592653589793)?0:O.Y(h,1.570796326794897)?1*l:Math.sin(h)*l},x.Uw=function(h,l){var s,a,u,p,y=h,m=l,w=1;for(l=0,h=1;a=((s=.2*(y+m+3*w))-y)/s,u=(s-m)/s,p=(s-w)/s,!(1e-4>O.P(a)&&1e-4>O.P(u)&&1e-4>O.P(p));)p=Math.sqrt(m),l+=h/((s=Math.sqrt(w))*(w+(p=Math.sqrt(y)*(p+s)+p*s))),h*=.25,y=.25*(y+p),m=.25*(m+p),w=.25*(w+p);return m=(y=a*u)-(w=p*p),3*l+h*(1+(w=y-6*w)*(.10227272727272728*w-.2142857142857143-.1730769230769231*p*(a=w+m+m))+p*(.1666666666666667*a+p*(-.4090909090909091*m+.1153846153846154*p*y)))/(s*Math.sqrt(s))},x.Xw=function(h,l){for(var s,a,u,p,y=1;a=2-((s=(h+l+y)/3)+h)/s,u=2-(s+l)/s,p=2-(s+y)/s,!(1e-4>O.P(a)&&1e-4>O.P(u)&&1e-4>O.P(p));y=.25*(y+s))s=Math.sqrt(l),a=Math.sqrt(y),h=.25*(h+(s=Math.sqrt(h)*(s+a)+s*a)),l=.25*(l+s);return(1+(.04166666666666666*(h=a*u-p*p)-.1-.06818181818181818*(l=a*u*p))*h+.07142857142857142*l)/Math.sqrt(s)},x.Qw=function(h,l){if(O.ti(h)||l==0||O.Y(O.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=h*h,a=h*s,u=h*a,p=h*u,y=h*p,m=h*y,w=-(.02708333333333333*a+.03430059523809524*u+.03149181547619048*p+.02634359154541446*y+.02156896735835538*m),S=.007669890873015873*u+.01299603174603175*p+.0148051353064374*y+.01454454953803912*m,k=-(.002275545634920635*p+.004830845032667949*y+.006558395368616723*m),I=.0006957236677288761*y+.001775193002406544*m,A=-.000217324089394402*m,L=Math.cos(2*l);return l+Math.sin(2*l)*(-(.5*h+.2083333333333333*s+.09375*a+.04878472222222222*u+.02916666666666667*p+.01938905423280423*y+.01388255931712963*m)-w+k-A+L*(2*(.1041666666666667*s+.0875*a+.06050347222222222*u+.04151785714285714*p+.02958958540013228*y+.02203667534722222*m)-4*S+6*I+L*(4*w-12*k+24*A+L*(8*S-32*I+L*(16*k-80*A+L*(32*I+64*L*A))))))}return l==0||O.Y(O.P(l),1.570796326794897)?s=l:(u=(a=Math.sqrt(h))*Math.sin(l),s=Math.tan(.7853981633974483+l/2)*Math.pow((1-u)/(1+u),a/2),s=2*Math.atan(s)-1.570796326794897),s},x.yO=function(h,l){if(O.ti(h)||l==0||O.Y(O.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=h*(I=h*(k=h*(L=h*h))),a=h*(A=h*s),u=.05833333333333333*k+.07232142857142858*I+.05634300595238095*s+.0355325796406526*A+.020235546186067*a,p=.02653149801587302*I+.04379960317460317*s+.0429211791776896*A+.03255384637546096*a,y=.01294022817460318*s+.02668104344536636*A+.03155651254609588*a,m=.00659454790965208*A+.0163075268674227*a,w=.003463473736911237*a,S=Math.cos(2*l);return l+Math.sin(2*l)*(.5*h+.2083333333333333*L+.08333333333333333*k+.03611111111111111*I+.01875*s+.01195601851851852*A+.008863673941798942*a-u+y-w+S*(2*(.1458333333333333*L+.1208333333333333*k+.07039930555555556*I+.03616071428571429*s+.01839451058201058*A+.01017113095238095*a)-4*p+6*m+S*(4*u-12*y+24*w+S*(8*p-32*m+S*(16*y-80*w+S*(32*m+64*S*w))))))}var k=Math.sqrt(h),I=k/2,A=Math.tan(.7853981633974483+l/2);h=0,u=1;for(var L=l;u!=0;L=a)s=k*Math.sin(L),a=A*Math.pow((1+s)/(1-s),I),a=2*Math.atan(a)-1.570796326794897,h++,(O.Y(a,L)||3e4<h)&&(u=0);return L},x}()}(te||(te={})),function(d){var O=function(){function x(h){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new d.h,this.XH=new d.h,this.KA=!1,this.vq=new d.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=h,this.As=d.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var l=h.getCode();0<l?(this.Kk=l,d.pf.getCode(h)):this.Kk=d.pf.getCode(h),0>this.Kk&&(this.Kk=0);var s=this.Ue.getType();if(this.jH=s==d.Sc.PE_TYPE_PROJCS?2:1,s==d.Sc.PE_TYPE_PROJCS&&!h.loadConstants())throw d.i.N("PeProjcs.loadConstants failed");l=s==d.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),s!=d.Sc.PE_TYPE_GEOGCS&&d.pf.getCode(l),this.Eo=h.getUnit(),this.RH=l.getPrimem().getLongitude(),this.wH=h=l.getUnit().getUnitFactor(),h=Math.PI/(180*h),1e-10>Math.abs(h-1)&&(h=1),this.GA=h,s&d.Sc.PE_TYPE_PROJCS?(l=this.Ue,this.HA=1/l.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=d.Cg.generate(l,d.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=d.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,s=1/l.getUnit().getUnitFactor(),this.sw=.001/l.getDatum().getSpheroid().getAxis()*s,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return x.prototype.$r=function(){return this.Kk},x.prototype.kk=function(){return this.tw},x.Py=function(h,l){return h==l||h!=null&&l!=null&&h.Kk==0&&l.Kk==0&&h.As===l.As},x.prototype.Wc=function(){return this.zl},x.prototype.gh=function(h){h.K(this.so)},x.prototype.pv=function(){return this.so.v},x.prototype.ov=function(){return this.so.C},x.prototype.GR=function(h){h.K(this.uw)},x.prototype.lY=function(){var h=this.Ue.getType();if(h==d.Sc.PE_TYPE_PROJCS){h=this.Ue;var l=this.kk().getCentralMeridian(),s=h.getGeogcs();if(s==null)throw d.i.fa("internal error");l=[[l+(s=1/s.getUnit().getUnitFactor()*Math.PI),0]],d.ej.geogToProj(h,1,l),l=l[0][0],s=h.getParameters()[d.Sc.PE_PARM_X0].getValue();var a=this.ml();h=new d.l,a.A(h),l=(a=Math.abs(l-s))+s,s=-1*a+s,a=h.H,h=h.G;var u=new d.l;u.K(s,h,l,a),this.so==null&&(this.so=u)}else{if(h!=d.Sc.PE_TYPE_GEOGCS)throw d.i.fa("internal error");s=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(h=new d.l).K(-s,-s/2,s,s/2),this.so==null&&(this.so=h)}},x.prototype.mY=function(){var h=this.Ue.getType();if(h==d.Sc.PE_TYPE_PROJCS){var l=this.Ue;if(h=this.kk().getCentralMeridian(),(l=l.getGeogcs())==null)throw d.i.fa("internal error");l=1/l.getUnit().getUnitFactor()*Math.PI;var s=this.Vr(),a=new d.l;s.A(a),(s=new d.l).K(h-l,a.G,h+l,a.H),this.uw==null&&(this.uw=s)}else{if(h!=d.Sc.PE_TYPE_GEOGCS)throw d.i.fa("internal error");l=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(h=new d.l).K(-l,-l/2,l,l/2),this.uw==null&&(this.uw=h)}},x.prototype.bf=function(){return this.GA},x.prototype.pm=function(){return this.HA},x.prototype.Vr=function(){if(this.zl)return this.ul;var h=this.ul;return h??(this.xx(),this.ul)},x.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},x.prototype.xx=function(){if(this.Ue.getType()==d.Sc.PE_TYPE_PROJCS){var h=this.Ue,l=h.getGeogcs(),s=h.horizonGcsGenerate();if(s!=null){var a=s[0].getNump(),u=s[0].getKind();h=0<s[0].getInclusive();var p=this.bf(),y=90*p,m=360*p,w=370*p,S=180*p*d.Sc.PE_HORIZON_DELTA/Math.PI,k=new d.l,I=null;if(1<a){for(var A=1;A<a;A++)if(s[A].getKind()==d.Sc.PE_HORIZON_LINE){I==null&&(I=new d.Ta);var L=s[A].getCoord();I.sx(L[0][0],L[0][1]),I.yj(L[1][0],L[1][1])}}if(u==d.Sc.PE_HORIZON_RECT)s=s[0].getCoord(),k.K(s[0][0],s[0][1]),k.Zb(s[1][0],s[1][1]),Math.abs(k.H-y)<1e-7*S&&(k.H=y),Math.abs(k.G+y)<1e-7*S&&(k.G=-y),k.R()>w&&(s=-400*p,k.K(s,k.G,s+5*m,k.H)),s=new d.Fh(k),this.ul==null&&(this.ul=s,this.Iv=h);else{if(w=new d.Da,m=this.kk().isGcsHorizonMultiOverlap(),k=d.gu.bF(l,d.hu.Integer64),m){for(w=new d.gL,S=d.Gh.local().V(w,k,null),A=0;A<a;A++)if(s[A].getKind()==d.Sc.PE_HORIZON_POLY){for(l=s[A].getSize(),p=s[A].getCoord(),u=[],y=0;y<l;y++)u[y]=d.h.construct(p[y][0],p[y][1]);s[A].getInclusive(),m&&((p=new d.Da).Yk(u,l-1),w.ZX(p),S.qe())}w=S.next()}else for(A=0;A<a;A++)if(s[A].getKind()==d.Sc.PE_HORIZON_POLY){for(l=s[A].getSize(),p=s[A].getCoord(),m=[],y=0;y<l;y++)m[y]=d.h.construct(p[y][0],p[y][1]);s[A].getInclusive(),w.Yk(m,l-1)}h?d.Xj.local().wn(w,k,1):d.kp.local().wn(w,k,1),d.dj.local().wn(w,k,1),this.ul==null&&(this.ul=w,this.Iv=h,this.YG=I)}}}},x.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},x.prototype.DK=function(){if(this.jH==2){var h=this.Ue.horizonPcsGenerate();if(h!=null){var l=h[0].getKind();h[0].getInclusive();var s=h[0].getNump(),a=!1;if(l==d.Sc.PE_HORIZON_RECT)h=h[0].getCoord(),(s=new d.l).K(h[0][0],h[0][1]),s.Zb(h[1][0],h[1][1]),h=new d.Fh(s);else{for(l=-1,a=0;a<s;a++)h[a].getKind()==d.Sc.PE_HORIZON_POLY&&(l=a);for(a=h[l].getSize()-1,h=h[l].getCoord(),s=[],l=0;l<a;l++)s[l]=d.h.construct(h[l][0],h[l][1]);h=l=new d.Da,l.Yk(s,a),a=!0}this.kk().isDensificationNeeded()&&(s=1e5*this.pm(),h=d.Xl.local().V(h,s,null)),a&&(a=new d.Fh,h.bn(a),h.Ke(),h.Qb(),h.qR(),d.Xj.local().wn(h,null,1)),this.Us==null&&(this.Us=h)}}},x.prototype.ml=function(){if(this.zl)return this.Us;var h=this.Us;return h??(this.DK(),this.Us)},x.prototype.nY=function(){if(this.Ue.getType()==d.Sc.PE_TYPE_PROJCS){var h=90*this.bf();h=[[0,h],[0,-h]],d.ej.geogToProj(this.Ue,2,h);var l=this.kk(),s=l.getNorthPoleLocation()!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY;l=l.getSouthPoleLocation()!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(s&&this.HH.ma(h[0][0],h[0][1]),l&&this.XH.ma(h[1][0],h[1][1]))}this.KA=!0},x.prototype.CK=function(){if(this.jH==1){var h=400*this.bf();this.vq.K(-h,-h,h,h)}else h=d.Cg.generate(this.Ue,d.Cg.PE_PCSINFO_OPTION_DOMAIN),h=d.l.construct(h.getDomainMinx(),h.getDomainMiny(),h.getDomainMaxx(),h.getDomainMaxy()),this.vq.B()&&this.vq.K(h)},x.prototype.hR=function(h){this.zl&&h.K(this.vq),this.vq.B()&&this.CK(),h.K(this.vq)},x.prototype.Up=function(){return this.RH},x.prototype.zi=function(){return this.bA},x.prototype.Hd=function(){return this.Eo},x.prototype.Xr=function(){return this.wH},x}();d.OC=O}(te||(te={})),function(d){var O=function(){function x(h){this.KT=h,this.As=d.zb.xv(h,0,!0);var l=h.getCode();this.ss=0<l?l:d.pf.getCode(h),0>this.ss&&(this.ss=0),this.Eo=l=this.KT.getUnit(),this.IH=1/l.getUnitFactor(),d.pf.getCode(h)}return x.Py=function(h,l){return h==l||h!=null&&l!=null&&h.ss==0&&l.ss==0&&h.As===l.As},x.prototype.$r=function(){return this.ss},x}();d.PL=O}(te||(te={})),function(d){d.Yg=function(){function O(){}return O.tb=function(x,h,l,s,a,u,p,y){if(u!=null||p!=null||y!=null){s=d.F.ba(s),h=d.F.ba(h),l=d.F.ba(l),a=d.F.ba(a),1.570796326794897<d.s.P(l)&&(l=d.s.Mb(3.141592653589793,l)-l,h=d.F.ba(h+3.141592653589793)),1.570796326794897<d.s.P(a)&&(a=d.s.Mb(3.141592653589793,a)-a,s=d.F.ba(s+3.141592653589793));var m=d.F.ba(s-h);if(d.s.Y(l,a)&&(d.s.Y(h,s)||d.s.Y(d.s.P(l),1.570796326794897)))u!=null&&(u.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(d.s.Y(l,-a)){if(d.s.Y(d.s.P(l),1.570796326794897))return u!=null&&(u.u=3.141592653589793*x),p!=null&&(p.u=0<l?d.F.ba(3.141592653589793-d.F.ba(s)):d.F.ba(s)),void(y!=null&&(y.u=0<l?d.F.ba(s):d.F.ba(3.141592653589793-d.F.ba(s))));if(d.s.Y(d.s.P(m),3.141592653589793))return u!=null&&(u.u=3.141592653589793*x),p!=null&&(p.u=0),void(y!=null&&(y.u=0))}var w=d.s.P(l)==1.570796326794897?0:Math.cos(l),S=Math.sin(l),k=d.s.P(a)==1.570796326794897?0:Math.cos(a),I=Math.sin(a),A=d.s.P(m)==1.570796326794897?0:Math.cos(m),L=d.s.P(m)==3.141592653589793?0:Math.sin(m);if(u!=null){var D=Math.sin((a-l)/2);m=Math.sin(m/2),u.u=2*Math.asin(Math.sqrt(D*D+w*k*m*m))*x}p!=null&&(p.u=d.s.Y(d.s.P(l),1.570796326794897)?0>l?s:d.F.ba(3.141592653589793-s):Math.atan2(k*L,w*I-S*k*A)),y!=null&&(d.s.Y(d.s.P(a),1.570796326794897)?y.u=0>a?h:d.F.ba(3.141592653589793-h):(y.u=Math.atan2(w*L,I*w*A-k*S),y.u=d.F.ba(y.u+3.141592653589793)))}}},O.rf=function(x,h,l,s,a,u,p){if(u!=null||p!=null){h=d.F.ba(h),l=d.F.ba(l),1.570796326794897<d.s.P(l)&&(l=d.s.Mb(3.141592653589793,l)-l,h=d.F.ba(h+3.141592653589793)),d.s.Y(d.s.P(l),1.570796326794897)&&(h=0),a=d.F.ba(a);var y=d.s.Y(d.s.P(a),1.570796326794897)?0:Math.cos(a),m=d.s.Y(d.s.P(a),3.141592653589793)?0:Math.sin(a),w=d.s.Y(d.s.P(l),1.570796326794897)?0:Math.cos(l),S=Math.sin(l);x=s/x,s=d.s.Y(d.s.P(x),1.570796326794897)?0:Math.cos(x);var k=d.s.Y(d.s.P(x),3.141592653589793)?0:Math.sin(x),I=Math.asin(S*s+w*k*y);p!=null&&(p.u=I),u!=null&&(u.u=d.s.Y(d.s.P(I),1.570796326794897)?d.s.Y(l,-I)?0>I?a:d.F.ba(3.141592653589793-a):h:d.s.Y(d.s.P(l),1.570796326794897)&&d.s.Y(x,3.141592653589793)?0>l?a:d.F.ba(3.141592653589793-a):d.F.ba(h+Math.atan2(k*m,w*s-S*k*y)))}},O}()}(te||(te={})),function(d){d.Wk=function(){function O(){}return O.tb=function(x,h,l,s,a,u,p,y,m){var w=new d.ga(0),S=new d.ga(0),k=[0,0,0],I=[0,0,0],A=[0,0,0],L=new d.ga(0),D=new d.ga(0),U=new d.ga(0),X=new d.ga(0),J=new d.ga(0);if(p!=null||y!=null||m!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,u,p,y,m);else{a=d.F.ba(a),l=d.F.ba(l);var B=d.F.ba(a-l);if(d.s.Y(s,u)&&(d.s.Y(l,a)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),m!=null&&(m.u=0);else{if(d.s.Y(s,-u)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(m!=null&&(m.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(B),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),m!=null&&(m.u=0))}else(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(u),1.570796326794897))&&(d.s.Y(d.s.P(s),1.570796326794897)?l=a:a=l);var Q=0;if(0>B){Q=1;var oe=l;l=a,a=oe,oe=s,s=u,u=oe}B=d.F.ot(h,s);var se=d.F.ot(h,u);y==null&&m==null||(d.Yg.tb(x,l,B,a,se,null,w,S),w=Math.atan2(Math.sin(w.u)*Math.cos(s-B),Math.cos(w.u)),S=Math.atan2(Math.sin(S.u)*Math.cos(u-se),Math.cos(S.u)),Q!=0&&(oe=w,w=S,S=oe),y!=null&&(y.u=w),m!=null&&(m.u=S)),p!=null&&(d.F.cl(1,h,s,l,0,U,X,J),k[0]=U.u,k[1]=X.u,k[2]=J.u,d.F.cl(1,h,u,a,0,U,X,J),I[0]=U.u,I[1]=X.u,I[2]=J.u,A[0]=k[1]*I[2]-I[1]*k[2],A[1]=-(k[0]*I[2]-I[0]*k[2]),A[2]=k[0]*I[1]-I[0]*k[1],h=1-d.F.w(h,d.F.Vq(h,d.F.Qj(h,Math.acos(A[2]/Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2]))))),h*=2-h,y=Math.atan2(-A[1],-A[0]),A=d.F.ba(y-1.570796326794897),y=d.F.ba(y+1.570796326794897),A=d.s.P(d.F.ba(l-A))<=d.s.P(d.F.ba(l-y))?A:y,d.Yg.tb(1,A,0,l,B,L,null,null),d.Yg.tb(1,A,0,a,se,D,null,null),3.141592653589793<L.u+D.u&&(A=d.F.ba(A+3.141592653589793),d.Yg.tb(1,A,0,l,B,L,null,null),d.Yg.tb(1,A,0,a,se,D,null,null)),L.u*=d.s.Mb(1,s),D.u*=d.s.Mb(1,u),L.u=d.F.Qj(h,L.u),D.u=d.F.Qj(h,D.u),l=d.F.q(x,h,L.u),x=d.F.q(x,h,D.u),p.u=d.s.P(x-l))}}},O.rf=function(x,h,l,s,a,u,p,y){var m=0,w=new d.ga(0),S=new d.ga(0),k=[0,0,0],I=[0,0,0],A=new d.ga(0),L=new d.ga(0),D=new d.ga(0);if(p!=null||y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,u,p,y);else if(d.s.Cd(a))p!=null&&(p.u=l),y!=null&&(y.u=s);else if(u=d.F.ba(u),0>a&&(a=d.s.P(a),u=d.F.ba(u+3.141592653589793)),l=d.F.ba(l),s=d.F.ba(s),1.570796326794897<d.s.P(s)&&(l=d.F.ba(l+3.141592653589793),s=d.s.Mb(3.141592653589793,s)-s),d.s.Y(d.s.P(s),1.570796326794897)&&(l=0),d.s.Cd(s)){var U=d.s.P(1.570796326794897-d.s.P(u));U=d.F.Qj(h,U),U=1-d.F.w(h,d.F.Vq(h,U)),U*=2-U,x=a/d.F.Ah(x,U)*1.570796326794897,x=d.F.Rq(U,x),x=d.F.ot(U,x),d.Yg.rf(1,l,s,x,u,p,w),y!=null&&(m=w.u),y!=null&&(y.u=d.F.Qj(h,m))}else if(d.s.Y(d.s.P(s),1.570796326794897))w=2*(m=d.F.Ah(x,h)),u=0<(x=d.s.Mb(1.570796326794897,s))?d.F.ba(3.141592653589793-u):u,s=m-a,d.s.P(s)<=m?p!=null&&(p.u=u):(s=Math.floor(a/w),d.O.truncate(s%2)==0?(p!=null&&(p.u=u),a-=s*w):(p!=null&&(p.u=d.F.ba(u+3.141592653589793)),a=(s+1)*w-a),s=m-a),y!=null&&(y.u=d.F.Rq(h,s/m*x));else{U=d.F.ot(h,s),u=Math.atan2(Math.sin(u),Math.cos(u)*Math.cos(s-U));var X=d.O.truncate(d.s.Mb(1,U))*(1.570796326794897>=d.s.P(u)?1:-1);u=d.F.ba(l+Math.atan(Math.tan(u)*-Math.sin(U))),d.Yg.tb(x,u,0,l,U,null,S,null),U=d.s.P(1.570796326794897-d.s.P(S.u)),U=d.F.Qj(h,U),U=1-d.F.w(h,d.F.Vq(h,U)),U*=2-U,d.F.cl(1,h,0,u,0,A,L,D),k[0]=A.u,k[1]=L.u,k[2]=D.u,d.F.cl(1,h,s,l,0,A,L,D),I[0]=A.u,I[1]=L.u,I[2]=D.u,s=Math.acos((k[0]*I[0]+k[1]*I[1]+k[2]*I[2])/Math.sqrt(I[0]*I[0]+I[1]*I[1]+I[2]*I[2])),s=d.F.Qj(U,s),a=0<(s=d.F.q(x,U,s)+a*X)?S.u:d.F.ba(S.u+3.141592653589793),x=d.s.P(s)/d.F.Ah(x,U)*1.570796326794897,x=d.F.Rq(U,x),x=d.F.ot(U,x),d.Yg.rf(1,u,0,x,a,p,w),y!=null&&(m=w.u),y!=null&&(y.u=d.F.Qj(h,m))}},O}()}(te||(te={})),function(d){d.cu=function(){function O(){}return O.tb=function(x,h,l,s,a,u,p,y,m){var w=0,S=0,k=0;if(p!=null||y!=null||m!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,u,p,y,m);else{var I=d.F.ba(a-l);if(d.s.Y(s,u)&&(d.s.Cd(I)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),m!=null&&(m.u=0);else{if(d.s.Y(s,-u)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(m!=null&&(m.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(I),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),m!=null&&(m.u=0))}else if(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(u),1.570796326794897)||d.s.Cd(I)||d.s.Y(d.s.P(I),3.141592653589793))return void d.Wk.tb(x,h,l,s,a,u,p,y,m);var A=1-Math.sqrt(1-h),L=h/(1-h),D=x*(1-A);x=d.F.Vq(h,s);var U=d.F.Vq(h,u);h=d.s.P(x)==1.570796326794897?0:Math.cos(x);var X=Math.sin(x),J=d.s.P(U)==1.570796326794897?0:Math.cos(U),B=Math.sin(U),Q=I,oe=Math.cos(Q),se=Math.sin(Q),ye=1,de=0;do{var Me=Q,Se=Math.sqrt(Math.pow(J*se,2)+Math.pow(h*B-X*J*oe,2)),xe=X*B+h*J*oe,ze=Math.atan2(Se,xe);if(Se==0){ye=0;break}var Ae=h*J*se/Se;if(w=Math.cos(Math.asin(Ae)),S=xe-2*X*B/(w*=w),1<d.s.P(S)&&(S=d.s.Mb(1,S)),Q=I+(1-(Q=A/16*w*(4+A*(4-3*w))))*A*Ae*(ze+Q*Se*(S+Q*xe*(2*(k=S*S)-1))),oe=Math.cos(Q),se=Math.sin(Q),de++,3.141592653589793<d.s.P(Q)&&30<de){ye=0;break}}while(5e3>=de&&!d.s.Y(Me,Q));if(ye!=0)A=(L*=w)*(256+L*(L*(74-47*L)-128))/1024,p!=null&&(p.u=D*(1+L*(4096+L*(L*(320-175*L)-768))/16384)*(ze-A*Se*(S+A/4*(xe*(2*k-1)-A/6*S*(4*Se*Se-3)*(4*k-3))))),y!=null&&(y.u=d.s.Y(d.s.P(s),1.570796326794897)?0>s?a:d.F.ba(3.141592653589793-a):Math.atan2(J*se,h*B-X*J*oe)),m!=null&&(d.s.Y(d.s.P(u),1.570796326794897)?m.u=0>u?l:d.F.ba(3.141592653589793-l):(m.u=Math.atan2(h*se,h*B*oe-X*J),m.u=d.F.ba(m.u+3.141592653589793)));else{Q=d.s.Mb(3.141592653589793,I),xe=X*B-h*J,ze=Math.acos(xe),Se=Math.sin(ze),w=1,de=Ae=0;do k=Ae,oe=1-.25*(Ae=A*(w*=w)*(1+A+A*A))+.1875*(S=A*A*(oe=w*w)*(1+2.25*A))-.1953125*(ye=A*A*A*oe*w),Ae=.25*Ae-.25*S+.29296875*ye,se=.03125*S-.05859375*ye,ye*=.00651041666666667,S=xe-2*X*B/w,1<d.s.P(S)&&(S=d.s.Mb(1,S)),w=Math.acos(S),xe=Math.cos(2*w),Me=Math.cos(3*w),se=(Ae=d.s.Y(s,-u)?d.F.ba(3.141592653589793-I)/(3.141592653589793*A*oe):d.F.ba(Q-I)/(A*(oe*ze+Ae*Se*S+se*Math.sin(2*ze)*xe+ye*Math.sin(3*ze)*Me)))*Se/(h*J),Q=1.570796326794897<d.s.P(I)?d.s.Mb(3.141592653589793,se)-Math.asin(se):Math.asin(se),oe=Math.cos(Q),Se=Math.sqrt(Math.pow(J*se,2)+Math.pow(h*B-X*J*oe,2)),ze=3.141592653589793-Math.asin(d.s.P(Se)),xe=Math.cos(ze),w=Math.cos(Math.asin(Ae)),de++;while(70>=de&&!d.s.Y(k,Ae));p!=null&&(oe=1+(L*=w*=w)*(4096+L*(L*(320-175*L)-768))/16384,d.s.Y(s,-u)?p.u=3.141592653589793*D*oe:(S=xe-2*X*B/w,w=Math.acos(S),xe=Math.cos(2*w),Me=Math.cos(3*w),p.u=D*(oe*ze+L*(L*(128+L*(35*L-60))-512)/2048*Se*S+L*(5*L-4)/6144*L*L*Math.sin(2*ze)*xe+ye*Math.sin(3*ze)*Me+-762939453125e-16*L*L*L*L*Math.sin(4*ze)*Math.cos(4*w)))),y!=null&&(d.s.Cd(s)&&d.s.Cd(u)?(w=Math.sqrt(1-Ae*Ae),y.u=Math.acos(w),0>I&&(y.u*=-1)):d.s.Y(d.s.P(s),1.570796326794897)?y.u=0>s?a:d.F.ba(3.141592653589793-a):(p=Ae/h,D=Math.sqrt(1-p*p),0>h*B-X*J*Math.cos(Q)&&(D*=-1),y.u=Math.atan2(p,D),d.s.Y(s,-u)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-A*Math.cos(s))&&(0<s&&1.570796326794897>d.s.P(y.u)||0>s&&1.570796326794897<d.s.P(y.u))&&(y.u=d.s.Mb(3.141592653589793,y.u)-y.u))),m!=null&&(d.s.Cd(s)&&d.s.Cd(u)?(w=Math.sqrt(1-Ae*Ae),m.u=Math.acos(w),0<=I&&(m.u*=-1)):d.s.Y(d.s.P(u),1.570796326794897)?m.u=0>u?l:d.F.ba(3.141592653589793-l):(I=Ae/J,p=Math.sqrt(1-I*I),D=Math.sin(Q/2),0>Math.sin(U-x)-2*h*B*D*D&&(p*=-1),m.u=Math.atan2(I,p),m.u=d.F.ba(m.u+3.141592653589793),d.s.Y(s,-u)&&!d.s.Cd(s)&&!d.s.Y(d.s.P(s),1.570796326794897)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-A*Math.cos(s))&&(y!=null?D=y.u:(p=Ae/h,D=Math.sqrt(1-p*p),0>h*B-X*J*Math.cos(Q)&&(D*=-1),D=Math.atan2(p,D),d.s.Y(s,-u)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-A*Math.cos(s))&&(0<s&&1.570796326794897>d.s.P(D)||0>s&&1.570796326794897<d.s.P(D))&&(D=d.s.Mb(3.141592653589793,D)-D)),1.570796326794897>=d.s.P(D)&&1.570796326794897<d.s.P(m.u)||1.570796326794897<=d.s.P(D)&&1.570796326794897>d.s.P(m.u))&&(m.u=-1*d.F.ba(m.u+3.141592653589793))))}}}},O.rf=function(x,h,l,s,a,u,p,y){if(p!=null||y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,u,p,y);else if(u=d.F.ba(u),d.s.Y(d.s.P(s),1.570796326794897)||d.s.Cd(u)||d.s.Y(d.s.P(u),3.141592653589793))d.Wk.rf(x,h,l,s,a,u,p,y);else{var m=d.s.P(u)==1.570796326794897?0:Math.cos(u),w=d.s.P(u)==3.141592653589793?0:Math.sin(u);d.s.Y(d.s.P(s),1.570796326794897)&&(l=0),u=1-Math.sqrt(1-h);var S=d.F.Vq(h,s);s=d.s.P(S)==1.570796326794897?0:Math.cos(S);var k=Math.sin(S);S=Math.atan2(Math.tan(S),m);var I=s*w,A=I*I,L=1-A,D=h/(1-h)*L,U=(h=D*(256+D*(D*(74-47*D)-128))/1024)/4,X=h/6,J=a/(x*(1-u)*(1+D*(4096+D*(D*(320-175*D)-768))/16384)),B=J;do{var Q=B;a=d.s.P(B)==1.570796326794897?0:Math.cos(B);var oe=(D=d.s.P(B)==3.141592653589793?0:Math.sin(B))*D;B=h*D*((x=Math.cos(2*S+B))+U*(a*(2*(B=x*x)-1)-X*x*(4*oe-3)*(4*B-3)))+J}while(!d.s.Y(Q,B));a=d.s.P(B)==1.570796326794897?0:Math.cos(B),D=d.s.P(B)==3.141592653589793?0:Math.sin(B),p!=null&&(w=Math.atan2(D*w,s*a-k*D*m),L=u/16*L*(4+u*(4-3*L)),x=Math.cos(2*S+B),p.u=d.F.ba(l+(w-(1-L)*u*I*(B+L*D*(x+L*a*(2*x*x-1)))))),y!=null&&(L=k*D-s*a*m,L=(1-u)*Math.sqrt(A+L*L),y.u=Math.atan2(k*a+s*D*m,L))}},O}()}(te||(te={})),function(d){d.PC=function(){function O(){}return O.tb=function(x,h,l,s,a,u,p,y,m){var w=d.F.ba(a-l),S=d.s.Y(d.s.P(s),1.570796326794897),k=d.s.Y(d.s.P(u),1.570796326794897);if(d.s.Y(s,u)&&(d.s.Cd(w)||S))p!=null&&(p.u=0),y!=null&&(y.u=0),m!=null&&(m.u=0);else{if(d.s.ti(h)){var I=Math.sin(s),A=Math.sin(u);I=Math.sqrt((1+I)/(1-I)),A=Math.sqrt((1+A)/(1-A)),I=Math.log(A)-Math.log(I),I=Math.atan2(w,I),p!=null&&(p.u=d.s.Y(s,u)?d.s.P(x*Math.cos(s)*w):d.s.P((x*u-x*s)/Math.cos(I)))}else A=d.F.Qw(h,u),I=Math.sin(d.F.Qw(h,s)),A=Math.sin(A),I=Math.sqrt((1+I)/(1-I)),A=Math.sqrt((1+A)/(1-A)),I=Math.log(A)-Math.log(I),I=Math.atan2(w,I),p!=null&&(d.s.Y(s,u)?p.u=d.s.P(x*w*Math.cos(s)/d.F.w(h,s)):(w=d.F.q(x,h,s),x=d.F.q(x,h,u),p.u=d.s.P((x-w)/Math.cos(I))));y==null&&m==null||(p=d.F.ba(I+3.141592653589793),S&&k||!S&&!k||(S?I=0>s?a:d.F.ba(3.141592653589793-a):k&&(p=0>u?l:d.F.ba(3.141592653589793-l))),y!=null&&(y.u=I),m!=null&&(m.u=p))}},O.rf=function(x,h,l,s,a,u,p,y){u=d.F.ba(u),0>a&&(a=d.s.P(a),u=d.F.ba(u+3.141592653589793)),d.s.ti(h)?d.s.Y(d.s.P(s),1.570796326794897)?(l=0>s?u:d.F.ba(3.141592653589793-u),3.141592653589793>=(u=a/x%6.283185307179586)?x=s-d.s.Mb(u,s):(l=d.F.ba(l+3.141592653589793),x=-s+d.s.Mb(u-3.141592653589793,s))):d.s.Y(d.s.P(u),1.570796326794897)?(l=d.F.ba(l+d.s.Mb(a,u)/(x*Math.cos(s))),x=s):(x=s+a*Math.cos(u)/x,1.570796326794897<d.s.P(x)&&(x=1.570796326794897),d.s.Y(d.s.P(x),1.570796326794897)&&(d.s.Cd(u)||d.s.Y(d.s.P(u),3.141592653589793))||(1.570796316258184<d.s.P(x)&&(x=d.s.Mb(1.570796316258184,x)),h=Math.sin(s),s=Math.sin(x),h=Math.sqrt((1+h)/(1-h)),s=Math.sqrt((1+s)/(1-s)),h=Math.log(s)-Math.log(h),l=d.F.ba(l+Math.tan(u)*h))):d.s.Y(d.s.P(s),1.570796326794897)?(l=0>s?u:d.F.ba(3.141592653589793-u),u=a/d.F.qW(x,h),3.141592653589793>=(u%=6.283185307179586)?x=s-d.s.Mb(u,s):(l=d.F.ba(l+3.141592653589793),x=-s+d.s.Mb(u-3.141592653589793,s)),x=d.F.Rq(h,x)):d.s.Y(d.s.P(u),1.570796326794897)?(l=d.F.ba(l+d.s.Mb(a,u)*d.F.w(h,s)/(x*Math.cos(s))),x=s):(x=1.570796326794897*(a*Math.cos(u)+d.F.q(x,h,s))/d.F.Ah(x,h),1.570796326794897<d.s.P(x)&&(x=d.s.Mb(1.570796326794897,x)),x=d.F.Rq(h,x),d.s.Y(d.s.P(x),1.570796326794897)&&(d.s.Cd(u)||d.s.Y(d.s.P(u),3.141592653589793))||(a=d.F.Qw(h,s),s=d.F.Qw(h,x),1.570796316258184<d.s.P(s)&&(s=d.s.Mb(1.570796316258184,x),x=d.F.yO(h,s)),h=Math.sin(a),s=Math.sin(s),h=Math.sqrt((1+h)/(1-h)),s=Math.sqrt((1+s)/(1-s)),h=Math.log(s)-Math.log(h),l=d.F.ba(l+Math.tan(u)*h))),p!=null&&(p.u=l),y!=null&&(y.u=x)},O}()}(te||(te={})),function(d){d.kb=function(){function O(){}return O.Xy=function(x,h,l,s,a,u,p){d.cu.tb(x,h,l,s,a,u,null,p,null)},O.yi=function(x,h,l,s,a,u,p,y){d.cu.rf(x,h,l,s,a,u,p,y)},O.wd=function(x,h,l,s,a,u,p,y,m,w){switch(w){case 2:d.Wk.tb(x,h,l,s,a,u,p,y,m);break;case 3:d.QC.tb(x,h,l,s,a,u,p,y,m);break;case 1:d.PC.tb(x,h,l,s,a,u,p,y,m);break;default:d.cu.tb(x,h,l,s,a,u,p,y,m)}},O.oj=function(x,h,l,s,a,u,p,y,m){switch(m){case 2:d.Wk.rf(x,h,l,s,a,u,p,y);break;case 3:d.QC.rf(x,h,l,s,a,u,p,y);break;case 1:d.PC.rf(x,h,l,s,a,u,p,y);break;default:d.cu.rf(x,h,l,s,a,u,p,y)}},O}()}(te||(te={})),function(d){var O=function(){function h(){this.y=this.x=null}return h.construct=function(l){var s=new h;return s.x=new d.Wb,s.x.set(l.x),s.y=new d.Wb,s.y.set(l.y),s},h.VE=function(l,s){var a=new h;return a.x=new d.Wb,a.x.set(l),a.y=new d.Wb,a.y.set(s),a},h.prototype.qg=function(){return this.x.qg()&&this.y.qg()},h.prototype.value=function(){return d.h.construct(this.x.value(),this.y.value())},h}();d.vY=O;var x=function(){function h(){this.z=this.y=this.x=null}return h.construct=function(l){var s=new h;return s.x=new d.Wb,s.x.set(l.x),s.y=new d.Wb,s.y.set(l.y),s.z=new d.Wb,s.z.set(l.z),s},h.VE=function(l,s,a){var u=new h;return u.x=new d.Wb,u.x.set(l),u.y=new d.Wb,u.y.set(s),u.z=new d.Wb,u.z.set(a),u},h.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},h.prototype.value=function(){return new d.Nd(this.x.value(),this.y.value(),this.z.value())},h.prototype.Qh=function(l){var s=new d.Wb,a=new d.Wb,u=new d.Wb;return s.Kl(this.x,l.x),a.Kl(this.y,l.y),u.Kl(this.z,l.z),(l=new d.Wb).dN(s,a),l.add(u),l},h.prototype.cF=function(l){var s=new h;s.x.Kl(this.y,l.z),s.y.Kl(this.z,l.x),s.z.Kl(this.x,l.y);var a=new d.Wb,u=new d.Wb,p=new d.Wb;return a.Kl(this.z,l.y),u.Kl(this.x,l.z),p.Kl(this.y,l.x),s.x.sub(a),s.y.sub(u),s.z.sub(p),s},h}();d.wY=x,d.Ox=function(){function h(){}return h.EP=function(l,s,a){var u=s.x;s=s.y,h.cl(1,l,Math.cos(u),Math.sin(u),Math.cos(s),Math.sin(s),a)},h.DP=function(l,s){var a=new d.Nd;return h.EP(l,s,a),a},h.cl=function(l,s,a,u,p,y,m){l/=Math.sqrt(1-s*y*y),m.K(l*p*a,l*p*u,l*(1-s)*y)},h.Yu=function(l,s){var a=new d.Wb,u=new d.Wb,p=new d.Wb,y=new d.Wb;a.cos(s.x),u.sin(s.x),p.cos(s.y),y.sin(s.y);var m=new d.Wb;return m.set(y),m.Ag(y),m.No(l),m.No(-1),m.kN(),m.sqrt(),(s=new d.Wb).set(1),s.jm(m),(m=new d.Wb).set(s),m.Ag(p),m.Ag(a),(a=new d.Wb).set(s),a.Ag(p),a.Ag(u),(u=new d.Wb).set(s),u.No(1-l),u.Ag(y),x.VE(m,a,u)},h.SS=function(l,s,a,u){if(Math.abs(s.x-a.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&s.x!=a.x)return NaN;if(u=h.cB(u,Math.min(s.x,a.x),Math.max(s.x,a.x)),!new d.Nc(s.x,a.x).contains(u))return NaN;var p=O.construct(s);if(a=O.construct(a),p=h.Yu(l,p),a=h.Yu(l,a),(a=p.cF(a)).z.qg())return s.y;var y=new d.Wb;y.set(a.x),y.jm(a.z),y.No(-1);var m=new d.Wb;m.set(a.y),m.jm(a.z),m.No(-1);var w=new d.Wb;return w.set(m),w.Ag(m),(p=new d.Wb).set(y),p.Ag(y),p.add(w),p.sqrt(),p.qg()||y.qg()&&m.qg()?s.y:(s=Math.atan2(m.value(),y.value()),s=Math.atan2(p.value()*Math.cos(s-u),1-l),u=h.DP(l,d.h.construct(u,s)),l=new d.Nd(u.x,u.y,-u.z),u=a.value().Qh(u),l=a.value().Qh(l),Math.abs(l)<Math.abs(u)&&(s=-s),s)},h.Oz=function(l,s,a,u,p){if(p[0]=NaN,p[1]=NaN,Math.abs(s.x-a.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&s.x!=a.x||Math.abs(u)>=.5*Math.PI||0<s.y&&0<a.y&&s.y>u&&a.y>u||0>s.y&&0>a.y&&s.y<u&&a.y<u)return 0;var y=O.construct(s),m=O.construct(a);y=h.Yu(l,y),m=h.Yu(l,m);var w=y.cF(m);if(w.z.qg())return new d.Nc(s.y,a.y).contains(u)?(p[0]=s.x,1):0;(m=new d.Wb).set(w.x),m.jm(w.z),m.No(-1),(y=new d.Wb).set(w.y),y.jm(w.z),y.No(-1),(w=new d.Wb).set(y),w.Ag(y);var S=new d.Wb;return S.set(m),S.Ag(m),S.add(w),S.sqrt(),S.qg()||m.qg()&&y.qg()?u==0?(p[0]=s.x,p[1]=a.x,2):0:(l=(1-l)*Math.tan(u)/S.value(),1<Math.abs(l)?0:(l=Math.acos(l),w=Math.atan2(y.value(),m.value()),m=Math.min(s.x,a.x),y=Math.max(s.x,a.x),a=h.cB(w-l,m,y),l=u!=0?h.cB(w+l,m,y):a,u=0,m<=a&&a<=y&&(p[u]=a,u++),l!=a&&m<=l&&l<=y&&(p[u]=l,++u==2&&Math.abs(p[0]-s.x)>Math.abs(p[1]-s.x)&&(s=p[0],p[0]=p[1],p[1]=s)),u))},h.cB=function(l,s,a){return l>a?l-=2*(s=Math.ceil((l-a)/(2*Math.PI)))*Math.PI:l<s&&(l+=2*(s=Math.ceil((s-l)/(2*Math.PI)))*Math.PI),l},h}()}(te||(te={})),function(d){d.XK=function(){function O(){}return O.$X=function(x,h){var l=8,s=[0,0,0,0],a=new d.h;a.L(h),a.scale(d.cb.sc(x).Hd().Ec()==9102?1:d.cb.sc(x).Hd().ai/3.141592653589793*180),-180>a.x?(a.x-=a.x%360,-180>a.x&&(a.x+=360)):180<a.x&&(a.x-=a.x%360,180<a.x&&(a.x-=360)),90<a.y&&(a.y=90),-90>a.y&&(a.y=-90);for(var u=-180,p=180,y=(x=5*l)-1,m=(h=(x+31)/32)-1;0<=m;m--)for(var w=y-32*m,S=Math.min(32,x-32*m),k=1;k<S;k+=2){var I=.5*(p+u);a.x>=I?(s[m]|=1<<w,u=I):p=I,w-=2,y-=2}for(u=-90,p=90,y=x-2,m=h-1;0<=m;m--)for(w=y-32*m,S=Math.min(32,x-32*m),k=0;k<S;k+=2)I=.5*(p+u),a.y>=I?(s[m]|=1<<w,u=I):p=I,w-=2,y-=2;return O.$P(s,l,l)},O.$P=function(x,h,l){for(var s=[],a=0;a<h;a++)s[a]="";for(var u=a=0,p=0;p<h;p++){var y=x[a]>>u&31;if(31<(u+=5)){var m=37-u;y&=(1<<m)-1,u-=32,y|=(x[++a]&(1<<u)-1)<<m}s[h-1-p]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[y]}if(l>h)for(p=0;p<l-h;p++)s.push("0");else l<h&&(s.length=l);return s.join("")},O}()}(te||(te={})),function(d){var O={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},x={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};d.wr=function(){function h(){}return h.Sy=function(l){h.xp===!1&&h.yt();var s=h.FQ(l);if(s==-1){var a=h.Bx(l);a!=l&&(s=h.Sy(a))}return s==-1&&(a=h.FK(l))!=l&&(s=h.Sy(a)),s},h.FQ=function(l){return h.Fw[l]!==void 0?h.Fw[l]:-1},h.CQ=function(l){h.xp===!1&&h.yt();var s=h.nF(l);if(s==1e38){var a=h.Bx(l);if(a!=l&&(s=h.nF(a)),s==1e38)return 1e-10}return s},h.ZS=function(l){if(h.Is[l]!==void 0)return!0;var s=h.Bx(l);return s!=l&&h.Is[s]!==void 0},h.aT=function(l){if(h.xo[l]!==void 0)return!0;var s=h.Bx(l);return s!=l&&h.xo[s]!==void 0},h.nF=function(l){return h.xp===!1&&h.yt(),h.Is[l]!==void 0?h.Is[l]:h.xo[l]!==void 0?h.xo[l]:1e38},h.FK=function(l){return h.xp===!1&&h.yt(),h.WA[l]!==void 0?h.WA[l]:l},h.Bx=function(l){return h.xp===!1&&h.yt(),h.XA[l]!==void 0?h.XA[l]:l},h.yt=function(){for(var l,s=O,a=0;a<s.pcsid.length;a+=2)h.xo[s.pcsid[a]]=s.pcstol[2*s.pcsid[a+1]+1];for(a=0;a<s.pcsidc.length;a+=1)for(var u=(l=s.pcsidc[a])[0];u<=l[1];u++)h.xo[u]=s.pcstol[2*l[2]+1];for(a=0;a<s.gcsid.length;a+=2)h.Is[s.gcsid[a]]=s.gcstol[2*s.gcsid[a+1]+1];for(a=0;a<s.gcsidc.length;a+=1)for(u=(l=s.gcsidc[a])[0];u<=l[1];u++)h.xo[u]=s.gcstol[2*l[2]+1];for(a=0;a<x.c.length;a+=1)for(u=(l=x.c[a])[0];u<=l[1];u++)h.Fw[u]=l[2];for(a=0;a<x.nc.length;a+=2)h.Fw[x.nc[a]]=x.nc[a+1];for(x=null,a=0;a<s.newtoold.length;a+=2)h.WA[s.newtoold[a+1]]=s.newtoold[a],h.XA[s.newtoold[a]]=s.newtoold[a+1];O=null,h.xp=!0},h.xp=!1,h.Is=[],h.xo=[],h.WA=[],h.XA=[],h.Fw=[],h}()}(te||(te={})),function(d){function O(h){return h.length===0?'""':h[0]=='"'||h[0]=="."||"0"<=h[0]&&"9">=h[0]?h:'"'+h.trim()+'"'}var x=[];d.XC=function(){function h(){}return h.EQ=function(l){try{for(var s=0;s<x.length;s++)if(x[s].wkttext===l)return x[s].unit;for(var a,u=s="",p=!1,y=0;y<l.length;y++){var m=l[y];p===!0?m=='"'?l[y+1]=='"'?s+=m:p=p=!1:s+=m:/[\s]/.test(m)||(m==","?(u=s!==""?u+(O(s)+","):u+",",s=""):m==")"||m=="]"?(u=s!==""?u+(O(s)+"]}"):u+"]}",s=""):m=="("||m=="["?(u+='{ "entity": "'+s.toUpperCase().trim()+'", "values":[',s=""):m=='"'?(p=!0,s=""):s+=m)}a=JSON.parse(u);var w=h.mF(a);if(w===null)return null;for(a=null,m=0;m<w.values.length;m++)if(typeof w.values[m]=="object"&&(w.values[m].entity==="UNIT"||w.values[m].entity==="ANGLEUNIT"||w.values[m].entity==="LENGTHUNIT")){a=w.values[m];break}if(a===null)return null;var S=d.Tc.ZO(w.entity==="GEOGCS"||w.entity==="GEOGCRS"?1:0,a.values[1],a.values[2]);return x.push({wkttext:l,unit:S}),10<x.length&&x.shift(),S}catch{return null}},h.mF=function(l){if(l===null)return null;switch(l.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return l}for(var s=[],a=0;a<l.values.length;a++)if(typeof l.values[a]=="object"&&l.values[a].entity!==void 0)switch(l.values[a].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return l.values[a];default:s.push(l.values[a])}for(l=0;l<s.length;l++)if((a=h.mF(s[l]))!==null)return a;return null},h.DQ=function(l){var s=-1;if(l!=null&&0<l.length){var a=l.search(/PROJCR?S/);if(0<=a){var u=0;if(0<=(a=l.lastIndexOf("UNIT"))&&0<(a=l.indexOf(",",a+4))){a++;var p=l.indexOf("]",a+1);if(0<p)try{u=parseFloat(l.substring(a,p))}catch{u=0}}0<u&&(s=.001/u)}else if(0<=(a=l.search(/GEOGCR?S/))){var y=0;if(u=0,(a=l.indexOf("SPHEROID",a+6))===-1&&(a=l.indexOf("ELLIPSOID",a+7)),0<a&&0<(a=l.indexOf(",",a+8))){if(a++,0<(p=l.indexOf(",",a+1)))try{y=parseFloat(l.substring(a,p))}catch{y=0}if(0<y&&((a=l.lastIndexOf("ANGLEUNIT",p+1))===-1&&(a=l.lastIndexOf("UNIT",p+1)),0<=a&&0<(a=l.indexOf(",",a+4))&&(a++,0<(p=l.indexOf("]",a+1)))))try{u=parseFloat(l.substring(a,p))}catch{u=0}}0<y&&0<u&&(s=.001/(y*u))}}return s},h}()}(te||(te={})),function(d){var O;(O=d.eL||(d.eL={}))[O.NONE=0]="NONE",O[O.LINEAR=1]="LINEAR",O[O.ANGULAR=2]="ANGULAR",function(h){h[h.enumFloat=0]="enumFloat",h[h.enumDouble=1]="enumDouble",h[h.enumInt32=2]="enumInt32",h[h.enumInt64=3]="enumInt64",h[h.enumInt8=4]="enumInt8",h[h.enumInt16=5]="enumInt16"}(d.QL||(d.QL={})),function(h){h[h.POSITION=0]="POSITION",h[h.Z=1]="Z",h[h.M=2]="M",h[h.ID=3]="ID",h[h.NORMAL=4]="NORMAL",h[h.TEXTURE1D=5]="TEXTURE1D",h[h.TEXTURE2D=6]="TEXTURE2D",h[h.TEXTURE3D=7]="TEXTURE3D",h[h.ID2=8]="ID2",h[h.MAXSEMANTICS=10]="MAXSEMANTICS"}(d.Ih||(d.Ih={}));var x=function(){function h(l,s){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,s!==void 0){for(this.Aa=s.Aa,this.Oq=s.Oq,this.bg=s.bg.slice(0),this.uh=s.uh.slice(0),this.wl=s.wl,this.Vs=[],l=s=0;l<this.Aa;l++)this.Vs[l]=s,s+=h.Va(this.bg[l]);for(this.Oq=s,this.Ae=[],l=0;l<this.Aa;l++){s=h.Va(this.kd(l));for(var a=h.se(this.kd(l)),u=0;u<s;u++)this.Ae[this.Vs[l]+u]=a}}else this.Oq=this.Aa=0}return h.prototype.kd=function(l){if(0>l||l>this.Aa)throw d.i.N();return this.bg[l]},h.prototype.Pf=function(l){return this.uh[l]},h.lz=function(l){return h.JM[l]},h.Tp=function(l){return h.SM[l]},h.Va=function(l){return h.rM[l]},h.prototype.hasAttribute=function(l){return 0<=this.uh[l]},h.prototype.iG=function(){return this.hasAttribute(1)},h.se=function(l){return h.eD[l]},h.prototype.LR=function(l){return this.Vs[l]},h.DG=function(l,s){return h.eD[l]===s},h.prototype.Nb=function(l){return this===l},h.prototype.An=function(){for(var l=d.O.Th(this.bg[0]),s=1;s<this.Aa;s++)l=d.O.Th(this.bg[s],l);return l},h.prototype.$j=function(l){return this.Vs[l]},h.prototype.cc=function(){return this.wl},h.prototype.Ed=function(l){return this.bg[l]},h.eD=[0,0,NaN,0,0,0,0,0,0],h.JM=[1,1,1,0,2,1,1,1,0],h.SM=[1,1,1,2,0,0,0,0,2],h.rM=[2,1,1,1,3,1,2,3,2],h}();d.ra=x}(te||(te={})),function(d){function O(p,y,m){var w=y-(p=new u(p)).e,S=p.c;for(S.length>++y&&x(p,w,u.eu),S[0]?m?w=y:(S=p.c,w=p.e+w+1):++w;S.length<w;S.push(0));return w=p.e,m===1||m&&(y<=w||w<=l)?(0>p.Bd&&S[0]?"-":"")+(1<S.length?S[0]+"."+S.join("").slice(1):S[0])+(0>w?"e":"e+")+w:p.toString()}function x(p,y,m,w){var S=p.c,k=p.e+y+1;if(m===1?w=5<=S[k]:m===2?w=5<S[k]||S[k]==5&&(w||0>k||S[k+1]!==void 0||1&S[k-1]):m===3?w=w||S[k]!==void 0||0>k:(w=!1,m!==0&&h("!Big.RM!")),1>k||!S[0])w?(p.e=-y,p.c=[1]):p.c=[p.e=0];else{if(S.length=k--,w)for(;9<++S[k];)S[k]=0,k--||(++p.e,S.unshift(1));for(k=S.length;!S[--k];S.pop());}return p}function h(p){throw(p=Error(p)).name="BigError",p}var l=-7,s=21,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,u=function(){function p(y){if(y instanceof p)this.Bd=y.Bd,this.e=y.e,this.c=y.c.slice();else{var m,w,S;for(y===0&&0>1/y?y="-0":a.test(y+="")||h(NaN),this.Bd=y.charAt(0)=="-"?(y=y.slice(1),-1):1,-1<(m=y.indexOf("."))&&(y=y.replace(".","")),0<(w=y.search(/e/i))?(0>m&&(m=w),m+=+y.slice(w+1),y=y.substring(0,w)):0>m&&(m=y.length),w=0;y.charAt(w)=="0";w++);if(w==(S=y.length))this.c=[this.e=0];else{for(;y.charAt(--S)=="0";);for(this.e=m-w-1,this.c=[],m=0;w<=S;this.c[m++]=+y.charAt(w++));}}}return p.prototype.abs=function(){var y=new p(this);return y.Bd=1,y},p.prototype.cmp=function(y){var m=this.c,w=(y=new p(y)).c,S=this.Bd,k=y.Bd,I=this.e,A=y.e;if(!m[0]||!w[0])return m[0]?S:w[0]?-k:0;if(S!=k)return S;if(y=0>S,I!=A)return I>(A^y)?1:-1;for(S=-1,k=(I=m.length)<(A=w.length)?I:A;++S<k;)if(m[S]!=w[S])return m[S]>(w[S]^y)?1:-1;return I==A?0:I>(A^y)?1:-1},p.prototype.jm=function(y){var m=this.c,w=(y=new p(y)).c,S=this.Bd==y.Bd?1:-1,k=p.rr;if((k!==~~k||0>k||1e6<k)&&h("!Big.DP!"),!m[0]||!w[0])return m[0]==w[0]&&h(NaN),w[0]||h(S/0),new p(0*S);var I,A,L=w.slice(),D=I=w.length,U=m.length,X=m.slice(0,I),J=X.length,B=y,Q=B.c=[],oe=0,se=k+(B.e=this.e-y.e)+1;for(B.Bd=S,S=0>se?0:se,L.unshift(0);J++<I;X.push(0));do{for(A=0;10>A;A++){if(I!=(J=X.length))var ye=I>J?1:-1;else{var de=-1;for(ye=0;++de<I;)if(w[de]!=X[de]){ye=w[de]>X[de]?1:-1;break}}if(!(0>ye))break;for(y=J==I?w:L;J;){if(X[--J]<y[J]){for(de=J;de&&!X[--de];X[de]=9);--X[de],X[J]+=10}X[J]-=y[J]}for(;!X[0];X.shift());}Q[oe++]=ye?A:++A,X[0]&&ye?X[J]=m[D]||0:X=[m[D]]}while((D++<U||X[0]!==void 0)&&S--);return Q[0]||oe==1||(Q.shift(),B.e--),oe>se&&x(B,k,p.eu,X[0]!==void 0),B},p.prototype.fS=function(){return 0<this.cmp(0)},p.prototype.nT=function(){return 0>this.cmp(0)},p.prototype.jt=function(y){var m,w=this.Bd,S=(y=new p(y)).Bd;if(w!=S)return y.Bd=-S,this.tI(y);var k=this.c.slice(),I=this.e,A=y.c,L=y.e;if(!k[0]||!A[0])return A[0]?(y.Bd=-S,y):new p(k[0]?this:0);if(w=I-L){for((m=0>w)?(w=-w,I=k):(L=I,I=A),I.reverse(),S=w;S--;I.push(0));I.reverse()}else for(I=((m=k.length<A.length)?k:A).length,w=S=0;S<I;S++)if(k[S]!=A[S]){m=k[S]<A[S];break}if(m&&(I=k,k=A,A=I,y.Bd=-y.Bd),0<(S=(I=A.length)-(m=k.length)))for(;S--;k[m++]=0);for(S=m;I>w;){if(k[--I]<A[I]){for(m=I;m&&!k[--m];k[m]=9);--k[m],k[I]+=10}k[I]-=A[I]}for(;k[--S]==0;k.pop());for(;k[0]==0;)k.shift(),--L;return k[0]||(y.Bd=1,k=[L=0]),y.c=k,y.e=L,y},p.prototype.tI=function(y){var m=this.Bd,w=(y=new p(y)).Bd;if(m!=w)return y.Bd=-w,this.jt(y);w=this.e;var S=this.c,k=y.e,I=y.c;if(!S[0]||!I[0])return I[0]?y:new p(S[0]?this:0*m);if(S=S.slice(),m=w-k){for(0<m?(k=w,w=I):(m=-m,w=S),w.reverse();m--;w.push(0));w.reverse()}for(0>S.length-I.length&&(w=I,I=S,S=w),m=I.length,w=0;m;)w=(S[--m]=S[m]+I[m]+w)/10|0,S[m]%=10;for(w&&(S.unshift(w),++k),m=S.length;S[--m]==0;S.pop());return y.c=S,y.e=k,y},p.prototype.pow=function(y){var m=this,w=new p(1),S=w,k=0>y;for((y!==~~y||-1e6>y||1e6<y)&&h("!pow!"),y=k?-y:y;1&y&&(S=S.lr(m)),y>>=1;)m=m.lr(m);return k?w.jm(S):S},p.prototype.round=function(y,m){var w=this;return y==null?y=0:(y!==~~y||0>y||1e6<y)&&h("!round!"),x(w=new p(w),y,m??p.eu),w},p.prototype.sqrt=function(){var y=this.c,m=this.Bd,w=this.e,S=new p("0.5");if(!y[0])return new p(this);0>m&&h(NaN),(m=Math.sqrt(this.toString()))==0||m==1/0?((m=y.join("")).length+w&1||(m+="0"),(y=new p(Math.sqrt(m).toString())).e=((w+1)/2|0)-(0>w||1&w)):y=new p(m.toString()),m=y.e+(p.rr+=4);do w=y,y=S.lr(w.tI(this.jm(w)));while(w.c.slice(0,m).join("")!==y.c.slice(0,m).join(""));return x(y,p.rr-=4,p.eu),y},p.prototype.lr=function(y){var m=this.c,w=(y=new p(y)).c,S=m.length,k=w.length,I=this.e,A=y.e;if(y.Bd=this.Bd==y.Bd?1:-1,!m[0]||!w[0])return new p(0*y.Bd);if(y.e=I+A,S<k){var L=m;m=w,w=L,A=S,S=k,k=A}for(L=Array(A=S+k);A--;L[A]=0);for(I=k;I--;){for(k=0,A=S+I;A>I;)k=L[A]+w[I]*m[A-I-1]+k,L[A--]=k%10,k=k/10|0;L[A]=(L[A]+k)%10}for(k&&++y.e,L[0]||L.shift(),I=L.length;!L[--I];L.pop());return y.c=L,y},p.prototype.toString=function(){var y=this.e,m=this.c.join(""),w=m.length;if(y<=l||y>=s)m=m.charAt(0)+(1<w?"."+m.slice(1):"")+(0>y?"e":"e+")+y;else if(0>y){for(;++y;m="0"+m);m="0."+m}else if(0<y)if(++y>w)for(y-=w;y--;m+="0");else y<w&&(m=m.slice(0,y)+"."+m.slice(y));else 1<w&&(m=m.charAt(0)+"."+m.slice(1));return 0>this.Bd&&this.c[0]?"-"+m:m},p.prototype.toExponential=function(y){return y==null?y=this.c.length-1:(y!==~~y||0>y||1e6<y)&&h("!toExp!"),O(this,y,1)},p.prototype.toFixed=function(y){var m=l,w=s;if(l=-(s=1/0),y==null)var S=this.toString();else y===~~y&&0<=y&&1e6>=y&&(S=O(this,this.e+y),0>this.Bd&&this.c[0]&&0>S.indexOf("-")&&(S="-"+S));return l=m,s=w,S||h("!toFix!"),S},p.prototype.toPrecision=function(y){return y==null?this.toString():((y!==~~y||1>y||1e6<y)&&h("!toPre!"),O(this,y-1,2))},p.rr=20,p.eu=1,p}();d.hp=u}(te||(te={})),function(d){var O=function(){function x(h){this.lf=h}return x.prototype.nr=function(h,l,s){var a=new d.h,u=new d.h,p=this.lf;s.Vd(h,l,function(y,m){return p.tc(2*y,a),p.tc(2*m,u),a.compare(u)})},x.prototype.$p=function(h){return this.lf.read(2*h+1)},x}();d.pi=function(){function x(){}return x.aq=function(h){if(h.B())return!1;var l=h.getType();return l==1736?h.Ke()!=0:l==1607?(l=[!1],x.sE(h,!0,l),l[0]):!(l!=197&&(!d.aa.yd(l)||h.BG()))},x.gm=function(h){var l=h.getType();if(l==1736)return l=new d.Ta(h.description),h.B()||h.dD(l),l;if(l==1607)return x.sE(h,!1,null);if(l==197)return l=new d.Ta(h.description),h.B()||l.ad(h,!1),l;if(d.aa.yd(l)){if(l=new d.de(h.description),!h.B()&&!h.BG()){var s=new d.Sa;h.To(s),l.add(s),h.Po(s),l.add(s)}return l}if(d.aa.Rn(l))return null;throw d.i.N()},x.sE=function(h,l,s){s!=null&&(s[0]=!1);var a=null;if(l||(a=new d.de(h.description)),!h.B()){var u=new d.ia(0);u.Jb(2*h.da());for(var p=0,y=h.da();p<y;p++)if(0<h.Ja(p)&&!h.Nn(p)){var m=h.Ba(p);u.add(m),m=h.Vc(p)-1,u.add(m)}if(0<u.size){y=new d.Xt,p=h.ub(0),y.sort(u,0,u.size,new O(p)),y=new d.h,p.tc(2*u.get(0),y),m=0;for(var w=1,S=new d.Sa,k=new d.h,I=1,A=u.size;I<A;I++)if(p.tc(2*u.get(I),k),k.qb(y))u.get(m)>u.get(I)?(u.set(m,2147483647),m=I):u.set(I,2147483647),w++;else{if(1&w){if(l)return s!=null&&(s[0]=!0),null}else u.set(m,2147483647);y.L(k),m=I,w=1}if(1&w){if(l)return s!=null&&(s[0]=!0),null}else u.set(m,2147483647);if(!l)for(u.Vd(0,u.size,function(L,D){return L-D}),I=0,A=u.size;I<A&&u.get(I)!=2147483647;I++)h.ve(u.get(I),S),a.add(S)}}return l?null:a},x}()}(te||(te={})),function(d){var O=function(){function x(){this.yf=new d.ia(0),this.ys=new d.ia(0),this.EH=1,this.Es=NaN}return x.prototype.sort=function(h,l,s,a){if(32>s-l)a.nr(l,s,h);else{var u=!0;try{for(var p=1/0,y=-1/0,m=l;m<s;m++){var w=a.$p(h.get(m));w<p&&(p=w),w>y&&(y=w)}if(this.reset(s-l,p,y,s-l)){for(m=l;m<s;m++){var S=h.get(m);w=a.$p(S);var k=this.zF(w);this.yf.set(k,this.yf.get(k)+1),this.ys.write(m-l,S)}var I=this.yf.get(0);this.yf.set(0,0),m=1;for(var A=this.yf.size;m<A;m++){var L=this.yf.get(m);this.yf.set(m,I),I+=L}for(m=l;m<s;m++){S=this.ys.read(m-l),w=a.$p(S),k=this.zF(w);var D=this.yf.get(k);h.set(D+l,S),this.yf.set(k,D+1)}u=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(u)a.nr(l,s,h);else{for(m=s=0,A=this.yf.size;m<A;m++)u=s,(s=this.yf.get(m))>u&&a.nr(l+u,l+s,h);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},x.prototype.reset=function(h,l,s,a){return!(2>h||s==l)&&(h=Math.min(x.hL,h),this.yf.Jb(h),this.yf.resize(h),this.yf.Wj(0,0,this.yf.size),this.EH=l,this.ys.resize(a),this.Es=(s-l)/(h-1),!0)},x.prototype.zF=function(h){return d.O.truncate((h-this.EH)/this.Es)},x.hL=65536,x}();d.Xt=O}(te||(te={})),function(d){var O,x;(x=O||(O={}))[x.enum_line=1]="enum_line",x[x.enum_arc=2]="enum_arc",x[x.enum_dummy=4]="enum_dummy",x[x.enum_concave_dip=8]="enum_concave_dip",x[x.enum_connection=3]="enum_connection";var h=function(){function p(){}return p.Qu=function(y,m,w,S,k,I){var A=new p;return A.Im=new d.h,A.Vm=new d.h,A.aw=new d.h,A.Im.L(y),A.Vm.L(m),A.aw.L(w),A.Co=S,A.qh=k,A.sh=I,A},p.construct=function(y,m,w,S){var k=new p;return k.Im=new d.h,k.Vm=new d.h,k.aw=new d.h,k.Im.L(y),k.Vm.L(m),k.aw.Rc(),k.Co=4,k.qh=w,k.sh=S,k},p}(),l=function(){function p(y,m,w,S,k,I){this.Yv=null,this.ya=0,this.EA=y,this.bI=this.$H=0,this.Ka=m,this.Mj=w,this.vk=S,this.Dq=k,this.Ub=I}return p.prototype.next=function(){for(var y=new d.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,y),this.ya++,!y.B())break}var m=!1;if(this.Yv==null&&(this.$H=y.Lg(),this.bI=y.ih(),this.Yv=u.buffer(y,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),m=!0),this.ya<this.EA.I()){var w=new d.Da;this.Yv.copyTo(w)}else w=this.Yv;if(!m){m=new d.Dd;var S=y.Lg()-this.$H;y=y.ih()-this.bI,m.gg(S,y),w.Oc(m)}return w},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),s=function(){function p(y,m){this.Wa=y,this.ya=0,this.oq=m}return p.prototype.next=function(){var y=this.Wa.X;if(this.ya<y.da()){var m=this.ya;if(this.ya++,!y.Nn(m))for(var w=y.Na(y.Vc(m)-1);this.ya<y.da();){var S=y.Na(y.Ba(this.ya));if(y.Nn(this.ya)||S!=w)break;w=y.Na(y.Vc(this.ya)-1),this.ya++}if(this.ya-m==1)return this.Wa.kE(this.Wa.X,m,this.oq);for((w=new d.Ta(this.Wa.X.description)).addPath(this.Wa.X,m,!0),m+=1;m<this.ya;m++)w.Dr(this.Wa.X,m,0,y.rv(m),!1);return this.Wa.kE(w,0,this.oq)}return null},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),a=function(){function p(y){this.Wa=y,this.ya=0}return p.prototype.next=function(){var y=this.Wa.X;if(this.ya<y.da()){var m=this.ya;for(y.Ir(this.ya),this.ya++;this.ya<y.da()&&!(0<y.Ir(this.ya));)this.ya++;return m==0&&this.ya==y.da()?this.Wa.py(y,0,y.da()):this.Wa.py(y,m,this.ya)}return null},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),u=function(){function p(y){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=y,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return p.buffer=function(y,m,w,S,k,I){if(y==null||0>S)throw d.i.N();if(y.B())return new d.Da(y.description);var A=new d.l;return y.xc(A),0<m&&A.W(m,m),(I=new p(I)).Mj=w,I.X=y,I.qa=d.ta.Wd(w,A,!0),I.ct=d.ta.Wd(null,A,!0),I.Ka=m,I.JT=y.getType(),0>=k&&(k=96),I.rb=Math.abs(I.Ka),I.Kv=I.rb!=0?1/I.rb:0,isNaN(S)||S==0?S=1e-5*I.rb:S>.5*I.rb&&(S=.5*I.rb),12>k&&(k=12),(y=Math.abs(m)*(1-Math.cos(Math.PI/k)))>S?S=y:(y=Math.PI/Math.acos(1-S/Math.abs(m)))<k-1&&12>(k=d.O.truncate(y))&&(k=12,S=Math.abs(m)*(1-Math.cos(Math.PI/k))),I.vk=S,I.Dq=k,I.tA=Math.min(I.ct,.25*S),I.lE()},p.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var y=this.qE();y=d.O.truncate((y+3)/4);var m=.5*Math.PI/y;this.oA=m;for(var w=0;w<4*y;w++)this.Id.push(null);var S=Math.cos(m);m=Math.sin(m);var k=d.h.construct(0,1);for(w=0;w<y;w++)this.Id[w+0*y]=d.h.construct(k.y,-k.x),this.Id[w+1*y]=d.h.construct(-k.x,-k.y),this.Id[w+2*y]=d.h.construct(-k.y,k.x),this.Id[w+3*y]=k,(k=d.h.construct(k.x,k.y)).Bt(S,m)},p.prototype.lE=function(){var y=this.X.getType();if(d.aa.yd(y))return(y=new d.Ta(this.X.description)).oc(this.X,!0),this.X=y,this.lE();if(this.Ka<=this.qa){if(!d.aa.US(y))return new d.Da(this.X.description);if(0>=this.Ka&&(y=new d.l,this.X.A(y),y.R()<=2*-this.Ka||y.ca()<=2*this.Ka))return new d.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw d.i.Qa()}},p.prototype.RN=function(){if(this.EG(this.X)){var y=new d.Sa;this.X.ve(0,y);var m=new d.l;return this.X.A(m),y.Cb(m.sf()),this.Gu(y)}return this.X=this.WV(this.X),y=new s(this,this.oq),d.Gh.local().V(y,this.Mj,this.Ub).next()},p.prototype.QN=function(){if(this.Ka==0)return this.X;var y=d.Yl.local();if(this.cv(),this.X=y.V(this.X,null,!1,this.Ub),0>this.Ka){var m=this.X;return m=this.py(m,0,m.da()),y.V(m,this.Mj,!1,this.Ub)}return this.EG(this.X)?(y=new d.Sa,this.X.ve(0,y),m=new d.l,this.X.A(m),y.Cb(m.sf()),this.Gu(y)):(y=new a(this),d.Gh.local().V(y,this.Mj,this.Ub).next())},p.prototype.py=function(y,m,w){for(var S=new d.Da(y.description);m<w;m++)if(!(1>y.Ja(m))){var k=y.Ir(m),I=new d.l;if(y.Rj(m,I),0<this.Ka){if(0<k)if(this.FG(y,m))k=new d.Sa,y.ve(y.Ba(m),k),k.Cb(I.sf()),this.yu(S,k);else{var A=k=new d.Ta(y.description);A=d.Zt.JG(this.X,m)||this.zn(this.X,m,A,!0,1)==2?this.jE(y,m):this.yn(k),S.add(A,!1)}else if(!(I.R()+this.qa<=2*this.rb||I.ca()+this.qa<=2*this.rb||(A=k=new d.Ta(y.description),this.zn(this.X,m,A,!0,1),k.B()))){var L=new d.l;for(L.K(I),L.W(this.rb,this.rb),A.tp(L),I=1,k=(A=this.yn(k)).da();I<k;I++)S.addPath(A,I,!0)}}else if(0<k){if(!(I.R()+this.qa<=2*this.rb||I.ca()+this.qa<=2*this.rb||(A=k=new d.Ta(y.description),this.zn(this.X,m,A,!0,-1),k.B())))for(L=new d.l,A.xc(L),L.W(this.rb,this.rb),A.tp(L),I=1,k=(A=this.yn(k)).da();I<k;I++)S.addPath(A,I,!0)}else for(A=k=new d.Ta(y.description),this.zn(this.X,m,A,!0,-1),I=0,k=(A=this.yn(k)).da();I<k;I++)S.addPath(A,I,!0)}if(0<this.Ka)return 1<S.da()?S=this.yn(S):p.kx(S);if(y=new d.l,S.xc(y),S.B())return p.kx(S);for(y.W(this.rb,this.rb),S.tp(y),S=this.yn(S),y=new d.Da(S.description),I=1,k=S.da();I<k;I++)y.addPath(S,I,!1);return p.kx(y)},p.prototype.PN=function(){return this.Gu(this.X)},p.prototype.Gu=function(y){var m=new d.Da(this.X.description);return this.yu(m,y),this.sX(m)},p.prototype.ON=function(){var y=new l(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return d.Gh.local().V(y,this.Mj,this.Ub).next()},p.prototype.LN=function(){var y=new d.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)y.ad(this.X,!1);else{var m=new d.Fh;this.X.bn(m),m.W(this.Ka,this.Ka),y.ad(m,!1)}return y}return y.ad(this.X,!1),this.X=y,this.jE(y,0)},p.prototype.jE=function(y,m){this.cv();var w=new d.Da(y.description),S=new d.h,k=new d.h,I=new d.h,A=new d.h,L=new d.h,D=new d.h,U=new d.h,X=new d.h,J=y.Ja(m),B=y.Ba(m),Q=0;for(m=y.Ja(m);Q<m;Q++){if(y.D(B+Q,k),y.D(B+(Q+1)%J,A),y.D(B+(Q+2)%J,D),U.uc(A,k),U.length()==0||(U.Hv(),U.normalize(),U.scale(this.rb),S.add(U,k),I.add(U,A),Q==0?w.Lt(S):w.Ci(S),w.Ci(I),X.uc(D,A),X.length()==0))throw d.i.Qa();X.Hv(),X.normalize(),X.scale(this.rb),L.add(X,A),this.GD(w,A,I,L,!1)}return p.kx(w)},p.prototype.kE=function(y,m,w){if(this.cv(),1>y.Ja(m))return null;if(this.FG(y,m)&&0<this.Ka){w=new d.Sa,y.ve(y.Ba(m),w);var S=new d.l;return y.Rj(m,S),w.Cb(S.sf()),this.Gu(w)}if(S=new d.Ta(y.description),y.Nn(m))this.zn(y,m,S,w,1),this.zn(y,m,S,w,-1);else{var k=new d.Ta(y.description);k.addPath(y,m,!1),k.Dr(y,m,0,y.rv(m),!1),this.zn(k,0,S,w,1)}return this.yn(S)},p.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw d.i.fu("user_canceled")},p.prototype.yn=function(y){return d.Fg.Mk(y,this.ct,!0,!0,this.Ub)},p.prototype.qE=function(){if(this.vk==0)return this.Dq;var y=1-this.vk*Math.abs(this.Kv);return 4>(y=-1>y?4:2*Math.PI/Math.acos(y)+.5)?y=4:y>this.Dq&&(y=this.Dq),d.O.truncate(y)},p.prototype.GD=function(y,m,w,S,k){this.cv();var I=new d.h;I.uc(w,m),I.scale(this.Kv);var A=new d.h;A.uc(S,m),A.scale(this.Kv),0>(I=Math.atan2(I.y,I.x)/this.oA)&&(I=this.Id.length+I),I=this.Id.length-I,0>(A=Math.atan2(A.y,A.x)/this.oA)&&(A=this.Id.length+A),(A=this.Id.length-A)<I&&(A+=this.Id.length);var L=d.O.truncate(A);A=d.O.truncate(Math.ceil(I)),(I=new d.h).L(this.Id[A%this.Id.length]),I.Ct(this.rb,m);var D=10*this.qa;for(I.sub(w),I.length()<D&&(A+=1),I.L(this.Id[L%this.Id.length]),I.Ct(this.rb,m),I.sub(S),I.length()<D&&--L,w=L-A,w++,L=0,A%=this.Id.length;L<w;L++,A=(A+1)%this.Id.length)I.L(this.Id[A]),I.Ct(this.rb,m),y.Ci(I),this.Xq();k&&y.Ci(S)},p.prototype.zn=function(y,m,w,S,k){var I=new d.gd,A=I.mN(y,m);if(I.Gp(this.tA,!1,!1),2>I.I(A))return 0>k||(k=y,I=new d.Sa,k.ve(k.Ba(m),I),this.yu(w,I)),1;var L=I.Na(I.Xa(I.Ob(A))),D=new d.Dd;if(D.gg(-L.x,-L.y),I.Oc(D),S&&(this.tQ(I,A,k),2>I.I(A)))return 0>k||(k=y,I=new d.Sa,k.ve(k.Ba(m),I),this.yu(w,I)),1;this.Zd.length=0;var U=I.Ob(A);m=I.Xa(U);var X=k==1?I.Ma(m):I.U(m);y=k==1?I.U(m):I.Ma(m);var J=!0;S=new d.h,A=new d.h;var B=new d.h,Q=new d.h,oe=new d.h,se=new d.h,ye=new d.h,de=new d.h,Me=new d.h,Se=new d.h,xe=this.rb;U=I.Ja(U);for(var ze=0;ze<U;ze++)I.D(y,A),J&&(I.D(m,S),I.D(X,B),de.uc(S,B),de.normalize(),Se.MG(de),Se.scale(xe),Q.add(Se,S)),ye.uc(A,S),ye.normalize(),Me.MG(ye),Me.scale(xe),oe.add(S,Me),X=de.wi(ye),J=de.Qh(ye),0>X||0>J&&X==0?this.Zd.push(h.Qu(Q,oe,S,2,this.Zd.length+1,this.Zd.length-1)):Q.qb(oe)||(this.Zd.push(h.construct(Q,S,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(h.construct(S,oe,this.Zd.length+1,this.Zd.length-1,"dummy"))),se.add(A,Me),this.Zd.push(h.Qu(oe,se,S,1,this.Zd.length+1,this.Zd.length-1)),Q.L(se),Se.L(Me),B.L(S),S.L(A),de.L(ye),X=m,m=y,J=!1,y=k==1?I.U(m):I.Ma(m);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(w),D.gg(L.x,L.y),w.YD(D,w.da()-1),1},p.prototype.YV=function(y){for(var m=this.zO(),w=!0,S=m+1,k=m;S!=m;k=S){var I=this.Zd[k];S=I.qh!=-1?I.qh:(k+1)%this.Zd.length,I.Co!=0&&(w&&y.Lt(I.Im),I.Co==2?this.GD(y,I.aw,I.Im,I.Vm,!0):y.Ci(I.Vm),w=!1)}},p.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var y=0,m=0,w=this.Zd.length;m<w;){var S=this.Zd[m];if(3&S.Co){y=m;break}m=S.qh}for(w=y+1,m=y;w!=y;m=w){w=(S=this.Zd[m]).qh;for(var k=1,I=null;w!=m&&!(3&(I=this.Zd[w]).Co);)w=I.qh,k++;k!=1&&(S.Co&I.Co)==1&&(this.Ls==null&&(this.Ls=new d.yb,this.lw=new d.yb),this.Ls.Dc(S.Im),this.Ls.Qc(S.Vm),this.lw.Dc(I.Im),this.lw.Qc(I.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&(S.Vm.L(this.Ks[0]),I.Im.L(this.Ks[0]),S.qh=w,I.sh=m))}return y},p.prototype.Fv=function(y,m,w){var S=new d.h;if(S.uc(w,y),w=S.length(),0<(w=this.rb*this.rb-w*w*.25)){w=Math.sqrt(w),S.normalize(),S.ar();var k=new d.h;if(k.uc(m,y),k.Qh(S)+w>=this.rb)return!0}return!1},p.prototype.tQ=function(y,m,w){for(var S=0;1>S;S++){var k=!1,I=y.Ob(m),A=y.Ja(I);if(A==0)break;var L=A;if(3>A)break;!y.dc(I)&&(L=A-1),I=y.Xa(I),A=0<w?y.Ma(I):y.U(I);for(var D=0<w?y.U(I):y.Ma(I),U=A,X=!0,J=new d.h,B=new d.h,Q=new d.h,oe=new d.h,se=new d.h,ye=d.h.construct(0,0),de=new d.h,Me=new d.h,Se=new d.h,xe=new d.h,ze=this.rb,Ae=0,et=0;et<L&&(y.D(D,B),X&&(y.D(I,J),y.D(A,Q),U=A),Me.uc(J,Q),Me.normalize(),de.uc(B,J),de.normalize(),U!=D);){var ot=Me.wi(de),Ue=Me.Qh(de),Mt=!0;if(0>ot||0>Ue&&ot==0||!this.Fv(Q,J,B)||(ye.L(B),Mt=!1,++Ae,k=!0),Mt){if(0<Ae)for(;(ot=0<w?y.Ma(U):y.U(U))!=I;){if(y.D(ot,oe),!this.Fv(oe,Q,ye)){ot!=D&&this.Fv(oe,Q,B)&&this.Fv(oe,J,B)&&(Q.L(oe),U=ot,Mt=!1,++Ae);break}Q.L(oe),U=ot,Mt=!1,++Ae}if(!Mt)continue;if(0<Ae){for(U=0<w?y.Ma(A):y.U(A),X=1;X<Ae;X++)Mt=0<w?y.Ma(U):y.U(U),y.pd(U,!0),U=Mt;Se.uc(J,Q),Ae=ze*ze-(Ae=Se.length())*Ae*.25,ze-(Ae=Math.sqrt(Ae))>.5*this.vk?(se.add(Q,J),se.scale(.5),Se.normalize(),Se.ar(),xe.L(Se),xe.scale(ze-Ae),se.add(xe),y.mf(A,se)):y.pd(A,!0),Ae=0}Q.L(J),U=I}J.L(B),A=I,I=D,D=0<w?y.U(I):y.Ma(I),et++,X=!1}if(0<Ae){for(U=0<w?y.Ma(A):y.U(A),X=1;X<Ae;X++)Mt=0<w?y.Ma(U):y.U(U),y.pd(U,!0),U=Mt;se.add(Q,J),se.scale(.5),Se.uc(J,Q),Ae=ze*ze-(Ae=Se.length())*Ae*.25,Ae=Math.sqrt(Ae),Se.normalize(),Se.ar(),xe.L(Se),xe.scale(ze-Ae),se.add(xe),y.mf(A,se)}if(y.Gp(this.tA,!1,!1),!k)break}},p.prototype.FG=function(y,m){if(y.Ja(m)==1)return!0;var w=new d.l;return y.Rj(m,w),Math.max(w.R(),w.ca())<.5*this.vk},p.prototype.EG=function(y){var m=new d.l;return y.A(m),Math.max(m.R(),m.ca())<.5*this.vk},p.prototype.WV=function(y){for(var m=0,w=0,S=(y=d.EC.local().V(y,.25*this.vk,!1,this.Ub)).da();w<S;w++)m=Math.max(y.Ja(w),m);return 32>m?(this.oq=!1,y):(this.oq=!0,d.Fg.Mk(y,this.ct,!1,!0,this.Ub))},p.prototype.yu=function(y,m){if(m=m.D(),this.Id!=null&&this.Id.length!==0){var w=new d.h;w.L(this.Id[0]),w.Ct(this.rb,m),y.Lt(w);for(var S=1,k=this.Id.length;S<k;S++)w.L(this.Id[S]),w.Ct(this.rb,m),y.Ci(w)}else{S=this.qE(),w=d.O.truncate((S+3)/4),S=.5*Math.PI/w,k=Math.cos(S);for(var I=Math.sin(S),A=new d.h,L=3;0<=L;L--){switch(A.ma(0,this.rb),L){case 0:for(S=0;S<w;S++)y.yj(A.x+m.x,A.y+m.y),A.Bt(k,I);break;case 1:for(S=0;S<w;S++)y.yj(-A.y+m.x,A.x+m.y),A.Bt(k,I);break;case 2:for(S=0;S<w;S++)y.yj(-A.x+m.x,-A.y+m.y),A.Bt(k,I);break;default:for(y.sx(A.y+m.x,-A.x+m.y),S=1;S<w;S++)A.Bt(k,I),y.yj(A.y+m.x,-A.x+m.y)}this.Xq()}}},p.kx=function(y){return y.Ch(1,0),y},p.prototype.sX=function(y){return y.Ch(2,this.qa),y.fm(),y},p}();d.HK=u}(te||(te={})),function(d){var O=function(){function x(h){this.Ca=h,this.g=new d.gd,this.dd=new d.ia(0)}return x.prototype.Lh=function(h,l,s){switch(l){case 0:if(h.v<s&&h.C<=s)break;return h.v>=s?1:-1;case 1:if(h.G<s&&h.H<=s)break;return h.G>=s?1:-1;case 2:if(h.v>=s&&h.C>s)break;return h.C<=s?1:-1;case 3:if(!(h.G>=s&&h.H>s))return h.H<=s?1:-1}return 0},x.prototype.Ay=function(h,l){return h.getType()==1736?this.Cy(h,l):this.Dy(h)},x.prototype.Cy=function(h,l){if(this.Ca.R()==0||this.Ca.ca()==0)return h.Ia();var s=new d.l;h.xc(s),this.X=this.g.Ib(h);var a=new d.l,u=new d.l,p=new d.h,y=new d.h,m=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0];new d.ig;var S=new d.yb,k=new d.ia(0);k.Jb(Math.min(100,h.I()));for(var I=!1,A=0;!I&&4>A;A++){var L=!1,D=!!(1&A),U=0;switch(A){case 0:U=this.Ca.v,L=s.v<=U&&s.C>=U;break;case 1:U=this.Ca.G,L=s.G<=U&&s.H>=U;break;case 2:U=this.Ca.C,L=s.v<=U&&s.C>=U;break;case 3:U=this.Ca.H,L=s.G<=U&&s.H>=U}if(L)for(I=!0,L=this.g.Ob(this.X);L!=-1;){var X=-1,J=-1,B=this.g.Xa(L),Q=B;do{var oe=this.g.bc(Q);oe==null&&(oe=S,this.g.D(Q,p),oe.Dc(p),this.g.D(this.g.U(Q),y),oe.Qc(y)),oe.A(a);var se=this.Lh(a,A,U),ye=0,de=-1;if(se==-1){ye=0<(oe=oe.cq(D,U,m,w))?this.g.Ul(Q,w,oe):0,ye+=1;var Me=Q,Se=this.g.U(Me);for(oe=0;oe<ye;oe++){if(this.g.D(Me,p),this.g.D(Se,y),(de=this.g.bc(Me))==null&&((de=S).Dc(p),de.Qc(y)),de.A(u),(de=this.Lh(u,A,U))==-1){if(D)(de=Math.abs(p.y-U))<(xe=Math.abs(y.y-U))?(p.y=U,this.g.mf(Me,p)):(y.y=U,this.g.mf(Se,y));else{de=Math.abs(p.x-U);var xe=Math.abs(y.x-U);de<xe?(p.x=U,this.g.mf(Me,p)):(y.x=U,this.g.mf(Se,y))}(de=this.g.bc(Me))==null&&((de=S).Dc(p),de.Qc(y)),de.A(u),de=this.Lh(u,A,U)}xe=X,X=de,J==-1&&(J=X),xe==0&&X==1||xe==1&&X==0||xe!=0||X!=0||k.add(Me),X==1&&(I=!1),de=Me=Se,Se=this.g.U(Se)}}ye==0&&(xe=X,X=se,J==-1&&(J=X),xe==0&&X==1||xe==1&&X==0||xe!=0||X!=0||k.add(Q),X==1&&(I=!1),de=this.g.U(Q)),Q=de}while(Q!=B);for(J==0&&X==0&&k.add(B),oe=0,X=k.size;oe<X;oe++)J=k.get(oe),this.g.pd(J,!1);k.clear(!1),L=3>this.g.Ja(L)?this.g.Zq(L):this.g.Rb(L)}}return I?h.Ia():(this.FB(),0<l&&this.My(l),this.g.Ne(this.X))},x.prototype.Dy=function(h){var l=new d.l,s=new d.l,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0],p=new d.ig,y=h,m=new d.l;h.xc(m);for(var w=0;4>w;w++){var S=!1,k=!!(1&w),I=0;switch(w){case 0:I=this.Ca.v,S=m.v<=I&&m.C>=I;break;case 1:I=this.Ca.G,S=m.G<=I&&m.H>=I;break;case 2:I=this.Ca.C,S=m.v<=I&&m.C>=I;break;case 3:I=this.Ca.H,S=m.G<=I&&m.H>=I}if(S){S=y,y=h.Ia(),(S=S.Ga()).Zi();for(var A,L=new d.h;S.$a();)for(var D,U=!0;S.Ha();){var X=S.ha();X.A(l);var J=this.Lh(l,w,I);if(J==-1){if(0<(J=X.cq(k,I,a,u))){var B=0;A=X.ac();for(var Q=0;Q<=J;Q++)if(B!=(D=Q<J?u[Q]:1)){X.ah(B,D,p);var oe=p.get();oe.Dc(A),Q<J&&(k?(L.x=a[Q],L.y=I):(L.x=I,L.y=a[Q]),oe.Qc(L)),oe.A(s);var se=this.Lh(s,w,I);if(se==-1){if(A=oe.ac(),B=oe.wc(),k)(se=Math.abs(A.y-I))<(ye=Math.abs(B.y-I))?(A.y=I,oe.Dc(A)):(B.y=I,oe.Qc(B));else{se=Math.abs(A.x-I);var ye=Math.abs(B.x-I);se<ye?(A.x=I,oe.Dc(A)):(B.x=I,oe.Qc(B))}oe.A(s),se=this.Lh(s,w,I)}A=oe.wc(),B=D,(D=se)==1?(y.oc(oe,U),U=!1):U=!0}}}else(D=J)==1?(y.oc(X,U),U=!1):U=!0}}}return y},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var h=new d.h,l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var s=this.g.Xa(l),a=0,u=this.g.Ja(l);a<u;a++,s=this.g.U(s))this.g.D(s,h),(this.Ca.v==h.x||this.Ca.C==h.x||this.Ca.G==h.y||this.Ca.H==h.y)&&(this.g.Ra(s,this.ji,this.dd.size),this.dd.add(s));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(h){for(var l=new d.h,s=new d.h,a=d.O.lg(2048,0),u=this.g.Ob(this.X);u!=-1;u=this.g.Rb(u)){var p=this.g.Xa(u),y=p;do{var m=this.g.U(y);this.g.D(y,l);var w=-1;if(l.x==this.Ca.v?(this.g.D(m,s),s.x==this.Ca.v&&(w=1)):l.x==this.Ca.C&&(this.g.D(m,s),s.x==this.Ca.C&&(w=1)),l.y==this.Ca.G?(this.g.D(m,s),s.y==this.Ca.G&&(w=0)):l.y==this.Ca.H&&(this.g.D(m,s),s.y==this.Ca.H&&(w=0)),w!=-1&&(w=d.h.tb(l,s),!(1>=(w=d.O.truncate(Math.min(Math.ceil(w/h),2048)))))){for(var S=1;S<w;S++)a[S-1]=1*S/w;this.g.Ul(y,a,w-1)}y=m}while(y!=p)}},x.prototype.Vl=function(h,l){var s=this.g.Gd(),a=new d.h,u=new d.ia(0);u.Jb(100);for(var p=this.g.Ob(this.X);p!=-1;p=this.g.Rb(p))for(var y=this.g.Xa(p),m=0,w=this.g.Ja(p);m<w;m++){var S=this.g.U(y);this.g.D(y,a),(h?a.y==l:a.x==l)&&(this.g.D(S,a),(h?a.y==l:a.x==l)&&(this.g.Pa(y,s)!=1&&(u.add(y),this.g.Ra(y,s,1)),this.g.Pa(S,s)!=1&&(u.add(S),this.g.Ra(S,s,1)))),y=S}if(this.g.Td(s),!(3>u.size)){var k=this;u.Vd(0,u.size,function(se,ye){return k.Mh(se,ye)}),s=new d.h,p=new d.h,y=new d.h,p.Rc();var I=-1;m=new d.ia(0),w=new d.ia(0),S=this.g.Gd();for(var A=this.g.Gd(),L=0,D=u.size;L<D;L++){var U=u.get(L);if(this.g.D(U,a),!a.qb(p)){if(I!=-1){for(var X=I;X<L;X++){I=u.get(X);var J=this.g.U(I);U=this.g.Ma(I);var B=!1;0>this.Mh(I,J)&&(this.g.D(J,s),h?s.y==l:s.x==l)&&(m.add(I),B=!0,this.g.Ra(I,A,1)),0>this.Mh(I,U)&&(this.g.D(U,s),h?s.y==l:s.x==l)&&(B||m.add(I),this.g.Ra(I,S,1))}for(X=0,B=m.size;X<B;X++){if(I=m.get(X),U=this.g.Pa(I,S),J=this.g.Pa(I,A),U==1){U=this.g.Ma(I),this.g.D(U,y);var Q=[0];if(Q[0]=0,!y.qb(a)){var oe=d.h.tb(p,y);Q[0]=d.h.tb(y,a)/oe,Q[0]==0?Q[0]=2220446049250313e-31:Q[0]==1&&(Q[0]=.9999999999999998),this.g.Ul(U,Q,1),U=this.g.Ma(I),this.g.mf(U,a),w.add(U),this.g.Ra(U,S,1),this.g.Ra(U,A,-1)}}J==1&&(J=this.g.U(I),this.g.D(J,y),(Q=[0])[0]=0,y.qb(a)||(oe=d.h.tb(p,y),Q[0]=d.h.tb(p,a)/oe,Q[0]==0?Q[0]=2220446049250313e-31:Q[0]==1&&(Q[0]=.9999999999999998),this.g.Ul(I,Q,1),U=this.g.U(I),this.g.mf(U,a),w.add(U),this.g.Ra(U,S,-1),this.g.Ra(U,A,1)))}I=m,m=w,(w=I).clear(!1)}I=L,p.L(a)}}this.g.Td(S),this.g.Td(A)}},x.prototype.Nl=function(h,l){var s=new d.h,a=new d.ia(0);a.Jb(100);for(var u=this.g.Gd(),p=0,y=this.dd.size;p<y;p++){var m=this.dd.get(p);if(m!=-1){var w=this.g.U(m);this.g.D(m,s),(h?s.y==l:s.x==l)&&(this.g.D(w,s),(h?s.y==l:s.x==l)&&(this.g.Pa(m,u)!=-2&&(a.add(m),this.g.Ra(m,u,-2)),this.g.Pa(w,u)!=-2&&(a.add(w),this.g.Ra(w,u,-2))))}}if(a.size!=0){var S=this;for(a.Vd(0,a.size,function(ye,de){return S.Mh(ye,de)}),p=0,y=a.size;p<y;p++){var k=a.get(p);this.g.Ra(k,u,p)}m=new d.h,(w=new d.h).Rc();var I=-1;for(p=0,y=a.size;p<y;p++)if((k=a.get(p))!=-1&&(this.g.D(k,s),!s.qb(w))){if(I!=-1)for(;;){k=!1;for(var A=1<p-I?p-1:p,L=I;L<A;L++){var D=a.get(L);if(D!=-1){var U=-1,X=this.g.U(D);0>this.Mh(D,X)&&(this.g.D(X,m),h?m.y==l:m.x==l)&&(U=X),X=-1;var J=this.g.Ma(D);if(0>this.Mh(D,J)&&(this.g.D(J,m),h?m.y==l:m.x==l)&&(X=J),U!=-1&&X!=-1)this.Kh(D,a,u),this.g.pd(D,!1),this.Kh(U,a,u),this.g.pd(U,!1),k=!0;else if(U!=-1||X!=-1){for(J=L+1;J<p;J++){var B=a.get(J);if(B!=-1){var Q=this.g.U(B),oe=-1;0>this.Mh(B,Q)&&(this.g.D(Q,m),h?m.y==l:m.x==l)&&(oe=Q),Q=this.g.Ma(B);var se=-1;if(0>this.Mh(B,Q)&&(this.g.D(Q,m),h?m.y==l:m.x==l)&&(se=Q),oe!=-1&&se!=-1){this.Kh(B,a,u),this.g.pd(B,!1),this.Kh(oe,a,u),this.g.pd(oe,!1),k=!0;break}if(U!=-1&&se!=-1){this.zt(a,D,U,B,se,u),k=!0;break}if(X!=-1&&oe!=-1){this.zt(a,B,oe,D,X,u),k=!0;break}}}if(k)break}}}if(!k)break}I=p,w.L(s)}}this.g.Td(u)},x.prototype.Kh=function(h,l,s){s=this.g.Pa(h,s),l.set(s,-1),s=this.g.Pa(h,this.ji),this.dd.set(s,-1),(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h&&(this.g.Jf(l,-1),this.g.Wg(l,-1))},x.prototype.zt=function(h,l,s,a,u,p){this.g.Bc(l,a),this.g.Cc(a,l),this.g.Cc(s,u),this.g.Bc(u,s),this.Kh(a,h,p),this.g.mi(a,!1),this.Kh(u,h,p),this.g.mi(u,!0)},x.prototype.Ty=function(){for(var h=0,l=this.dd.size;h<l;h++){var s=this.dd.get(h);s!=-1&&this.g.aj(s,-1)}for(var a=0,u=0,p=this.g.Ob(this.X);p!=-1;){var y=this.g.Xa(p);if(y==-1||p!=this.g.bd(y)){var m=p;p=this.g.Rb(p),this.g.Jf(m,-1),this.g.$q(m)}else{s=y,m=0;do this.g.aj(s,p),m++,s=this.g.U(s);while(s!=y);2>=m?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),m==2&&(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),this.g.pd(y,!1)),m=p,p=this.g.Rb(p),this.g.Jf(m,-1),this.g.$q(m)):(this.g.cp(p,!1),this.g.Wg(p,this.g.Ma(y)),this.g.Vj(p,m),u+=m,a++,p=this.g.Rb(p))}}for(h=0,l=this.dd.size;h<l;h++)if((s=this.dd.get(h))!=-1&&(p=this.g.bd(s))==-1){p=this.g.vf(this.X,-1),m=0,y=s;do this.g.aj(s,p),m++,s=this.g.U(s);while(s!=y);2>=m?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),m==2&&(0<=(s=this.g.Pa(y,this.ji))&&this.dd.set(s,-1),this.g.pd(y,!1)),m=p,this.g.Jf(m,-1),this.g.$q(m)):(this.g.kn(p,!0),this.g.Vj(p,m),this.g.Jf(p,y),this.g.Wg(p,this.g.Ma(y)),this.g.cp(p,!1),u+=m,a++)}for(this.g.Rl(this.X,a),this.g.Tj(this.X,u),h=0,l=this.g.ld;l!=-1;l=this.g.ue(l))h+=this.g.I(l);this.g.bC(h)},x.By=function(h,l,s){return new x(l).Ay(h,s)},x.clip=function(h,l,s,a){if(h.B())return h;if(l.B())return h.Ia();if((s=h.getType())==33)return a=h.D(),l.contains(a)?h:h.Ia();if(s==197)return a=new d.l,h.A(a),a.Ea(l)?(l=new d.Fh,h.copyTo(l),l.Xo(a),l):h.Ia();var u=new d.l;if(h.xc(u),l.contains(u))return h;if(!l.isIntersecting(u))return h.Ia();if((u=h.Bb)!=null&&(u=u.Fk)!=null){if((u=u.Ro(l))==1){if(s!=1736)throw d.i.Qa();return(h=new d.Da(h.description)).tp(l),h}if(u==0)return h.Ia()}switch(s){case 550:s=null,u=h.I();for(var p=h.ub(0),y=0,m=0;m<u;m++)a=new d.h,p.tc(2*m,a),l.contains(a)||(y==0&&(s=h.Ia()),y<m&&s.Fd(h,y,m),y=m+1);return 0<y&&s.Fd(h,y,u),y==0?h:s;case 1736:case 1607:return x.By(h,l,a);default:throw d.i.Qa()}},x.prototype.Mh=function(h,l){var s=new d.h;return this.g.D(h,s),h=new d.h,this.g.D(l,h),s.compare(h)},x}();d.Ud=O}(te||(te={})),function(d){var O=function(){function x(h,l){this.Ca=h,this.g=new d.gd,this.dd=new d.ia(0),this.nd=l}return x.prototype.Lh=function(h,l,s){switch(l){case 0:if(h.v<s&&h.C<=s)break;return h.v>=s?1:-1;case 1:if(h.G<s&&h.H<=s)break;return h.G>=s?1:-1;case 2:if(h.v>=s&&h.C>s)break;return h.C<=s?1:-1;case 3:if(!(h.G>=s&&h.H>s))return h.H<=s?1:-1}return 0},x.prototype.Ay=function(h,l){return h.getType()==1736?this.Cy(h,l):this.Dy(h)},x.prototype.Cy=function(h,l){if(this.Ca.R()==0||this.Ca.ca()==0)return h.Ia();var s=new d.l;h.xc(s),this.X=this.g.Ib(h);var a=new d.l,u=new d.l,p=new d.h,y=new d.h,m=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0],S=new d.yb,k=new d.ia(0);k.Jb(256);for(var I=!1,A=0;!I&&4>A;A++){var L=!1,D=!!(1&A),U=0;switch(A){case 0:U=this.Ca.v,L=s.v<=U&&s.C>=U;break;case 1:U=this.Ca.G,L=s.G<=U&&s.H>=U;break;case 2:U=this.Ca.C,L=s.v<=U&&s.C>=U;break;case 3:U=this.Ca.H,L=s.G<=U&&s.H>=U}if(L)for(I=!0,L=this.g.Ob(this.X);L!=-1;){var X=!0,J=-1,B=-1,Q=this.g.Xa(L),oe=Q;do{var se=this.g.bc(oe);se==null&&(se=S,this.g.D(oe,p),se.Dc(p),this.g.D(this.g.U(oe),y),se.Qc(y)),se.A(a);var ye=this.Lh(a,A,U),de=0,Me=-1;if(ye==-1){de=0<(se=se.cq(D,U,m,w))?this.g.LX(oe,w,se):0,de+=1;var Se=oe,xe=this.g.U(Se);for(se=0;se<de;se++){if(this.g.D(Se,p),this.g.D(xe,y),(Me=this.g.bc(Se))==null&&((Me=S).Dc(p),Me.Qc(y)),Me.A(u),(Me=this.Lh(u,A,U))==-1){if(D)(Me=Math.abs(p.y-U))<(ze=Math.abs(y.y-U))?(p.y=U,this.g.mf(Se,p)):(y.y=U,this.g.mf(xe,y));else{Me=Math.abs(p.x-U);var ze=Math.abs(y.x-U);Me<ze?(p.x=U,this.g.mf(Se,p)):(y.x=U,this.g.mf(xe,y))}(Me=this.g.bc(Se))==null&&((Me=S).Dc(p),Me.Qc(y)),Me.A(u),Me=this.Lh(u,A,U)}ze=J,J=Me,B==-1&&(B=J),ze==0&&J==1||ze==1&&J==0||ze!=0||J!=0||k.add(Se),J==1&&(X=I=!1),Me=Se=xe,xe=this.g.U(xe)}}if(de==0&&(ze=J,J=ye,B==-1&&(B=J),ze==0&&J==1||ze==1&&J==0||ze!=0||J!=0||k.add(oe),J==1&&(X=I=!1),Me=this.g.U(oe)),oe=Me,256<=k.size){for(se=1,ye=k.size-1;se<ye;se++)de=k.get(se),this.g.pd(de,!1);k.set(1,k.Fc()),k.Bh(2)}}while(oe!=Q);if(!X)for(B==0&&J==0&&k.add(Q),se=0,ye=k.size;se<ye;se++)de=k.get(se),this.g.pd(de,!1);k.clear(!1),L=X||this.g.Ja(L)==0?this.g.Zq(L):this.g.Rb(L)}}return I?h.Ia():(this.FB(),0<l&&this.My(l),this.g.Ne(this.X))},x.prototype.Dy=function(h){var l=new d.l,s=new d.l,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0],p=new d.ig,y=h,m=new d.l;h.xc(m);for(var w=new d.h,S=new d.h,k=null,I=null,A=0;4>A;A++){var L=!1,D=!!(1&A),U=0;switch(A){case 0:U=this.Ca.v,L=m.v<=U&&m.C>=U;break;case 1:U=this.Ca.G,L=m.G<=U&&m.H>=U;break;case 2:U=this.Ca.C,L=m.v<=U&&m.C>=U;break;case 3:U=this.Ca.H,L=m.G<=U&&m.H>=U}if(L)for(L=y,y=h.Ia(),(L=L.Ga()).Zi();L.$a();)for(var X,J=!0;L.Ha();){var B=L.ha();B.A(l);var Q=this.Lh(l,A,U);if(Q==-1){if(0<(Q=B.cq(D,U,a,u))){var oe=0;B.Yp(w);for(var se=0;se<=Q;se++)if(oe!=(X=se<Q?u[se]:1)){B.ah(oe,X,p);var ye=p.get();ye.Dc(w),se<Q&&(D?(S.x=a[se],S.y=U):(S.x=U,S.y=a[se]),ye.Qc(S)),ye.A(s);var de=this.Lh(s,A,U);de==-1&&(k==null&&(k=new d.h),I==null&&(I=new d.h),ye.Yp(k),ye.Tr(I),D?(oe=Math.abs(k.y-U))<(de=Math.abs(I.y-U))?(k.y=U,ye.Dc(k)):(I.y=U,ye.Qc(I)):(oe=Math.abs(k.x-U))<(de=Math.abs(I.x-U))?(k.x=U,ye.Dc(k)):(I.x=U,ye.Qc(I)),ye.A(s),de=this.Lh(s,A,U)),ye.Tr(w),oe=X,(X=de)==1?(y.oc(ye,J),J=!1):J=!0}}}else(X=Q)==1?(y.oc(B,J),J=!1):J=!0}}return y},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var h=new d.h,l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var s=this.g.Xa(l),a=0,u=this.g.Ja(l);a<u;a++,s=this.g.U(s))this.g.D(s,h),(this.Ca.v==h.x||this.Ca.C==h.x||this.Ca.G==h.y||this.Ca.H==h.y)&&(this.g.Ra(s,this.ji,this.dd.size),this.dd.add(s));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(h){for(var l=new d.h,s=new d.h,a=null,u=null,p=d.O.lg(2048,0),y=this.g.Ob(this.X);y!=-1;y=this.g.Rb(y)){var m=this.g.Xa(y),w=m;do{var S=this.g.U(w);this.g.D(w,l);var k=-1;if(l.x==this.Ca.v?(this.g.D(S,s),s.x==this.Ca.v&&(k=1)):l.x==this.Ca.C&&(this.g.D(S,s),s.x==this.Ca.C&&(k=1)),l.y==this.Ca.G?(this.g.D(S,s),s.y==this.Ca.G&&(k=0)):l.y==this.Ca.H&&(this.g.D(S,s),s.y==this.Ca.H&&(k=0)),k!=-1){if(a==null&&(a=new d.h),u==null&&(u=new d.h),a.L(l),u.ma(0,0),k==0){var I=l.x-this.Ca.v;u.x=d.lc.sign(s.x-l.x),a.x=h*d.lc.Cn(Math.floor(Math.abs(I/h)),I)+this.Ca.v,0>a.x&&(a.x+=h)}else I=l.y-this.Ca.G,u.y=d.lc.sign(s.y-l.y),a.y=h*d.lc.Cn(Math.floor(Math.abs(I/h)),I)+this.Ca.G,0>a.y&&(a.y+=h);I=k!=0?s.y-l.y:s.x-l.x;var A=Math.abs(I);if(65536<A/h)throw d.i.fa("internal error");if(0<A){A=d.O.truncate(A/h)+2,p.length<A&&(p=d.O.lg(A));for(var L=A=0;;L++){var D=new d.h;if(D.x=a.x+u.x*L*h,D.y=a.y+u.y*L*h,1<=(D=(k!=0?D.y-l.y:D.x-l.x)/I))break;0>=D||(p[A]=D,A++)}A!=0&&this.g.Ul(w,p,A)}}w=S}while(w!=m)}},x.prototype.Vl=function(h,l){for(var s=-1,a=new d.h,u=null,p=this.g.Ob(this.X);p!=-1;p=this.g.Rb(p))for(var y=this.g.Xa(p),m=0,w=this.g.Ja(p);m<w;m++){var S=this.g.U(y);this.g.D(y,a),(h?a.y==l:a.x==l)&&(this.g.D(S,a),(h?a.y==l:a.x==l)&&(s==-1&&(s=this.g.Gd()),u==null&&(u=new d.ia(0)).Jb(100),this.g.Pa(y,s)!=1&&(u.add(y),this.g.Ra(y,s,1)),this.g.Pa(S,s)!=1&&(u.add(S),this.g.Ra(S,s,1)))),y=S}if(s!=-1&&this.g.Td(s),!(u==null||3>u.size)){var k=this;u.Vd(0,u.size,function(se,ye){return k.Mh(se,ye)}),s=new d.h,p=new d.h,y=new d.h,p.Rc();var I=-1;m=new d.ia(0),w=new d.ia(0),S=null;for(var A=this.g.Gd(),L=this.g.Gd(),D=0,U=u.size;D<U;D++){var X=u.get(D);if(this.g.D(X,a),!a.qb(p)){if(I!=-1){for(var J=I;J<D;J++){I=u.get(J);var B=this.g.U(I);X=this.g.Ma(I);var Q=!1;this.g.D(B,s),0>p.compare(s)&&(h?s.y==l:s.x==l)&&(m.add(I),Q=!0,this.g.Ra(I,L,1)),this.g.D(X,s),0>p.compare(s)&&(h?s.y==l:s.x==l)&&(Q||m.add(I),this.g.Ra(I,A,1))}for(J=0,Q=m.size;J<Q;J++){if(I=m.get(J),X=this.g.Pa(I,A),B=this.g.Pa(I,L),X==1&&(X=this.g.Ma(I),this.g.D(X,y),!y.qb(a))){S==null&&(S=[]);var oe=d.h.tb(p,y);S[0]=d.h.tb(y,a)/oe,S[0]==0?S[0]=2220446049250313e-31:S[0]==1&&(S[0]=.9999999999999998),this.g.Ul(X,S,1),X=this.g.Ma(I),this.g.mf(X,a),w.add(X),this.g.Ra(X,A,1),this.g.Ra(X,L,-1)}B==1&&(B=this.g.U(I),this.g.D(B,y),y.qb(a)||(S==null&&(S=[]),oe=d.h.tb(p,y),S[0]=d.h.tb(p,a)/oe,S[0]==0?S[0]=2220446049250313e-31:S[0]==1&&(S[0]=.9999999999999998),this.g.Ul(I,S,1),X=this.g.U(I),this.g.mf(X,a),w.add(X),this.g.Ra(X,A,-1),this.g.Ra(X,L,1)))}I=m,m=w,(w=I).clear(!1)}I=D,p.L(a)}}this.g.Td(A),this.g.Td(L)}},x.prototype.Nl=function(h,l){for(var s=new d.h,a=null,u=-1,p=0,y=this.dd.size;p<y;p++){var m=this.dd.get(p);if(m!=-1){var w=this.g.U(m);this.g.D(m,s),(h?s.y==l:s.x==l)&&(this.g.D(w,s),(h?s.y==l:s.x==l)&&(u==-1&&(u=this.g.Gd()),a==null&&(a=new d.ia(0)).Jb(100),this.g.Pa(m,u)!=-2&&(a.add(m),this.g.Ra(m,u,-2)),this.g.Pa(w,u)!=-2&&(a.add(w),this.g.Ra(w,u,-2))))}}if(a==null)u!=-1&&this.g.Td(u);else{var S=this;for(a.Vd(0,a.size,function(ye,de){return S.Mh(ye,de)}),p=0,y=a.size;p<y;p++){var k=a.get(p);this.g.Ra(k,u,p)}m=new d.h,(w=new d.h).Rc();var I=-1;for(p=0,y=a.size;p<y;p++)if((k=a.get(p))!=-1&&(this.g.D(k,s),!s.qb(w))){if(I!=-1)for(;;){k=!1;for(var A=1<p-I?p-1:p,L=I;L<A;L++){var D=a.get(L);if(D!=-1){var U=-1,X=this.g.U(D);this.g.D(X,m),0>w.compare(m)&&(h?m.y==l:m.x==l)&&(U=X),X=-1;var J=this.g.Ma(D);if(this.g.D(J,m),0>w.compare(m)&&(h?m.y==l:m.x==l)&&(X=J),U!=-1&&X!=-1)this.Kh(D,a,u),this.g.pd(D,!1),this.Kh(U,a,u),this.g.pd(U,!1),k=!0;else if(U!=-1||X!=-1){for(J=L+1;J<p;J++){var B=a.get(J);if(B!=-1){var Q=this.g.U(B),oe=-1;this.g.D(Q,m),0>w.compare(m)&&(h?m.y==l:m.x==l)&&(oe=Q),Q=this.g.Ma(B);var se=-1;if(this.g.D(Q,m),0>w.compare(m)&&(h?m.y==l:m.x==l)&&(se=Q),oe!=-1&&se!=-1){this.Kh(B,a,u),this.g.pd(B,!1),this.Kh(oe,a,u),this.g.pd(oe,!1),k=!0;break}if(U!=-1&&se!=-1){this.zt(a,D,U,B,se,u),k=!0;break}if(X!=-1&&oe!=-1){this.zt(a,B,oe,D,X,u),k=!0;break}}}if(k)break}}}if(!k)break}I=p,w.L(s)}this.g.Td(u)}},x.prototype.Kh=function(h,l,s){s=this.g.Pa(h,s),l.set(s,-1),s=this.g.Pa(h,this.ji),this.dd.set(s,-1),(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h&&(this.g.Jf(l,-1),this.g.Wg(l,-1))},x.prototype.zt=function(h,l,s,a,u,p){this.g.Bc(l,a),this.g.Cc(a,l),this.g.Cc(s,u),this.g.Bc(u,s),this.Kh(a,h,p),this.g.mi(a,!1),this.Kh(u,h,p),this.g.mi(u,!0)},x.prototype.Ty=function(){for(var h=0,l=this.dd.size;h<l;h++){var s=this.dd.get(h);s!=-1&&this.g.aj(s,-1)}for(var a=0,u=0,p=this.g.Ob(this.X);p!=-1;){var y=this.g.Xa(p);if(y==-1||p!=this.g.bd(y)){var m=p;p=this.g.Rb(p),this.g.Jf(m,-1),this.g.$q(m)}else{s=y,m=0;do this.g.aj(s,p),m++,s=this.g.U(s);while(s!=y);this.g.cp(p,!1),this.g.Wg(p,this.g.Ma(y)),this.g.Vj(p,m),u+=m,a++,p=this.g.Rb(p)}}for(h=0,l=this.dd.size;h<l;h++)if((s=this.dd.get(h))!=-1&&(p=this.g.bd(s))==-1){p=this.g.vf(this.X,-1),m=0,y=s;do this.g.aj(s,p),m++,s=this.g.U(s);while(s!=y);2>=m?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),m==2&&(0<=(s=this.g.Pa(y,this.ji))&&this.dd.set(s,-1),this.g.pd(y,!1)),m=p,this.g.Jf(m,-1),this.g.$q(m)):(this.g.kn(p,!0),this.g.Vj(p,m),this.g.Jf(p,y),this.g.Wg(p,this.g.Ma(y)),this.g.cp(p,!1),u+=m,a++)}for(this.g.Rl(this.X,a),this.g.Tj(this.X,u),h=0,l=this.g.ld;l!=-1;l=this.g.ue(l))h+=this.g.I(l);this.g.bC(h)},x.By=function(h,l,s,a){return new x(l,a).Ay(h,s)},x.clip=function(h,l,s,a,u){return x.Nu(h,l,null,s,a,u)},x.Nu=function(h,l,s,a,u,p){var y=h.getType();if(y==33)return u=h.D(),l.contains(u)?h:h.Ia();if(y==197)return u=new d.l,h.A(u),u.Ea(l)?(l=new d.Fh,h.copyTo(l),l.Xo(u),l):h.Ia();if(h.B())return h;if(l.B())return h.Ia();var m=new d.l;if(h.xc(m),l.contains(m))return h;if(!l.isIntersecting(m))return h.Ia();if((s!=null||isNaN(a))&&d.ta.ty(s,l,!1),!d.aa.xj(y))throw d.i.N();if((s=h.Bb)!=null&&(s=s.Fk)!=null){if((s=s.Ro(l))==1){if(y!=1736)throw d.i.fa("internal error");return(h=new d.Da(h.description)).tp(l),h}if(s==0)return h.Ia()}switch(y){case 550:for(p=null,y=h.I(),s=h.ub(0),a=0,u=new d.h,m=0;m<y;m++)s.tc(2*m,u),l.contains(u)||(a==0&&(p=h.Ia()),a<m&&p.Fd(h,a,m),a=m+1);return 0<a&&p.Fd(h,a,y),a==0?h:p;case 1736:case 1607:return x.By(h,l,u,p);default:throw d.i.fa("internal error")}},x.prototype.Mh=function(h,l){var s=new d.h;return this.g.D(h,s),h=new d.h,this.g.D(l,h),s.compare(h)},x}();d.ri=O}(te||(te={})),function(d){var O=new d.h,x=function(){function l(s,a,u,p,y){this.Pm=new d.h,this.Dk=new d.h,this.Pi=new d.h,this.g=s,this.Aw=u,this.no=p,this.Pm=a,this.yl=y,this.Dk.Rc(),this.Pi.Rc()}return l.prototype.xE=function(s){this.g.D(s,this.Dk),s=d.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var a=d.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return h.jG(s,a)},l.prototype.jz=function(s){return this.g.Pa(s,this.yl)},l.prototype.Py=function(s,a){return this.g.D(s,this.Dk),this.g.D(a,this.Pi),h.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},l}();d.sY=function(){};var h=function(){function l(){this.Pm=new d.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return l.iQ=function(s,a){var u=new l;return u.g=s,u.qa=a,u.Aw=a*a,u.$v=2*a,u.no=1/u.$v,u.BO()},l.Cv=function(s,a,u,p,y){return(s-=u)*s+(a-=p)*a<=y},l.jG=function(s,a){return d.O.Th(a,d.O.Th(s))},l.prototype.DO=function(s,a){this.g.Gc(s,O);for(var u=(O.y-this.Pm.y)*this.no,p=d.O.truncate((O.x-this.Pm.x)*this.no),y=d.O.truncate(u),m=u=0;1>=m;m+=1)for(var w=0;1>=w;w+=1){var S=l.jG(p+m,y+w),k=this.xl.rR(S);k!=-1&&(this.pq[u]=k,this.xs[u]=S,u++)}for(p=u-1;1<=p;p--)for(k=this.pq[p],y=p-1;0<=y;y--)if(k==this.pq[y]){this.xs[y]=-1,p!=--u&&(this.xs[p]=this.xs[u],this.pq[p]=this.pq[u]);break}for(y=0;y<u;y++)this.EO(s,this.xs[y],O,this.pq[y],a)},l.prototype.EO=function(s,a,u,p,y){for(var m=new d.h;p!=-1;p=this.xl.ER(p)){var w=this.xl.ja(p);s==w||a!=-1&&this.g.Pa(w,this.yl)!=a||(this.g.Gc(w,m),l.Cv(u.x,u.y,m.x,m.y,this.Aw)&&y.add(p))}},l.prototype.Xm=function(s,a,u){var p=this.g.Pa(s,this.qo),y=this.g.Pa(a,this.qo);return p==-1&&(p=this.zd.Ph(),this.zd.addElement(p,s),this.g.Ra(s,this.qo,p)),y==-1?this.zd.addElement(p,a):this.zd.Hy(p,y),this.g.Ra(a,this.qo,-2),a=this.YT(s,a),u&&(u=this.kw.xE(s),this.g.Ra(s,this.yl,u)),a},l.WT=function(s,a,u){s.Nb(a),u=s;var p=new d.h;l.XT(s.D(),a.D(),p),u.Cb(p)},l.XT=function(s,a,u){var p=s.x;s.x!=a.x&&(p=(1*s.x+1*a.x)/2);var y=s.y;s.y!=a.y&&(y=(1*s.y+1*a.y)/2),u.ma(p,y)},l.prototype.YT=function(s,a){var u=new d.h;this.g.D(s,u);var p=new d.h;this.g.D(a,p);var y=this.g.cG(s),m=y+(a=this.g.cG(a)),w=0,S=u.x;u.x!=p.x&&(S=(u.x*y+p.x*a)/m,w++);var k=u.y;return u.y!=p.y&&(k=(u.y*y+p.y*a)/m,w++),0<w&&this.g.Cb(s,S,k),this.g.vX(s,m),w!=0},l.prototype.BO=function(){var s=this.g.fd,a=this.g.IF();for(this.Pm=a.mz(),a=Math.max(a.ca(),a.R())/2147483646,this.$v<a&&(this.$v=a,this.no=1/this.$v),this.zd=new d.au,this.zd.At(d.O.truncate(this.g.fd/3+1)),this.zd.fn(d.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new x(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new d.dL(d.O.truncate(4*s/3),this.kw),this.xl.AW(this.g.fd),s=!1,a=this.g.ld;a!=-1;a=this.g.ue(a))for(var u=this.g.Ob(a);u!=-1;u=this.g.Rb(u))for(var p=this.g.Xa(u),y=0,m=this.g.Ja(u);y<m;y++){var w=this.kw.xE(p);this.g.Ra(p,this.yl,w),this.xl.addElement(p,w),p=this.g.U(p)}var S=new d.ia(0);for(S.Jb(10),a=this.g.ld;a!=-1;a=this.g.ue(a))for(u=this.g.Ob(a);u!=-1;u=this.g.Rb(u))for(p=this.g.Xa(u),y=0,m=this.g.Ja(u);y<m;y++){if(this.g.Pa(p,this.qo)!=-2)for(w=this.g.Pa(p,this.yl),this.xl.jd(p,w);this.DO(p,S),S.size!=0;){w=!1;for(var k=0,I=S.size;k<I;k++){var A=S.get(k),L=this.xl.ja(A);this.xl.vd(A),w=this.Xm(p,L,k+1==I)||w}if(s=s||w,S.clear(!1),!w)break}p=this.g.U(p)}return s&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),s},l.prototype.vN=function(){for(var s=new d.h,a=this.zd.je;a!=-1;a=this.zd.qz(a)){var u=this.zd.rc(a);for(this.g.D(this.zd.ja(u),s),u=this.zd.lb(u);u!=-1;u=this.zd.lb(u))this.g.mf(this.zd.ja(u),s)}},l}();d.Yt=h}(te||(te={})),function(d){var O=function(){function x(h){h===void 0&&(h=null),this.yg=null,this.Pb=!1,this.yg=h===null?[]:h}return x.prototype.copyTo=function(h){if(h.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");for(var l=0;l<this.yg.length;l++)h.yg.push(this.yg[l].Of())},x.prototype.count=function(){return this.yg.length},x.prototype.add=function(h){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(h.Of())},x.prototype.clear=function(){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},x.prototype.remove=function(h){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(h,1)},x.prototype.jg=function(){var h=new x;return this.copyTo(h),h},x.prototype.Of=function(){return this.jg()},x.prototype.transform=function(h,l,s,a){if(h.length<l)throw d.i.fa("invalid Argument");var u=s;for(s=0;s<this.yg.length;s++){var p=this.yg[s];if(p.qm()!=null){var y=p.Un,m=y?1:0,w=y?p.qm().getGeogcs2():p.qm().getGeogcs1();if(w=u/(w=w.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(w-1))for(u=0;u<l;u++)h[u][0]*=w,h[u][1]*=w;d.MC.geogToGeog(p.qm(),l,h,null,m),u=(y?p.qm().getGeogcs1():p.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(w=u/a,3552713678800501e-30<Math.abs(w-1))for(u=0;u<l;u++)h[u][0]*=w,h[u][1]*=w;return l},x.prototype.Nb=function(h){if(h==this)return!0;if(!(h instanceof x)||this.yg.length!=h.yg.length)return!1;for(var l=0;l<this.yg.length;l++)if(!this.yg[l].Nb(h.yg[l]))return!1;return!0},x.prototype.ix=function(){this.Pb=!0},x.prototype.toString=function(){for(var h="CGT ("+this.count()+") ",l=0,s=this.count();l<s;++l)h+=this.yg[l].toString()+", ";return 200<h.length?h.substring(0,197)+"... ("+h.length.toString()+" characters)":h},x.create=function(){return new x},x}();d.wC=O}(te||(te={})),function(d){var O,x=Math.PI,h=2*Math.PI,l=Math.PI/2,s=function(){function p(){}return p.TO=function(y,m){var w=new p;return w.x=y,w.y=m,w.type=0,w.Uh=0,w},p.al=function(y){var m=new p;return m.x=y.x,m.y=y.y,m.type=0,m.Uh=0,m},p.SO=function(y){var m=new p;return m.x=y.x,m.y=y.y,m.type=y.type,m.Uh=y.Uh,m},p.Pd=function(y,m,w){var S=new p;return S.x=y.x+m*Math.cos(w),S.y=y.y+m*Math.sin(w),S.type=y.type,S.Uh=y.Uh,S},p.Pu=function(y,m){var w=new p;return w.x=.5*(y.x+m.x),w.y=.5*(y.y+m.y),w.type=y.type,w.Uh=y.Uh,w},p.TE=function(y,m){var w=new p;return w.x=y.x+.001*(m.x-y.x),w.y=y.y+.001*(m.y-y.y),w.type=y.type,w.Uh=y.Uh,w},p}(),a=function(){};(O=d.fL||(d.fL={}))[O.Round=0]="Round",O[O.Bevel=1]="Bevel",O[O.Miter=2]="Miter",O[O.Square=3]="Square";var u=function(){function p(y){this.NA=this.Yb=this.wg=null,this.nd=y}return p.V=function(y,m,w,S,k,I){if(y==null||1>y.Db())throw d.i.N();return m==0||y.B()?y:((I=new p(I)).ko=y,I.Ka=m,I.qa=k,I.Ki=w,I.CA=S,I.Rx())},p.prototype.eM=function(){var y=this.ko,m=y.ac(),w=y.wc(),S=new d.h;return S.uc(w,m),S.normalize(),S.Hv(),S.scale(this.Ka),m.add(S),w.add(S),S=y.Ia(),y.Dc(m),y.Qc(w),S},p.prototype.dM=function(){var y=this.ko;if(0<this.Ka&&this.Ki!=2){var m=new d.Da;return m.ad(y,!1),this.ko=m,this.Rx()}return(y=new d.Fh(y.$)).W(this.Ka,this.Ka),y},p.prototype.tJ=function(y,m,w,S){return(m.x-y.x)*(S.x-w.x)+(m.y-y.y)*(S.y-w.y)},p.prototype.fc=function(y,m){if(m===void 0)this.Yb.push(y),this.gf++;else if(this.gf==0)this.fc(y);else{var w=this.Bw,S=this.wg[m==0?w-1:m-1],k=this.wg[m],I=this.tJ(S,k,this.Yb[this.gf-1],y);0<I?this.fc(y):0>I&&(0<this.tJ(S,k,k,this.Yb[this.gf-1])?(k=this.wg[m==0?w-2:m==1?w-1:m-2],w=s.Pd(S,this.Ka,Math.atan2(S.y-k.y,S.x-k.x)-l),this.Yb[this.gf-1]=w,this.Ki==1||this.Ki==2?(w=s.Pu(w,S),this.fc(w),w=s.Pd(S,this.Ka,this.Jv+l),(S=s.Pu(w,S)).type|=256,this.fc(S)):(w=s.Pd(S,this.Ka,this.Jv+l)).type|=256,this.fc(w),this.fc(y,m)):(w=s.Pd(k,this.Ka,this.Jv+l),this.fc(w),this.Ki==1||this.Ki==2?(w=s.Pu(w,k),this.fc(w),w=s.Pd(k,this.Ka,this.aA-l),(S=s.Pu(w,k)).type|=256,this.fc(S)):(w=s.Pd(k,this.Ka,this.aA-l)).type|=256,this.fc(w)))}},p.prototype.mE=function(){var y,m=this.Bw;this.gf=0;var w=.5*this.qa,S=0,k=0;for(y=0;y<m;y++){var I=this.wg[y],A=y==0?this.wg[m-1]:this.wg[y-1],L=y==m-1?this.wg[0]:this.wg[y+1],D=A.x-I.x,U=A.y-I.y,X=L.x-I.x,J=L.y-I.y,B=Math.atan2(U,D),Q=Math.atan2(J,X);if(this.Jv=B,this.aA=Q,y==0&&(S=B,k=Q),D=D*J-X*U,U=Q,Q<B&&(Q+=h),0<D*this.Ka)this.Ki==1||this.Ki==2?(B=s.Pd(I,this.Ka,B+l),this.fc(B),B=s.TE(I,B),this.fc(B),B=s.Pd(I,this.Ka,Q-l),(I=s.TE(I,B)).type|=256,this.fc(I),this.fc(B)):(D=.5*(Q-B),D=this.Ka/Math.abs(Math.sin(D)),B=s.Pd(I,D,.5*(B+Q)),this.fc(B,y));else if(512&I.type){for(D=1-w/Math.abs(this.Ka),A=1,L=0>this.Ka?-x:x,-1<D&&1>D&&(.017453292519943295>(U=2*Math.acos(D))&&(U=.017453292519943295),1<(A=d.O.truncate(x/U+1.5))&&(L/=A)),U=B+l,B=s.Pd(I,this.Ka,U),y==0&&(B.type|=1024),this.fc(B,y),D=this.Ka/Math.cos(L/2),U+=L/2,(B=s.Pd(I,D,U)).type|=1024,this.fc(B);0<--A;)U+=L,(B=s.Pd(I,D,U)).type|=1024,this.fc(B);(B=s.Pd(I,this.Ka,Q-l)).type|=1024,this.fc(B)}else if(this.Ki==1)B=s.Pd(I,this.Ka,B+l),this.fc(B,y),B=s.Pd(I,this.Ka,Q-l),this.fc(B);else if(this.Ki==0)for(D=1-w/Math.abs(this.Ka),A=1,L=Q-l-(B+l),-1<D&&1>D&&(.017453292519943295>(U=2*Math.acos(D))&&(U=.017453292519943295),1<(A=d.O.truncate(Math.abs(L)/U+1.5))&&(L/=A)),D=this.Ka/Math.cos(.5*L),U=B+l+.5*L,B=s.Pd(I,D,U),this.fc(B,y);0<--A;)U+=L,B=s.Pd(I,D,U),this.fc(B);else this.Ki==2?(D=A.x-I.x,U=A.y-I.y,.99999999<(A=(D*(X=L.x-I.x)+U*(J=L.y-I.y))/Math.sqrt(D*D+U*U)/Math.sqrt(X*X+J*J))?(B=s.Pd(I,1.4142135623730951*this.Ka,Q-.25*x),this.fc(B,y),B=s.Pd(I,1.4142135623730951*this.Ka,Q+.25*x),this.fc(B)):(A=Math.abs(this.Ka/Math.sin(.5*Math.acos(A))))>(L=Math.abs(this.CA*this.Ka))?(D=.5*(Q-B),D=this.Ka/Math.abs(Math.sin(D)),B=s.Pd(I,D,.5*(B+Q)),Q=d.h.construct(B.x,B.y),B=d.h.construct(I.x,I.y),(I=new d.h).uc(Q,B),(Q=new d.h).HW(L/I.length(),I,B),B=(A-L)*Math.abs(this.Ka)/Math.sqrt(A*A-this.Ka*this.Ka),0<this.Ka?I.Hv():I.ar(),I.scale(B/I.length()),(B=new d.h).add(Q,I),(A=new d.h).uc(Q,I),B=s.al(B),this.fc(B,y),B=s.al(A),this.fc(B)):(D=.5*(Q-B),D=this.Ka/Math.abs(Math.sin(D)),B=s.Pd(I,D,.5*(B+Q)),this.fc(B,y))):(Q=U,0<this.Ka?(Q>B&&(Q-=h),A=B-Q<l):(Q<B&&(Q+=h),A=Q-B<l),A?(U=0>(D=1.4142135623730951*this.Ka)?B+.25*x:B+.75*x,B=s.Pd(I,D,U),this.fc(B,y),U=0>D?Q-.25*x:Q-.75*x,B=s.Pd(I,D,U),this.fc(B)):(D=.5*(Q-B),D=this.Ka/Math.abs(Math.sin(D)),Q<B&&(Q+=h),B=s.Pd(I,D,(B+Q)/2),this.fc(B,y)))}return this.Jv=S,this.aA=k,this.fc(this.Yb[0],0),I=s.SO(this.Yb[this.gf-1]),this.Yb[0]=I,this.wW()},p.prototype.Au=function(y,m){if(!(2>m))for(var w=0;w<m;w++){var S=this.Yb[y+w];w!=0?this.NA.Ci(d.h.construct(S.x,S.y)):this.NA.Lt(d.h.construct(S.x,S.y))}},p.prototype.fM=function(y,m,w){var S=y.Ba(m),k=y.Vc(m);if(this.Yb=[],this.NA=w,y.dc(m)){for(m=y.Na(S);y.Na(k-1).qb(m);)k--;if(2<=k-S){for(this.Bw=k-S,this.wg=[],m=S;m<k;m++)this.wg.push(s.al(y.Na(m)));this.mE()&&this.Au(0,this.gf-1)}}else{for(m=y.Na(S);S<k&&y.Na(S+1).qb(m);)S++;for(m=y.Na(k-1);S<k&&y.Na(k-2).qb(m);)k--;if(2<=k-S){for(this.Bw=2*(k-S)-2,this.wg=[],(w=s.al(y.Na(S))).type|=1536,this.wg.push(w),m=S+1;m<k-1;m++)w=s.al(y.Na(m)),this.wg.push(w);for((w=s.al(y.Na(k-1))).type|=512,this.wg.push(w),m=k-2;m>=S+1;m--)(w=s.al(y.Na(m))).type|=1024,this.wg.push(w);if(this.mE())if(2<=this.Yb.length){for(y=-1,(k=!!(1024&this.Yb[this.gf-1].type))||(y=0),m=1;m<this.gf;m++)(S=!!(1024&this.Yb[m].type))?k||1<(k=m-1)-y+1&&this.Au(y,k-y+1):k&&(y=m-1),k=S;k||1<(k=this.gf-1)-y+1&&this.Au(y,k-y+1)}else y=0,k=this.gf-1,0<=y&&1<=k-y&&this.Au(y,k-y+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},p.prototype.wW=function(){for(var y=!1,m=0;m<this.gf;m++){var w=this.Yb[m];w.qh=m+1,w.sh=m-1,this.Yb[m]=w}for((w=this.Yb[0]).sh=this.gf-2,this.Yb[0]=w,(w=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=w,m=w=0;m<this.gf;m++)if(256&this.Yb[w].type){var S=this.GP(w);if(S==-1){y=!0;break}w=S}else w=this.Yb[w].qh;return!y&&(this.QO(w),!0)},p.prototype.GP=function(y){for(var m,w,S=this.gf-1,k=y,I=1;I<=S-2;I++){m=k=this.Yb[k].qh,w=y;for(var A=1;A<=I;A++){if(w=this.Yb[w].sh,!(256&this.Yb[w].type||256&this.Yb[m].type)){var L=this.gS(w,m);if(L!=-1)return L}m=this.Yb[m].sh}}return-1},p.prototype.gS=function(y,m){var w=this.Yb[this.Yb[y].sh],S=this.Yb[y],k=this.Yb[this.Yb[m].sh],I=this.Yb[m];if(!this.JW(w,S,k,I))return-1;var A=new a;return this.xQ(w,S,k,I,A)&&!A.bE&&d.O.bK((S.x-w.x)*(I.y-k.y)-(S.y-w.y)*(I.x-k.x))!=d.O.bK(this.Ka)?(w=this.Yb[y].sh,A.an.type=S.type,A.an.qh=m,A.an.sh=w,this.Yb[y]=A.an,A.an=this.Yb[m],A.an.sh=y,this.Yb[m]=A.an,m):-1},p.prototype.JW=function(y,m,w,S){return Math.max(y.x,m.x)>=Math.min(w.x,S.x)&&Math.max(w.x,S.x)>=Math.min(y.x,m.x)&&Math.max(y.y,m.y)>=Math.min(w.y,S.y)&&Math.max(w.y,S.y)>=Math.min(y.y,m.y)},p.prototype.xQ=function(y,m,w,S,k){k.bE=!1;var I=(m.y-y.y)*(S.x-w.x)-(m.x-y.x)*(S.y-w.y),A=(w.y-y.y)*(m.x-y.x)-(w.x-y.x)*(m.y-y.y);if(0<=(I=I==0?2:A/I)&&1>=I){var L=I;if(I=(S.y-w.y)*(m.x-y.x)-(S.x-w.x)*(m.y-y.y),A=(y.y-w.y)*(S.x-w.x)-(y.x-w.x)*(S.y-w.y),0<=(I=I==0?2:A/I)&&1>=I)return k.an=s.TO(y.x+I*(m.x-y.x),y.y+I*(m.y-y.y)),k.an.Uh=w.Uh+L*(S.Uh-w.Uh),L!=0&&L!=1||I!=0&&I!=1||(k.bE=!0),k.VY=I,k.WY=L,!((L==0||L==1)&&0<I&&1>I||(I==0||I==1)&&0<L&&1>L)}return!1},p.prototype.QO=function(y){for(;this.Yb[y].sh<y;)y=this.Yb[y].sh;var m=0,w=y;do w=this.Yb[w],this.Yb[m]=w,w=w.qh,m++;while(w!=y);this.Yb[m]=this.Yb[0],this.gf=m+1},p.prototype.$C=function(y){var m=this.ko,w=m.Ga();if(w!=null){w.Zi();for(var S=-1;w.$a();)S++,this.fM(m,S,y)}},p.prototype.Rx=function(){var y=this.ko.getType();return y==322?this.eM():y==197?this.dM():d.aa.yd(y)?((y=new d.Ta).oc(this.ko,!0),this.ko=y,this.Rx()):y==1607?(y=new d.Ta,this.$C(y),y):y==1736?(y=new d.Da,this.$C(y),y):null},p}();d.IK=u}(te||(te={})),function(d){var O=function(){function s(a){this.qk=a}return s.prototype.D=function(a,u){this.qk.g.D(a,u)},s.prototype.vd=function(a){var u=this.qk.Fa.ja(a);this.qk.Fa.vd(a,-1),this.qk.g.pd(u,!1)},s}(),x=function(){function s(a){this.qk=a}return s.prototype.D=function(a,u){this.qk.IT.D(a,u)},s.prototype.vd=function(a){this.qk.Fa.vd(a,-1)},s}(),h=function(){function s(a){this.qk=a}return s.prototype.D=function(a,u){u.L(this.qk.LT[a])},s.prototype.vd=function(a){this.qk.Fa.vd(a,-1)},s}(),l=function(){function s(a){a===void 0?(this.Fa=new d.Yj,this.Fa.De(20),this.g=new d.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new O(this)):a instanceof Array?(this.Fa=new d.Yj,this.Fa.De(20),this.LT=a,this.Xh=new h(this)):(this.Fa=new d.Yj,this.Fa.De(20),this.IT=a,this.Xh=new x(this))}return s.prototype.Ib=function(a){var u=a.getType();if(d.Gx.xj(u))this.jN(a);else if(d.Vk.yd(u))this.oN(a);else if(u==197)this.gN(a);else{if(u!=33)throw d.i.N("invalid shape type");this.nN(a)}},s.prototype.cR=function(){var a=new d.Sa,u=this.Fa.rc(-1),p=new d.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(u),a),p.nf(a),u=this.Fa.lb(u);u!=-1;u=this.Fa.lb(u))this.g.Vi(this.Fa.ja(u),a),p.lineTo(a);return p},s.RO=function(a){var u=new s(a),p=a.I(),y=1,m=new d.h,w=new d.h,S=new d.h;for(a.D(0,m);a.D(y,w),w.Rz(m)&&y<p-1;)y++;for(u.Fa.addElement(0,-1),u.Fa.xn(y),p=y+1;p<a.I();p++)a.D(p,S),(y=u.pC(S))!=-1&&u.Fa.Sj(y,p);for(S=new d.Sa,y=u.Fa.rc(-1),p=new d.Da(a.description),a.ve(u.Fa.ja(y),S),p.nf(S),y=u.Fa.lb(y);y!=-1;y=u.Fa.lb(y))a.ve(u.Fa.ja(y),S),p.lineTo(S);return p},s.construct=function(a,u,p){for(var y=new s(a),m=1,w=a[0];a[m].Rz(w)&&m<u-1;)m++;for(y.Fa.addElement(0,-1),y.Fa.xn(m),m+=1;m<u;m++)(w=y.pC(a[m]))!=-1&&y.Fa.Sj(w,m);for(a=0,u=y.Fa.rc(-1);u!=-1;u=y.Fa.lb(u))p[a++]=y.Fa.ja(u);return a},s.JG=function(a,u){var p=a.Ba(u),y=a.Vc(u);if(u=!a.dc(u)&&a.Nn(u),a=a.ub(0),y*=2,u&&(y-=2),6>y-(p*=2))return!0;u=new d.h;var m=new d.h,w=new d.h;a.tc(p,u),a.tc(p+2,m),a.tc(p+4,w);var S=s.Wu(m,w,u);if(S.ps()||!s.um(S.value()))return!1;var k=d.h.construct(m.x,m.y),I=new d.h;for(p+=6;p<y;p+=2)if(I.L(m),m.L(w),a.tc(p,w),(S=s.Wu(m,w,u)).ps()||!s.um(S.value())||(S=s.Wu(k,w,u)).ps()||!s.um(S.value())||(S=s.Wu(m,w,I)).ps()||!s.um(S.value()))return!1;return!0},s.prototype.jN=function(a){for(var u=new d.Sa,p=new d.h,y=0;y<a.I();y++){a.D(y,p);var m=this.Cr(p);if(m!=-1){a.ve(y,u);var w=this.g.fc(this.Ss,u);this.Fa.Sj(m,w)}}},s.prototype.gN=function(a){for(var u=new d.Sa,p=new d.h,y=0;4>y;y++){a.mB(y,p);var m=this.Cr(p);if(m!=-1){a.Hf(y,u);var w=this.g.fc(this.Ss,u);this.Fa.Sj(m,w)}}},s.prototype.oN=function(a){var u=new d.Sa,p=a.ac();if((p=this.Cr(p))!=-1){a.To(u);var y=this.g.fc(this.Ss,u);this.Fa.Sj(p,y)}p=a.wc(),(p=this.Cr(p))!=-1&&(a.Po(u),a=this.g.fc(this.Ss,u),this.Fa.Sj(p,a))},s.prototype.nN=function(a){var u=a.D();(u=this.Cr(u))!=-1&&(a=this.g.fc(this.Ss,a),this.Fa.Sj(u,a))},s.prototype.Cr=function(a){var u=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var p=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return a.Rz(p)||(u=this.Fa.xn(-5)),u}return this.pC(a)},s.prototype.pC=function(a){var u=-1;do{var p=this.Fa.rc(-1),y=this.Fa.Fc(-1),m=this.Fa.ja(p),w=this.Fa.ja(y),S=new d.h,k=new d.h;if(this.Xh.D(m,S),this.Xh.D(w,k),m=d.h.Uq(k,a,S),s.um(m))u=this.Fa.xn(-1),(S=this.nC(a,y,p))!=p&&this.oC(a,p,this.Fa.we(S));else if(s.CG(m)){k=this.Fa.sv(-1);var I=this.Fa.rc(-1),A=this.Fa.Fc(-1);for(m=new d.h,w=new d.h;I!=this.Fa.we(A);){var L=this.Fa.ja(k);this.Xh.D(L,m),L=d.h.Uq(m,a,S),s.CG(L)?(A=k,k=this.Fa.ll(k)):(I=k,k=this.Fa.Xp(k))}if(k=A,S=I,L=this.Fa.ja(k),I=this.Fa.ja(S),this.Xh.D(L,m),this.Xh.D(I,w),S!=p&&(m=d.h.Uq(w,a,m),!s.um(m)))continue;u=this.Fa.zu(S,k,-2,!1),this.oC(a,k,y),this.nC(a,S,p)}else this.sb==null&&(this.sb=new d.yb),this.sb.Dc(k),this.sb.Qc(S),0>(S=this.sb.fe(a,!0))?(S=this.Fa.we(y),this.Fa.vd(y,-1),u=this.Fa.xn(-3),this.nC(a,S,p)):1<S&&(S=this.Fa.lb(p),this.Fa.vd(p,-1),u=this.Fa.zu(-1,S,-3,!1),this.oC(a,S,y))}while(!1);return u},s.prototype.oC=function(a,u,p){if(u!=p){var y=this.Fa.ja(u),m=this.Fa.lb(u),w=new d.h,S=new d.h;for(this.Xh.D(y,w);u!=p&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(m),S),y=d.h.Uq(S,a,w),!s.um(y));)y=u,u=m,w.L(S),m=this.Fa.lb(u),this.Xh.vd(y)}},s.prototype.nC=function(a,u,p){if(u==p)return p;var y=this.Fa.ja(u),m=this.Fa.we(u),w=new d.h,S=new d.h;for(this.Xh.D(y,w);u!=p&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(m),S),y=d.h.Uq(w,a,S),!s.um(y));)y=u,u=m,w.L(S),m=this.Fa.we(u),this.Xh.vd(y);return u},s.Wu=function(a,u,p){var y=new d.Wb;y.set(u.x),y.sub(a.x);var m=new d.Wb;m.set(p.y),m.sub(a.y);var w=new d.Wb;return w.set(u.y),w.sub(a.y),(u=new d.Wb).set(p.x),u.sub(a.x),y.Ag(m),w.Ag(u),y.sub(w),y},s.um=function(a){return 0>a},s.CG=function(a){return 0<a},s}();d.Zt=l}(te||(te={})),function(d){var O=function(){function x(h){this.g=null,this.tH=!0,this.nd=h}return x.zU=function(h,l,s){return h=d.ta.Er(h),d.Yt.Cv(l.Lg(),l.ih(),s.Lg(),s.ih(),d.lc.ox(h))},x.CO=function(h,l){var s=new d.Sa;return d.Yt.WT(h,l,s),s},x.V=function(h,l,s,a){return(s=new x(s)).g=h,s.qa=l,s.tH=a,s.EM()},x.prototype.nM=function(h){return d.Yt.iQ(this.g,h)},x.prototype.sM=function(h){return d.$t.V(this.g,h,this.nd)},x.prototype.EM=function(){var h=this.qa,l=d.ta.Er(h),s=1.00001*(h=d.ta.rN(h));h*=1.000001;for(var a=!1,u=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),p=0,y=this.g.jS();;p++){if(p>u)throw d.i.fa("Internal Error: max number of iterations exceeded");var m=this.nM(l);if(a=a||m,this.tH&&(m=this.g.Gp(l,!0,!1)!=0,a=a||m),m=!1,(p==0||y||d.$t.kI(!0,this.g,h,null,this.nd))&&(m=this.sM(s),a=a||m),!m)break;d.mp.zp(this.nd)}return a},x}();d.Tk=O}(te||(te={})),function(d){var O=function(){function h(l){this.$d=this.Mc=null,this.Ys=0,this.Ub=l,this.cA=!0}return h.prototype.uv=function(l,s){var a=this.g.bc(l);if(a==null){if(!this.g.ed(l,s))return null;a=s}return a},h.prototype.Xq=function(){var l;l===void 0&&(l=!1),this.Ys++,!l&&4095&this.Ys||(this.Ys=0,d.mp.zp(this.Ub))},h.prototype.nP=function(){var l=this.g.Yq(!1),s=!1,a=new d.yb,u=new d.yb,p=new d.l;p.Oa();var y=new d.l;y.Oa();for(var m=new d.Sa,w=new d.TC,S=l.next();S!=-1;S=l.next()){d.mp.zp(this.Ub);var k=null,I=!1;if(!d.aa.Rn(this.g.ic(l.ck))){if((k=this.uv(S,a))==null)continue;if(k.A(p),p.W(this.qa,this.qa),k.Bi(this.qa)){if(!k.Bi(0))continue;I=!0,k=null}}var A=this.g.Yq(l),L=A.next();for(L!=-1&&(L=A.next());L!=-1;L=A.next()){var D=null,U=!1;if(!d.aa.Rn(this.g.ic(A.ck))){if((D=this.uv(L,u))==null)continue;if(D.A(y),D.Bi(this.qa)){if(!D.Bi(0))continue;U=!0,D=null}}var X=0,J=0;if(k!=null&&D!=null)p.HG(y)&&(w.Oo(k),w.Oo(D),w.Ea(this.qa,!1),0<(X=w.ol(0))+(J=w.ol(1))&&(this.g.jr(S,w,0,!0),this.g.jr(L,w,1,!0)),w.clear());else if(k!=null){var B=new d.h;if(this.g.D(L,B),p.contains(B)){if(w.Oo(k),this.g.Vi(L,m),w.Kz(this.qa,m,!1),0<(X=w.ol(0)))if(this.g.jr(S,w,0,!0),U){for(U=-1,B=this.g.U(L);B!=-1&&B!=L&&(U=B,(D=this.uv(B,u))!=null&&D.Bi(0));B=this.g.U(B));for(B=L;B!=-1&&(this.g.Dh(B,w.Bf),B!=U);B=this.g.U(B));}else this.g.Dh(L,w.Bf);w.clear()}}else{if(D==null)continue;if(B=new d.h,this.g.D(S,B),y.W(this.qa,this.qa),y.contains(B)){if(w.Oo(D),this.g.Vi(S,m),w.Kz(this.qa,m,!1),0<(J=w.ol(0)))if(this.g.jr(L,w,0,!0),I){for(U=-1,B=this.g.U(S);B!=-1&&B!=S&&(U=B,(D=this.uv(B,u))!=null&&D.Bi(0));B=this.g.U(B));for(B=S;B!=-1&&(this.g.Dh(B,w.Bf),B!=U);B=this.g.U(B));}else this.g.Dh(S,w.Bf);w.clear()}}if(X+J!=0){if(X!=0){if((k=this.g.bc(S))==null){if(!this.g.ed(S,a))continue;k=a,a.A(p)}else k.A(p);if(k.Bi(this.qa))break}s=!0}}}return s},h.prototype.oP=function(){return this.QU()},h.prototype.QU=function(){return new d.RC().PX(this.g,this.qa)},h.prototype.lI=function(){var l=!1;this.Mc==null&&(this.Mc=new d.Yj);var s=new d.ia(0);s.Jb(this.g.fd+1);for(var a=this.g.Yq(),u=a.next();u!=-1;u=a.next())s.add(u);this.g.nx(s,s.size),s.add(-1),a=this.g.Gd(),u=this.g.Gd(),this.$d=new d.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var p=new d.ia(0),y=new d.ia(0),m=0;new d.h;var w=this.g.td;this.g.vb.mc();for(var S,k,I=this.g.vb.za[0].o,A=s.get(m++);A!=-1;){var L=S=I[2*(k=w.T(A,0))],D=k=I[2*k+1];do{var U=w.T(A,2),X=w.T(A,1);if(U!=-1){var J=w.T(U,0),B=I[2*J];0>(D<(J=I[2*J+1])?-1:D>J?1:L<B?-1:L>B?1:0)&&(y.add(A),y.add(U))}X!=-1&&(B=I[2*(J=w.T(X,0))],0>(D<(J=I[2*J+1])?-1:D>J?1:L<B?-1:L>B?1:0)&&(y.add(X),y.add(X))),(B=this.g.Pa(A,a))!=-1&&(p.add(B),this.g.Ra(A,a,-1)),(B=this.g.Pa(A,u))!=-1&&(p.add(B),this.g.Ra(A,u,-1)),(A=s.get(m++))!==-1&&(L=I[2*(D=w.T(A,0))],D=I[2*D+1])}while(A!=-1&&L===S&&D===k);for(L=p.size==1&&y.size==2,B=D=-1,U=0,X=p.size;U<X;U++){J=p.get(U);var Q=this.Mc.we(J);if(Q==-1||p.hG(Q)||(D=Q),(J=this.Mc.lb(J))==-1||p.hG(J)||(B=J),D!=-1&&B!=-1)break}for(this.$d.$J(k,S),U=0,X=p.size;U<X;U++)J=p.get(U),this.Mc.vd(J,-1);if(p.clear(!1),!L&&D!=-1&&B!=-1&&this.qO(D,B)){l=!0,this.Ni=this.$d.rm();break}for(U=0,X=y.size;U<X;U+=2){if(k=y.get(U),S=y.get(U+1),L?(k=this.Mc.zu(D,B,k,!0),L=!1):k=this.Mc.addElement(k,-1),this.$d.rg){this.Ni=this.$d.rm(),l=!0;break}this.g.Pa(S,a)==-1?this.g.Ra(S,a,k):this.g.Ra(S,u,k)}if(l)break;y.Bh(0)}return this.g.Td(a),this.g.Td(u),l},h.prototype.qO=function(l,s){return this.$d.compare(this.Mc,this.Mc.ja(l),s),l=this.$d.rg,this.$d.Kr(),l},h.yE=function(l){for(var s=l.ld;s!=-1;s=l.ue(s))if(d.aa.Hc(l.ic(s)))return!0;return!1},h.fQ=function(l,s,a,u){return!!h.yE(l)&&((s=new h(u)).g=l,s.qa=a,15>l.fd?l=s.nP():s.oP())},h.V=function(l,s,a){return h.fQ(l,l.IF(),s,a)},h.kI=function(l,s,a,u,p){if(!h.yE(s))return!1;var y=new h(p);if(y.g=s,y.qa=a,y.cA=l,y.lI())return u!=null&&u.Wt(y.Ni),!0;var m=new d.Dd;return m.$B(),s.Oc(m),(y=new h(p)).g=s,y.qa=a,y.cA=l,l=y.lI(),m.$B(),s.Oc(m),!!l&&(u!=null&&u.Wt(y.Ni),!0)},h.Ml=function(l,s){return!(16>(l=l.I()))&&2*l+Math.log(l)*Math.LOG10E/Math.log(2)*s<1*l*s},h.lP=function(l,s,a,u){var p=s.getType();if(d.aa.Hc(p))return new h(u).mP(l,s,a);throw d.i.fa("crack_A_with_B")},h.prototype.mP=function(l,s,a){var u=new d.l;l.xc(u);var p=new d.l;if(s.xc(p),p.W(a,a),!p.isIntersecting(u))return l;var y=l.Bb,m=null;y!=null&&(m=y.Fb),h.Ml(l,l.I())&&(m=d.ta.jj(l,p));var w=m!=null?m.getIterator():null,S=s.Ga();s=l.Ga();var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=[];S.$a();)for(;S.Ha();){var I=S.ha();if(m!=null){for(w.Uo(I,a),y=w.next();y!=-1;y=w.next())if(this.Xq(),s.Vb(m.ja(y),-1),s.Ha()){var A=(y=s.ha()).Ea(I,null,k,null,a);for(y=0;y<A;++y){var L=k[y];if(L!=0&&L!=1){var D=s.wb(),U=new x;U.t=L,U.index=D,p.push(U)}}}}else{var X=new d.l;if(I.xc(X),X.W(a,a),u.isIntersecting(X)){for(s.Zi();s.$a();)for(;s.Ha();)if(this.Xq(),y=s.ha(),L=new d.l,y.xc(L),L.isIntersecting(X))for(A=y.Ea(I,null,k,null,a),y=0;y<A;++y)(L=k[y])!=0&&L!=1&&(D=s.wb(),(U=new x).t=L,U.index=D,p.push(U))}}}if(p.length==0)return l;for(p=p.sort(x.Ey),l=l.Ia(),s.Zi();s.$a()&&!s.Ha(););for(a=s.ha(),u=new d.ig,m=-1,y=0,w=p.length;y<w;){for(k=p[y].index,S=y+1;S<w&&p[S].index==k;)++S;for(;s.wb()<k;){if(this.Xq(),I=s.Ha(),L=s.gb,(X=I||!s.On()||s.Pn())&&l.oc(a,m!=L),m=L,!I)for(;s.$a()&&!s.Ha(););a=s.ha()}for(k=0;y<S;y++)(L=p[y].t)!=k&&(a.ah(k,L,u),k=L,L=s.gb,l.oc(u.get(),m!=L),m=L);if((X=(I=s.Ha())||!s.On()||s.Pn())&&(a.ah(k,1,u),l.oc(u.get(),!1)),I)a=s.ha();else{for(;s.$a()&&!s.Ha(););a=s.Ha()?s.ha():null}y=S}for(a!=null&&(L=s.gb,(X=(I=s.Ha())||!s.On()||s.Pn())&&l.oc(a,m!=L),m=L),I=s.Ha();;){if(!I){for(;s.$a()&&!(I=s.Ha()););if(!I)break}a=s.ha(),L=s.gb,(X=(I=s.Ha())||!s.On()||s.Pn())&&l.oc(a,m!=L),m=L}return l},h}();d.$t=O;var x=function(){function h(){}return h.Ey=function(l,s){return l.index==s.index?l.t>s.t?1:l.t<s.t?-1:0:l.index>s.index?1:-1},h}()}(te||(te={})),function(d){var O;(O=d.KK||(d.KK={}))[O.Left=0]="Left",O[O.Right=1]="Right",O[O.Coincident=2]="Coincident",O[O.Undefined=3]="Undefined",O[O.Uncut=4]="Uncut";var x=function(s,a,u,p,y,m,w,S,k,I,A){this.X=s,this.bt=a,this.Ns=u,this.tg=p,this.Lm=I,this.Al=A};d.uY=x;var h=function(){function s(a,u){this.JH=a,this.Hi=u}return s.prototype.qM=function(a,u){var p=new d.h;this.Hi.D(a,p);var y=new d.h;return this.Hi.D(u,y),(p=p.compare(y))!=0?p:(a=this.Hi.Pa(a,this.JH))<(u=this.Hi.Pa(u,this.JH))?-1:a==u?0:1},s}(),l=function(s,a,u,p,y,m,w,S,k){this.tg=s,this.Ns=a,this.OA=u,this.UH=p,this.Ei=y,this.Al=m,this.Lm=w,this.VH=S,this.OT=k};d.tY=l,d.LK=function(){function s(){}return s.JK=function(a,u,p,y,m,w){if(u.B())a=new x(u,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(a);else if(p.B())a=new x(u,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(a);else{var S=new d.gd;if(S.Ib(u),S.Ib(p),d.Tk.V(S,y,w,!0),S.fd==0)a=new x(u.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),m.push(a);else{for(u=0,p=S.Gd(),y=S.ld;y!=-1;y=S.ue(y))for(w=S.Ob(y);w!=-1;w=S.Rb(w))for(var k=S.Xa(w),I=0,A=S.Ja(w);I<A;k=S.U(k),I++)S.Ra(k,p,u++);u=s.HM(p,S),s.cM(a,u,S,m)}}},s.HM=function(a,u){for(var p=u.fd,y=new d.ia(0),m=u.ld;m!=-1;m=u.ue(m))for(var w=u.Ob(m);w!=-1;w=u.Rb(w))for(var S=u.Xa(w),k=0,I=u.Ja(w);k<I;S=u.U(S),k++)y.add(S);var A=new h(a,u);y.Vd(0,p,function(Se,xe){return A.qM(Se,xe)}),a=[];var L=[],D=u.Gd(),U=u.Gd();m=u.ld,w=u.ue(m),I=new d.h;var X=new d.h,J=y.get(0),B=u.bd(J),Q=u.Qf(B);u.D(J,I);var oe=1;for(S=0;oe<p-1;){var se=!1;for(k=oe;k<p;k++)if(k!=S){var ye=y.get(k),de=u.bd(ye),Me=u.Qf(de);if(u.D(ye,X),!I.qb(X))break;Q==m&&Me==w&&(se=s.uM(D,U,u,a,L,B,J,de,ye))}if(se||S==oe-1){if(se&&S==oe-1&&oe--,++S==p)break;J=y.get(S),B=u.bd(J),Q=u.Qf(B),u.D(J,I)}se||(oe=S+1)}for(p=[],m=u.ld;m!=-1;m=u.ue(m))for(w=u.Ob(m);w!=-1;w=u.Rb(w))for(y=u.Xa(w),k=0,I=u.Ja(w);k<I;y=u.U(y),k++){if(0<=(S=u.Pa(y,U)))for(;S<L.length&&L[S].tg==y;)p.push(L[S++]);if(0<=(S=u.Pa(y,D)))for(;S<a.length&&a[S].tg==y;)p.push(a[S++])}return u.Td(D),u.Td(U),p},s.uM=function(a,u,p,y,m,w,S,k,I){var A=p.rj(w),L=p.rj(k),D=p.Xa(w),U=p.Xa(k),X=p.Ma(S),J=p.Ma(I),B=!1,Q=!1,oe=!1,se=!1;return S!=D&&(I!=U&&(B=s.vM(a,p,y,w,X,k,J)),I!=L&&(Q=s.wM(a,p,y,w,X,k,I))),S!=A&&(I!=U&&(oe=s.xM(u,p,m,w,S,k,J,D)),I!=L&&(se=s.yM(u,p,m,w,S,k,I,D))),B&&Q&&oe?(a=y.length-1,m[se?m.length-2:m.length-1].Ei==2&&(y[a-1]=y[a],--y.length)):B&&Q&&se&&m[m.length-1].Ei==2&&(m=y[y.length-1],--y.length,p.Pa(m.tg,a)==y.length&&p.Ra(m.tg,a,-1)),B||Q||oe||se},s.vM=function(a,u,p,y,m,w,S){var k=new d.yb,I=new d.yb,A=[0,0],L=[0,0],D=u.bc(m);return D==null&&(u.ed(m,k),D=k),(k=u.bc(S))==null&&(u.ed(S,I),k=I),2>(D=D.Ea(k,null,A,L,0))&&(y=new l(m,y,A[0],NaN,D,S,w,L[0],NaN),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1)),!0},s.wM=function(a,u,p,y,m,w,S){var k=new d.yb,I=new d.yb,A=[0,0],L=[0,0],D=u.bc(m);return D==null&&(u.ed(m,k),D=k),(k=u.bc(S))==null&&(u.ed(S,I),k=I),2>(D=D.Ea(k,null,A,L,0))&&(y=new l(m,y,A[0],NaN,D,S,w,L[0],NaN),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1),!0)},s.xM=function(a,u,p,y,m,w,S,k){var I=new d.yb,A=new d.yb,L=[0,0],D=[0,0],U=u.bc(m);return U==null&&(u.ed(m,I),U=I),(I=u.bc(S))==null&&(u.ed(S,A),I=A),(U=U.Ea(I,null,L,D,0))==2?(y=new l(m,y,L[0],L[1],U,S,w,D[0],D[1]),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1),!0):(A=!1,m==k&&(y=new l(m,y,L[0],NaN,U,S,w,D[0],NaN),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1),A=!0),A)},s.yM=function(a,u,p,y,m,w,S,k){var I=new d.yb,A=new d.yb,L=[0,0],D=[0,0],U=u.bc(m);return U==null&&(u.ed(m,I),U=I),(I=u.bc(S))==null&&(u.ed(S,A),I=A),(U=U.Ea(I,null,L,D,0))==2?(y=new l(m,y,L[0],L[1],U,S,w,D[0],D[1]),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1),!0):(A=!1,m==k&&(y=new l(m,y,L[0],NaN,U,S,w,D[0],NaN),p.push(y),0>(y=u.Pa(m,a))&&u.Ra(m,a,p.length-1),A=!0),A)},s.cM=function(a,u,p,y){var m=[];m[0]=new d.h,m[1]=new d.h,m[2]=new d.h,m[3]=new d.h;var w=new d.h,S=new d.h,k=new d.h,I=new d.h,A=null;y!=null&&(A=new d.ig).Or();var L=0,D=null,U=new d.yb;new d.yb;for(var X=p.Ob(p.ld);X!=-1;X=p.Rb(X)){for(var J=4,B=-1,Q=-1,oe=-1,se=-1,ye=NaN,de=!0,Me=!1,Se=!0,xe=!0,ze=!0,Ae=0,et=X,ot=0,Ue=p.Xa(X),Mt=p.Ja(X),mi=0;mi<Mt;Ue=p.U(Ue),mi++){var gi=p.bc(Ue);if(gi==null){if(!p.ed(Ue,U))continue;gi=U}Q==-1&&(Q=Ue);for(var Ft=0;L<u.length&&Ue==u[L].tg;){B=u[L].Ns;var Ut=u[L].tg,We=u[L].OA,vi=u[L].Lm,Tt=u[L].Al,bn=u[L].VH;if(u[L].Ei==2){if(Me||(et=B,Q=Ut,ot=We,oe=vi,se=Tt,ye=bn,J=2,y!=null?D=new d.Ta:Ae=0,ze=!1,xe=!0),We=u[L].UH,bn=u[L].OT,y!=null?(gi.ah(Ft,u[L].UH,A),D.oc(A.get(),xe)):Ae++,Ft=We,Me=!0,xe=de=!1,L+1==u.length||u[L+1].Ei!=2||u[L+1].tg==Ut&&u[L+1].OA!=Ft){if(y!=null){var Zt=new x(D,2,B,Ut,We,J,et,Q,ot,vi,Tt);y.push(Zt)}else null.add(Ae);et=B,Q=Ut,ot=We,oe=vi,se=Tt,ye=bn,J=2,Me=de=!1,xe=ze=!0}}else{var cn=p.U(Ut);if(L<u.length-1&&u[L+1].tg==cn&&u[L+1].Al==Tt&&u[L+1].Ei==2)We!=Ft&&(ze&&(y!=null?D=new d.Ta:Ae=0),de=0<L&&u[L-1].Ns==B?J==1?0:J==0?1:3:3,y!=null?(gi.ah(Ft,We,A),D.oc(A.get(),xe),Zt=new x(D,de,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):(Ae++,null.add(Ae)),Ft=We,et=B,Q=Ut,ot=We,oe=vi,se=Tt,ye=bn,J=de,de=Se=!1,xe=ze=!0);else if(!s.CM(a,p,u,L,w,S)){s.zM(p,u,L,X,Ue,k,I);var hi=!1;if(cn=!1,Zt=!0,!(w.qb(k)||S.qb(k)||w.qb(I)||S.qb(I))){m[0].L(w),m[1].L(S),m[2].L(k),m[3].L(I),m.sort(d.h.nu);var fc=m[0],ao=m[1],Nh=m[2],Ir=m[3];fc.qb(w)?ao.qb(S)?a?(cn=hi=!0,Zt=!1):hi=!1:Ir.qb(S)?a?Zt=cn=hi=!0:hi=!1:(hi=!0,Zt=ao.qb(k)):ao.qb(w)?Nh.qb(S)?a?(cn=hi=!0,Zt=!1):hi=!1:fc.qb(S)?a?Zt=cn=hi=!0:hi=!1:(hi=!0,Zt=Nh.qb(k)):Nh.qb(w)?Ir.qb(S)?a?(cn=hi=!0,Zt=!1):hi=!1:ao.qb(S)?a?Zt=cn=hi=!0:hi=!1:(hi=!0,Zt=Ir.qb(k)):fc.qb(S)?a?(cn=hi=!0,Zt=!1):hi=!1:Nh.qb(S)?a?Zt=cn=hi=!0:hi=!1:(hi=!0,Zt=fc.qb(k))}hi&&(hi=Ue==Ut,(We!=Ft||hi&&Ft==0)&&(ze&&(y!=null?D=new d.Ta:Ae=0),y!=null?(gi.ah(Ft,We,A),D.oc(A.get(),xe)):Ae++),Zt?J!=1?((We!=Ft||hi&&Ft==0)&&(y!=null?(Zt=new x(D,1,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae)),cn?(L>=u.length-2||u[L+2].Ns!=B)&&(J=0):J=1):((We!=Ft||hi&&Ft==0)&&(y!=null?(Zt=new x(D,3,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae)),J=1):J!=0?((We!=Ft||hi&&Ft==0)&&(y!=null?(Zt=new x(D,0,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae)),cn?(L>=u.length-2||u[L+2].Ns!=B)&&(J=1):J=0):((We!=Ft||hi&&Ft==0)&&(y!=null?(Zt=new x(D,3,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae)),J=0),(We!=Ft||hi&&Ft==0)&&(Ft=We,et=B,Q=Ut,ot=We,oe=vi,se=Tt,ye=bn,de=Se=!1,xe=ze=!0))}}L++}Ft!=1&&(ze&&(y!=null?D=new d.Ta:Ae=0),y!=null?(gi.ah(Ft,1,A),D.oc(A.get(),xe)):Ae++,xe=ze=!1,Se=!0)}Se&&(We=1,Ut=p.rj(X),Ut=p.Ma(Ut),Tt=vi=-1,bn=NaN,de?y!=null?(Zt=new x(D,4,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae):(de=J==1?0:J==0?1:3,y!=null?(Zt=new x(D,de,B,Ut,We,J,et,Q,ot,vi,Tt),y.push(Zt)):null.add(Ae)))}},s.CM=function(a,u,p,y,m,w){var S=p[y].VH;if(S==1)return s.AM(a,u,p,y,m,w);if(S==0)return s.BM(a,u,p,y,m,w);throw d.i.Qa()},s.AM=function(a,u,p,y,m,w){var S=new d.yb,k=p[y].tg,I=p[y].Lm,A=p[y].Al,L=-1,D=-1,U=-1,X=-1;if(!a&&0<y){var J=p[y-1];L=J.tg,D=J.Lm,U=J.Al,X=J.Ei}var B=-1,Q=-1,oe=-1,se=-1;y<p.length-1&&(B=(J=p[y+1]).tg,Q=J.Lm,oe=J.Al,se=J.Ei);var ye=u.U(k);return J=u.U(A),a?y==p.length-1||B!=k||Q!=I||oe!=J||se==2?((a=u.bc(A))==null&&(u.ed(A,S),a=S),w.L(a.kg()),m.mt(w),w.normalize(),m.normalize(),!1):((a=u.bc(A))==null&&(u.ed(A,S),a=S),m.L(a.kg()),(a=u.bc(J))==null&&(u.ed(J,S),a=S),w.L(a.kg()),m.Sq(),w.normalize(),m.normalize(),!1):0<y&&L==k&&D==I&&U==J&&X==2||y<p.length-1&&B==ye&&Q==I&&oe==J&&se==2?((a=u.bc(A))==null&&(u.ed(A,S),a=S),w.L(a.kg()),m.mt(w),w.normalize(),m.normalize(),!1):!(y<p.length-1&&B==k&&Q==I&&oe==J)||((a=u.bc(A))==null&&(u.ed(A,S),a=S),m.L(a.kg()),(a=u.bc(J))==null&&(u.ed(J,S),a=S),w.L(a.kg()),m.Sq(),w.normalize(),m.normalize(),!1)},s.BM=function(a,u,p,y,m,w){var S=new d.yb,k=p[y].tg,I=p[y].Lm,A=p[y].Al,L=-1,D=-1,U=-1,X=-1;if(!a&&y<p.length-1){var J=p[y+1];L=J.tg,D=J.Lm,U=J.Al,X=J.Ei}var B=-1,Q=-1,oe=-1;J=-1,0<y&&(B=(J=p[y-1]).tg,Q=J.Lm,oe=J.Al,J=J.Ei);var se=u.U(k),ye=u.Ma(A);return a?y!=0&&B==k&&Q==I&&oe==ye&&J!=2||((a=u.bc(A))==null&&(u.ed(A,S),a=S),w.L(a.kg()),m.mt(w),w.normalize(),m.normalize(),!1):!(0<y&&B==k&&Q==I&&oe==ye&&J==2||y<p.length-1&&L==se&&D==I&&U==ye&&X==2)||((a=u.bc(A))==null&&(u.ed(A,S),a=S),w.L(a.kg()),m.mt(w),w.normalize(),m.normalize(),!1)},s.zM=function(a,u,p,y,m,w,S){var k=new d.yb,I=a.bc(m);if(I==null&&(a.ed(m,k),I=k),u=(p=u[p]).tg,p=p.OA,m=a.U(u),p==1)w.L(I.kg()),m!=-1&&m!=a.rj(y)?((I=a.bc(m))==null&&(a.ed(m,k),I=k),S.L(I.kg()),(I=a.bc(u))==null&&a.ed(u,k)):S.L(w),w.Sq(),S.normalize(),w.normalize();else{if(p!=0)throw d.i.Qa();S.L(I.kg()),w.mt(S),S.normalize(),w.normalize()}},s}()}(te||(te={})),function(d){var O;(O=d.bM||(d.bM={}))[O.Linear=0]="Linear",O[O.Angular=1]="Angular",O[O.Area=2]="Area";var x=function(){function y(m,w,S){this.od=w,this.ai=S,this.vA=m}return y.prototype.Nb=function(m){return m instanceof y&&this.ai===m.ai},y.aG=function(m){return m.od!==0?null:m.vA===-1?new y(-1,2,m.ai*m.ai):y.Zg(u[m.vA])},y.Zg=function(m){return(m=a[m])===void 0?null:m},y.ZO=function(m,w,S){var k=null;if(S!=null)try{S.values[0]==="EPSG"&&(k=y.Zg(parseInt(S.values[1])))}catch{}return k===null&&(k=new y(-1,m,w)),k},y.prototype.Ec=function(){return this.vA},y.prototype.CF=function(m){if(m.od!=this.od)throw d.i.Hb();return this.ai/m.ai},y.Nh=function(m,w,S){return w.CF(S)*m},y.XE=function(m,w,S,k,I){for(S=S.CF(k),k=0;k<w;k++)I[k]=m[k]*S},y}();d.Tc=x;for(var h=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],l=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],s=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],a=[],u=[],p=0;p<h.length;p+=2)a[h[p]]=new x(h[p],2,h[p+1]);for(h=null,p=0;p<l.length;p+=2)a[l[p]]=new x(l[p],1,l[p+1]);for(l=null,p=0;p<s.length;p+=3)a[s[p]]=new x(s[p],0,s[p+1]),u[s[p]]=s[p+2];s=null}(te||(te={})),function(d){var O=function(){function x(){this.xb=this.pb=0}return x.prototype.set=function(h,l){l!==void 0?(this.pb=h,this.xb=l):typeof h=="number"?(this.pb=h,this.xb=0):(this.pb=h.pb,this.xb=h.xb)},x.prototype.value=function(){return this.pb},x.prototype.add=function(h){var l=this.pb+h.pb;h=this.xb+h.xb+2220446049250313e-31*Math.abs(l),this.pb=l,this.xb=h},x.prototype.kN=function(){var h=this.pb+1,l=this.xb+2220446049250313e-31*Math.abs(h);this.pb=h,this.xb=l},x.prototype.dN=function(h,l){this.pb=h.pb+l.pb,this.xb=h.xb+l.xb+2220446049250313e-31*Math.abs(this.pb)},x.prototype.sub=function(h){if(typeof h=="number"){var l=this.pb-h;h=this.xb+2220446049250313e-31*Math.abs(l)}else l=this.pb-h.pb,h=this.xb+h.xb+2220446049250313e-31*Math.abs(l);this.pb=l,this.xb=h},x.prototype.Ag=function(h){var l=this.pb*h.pb;this.xb=this.xb*Math.abs(h.pb)+h.xb*Math.abs(this.pb)+this.xb*h.xb+2220446049250313e-31*Math.abs(l),this.pb=l},x.prototype.No=function(h){var l=this.pb*h;this.xb=this.xb*Math.abs(h)+2220446049250313e-31*Math.abs(l),this.pb=l},x.prototype.Kl=function(h,l){var s=Math.abs(h.pb)*Math.abs(l.pb);this.xb=h.xb*Math.abs(l.pb)+l.xb*Math.abs(h.pb)+h.xb*l.xb+2220446049250313e-31*Math.abs(s),this.pb=s},x.prototype.jm=function(h){var l=Math.abs(h.pb),s=this.pb/h.pb,a=(this.xb+Math.abs(s)*h.xb)/l;h.xb>.01*l&&(a*=1+(1+(h=h.xb/l))*h),this.pb=s,this.xb=a+2220446049250313e-31*Math.abs(s)},x.prototype.sqrt=function(){if(0<=this.pb){var h=Math.sqrt(this.pb),l=this.pb>10*this.xb?.5*this.xb/h:this.pb>this.xb?h-Math.sqrt(this.pb-this.xb):Math.max(h,Math.sqrt(this.pb+this.xb)-h);l+=2220446049250313e-31*Math.abs(h)}else this.pb<-1*this.xb?l=h=NaN:(h=0,l=Math.sqrt(this.xb));this.pb=h,this.xb=l},x.prototype.sin=function(h){var l=Math.sin(h.pb),s=Math.cos(h.pb);this.pb=l,l=Math.abs(l),this.xb=(Math.abs(s)+.5*l*h.xb)*h.xb+2220446049250313e-31*l},x.prototype.cos=function(h){var l=Math.sin(h.pb),s=Math.cos(h.pb);this.pb=s,s=Math.abs(s),this.xb=(Math.abs(l)+.5*s*h.xb)*h.xb+2220446049250313e-31*s},x.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},x.prototype.ps=function(){return this.qg()&&this.xb!=0},x}();d.Wb=O}(te||(te={}));var Nt=new te.h,ht=new te.h,ui=new te.h,ei=new te.h,$t=new te.h;(function(d){var O,x;(x=O||(O={}))[x.closedPath=1]="closedPath",x[x.exteriorPath=2]="exteriorPath",x[x.ringAreaValid=4]="ringAreaValid";var h=function(){function l(s,a,u,p,y,m,w){a!==void 0?(this.ib=s,this.ck=a,this.bl=u,this.ii=p,this.ya=m,this.hA=w,this.ew=y):(this.ib=s.ib,this.ck=s.ck,this.bl=s.bl,this.ii=s.ii,this.ya=s.ya,this.hA=s.hA,this.ew=s.ew),this.bH=!0}return l.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},l.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!d.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},l.AP=function(s,a,u,p,y,m,w){return new l(s,a,u,p,y,m,w)},l}();d.zY=h,O=function(){function l(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return l.prototype.Sh=function(s){return this.We!=null?this.We[s]:null},l.prototype.Xg=function(s,a){if(this.We==null){if(a==null)return;this.We=[];for(var u=0,p=this.vb.I();u<p;u++)this.We.push(null)}this.We[s]=a},l.prototype.bp=function(s,a){this.md.S(s,1,a)},l.prototype.ap=function(s,a){this.md.S(s,2,a)},l.prototype.VB=function(s,a){this.md.S(s,6,a)},l.prototype.Sp=function(s){return this.md.T(s,6)},l.prototype.gx=function(s,a){this.md.S(s,7,a)},l.prototype.qv=function(s){return this.md.T(s,0)},l.prototype.OJ=function(s,a){this.cd.S(s,1,a)},l.prototype.SJ=function(s,a){this.cd.S(s,0,a)},l.prototype.JF=function(s){return this.cd.T(s,7)},l.prototype.Zo=function(s,a){this.cd.S(s,3,a)},l.prototype.$o=function(s,a){this.cd.S(s,4,a)},l.prototype.uU=function(s){this.cd==null&&(this.cd=new d.$c(8));var a=this.cd.Ce();return this.cd.S(a,2,s),this.cd.S(a,5,0),this.cd.S(a,6,0),this.cd.S(a,7,a),a},l.prototype.OQ=function(s){this.cd.jd(s)},l.prototype.wU=function(s){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0));var a=this.md.Ce();return this.md.S(a,0,a),this.md.S(a,3,0),this.md.S(a,6,0),this.gx(a,s),a>=this.Oi.size&&(s=16>a?16:d.O.truncate(3*a/2),this.Oi.resize(s),this.vo.resize(s)),this.Oi.set(a,0),this.vo.set(a,0),a},l.prototype.sF=function(s){this.md.jd(s)},l.prototype.Vy=function(s){this.td.jd(s),this.fd--},l.prototype.oI=function(s){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0));var a=this.td.Ce(),u=0<=s?s:a;if(this.td.S(a,0,u),0>s){if(u>=this.vb.I()){if(s=16>u?16:d.O.truncate(3*u/2),this.vb.resize(s),this.We!=null)for(var p=0;p<s;p++)this.We.push(null);this.Sg!=null&&this.Sg.resize(s),this.it=this.vb.ub(0)}this.vb.Cb(u,-1e38,-1e38),this.We!=null&&(this.We[u]=null),this.Sg!=null&&this.Sg.write(u,1)}return this.td.S(a,4,2*u),this.fd++,a},l.prototype.wj=function(s,a,u){var p=a!=-1?this.Ma(a):this.rj(s),y=p!=-1?this.U(p):-1,m=this.oI(u==null?this.fd:-1),w=this.Ua(m);return u!=null&&this.vb.Ht(w,u),this.aj(m,s),this.Bc(m,y),this.Cc(m,p),y!=-1&&this.Cc(y,m),p!=-1&&this.Bc(p,m),u=this.dc(s),p=this.Xa(s),a==-1&&this.Wg(s,m),a==p&&this.Jf(s,m),u&&y==-1&&(this.Bc(m,m),this.Cc(m,m)),this.Vj(s,this.Ja(s)+1),s=this.Qf(s),this.Tj(s,this.I(s)+1),m},l.prototype.nm=function(){return this.jo==null&&(this.jo=new d.Sa(this.vb.description)),this.jo},l.prototype.Yo=function(s,a){this.cd.S(s,2,-134217729&this.cd.T(s,2)||(a==1?134217728:0))},l.prototype.In=function(s){return 134217728&this.cd.T(s,2)?1:0},l.prototype.hN=function(s){var a=this.Ig(s.getType(),s.description);return s.getType()==1736&&this.Yo(a,s.In()),this.UD(a,s),a},l.prototype.iN=function(s){var a=this.Ig(s.getType(),s.description);return this.VD(a,s),a},l.prototype.XV=function(s,a){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0)),this.md.De(this.md.Hg+s),this.td.De(this.td.Hg+a),this.Oi.Jb(this.Oi.size+s),this.vo.Jb(this.vo.size+s)},l.prototype.UD=function(s,a){this.XV(a.da(),a.I()),this.Il.Fd(a,0,a.I()),this.it=this.vb.ub(0);for(var u=this.We!=null&&a.Ve!=null,p=0,y=a.da();p<y;p++)if(!(2>a.Ja(p))){var m=this.vf(s,-1);this.kn(m,a.dc(p));for(var w=a.Ba(p),S=a.Vc(p);w<S;w++){var k=this.wj(m,-1,null);if(u)if(k=this.Ua(k),1&a.ZF(w))this.Xg(k,null);else{var I=new d.ig;a.bc(w,I,!0),this.Xg(k,I.get())}}}},l.prototype.VD=function(s,a){this.Il.Fd(a,0,a.I()),this.it=this.vb.ub(0),s=this.vf(s,-1);var u=0;for(a=a.I();u<a;u++)this.wj(s,-1,null)},l.prototype.NX=function(s,a,u){var p=this.U(s);if(p==-1)throw d.i.Qa();for(var y=this.nm(),m=this.bd(s),w=0,S=a.ol(u);w<S;w++){var k=this.Ua(s),I=this.U(s),A=a.Vp(u,w);w==0&&(A.To(y),this.Dh(s,y)),A.getType()==322?this.Xg(k,null):this.Xg(k,d.aa.jg(A)),A.Po(y),w<S-1?s=this.wj(m,I,y):this.Dh(p,y)}},l.prototype.MX=function(s,a,u){var p=this.U(s);if(p==-1)throw d.i.Qa();for(var y=this.nm(),m=this.bd(s),w=0,S=a.ol(u);w<S;w++){var k=this.Ua(s),I=this.U(s),A=a.Vp(u,S-w-1);w==0&&(A.Po(y),this.Dh(s,y)),A.getType()==322?this.Xg(k,null):this.Xg(k,d.aa.jg(A)),A.To(y),w<S-1?s=this.wj(m,I,y):this.Dh(p,y)}},l.prototype.IF=function(){var s=new d.l;s.Oa();for(var a=this.Yq(),u=new d.h,p=!0,y=a.next();y!=-1;y=a.next())this.D(y,u),p?s.Zb(u.x,u.y):s.Lk(u.x,u.y),p=!1;return s},l.prototype.Ib=function(s){var a=s.getType();if(d.aa.Hc(a))return this.hN(s);if(a==550)return this.iN(s);throw d.i.Qa()},l.prototype.uN=function(s,a){var u=a.getType();if(d.aa.Hc(u))this.UD(s,a);else{if(u!=550)throw d.i.Qa();this.VD(s,a)}},l.prototype.mN=function(s,a){var u=this.Ig(1736,s.description);if(2>s.Ja(a))return u;this.Il.Fd(s,s.Ba(a),s.Vc(a)),this.it=this.vb.ub(0);var p=this.vf(u,-1);this.kn(p,s.dc(a)||!0);var y=this.We!=null&&s.Ve!=null,m=s.Ba(a);for(a=s.Vc(a);m<a;m++){var w=this.wj(p,-1,null);if(y)if(w=this.Ua(w),1&s.ZF(m))this.Xg(w,null);else{var S=new d.ig;s.bc(m,S,!0),this.Xg(w,S.get())}}return u},l.prototype.Ne=function(s){var a=this.ic(s),u=d.ZK.Ig(a,this.Il.description),p=this.I(s);if(p==0)return u;if(d.aa.Hc(a)){a=this.da(s);for(var y=d.Yc.Oh(a+1),m=d.Yc.Mr(a+1,0),w=u.description,S=0,k=w.Aa;S<k;S++){for(var I=w.kd(S),A=d.ra.Va(I),L=d.Yc.YE(I,p),D=this.vb.ub(I),U=0,X=0,J=0,B=this.Ob(s);B!=-1;B=this.Rb(B)){var Q=0;this.dc(B)&&(Q|=1),this.YS(B)&&(Q|=4),Q!=0&&m.zJ(X,Q);var oe=this.Ja(B);if(y.write(X++,J),J+=oe,I==0){oe=D;var se=L,ye=new d.h;for(Q=this.Xa(B);U<J;Q=this.U(Q),U++){var de=this.Ua(Q);oe.tc(2*de,ye),se.Tt(2*U,ye)}}else for(Q=this.Xa(B);U<J;Q=this.U(Q),U++)for(de=this.Ua(Q),se=0;se<A;se++)ye=D.eg(de*A+se),L.pr(U*A+se,ye)}u.hn(I,L),y.write(a,p)}u.PJ(m),u.QJ(y),u.Pc(16777215)}else if(a==550){for(w=u.description,u.resize(p),S=0,k=w.Aa;S<k;S++){for(I=w.kd(S),A=d.ra.Va(I),L=u.ub(I),D=this.vb.ub(I),U=0,B=this.Ob(s),oe=this.Ja(B),Q=this.Xa(B);U<oe;Q=this.U(Q),U++)for(de=this.Ua(Q),se=0;se<A;se++)ye=D.eg(de*A+se),L.pr(U*A+se,ye);u.hn(I,L)}u.Pc(16777215)}return u},l.prototype.BB=function(s){for(var a=this.Ob(s);a!=-1;a=this.Zq(a));a=this.PR(s);var u=this.ue(s);a!=-1?this.OJ(a,u):this.ld=u,u!=-1?this.SJ(u,a):this.qw=a,this.OQ(s)},l.prototype.Ig=function(s,a){return a===void 0?this.$E(s,d.ee.og()):this.$E(s,a)},l.prototype.$E=function(s,a){return s=this.uU(s),this.vb==null?this.vb=this.Il=new d.de(a):this.Il.Jl(a),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=s:(this.SJ(s,this.qw),this.OJ(this.qw,s)),this.qw=s},l.prototype.ue=function(s){return this.cd.T(s,1)},l.prototype.PR=function(s){return this.cd.T(s,0)},l.prototype.ic=function(s){return 2147483647&this.cd.T(s,2)},l.prototype.HJ=function(s,a,u){a=this.wk[a],(s=this.JF(s))>=a.size&&a.resize(Math.max(d.O.truncate(1.25*s),16),-1),a.write(s,u)},l.prototype.KF=function(s,a){return(s=this.JF(s))<(a=this.wk[a]).size?a.read(s):-1},l.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var s=0;s<this.wk.length;s++)if(this.wk[s]==null)return this.wk[s]=d.Yc.Oh(0),s;return this.wk.push(d.Yc.Oh(0)),this.wk.length-1},l.prototype.xW=function(s){this.wk[s]=null},l.prototype.Ob=function(s){return this.cd.T(s,3)},l.prototype.kv=function(s){return this.cd.T(s,4)},l.prototype.I=function(s){return this.cd.T(s,5)},l.prototype.da=function(s){return this.cd.T(s,6)},l.prototype.Gp=function(s,a,u){for(var p=0,y=this.ld;y!=-1;y=this.ue(y)){var m=this.ic(y);if(d.aa.Hc(m)&&(!u||m==1736)){m=this.ic(y)==1736;for(var w=this.Ob(y);w!=-1;){for(var S=0,k=this.Xa(w);S<d.O.truncate(this.Ja(w)/2);){var I=this.U(k);if(I==-1)break;var A=this.Ua(k),L=this.Sh(A);L!=null?A=L.Qb():(L=this.Ua(I),A=this.vb.yr(A,L)),A<=s?(A==0?p==0&&(p=-1):p=1,I!=this.rj(w)&&(this.lC(I,k),this.pd(I,!0))):k=this.U(k),S++}for(S=this.Xa(w),k=this.dc(w)?S:this.rj(w);0<this.Ja(w);){if((I=this.Ma(k))==-1){this.pd(k,!0),p==0&&(p=-1);break}var D=this.Ua(I);if((L=this.Sh(D))!=null?A=L.Qb():(A=this.Ua(k),A=this.vb.yr(A,D)),A<=s)A==0?p==0&&(p=-1):p=1,this.lC(I,k),this.pd(I,!1),S==I&&(S=this.Xa(w));else if((k=this.Ma(k))==S)break}k=this.Ja(w),a&&(m?3>k:2>k)?(w=this.Zq(w),p=0<k?1:p==0?-1:p):w=this.Rb(w)}}}return p},l.prototype.lC=function(s,a){var u=this.Ua(s),p=this.Ua(a);if(this.Sg!=null&&(u=this.Sg.read(u),this.Sg.write(p,u)),this.bi!=null){for(p=0,u=this.bi.length;p<u;p++)if(this.bi[p]!=null){var y=this.Pa(s,p);y!=-1&&this.Ra(a,p,y)}}},l.prototype.Ul=function(s,a,u){var p=0,y=this.U(s);if(y==-1)throw d.i.Qa();for(var m=this.Ua(s),w=this.Ua(y),S=this.Sh(m),k=S==null?this.vb.yr(m,w):S.Qb(),I=0;I<u;I++){var A=a[I];if(0<A&&1>A){var L=A;S!=null&&(L=0<k?S.Ux(A)/k:0),this.vb.kD(m,w,L,this.nm());var D=this.wj(this.bd(s),y,this.nm());if(p++,S!=null){var U=S.dl(0,A);L=this.Ua(this.Ma(D)),this.Xg(L,U),this.mf(D,U.wc()),I!=u-1&&a[I+1]!=1||(A=S.dl(A,1),this.Xg(L,A))}}}return p},l.prototype.LX=function(s,a,u){var p=0,y=this.U(s);if(y==-1)throw d.i.fa("internal error");var m=this.Ua(s),w=this.Ua(y),S=this.Sh(m),k=S==null?this.vb.yr(m,w):S.Qb(),I=0;s=this.bd(s);for(var A=0;A<u;A++){var L=a[A];if(I<L&&1>L){var D=L;if(S!=null&&(D=0<k?S.Ux(L)/k:0),this.vb.kD(m,w,D,this.nm()),D=this.yS(s,y,this.nm()),p++,S!=null){I=S.dl(I,L);var U=this.Ua(this.Ma(D));this.Xg(U,I),this.Cb(D,I.pa,I.la),A!=u-1&&a[A+1]!=1||(I=S.dl(L,1),D=this.Ua(D),this.Xg(D,I))}}I=L}return p},l.prototype.yS=function(s,a,u){var p=a!=-1?this.Ma(a):this.rj(s),y=p!=-1?this.U(p):-1,m=this.oI(u==null?this.fd:-1),w=this.Ua(m);return u!=null&&this.vb.Ht(w,u),this.aj(m,s),this.Bc(m,y),this.Cc(m,p),y!=-1&&this.Cc(y,m),p!=-1&&this.Bc(p,m),u=this.dc(s),p=this.Xa(s),a==-1&&this.Wg(s,m),a==p&&(u&&p!=-1||this.Jf(s,m)),u&&y==-1&&(this.Bc(m,m),this.Cc(m,m)),this.Vj(s,this.Ja(s)+1),s=this.Qf(s),this.Tj(s,this.I(s)+1),m},l.prototype.uE=function(s,a,u){var p=this.Ua(a),y=this.Ua(u);if(0>p||y>this.fd-1)throw d.i.N("invalid call");if(p>y&&!this.dc(s))throw d.i.N("cannot iterate across an open path");for(s=0;a!=u;a=this.U(a))p=this.Ua(a),(y=this.Sh(p))!=null?s+=y.Qb():(y=this.Ua(this.U(a)),s+=this.vb.yr(p,y));return s},l.prototype.Dh=function(s,a){var u=this.Ua(s);this.vb.Ht(u,a),(u=this.Sh(u))!=null&&u.setStart(a),(s=this.Ma(s))!=-1&&(s=this.Ua(s),this.Sh(s)!=null&&u.setEnd(a))},l.prototype.Vi=function(s,a){s=this.Ua(s),this.vb.ve(s,a)},l.prototype.mf=function(s,a){this.Cb(s,a.x,a.y)},l.prototype.Cb=function(s,a,u){var p=this.Ua(s);this.vb.Cb(p,a,u),(p=this.Sh(p))!=null&&p.ZB(a,u),(s=this.Ma(s))!=-1&&(s=this.Ua(s),this.Sh(s)!=null&&p.Ql(a,u))},l.prototype.D=function(s,a){this.vb.D(this.td.T(s,0),a)},l.prototype.Gc=function(s,a){this.vb.za[0].tc(2*this.td.T(s,0),a)},l.prototype.Na=function(s){var a=new d.h;return this.vb.D(this.td.T(s,0),a),a},l.prototype.dG=function(s,a){this.it.tc(2*s,a)},l.prototype.Uc=function(s,a,u){return this.vb.Uc(s,this.Ua(a),u)},l.prototype.setAttribute=function(s,a,u,p){this.vb.setAttribute(s,this.Ua(a),u,p)},l.prototype.Ua=function(s){return this.td.T(s,0)},l.prototype.ih=function(){var s=new d.h;return this.D(void 0,s),s.y},l.prototype.fq=function(s,a){s=this.Ua(s),a=this.Ua(a);var u=this.vb.za[0].o;return u[2*s]===u[2*a]&&u[2*s+1]===u[2*a+1]},l.prototype.Dv=function(s,a){s=this.Ua(s);var u=this.vb.za[0].o;return u[2*s]===a.x&&u[2*s+1]===a.y},l.prototype.vX=function(s,a){if(1>a&&(a=1),this.Sg==null){if(a==1)return;this.Sg=d.Yc.Dn(this.vb.I(),1)}(s=this.Ua(s))>=this.Sg.size&&this.Sg.resize(s+1,1),this.Sg.write(s,a)},l.prototype.cG=function(s){return s=this.Ua(s),this.Sg==null||s>=this.Sg.size?1:this.Sg.read(s)},l.prototype.Ra=function(s,a,u){a=this.bi[a],s=this.Ua(s),a.size<this.vb.I()&&a.resize(this.vb.I(),-1),a.write(s,u)},l.prototype.Pa=function(s,a){return(s=this.Ua(s))<(a=this.bi[a]).size?a.read(s):-1},l.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var s=0;s<this.bi.length;s++)if(this.bi[s]==null)return this.bi[s]=d.Yc.Oh(0,-1),s;return this.bi.push(d.Yc.Oh(0,-1)),this.bi.length-1},l.prototype.Td=function(s){this.bi[s]=null},l.prototype.bc=function(s){return this.We!=null?(s=this.Ua(s),this.We[s]):null},l.prototype.ed=function(s,a){var u=this.td.T(s,2);if(u==-1)return!1;if(this.fA){var p=new d.Sa;this.Vi(s,p),a.setStart(p),this.Vi(u,p),a.setEnd(p)}else this.vb.Gc(this.td.T(s,0),Nt),a.em(0,Nt),this.vb.Gc(this.td.T(u,0),Nt),a.em(1,Nt);return!0},l.prototype.mW=function(s,a,u){if(this.fA){var p=new d.Sa;this.Vi(s,p),u.setStart(p),this.Vi(a,p),u.setEnd(p)}else this.vb.Gc(s,Nt),u.em(0,Nt),this.vb.Gc(a,Nt),u.em(1,Nt)},l.prototype.vf=function(s,a){if(a!=-1){if(s!=this.Qf(a))throw d.i.Qa();var u=this.cs(a)}else u=this.kv(s);var p=this.wU(s);return a!=-1&&this.bp(a,p),this.ap(p,a),this.bp(p,u),u!=-1?this.ap(u,p):this.Zo(s,p),a==-1&&this.$o(s,p),this.Rl(s,this.da(s)+1),p},l.prototype.nG=function(s,a,u,p){s=this.vf(s,-1);for(var y=0,m=a,w=!1;m==u&&(w=!0),this.aj(m,s),y++,(m=this.U(m))!=a;);return this.kn(s,!0),this.Vj(s,y),w&&(a=u),this.Jf(s,a),this.Wg(s,this.Ma(a)),this.cp(s,!1),p!=null&&(p[0]=w),s},l.prototype.Zq=function(s){var a=this.cs(s),u=this.Rb(s),p=this.Qf(s);return a!=-1?this.ap(a,u):this.Zo(p,u),u!=-1?this.bp(u,a):this.$o(p,a),this.AO(s),this.Rl(p,this.da(p)-1),this.sF(s),u},l.prototype.AO=function(s){var a=this.Xa(s);if(a!=-1){for(var u=0,p=this.Ja(s);u<p;u++){var y=a;a=this.U(a),this.Vy(y)}a=this.Qf(s),this.Tj(a,this.I(a)-this.Ja(s))}this.Vj(s,0)},l.prototype.Rb=function(s){return this.md.T(s,2)},l.prototype.cs=function(s){return this.md.T(s,1)},l.prototype.Ja=function(s){return this.md.T(s,3)},l.prototype.dc=function(s){return!!(1&this.Sp(s))},l.prototype.kn=function(s,a){if(this.dc(s)!=a){if(0<this.Ja(s)){var u=this.Xa(s),p=this.rj(s);a?(this.Bc(p,u),this.Cc(u,p),u=this.Ua(p)):(this.Bc(p,-1),this.Cc(u,-1),u=this.Ua(p)),this.Xg(u,null)}this.VB(s,(1|this.Sp(s))-1|(a?1:0))}},l.prototype.Qf=function(s){return this.md.T(s,7)},l.prototype.YS=function(s){return!!(2&this.Sp(s))},l.prototype.PB=function(s,a){this.VB(s,(2|this.Sp(s))-2|(a?2:0))},l.prototype.wz=function(s){if(this.cT(s))return this.Oi.get(this.qv(s));var a=new d.yb,u=this.Xa(s);if(u==-1)return 0;var p=new d.h;this.D(u,p);for(var y=0,m=0,w=this.Ja(s);m<w;m++,u=this.U(u)){var S=this.bc(u);if(S==null){if(!this.ed(u,a))continue;S=a}y+=S.Tx(p.x,p.y)}return this.cp(s,!0),this.Oi.set(this.qv(s),y),y},l.prototype.gr=function(s,a,u){a=this.Ck[a],s=this.qv(s),a.size<this.Oi.size&&a.resize(this.Oi.size,-1),a.write(s,u)},l.prototype.sj=function(s,a){return(s=this.qv(s))<(a=this.Ck[a]).size?a.read(s):-1},l.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var s=0;s<this.Ck.length;s++)if(this.Ck[s]==null)return this.Ck[s]=d.Yc.Oh(0),s;return this.Ck.push(d.Yc.Oh(0)),this.Ck.length-1},l.prototype.CB=function(s){this.Ck[s]=null},l.prototype.ZT=function(s,a,u){if(u==-1)throw d.i.N();if(a!=u){var p=this.Rb(u),y=this.cs(u),m=this.Qf(u);y==-1?this.Zo(m,p):this.ap(y,p),p==-1?this.$o(m,y):this.bp(p,y),this.Tj(m,this.I(m)-this.Ja(u)),this.Rl(m,this.da(m)-1),y=a==-1?this.kv(s):this.cs(a),this.bp(u,y),this.ap(u,a),a==-1?this.$o(s,u):this.bp(a,u),y==-1?this.Zo(s,u):this.ap(y,u),this.Tj(s,this.I(s)+this.Ja(u)),this.Rl(s,this.da(s)+1),this.gx(u,s)}},l.prototype.ij=function(s,a){this.vb.ve(this.Ua(a),this.nm()),this.wj(s,-1,this.nm())},l.prototype.pd=function(s,a){var u=this.bd(s),p=this.Ma(s),y=this.U(s);p!=-1&&this.Bc(p,y);var m=this.Ja(u);if(s==this.Xa(u)&&this.Jf(u,1<m?y:-1),y!=-1&&this.Cc(y,p),s==this.rj(u)&&this.Wg(u,1<m?p:-1),p!=-1&&y!=-1){p=this.Ua(p);var w=this.Ua(y);a?(a=this.Sh(p))!=null&&(p=new d.h,this.vb.D(w,p),a.Qc(p)):(w=this.Ua(s),a=this.Sh(w),this.Xg(p,a),a!=null&&(p=this.vb.Na(p),a.Dc(p)))}return this.Vj(u,m-1),u=this.Qf(u),this.Tj(u,this.I(u)-1),this.Vy(s),y},l.prototype.Xa=function(s){return this.md.T(s,4)},l.prototype.rj=function(s){return this.md.T(s,5)},l.prototype.U=function(s){return this.td.T(s,2)},l.prototype.Ma=function(s){return this.td.T(s,1)},l.prototype.bd=function(s){return this.td.T(s,3)},l.prototype.fc=function(s,a){return this.wj(s,-1,a)},l.prototype.Yq=function(s){if(s===void 0)return this.Yq(!1);if(s instanceof h)return new h(s);var a,u=-1,p=-1,y=-1,m=0,w=!1;for(a=this.ld;a!=-1;a=this.ue(a))if(!s||d.aa.Hc(this.ic(a))){for(u=this.Ob(a);u!=-1;u=this.Rb(u))if(y=p=this.Xa(u),m=0,p!=-1){w=!0;break}if(w)break}return h.AP(this,a,u,p,y,m,s)},l.prototype.Oc=function(s){if(this.Il.Oc(s),this.We!=null)for(var a=0,u=this.We.length;a<u;a++)this.We[a]!=null&&this.We[a].Oc(s)},l.prototype.jr=function(s,a,u,p){p?this.NX(s,a,u):this.MX(s,a,u)},l.prototype.Cc=function(s,a){this.td.S(s,1,a)},l.prototype.Bc=function(s,a){this.td.S(s,2,a)},l.prototype.aj=function(s,a){this.td.S(s,3,a)},l.prototype.Vj=function(s,a){this.md.S(s,3,a)},l.prototype.Jf=function(s,a){this.md.S(s,4,a)},l.prototype.Wg=function(s,a){this.md.S(s,5,a)},l.prototype.Rl=function(s,a){this.cd.S(s,6,a)},l.prototype.Tj=function(s,a){this.cd.S(s,5,a)},l.prototype.pJ=function(s){var a=s;do{var u=this.U(a);this.Bc(a,this.Ma(a)),this.Cc(a,u),a=u}while(a!=s)},l.prototype.bC=function(s){this.fd=s},l.prototype.$q=function(s){var a=this.cs(s),u=this.Rb(s),p=this.Qf(s);a!=-1?this.ap(a,u):this.Zo(p,u),u!=-1?this.bp(u,a):this.$o(p,a),this.Jf(s,-1),this.Wg(s,-1),this.sF(s)},l.prototype.mi=function(s,a){var u=this.Ma(s),p=this.U(s);if(u!=-1&&this.Bc(u,p),p!=-1&&this.Cc(p,u),u!=-1&&p!=-1)if(u=this.Ua(u),p=this.Ua(p),a){if((a=this.Sh(u))!=null){var y=new d.h;this.vb.D(p,y),a.Qc(y)}}else a=this.Ua(s),a=this.Sh(a),this.Xg(u,a),a!=null&&(y=new d.h,this.vb.D(u,y),a.Dc(y));this.Vy(s)},l.prototype.cT=function(s){return!!(4&this.Sp(s))},l.prototype.cp=function(s,a){this.VB(s,(4|this.Sp(s))-4|(a?4:0))},l.prototype.nx=function(s,a){var u=this.td.o;this.vb.mc();var p=this.vb.za[0].o;s.Vd(0,a,function(y,m){var w=u[5*y];y=u[5*m],m=p[2*w],w=p[2*w+1];var S=p[2*y];return w<(y=p[2*y+1])?-1:w>y?1:m<S?-1:m>S?1:0})},l.prototype.jS=function(){for(var s=this.ld;s!=-1;s=this.ue(s))if(!d.aa.Hc(this.ic(s)))return!0;return!1},l.prototype.hC=function(s,a){for(var u=this.Ob(s),p=this.Ob(a),y=this.kv(s),m=this.kv(a),w=this.Ob(s);w!=-1;w=this.Rb(w))this.gx(w,a);for(w=this.Ob(a);w!=-1;w=this.Rb(w))this.gx(w,s);this.Zo(s,p),this.Zo(a,u),this.$o(s,m),this.$o(a,y),u=this.I(s),p=this.da(s),y=this.da(a),this.Tj(s,this.I(a)),this.Tj(a,u),this.Rl(s,y),this.Rl(a,p),u=this.cd.T(s,2),this.cd.S(s,2,this.cd.T(a,2)),this.cd.S(a,2,u)},l}(),d.gd=O})(te||(te={})),function(d){var O=function(x){function h(l,s,a,u){var p=x.call(this)||this;return p.$=new d.l,l===void 0?p.UE():typeof l=="number"?p.VO(l,s,a,u):l instanceof d.Sa?s!==void 0?p.Qu(l,s,a):p.WO(l):l instanceof d.ra?s!==void 0?p.YO(l,s):p.XO(l):l instanceof d.l?p.UO(l):p.UE(),p}return ft(h,x),h.prototype.Qu=function(l,s,a){this.description=d.ee.og(),this.$.Oa(),l.B()||this.tu(l,s,a)},h.prototype.UO=function(l){this.description=d.ee.og(),this.$.K(l),this.$.normalize()},h.prototype.XO=function(l){if(l==null)throw d.i.N();this.description=l,this.$.Oa()},h.prototype.YO=function(l,s){if(l==null)throw d.i.N();this.description=l,this.$.K(s),this.$.normalize()},h.prototype.UE=function(){this.description=d.ee.og(),this.$.Oa()},h.prototype.WO=function(l){this.description=d.ee.og(),this.$.Oa(),l.B()||this.tu(l)},h.prototype.VO=function(l,s,a,u){this.description=d.ee.og(),this.K(l,s,a,u)},h.prototype.K=function(l,s,a,u){if(this.vc(),typeof l=="number")this.$.K(l,s,a,u);else for(this.Oa(),s=0,a=l.length;s<a;s++)this.Zb(l[s])},h.prototype.Xo=function(l){if(this.vc(),!l.fT())throw d.i.N();this.$.K(l)},h.prototype.Oa=function(){this.vc(),this.$.Oa()},h.prototype.B=function(){return this.$.B()},h.prototype.R=function(){return this.$.R()},h.prototype.ca=function(){return this.$.ca()},h.prototype.gk=function(){return this.$.gk()},h.prototype.Jp=function(){return this.$.Jp()},h.prototype.Ip=function(){return this.$.sf()},h.prototype.Zb=function(l){if(l instanceof d.h)this.vc(),this.$.Zb(l);else if(l instanceof d.l)this.vc(),this.$.Zb(l);else if(l instanceof d.Sa){if(this.vc(),!l.Ac()){var s=l.description;if(this.description!=s&&this.Jl(s),this.B())this.tu(l);else{this.$.Zb(l.D());for(var a=1,u=s.Aa;a<u;a++)for(var p=s.Ed(a),y=d.ra.Va(p),m=0;m<y;m++){var w=l.Uc(p,m),S=this.Tg(p,m);S.Zb(w),this.setInterval(p,m,S)}}}}else if(l instanceof h&&!l.B())for((s=l.description)!=this.description&&this.Jl(s),this.$.Zb(l.$),a=1,u=s.Aa;a<u;a++)for(p=s.kd(a),y=d.ra.Va(p),m=0;m<y;m++)w=l.Tg(p,m),(S=this.Tg(p,m)).Zb(w),this.setInterval(p,m,S)},h.prototype.tu=function(l,s,a){if(s!==void 0){this.$.K(l.D(),s,a),a=1;for(var u=(s=l.description).Aa;a<u;a++)for(var p=s.Ed(a),y=d.ra.Va(p),m=0;m<y;m++){var w=l.Uc(p,m);this.setInterval(p,m,w,w)}}else for(this.$.K(l.ka[0],l.ka[1]),a=1,u=(s=l.description).Aa;a<u;a++)for(p=s.Ed(a),y=d.ra.Va(p),m=0;m<y;m++)w=l.Uc(p,m),this.setInterval(p,m,w,w)},h.prototype.setInterval=function(l,s,a,u){if(a=typeof a=="number"?new d.Nc(a,u):a,this.vc(),l==0)if(s==0)this.$.v=a.oa,this.$.C=a.va;else{if(s!=1)throw d.i.ce();this.$.G=a.oa,this.$.H=a.va}else this.vD(0,l,s,a.oa),this.vD(1,l,s,a.va)},h.prototype.W=function(l,s){this.vc(),this.$.W(l,s)},h.prototype.Oc=function(l){if(l instanceof d.Dd)this.vc(),l.mC(this.$);else if(this.vc(),!this.$.B()){var s=new d.OK;this.Qo(s),s.XS()?s.Oa():l.mC(s)}},h.prototype.copyTo=function(l){if(l.getType()!=this.getType())throw d.i.N();if(l.vc(),l.description=this.description,l.$.K(this.$),l.ka=null,this.ka!=null){l.ou();for(var s=0;s<2*(this.description.Ae.length-2);s++)l.ka[s]=this.ka[s]}},h.prototype.Ia=function(){return new h(this.description)},h.prototype.Ke=function(){return this.$.wF()},h.prototype.Qb=function(){return this.$.yR()},h.prototype.getType=function(){return 197},h.prototype.Db=function(){return 2},h.prototype.bn=function(l){this.copyTo(l)},h.prototype.A=function(l){l.v=this.$.v,l.G=this.$.G,l.C=this.$.C,l.H=this.$.H},h.prototype.Qo=function(l){l.v=this.$.v,l.G=this.$.G,l.C=this.$.C,l.H=this.$.H,l.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},h.prototype.Tg=function(l,s){var a=new d.Nc;return a.K(this.Od(0,l,s),this.Od(1,l,s)),a},h.prototype.Hf=function(l,s){s.Nf(this.description);var a=this.description.Aa-1;switch(l){case 0:for(l=0;l<a;l++)for(var u=this.description.kd(l),p=d.ra.Va(u),y=0;y<p;y++)s.setAttribute(u,y,this.Od(0,u,y));s.Cb(this.$.v,this.$.G);break;case 1:for(l=0;l<a;l++)for(u=this.description.kd(l),p=d.ra.Va(u),y=0;y<p;y++)s.setAttribute(u,y,this.Od(1,u,y));s.Cb(this.$.v,this.$.H);break;case 2:for(l=0;l<a;l++)for(u=this.description.kd(l),p=d.ra.Va(u),y=0;y<p;y++)s.setAttribute(u,y,this.Od(0,u,y));s.Cb(this.$.C,this.$.H);break;case 3:for(l=0;l<a;l++)for(u=this.description.kd(l),p=d.ra.Va(u),y=0;y<p;y++)s.setAttribute(u,y,this.Od(1,u,y));s.Cb(this.$.C,this.$.G);break;default:throw d.i.ce()}},h.prototype.mB=function(l,s){l=this.$.mB(l),s.ma(l.x,l.y)},h.prototype.kR=function(l,s){return s*(l.Oq-2)},h.prototype.xF=function(l,s,a){if(this.$.B())throw d.i.fa("empty geometry");if(s==0)return l!=0?a!=0?this.$.H:this.$.C:a!=0?this.$.G:this.$.v;if(a>=d.ra.Va(s))throw d.i.N();var u=this.description.Pf(s);return this.ou(),0<=u?this.ka[this.kR(this.description,l)+this.description.LR(u)-2+a]:d.ra.se(s)},h.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var l=h.Gg(this.description,0),s=h.Gg(this.description,1),a=0,u=1,p=this.description.Aa;u<p;u++){var y=this.description.kd(u),m=d.ra.Va(y);y=d.ra.se(y);for(var w=0;w<m;w++)this.ka[l+a]=y,this.ka[s+a]=y,a++}}},h.prototype.sn=function(l){if(this.ka!=null)if(2<l.Ae.length){for(var s=d.ee.Iw(l,this.description),a=[],u=h.Gg(this.description,0),p=h.Gg(this.description,1),y=h.Gg(l,0),m=h.Gg(l,1),w=0,S=1,k=l.Aa;S<k;S++){var I=l.kd(S),A=d.ra.Va(I);if(s[S]==-1){var L=d.ra.se(I);for(I=0;I<A;I++)a[y+w]=L,a[m+w]=L,w++}else for(L=this.description.$j(s[S])-2,I=0;I<A;I++)a[y+w]=this.ka[u+L],a[m+w]=this.ka[p+L],w++,L++}this.ka=a}else this.ka=null;this.description=l},h.prototype.Od=function(l,s,a){if(this.$.B())throw d.i.fa("This operation was performed on an Empty Geometry.");if(s==0)return l!=0?a!=0?this.$.H:this.$.C:a!=0?this.$.G:this.$.v;if(a>=d.ra.Va(s))throw d.i.ce();var u=this.description.Pf(s);return 0<=u?(this.ou(),this.ka[h.Gg(this.description,l)+this.description.$j(u)-2+a]):d.ra.se(s)},h.prototype.vD=function(l,s,a,u){if(this.vc(),s==0)l!=0?a!=0?this.$.H=u:this.$.C=u:a!=0?this.$.G=u:this.$.v=u;else{if(a>=d.ra.Va(s))throw d.i.ce();if(!this.hasAttribute(s)){if(d.ra.DG(s,u))return;this.re(s)}s=this.description.Pf(s),this.ou(),this.ka[h.Gg(this.description,l)+this.description.$j(s)-2+a]=u}},h.Gg=function(l,s){return s*(l.Ae.length-2)},h.prototype.Ea=function(l){this.vc();var s=new d.l;return l.A(s),this.$.Ea(s)},h.prototype.isIntersecting=function(l){return l instanceof d.l?this.$.isIntersecting(l):this.$.isIntersecting(l.$)},h.prototype.Ju=function(l,s){this.vc(),l.B()?this.Oa():s!==void 0?this.tu(l,s):this.$.Ju(l.Lg(),l.ih())},h.prototype.offset=function(l,s){this.vc(),this.$.offset(l,s)},h.prototype.normalize=function(){this.vc(),this.$.normalize()},h.prototype.sf=function(l){if(l===void 0){if(l=new d.Sa(this.description),this.B())return l;for(s=this.description.Aa,a=1;a<s;a++)for(u=this.description.Ed(a),p=d.ra.Va(u),y=0;y<p;y++)m=.5*(this.Od(0,u,y)+this.Od(1,u,y)),l.setAttribute(u,y,m);return l.Cb(this.$.gk(),this.$.Jp()),l}if(l.Nf(this.description),this.B())l.Oa();else{for(var s=this.description.Aa,a=1;a<s;a++)for(var u=this.description.kd(a),p=d.ra.Va(u),y=0;y<p;y++){var m=.5*(this.xF(0,u,y)+this.xF(1,u,y));l.setAttribute(u,y,m)}l.Cb(this.$.sf())}},h.prototype.mz=function(){return new d.Sa(this.$.mz())},h.prototype.contains=function(l){return l instanceof d.Sa?!l.B()&&this.$.contains(l.Lg(),l.ih()):this.$.contains(l.$)},h.prototype.dP=function(l){return this.$.contains(l)},h.prototype.Nb=function(l){if(l==this)return!0;if(!(l instanceof h)||this.description!=l.description)return!1;if(this.B())return!!l.B();if(!this.$.Nb(l.$))return!1;for(var s=0,a=2*(this.description.Ae.length-2);s<a;s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.cc=function(){var l=this.description.cc();if(l=d.O.Th(l,this.$.cc()),!this.B()&&this.ka!=null)for(var s=0,a=2*(this.description.Ae.length-2);s<a;s++)l=d.O.Th(l,this.ka[s]);return l},h.prototype.es=function(){return this.$.v},h.prototype.gs=function(){return this.$.G},h.prototype.ds=function(){return this.$.C},h.prototype.fs=function(){return this.$.H},h.prototype.mg=function(){return d.pi.gm(this,null)},h.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},h}(d.aa);d.Fh=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a){h===void 0?this.Oa():(this.v=h,this.G=l,this.C=s,this.H=a)}return x.construct=function(h,l,s,a){var u=new x;return u.v=h,u.G=l,u.C=s,u.H=a,u},x.prototype.K=function(h,l,s,a){typeof h=="number"?s!==void 0?(this.v=h,this.G=l,this.C=s,this.H=a,this.normalize()):(this.v=h,this.G=l,this.C=h,this.H=l):h instanceof d.h?l!==void 0?(this.v=h.x-.5*l,this.C=this.v+l,this.G=h.y-.5*s,this.H=this.G+s,this.normalize()):(this.v=h.x,this.G=h.y,this.C=h.x,this.H=h.y):h instanceof x?this.K(h.v,h.G,h.C,h.H):h instanceof d.Nc&&(h.B()||l.B()?this.Oa():(this.v=h.oa,this.C=h.va,this.G=l.oa,this.H=l.va))},x.prototype.Zw=function(h,l){if(l!==void 0)if(l==0)this.Oa();else{this.v=h[0].x,this.G=h[0].y,this.C=this.v,this.H=this.G;for(var s=1;s<l;s++){var a=h[s];a.x<this.v?this.v=a.x:a.x>this.C&&(this.C=a.x),a.y<this.G?this.G=a.y:a.y>this.H&&(this.H=a.y)}}else if(h==null||h.length==0)this.Oa();else for(a=h[0],this.K(a.x,a.y),s=1;s<h.length;s++)l=h[s],this.Lk(l.x,l.y)},x.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.Zb=function(h,l){typeof h=="number"?this.B()?(this.v=h,this.G=l,this.C=h,this.H=l):(this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l)):h instanceof d.h||h instanceof d.Nd?this.Zb(h.x,h.y):h instanceof x&&!h.B()&&(this.Zb(h.v,h.G),this.Zb(h.C,h.H))},x.prototype.Lk=function(h,l){this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l)},x.prototype.W=function(h,l){this.B()||(this.v-=h,this.C+=h,this.G-=l,this.H+=l,(this.v>this.C||this.G>this.H)&&this.Oa())},x.prototype.scale=function(h){0>h&&this.Oa(),this.B()||(this.v*=h,this.C*=h,this.G*=h,this.H*=h)},x.prototype.zoom=function(h,l){this.B()||this.K(this.sf(),h*this.R(),l*this.ca())},x.prototype.isIntersecting=function(h){return!this.B()&&!h.B()&&(this.v<=h.v?this.C>=h.v:h.C>=this.v)&&(this.G<=h.G?this.H>=h.G:h.H>=this.G)},x.prototype.HG=function(h){return(this.v<=h.v?this.C>=h.v:h.C>=this.v)&&(this.G<=h.G?this.H>=h.G:h.H>=this.G)},x.prototype.Ea=function(h){return!this.B()&&!h.B()&&(h.v>this.v&&(this.v=h.v),h.C<this.C&&(this.C=h.C),h.G>this.G&&(this.G=h.G),h.H<this.H&&(this.H=h.H),(h=this.v<=this.C&&this.G<=this.H)||this.Oa(),h)},x.prototype.mB=function(h){switch(h){case 0:return d.h.construct(this.v,this.G);case 1:return d.h.construct(this.v,this.H);case 2:return d.h.construct(this.C,this.H);case 3:return d.h.construct(this.C,this.G);default:throw d.i.ce()}},x.prototype.nB=function(h){if(h==null||4>h.length)throw d.i.N();h[0]!=null?h[0].ma(this.v,this.G):h[0]=d.h.construct(this.v,this.G),h[1]!=null?h[1].ma(this.v,this.H):h[1]=d.h.construct(this.v,this.H),h[2]!=null?h[2].ma(this.C,this.H):h[2]=d.h.construct(this.C,this.H),h[3]!=null?h[3].ma(this.C,this.G):h[3]=d.h.construct(this.C,this.G)},x.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},x.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},x.prototype.gk=function(){return(this.C+this.v)/2},x.prototype.Jp=function(){return(this.H+this.G)/2},x.prototype.R=function(){return this.C-this.v},x.prototype.ca=function(){return this.H-this.G},x.prototype.move=function(h,l){this.B()||(this.v+=h,this.G+=l,this.C+=h,this.H+=l)},x.prototype.Ju=function(h,l){if(l!==void 0)this.move(h-this.gk(),l-this.Jp());else if(h instanceof d.h)this.Ju(h.x,h.y);else{if(!(h instanceof d.Sa))throw d.i.N();l=(this.C-this.v)/2;var s=(this.H-this.G)/2;this.v=h.Lg()-l,this.C=h.Lg()+l,this.G=h.ih()-s,this.H=h.ih()+s}},x.prototype.offset=function(h,l){this.v+=h,this.C+=h,this.G+=l,this.H+=l},x.prototype.normalize=function(){if(!this.B()){var h=Math.min(this.v,this.C),l=Math.max(this.v,this.C);this.v=h,this.C=l,h=Math.min(this.G,this.H),l=Math.max(this.G,this.H),this.G=h,this.H=l}},x.prototype.dn=function(h){h.ma(this.v,this.G)},x.prototype.$I=function(h){h.ma(this.C,this.G)},x.prototype.cJ=function(h){h.ma(this.v,this.H)},x.prototype.en=function(h){h.ma(this.C,this.H)},x.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},x.prototype.sf=function(){return d.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},x.prototype.mz=function(){return d.h.construct(this.v,this.G)},x.prototype.contains=function(h,l){if(l!==void 0)return h>=this.v&&h<=this.C&&l>=this.G&&l<=this.H;if(h instanceof d.Sa)return this.contains(h.Lg(),h.ih());if(h instanceof d.h)return this.contains(h.x,h.y);if(h instanceof x)return h.v>=this.v&&h.C<=this.C&&h.G>=this.G&&h.H<=this.H;throw d.i.N()},x.prototype.hm=function(h,l){if(l!==void 0)return h>this.v&&h<this.C&&l>this.G&&l<this.H;if(h instanceof d.h)return this.hm(h.x,h.y);if(h instanceof x)return h.v>this.v&&h.C<this.C&&h.G>this.G&&h.H<this.H;throw d.i.N()},x.prototype.Nb=function(h){return h==this||h instanceof x&&(!(!this.B()||!h.B())||this.v==h.v&&this.G==h.G&&this.C==h.C&&this.H==h.H)},x.prototype.cc=function(){var h=this.v;h=d.O.truncate(h^h>>>32);var l=d.O.Th(h);return h=this.C,h=d.O.truncate(h^h>>>32),l=d.O.Th(h,l),h=this.G,h=d.O.truncate(h^h>>>32),l=d.O.Th(h,l),h=this.H,h=d.O.truncate(h^h>>>32),d.O.Th(h,l)},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},x.prototype.zy=function(h,l){var s=this.Zj(h),a=this.Zj(l);if(s&a)return 0;if(!(s|a))return 4;var u=(s!=0?1:0)|(a!=0?2:0);do{var p=l.x-h.x,y=l.y-h.y;if(p>y?s&x.YC?(s&x.ju?(h.y+=y*(this.v-h.x)/p,h.x=this.v):(h.y+=y*(this.C-h.x)/p,h.x=this.C),s=this.Zj(h)):a&x.YC?(a&x.ju?(l.y+=y*(this.v-l.x)/p,l.x=this.v):(l.y+=y*(this.C-l.x)/p,l.x=this.C),a=this.Zj(l)):s!=0?(s&x.ku?(h.x+=p*(this.G-h.y)/y,h.y=this.G):(h.x+=p*(this.H-h.y)/y,h.y=this.H),s=this.Zj(h)):(a&x.ku?(l.x+=p*(this.G-l.y)/y,l.y=this.G):(l.x+=p*(this.H-l.y)/y,l.y=this.H),a=this.Zj(l)):s&x.ZC?(s&x.ku?(h.x+=p*(this.G-h.y)/y,h.y=this.G):(h.x+=p*(this.H-h.y)/y,h.y=this.H),s=this.Zj(h)):a&x.ZC?(a&x.ku?(l.x+=p*(this.G-l.y)/y,l.y=this.G):(l.x+=p*(this.H-l.y)/y,l.y=this.H),a=this.Zj(l)):s!=0?(s&x.ju?(h.y+=y*(this.v-h.x)/p,h.x=this.v):(h.y+=y*(this.C-h.x)/p,h.x=this.C),s=this.Zj(h)):(a&x.ju?(l.y+=y*(this.v-l.x)/p,l.x=this.v):(l.y+=y*(this.C-l.x)/p,l.x=this.C),a=this.Zj(l)),s&a)return 0}while(s|a);return u},x.prototype.Zj=function(h){return(h.x<this.v?1:0)|(h.x>this.C?1:0)<<1|(h.y<this.G?1:0)<<2|(h.y>this.H?1:0)<<3},x.prototype.Bi=function(h){return!this.B()&&(this.R()<=h||this.ca()<=h)},x.prototype.tb=function(h){return h instanceof d.h?Math.sqrt(this.iK(h)):Math.sqrt(this.px(h))},x.prototype.px=function(h){var l=0,s=0,a=this.v-h.C;return a>l&&(l=a),(a=this.G-h.H)>s&&(s=a),(a=h.v-this.C)>l&&(l=a),(a=h.G-this.H)>s&&(s=a),l*l+s*s},x.prototype.iK=function(h){var l=0,s=0,a=this.v-h.x;return a>l&&(l=a),(a=this.G-h.y)>s&&(s=a),(a=h.x-this.C)>l&&(l=a),(a=h.y-this.H)>s&&(s=a),l*l+s*s},x.prototype.cn=function(h){this.B()?h.Oa():h.K(this.v,this.C)},x.ju=1,x.ku=4,x.YC=3,x.ZC=12,x}();d.l=O}(te||(te={})),function(d){var O,x;(x=O||(O={}))[x.initialize=0]="initialize",x[x.initializeRed=1]="initializeRed",x[x.initializeBlue=2]="initializeBlue",x[x.initializeRedBlue=3]="initializeRedBlue",x[x.sweep=4]="sweep",x[x.sweepBruteForce=5]="sweepBruteForce",x[x.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",x[x.sweepRedBlue=7]="sweepRedBlue",x[x.sweepRed=8]="sweepRed",x[x.sweepBlue=9]="sweepBlue",x[x.iterate=10]="iterate",x[x.iterateRed=11]="iterateRed",x[x.iterateBlue=12]="iterateBlue",x[x.iterateBruteForce=13]="iterateBruteForce",x[x.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",x[x.resetRed=15]="resetRed",x[x.resetBlue=16]="resetBlue";var h=function(){function l(s,a){this.ci=s,this.dH=a}return l.prototype.nr=function(s,a,u){this.ci.JX(u,s,a,this.dH)},l.prototype.$p=function(s){return this.ci.Rr(s,this.dH)},l}();O=function(){function l(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new d.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return l.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new d.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},l.prototype.ad=function(s,a){if(!this.Pv)throw d.i.Hb();var u=new d.l;u.K(a),this.fo.add(s),this.Eb.push(u)},l.prototype.Fp=function(){if(!this.Pv)throw d.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},l.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new d.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},l.prototype.JD=function(s,a){if(!this.Ov)throw d.i.Hb();var u=new d.l;u.K(a),this.fo.add(s),this.Eb.push(u)},l.prototype.iF=function(){if(!this.Ov)throw d.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},l.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new d.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},l.prototype.ED=function(s,a){if(!this.Nv)throw d.i.Hb();var u=new d.l;u.K(a),this.cw.add(s),this.qd.push(u)},l.prototype.hF=function(){if(!this.Nv)throw d.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},l.prototype.next=function(){if(this.Ic)return!1;for(var s=!0;s;)switch(this.Xb){case 0:s=this.Gz();break;case 1:s=this.rS();break;case 2:s=this.oS();break;case 3:s=this.qS();break;case 4:s=this.UX();break;case 5:s=this.QX();break;case 6:s=this.RX();break;case 7:s=this.SX();break;case 8:s=this.ux();break;case 9:s=this.iC();break;case 10:s=this.Uz();break;case 11:s=this.jT();break;case 12:s=this.gT();break;case 13:s=this.hT();break;case 14:s=this.iT();break;case 15:s=this.kJ();break;case 16:s=this.jJ();break;default:throw d.i.Qa()}return!this.Ic},l.prototype.aC=function(s){this.qa=s},l.prototype.uz=function(s){return this.Eb[s]},l.prototype.az=function(s){return this.qd[s]},l.prototype.nl=function(s){return this.fo.read(s)},l.prototype.hl=function(s){return this.cw.read(s)},l.Tz=function(s){return!(1&~s)},l.eq=function(s){return!(1&s)},l.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},l.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},l.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},l.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new d.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new d.ia(0)),this.ff.kr();for(var s=0;s<this.qd.length;s++){var a=this.qd[s];this.ff.Br(a.v,a.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),s=0;s<2*this.qd.length;s++)this.Ef.add(s);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},l.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.ff==null&&(this.ff=new d.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.ff.kr(),s=0;s<this.qd.length;s++)a=this.qd[s],this.ff.Br(a.v,a.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);for(s=0;s<2*this.qd.length;s++)this.Ef.add(s);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},l.prototype.UX=function(){var s=this.Ld.get(--this.pe),a=s>>1;return l.eq(s)?(this.rd.remove(a),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[a].v,this.Eb[a].C,this.qa),this.Vf=a,this.Xb=10,!0)},l.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},l.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},l.prototype.SX=function(){var s=this.Ld.get(this.pe-1),a=this.Ef.get(this.Rg-1),u=this.Rr(s,!0),p=this.Rr(a,!1);return u>p?this.ux():u<p?this.iC():l.Tz(s)?this.ux():l.Tz(a)?this.iC():this.ux()},l.prototype.ux=function(){var s=this.Ld.get(--this.pe),a=s>>1;if(l.eq(s))return this.Df!=-1&&this.Ij.get(a)!=-1?(this.Ad.jd(this.Df,this.Ij.get(a)),this.Ij.set(a,-1)):this.rd.remove(a),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(s=this.Ad.rc(this.Cf);s!=-1;){var u=this.Ad.getData(s);this.ff.vj(u),this.Hj.set(u,-1),u=this.Ad.lb(s),this.Ad.jd(this.Cf,s),s=u}return 0<this.ff.size()?(this.ow.EB(this.Eb[a].v,this.Eb[a].C,this.qa),this.Vf=a,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new d.jp),this.Ij=new d.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(a,this.Ad.addElement(this.Df,a)),this.Xb=7),!0},l.prototype.iC=function(){var s=this.Ef.get(--this.Rg),a=s>>1;if(l.eq(s))return this.Cf!=-1&&this.Hj.get(a)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(a)),this.Hj.set(a,-1)):this.ff.remove(a),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(s=this.Ad.rc(this.Df);s!=-1;){var u=this.Ad.getData(s);this.rd.vj(u),this.Ij.set(u,-1),u=this.Ad.lb(s),this.Ad.jd(this.Df,s),s=u}return 0<this.rd.size()?(this.oo.EB(this.qd[a].v,this.qd[a].C,this.qa),this.Af=a,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new d.jp),this.Hj=new d.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(a,this.Ad.addElement(this.Cf,a)),this.Xb=7),!0},l.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var s=this.Ld.get(this.pe)>>1;return this.rd.vj(s),this.Xb=4,!0},l.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var s=this.Ef.get(this.Rg)>>1;return this.ff.vj(s),this.Xb=7,!0},l.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var s=this.Ld.get(this.pe)>>1;return this.rd.vj(s),this.Xb=7,!0},l.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var s=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(s)||(this.Af=this.Rg,!1)},l.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var s=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(s)||(this.Af=this.Rg,!1)},l.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},l.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},l.prototype.Kt=function(s,a,u){this.Am==null&&(this.Am=new d.Xt),u=new h(this,u),this.Am.sort(s,0,a,u)},l.prototype.JX=function(s,a,u,p){var y=this;s.Vd(a,u,function(m,w){var S=y.Rr(m,p),k=y.Rr(w,p);return S<k||S==k&&l.eq(m)&&l.Tz(w)?-1:1})},l.prototype.Rr=function(s,a){var u=.5*this.qa;return a?(a=this.Eb[s>>1],l.eq(s)?a.G-u:a.H+u):(a=this.qd[s>>1],l.eq(s)?a.G-u:a.H+u)},l}(),d.xC=O}(te||(te={})),function(d){var O=function(){function x(){}return x.construct=function(h,l,s,a,u,p){var y=new x;return y.v=h,y.G=l,y.Ye=s,y.C=a,y.H=u,y.Bg=p,y},x.prototype.Oa=function(){this.Ye=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.XS=function(){return isNaN(this.Ye)},x.prototype.K=function(h,l,s,a,u,p){a!==void 0?typeof h=="number"?(this.v=h,this.G=l,this.Ye=s,this.C=a,this.H=u,this.Bg=p):(this.v=h.x-.5*l,this.C=this.v+l,this.G=h.y-.5*s,this.H=this.G+s,this.Ye=h.z-.5*a,this.Bg=this.Ye+a):(this.v=h,this.G=l,this.Ye=s,this.C=h,this.H=l,this.Bg=s)},x.prototype.move=function(h){this.v+=h.x,this.G+=h.y,this.Ye+=h.z,this.C+=h.x,this.H+=h.y,this.Bg+=h.z},x.prototype.copyTo=function(h){h.v=this.v,h.G=this.G,h.C=this.C,h.H=this.H},x.prototype.Lk=function(h,l,s){this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l),isNaN(this.Ye)==0?this.Ye>s?this.Ye=s:this.Bg<s&&(this.Bg=s):this.Bg=this.Ye=s},x.prototype.Zb=function(h,l,s){if(typeof h=="number")this.B()?(this.v=h,this.G=l,this.Ye=s,this.C=h,this.H=l,this.Bg=s):this.Lk(h,l,s);else if(h instanceof d.Nd)this.Zb(h.x,h.y,h.z);else{if(!(h instanceof x))throw d.i.N();h.B()||(this.Zb(h.v,h.G,h.Ye),this.Zb(h.C,h.H,h.Bg))}},x.prototype.construct=function(h,l,s){h.B()||l.B()?this.Oa():(this.v=h.oa,this.C=h.va,this.G=l.oa,this.H=l.va,this.Ye=s.oa,this.Bg=s.va)},x.prototype.nB=function(h){if(h==null||8>h.length)throw d.i.N();h[0]=new d.Nd(this.v,this.G,this.Ye),h[1]=new d.Nd(this.v,this.H,this.Ye),h[2]=new d.Nd(this.C,this.H,this.Ye),h[3]=new d.Nd(this.C,this.G,this.Ye),h[4]=new d.Nd(this.v,this.G,this.Bg),h[5]=new d.Nd(this.v,this.H,this.Bg),h[6]=new d.Nd(this.C,this.H,this.Bg),h[7]=new d.Nd(this.C,this.G,this.Bg)},x.prototype.Zw=function(h){if(h==null||h.length==0)this.Oa();else{var l=h[0];for(this.K(l.x,l.y,l.z),l=1;l<h.length;l++){var s=h[l];this.Lk(s.x,s.y,s.z)}}},x}();d.OK=O}(te||(te={})),function(d){(function(O){O.Qa=function(){var x=Error();return x.message="Internal Error",x},O.Ie=function(){var x=Error();return x.message="Not Implemented",x},O.Xk=function(){var x=Error();return x.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",x},O.Hb=function(){var x=Error();return x.message="Invalid Call",x},O.N=function(x){var h=Error();return h.message="Illegal Argument Exception",x!==void 0&&(h.message+=": "+x),h},O.fu=function(x){var h=Error();return h.message=x!==void 0?"Runtime Exception: "+x:"Runtime Exception.",h},O.fa=function(x){var h=Error();return h.message="Geometry Exception: "+x,h},O.GK=function(){var x=Error();return x.message="Assert Failed Exception",x},O.ce=function(){var x=Error();return x.message="IndexOutOfBoundsException",x},O.WC=function(){var x=Error();return x.message="UserCancelException",x}})(d.i||(d.i={}))}(te||(te={})),function(d){(d=d.bm||(d.bm={}))[d.forward=0]="forward",d[d.reverse=1]="reverse"}(te||(te={})),function(d){var O=function(){function l(s,a){this.Wa=s,this.FH=a,this.LH=-1,this.sl=!1}return l.prototype.qe=function(){},l.prototype.next=function(){if(++this.LH==this.FH.I())return null;var s=this.FH.Na(this.LH);s.scale(this.Wa.ec);var a=new d.Da;return this.Wa.sy(s,this.sl,a),a},l.prototype.La=function(){return 0},l}(),x=function(){function l(s,a,u){this.Wa=s,this.rw=a,this.Xn=!1,this.co=u,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new d.Da,this.uk=[]}return l.prototype.qe=function(){},l.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var s=d.aa.jg(this.qq);return d.Fg.Mk(s,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}s=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var a=this.uk.length=0,u=new d.h,p=new d.h,y=[0];this.sd.Ha()&&8>this.FA;){var m=this.sd.ha();if(u.L(m.ac()),p.L(m.wc()),u.scale(this.Wa.ec),p.scale(this.Wa.ec),d.cj.Mu(u,p)?u.x=p.x:d.cj.Ku(u,p)&&(p.x=u.x),this.uk.length=0,d.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,u,p,this.Wa.QA,this.Wa.Zs,y,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(m=this.uk.slice(0),this.co.qG(this.co.da()-1,m,m.length-1)),d.cj.Lu(u,p)?(this.qq.Oa(),this.Wa.sy(u,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(y[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}s==null&&(s=new d.Da).Yk(null,0),this.OD(s),a++}if(this.bw[0]=0,0<a){for(y=this.sd.wb();0<a;)this.sd.li(),u.L(this.rw.Na(this.sd.wb())),p.L(this.rw.Na(this.sd.ik())),u.scale(this.Wa.ec),p.scale(this.Wa.ec),this.sl&&(d.cj.Mu(u,p)?u.x=p.x:d.cj.Ku(u,p)&&(p.x=u.x)),this.uk.length=0,d.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,p,u,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(s),a--;return u.L(this.rw.Na(this.sd.wb())),u.scale(this.Wa.ec),h.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,u,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,s,NaN,NaN),this.sd.Vb(y),this.sd.ha(),a=d.ta.kj(null,s,!0),d.Fg.Mk(s,a,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),s=d.aa.jg(this.qq),d.Fg.Mk(s,this.Wa.Aq,!0,!0,this.Wa.Ub)},l.prototype.OD=function(s){var a=this.uk[0],u=this.Nj[0]-1.570796326794897,p=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var y=this.di+1.570796326794897;u=y+3.141592653589793-(this.di-this.Nj[0])}else u=(y=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var m=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),w=!1;if(Math.abs(u-y)<=.5*this.Wa.ao)if(m){var S=s.Na(s.I()-2);S.scale(this.Wa.ec);var k=new d.ga(0);for(d.kb.Xy(this.Wa.Tb,this.Wa.kc,a.x,a.y,S.x,S.y,k),S=k.u;S<=y;)S+=6.283185307179586;for(;S>y;)S-=6.283185307179586;S<u&&(w=!0)}else w=!0;w?(s.DB(0,s.I()-1),this.sl||((a=new d.h).L(s.Na(s.I()-1)),a.scale(this.Wa.ec),-3.141592653589793>a.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<a.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),m||(u=.5*(u+y))):(m?((y=new d.h).L(a),y.scale(1/this.Wa.ec),s.wf(0,-1,y)):h.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],y,u,this.Wa.ao,this.sl,this.sk,s,NaN,NaN),this.FA+=1)}h.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,u,p,this.sl,this.sk,s),this.di=this.Gs[0]},l.prototype.xy=function(s,a){return this.Wa.xy(this.uk,s,this.Nj[0],this.Gs[0],this.sl,a)},l.prototype.La=function(){return 0},l}(),h=function(){function l(){}return l.buffer=function(s,a,u,p,y,m){if(s==null)throw d.i.N("Geometry::Geodesic_bufferer::buffer");if(s.B())return new d.Da(s.description);var w=new l;w.Qg=a,w.Jc=d.cb.sc(a);var S=d.cb.vv(w.Jc);if(w.Ub=m,w.Tb=d.cb.ev(w.Jc),w.kc=S*(2-S),w.ec=w.Jc.Hd().ai,w.qa=w.Qg.Kn(),w.Aq=w.Jc.Kn(),w.Zs=w.Aq*w.ec,w.zq=1.570796326794897/w.ec,w.OY=3.141592653589793/w.ec,w.Js=6.283185307179586/w.ec,w.PY=w.Js/6,w.LA=0,w.NY=1.5707963267948966*w.Tb/w.LA,u==4?(w.ze=2,w.Wv=!0):(w.ze=u,w.Wv=!1),w.Ka=p,w.rb=Math.abs(p),isNaN(y)||.001>y?w.xX():w.$n=y,u=s.getType(),d.aa.yd(u)?((u=new d.Ta(s.description)).oc(s,!0),s=u,u=1607):u==197&&(u=new d.l,s.A(u),u.R()<=w.qa||u.ca()<=w.qa?((u=new d.Ta(s.description)).ad(s,!1),s=u,u=1607):((u=new d.Da(s.description)).ad(s,!1),s=u,u=1736)),w.yX(),d.aa.Rn(u)||w.zX(),w.rb<=.5*w.$n)return u!=1736?new d.Da(s.description):w.Wv?s:d.cj.Qr(s,w.Qg,w.ze,w.QA,-1,m);if(0>w.Ka&&u!=1736)return new d.Da(s.description);if(w.Wv&&d.aa.Hc(u)?(a=d.cj.Qr(s,a,4,NaN,w.$n,m),s=d.cb.zh(a,w.Qg,w.Jc)):s=d.cb.zh(s,w.Qg,w.Jc),(s=d.Hh.lj(s,w.Jc)).B())return new d.Da(s.description);switch(!w.Wv&&d.aa.Hc(u)&&(s=d.cj.pI(w.ec,s)),s=l.KX(s,w.Jc),u){case 1736:a=w.UN(s);break;case 1607:a=w.VN(s);break;case 550:a=w.SN(s);break;case 33:a=w.TN(s);break;default:throw d.i.fa("corrupted_geometry")}return(w=d.cb.zh(a,w.Jc,w.Qg)).Jl(s.description),w},l.prototype.UN=function(s){var a=new d.Da;s=new x(this,s,a),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),s=d.ip.nj(s,this.Jc,2);var u=new d.Dd;return u.scale(1/this.ec,1/this.ec),a.Oc(u),a=d.ip.nj(a,this.Jc,2),0<=this.Ka?d.Gh.local().V(a,s,this.Jc,this.Ub):d.kp.local().V(a,s,this.Jc,this.Ub)},l.prototype.VN=function(s){return s=new x(this,s,null),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),d.ip.nj(s,this.Jc,2)},l.prototype.SN=function(s){return s=new O(this,s),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),d.ip.nj(s,this.Jc,2)},l.prototype.TN=function(s){(s=s.D()).scale(this.ec);var a=new d.Da;return this.sy(s,!1,a),d.ip.nj(a,this.Jc,2)},l.prototype.xy=function(s,a,u,p,y,m){var w=s[0],S=s[s.length-1],k=w.y>S.y?w.y:S.y,I=d.F.q(this.Tb,this.kc,w.y<S.y?w.y:S.y);if(k=d.F.q(this.Tb,this.kc,k),.001<this.LA-(I+a+this.rb)&&.001<this.LA+(k-a-this.rb))return!1;I=(a=u-1.570796326794897)-3.141592653589793,k=a+3.141592653589793;var A=(u=p+1.570796326794897)+3.141592653589793,L=[NaN],D=[NaN],U=[NaN],X=[NaN];if(p=!1,l.dJ(this.Tb,this.kc,this.rb,w,a,I,S,u,L,D),l.dJ(this.Tb,this.kc,this.rb,S,A,u,w,I,U,X),(u<L[0]&&L[0]<A||u<D[0]&&D[0]<A)&&(p=!0),p||(I<U[0]&&U[0]<a||I<X[0]&&X[0]<a)&&(p=!0),!p&&y)return!1;for(var J=[],B=s.length-1;0<=B;B--)J.push(s[B]);return m.Oa(),m.Yk(null,0),B=[0],l.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,s,a,u,y,B,m),l.Hr(this.Tb,this.kc,this.ec,this.rb,S,u,A,this.ao,y,B,m,L[0],D[0]),l.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,J,A,k,y,B,m),l.Hr(this.Tb,this.kc,this.ec,this.rb,w,I,a,this.ao,y,B,m,U[0],X[0]),s=!1,y||(s=this.IE(this.ec,m)),p||s},l.prototype.sy=function(s,a,u){u.Oa(),u.Yk(null,0),l.Hr(this.Tb,this.kc,this.ec,this.rb,s,-this.ao,6.283185307179586,this.ao,a,[0],u,NaN,NaN),a||this.IE(this.ec,u)},l.prototype.IE=function(s,a){var u=this.vO(s,a);return s=this.wO(s,a),u||s},l.prototype.vO=function(s,a){var u=a.I(),p=!1,y=new d.l;if(a.A(y),!d.s.Y(y.H*s,1.570796326794897)&&!d.s.Y(y.G*s,-1.570796326794897))return!1;var m=new d.h;for(--u;0<=u;u--)a.D(u,m),(m.y==y.H&&d.s.Y(m.y*s,1.570796326794897)||m.y==y.G&&d.s.Y(m.y*s,-1.570796326794897))&&(p=!0,this.OI(m,u,a));return p},l.prototype.wO=function(s,a){var u=a.Na(0),p=a.Na(a.I()-1);return 3.141592653589793<Math.abs(u.x-p.x)*s?(this.VV(a),!0):this.uO(a)},l.prototype.uO=function(s){return 0>s.Ke()&&(this.UV(s),!0)},l.prototype.OI=function(s,a,u){var p=u.I(),y=0<a?a-1:p-1;if(p=u.Na(a<p-1?a+1:0),y=u.Na(y),!d.s.Y(p.y,s.y)&&!d.s.Y(p.x,s.x)){var m=new d.h;m.ma(p.x,s.y),u.Cb(a,m)}d.s.Y(y.y,s.y)||d.s.Y(y.x,s.x)||((p=new d.h).ma(y.x,s.y),u.wf(0,a,p))},l.prototype.VV=function(s){var a=new d.Da,u=new d.Da,p=new d.Dd,y=s.Na(0),m=s.Na(s.I()-1),w=new d.h;y.x>m.x?(m=this.zq,p.gg(-this.Js,0)):(m=-this.zq,p.gg(this.Js,0)),a.add(s,!1),s.Oa(),u.add(a,!1),u.Oc(p),y=new d.l,u.A(y),y.W((this.Js-y.R())/2,0),y.G=-this.zq,y.H=this.zq;for(var S=0;S<u.I();S++)u.D(S,w),a.wf(0,-1,w);for(u.Oc(p),S=0;S<u.I();S++)u.D(S,w),a.wf(0,-1,w);u=a.Na(0),p=a.Na(a.I()-1),w.ma(p.x,m),a.wf(0,-1,w),w.ma(.5*(p.x+u.x),m),a.wf(0,-1,w),w.ma(u.x,m),a.wf(0,-1,w),a=d.Hh.ks(a,this.Jc,2,!0,y.v),a=d.Hh.ks(a,this.Jc,2,!0,y.C),a=d.Ud.clip(a,y,this.Aq,NaN),s.add(a,!1)},l.prototype.UV=function(s){var a=new d.l;s.A(a),a.W((this.Js-a.R())/2,0),a.G=-this.zq,a.H=this.zq,s.Yk(null,0);var u=new d.h;u.ma(a.v,a.G),s.wf(1,-1,u),u.ma(a.v,a.H),s.wf(1,-1,u),u.ma(.5*(a.v+a.C),a.H),s.wf(1,-1,u),u.ma(a.C,a.H),s.wf(1,-1,u),u.ma(a.C,a.G),s.wf(1,-1,u),u.ma(.5*(a.v+a.C),a.G),s.wf(1,-1,u)},l.qy=function(s,a,u,p,y,m,w,S,k,I,A){var L=null;k||((L=new d.h).Rc(),0<A.I()&&(L.L(A.Na(A.I()-1)),L.scale(u)));var D=new d.ga(0),U=new d.ga(0),X=new d.ga(0),J=new d.h,B=new d.h,Q=m[m.length-1];u=1/u;for(var oe=0;oe<m.length;oe++){var se=m[oe];if(oe==0)var ye=w;else oe==m.length-1?ye=S:(d.kb.wd(s,a,Q.x,Q.y,se.x,se.y,null,null,D,y),ye=D.u-1.570796326794897);d.kb.yi(s,a,se.x,se.y,p,ye,U,X),k?B.ma(U.u,X.u):(J.ma(U.u,X.u),l.gJ(se.x,J.x,L.x,I),B.ma(I[0]+J.x,J.y),L.L(B)),B.scale(u),A.wf(0,-1,B)}},l.Hr=function(s,a,u,p,y,m,w,S,k,I,A,L,D){if(!(w-m<S)){var U=new d.ga(0),X=new d.ga(0),J=new d.h,B=new d.h,Q=null;k||((Q=new d.h).Rc(),0<A.I()&&(Q.L(A.Na(A.I()-1)),Q.scale(u)));var oe=d.O.truncate(Math.ceil(m/S)),se=oe++*S;for(se==m&&(se=oe++*S),u=1/u;se<w+S&&(m<L&&L<se?(se=L,oe--):m<D&&D<se&&(se=D,oe--),!(se>=w));)d.kb.yi(s,a,y.x,y.y,p,se,U,X),k?B.ma(U.u,X.u):(J.ma(U.u,X.u),l.gJ(y.x,J.x,Q.x,I),B.ma(I[0]+J.x,J.y),Q.L(B)),B.scale(u),A.wf(0,-1,B),m=se,se=oe++*S}},l.dJ=function(s,a,u,p,y,m,w,S,k,I){var A=new d.h,L=new d.h,D=new d.ga(0),U=new d.ga(0);for(d.kb.yi(s,a,p.x,p.y,u,y,D,U),A.ma(D.u,U.u),d.kb.yi(s,a,p.x,p.y,u,m,D,U),L.ma(D.u,U.u),u=new d.ga(0),d.kb.Xy(s,a,w.x,w.y,A.x,A.y,u),k[0]=u.u,d.kb.Xy(s,a,w.x,w.y,L.x,L.y,u),I[0]=u.u;k[0]<=I[0];)k[0]+=6.283185307179586;for(;k[0]>I[0];)k[0]-=6.283185307179586;for(;k[0]>=S;)k[0]-=6.283185307179586,I[0]-=6.283185307179586;for(;k[0]<S;)k[0]+=6.283185307179586,I[0]+=6.283185307179586},l.gJ=function(s,a,u,p){if(isNaN(u)){for(;3.141592653589793<p[0]+a-s;)p[0]-=6.283185307179586;for(;3.141592653589793<s-(p[0]+a);)p[0]+=6.283185307179586}else 3.141592653589793<p[0]+a-u?p[0]-=6.283185307179586:3.141592653589793<u-(p[0]+a)&&(p[0]+=6.283185307179586)},l.KX=function(s,a){var u=s.getType(),p=d.aa.Hc(u)?s.da():u==550?s.I():1;if(p==1)return s;var y=new d.ia(0);y.resize(p);for(var m=[],w=new d.l,S=0;S<p;S++){if(y.write(S,S),d.aa.Hc(u)){s.Rj(S,w);var k=w.sf()}else k=s.Na(S);k=d.XK.$X(a,k),m[S]=k}for(y.Vd(0,y.size,function(I,A){return m[I]<m[A]?-1:m[I]>m[A]?1:0}),a=s.Ia(),S=0;S<p;S++)w=y.read(S),d.aa.Hc(u)?a.addPath(s,w,!0):a.Fd(s,w,w+1);return a},l.prototype.yX=function(){var s=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);s=Math.min(s,.39269908169872414*this.Tb);var a=new d.h;a.ma(0,10*this.ec);var u=45*this.ec,p=new d.ga(0),y=new d.ga(0),m=new d.ga(0),w=new d.ga(0),S=new d.ga(0),k=new d.ga(0),I=new d.ga(0),A=new d.ga(0),L=new d.h,D=new d.h,U=new d.h,X=new d.h;d.kb.yi(this.Tb,this.kc,a.x,a.y,s,0,p,y),L.ma(p.u,y.u),d.kb.yi(this.Tb,this.kc,a.x,a.y,s,u,m,w),D.ma(m.u,w.u),p=new d.ga(0),y=new d.ga(0);for(var J=new d.ga(0);d.kb.yi(this.Tb,this.kc,a.x,a.y,s,.5*(0+u),S,k),U.ma(S.u,k.u),d.kb.wd(this.Tb,this.kc,L.x,L.y,D.x,D.y,p,y,null,2),d.kb.oj(this.Tb,this.kc,L.x,L.y,.5*p.u,y.u,I,A,2),X.ma(I.u,A.u),d.kb.wd(this.Tb,this.kc,U.x,U.y,X.x,X.y,J,null,null,2),!(J.u<=this.$n);)u*=.9,d.kb.yi(this.Tb,this.kc,a.x,a.y,s,u,m,w),D.ma(m.u,w.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(u-0))},l.prototype.zX=function(){var s=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);s=Math.min(s,.39269908169872414*this.Tb);var a=new d.h,u=new d.h;a.ma(0,10*this.ec),u.ma(10*this.ec,10*this.ec);var p=new d.ga(0),y=new d.ga(0),m=new d.ga(0);d.kb.wd(this.Tb,this.kc,a.x,a.y,u.x,u.y,m,p,y,this.ze);var w=new d.ga(0),S=new d.ga(0),k=new d.ga(0),I=new d.ga(0),A=new d.h,L=new d.ga(0),D=new d.ga(0),U=new d.ga(0),X=new d.ga(0),J=new d.ga(0),B=new d.ga(0),Q=new d.ga(0),oe=new d.ga(0),se=new d.ga(0),ye=new d.h,de=new d.h,Me=new d.h,Se=new d.h,xe=1;p=p.u,y=y.u+1.570796326794897,m=m.u,d.kb.yi(this.Tb,this.kc,a.x,a.y,s,p-1.570796326794897,D,U),ye.ma(D.u,U.u),d.kb.yi(this.Tb,this.kc,u.x,u.y,s,y,X,J),de.ma(X.u,J.u),D=new d.ga(0),U=new d.ga(0),y=new d.ga(0);for(var ze=new d.ga(0);d.kb.oj(this.Tb,this.kc,a.x,a.y,.5*(0+xe)*m,p,w,S,this.ze),A.ma(w.u,S.u),d.kb.wd(this.Tb,this.kc,a.x,a.y,A.x,A.y,null,null,L,this.ze),d.kb.yi(this.Tb,this.kc,A.x,A.y,s,L.u+1.570796326794897,B,Q),Me.ma(B.u,Q.u),d.kb.wd(this.Tb,this.kc,ye.x,ye.y,de.x,de.y,D,U,null,2),d.kb.oj(this.Tb,this.kc,ye.x,ye.y,.5*D.u,U.u,oe,se,2),Se.ma(oe.u,se.u),d.kb.wd(this.Tb,this.kc,Me.x,Me.y,Se.x,Se.y,y,null,null,2),!(y.u<=this.$n);)xe*=.9,d.kb.oj(this.Tb,this.kc,a.x,a.y,xe*m,p,k,I,this.ze),u.ma(k.u,I.u),d.kb.wd(this.Tb,this.kc,a.x,a.y,u.x,u.y,null,null,ze,this.ze),d.kb.yi(this.Tb,this.kc,u.x,u.y,s,ze.u+1.570796326794897,X,J),de.ma(X.u,J.u);1e5<(s=xe*m)&&(s=1e5),this.QA=s},l.prototype.xX=function(){var s=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/s&&(s=this.rb/500),.01>s&&(s=.01),this.$n=s},l}();d.VK=h}(te||(te={})),function(d){var O=function(){function x(){}return x.Mf=function(h,l){var s=new d.h;s.L(l),h.push(s)},x.up=function(h,l){h.add(l.x),h.add(l.y)},x.hB=function(h){h.Bh(h.size-2)},x.oB=function(h,l){l.ma(h.get(h.size-2),h.get(h.size-1))},x.Qr=function(h,l,s,a,u,p){if(h==null)throw d.i.N();var y=h.getType();if(h.B()||d.aa.Rn(y))return h;var m=new x;m.Qg=l,m.Jc=d.cb.sc(l);var w=d.cb.vv(m.Jc);if(m.Ub=p,m.Tb=d.cb.ev(m.Jc),m.kc=w*(2-w),m.ec=m.Jc.Hd().ai,m.Aq=m.Jc.Kn(),m.Zs=m.Aq*m.ec,m.AA=a,m.zA=u,m.ze=s,y==197?(s=new d.Da(h.description)).ad(h,!1):d.aa.yd(y)?(s=new d.Ta(h.description)).oc(h,!0):s=h,m.ze!=4){if((l=m.Qg.Nb(m.Jc)==0?d.cb.zh(s,m.Qg,m.Jc):d.Hh.lj(s,m.Jc)).B())return l;l=x.pI(m.ec,l),l=m.Zy(l),l=d.ip.nj(l,m.Jc,m.ze),m=d.cb.zh(l,m.Jc,m.Qg)}else{if(d.Eg.Sb(l)==2?(h=d.cb.ml(),(l=d.Xj.local().V(s,h,l,p))==h&&(l=new d.Da,h.copyTo(l))):l=d.Hh.lj(s,m.Jc),l.B())return l;m=m.CX(l)}return m},x.pI=function(h,l){var s=new d.l;if(l.xc(s),3.141592653589793>s.R()*h)return l;var a=!1;s=l.Ga();for(var u=new d.h,p=new d.h;s.$a();)for(;s.Ha();){var y=s.ha();if(u.L(y.ac()),p.L(y.wc()),u.scale(h),p.scale(h),3.141592653589793<Math.abs(u.x-p.x)){var m=x.Lu(u,p);if(!m){a=!0;break}if(6.283185307179586<Math.abs(u.x-p.x)){a=!0;break}}}if(!a)return l;a=l.Ia();var w=1<l.description.Aa,S=new d.h,k=new d.h,I=new d.h,A=new d.h,L=new d.Sa;for(s.Zi();s.$a();)for(var D=NaN,U=[0];s.Ha();){if(y=s.ha(),u.L(y.ac()),p.L(y.wc()),u.scale(h),p.scale(h),isNaN(D)?(x.Wi(u.x,NaN,U),k.L(u)):k.L(I),D=k.x,m=x.Lu(u,p)){if(6.283185307179586<p.x-u.x)for(;6.283185307179586<p.x-u.x;)p.x-=6.283185307179586;if(-6.283185307179586>p.x-u.x)for(;-6.283185307179586>p.x-u.x;)p.x+=6.283185307179586;x.Wi(p.x,NaN,U),I.L(p)}else S.L(p),x.AU(S),x.Wi(S.x,D,U),I.ma(U[0]+S.x,S.y);.5>Math.abs(I.x-p.x)&&I.L(p),w?(y.Tw(0,L),A.L(k),A.scale(1/h),L.Cb(A),(m=s.vm())?a.nf(L):a.lineTo(L),s.Qn()&&!l.dc(s.gb)&&(y.Tw(1,L),A.L(I),A.scale(1/h),L.Cb(A),a.lineTo(L))):((m=s.vm())&&a.Hz(null,0),y=a.da()-1,A.L(k),A.scale(1/h),a.wf(y,-1,A),s.Qn()&&!l.dc(s.gb)&&(A.L(I),A.scale(1/h),a.wf(y,-1,A)))}return a},x.tF=function(h,l,s,a,u,p,y,m,w,S,k,I){var A=new d.h,L=new d.h,D=0<a.compare(u);x.fJ(D,a,u,A,L),x.uF(h,l,s,A,L,p,NaN,y,m,w,S,null,k,I),D&&x.fC(w,S,null,k)},x.prototype.Zy=function(h){var l=h.Ia(),s=h.Ga(),a=[],u=null,p=null,y=1<h.description.Aa;y&&(u=new d.be(0),p=new d.ig);for(var m=[0],w=new d.h,S=new d.h,k=new d.h,I=new d.h;s.$a();)for(m[0]=0;s.Ha();){var A=s.ha();w.L(A.ac()),S.L(A.wc()),w.scale(this.ec),S.scale(this.ec);var L=0<w.compare(S);x.fJ(L,w,S,k,I),a.length=0,u!=null&&u.Bh(0),0<this.AA?x.uF(this.Tb,this.kc,this.ze,k,I,this.AA,this.zA,this.Zs,null,null,null,y?u:null,a,m):x.aR(this.Tb,this.kc,this.ze,k,I,this.zA,this.Zs,y?u:null,a,m),L&&x.fC(null,null,y?u:null,a),a[0].L(A.ac()),a[a.length-1].L(A.wc());for(var D=1;D<a.length-1;D++)a[D].scale(1/this.ec);y?(L=x.eJ(L,A,p),x.TD(s.vm(),s.Qn()&&!h.dc(s.gb),A,L,u,a,l)):x.SD(s.vm(),s.Qn()&&!h.dc(s.gb),a,l)}return l},x.prototype.CX=function(h){var l=h.Ia(),s=h.Ga(),a=[],u=null,p=new d.ig,y=1<h.description.Aa;for(y&&(u=new d.be(0));s.$a();)for(;s.Ha();){var m=s.ha(),w=m.ac(),S=m.wc();w=0<w.compare(S),S=x.eJ(w,m,p),a.length=0,u!=null&&u.Bh(0),x.BX(this.Tb,this.kc,this.ec,S,this.Qg,this.AA,this.zA,y?u:null,a),w&&x.fC(null,null,y?u:null,a),y?x.TD(s.vm(),s.Qn()&&!h.dc(s.gb),m,S,u,a,l):x.SD(s.vm(),s.Qn()&&!h.dc(s.gb),a,l)}return l},x.SD=function(h,l,s,a){h&&a.Hz(null,0),h=a.da()-1;var u=s.slice(0);a.qG(h,u,u.length-1),l&&a.wf(h,-1,s[s.length-1])},x.TD=function(h,l,s,a,u,p,y){var m=new d.Sa;if(s.To(m),h?y.nf(m):y.lineTo(m),2<p.length){h=a.Qb();for(var w=1;w<p.length-1;w++){var S=a.NG(u.get(w)*h);a.Tw(S,m),m.Cb(p[w]),y.lineTo(m)}}l&&(s.Po(m),y.lineTo(m))},x.uF=function(h,l,s,a,u,p,y,m,w,S,k,I,A,L){var D=new d.ga(0),U=new d.ga(0),X=new d.ga(0);d.kb.wd(h,l,a.x,a.y,u.x,u.y,X,D,U,s),X=X.u;var J=D=D.u;0>J&&(J+=6.283185307179586),0>(U=U.u)&&(U+=6.283185307179586),w!=null&&(w[0]=X),S!=null&&(S[0]=J),k!=null&&(k[0]=U),S=w=NaN,I!=null&&(w=((S=d.F.Ah(h,l))-(k=d.F.q(h,l,a.y)))/X,S=(S+k)/X),k=x.Mu(a,u),U=x.Ku(a,u),J=k||U;var B=x.FE(a,u,m),Q=new d.ga(0),oe=new d.ga(0),se=new d.h,ye=new d.h,de=new d.h;x.Wi(a.x,NaN,L);var Me=[L[0]];if(X<=p)x.Mf(A,a),x.Wi(u.x,NaN,L),I!=null&&I.add(0),J?(k&&x.kB(a,u,I,A),U&&x.iB(a,u,I,A)):B?x.jB(a,u,D,w,S,I,A):0<y&&(ye.ma(a.x-Me[0],a.y),se.ma(u.x-L[0],u.y),x.Yy(h,l,s,a,X,D,ye,se,0,1,y,I,A,Me)),x.Mf(A,u);else{var Se=X/((p=1+d.O.truncate(Math.ceil(X/p)))-1),xe=new d.h,ze=0;x.Mf(A,a),xe.L(a),ye.ma(a.x-L[0],a.y),I!=null&&I.add(0);for(var Ae=1;Ae<p;Ae++){if(Ae<p-1){d.kb.oj(h,l,a.x,a.y,Ae*Se,D,Q,oe,s),se.ma(Q.u,oe.u),x.Wi(se.x,xe.x,L),de.ma(L[0]+se.x,se.y);var et=Ae/(p-1)}else x.Wi(u.x,NaN,L),se.ma(u.x-L[0],u.y),de.L(u),et=1;J?(Ae==1&&k&&x.kB(a,de,I,A),Ae==p-1&&U&&x.iB(xe,u,I,A)):B?x.EE(xe,de,m)&&(a.x<u.x?xe.x>de.x&&(L[0]+=6.283185307179586,de.ma(L[0]+se.x,se.y)):xe.x<de.x&&(L[0]-=6.283185307179586,de.ma(L[0]+se.x,se.y)),x.jB(xe,de,D,w,S,I,A)):0<y&&x.Yy(h,l,s,a,X,D,ye,se,ze,et,y,I,A,Me),x.Mf(A,de),I!=null&&I.add(et),xe.L(de),ye.L(se),Me[0]=L[0],ze=et}}},x.aR=function(h,l,s,a,u,p,y,m,w,S){var k=new d.ga(0),I=new d.ga(0),A=new d.ga(0);d.kb.wd(h,l,a.x,a.y,u.x,u.y,A,k,I,s),I=A.u,k=k.u;var L=A=NaN;if(m!=null){L=d.F.Ah(h,l);var D=d.F.q(h,l,a.y);A=(L-D)/I,L=(L+D)/I}D=x.Mu(a,u);var U=x.Ku(a,u),X=D||U;y=x.FE(a,u,y);var J=x.Lu(a,u);J=X||y||J,x.Wi(a.x,NaN,S);var B=new d.h;x.Mf(w,a),B.L(a),m!=null&&m.add(0),J?(X?(D&&x.kB(a,u,m,w),U&&x.iB(a,u,m,w)):y&&x.jB(a,u,k,A,L,m,w),x.Wi(u.x,NaN,S),x.Mf(w,u)):I<=p?(x.Wi(u.x,NaN,S),x.Mf(w,u)):(A=new d.h,y=new d.h,A.L(a),y.L(u),A.x-=S[0],y.x-=S[0],-3.141592653589793>y.x?y.x+=6.283185307179586:3.141592653589793<y.x&&(y.x-=6.283185307179586),x.Yy(h,l,s,a,I,k,A,y,0,1,p,m,w,S),x.Mf(w,u),x.Wi(u.x,NaN,S)),m!=null&&m.add(1)},x.Yy=function(h,l,s,a,u,p,y,m,w,S,k,I,A,L){var D=new d.h,U=new d.h;D.ma(y.x+L[0],y.y),new d.ga(0),new d.ga(0),new d.ga(0),new d.ga(0);var X=new d.ga(0),J=new d.ga(0),B=new d.ga(0),Q=new d.h,oe=new d.h,se=new d.h,ye=new d.h;Q.L(y),oe.L(m),y=new d.be(0),m=new d.be(0),x.up(y,oe),m.add(S);var de=new d.h,Me=new d.yb,Se=[];for(x.YJ(4,Se);0<y.size;){for(var xe,ze=!1,Ae=NaN,et=0;3>et;et++)if(xe=Se[et]*S+(1-Se[et])*w,d.kb.oj(h,l,a.x,a.y,xe*u,p,X,J,s),se.ma(X.u,J.u),et==0&&(Ae=xe,ye.L(se)),x.WW(Q,se,oe,Me),Me.hc(Me.fe(se,!0),de),d.kb.wd(h,l,se.x,se.y,de.x,de.y,B,null,null,2),B.u>k){ze=!0;break}ze?(oe.L(ye),S=Ae,x.up(y,oe),m.add(S)):(x.hB(y),m.En(m.size-1,1,m.size-1),0<y.size&&(x.Wi(oe.x,D.x,L),U.ma(L[0]+oe.x,oe.y),x.Mf(A,U),D.L(U),I!=null&&I.add(S),Q.L(oe),w=S,x.oB(y,oe),S=m.get(m.size-1)))}},x.BX=function(h,l,s,a,u,p,y,m,w){var S=new d.h,k=new d.h,I=new d.h,A=new d.h,L=new d.h,D=new d.h,U=new d.h,X=new d.h,J=new d.h,B=new d.h,Q=new d.ga(0),oe=new d.ga(0),se=new d.h,ye=[[],[]],de=d.Eg.Sb(u)==1;u=u.Xd(0);var Me=a.ac(),Se=a.wc();de?(D.ma(Me.x*s,Me.y*s),U.ma(Se.x*s,Se.y*s)):(ye[0][0]=Me.x,ye[0][1]=Me.y,ye[1][0]=Se.x,ye[1][1]=Se.y,d.cb.vt(),D.x=ye[0][0]*s,D.y=ye[0][1]*s,U.x=ye[1][0]*s,U.y=ye[1][1]*s);var xe=0,ze=0,Ae=1,et=a.Pn();S.L(Me),k.L(Se),Se=new d.be(0);var ot=new d.be(0),Ue=new d.be(0);x.up(Se,k),x.up(ot,U),Ue.add(Ae),x.Mf(w,S),m!=null&&m.add(ze);var Mt=[],mi=0<y?et?5:3:et?5:1;x.YJ(mi,Mt);for(var gi=new d.ga(0),Ft=new d.ga(0),Ut=new d.ga(0),We=new d.ga(0),vi=new d.ga(0),Tt=new d.ga(0),bn=new d.ga(0);0<ot.size;){var Zt=!1,cn=NaN;for(d.kb.wd(h,l,D.x,D.y,U.x,U.y,gi,Ft,null,2),Me=0;Me<mi&&!(Me==0&&(!et&&0>=y&&gi.u<=p&&3.141592653589793>Math.abs(D.x-U.x)||a.Ux(ze,Ae)<=u));Me++){var hi=Mt[Me]*Ae+(1-Mt[Me])*ze;if(a.hc(hi,I),de?X.ma(I.x*s,I.y*s):(ye[0][0]=I.x,ye[0][1]=I.y,d.cb.vt(),X.x=ye[0][0]*s,X.y=ye[0][1]*s),Me==0&&(cn=hi,L.L(I),B.L(X),0<p&&(gi.u>p||3.141592653589793<=Math.abs(D.x-U.x)))){Zt=!0;break}if(et&&0<p){if(d.kb.wd(h,l,D.x,D.y,X.x,X.y,Ut,null,null,2),Ut.u>p||3.141592653589793<=Math.abs(D.x-X.x)){Zt=!0;break}}else if(0<y){if(et?(A.NS(S,k,Mt[Me]),de?J.ma(A.x*s,A.y*s):(ye[0][0]=A.x,ye[0][1]=A.y,d.cb.vt(),J.x=ye[0][0]*s,J.y=ye[0][1]*s)):(A.L(I),J.L(X)),d.kb.wd(h,l,D.x,D.y,J.x,J.y,We,null,null,2),!(We.u<=gi.u)){Zt=!0;break}if(d.kb.oj(h,l,D.x,D.y,We.u,Ft.u,Q,oe,2),se.ma(Q.u,oe.u),d.kb.wd(h,l,se.x,se.y,X.x,X.y,vi,null,null,2),vi.u>y){Zt=!0;break}if(et){if(d.kb.wd(h,l,se.x,se.y,J.x,J.y,Tt,null,null,2),Tt.u>y){Zt=!0;break}if(d.kb.wd(h,l,J.x,J.y,X.x,X.y,bn,null,null,2),bn.u>y){Zt=!0;break}}}}Zt?(k.L(L),U.L(B),Ae=cn,x.up(Se,k),x.up(ot,U),Ue.add(Ae)):(x.hB(Se),x.hB(ot),Ue.En(Ue.size-1,1,Ue.size-1),x.Mf(w,k),xe+=gi.u,m!=null&&m.add(xe),0<ot.size&&(S.L(k),D.L(U),ze=Ae,x.oB(Se,k),x.oB(ot,U),Ae=Ue.get(Ue.size-1)))}if(m!=null)for(h=1/xe,Me=0;Me<m.size;Me++)m.write(Me,m.read(Me)*h)},x.fC=function(h,l,s,a){a.reverse(),s!=null&&s.ni(0,s.size,1),s=h!=null?h[0]:NaN,a=l!=null?l[0]:NaN,h!=null&&(h[0]=a),l!=null&&(l[0]=s)},x.fJ=function(h,l,s,a,u){h?(a.L(s),u.L(l)):(a.L(l),u.L(s))},x.eJ=function(h,l,s){return h?(s.create(l.getType()),l.copyTo(s.get()),s.get().reverse(),s.get()):l},x.Wi=function(h,l,s){if(isNaN(l)){for(;3.141592653589793<s[0]-h;)s[0]-=6.283185307179586;for(;3.141592653589793<h-s[0];)s[0]+=6.283185307179586}else 3.141592653589793<s[0]+h-l?s[0]-=6.283185307179586:3.141592653589793<l-(s[0]+h)&&(s[0]+=6.283185307179586)},x.WW=function(h,l,s,a){3.141592653589793>Math.abs(l.x-h.x)?(a.Dc(h),3.141592653589793<=s.x-h.x?a.Ql(s.x-6.283185307179586,s.y):3.141592653589793<=h.x-s.x?a.Ql(s.x+6.283185307179586,s.y):a.Ql(s.x,s.y)):(a.Dc(s),3.141592653589793<=h.x-s.x?a.Ql(h.x-6.283185307179586,h.y):3.141592653589793<=s.x-h.x?a.Ql(h.x+6.283185307179586,h.y):a.Ql(h.x,h.y))},x.YJ=function(h,l){for(var s=0;s<h;s++){var a=Math.ceil(s/2)/(h+1);s%2!=0&&(a=-a),l[s]=.5+a}},x.Mu=function(h,l){return!!(d.s.Y(h.y,1.570796326794897)&&!d.s.Y(l.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)&&!d.s.Y(l.y,-1.570796326794897))},x.Ku=function(h,l){return!!(d.s.Y(l.y,1.570796326794897)&&!d.s.Y(h.y,1.570796326794897)||d.s.Y(l.y,-1.570796326794897)&&!d.s.Y(h.y,-1.570796326794897))},x.FE=function(h,l,s){return!(!x.EE(h,l,s)||d.s.Y(h.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)||d.s.Y(l.y,1.570796326794897)||d.s.Y(l.y,-1.570796326794897))},x.EE=function(h,l,s){return Math.abs(Math.abs(h.x-l.x)-3.141592653589793)<=s},x.Lu=function(h,l){return!!(d.s.Y(h.y,1.570796326794897)&&d.s.Y(l.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)&&d.s.Y(l.y,-1.570796326794897))},x.kB=function(h,l,s,a){if(0<h.y){var u=new d.h;u.ma(l.x,1.570796326794897)}else(u=new d.h).ma(l.x,-1.570796326794897);d.s.Y(h.x,u.x)||d.s.Y(l.y,u.y)||(x.Mf(a,u),s!=null&&s.add(0))},x.iB=function(h,l,s,a){if(0<l.y){var u=new d.h;u.ma(h.x,1.570796326794897)}else(u=new d.h).ma(h.x,-1.570796326794897);d.s.Y(l.x,u.x)||d.s.Y(h.y,u.y)||(x.Mf(a,u),s!=null&&s.add(1))},x.jB=function(h,l,s,a,u,p,y){d.s.Cd(s)?(0<1.570796326794897-h.y&&((s=new d.h).ma(h.x,1.570796326794897),x.Mf(y,s),p!=null&&p.add(a)),0<1.570796326794897-l.y&&((s=new d.h).ma(l.x,1.570796326794897),x.Mf(y,s),p!=null&&p.add(a))):(0<1.570796326794897+h.y&&((s=new d.h).ma(h.x,-1.570796326794897),x.Mf(y,s),p!=null&&p.add(u)),0<1.570796326794897+l.y&&((s=new d.h).ma(l.x,-1.570796326794897),x.Mf(y,s),p!=null&&p.add(u)))},x.AU=function(h){if(-3.141592653589793>h.x)for(;-3.141592653589793>h.x;)h.x+=6.283185307179586;if(3.141592653589793<h.x)for(;3.141592653589793<h.x;)h.x-=6.283185307179586},x}();d.cj=O}(te||(te={})),function(d){d.ip=function(){function O(){}return O.nj=function(x,h,l){if(x==null||h==null||!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var s=x,a=s.getType();if(d.aa.Hc(a)){s=d.Hh.lj(x,h),x=new d.l,s.A(x),a=d.ta.Wd(h,x,!1);for(var u=d.cb.gh(h),p=Math.floor((x.v-u.v)/u.R())*u.R()+u.v;p<x.C;)p>x.v+a&&p<x.C-a&&(s=d.Hh.ks(s,h,l,!0,p)),p+=u.R()}else{if(a==197)return(x=new d.Da(s.description)).ad(s,!1),O.nj(x,h,l);if(d.aa.yd(a))return(x=new d.Ta(s.description)).oc(s,!0),O.nj(x,h,l)}return O.Uy(s,h)},O.Uy=function(x,h){if(x==null||h==null||!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var l=x.getType();return l==197?(l=new d.Da(x.description)).ad(x,!1):d.aa.yd(l)?(l=new d.Ta(x.description)).oc(x,!0):l=x,(l=d.Hh.lj(l,h)).B()?l:d.Eg.Sb(h)==1?d.Hh.Fn(l,h,0,l!=x,0):O.NQ(l,h,l!=x)},O.NQ=function(x,h,l){if(!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var s=d.cb.bf(h),a=-180*s;return s*=360,d.Eg.Sb(h)==2&&(s=(a=d.cb.gh(h)).C,s-=a=a.v),d.Hh.Hp(x,a,s,h,l,0,!0)},O}()}(te||(te={})),function(d){d.BY=function(){function O(){}return O.P=function(x){return 0>x?-x:x},O.Mb=function(x,h){return 0<=h?O.P(x):-O.P(x)},O.Y=function(x,h){return x==h||O.P(x-h)<=O.JC*(1+(O.P(x)+O.P(h))/2)},O.Cd=function(x){return x==0||O.P(x)<=O.JC},O.Ah=function(x,h){var l=(h=(1-(h=Math.sqrt(1-h)))/(1+h))*h;return x/(1+h)*(1+l*(.25+l*(.015625+1/256*l)))*O.EL},O.EL=1.5707963267948966,O.JC=3552713678800501e-30,O}()}(te||(te={})),function(d){var O=function(h){this.Wf=h,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};d.DY=O;var x=function(){function h(l){l===void 0&&(l=null),this.Cj=null,this.Un=!1,l!==null&&(this.Cj=new O(l))}return h.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},h.prototype.Of=function(){var l=new h;return this.copyTo(l),l},h.prototype.copyTo=function(l){l.Cj=this.Cj,l.Un=this.Un},h.prototype.Qz=function(){this.Un=!this.Un},h.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},h.prototype.LJ=function(l){if(0>=l)throw d.i.N();if(l!=this.Ec()){if((l=d.pf.geogtran(l))==null)throw d.i.N("Geogtran not found.");this.Cj=new O(l)}},h.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},h.prototype.tX=function(l){if(l==null)throw d.i.N();var s=null;try{s=d.pf.fromString(d.Sc.PE_TYPE_GEOGTRAN,l)}catch{throw d.i.N()}this.Cj=new O(s)},h.prototype.Nb=function(l){return l==this||!(!(l instanceof h)||(0>=this.Ec()||this.Ec()!=l.Ec())&&!this.qm().isEqual(l.qm()))&&this.Un==l.Un},h.prototype.toString=function(){var l="GeographicTransformation: "+this.Bz();return 200<l.length?l.substring(0,197)+"... ("+l.length.toString()+" characters)":l},h.create=function(l,s){var a=new h;return a.LJ(l),s&&a.Qz(),a},h.uP=function(l,s){var a=new h;return a.tX(l),s&&a.Qz(),a},h}();d.Dx=x}(te||(te={})),function(d){var O=function(){function h(){}return h.construct=function(l,s,a,u){var p=new h;return p.hw=l,p.iw=s,p.QY=a,p.RY=u,p},h.Ey=function(l,s){return l.hw==s.hw?l.iw==s.iw?0:l.iw<s.iw?-1:1:l.hw<s.hw?-1:1},h}(),x=function(){function h(){this.yT=[],this.zT=[],this.qp()}return h.kz=function(){return h.jK==null&&(h.jK=new h),h.jK},h.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},h.prototype.iD=function(l){try{var s=[];s=s.sort(O.Ey);for(var a=0;a<s.length;a++)l.push(s[a])}catch{}},h}();d.CY=x}(te||(te={})),function(d){var O=function(){function x(){}return x.prototype.yD=function(h){this.Fk=h},x.prototype.WM=function(h){this.Fb=h},x.prototype.xD=function(h){this.zo=h},x.CE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736)},x.AE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736||20>h.I())},x.BE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736||20>h.I())},x}();d.Uk=O}(te||(te={})),function(d){d.$b=function(){function O(){}return O.TT=function(x){var h=new d.Da;return h.sx(x.es(),x.gs()),h.yj(x.es(),x.fs()),h.yj(x.ds(),x.fs()),h.yj(x.ds(),x.gs()),h},O.zh=function(x,h){return x===null?null:d.Hx.local().V(x,h,null)},O.jY=function(x,h){var l=d.Gh.local();return x=new d.Zc(x),l.V(x,h,null).next()},O.im=function(x,h,l){return d.kp.local().V(x,h,l,null)},O.ep=function(x,h,l){return d.Kx.local().V(x,h,l,null)},O.VX=function(x,h,l){var s=d.Kx.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},O.Nb=function(x,h,l){return d.dj.local().V(3,x,h,l,null)},O.TP=function(x,h,l){return d.dj.local().V(4,x,h,l,null)},O.RS=function(x,h,l){var s=d.Xj.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},O.QP=function(x,h,l){var s=d.kp.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},O.Ea=function(x,h,l){return d.Xj.local().V(x,h,l,null)},O.QS=function(x,h,l){if((x=d.Xj.local().V(x,h,l,null,1))===null)return[];if(x.getType()===550){for(h=[],l=0;l<x.wa;l++)h.push(x.KR(l));return h}return x.getType()===33?[x]:[]},O.qY=function(x,h,l){return d.dj.local().V(2,x,h,l,null)},O.contains=function(x,h,l){return d.dj.local().V(1,x,h,l,null)},O.BP=function(x,h,l){return d.dj.local().V(16,x,h,l,null)},O.touches=function(x,h,l){return d.dj.local().V(8,x,h,l,null)},O.DU=function(x,h,l){return d.dj.local().V(32,x,h,l,null)},O.TS=function(x,h,l){return d.dj.local().V(1073741824,x,h,l,null)},O.yB=function(x,h,l,s){return d.zL.local().V(x,h,l,s,null)},O.tb=function(x,h,l,s){var a=null;if(l!=null){if(a=l.Hd(),s!=null&&a.Ec()!=s.Ec()&&a.od!=s.od)throw d.i.Xk()}else if(s!=null)throw d.i.N();return x=d.rL.local().V(x,h,null),a!==null&&s!==null&&(x=d.Tc.Nh(x,a,s)),x},O.clip=function(x,h,l){return d.kL.local().V(x,d.l.construct(h.es(),h.gs(),h.ds(),h.fs()),l,null)},O.dl=function(x,h,l){if(x==null||h==null)return null;for(x=d.mL.local().V(!0,x,h,l,null),h=[];(l=x.next())!=null;)l.B()||h.push(l);return h.slice(0)},O.MN=function(x,h,l,s,a,u,p,y){if(a===!0)return O.NN(x,h,l,s,u,p,y);if(a=l,h!=null){if(p=h.Hd(),s!=null&&p.Ec()!=s.Ec()){if(p.od!=s.od)throw d.i.Xk();a=[],d.Tc.XE(l,l.length,s,p,a)}}else if(s!=null)throw d.i.N();if(l=d.AC.local(),u){for(x=new d.Zc(x),h=l.V(x,h,a,u,null),x=[];(u=h.next())!=null;)x.push(u);u=x.slice(0)}else for(u=[],s=0;s<x.length;s++)u[s]=l.V(x[s],h,a[s],null);return u},O.NN=function(x,h,l,s,a,u,p){if(h===null||(s==null&&(s=h.Ec()!==4326?h.Hd():d.Tc.Zg(9001)),s.od!==0))throw d.i.N();if(d.Tc.XE(l,l.length,s,d.Tc.Zg(9001),l),s=d.FC.local(),a){for(x=new d.Zc(x),h=s.V(x,h,u,l,p,!1,a,null),l=[];(u=h.next())!=null;)l.push(u);a=l.slice(0)}else{a=[];for(var y=0;y<x.length;y++)a[y]=s.V(x[y],h,u,l[y],p,!1,null)}return a},O.buffer=function(x,h,l,s,a,u,p){var y=l;if(a===!1){if(h!=null){if(a=h.Hd(),s!=null&&a.Ec()!=s.Ec()){if(a.od!=s.od)throw d.i.Xk();y=d.Tc.Nh(l,s,a)}}else if(s!=null)throw d.i.N();x=d.AC.local().V(x,h,y,null)}else{if(h===null||(s==null&&(s=h.Ec()!==4326?h.Hd():d.Tc.Zg(9001)),s.od!==0))throw d.i.N();y=d.Tc.Nh(l,s,d.Tc.Zg(9001)),x=d.FC.local().V(x,h,u,y,p,!1,null)}return x},O.BU=function(x,h,l,s,a,u,p){if(h!=null){var y=h.Hd();if(p!=null&&y.Ec()!=p.Ec()){if(y.od!=p.od)throw d.i.Xk();l=d.Tc.Nh(l,p,y)}}else if(p!=null)throw d.i.N();for(x=new d.Zc(x),h=d.IC.local().V(x,h,l,s,a,u,null),l=[];(s=h.next())!=null;)l.push(s);return l.slice(0)},O.offset=function(x,h,l,s,a,u,p){if(h!=null){var y=h.Hd();if(p!=null&&y.Ec()!=p.Ec()){if(y.od!=p.od)throw d.i.Xk();l=d.Tc.Nh(l,p,y)}}else if(p!=null)throw d.i.N();return d.IC.local().V(x,h,l,s,a,u,null)},O.iP=function(x){return d.CC.local().V(x,null)},O.jP=function(x,h){var l=d.CC.local();for(x=new d.Zc(x),h=l.V(x,h,null),l=[];(x=h.next())!=null;)l.push(x);return l},O.nz=function(x,h,l){return d.Ix.local().nz(x,h,l)},O.oz=function(x,h){return d.Ix.local().oz(x,h)},O.pz=function(x,h,l,s){return d.Ix.local().pz(x,h,l,s)},O.eC=function(x,h){return d.Yl.local().V(x,h,!1,null)},O.dT=function(x,h){return d.Yl.local().rs(x,h,null)},O.QQ=function(x,h,l,s,a){var u=d.EC.local();if(h!=null){if(h=h.Hd(),a!=null&&h.Ec()!=a.Ec()){if(h.od!=a.od)throw d.i.Xk();l=d.Tc.Nh(l,a,h)}}else if(a!=null)throw d.i.N();return u.V(x,l,s,null)},O.Qr=function(x,h,l,s){var a=d.Xl.local();if(h!=null){if(h=h.Hd(),s!=null&&h.Ec()!=s.Ec()){if(h.od!=s.od)throw d.i.Xk();l=d.Tc.Nh(l,s,h)}}else if(s!=null)throw d.i.N();return a.V(x,l,null)},O.Wy=function(x,h,l,s,a){a===void 0&&(a=0);var u=d.tL.local();if(a==4||a!==0)throw d.i.Ie();if(s!==null){if(s.od!==0)throw d.i.N("Unit must be a linear unit type");l=d.Tc.Nh(l,s,d.Tc.Zg(9001))}return u.V(x,l,h,a,null)},O.WQ=function(x,h,l,s){if(x===null)return 0;if(s==4||s!==0)throw d.i.Ie();if(x.getType()==197)x=O.TT(x);else if(x.getType()!=1736)return 0;if(s=d.cb.sc(h),x=d.cb.zh(x,h,s),x=d.UK.XQ([x])[0],l!==null){if(l.od!==2)throw d.i.N("Unit must be a area unit type");x=d.Tc.Nh(x,d.Tc.Zg(109404),l)}return x},O.ZQ=function(x,h,l,s){if(x=d.vL.local().V(x,h,s,null),l!==null){if(l.od!==0)throw d.i.N("Unit must be a linear unit type");x=d.Tc.Nh(x,d.Tc.Zg(9001),l)}return x},O.JU=function(x,h,l){if(x===null)return 0;var s=null;if(h!=null){if((s=h.Hd()).od==0&&(s=d.Tc.aG(s))==null&&l!==null)throw d.i.N();if(l!=null&&s.Ec()!=l.Ec()&&s.od!=l.od)throw d.i.Xk()}else if(l!=null)throw d.i.N();return x.getType()==1736||x.getType()==197?(x=x.Ke(),l!==null?d.Tc.Nh(x,s,l):x):0},O.KU=function(x,h,l){if(x===null||x.B()||1>x.Db())return 0;var s=null;if(h!=null){if(s=h.Hd(),l!=null&&s.Ec()!=l.Ec()&&s.od!=l.od)throw d.i.Xk()}else if(l!=null)throw d.i.N();x.getType()==1736||x.getType()==197?h=x.mg():d.aa.yd(x.getType())?(h=new d.Ta(x.description)).oc(x,!0):h=x,x=0,h=h.Ga();for(var a=new d.h,u=new d.h;h.$a();)for(;h.Ha();){var p=h.ha();p.Yp(a),p.Tr(u),x+=d.h.tb(a,u)}return s!==null&&l!==null&&(x=d.Tc.Nh(x,s,l)),x},O.fP=function(x){return x.points!==void 0?O.mS(x,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM):x.rings!==void 0?O.lG(x.rings,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"P"):x.paths!==void 0?O.lG(x.paths,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"L"):x.x!==void 0?O.nS(x):x.xmin!==void 0?O.lS(x):null},O.nS=function(x){if(x.x==null||x.x=="NaN")return new d.Sa;var h=new d.Sa(x.x,x.y);return x.z!==void 0&&x.z!==null&&h.wX(x.z),x.m!==void 0&&x.m!==null&&h.hX(x.m),h},O.lS=function(x){if(x.xmin==null||x.xmin=="NaN")return new d.Fh;var h=new d.Fh(x.xmin,x.ymin,x.xmax,x.ymax);return x.zmin!==void 0&&x.zmin!==null&&h.setInterval(1,0,x.zmin,x.zmax),x.mmin!==void 0&&x.mmin!==null&&h.setInterval(2,0,x.mmin,x.mmax),h},O.mS=function(x,h,l){var s=0,a=new d.de,u=3*x.points.length;u%2!=0&&u++,2>u&&(u=2);var p=d.O.truncate(3*x.points.length/2);4>p?p=4:16>p&&(p=16),u=d.Yc.Dn(u,0);var y=d.Yc.Dn(p);p=d.Yc.Dn(p);for(var m=0;m<x.points.length;m++)u.write(2*m,x.points[m][0]),u.write(2*m+1,x.points[m][1]),y.write(m,h||l?x.points[m][2]:NaN),p.write(m,l&&h?x.points[m][3]:NaN),s++;return s!=0&&(a.resize(s),a.hn(0,u)),h&&(a.re(1),a.hn(1,y)),l&&(a.re(2),a.hn(2,h==0?y:p)),a.Pc(16777215),a},O.lG=function(x,h,l,s){var a=0,u=2;if(s=="P"){var p=new d.Da;a=1,u=3}else p=new d.Ta;for(var y=d.Yc.Oh(0),m=d.Yc.Mr(0),w=0,S=0,k=[],I=[],A=0;A<x.length;A++){var L=x[A].length;if(k[A]=!1,s==="P"&&x[A][0][0]===x[A][x[A].length-1][0]&&x[A][0][1]===x[A][x[A].length-1][1]){var D=l==0||x[A][0][3]===x[A][x[A].length-1][3]||x[A][0][3]===void 0&&x[A][x[A].length-1][3]===void 0;(h==0||x[A][0][2]===x[A][x[A].length-1][2]||x[A][0][2]===void 0&&x[A][x[A].length-1][2]===void 0)&&D&&(k[A]=!0,--L)}L>=u?(I[A]=!1,S+=1,y.add(w),m.add(a),w+=L):I[A]=!0}for((s=3*w)%2!=0&&s++,2>s&&(s=2),4>(A=d.O.truncate(3*w/2))?A=4:16>A&&(A=16),s=d.Yc.Dn(s,0),a=d.Yc.Dn(A),u=d.Yc.Dn(A),A=L=0;A<x.length;A++)if(I[A]===!1)for(D=0;D<x[A].length;D++){var U=!1;D===x[A].length-1&&k[A]===!0&&(U=!0),U||(s.write(2*L,x[A][D][0]),s.write(2*L+1,x[A][D][1]),a.write(L,h||l?x[A][D][2]:NaN),u.write(L,l&&h?x[A][D][3]:NaN),L++)}return w!=0&&(x=p,y.resize(S),m.resize(S),0<w&&(y.add(w),m.add(0)),x.hn(0,s),x.PJ(m),x.QJ(y)),h&&(p.re(1),p.hn(1,a)),l&&(p.re(2),p.hn(2,h==0?a:u)),p.Pc(16777215),p},O}()}(te||(te={})),function(d){d.Ex=function(){function O(){}return O.br=function(x){var h,l=0,s=x.length,a=x[0];for(h=0;h<s-1;h++){var u=x[h+1];l+=(u[0]-a[0])*(u[1]+a[1]),a=u}return 0<=l},O.rotate=function(x,h,l){h=h*Math.PI/180;var s=Math.cos(h),a=Math.sin(h);if(x.paths!==void 0){h={paths:[]};for(var u=0;u<x.paths.length;u++){for(var p=x.paths[u],y=[],m=0;m<p.length;m++){var w=p[m].slice(0);y.push(w);var S=s*(p[m][0]-l.x)-a*(p[m][1]-l.y)+l.x,k=a*(p[m][0]-l.x)+s*(p[m][1]-l.y)+l.y;w[0]=S,w[1]=k}h.paths.push(y),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM)}return h}if(x.rings!==void 0){for(h={rings:[]},u=0;u<x.rings.length;u++){p=x.rings[u],y=[];var I=O.br(p);for(m=0;m<p.length;m++)w=p[m].slice(0),y.push(w),S=s*(p[m][0]-l.x)-a*(p[m][1]-l.y)+l.x,k=a*(p[m][0]-l.x)+s*(p[m][1]-l.y)+l.y,w[0]=S,w[1]=k;O.br(y)!==I&&y.reverse(),h.rings.push(y),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM)}return h}if(x.x!==void 0)return h={x:s*(x.x-l.x)-a*(x.y-l.y)+l.x,y:a*(x.x-l.x)+s*(x.y-l.y)+l.y},x.z!==void 0&&(h.z=x.z),x.m!==void 0&&(h.m=x.m),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM),h;if(x.points!==void 0){for(h={points:[]},u=x.points,m=0;m<u.length;m++)(p=u[m].slice(0))[0]=s*(u[m][0]-l.x)-a*(u[m][1]-l.y)+l.x,p[1]=a*(u[m][0]-l.x)+s*(u[m][1]-l.y)+l.y,h.points.push(p);return x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM),h}return null},O.JQ=function(x,h){if(x.paths!==void 0){for(var l={paths:[]},s=0;s<x.paths.length;s++){for(var a=x.paths[s],u=[],p=0;p<a.length;p++){var y=a[p].slice(0);u.push(y);var m=h.x-a[p][0];y[0]=a[p][0]+2*m}l.paths.push(u)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.rings!==void 0){for(l={rings:[]},s=0;s<x.rings.length;s++){a=x.rings[s];var w=O.br(a);for(u=[],p=0;p<a.length;p++)y=a[p].slice(0),u.push(y),m=h.x-a[p][0],y[0]=a[p][0]+2*m;O.br(u)!==w&&u.reverse(),l.rings.push(u)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.x!==void 0)return m=h.x-x.x,l={x:x.x+2*m,y:x.y},x.z!==void 0&&(l.z=x.z),x.m!==void 0&&(l.m=x.m),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l;if(x.points!==void 0){for(l={points:[]},s=x.points,p=0;p<s.length;p++)a=s[p].slice(0),m=h.x-a[0],a[0]+=2*m,l.points.push(a);return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}return x.xmin!==void 0?(l={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(l.zmin=x.zmin,l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin,l.mmax=x.mmax),m=h.x-x.xmin,l.xmax=x.xmin+2*m,m=h.x-x.xmax,l.xmin=x.xmax+2*m,x.zmin!==void 0&&(l.zmin=x.zmin),x.zmax!==void 0&&(l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin),x.mmax!==void 0&&(l.mmax=x.mmax),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l):null},O.KQ=function(x,h){if(x.paths!==void 0){for(var l={paths:[]},s=0;s<x.paths.length;s++){for(var a=x.paths[s],u=[],p=0;p<a.length;p++){var y=a[p].slice(0);u.push(y);var m=h.y-a[p][1];y[1]=a[p][1]+2*m}l.paths.push(u)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.rings!==void 0){for(l={rings:[]},s=0;s<x.rings.length;s++){a=x.rings[s];var w=O.br(a);for(u=[],p=0;p<a.length;p++)y=a[p].slice(0),u.push(y),m=h.y-a[p][1],y[1]=a[p][1]+2*m;O.br(u)!==w&&u.reverse(),l.rings.push(u)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.x!==void 0)return m=h.y-x.y,l={y:x.y+2*m,x:x.x},x.z!==void 0&&(l.z=x.z),x.m!==void 0&&(l.m=x.m),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l;if(x.points!==void 0){for(l={points:[]},s=x.points,p=0;p<s.length;p++)a=s[p].slice(0),m=h.y-a[1],a[1]+=2*m,l.points.push(a);return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}return x.xmin!==void 0?(l={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(l.zmin=x.zmin,l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin,l.mmax=x.mmax),m=h.y-x.ymin,l.ymax=x.ymin+2*m,m=h.y-x.ymax,l.ymin=x.ymax+2*m,x.zmin!==void 0&&(l.zmin=x.zmin),x.zmax!==void 0&&(l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin),x.mmax!==void 0&&(l.mmax=x.mmax),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l):null},O}()}(te||(te={})),function(d){d.ZK=function(){function O(){}return O.Ig=function(x,h){switch(h==null&&(h=d.ee.og()),x){case 33:return new d.Sa(h);case 322:return new d.yb(h);case 197:return new d.Fh(h);case 550:return new d.de(h);case 1607:return new d.Ta(h);case 1736:return new d.Da(h);default:throw d.i.fa("invalid argument.")}},O}()}(te||(te={})),function(d){var O=function(){function x(h,l){this.Te=d.ia.qf(h,-1),this.ua=new d.au,this.wl=l}return x.prototype.AW=function(h){this.ua.At(Math.min(this.Te.size,h)),this.ua.fn(h)},x.prototype.addElement=function(h,l){if(l===void 0)return this.eN(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);return s==-1&&(s=this.ua.Ph(),this.Te.set(l,s)),this.ua.addElement(s,h)},x.prototype.eN=function(h){var l=this.wl.jz(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);return s==-1&&(s=this.ua.Ph(),this.Te.set(l,s)),this.ua.addElement(s,h)},x.prototype.jd=function(h,l){if(l===void 0)this.KP(h);else{l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),u=-1;a!=-1;){var p=this.ua.lb(a);this.ua.ja(a)==h?(this.ua.jd(s,u,a),this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1))):u=a,a=p}}},x.prototype.KP=function(h){var l=this.wl.jz(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),u=-1;a!=-1;){var p=this.ua.lb(a);this.ua.ja(a)==h?(this.ua.jd(s,u,a),this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1))):u=a,a=p}},x.prototype.rR=function(h){return h=d.O.truncate(h%this.Te.size),(h=this.Te.get(h))==-1?-1:this.ua.rc(h)},x.prototype.ER=function(h){return this.ua.lb(h)},x.prototype.vd=function(h){var l=this.wl.jz(this.ja(h));l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),u=-1;a!=-1;){if(a==h)return this.ua.jd(s,u,a),void(this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1)));u=a,a=this.ua.lb(a)}throw d.i.N()},x.prototype.ja=function(h){return this.ua.ja(h)},x.prototype.clear=function(){this.Te=d.ia.qf(this.Te.size,-1),this.ua.clear()},x.prototype.size=function(){return this.ua.TF()},x}();d.dL=O}(te||(te={})),function(d){var O=function(){function x(){this.Li=new d.$c(3),this.ua=new d.$c(6),this.sT=!1,this.je=-1}return x.prototype.fl=function(h){this.Li.jd(h)},x.prototype.Pw=function(){return this.Li.Ce()},x.prototype.bv=function(h){this.ua.jd(h)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.WB=function(h,l){this.Li.S(h,1,l)},x.prototype.ex=function(h,l){this.Li.S(h,2,l)},x.prototype.gX=function(h,l){this.Li.S(h,3,l)},x.prototype.UB=function(h,l){this.ua.S(h,4,l)},x.prototype.jX=function(h,l){this.ua.S(h,3,l)},x.prototype.TJ=function(h,l){this.ua.S(h,2,l)},x.prototype.Ph=function(h){var l=this.$A();return this.ua.S(l,3,this.je),this.ua.S(l,4,0),this.ua.S(l,5,h),this.je!=-1&&this.TJ(this.je,l),this.je=l},x.prototype.bh=function(h){this.LE(h);var l=this.ua.T(h,2),s=this.ua.T(h,3);return l!=-1?this.jX(l,s):this.je=s,s!=-1&&this.TJ(s,l),this.bv(h),s},x.prototype.At=function(h){this.ua.De(h)},x.prototype.PF=function(h){return this.ua.T(h,5)},x.prototype.fX=function(h,l){this.ua.S(h,5,l)},x.prototype.addElement=function(h,l){return this.tS(h,l)},x.prototype.tS=function(h,l){var s=this.Pw();this.ex(s,-1),this.ua.T(h,0)==-1&&this.ua.S(h,0,s);var a=this.ua.T(h,1);return this.WB(s,a),a!=-1&&this.ex(a,s),this.ua.S(h,1,s),this.setData(s,l),this.UB(h,this.bs(h)+1),this.sT&&this.gX(s,h),s},x.prototype.jd=function(h,l){var s=this.we(l),a=this.lb(l);return s!=-1?this.ex(s,a):this.ua.S(h,0,a),a!=-1?this.WB(a,s):this.ua.S(h,1,s),this.fl(l),this.UB(h,this.bs(h)-1),a},x.prototype.fn=function(h){this.Li.De(h)},x.prototype.getData=function(h){return this.Li.T(h,0)},x.prototype.setData=function(h,l){this.Li.S(h,0,l)},x.prototype.lb=function(h){return this.Li.T(h,2)},x.prototype.we=function(h){return this.Li.T(h,1)},x.prototype.rc=function(h){return this.ua.T(h,0)},x.prototype.Fc=function(h){return this.ua.T(h,1)},x.prototype.clear=function(){for(var h=this.je;h!=-1;)h=this.bh(h)},x.prototype.LE=function(h){for(var l=this.Fc(h);l!=-1;){var s=l;l=this.we(s),this.fl(s)}this.ua.S(h,0,-1),this.ua.S(h,1,-1),this.UB(h,0)},x.prototype.B=function(){return this.Li.size==0},x.prototype.TF=function(){return this.Li.size},x.prototype.bs=function(h){return this.ua.T(h,4)},x.prototype.qz=function(h){return this.ua.T(h,3)},x}();d.jp=O}(te||(te={})),function(d){var O=function(){function x(h){h===void 0?(this.ug=new d.$c(2),this.ua=new d.$c(4),this.je=-1,this.Qv=!0):(this.ug=new d.$c(2),this.ua=new d.$c(h?4:2),this.je=-1,this.Qv=h)}return x.prototype.fl=function(h){this.ug.jd(h)},x.prototype.Pw=function(){return this.ug.Ce()},x.prototype.bv=function(h){this.ua.jd(h)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.Ph=function(){var h=this.$A();return this.Qv&&(this.ua.S(h,3,this.je),this.je!=-1&&this.ua.S(this.je,2,h),this.je=h),h},x.prototype.bh=function(h){for(var l=this.rc(h);l!=-1;){var s=l;l=this.lb(l),this.fl(s)}this.Qv&&(l=this.ua.T(h,2),s=this.ua.T(h,3),l!=-1?this.ua.S(l,3,s):this.je=s,s!=-1&&this.ua.S(s,2,l)),this.bv(h)},x.prototype.At=function(h){this.ua.De(h)},x.prototype.addElement=function(h,l){var s=this.ua.T(h,1),a=this.Pw();return s!=-1?this.ug.S(s,1,a):this.ua.S(h,0,a),this.ua.S(h,1,a),this.ug.S(a,0,l),a},x.prototype.fn=function(h){this.ug.De(h)},x.prototype.jd=function(h,l,s){l!=-1?(this.ug.S(l,1,this.ug.T(s,1)),this.ua.T(h,1)==s&&this.ua.S(h,1,l)):(this.ua.S(h,0,this.ug.T(s,1)),this.ua.T(h,1)==s&&this.ua.S(h,1,-1)),this.fl(s)},x.prototype.Hy=function(h,l){var s=this.ua.T(h,1),a=this.ua.T(l,0);a!=-1&&(s!=-1?this.ug.S(s,1,a):this.ua.S(h,0,a),this.ua.S(h,1,this.ua.T(l,1))),this.Qv&&(h=this.ua.T(l,2),s=this.ua.T(l,3),h!=-1?this.ua.S(h,3,s):this.je=s,s!=-1&&this.ua.S(s,2,h)),this.bv(l)},x.prototype.ja=function(h){return this.ug.T(h,0)},x.prototype.Sj=function(h,l){this.ug.S(h,0,l)},x.prototype.lb=function(h){return this.ug.T(h,1)},x.prototype.rc=function(h){return this.ua.T(h,0)},x.prototype.Jn=function(h){return this.ja(this.rc(h))},x.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},x.prototype.B=function(){return this.ug.size==0},x.prototype.TF=function(){return this.ug.size},x.prototype.qz=function(h){return this.ua.T(h,3)},x}();d.au=O}(te||(te={})),function(d){d.ta=function(){function O(){}return O.Wd=function(x,h,l){return h=h.xr(),x=x!=null&&x.Xd!==void 0?x.Xd(0):0,l&&(h*=4,x*=1.1),Math.max(x,h)},O.Er=function(x){return 2*Math.sqrt(2)*x},O.rN=function(x){return Math.sqrt(2)*x},O.kj=function(x,h,l){var s=new d.l;return h.A(s),O.Wd(x,s,l)},O.wE=function(x,h,l){return h=h.Tg(1,0).xr(),x=x!=null?x.Xd(1):0,l&&(h*=4,x*=1.1),Math.max(x,h)},O.mv=function(x,h){var l=new d.l;return x.xc(l),x=new d.l,h.xc(x),l.Zb(x),l},O.YN=function(x){var h=new d.l;if(x.xc(h),h.B())return null;var l=new d.du(h,8),s=-1,a=new d.l,u=!1;do for(var p=0,y=x.da();p<y;p++){if(x.Rj(p,a),(s=l.Jz(p,a,s))==-1){if(u)throw d.i.fa("internal error");x.yp(h,!1),u=!0,l.reset(h,8);break}u=!1}while(u);return l},O.nE=function(x){var h=new d.l;x.xc(h);for(var l=new d.du(h,8),s=-1,a=x.Ga(),u=new d.l,p=!1;a.$a();)for(;a.Ha();){var y=a.ha(),m=a.wb();if(y.A(u),(s=l.Jz(m,u,s))==-1){if(p)throw d.i.Qa();x.yp(h,!1),p=!0,l.reset(h,8),a.Zi();break}}return l},O.jj=function(x,h){var l=new d.l;x.xc(l);for(var s=new d.du(l,8),a=-1,u=new d.l,p=x.Ga(),y=!1;p.$a();)for(;p.Ha();){var m=p.ha(),w=p.wb();if(m.A(u),u.isIntersecting(h)&&(a=s.Jz(w,u,a))==-1){if(y)throw d.i.fa("internal error.");x.yp(l,!1),y=!0,s.reset(l,8),p.Zi();break}}return s},O.oE=function(x,h){for(var l=new d.du(h,8),s=new d.h,a=!1,u=new d.l,p=0;p<x.I();p++)if(x.D(p,s),h.contains(s)&&(u.K(s),l.vj(p,u)==-1)){if(a)throw d.i.Qa();a=!0,p=new d.l,x.yp(p,!1),l.reset(p,8),p=-1}return l},O.lR=function(x,h,l){var s=new d.l,a=new d.l;x.xc(s),h.xc(a),s.W(l,l),a.W(l,l);var u=new d.l;u.K(s),u.Ea(a),x=x.Ga(),h=h.Ga();var p=new d.xC;p.aC(l);var y=!1;for(p.pK();x.$a();)for(;x.Ha();)x.ha().A(s),s.isIntersecting(u)&&(y=!0,(l=new d.l).K(s),p.JD(x.wb(),l));if(p.iF(),!y)return null;for(s=!1,p.oK();h.$a();)for(;h.Ha();)h.ha().A(a),a.isIntersecting(u)&&(s=!0,(l=new d.l).K(a),p.ED(h.wb(),l));return p.hF(),s?p:null},O.mR=function(x,h,l,s,a){var u=x.getType(),p=h.getType(),y=new d.l,m=new d.l;x.xc(y),h.xc(m),y.W(l,l),m.W(l,l);var w=new d.l;w.K(y),w.Ea(m);var S=new d.xC;S.aC(l);var k=!1;S.pK();var I=0;for(l=x.da();I<l;I++)s&&u==1736&&!x.Ev(I)||(x.Rj(I,y),y.isIntersecting(w)&&(k=!0,S.JD(I,y)));if(S.iF(),!k)return null;for(x=!1,S.oK(),s=0,l=h.da();s<l;s++)a&&p==1736&&!h.Ev(s)||(h.Rj(s,m),m.isIntersecting(w)&&(x=!0,S.ED(s,m)));return S.hF(),x?S:null},O.Ru=function(x,h,l){if(x!=h)for(var s=0;s<l;s++)x[s]==null?x[s]=d.h.al(h[s]):x[s].L(h[s])},O.Jy=function(x,h,l,s){var a=0;for(s+=0;a<s;l++,a++)x[a]==null&&(x[a]=[0,0]),x[a][0]=h[l].x,x[a][1]=h[l].y},O.Iy=function(x,h,l,s){var a=h,u=0;for(h=s+h;a<h;u++,a++)x[a]==null?x[a]=d.h.construct(l[u][0],l[u][1]):x[a].ma(l[u][0],l[u][1])},O.kP=function(x,h,l){if(x!=h)for(var s=0;s<l;s++)x[s]==null?x[s]=new d.Sa(h[s]):h[s].copyTo(x[s])},O.vE=function(x,h,l,s){var a=0;return x!=null&&(a=x.Xd(0),s&&!l||x==null||(a+=1.01*x.vz(0))),l&&(h*=4,a*=1.01),Math.max(a,h)},O.ty=function(x,h,l){return O.vE(x,h.xr(),l,!1)},O.gO=function(x,h){var l=new d.l;return h.A(l),O.ty(x,l,!0)},O.uy=function(x,h){return O.vE(x,h.xr(),!1,!0)},O.Hu=function(x,h){var l=new d.l;return h.A(l),O.uy(x,l)},O.AG=function(x,h,l,s){s*=s;var a=new d.h;if(a.uc(x,h),(x=new d.h).uc(l,h),h=a.Sk(),l=x.Sk(),h<=s&&l<=s)return!0;var u=d.lc.ox(a.wi(x));return(u<=s*h||u<=s*l)&&0<=a.Qh(x)},O.dK=function(x,h,l,s){for(var a=0;a<h;a++){var u=x[a].y,p=d.O.Rk(u,l,s);p!=u&&(x[a].y=p)}},O}()}(te||(te={})),function(d){var O,x,h=function(){function u(p){this.Ya=p}return u.prototype.compare=function(p,y,m){p=p.ja(m),m=this.Ya.nk(y);var w=this.Ya.nk(p);return m<w?-1:m==w?a.gq(y)&&a.Gv(p)?-1:a.gq(p)&&a.Gv(y)?1:0:1},u}(),l=function(){function u(p){this.Ya=p}return u.prototype.nr=function(p,y,m){this.Ya.GX(m,p,y)},u.prototype.$p=function(p){return this.Ya.nk(p)},u}();(x=O||(O={}))[x.initialize=0]="initialize",x[x.pIn=1]="pIn",x[x.pL=2]="pL",x[x.pR=3]="pR",x[x.pT=4]="pT",x[x.right=5]="right",x[x.left=6]="left",x[x.all=7]="all";var s=function(){function u(){this.Ya=null,this.Qi=new d.Nc,this.hi=new d.ia(0),this.sg=[0,0]}return u.prototype.Xi=function(p,y){this.Qi.oa=p.oa-y,this.Qi.va=p.va+y,this.hi.resize(0),this.he=0,this.sg[0]=0},u.prototype.EB=function(p,y,m){if(p>y)throw d.i.N();this.Qi.oa=p-m,this.Qi.va=y+m,this.hi.resize(0),this.he=0,this.sg[0]=0},u.prototype.Uo=function(p,y){this.Qi.oa=p-y,this.Qi.va=p+y,this.hi.resize(0),this.he=0,this.sg[0]=0},u.prototype.next=function(){if(!this.Ya.lq)throw d.i.Hb();if(0>this.he)return-1;for(var p=!0;p;)switch(this.sg[this.he]){case 1:p=this.FU();break;case 2:p=this.GU();break;case 3:p=this.HU();break;case 4:p=this.IU();break;case 5:p=this.GW();break;case 6:p=this.kT();break;case 7:p=this.tN();break;case 0:p=this.Gz();break;default:throw d.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},u.construct=function(p){var y=new u;return y.Ya=p,y.hi.Jb(20),y.he=-1,y},u.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},u.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var p=this.Ya.Np(this.Lc);return this.Qi.va<p?(p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=6),!0):p<this.Qi.oa?(p=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.Zr(p),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),!0)},u.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var p=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.Zr(p),this.sg[++this.he]=5),!0}return p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),(p=this.Ya.lk(this.Lc))!=-1&&this.hi.add(p),!0},u.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var p=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=6),!0}return p=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),(p=this.Ya.qj(this.Lc))!=-1&&this.hi.add(p),!0},u.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var p=this.Ya.mk(this.Lc);return p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},u.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&a.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},u.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&a.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},u.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&a.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},u.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},u.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},u.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},u}();d.EY=s;var a=function(){function u(p){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=p,this.lq=this.Sv=!1}return u.prototype.kr=function(){this.Nk(!0)},u.prototype.Br=function(p,y){if(!this.Sv)throw d.i.Hb();this.Fj.push(new d.Nc(p,y))},u.prototype.Fp=function(){if(!this.Sv)throw d.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},u.prototype.vj=function(p){if(!this.Sf||!this.lq)throw d.i.N("invalid call");if(this.kf==-1){var y=this.Fj.length;if(this.iA){var m=new d.ia(0);m.Jb(2*y),this.bJ(m),this.$h.Jb(2*y),this.$h.resize(0),this.aJ(m),this.Km.resize(y,-1),this.Km.Wj(-1,0,y),this.iA=!1}else this.Km.Wj(-1,0,y);this.kf=this.Tu()}y=this.pG(p<<1,this.kf),m=this.$f.addElement(1+(p<<1),this.xz(y)),this.VJ(y,m),this.Km.set(p,y),this.Zv++},u.prototype.remove=function(p){if(!this.Sf||!this.lq)throw d.i.fa("invalid call");var y=this.Km.get(p);if(y==-1)throw d.i.N("the interval does not exist in the interval tree");this.Km.set(p,-1),this.Zv--;var m=this.xz(y),w=this.$f.ZR(m);this.$f.vd(this.wR(y),m),this.$f.vd(this.TR(y),m),(p=this.$f.size(m))==0&&(this.$f.MP(m),this.ZJ(w,-1)),this.Ej.jd(y),m=this.UF(w);var S=this.qj(w),k=this.lk(w);for(y=0;!(0<p||w==this.kf||S!=-1&&k!=-1);)w==this.qj(m)?S!=-1?(this.Ok(m,S),this.Uj(S,m),this.Ok(w,-1)):k!=-1?(this.Ok(m,k),this.Uj(k,m),this.Qk(w,-1)):this.Ok(m,-1):S!=-1?(this.Qk(m,S),this.Uj(S,m),this.Ok(w,-1)):k!=-1?(this.Qk(m,k),this.Uj(k,m),this.Qk(w,-1)):this.Qk(m,-1),this.Uj(w,-1),y++,w=m,p=(m=this.mk(w))!=-1?this.$f.size(m):0,S=this.qj(w),k=this.lk(w),m=this.UF(w)},u.prototype.reset=function(){if(!this.Sf||!this.lq)throw d.i.N("invalid call");this.Nk(!1)},u.prototype.size=function(){return this.Zv},u.prototype.getIterator=function(){return s.construct(this)},u.prototype.bJ=function(p){for(var y=this.Fj.length,m=0;m<2*y;m++)p.add(m);this.HX(p,2*y)},u.prototype.aJ=function(p){for(var y=NaN,m=0;m<p.size;m++){var w=p.get(m),S=this.nk(w);S!=y&&(this.$h.add(w),y=S)}},u.prototype.vS=function(){var p=this.Fj.length,y=new d.ia(0);y.Jb(2*p),this.bJ(y),this.$h.Jb(2*p),this.$h.resize(0),this.aJ(y),this.Ej.De(p),this.Ti.fn(2*p);var m=d.Yc.Oh(p);for(m.Wj(-1,0,p),this.kf=this.Tu(),p=0;p<y.size;p++){var w=y.get(p),S=m.get(w>>1);S!=-1?this.VJ(S,this.Ti.addElement(this.xz(S),w)):(S=this.pG(w,this.kf),m.set(w>>1,S))}},u.prototype.pG=function(p,y){var m=y,w=y,S=-1,k=0,I=this.$h.size-1,A=0,L=p>>1,D=NaN,U=NaN,X=!0,J=this.DR(L);for(L=this.AR(L);X;){k<I?(A=k+d.O.truncate((I-k)/2),this.gz(m)==-1&&this.FJ(m,this.$h.get(A),this.$h.get(A+1))):this.gz(m)==-1&&this.FJ(m,this.$h.get(k),this.$h.get(k));var B=this.Np(m);if(L<B)y!=-1&&(y==m?(w=m,D=B,U=(y=this.qj(m))!=-1?this.Np(y):NaN):U>B&&(B<D?this.Ok(w,m):this.Qk(w,m),this.Qk(m,y),this.Sf&&(this.Uj(m,w),this.Uj(y,m)),w=m,D=B,y=-1,U=NaN)),(I=this.xR(m))==-1&&(I=this.Tu(),this.dX(m,I)),m=I,I=A;else if(J>B)y!=-1&&(y==m?(w=m,D=B,U=(y=this.lk(m))!=-1?this.Np(y):NaN):U<B&&(B<D?this.Ok(w,m):this.Qk(w,m),this.Ok(m,y),this.Sf&&(this.Uj(m,w),this.Uj(y,m)),w=m,D=B,y=-1,U=NaN)),(k=this.UR(m))==-1&&(k=this.Tu(),this.oX(m,k)),m=k,k=A+1;else{(X=this.mk(m))==-1&&(X=this.zP(m),this.ZJ(m,X));var Q=this.fN(X,p);S=this.xP(),this.qX(S,X),this.cX(S,Q),m!=y&&(B<D?this.Ok(w,m):this.Qk(w,m),this.Sf&&this.Uj(m,w),y!=-1&&(U<B?this.Ok(m,y):this.Qk(m,y),this.Sf&&this.Uj(y,m))),X=!1}}return S},u.prototype.Tu=function(){return this.me.Ce()},u.prototype.zP=function(p){return this.Sf?this.$f.Pr(p):this.Ti.Ph(p)},u.prototype.xP=function(){return this.Ej.Ce()},u.prototype.Nk=function(p){p?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=d.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=d.Yc.Oh(0),this.$f=new d.Yj,this.$f.Vo(new h(this))):this.$f.clear():this.Ti==null?this.Ti=new d.jp:this.Ti.clear(),this.me==null?(this.Ej=new d.$c(3),this.me=new d.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},u.prototype.FJ=function(p,y,m){this.XW(p,y),this.YW(p,m)},u.prototype.Np=function(p){var y=this.gz(p);return y==-1?NaN:(y=this.nk(y))==(p=this.nk(this.gR(p)))?y:.5*(y+p)},u.prototype.XW=function(p,y){this.me.S(p,0,y)},u.prototype.YW=function(p,y){this.me.S(p,1,y)},u.prototype.dX=function(p,y){this.me.S(p,3,y)},u.prototype.oX=function(p,y){this.me.S(p,4,y)},u.prototype.ZJ=function(p,y){this.me.S(p,2,y)},u.prototype.Ok=function(p,y){this.me.S(p,5,y)},u.prototype.Qk=function(p,y){this.me.S(p,6,y)},u.prototype.Uj=function(p,y){this.me.S(p,7,y)},u.prototype.qX=function(p,y){this.Ej.S(p,0,y)},u.prototype.fN=function(p,y){return this.Sf?this.$f.addElement(y,p):this.Ti.addElement(p,y)},u.prototype.cX=function(p,y){this.Ej.S(p,1,y)},u.prototype.VJ=function(p,y){this.Ej.S(p,2,y)},u.prototype.kl=function(p){return this.Sf?this.$f.rc(p):this.Ti.rc(p)},u.prototype.Zr=function(p){return this.Sf?this.$f.Fc(p):this.Ti.Fc(p)},u.gq=function(p){return!(1&p)},u.Gv=function(p){return!(1&~p)},u.prototype.gz=function(p){return this.me.T(p,0)},u.prototype.gR=function(p){return this.me.T(p,1)},u.prototype.mk=function(p){return this.me.T(p,2)},u.prototype.xR=function(p){return this.me.T(p,3)},u.prototype.UR=function(p){return this.me.T(p,4)},u.prototype.qj=function(p){return this.me.T(p,5)},u.prototype.lk=function(p){return this.me.T(p,6)},u.prototype.UF=function(p){return this.me.T(p,7)},u.prototype.xz=function(p){return this.Ej.T(p,0)},u.prototype.wR=function(p){return this.Ej.T(p,1)},u.prototype.TR=function(p){return this.Ej.T(p,2)},u.prototype.DR=function(p){return this.Fj[p].oa},u.prototype.AR=function(p){return this.Fj[p].va},u.prototype.HX=function(p,y){this.Am==null&&(this.Am=new d.Xt);var m=new l(this);this.Am.sort(p,0,y,m)},u.prototype.GX=function(p,y,m){var w=this;p.Vd(y,m,function(S,k){var I=w.nk(S),A=w.nk(k);return I<A||I==A&&u.gq(S)&&u.Gv(k)?-1:1})},u.prototype.nk=function(p){var y=this.Fj[p>>1];return u.gq(p)?y.oa:y.va},u}();d.sr=a}(te||(te={})),function(d){var O=function(){function x(h){if(h==null)throw d.i.fa("Invalid arguement");this.hf=h;var l=h.nR();l.hS()?h.ef.IG()?this.lo=d.si.PannableFold:this.lo=d.si.Clip:this.lo=d.si.DontClip,l.iS()?h.Yf.IG()?this.Qm=d.si.PannableFold:this.Qm=d.si.Clip:this.Qm=d.si.DontClip,this.Bm=l.Jr,this.mH=l.Vu,h=this.hf.sH,this.aH=h.hs(2147483648),this.Uv=h.hs(1073741824)}return x.zh=function(h,l,s){return l.ww.zh(h,s)},x.Rt=function(h,l,s,a){return h.ww.Rt(l,s,a)},x.Qt=function(h,l,s,a){if(s=0>s?l.length:s,(h=h.ww.Rt(l,s,a))==s)return h;for(var u=l=0;u<s;u++){var p=a[u];p.isNaN()||(l<u&&a[l].L(p),l++)}for(;l<s;l++)a[l].Rc();return h},x.transform=function(h,l,s,a,u){if(h.isIdentity())return d.ta.kP(a,l,s),s;for(var p=[],y=0,m=0;m<s;){for(var w=Math.min(p.length,s-m),S=m,k=0;S<w;S++,k++)p[k]==null?p[k]=l[S].D():l[S].D(p[k]);var I=u?x.Qt(h,p,w,p):x.Rt(h,p,w,p);for(k=S=0;S<I;S++,k++)a[m]==null&&(a[m]=new d.Sa(l[m])),a[m].Cb(p[k]);m+=w,y+=I}return y},x.prototype.Rt=function(h,l,s){if(this.hf.isIdentity())return h!=s&&d.ta.Ru(s,h,l),l;var a=this.hf.ef,u=this.hf.Yf,p=a.Sb(),y=u.Sb();if(p==0&&p===y){var m=a.Qp();return u=m/(u=u.Qp()),(m=new d.Dd).setScale(u,u),m.eY(h,l,s),l}if(m=d.O.Fu(Math.min(l,64)),p==3){var w=a.Ji;p=(a=w.fk()).Sb(),s!=h&&d.ta.Ru(s,h,l),d.zb.$k(w,s,l,!0),w.Qt(d.bm.forward,s,l),d.zb.Zk(w,s,l,!0)}if(p==3||y===3)throw d.i.fa("image: transform_in_place_");if(p==2)this.lo==d.si.Clip?(s!=h&&d.ta.Ru(s,h,l),h=a.ml(),d.zb.OS(h,a,s,l)):(s!=h&&d.ta.Ru(s,h,l),a.Wc()&&(p=a.Xd(0),w=a.Oe(),d.zb.EX(s,l,w,p),d.zb.qF(s,l,a,0))),d.zb.IL(a,s,l,m);else for(p=a.Xd(0),w=a.Oe(),a=0;a<l;a++)d.zb.FX(h[a],w,p,s[a]);for(d.zb.GL(this.hf,s,l,m),h=0,(y=y==2)?h=u.zi():isNaN(this.Bm)||(h=this.Bm),y&&this.Qm!=d.si.Clip||d.zb.qF(s,l,u.sc(),h),y&&(d.zb.yG(s,l,u,this.Qm),d.zb.HL(u,s,l,m)),h=l,a=0;a<l;++a)s[a].isNaN()&&h--;return h},x.prototype.zh=function(h,l){if(this.hf.isIdentity()||h.B())return h;if(h.getType()==33)return this.XI(h);var s=this.hf.ef,a=this.hf.Yf,u=s.Sb(),p=a.Sb();if(u==0&&u==p)return l=s.Qp(),l/=a=a.Qp(),(a=new d.Dd).setScale(l,l),(h=d.aa.jg(h)).Oc(a),h;switch(h.getType()){case 1607:case 1736:h=this.VI(h,l);break;case 550:h=this.fW(h,l);break;case 197:h=this.eW(h,l);break;default:throw d.i.fa("")}return h},x.prototype.XI=function(h){var l=h.D(),s=[];return s[0]=l,this.Rt(s,1,s),(h=new d.Sa(h)).Cb(s[0]),h},x.prototype.VI=function(h,l){if(h.tm())throw d.i.fa("curves not supported");var s=h.getType();if(s==1736)return this.gW(h,l);if(s==1607)return this.hW(h,l);throw d.i.fa("projectMultiPath")},x.prototype.gW=function(h,l){var s=this.hf.ef,a=this.hf.Yf,u=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64)),m=d.Da.jg(h);u==3&&(u=(s=(h=s.Ji).fk()).Sb(),m=h.$k(m,!0),this.wp(h,d.bm.forward,m),m=h.Zk(m,!0)),h=null,p==3&&(p=(a=(h=a.Ji).fk()).Sb());var w=u==2,S=p==2,k=S?a.sc():a,I=!S&&!this.Uv;p=!1;var A=m;if(w){if((A=d.zb.UI(A,s,this.lo,l)).B())return A}else{if(m=new d.l,A.xc(m),u=s.Oe(),m.G<u.G||m.H>u.H){var L=d.l.construct(m.v-1,u.G,m.C+1,u.H);if((A=d.ri.Nu(A,L,s,NaN,0,l)).B())return A}m.R()>2*u.R()&&(A=d.zb.Hp(A,-2*u.R(),2*u.R(),s,!0,0,!0,l))}m=this.mH,(u=!isNaN(m))&&(A=d.Xl.local().V(A,m,l)),L=S?a.kk():null;var D=NaN;w&&(D=s.zi());var U=a.Wr()!=null;if(this.aH)w&&(d.zb.ur(s,D,A,y),u&&(w=s.hh(),m*=(D=s.sc().hh())/w)),d.zb.tr(this.hf,A,I,y),u&&(w=s.sc().hh(),m*=(D=a.sc().hh())/w),s=A;else{var X=new d.Ta(A.description);X.DD(A),w&&(d.zb.ur(s,D,X,y),u&&(w=s.hh(),m*=(D=s.sc().hh())/w)),d.zb.tr(this.hf,X,I,y),u&&(w=s.sc().pm(),m*=(D=a.sc().pm())/w),I=NaN,S?(L=a.kk(),I=a.zi()):isNaN(this.Bm)||(I=this.Bm),w=x.tv(s)|x.tv(a),D=10*k.Xd(0),this.Uv&&(w=3,D=0),s=d.zb.UQ(A,s,X,k,I,l,w,D)}return U&&(s=d.zb.XD(s,a,l)),S&&(p||(S=k.Oe().R(),s.Tg(0,0).R()>=S-k.Xd(0)&&(k=L.getNorthPoleLocation(),S=L.getSouthPoleLocation(),A=L.getNorthPoleGeometry(),L=L.getSouthPoleGeometry(),I=0,A==d.Cg.PE_POLE_POINT&&k!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(I=1),L==d.Cg.PE_POLE_POINT&&S!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(I|=2),I!==0&&(p=!0))),s=d.zb.Mz(s,a,this.Qm,l),u&&(s=d.Xl.local().V(s,m,l)),d.zb.Lx(a,s,y)),s.B()||(p&&(s=d.Yl.local().V(s,a,!1,l)),h!=null&&(s=h.Zk(s,!1),this.wp(h,d.bm.reverse,s),s=h.$k(s,!1))),s},x.tv=function(h){if(h.Sb()!=2)return 0;var l=0,s=h.kk();h=s.getNorthPoleLocation();var a=s.getSouthPoleLocation(),u=s.getNorthPoleGeometry();return s=s.getSouthPoleGeometry(),u==d.Cg.PE_POLE_POINT&&h!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(l=1),s==d.Cg.PE_POLE_POINT&&a!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(l|=2),l},x.prototype.hW=function(h,l){var s=this.hf.ef,a=this.hf.Yf,u=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64)),m=d.Ta.jg(h);u==3&&(u=(s=(h=s.Ji).fk()).Sb(),m=h.$k(m,!0),this.wp(h,d.bm.forward,m),m=h.Zk(m,!0)),h=null,p==3&&(p=(a=(h=a.Ji).fk()).Sb());var w=u==2;u=(p=p==2)?a.sc():a;var S=!p&&!this.Uv;if(w){if((m=d.zb.UI(m,s,this.lo,l)).B())return m}else{var k=new d.l;m.xc(k);var I=s.Oe();if((k.G<I.G||k.H>I.H)&&(k=d.l.construct(k.v-1,I.G,k.C+1,I.H),(m=d.ri.Nu(m,k,s,NaN,0,l)).B()))return m}var A=NaN;w&&(A=s.zi()),k=a.Wr()!=null,I=this.mH;var L=!isNaN(I);if(L&&(m=d.Xl.local().V(m,I,l)),this.aH)w&&d.zb.ur(s,A,m,y),L&&(w=s.hh(),I*=(A=s.sc().hh())/w),d.zb.tr(this.hf,m,S,y),L&&(w=s.sc().hh(),I*=(A=a.sc().hh())/w),s=m;else{var D=new d.Ta(m.description);D.DD(m),w&&(d.zb.ur(s,A,D,y),L&&(w=s.hh(),I*=(A=s.sc().hh())/w)),d.zb.tr(this.hf,D,S,y),L&&(w=s.sc().hh(),I*=(A=a.sc().hh())/w),S=NaN,p?S=a.zi():isNaN(this.Bm)||(S=this.Bm),w=x.tv(s)|x.tv(a),A=10*u.Xd(0),this.Uv&&(w=3,A=0),s=d.zb.VQ(m,s,D,u,S,l,w,A)}return k&&(s=d.zb.XD(s,a,l)),p&&(s=d.zb.Mz(s,a,this.Qm,l),L&&(s=d.Xl.local().V(s,I,l)),d.zb.Lx(a,s,y)),s.B()||h!=null&&(s=h.Zk(s,!1),this.wp(h,d.bm.reverse,s),s=h.$k(s,!1)),s},x.prototype.eW=function(h,l){var s=(h.ca()+h.R())/400;return s!=0?(s=d.Xl.local().V(h,s,l),s=this.VI(s,l),l=h.Ia(),s.bn(l)):(l=new d.Sa(h.Ip()),s=this.XI(l),l=h.Ia(),s.B()?l.Oa():(h.copyTo(l),h=s.D(),l.K(h.x,h.y,h.x,h.y))),l},x.prototype.fW=function(h,l){h=d.aa.jg(h);var s=this.hf.ef,a=this.hf.Yf,u=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64));if(u==3){var m=s.Ji;u=(s=m.fk()).Sb(),h=m.Zk(h,!0),this.wp(m,d.bm.forward,h),h=m.$k(h,!0)}if(u==2){if(this.lo==d.si.Clip?h=d.Xj.local().V(h,s.ml(),s,l):s.Wc()&&(u=new d.l,h.xc(u),s.Oe().contains(u)||(this.lo==d.si.PannableFold&&(h=d.zb.lj(h,s)),d.zb.Jt(h,s.Oe(),s.Xd(0),!0),h=d.zb.Fn(h,s,0,!0,0,l))),h.B())return h;d.zb.ur(s,0,h,y)}else d.zb.Jt(h,s.Oe(),s.Xd(0),!0);return d.zb.tr(this.hf,h,!1,y),s=0,u=!1,m=null,p==3&&(u=!0,p=(a=(m=a.Ji).fk()).Sb()),(p=p==2)?s=a.zi():isNaN(this.Bm)||(s=this.Bm),p&&this.Qm!=d.si.Clip||(h=d.zb.Fn(h,a.sc(),s,!1,0,l)),p&&(h=d.zb.Mz(h,a,this.Qm,l),d.zb.Lx(a,h,y),h.B())||u&&(h=m.Zk(h,!0),this.wp(m,d.bm.reverse,h),h=m.$k(h,!0)),h},x.prototype.wp=function(h,l,s){var a=s.I();if(a!=0){for(var u=s.ub(0),p=d.O.lg(200,0),y=[],m=0;m<a;){var w=Math.min(100,a-m);u.Vw(2*m,2*w,p,2,!0);for(var S=0;S<w;++S)y[S]=d.h.construct(p[2*m],p[2*m+1]);h.Qt(l,y,w),m+=w}s.Pc(1993)}},x.Uy=function(h,l,s){if(h==null||l==null||!l.Wc())throw d.i.fa("Invalid Arguement");if(h.B())return h;var a=h.getType();return a==197?(a=new d.Da(h.description)).ad(h,!1):d.aa.yd(a)?(a=new d.Ta(h.description)).oc(h,!0):a=h,(a=d.zb.lj(a,l)).B()?a:d.zb.Fn(a,l,0,a!=h,0,s)},x.nj=function(h,l,s,a){if(h==null||l==null||!l.Wc())throw d.i.fa("Invalid Arguement");if(h.B())return h;var u=h.getType();if(d.aa.Hc(u)){h=d.zb.lj(h,l),u=new d.l,h.A(u);for(var p=d.ta.ty(l,u,!1),y=l.gh(),m=Math.floor((u.v-y.v)/y.R())*y.R()+y.v;m<u.C;)m>u.v+p&&m<u.C-p&&(h=d.zb.uS(h,l,s,m)),m+=y.R()}else{if(u==197)return(u=new d.Da(h.description)).ad(h,!1),x.nj(u,l,s,a);if(d.aa.yd(u))return(u=new d.Ta(h.description)).oc(h,!0),x.nj(u,l,s,a)}return x.Uy(h,l,a)},x}();d.bu=O}(te||(te={})),function(d){var O=function(x){function h(l,s,a,u){var p=x.call(this)||this;return l===void 0?p.description=d.ee.og():a===void 0?p.description=l:(p.description=d.ee.og(),p.ZB(l,s),p.Ql(a,u)),p}return ft(h,x),h.prototype.getType=function(){return 322},h.prototype.Qb=function(){var l=this.sa-this.pa,s=this.na-this.la;return Math.sqrt(l*l+s*s)},h.prototype.Bi=function(l){var s=this.sa-this.pa,a=this.na-this.la;return Math.sqrt(s*s+a*a)<=l},h.prototype.Pn=function(){return!1},h.prototype.kg=function(){var l=new d.h;return l.uc(this.wc(),this.ac()),l},h.cP=function(l,s){return new h(l.x,l.y,s.x,s.y)},h.prototype.bn=function(l){l.Oa(),l.Nf(this.description);var s=new d.l;this.A(s),l.Xo(s),s=1;for(var a=this.description.Aa;s<a;s++)for(var u=this.description.kd(s),p=d.ra.Va(u);s<p;s++){var y=this.Tg(u,0);l.setInterval(u,0,y)}},h.prototype.A=function(l){l.K(this.sa,this.na,this.pa,this.la),l.normalize()},h.prototype.Qo=function(l){l.Oa(),l.Zb(this.sa,this.na,this.Od(0,1,0)),l.Zb(this.pa,this.la,this.Od(1,1,0))},h.prototype.Oc=function(l){if(l instanceof d.Dd){this.vc();var s=new d.h;s.x=this.sa,s.y=this.na,l.Eh(s,s),this.sa=s.x,this.na=s.y,s.x=this.pa,s.y=this.la,l.Eh(s,s),this.pa=s.x,this.la=s.y}else this.vc(),(s=new d.Nd).x=this.sa,s.y=this.na,s.z=this.Od(0,1,0),s=l.fp(s),this.sa=s.x,this.na=s.y,this.tn(0,1,0,s.z),s.x=this.pa,s.y=this.la,s.z=this.Od(1,1,0),s=l.fp(s),this.pa=s.x,this.la=s.y,this.tn(1,1,0,s.z)},h.prototype.Ia=function(){return new h(this.description)},h.prototype.Tx=function(l,s){return(this.pa-l-(this.sa-l))*(this.la-s+(this.na-s))*.5},h.prototype.vx=function(l){return l*this.Qb()},h.prototype.NG=function(l){return l/this.Qb()},h.prototype.DF=function(l){return d.lc.hq(this.sa,this.pa,l)},h.prototype.fR=function(l){return d.lc.hq(this.na,this.la,l)},h.prototype.dl=function(l,s){var a=new d.ig;return this.ah(l,s,a),a.get()},h.prototype.ah=function(l,s,a){if(a==null)throw d.i.N();a.Or(),(a=a.get()).Nf(this.description);var u=new d.h;this.hc(l,u),a.ZB(u.x,u.y),this.hc(s,u),a.Ql(u.x,u.y),u=1;for(var p=this.description.Aa;u<p;u++)for(var y=this.description.Ed(u),m=d.ra.Va(y),w=0;w<m;w++){var S=this.Uc(l,y,w);a.YB(y,w,S),S=this.Uc(s,y,w),a.OB(y,w,S)}},h.prototype.Uc=function(l,s,a){if(s==0)return a==0?this.hc(l).x:this.hc(l).y;switch(d.ra.lz(s)){case 0:return .5>l?this.wv(s,a):this.gv(s,a);case 1:var u=this.wv(s,a);return s=this.gv(s,a),d.lc.hq(u,s,l);case 2:throw d.i.fa("not implemented")}throw d.i.Qa()},h.prototype.fe=function(l,s){var a=this.pa-this.sa,u=this.la-this.na,p=a*a+u*u;return p==0?.5:(l=((l.x-this.sa)*a+(l.y-this.na)*u)/p,s||(0>l?l=0:1<l&&(l=1)),l)},h.prototype.cq=function(l,s,a,u){if(l){if((l=this.la-this.na)==0)return s==this.la?-1:0;if(0>(s=(s-this.na)/l)||1<s)return 0;a!=null&&(a[0]=this.DF(s))}else{if((l=this.pa-this.sa)==0)return s==this.pa?-1:0;if(0>(s=(s-this.sa)/l)||1<s)return 0;a!=null&&(a[0]=this.fR(s))}return u!=null&&(u[0]=s),1},h.prototype.Pe=function(l,s){var a=this.la-this.na;return a==0?l==this.la?s:NaN:(l=(l-this.na)/a,s=this.DF(l),l==1&&(s=this.pa),s)},h.prototype.ru=function(l,s,a){return 0<=this.rp(l.x,l.y,s,a)},h.prototype.vi=function(l,s,a){return 0<=this.rp(l,s,a,!0)},h.prototype.qs=function(l,s){return this.ru(l,s,!1)},h.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var l=this.sa;this.sa=this.pa,this.pa=l,l=this.na,this.na=this.la,this.la=l,l=0;for(var s=this.description.Oq-2;l<s;l++){var a=this.ka[l];this.ka[l]=this.ka[l+s],this.ka[l+s]=a}}},h.prototype.uu=function(l,s){(s=d.h.construct(l,s)).sub(this.ac());var a=new d.h;return a.uc(this.wc(),this.ac()),(l=a.wi(s))>(s=8881784197001252e-31*(Math.abs(a.x*s.y)+Math.abs(a.y*s.x)))?-1:l<-s?1:0},h.prototype.rp=function(l,s,a,u){var p=this.sa,y=this.na,m=l-p,w=s-y;if((m=Math.sqrt(m*m+w*w))<=Math.max(a,6661338147750939e-31*m))return u&&m==0?NaN:0;if(m=l-this.pa,w=s-this.la,(m=Math.sqrt(m*m+w*w))<=Math.max(a,6661338147750939e-31*m))return u&&m==0?NaN:1;if(m=this.pa-this.sa,w=this.la-this.na,0<(u=Math.sqrt(m*m+w*w))){var S=1/u,k=l-p,I=s-y,A=k*(m*=S)+I*(w*=S),L=17763568394002505e-31*(Math.abs(k*m)+Math.abs(I*w)),D=m;if(m=-w,w=D,A<-(L=Math.max(a,L))||A>u+L)return NaN;if(Math.abs(k*m+I*w)<=Math.max(a,17763568394002505e-31*(Math.abs(k*m)+Math.abs(I*w)))&&(.5>=(m=d.O.Rk(A*S,0,1))?(w=this.sa+(this.pa-this.sa)*m,u=this.na+(this.la-this.na)*m):(w=this.pa-(this.pa-this.sa)*(1-m),u=this.la-(this.la-this.na)*(1-m)),d.h.Oy(w,u,l,s)<=a)){if(.5>m){if(d.h.Oy(w,u,p,y)<=a)return 0}else if(d.h.Oy(w,u,this.pa,this.la)<=a)return 1;return m}}return NaN},h.prototype.Nb=function(l){return l!=null&&(l==this||l.constructor===this.constructor&&this.FM(l))},h.prototype.rD=function(l,s,a){var u=a?this.sa:this.pa;a=a?this.na:this.la;var p=new d.h;return p.x=l.pa-u,p.y=l.la-a,!(s.Qh(p)>6661338147750939e-31*s.fD(p))||(p.x=l.sa-u,p.y=l.na-a,s.Qh(p)<=6661338147750939e-31*s.fD(p))},h.prototype.qD=function(l){var s=new d.h;return s.x=this.pa-this.sa,s.y=this.la-this.na,!!this.rD(l,s,!1)&&(s.Sq(),!!this.rD(l,s,!0))},h.NM=function(l,s){var a=l.uu(s.sa,s.na),u=l.uu(s.pa,s.la);return!(0>a&&0>u||0<a&&0<u)&&(a=s.uu(l.sa,l.na),u=s.uu(l.pa,l.la),!(0>a&&0>u||0<a&&0<u)&&((a=l.Qb())>(u=s.Qb())?l.qD(s):s.qD(l)))},h.LM=function(l,s,a){var u=d.h.construct(NaN,NaN),p=l.pa-l.sa,y=l.la-l.na,m=s.pa-s.sa,w=s.la-s.na,S=m*y-p*w;if(S==0)return u;var k=8881784197001252e-31*(Math.abs(m*y)+Math.abs(p*w)),I=s.sa-l.sa,A=s.na-l.na,L=m*A-I*w,D=L/S,U=Math.abs(S);return D<-(m=(8881784197001252e-31*(Math.abs(m*A)+Math.abs(I*w))*U+k*Math.abs(L))/(S*S)+2220446049250313e-31*Math.abs(D))||D>1+m||(m=(w=p*A-I*y)/S)<-(p=(8881784197001252e-31*(Math.abs(p*A)+Math.abs(I*y))*U+k*Math.abs(w))/(S*S)+2220446049250313e-31*Math.abs(m))||m>1+p||(D=d.O.Rk(D,0,1),p=d.O.Rk(m,0,1),y=l.hc(D),S=s.hc(p),(k=new d.h).uc(y,S),k.length()>a&&(k.add(y,S),k.scale(.5),D=l.fe(k,!1),p=s.fe(k,!1),l=l.hc(D),s=s.hc(p),l.sub(s),l.length()>a)||u.ma(D,p)),u},h.OM=function(l,s,a,u){var p=0;if((l.sa==s.sa&&l.na==s.na||l.sa==s.pa&&l.na==s.la)&&(p++,!u))return 1;if(l.pa==s.sa&&l.la==s.na||l.pa==s.pa&&l.la==s.la){if(++p==2)return 2;if(!u)return 1}return s.vi(l.sa,l.na,a)||s.vi(l.pa,l.la,a)||l.vi(s.sa,s.na,a)||l.vi(s.pa,s.la,a)?1:u&&p!=0||h.NM(l,s)==0?0:1},h.Zx=function(l,s,a,u,p,y){var m=0,w=l.rp(s.sa,s.na,y,!1),S=l.rp(s.pa,s.la,y,!1),k=s.rp(l.sa,l.na,y,!1),I=s.rp(l.pa,l.la,y,!1);return isNaN(w)||(u!=null&&(u[m]=w),p!=null&&(p[m]=0),a!=null&&(a[m]=d.h.construct(s.sa,s.na)),m++),isNaN(S)||(u!=null&&(u[m]=S),p!=null&&(p[m]=1),a!=null&&(a[m]=d.h.construct(s.pa,s.la)),m++),m==2||isNaN(k)||w==0&&k==0||S==0&&k==1||(u!=null&&(u[m]=0),p!=null&&(p[m]=k),a!=null&&(a[m]=d.h.construct(l.sa,l.na)),m++),m==2||isNaN(I)||w==1&&I==0||S==1&&I==1||(u!=null&&(u[m]=1),p!=null&&(p[m]=I),a!=null&&(a[m]=d.h.construct(s.pa,s.la)),m++),0<m?(m==2&&u!=null&&u[0]>u[1]&&(l=u[0],u[0]=u[1],u[1]=l,p!=null&&(u=p[0],p[0]=p[1],p[1]=u),a!=null&&(p=d.h.construct(a[0].x,a[0].y),a[0]=a[1],a[1]=p)),m):(m=h.LM(l,s,y),isNaN(m.x)?0:(a!=null&&(a[0]=l.hc(m.x)),u!=null&&(u[0]=m.x),p!=null&&(p[0]=m.y),1))},h.prototype.eG=function(){return 0},h.prototype.op=function(){},h.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},h}(d.SC);d.yb=O}(te||(te={})),function(d){var O=function(){function x(){this.Jm=[],this.ya=-1}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var h=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),h}return this.Jm=null},x.prototype.ZX=function(h){this.Jm.push(h)},x.prototype.qe=function(){},x}();d.gL=O}(te||(te={})),function(d){var O;(O=d.SL||(d.SL={}))[O.enumFillRuleOddEven=0]="enumFillRuleOddEven",O[O.enumFillRuleWinding=1]="enumFillRuleWinding";var x=function(h){function l(s,a){var u=h.call(this)||this;if(u.xf=!1,u.Eq=null,u.sq=0,u.rq=0,u.Aj=null,u.Mg=!1,u.nb=null,u.mb=null,u.Ve=null,u.Lj=null,u.Sd=null,u.tq=0,u.gb=0,u.xq=0,a===void 0)u.xf=s,u.Mg=!1,u.tq=0,u.sq=0,u.rq=0,u.wa=0,u.description=d.ee.og();else{if(a==null)throw d.i.N();u.xf=s,u.Mg=!1,u.tq=0,u.sq=0,u.rq=0,u.wa=0,u.description=a}return u.Aj=null,u.gb=0,u}return ft(l,h),l.prototype.tm=function(){return 0<this.tq},l.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new d.Sa(this.description):this.Eq.Nf(this.description)},l.prototype.sx=function(s,a){var u=new d.h;u.x=s,u.y=a,this.Lt(u)},l.prototype.Lt=function(s){this.Yx(),this.Eq.Cb(s),this.Mg=!0},l.prototype.nf=function(s){if(s.B())throw d.i.N();this.Jl(s.description),this.Yx(),s.copyTo(this.Eq),this.Mg=!0},l.prototype.Sx=function(){var s=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=d.Yc.Oh(2),this.nb.write(0,0),this.mb=d.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),s++);var a=this.wa;this.nb.write(this.nb.size-1,this.wa+s),this.dm(a+s),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(a,this.Eq),this.Mg=!1)},l.prototype.yj=function(s,a){this.Sx(),this.Cb(this.wa-1,s,a)},l.prototype.Ci=function(s){this.Sx(),this.Cb(this.wa-1,s)},l.prototype.lineTo=function(s){this.Sx(),this.Ht(this.wa-1,s)},l.prototype.CU=function(s){if(this.vc(),this.xf)throw d.i.Qa();var a=this.da();if(s>a)throw d.i.Qa();if(this.dc(s)){if(this.mb==null)throw d.i.Qa();var u=this.wa,p=this.Ba(s),y=this.Vc(s);this.dm(this.wa+1),this.mc();for(var m=0,w=this.description.Aa;m<w;m++)if(this.za[m]!=null){var S=d.ra.Va(this.description.Ed(m));this.za[m].Mn(S*y,this.za[m],S*p,S,!0,1,S*u)}for(;a>s;a--)u=this.nb.read(a),this.nb.write(a,u+1);this.mb.KE(s,1)}},l.prototype.Ap=function(){if(this.wx(),s===void 0){this.Mg=!1;var s=this.da()-1}var a=this.mb.read(s);this.mb.write(s,1|a),this.Ve!=null&&(s=this.Vc(s)-1,this.Ve.write(s,1),this.Lj.write(s,-1))},l.prototype.dc=function(s){return!!(1&this.mb.read(s))},l.prototype.Nn=function(s){if(this.dc(s))return!0;var a=this.Ba(s);return!(a>(s=this.Vc(s)-1))&&(a=this.Na(a),s=this.Na(s),a.qb(s))},l.prototype.yv=function(s){return!!(2&this.mb.read(s))},l.prototype.oc=function(s,a){if(this.Jl(s.description),s.getType()!=322)throw d.i.Qa();var u=new d.Sa;(a||this.B())&&(s.To(u),this.nf(u)),s.Po(u),this.lineTo(u)},l.prototype.tp=function(s){var a=this.wa==0;this.sx(s.v,s.G),this.yj(s.v,s.H),this.yj(s.C,s.H),this.yj(s.C,s.G),this.Ap(),this.Mg=!1,a&&this.Lf(256,!1)},l.prototype.ad=function(s,a){if(!s.B()){for(var u=this.wa==0,p=new d.Sa(this.description),y=0;4>y;y++)s.Hf(a?4-y-1:y,p),y==0?this.nf(p):this.lineTo(p);this.Ap(),this.Mg=!1,u&&!a&&this.Lf(256,!1)}},l.prototype.add=function(s,a){for(var u=0;u<s.da();u++)this.addPath(s,u,!a)},l.prototype.addPath=function(s,a,u){this.vf(-1,s,a,u)},l.prototype.Yk=function(s,a){this.Hz(s,a)},l.prototype.Dr=function(s,a,u,p,y){if(y||this.da()!=0||(y=!0),0>a&&(a=s.da()-1),a>=s.da()||0>u||0>p||p>s.rv(a))throw d.i.fa("index out of bounds");if(p!=0){var m=s.dc(a)&&u+p==s.rv(a);if(!m||p!=1){if(this.Mg=!1,this.Jl(s.description),u=s.Ba(a)+u+1,y&&(p++,u--),m&&p--,m=this.wa,this.dm(this.wa+p),this.mc(),y){if(p==0)return;this.nb.add(this.wa),y=s.mb.read(a),y&=-5,this.xf&&(y|=1),this.mb.write(this.mb.size-1,y),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);y=0;for(var w=this.description.Aa;y<w;y++){var S=this.description.kd(y),k=d.ra.Va(S),I=s.description.Pf(S);0>I||s.za[I]==null?this.za[y].Ln(k*m,d.ra.se(S),p*k,k*m):this.za[y].Mn(k*m,s.za[I],k*u,p*k,!0,k,k*m)}if(this.tm()||s.yv(a))throw d.i.Qa();this.Pc(1993)}}},l.prototype.oJ=function(){for(var s=0,a=this.da();s<a;s++)this.FW(s)},l.prototype.FW=function(s){if(this.mc(),s>=this.da())throw d.i.N();var a=this.Ba(s),u=this.Ja(s);s=this.dc(s)?1:0;for(var p=0,y=this.description.Aa;p<y;p++)if(this.za[p]!=null){var m=d.ra.Va(this.description.Ed(p));this.za[p].ni(m*(a+s),m*(u-s),m)}this.Pc(1993)},l.prototype.Zq=function(s){this.mc();var a=this.da();if(0>s&&(s=a-1),s>=a)throw d.i.N();for(var u=this.Ba(s),p=this.Ja(s),y=0,m=this.description.Aa;y<m;y++)if(this.za[y]!=null){var w=d.ra.Va(this.description.Ed(y));this.za[y].En(w*u,w*p,w*this.wa)}for(u=s+1;u<=a;u++)y=this.nb.read(u),this.nb.write(u-1,y-p);if(this.mb==null)for(u=s+1;u<=a;u++)s=this.mb.read(u),this.mb.write(u-1,s);this.nb.resize(a),this.mb.resize(a),this.wa-=p,this.Pg-=p,this.Pc(1993)},l.prototype.vf=function(s,a,u,p){if(a==this||u>=a.da())throw d.i.N();var y=this.da();if(s>y)throw d.i.N();0>s&&(s=y),0>u&&(u=a.da()-1),this.Mg=!1,this.Jl(a.description),a.mc();var m=a.Ba(u),w=a.Ja(u),S=this.wa,k=a.dc(u)&&!p?1:0;this.dm(this.wa+w),this.mc();for(var I=s<y?this.Ba(s):S,A=0,L=this.description.Aa;A<L;A++){var D=this.description.Ed(A),U=a.description.Pf(D),X=d.ra.Va(D);0<=U&&a.za[U]!=null?(k!=0&&this.za[A].Mn(I*X,a.za[U],X*m,X,!0,X,X*S),this.za[A].Mn((I+k)*X,a.za[U],X*(m+k),X*(w-k),p,X,X*(S+k))):this.za[A].Ln(I*X,d.ra.se(D),X*w,X*S)}for(this.nb.add(S+w),p=y;p>=s+1;p--)m=this.nb.read(p-1),this.nb.write(p,m+w);for(a.yv(u),this.mb.add(0),p=y-1;p>=s+1;p--)y=this.mb.read(p),y&=-5,this.mb.write(p+1,y);y=a.JR().read(u),y&=-5,this.xf&&(y|=1),this.mb.write(s,y)},l.prototype.Hz=function(s,a){var u=-1,p=this.da();if(u>p)throw d.i.N();0>u&&(u=p),this.Mg=!1;var y=this.wa;this.dm(this.wa+a),this.mc();var m=u<p?this.Ba(u):y;if(s!=null)this.za[0].Iz(2*m,s,0,a,!0,2*y);else{var w=d.ra.se(0);this.za[0].Ln(2*m,w,2*a,2*y)}s=1;for(var S=this.description.Aa;s<S;s++){w=this.description.kd(s);var k=d.ra.Va(w);w=d.ra.se(w),this.za[s].Ln(m*k,w,k*a,k*y)}for(this.nb.add(this.wa),y=p;y>=u+1;y--)m=this.nb.read(y-1),this.nb.write(y,m+a);for(this.mb.add(0),y=p-1;y>=u+1;y--)a=this.mb.read(y),a&=-5,this.mb.write(y+1,a);this.xf&&this.mb.write(u,1)},l.prototype.qG=function(s,a,u){var p=-1;if(0>s&&(s=this.da()),s>this.da()||p>this.Ja(s)||u>a.length)throw d.i.fa("index out of bounds");if(u!=0){s==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>p&&(p=this.Ja(s)),this.mc();var y=this.wa;this.dm(this.wa+u),this.mc();for(var m=0,w=this.description.Aa;m<w;m++){var S=this.description.Ed(m),k=d.ra.Va(S);this.za[m].Ut(k*(this.Ba(s)+p+u),(y-this.Ba(s)-p)*k,this.za[m],k*(this.Ba(s)+p),!0,k),m==0?this.za[m].vC(k*(this.Ba(s)+p),u,a,0,!0):this.za[m].Wj(d.ra.se(S),(this.Ba(s)+p)*k,u*k)}for(this.tm()&&(this.Ve.Ut(this.Ba(s)+p+u,y-this.Ba(s)-p,this.Ve,this.Ba(s)+p,!0,1),this.Lj.Ut(this.Ba(s)+p+u,y-this.Ba(s)-p,this.Lj,this.Ba(s)+p,!0,1),this.Ve.Wj(1,this.Ba(s)+p,u),this.Lj.Wj(-1,this.Ba(s)+p,u)),s+=1,a=this.da();s<=a;s++)this.nb.write(s,this.nb.read(s)+u)}},l.prototype.wf=function(s,a,u){var p=this.da();if(0>s&&(s=this.da()),s>=p||a>this.Ja(s))throw d.i.fa("index out of bounds");s==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>a&&(a=this.Ja(s));var y=this.wa;this.dm(this.wa+1),this.mc();var m=this.Ba(s);this.za[0].vj(2*(m+a),u,2*y),u=1;for(var w=this.description.Aa;u<w;u++){var S=this.description.Ed(u),k=d.ra.Va(S);this.za[u].Ln(k*(m+a),d.ra.se(S),k,k*y)}for(s+=1;s<=p;s++)this.nb.write(s,this.nb.read(s)+1)},l.prototype.DB=function(s,a){var u=this.da();if(0>s&&(s=u-1),s>=u||a>=this.Ja(s))throw d.i.fa("index out of bounds");this.mc();var p=this.Ba(s);0>a&&(a=this.Ja(s)-1),a=p+a,p=0;for(var y=this.description.Aa;p<y;p++)if(this.za[p]!=null){var m=d.ra.Va(this.description.Ed(p));this.za[p].En(m*a,m,m*this.wa)}for(;u>=s+1;u--)a=this.nb.read(u),this.nb.write(u,a-1);this.wa--,this.Pg--,this.Pc(1993)},l.prototype.uE=function(s,a,u){var p=this.Ba(s)+a;if((u=this.Ba(u)+void 0)<p||0>p||u>this.I()-1)throw d.i.N();a=0,(s=this.Ga()).Vb(p);do{for(;s.Ha()&&(p=s.ha(),s.wb()!=u);)a+=p=p.Qb();if(s.wb()==u)break}while(s.$a());return a},l.prototype.fO=function(s,a,u){if(a=this.Ba(s)+a,u=this.Ba(s)+u,0>a||u>this.I()-1)throw d.i.N();var p=this.Ga();if(a>u){if(!this.dc(s))throw d.i.N("cannot iterate across an open path");p.JB()}var y=s=0;p.Vb(a);do y+=s,s=p.ha().Qb();while(p.wb()!=u);return y},l.prototype.mg=function(){return d.pi.gm(this,null)},l.prototype.KS=function(s,a,u){for(var p=s;p<u-1;p++)if(this.dc(p))throw d.i.N("cannot interpolate across closed paths");if((p=this.description.Aa)!=1){var y=this.uE(s,a,u);if(y!=0)for(var m=1;m<p;m++){var w=this.description.kd(m);if(d.ra.lz(w)!=2)for(var S=d.ra.Va(w),k=0;k<S;k++)this.MS(w,s,a,u,y,k)}}},l.prototype.JS=function(s,a,u){var p=this.description.Aa;if(p!=1){var y=this.fO(s,a,u);if(y!=0)for(var m=1;m<p;m++){var w=this.description.kd(m);if(d.ra.lz(w)!=2)for(var S=d.ra.Va(w),k=0;k<S;k++)this.LS(w,s,a,u,y,k)}}},l.prototype.MS=function(s,a,u,p,y,m){var w=this.Ga(),S=this.Ba(a)+u;p=this.Ba(p)+void 0,a=this.Uc(s,S,m),u=this.Uc(s,p,m);var k=a,I=0;w.Vb(S);do if(w.Ha()){if(w.ha(),w.wb()==p)break;this.setAttribute(s,w.wb(),m,k),w.li();do{if(S=w.ha(),w.ik()==p)return;I+=S=S.Qb(),k=d.lc.hq(a,u,I/y),w.On()||this.setAttribute(s,w.ik(),m,k)}while(w.Ha())}while(w.$a())},l.prototype.LS=function(s,a,u,p,y,m){var w=this.Ga(),S=this.Ba(a)+u;if((a=this.Ba(a)+p)!=S){p=this.Uc(s,S,m),u=this.Uc(s,a,m);var k=0;w.Vb(S),w.JB(),S=p;do{var I=w.ha();this.setAttribute(s,w.wb(),m,S),k+=S=I.Qb(),S=d.lc.hq(p,u,k/y)}while(w.ik()!=a)}},l.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},l.prototype.Oc=function(s){s instanceof d.Dd?this.YD(s,-1):this.wN(s)},l.prototype.YD=function(s,a){if(!this.B()&&!s.isIdentity()){this.mc();var u=this.za[0],p=new d.h,y=new d.h;if(0>a){var m=this.tm(),w=0;a=this.wa}else m=this.yv(a),w=this.Ba(a),a=this.Vc(a);for(;w<a;w++){if(p.x=u.read(2*w),p.y=u.read(2*w+1),m){var S=this.Lj.read(w);if(0<=S)switch(7&this.Ve.read(w)){case 2:y.x=this.Sd.read(S),y.y=this.Sd.read(S+1),s.Eh(y,y),this.Sd.write(S,y.x),this.Sd.write(S+1,y.y),y.x=this.Sd.read(S+3),y.y=this.Sd.read(S+4),s.Eh(y,y),this.Sd.write(S+3,y.x),this.Sd.write(S+4,y.y);break;case 4:throw d.i.Qa()}}s.Eh(p,p),u.write(2*w,p.x),u.write(2*w+1,p.y)}this.Pc(1993)}},l.prototype.wN=function(s){if(!this.B()){this.re(1),this.mc();for(var a=this.za[0],u=this.za[1],p=new d.Nd,y=new d.Nd,m=this.tm(),w=0;w<this.wa;w++){if(p.x=a.read(2*w),p.y=a.read(2*w+1),p.z=u.read(w),m){var S=this.Lj.read(w);if(0<=S)switch(7&this.Ve.read(w)){case 2:y.x=this.Sd.read(S),y.y=this.Sd.read(S+1),y.z=this.Sd.read(S+2),y=s.fp(y),this.Sd.write(S,y.x),this.Sd.write(S+1,y.y),this.Sd.write(S+1,y.z),y.x=this.Sd.read(S+3),y.y=this.Sd.read(S+4),y.z=this.Sd.read(S+5),y=s.fp(y),this.Sd.write(S+3,y.x),this.Sd.write(S+4,y.y),this.Sd.write(S+5,y.z);break;case 4:throw d.i.Qa()}}p=s.fp(p),a.write(2*w,p.x),a.write(2*w+1,p.y),u.write(w,p.z)}this.Pc(1993)}},l.prototype.iy=function(){this.nb==null&&(this.nb=d.Yc.Oh(1,0),this.mb=d.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},l.prototype.op=function(s){s.Mg=!1,s.tq=this.tq,s.xq=this.xq,s.nb=this.nb!=null?d.ia.Bn(this.nb):null,s.mb=this.mb!=null?d.pn.Bn(this.mb):null,s.Lj=this.Lj!=null?d.ia.Bn(this.Lj):null,s.Ve=this.Ve!=null?d.pn.Bn(this.Ve):null,s.Sd=this.Sd!=null?d.be.Bn(this.Sd):null,s.sq=this.sq,s.rq=this.rq,s.Aj=this.ak(1024)?null:this.Aj},l.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var s=this.Ga(),a=new d.Fx(0);s.$a();)for(;s.Ha();)a.add(s.ha().Qb());return this.sq=a.rm(),this.Lf(512,!1),a.rm()},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l&&h.prototype.Nb.call(this,s)))return!1;var a=this.da();return!(a!=s.da()||this.nb!=null&&!this.nb.Nb(s.nb,0,a+1)||this.xq!=s.xq||this.mb!=null&&!this.mb.Nb(s.mb,0,a))&&h.prototype.Nb.call(this,s)},l.prototype.Ga=function(){return new d.YL(this)},l.prototype.hy=function(s){if(h.prototype.hy.call(this,s),this.tm())for(s=this.Ga();s.$a();)s.Ha()},l.prototype.yp=function(s,a){if(h.prototype.yp.call(this,s,a),this.tm())for(s=this.Ga();s.$a();)s.Ha()},l.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},l.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},l.prototype.Ev=function(s){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(s)):!!(4&this.mb.read(s)))},l.prototype.Ir=function(s){return this.xf?(this.xu(),this.Aj.read(s)):0},l.prototype.xu=function(){if(this.ak(1024)){var s=this.da();this.Aj==null?this.Aj=new d.be(s):this.Aj.size!=s&&this.Aj.resize(s),s=new d.Fx(0);for(var a=new d.Fx(0),u=new d.h,p=0,y=this.Ga();y.$a();){for(a.reset(),this.D(this.Ba(y.gb),u);y.Ha();)a.add(y.ha().Tx(u.x,u.y));s.add(a.rm());var m=p++;this.Aj.write(m,a.rm())}this.rq=s.rm(),this.Lf(1024,!1)}},l.prototype.FR=function(){if(this.xf){this.fm();for(var s=this.da(),a=0;a<s;a++)4&this.mb.read(a)}},l.prototype.fm=function(){if(this.ak(8)){this.xu();var s=this.da();(this.mb==null||this.mb.size<s)&&(this.mb=d.Yc.Mr(s+1));for(var a=1,u=0;u<s;u++){var p=this.Aj.read(u);u==0&&(a=0<p?1:-1),0<p*a?this.mb.zJ(u,4):this.mb.KE(u,4)}this.Lf(8,!1)}},l.prototype.sz=function(s){var a=this.gb,u=this.da();if(0<=a&&a<u){if(s<this.Vc(a)){if(s>=this.Ba(a))return a;a--}else a++;if(0<=a&&a<u&&s>=this.Ba(a)&&s<this.Vc(a))return this.gb=a}if(5>u){for(a=0;a<u;a++)if(s<this.Vc(a))return this.gb=a;throw d.i.fa("corrupted geometry")}for(a=0,--u;u>a;){var p=a+(u-a>>1);if(s<this.Ba(p))u=p-1;else{if(!(s>=(a=this.Vc(p))))return this.gb=p;a=p+1}}return this.gb=a},l.prototype.yz=function(){var s=this.I();if(!this.xf){s-=this.da();for(var a=0,u=this.da();a<u;a++)this.dc(a)&&s++}return s},l.prototype.rv=function(s){var a=this.Ja(s);return this.dc(s)||a--,a},l.prototype.Ia=function(){return new l(this.xf,this.description)},l.prototype.Db=function(){return this.xf?2:1},l.prototype.getType=function(){return this.xf?1736:1607},l.prototype.QJ=function(s){this.nb=s,this.Pc(16777215)},l.prototype.VR=function(){return this.wx(),this.Ve},l.prototype.JR=function(){return this.wx(),this.mb},l.prototype.PJ=function(s){this.mb=s,this.Pc(16777215)},l.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},l.prototype.Vc=function(s){return this.nb.read(s+1)},l.prototype.Ja=function(s){return this.nb.read(s+1)-this.nb.read(s)},l.prototype.Ba=function(s){return this.nb.read(s)},l.prototype.lu=function(s,a){this.Bb==null&&(this.Bb=new d.Uk),a=d.Nx.pW(a);var u=this.Bb.Fk;if(u!=null){if(!(u.Ik<s||a>u.RR()))return!0;this.Bb.yD(null)}return u=d.Nx.create(this,s,a),this.Bb.yD(u),!0},l.prototype.cc=function(){var s=h.prototype.cc.call(this);if(!this.Ac()){var a=this.da();this.nb!=null&&this.nb.An(s,0,a+1),this.mb!=null&&this.mb.An(s,0,a)}return s},l.prototype.ZF=function(s){return this.Ve!=null?this.Ve.read(s):1},l.prototype.bc=function(s,a,u){var p=this.sz(s);if(s==this.Vc(p)-1&&!this.dc(p))throw d.i.fa("index out of bounds");this.mc();var y=this.Ve,m=1;if(y!=null&&(m=7&y.read(s)),m!==1)throw d.i.Qa();if(a.Or(),a=a.get(),u?a.Nf(d.ee.og()):a.Nf(this.description),p=s==this.Vc(p)-1&&this.dc(p)?this.Ba(p):s+1,y=new d.h,this.D(s,y),a.Dc(y),this.D(p,y),a.Qc(y),!u)for(u=1,y=this.description.Aa;u<y;u++){m=this.description.Ed(u);for(var w=d.ra.Va(m),S=0;S<w;S++){var k=this.Uc(m,s,S);a.YB(m,S,k),k=this.Uc(m,p,S),a.OB(m,S,k)}}},l.prototype.Rj=function(s,a){if(s>=this.da())throw d.i.N();if(this.B())a.Oa();else{if(this.yv(s))throw d.i.fa("not implemented");var u=this.ub(0),p=new d.h,y=new d.l;y.Oa();var m=this.Ba(s);for(s=this.Vc(s);m<s;m++)u.tc(2*m,p),y.Zb(p);a.K(y)}},l.prototype.fj=function(s){return this.Bb==null&&(this.Bb=new d.Uk),!(s==0||16>this.I())&&(s=d.ta.nE(this),this.Bb.WM(s),!0)},l.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new d.Uk),this.Bb.zo==null){this.Bb.xD(null);var s=d.ta.YN(this);this.Bb.xD(s)}},l.prototype.Yo=function(s){this.xq=s},l.prototype.In=function(){return this.xq},l.prototype.DD=function(s){if(this==s)throw d.i.fa("MultiPathImpl.add");for(var a=this.da(),u=0;u<s.da();u++)this.addPath(s,u,!0),this.CU(a),a++},l.prototype.kO=function(s){var a=this.sz(s),u=this.Ba(a);if(u!=s){if(s>=(a=this.Vc(a))||s<u)throw d.i.fa("change_ring_start_point");for(var p=0,y=this.description.Aa;p<y;p++){var m=this.description.kd(p);m=d.ra.Va(m),this.za[p].rotate(u*m,s*m,a*m)}}},l}(d.Gx);d.Vk=x}(te||(te={})),function(d){var O=function(x){function h(l){var s=x.call(this)||this;if(l!==void 0){if(l==null)throw d.i.N();s.description=l}else s.description=d.ee.og();return s.wa=0,s}return ft(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.add=function(l){this.resize(this.wa+1),this.Dh(this.wa-1,l)},h.prototype.Bu=function(l,s){this.resize(this.wa+1);var a=new d.h;a.ma(l,s),this.Cb(this.wa-1,a)},h.prototype.Fd=function(l,s,a){if(a=0>a?l.I():a,0>s||s>l.I()||a<s)throw d.i.N();if(s!=a){this.Jl(l.description),a-=s;var u=this.wa;this.resize(this.wa+a),this.mc();for(var p=0,y=l.description.Aa;p<y;p++){var m=l.description.Ed(p),w=d.ra.Va(m),S=this.ub(m);m=l.ub(m),S.Mn(u*w,m,s*w,a*w,!0,1,u*w)}}},h.prototype.HD=function(l,s){var a=l.length;if(s=0>s?a:s,0>a||0>s)throw d.i.N();if(s!=0){a=s-0,s=this.wa,this.resize(this.wa+a);for(var u=0;u<a;u++)this.Cb(s+u,l[0+u])}},h.prototype.DB=function(l){if(0>l||l>=this.I())throw d.i.fa("index out of bounds");this.mc();for(var s=0,a=this.description.Aa;s<a;s++)if(this.za[s]!=null){var u=d.ra.Va(this.description.Ed(s));this.za[s].En(u*l,u,u*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},h.prototype.resize=function(l){this.dm(l)},h.prototype.op=function(){},h.prototype.Oa=function(){x.prototype.wD.call(this)},h.prototype.Oc=function(l){if(l instanceof d.Dd){if(this.B())return;this.mc();for(var s=this.za[0],a=new d.h,u=0;u<this.wa;u++)a.x=s.read(2*u),a.y=s.read(2*u+1),l.Eh(a,a),s.write(2*u,a.x),s.write(2*u+1,a.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),s=this.za[0],a=this.za[1];var p=new d.Nd;for(u=0;u<this.wa;u++){p.x=s.read(2*u),p.y=s.read(2*u+1),p.z=a.read(u);var y=l.fp(p);s.write(2*u,y.x),s.write(2*u+1,y.y),a.write(u,y.z)}}this.Pc(1993)},h.prototype.Db=function(){return 0},h.prototype.getType=function(){return 550},h.prototype.Ke=function(){return 0},h.prototype.Qb=function(){return 0},h.prototype.Nb=function(l){return l==this||l instanceof h&&x.prototype.Nb.call(this,l)},h.prototype.lW=function(l,s){var a=this.wa;if(a=Math.min(a,s+1e3),0>s||s>=this.wa||a<s||l.length!=1e3)throw d.i.N();var u=a-s,p=[];for(this.ub(0).Vw(2*s,2*u,p,0,!0),s=0;s<u;s++)l[s]=d.h.construct(p[2*s],p[2*s+1]);return a},h.prototype.$x=function(){},h.prototype.iy=function(){},h.prototype.lu=function(){return!1},h.prototype.fj=function(){return!1},h.prototype.mg=function(){return null},h}(d.Gx);d.de=O}(te||(te={})),function(d){var O;(O=d.iL||(d.iL={}))[O.NotDetermined=0]="NotDetermined",O[O.Structure=1]="Structure",O[O.DegenerateSegments=2]="DegenerateSegments",O[O.Clustering=3]="Clustering",O[O.Cracking=4]="Cracking",O[O.CrossOver=5]="CrossOver",O[O.RingOrientation=6]="RingOrientation",O[O.RingOrder=7]="RingOrder",O[O.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",O[O.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",O[O.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var x=function(){function h(l,s,a){l===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=l,this.Jo=s,this.Ko=a)}return h.prototype.Wt=function(l){this.Jj=l.Jj,this.Jo=l.Jo,this.Ko=l.Ko},h}();d.Md=x}(te||(te={})),function(d){d.O=function(){function O(){}return O.assert=function(x){if(x===!1)throw d.i.GK()},O.bK=function(x){return isNaN(x)?NaN:x===0?x:0<x?1:-1},O.Fu=function(x){var h;h===void 0&&(h=0);for(var l=[],s=0;s<x;s++)l[s]=O.lg(2,h);return l},O.lg=function(x,h){h===void 0&&(h=0);for(var l=[],s=0;s<x;s++)l[s]=h;return l},O.$u=function(x,h){var l,s;for(l===void 0&&(l=0),s===void 0&&(s=x.length-1);l<=s;l++)x[l]=h},O.Rk=function(x,h,l){return x<h?h:x>l?l:x},O.Th=function(x,h){var l=5381;return((l=((l=((l=h!==void 0?(h<<5)+h+(255&x):(l<<5)+l+(255&x))<<5)+l+(x>>8&255))<<5)+l+(x>>16&255))<<5)+l+(x>>24&255)&2147483647},O.uj=function(){throw Error("Not Implemented")},O.bB=function(x){return O.aU(x)+12345&2147483647},O.XG=function(x){var h=32,l=x%O.Qx|0,s=x/O.Qx|0;return(h&=63)==0?x:(32>h?(x=l>>>h|s<<32-h,h=s>>h):(x=s>>h-32,h=0<=s?0:-1),h*O.Qx+(x>>>0))},O.aU=function(x){var h=1103515245,l=65535&h;return((h-l)*(x|=0)|0)+(l*x|0)|0},O.truncate=function(x){return 0>x?-1*Math.floor(Math.abs(x)):Math.floor(x)},O.MAX_SAFE_INTEGER=Math.pow(2,53)-1,O.MIN_SAFE_INTEGER=-O.MAX_SAFE_INTEGER,O.VC=65536,O.Qx=O.VC*O.VC,O}()}(te||(te={})),function(d){var O;(O=d.CL||(d.CL={}))[O.Project=0]="Project",O[O.Union=1]="Union",O[O.Difference=2]="Difference",O[O.Proximity2D=3]="Proximity2D",O[O.Relate=4]="Relate",O[O.Equals=5]="Equals",O[O.Disjoint=6]="Disjoint",O[O.Intersects=7]="Intersects",O[O.Within=8]="Within",O[O.Contains=9]="Contains",O[O.Crosses=10]="Crosses",O[O.Touches=11]="Touches",O[O.Overlaps=12]="Overlaps",O[O.Buffer=13]="Buffer",O[O.Distance=14]="Distance",O[O.Intersection=15]="Intersection",O[O.Clip=16]="Clip",O[O.Cut=17]="Cut",O[O.DensifyByLength=18]="DensifyByLength",O[O.DensifyByAngle=19]="DensifyByAngle",O[O.LabelPoint=20]="LabelPoint",O[O.GeodesicBuffer=21]="GeodesicBuffer",O[O.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",O[O.ShapePreservingDensify=23]="ShapePreservingDensify",O[O.GeodeticLength=24]="GeodeticLength",O[O.GeodeticArea=25]="GeodeticArea",O[O.Simplify=26]="Simplify",O[O.SimplifyOGC=27]="SimplifyOGC",O[O.Offset=28]="Offset",O[O.Generalize=29]="Generalize",O[O.SymmetricDifference=30]="SymmetricDifference",O[O.ConvexHull=31]="ConvexHull",O[O.Boundary=32]="Boundary",O[O.SimpleRelation=33]="SimpleRelation";var x=function(){function h(){}return h.prototype.getType=function(){return null},h.prototype.wn=function(){},h.prototype.Iu=function(){return!1},h}();d.Je=x}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 13},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u,p){return l instanceof d.aa?(p=new d.Zc(l),this.V(p,s,[a],!1,u).next()):u===!0?(a=new d.BC(l,s,a,!1,p),d.Gh.local().V(a,s,p)):new d.BC(l,s,a,!1,p)},h.instance=null,h}(d.Je);d.AC=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u){this.ya=-1,this.Rd=h,this.$z=l,this.Cs=s,this.tT=new d.l,this.tT.Oa(),this.eo=-1,this.Ub=u}return x.prototype.next=function(){for(var h;(h=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(h,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.buffer=function(h,l){return d.HK.buffer(h,l,this.$z,NaN,96,this.Ub)},x.prototype.qe=function(){},x}();d.BC=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 16},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,u).next()):new d.lL(l,s,a,u)},h.instance=null,h}(d.Je);d.kL=O}(te||(te={})),function(d){var O=function(){function x(h,l,s){if(this.ya=-1,h==null)throw d.i.N();this.$=l,this.yk=h,this.qa=d.ta.Wd(s,l,!1)}return x.prototype.next=function(){var h;return(h=this.yk.next())!=null?(this.ya=this.yk.La(),d.Ud.clip(h,this.$,this.qa,0)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.lL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 31},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){return l instanceof d.aa?d.DC.rE(l):new d.DC(s,l,a)},h.instance=null,h}(d.Je);d.CC=O}(te||(te={})),function(d){var O=function(){function x(h,l,s){if(this.uA=new d.Zt,this.ya=-1,l==null)throw d.i.N();this.cH=h,this.Ic=!1,this.yk=l,this.Ub=s}return x.prototype.next=function(){if(this.cH){if(!this.Ic){var h=this.dO(this.yk);return this.Ic=!0,h}return null}if(!this.Ic){if((h=this.yk.next())!=null)return this.ya=this.yk.La(),x.rE(h);this.Ic=!0}return null},x.prototype.La=function(){return this.ya},x.prototype.dO=function(h){for(var l;(l=h.next())!=null;)this.uA.Ib(l);return this.uA.cR()},x.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw d.i.fa("Invalid call for non merging convex hull.");var h=this.yk.next();if(h==null)throw d.i.fa("Expects a non-null geometry.");this.uA.Ib(h)}},x.rE=function(h){if(x.VS(h))return h;var l=h.getType();if(d.Vk.yd(l))return(l=new d.Ta(h.description)).oc(h,!0),l;if(l==550&&h.I()==2){var s=new d.Sa;return l=new d.Ta(h.description),h.ve(0,s),l.nf(s),h.ve(1,s),l.lineTo(s),l}return d.Zt.RO(h)},x.VS=function(h){if(h.B())return!0;var l=h.getType();return l==33||l==197||!d.Vk.yd(l)&&(l==550?h.I()==1:l==1607?h.da()==1&&2>=h.I():h.da()==1&&(2>=h.I()||d.Zt.JG(h,0)))},x}();d.DC=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 17},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u,p){return new d.nL(l,s,a,u,p)},h.instance=null,h}(d.Je);d.mL=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u){if(this.Tf=null,l==null||s==null)throw d.i.fa("invalid argument");this.qT=h,this.nA=l,this.lH=s,h=d.ta.mv(l,s),this.qa=d.ta.Wd(a,h,!0),this.kH=-1,this.nd=u}return x.prototype.La=function(){return 0},x.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},x.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},x.prototype.TQ=function(){var h=new d.Ta,l=new d.Ta,s=new d.Ta;this.Tf.push(h),this.Tf.push(l);var a=[];d.LK.JK(this.qT,this.nA,this.lH,this.qa,a,this.nd);for(var u=0;u<a.length;u++){var p=a[u];if(p.bt==0)h.add(p.X,!1);else if(p.bt==1||p.bt==2)l.add(p.X,!1);else if(p.bt==3)this.Tf.push(p.X);else{if(p.bt!=4)throw d.i.fa("internal");s.add(p.X,!1)}}s.B()||h.B()&&l.B()&&!(3<=this.Tf.length)||this.Tf.push(s),h.B()&&l.B()&&3>this.Tf.length&&(this.Tf.length=0)},x.prototype.SQ=function(){var h=new d.ia(0),l=new d.gd,s=l.aF(),a=l.Ib(this.nA),u=l.Ib(this.lH),p=new d.Fg;try{p.Ft(l,this.qa,this.nd),p.dl(s,a,u,h);var y=l.Ne(a),m=new d.Da,w=new d.Da;for(this.Tf.length=0,this.Tf.push(m),this.Tf.push(w),a=0;a<h.size;a++){var S=new d.gd,k=S.Ib(y),I=S.Ib(l.Ne(h.get(a)));p.dr(S,this.nd);var A=p.Av(k,I),L=S.Ne(A);if(!L.B()){var D=l.KF(h.get(a),s);D==2?m.add(L,!1):D==1?w.add(L,!1):this.Tf.push(L);var U=new d.gd;k=U.Ib(y),I=U.Ib(l.Ne(h.get(a))),p.dr(U,this.nd),y=U.Ne(p.im(k,I))}}!y.B()&&0<h.size&&this.Tf.push(y),m.B()&&w.B()&&(this.Tf.length=0)}finally{p.Ug()}},x.prototype.qe=function(){},x}();d.nL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 18},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){if(l instanceof d.aa)return l=new d.Zc(l),this.V(l,s,a).next();if(0>=s)throw d.i.N();return new d.oL(l,s,a)},h.instance=null,h}(d.Je);d.Xl=O}(te||(te={})),function(d){var O=function(){function x(h,l){this.ya=-1,this.Rd=h,this.Ps=l}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){var h;return(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(h)):null},x.prototype.NP=function(h){if(h.B()||1>h.Db())return h;var l=h.getType();if(l==1736||l==1607)return this.Ny(h);if(d.aa.yd(l))return this.PP(h);if(l==197)return this.OP(h);throw d.i.Qa()},x.prototype.PP=function(h){if(h.Qb()<=this.Ps)return h;var l=new d.Ta(h.description);return l.oc(h,!0),this.Ny(l)},x.prototype.OP=function(h){var l=new d.Da(h.description);l.ad(h,!1);var s=new d.l;return h.A(s),h=s.ca(),s.R()<=this.Ps&&h<=this.Ps?l:this.Ny(l)},x.prototype.Ny=function(h){for(var l=h.Ia(),s=h.Ga();s.$a();)for(var a=!0;s.Ha();){var u=s.ha();if(u.getType()!=322)throw d.i.fa("not implemented");var p=s.On(),y=u.Qb();if(y>this.Ps){var m=Math.ceil(y/this.Ps);y=new d.Sa(h.description),a&&(u.To(y),l.nf(y));var w=a=1/m,S=0;for(--m;S<m;S++)u.Tw(w,y),l.lineTo(y),w+=a;p?l.Ap():(u.Po(y),l.lineTo(y))}else p?l.Ap():l.oc(u,a);a=!1}return l},x.prototype.qe=function(){},x}();d.oL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.getType=function(){return 2},h.prototype.V=function(l,s,a,u){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,u).next()):new d.qL(l,s,a,u)},h.im=function(l,s,a,u){if(l.B()||s.B())return l;var p=l.Db(),y=s.Db();if(p>y)return l;var m=l.getType(),w=s.getType(),S=new d.l,k=new d.l,I=new d.l;l.A(S),s.A(k),I.K(S),I.Zb(k);var A=(I=d.ta.Wd(a,I,!0))*Math.sqrt(2)*1.00001,L=new d.l;if(L.K(S),L.W(A,A),!L.isIntersecting(k))return l;if(p==1&&y==2)return h.KV(l,s,w,a,u);if(m==33)switch(d.Vk.yd(w)?(a=new d.Ta(s.description),a.oc(s,!0)):a=s,w){case 1736:return h.XU(l,a,I);case 1607:return h.YU(l,a,I);case 550:return h.VU(l,a,I);case 197:return h.UU(l,a,I);case 33:return h.WU(l,a,I);default:throw d.i.N()}else if(m==550)switch(w){case 1736:return h.nU(l,s,I);case 197:return h.lU(l,s,I);case 33:return h.mU(l,s,I)}return d.Fg.im(l,s,a,u)},h.XU=function(l,s,a){return d.hd.KG(s,l,a)==0?l:l.Ia()},h.YU=function(l,s,a){var u=l.D();s=s.Ga();for(var p=a*Math.sqrt(2)*1.00001,y=p*p,m=new d.l;s.$a();)for(;s.Ha();){var w=s.ha();if(w.A(m),m.W(p,p),m.contains(u)){if(w.qs(u,a))return l.Ia();var S=w.ac();if(d.h.yc(u,S)<=y||(S=w.wc(),d.h.yc(u,S)<=y))return l.Ia()}}return l},h.VU=function(l,s,a){var u=s.ub(0);s=s.I();var p=l.D(),y=new d.h;a=a*Math.sqrt(2)*1.00001,a*=a;for(var m=0;m<s;m++)if(u.tc(2*m,y),d.h.yc(y,p)<=a)return l.Ia();return l},h.UU=function(l,s,a){var u=new d.l;return s.A(u),u.W(a,a),s=l.D(),u.contains(s)?l.Ia():l},h.WU=function(l,s,a){a=a*Math.sqrt(2)*1.00001,a*=a;var u=l.D();return s=s.D(),d.h.yc(u,s)<=a?l.Ia():l},h.nU=function(l,s,a){var u=new d.l;s.A(u),u.W(a,a);for(var p=l.I(),y=!1,m=[],w=0;w<p;w++)m[w]=!1;var S=new d.h;for(w=0;w<p;w++)l.D(w,S),u.contains(S)&&d.hd.Yd(s,S,a)!=0&&(y=!0,m[w]=!0);if(!y)return l;for(s=l.Ia(),w=0;w<p;w++)m[w]||s.Fd(l,w,w+1);return s},h.lU=function(l,s,a){var u=new d.l;s.A(u),u.W(a,a),s=l.I();var p=!1;a=[];for(var y=0;y<s;y++)a[y]=!1;var m=new d.h;for(y=0;y<s;y++)l.D(y,m),u.contains(m)&&(p=!0,a[y]=!0);if(!p)return l;for(u=l.Ia(),y=0;y<s;y++)a[y]||u.Fd(l,y,y+1);return u},h.mU=function(l,s,a){var u=l.ub(0),p=l.I(),y=s.D(),m=new d.h,w=!1;s=[];for(var S=0;S<p;S++)s[S]=!1;for(a=(S=a*Math.sqrt(2)*1.00001)*S,S=0;S<p;S++)u.tc(2*S,m),d.h.yc(m,y)<=a&&(w=!0,s[S]=!0);if(!w)return l;for(u=l.Ia(),S=0;S<p;S++)s[S]||u.Fd(l,S,S+1);return u},h.KV=function(l,s,a,u,p){var y=new d.Fh;l.bn(y);var m=new d.l;return s.A(m),y.Zb(m),y.W(.1*y.R(),.1*y.ca()),(m=new d.Da).ad(y,!1),a==1736?m.add(s,!0):m.ad(s,!0),d.Xj.local().V(l,m,u,p)},h.instance=null,h}(d.Je);d.kp=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a){this.ts=l==null,this.ya=-1,this.Rd=h,this.$z=s,this.wT=l.next(),this.Ub=a}return x.prototype.next=function(){return this.ts?null:(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),d.kp.im(h,this.wT,this.$z,this.Ub)):null;var h},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.qL=O}(te||(te={})),function(d){var O=function(){function h(l){this.nd=l,this.Bj=new d.l,this.Bj.Oa(),this.oh=new d.l,this.oh.Oa()}return h.prototype.Nt=function(){var l=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=l,l=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=l,l=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=l,l=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=l},h.prototype.eQ=function(l,s){if(this.nd!=null&&!this.nd.progress(-1,-1))throw d.i.fu("user_canceled");var a=!this.Bj.isIntersecting(this.oh);return d.aa.Hc(l.getType())&&d.aa.Hc(s.getType())?l.I()>s.I()?this.gE(l,s,a):(this.Nt(),l=this.gE(s,l,a),this.Nt(),l):l.getType()==550&&d.aa.Hc(s.getType())?(l=this.hE(s,l,a),this.Nt(),l):s.getType()==550&&d.aa.Hc(l.getType())?this.hE(l,s,a):l.getType()==550&&s.getType()==550?l.I()>s.I()?this.iE(l,s):(this.Nt(),l=this.iE(s,l),this.Nt(),l):0},h.prototype.gE=function(l,s,a){var u=l.Ga(),p=s.Ga(),y=new d.l,m=new d.l,w=17976931348623157e292;if(!a&&this.pY(l,s,u,p))return 0;for(;u.$a();)for(;u.Ha();)if((l=u.ha()).A(y),!(y.px(this.oh)>w)){for(;p.$a();)for(;p.Ha();)if((s=p.ha()).A(m),y.px(m)<w&&(s=l.tb(s,a),(s*=s)<w)){if(s==0)return 0;w=s}p.Zi()}return Math.sqrt(w)},h.prototype.hE=function(l,s,a){var u=l.Ga(),p=new d.l,y=17976931348623157e292,m=new d.h,w=s.I();for(a=!a&&l.getType()==1736;u.$a();)for(;u.Ha();){var S=u.ha();if(S.A(p),!(1<w&&p.px(this.oh)>y)){for(var k=0;k<w;k++){if(s.D(k,m),a&&d.hd.Yd(l,m,0)!=0)return 0;var I=S.fe(m,!1);if(m.sub(S.hc(I)),(I=m.Sk())<y){if(I==0)return 0;y=I}}a=!1}}return Math.sqrt(y)},h.prototype.iE=function(l,s){for(var a,u=17976931348623157e292,p=new d.h,y=new d.h,m=l.I(),w=s.I(),S=0;S<m;S++)if(l.D(S,p),!(1<w&&this.oh.iK(p)>u)){for(var k=0;k<w;k++)if(s.D(k,y),(a=d.h.yc(p,y))<u){if(a==0)return 0;u=a}}return Math.sqrt(u)},h.prototype.pY=function(l,s,a,u){if(l.getType()==1736){for(;u.$a();)if(u.Ha()){var p=u.ha();if(d.hd.Yd(l,p.wc(),0)!=0)return!0}u.Zi()}if(s.getType()==1736){for(;a.$a();)if(a.Ha()&&(l=a.ha(),d.hd.Yd(s,l.wc(),0)!=0))return!0;a.Zi()}return!1},h.prototype.gm=function(l,s){return l.B()||s.B()?NaN:(l.A(this.Bj),s.A(this.oh),this.eQ(l,s))},h}(),x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return ft(l,h),l.prototype.V=function(s,a,u){if(s==null||a==null)throw d.i.N();if(s.B()||a.B())return NaN;var p=s.getType(),y=a.getType();if(p==33){if(y==33)return d.h.tb(s.D(),a.D());if(y==197)return u=new d.l,a.A(u),u.tb(s.D());(p=new d.de).add(s),s=p}else if(p==197){if(y==197)return y=new d.l,s.A(y),u=new d.l,a.A(u),u.tb(y);(p=new d.Da).ad(s,!1),s=p}return y==33?((y=new d.de).add(a),a=y):y==197&&((y=new d.Da).ad(a,!1),a=y),new O(u).gm(s,a)},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 14},l.instance=null,l}(d.Je);d.rL=x}(te||(te={})),function(d){var O=function(){function x(h,l,s,a){this.zH=h,this.DH=l,this.nd=a,this.$G=s}return x.prototype.next=function(){var h=this.zH.next();return h==null?null:this.zC(h)},x.prototype.La=function(){return this.zH.La()},x.prototype.zC=function(h){var l=h.getType();if(d.aa.Rn(l))return h;if(l==197)return(l=new d.Da(h.description)).ad(h,!1),this.zC(l);if(h.B())return h;if(h==null)throw d.i.Qa();l=h.Ia();for(var s=new d.yb,a=0,u=h.da();a<u;a++)this.TK(h,a,l,s);return l},x.prototype.TK=function(h,l,s,a){if(!(2>h.Ja(l))){var u=h.Ba(l),p=h.Vc(l)-1,y=h.ub(0),m=h.dc(l),w=new d.ia(0);w.Jb(h.Ja(l)+1);var S=new d.ia(0);for(S.Jb(h.Ja(l)+1),w.add(m?u:p),w.add(u),u=new d.h;1<w.size;){var k=w.Fc();w.If();var I=w.Fc();h.D(k,u),a.Dc(u),h.D(I,u),a.Qc(u),0<=(I=this.SK(a,u,y,k,I,p))?(w.add(I),w.add(k)):S.add(k)}if(m||S.add(w.get(0)),S.size==w.size)s.addPath(h,l,!0);else if(2<=S.size&&(!this.$G||S.size!=2||!(m||d.h.tb(h.Na(S.get(0)),h.Na(S.get(1)))<=this.DH))){for(l=new d.Sa,a=0,p=S.size;a<p;a++)h.ve(S.get(a),l),a==0?s.nf(l):s.lineTo(l);m&&(this.$G||S.size!=2||s.lineTo(l),s.Ap())}}},x.prototype.SK=function(h,l,s,a,u,p){var y=u-1;for(u<=a&&(y=p),p=u=-1,a+=1;a<=y;a++){s.tc(2*a,l);var m=l.x,w=l.y;h.hc(h.fe(l,!1),l),l.x-=m,l.y-=w,(m=l.length())>this.DH&&m>p&&(u=a,p=m)}return u},x.prototype.qe=function(){},x}();d.sL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 29},h.prototype.V=function(l,s,a,u){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,u).next()):new d.sL(l,s,a,u)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.EC=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 21},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u,p,y,m,w){return l instanceof d.aa?(w=new d.Zc(l),this.V(w,s,a,[u],p,y,!1,m).next()):m===!0?(a=new d.GC(l,s,a,u,p,!1,!1,w),d.Gh.local().V(a,s,w)):new d.GC(l,s,a,u,p,!1,!1,w)},h.instance=null,h}(d.Je);d.FC=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u,p,y,m){if(p)throw d.i.Ie();if(l==null)throw d.i.N();this.ya=-1,this.Ms=h,this.vg=l,this.ze=s,this.Cs=a,this.$n=u,this.eo=-1,this.Ub=m,this.uT=new d.l,this.uT.Oa()}return x.prototype.next=function(){for(var h;(h=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(h,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.$Q=function(h,l){return d.VK.buffer(h,this.vg,this.ze,l,this.$n,this.Ub)},x.prototype.qe=function(){},x}();d.GC=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 24},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){if(s==null)throw d.i.N();if(l.B()||1>l.Db())return 0;if(a==4)throw d.i.Ie();var u=d.cb.sc(s),p=d.cb.vv(u),y=d.cb.ev(u);p*=2-p;var m=u.Hd().ai,w=l.getType();if(w==1736||w==197)var S=l.mg();else d.aa.yd(w)?(S=new d.Ta(l.description)).oc(l,!0):S=l;if(u.Nb(s)==0){if(d.cb.Wc(s)){S=d.Hh.lj(S,s),w==1607&&S==l&&(S=d.aa.jg(l)),l=new d.Nc,d.cb.gh(s).cn(l),w=0;for(var k=S.I();w<k;w++){var I=S.Na(w);I.x=d.Hh.Zm(I.x,l),S.Cb(w,I)}}l=S.Ia(),S=d.Hh.WI(s,u,S,l)?l:d.cb.zh(S,s,u)}return this.hQ(S,a,y,p,m)},h.prototype.hQ=function(l,s,a,u,p){var y=new d.ga(0),m=0;for(l=l.Ga();l.$a();)for(;l.Ha();){var w=l.ha(),S=w.ac();w=w.wc(),S.scale(p),w.scale(p),d.kb.wd(a,u,S.x,S.y,w.x,w.y,y,null,null,s),m+=y.u}return m},h.instance=null,h}(d.Je);d.vL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 18},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u,p){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,u,p).next()):new d.uL(l,a,u,s,-1,-1,p)},h.instance=null,h}(d.Je);d.tL=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u,p){if(0<p||s!=4&&0<u)throw d.i.Ie();if(l==null)throw d.i.N();this.ya=-1,this.Ms=h,this.vg=l,this.ze=s,this.DT=a,this.CT=u}return x.prototype.next=function(){for(var h;(h=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(h);return null},x.prototype.La=function(){return this.ya},x.prototype.Zy=function(h){return d.cj.Qr(h,this.vg,this.ze,this.DT,this.CT,this.Ub)},x.prototype.qe=function(){},x}();d.uL=O}(te||(te={})),function(d){(function(O){O[O.Unknown=0]="Unknown",O[O.Contains=1]="Contains",O[O.Within=2]="Within",O[O.Equals=3]="Equals",O[O.Disjoint=4]="Disjoint",O[O.Touches=8]="Touches",O[O.Crosses=16]="Crosses",O[O.Overlaps=32]="Overlaps",O[O.NoThisRelation=64]="NoThisRelation",O[O.Intersects=1073741824]="Intersects",O[O.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(d.cL||(d.cL={})),d.wL=function(){function O(){}return O.nW=function(x,h){var l=x.getType(),s=h.getType();if(d.aa.xj(l)){var a=x.Bb;if(a!=null&&(a=a.Fk)!=null){if(s==33){var u=h.D();a=a.So(u.x,u.y)}else u=new d.l,h.A(u),a=a.Ro(u);if(a==1)return 1;if(a==0)return 4}}if(d.aa.xj(s)&&(a=h.Bb)!=null&&(a=a.Fk)!=null){if(l==33?(x=x.D(),a=a.So(x.x,x.y)):(h=new d.l,x.A(h),a=a.Ro(h)),a==1)return 2;if(a==0)return 4}return 0},O}()}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.getType=function(){return 15},h.prototype.V=function(l,s,a,u,p){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,u,p===void 0?-1:p).next()):p===void 0?new d.HC(l,s,a,u,-1):new d.HC(l,s,a,u,p)},h.prototype.wn=function(l,s,a){this.Iu(l)&&(s=d.ta.kj(s,l,!1),l.fj(a)||l.lu(s,a))},h.prototype.Iu=function(l){return d.Nx.zE(l)},h.instance=null,h}(d.Je);d.Xj=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u){if(this.ts=l==null,this.ya=-1,this.Rd=h,this.vg=s,this.Se=l.next(),this.Dj=this.Se.getType(),this.Ub=a,this.Fi=u,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw d.i.N("bad dimension mask")}return x.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var h=this.zw.next();if(h!=null)return h;this.zw=null}for(;(h=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?h=this.Ea(h):(this.zw=this.PS(h),h=this.zw.next()),h;return null},x.prototype.La=function(){return this.ya},x.prototype.Ea=function(h){var l=this.zK(h);if(l!=null)return l;l=d.ta.mv(this.Se,h);var s=d.ta.Wd(this.vg,l,!0);l=new d.l,this.Se.A(l);var a=new d.l;return h.A(a),l.W(2*s,2*s),l.Ea(a),l.W(100*s,100*s),s=d.Ud.clip(this.Se,l,0,0),h=d.Ud.clip(h,l,0,0),d.Fg.Av(h,s,this.vg,this.Ub)},x.prototype.QI=function(h,l,s){var a=0;if(1&l)s[0]==null&&(s[0]=new d.de(h)),a++;else for(var u=0;u<s.length-1;u++)s[u]=s[u+1];if(2&l)s[a]==null&&(s[a]=new d.Ta(h)),a++;else for(u=a;u<s.length-1;u++)s[u]=s[u+1];if(4&l)s[a]==null&&(s[a]=new d.Da(h)),a++;else for(u=a;u<s.length-1;u++)s[u]=s[u+1];if(a!=3){for(h=[],u=0;u<a;u++)h[u]=s[u];return new d.Zc(h)}return new d.Zc(s)},x.prototype.PS=function(h){var l=this.zK(h);if(l!=null){var s=[null,null,null];return s[l.Db()]=l,this.QI(h.description,this.Fi,s)}l=d.ta.mv(this.Se,h),s=d.ta.Wd(this.vg,l,!0),l=new d.l,this.Se.A(l),l.W(2*s,2*s);var a=new d.l;return h.A(a),l.Ea(a),l.W(100*s,100*s),s=d.Ud.clip(this.Se,l,0,0),l=d.Ud.clip(h,l,0,0),s=d.Fg.Pz(l,s,this.vg,this.Ub),this.QI(h.description,this.Fi,s)},x.prototype.zK=function(h){var l=d.ta.mv(h,this.Se),s=d.ta.Wd(this.vg,l,!0);l=h.getType();var a=h.B(),u=this.Se.B();if(!(u=a||u)){u=new d.l,h.A(u);var p=new d.l;this.Se.A(p),p.W(2*s,2*s),u=!u.isIntersecting(p)}if(!u)if((p=d.wL.nW(this.Se,h))==4)u=!0;else{if(2&p)return this.Se;if(1&p)return h}if(u)return(s=d.aa.tf(l))<(u=d.aa.tf(this.Dj))?x.HB(h,a):s>u||s==0&&l==550&&this.Dj==33?this.nJ():x.HB(h,a);if((this.Fi==-1||this.Fi==4)&&l==197&&this.Dj==197)return s=this.Se,l=new d.l,h.A(l),a=new d.l,s.A(a),l.Ea(a),s=new d.Fh,h.copyTo(s),s.Xo(l),s;if(l==197&&d.aa.tf(this.Dj)==0||this.Dj==197&&d.aa.tf(l)==0)return a=l==197?h:this.Se,h=l==197?this.Se:h,l=new d.l,a.A(l),d.Ud.clip(h,l,s,0);if(d.aa.tf(l)==0&&0<d.aa.tf(this.Dj)||0<d.aa.tf(l)&&d.aa.tf(this.Dj)==0){if(s=d.ta.kj(this.vg,h,!1),l==550||l==33)return d.Fg.zG(h,this.Se,s);if(this.Dj==550||this.Dj==33)return d.Fg.zG(this.Se,h,s);throw d.i.Qa()}return this.Fi!=-1&&this.Fi!=2||l!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||l!=1736||this.Dj!=1607?null:this.wK(this.Se,h):this.wK(h,this.Se)},x.prototype.wK=function(h,l){var s=h,a=l,u=d.ta.kj(this.vg,l,!1),p=new d.l;a.A(p);var y=new d.l;s.A(y),y.W(2*u,2*u),p.Ea(y),p.W(10*u,10*u),s=h=d.Ud.clip(h,p,0,0),y=new d.ia(0);var m=-1,w=a.Bb;if(w!=null){var S=w.Fk;if(S!=null){m=0,y.Jb(s.I()+s.da());for(var k=new d.l,I=s.Ga();I.$a();)for(;I.Ha();){I.ha().A(k);var A=S.Ro(k);A==1?y.add(1):A==0?y.add(0):(y.add(-1),m++)}}}if(5<l.I()&&(w=(a=l=d.Ud.clip(l,p,0,0)).Bb),0>m&&(m=s.yz()),p=s.I()+a.I(),m*a.I()>Math.log(p)*p*4)return null;p=null,m=a.Ga(),w!=null&&w.Fb!=null&&(p=w.Fb),p==null&&20<a.I()&&(p=d.ta.nE(a)),h=h.Ia(),a=null,w=s.Ga(),S=[0,0,0,0,0,0,0,0,0],k=new d.be(0),I=new d.ig,A=-1;for(var L=0,D=0,U=0<y.size,X=-1;w.$a();){X=w.gb;var J=0;for(A=-1,L=0;w.Ha();){var B=U?d.O.truncate(y.get(D)):-1;D++;var Q=w.ha();if(0>B){if(p!=null)for(a==null?a=p.vR(Q,u):a.Uo(Q,u),B=a.next();B!=-1;B=a.next()){m.Vb(p.ja(B)),B=m.ha();var oe=Q.Ea(B,null,S,null,u);for(B=0;B<oe;B++)k.add(S[B])}else for(m.Zi();m.$a();)for(;m.Ha();)for(B=m.ha(),oe=Q.Ea(B,null,S,null,u),B=0;B<oe;B++)k.add(S[B]);if(0<k.size){k.Vd(0,k.size,function(Se,xe){return Se-xe});var se=0;k.add(1),oe=-1,B=0;for(var ye=k.size;B<ye;B++){var de=k.get(B);if(de!=se){var Me=!1;if(se!=0||de!=1?(Q.ah(se,de,I),se=I.get()):(se=Q,Me=!0),2<=J){if(h.Dr(s,X,A,L,J==3),this.QD(l,se.ac(),u)!=1&&this.RD(l,se,u)!=1)return null;h.oc(se,!1),J=1,L=0}else switch(oe=this.RD(l,se,u),oe){case 1:Me?2>J?(A=w.wb()-s.Ba(X),L=1,J=J==0?3:2):L++:(h.oc(se,J==0),J=1);break;case 0:J=0,A=-1,L=0;break;default:return null}se=de}}}else{if(0>(B=this.QD(l,Q.ac(),u)))return null;B==1?(2>J&&(A=w.wb()-s.Ba(X),J=J==0?3:2),L++):(A=-1,L=0)}k.clear(!1)}else B!=0&&B==1&&(J==0?(J=3,A=w.wb()-s.Ba(X)):J==1?(J=2,A=w.wb()-s.Ba(X)):L++)}2<=J&&(h.Dr(s,X,A,L,J==3),A=-1)}return h},x.prototype.QD=function(h,l,s){return d.Dg.wm(h,l,s)},x.prototype.RD=function(h,l,s){var a=l.ac();l=l.wc();var u=d.Dg.wm(h,a,s),p=d.Dg.wm(h,l,s);return u==1&&p==0||u==0&&p==1?-1:u==0||p==0?0:u==1||p==1?1:((u=new d.h).add(a,l),u.scale(.5),(h=d.Dg.wm(h,u,s))==0?0:h==1?1:-1)},x.HB=function(h,l){return l?h:h.Ia()},x.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},x.prototype.qe=function(){},x}();d.HC=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 28},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u,p,y,m){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,u,p,y,m).next()):new d.xL(l,s,a,u,p,y,m)},h.instance=null,h}(d.Je);d.IC=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a,u,p,y){this.ya=-1,this.Rd=h,this.Mj=l,this.Ka=s,this.Ki=a,this.CA=u,this.uH=p,this.nd=y}return x.prototype.next=function(){var h=this.Rd.next();return h!=null?(this.ya=this.Rd.La(),this.jL(h)):null},x.prototype.La=function(){return this.ya},x.prototype.jL=function(h){var l=0>=this.uH?d.ta.kj(this.Mj,h,!1):this.uH;return d.IK.V(h,this.Ka,this.Ki,this.CA,l,this.nd)},x.prototype.qe=function(){},x}();d.xL=O}(te||(te={})),function(d){var O;(O=d.NK||(d.NK={}))[O.clipToDomainOnly=1]="clipToDomainOnly",O[O.clipWithHorizon=2]="clipWithHorizon",O[O.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return ft(l,h),l.prototype.getType=function(){return 0},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,a,u){return s instanceof d.aa?(s=new d.Zc(s),this.V(s,a,u).next()):new d.yL(s,a,u)},l.prototype.transform=function(s,a,u,p){return d.bu.transform(s,a,u,p,!0)},l.prototype.Qt=function(s,a,u,p){return d.bu.Qt(s,a,u,p)},l.instance=null,l}(d.Je);d.Hx=x}(te||(te={})),function(d){var O=function(){function x(h,l,s){this.ya=-1,this.Rd=h,this.MT=l,this.nd=s}return x.prototype.next=function(){var h=this.Rd.next();return h!=null?(this.ya=this.Rd.La(),d.bu.zh(h,this.MT,this.nd)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.yL=O}(te||(te={})),function(d){var O=function(){function h(){}return h.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},h.prototype.AQ=function(l,s,a){for(l.Vb(s,a);l.Ha();){var u=l.ha();if((u=u.Qb())!=0)return l.wb()}for(l.Vb(s,a);l.Ez();)if((u=(u=l.li()).Qb())!=0)return l.wb();return-1},h.prototype.BQ=function(l,s){for(l.Vb(s,-1);l.Ez();)if(l.li().Qb()!=0)return l.wb();return-1},h.prototype.zQ=function(l,s){for(l.Vb(s,-1),l.ha();l.Ha();)if(l.ha().Qb()!=0)return l.wb();return-1},h.prototype.yQ=function(l,s,a,u){if(this.xk=this.AQ(s,a,u),this.xk!=-1){s.Vb(this.xk,-1);var p=s.ha(),y=p.hc(p.fe(l,!1));if(a=d.h.yc(y,l),(u=new d.h).L(y),u.sub(p.ac()),(y=new d.h).L(l),y.sub(p.ac()),this.kq=0>u.wi(y),this.ph=this.zQ(s,this.xk),this.ph!=-1){s.Vb(this.ph,-1);var m=(p=s.ha()).fe(l,!1);m=p.hc(m);var w=d.h.yc(m,l);w>a?this.ph=-1:(u.L(m),u.sub(p.ac()),y.L(l),y.sub(p.ac()),this.us=0>u.wi(y))}this.ph==-1&&(this.ph=this.BQ(s,this.xk),this.ph!=-1&&(s.Vb(this.ph,-1),m=(p=s.ha()).fe(l,!1),m=p.hc(m),(w=d.h.yc(m,l))>a?this.ph=-1:(u.L(m),u.sub(p.ac()),y.L(l),y.sub(p.ac()),this.us=0>u.wi(y),l=this.xk,this.xk=this.ph,this.ph=l,l=this.kq,this.kq=this.us,this.us=l)))}},h.prototype.cO=function(l,s,a,u,p){return a=a.Ga(),this.yQ(l,a,u,p),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(a.Vb(this.xk,-1),l=a.ha().kg(),a.Vb(this.ph,-1),s=a.ha().kg(),0<=l.wi(s)):s},h}(),x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return ft(l,h),l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 3},l.prototype.nz=function(s,a,u){var p;if(p===void 0&&(p=!1),s.B())return new d.$l;a=a.D();var y=s,m=s.getType();switch(m==197&&((y=new d.Da).ad(s,!1),m=1736),m){case 33:return this.xI(y,a);case 550:return this.jI(y,a);case 1607:case 1736:return this.bU(y,a,u,p);default:throw d.i.fa("not implemented")}},l.prototype.oz=function(s,a){if(s.B())return new d.$l;a=a.D();var u=s,p=s.getType();switch(p==197&&((u=new d.Da).ad(s,!1),p=1736),p){case 33:return this.xI(u,a);case 550:case 1607:case 1736:return this.jI(u,a);default:throw d.i.fa("not implemented")}},l.prototype.pz=function(s,a,u,p){if(0>p)throw d.i.N();if(s.B())return[];a=a.D();var y=s,m=s.getType();switch(m==197&&((y=new d.Da).ad(s,!1),m=1736),m){case 33:return this.TU(y,a,u,p);case 550:case 1607:case 1736:return this.tU(y,a,u,p);default:throw d.i.fa("not implemented")}},l.prototype.bU=function(s,a,u,p){if(s.getType()==1736&&u&&(u=new d.l,s.A(u),u=d.ta.Wd(null,u,!1),(p?d.hd.Yd(s,a,0):d.hd.Yd(s,a,u))!=0)){var y=new d.$l(a,0,0);return p&&y.WJ(!0),y}var m=s.Ga();y=new d.h;for(var w=u=-1,S=17976931348623157e292,k=0;m.$a();)for(;m.Ha();){var I=m.ha();I=I.hc(I.fe(a,!1));var A=d.h.yc(I,a);A<S?(k=1,y=I,u=m.wb(),w=m.gb,S=A):A==S&&k++}return y=new d.$l(y,u,Math.sqrt(S)),p&&(m.Vb(u,w),I=m.ha(),p=0>d.h.Uq(a,I.ac(),I.wc()),1<k&&((k=new O).reset(),p=k.cO(a,p,s,u,w)),y.WJ(p)),y},l.prototype.xI=function(s,a){return s=s.D(),a=d.h.tb(s,a),new d.$l(s,0,a)},l.prototype.jI=function(s,a){for(var u=s.ub(0),p=s.I(),y=s=0,m=0,w=17976931348623157e292,S=0;S<p;S++){var k=new d.h;u.tc(2*S,k);var I=d.h.yc(k,a);I<w&&(y=k.x,m=k.y,s=S,w=I)}return(a=new d.$l).ey(y,m,s,Math.sqrt(w)),a},l.prototype.TU=function(s,a,u,p){return p==0?[]:(u*=u,s=s.D(),(a=d.h.yc(s,a))<=u?(u=[],(p=new d.$l).ey(s.x,s.y,0,Math.sqrt(a)),u[0]=p):u=[],u)},l.prototype.tU=function(s,a,u,p){if(p==0)return[];var y=s.ub(0),m=s.I();s=[],u*=u;for(var w=0;w<m;w++){var S=y.read(2*w),k=y.read(2*w+1),I=a.x-S,A=a.y-k;(I=I*I+A*A)<=u&&((A=new d.$l).ey(S,k,w,Math.sqrt(I)),s.push(A))}return a=s.length,s.sort(function(L,D){return L.Ka<D.Ka?-1:L.Ka==D.Ka?0:1}),p>=a||(s.length=p),s.slice(0)},l.instance=null,l}(d.Je);d.Ix=x}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 4},h.prototype.V=function(l,s,a,u,p){return d.am.yB(l,s,a,u,p)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.Iu=function(l){return d.Vt.wy(l)},h.prototype.wn=function(l,s,a){d.Vt.CD(l,s,a)},h.instance=null,h}(d.Je);d.zL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 33},h.prototype.V=function(l,s,a,u,p){return l===1073741824?!d.ud.zB(s,a,u,4,p):d.ud.zB(s,a,u,l,p)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.Iu=function(l){return d.Vt.wy(l)},h.prototype.wn=function(l,s,a){d.Vt.CD(l,s,a)},h.instance=null,h}(d.Je);d.dj=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a){if(this.nd=a,this.rT=s,this.ya=-1,h==null)throw d.i.N();this.yk=h,this.Mj=l}return x.prototype.next=function(){var h;if((h=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw d.i.fu("user_canceled");return this.eC(h)}return null},x.prototype.La=function(){return this.ya},x.prototype.eC=function(h){if(h==null)throw d.i.N();return d.Jx.cK(h,this.Mj,this.rT,this.nd)},x.prototype.qe=function(){},x}();d.AL=O}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 26},h.prototype.V=function(l,s,a,u){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,u).next()):new d.AL(l,s,a,u)},h.prototype.rs=function(l,s,a,u,p){return 0<(u!==void 0?d.Jx.rs(l,s,a,u,p):d.Jx.rs(l,s,!1,null,a))},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.Yl=O}(te||(te={})),function(d){var O=function(){function p(){this.yq=0}return p.prototype.nX=function(y){this.yq&=-2,this.yq|=y?1:0},p.prototype.Wp=function(){return!!(1&this.yq)},p.prototype.XF=function(){return this.Wp()?0:1},p}();d.xY=O;var x=function(){},h=function(p,y,m,w){this.x=p,this.y=y,this.Ai=m,this.xm=w},l=function(){function p(y){this.Be=y}return p.prototype.compare=function(y,m,w){return y=y.ja(w),m=this.Be.lf.read(2*m),0>(m-=y=this.Be.lf.read(2*y))?-1:0<m?1:0},p}(),s=function(){function p(y){this.Be=y}return p.prototype.compare=function(y,m,w){m=this.Be.hb[m],y=this.Be.hb[y.ja(w)];var S=m.Wp(),k=y.Wp();w=m.ne.Pe(this.Be.Mo,0);var I=y.ne.Pe(this.Be.Mo,0);return w==I&&((S=.5*((w=Math.min(S?m.ne.na:m.ne.la,k?y.ne.na:y.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(S=w),w=m.ne.Pe(S,0),I=y.ne.Pe(S,0)),w<I?-1:w>I?1:0},p}(),a=function(){function p(y,m){this.YI=new d.h,this.parent=y,this.dS=m}return p.prototype.nr=function(y,m,w){var S=this.parent,k=this.dS;w.Vd(y,m,function(I,A){return S.Mh(I,A,k)})},p.prototype.$p=function(y){return y=this.parent.gi.get(y),this.parent.lf.tc(2*(y>>1),this.YI),this.YI.y+(1&y?this.parent.Oj:-this.parent.Oj)},p}(),u=function(){function p(y,m,w,S,k){this.nH=y.description,this.X=y,this.Qg=m,this.Oj=d.ta.kj(this.Qg,y,!1),this.Bo=d.ta.kj(this.Qg,y,!0),this.xA=w,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new d.jp,this.fb=new d.Yj,this.ke=new d.Md,this.ZG=this.ql=k}return p.prototype.eT=function(){return this.ZG=!0,(!d.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?d.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},p.prototype.kC=function(y,m){var w=this.lf.read(2*y);y=this.lf.read(2*y+1);var S=this.lf.read(2*m);m=this.lf.read(2*m+1);var k=!d.Yt.Cv(w,y,S,m,this.Oj*this.Oj);return k||this.X.Db()!=0&&w==S&&y==m},p.prototype.GE=function(){for(var y=this.X,m=y.xf?3:2,w=0,S=y.da();w<S;w++)if(y.Ja(w)<m)return this.ke=new d.Md(1,w,0),!1;return!0},p.prototype.DE=function(y){var m=this.X,w=m.Ga(),S=m.hasAttribute(1);for(m=S?d.ta.wE(this.Qg,m,!1):0;w.$a();)for(;w.Ha();){var k=w.ha();if(!(k.Qb()>this.Oj)){if(y&&S){var I=k.wv(1,0);if(k=k.wv(1,0),Math.abs(k-I)>m)continue}return this.ke=new d.Md(2,w.wb(),-1),!1}}return!0},p.prototype.mO=function(){var y=this.X,m=null;d.aa.Hc(this.X.getType())&&(m=this.X);var w=(this.ZG||this.ql)&&m!=null,S=y.I();this.lf=y.ub(0),this.gi=new d.ia(0),this.gi.Jb(2*S),this.fi=new d.ia(0),this.fi.Jb(2*S),w&&(this.Fl==null&&(this.Fl=new d.ia(0)),this.Fl.Jb(S));for(var k=y=0;k<S;k++)if(this.gi.add(2*k),this.gi.add(2*k+1),this.fi.add(2*k),this.fi.add(2*k+1),w){for(;k>=m.Vc(y);)y++;this.Fl.add(y)}for(new d.Xt().sort(this.fi,0,2*S,new a(this,w)),this.fb.clear(),this.fb.Vo(new l(this)),this.fb.De(S),m=0,S*=2;m<S;m++)if(w=this.fi.get(m),w=(y=this.gi.get(w))>>1,1&y){if(y=this.fb.search(w,-1),k=this.fb.we(y),I=this.fb.lb(y),this.fb.vd(y,-1),k!=-1&&I!=-1&&!this.kC(this.fb.ja(k),this.fb.ja(I)))return this.ke=new d.Md(3,this.fb.ja(k),this.fb.ja(I)),!1}else{if(y=this.fb.addElement(w,-1),(k=this.fb.we(y))!=-1&&!this.kC(this.fb.ja(k),w))return this.ke=new d.Md(3,w,this.fb.ja(k)),!1;var I=this.fb.lb(y);if(I!=-1&&!this.kC(this.fb.ja(I),w))return this.ke=new d.Md(3,w,this.fb.ja(I)),!1}return!0},p.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},p.prototype.oO=function(){var y=new d.gd;y.Ib(this.X);var m=new d.Md;return!d.$t.kI(!1,y,this.Oj,m,this.nd)||(m.Jo=y.Ua(m.Jo),m.Ko=y.Ua(m.Ko),this.ke.Wt(m),!1)},p.prototype.nO=function(){var y=this.X,m=y.Ga();for(y=y.Ga();m.$a();)for(;m.Ha();){var w=m.ha();if(!m.Qn()||!m.$S()){y.BW(m);do for(;y.Ha();){var S=y.ha();if((S=w.zr(S,this.Oj,!0))!=0)return this.ke=new d.Md(S==2?5:4,m.wb(),y.wb()),!1}while(y.$a())}}return!0},p.prototype.sO=function(){var y=this.X;this.hb.length=0,this.po.length=0,this.Zf=y.Ga(),this.Zf.JB();var m=new d.ia(0);m.Jb(10);var w=NaN,S=0,k=0;for(y=2*y.I();k<y;k++){var I=this.fi.get(k);if(!(1&(I=this.gi.get(I)))){I>>=1;var A=this.lf.read(2*I),L=this.lf.read(2*I+1);if(m.size!=0&&(A!=w||L!=S)){if(!this.RI(m))return!1;m!=null&&m.clear(!1)}m.add(I),w=A,S=L}}return!!this.RI(m)},p.prototype.rO=function(){for(var y=this.X,m=Array(y.da()),w=0,S=y.da();w<S;w++)m[w]=y.Nn(w);S=new x;var k=new d.h;w=this.fi.get(0);var I=(w=this.gi.get(w))>>1;this.lf.tc(2*I,k);var A=m[w=this.Fl.get(I)],L=y.Ba(w),D=y.Vc(w)-1;S.el=I==L||I==D,S.ny=this.ql?!A&&S.el:S.el,S.Ai=w,S.x=k.x,S.y=k.y,S.xm=I;for(var U=new x,X=1,J=this.fi.size;X<J;X++)if(w=this.fi.get(X),!(1&(w=this.gi.get(w)))){I=w>>1,this.lf.tc(2*I,k),(w=this.Fl.get(I))!=S.Ai&&(A=m[w],L=y.Ba(w),D=y.Vc(w)-1);var B=I==L||I==D,Q=this.ql?!A&&S.el:S.el;if(U.x=k.x,U.y=k.y,U.Ai=w,U.xm=I,U.ny=Q,U.el=B,U.x==S.x&&U.y==S.y){if(this.ql){if(!(U.ny&&S.ny||U.Ai==S.Ai&&(U.el||S.el)))return this.ke=new d.Md(8,U.xm,S.xm),!1}else if(!U.el||!S.el)return this.ke=new d.Md(5,U.xm,S.xm),!1}w=S,S=U,U=w}return!0},p.prototype.JE=function(){for(var y=this.X,m=[],w=-1,S=!1,k=0,I=y.da();k<I;k++)y.Ev(k)&&(S=!1,w++,k<I-1&&(y.Ev(k+1)||(S=!0))),m[k]=S?w:-1;S=new d.h,k=this.fi.get(0);var A=(k=this.gi.get(k))>>1;this.lf.tc(2*A,S),k=this.Fl.get(A),w=new h(S.x,S.y,k,A,m[k]),y=[];var L=1;for(I=this.fi.size;L<I;L++)if(k=this.fi.get(L),!(1&(k=this.gi.get(k)))){if(A=k>>1,this.lf.tc(2*A,S),k=this.Fl.get(A),(k=new h(S.x,S.y,k,A,m[k])).x==w.x&&k.y==w.y){if(k.Ai==w.Ai)return this.ke=new d.Md(9,k.xm,w.xm),!1;0<=m[k.Ai]&&m[k.Ai]==m[w.Ai]&&(y.length!=0&&y[y.length-1]==w||y.push(w),y.push(k))}w=k}if(y.length==0)return!0;for(k=new d.jp(!0),d.O.$u(m,-1),S=-1,(L=new d.h).Rc(),w=0,I=y.length;w<I;w++){(A=y[w]).x==L.x&&A.y==L.y||(S=k.Ph(0),L.x=A.x,L.y=A.y);var D=m[A.Ai];D==-1&&(D=k.Ph(2),m[A.Ai]=D),k.addElement(D,S),k.addElement(S,D)}for((I=new d.ia(0)).Jb(10),w=k.je;w!=-1;w=k.qz(w))if(!(1&(y=k.PF(w)))&&2&y){for(y=-1,I.add(w),I.add(-1);0<I.size;){if(S=I.Fc(),I.If(),L=I.Fc(),I.If(),1&(A=k.PF(L))){y=2&A?L:S;break}for(k.fX(L,1|A),A=k.rc(L);A!=-1;A=k.lb(A))(D=k.getData(A))!=S&&(I.add(D),I.add(L))}if(y!=-1){for(k=-1,w=0,I=m.length;w<I;w++)if(m[w]==y){k=w;break}return this.ke=new d.Md(10,k,-1),!1}}return!0},p.prototype.tO=function(){var y=this.X;if(0>=y.Ke())return this.ke=new d.Md(6,y.da()==1?1:-1,-1),0;if(y.da()==1)return this.ql&&!this.JE()?0:2;this.to=d.ia.qf(y.da(),0),this.JA=d.ia.qf(y.da(),-1);for(var m=-1,w=0,S=0,k=y.da();S<k;S++){var I=y.Ir(S);if(this.to.write(S,0>I?0:256),0<I)m=S,w=I;else{if(I==0)return this.ke=new d.Md(6,S,-1),0;if((0>m||w<Math.abs(I))&&(this.ke=new d.Md(7,S,-1),this.ql))return 0;this.JA.write(S,m)}}for(this.dt=y.da(),this.Om=new d.ia(0),this.Om.Jb(10),k=y.I(),this.Mo=NaN,(y=new d.ia(0)).Jb(10),this.Qq=d.ia.qf(k,-1),this.Hw=d.ia.qf(k,-1),this.zj!=null?this.zj.clear(!1):this.zj=new d.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new s(this)),m=0,k*=2;0<this.dt&&m<k;m++)if(w=this.fi.get(m),!(1&(w=this.gi.get(w)))){if(w>>=1,(S=this.lf.read(2*w+1))!=this.Mo&&y.size!=0){if(!this.ut(y))return 0;y!=null&&y.clear(!1)}y.add(w),this.Mo=S}return 0<this.dt&&!this.ut(y)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},p.prototype.RI=function(y){if(y.size==1)return!0;for(var m=0,w=y.size;m<w;m++){var S=y.get(m);this.Zf.Vb(S);var k=this.Zf.li();this.hb.push(this.Su(k,S,this.Zf.gb,!0)),this.Zf.ha(),k=this.Zf.ha(),this.hb.push(this.Su(k,S,this.Zf.gb,!1))}var I=this;for(this.hb.sort(function(D,U){return I.XP(D,U)}),(S=this.mh.je)==-1&&(S=this.mh.Ph(0)),this.mh.fn(this.hb.length),m=0,w=this.hb.length;m<w;m++)this.mh.addElement(S,m);m=!0;for(var A=w=-1;m&&(m=!1,(k=this.mh.rc(S))!=-1);)for(var L=this.mh.lb(k);L!=-1;)if(w=this.mh.getData(k),A=this.mh.getData(L),(w=this.hb[w].Io)!=(A=this.hb[A].Io))k=L,L=this.mh.lb(k);else if(m=!0,this.mh.jd(S,k),k=this.mh.we(L),(L=this.mh.jd(S,L))==-1||k==-1)break;if(m=this.mh.bs(S),this.mh.LE(S),0<m)return this.ke=new d.Md(5,w,A),!1;for(m=0,w=y.size;m<w;m++)this.vB(this.hb[m]);return this.hb.length=0,!0},p.prototype.ut=function(y){for(var m=0,w=y.size;m<w;m++){var S=y.get(m),k=this.Qq.read(S);if(k!=-1){var I=this.fb.ja(k);this.zj.add(I),this.fb.vd(k,-1),this.vB(this.hb[I]),this.hb[I]=null,this.Qq.write(S,-1)}(k=this.Hw.read(S))!=-1&&(I=this.fb.ja(k),this.zj.add(I),this.fb.vd(k,-1),this.vB(this.hb[I]),this.hb[I]=null,this.Hw.write(S,-1))}for(m=0,w=y.size;m<w;m++){if(S=y.get(m),this.Zf.Vb(S),(k=this.Zf.li()).na>k.la){var A=this.Zf.wb(),L=this.Su(k,S,this.Zf.gb,!0);0<this.zj.size?(I=this.zj.Fc(),this.zj.If(),this.hb[I]=L):(I=this.hb.length,this.hb.push(L)),k=this.fb.addElement(I,-1),this.Qq.read(A)==-1?this.Qq.write(A,k):this.Hw.write(A,k),!(3&this.to.read(this.Zf.gb))&&this.Om.add(k)}this.Zf.ha(),(k=this.Zf.ha()).na<k.la&&(A=this.Zf.ik(),L=this.Su(k,S,this.Zf.gb,!1),0<this.zj.size?(I=this.zj.Fc(),this.zj.If(),this.hb[I]=L):(I=this.hb.length,this.hb.push(L)),k=this.fb.addElement(I,-1),this.Qq.read(A)==-1?this.Qq.write(A,k):this.Hw.write(A,k),!(3&this.to.read(this.Zf.gb))&&this.Om.add(k))}for(m=0,w=this.Om.size;m<w&&0<this.dt;m++)if(k=this.Om.get(m),!(3&this.to.read(this.hb[this.fb.ja(k)].IA))){y=-1,S=this.fb.we(k);var D=k;L=null,I=-1;for(var U=0;S!=-1&&(I=this.fb.ja(S),I=(L=this.hb[I]).IA,!(3&(U=this.to.read(I))));)D=S,S=this.fb.we(S);S==-1?(A=1,S=D):(y=(3&U)==1?I:this.JA.read(I),A=L.XF()!=0?0:1,S=this.fb.lb(S));do{if(I=this.fb.ja(S),I=(L=this.hb[I]).IA,!(3&(D=this.to.read(I)))){if(A!=L.XF())return this.ke=new d.Md(6,I,-1),!1;if(D=252&D|(U=A==0||L.Wp()?2:1),this.to.write(I,U),U==2&&this.ke.Jj==0&&this.JA.read(I)!=y&&(this.ke=new d.Md(7,I,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&D)==1&&(y=I),D=S,S=this.fb.lb(S),A=A!=0?0:1}while(D!=k)}return this.Om!=null?this.Om.clear(!1):this.Om=new d.ia(0),!0},p.prototype.Su=function(y,m,w,S){if(y.getType()!=322)throw d.i.Qa();return(y=this.sP(y)).Io=m,y.IA=w,y.yq=0,y.nX(S),y},p.prototype.sP=function(y){if(0<this.po.length){var m=this.po[this.po.length-1];--this.po.length,y.copyTo(m.ne)}else(m=new O).ne=d.SC.jg(y);return m},p.prototype.vB=function(y){y.ne.getType()==322&&this.po.push(y)},p.prototype.kU=function(){for(var y=this.X.I(),m=new d.ia(0),w=0;w<y;w++)m.add(w);var S=this;for(m.Vd(0,y,function(k,I){return S.Ou(k,I)}),w=1;w<y;w++)if(this.Ou(m.get(w-1),m.get(w))==0)return this.ke=new d.Md(3,m.get(w-1),m.get(w)),0;return 2},p.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},p.prototype.oV=function(){return this.eT()},p.prototype.pU=function(){for(var y=this.X.I(),m=new d.ia(0),w=0;w<y;w++)m.add(w);var S=this;m.Vd(0,y,function(D,U){return S.PO(D,U)});var k=Array(y);for(d.O.$u(k,!1),k[m.get(0)]=!0,w=1;w<y;w++){var I=m.get(w-1),A=m.get(w);this.Ou(I,A)==0?k[A]=!1:k[A]=!0}m=this.X.Ia(),I=this.X,A=0;var L=1;for(w=0;w<y;w++)k[w]?L=w+1:(A<L&&m.Fd(I,A,L),A=w+1);return A<L&&m.Fd(I,A,L),m.Ch(2,this.Bo),m},p.prototype.NV=function(){var y=this.X,m=y.Ga(),w=y.Ga(),S=this.X.Ia(),k=this.X,I=y.hasAttribute(1),A=I?d.ta.wE(this.Qg,y,!0):0,L=new d.ia(0),D=new d.ia(0);for(L.Jb(d.O.truncate(y.I()/2+1)),D.Jb(d.O.truncate(y.I()/2+1));m.$a();)if(w.$a(),!(2>y.Ja(m.gb))){w.EW();for(var U,X,J=!0;m.Ha();){var B=m.ha(),Q=w.li();if(m.wb()>w.wb())break;J&&(L.add(m.wb()),D.add(w.ik()),J=!1),X=L.Fc();var oe=m.ik();if(1<oe-X){var se=new d.h;se.uc(y.Na(X),y.Na(oe)),U=se.length()}else U=B.Qb();X=D.Fc(),1<(oe=w.wb())-X?((se=new d.h).uc(y.Na(X),y.Na(oe)),X=se.length()):X=Q.Qb(),U>this.Bo?L.add(m.ik()):I&&(U=y.Uc(1,L.Fc(),0),B=B.gv(1,0),Math.abs(B-U)>A&&L.add(m.ik())),X>this.Bo?D.add(w.wb()):I&&(U=y.Uc(1,D.Fc(),0),B=Q.gv(1,0),Math.abs(B-U)>A&&D.add(w.wb()))}if(L.Fc()<D.Fc()?L.size>D.size?L.If():D.If():(L.Fc()!=D.Fc()&&D.If(),D.If()),2<=D.size+L.size){for(J=new d.Sa,Q=0,B=L.size;Q<B;Q++)k.ve(L.get(Q),J),Q==0?S.nf(J):S.lineTo(J);for(Q=D.size-1;0<Q;Q--)k.ve(D.get(Q),J),S.lineTo(J);k.dc(m.gb)?S.Ap():0<D.size&&(k.ve(D.get(0),J),S.lineTo(J))}L!=null&&L.clear(!1),D!=null&&D.clear(!1)}return S.Ch(2,this.Bo),S},p.prototype.rV=function(){return this.DX()},p.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?d.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new d.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&d.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&d.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},p.rs=function(y,m,w,S,k){if(S!=null&&(S.Jj=0,S.Jo=-1,S.Ko=-1),y.B())return 1;var I=y.getType();if(I==33)return 1;var A=d.ta.kj(m,y,!1);if(I==197)return m=new d.l,y.A(m),m.Bi(A)?(S!=null&&(S.Jj=2,S.Jo=-1,S.Ko=-1),0):1;if(d.aa.yd(I))return(A=new d.Ta(y.description)).oc(y,!0),p.rs(A,m,w,S,k);var L=y.om(A);if((w=w?-1:L)!=-1)return w;if(m=new p(y,m,w,k,!1),I==550)w=m.kU();else if(I==1607)w=m.JV();else{if(I!=1736)throw d.i.Qa();w=m.oV()}return y.Ch(w,A),S!=null&&w==0&&S.Wt(m.ke),w},p.cK=function(y,m,w,S){if(y.B())return y;var k=y.getType();if(k==33)return y;var I=d.ta.kj(m,y,!1);if(k==197)return m=new d.l,y.A(m),m.Bi(I)?y.Ia():y;if(d.aa.yd(k))return(k=new d.Ta(y.description)).oc(y,!0),p.cK(k,m,w,S);if(I=y.om(I),(w=w?-1:I)==2)return y;if(y=new p(y,m,w,S,!1),k==550)y=y.pU();else if(k==1607)y=y.NV();else{if(k!=1736)throw d.i.Qa();y=y.rV()}return y},p.prototype.Mh=function(y,m,w){if(y==m)return 0;y=this.gi.get(y);var S=this.gi.get(m);m=y>>1;var k=S>>1,I=new d.h,A=new d.h;return this.lf.tc(2*m,I),I.y+=1&y?this.Oj:-this.Oj,this.lf.tc(2*k,A),A.y+=1&S?this.Oj:-this.Oj,(y=I.compare(A))==0&&w?0>(w=this.Fl.get(m)-this.Fl.get(k))?-1:0<w?1:0:y},p.prototype.Ou=function(y,m){if(y==m)return 0;var w=this.X,S=w.Na(y),k=w.Na(m);if(S.x<k.x)return-1;if(S.x>k.x)return 1;if(S.y<k.y)return-1;if(S.y>k.y)return 1;for(S=1;S<this.oT;S++){k=this.nH.kd(S);for(var I=d.ra.Va(k),A=0;A<I;A++){var L=w.Uc(k,y,A),D=w.Uc(k,m,A);if(L<D)return-1;if(L>D)return 1}}return 0},p.prototype.PO=function(y,m){var w=this.Ou(y,m);return w==0?y<m?-1:1:w},p.prototype.XP=function(y,m){if(y===m)return 0;var w=y.ne.kg();y.Wp()&&w.Sq(),y=m.ne.kg(),m.Wp()&&y.Sq(),m=w.qu();var S=y.qu();return S==m?(m=w.wi(y),Math.abs(m)<=8881784197001252e-31*(Math.abs(y.x*w.y)+Math.abs(y.y*w.x))&&(m--,m++),0>m?1:0<m?-1:0):m<S?-1:1},p}();d.Jx=u}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 30},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,u){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,u).next()):new d.BL(l,s,a,u)},h.ep=function(l,s,a,u){var p=l.Db(),y=s.Db();if(l.B()&&s.B())return p>y?l:s;if(l.B())return s;if(s.B())return l;var m=new d.l,w=new d.l,S=new d.l;return l.A(m),s.A(w),S.K(m),S.Zb(w),m=d.ta.Wd(a,S,!0),w=l.getType(),S=s.getType(),w==33&&S==33?h.aV(l,s,m):w!=S?0<p||0<y?p>y?l:s:w==550?h.iI(l,s,m):h.iI(s,l,m):d.Fg.ep(l,s,a,u)},h.aV=function(l,s,a){a=a*Math.sqrt(2)*1.00001,a*=a;var u=l.D(),p=s.D(),y=new d.de(l.description);return d.h.yc(u,p)>a&&(y.add(l),y.add(s)),y},h.iI=function(l,s,a){var u=l.ub(0),p=l.I(),y=s.D(),m=l.Ia();a=a*Math.sqrt(2)*1.00001;var w=new d.l;if(l.A(w),w.W(a,a),w.contains(y)){a*=a,w=!1;for(var S=[],k=0;k<p;k++)S[k]=!1;for(k=0;k<p;k++){var I=u.read(2*k),A=u.read(2*k+1);(I-=y.x)*I+(A-=y.y)*A<=a&&(w=!0,S[k]=!0)}if(w)for(k=0;k<p;k++)S[k]||m.Fd(l,k,k+1);else m.Fd(l,0,p),m.add(s)}else m.Fd(l,0,p),m.add(s);return m},h.instance=null,h}(d.Je);d.Kx=O}(te||(te={})),function(d){var O=function(){function x(h,l,s,a){this.ts=l==null,this.ya=-1,this.Rd=h,this.vg=s,this.NT=l.next(),this.Ub=a}return x.prototype.next=function(){return this.ts?null:(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),d.Kx.ep(h,this.NT,this.vg,this.Ub)):null;var h},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.BL=O}(te||(te={})),function(d){var O=function(){function l(){}return l.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},l}(),x=function(){function l(){this.Gr=0,this.pj=[]}return l.prototype.pN=function(s){this.Gr+=s.Ax,this.pj.push(s)},l.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},l.prototype.my=function(){return this.pj[this.pj.length-1]},l.prototype.Nb=function(s){return s===this},l}(),h=function(){function l(s,a,u){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=s,this.vg=a,this.Ub=u}return l.dE=function(s){var a=[],u=0;for(s=Object.keys(s);u<s.length;u++)a.push(Number(s[u]));return a.sort(function(p,y){return p-y}),a},l.prototype.fG=function(s){var a=this.Do[s],u=l.dE(a)[0],p=a[u],y=p.my().$y;return p=p.my().AK,delete a[u],p&&(y=d.Yl.local().V(y,this.vg,!1,this.Ub),s==0&&y.getType()==33&&(s=new d.de(y.description),y.B()||s.add(y),y=s)),y},l.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw d.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},l.prototype.La=function(){return this.ya},l.prototype.qK=function(){if(this.Ic)return!0;var s=null;if(this.Rd!=null&&(s=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),d.mp.zp(this.Ub),s!=null){var a=s.Db();this.AH[a]=!0,a>=this.zk&&!this.jA&&(this.ND(a,!1,s),a>this.zk&&!this.jA&&this.zW(a))}if(0<this.iq)for(a=0;a<=this.zk;a++)for(;1<this.uq[a]&&(s=this.FO(a)).length!=0;)s=d.Fg.VP(s,this.vg,this.Ub),this.ND(a,!0,s);return this.Ic},l.prototype.FO=function(s){for(var a=[],u=[],p=this.Do[s],y=l.dE(p),m=0;m<y.length;m++){var w=y[m],S=p[w];if(this.Ic||1e4<S.Gr&&1<S.pj.length){for(this.uq[s]-=S.pj.length,this.iq-=S.pj.length;0<S.pj.length;)a.push(S.my().$y),S.TV();u.push(w)}}for(m=0;m<u.length;m++)delete p[u[m]];return a},l.prototype.zW=function(s){for(var a=0;a<s;a++)this.Do[a]=[],this.iq-=this.uq[a],this.uq[a]=0},l.prototype.ND=function(s,a,u){var p=new O;if(p.Fz(),p.$y=u,u=l.eS(u),p.Ax=u,u=l.cS(u),s+1>this.Do.length)for(var y=0,m=Math.max(2,s+1);y<m;y++)this.Do.push([]);(y=this.Do[s][u])===void 0&&(y=new x,this.Do[s][u]=y),p.AK=a,y.pN(p),this.uq[s]++,this.iq++,this.zk=Math.max(this.zk,s)},l.cS=function(s){return 0<s?d.O.truncate(Math.log(s)/Math.log(4)+.5):0},l.eS=function(s){var a=s.getType();if(d.aa.xj(a))return s.I();if(a==33)return 1;if(a==197)return 4;if(d.aa.yd(a))return 2;throw d.i.Qa()},l.prototype.qe=function(){this.qK()},l}();d.DL=h}(te||(te={})),function(d){var O=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return ft(h,x),h.prototype.getType=function(){return 1},h.prototype.V=function(l,s,a,u){return u===void 0?new d.DL(l,s,a):this.gQ(l,s,a,u)},h.prototype.gQ=function(l,s,a,u){return l=new d.Zc([l,s]),this.V(l,a,u).next()},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.Gh=O}(te||(te={})),function(d){var O,x;(x=O||(O={}))[x.nextPath=0]="nextPath",x[x.nextSegment=1]="nextSegment",x[x.iterate=2]="iterate",O=function(){function h(l,s,a,u){this.Ts=new d.l,this.GT=l,this.HT=s,this.mq=u,this.uo=-1,this.rl=!1;var p=l.Bb;p!=null&&(p=u?p.zo:p.Fb)!=null&&(this.Ic=!1,this.qa=a,this.Fb=p,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,u?this.uo=s.da():this.sd=s.Ga()),this.rl||(p=s.Bb)!=null&&(p=u?p.zo:p.Fb)!=null&&(this.Ic=!1,this.qa=a,this.Fb=p,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,u?this.uo=l.da():this.sd=l.Ga()),this.rl||(this.ci=u?d.ta.mR(l,s,a,1<=l.om(0),1<=s.om(0)):d.ta.lR(l,s,a))}return h.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var l=!0;l;)switch(this.Xb){case 0:l=this.xU();break;case 1:l=this.yU();break;case 2:l=this.Uz();break;default:throw d.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},h.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},h.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},h.prototype.uz=function(){if(!this.mq)throw d.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},h.prototype.az=function(){if(!this.mq)throw d.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},h.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},h.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var l=this.sd.ha();return this.xw.Uo(l,this.qa),this.Xb=2,!0},h.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},h}(),d.Zl=O}(te||(te={})),function(d){(d=d.OL||(d.OL={}))[d.enumClosed=1]="enumClosed",d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",d[d.enumOGCStartPolygon=4]="enumOGCStartPolygon",d[d.enumCalcMask=4]="enumCalcMask"}(te||(te={})),function(d){d.QC=function(){function O(){}return O.tb=function(x,h,l,s,a,u,p,y,m){var w=[0,0,0],S=[0,0,0],k=[0,0,0],I=[0,0,0,0],A=new d.ga(0),L=new d.ga(0),D=new d.ga(0);if(p!=null||y!=null||m!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,u,p,y,m);else{a=d.F.ba(a),l=d.F.ba(l);var U=d.F.ba(a-l);if(d.s.Y(s,u)&&(d.s.Y(l,a)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),m!=null&&(m.u=0);else{if(d.s.Y(s,-u)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(m!=null&&(m.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(U),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),m!=null&&(m.u=0))}else if(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(u),1.570796326794897)||d.s.Y(l,a)||d.s.Y(d.s.P(U),3.141592653589793)||d.s.Cd(s))return void d.Wk.tb(x,h,l,s,a,u,p,y,m);var X=Math.sqrt(1-h);a=d.F.ba(a-l),l=0,d.F.cl(1,h,s,l,0,A,L,D),w[0]=A.u,w[1]=L.u,w[2]=D.u,d.F.cl(1,h,u,a,0,A,L,D),S[0]=A.u,S[1]=L.u,S[2]=D.u,k[0]=0,k[1]=0,k[2]=-1*h*d.F.n(1,h,s)*Math.sin(s),0>a?d.F.Wq(k,S,w,I,0):d.F.Wq(k,w,S,I,0),L=[0,0,0],D=[0,0,0];var J=[0,0,0];w=[0,0,0],A=[0,0,0];var B=Math.acos(I[2]/1),Q=1-h,oe=Math.tan(B),se=1+oe*oe/Q,ye=2*k[2]*oe/Q;for(Q=(-ye+(oe=Math.sqrt(ye*ye-4*se*(k[2]*k[2]/Q-1))))/(se*=2),ye=(-ye-oe)/se,oe=Math.tan(B),B=(Q+ye)/2,k=((se=oe*Q+k[2])+(oe*ye+k[2]))/2,oe=d.F.gp(Q-B,se-k),Q=k/X*1.570796326794897,ye=0;100>ye&&(se=(se=d.F.w(h,Q))*se/Math.cos(Q)*(Math.sin(Q)-k*se/(1-h)),!d.s.Cd(se));ye++)Q-=se;k=d.F.n(1,h,Q)*Math.cos(Q),oe=1-oe/(k=Math.sqrt((k-B)*(k+B))),oe*=2-oe,se=d.F.on(L),B=d.F.on(D),Q=d.F.on(J);var de=d.F.St(J,L);ye=d.F.St(J,D),d.F.zx(J,L,w),d.F.zx(J,D,A),L=Math.acos(de/(Q*se)),D=Math.acos(ye/(Q*B)),D*=d.s.Mb(1,d.F.St(w,A)),(1.570796326794897<=d.s.P(L)&&1.570796326794897<=d.s.P(D)||3.141592653589793<d.s.P(L-D))&&(L=(3.141592653589793-d.s.P(L))*d.s.Mb(1,L),D=(3.141592653589793-d.s.P(D))*d.s.Mb(1,D)),w=d.F.Qj(oe,D),A=d.F.q(k,oe,d.F.Qj(oe,L)),w=d.F.q(k,oe,w),w=d.s.P(w-A)*x,L=new d.ga(0),D=new d.ga(0),J=I[1]/1,J*=-d.s.Mb(1,U),A=Math.acos(J)*d.s.Mb(1,U),O.rf(x,h,l,s,w,A,L,D),d.s.Y(a,L.u)&&d.s.Y(u,D.u)||(oe=d.F.gp(d.F.ba(a-L.u),u-D.u),O.rf(x,h,l,s,w,d.F.ba(A+3.141592653589793),L,D),(se=d.F.gp(d.F.ba(a-L.u),u-D.u))<oe&&(A=d.F.ba(A+3.141592653589793))),L=[0,0,0,0],D=[0,0,0,0],oe=[0,0,0],x=[0,0,0],l=[0,0,0],s=[0,0,0],J=[0,0,0],(k=[0,0,0])[0]=0,k[1]=0,k[2]=X,oe[0]=0,oe[1]=0,oe[2]=0,d.F.Wq(oe,k,S,L,0),d.s.Cd(u)?(x[0]=S[0],x[1]=S[1],x[2]=1,l[0]=1*Math.cos(a)-1*Math.sin(a),l[1]=1*Math.sin(a)+1*Math.cos(a)):(h=d.F.n(1,h,u)*Math.cos(u),x[0]=0,x[1]=0,S[2]+=Math.tan(1.570796326794897-d.s.P(u))*h*d.s.Mb(1,u),l[0]=h*Math.cos(a)-h*Math.sin(a),l[1]=h*Math.sin(a)+h*Math.cos(a)),l[2]=S[2],d.F.Wq(S,l,x,D,1),d.F.zx(D,L,s),d.F.zx(D,I,J),J=d.F.St(s,J)/(d.F.on(s)*d.F.on(J)),J*=d.s.Mb(1,U),a=Math.acos(J)*-d.s.Mb(1,U),(0<A&&0<a||0>A&&0>a)&&(a=d.F.ba(a+3.141592653589793)),p!=null&&(p.u=w),y!=null&&(y.u=A),m!=null&&(m.u=a)}}},O.rf=function(x,h,l,s,a,u,p,y){var m=[0,0,0],w=[0,0,0],S=[0,0,0],k=[0,0,0],I=[0,0,0],A=[0,0,0],L=[0,0,0],D=[0,0,0,0],U=new d.ga(0),X=new d.ga(0),J=new d.ga(0),B=new d.ga(0),Q=new d.ga(0),oe=new d.ga(0);if(p!=null&&y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,u,p,y);else if(d.s.Cd(a))p!=null&&(p.u=l),y!=null&&(y.u=s);else if(u=d.F.ba(u),0>a&&(a=d.s.P(a),u=d.F.ba(u+3.141592653589793)),l=d.F.ba(l),s=d.F.ba(s),1.570796326794897<d.s.P(s)&&(l=d.F.ba(l+3.141592653589793),s=d.s.Mb(3.141592653589793,s)-s),d.s.Y(d.s.P(s),1.570796326794897)||d.s.Cd(s)||d.s.Cd(u)||d.s.Y(d.s.P(u),3.141592653589793))d.Wk.rf(x,h,l,s,a,u,p,y);else{var se=Math.sqrt(1-h);for(x=a/x,d.F.cl(1,h,s,0,0,B,Q,oe),m[0]=B.u,m[1]=Q.u,m[2]=Q.u,L[0]=0,L[1]=0,L[2]=-1*h*d.F.n(1,h,s)*Math.sin(s),B=d.F.n(1,h,s),Q=d.F.ba(1.570796326794897-u),oe=Math.sin(Q),a=Math.cos(s),s=Math.sin(s),I[0]=B*a-s*oe,I[1]=Math.cos(Q),I[2]=(1-h)*B*s+a*oe,0>u?d.F.Wq(L,I,m,D,0):d.F.Wq(L,m,I,D,0),m=Math.acos(D[2]/1),D=Math.atan2(-D[1],-D[0]),s=1-h,Q=1+(I=Math.tan(m))*I/s,s=(-(B=2*L[2]*I/s)+(I=Math.sqrt(B*B-4*Q*(L[2]*L[2]/s-1))))/(Q*=2),B=(-B-I)/Q,I=Math.tan(m),m=(s+B)/2,L=((Q=I*s+L[2])+(I*B+L[2]))/2,I=d.F.gp(s-m,Q-L),se=L/se*1.570796326794897,s=0;100>s&&(B=(B=d.F.w(h,se))*B/Math.cos(se)*(Math.sin(se)-L*B/(1-h)),!d.s.Cd(B));s++)se-=B;se=d.F.n(1,h,se)*Math.cos(se),L=1-I/(se=Math.sqrt((se-m)*(se+m))),L*=2-L,A=Math.acos(d.F.St(A,w)/(d.F.on(A)*d.F.on(w))),A*=d.s.Mb(1,w[0]),u=(d.F.q(se,L,d.F.Qj(L,A))+x*d.s.Mb(1,u))/d.F.Ah(se,L),u=d.F.ba(1.570796326794897*u),u=d.F.Rq(L,u),d.F.n(se,L,u),I=d.F.ba(D+l),l=Math.cos(I),u=Math.sin(I),S[0]=k[0]*l+k[1]*-u,S[1]=k[0]*u+k[1]*l,S[2]=k[2],d.F.jO(h,S[0],S[1],S[2],J,X,U),p!=null&&(p.u=X.u),y!=null&&(y.u=J.u)}},O}()}(te||(te={})),function(d){var O=function(){function a(u){this.Ya=null,this.wt=new d.h,this.xt=new d.h,this.g=u}return a.prototype.compare=function(u,p,y){return this.g.Gc(p,this.wt),this.g.Gc(u.ja(y),this.xt),this.wt.compare(this.xt)},a}(),x=function(){function a(u){this.Bf=new d.h,this.Dk=new d.h,this.g=u}return a.prototype.Dh=function(u){this.Bf.L(u)},a.prototype.compare=function(u,p){return this.g.Gc(u.ja(p),this.Dk),this.Bf.compare(this.Dk)},a}(),h=function(a){function u(p){var y=a.call(this,p.g,p.qa,!1)||this;return y.ib=p,y}return ft(u,a),u.prototype.compare=function(p,y,m){if(this.rg)return-1;var w=this.ib.Qd.Jn(this.ib.Rh(y));p=p.ja(m);var S=this.ib.Qd.Jn(this.ib.Rh(p));return this.Dm=m,this.RE(y,w,p,S)},u}(d.UC),l=function(a){function u(p){var y=a.call(this,p.g,p.qa)||this;return y.ib=p,y}return ft(u,a),u.prototype.compare=function(p,y){return this.rg?-1:(p=this.ib.Qd.Jn(this.ib.Rh(p.ja(y))),this.Dm=y,this.SE(y,p))},u}(d.aM),s=function(){function a(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new d.h,this.Pi=new d.h,this.hb=new d.$c(8),this.zd=new d.$c(5),this.lh=new d.au,this.Qd=new d.au,this.Ng=!1,this.vh=new d.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new d.Yj,this.Mc=new d.Yj,this.nh=new d.ia(0),this.Gk=new d.TC,this.Ff=new d.ia(0),this.Ak=new d.ia(0),this.jo=new d.Sa}return a.prototype.PX=function(u,p){var y=new d.Dd;return y.$B(),u.Oc(y),this.er(u),this.Wn=!1,this.qa=p,this.UA=p*p,p=this.jC(),u.Oc(y),p||(this.qQ(),p||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},a.prototype.TX=function(u,p){this.er(u),this.Wn=!1,this.qa=p,this.UA=p*p,this.Ng=!1,this.jC(),this.Ng||(this.Ng=u.Gp(p,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},a.prototype.pg=function(u,p){return this.hb.T(u,0+p)},a.prototype.LB=function(u,p,y){this.hb.S(u,0+p,y)},a.prototype.Rh=function(u){return this.hb.T(u,2)},a.prototype.ZW=function(u,p){this.hb.S(u,2,p)},a.prototype.RF=function(u,p){return this.hb.T(u,3+p)},a.prototype.Pp=function(u){return this.hb.T(u,7)},a.prototype.Pl=function(u,p){this.hb.S(u,7,p)},a.prototype.Rp=function(u,p){return this.hb.T(u,3+this.Op(u,p))},a.prototype.fr=function(u,p,y){this.hb.S(u,3+this.Op(u,p),y)},a.prototype.NR=function(u,p){return this.hb.T(u,5+this.Op(u,p))},a.prototype.hr=function(u,p,y){this.hb.S(u,5+this.Op(u,p),y)},a.prototype.Sr=function(u){return this.zd.T(u,0)},a.prototype.UW=function(u,p){this.zd.S(u,0,p)},a.prototype.ez=function(u){return this.zd.T(u,4)},a.prototype.cr=function(u,p){this.zd.S(u,4,p)},a.prototype.il=function(u){return this.zd.T(u,1)},a.prototype.ln=function(u,p){this.zd.S(u,1,p)},a.prototype.dz=function(u){return this.zd.T(u,3)},a.prototype.Et=function(u,p){this.zd.S(u,3,p)},a.prototype.Ym=function(u){var p=this.zd.Ce(),y=this.lh.Ph();return this.UW(p,y),u!=-1?(this.lh.addElement(y,u),this.g.Ra(u,this.xh,p),this.cr(p,this.g.Ua(u))):this.cr(p,-1),p},a.prototype.HP=function(u){this.zd.jd(u)},a.prototype.LD=function(u,p){this.lh.addElement(this.Sr(u),p),this.g.Ra(p,this.xh,u)},a.prototype.nt=function(u){var p=this.hb.Ce(),y=this.Qd.Ph();return this.ZW(p,y),u!=-1&&this.Qd.addElement(y,u),p},a.prototype.MD=function(u,p){this.Qd.addElement(this.Rh(u),p)},a.prototype.Uu=function(u){this.hb.jd(u),0<=(u=this.nh.lF(u))&&this.nh.SV(u)},a.prototype.hj=function(u,p){if(this.pg(u,0)==-1)this.LB(u,0,p);else{if(this.pg(u,1)!=-1)throw d.i.Qa();this.LB(u,1,p)}this.ky(u,p)},a.prototype.ky=function(u,p){var y=this.il(p);if(y!=-1){var m=this.Rp(y,p);this.hr(m,p,u),this.fr(u,p,m),this.fr(y,p,u),this.hr(u,p,y)}else this.hr(u,p,u),this.fr(u,p,u),this.ln(p,u)},a.prototype.Op=function(u,p){return this.pg(u,0)==p?0:1},a.prototype.Xm=function(u,p){var y,m=this.dz(p);if(m!=-1&&(this.df.vd(m,-1),this.Et(p,-1)),(m=this.il(p))!=-1){var w=y=m;do{var S=!1,k=this.Op(y,p),I=this.RF(y,k);if(this.pg(y,k+1&1)==u){if(this.Xu(y),this.Qd.bh(this.Rh(y)),this.Uu(y),y==I){m=-1;break}m==y&&(m=this.il(p),w=I,S=!0)}y=I}while(y!=w||S);if(m!=-1){do k=this.Op(y,p),I=this.RF(y,k),this.LB(y,k,u),y=I;while(y!=w);(y=this.il(u))!=-1?(w=this.Rp(y,u),S=this.Rp(m,u),w==y?(this.ln(u,m),this.ky(y,u),this.ln(u,y)):S==m&&this.ky(m,u),this.fr(m,u,w),this.hr(w,u,m),this.fr(y,u,S),this.hr(S,u,y)):this.ln(u,m)}}for(m=this.Sr(u),y=this.Sr(p),w=this.lh.rc(y);w!=-1;w=this.lh.lb(w))this.g.Ra(this.lh.ja(w),this.xh,u);this.lh.Hy(m,y),this.HP(p)},a.prototype.UT=function(u,p){var y=this.pg(u,0),m=this.pg(u,1),w=this.pg(p,0),S=this.pg(p,1);this.Qd.Hy(this.Rh(u),this.Rh(p)),p==this.il(y)&&this.ln(y,u),p==this.il(m)&&this.ln(m,u),this.Xu(p),this.Uu(p),y==w&&m==S||m==w&&y==S||(this.Hn(y,this.yo),this.Hn(w,this.Pi),this.yo.qb(this.Pi)?(y!=w&&this.Xm(y,w),m!=S&&this.Xm(m,S)):(m!=w&&this.Xm(m,w),y!=S&&this.Xm(y,S)))},a.prototype.Xu=function(u){var p=this.pg(u,1);this.dF(u,this.pg(u,0)),this.dF(u,p)},a.prototype.dF=function(u,p){var y=this.Rp(u,p),m=this.NR(u,p),w=this.il(p);y!=u?(this.fr(m,p,y),this.hr(y,p,m),w==u&&this.ln(p,y)):this.ln(p,-1)},a.prototype.WD=function(u,p,y){var m=this.Qd.rc(u),w=this.Qd.ja(m);u=this.Le(w);var S=this.Le(this.g.U(w));for(this.g.jr(w,p,y,!0),m=this.Qd.lb(m);m!=-1;m=this.Qd.lb(m)){w=this.Qd.ja(m);var k=this.Le(w)==u;this.g.jr(w,p,y,k)}m=p.Vp(y,0).ac(),p=p.Vp(y,p.ol(y)-1).wc(),this.BK(u,m),this.BK(S,p)},a.prototype.ZE=function(u,p,y){var m=this.Rh(u),w=this.pg(u,0),S=this.pg(u,1),k=this.nt(-1);for(this.nh.add(k),this.Pl(k,-3),this.Ff.add(k),this.hj(k,w),u=1,p=p.ol(y);u<p;u++)y=this.Ym(-1),this.Ak.add(y),this.Ff.add(y),this.hj(k,y),k=this.nt(-1),this.nh.add(k),this.Pl(k,-3),this.Ff.add(k),this.hj(k,y);for(this.hj(k,S),m=this.Qd.rc(m);m!=-1;m=this.Qd.lb(m))if(S=this.Qd.ja(m),this.Le(S)==w){u=0;do 0<u&&(k=this.Ff.get(u-1),this.LD(k,S),this.ez(k)==-1&&this.cr(k,this.g.Ua(S))),k=this.Ff.get(u),u+=2,this.MD(k,S),S=this.g.U(S);while(u<this.Ff.size)}else{u=this.Ff.size-1;do u<this.Ff.size-2&&(k=this.Ff.get(u+1),this.LD(k,S),0>this.ez(k)&&this.cr(k,this.g.Ua(S))),k=this.Ff.get(u),u-=2,this.MD(k,S),S=this.g.U(S);while(0<=u)}this.Ff.clear(!1)},a.prototype.Le=function(u){return this.g.Pa(u,this.xh)},a.prototype.TI=function(u,p,y){var m=this.pg(p,0),w=new d.h;this.Hn(m,w);var S=new d.h,k=this.pg(p,1);this.Hn(k,S);var I=y.ol(u),A=y.Vp(u,0),L=new d.h;if(A.Yp(L),!w.qb(L)){if(!this.Ng){var D=w.compare(this.vh);0>D*(L=L.compare(this.vh))&&(this.Ng=!0)}this.vF(m,this.Ff),this.Ak.add(m)}for(!this.Ng&&1<I&&(D=w.compare(S),A=A.wc(),(w.compare(A)!=D||A.compare(S)!=D||0>A.compare(this.vh))&&(this.Ng=!0)),u=(A=y.Vp(u,I-1)).wc(),S.qb(u)||(this.Ng||0>(D=S.compare(this.vh))*(L=u.compare(this.vh))&&(this.Ng=!0),this.vF(k,this.Ff),this.Ak.add(k)),this.Ff.add(p),S=0,k=this.Ff.size;S<k;S++)u=this.Ff.get(S),y=this.Pp(u),d.$c.LG(y)&&(this.Mc.vd(y,-1),this.Pl(u,-1)),u!=p&&this.Pp(u)!=-3&&(this.nh.add(u),this.Pl(u,-3));this.Ff.clear(!1)},a.prototype.lO=function(u,p){this.$d.compare(this.Mc,this.Mc.ja(u),p),this.$d.rg&&(this.$d.Kr(),this.oF(u,p))},a.prototype.oF=function(u,p){this.Wn=!0,u=this.Mc.ja(u),p=this.Mc.ja(p);var y=this.Qd.Jn(this.Rh(u)),m=this.Qd.Jn(this.Rh(p)),w=this.g.bc(y);w==null&&(this.ie==null&&(this.ie=new d.yb),this.g.ed(y,this.ie),w=this.ie),(y=this.g.bc(m))==null&&(this.Nm==null&&(this.Nm=new d.yb),this.g.ed(m,this.Nm),y=this.Nm),this.Gk.Oo(w),this.Gk.Oo(y),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(u,p,-1,this.Gk),this.Gk.clear()},a.prototype.GQ=function(u,p){this.Wn=!0,p=this.Mc.ja(p);var y=this.Qd.Jn(this.Rh(p)),m=this.g.bc(y);m==null&&(this.ie==null&&(this.ie=new d.yb),this.g.ed(y,this.ie),m=this.ie),y=this.BF(u),this.Gk.Oo(m),this.g.Vi(y,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(p,-1,u,this.Gk),this.Gk.clear()},a.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var u=this.nh.Fc();this.nh.If(),this.Pl(u,-1),this.WS(u)!=-1&&this.wS(u),this.Vn=!1}},a.prototype.wS=function(u){if(this.Vn){var p=this.Mc.zu(this.MH,this.GH,u,!0);this.Vn=!1}else p=this.Mc.KD(u);p==-1?this.UT(this.Mc.ja(this.Mc.FF()),u):(this.Pl(u,p),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,p)))},a.prototype.WS=function(u){var p=this.pg(u,0);if(u=this.pg(u,1),this.Hn(p,this.yo),this.Hn(u,this.Pi),d.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var y=this.yo.compare(this.vh),m=this.Pi.compare(this.vh);return 0>=y&&0<m?u:0>=m&&0<y?p:-1},a.prototype.oQ=function(){var u=new d.ia(0);u.Jb(this.g.fd);for(var p=this.g.Yq(),y=p.next();y!=-1;y=p.next())this.g.Pa(y,this.xh)!=-1&&u.add(y);this.g.nx(u,u.size),this.pQ(u)},a.prototype.pQ=function(u){this.df.clear(),this.df.De(u.size),this.df.Vo(new O(this.g));var p=new d.h;p.Rc();for(var y=-1,m=new d.h,w=0,S=u.size;w<S;w++){var k=u.get(w);this.g.Gc(k,m),m.qb(p)?(k=this.g.Pa(k,this.xh),this.Xm(y,k)):(y=this.Le(k),this.g.Gc(k,p),k=this.df.xn(k),this.Et(y,k))}},a.prototype.qQ=function(){var u=new d.ia(0);u.Jb(this.g.fd);for(var p=this.df.rc(-1);p!=-1;p=this.df.lb(p))u.add(this.df.ja(p));this.df.clear(),this.g.nx(u,u.size),p=0;for(var y=u.size;p<y;p++){var m=u.get(p),w=this.Le(m);m=this.df.xn(m),this.Et(w,m)}},a.prototype.vF=function(u,p){var y=this.il(u);if(y!=-1){var m=y;do d.$c.LG(this.Pp(m))&&p.add(m),m=this.Rp(m,u);while(m!=y)}},a.prototype.BK=function(u,p){for(u=this.lh.rc(this.Sr(u));u!=-1;u=this.lh.lb(u))this.g.mf(this.lh.ja(u),p)},a.prototype.hK=function(u,p,y,m){this.Xu(u),p!=-1&&this.Xu(p),this.TI(0,u,m),p!=-1&&this.TI(1,p,m),y!=-1&&(m.Bf.D(this.yo),this.Hn(y,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(y)),y=0;for(var w=this.Ak.size;y<w;y++){var S=this.Ak.get(y),k=this.dz(S);k!=-1&&(this.df.vd(k,-1),this.Et(S,-1))}for(y=this.Rh(u),w=p!=-1?this.Rh(p):-1,this.WD(y,m,0),p!=-1&&this.WD(w,m,1),this.ZE(u,m,0),p!=-1&&this.ZE(p,m,1),this.Qd.bh(y),this.Uu(u),p!=-1&&(this.Qd.bh(w),this.Uu(p)),y=0,w=this.Ak.size;y<w;y++)(S=this.Ak.get(y))==this.Jq&&(this.Xv=!0),(k=this.dz(S))==-1&&((k=this.df.KD(this.BF(S)))==-1?(u=this.Le(this.df.ja(this.df.FF())),this.Xm(u,S)):this.Et(S,k));this.Ak.clear(!1)},a.prototype.Hn=function(u,p){this.g.dG(this.ez(u),p)},a.prototype.BF=function(u){return this.lh.Jn(this.Sr(u))},a.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new h(this),this.Mc.Zn=this.$d);var u=new d.ia(0),p=null,y=null;this.GH=this.MH=-1,this.Vn=!1;for(var m=this.df.rc(-1);m!=-1;){this.Vn=!1;var w=this.df.ja(m);this.Jq=this.Le(w),this.g.Gc(w,this.vh),this.$d.$J(this.vh.y,this.vh.x);var S=this.il(this.Jq),k=S==-1;if(!k){w=S;do{var I=this.Pp(w);I==-1?(this.nh.add(w),this.Pl(w,-3)):I!=-3&&u.add(I),w=this.Rp(w,this.Jq)}while(w!=S)}if(0<u.size){for(this.Vn=u.size==1&&this.nh.size==1,k=0,S=u.size;k<S;k++)w=this.Mc.ja(u.get(k)),this.Pl(w,-2);var A=-2,L=-2;for(k=0,S=u.size;k<S;k++){if(I=u.get(k),A==-2){var D=this.Mc.we(I);D!=-1?(w=this.Mc.ja(D),(w=this.Pp(w))!=-2&&(A=D)):A=-1}if(L==-2&&((I=this.Mc.lb(I))!=-1?(w=this.Mc.ja(I),(w=this.Pp(w))!=-2&&(L=I)):L=-1),A!=-2&&L!=-2)break}for(k=0,S=u.size;k<S;k++)I=u.get(k),w=this.Mc.ja(I),this.Mc.vd(I,-1),this.Pl(w,-1);u.clear(!1),this.MH=A!=-1?A:-1,this.GH=L!=-1?L:-1,A!=-1&&L!=-1?this.Vn||this.lO(A,L):A==-1&&L==-1&&(this.Vn=!1)}else k&&(p==null&&(p=new l(this)),p.Dh(this.vh),this.Mc.uJ(p),p.rg&&(p.Kr(),this.GQ(this.Jq,p.Dm)));this.xS(),this.Xv?(this.Xv=!1,y==null&&(y=new x(this.g)),y.Dh(this.vh),m=this.df.uJ(y)):m=this.df.lb(m)}return this.Wn},a.prototype.er=function(u){for(this.g=u,this.xh=this.g.Gd(),this.hb.De(u.fd+32),this.zd.De(u.fd),this.lh.At(u.fd),this.lh.fn(u.fd),this.Qd.At(u.fd+32),this.Qd.fn(u.fd+32),u=this.g.ld;u!=-1;u=this.g.ue(u))if(d.aa.Hc(this.g.ic(u)))for(I=this.g.Ob(u);I!=-1;I=this.g.Rb(I)){var p=this.g.Ja(I),y=this.g.Xa(I),m=this.Ym(y),w=this.nt(y);for(this.hj(w,m),A=this.g.U(y),y=0,p-=2;y<p;y++){var S=this.g.U(A),k=this.Ym(A);this.hj(w,k),w=this.nt(A),this.hj(w,k),A=S}this.g.dc(I)?(k=this.Ym(A),this.hj(w,k),w=this.nt(A),this.hj(w,k),this.hj(w,m)):(k=this.Ym(A),this.hj(w,k))}else for(var I=this.g.Ob(u);I!=-1;I=this.g.Rb(I)){var A=this.g.Xa(I);for(m=0,p=this.g.Ja(I);m<p;m++)this.Ym(A),A=this.g.U(A)}this.oQ()},a}();d.RC=s}(te||(te={})),function(d){var O=function(x){function h(l,s,a){var u=x.call(this)||this;if(l!==void 0)if(a!==void 0){u.description=d.ee.og();var p=new d.Nd;p.K(l,s,a),u.dC(p)}else if(s!==void 0)u.description=d.ee.og(),u.Cb(l,s);else if(l instanceof d.ra)u.description=l;else if(l instanceof d.h)u.description=d.ee.og(),u.Cb(l);else{if(!(l instanceof h))throw d.i.N();u.description=l.description,u.Cb(l.Lg(),l.ih()),l.ka!==null&&(u.ka=l.ka.slice(0))}else u.description=d.ee.og();return u}return ft(h,x),h.prototype.D=function(l){if(l===void 0){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return(l=new d.h).ma(this.ka[0],this.ka[1]),l}if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");l.ma(this.ka[0],this.ka[1])},h.prototype.Cb=function(l,s){typeof l=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=l,this.ka[1]=s):(this.vc(),this.Cb(l.x,l.y))},h.prototype.Cz=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");var l=new d.Nd;return l.x=this.ka[0],l.y=this.ka[1],l.z=this.description.iG()?this.ka[2]:d.ra.se(1),l},h.prototype.dC=function(l){this.vc();var s=this.hasAttribute(1);s||d.ra.DG(1,l.z)||(this.re(1),s=!0),this.ka==null&&this.un(),this.ka[0]=l.x,this.ka[1]=l.y,s&&(this.ka[2]=l.z)},h.prototype.Lg=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},h.prototype.cC=function(l){this.setAttribute(0,0,l)},h.prototype.ih=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},h.prototype.aK=function(l){this.setAttribute(0,1,l)},h.prototype.bS=function(){return this.Uc(1,0)},h.prototype.wX=function(l){this.setAttribute(1,0,l)},h.prototype.zR=function(){return this.Uc(2,0)},h.prototype.hX=function(l){this.setAttribute(2,0,l)},h.prototype.Ec=function(){return this.yF(3,0)},h.prototype.LJ=function(l){this.setAttribute(3,0,l)},h.prototype.Uc=function(l,s){var a=this.description.Pf(l);return 0<=a?this.ka[this.description.$j(a)+s]:d.ra.se(l)},h.prototype.yF=function(l,s){var a=this.description.Pf(l);return 0<=a?this.ka[this.description.$j(a)+s]:d.ra.se(l)},h.prototype.setAttribute=function(l,s,a){this.vc();var u=this.description.Pf(l);0>u&&(this.re(l),u=this.description.Pf(l)),this.ka==null&&this.un(),this.ka[this.description.$j(u)+s]=a},h.prototype.getType=function(){return 33},h.prototype.Db=function(){return 0},h.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},h.prototype.sn=function(l){if(this.ka!=null){for(var s=d.ee.Iw(l,this.description),a=[],u=0,p=0,y=l.Aa;p<y;p++){var m=l.kd(p),w=d.ra.Va(m);if(s[p]==-1){var S=d.ra.se(m);for(m=0;m<w;m++)a[u]=S,u++}else for(S=this.description.$j(s[p]),m=0;m<w;m++)a[u]=this.ka[S],u++,S++}this.ka=a}this.description=l},h.prototype.un=function(){this.lJ(this.description.Ae.length),h.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},h.prototype.Oc=function(l){if(l instanceof d.Dd){if(!this.Ac()){var s=this.D();l.Eh(s,s),this.Cb(s)}}else this.Ac()||(this.re(1),s=this.Cz(),this.dC(l.fp(s)))},h.prototype.copyTo=function(l){if(l.getType()!=33)throw d.i.N();l.vc(),this.ka==null?(l.Oa(),l.ka=null,l.Nf(this.description)):(l.Nf(this.description),l.lJ(this.description.Ae.length),h.cE(this.ka,l.ka,this.description.Ae.length))},h.prototype.Ia=function(){return new h(this.description)},h.prototype.B=function(){return this.Ac()},h.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},h.prototype.bn=function(l){l.Oa(),this.description!=l.description&&l.Nf(this.description),l.Zb(this)},h.prototype.A=function(l){this.Ac()?l.Oa():(l.v=this.ka[0],l.G=this.ka[1],l.C=this.ka[0],l.H=this.ka[1])},h.prototype.Qo=function(l){if(this.Ac())l.Oa();else{var s=this.Cz();l.v=s.x,l.G=s.y,l.Ye=s.z,l.C=s.x,l.H=s.y,l.Bg=s.z}},h.prototype.Tg=function(l,s){var a=new d.Nc;return this.Ac()?(a.Oa(),a):(l=this.Uc(l,s),a.oa=l,a.va=l,a)},h.prototype.lJ=function(l){if(this.ka==null)this.ka=d.O.lg(l);else if(this.ka.length<l){for(var s=this.ka.slice(0),a=this.ka.length;a<l;a++)s[a]=0;this.ka=s}},h.cE=function(l,s,a){if(0<a)for(a=0;a<l.length;a++)s[a]=l[a]},h.prototype.Nb=function(l){if(l==this)return!0;if(!(l instanceof h)||this.description!=l.description)return!1;if(this.Ac())return!!l.Ac();for(var s=0,a=this.description.Ae.length;s<a;s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.cc=function(){var l=this.description.cc();if(!this.Ac())for(var s=0,a=this.description.Ae.length;s<a;s++){var u=this.ka[s];u=d.O.truncate(u^u>>>32),l=d.O.Th(u,l)}return l},h.prototype.mg=function(){return null},h}(d.aa);d.Sa=O}(te||(te={})),function(d){var O=function(){function x(h,l,s){h!==void 0&&(this.x=h,this.y=l,this.z=s)}return x.construct=function(h,l,s){var a=new x;return a.x=h,a.y=l,a.z=s,a},x.prototype.K=function(h,l,s){this.x=h,this.y=l,this.z=s},x.prototype.lx=function(){this.z=this.y=this.x=0},x.prototype.normalize=function(){var h=this.length();h==0&&(this.x/=h,this.y/=h,this.z/=h)},x.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},x.prototype.sub=function(h){return new x(this.x-h.x,this.y-h.y,this.z-h.z)},x.prototype.Ag=function(h){new x(this.x*h,this.y*h,this.z*h)},x.prototype.Qh=function(h){return this.x*h.x+this.y*h.y+this.z*h.z},x}();d.Nd=O}(te||(te={})),function(d){var O=function(){function x(h,l,s){this.Gw=this.DA=null,this.Xf=l,this.FT=l.y-s,this.ET=l.y+s,this.Ew=0,this.dA=h,this.qa=s,this.RT=s*s,this.eA=s!=0,this.Lv=!1}return x.prototype.result=function(){return this.Ew!=0?1:0},x.prototype.ZM=function(h){return h=h.hc(h.fe(this.Xf,!1)),d.h.yc(h,this.Xf)<=this.RT},x.prototype.fF=function(h){if(!this.eA&&(this.dA&&this.Xf.qb(h.ac())||this.Xf.qb(h.wc())))this.Lv=!0;else if(h.na==this.Xf.y&&h.na==h.la){if(this.dA&&!this.eA){var l=Math.max(h.sa,h.pa);this.Xf.x>Math.min(h.sa,h.pa)&&this.Xf.x<l&&(this.Lv=!0)}}else{var s=!1;if(l=Math.max(h.sa,h.pa),this.Xf.x>l?s=!0:this.Xf.x>=Math.min(h.sa,h.pa)&&(s=0<h.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),s){if(this.Xf.y==h.ac().y){if(this.Xf.y<h.wc().y)return}else if(this.Xf.y==h.wc().y&&this.Xf.y<h.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(h.ac().y>h.wc().y?1:-1)}}},x.prototype.SI=function(h){var l=h.Tg(0,1);if(l.oa>this.ET||l.va<this.FT)return!1;if(this.eA&&this.ZM(h))return!0;if(l.oa>this.Xf.y||l.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(l=h.eG()))for(h=0;h<l;h++){var s=this.DA[h].get();if(this.fF(s),this.Lv)return!0}else if(this.fF(h),this.Lv)return!0;return!1},x.PM=function(h,l,s){for(l=new x(h.In()==0,l,s),h=h.Ga();h.$a();)for(;h.Ha();)if(s=h.ha(),l.SI(s))return-1;return l.result()},x.QM=function(h,l,s,a){var u=new d.l;h.xc(u),u.W(a,a);var p=new x(h.In()==0,s,a);h=h.Ga();var y=new d.l;for(y.K(u),y.C=s.x+a,y.G=s.y-a,y.H=s.y+a,a=(s=l.MF(y,a)).next();a!=-1;a=s.next())if(h.Vb(l.ja(a)),h.Ha()&&(a=h.ha(),p.SI(a)))return-1;return p.result()},x.wm=function(h,l,s){if(h.B())return 0;var a=new d.l;if(h.xc(a),a.W(s,s),!a.contains(l))return 0;if((a=h.Bb)!=null){var u=a.Fk;if(u!=null){if((u=u.So(l.x,l.y))==1)return 1;if(u==0)return 0}if((a=a.Fb)!=null)return x.QM(h,a,l,s)}return x.PM(h,l,s)},x.bT=function(h,l,s){return l.B()?0:x.wm(h,l.D(),s)},x.Ml=function(h,l){return!(16>(h=h.I()))&&2*h+Math.log(h)/Math.log(2)*l<1*h*l},x}();d.Dg=O}(te||(te={})),function(d){var O=function(x){function h(l){return x.call(this,!0,l)||this}return ft(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.Db=function(){return 2},h.prototype.getType=function(){return 1736},h.prototype.xG=function(l,s,a){this.JS(l,s,a)},h.prototype.qR=function(){this.FR()},h}(d.Vk);d.Da=O}(te||(te={})),function(d){(function(O){O[O.PiPOutside=0]="PiPOutside",O[O.PiPInside=1]="PiPInside",O[O.PiPBoundary=2]="PiPBoundary"})(d.RL||(d.RL={})),d.hd=function(){function O(){}return O.KG=function(x,h,l){return(x=d.Dg.bT(x,h,l))==0?0:x==1?1:2},O.Yd=function(x,h,l){return(x=d.Dg.wm(x,h,l))==0?0:x==1?1:2},O.WX=function(x,h,l,s,a){if(h.length<l||a.length<l)throw d.i.N();for(var u=0;u<l;u++)a[u]=O.Yd(x,h[u],s)},O.sK=function(x,h,l,s,a){if(x.getType()==1736)O.WX(x,h,l,s,a);else{if(x.getType()!=197)throw d.i.fa("invalid_call");var u=new d.l;x.A(u),O.$M(u,h,l,s,a)}},O.$M=function(x,h,l,s,a){if(h.length<l||a.length<l)throw d.i.N();if(x.B())for(s=0;s<l;s++)a[s]=0;else for(x.W(.5*-s,.5*-s),x.W(.5*s,.5*s),s=0;s<l;s++)x.contains(h[s])?a[s]=1:x.contains(h[s])?a[s]=2:a[s]=0},O.YX=function(x,h,l,s,a){for(var u=0;u<l;u++)a[u]=x.qs(h[u],s)?2:0},O.XX=function(x,h,l,s,a){var u=x.Bb,p=null;u!=null&&(p=u.Fk),u=l;for(var y=0;y<l;y++)if(a[y]=1,p!=null){var m=h[y];p.So(m.x,m.y)==0&&(a[y]=0,u--)}if(u!=0)for(x=x.Ga();x.$a()&&u!=0;)for(;x.Ha()&&u!=0;)for(p=x.ha(),y=0;y<l&&u!=0;y++)a[y]==1&&p.qs(h[y],s)&&(a[y]=2,u--);for(y=0;y<l;y++)a[y]==1&&(a[y]=0)},O.tK=function(x,h,l,s,a){var u=x.getType();if(u==1607)O.XX(x,h,l,s,a);else{if(!d.aa.yd(u))throw d.i.fa("Invalid call.");O.YX(x,h,l,s,a)}},O}()}(te||(te={})),function(d){var O=function(x){function h(l,s){if(arguments.length==2){var a=x.call(this,!1,l.description)||this;a.nf(l),a.lineTo(s)}else a=x.call(this,!1,l)||this;return a}return ft(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.Db=function(){return 1},h.prototype.getType=function(){return 1607},h.prototype.xG=function(l,s,a){this.KS(l,s,a)},h}(d.Vk);d.Ta=O}(te||(te={})),function(d){var O=function(){function x(){}return x.prototype.progress=function(){return!0},x.zp=function(h){if(h!=null&&!h.progress(-1,-1))throw d.i.WC()},x}();d.mp=O}(te||(te={})),function(d){var O;(O=d.PK||(d.PK={}))[O.clipWithInputHorizon=1]="clipWithInputHorizon",O[O.clipWithOutputHorizon=2]="clipWithOutputHorizon";var x=function(){function s(){this.Kg=3,this.Vu=this.Jr=NaN}return s.prototype.PW=function(a){this.QB(1,a)},s.prototype.QW=function(a){this.QB(2,a)},s.prototype.hS=function(){return this.hs(1)},s.prototype.iS=function(){return this.hs(2)},s.prototype.QB=function(a,u){this.Kg=u?this.Kg|a:this.Kg&~a},s.prototype.hs=function(a){return!!(this.Kg&a)},s.prototype.Of=function(){var a=new s;return a.Jr=this.Jr,a.Vu=this.Vu,a.Kg=this.Kg,a},s}();d.yC=x,function(s){s[s.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",s[s.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(d.QK||(d.QK={}));var h=function(){function s(){this.Kg=0}return s.prototype.QB=function(a,u){this.Kg=u?this.Kg|a:this.Kg&~a},s.prototype.hs=function(a){return!!(this.Kg&a)},s.jg=function(a){var u=new s;return u.Kg=a.Kg,u},s.prototype.mM=function(a){this.Kg=a.Kg},s}();d.AY=h;var l=function(){function s(a,u,p){this.ef=a,this.Yf=u,this.Uf=new d.l,this.Uf.K(p),this.AT=a.cc()+u.cc()+this.Uf.cc().toString()}return s.prototype.cc=function(){return this.AT},s.prototype.Nb=function(a){return this==a||this.ef.Nb(a.ef)&&this.Yf.Nb(a.Yf)&&this.Uf.Nb(a.Uf)},s}();d.FY=l,l=function(){function s(){this.Yf=this.ef=null,this.rH=new x,this.sH=new h,this.ww=this.Wf=null,this.mw=this.Tn=!0}return s.Nr=function(a,u,p,y){var m;y===void 0&&(y=null),m===void 0&&(m=null);var w=new s;return w.qp(a,u,p,y,m),w},s.prototype.qp=function(a,u,p,y,m){if(a==null||u==null)throw d.i.fa("invalidArgument");if(this.ef=a,this.Yf=u,this.mw=this.Tn=!1,y!=null&&(this.rH=y.Of()),m!=null&&this.sH.mM(m),m=!1,u.Sb()==1&&y!=null&&(y=y.Jr,isNaN(y)||y==0||(m=!0)),a==u)this.Tn=!m,this.mw=!0;else{y=a.Sb();var w=u.Sb();if(y==0||w==0){if(p!=null)throw d.i.N();a.Hd()!=null&&u.Hd()!=null&&(this.Tn=a.Hd().Nb(u.Hd()))}else y==3||w==3?this.Tn=a.Nb(u):this.ef.kS(this.Yf)?this.Tn=!m:this.Tn=!1,this.Wf=p,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},s.prototype.isIdentity=function(){return this.Tn},s.prototype.nR=function(){return this.rH.Of()},s.prototype.Nb=function(a){return a==this||!!(a instanceof s&&this.ef.Nb(a.ef)&&this.Yf.Nb(a.Yf))&&(this.Wf==a.Wf||!(this.Wf==null||a.Wf==null||!this.Wf.Nb(a.Wf)))},s.prototype.oY=function(){this.ww=new d.bu(this)},s}(),d.vr=l}(te||(te={})),function(d){var O=function(){function x(){}return x.Cp=function(h){return h*x.oW},x.mx=function(h,l){return x.gP(l-h)},x.hP=function(h){return-360<=h&&720>h?(0>h?h+=360:360<=h&&(h-=360),h):(0>(h=d.lc.RK(h))&&(h+=360),h)},x.gP=function(h){return 180<(h=x.hP(h))&&(h-=360),h},x.oW=57.29577951308232,x}();d.qr=O,d.Hh=function(){function x(){}return x.lj=function(h,l){var s=new d.l;h.A(s);var a=d.cb.gh(l),u=new d.l;return u.K(a),u.v=s.v,u.C=s.C,u.W(.01*u.ca(),0),l=d.ta.Wd(l,s,!1),u.contains(s)?h:d.Ud.clip(h,u,l,0)},x.ks=function(h,l,s,a,u){if(!d.cb.Wc(l))throw d.i.N();var p=d.ta.kj(l,h,!1),y=d.cb.gh(l),m=d.cb.sc(l),w=m.Hd().ai,S=d.cb.vv(m);m=d.cb.ev(m),S*=2-S;var k=new d.Nc;y.cn(k);var I=[[0,0],[0,0]];if(d.Eg.Sb(l)==2?a?(I[0][0]=x.Zm(u,k),I[0][1]=y.Jp(),d.cb.vt(),y=I[0][0]*w):(I[0][0]=y.gk(),I[0][1]=u,d.cb.vt(),y=I[0][1]*w):y=u*w,!a&&y!=0)throw d.i.N();var A=new d.ga,L=new d.gd;h=L.Ib(h);for(var D=[0],U=new d.h,X=new d.h,J=new d.h,B=new d.h,Q=new d.h,oe=new d.h,se=L.Ob(h);se!=-1;se=L.Rb(se)){var ye=L.Xa(se);L.D(ye,J);for(var de=!1,Me=ye=L.U(ye);Me!=-1;Me=L.U(Me)){if(Me==ye){if(de)break;de=!0}if(L.D(Me,B),a&&p<u-J.x&&B.x-u>p||p<u-B.x&&J.x-u>p||!a&&p<-J.y&&B.y>p||p<-B.y&&J.y>p)do if(!(Math.abs(J.x-B.x)>=.5*k.R())){if(d.Eg.Sb(l)==2?(I[0][0]=x.Zm(J.x,k),I[0][1]=J.y,I[1][0]=x.Zm(B.x,k),I[1][1]=B.y,d.cb.dW(),Q.x=I[0][0]*w,Q.y=I[0][1]*w,oe.x=I[1][0]*w,oe.y=I[1][1]*w):(Q.x=J.x*w,Q.y=J.y*w,oe.x=B.x*w,oe.y=B.y*w),oe.x=6.283185307179586*(B.x-J.x)/k.R()+Q.x,a){if(X.x=y,X.y=x.Nz(m,S,Q,oe,y,s),isNaN(X.y))break}else{if(X.x=x.Lz(m,S,Q,oe,s),isNaN(X.x))break;X.y=0}d.kb.wd(m,S,Q.x,Q.y,oe.x,oe.y,A,null,null,s);var Se=A.u;d.kb.wd(m,S,Q.x,Q.y,X.x,X.y,A,null,null,s);var xe=A.u;d.Eg.Sb(l)==2?(I[0][0]=X.x/w,I[0][1]=X.y/w,d.cb.bR(),a?(U.y=I[0][1],U.x=u):(U.x=x.os(I[0][0],J.x,B.x,k),U.y=u)):a?(U.x=u,U.y=X.y/w):(U.x=x.os(X.x/w,J.x,B.x,k),U.y=u),D[0]=0<Se?d.O.Rk(xe/Se,0,1):.5,D[0]!=0&&D[0]!=1&&(Se=L.Ma(Me),L.Ul(Se,D,1),L.Cb(L.U(Se),U.x,U.y))}while(!1);J.L(B)}}return L.Ne(h)},x.Fn=function(h,l,s,a,u){if(h.B())return h;var p=d.cb.bf(l);return x.Hp(h,s-180*p,360*p,l,a,u,!0)},x.Nz=function(h,l,s,a,u,p){if(3.141592653589793<=Math.abs(s.x-a.x)||!x.Sn(s.x,a.x,u))return NaN;if(s.x>a.x)var y=a;else y=s,s=a;a=new d.ga(0);var m=new d.ga(0),w=new d.ga(0);d.kb.wd(h,l,y.x,y.y,s.x,s.y,m,a,null,p);var S=m.u,k=0,I=1,A=new d.h;for(A.L(y);S*(I-k)>1e-12*h;){var L=.5*(k+I);if(d.kb.oj(h,l,y.x,y.y,S*L,a.u,m,w,p),A.x=m.u,A.y=w.u,A.x==u)break;if(x.Sn(y.x,A.x,u))I=L;else{if(!x.Sn(s.x,A.x,u))return NaN;k=L}}return A.y},x.Sn=function(h,l,s){return h=O.Cp(h),l=O.mx(h,O.Cp(l)),(s=O.mx(h,O.Cp(s)))==0||0<l&&0<s&&s<=l||0>l&&0>s&&s>=l},x.Zm=function(h,l){var s=l.va-l.oa;return l.It(h-Math.floor((h-l.oa)/s)*s)},x.os=function(h,l,s,a){var u=new d.Nc;for(u.K(l,s),s=a.R(),h=Math.floor((h-l)/s)*s+h,u=u.sf();Math.abs(h-u)>Math.abs(h+s-u);)h+=s;return h},x.Lz=function(h,l,s,a,u){if(s.y>a.y)var p=a;else p=s,s=a;if((a=new d.Nc).K(p.y,s.y),!a.contains(0)||3.141592653589793<=Math.abs(p.x-s.x))return NaN;if(p.x==s.x)return p.x;var y=new d.ga(0),m=new d.ga(0),w=new d.ga(0);d.kb.wd(h,l,p.x,p.y,s.x,s.y,m,y,null,u);var S=m.u,k=0,I=1,A=new d.h;for(A.L(p);S*(I-k)>1e-12*h;){var L=.5*(k+I);if(d.kb.oj(h,l,p.x,p.y,S*L,y.u,m,w,u),A.x=m.u,A.y=w.u,a.K(p.y,A.y),A.y==0)break;if(a.contains(0))I=L;else{if(a.K(s.y,A.y),!a.contains(0))return NaN;k=L}}return A.x},x.Hp=function(h,l,s,a,u,p,y){var m=new d.l;if(h.A(m),m.B())return h;var w=new d.Nc;m.cn(w);var S=new d.Nc;if(S.K(l,l+s),S.contains(w)&&S.va!=w.va)return h;var k=new d.l;k.K(m);var I=h.getType();if(I==33)return((m=(k=u?h:h.Of()).Lg())<S.oa||m>=S.va||y&&m==S.va)&&(m+=Math.ceil((S.oa-m)/s)*s,m=S.It(m),k.cC(m)),k;if(I==550){for(a=(k=u?h:h.Of()).ub(0),I=2*k.I(),h=!1,u=0;u<I;u+=2)((m=a.read(u))<S.oa||m>=S.va||y&&m==S.va)&&(h=!0,m+=Math.ceil((S.oa-m)/s)*s,m=S.It(m),a.write(u,m));return h&&k.Pc(1993),k}if(S.contains(w))return h;if(I==197)return s=u?h:h.Of(),m.Ea(k),s.Xo(m),s;var A=.1*Math.max(m.ca(),m.R());for(k.W(0,A),y=h,S=a.Xd(0),h=d.Gh.local(),u=new d.Dd;;){var L=Math.floor((w.oa-l)/s),D=Math.ceil((w.va-l)/s);if(!(3<D-L))break;L=Math.floor(.5*(D+L)),k.v=m.v-A,k.C=l+s*L;var U=d.Ud.clip(y,k,S,p);k.v=k.C,k.C=m.C+A;var X=d.Ud.clip(y,k,S,p);u.gg((L-D)*s,0),X.Oc(u),I==1736?y=h.V(U,X,a,null):(y=U).add(X,!1),y.A(m),m.cn(w)}for(k.v=l,k.C=l+s,(l=new d.l).K(k),l.W(S,0),(l=Math.floor((m.v-k.v)/s)*s)!=0?(k.move(l,0),u.gg(-l,0)):u.RB(),l=I==1607?new d.Ta(y.description):new d.Da(y.description),p=new d.l,w=new d.l;m.C>k.v;)(A=d.Ud.clip(y,k,S,0)).A(w),(I==1607?!A.B()&&(w.R()>S||w.ca()>S):!A.B()&&(I!=1736||w.R()>S))&&(A.Oc(u),A.A(w),l.A(p),p.W(S,S),p.isIntersecting(w)&&I==1736?l=h.V(l,A,a,null):l.add(A,!1)),k.move(s,0),u.shift(-s,0);return l},x.WI=function(h,l,s,a){var u=new d.de(s.description);u.Fd(s,0,-1),u=d.cb.zh(u,h,l);var p=s.I();if(a.Oa(),!d.cb.Wc(h)||p!=u.I())return!1;var y=new d.l;s.A(y);var m=new d.l;if(u.A(m),y=y.R(),m=m.R(),y!=0&&m!=0){if(m/=y,h=d.cb.gh(l).R()/d.cb.gh(h).R(),1e-10<Math.abs(m/h-1))return!1}else if(y!=0||m!=0)return!1;for(a.add(s,!1),s=0;s<p;s++)h=u.Na(s),a.Cb(s,h);return!0},x.Oz=function(){throw d.i.Ie()},x}()}(te||(te={})),function(d){var O,x,h;(x=O=d.si||(d.si={}))[x.Clip=0]="Clip",x[x.DontClip=1]="DontClip",x[x.PannableFold=2]="PannableFold",function(l){l[l.Geodesic=0]="Geodesic",l[l.Loxodrome=1]="Loxodrome",l[l.GreatElliptic=2]="GreatElliptic",l[l.NormalSection=3]="NormalSection",l[l.ShapePreserving=4]="ShapePreserving"}(h=d.WK||(d.WK={})),d.zb=function(){function l(){}return l.xv=function(s,a,u){if(u||0<a){for(s=s.toString(d.Sc.PE_STR_NAME_CANON|d.Sc.PE_STR_AUTH_NONE),a=[],u=0;u<s.length;u++)a[u]="a"<=s[u]&&"z">=s[u]?a[u]=s[u].toUpperCase():s[u];return a.join()}return s.toString(d.Sc.PE_STR_AUTH_TOP)},l.ur=function(s,a,u,p){var y=p.length,m=u.I();if(m!=0){var w=u.ub(0),S=Math.min(m,y),k=0,I=s.eh();isNaN(a)&&(a=0);for(var A=s.Wc(),L=179*(s=A?s.sc().Oe().R():0)/360;0<m;){if(w.uB(k<<1,S,p),d.ej.projToGeogCenter(I,S,p,a),A)for(var D=0;D<S;D++){var U=p[D][0]-a,X=d.lc.sign(U),J=w.read(2*(k+D));0>X*d.lc.sign(J)&&Math.abs(U)>L&&(p[D][0]+=-X*s)}w.uC(k<<1,S,p),k+=S,m-=S,S=Math.min(m,y)}u.Pc(1993)}},l.IL=function(s,a,u,p){var y=0,m=s.eh();isNaN(y)&&(y=0);var w=s.Wc(),S=s.bf();s=360*S,S*=179;for(var k=p.length,I=0;I<u;){for(var A=I;A<u&&a[A].isNaN();++A)I++;var L=Math.min(k,u-I);if(0<L){A=1;for(var D=I+1;A<L;++A,++D)if(a[D].isNaN()){L=A;break}if(d.ta.Jy(p,a,I,L),d.ej.projToGeogCenter(m,L,p,y),w)for(A=0,D=I;A<L;++A,++D){var U=a[D].x,X=p[A][0]-y,J=d.lc.sign(X);0>J*d.lc.sign(U)&&Math.abs(X)>S&&(p[A][0]-=J*s)}d.ta.Iy(a,I,p,L),I+=L}}},l.Lx=function(s,a,u){var p=u.length,y=a.I();if(!(1>y)){var m=a.ub(0),w=Math.min(y,p),S=0,k=s.eh(),I=s.Wc(),A=I?s.Oe().R():0,L=179*A/360,D=0;for(I&&(D=s.zi());0<y;){if(m.uB(S<<1,w,u),d.ej.geogToProj(k,w,u),I)for(s=0;s<w;s++){var U=u[s][0],X=d.lc.sign(U),J=m.read(2*(S+s))-D;0>X*d.lc.sign(J)&&Math.abs(U)>L&&(u[s][0]+=-X*A)}m.uC(S<<1,w,u),S+=w,y-=w,w=Math.min(y,p)}a.Pc(1993)}},l.HL=function(s,a,u,p){if(u!=0){var y=s.eh(),m=s.Wc(),w=m?s.Oe().R():0,S=179*w/360,k=0;for(m&&(k=s.zi()),s=0;s<u;){for(var I=s;I<u&&a[I].isNaN();++I)s++;var A=Math.min(p.length,u-s);if(0<A){I=1;for(var L=s+1;I<A;++I,++L)if(a[L].isNaN()){A=I;break}if(d.ta.Jy(p,a,s,A),d.ej.geogToProj(y,A,p),m)for(I=0,L=s;I<A;I++){var D=p[I][0],U=d.lc.sign(D);0>U*d.lc.sign(a[L].x-k)&&Math.abs(D)>S&&(p[I][0]-=U*w)}d.ta.Iy(a,s,p,A),s+=A}}}},l.tr=function(s,a,u,p){var y=a.I();if(y!=0){var m=a.ub(0),w=s.ef,S=s.Yf,k=w.sc().Qp(),I=S.sc().Qp(),A=w.bf(),L=S.bf();if((s=s.Wf)==null||s.count()==0){for(u=k/I,p=(w.Up()-S.Up())*L,I=-90*A,s=90*A,k=!1,L=1,w=2*y;L<w;)A=m.get(L),(S=d.O.Rk(A,I,s))!=A&&(m.set(L,S),k=!0),L+=2;if(p!=0||u!=1)for(k=!0,I=new d.h,L=0;L<y;L++)m.tc(2*L,I),I.x*=u,I.x+=p,I.y*=u,m.Tt(2*L,I);k&&a.Pc(1993)}else{w=p.length,S=Math.min(y,w);var D=d.O.lg(S),U=null,X=0,J=NaN,B=NaN,Q=360*L,oe=L/A;u&&(B=90*L,J=89.9*A,U=d.O.lg(S));for(var se=!0,ye=0;y!=0;){for(A=!1,m.uB(X<<1,S,p),L=0;L<S;L++)D[L]=p[L][0];if(u)for(L=0;L<S;L++){var de=Math.abs(p[L][1])-J;0<de&&(A=p[L][1],p[L][1]=d.lc.Cn(J,A),U[L]=d.lc.Cn(de,A),A=!0)}for(L=p[0][0],s.transform(p,S,k,I),se&&(ye=p[0][0]-oe*L,se=!1),L=0;L<S;L++)de=p[L][0]-D[L]*oe-ye,200<Math.abs(de)&&(p[L][0]=0<de?p[L][0]-Q:p[L][0]+Q);if(A){for(L=0;L<S;L++)U[L]!=0&&(p[L][1]+=oe*U[L],p[L][1]>B?p[L][1]=B:p[L][1]<-B&&(p[L][1]=-B));for(A=0;A<S;A++)U[A]=0}m.uC(X<<1,S,p),X+=S,y-=S,S=Math.min(y,w)}a.Pc(1993)}}},l.GL=function(s,a,u,p){if(s.mw)p=90*s.ef.bf(),d.ta.dK(a,u,-p,p);else{var y=s.Wf,m=s.ef,w=s.Yf;s=m.Xr();var S=w.Xr(),k=m.bf(),I=90*k,A=w.bf();if(y==null||y.count()==0){if(p=s/S,y=(m.Up()-w.Up())*A,d.ta.dK(a,u,-I,I),y!=0||p!=1)for(A=0;A<u;A++)a[A].x*=p,a[A].x+=y,a[A].y*=p}else{m=Math.min(u,p.length),I=d.O.lg(m),w=360*A,k=A/k;for(var L=!0,D=0,U=0;u!=0;){for(A=0;A<m;A++)I[A]=a[A+U].x;for(A=a[0].x,d.ta.Jy(p,a,U,m),y.transform(p,m,s,S),d.ta.Iy(a,U,p,m),L&&(D=a[0].x-k*A,L=!1),A=0;A<m;A++){var X=a[U+A].x-I[A]*k-D;200<Math.abs(X)&&(a[U+A].x=0<X?a[U+A].x-w:a[U+A].x+w)}U+=m,u-=m,m=Math.min(u,p.length)}}}},l.dv=function(s,a){return s=s.gh(),isNaN(a)||s.Ju(a,0),s},l.UQ=function(s,a,u,p,y,m,w,S){for(var k=l.dv(p,y),I=k.R(),A=I/360,L=l.pE*A,D=s.ub(0),U=a.Wc(),X=U?I/a.Oe().R():0,J=!1,B=new d.Da(u.description),Q=0,oe=u.da();Q<oe;++Q){var se=U,ye=new d.Ta(u.description);if(ye.addPath(u,Q,!0),w!=0){var de=l.PD(!0,ye,k.H-S,k.H,w);(J=J||de)&&(se=!1)}var Me=-1;se&&(Me=s.Ba(Q));var Se=ye.ub(0),xe=ye.I(),ze=0,Ae=Se.read(0),et=0;de=3*p.Xd(0);var ot=!1,Ue=new d.h;Ue.Rc();var Mt=new d.h;Mt.Rc();for(var mi=!1,gi=1;gi<xe;++gi){var Ft=d.h.construct(Se.eg(2*gi),Se.eg(2*gi+1)),Ut=Ft.x,We=Ut+ze,vi=We-Ae;if(Ft.x=We,Math.abs(vi)>L){if(se){var Tt=Me+(gi+1<xe?gi:0),bn=D.read(2*(Me+gi-1));Tt=(D.read(2*Tt)-bn)*X,Math.abs(vi-Tt)>1*A&&(se=!1)}se||(We=Ut+(ze-=d.lc.Cn(I,We-Ae)),++et,mi=ze!=0,Ft.x=We)}else ot||d.ta.AG(Mt,Ue,Ft,de)&&(ot=!0);mi&&Se.write(2*gi,We),Ae=We,Mt.L(Ue),Ue.L(Ft)}0<et&&ye.Pc(1993),se=ye.Na(0),xe=ye.Na(xe-1),ye=d.h.tb(se,xe)<de?l.uQ(ye,p,y,m,ot):l.vQ(s,Q,ye,p,y),B.add(ye,!1)}return y=p.Xd(0),u=k.R()/180,l.Jt(B,k,.1*y,!1),B=B!=(y=d.ri.clip(B,k,y,u,m)),s=s.Ke(),w=0,0<(S=y.Ke())&&0>s?w=1:0>=S&&0<s&&(S==0?(S=NaN,a.Sb()==2?S=a.ml().Ke():a.Sb()==1&&(S=a.Oe().wF()),s>.99*S&&(w=-1)):w=-1),w!=0&&((a=new d.Da(y.description)).tp(k),(a=d.Xl.local().V(a,u,m)).add(y,!1),B=!0,y=a),B&&(y=d.Yl.local().V(y,p,!1,m)),y},l.vQ=function(s,a,u,p,y){var m=u.I(),w=u.Na(0),S=u.Na(m-1);y=(p=l.dv(p,y)).R(),w=d.lc.sign(S.x-w.x);var k=new d.l;u.xc(k);var I=p.gk();if(S=I-y,I+=y,0<=w){var A=Math.ceil((S-k.v)/y);for(A*=y;S>k.v+A;)A+=y;for(;S<k.C+A;)A-=y;var L=A;720<k.R()&&(I=S+360*Math.ceil(k.R()/360))}else{for(A=Math.ceil((I-k.C)/y),A*=y;I<k.C+A;)A-=y;for(;I>k.v+A;)A+=y;L=A,720<k.R()&&(S=I-360*Math.ceil(k.R()/360))}A=w*y;var D=d.l.construct(k.v,k.G,k.C,k.H);D.move(L,0);var U=new d.Dd;U.gg(L,0),u.Oc(U),(k=new d.Ta(u.description)).add(u,!1),L=u.Na(m-1),y=0;for(var X=k.Na(0).x,J=0;0<w?D.C<I:D.v>S;)1024<=J&&(J=0),D.move(A,0),U.Gb=A,u.Oc(U),X+=A,p.v<=X&&p.C>=X&&(y=k.I()-1),u.Cb(0,L),L=u.Na(m-1),k.Dr(u,0,0,m-1,!1);return u=new d.Da(k.description),m=0<s.Ir(a),u.add(k,!1),s=k.Na(0),S=k.Na(k.I()-1),a=u.da()-1,(0>w?m:!m)?(w=d.h.construct(S.x,p.H),u.Ci(w),w=d.h.construct(p.gk(),p.H),u.Ci(w),p=d.h.construct(s.x,p.H)):(w=d.h.construct(S.x,p.G),u.Ci(w),w=d.h.construct(p.gk(),p.G),u.Ci(w),p=d.h.construct(s.x,p.G)),u.Ci(p),u.xG(0,a,0),u.kO(y),u},l.uQ=function(s,a,u,p,y){var m=new d.Da(s.description);m.add(s,!1),m.DB(0,m.I()-1);var w=new d.l;m.xc(w);var S=(u=l.dv(a,u)).R(),k=Math.ceil((u.v-w.v)/S);for(k*=S;u.v>w.v+k;)k+=S;for(;u.v<w.C+k;)k-=S;if((k+=S)!=0){w.move(k,0);var I=new d.Dd;I.gg(k,0),m.Oc(I)}if(u.v<=w.v&&u.C>w.C)return y&&(y=m.Ke(),a=(m=d.Yl.local().V(m,a,!0,p)).Ke(),(a=d.lc.sign(y)!=d.lc.sign(a))&&m.oJ()),m;for((s=new d.Da(s.description)).add(m,!1),y=y||w.R()>S-a.Xd(0);w.v<u.C;)w.move(S,0),(I=new d.Dd).gg(S,0),m.Oc(I),s.add(m,!1);return y&&(y=s.Ke(),s.Yo(1),a=(s=d.Yl.local().V(s,a,!0,p)).Ke(),(a=d.lc.sign(y)!=d.lc.sign(a))&&s.oJ()),s},l.PD=function(s,a,u,p,y){for(var m=a.ub(0),w=a.I(),S=!1,k=0;k<w;k++){var I=d.h.construct(m.eg(2*k),m.eg(2*k+1));if(1&y&&I.y>=u){S=!0;break}if(2&y&&I.y<=-u){S=!0;break}}if(!S)return!1;m=!1,s&&(m=a.Nn(0)),w=(s=new d.gd).Ib(a),S=s.Ob(w);var A=-1,L=!0,D=new d.h;D.Rc(),k=new d.Sa;for(var U=-1,X=s.Xa(S);X!=-1;X=s.U(X)){I=s.Na(X);var J=1&y&&90<=I.y?1:0;if(J|=2&y&&I.y<=-u?2:0,0<A&&A!=J){if(D.x!=I.x){D.x=I.x,s.Vi(s.Ma(X),k);var B=s.wj(S,X,k);s.mf(B,D)}if(m)for(U=U!=-1?s.U(U):s.Xa(S),B=s.Ma(X);U!=B;)U=s.pd(U,!1);U=-1}0<J&&(I.y=d.lc.Cn(p,I.y),s.mf(X,I),L||A==J||(I.x!=D.x?(s.Vi(X,k),B=s.wj(S,X,k),s.Cb(B,D.x,I.y),U=B):U=X)),A=J,D=I,L=!1}if(m){if(U!=-1)for(U=s.U(U);U!=-1;)U=s.pd(U,!1);u=s.Xa(S),s.fq(u,s.rj(S))||(s.Vi(u,k),s.wj(S,-1,k))}return s.Ne(w).copyTo(a),!0},l.Mz=function(s,a,u,p){var y=s;if(y.B()||u==O.DontClip)return y;var m=y.getType();if(m==33)return y=[(p=y).D()],l.yG(y,1,a,u),y[0].isNaN()?p.Oa():p.Cb(y[0]),s;var w=(s=a.sc()).bf(),S=90*w,k=180*w,I=360*w,A=a.zi(),L=.5*w,D=new d.l;y.A(D);var U=a.Vr(),X=a.PQ(),J=U.getType()==197;if(a=new d.l,U.A(a),u==O.PannableFold&&(u=s.Oe().R(),a.v=A-.5*u,a.C=a.v+u),D.G<-S||D.H>S){if(new d.l().K(D.v-w,-S,D.C+w,S),(y=d.ri.Nu(y,a,s,NaN,0,p)).B())return y;y.A(D)}if(X&&(a.H<D.G||a.G>D.H))return y.Ia();if(D.R()>I&&(y=l.Hp(y,A-k,I,s,!0,0,!0,p)).A(D),(S=l.eO(D.v,D.C,a.v,a.C,I))!=0&&D.move(S,0),D.C>a.C||D.v<a.v){if(D.C>a.C)for(;D.v>=a.C;)D.move(-I,0),S-=I;for(;D.v<a.C-I;)D.move(I,0),S+=I}if(u=d.ta.Hu(s,U),S!=0&&((w=new d.Dd).gg(S,0),y.Oc(w)),X){if(J&&a.contains(D))return y;for(X=[null,null],S=0;2>S;S++){if(J?w=d.aa.Hc(m)?d.ri.clip(y,a,u,L,p):d.ri.clip(y,a,u,0,p):(w=d.Xj.local().V(y,U,s,p))==U&&(w=d.aa.jg(w)),a.v<=D.v&&a.C>=D.C||a.v>=D.v&&a.C<=D.C)return w;X[S]=w,S==0&&(D.move(-I,0),(w=new d.Dd).gg(-I,0),y.Oc(w))}if(m==550)X[0].Fd(X[1],0,-1);else if(d.aa.Hc(m))X[0].add(X[1],!1);else{if(m!=33)throw d.i.fa("intersect_with_GCS_horizon: unexpected geometry type");X[0].B()&&(X[0]=X[1])}return X[0]}if(a.H<D.G||a.G>D.H)return y;for(m=0;!y.B()&&D.C>a.v;)m!=0&&((w=new d.Dd).gg(m,0),y.Oc(w)),d.dj.local().V(4,y,U,s,p)||U==(y=d.kp.local().V(y,U,s,p))&&(y=d.aa.jg(y)),m!=0&&((L=new d.Dd).gg(-m,0),y.Oc(L)),m-=I,D.move(-I,0);return y},l.yG=function(s,a,u,p){if(a!=0&&p!=O.DontClip)if(p==O.PannableFold){p=u.HR();for(var y=a,m=0;m<a;m++)(s[m].y>p.H||s[m].y<p.G)&&(s[m].Rc(),y--);y!=0&&l.av(s,a,p.v,p.R())}else{var w=90*(p=u.bf()),S=180*p;for(p*=360,y=a,m=0;m<a;m++)(s[m].y>w||s[m].y<-w)&&(s[m].Rc(),y--);if(y!=0){(y=new d.l).Zw(s,a),w=u.Vr();var k=u.hv();m=w.getType()==197;var I=new d.l;if(w.A(I),!k||!(I.H<y.G||I.G>y.H))if(k)if(l.av(s,a,I.gk()-S,p),y=a,m)for(m=0;m<a;m++)I.contains(s[m])||(s[m].Rc(),y--);else for(u=d.ta.Hu(u.sc(),w),m=0;m<a;m++)(S=d.hd.Yd(w,s[m],u)!=0)||(s[m].Rc(),y--);else for(l.av(s,a,-S,p),y=a,u=d.ta.Hu(u.sc(),w),m=0;m<a;m++)(S=s[m]).isNaN()&&y--,k=l.tE(S.x,I.v,I.C,p),S.x+=k,(S=d.hd.Yd(w,S,u)!=0)&&(s[m].Rc(),y--)}}},l.Hp=function(s,a,u,p,y,m,w,S){var k=s.getType(),I=a+u;if(k===33){var A=(p=y?s:s.Of()).Lg();return(A<a||A>=I||w&&A==I)&&(A+=Math.ceil((a-A)/u)*u,A=d.O.Rk(A,a,I),p.cC(A)),p}if(s.B()||(A=new d.l,s.A(A),A.B()))return s;var L=new d.Nc;A.cn(L);var D=new d.Nc;if(D.K(a,I),D.contains(L))return s;if((I=new d.l).K(A),k===550){for(S=(p=y?s:s.Of()).ub(0),k=2*p.I(),I=!1,a=0;a<k;a+=2)((A=S.read(a))<D.oa||A>=D.va||w&&A==D.va)&&(I=!0,A+=Math.ceil((D.oa-A)/u)*u,A=D.It(A),S.write(a,A));return I&&p.Pc(1993),p}if(k==197)return u=y?s:s.Of(),A.Ea(I),u.Xo(A),u;var U=.1*Math.max(A.ca(),A.R());for(I.W(0,U),w=s,D=p.Xd(0),s=d.Gh.local(),y=new d.Dd;;){var X=Math.floor((L.oa-a)/u),J=Math.ceil((L.va-a)/u);if(!(3<J-X))break;X=Math.floor(.5*(J+X)),I.v=A.v-U,I.C=a+u*X;var B=d.ri.clip(w,I,D,m,S);I.v=I.C,I.C=A.C+U;var Q=d.ri.clip(w,I,D,m,S);y.gg((X-J)*u,0),Q.Oc(y),k==1736?w=s.V(B,Q,p,null):(w=B).add(Q,!1),w.A(A),A.cn(L)}for(I.v=a,I.C=a+u,(a=new d.l).K(I),a.W(D,0),(a=Math.floor((A.v-I.v)/u)*u)!=0?(I.move(a,0),y.gg(-a,0)):y.RB(),a=k==1607?new d.Ta(w.description):new d.Da(w.description),m=new d.l,L=new d.l;A.C>I.v;)(U=d.ri.clip(w,I,D,0,S)).A(L),(k==1607?!U.B()&&(L.R()>D||L.ca()>D):!U.B()&&(k!=1736||L.R()>D))&&(U.Oc(y),U.A(L),a.A(m),m.W(D,D),m.isIntersecting(L)&&k==1736?a=s.V(a,U,p,null):a.add(U,!1)),I.move(u,0),y.shift(-u,0);return a},l.av=function(s,a,u,p){for(var y=u+p,m=0;m<a;m++){var w=s[m].x;u<=w&&w<y||!(w<u||w>y||w==y)||(w+=Math.ceil((u-w)/p)*p,w=d.O.Rk(w,u,y),s[m].x=w)}},l.Fn=function(s,a,u,p,y,m){if(!a.Wc())throw d.i.fa("fold_into_360_degree_range");if(s.B())return s;if(a.Sb()==2){u=a.pv();var w=a.ov()-u}else{var S=a.bf();w=360*S,u-=180*S}return l.Hp(s,u,w,a,p,y,!0,m)},l.qF=function(s,a,u,p){if(u.Sb()==2)p=u.pv(),u=u.ov()-p;else{var y=u.bf();u=360*y,p-=180*y}l.av(s,a,p,u)},l.lj=function(s,a){var u=a.Oe();if(s.getType()==33){var p=s.ih();return u.G<=p&&p<=u.H?s:s.Ia()}p=new d.l,s.A(p);var y=new d.l;return y.K(u),y.v=p.v,y.C=p.C,y.W(.01*y.ca(),0),u=d.ta.uy(a,p),y.contains(p)?s:d.ri.clip(s,y,u,0,null)},l.ir=function(s,a,u){return s>a.C&&s-a.C<u?a.C:s<a.v&&a.v-s<u?a.v:s},l.FX=function(s,a,u,p){p.x=l.ir(s.x,a,u),p.y=s.y},l.EX=function(s,a,u,p){for(var y=0;y<a;y++)s[y].y<u.G||s[y].y>u.H?s[y].Rc():s[y].x=l.ir(s[y].x,u,p)},l.Jt=function(s,a,u,p){if(!s.B()){var y=s.getType();if(!p||y!=1736)if(d.aa.xj(y)){p=s.ub(0),y=0;for(var m=s.I();y<m;y++){var w=p.read(2*y),S=l.ir(w,a,u);S!=w&&p.write(2*y,S)}s.Pc(1993)}else if(y==197)p=new d.l,s.A(p),p.v=l.ir(p.v,a,u),p.C=l.ir(p.C,a,u),s.Xo(p);else{if(y!=33)throw d.i.fa("internal error");s.cC(l.ir(s.Lg(),a,u))}}},l.uS=function(s,a,u,p){var y=new d.gd,m=y.Ib(s);return s=d.ta.Hu(a,s),l.ks(y,m,a,s,u,!0,p),y.Ne(m)},l.ks=function(s,a,u,p,y,m,w){if(!u.Wc())throw d.i.N("invalid call");var S=u.Oe(),k=u.sc(),I=k.eh().getDatum().getSpheroid();k=k.Hd().ai;var A=I.getFlattening();I=I.getAxis(),A*=2-A;var L=new d.Nc;S.cn(L);var D=null,U=[[0,0],[0,0]];if(u.Sb()==2?(D=u.eh(),m?(U[0][0]=l.Zm(w,L),U[0][1]=S.Jp(),d.ej.projToGeog(D,1,U),S=U[0][0]*k):(U[0][0]=S.gk(),U[0][1]=w,d.ej.projToGeog(D,1,U),S=U[0][1]*k)):S=w*k,!m&&S!=0&&y!=h.GreatElliptic)throw d.i.fa("invalid argument");var X=new d.ga,J=[0],B=new d.h,Q=new d.h,oe=new d.h,se=[null,null],ye=new d.h,de=new d.h,Me=new d.h,Se=new d.h;for(a=s.Ob(a);a!=-1;a=s.Rb(a)){var xe=s.Xa(a);s.D(xe,ye);for(var ze=!1,Ae=xe=s.U(xe);Ae!=-1;Ae=s.U(Ae)){if(Ae==xe){if(ze)break;ze=!0}if(s.D(Ae,de),m&&(p<w-ye.x&&de.x-w>p||p<w-de.x&&ye.x-w>p)||!m&&(w!=0||p<-ye.y&&de.y>p||p<-de.y&&ye.y>p))do if(!(Math.abs(ye.x-de.x)>=.5*L.R())){if(u.Sb()==2?(U[0][0]=l.Zm(ye.x,L),U[0][1]=ye.y,U[1][0]=l.Zm(de.x,L),U[1][1]=de.y,d.ej.projToGeogCenter(D,2,U,0),Me.x=U[0][0]*k,Me.y=U[0][1]*k,Se.y=U[1][1]*k):(Me.x=ye.x*k,Me.y=ye.y*k,Se.y=de.y*k),Se.x=2*(de.x-ye.x)*Math.PI/L.R()+Me.x,m){if(Q.x=S,Q.y=l.Nz(I,A,Me,Se,S,y),isNaN(Q.y))break;se[0]=Q;var et=1}else if(y==h.GreatElliptic){var ot=[0,0];if((et=d.Ox.Oz(A,Me,Se,S,ot))==0)break;Q.x=ot[0],Q.y=S,se[0]=Q,et==2&&(oe.x=ot[1],oe.y=S,se[1]=oe)}else{if(Q.x=l.Lz(I,A,Me,Se,y),isNaN(Q.x))break;Q.y=0,se[0]=Q,et=1}var Ue=-1;for(ot=0;ot<et;ot++){d.kb.wd(I,A,Me.x,Me.y,Se.x,Se.y,X,null,null,y);var Mt=X.u;d.kb.wd(I,A,Me.x,Me.y,se[ot].x,se[ot].y,X,null,null,y);var mi=X.u;if(u.Sb()==2?(U[0][0]=se[ot].x/k,U[0][1]=se[ot].y/k,d.ej.geogToProj(D,1,U),m?(B.y=U[0][1],B.x=w):(B.x=l.os(U[0][0],ye.x,de.x,L),B.y=w)):m?(B.x=w,B.y=se[ot].y/k):(B.x=l.os(se[ot].x/k,ye.x,de.x,L),B.y=w),J[0]=0<Mt?d.O.Rk(mi/Mt,0,1):.5,J[0]==0||J[0]==1)break;Ue>J[0]||(Ue=s.Ma(Ae),s.Ul(Ue,J,1),s.Cb(s.U(Ue),B.x,B.y),Ue=J[0])}}while(!1);ye.L(de)}}},l.Zm=function(s,a){var u=a.va-a.oa;return a.It(s-Math.floor((s-a.oa)/u)*u)},l.os=function(s,a,u,p){var y=new d.Nc;for(y.K(a,u),u=p.R(),s=Math.floor((s-a)/u)*u+s,y=y.sf();Math.abs(s-y)>Math.abs(s+u-y);)s+=u;return s},l.Sn=function(s,a,u){return s=d.qr.Cp(s),a=d.qr.mx(s,d.qr.Cp(a)),(u=d.qr.mx(s,d.qr.Cp(u)))==0||0<a&&0<u&&u<=a||0>a&&0>u&&u>=a},l.Nz=function(s,a,u,p,y,m){if(m==h.GreatElliptic)return d.Ox.SS(a,u,p,y);if(Math.abs(u.x-p.x)>=Math.PI||!l.Sn(u.x,p.x,y))return NaN;if(u.x>p.x)var w=p;else w=u,u=p;p=new d.ga;var S=new d.ga,k=new d.ga;d.kb.wd(s,a,w.x,w.y,u.x,u.y,S,p,null,m);var I=S.u,A=0,L=1,D=new d.h;for(D.L(w);I*(L-A)>1e-12*s;){var U=.5*(A+L);if(d.kb.oj(s,a,w.x,w.y,I*U,p.u,S,k,m),D.x=S.u,D.y=k.u,D.x==y)break;if(l.Sn(w.x,D.x,y))L=U;else{if(!l.Sn(u.x,D.x,y))return NaN;A=U}}return D.y},l.Lz=function(s,a,u,p,y){if(y==h.GreatElliptic)return s=[0,0],d.Ox.Oz(a,u,p,0,s),s[0];if(u.y>p.y)var m=p;else m=u,u=p;if((p=new d.Nc).K(m.y,u.y),!p.contains(0)||Math.abs(m.x-u.x)>=Math.PI)return NaN;if(m.x==u.x)return m.x;var w=new d.ga,S=new d.ga,k=new d.ga;d.kb.wd(s,a,m.x,m.y,u.x,u.y,S,w,null,y);var I=S.u,A=0,L=1,D=new d.h;for(D.L(m);I*(L-A)>1e-12*s;){var U=.5*(A+L);if(d.kb.oj(s,a,m.x,m.y,I*U,w.u,S,k,y),D.x=S.u,D.y=k.u,p.K(m.y,D.y),D.y==0)break;if(p.contains(0))L=U;else{if(p.K(u.y,D.y),!p.contains(0))return NaN;A=U}}return D.x},l.WI=function(s,a,u,p){if(!s.ef.Wc())return!1;var y=new d.de(a.description);if(y.Fd(a,0,-1),p=d.Hx.local().V(y,s,p),y=a.I(),u.Oa(),y!=p.I())return!1;var m=new d.l;a.A(m);var w=new d.l;if(p.A(w),m=m.R(),w=w.R(),m!=0&&w!=0){if(w/=m,s=s.Yf.gh().R()/s.ef.gh().R(),1e-10<Math.abs(w/s-1))return!1}else if(m!=0||w!=0)return!1;for(u.add(a,!1),a=new d.h,s=0;s<y;s++)p.D(s,a),u.Cb(s,a);return!0},l.qN=function(s,a){return(s%=360*a)>=180*a&&(s-=360*a),s},l.UI=function(s,a,u,p){if(u==O.Clip){var y=a.ml();y.getType()==197?(u=new d.l,y.A(u),y=d.ta.uy(a,u),s=d.ri.clip(s,u,y,5e4*a.pm(),p)):d.dj.local().V(1,y,s,a,p)||(s=d.Xj.local().V(s,y,a,p))==y&&(s=d.Vk.jg(s))}else a.Wc()&&(p=new d.l,s.xc(p),a.Oe().contains(p)||(l.Jt(s,a.Oe(),a.Xd(0),!0),u==O.PannableFold&&(s=l.lj(s,a)),s=l.Fn(s,a,0,!0,1e5*a.pm(),null)));return s},l.XD=function(s,a,u){var p=a.Wr();if(p==null)return s;var y=(a=a.sc()).Oe().R(),m=new d.l;s.xc(m);var w=new d.Nc;m.cn(w),m=p.Ga(),p=null;for(var S=new d.Dd;m.$a();)for(;m.Ha();){var k=m.ha(),I=k.Tg(0,0),A=new d.Nc;for(A.K(I.oa,I.va),I=0;A.va>w.oa;)A.move(-y),--I;for(;A.oa<=w.va;){if(A.isIntersecting(w)){p==null&&(p=new d.Ta);var L=d.yb.cP(k.ac(),k.wc());I!=0&&(S.gg(I*y,0),L.Oc(S)),p.oc(L,!0)}A.move(y),++I}}return p!=null?(a=d.ta.gO(a,p),a=d.ta.Er(a),d.$t.lP(s,p,a,u)):s},l.eO=function(s,a,u,p,y){return s>=u&&a<=p?0:l.tE(.5*(a+s),u,p,y)},l.tE=function(s,a,u,p){return d.lc.round((.5*(u+a)-s)/p)*p},l.VQ=function(s,a,u,p,y,m,w,S){var k=l.dv(p,y),I=k.R(),A=I/360,L=l.pE*A,D=s.ub(0),U=a.Wc(),X=U?I/a.Oe().R():0;a=s.Ia();for(var J=0,B=u.da();J<B;++J){var Q=U,oe=new d.Ta(u.description);oe.addPath(u,J,!0);var se=u.dc(J);w!=0&&(se=l.PD(se,oe,k.H-S,k.H,w))&&(Q=!1);var ye=-1;se=oe.I();var de=!1;Q&&(ye=s.Ba(J),de=s.dc(J));var Me=oe.ub(0),Se=0,xe=Me.read(0),ze=0,Ae=3*p.Xd(0),et=!1,ot=new d.h;ot.Rc();var Ue=new d.h;Ue.Rc();for(var Mt=!1,mi=1;mi<se;++mi){var gi=d.h.construct(Me.eg(2*mi),Me.eg(2*mi+1)),Ft=gi.x,Ut=Ft+Se,We=Ut-xe;if(gi.x=Ut,Math.abs(We)>L){if(Q){var vi=ye+mi-1,Tt=ye;(!de||mi+1<se)&&(Tt+=mi),vi=D.read(2*vi),Tt=(D.read(2*Tt)-vi)*X,Math.abs(We-Tt)>1*A&&(U=!1)}Q||(Ut=Ft+(Se-=d.lc.Cn(I,Ut-xe)),++ze,Mt=Se!=0,gi.x=Ut)}else et||d.ta.AG(ot,Ue,gi,Ae)&&(et=!0);Mt&&Me.write(2*mi,Ut),xe=Ut,ot.L(Ue),Ue.L(gi)}ze!=0&&oe.Pc(1993),Q=oe.Na(0),se=oe.Na(se-1),d.h.tb(Q,se),oe=l.wQ(oe,p,isNaN(y)?0:y,m),a.add(oe,!1)}return s=p.Xd(0),u=k.R()/180,l.Jt(a,k,.1*s,!1),d.ri.clip(a,k,s,u,m)},l.wQ=function(s,a,u,p){return l.Fn(s,a,u,!0,0,p)},l.OS=function(s,a,u,p){var y=s.getType();if(y==1736)for(a=a!=null?a.Xd(0):0,y=0;y<p;y++)d.hd.Yd(s,u[y],a)!=1&&u[y].Rc();else{if(y!=197)throw d.i.N();for(y=0;y<p;y++)s.dP(u[y])||u[y].Rc()}},l.$k=function(s,a,u,p){if(32>u)for(var y=new d.Sa,m=0;m<u;m++)y.Cb(a[m]),s.$k(y,p).D(a[m]);else{var w=new d.de;for(w.re(3),w.HD(a,u),y=w.ub(3),m=0;m<u;m++)y.write(m,m);for(m=s.$k(w,p),s=m.ub(0),y=m.ub(3),p=d.h.construct(NaN,NaN),w=0;w<u;w++)a[w]=p;for(u=m.I(),m=0;m<u;m++)p=y.read(m),s.tc(2*m,a[p])}},l.Zk=function(s,a,u,p){if(32>u)for(var y=new d.Sa,m=0;m<u;m++)y.Cb(a[m]),s.Zk(y,p).D(a[m]);else{var w=new d.de;for(w.re(3),w.HD(a,u),y=w.ub(3),m=0;m<u;m++)y.write(m,m);for(m=s.Zk(w,p),s=m.ub(0),y=m.ub(3),p=d.h.construct(NaN,NaN),w=0;w<u;w++)a[w]=p;for(u=m.I(),m=0;m<u;m++)p=y.read(m),s.tc(2*m,a[p])}},l.pE=210,l}()}(te||(te={})),function(d){var O;(O=d.UL||(d.UL={}))[O.rightSide=1]="rightSide";var x=function(){function h(l,s,a){this.Bs=new d.h,l===void 0?this.Io=-1:(this.Bs.L(l),this.Io=s,this.Ka=a,this.nw=0)}return h.prototype.WJ=function(l){this.nw=l?1|this.nw:-2&this.nw},h.prototype.B=function(){return 0>this.Io},h.prototype.fz=function(){if(this.B())throw d.i.fa("invalid call");return new d.Sa(this.Bs.x,this.Bs.y)},h.prototype.Ua=function(){if(this.B())throw d.i.fa("invalid call");return this.Io},h.prototype.hz=function(){if(this.B())throw d.i.fa("invalid call");return this.Ka},h.prototype.Sz=function(){return!!(1&this.nw)},h.prototype.ey=function(l,s,a,u){this.Bs.x=l,this.Bs.y=s,this.Io=a,this.Ka=u},h}();d.$l=x}(te||(te={})),function(d){var O=function(){function h(){}return h.prototype.Uo=function(l,s){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,l.xc(this.Ek),this.Ek.W(s,s),this.Ek.isIntersecting(this.Fb.Ca)){var a=l.getType();(this.vs=d.aa.yd(a))?(this.TH=l.ac(),this.SH=l.wc(),this.qa=s):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},h.prototype.Xi=function(l,s){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(l),this.Ek.W(s,s),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},h.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var l=null,s=null,a=null,u=null;this.vs&&(l=new d.h,s=new d.h,a=new d.l);for(var p=!1;!p;){for(;this.tk!=-1;){var y=this.Fb.bz(this.Fb.fv(this.tk));if(y.isIntersecting(this.Ek)){if(!this.vs){p=!0;break}if(l.L(this.TH),s.L(this.SH),a.K(y),a.W(this.qa,this.qa),0<a.zy(l,s)){p=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){y=this.th.Fc();var m=this.Ii[this.Ii.length-1];for(u==null&&((u=[])[0]=new d.l,u[1]=new d.l,u[2]=new d.l,u[3]=new d.l),x.EJ(m,u),this.th.If(),--this.Ii.length,m=0;4>m;m++){var w=this.Fb.Lp(y,m);if(w!=-1&&0<this.Fb.WR(w)&&u[m].isIntersecting(this.Ek))if(this.vs){if(l.L(this.TH),s.L(this.SH),a.K(u[m]),a.W(this.qa,this.qa),0<a.zy(l,s)){var S=new d.l;S.K(u[m]),this.th.add(w),this.Ii.push(S)}}else(S=new d.l).K(u[m]),this.th.add(w),this.Ii.push(S)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},h.bP=function(l,s,a){var u=new h;return u.Fb=l,u.Ek=new d.l,u.th=new d.ia(0),u.Ii=[],u.Uo(s,a),u},h.aP=function(l,s,a){var u=new h;return u.Fb=l,u.Ek=new d.l,u.th=new d.ia(0),u.Ii=[],u.Xi(s,a),u},h.$O=function(l){var s=new h;return s.Fb=l,s.Ek=new d.l,s.th=new d.ia(0),s.Ii=[],s},h}();d.GY=O;var x=function(){function h(l,s){this.jf=new d.$c(11),this.Zh=new d.$c(5),this.ws=[],this.gw=new d.ia(0),this.Ca=new d.l,this.Nk(l,s)}return h.prototype.reset=function(l,s){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(l,s)},h.prototype.vj=function(l,s){return this.zv(l,s,0,this.Ca,this.kf,!1,-1)},h.prototype.Jz=function(l,s,a){a=a==-1?this.kf:this.WF(a);var u=this.ca(a),p=this.oR(a);return this.zv(l,s,u,p,a,!1,-1)},h.prototype.ja=function(l){return this.jR(l)},h.prototype.GF=function(l){return this.bz(this.fv(l))},h.prototype.ca=function(l){return this.jv(l)},h.prototype.oR=function(l){var s=new d.l;s.K(this.Ca);var a=this.jv(l);l=this.QF(l);for(var u=0;u<2*a;u+=2){var p=d.O.truncate(3&l>>u);p==0?(s.v=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):p==1?(s.C=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):(p==2?s.C=.5*(s.v+s.C):s.v=.5*(s.v+s.C),s.H=.5*(s.G+s.H))}return s},h.prototype.WR=function(l){return this.Az(l)},h.prototype.vR=function(l,s){return O.bP(this,l,s)},h.prototype.MF=function(l,s){return O.aP(this,l,s)},h.prototype.getIterator=function(){return O.$O(this)},h.prototype.Nk=function(l,s){if(0>s||32<2*s)throw d.i.N("invalid height");this.BT=s,this.Ca.K(l),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},h.prototype.zv=function(l,s,a,u,p,y,m){if(!u.contains(s))return a==0?-1:this.zv(l,s,0,this.Ca,this.kf,y,m);if(!y)for(var w=p;w!=-1;w=this.IR(w))this.jx(w,this.Az(w)+1);(w=new d.l).K(u),u=p;var S=[];for(S[0]=new d.l,S[1]=new d.l,S[2]=new d.l,S[3]=new d.l;a<this.BT&&this.iO(u);a++){h.EJ(w,S);for(var k=!1,I=0;4>I;I++)if(S[I].contains(s)){k=!0;var A=this.Lp(u,I);A==-1&&(A=this.rP(u,I)),this.jx(A,this.Az(A)+1),u=A,w.K(S[I]);break}if(!k)break}return this.sS(l,s,a,w,u,y,p,m)},h.prototype.sS=function(l,s,a,u,p,y,m,w){var S=this.NF(p);if(y){if(p==m)return w;this.SP(w),y=w}else y=this.tP(),this.NB(y,l),this.KW(this.fv(y),s);return this.mX(y,p),S!=-1?(this.hx(y,S),this.bx(S,y)):this.GJ(p,y),this.SB(p,y),this.ax(p,this.lv(p)+1),this.hO(p)&&this.MQ(a,u,p),y},h.prototype.SP=function(l){var s=this.WF(l),a=this.NF(s),u=this.OR(l),p=this.nv(l);this.Ur(s)==l?(p!=-1?this.hx(p,-1):this.SB(s,-1),this.GJ(s,p)):a==l?(this.bx(u,-1),this.SB(s,u)):(this.hx(p,u),this.bx(u,p)),this.hx(l,-1),this.bx(l,-1),this.ax(s,this.lv(s)-1)},h.EJ=function(l,s){var a=.5*(l.v+l.C),u=.5*(l.G+l.H);s[0].K(a,u,l.C,l.H),s[1].K(l.v,u,a,l.H),s[2].K(l.v,l.G,a,u),s[3].K(a,l.G,l.C,u)},h.prototype.hO=function(l){return this.lv(l)==8&&!this.gG(l)},h.prototype.MQ=function(l,s,a){var u=this.Ur(a);do{var p=this.fv(u),y=this.Zh.T(u,0);p=this.bz(p),this.zv(y,p,l,s,a,!0,u),u=y=this.nv(u)}while(u!=-1)},h.prototype.iO=function(l){return 8<=this.lv(l)||this.gG(l)},h.prototype.gG=function(l){return this.Lp(l,0)!=-1||this.Lp(l,1)!=-1||this.Lp(l,2)!=-1||this.Lp(l,3)!=-1},h.prototype.rP=function(l,s){var a=this.jf.Ce();return this.OW(l,s,a),this.jx(a,0),this.ax(a,0),this.Pk(a,l),this.KJ(a,this.jv(l)+1),this.NJ(a,s<<2*this.jv(l)|this.QF(l)),a},h.prototype.tP=function(){var l=this.Zh.Ce();if(0<this.gw.size){var s=this.gw.Fc();this.gw.If()}else s=this.ws.length,this.ws.push(new d.l);return this.LW(l,s),l},h.prototype.Lp=function(l,s){return this.jf.T(l,s)},h.prototype.OW=function(l,s,a){this.jf.S(l,s,a)},h.prototype.Ur=function(l){return this.jf.T(l,4)},h.prototype.GJ=function(l,s){this.jf.S(l,4,s)},h.prototype.NF=function(l){return this.jf.T(l,5)},h.prototype.SB=function(l,s){this.jf.S(l,5,s)},h.prototype.QF=function(l){return this.jf.T(l,6)},h.prototype.NJ=function(l,s){this.jf.S(l,6,s)},h.prototype.lv=function(l){return this.jf.T(l,7)},h.prototype.Az=function(l){return this.jf.T(l,8)},h.prototype.ax=function(l,s){this.jf.S(l,7,s)},h.prototype.jx=function(l,s){this.jf.S(l,8,s)},h.prototype.IR=function(l){return this.jf.T(l,9)},h.prototype.Pk=function(l,s){this.jf.S(l,9,s)},h.prototype.jv=function(l){return this.jf.T(l,10)},h.prototype.KJ=function(l,s){this.jf.S(l,10,s)},h.prototype.jR=function(l){return this.Zh.T(l,0)},h.prototype.NB=function(l,s){this.Zh.S(l,0,s)},h.prototype.OR=function(l){return this.Zh.T(l,1)},h.prototype.nv=function(l){return this.Zh.T(l,2)},h.prototype.hx=function(l,s){this.Zh.S(l,1,s)},h.prototype.bx=function(l,s){this.Zh.S(l,2,s)},h.prototype.WF=function(l){return this.Zh.T(l,3)},h.prototype.mX=function(l,s){this.Zh.S(l,3,s)},h.prototype.fv=function(l){return this.Zh.T(l,4)},h.prototype.LW=function(l,s){this.Zh.S(l,4,s)},h.prototype.bz=function(l){return this.ws[l]},h.prototype.KW=function(l,s){this.ws[l].K(s)},h}();d.du=x}(te||(te={})),function(d){var O;(O=d.aL||(d.aL={}))[O.Outside=0]="Outside",O[O.Inside=1]="Inside",O[O.Border=2]="Border";var x=function(){function l(s,a){this.PT=a,this.Vh=s}return l.prototype.setColor=function(s,a){this.iH!=a&&s.flush(),this.iH=a},l.prototype.gF=function(s,a){for(var u=0;u<a;)for(var p=s[u++],y=s[u++],m=s[u++]*this.PT;p<y;p++)this.Vh[m+(p>>4)]|=this.iH<<2*(15&p)},l}();d.HY=x;var h=function(){function l(s,a,u){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(s,a,u)}return l.create=function(s,a,u){if(!l.zE(s))throw d.i.N();return l.wP(s,a,u)},l.pW=function(s){switch(s){case 0:s=1024;break;case 1:s=16384;break;case 2:s=262144;break;default:throw d.i.fa("Internal Error")}return s},l.zE=function(s){return!(s.B()||s.getType()!=1607&&s.getType()!=1736)},l.prototype.rQ=function(s,a){a=a.Ga();for(var u=new d.h,p=new d.h;a.$a();)for(;a.Ha();){var y=a.ha();if(y.getType()!=322)throw d.i.fa("Internal Error");s.Eh(y.ac(),u),s.Eh(y.wc(),p),this.Ri.jy(u.x,u.y,p.x,p.y)}this.Ri.iJ(d.Px.Cx)},l.prototype.sQ=function(){throw d.i.fa("Internal Error")},l.prototype.Ry=function(s,a){for(var u=1;4>u;u++)s.jy(a[u-1].x,a[u-1].y,a[u].x,a[u].y);s.jy(a[3].x,a[3].y,a[0].x,a[0].y),this.Ri.iJ(d.Px.Cx)},l.prototype.rK=function(s,a,u){for(var p=[null,null,null,null],y=0;y<p.length;y++)p[y]=new d.h;a=a.Ga(),u=this.Jk.dY(u)+1.5,y=new d.h;for(var m=new d.h,w=new d.h,S=new d.h,k=new d.h,I=new d.l,A=new d.h;a.$a();){var L=!1,D=!0;for(A.ma(0,0);a.Ha();){var U=a.ha();if(S.x=U.sa,S.y=U.na,k.x=U.pa,k.y=U.la,I.Oa(),I.Zb(S.x,S.y),I.Lk(k.x,k.y),this.vl.HG(I)){this.Jk.Eh(k,k),D?(this.Jk.Eh(S,S),A.L(S),D=!1):S.L(A),y.uc(k,S);var X=.5>(U=y.length());U==0?y.ma(1,0):(X||A.L(k),y.scale(u/U),m.ma(-y.y,y.x),w.ma(y.y,-y.x),S.sub(y),k.add(y),p[0].add(S,m),p[1].add(S,w),p[2].add(k,w),p[3].add(k,m),X?L=!0:this.Ry(s,p))}else L&&(this.Ry(s,p),L=!1),D=!0}L&&this.Ry(s,p)}},l.prototype.sC=function(s){return d.O.truncate(s*this.qH+this.aI)},l.prototype.tC=function(s){return d.O.truncate(s*this.Es+this.cI)},l.wP=function(s,a,u){return new l(s,a,u)},l.prototype.Fz=function(s,a,u){this.Gf=Math.max(d.O.truncate(2*Math.sqrt(u)+.5),64),this.Um=d.O.truncate((2*this.Gf+31)/32),this.vl=new d.l,this.Ik=a,u=0;for(var p=this.Gf,y=this.Um;8<=p;)u+=p*y,p=d.O.truncate(p/2),y=d.O.truncate((2*p+31)/32);this.Vh=d.O.lg(u,0),this.Ri=new d.Px,u=new x(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,u),s.A(this.vl),this.vl.W(a,a),p=new d.l;var m=a*(y=d.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(a*=y.ca(),p.K(this.vl.sf(),Math.max(m,this.vl.R()),Math.max(a,this.vl.ca())),this.SA=this.Ik,this.Jk=new d.Dd,this.Jk.pS(p,y),new d.Dd,s.getType()){case 550:u.setColor(this.Ri,2),this.sQ();break;case 1607:u.setColor(this.Ri,2),this.rK(this.Ri,s,this.SA);break;case 1736:u.setColor(this.Ri,1),this.rQ(this.Jk,s),u.setColor(this.Ri,2),this.rK(this.Ri,s,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},l.prototype.XN=function(){this.Ri.flush();for(var s=0,a=this.Gf*this.Um,u=this.Gf,p=d.O.truncate(this.Gf/2),y=this.Um,m=d.O.truncate((2*p+31)/32);8<u;){for(u=0;u<p;u++)for(var w=2*u,S=2*u+1,k=0;k<p;k++){var I=2*k,A=2*k+1,L=I>>4;I=2*(15&I);var D=A>>4;A=2*(15&A);var U=this.Vh[s+y*w+L]>>I&3;U|=this.Vh[s+y*w+D]>>A&3,U|=this.Vh[s+y*S+L]>>I&3,U|=this.Vh[s+y*S+D]>>A&3,this.Vh[a+m*u+(k>>4)]|=U<<2*(15&k)}u=p,y=m,s=a,p=d.O.truncate(u/2),m=d.O.truncate((2*p+31)/32),a=s+y*u}},l.prototype.So=function(s,a){return this.vl.contains(s,a)?(s=this.sC(s),a=this.tC(a),0>s||s>=this.Gf||0>a||a>=this.Gf||(a=this.Vh[this.Um*a+(s>>4)]>>2*(15&s)&3)==0?0:a==1?1:2):0},l.prototype.Ro=function(s){if(!s.Ea(this.vl))return 0;var a=this.sC(s.v),u=this.sC(s.C),p=this.tC(s.G);if(s=this.tC(s.H),0>a&&(a=0),0>p&&(p=0),u>=this.Gf&&(u=this.Gf-1),s>=this.Gf&&(s=this.Gf-1),a>u||p>s)return 0;for(var y=Math.max(u-a,1)*Math.max(s-p,1),m=0,w=this.Um,S=this.Gf,k=0;;){if(32>y||16>S){for(y=p;y<=s;y++)for(var I=a;I<=u;I++)if(1<(k=this.Vh[m+w*y+(I>>4)]>>2*(15&I)&3))return 2;if(k==0)return 0;if(k==1)return 1}m+=w*S,S=d.O.truncate(S/2),w=d.O.truncate((2*S+31)/32),a=d.O.truncate(a/2),p=d.O.truncate(p/2),u=d.O.truncate(u/2),s=d.O.truncate(s/2),y=Math.max(u-a,1)*Math.max(s-p,1)}},l.prototype.RR=function(){return this.Gf*this.Um},l}();d.Nx=h}(te||(te={})),function(d){var O;(O=d.VL||(d.VL={}))[O.contains=1]="contains",O[O.within=2]="within",O[O.equals=3]="equals",O[O.disjoint=4]="disjoint",O[O.touches=8]="touches",O[O.crosses=16]="crosses",O[O.overlaps=32]="overlaps",O[O.unknown=0]="unknown",O[O.intersects=1073741824]="intersects";var x=function(){function l(){}return l.construct=function(s,a,u,p,y,m,w,S){var k=new l;return k.pw=s,k.Mm=a,k.Kj=u,k.Si=p,k.BH=y,k.SY=m,k.TY=w,k.UY=S,k},l}();d.Vt=function(){function l(){}return l.CD=function(s,a,u){if(l.wy(s)){var p=d.ta.kj(a,s,!1);a=!1,d.Uk.CE(s)&&(a=a||s.lu(p,u)),(p=s.getType())!=1736&&p!=1607||!d.Uk.AE(s)||u==0||(a=a||s.fj(u)),p!=1736&&p!=1607||!d.Uk.BE(s)||u==0||a||s.hM()}},l.wy=function(s){return d.Uk.CE(s)||d.Uk.AE(s)||d.Uk.BE(s)},l}();var h=function(){function l(){this.rh=[]}return l.zB=function(s,a,u,p,y){var m=s.getType(),w=a.getType();if(m==197){if(w==197)return l.tW(s,a,u,p);if(w==33)return p==2?p=1:p==1&&(p=2),l.hJ(a,s,u,p)}else if(m==33){if(w==197)return l.hJ(s,a,u,p);if(w==33)return l.vW(s,a,u,p)}if(s.B()||a.B())return p==4;var S=new d.l;s.A(S);var k=new d.l;a.A(k);var I=new d.l;if(I.K(S),I.Zb(k),u=d.ta.Wd(u,I,!1),l.dk(S,k,u))return p==4;switch(S=!1,d.Vk.yd(m)&&((m=new d.Ta(s.description)).oc(s,!0),s=m,m=1607),d.Vk.yd(w)&&((w=new d.Ta(a.description)).oc(a,!0),a=w,w=1607),m!=197&&w!=197?(s.Db()<a.Db()||m==33&&w==550)&&(p==2?p=1:p==1&&(p=2)):m!=1736&&w!=197&&(p==2?p=1:p==1&&(p=2)),m){case 1736:switch(w){case 1736:S=l.rt(s,a,u,p,y);break;case 1607:S=l.$m(s,a,u,p,y);break;case 33:S=l.qt(s,a,u,p);break;case 550:S=l.pt(s,a,u,p,y);break;case 197:S=l.GI(s,a,u,p,y)}break;case 1607:switch(w){case 1736:S=l.$m(a,s,u,p,y);break;case 1607:S=l.gB(s,a,u,p,y);break;case 33:S=l.tt(s,a,u,p,y);break;case 550:S=l.st(s,a,u,p,y);break;case 197:S=l.MI(s,a,u,p)}break;case 33:switch(w){case 1736:S=l.qt(a,s,u,p);break;case 1607:S=l.tt(a,s,u,p,y);break;case 550:S=l.lt(a,s,u,p)}break;case 550:switch(w){case 1736:S=l.pt(a,s,u,p,y);break;case 1607:S=l.st(a,s,u,p,y);break;case 550:S=l.ZA(s,a,u,p,y);break;case 33:S=l.lt(s,a,u,p);break;case 197:S=l.hI(s,a,u,p)}break;case 197:switch(w){case 1736:S=l.GI(a,s,u,p,y);break;case 1607:S=l.MI(a,s,u,p);break;case 550:S=l.hI(a,s,u,p)}}return S},l.tW=function(s,a,u,p){if(s.B()||a.B())return p==4;var y=new d.l,m=new d.l,w=new d.l;switch(s.A(y),a.A(m),w.K(y),w.Zb(m),s=d.ta.Wd(u,w,!1),p){case 4:return l.dk(y,m,s);case 2:return l.jF(m,y,s);case 1:return l.jF(y,m,s);case 3:return l.ek(y,m,s);case 8:return l.cQ(y,m,s);case 32:return l.bQ(y,m,s);case 16:return l.aQ(y,m,s)}return!1},l.hJ=function(s,a,u,p){if(s.B()||a.B())return p==4;s=s.D();var y=new d.l,m=new d.l;switch(a.A(y),m.K(s),m.Zb(y),a=d.ta.Wd(u,m,!1),p){case 4:return l.Rw(s,y,a);case 2:return l.eB(s,y,a);case 1:return l.RU(s,y,a);case 3:return l.vI(s,y,a);case 8:return l.dB(s,y,a)}return!1},l.vW=function(s,a,u,p){if(s.B()||a.B())return p==4;s=s.D(),a=a.D();var y=new d.l;switch(y.K(s),y.Zb(a),u=d.ta.Wd(u,y,!1),p){case 4:return l.SU(s,a,u);case 2:return l.uI(a,s,u);case 1:return l.uI(s,a,u);case 3:return l.wI(s,a,u)}return!1},l.rt=function(s,a,u,p,y){switch(p){case 4:return l.kV(s,a,u);case 2:return l.Sw(a,s,u,y);case 1:return l.Sw(s,a,u,y);case 3:return l.nV(s,a,u);case 8:return l.vV(s,a,u);case 32:return l.qV(s,a,u,y)}return!1},l.$m=function(s,a,u,p,y){switch(p){case 4:return l.lV(s,a,u);case 1:return l.fB(s,a,u,y);case 8:return l.wV(s,a,u,y);case 16:return l.gV(s,a,u)}return!1},l.qt=function(s,a,u,p){switch(p){case 4:return l.jV(s,a,u);case 1:return l.dV(s,a,u);case 8:return l.uV(s,a,u)}return!1},l.pt=function(s,a,u,p){switch(p){case 4:return l.iV(s,a,u);case 1:return l.cV(s,a,u);case 8:return l.tV(s,a,u);case 16:return l.fV(s,a,u)}return!1},l.GI=function(s,a,u,p,y){if(l.hV(s,a,u))return p==4;if(p==4)return!1;switch(p){case 2:return l.xV(s,a,u);case 1:return l.bV(s,a,u);case 3:return l.mV(s,a,u);case 8:return l.sV(s,a,u,y);case 32:return l.pV(s,a,u,y);case 16:return l.eV(s,a,u,y)}return!1},l.gB=function(s,a,u,p){switch(p){case 4:return l.GV(s,a,u);case 2:return l.KI(a,s,u);case 1:return l.KI(s,a,u);case 3:return l.IV(s,a,u);case 8:return l.NI(s,a,u);case 32:return l.MV(s,a,u);case 16:return l.LI(s,a,u)}return!1},l.tt=function(s,a,u,p){switch(p){case 4:return l.FV(s,a,u);case 1:return l.AV(s,a,u);case 8:return l.QV(s,a,u)}return!1},l.st=function(s,a,u,p){switch(p){case 4:return l.EV(s,a,u);case 1:return l.zV(s,a,u);case 8:return l.PV(s,a,u);case 16:return l.CV(s,a,u)}return!1},l.MI=function(s,a,u,p){if(l.DV(s,a,u))return p==4;if(p==4)return!1;switch(p){case 2:return l.RV(s,a,u);case 1:return l.yV(s,a,u);case 3:return l.HV(s,a,u);case 8:return l.OV(s,a,u);case 32:return l.LV(s,a,u);case 16:return l.BV(s,a,u)}return!1},l.ZA=function(s,a,u,p){switch(p){case 4:return l.gU(s,a,u);case 2:return l.eI(a,s,u);case 1:return l.eI(s,a,u);case 3:return l.iU(s,a,u);case 32:return l.oU(s,a,u)}return!1},l.lt=function(s,a,u,p){switch(p){case 4:return l.fI(s,a,u);case 2:return l.sU(s,a,u);case 1:return l.dU(s,a,u);case 3:return l.Nw(s,a,u)}return!1},l.hI=function(s,a,u,p){switch(p){case 4:return l.fU(s,a,u);case 2:return l.rU(s,a,u);case 1:return l.cU(s,a,u);case 3:return l.hU(s,a,u);case 8:return l.qU(s,a,u);case 16:return l.eU(s,a,u)}return!1},l.nV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,u)&&(p=l.qc(s,a,!1))!=4&&p!=1&&p!=2&&(!!l.dI(s,a,u)||(p=s.Qb(),y=a.Qb(),!(Math.abs(p-y)>4*Math.max(s.I(),a.I())*u)&&l.Wz(s,a,u,!0)))},l.kV=function(s,a,u){var p=l.qc(s,a,!0);return p==4||p!=1&&p!=2&&p!=1073741824&&l.EI(s,a,u)},l.vV=function(s,a,u){var p=l.qc(s,a,!1);return p!=4&&p!=1&&p!=2&&l.II(s,a,u,null)},l.qV=function(s,a,u,p){var y=l.qc(s,a,!1);return y!=4&&y!=1&&y!=2&&l.FI(s,a,u,p)},l.Sw=function(s,a,u,p){var y=new d.l,m=new d.l;return s.A(y),a.A(m),!!l.zc(y,m,u)&&(y=l.qc(s,a,!1))!=4&&y!=2&&(y==1||l.BI(s,a,u,p))},l.lV=function(s,a,u){var p=l.qc(s,a,!0);return p==4||p!=1&&p!=1073741824&&l.EI(s,a,u)},l.wV=function(s,a,u,p){var y=l.qc(s,a,!1);return y!=4&&y!=1&&l.JI(s,a,u,p)},l.gV=function(s,a,u){var p=l.qc(s,a,!1);return p!=4&&p!=1&&l.DI(s,a,u,null)},l.fB=function(s,a,u,p){var y=new d.l,m=new d.l;return s.A(y),a.A(m),!!l.zc(y,m,u)&&(y=l.qc(s,a,!1))!=4&&(y==1||l.CI(s,a,u,p))},l.jV=function(s,a,u){return d.hd.KG(s,a,u)==0},l.uV=function(s,a,u){return a=a.D(),l.HI(s,a,u)},l.dV=function(s,a,u){return a=a.D(),l.AI(s,a,u)},l.iV=function(s,a,u){var p=l.qc(s,a,!1);if(p==4)return!0;if(p==1)return!1;p=new d.l,s.A(p),p.W(u,u);for(var y=new d.h,m=0;m<a.I();m++)if(a.D(m,y),p.contains(y)){var w=d.hd.Yd(s,y,u);if(w==1||w==2)return!1}return!0},l.tV=function(s,a,u){var p=this.qc(s,a,!1);if(p==4||p==1)return!1;p=new d.l,s.A(p),p.W(u,u);for(var y=!1,m=s,w=!1,S=0;S<a.I();S++){var k=a.Na(S);if(p.contains(k)){if((k=d.hd.Yd(m,k,u))==2)y=!0;else if(k==1)return!1}w||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?m=s:(m=new d.Da,s.copyTo(m),m.fj(1)),w=!0)}return!!y},l.fV=function(s,a,u){var p=this.qc(s,a,!1);if(p==4||p==1)return!1;var y=new d.l;p=new d.l;var m=new d.l;s.A(y),a.A(m),p.K(y),p.W(u,u),m=y=!1;for(var w=s,S=!1,k=0;k<a.I();k++){var I=a.Na(k);if(p.contains(I)?(I=d.hd.Yd(w,I,u))==0?m=!0:I==1&&(y=!0):m=!0,y&&m)return!0;S||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?w=s:(w=new d.Da,s.copyTo(w),w.fj(1)),S=!0)}return!1},l.cV=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!this.zc(p,y,u)||(y=this.qc(s,a,!1))==4)return!1;if(y==1)return!0;y=!1;for(var m=s,w=!1,S=0;S<a.I();S++){var k=a.Na(S);if(!p.contains(k))return!1;if((k=d.hd.Yd(m,k,u))==1)y=!0;else if(k==0)return!1;w||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?m=s:(m=new d.Da,s.copyTo(m),m.fj(1)),w=!0)}return y},l.mV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,u)&&((p=new d.Da).ad(a,!1),l.Wz(s,p,u,!0))},l.hV=function(s,a,u){var p=l.qc(s,a,!1);if(p==4)return!0;if(p==1||p==2)return!1;var y=new d.l;if(p=new d.l,s.A(y),a.A(p),l.zc(p,y,u)||(y=new d.h,p.dn(y),(a=d.hd.Yd(s,y,u))!=0)||(p.$I(y),(a=d.hd.Yd(s,y,u))!=0)||(p.en(y),(a=d.hd.Yd(s,y,u))!=0)||(p.cJ(y),(a=d.hd.Yd(s,y,u))!=0))return!1;a=s.ub(0),(y=new d.l).K(p),y.W(u,u);for(var m=0,w=s.I();m<w;m++){var S=a.read(2*m),k=a.read(2*m+1);if(y.contains(S,k))return!1}return!l.TG(s,p,u)},l.sV=function(s,a,u,p){var y=l.qc(s,a,!1);if(y==4||y==1||y==2)return!1;y=new d.l;var m=new d.l;return s.A(y),a.A(m),!l.zc(m,y,u)&&(m.R()<=u&&m.ca()<=u?(a=a.Ip(),l.HI(s,a,u)):m.R()<=u||m.ca()<=u?(y=new d.Ta,m=new d.Sa,a.Hf(0,m),y.nf(m),a.Hf(2,m),y.lineTo(m),l.JI(s,y,u,p)):((y=new d.Da).ad(a,!1),l.II(s,y,u,p)))},l.pV=function(s,a,u,p){var y=l.qc(s,a,!1);if(y==4||y==1||y==2)return!1;y=new d.l;var m=new d.l;return s.A(y),a.A(m),!(l.zc(m,y,u)||m.R()<=u||m.ca()<=u)&&((y=new d.Da).ad(a,!1),l.FI(s,y,u,p))},l.xV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),l.zc(y,p,u)},l.bV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.zc(p,y,u)&&(p=l.qc(s,a,!1))!=4&&p!=2&&(p==1||(y.R()<=u&&y.ca()<=u?(a=a.Ip(),l.AI(s,a,u)):y.R()<=u||y.ca()<=u?(y=new d.Ta,p=new d.Sa,a.Hf(0,p),y.nf(p),a.Hf(2,p),y.lineTo(p),l.CI(s,y,u,null)):((y=new d.Da).ad(a,!1),l.BI(s,y,u,null))))},l.eV=function(s,a,u,p){var y=new d.l,m=new d.l;return s.A(y),a.A(m),!(l.zc(m,y,u)||m.ca()>u&&m.R()>u||m.ca()<=u&&m.R()<=u)&&(y=new d.Ta,m=new d.Sa,a.Hf(0,m),y.nf(m),a.Hf(2,m),y.lineTo(m),l.DI(s,y,u,p))},l.IV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.ek(p,y,u)||l.qc(s,a,!1)==4)&&(!!l.dI(s,a,u)||l.Wz(s,a,u,!1))},l.GV=function(s,a,u){return this.qc(s,a,!1)==4||!!new d.Zl(s,a,u,!0).next()&&!this.UG(s,a,u)},l.NI=function(s,a,u){if(l.qc(s,a,!1)==4)return!1;var p=new d.be(0);if(l.Xz(s,a,u,p)!=0)return!1;for(var y=new d.de,m=0;m<p.size;m+=2){var w=p.read(m),S=p.read(m+1);y.Bu(w,S)}return s=s.mg(),a=a.mg(),s.Fd(a,0,a.I()),l.Mw(s,y,u)},l.LI=function(s,a,u){if(l.qc(s,a,!1)==4)return!1;var p=new d.be(0);if(l.Xz(s,a,u,p)!=0)return!1;for(var y=new d.de,m=0;m<p.size;m+=2){var w=p.read(m),S=p.read(m+1);y.Bu(w,S)}return s=s.mg(),a=a.mg(),s.Fd(a,0,a.I()),!l.Mw(s,y,u)},l.MV=function(s,a,u){return l.qc(s,a,!1)!=4&&l.WG(s,a,u)},l.KI=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,u)||l.qc(s,a,!1)==4)&&l.ym(a,s,u,!1)},l.FV=function(s,a,u){return l.qc(s,a,!1)==4||(a=a.D(),!l.Yz(s,a,u))},l.QV=function(s,a,u){return l.qc(s,a,!1)!=4&&(a=a.D(),l.Zz(s,a,u))},l.AV=function(s,a,u){return l.qc(s,a,!1)!=4&&(a=a.D(),l.SG(s,a,u))},l.EV=function(s,a,u){return l.qc(s,a,!1)==4||!l.VG(s,a,u,!1)},l.PV=function(s,a,u){if(this.qc(s,a,!1)==4)return!1;var p=s.Ga(),y=new d.l,m=new d.l,w=new d.l;s.A(y),a.A(m),y.W(u,u),m.W(u,u),w.K(y),w.Ea(m),y=null;var S=s.Bb;if(S!=null){var k=S.Fb;y=S.zo,k==null&&(k=S=d.ta.jj(s,w))}else k=S=d.ta.jj(s,w);var I=k.getIterator(),A=null;y!=null&&(A=y.getIterator());var L=new d.h,D=new d.h,U=!1,X=u*u;for(y=new d.pn(a.I()),S=0;S<a.I();S++)y.write(S,0);for(S=0;S<a.I();S++)if(a.D(S,L),w.contains(L)){if(m.K(L.x,L.y,L.x,L.y),A!=null&&(A.Xi(m,u),A.next()==-1))continue;I.Xi(m,u);for(var J=I.next();J!=-1;J=I.next())if(p.Vb(k.ja(J)),(J=p.ha()).hc(J.fe(L,!1),D),d.h.yc(L,D)<=X){y.write(S,1),U=!0;break}}if(!U)return!1;for(s=s.mg(),p=new d.de,m=new d.h,S=0;S<a.I();S++)y.read(S)!=0&&(a.D(S,m),p.Bu(m.x,m.y));return this.Mw(s,p,u)},l.CV=function(s,a,u){if(this.qc(s,a,!1)==4)return!1;var p=s.Ga(),y=new d.l,m=new d.l,w=new d.l;s.A(y),a.A(m),y.W(u,u),m.W(u,u),w.K(y),w.Ea(m),y=null;var S=s.Bb;if(S!=null){var k=S.Fb;y=S.zo,k==null&&(k=S=d.ta.jj(s,w))}else k=S=d.ta.jj(s,w);var I=k.getIterator(),A=null;y!=null&&(A=y.getIterator());var L=new d.h,D=new d.h,U=!1,X=!1,J=u*u;for(y=new d.pn(a.I()),S=0;S<a.I();S++)y.write(S,0);for(S=0;S<a.I();S++)if(a.D(S,L),w.contains(L)){if(m.K(L.x,L.y,L.x,L.y),A!=null&&(A.Xi(m,u),A.next()==-1)){X=!0;continue}I.Xi(m,u);for(var B=!1,Q=I.next();Q!=-1;Q=I.next())if(p.Vb(k.ja(Q)),(Q=p.ha()).hc(Q.fe(L,!1),D),d.h.yc(L,D)<=J){y.write(S,1),B=U=!0;break}B||(X=!0)}else X=!0;if(!U||!X)return!1;for(s=s.mg(),p=new d.de,m=new d.h,S=0;S<a.I();S++)y.read(S)!=0&&(a.D(S,m),p.Bu(m.x,m.y));return!this.Mw(s,p,u)},l.zV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,u)||l.qc(s,a,!1)==4||!l.VG(s,a,u,!0))&&(s=s.mg(),!l.gI(s,a,u))},l.HV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(y.ca()>u&&y.R()>u)&&l.ek(p,y,u)},l.DV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!l.zc(y,p,u)&&!l.TG(s,y,u)},l.OV=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),y.ca()<=u&&y.R()<=u)return y=a.Ip(),l.Zz(s,y,u);if(y.ca()<=u||y.R()<=u)return y=new d.Ta,p=new d.Sa,a.Hf(0,p),y.nf(p),a.Hf(2,p),y.lineTo(p),l.NI(s,y,u);s=s.Ga(),a=new d.l,p=new d.l,a.K(y),p.K(y),a.W(-u,-u),p.W(u,u),y=!1;for(var m=new d.l,w=new d.l;s.$a();)for(;s.Ha();){if(s.ha().A(m),w.K(a),w.Ea(m),!w.B()&&(w.ca()>u||w.R()>u))return!1;w.K(p),w.Ea(m),w.B()||(y=!0)}return y},l.LV=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(l.zc(p,y,u)||l.zc(y,p,u)||l.zc(y,p,u)||y.ca()>u&&y.R()>u||y.ca()<=u&&y.R()<=u)&&(p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.WG(s,p,u))},l.RV=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!l.zc(y,p,u)||y.ca()<=u&&y.R()<=u)return!1;if(y.ca()<=u||y.R()<=u)return l.zc(y,p,u);s=s.Ga(),(a=new d.l).K(y),a.W(-u,-u),y=!1,p=new d.l;for(var m=new d.l;s.$a();)for(;s.Ha();)s.ha().A(p),a.hm(p)?y=!0:(m.K(a),m.Ea(p),!m.B()&&(m.ca()>u||m.R()>u)&&(y=!0));return y},l.yV=function(s,a,u){var p=new d.l,y=new d.l;return a.A(y),s.A(p),!(!l.zc(p,y,u)||y.ca()>u&&y.R()>u)&&(y.ca()<=u&&y.R()<=u?(a=a.Ip(),l.SG(s,a,u)):(p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.ym(p,s,u,!1)))},l.BV=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,u)||y.ca()<=u&&y.R()<=u)return!1;if(y.ca()<=u||y.R()<=u)return p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.LI(s,p,u);s=s.Ga(),a=new d.l,(p=new d.l).K(y),a.K(y),p.W(-u,-u),a.W(u,u);for(var m=y=!1,w=new d.l,S=new d.l;s.$a();)for(;s.Ha();)if(s.ha().A(w),m||a.contains(w)||(m=!0),y||(S.K(p),S.Ea(w),!S.B()&&(S.ca()>u||S.R()>u)&&(y=!0)),y&&m)return!0;return!1},l.iU=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,u)&&(!!l.jU(s,a,u)||l.YA(s,a,u,!1,!0,!1))},l.gU=function(s,a,u){return!l.gI(s,a,u)},l.oU=function(s,a,u){return l.YA(s,a,u,!1,!1,!0)},l.eI=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.zc(p,y,u)&&l.YA(a,s,u,!0,!1,!1)},l.Mw=function(s,a,u){u*=u;for(var p=new d.h,y=new d.h,m=0;m<a.I();m++){a.D(m,y);for(var w=!1,S=0;S<s.I();S++)if(s.D(S,p),d.h.yc(p,y)<=u){w=!0;break}if(!w)return!1}return!0},l.Nw=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),l.ek(p,y,u)},l.fI=function(s,a,u){return a=a.D(),l.kt(s,a,u)},l.sU=function(s,a,u){return l.Nw(s,a,u)},l.dU=function(s,a,u){return!l.fI(s,a,u)},l.hU=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(y.ca()>u||y.R()>u)&&l.ek(p,y,u)},l.fU=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,u))return!1;for((a=new d.l).K(y),a.W(u,u),u=new d.h,y=0;y<s.I();y++)if(s.D(y,u),a.contains(u))return!1;return!0},l.qU=function(s,a,u){var p=new d.l,y=new d.l,m=new d.l;if(a.A(p),p.ca()<=u&&p.R()<=u)return!1;if(p.ca()<=u||p.R()<=u){a=new d.h;var w=!1;y.K(p),m.K(p),y.W(u,u),p.ca()>u?m.W(0,-u):m.W(-u,0);for(var S=0;S<s.I();S++)if(s.D(S,a),y.contains(a)){if(p.ca()>u){if(a.y>m.G&&a.y<m.H)return!1}else if(a.x>m.v&&a.x<m.C)return!1;w=!0}return w}for(y.K(p),m.K(p),y.W(u,u),m.W(-u,-u),a=new d.h,w=!1,S=0;S<s.I();S++)if(s.D(S,a),y.contains(a)){if(m.hm(a))return!1;w=!0}return w},l.rU=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!l.zc(y,p,u))return!1;if(y.ca()<=u&&y.R()<=u)return l.ek(p,y,u);if(y.ca()<=u||y.R()<=u){a=!1,p=new d.l;var m=new d.l;p.K(y),m.K(y),y.ca()>u?p.W(0,-u):p.W(-u,0),m.W(u,u);for(var w=new d.h,S=0;S<s.I();S++){if(s.D(S,w),!m.contains(w))return!1;y.ca()>u?w.y>p.G&&w.y<p.H&&(a=!0):w.x>p.v&&w.x<p.C&&(a=!0)}return a}for(a=!1,p=new d.l,m=new d.l,p.K(y),m.K(y),p.W(-u,-u),m.W(u,u),w=new d.h,S=0;S<s.I();S++){if(s.D(S,w),!m.contains(w))return!1;p.hm(w)&&(a=!0)}return a},l.cU=function(s,a,u){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,u)||y.ca()>u||y.R()>u)&&(a=a.Ip(),!l.kt(s,a,u))},l.eU=function(s,a,u){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,u)||y.ca()<=u&&y.R()<=u)return!1;if(y.ca()<=u||y.R()<=u){a=new d.l,p=new d.l,a.K(y),y.ca()>u?a.W(0,-u):a.W(-u,0),p.K(y),p.W(u,u);for(var m=new d.h,w=!1,S=!1,k=0;k<s.I();k++)if(s.D(k,m),w||(y.ca()>u?m.y>a.G&&m.y<a.H&&(w=!0):m.x>a.v&&m.x<a.C&&(w=!0)),S||p.contains(m)||(S=!0),w&&S)return!0;return!1}for(a=new d.l,p=new d.l,a.K(y),a.W(-u,-u),p.K(y),p.W(u,u),m=new d.h,S=w=!1,k=0;k<s.I();k++)if(s.D(k,m),!w&&a.hm(m)&&(w=!0),S||p.contains(m)||(S=!0),w&&S)return!0;return!1},l.wI=function(s,a,u){return d.h.yc(s,a)<=u*u},l.SU=function(s,a,u){return d.h.yc(s,a)>u*u},l.uI=function(s,a,u){return l.wI(s,a,u)},l.vI=function(s,a,u){var p=new d.l;return p.K(s),l.ek(p,a,u)},l.Rw=function(s,a,u){var p=new d.l;return p.K(a),p.W(u,u),!p.contains(s)},l.dB=function(s,a,u){if(a.ca()<=u&&a.R()<=u)return!1;var p=new d.l,y=new d.l;if(p.K(a),p.W(u,u),!p.contains(s))return!1;if(a.ca()<=u||a.R()<=u){if(y.K(a),a.ca()>u?y.W(0,-u):y.W(-u,0),a.ca()>u){if(s.y>y.G&&s.y<y.H)return!1}else if(s.x>y.v&&s.x<y.C)return!1;return!0}return y.K(a),y.W(-u,-u),!y.hm(s)},l.eB=function(s,a,u){if(a.ca()<=u&&a.R()<=u)return!0;if(a.ca()<=u||a.R()<=u){var p=new d.l;p.K(a),a.ca()>u?p.W(0,-u):p.W(-u,0);var y=!1;return a.ca()>u?s.y>p.G&&s.y<p.H&&(y=!0):s.x>p.v&&s.x<p.C&&(y=!0),y}return(p=new d.l).K(a),p.W(-u,-u),p.hm(s)},l.RU=function(s,a,u){return l.vI(s,a,u)},l.ek=function(s,a,u){return l.zc(s,a,u)&&l.zc(a,s,u)},l.dk=function(s,a,u){var p=new d.l;return p.K(a),p.W(u,u),!s.isIntersecting(p)},l.cQ=function(s,a,u){if(s.ca()<=u&&s.R()<=u){var p=s.sf();return l.dB(p,a,u)}if(a.ca()<=u&&a.R()<=u)return p=a.sf(),l.dB(p,s,u);if(s.ca()>u&&s.R()>u&&(a.ca()<=u||a.R()<=u)?p=a:(p=s,s=a),p.ca()<=u||p.R()<=u){if(s.ca()<=u||s.R()<=u){a=new d.yb;var y=new d.yb,m=[0,0],w=[0,0],S=new d.h;return p.dn(S),a.Dc(S),p.en(S),a.Qc(S),s.dn(S),y.Dc(S),s.en(S),y.Qc(S),a.Ea(y,null,m,w,u),a.Ea(y,null,null,null,u)==1&&(m[0]==0||m[1]==1||w[0]==0||w[1]==1)}return a=new d.l,y=new d.l,a.K(s),a.W(-u,-u),y.K(a),y.Ea(p),!(!y.B()&&(y.ca()>u||y.R()>u))}return s.W(u,u),(y=new d.l).K(p),y.Ea(s),!(y.B()||!y.B()&&y.ca()>u&&y.R()>u)},l.bQ=function(s,a,u){if(l.zc(s,a,u)||l.zc(a,s,u)||s.ca()<=u&&s.R()<=u||a.ca()<=u&&a.R()<=u)return!1;if(s.ca()<=u||s.R()<=u){if(a.ca()>u&&a.R()>u)return!1;var p=new d.yb,y=new d.yb,m=[0,0],w=[0,0],S=new d.h;return s.dn(S),p.Dc(S),s.en(S),p.Qc(S),a.dn(S),y.Dc(S),a.en(S),y.Qc(S),p.Ea(y,null,m,w,u),p.Ea(y,null,null,null,u)==2&&(0<m[0]||1>m[1])&&(0<w[0]||1>w[1])}return!(a.ca()<=u||a.R()<=u)&&((p=new d.l).K(s),p.Ea(a),!(p.B()||p.ca()<=u||p.R()<=u))},l.jF=function(s,a,u){if(!l.zc(s,a,u))return!1;if(s.ca()<=u&&s.R()<=u)return s=s.sf(),l.eB(s,a,u);if(a.ca()<=u&&a.R()<=u)return a=a.sf(),l.eB(a,s,u);if(s.ca()<=u||s.R()<=u)return l.zc(s,a,u);if(a.ca()<=u||a.R()<=u){var p=new d.l;return p.K(s),p.W(-u,-u),p.hm(a)?!0:((s=new d.l).K(p),s.Ea(a),!(s.B()||s.ca()<=u&&s.R()<=u))}return l.zc(s,a,u)},l.aQ=function(s,a,u){if(l.zc(s,a,u)||l.zc(a,s,u)||s.ca()<=u&&s.R()<=u||a.ca()<=u&&a.R()<=u||a.ca()>u&&a.R()>u&&s.ca()>u&&s.R()>u)return!1;if(s.ca()>u&&s.R()>u)var p=a;else p=s,s=a;if(s.ca()>u&&s.R()>u){a=new d.l;var y=new d.l;return y.K(s),y.W(-u,-u),a.K(y),a.Ea(p),!(a.B()||a.ca()<=u&&a.R()<=u)}a=new d.yb,y=new d.yb;var m=[0,0],w=[0,0],S=new d.h;return p.dn(S),a.Dc(S),p.en(S),a.Qc(S),s.dn(S),y.Dc(S),s.en(S),y.Qc(S),a.Ea(y,null,m,w,u),a.Ea(y,null,null,null,u)==1&&0<m[0]&&1>m[1]&&0<w[0]&&1>w[1]},l.EI=function(s,a,u){var p=new d.l,y=new d.l,m=new d.Zl(s,a,u,!0);if(!m.next())return!0;if(this.UG(s,a,u))return!1;var w=s,S=null;a.getType()==1736&&(S=a);var k=!1,I=!1;do{var A=m.nl(),L=m.hl();if(L=a.Na(a.Ba(L)),p.K(m.uz()),p.W(u,u),p.contains(L)&&(L=d.hd.Yd(w,L,0))!=0||a.getType()==1736&&(A=s.Na(s.Ba(A)),y.K(m.az()),y.W(u,u),y.contains(A)&&(L=d.hd.Yd(S,A,0))!=0))return!1;k||(!d.Dg.Ml(s,a.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?w=s:(w=new d.Da,s.copyTo(w),w.fj(1)),k=!0),a.getType()!=1736||I||(I=a,!d.Dg.Ml(I,s.da()-1)||a.Bb!=null&&a.Bb.Fb!=null?S=a:(S=new d.Da,I.copyTo(S),S.fj(1)),I=!0)}while(m.next());return!0},l.zc=function(s,a,u){var p=new d.l;return p.K(s),p.W(u,u),p.contains(a)},l.ls=function(s,a,u){var p=new d.l;return p.K(a),p.W(u,u),a=new d.h,s.dn(a),!p.contains(a)||(s.$I(a),!p.contains(a)||(s.cJ(a),!p.contains(a)||(s.en(a),!p.contains(a))))},l.dI=function(s,a,u){if(s.da()!=a.da()||s.I()!=a.I())return!1;var p=new d.h,y=new d.h,m=!0;u*=u;for(var w=0;w<s.da();w++){if(s.Vc(w)!=a.Vc(w)){m=!1;break}for(var S=s.Ba(w);S<a.Vc(w);S++)if(s.D(S,p),a.D(S,y),d.h.yc(p,y)>u){m=!1;break}if(!m)break}return!!m},l.jU=function(s,a,u){if(s.I()!=a.I())return!1;var p=new d.h,y=new d.h,m=!0;u*=u;for(var w=0;w<s.I();w++)if(s.D(w,p),a.D(w,y),d.h.yc(p,y)>u){m=!1;break}return!!m},l.YA=function(s,a,u,p,y,m){var w=!1;if(s.I()>a.I()){p&&(p=!1,w=!0);var S=a}else S=s,s=a;if(a=null,y||m||w){a=new d.pn(s.I());for(var k=0;k<s.I();k++)a.write(k,0)}k=new d.l;var I=new d.l,A=new d.l;S.A(k),s.A(I),k.W(u,u),I.W(u,u),A.K(k),A.Ea(I),I=new d.h;for(var L=new d.h,D=!0,U=d.ta.oE(s,A),X=U.getIterator(),J=u*u,B=0;B<S.I();B++)if(S.D(B,I),A.contains(I)){var Q=!1;k.K(I.x,I.y,I.x,I.y),X.Xi(k,u);for(var oe=X.next();oe!=-1&&(oe=U.ja(oe),s.D(oe,L),!(d.h.yc(I,L)<=J&&((y||m||w)&&a.write(oe,1),Q=!0,p)));oe=X.next());if(!Q&&(D=!1,y||p))return!1}else{if(y||p)return!1;D=!1}if(m&&D)return!1;if(p)return!0;for(k=0;k<s.I();k++)if(a.read(k)==1){if(m)return!0}else if(y||w)return!1;return!m},l.gI=function(s,a,u){if(s.I()>a.I())var p=a;else p=s,s=a;a=new d.l;var y=new d.l,m=new d.l;p.A(a),s.A(y),a.W(u,u),y.W(u,u),m.K(a),m.Ea(y),y=new d.h;for(var w=new d.h,S=u*u,k=d.ta.oE(s,m),I=k.getIterator(),A=0;A<p.I();A++)if(p.D(A,y),m.contains(y)){a.K(y.x,y.y,y.x,y.y),I.Xi(a,u);for(var L=I.next();L!=-1;L=I.next())if(s.D(k.ja(L),w),d.h.yc(y,w)<=S)return!0}return!1},l.Wz=function(s,a,u,p){return l.ym(s,a,u,p)&&l.ym(a,s,u,p)},l.ym=function(s,a,u,p){function y(ze,Ae){return L.QE(ze,Ae)}var m,w=!0,S=[0,0],k=[0,0],I=0,A=new d.ia(0),L=new l,D=new d.l,U=new d.l,X=new d.l;s.A(D),a.A(U),D.W(u,u),U.W(u,u),X.K(D),X.Ea(U),s=s.Ga(),U=a.Ga();var J=null,B=J=null,Q=a.Bb;for(Q!=null?(J=Q.Fb,B=Q.zo,J==null&&(J=d.ta.jj(a,X))):J=d.ta.jj(a,X),a=J.getIterator(),Q=null,B!=null&&(Q=B.getIterator());s.$a();)for(;s.Ha();){var oe=!1,se=s.ha();if(se.A(D),!D.isIntersecting(X)||Q!=null&&(Q.Xi(D,u),Q.next()==-1))return!1;for(B=se.Qb(),a.Uo(se,u),m=a.next();m!=-1;m=a.next()){U.Vb(J.ja(m)),m=U.ha();var ye=se.Ea(m,null,S,k,u);if(ye==2&&(!p||k[0]<=k[1])){ye=S[0];var de=S[1],Me=k[0],Se=k[1];if(ye*B<=u&&(1-de)*B<=u){oe=!0,I=0,A.resize(0),L.rh.length=0;var xe=s.wb();for(Me=!0;Me;){if(s.Ha()){if(B=(se=s.ha()).Qb(),(ye=se.Ea(m,null,S,k,u))==2&&(!p||k[0]<=k[1])&&(ye=S[0],de=S[1],ye*B<=u&&(1-de)*B<=u)){xe=s.wb();continue}if(U.Ha()&&(m=U.ha(),(ye=se.Ea(m,null,S,k,u))==2&&(!p||k[0]<=k[1])&&(ye=S[0],de=S[1],ye*B<=u&&(1-de)*B<=u))){xe=s.wb();continue}}Me=!1}xe!=s.wb()&&(s.Vb(xe),s.ha());break}xe=s.wb(),m=x.construct(xe,s.gb,ye,de,U.wb(),U.gb,Me,Se),L.rh.push(m),A.add(A.size)}}if(!oe){if(I==L.rh.length)return!1;for(1<A.size-I&&A.Vd(I,A.size,y),oe=0;I<L.rh.length;I++)if(!((m=L.rh[A.get(I)]).Kj<oe&&m.Si<oe)){if(B*(m.Kj-oe)>u)return!1;if(B*(1-(oe=m.Si))<=u||oe==1)break}if(B*(1-oe)>u)return!1;I=0,A.resize(0),L.rh.length=0}}return w},l.WG=function(s,a,u){if(1>l.Xz(s,a,u,null))return!1;var p=new d.l,y=new d.l;s.A(p),a.A(y);var m=l.ls(p,y,u);return p=l.ls(y,p,u),!(!m||!p)||(m&&!p?!l.ym(a,s,u,!1):p&&!m?!l.ym(s,a,u,!1):!l.ym(s,a,u,!1)&&!l.ym(a,s,u,!1))},l.Xz=function(s,a,u,p){function y(Ue,Mt){return D.QE(Ue,Mt)}if(s.yz()>a.yz())var m=a,w=s;else m=s,w=a;s=m.Ga(),a=w.Ga();var S=[0,0],k=[0,0],I=-1,A=0,L=new d.ia(0),D=new l,U=new d.l,X=new d.l,J=new d.l;m.A(U),w.A(X),U.W(u,u),X.W(u,u),J.K(U),J.Ea(X),m=null,p!=null&&(m=new d.h);var B=X=X=null,Q=w.Bb;for(Q!=null?(X=Q.Fb,B=Q.zo,X==null&&(X=d.ta.jj(w,J))):X=d.ta.jj(w,J),w=X.getIterator(),Q=null,B!=null&&(Q=B.getIterator());s.$a();)for(B=0;s.Ha();){var oe=s.ha();if(oe.A(U),U.isIntersecting(J)){if(Q!=null&&(Q.Xi(U,u),Q.next()==-1))continue;var se=oe.Qb();w.Uo(oe,u);for(var ye=w.next();ye!=-1;ye=w.next()){var de=X.ja(ye);a.Vb(de);var Me=a.ha(),Se=Me.Qb(),xe=oe.Ea(Me,null,S,k,u);if(0<xe){ye=S[0],I=k[0];var ze=xe==2?S[1]:NaN,Ae=xe==2?k[1]:NaN;if(xe==2){if(se*(ze-ye)>u)return 1;var et=se*(ze-ye);if(a.Ha()){if(Me=a.ha(),(xe=oe.Ea(Me,null,S,null,u))==2){xe=S[0];var ot=S[1];if(et+(xe=se*(ot-xe))>u)return 1}a.Vb(de),a.ha()}if(!a.vm()){if(a.li(),Me=a.li(),(xe=oe.Ea(Me,null,S,null,u))==2&&(xe=S[0],et+(xe=se*((ot=S[1])-xe))>u))return 1;a.Vb(de),a.ha()}if(s.Ha()){if(de=s.wb(),(xe=(oe=s.ha()).Ea(Me,null,S,null,u))==2&&(xe=S[0],et+(xe=se*((ot=S[1])-xe))>u))return 1;s.Vb(de),s.ha()}if(!s.vm()){if(de=s.wb(),s.li(),(xe=(oe=s.li()).Ea(Me,null,S,null,u))==2&&(xe=S[0],et+(xe=Se*((ot=S[1])-xe))>u))return 1;s.Vb(de),s.ha()}Me=x.construct(s.wb(),s.gb,ye,ze,a.wb(),a.gb,I,Ae),D.rh.push(Me),L.add(L.size)}I=0,p!=null&&(oe.hc(ye,m),p.add(m.x),p.add(m.y))}}if(A<D.rh.length){for(L.Vd(A,L.size,y),oe=0,ye=D.rh[L.get(A)].Mm;A<D.rh.length;A++)if(!((Me=D.rh[L.get(A)]).Kj<oe&&Me.Si<oe))if(se*(Me.Kj-oe)>u)B=se*(Me.Si-Me.Kj),oe=Me.Si,ye=Me.Mm;else{if(Me.Mm!=ye?(B=se*(Me.Si-Me.Kj),ye=Me.Mm):B+=se*(Me.Si-Me.Kj),B>u)return 1;if((oe=Me.Si)==1)break}se*(1-oe)>u&&(B=0),A=0,L.resize(0),D.rh.length=0}}}return I},l.UG=function(s,a,u){var p=s.Ga(),y=a.Ga();for(s=new d.Zl(s,a,u,!1);s.next();){a=s.nl();var m=s.hl();if(p.Vb(a),y.Vb(m),a=p.ha(),0<y.ha().Ea(a,null,null,null,u))return!0}return!1},l.VG=function(s,a,u,p){var y=s.Ga(),m=new d.l,w=new d.l,S=new d.l;s.A(m),a.A(w),m.W(u,u),m.contains(w),w.W(u,u),S.K(m),S.Ea(w),(m=s.Bb)!=null?(m=m.Fb)==null&&(m=d.ta.jj(s,S)):m=d.ta.jj(s,S),s=m.getIterator();for(var k=new d.h,I=new d.h,A=u*u,L=0;L<a.I();L++)if(a.D(L,k),S.contains(k)){w.K(k.x,k.y,k.x,k.y),s.Xi(w,u);for(var D=!1,U=s.next();U!=-1;U=s.next())if(y.Vb(m.ja(U)),(U=y.ha()).hc(U.fe(k,!1),I),d.h.yc(I,k)<=A){D=!0;break}if(p){if(!D)return!1}else if(D)return!0}return!!p},l.Yz=function(s,a,u){var p=new d.h,y=u*u,m=s.Ga();if((s=s.Bb)!=null&&(s=s.Fb)!=null){var w=new d.l;for(w.K(a),w=(u=s.MF(w,u)).next();w!=-1;w=u.next())if(m.Vb(s.ja(w)),m.Ha()){var S=(w=m.ha()).fe(a,!1);if(w.hc(S,p),d.h.yc(a,p)<=y)return!0}return!1}for(s=new d.l;m.$a();)for(;m.Ha();)if((w=m.ha()).A(s),s.W(u,u),s.contains(a)&&(S=w.fe(a,!1),w.hc(S,p),d.h.yc(a,p)<=y))return!0;return!1},l.SG=function(s,a,u){return l.Yz(s,a,u)&&!l.Zz(s,a,u)},l.Zz=function(s,a,u){return s=s.mg(),!l.kt(s,a,u)},l.TG=function(s,a,u){if(s.tm()){var p=new d.yb(a.v,a.G,a.v,a.H),y=new d.yb(a.v,a.H,a.C,a.H),m=new d.yb(a.C,a.H,a.C,a.G);for(a=new d.yb(a.C,a.G,a.v,a.G),s=s.Ga();s.$a();)for(;s.Ha();){var w=s.ha();if(w.isIntersecting(p,u)||w.isIntersecting(y,u)||w.isIntersecting(m,u)||w.isIntersecting(a,u))return!0}}else{(p=new d.l).K(a),p.W(u,u),u=s.ub(0),y=new d.h,m=new d.h,a=new d.h,w=new d.h;for(var S=0,k=s.da();S<k;S++)for(var I=!0,A=s.Ba(S),L=s.Vc(S);A<L;A++)if(I)u.tc(2*A,m),I=!1;else{if(u.tc(2*A,y),a.L(m),w.L(y),p.zy(a,w)!=0)return!0;m.L(y)}}return!1},l.qc=function(s,a,u){var p=s.getType(),y=a.getType();if(d.aa.xj(p)){var m=s.Bb;if(m!=null&&(m=m.Fk)!=null)if(y==33){var w=a.D();if((w=m.So(w.x,w.y))==1)return 1;if(w==0)return 4}else{if(w=new d.l,a.A(w),(w=m.Ro(w))==1)return 1;if(w==0)return 4;if(u&&d.aa.xj(y)&&l.HE(a,m))return 1073741824}}if(d.aa.xj(y)&&(m=a.Bb)!=null&&(m=m.Fk)!=null)if(p==33){if(s=s.D(),(w=m.So(s.x,s.y))==1)return 2;if(w==0)return 4}else{if(a=new d.l,s.A(a),(w=m.Ro(a))==1)return 2;if(w==0)return 4;if(u&&d.aa.xj(p)&&l.HE(s,m))return 1073741824}return 0},l.HE=function(s,a){for(var u=s.I(),p=new d.h,y=0;y<u;y++)if(s.D(y,p),a.So(p.x,p.y)==1)return!0;return!1},l.II=function(s,a,u,p){for(var y=1<=s.om(0)&&1<=a.om(0),m=s.Ga(),w=a.Ga(),S=[0,0],k=[0,0],I=new d.Zl(s,a,u,!1),A=!1;I.next();){var L=I.nl(),D=I.hl();if(m.Vb(L),w.Vb(D),L=m.ha(),(D=w.ha().Ea(L,null,k,S,u))==2){if(A=S[0],D=S[1],L=L.Qb(),y&&(D-A)*L>u)return!1;A=!0}else if(D!=0){if(A=S[0],L=k[0],0<A&&1>A&&0<L&&1>L)return!1;A=!0}}return!!A&&(m=new d.l,w=new d.l,y=new d.l,s.A(m),a.A(w),m.W(1e3*u,1e3*u),w.W(1e3*u,1e3*u),y.K(m),y.Ea(w),!(10<s.I()&&(s=d.Ud.clip(s,y,u,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,u,0),a.B()))&&d.am.rt(s,a,u,"F********",p))},l.FI=function(s,a,u,p){var y=1<=s.om(0)&&1<=a.om(0),m=new d.l,w=new d.l,S=new d.l;s.A(m),a.A(w);for(var k=!1,I=l.ls(m,w,u),A=l.ls(w,m,u),L=s.Ga(),D=a.Ga(),U=[0,0],X=[0,0],J=new d.Zl(s,a,u,!1);J.next();){var B=J.nl(),Q=J.hl();if(L.Vb(B),D.Vb(Q),Q=L.ha(),(B=D.ha().Ea(Q,null,X,U,u))==2){B=U[0];var oe=U[1];if(Q=Q.Qb(),y&&(oe-B)*Q>u&&(k=!0,I&&A))return!0}else if(B!=0&&(B=U[0],Q=X[0],0<B&&1>B&&0<Q&&1>Q))return!0}if(y=new d.l,L=new d.l,y.K(m),y.W(1e3*u,1e3*u),L.K(w),L.W(1e3*u,1e3*u),S.K(y),S.Ea(L),m="",m=k?m+"**":m+"T*",I){if(10<a.I()&&(a=d.Ud.clip(a,S,u,0)).B())return!1;m+="****"}else m+="T***";if(A){if(10<s.I()&&(s=d.Ud.clip(s,S,u,0)).B())return!1;m+="***"}else m+="T**";return d.am.rt(s,a,u,m.toString(),p)},l.BI=function(s,a,u,p){var y=[!1],m=l.zI(s,a,u,y);return y[0]?m:(y=new d.l,a.A(y),y.W(1e3*u,1e3*u),!(10<s.I()&&(s=d.Ud.clip(s,y,u,0),s.B()))&&d.am.Sw(s,a,u,p))},l.zI=function(s,a,u,p){p[0]=!1;for(var y=s.Ga(),m=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,u,!1),I=!1;k.next();){var A=k.nl(),L=k.hl();if(y.Vb(A,-1),m.Vb(L,-1),A=y.ha(),(A=m.ha().Ea(A,null,S,w,u))!=0&&(I=!0,A==1&&(A=w[0],L=S[0],0<A&&1>A&&0<L&&1>L)))return p[0]=!0,!1}if(!I){for(p[0]=!0,w=new d.l,s.A(w),w.W(u,u),k=s,I=!1,S=new d.l,p=0,y=a.da();p<y;p++)if(0<a.Ja(p)){if(a.Rj(p,S),!w.isIntersecting(S)||(m=a.Na(a.Ba(p)),(m=d.Dg.wm(k,m,0))==0))return!1;I||(!d.Dg.Ml(s,a.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?k=s:(m=new d.Da,s.copyTo(m),m.fj(1),k=m),I=!0)}if(s.da()==1||a.getType()==1607)return!0;for(w=new d.l,a.A(w),w.W(u,u),S=a,k=!1,u=new d.l,p=0,y=s.da();p<y;p++)if(0<s.Ja(p)){if(s.Rj(p,u),w.isIntersecting(u)&&(m=s.Na(s.Ba(p)),(m=d.Dg.wm(S,m,0))==1))return!1;k||(!d.Dg.Ml(a,s.da()-1)||a.Bb!=null&&a.Bb.Fb!=null?S=a:(m=new d.Da,a.copyTo(m),m.fj(1),S=m),k=!0)}return!0}return!1},l.JI=function(s,a,u,p){for(var y=s.Ga(),m=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,u,!1),I=!1;k.next();){var A=k.nl(),L=k.hl();if(y.Vb(A),m.Vb(L),A=y.ha(),(A=m.ha().Ea(A,null,S,w,u))==2)I=!0;else if(A!=0){if(I=w[0],A=S[0],0<I&&1>I&&0<A&&1>A)return!1;I=!0}}return!!I&&(m=new d.l,w=new d.l,y=new d.l,s.A(m),a.A(w),m.W(1e3*u,1e3*u),w.W(1e3*u,1e3*u),y.K(m),y.Ea(w),!(10<s.I()&&(s=d.Ud.clip(s,y,u,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,u,0),a.B()))&&d.am.$m(s,a,u,"F********",p))},l.DI=function(s,a,u,p){for(var y=s.Ga(),m=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,u,!1),I=!1;k.next();){var A=k.nl(),L=k.hl();if(y.Vb(A),m.Vb(L),A=y.ha(),(A=m.ha().Ea(A,null,S,w,u))==2)I=!0;else if(A!=0){if(I=w[0],A=S[0],0<I&&1>I&&0<A&&1>A)return!0;I=!0}}return!!I&&(m=new d.l,w=new d.l,S=new d.l,k=new d.l,y=new d.l,s.A(m),a.A(w),l.ls(w,m,u)?(S.K(m),S.W(1e3*u,1e3*u),k.K(w),k.W(1e3*u,1e3*u),y.K(S),y.Ea(k),!(10<s.I()&&(s=d.Ud.clip(s,y,u,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,u,0),a.B()))&&(u=d.am.$m(s,a,u,"T********",p))):u=d.am.$m(s,a,u,"T*****T**",p))},l.CI=function(s,a,u,p){var y=[!1],m=l.zI(s,a,u,y);return y[0]?m:(y=new d.l,a.A(y),y.W(1e3*u,1e3*u),!(10<s.I()&&(s=d.Ud.clip(s,y,u,0),s.B()))&&d.am.fB(s,a,u,p))},l.AI=function(s,a,u){return d.hd.Yd(s,a,u)==1},l.HI=function(s,a,u){return d.hd.Yd(s,a,u)==2},l.kt=function(s,a,u){var p=new d.h;u*=u;for(var y=0;y<s.I();y++)if(s.D(y,p),d.h.yc(p,a)<=u)return!1;return!0},l.prototype.QE=function(s,a){return s=this.rh[s],a=this.rh[a],s.Mm<a.Mm||s.Mm==a.Mm&&(s.pw<a.pw||s.pw==a.pw&&(s.Kj<a.Kj||s.Kj==a.Kj&&(s.Si<a.Si||s.Si==a.Si&&s.BH<a.BH)))?-1:1},l}();d.ud=h}(te||(te={})),function(d){var O,x,h;(x=O||(O={}))[x.InteriorInterior=0]="InteriorInterior",x[x.InteriorBoundary=1]="InteriorBoundary",x[x.InteriorExterior=2]="InteriorExterior",x[x.BoundaryInterior=3]="BoundaryInterior",x[x.BoundaryBoundary=4]="BoundaryBoundary",x[x.BoundaryExterior=5]="BoundaryExterior",x[x.ExteriorInterior=6]="ExteriorInterior",x[x.ExteriorBoundary=7]="ExteriorBoundary",x[x.ExteriorExterior=8]="ExteriorExterior",function(l){l[l.AreaAreaPredicates=0]="AreaAreaPredicates",l[l.AreaLinePredicates=1]="AreaLinePredicates",l[l.LineLinePredicates=2]="LineLinePredicates",l[l.AreaPointPredicates=3]="AreaPointPredicates",l[l.LinePointPredicates=4]="LinePointPredicates",l[l.PointPointPredicates=5]="PointPointPredicates"}(h||(h={})),O=function(){function l(){this.le=0,this.j=new d.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return l.yB=function(s,a,u,p,y){if(p.length!=9)throw d.i.fa("relation string length has to be 9 characters");for(var m=0;9>m;m++){var w=p.charAt(m);if(w!="*"&&w!="T"&&w!="F"&&w!="0"&&w!="1"&&w!="2")throw d.i.fa("relation string")}if((m=this.MR(p,s.Db(),a.Db()))!=0)return d.ud.zB(s,a,u,m,y);m=new d.l,s.A(m),w=new d.l,a.A(w);var S=new d.l;if(S.K(m),S.Zb(w),u=d.ta.Wd(u,S,!1),s=this.WE(s,u),a=this.WE(a,u),s.B()||a.B())return this.uW(s,a,p);switch(m=s.getType(),w=a.getType(),S=!1,m){case 1736:switch(w){case 1736:S=this.rt(s,a,u,p,y);break;case 1607:S=this.$m(s,a,u,p,y);break;case 33:S=this.qt(s,a,u,p);break;case 550:S=this.pt(s,a,u,p,y)}break;case 1607:switch(w){case 1736:S=this.$m(a,s,u,this.Zp(p),y);break;case 1607:S=this.gB(s,a,u,p,y);break;case 33:S=this.tt(s,a,u,p,y);break;case 550:S=this.st(s,a,u,p,y)}break;case 33:switch(w){case 1736:S=this.qt(a,s,u,this.Zp(p));break;case 1607:S=this.tt(a,s,u,this.Zp(p),y);break;case 33:S=this.$U(s,a,u,p);break;case 550:S=this.lt(a,s,u,this.Zp(p))}break;case 550:switch(w){case 1736:S=this.pt(a,s,u,this.Zp(p),y);break;case 1607:S=this.st(a,s,u,this.Zp(p),y);break;case 550:S=this.ZA(s,a,u,p,y);break;case 33:S=this.lt(s,a,u,p)}break;default:S=!1}return S},l.rt=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.xJ();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,u)&&(m.Cu(s,a),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(m.Cu(s,a),p=!0):w==1?(m.ly(a),p=!0):w==2&&(m.ZD(s),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.Bp(s,a),m.j.Ug()),l.fg(m.J,m.Xc)},l.Sw=function(s,a,u,p){var y=new l;y.Yi(),y.bj("T*****F**"),y.xJ();var m=new d.l,w=new d.l;s.A(m),a.A(w);var S=!1;return d.ud.dk(m,w,u)&&(y.Cu(s,a),S=!0),S||((m=d.ud.qc(s,a,!1))==4?(y.Cu(s,a),S=!0):m==1?(y.ly(a),S=!0):m==2&&(y.ZD(s),S=!0)),S?this.fg(y.J,y.Xc):(s=(S=new d.gd).Ib(s),m=S.Ib(a),d.Tk.V(S,u,p,!1),u=S.Ne(m).mg(),S.Gp(0,!0,!0),d.rn.V(S,s,-1,!1,p),S.I(s)!=0&&(d.rn.V(S,m,-1,!1,p),y.er(S,p),(a=S.I(m)==0)||(y.Bp(s,m),y.j.Ug(),m=this.fg(y.J,y.Xc))?(s=S.Ne(s),s=(S=new d.gd).Ib(s),m=S.Ib(u),y.er(S,p),y.le=0,y.Yi(),y.bj(a?"T*****F**":"******F**"),y.IB(),y.Bp(s,m),y.j.Ug(),this.fg(y.J,y.Xc)):m))},l.$m=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.IB();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,u)&&(m.Du(s,a),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(m.Du(s,a),p=!0):w==1&&(m.$D(a),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.kh=m.j.Dp(),l.Jw(a,m.j,m.kh),m.Bp(s,a),m.j.Ep(m.kh),m.j.Ug()),l.fg(m.J,m.Xc)},l.fB=function(s,a,u,p){var y=new l;y.Yi(),y.bj("T*****F**"),y.IB();var m=new d.l,w=new d.l;s.A(m),a.A(w);var S=!1;return d.ud.dk(m,w,u)&&(y.Du(s,a),S=!0),S||((m=d.ud.qc(s,a,!1))==4?(y.Du(s,a),S=!0):m==1&&(y.$D(a),S=!0)),S?this.fg(y.J,y.Xc):(s=(S=new d.gd).Ib(s),a=S.Ib(a),y.Wo(S,u,p),S.I(s)!=0&&(y.Bp(s,a),y.j.Ug(),this.fg(y.J,y.Xc)))},l.pt=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.yJ();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,u)&&(m.Eu(s),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(m.Eu(s),p=!0):w==1&&(m.zN(),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.Gy(s,a),m.j.Ug()),l.fg(m.J,m.Xc)},l.gB=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.eX(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,u)&&(m.PG(s,a),S=!0),S||d.ud.qc(s,a,!1)!=4||(m.PG(s,a),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.Yh=m.j.Dp(),m.kh=m.j.Dp(),l.Jw(s,m.j,m.Yh),l.Jw(a,m.j,m.kh),m.Bp(s,a),m.j.Ep(m.Yh),m.j.Ep(m.kh),m.j.Ug()),l.fg(m.J,m.Xc)},l.st=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.MJ(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,u)&&(m.Vz(s),S=!0),S||d.ud.qc(s,a,!1)!=4||(m.Vz(s),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.Yh=m.j.Dp(),l.Jw(s,m.j,m.Yh),m.Gy(s,a),m.j.Ep(m.Yh),m.j.Ug()),l.fg(m.J,m.Xc)},l.ZA=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.RJ(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,u)&&(m.yI(),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),m.Wo(p,u,y),m.Gy(s,a),m.j.Ug()),l.fg(m.J,m.Xc)},l.qt=function(s,a,u,p){var y=new l;y.Yi(),y.bj(p),y.yJ();var m=new d.l;s.A(m),a=a.D();var w=!1;return d.ud.Rw(a,m,u)&&(y.Eu(s),w=!0),w||((u=d.hd.Yd(s,a,u))==1?(y.J[0]=0,y.J[2]=2,y.J[3]=-1,y.J[5]=1,y.J[6]=-1):u==2?(y.J[6]=-1,s.Ke()!=0?(y.J[0]=-1,y.J[3]=0,y.J[2]=2,y.J[5]=1):(y.J[0]=0,y.J[3]=-1,y.J[5]=-1,u=new d.l,s.A(u),y.J[2]=u.ca()==0&&u.R()==0?-1:1)):y.Eu(s)),this.fg(y.J,p)},l.tt=function(s,a,u,p,y){var m=new l;m.Yi(),m.bj(p),m.MJ();var w=new d.l;s.A(w),p=a.D();var S=!1;if(d.ud.Rw(p,w,u)&&(m.Vz(s),S=!0),!S){w=null;var k=S=!1;(m.ea[0]||m.ea[6])&&(d.ud.Yz(s,p,u)?(m.ea[0]&&(w=d.pi.gm(s,y),k=!d.ud.kt(w,p,u),S=!0,m.J[0]=k?-1:0),m.J[6]=-1):(m.J[0]=-1,m.J[6]=0)),m.ea[3]&&(w!=null&&w.B()?m.J[3]=-1:(S||(w==null&&(w=d.pi.gm(s,y)),k=!d.ud.kt(w,p,u),S=!0),m.J[3]=k?0:-1)),m.ea[5]&&(w!=null&&w.B()?m.J[5]=-1:S&&!k?m.J[5]=0:(w==null&&(w=d.pi.gm(s,y)),y=d.ud.Nw(w,a,u),m.J[5]=y?-1:0)),m.ea[2]&&(s.Qb()!=0?m.J[2]=1:((y=new d.de(s.description)).Fd(s,0,s.I()),s=d.ud.Nw(y,a,u),m.J[2]=s?-1:0))}return this.fg(m.J,m.Xc)},l.lt=function(s,a,u,p){var y=new l;y.Yi(),y.bj(p),y.RJ();var m=new d.l;s.A(m),a=a.D();var w=!1;if(d.ud.Rw(a,m,u)&&(y.yI(),w=!0),!w){m=!1,w=!0,u*=u;for(var S=0;S<s.I();S++){var k=s.Na(S);if(d.h.yc(k,a)<=u?m=!0:w=!1,m&&!w)break}m?(y.J[0]=0,y.J[2]=w?-1:0,y.J[6]=-1):(y.J[0]=-1,y.J[2]=0,y.J[6]=0)}return l.fg(y.J,p)},l.$U=function(s,a,u,p){s=s.D(),a=a.D();for(var y=[],m=0;9>m;m++)y[m]=-1;return d.h.yc(s,a)<=u*u?y[0]=0:(y[2]=0,y[6]=0),y[8]=2,l.fg(y,p)},l.fg=function(s,a){for(var u=0;9>u;u++)switch(a.charAt(u)){case"T":if(s[u]==-1)return!1;break;case"F":if(s[u]!=-1)return!1;break;case"0":if(s[u]!=0)return!1;break;case"1":if(s[u]!=1)return!1;break;case"2":if(s[u]!=2)return!1}return!0},l.uW=function(s,a,u){var p=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(s.B()&&a.B()){for(var y=0;9>y;y++)p[y]=-1;return this.fg(p,u)}return y=!1,s.B()&&(s=a,y=!0),p[0]=-1,p[1]=-1,p[3]=-1,p[4]=-1,p[6]=-1,p[7]=-1,p[8]=2,a=s.getType(),d.aa.Hc(a)?a==1736?s.Ke()!=0?(p[2]=2,p[5]=1):(p[5]=-1,a=new d.l,s.A(a),p[2]=a.ca()==0&&a.R()==0?0:1):(a=s.Qb()!=0,p[2]=a?1:0,p[5]=d.pi.aq(s)?0:-1):(p[2]=0,p[5]=-1),y&&this.vK(p),this.fg(p,u)},l.MR=function(s,a,u){return l.dQ(s)?3:l.UP(s)?4:l.cY(s,a,u)?8:l.CP(s,a,u)?16:l.eP(s)?1:l.EU(s,a,u)?32:0},l.dQ=function(s){return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="F"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="F"&&s.charAt(6)=="F"&&s.charAt(7)=="F"&&s.charAt(8)=="*"},l.UP=function(s){return s.charAt(0)=="F"&&s.charAt(1)=="F"&&s.charAt(2)=="*"&&s.charAt(3)=="F"&&s.charAt(4)=="F"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"},l.cY=function(s,a,u){return(a!=0||u!=0)&&((a!=2||u!=2)&&(s.charAt(0)=="F"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="T"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"||a==1&&u==1&&s.charAt(0)=="F"&&s.charAt(1)=="T"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*")||u!=0&&s.charAt(0)=="F"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="T"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*")},l.CP=function(s,a,u){return a>u?s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*":a==1&&u==1&&s.charAt(0)=="0"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"},l.eP=function(s){return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="F"&&s.charAt(7)=="F"&&s.charAt(8)=="*"},l.EU=function(s,a,u){if(a==u){if(a!=1)return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="T"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*";if(s.charAt(0)=="1"&&s.charAt(1)=="*"&&s.charAt(2)=="T"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*")return!0}return!1},l.Jw=function(s,a,u){s=a.La(s);for(var p=a.Re;p!=-1;p=a.Rf(p))if(a.xd(p)&s){var y=a.Me(p);if(y==-1)a.nn(p,u,0);else{var m=y,w=0;do a.dh(m)&s&&w++,m=a.jc(a.xa(m));while(m!=y);a.nn(p,u,w)}}},l.Zp=function(s){var a=""+s.charAt(0);return a+=s.charAt(3),a+=s.charAt(6),a+=s.charAt(1),a+=s.charAt(4),a+=s.charAt(7),a+=s.charAt(2),(a+=s.charAt(5))+s.charAt(8)},l.prototype.Yi=function(){for(var s=0;9>s;s++)this.J[s]=-2,this.Za[s]=-2},l.vK=function(s){var a=s[1],u=s[2],p=s[5];s[1]=s[3],s[2]=s[6],s[5]=s[7],s[3]=a,s[6]=u,s[7]=p},l.prototype.bj=function(s){for(this.Xc=s,s=0;9>s;s++)this.Xc.charAt(s)!="*"?(this.ea[s]=!0,this.le++):this.ea[s]=!1},l.prototype.UJ=function(){for(var s=0;9>s;s++)this.ea[s]&&this.J[s]==-2&&(this.J[s]=-1,this.ea[s]=!1)},l.prototype.pc=function(s){return this.J[s]!=-2&&(this.J[s]==-1?(this.ea[s]=!1,this.le--,!0):this.Xc.charAt(s)!="T"&&this.Xc.charAt(s)!="F"?!(this.J[s]<this.Za[s])&&(this.ea[s]=!1,this.le--,!0):(this.ea[s]=!1,this.le--,!0))},l.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.xN=function(s,a,u){var p=!0;return this.ea[0]&&(this.CS(s,a,u),p=p&&this.pc(0)),this.ea[1]&&(this.sG(s,a,1),p=p&&this.pc(1)),this.ea[2]&&(this.tG(s,a,u,2),p=p&&this.pc(2)),this.ea[3]&&(this.sG(s,u,3),p=p&&this.pc(3)),this.ea[4]&&(this.BN(s,a,u),p=p&&this.pc(4)),this.ea[5]&&(this.eE(s,u,5),p=p&&this.pc(5)),this.ea[6]&&(this.tG(s,u,a,6),p=p&&this.pc(6)),this.ea[7]&&(this.eE(s,a,7),p=p&&this.pc(7)),p},l.prototype.Cu=function(s,a){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(a,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},l.prototype.Fr=function(s,a,u,p,y){a==-1&&p==-1||((u!="T"&&u!="F"&&a!=-1||y!="T"&&y!="F"&&p!=-1)&&s.Ke()==0?(p!=-1&&(this.J[p]=-1),a!=-1&&(u=new d.l,s.A(u),this.J[a]=u.ca()==0&&u.R()==0?0:1)):(a!=-1&&(this.J[a]=2),p!=-1&&(this.J[p]=1)))},l.prototype.ly=function(s){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(s,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},l.prototype.ZD=function(s){this.ly(s),l.vK(this.J)},l.prototype.Du=function(s,a){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var u=this.Xc.charAt(6);u=u=="T"||u=="F"||a.Qb()!=0,this.J[6]=u?1:0}this.ea[7]&&(a=d.pi.aq(a),this.J[7]=a?0:-1),this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},l.prototype.$D=function(s){if(this.ea[0]){var a=this.Xc.charAt(0);a=a=="T"||a=="F"||s.Qb()!=0,this.J[0]=a?1:0}this.ea[1]&&(s=d.pi.aq(s),this.J[1]=s?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},l.prototype.Eu=function(s){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},l.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},l.prototype.PG=function(s,a){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var u=this.Xc.charAt(2);u=u=="T"||u=="F"||s.Qb()!=0,this.J[2]=u?1:0}this.ea[5]&&(s=d.pi.aq(s),this.J[5]=s?0:-1),this.ea[6]&&(u=(u=this.Xc.charAt(6))=="T"||u=="F"||a.Qb()!=0,this.J[6]=u?1:0),this.ea[7]&&(a=d.pi.aq(a),this.J[7]=a?0:-1)},l.prototype.Vz=function(s){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var a=this.Xc.charAt(2);a=a=="T"||a=="F"||s.Qb()!=0,this.J[2]=a?1:0}this.ea[5]&&(s=d.pi.aq(s),this.J[5]=s?0:-1),this.J[6]=0},l.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},l.prototype.yN=function(s,a,u){var p=!0;return this.ea[0]&&(this.DS(s,a),p=p&&this.pc(0)),this.ea[1]&&(this.zS(s,a,u,this.kh),p=p&&this.pc(1)),this.ea[2]&&(this.AS(s,a),p=p&&this.pc(2)),this.ea[3]&&(this.FN(s,a,u,this.kh),p=p&&this.pc(3)),this.ea[4]&&(this.CN(s,a,u,this.kh),p=p&&this.pc(4)),this.ea[5]&&(this.DN(s,a,u),p=p&&this.pc(5)),this.ea[6]&&(this.lQ(s,a),p=p&&this.pc(6)),this.ea[7]&&(this.kQ(s,a,u,this.kh),p=p&&this.pc(7)),p},l.prototype.mT=function(s,a,u){var p=!0;return this.ea[0]&&(this.GS(s,a,u,this.Yh,this.kh),p=p&&this.pc(0)),this.ea[1]&&(this.uG(s,a,u,this.Yh,this.kh,1),p=p&&this.pc(1)),this.ea[2]&&(this.vG(s,a,u,2),p=p&&this.pc(2)),this.ea[3]&&(this.uG(s,u,a,this.kh,this.Yh,3),p=p&&this.pc(3)),this.ea[4]&&(this.HN(s,a,u,this.Yh,this.kh),p=p&&this.pc(4)),this.ea[5]&&(this.fE(s,u,this.Yh,5),p=p&&this.pc(5)),this.ea[6]&&(this.vG(s,u,a,6),p=p&&this.pc(6)),this.ea[7]&&(this.fE(s,a,this.kh,7),p=p&&this.pc(7)),p},l.prototype.aE=function(s,a,u){var p=!0;return this.ea[0]&&(this.ES(s,a),p=p&&this.pc(0)),this.ea[2]&&(this.BS(s,a),p=p&&this.pc(2)),this.ea[3]&&(this.GN(s,a,u),p=p&&this.pc(3)),this.ea[5]&&(this.EN(s,a),p=p&&this.pc(5)),this.ea[6]&&(this.mQ(s,a),p=p&&this.pc(6)),p},l.prototype.QG=function(s,a,u){var p=!0;return this.ea[0]&&(this.HS(s,a,u,this.Yh),p=p&&this.pc(0)),this.ea[2]&&(this.FS(s,u),p=p&&this.pc(2)),this.ea[3]&&(this.JN(s,a,u,this.Yh),p=p&&this.pc(3)),this.ea[5]&&(this.IN(s,a,u,this.Yh),p=p&&this.pc(5)),this.ea[6]&&(this.nQ(s,a,u),p=p&&this.pc(6)),p},l.prototype.ZU=function(s,a,u){var p=!0;return this.ea[0]&&(this.IS(s,a,u),p=p&&this.pc(0)),this.ea[2]&&(this.wG(s,a,u,2),p=p&&this.pc(2)),this.ea[6]&&(this.wG(s,u,a,6),p=p&&this.pc(6)),p},l.prototype.CS=function(s,a,u){this.J[0]!=2&&(s=this.j.af(s))&a&&s&u&&(this.J[0]=2)},l.prototype.sG=function(s,a,u){if(this.J[u]!=1){var p=this.j.af(this.j.xa(s));this.j.af(s)&a&&p&a&&(this.J[u]=1)}},l.prototype.tG=function(s,a,u,p){this.J[p]!=2&&(s=this.j.af(s))&a&&!(s&u)&&(this.J[p]=2)},l.prototype.BN=function(s,a,u){if(this.J[4]!=1){var p=this.j.dh(s);p&a&&p&u?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.xd(this.j.uf(s)))&a&&s&u&&(this.J[4]=0)}},l.prototype.eE=function(s,a,u){if(this.J[u]!=1){var p=this.j.af(this.j.xa(s));!(this.j.af(s)&a)&&!(p&a)&&(this.J[u]=1)}},l.prototype.DS=function(s,a){if(this.J[0]!=1){var u=this.j.af(this.j.xa(s));this.j.af(s)&a&&u&a&&(this.J[0]=1)}},l.prototype.zS=function(s,a,u,p){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s),m=this.j.xd(y);!(m&a)&&this.j.af(s)&a&&(s=this.j.ng(y,p),m&u&&s%2!=0&&(this.J[1]=0))}},l.prototype.AS=function(s,a){this.J[2]!=2&&this.j.dh(s)&a&&(this.J[2]=2)},l.prototype.FN=function(s,a,u,p){if(this.J[3]!=1){var y=this.j.dh(s);y&a&&y&u?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(y=this.j.uf(s),(s=this.j.xd(y))&a&&(a=this.j.ng(y,p),s&u&&a%2==0&&(this.J[3]=0)))}},l.prototype.CN=function(s,a,u,p){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s);(s=this.j.xd(y))&a&&(a=this.j.ng(y,p),s&u&&a%2!=0&&(this.J[4]=0))}},l.prototype.DN=function(s,a,u){this.J[5]!=1&&(s=this.j.dh(s))&a&&!(s&u)&&(this.J[5]=1)},l.prototype.lQ=function(s,a){if(this.J[6]!=1){var u=this.j.af(this.j.xa(s));!(this.j.af(s)&a)&&!(u&a)&&(this.J[6]=1)}},l.prototype.kQ=function(s,a,u,p){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s),m=this.j.xd(y);!(m&a)&&!(this.j.af(s)&a)&&(s=this.j.ng(y,p),m&u&&s%2!=0&&(this.J[7]=0))}},l.prototype.GS=function(s,a,u,p,y){if(this.J[0]!=1){var m=this.j.dh(s);m&a&&m&u?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.uf(s),(m=this.j.xd(s))&a&&m&u&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2==0&&y%2==0&&(this.J[0]=0)))}},l.prototype.uG=function(s,a,u,p,y,m){if(this.J[m]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){s=this.j.uf(s);var w=this.j.xd(s);w&a&&w&u&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2==0&&y%2!=0&&(this.J[m]=0))}},l.prototype.vG=function(s,a,u,p){this.J[p]!=1&&(s=this.j.dh(s))&a&&!(s&u)&&(this.J[p]=1)},l.prototype.HN=function(s,a,u,p,y){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){s=this.j.uf(s);var m=this.j.xd(s);m&a&&m&u&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2!=0&&y%2!=0&&(this.J[4]=0))}},l.prototype.fE=function(s,a,u,p){this.J[p]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.uf(s),!(this.j.xd(s)&a)&&this.j.ng(s,u)%2!=0&&(this.J[p]=0))},l.prototype.ES=function(s,a){this.J[0]!=0&&!(this.j.xd(s)&a)&&this.j.hk(this.j.cz(s))&a&&(this.J[0]=0)},l.prototype.BS=function(s,a){this.J[2]!=2&&this.j.xd(s)&a&&(this.J[2]=2)},l.prototype.GN=function(s,a,u){this.J[3]!=0&&(s=this.j.xd(s))&a&&s&u&&(this.J[3]=0)},l.prototype.EN=function(s,a){this.J[5]!=1&&this.j.xd(s)&a&&(this.J[5]=1)},l.prototype.mQ=function(s,a){this.J[6]!=0&&!(this.j.xd(s)&a)&&!(this.j.hk(this.j.cz(s))&a)&&(this.J[6]=0)},l.prototype.HS=function(s,a,u,p){if(this.J[0]!=0){var y=this.j.xd(s);y&a&&y&u&&this.j.ng(s,p)%2==0&&(this.J[0]=0)}},l.prototype.FS=function(s,a){this.J[2]!=1&&(this.j.Me(s)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.xd(s)&a)&&(this.J[2]=0))},l.prototype.JN=function(s,a,u,p){if(this.J[3]!=0){var y=this.j.xd(s);y&a&&y&u&&this.j.ng(s,p)%2!=0&&(this.J[3]=0)}},l.prototype.IN=function(s,a,u,p){if(this.J[5]!=0){var y=this.j.xd(s);y&a&&!(y&u)&&this.j.ng(s,p)%2!=0&&(this.J[5]=0)}},l.prototype.nQ=function(s,a,u){this.J[6]!=0&&!((s=this.j.xd(s))&a)&&s&u&&(this.J[6]=0)},l.prototype.IS=function(s,a,u){this.J[0]!=0&&(s=this.j.xd(s))&a&&s&u&&(this.J[0]=0)},l.prototype.wG=function(s,a,u,p){this.J[p]!=0&&(s=this.j.xd(s))&a&&!(s&u)&&(this.J[p]=0)},l.prototype.Bp=function(s,a){var u=!1;s=this.j.La(s),a=this.j.La(a),this.Ui=this.j.$g();for(var p=this.j.Re;p!=-1;p=this.j.Rf(p)){var y=this.j.Me(p);if(y==-1){if(this.Sm!=-1)switch(this.Sm){case 3:u=this.aE(p,s,a);break;case 4:u=this.QG(p,s,a);break;default:throw d.i.fa("internal error")}}else{var m=y;do{var w=m;if(this.j.Ab(w,this.Ui)!=1)do{switch(this.vw){case 0:u=this.xN(w,s,a);break;case 1:u=this.yN(w,s,a);break;case 2:u=this.mT(w,s,a);break;default:throw d.i.fa("internal error")}if(u)break;this.j.Kb(w,this.Ui,1),w=this.j.jc(w)}while(w!=m&&!u);if(u)break;m=this.j.jc(this.j.xa(w))}while(m!=y);if(u)break}}u||this.UJ(),this.j.Jg(this.Ui)},l.prototype.Gy=function(s,a){var u=!1;s=this.j.La(s),a=this.j.La(a);for(var p=this.j.Re;p!=-1;p=this.j.Rf(p)){switch(this.Sm){case 3:u=this.aE(p,s,a);break;case 4:u=this.QG(p,s,a);break;case 5:u=this.ZU(p,s,a);break;default:throw d.i.Qa()}if(u)break}u||this.UJ()},l.prototype.er=function(s,a){this.j.dr(s,a)},l.prototype.Wo=function(s,a,u){this.YP(s,a,u),this.er(s,u)},l.prototype.YP=function(s,a,u){for(d.Tk.V(s,a,u,!1),s.Gp(0,!0,!0),a=s.ld;a!=-1;a=s.ue(a))s.ic(a)==1736&&d.rn.V(s,a,-1,!1,u)},l.WE=function(s,a){var u=s.getType();return d.aa.yd(u)?((a=new d.Ta(s.description)).oc(s,!0),a):u==197?(u=new d.l,s.A(u),u.ca()<=a&&u.R()<=a?(a=new d.Sa(s.description),s.sf(a),a):u.ca()<=a||u.R()<=a?(a=new d.Ta(s.description),u=new d.Sa,s.Hf(0,u),a.nf(u),s.Hf(2,u),a.lineTo(u),a):((a=new d.Da(s.description)).ad(s,!1),a)):s},l}(),d.am=O}(te||(te={})),function(d){var O=function(){function l(s){this.Em=new d.ia(0),this.dw=new d.ia(0),this.wt=new d.h,this.xt=new d.h,this.g=s,this.Hs=-1}return l.prototype.bc=function(s){return this.g.bc(this.zz(s))},l.prototype.Bv=function(s){var a=this.iz(s);if(s=this.HF(s),this.g.Ma(a)==s){var u=a;a=s,s=u}return this.g.Gc(a,this.wt),this.g.Gc(s,this.xt),this.wt.y<this.xt.y},l.prototype.zz=function(s){var a=this.iz(s);return s=this.HF(s),this.g.U(a)==s?a:s},l.prototype.iz=function(s){return this.Em.get(s)},l.prototype.HF=function(s){return this.dw.get(s)},l.prototype.rF=function(s){this.Em.set(s,this.Hs),this.Hs=s},l.prototype.nI=function(s){if(this.Hs!=-1){var a=this.Hs;return this.Hs=this.Em.get(a),this.Em.set(a,s),this.dw.set(a,this.g.U(s)),a}return this.Em==null&&(this.Em=new d.ia(0),this.dw=new d.ia(0)),a=this.Em.size,this.Em.add(s),this.dw.add(this.g.U(s)),a},l.prototype.rz=function(s){return this.g.bd(this.iz(s))},l}();d.yY=O;var x=function(){function l(s){this.Be=s,this.ie=new d.yb,this.Nm=new d.yb,this.CH=0,this.Ao=null,this.yA=-1}return l.prototype.compare=function(s,a,u){u=s.ja(u);var p=this.Be.hb;if(this.yA==a)var y=this.CH;else this.Ao=p.bc(a),this.Ao==null?((s=p.g).ed(p.zz(a),this.ie),this.Ao=this.ie,y=this.ie.Pe(this.Be.yh,0)):y=this.Ao.Pe(this.Be.yh,0),this.CH=y,this.yA=a;if((s=p.bc(u))==null){(s=p.g).ed(p.zz(u),this.Nm),s=this.Nm;var m=this.Nm.Pe(this.Be.yh,0)}else m=s.Pe(this.Be.yh,0);return y==m&&(a=p.Bv(a),u=p.Bv(u),(a=.5*((u=Math.min(a?this.Ao.la:this.Ao.na,u?s.la:s.na))+this.Be.yh))==this.Be.yh&&(a=u),y=this.Ao.Pe(a,0),m=s.Pe(a,0)),y<m?-1:y>m?1:0},l.prototype.reset=function(){this.yA=-1},l}(),h=function(){function l(){this.Wm=this.Gl=null,this.fb=new d.Yj,this.fb.RP(),this.$d=new x(this),this.fb.Vo(this.$d)}return l.prototype.HQ=function(){var s=!1;if(this.fw&&(s=this.IQ()),this.g.da(this.X)==1){var a=this.g.Ob(this.X);return s=this.g.wz(a),this.g.PB(a,!0),0>s&&(s=this.g.Xa(a),this.g.pJ(s),this.g.Wg(a,this.g.Ma(s)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))this.g.gr(a,this.El,0),this.g.gr(a,this.wo,-1);a=new d.ia(0),this.yh=NaN;var u=new d.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var p=this.Gl.rc(this.Gl.je);p!=-1;p=this.Gl.lb(p)){var y=this.Gl.getData(p);if(this.g.Gc(y,u),u.y!=this.yh&&a.size!=0&&(s=this.ut(a)||s,this.$d.reset(),a.clear(!1)),a.add(y),this.yh=u.y,this.et==0)break}for(0<this.et&&(s=this.ut(a)||s,a.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),a=this.g.Ob(this.X);a!=-1;)if(this.g.sj(a,this.El)==3){for(this.g.PB(a,!0),u=a,a=this.g.sj(a,this.wo);a!=-1;)p=this.g.sj(a,this.wo),this.g.ZT(this.X,this.g.Rb(u),a),u=a,a=p;a=this.g.Rb(u)}else this.g.PB(a,!1),a=this.g.Rb(a);return this.g.CB(this.El),this.g.CB(this.wo),s},l.prototype.ut=function(s){return this.$V(s)},l.prototype.$V=function(s){var a=!1;this.hb==null&&(this.hb=new O(this.g)),this.Wm==null?(this.Wm=new d.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(s);for(var u=0,p=s.size;u<p;u++){var y=s.get(u);y!=-1&&this.oG(y,-1)}for(u=0;u<this.Wm.size&&0<this.et;u++)if(s=this.Wm.get(u),y=this.hb.rz(this.fb.ja(s)),p=-1,this.g.sj(y,this.El)==0){y=this.fb.we(s);for(var m,w=s;y!=-1;){var S=this.fb.ja(y),k=this.hb.rz(S),I=this.g.sj(k,this.El);if(I!=0){p=k;break}w=y,y=this.fb.we(y)}y==-1?(m=!0,y=w):(S=this.fb.ja(y),m=this.hb.Bv(S),y=this.fb.lb(y),m=!m);do{if(S=this.fb.ja(y),k=this.hb.rz(S),(I=this.g.sj(k,this.El))==0&&(m!=this.hb.Bv(S)&&(a=this.g.Xa(k),this.g.pJ(a),this.g.Wg(k,this.g.Ma(a)),a=!0),this.g.gr(k,this.El,m?3:2),m||(w=this.g.sj(p,this.wo),this.g.gr(p,this.wo,k),this.g.gr(k,this.wo,w)),this.et--,this.et==0))return a;p=k,w=y,y=this.fb.lb(y),m=!m}while(w!=s)}return a},l.prototype.ZV=function(s){for(var a=0,u=s.size;a<u;a++){var p=s.get(a),y=this.g.Pa(p,this.ro),m=this.g.Pa(p,this.Rs);if(y!=-1){var w=this.fb.ja(y);this.hb.rF(w),this.g.Ra(p,this.ro,-1)}m!=-1&&(w=this.fb.ja(m),this.hb.rF(w),this.g.Ra(p,this.Rs,-1)),w=-1,y!=-1&&m!=-1?(this.fb.vd(y,-1),this.fb.vd(m,-1),s.set(a,-1)):w=y!=-1?y:m,w!=-1&&(this.oG(p,w)||this.fb.vd(w,-1),s.set(a,-1))}},l.prototype.oG=function(s,a){var u=new d.h,p=new d.h;this.g.Gc(s,u);var y=this.g.U(s);this.g.Gc(y,p);var m=!1;if(u.y<p.y){m=!0;var w=this.hb.nI(s);if(a==-1)var S=this.fb.addElement(w,-1);else S=a,this.fb.Sj(S,w);(w=this.g.Pa(y,this.ro))==-1?this.g.Ra(y,this.ro,S):this.g.Ra(y,this.Rs,S),y=this.g.bd(s),this.g.sj(y,this.El)==0&&this.Wm.add(S)}return y=this.g.Ma(s),this.g.Gc(y,p),u.y<p.y&&(m=!0,w=this.hb.nI(y),a==-1?S=this.fb.addElement(w,-1):(S=a,this.fb.Sj(S,w)),(w=this.g.Pa(y,this.ro))==-1?this.g.Ra(y,this.ro,S):this.g.Ra(y,this.Rs,S),y=this.g.bd(s),this.g.sj(y,this.El)==0&&this.Wm.add(S)),m},l.V=function(s,a,u,p){var y=new l;return y.g=s,y.X=a,y.Gl=u,y.fw=p,y.HQ()},l.prototype.IQ=function(){var s=new d.ia(0),a=new d.ia(0),u=-1,p=-1,y=new d.h;y.Rc();for(var m=-1,w=-1,S=-1,k=new d.h,I=this.Gl.rc(this.Gl.je);I!=-1;I=this.Gl.lb(I)){var A=this.Gl.getData(I);this.g.Gc(A,k);var L=this.g.bd(A);y.qb(k)&&w==L?(p==-1&&(u=this.g.Ky(),p=this.g.Gd()),S==-1&&(S=a.size,this.g.Ra(m,p,S),a.add(1),this.g.sj(L,u)==-1&&(this.g.gr(L,u,m),s.add(L))),this.g.Ra(A,p,S),a.bX(a.Fc()+1)):(S=-1,y.L(k)),m=A,w=L}if(s.size==0)return!1;for(y=new d.ia(0),m=new d.ia(0),w=0,S=s.size;w<S;w++){L=s.get(w);var D=this.g.sj(L,u);for(A=this.g.Pa(D,p),y.clear(!1),m.clear(!1),y.add(D),m.add(A),A=this.g.U(D);A!=D;A=this.g.U(A)){var U=A;if((k=this.g.Pa(U,p))!=-1)if(m.size==0)m.add(k),y.add(U);else if(m.Fc()==k){I=y.Fc();var X=this.g.U(I);D=this.g.U(U),this.g.Bc(I,D),this.g.Cc(D,I),this.g.Bc(U,X),this.g.Cc(X,U),U=[!1],X=this.g.nG(this.X,X,this.g.Xa(L),U),this.g.Ra(A,p,-1),U[0]&&this.g.Jf(L,D),A=this.g.Ja(L),A-=D=this.g.Ja(X),this.g.Vj(L,A),a.set(k,a.get(k)-1),a.get(k)==1&&(a.set(k,0),m.If(),y.If()),A=D=I}else y.add(A),m.add(k)}}return this.g.CB(u),this.g.Td(p),!0},l}();d.WL=h}(te||(te={})),function(d){var O=function(){function x(){}return x.prototype.ig=function(){this.PA=this.sb=null},x.prototype.get=function(){return this.PA},x.prototype.set=function(h){if(this.PA=h,h!=null)throw h.getType()==322&&(this.sb=h),d.i.Qa()},x.prototype.create=function(h){if(h!=322)throw d.i.fa("Not Implemented");this.Or()},x.prototype.Or=function(){this.sb==null&&(this.sb=new d.yb),this.PA=this.sb},x}();d.ig=O}(te||(te={})),function(d){(d=d.XL||(d.XL={}))[d.enumLineSeg=1]="enumLineSeg",d[d.enumBezierSeg=2]="enumBezierSeg",d[d.enumArcSeg=4]="enumArcSeg",d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",d[d.enumSegmentMask=7]="enumSegmentMask",d[d.enumDensified=8]="enumDensified"}(te||(te={})),function(d){var O=function(h){this.$i=h,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},x=function(){function h(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new d.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return h.prototype.wB=function(l){if(l!=null){for(var s=0,a=l.length;s<a;s++)this.rW(l[s]);l.length=0}},h.prototype.rW=function(l){l.$i=null,this.Iq.push(l)},h.prototype.Ow=function(l){if(this.Iq.length===0)var s=new O(l);else(s=this.Iq[this.Iq.length-1]).$i=l,--this.Iq.length;return s},h.prototype.SR=function(l,s){return l==0?this.$s[s]:this.yw[s]},h.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new d.ig);var l=this.MA[this.Cw];return this.Cw++,l},h.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},h.prototype.Oo=function(l){this.mo.push(this.Ow(l))},h.prototype.ol=function(l){return l==0?this.$s.length:this.yw.length},h.prototype.Vp=function(l,s){return this.SR(l,s).$i},h.prototype.Ea=function(l,s){if(this.mo.length!=2)throw d.i.Qa();this.qa=l;var a=d.lc.ox(.01*l),u=!1,p=this.mo[0],y=this.mo[1];if(s||5&p.$i.zr(y.$i,l,!0)){if(p.$i.getType()==322){var m=p.$i;if(y.$i.getType()==322){s=y.$i;var w=d.yb.Zx(m,s,null,this.Fq,this.Bk,l);if(w==0)throw d.yb.Zx(m,s,null,this.Fq,this.Bk,l),d.i.Qa();l=Array(9),d.O.$u(l,null);for(var S=0;S<w;S++){var k=this.Fq[S],I=this.Bk[S],A=p.sB,L=1;k==0?(A=p.tB,L=p.rC):k==1&&(A=p.rB,L=p.qC);var D=y.sB,U=1;I==0?(D=y.tB,U=y.rC):I==1&&(D=y.rB,U=y.qC);var X=new d.h;A==D?(A=new d.h,m.hc(k,A),k=new d.h,s.hc(I,k),U/=I=L+U,d.lc.OG(A,k,U,X),d.h.yc(X,A)+d.h.yc(X,k)>a&&(u=!0)):A>D?(m.hc(k,X),k=new d.h,s.hc(I,k),d.h.yc(X,k)>a&&(u=!0)):(s.hc(I,X),A=new d.h,m.hc(k,A),d.h.yc(X,A)>a&&(u=!0)),l[S]=X}for(p=0,y=-1,S=0;S<=w;S++)(U=S<w?this.Fq[S]:1)!=p&&(a=this.aB(),m.ah(p,U,a),y!=-1&&a.get().Dc(l[y]),S!=w&&a.get().Qc(l[S]),p=U,this.$s.push(this.Ow(a.get()))),y=S;for(m=[0,0,0,0,0,0,0,0,0],S=0;S<w;S++)m[S]=S;for(1<w&&this.Bk[0]>this.Bk[1]&&(U=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=U,S=m[0],m[0]=m[1],m[1]=S),p=0,y=-1,S=0;S<=w;S++)(U=S<w?this.Bk[S]:1)!=p&&(a=this.aB(),s.ah(p,U,a),y!=-1&&(p=m[y],a.get().Dc(l[p])),S!=w&&(p=m[S],a.get().Qc(l[p])),p=U,this.yw.push(this.Ow(a.get()))),y=S;return u}}throw d.i.Qa()}return!1},h.prototype.Kz=function(l,s,a){if(s.copyTo(this.Bf),this.mo.length!=1)throw d.i.Qa();this.qa=l;var u=this.mo[0];if(a||u.$i.ru(s.D(),l,!0)){if(u.$i.getType()!=322)throw d.i.Qa();var p=(l=u.$i).fe(s.D(),!1);this.Fq[0]=p;var y=u.sB;for(a=1,p==0?(y=u.tB,a=u.rC):p==1&&(y=u.rB,a=u.qC),u=new d.h,y==0?(y=new d.h,l.hc(p,y),s=s.D(),d.lc.OG(y,s,1/(a+1),u)):0<y?(u=new d.h,l.hc(p,u)):u=s.D(),a=0,p=-1,y=0;1>=y;y++){if((s=1>y?this.Fq[y]:1)!=a){var m=this.aB();l.ah(a,s,m),p!=-1&&m.get().Dc(u),y!=1&&m.get().Qc(u),a=s,this.$s.push(this.Ow(m.get()))}p=y}this.Bf.Cb(u)}},h}();d.TC=x}(te||(te={})),function(d){var O=function(){function x(h){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=h,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new d.h}return x.prototype.BW=function(h){if(this.ib!=h.ib)throw d.i.Hb();this.zf=h.zf,this.Jd=h.Jd,this.gb=h.gb,this.Cl=h.Cl,this.ag=h.ag,this.zm=h.zm,this.rk=null},x.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw d.i.ce();this.Jd++}return this.rk},x.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw d.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},x.prototype.DW=function(){this.zf=-1,this.Jd=0},x.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},x.prototype.Vb=function(h,l){if(l===void 0&&(l=-1),0<=this.gb&&this.gb<this.ib.da()){var s=this.IM();if(h>=s&&h<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=h-s)}l=0<=l&&l<this.ib.da()&&h>=this.ib.Ba(l)&&h<this.ib.Vc(l)?l:this.ib.sz(h),this.Cl=l+1,this.gb=l,this.zf=-1,this.Jd=h-this.ib.Ba(l),this.ag=this.Wx(l),this.ib.Ba(this.gb),this.ib.dc(this.gb)},x.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},x.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},x.prototype.Wx=function(h){if(this.ib.Ac())return 0;var l=1;return this.ib.dc(h)&&(l=0),this.ib.Ja(h)-l},x.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},x.prototype.JB=function(){this.zm=!0},x.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},x.prototype.IM=function(){return this.ib.Ba(this.gb)},x.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},x.prototype.vm=function(){return this.zf==0},x.prototype.Qn=function(){return this.zf==this.ag-1},x.prototype.Ha=function(){return this.Jd<this.ag},x.prototype.Ez=function(){return 0<this.Jd},x.prototype.Of=function(){var h=new x(this.ib);return h.zf=this.zf,h.Jd=this.Jd,h.ag=this.ag,h.gb=this.gb,h.Cl=this.Cl,h.ib=this.ib,h.zm=this.zm,h},x.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw d.i.ce();this.zf=this.Jd;var h=this.wb();this.ib.mc();var l=this.ib.Ve,s=1;switch(l!=null&&(s=7&l.read(h)),l=this.ib.description,s){case 1:this.sb==null&&(this.sb=new d.yb),this.rk=this.sb;break;case 2:throw d.i.fa("internal error");default:throw d.i.Qa()}this.rk.Nf(l),s=this.ik(),this.ib.Gc(h,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(s,this.Ds),this.rk.Qc(this.Ds);for(var a=1,u=l.Aa;a<u;a++)for(var p=l.kd(a),y=d.ra.Va(p),m=0;m<y;m++){var w=this.ib.Uc(p,h,m);this.rk.YB(p,m,w),w=this.ib.Uc(p,s,m),this.rk.OB(p,m,w)}},x.prototype.$S=function(){return this.gb==this.ib.da()-1},x.prototype.Pn=function(){var h=this.ib.VR();return h!=null&&(7&h.read(this.zf))!=1},x}();d.YL=O}(te||(te={})),function(d){var O=function(){function x(h){h instanceof d.aa?(this.xH=h,this.ya=-1,this.Ei=1):(this.vT=h.slice(0),this.ya=-1,this.Ei=h.length)}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},x.prototype.qe=function(){},x}();d.Zc=O}(te||(te={})),function(d){var O=function(){this.next=null},x=function(){function h(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return h.prototype.AX=function(l,s,a){this.oi=l,this.pl=s,this.Jh=this.Wl=null,this.Tq=0,this.vy=a,this.gn==null&&(this.gn=d.O.lg(384,0)),this.nK()},h.prototype.R=function(){return this.oi},h.prototype.ca=function(){return this.pl},h.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},h.prototype.nK=function(){if(0<this.Tq){for(var l=0;l<this.pl;l++){for(var s=this.Wl[l];s!=null;){var a=s;s=s.next,a.next=null}this.Wl[l]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},h.prototype.iJ=function(l){for(this.kF=l==h.Cx,l=this.Lw;l<=this.Kw;l++)this.sN(),this.lN(l),this.ZP();this.nK()},h.prototype.jy=function(l,s,a,u){if(s!=u){var p=1;if(s>u&&(p=l,l=a,a=p,p=s,s=u,u=p,p=-1),!(0>u||s>=this.pl)){0>l&&0>a?a=l=-1:l>=this.oi&&a>=this.oi&&(a=l=this.oi);var y=(a-l)/(u-s);u>this.pl&&(a=y*((u=this.pl)-s)+l),0>s&&(l=y*(0-s)+l,s=0);var m=Math.max(this.oi+1,8388607);-8388607>l?(s=(0-l)/y+s,l=0):l>m&&(s=(this.oi-l)/y+s,l=this.oi),-8388607>a?u=(0-l)/y+s:a>m&&(u=(this.oi-l)/y+s),(s=d.O.truncate(s))!=(u=d.O.truncate(u))&&((a=new O).x=d.O.truncate(4294967296*l),a.y=s,a.H=u,a.WP=d.O.truncate(4294967296*y),a.dir=p,this.Wl==null&&(this.Wl=d.O.lg(this.pl,null)),a.next=this.Wl[a.y],this.Wl[a.y]=a,a.y<this.Lw&&(this.Lw=a.y),a.H>this.Kw&&(this.Kw=a.H),this.Tq++)}}},h.prototype.sN=function(){if(this.Jh!=null){for(var l=!1,s=null,a=this.Jh;a!=null;)if(a.y++,a.y==a.H){var u=a;a=a.next,s!=null?s.next=a:this.Jh=a,u.next=null}else a.x+=a.WP,s!=null&&s.x>a.x&&(l=!0),s=a,a=a.next;l&&(this.Jh=this.fK(this.Jh))}},h.prototype.lN=function(l){if(!(l>=this.pl)){var s=this.Wl[l];if(s!=null){this.Wl[l]=null,s=this.fK(s),this.Tq-=this.gK,l=this.Jh;for(var a=!0,u=s,p=null;l!=null&&u!=null;)l.x>u.x?(a&&(this.Jh=u),a=u.next,u.next=l,p!=null&&(p.next=u),p=u,u=a):(a=l.next,l.next=u,p!=null&&(p.next=l),p=l,l=a),a=!1;this.Jh==null&&(this.Jh=s)}}},h.eK=function(l,s){return 0>l?0:l>s?s:l},h.prototype.ZP=function(){if(this.Jh!=null){for(var l=0,s=this.Jh,a=d.O.truncate(d.O.XG(s.x)),u=s.next;u!=null;u=u.next)if(l=this.kF?1^l:l+u.dir,u.x>s.x){var p=d.O.truncate(d.O.XG(u.x));l!=0&&(s=h.eK(a,this.oi),(a=h.eK(p,this.oi))>s&&s<this.oi&&(this.gn[this.Ol++]=s,this.gn[this.Ol++]=a,this.gn[this.Ol++]=u.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),s=u,a=p}}},h.prototype.fK=function(l){for(var s=0,a=l;a!=null;a=a.next)s++;if(this.gK=s,s==1)return l;this.Kf==null?this.Kf=d.O.lg(Math.max(s,16),null):this.Kf.length<s&&(this.Kf=d.O.lg(Math.max(s,2*this.Kf.length),null));var u=0;for(a=l;a!=null;a=a.next)this.Kf[u++]=a;for(s==2?this.Kf[0].x>this.Kf[1].x&&(l=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=l):h.AN(this.Kf,s,function(p,y){return p==y?0:p.x<y.x?-1:p.x>y.x?1:0}),l=this.Kf[0],this.Kf[0]=null,a=l,u=1;u<s;u++)a.next=this.Kf[u],a=this.Kf[u],this.Kf[u]=null;return a.next=null,l},h.AN=function(l,s,a){if(s==l.length)l.sort(a);else{var u=l.slice(0,0),p=l.slice(s);s=l.slice(0,s).sort(a),l.length=0,l.push.apply(l,u.concat(s).concat(p))}},h.Cx=0,h}();d.Px=x}(te||(te={})),function(d){var O=function(){function x(){}return x.prototype.ui=function(h,l){var s=this.g.Pa(h,this.Pq);if(this.Dl==s&&(this.Dl=this.oe.lb(this.Dl)),this.ho==s&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,s),this.bk(h),l&&(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h){var a=this.g.U(h);if(a!=h){if((s=this.g.bd(a))==l)return void this.g.Jf(l,a);if((a=this.g.Ma(h))!=h&&(s=this.g.bd(a))==l)return void this.g.Jf(l,a)}this.g.Jf(l,-1),this.g.Wg(l,-1)}},x.prototype.pD=function(){for(var h=!1,l=new d.h;;){this.Wh==null?(this.Wh=new d.ia(0),this.zs=new d.ia(0),this.xe=new d.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var s=this.ho,a=0,u=!0;s!=this.Dl;){var p=this.oe.getData(s),y=new d.h;this.g.Gc(p,y),u&&(this.g.Gc(p,l),u=!1),y=this.g.Ma(p);var m=this.g.U(p);this.g.Pa(y,this.zg)!=-559038737&&(this.Wh.add(y),this.g.Ra(y,this.zg,-559038737),this.zs.add(p),this.xe.add(a++)),this.g.Pa(m,this.zg)!=-559038737&&(this.Wh.add(m),this.g.Ra(m,this.zg,-559038737),this.zs.add(p),this.xe.add(a++)),s=this.oe.lb(s)}if(2>this.Wh.size)break;var w=this;for(this.xe.Vd(0,this.xe.size,function(S,k){return w.pM(S,k)}),s=0,a=this.xe.size;s<a;s++)u=this.xe.get(s),u=this.Wh.get(u),this.g.Ra(u,this.zg,s),y=new d.h,this.g.Gc(u,y);for(y=this.TM(l),s=0,a=this.xe.size;s<a;s++)(u=this.xe.get(s))!=-1&&(u=this.Wh.get(u),this.g.Ra(u,this.zg,-1));if(!y)break;h=!0}return h},x.prototype.TM=function(h){for(var l=!1,s=!0;s;){s=!1;var a=0;this.xe.get(a)==-1&&(a=this.cm(a));for(var u=this.cm(a),p=0,y=this.xe.size;p<y&&a!=-1&&u!=-1&&a!=u;p++){var m=this.xe.get(a);u=this.xe.get(u),m=this.Wh.get(m),u=this.Wh.get(u);var w=this.g.U(m);this.g.Dv(w,h)||(w=this.g.Ma(m));var S=this.g.U(u);this.g.Dv(S,h)||(S=this.g.Ma(u));var k=this.pu(w,m),I=this.pu(S,u),A=k?this.g.Ma(w):this.g.U(w),L=I?this.g.Ma(S):this.g.U(S),D=!1;(this.sp(w)||this.sp(S)||this.sp(m)||this.sp(u)||this.sp(A)||this.sp(L))&&(D=!0),!D&&this.g.fq(m,u)&&(D=!0,this.tD(k,I,w,m,S,u)),!D&&this.g.fq(A,L)&&(D=!0,this.tD(!k,!I,w,A,S,L)),D&&(l=!0),s=s||D,a=this.cm(a),u=this.cm(a)}}if(!l)for(a=0,this.xe.get(a)==-1&&(a=this.cm(a)),u=this.cm(a),p=0,y=this.xe.size;p<y&&a!=-1&&u!=-1&&a!=u;p++)m=this.xe.get(a),u=this.xe.get(u),m=this.Wh.get(m),u=this.Wh.get(u),w=this.g.U(m),this.g.Dv(w,h)||(w=this.g.Ma(m)),S=this.g.U(u),this.g.Dv(S,h)||(S=this.g.Ma(u)),k=this.pu(w,m),I=this.pu(S,u),A=k?this.g.Ma(w):this.g.U(w),L=I?this.g.Ma(S):this.g.U(S),this.DM(k,I,m,w,A,u,S,L)&&(l=!0),a=this.cm(a),u=this.cm(a);return l},x.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new d.Fg().MU(this.fw,this.g,this.X,this.nd);var h=!1,l=!0;this.zg=this.Pq=-1;var s=this.g.I(this.X),a=new d.ia(0);a.Jb(s);for(var u=this.g.Ob(this.X);u!=-1;u=this.g.Rb(u))for(var p=this.g.Xa(u),y=0,m=this.g.Ja(u);y<m;y++)a.add(p),p=this.g.U(p);var w=this.g.td.o,S=this.g.td.stride;this.g.vb.mc();var k=this.g.vb.za[0].o;for(a.Vd(0,s,function(A,L){var D=w[S*A],U=w[S*L],X=k[2*D];D=k[2*D+1];var J=k[2*U];return(X=D<(U=k[2*U+1])?-1:D>U?1:X<J?-1:X>J?1:0)==0&&(X=(A=w[S*A+3])<(L=w[S*L+3])?-1:A==L?0:1),X}),this.Pq=this.g.Gd(),this.oe=new d.jp,this.RA=this.oe.Ph(0),this.oe.fn(s),u=0;u<s;u++)p=a.get(u),y=this.oe.addElement(this.RA,p),this.g.Ra(p,this.Pq,y);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(h=!0);l;){l=!1,s=0,a=!1;do{a=!1,this.ho=-1,m=0,u=new d.h,y=new d.h;for(var I=this.oe.rc(this.RA);I!=-1;)p=this.oe.getData(I),this.ho!=-1?(this.g.Gc(p,y),u.qb(y)?m++:(u.L(y),this.Dl=I,0<m&&(p=this.pD())&&(a=!0,this.Dl!=-1&&(p=this.oe.getData(this.Dl),this.g.Gc(p,u))),this.ho=I=this.Dl,m=0)):(this.ho=I,this.g.Gc(this.oe.getData(I),u),m=0),I!=-1&&(I=this.oe.lb(I));if(this.Dl=-1,0<m&&(p=this.pD())&&(a=!0),10<s++)throw d.i.Qa();a&&this.GM(),this.cD()&&(a=!0),l=l||a&&!1,h=h||a}while(a)}return this.g.Td(this.Pq),this.g.Td(this.zg),d.WL.V(this.g,this.X,this.oe,this.fw)||h},x.prototype.pu=function(h,l){return this.g.U(l)!=h},x.prototype.DM=function(h,l,s,a,u,p,y,m){if(a==y)return this.bk(s),this.bk(p),!1;var w=this.g.Pa(s,this.zg),S=this.g.Pa(u,this.zg),k=this.g.Pa(p,this.zg),I=this.g.Pa(m,this.zg),A=[0,0,0,0];for((s=[0,0,0,0,0,0,0,0])[0]=0,A[0]=w,s[1]=0,A[1]=S,s[2]=1,A[2]=k,s[3]=1,A[3]=I,w=1;4>w;w++){for(S=A[w],k=s[w],I=w-1;0<=I&&A[I]>S;)A[I+1]=A[I],s[I+1]=s[I],I--;A[I+1]=S,s[I+1]=k}return A=0,s[0]!=0&&(A|=1),s[1]!=0&&(A|=2),s[2]!=0&&(A|=4),s[3]!=0&&(A|=8),(A==5||A==10)&&(h==l?h?(this.g.Bc(m,a),this.g.Cc(a,m),this.g.Bc(u,y),this.g.Cc(y,u)):(this.g.Cc(m,a),this.g.Bc(a,m),this.g.Cc(u,y),this.g.Bc(y,u)):h?(this.g.Cc(a,p),this.g.Bc(p,a),this.g.Cc(y,u),this.g.Bc(u,y)):(this.g.Bc(a,p),this.g.Cc(p,a),this.g.Bc(y,u),this.g.Cc(u,y)),!0)},x.prototype.tD=function(h,l,s,a,u,p){this.MY?this.VM():this.UM(h,l,s,a,u,p)},x.prototype.VM=function(){throw d.i.fa("not implemented.")},x.prototype.UM=function(h,l,s,a,u,p){if(h!=l)h?(this.g.Bc(s,u),this.g.Cc(u,s),this.g.Bc(p,a),this.g.Cc(a,p),this.vn(u,s),this.ui(u,!0),this.g.mi(u,!0),this.bk(s),this.vn(p,a),this.ui(p,!0),this.g.mi(p,!1)):(this.g.Bc(u,s),this.g.Cc(s,u),this.g.Bc(a,p),this.g.Cc(p,a),this.vn(u,s),this.ui(u,!0),this.g.mi(u,!1),this.bk(s),this.vn(p,a),this.ui(p,!0),this.g.mi(p,!0)),this.bk(a);else{var y=h?s:a,m=l?u:p;for(h=h?a:s,l=l?p:u,u=!1,this.g.Bc(y,m),this.g.Bc(m,y),this.g.Cc(h,l),this.g.Cc(l,h),p=l;p!=m;)s=this.g.Ma(p),a=this.g.U(p),this.g.Cc(p,a),this.g.Bc(p,s),u=u||p==y,p=a;u||(s=this.g.Ma(m),a=this.g.U(m),this.g.Cc(m,a),this.g.Bc(m,s)),this.vn(m,y),this.ui(m,!0),this.g.mi(m,!1),this.bk(y),this.vn(l,h),this.ui(l,!0),this.g.mi(l,!1),this.bk(h)}},x.prototype.cD=function(){for(var h=!1,l=this.g.Ob(this.X);l!=-1;){for(var s=this.g.Xa(l),a=0,u=this.g.Ja(l);a<u&&1<u;){var p=this.g.Ma(s),y=this.g.U(s);this.g.fq(p,y)?(h=!0,this.ui(s,!1),this.g.pd(s,!0),this.ui(y,!1),this.g.pd(y,!0),s=p,a=0,u=this.g.Ja(l)):(s=y,a++)}if(2>this.g.Ja(l)){for(h=this.g.Xa(l),a=0,u=this.g.Ja(l);a<u;a++)this.ui(h,!1),h=this.g.U(h);l=this.g.Zq(l),h=!0}else l=this.g.Rb(l)}return h},x.prototype.sp=function(h){for(var l=!1;;){var s=this.g.U(h),a=this.g.Ma(h);if(s==h)return this.ui(h,!0),this.g.mi(h,!1),!0;if(!this.g.fq(s,a)||(l=!0,this.bk(a),this.bk(s),this.ui(h,!0),this.g.mi(h,!1),this.vn(s,a),this.ui(s,!0),this.g.mi(s,!0),s==a))break;h=a}return l},x.prototype.GM=function(){for(var h=0,l=this.oe.rc(this.oe.je);l!=-1;l=this.oe.lb(l)){var s=this.oe.getData(l);this.g.aj(s,-1)}for(var a=0,u=this.g.Ob(this.X);u!=-1;)if((l=this.g.Xa(u))==-1||this.g.bd(l)!=-1)s=u,u=this.g.Rb(u),this.g.$q(s);else{this.g.aj(l,u);var p=1;for(s=this.g.U(l);s!=l;s=this.g.U(s))this.g.aj(s,u),p++;this.g.cp(u,!1),this.g.Vj(u,p),this.g.Wg(u,this.g.Ma(l)),a+=p,h++,u=this.g.Rb(u)}for(l=this.oe.rc(this.oe.je);l!=-1;l=this.oe.lb(l))s=this.oe.getData(l),this.g.bd(s)==-1&&(u=this.g.nG(this.X,s,s,null),a+=this.g.Ja(u),h++);for(this.g.Rl(this.X,h),this.g.Tj(this.X,a),h=0,a=this.g.ld;a!=-1;a=this.g.ue(a))h+=this.g.I(a);this.g.bC(h)},x.prototype.cm=function(h){for(var l=0,s=this.xe.size-1;l<s;l++)if(h=(h+1)%this.xe.size,this.xe.get(h)!=-1)return h;return-1},x.prototype.vn=function(h,l){var s=this.g.Pa(l,this.Pq),a=this.g.Pa(l,this.zg);this.g.lC(h,l),this.g.Ra(l,this.Pq,s),this.g.Ra(l,this.zg,a)},x.prototype.bk=function(h){var l=this.g.Pa(h,this.zg);l!=-1&&(this.xe.set(l,-1),this.g.Ra(h,this.zg,-1))},x.V=function(h,l,s,a,u){var p=new x;return p.g=h,p.X=l,p.xA=s,p.fw=a,p.nd=u,p.XM()},x.prototype.pM=function(h,l){var s=this.Wh.get(h),a=new d.h;this.g.Gc(s,a),s=new d.h;var u=this.Wh.get(l);return this.g.Gc(u,s),a.qb(s)?0:(u=this.zs.get(h),h=new d.h,this.g.Gc(u,h),u=this.zs.get(l),l=new d.h,this.g.Gc(u,l),(u=new d.h).uc(a,h),(a=new d.h).uc(s,l),d.h.nu(u,a))},x}();d.rn=O}(te||(te={})),function(d){var O;(O=d.$L||(d.$L={}))[O.Local=0]="Local",O[O.Geographic=1]="Geographic",O[O.Projected=2]="Projected",O[O.Image=3]="Image",O[O.Unknown=4]="Unknown",function(h){h[h.Integer32=0]="Integer32",h[h.Integer64=1]="Integer64",h[h.FloatingPoint=2]="FloatingPoint"}(d.TL||(d.TL={}));var x=function(){function h(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return h.prototype.Ec=function(){return this.dg},h.prototype.VF=function(){return 1},h.prototype.VW=function(l){this.mA=l},h.prototype.Xd=function(){if(this.mA!==null)return this.mA;var l=.001;return this.dg!=0?l=d.wr.CQ(this.dg):this.wh!=null&&(l=d.XC.DQ(this.wh)),l},h.prototype.Bz=function(){return this.wh},h.prototype.Hd=function(){return this.dg!=0?d.Tc.Zg(d.wr.Sy(this.dg)):this.wh!=null?d.XC.EQ(this.wh):void 0},h.Sb=function(l){if(l.dg!=0){if(d.wr.ZS(l.dg)===!0)return 1;if(d.wr.aT(l.dg)===!0)return 2}return 4},h.prototype.$r=function(){var l=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=d.wr.FK(l),this.Ho!=-1?this.Ho:l)},h.create=function(l){if(0>=l)throw d.i.N("Invalid or unsupported wkid: "+l);var s=new h;return s.dg=l,s},h.qP=function(l){if(l==null||l.length==0)throw d.i.N("Cannot create SpatialReference from null or empty text.");var s=new h;return s.wh=l,s},h.prototype.Nb=function(l){return this==l||l!=null&&this.constructor==l.constructor&&this.dg==l.dg&&(this.dg!=0||this.wh===l.wh)},h.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},h.prototype.cc=function(){if(this.pp!=="")return this.pp;var l=this.toString();if(Array.prototype.reduce)return this.pp="S"+l.split("").reduce(function(u,p){return 0|(u=(u<<5)-u+p.charCodeAt(0))},0);var s=0;if(l.length===0)return"";for(var a=0;a<l.length;a++)s=(s<<5)-s+l.charCodeAt(a),s&=s;return this.pp="S"+s},h.prototype.Kn=function(){return this.Xd(0)},h.prototype.fh=function(){return this.su!==null?this.su:this.su=d.gu.yP(this)},h.ZN=2147483645,h.$N=9007199254740990,h}();d.Eg=x}(te||(te={})),function(d){var O=function(x){function h(){var l=x!==null&&x.apply(this,arguments)||this;return l.Ji=null,l.ST=null,l.Hq=new d.ZL,l.Eo=null,l.jw=null,l}return ft(h,x),h.yP=function(l){var s=new h;if(s.dg=l.dg,s.Ho=l.Ho,s.ZH=l.ZH,s.wh=l.wh,s.wh!==""&&s.wh!==null){l=h.kM(s.wh);var a=h.iM(s.wh);s.Hq.Xx(l,a,d.hu.Integer64),s.by(l),s.gy(a),s.dg=l.$r()}else l=h.jM(s.dg),s.by(l),s.gy(null),s.Hq.Xx(l,null,d.hu.Integer64);return s},h.prototype.Xd=function(l){return this.Hq.Kn(l)},h.iM=function(l){if(0>=l.length)throw d.i.N();var s=null;try{s=d.NC.fromString(l)}catch{s=null}return s==null?null:h.bD(s,!0)},h.prototype.by=function(l){this.Kd=l,this.Eo=this.Kd.Hd()},h.prototype.gy=function(l){this.KH=l,this.ST=this.KH!=null?this.KH.Eo:null},h.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},h.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},h.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},h.prototype.pm=function(){return this.Kd.pm()},h.prototype.bf=function(){return this.Kd.bf()},h.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},h.prototype.Up=function(){return this.Kd.Up()},h.prototype.Wr=function(){return this.Kd.Wr()},h.prototype.kk=function(){return this.Kd.kk()},h.prototype.kS=function(l){return d.OC.Py(this.Kd,l.Kd)},h.prototype.ml=function(){return this.Kd.ml()},h.prototype.Vr=function(){return this.Kd.Vr()},h.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},h.prototype.gh=function(){if(!this.Wc())throw d.i.N("!isPannable()");var l=new d.l;return this.Kd.gh(l),l},h.prototype.Oe=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.so},h.prototype.HR=function(){if(!this.Wc())throw d.i.N("!isPannable()");var l=new d.l;return this.Kd.GR(l),l},h.prototype.pv=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.pv()},h.prototype.ov=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.ov()},h.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},h.prototype.PQ=function(){return this.Kd.hv()},h.prototype.Qp=function(){return this.Eo.getUnitFactor()},h.prototype.vz=function(l){return this.Hq.vz(l)},h.prototype.sc=function(){var l=this.Sb();if(l==1)return this;if(l==3)return this.Ji.fk().sc();if(l==0||l===4)throw d.i.fa("invalid call");if(this.jw!==null)return this.jw;if((l=this.eh().getGeogcs())==null)throw d.i.Qa();return this.jw=h.bF(l,this.Hq.VF())},h.bF=function(l,s){if(l==null)throw d.i.N("null pointer.");var a=new h;return l=h.mu(l,!0),a.Hq.Xx(l,null,s),a.by(l),a.gy(null),a.dg=l.$r(),a},h.prototype.Sb=function(){var l=this.eh();if(l!=null)switch(l.getType()){case d.Sc.PE_TYPE_GEOGCS:return 1;case d.Sc.PE_TYPE_PROJCS:return 2}return 4},h.prototype.hv=function(){return this.Kd.hv()},h.mu=function(l,s){var a=l.getCode();if(0>=a&&0<(a=d.pf.getCode(l))){if((l=d.pf.coordsys(a))==null)throw d.i.N("Text to wkid mapping had failed: "+a);return h.mu(l,s)}if(s&&0<a&&(s=h.qx[a]))return s;s=d.zb.xv(l,a,!1);var u=h.lK[s];return u||(l=0>=a?l:d.pf.coordsys(a),l=new d.OC(l),h.lK[s]=l,0<a&&(h.qx[a]=l),l)},h.jM=function(l){if(0>=l)throw d.i.N("Invalid or unsupported wkid: "+l);var s=h.qx[l];if(s!=null)return s;if((s=d.pf.coordsys(l))==null)throw d.i.N("Invalid or unsupported wkid: "+l);return(s=h.mu(s,!1)).$r()!=l&&(h.qx[l]=s),s},h.kM=function(l){if(l==null||l===void 0||l.length==0)throw d.i.N("Cannot create SpatialReference from null or empty text.");var s=null;try{s=d.pf.fromString(d.Sc.PE_TYPE_COORDSYS,l)}catch(a){throw d.i.N("Cannot create SpatialReference from text. "+a.message)}if(s===null)throw d.i.N("Cannot create SpatialReference from text. ");return h.mu(s,!0)},h.bD=function(l,s){var a,u=l.getCode();if(0>=u&&0<(u=d.pf.getCode(l))){if((u=d.pf.vertcs(u))===null)throw d.i.N();return h.bD(u,s)}if(s&&0<u&&(s=h.kK[u])||(l=d.zb.xv(l,u,!1),s=h.mK[l]))return s;if(0>=u||(a=d.pf.vertcs(u)),a===null)throw d.i.N();return a=new d.PL(a),h.mK[l]=a,0<u&&(h.kK[u]=a),a},h.sI=function(l,s){if(s===null||s.B())return null;var a=new d.l;if(s!==null&&l.Sb()!=1){var u=l.sc(),p=u.eh();l=d.vr.Nr(l,u,null,null),(s=d.Hx.local().V(s,l,null)).A(a)}else p=l.eh(),s.A(a);return s=p.getPrimem().getLongitude(),p=p.getUnit().getUnitFactor(),new d.LC(a.v,a.G,a.C,a.H,s,p)},h.lD=function(l){var s={name:"",steps:[],_pt:null,_entry:null},a=0;for(l=l.getEntries();a<l.length;a++){var u=l[a],p={LY:!1,ZY:"",YY:-1,geogtran:null};u.getDirection()===0?p.isInverse=!1:p.isInverse=!0;var y=u.getGeogtran().getCode();-1<y?p.wkid=y:p.wkt=u.getGeogtran().toString(),s.steps.push(p)}return s},h.XR=function(l,s,a,u){return a===void 0&&(a=null),a=h.sI(u,a),l=d.lp.getGTlist(l.eh(),s.eh(),2,d.lp.PE_GTLIST_OPTS_COMMON,a,1),s=null,l&&0<l.length&&(s=this.lD(l[0]),d.Mx.destroy(l)),a!==null&&a.destroy(),s},h.YR=function(l,s,a,u){var p;if(a===void 0&&(a=null),u===void 0&&(u=null),p===void 0&&(p=30),a=h.sI(u,a),l=d.lp.getGTlist(l.eh(),s.eh(),2,d.lp.PE_GTLIST_OPTS_COMMON,a,p),s=[],l&&0<l.length){for(p=0;p<l.length;p++)s.push(this.lD(l[p]));d.Mx.destroy(l)}return a!==null&&a.destroy(),s},h.qx={},h.lK={},h.kK={},h.mK={},h}(d.Eg);d.gu=O}(te||(te={})),function(d){var O,x;(x=O=d.hu||(d.hu={}))[x.Integer32=0]="Integer32",x[x.Integer64=1]="Integer64",x[x.FloatingPoint=2]="FloatingPoint";var h=function(){function l(){this.qp()}return l.prototype.assign=function(s){this.Fm=s.Fm,this.Gm=s.Gm,this.Pj=s.Pj,this.sA=s.sA,this.Fo=s.Fo,this.rA=s.rA,this.Ik=s.Ik,this.Mq=s.Mq,this.Lq=s.Lq,this.Rm=s.Rm},l.prototype.VF=function(){return this.Rm},l.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=O.FloatingPoint},l.prototype.Xx=function(s,a,u){if(this.qp(),this.Rm=u,u!=O.FloatingPoint){var p=new d.l;s.hR(p),this.Fm=p.v,this.Gm=p.G}else this.Gm=this.Fm=-17976931348623157e292;(p=s.Ue.getType())==d.Sc.PE_TYPE_GEOGCS?(p=(u==O.Integer64?1e-9:1/18e5)*s.bf(),this.Pj=1/p):p==d.Sc.PE_TYPE_PROJCS&&(p=(u==O.Integer64?1e-4:.001)*s.pm(),this.Pj=1/p),a!=null?(p=(u==O.Integer32?.001:1e-4)*a.IH,this.Fo=1/p):this.Fo=1e4,this.YM(),this.Ik=s.sw,this.Mq=a!=null?.001*a.IH:.001,this.Lq=2220446049250313e-29},l.prototype.YM=function(){if(this.Rm!=O.FloatingPoint){var s=this.Rm==O.Integer64?d.Eg.$N:d.Eg.ZN,a=s/this.Pj,u=this.Fm+a,p=d.O.truncate((u-this.Fm)*this.Pj);p>s&&(this.Pj=s/(u-this.Fm)),a=this.Gm+a,(p=d.O.truncate((a-this.Gm)*this.Pj))>s&&(this.Pj=s/(a-this.Gm))}},l.prototype.aC=function(s){switch(s){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},l.prototype.Kn=function(s){switch(s){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},l.prototype.vz=function(s){if(this.Rm==O.FloatingPoint)return 0;switch(s){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},l.prototype.toString=function(){var s="SRPD [m_toleranceXY: "+this.Ik.toString();return(s=(s=(s=(s=(s=(s=(s=(s=(s=s+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},l}();d.ZL=h}(te||(te={})),function(d){function O(u,p){return 89.99999<p?p=89.99999:-89.99999>p&&(p=-89.99999),p*=.017453292519943,[111319.49079327169*u,31890685e-1*Math.log((1+Math.sin(p))/(1-Math.sin(p)))]}function x(u,p,y){return u=u/6378137*57.29577951308232,y?[u,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*p/6378137)))]:[u-360*Math.floor((u+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*p/6378137)))]}function h(u,p,y){var m=u.Of();if(u.getType()===33)p=p(m.Lg(),m.ih()),m.Cb(p[0],p[1]);else if(u.getType()===197){var w=p(u.es(),u.gs(),y);p=p(u.ds(),u.fs(),y),m.K(w[0],w[1],p[0],p[1])}else for(w=new d.h,u=0;u<m.I();u++){m.D(u,w);var S=p(w.x,w.y,y);w.ma(S[0],S[1]),m.Cb(u,w)}return m}function l(u){return h(u,x,!0)}function s(u){return h(u,O,!0)}var a=Math.PI/180;d.UK=function(){function u(){}return u.vu=function(p){var y=Math.sqrt(.006694379990197414),m=Math.sin(p.y*a);return d.h.construct(6378137*p.x*a,3.1677196636462314e6*(m/(1-.006694379990197414*m*m)-1/(2*y)*Math.log((1-y*m)/(1+y*m))))},u.Vx=function(p,y,m,w){var S=.0033528106647474805,k=Math.sin(m);m=Math.cos(m);var I=(1-S)*Math.tan(p),A=I*(p=1/Math.sqrt(1+I*I)),L=Math.atan2(I,m),D=(I=p*k)*I,U=1-D,X=27233160610754688e-5*U/4040829998466145e-2,J=1+X/16384*(4096+X*(X*(320-175*X)-768)),B=X/1024*(256+X*(X*(74-47*X)-128));X=w/(635675231424518e-8*J);for(var Q,oe,se,ye=2*Math.PI;1e-12<Math.abs(X-ye);)se=Math.cos(2*L+X),ye=X,X=w/(635675231424518e-8*J)+B*(Q=Math.sin(X))*(se+B/4*((oe=Math.cos(X))*(2*se*se-1)-B/6*se*(4*Q*Q-3)*(4*se*se-3)));return w=A*Q-p*oe*m,U=S/16*U*(4+S*(4-3*U)),d.h.construct((y+(Math.atan2(Q*k,p*oe-A*Q*m)-(1-U)*S*I*(X+U*Q*(se+U*oe*(2*se*se-1)))))/a,Math.atan2(A*oe+p*Q*m,(1-S)*Math.sqrt(D+w*w))/a)},u.MM=function(p,y,m,w){var S=.0033528106647474805,k=w-y,I=Math.atan((1-S)*Math.tan(p)),A=Math.atan((1-S)*Math.tan(m)),L=Math.sin(I);I=Math.cos(I);var D=Math.sin(A);A=Math.cos(A);var U=k,X=1e3;do{var J=Math.sin(U),B=Math.cos(U),Q=Math.sqrt(A*J*A*J+(I*D-L*A*B)*(I*D-L*A*B));if(Q===0)return 0;B=L*D+I*A*B;var oe=Math.atan2(Q,B),se=I*A*J/Q,ye=1-se*se;J=B-2*L*D/ye,isNaN(J)&&(J=0);var de=S/16*ye*(4+S*(4-3*ye)),Me=U;U=k+(1-de)*S*se*(oe+de*Q*(J+de*B*(2*J*J-1)))}while(1e-12<Math.abs(U-Me)&&0<--X);return X===0?(L=w-y,{azimuth:Math.atan2(Math.sin(L)*Math.cos(m),Math.cos(p)*Math.sin(m)-Math.sin(p)*Math.cos(m)*Math.cos(L)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(p)*Math.sin(m)+Math.cos(p)*Math.cos(m)*Math.cos(w-y))}):(y=(p=27233160610754688e-5*ye/4040829998466145e-2)/1024*(256+p*(p*(74-47*p)-128)),{azimuth:Math.atan2(A*Math.sin(U),I*D-L*A*Math.cos(U)),YQ:635675231424518e-8*(1+p/16384*(4096+p*(p*(320-175*p)-768)))*(oe-y*Q*(J+y/4*(B*(2*J*J-1)-y/6*J*(4*Q*Q-3)*(4*J*J-3)))),XY:Math.atan2(I*Math.sin(U),I*D*Math.cos(U)-L*A)})},u.jQ=function(p){var y=p.hasAttribute(1),m=p.hasAttribute(2),w=[],S=p.da(),k=null,I=null;y&&(k=p.ub(1)),m&&(I=p.ub(2));for(var A=new d.h,L=0;L<S;L++){for(var D=p.Ba(L),U=p.Ja(L),X=0,J=0,B=NaN,Q=NaN,oe=NaN,se=NaN,ye=p.dc(L),de=[],Me=D;Me<D+U;Me++){p.D(Me,A),se=oe=NaN;var Se=[A.x,A.y];y&&(oe=k.get(Me),Se.push(oe)),m&&(S=I.get(Me),Se.push(se)),Me==D&&ye&&(X=A.x,J=A.y,B=oe,Q=se),de.push(Se)}!ye||X==A.x&&J==A.y&&(!y||isNaN(B)&&isNaN(oe)||B==oe)&&(!m||isNaN(Q)&&isNaN(se)||Q==se)||de.push(de[0].slice(0)),w.push(de)}return w},u.Wy=function(p,y){p=u.jQ(p),637.100877141506>y&&(y=637.100877141506);for(var m,w=[],S=0;S<p.length;S++){var k,I,A=p[S];w.push(m=[]),m.push([A[0][0],A[0][1]]);var L=A[0][0]*a,D=A[0][1]*a;for(k=0;k<A.length-1;k++){var U=A[k+1][0]*a,X=A[k+1][1]*a;if(L!==U||D!==X){U=(X=u.MM(D,L,X,U)).azimuth;var J=(X=X.YQ)/y;if(1<J){for(I=1;I<=J-1;I++){var B=u.Vx(D,L,U,I*y);m.push([B.x,B.y])}I=u.Vx(D,L,U,(X+Math.floor(J-1)*y)/2),m.push([I.x,I.y])}D=u.Vx(D,L,U,X),m.push([D.x,D.y]),L=D.x*a,D=D.y*a}}}return{qJ:w}},u.XQ=function(p){for(var y=[],m=0;m<p.length;m++){var w=p[m];w=u.Wy(w,1e4),y.push(w)}p=[];for(var S=0;S<y.length;S++){w=y[S];var k=0;for(m=0;m<w.qJ.length;m++){var I,A=w.qJ[m],L=u.vu(d.h.construct(A[0][0],A[0][1])),D=u.vu(d.h.construct(A[A.length-1][0],A[A.length-1][1])),U=D.x*L.y-L.x*D.y;for(I=0;I<A.length-1;I++)L=u.vu(d.h.construct(A[I+1][0],A[I+1][1])),U+=(D=u.vu(d.h.construct(A[I][0],A[I][1]))).x*L.y-L.x*D.y;k+=U}k/=1,p.push(k/-2)}return p},u}(),d.cb=function(){function u(){}return u.xB=function(p,y,m,w,S,k,I){u.gD[p.cc()]=y,isNaN(m)==0&&(u.mD[p.cc()]=m),isNaN(w)==0&&(u.zD[p.cc()]=w),isNaN(S)==0&&(u.aD[p.cc()]=S),u.nD[p.cc()]=k,I!==null&&(u.oD[p.cc()]=I)},u.Ww=function(p,y,m){u.sD[p.cc()+"-"+y.cc()]=m},u.sc=function(p){if((p=u.gD[p.cc()])==null)throw d.i.Ie();return p},u.bf=function(p){if((p=u.mD[p.cc()])==null)throw d.i.Ie();return p},u.vv=function(p){if((p=u.zD[p.cc()])==null)throw d.i.Ie();return p},u.ev=function(p){if((p=u.aD[p.cc()])==null)throw d.i.Ie();return p},u.gh=function(p){if((p=u.oD[p.cc()])==null)throw d.i.Ie();return d.l.construct(p[0],p[1],p[2],p[3])},u.Wc=function(p){if((p=u.nD[p.cc()])==null)throw d.i.Ie();return p},u.zh=function(p,y,m){if(y.Nb(m))return p;var w=u.sD[y.cc()+"-"+m.cc()];if(w!==void 0)return w(p,y,m);throw d.i.Ie()},u.vt=function(){throw d.i.Ie()},u.bR=function(){throw d.i.Ie()},u.dW=function(){throw d.i.Ie()},u.ml=function(){throw d.i.Ie()},u.sW=function(){var p=d.Eg.create(102100),y=d.Eg.create(3857),m=d.Eg.create(4326);d.cb.xB(p,m,NaN,NaN,NaN,!1,null),d.cb.xB(m,m,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),d.cb.xB(y,m,NaN,NaN,NaN,!1,null),d.cb.Ww(p,m,l),d.cb.Ww(m,p,s),d.cb.Ww(y,m,l),d.cb.Ww(m,y,s)},u.gD=[],u.mD=[],u.zD=[],u.aD=[],u.nD=[],u.oD=[],u.sD=[],u}()}(te||(te={})),te.cb.sW(),function(d){var O=function(){function x(h){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=h}return x.prototype.jd=function(h){h<this.Bl?(this.o[h*this.stride]=this.io,this.io=h):this.Bl--,this.size--},x.prototype.T=function(h,l){return this.o[h*this.stride+l]},x.prototype.S=function(h,l,s){this.o[h*this.stride+l]=s},x.prototype.Ce=function(){var h=this.io;if(h==-1){if(this.Bl==this.Hg){if(2147483647<(h=this.Hg!=0?d.O.truncate(3*(this.Hg+1)/2):1)&&(h=2147483647),h==this.Hg)throw d.i.ce();this.Dz(h)}h=this.Bl,this.Bl++}else this.io=this.o[h*this.stride];this.size++;for(var l=h*this.stride;l<h*this.stride+this.stride;l++)this.o[l]=-1;return h},x.prototype.Ll=function(h){var l=this.io;if(l==-1){if(this.Bl==this.Hg){if(2147483647<(l=this.Hg!=0?d.O.truncate(3*(this.Hg+1)/2):1)&&(l=2147483647),l==this.Hg)throw d.i.ce();this.Dz(l)}l=this.Bl,this.Bl++}else this.io=this.o[l*this.stride];this.size++;for(var s=l*this.stride,a=0;a<h.length;a++)this.o[s+a]=h[a];return l},x.prototype.mj=function(h){this.io=-1,this.size=this.Bl=0,h&&(this.o=null,this.Hg=0)},x.prototype.De=function(h){h>this.Hg&&this.Dz(h)},x.prototype.tx=function(h,l){h*=this.stride,l*=this.stride;for(var s=0;s<this.stride;s++){var a=this.o[l+s];this.o[l+s]=this.o[h+s],this.o[h+s]=a}},x.prototype.gC=function(h,l,s){var a=this.o[this.stride*l+s];this.o[this.stride*l+s]=this.o[this.stride*h+s],this.o[this.stride*h+s]=a},x.LG=function(h){return 0<=h},x.prototype.Dz=function(h){this.o==null&&(this.o=new Int32Array(0));var l=new Int32Array(this.stride*h);l.set(this.o,0),this.o=l,this.Hg=h},x}();d.$c=O}(te||(te={})),function(d){var O,x;(x=O||(O={}))[x.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",x[x.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",x[x.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",x[x.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var h=function(){function s(a){this.Be=a,this.yh=NaN,this.eH=new d.ig,this.fH=new d.ig,this.ms=new d.Nc,this.ns=new d.Nc}return s.prototype.compare=function(a,u,p){if(a=a.ja(p),this.Be.pB(u,this.eH),this.Be.pB(a,this.fH),u=this.eH.get(),a=this.fH.get(),this.ms.K(u.sa,u.pa),this.ns.K(a.sa,a.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;p=u.na==u.la;var y=a.na==a.la;if(p||y){if(p&&y)return 0;if(u.na==a.na&&u.sa==a.sa)return p?1:-1;if(u.la==a.la&&u.pa==a.pa)return p?-1:1}return(p=u.Pe(this.yh,this.ms.oa))==(y=a.Pe(this.yh,this.ns.oa))&&((y=.5*((p=Math.min(u.la,a.la))+this.yh))==this.yh&&(y=p),p=u.Pe(y,this.ms.oa),y=a.Pe(y,this.ns.oa)),p<y?-1:p>y?1:0},s.prototype.aK=function(a){this.yh=a},s}(),l=function(){function s(a){this.ib=a,this.WH=new d.ig,this.Bf=new d.h,this.wA=new d.Nc}return s.prototype.kX=function(a){this.Bf.L(a)},s.prototype.compare=function(a,u){return this.ib.pB(a.ja(u),this.WH),a=this.WH.get(),this.wA.K(a.sa,a.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(a=a.Pe(this.Bf.y,this.Bf.x),this.Bf.x<a?-1:this.Bf.x>a?1:0)},s}();O=function(){function s(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new d.Md,this.bO=2147483647,this.aO=d.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return s.prototype.yy=function(a){this.lA=a},s.prototype.Ym=function(){this.ge==null&&(this.ge=new d.$c(8));var a=this.ge.Ce();return this.ge.S(a,1,0),a},s.prototype.vU=function(){this.Kc==null&&(this.Kc=new d.$c(8));var a=this.Kc.Ce();this.Kc.S(a,2,0),this.Kc.S(a,3,0);var u=this.Kc.Ce();return this.Kc.S(u,2,0),this.Kc.S(u,3,0),this.JJ(a,u),this.JJ(u,a),a},s.prototype.mI=function(){this.ye==null&&(this.ye=new d.$c(8));var a=this.ye.Ce();return this.ye.S(a,2,0),a},s.prototype.TW=function(a,u){this.ge.S(a,7,u)},s.prototype.mn=function(a,u){this.ge.S(a,2,u)},s.prototype.SW=function(a,u){this.ge.S(a,1,u)},s.prototype.lX=function(a,u){this.ge.S(a,3,u)},s.prototype.iX=function(a,u){this.ge.S(a,4,u)},s.prototype.cr=function(a,u){this.ge.S(a,5,u)},s.prototype.eR=function(a){return this.ge.T(a,5)},s.prototype.RW=function(a,u){this.ge.S(a,6,u)},s.prototype.cN=function(a,u){this.RW(u,a)},s.prototype.IJ=function(a,u){this.Kc.S(a,1,u)},s.prototype.JJ=function(a,u){this.Kc.S(a,4,u)},s.prototype.Tl=function(a,u){this.Kc.S(a,5,u)},s.prototype.Sl=function(a,u){this.Kc.S(a,6,u)},s.prototype.$W=function(a,u){this.Kc.S(a,2,u)},s.prototype.$w=function(a,u){this.Kc.S(a,3,u)},s.prototype.LF=function(a){return this.Kc.T(a,3)},s.prototype.Gt=function(a,u){this.Kc.S(a,7,u)},s.prototype.EK=function(a,u){if(this.mm(a)!=-1)for(u=u?-1:a,a=this.mm(a);a!=-1;a=this.js(a))this.g.Ra(this.tj(a),this.Cq,u)},s.prototype.yx=function(a,u){a!=-1&&(this.EK(a,u),this.EK(this.xa(a),u))},s.prototype.Dt=function(a,u){this.ye.S(a,1,u)},s.prototype.Vg=function(a,u){this.ye.S(a,2,u)},s.prototype.jn=function(a,u){this.ye.S(a,3,u),this.NW(a,this.dR(u)),this.MW(u,a)},s.prototype.MW=function(a,u){this.ye.S(a,4,u)},s.prototype.NW=function(a,u){this.ye.S(a,5,u)},s.prototype.DJ=function(a,u){this.ye.S(a,6,u)},s.prototype.BJ=function(a,u){this.ye.S(a,7,u)},s.prototype.AJ=function(a,u){this.Yn.write(a,u)},s.prototype.CJ=function(a,u){this.kA.write(a,u)},s.prototype.kY=function(a){var u=0,p=0,y=this.AF(a),m=new d.h,w=new d.h,S=new d.h;this.Yr(y,m),w.L(m);var k=y;do this.lm(k,S),p+=d.h.tb(w,S),this.$e(this.xa(k))!=a&&(u+=(S.x-m.x-(w.x-m.x))*(S.y-m.y+(w.y-m.y))*.5),w.L(S),k=this.jc(k);while(k!=y);this.Yn.write(a,u),this.kA.write(a,p)},s.prototype.PU=function(a,u){var p=new h(this),y=new d.Yj;y.De(d.O.truncate(this.wa/2)),y.Vo(p);for(var m=new d.ia(0),w=this.$g(),S=null,k=0,I=new d.h,A=this.Re;A!=-1;A=this.Rf(A)){if(!(255&++k||u==null||u.progress(-1,-1)))throw d.i.WC();var L=this.Me(A);if(L!=-1){if(m.Bh(0),!this.gY(y,w,m,L)){this.D(A,I),p.aK(I.y);var D=L;do{var U=this.Ab(D,w);U!=-1&&(y.vd(U,-1),this.Kb(D,w,-2)),D=this.jc(this.xa(D))}while(L!=D);D=L;do(U=this.Ab(D,w))==-1&&(U=y.addElement(D,-1),m.add(U)),D=this.jc(this.xa(D));while(L!=D)}for(L=m.size-1;0<=L;L--)U=m.get(L),D=y.ja(U),this.Kb(this.xa(D),w,U),this.OU(y,U,a)}else this.cz(A)==-1&&(S==null&&(S=new l(this)),this.D(A,I),S.kX(I),D=y.IW(S),L=this.Hl,D!=-1&&(U=y.ja(D),this.$e(U)==this.$e(this.xa(U))&&(U=this.OF(y,D)),U!=-1&&(L=this.$e(U))),this.cN(L,A))}this.Jg(w)},s.prototype.OU=function(a,u,p){var y=a.ja(u),m=this.$e(y);if(this.Gn(m)==-1){var w=this.OF(a,u),S=this.xa(y),k=this.$e(S);this.Kp(m),this.Kp(k);var I=this.Gn(m),A=this.Gn(k);if(w==-1&&I==-1&&(k==m?(this.jn(k,this.Hl),I=A=this.Hl):(A==-1&&(this.jn(k,this.Hl),A=this.Hl),this.jn(m,k),I=k)),w!=-1){var L=this.$e(w);A==-1&&(0>=this.Kp(L)?(A=this.Gn(L),this.jn(k,A)):(this.jn(k,L),A=L),k==m&&(I=A))}I==-1&&this.hY(m,k),p==0?this.jW(a,u,y,w,m,k):p==5?this.kW(a,u,y,S,m,k):p==4&&this.iW(y,w,m,k)}},s.prototype.jW=function(a,u,p,y,m,w){var S=this.hk(m);if(y!=-1){var k=this.hk(w),I=this.hk(this.$e(y));y=S&k&I,I^=I&this.dh(p),(I|=y)!=0&&(this.Vg(w,k|I),this.Vg(m,I|S),S=S||I)}for(u=a.lb(u);u!=-1&&(y=a.ja(u),p=this.$e(this.xa(y)),m=this.hk(p),w=this.dh(y),k=this.$e(y),y=m&(I=this.hk(k))&S,S^=S&w,(S|=y)!=0);u=a.lb(u))this.Vg(p,m|S),this.Vg(k,I|S)},s.prototype.kW=function(a,u,p,y,m,w){if(m!=w){p=this.Ab(p,this.cg),p+=this.Ab(y,this.cg),y=0;var S=new d.ia(0),k=new d.ia(0);k.add(0);for(var I=a.rc(-1);I!=u;I=a.lb(I)){var A=a.ja(I),L=this.xa(A),D=this.$e(A),U=this.$e(L);if(D!=U){if(A=this.Ab(A,this.cg),y+=A+=this.Ab(L,this.cg),L=!1,S.size!=0&&S.Fc()==U&&(k.If(),S.If(),L=!0),this.Gn(U)==-1)throw d.i.Qa();L&&this.Gn(U)==D||(k.add(y),S.add(D))}}y+=p,S.size!=0&&S.Fc()==w&&(k.If(),S.If()),y!=0?k.Fc()==0&&(a=this.g.ld,a=this.La(a),this.Vg(m,a)):k.Fc()!=0&&(a=this.g.ld,a=this.La(a),this.Vg(m,a))}},s.prototype.iW=function(a,u,p,y){var m=this.La(this.g.ld);if(u==-1)this.Vg(y,this.Go),1&(a=this.Ab(a,this.xg))?this.Vg(p,m):this.Vg(p,this.Go);else{var w=this.hk(y);w==0?(w=this.hk(this.$e(u)),this.Vg(y,w),1&(a=this.Ab(a,this.xg))?this.Vg(p,w==m?this.Go:m):this.Vg(p,w)):1&(a=this.Ab(a,this.xg))?this.Vg(p,w==m?this.Go:m):this.Vg(p,w)}},s.prototype.gY=function(a,u,p,y){var m=y,w=-1,S=-1,k=0;do{if(k==2)return!1;var I=this.Ab(m,u);if(I!=-1){if(w!=-1)return!1;w=I}else{if(S!=-1)return!1;S=m}k++,m=this.jc(this.xa(m))}while(y!=m);return S!=-1&&w!=-1&&(this.Kb(a.ja(w),u,-2),a.Sj(w,S),p.add(w),!0)},s.prototype.hY=function(a,u){var p=this.Kp(a);if(p!=0){var y=this.Kp(u);0<p&&0>y||0>p&&0<y?this.jn(a,u):(u=this.Gn(u))!=-1&&this.jn(a,u)}},s.prototype.vP=function(a,u){this.Cq=this.g.Gd();for(var p=0,y=u.size;p<y;p++){var m=u.get(p),w=this.g.Pa(m,this.Cm),S=this.g.Qf(this.g.bd(m)),k=this.g.ic(S);if(d.aa.Hc(k)){var I=this.g.U(m);if(I!=-1){var A=this.g.Pa(I,this.Cm);if(w!=A){var L=this.vU(),D=this.xa(L),U=this.jh.Ce();this.jh.S(U,0,m),this.jh.S(U,1,-1),this.Gt(L,U),this.IJ(L,w),(U=this.Me(w))==-1?(this.mn(w,L),this.Tl(L,D),this.Sl(D,L)):(w=this.te(U),this.Tl(U,D),this.Sl(D,U),this.Sl(w,L),this.Tl(L,w)),this.IJ(D,A),(w=this.Me(A))==-1?(this.mn(A,D),this.Sl(L,D),this.Tl(D,L)):(A=this.te(w),this.Tl(w,L),this.Sl(L,w),this.Sl(A,D),this.Tl(D,A)),S=this.La(S),a==0?(this.Kb(D,this.ae,0),this.Kb(L,this.ae,k==1736?S:0)):a==5?(A=new d.h,this.g.D(m,A),m=new d.h,this.g.D(I,m),w=I=0,0>A.compare(m)?I=1:w=-1,this.Kb(D,this.ae,0),this.Kb(L,this.ae,0),this.Kb(L,this.cg,I),this.Kb(D,this.cg,w)):a==7?(this.Kb(D,this.ae,this.Go),this.Kb(L,this.ae,k==1736?S:0)):a==4&&(this.Kb(D,this.ae,0),this.Kb(L,this.ae,0),this.Kb(L,this.xg,1),this.Kb(D,this.xg,1)),k=k==1736?this.aO:0,this.$w(L,S|k),this.$w(D,S|k)}}}}},s.prototype.VT=function(a,u){var p=this.mm(u);if(p!=-1){var y=this.mm(a);this.jh.S(p,1,y),this.Gt(a,p),this.Gt(u,-1)}a=this.xa(a),u=this.xa(u),(p=this.mm(u))!=-1&&(y=this.mm(a),this.jh.S(p,1,y),this.Gt(a,p),this.Gt(u,-1))},s.prototype.IX=function(a){function u(oe,se){return y.HO(oe,se)}var p=new d.ia(0);p.Jb(10);for(var y=this,m=this.Re;m!=-1;m=this.Rf(m)){p.clear(!1);var w=this.Me(m);if(w!=-1){var S=w;do p.add(S),S=this.jc(this.xa(S));while(S!=w);if(1<p.size){if(S=!0,2<p.size)p.Vd(0,p.size,u),p.add(p.get(0));else if(0<this.GO(p.get(0),p.get(1))){var k=p.get(0);p.set(0,p.get(1)),p.set(1,k)}else S=!1;for(var I=k=p.get(0),A=this.uf(I),L=this.xa(I),D=-1,U=1,X=p.size;U<X;U++){var J=p.get(U),B=this.xa(J),Q=this.jk(B);if(Q==A&&J!=I){if(a==0)D=this.LF(I)|this.LF(J),this.$w(I,D),this.$w(L,D),this.Kb(I,this.ae,this.Ab(I,this.ae)|this.Ab(J,this.ae)),this.Kb(L,this.ae,this.Ab(L,this.ae)|this.Ab(B,this.ae));else if(this.cg!=-1)D=this.Ab(I,this.cg)+this.Ab(J,this.cg),B=this.Ab(L,this.cg)+this.Ab(B,this.cg),this.Kb(I,this.cg,D),this.Kb(L,this.cg,B);else{if(a==7)return void(this.Ni=new d.Md(5,m,-1));this.xg!=-1&&(D=this.Ab(I,this.xg)+this.Ab(J,this.xg),B=this.Ab(L,this.xg)+this.Ab(B,this.xg),this.Kb(I,this.xg,D),this.Kb(L,this.xg,B))}this.VT(I,J),this.Ly(J),D=I,p.set(U,-1),J==k&&(p.set(0,-1),k=-1)}else this.yx(D,!1),D=-1,I=J,A=Q,L=B}if(this.yx(D,!1),D=-1,S){for(k=-1,U=0,X=p.size;U<X;U++)if((J=p.get(U))!=-1){if(k==-1)I=k=J,A=this.uf(I),L=this.xa(I);else if(J!=I&&(B=this.xa(J),Q=this.jk(B),this.Sl(L,J),this.Tl(J,L),I=J,A=Q,L=B,a==7&&(this.Ab(J,this.ae)|this.Ab(this.te(J),this.ae))==(1|this.Go)))return void(this.Ni=new d.Md(5,m,-1))}this.mn(m,k)}else{for(k=-1,U=0,X=p.size;U<X;U++)if((J=p.get(U))!=-1){k=J;break}w!=k&&this.mn(m,k)}}}}},s.prototype.WN=function(){for(var a=-1,u=this.$g(),p=this.Re;p!=-1;p=this.Rf(p)){var y=this.Me(p);if(y!=-1){var m=y;do{if(this.Ab(m,u)!=1){var w=this.mI();this.Dt(w,m),this.BJ(w,a),a!=-1&&this.DJ(a,w),a=w;var S=0,k=m;do S|=this.Ab(k,this.ae),this.$W(k,w),this.Kb(k,u,1),k=this.jc(k);while(k!=m);this.Vg(w,S)}m=this.jc(this.xa(m))}while(m!=y)}}w=this.mI(),this.Dt(w,-1),this.BJ(w,a),a!=-1&&this.DJ(a,w),this.Hl=w,this.Yn=d.be.qf(this.ye.size,NaN),this.kA=d.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(u)},s.prototype.sR=function(a,u,p){if((u=u!=-1?u:this.Me(a))==-1)return-1;for(a=u;;){if(this.Ab(u,p)!=1)return u;if((u=this.jc(this.xa(u)))==a)return-1}},s.prototype.yW=function(){for(var a=this.$g(),u=this.Re;u!=-1;u=this.Rf(u))for(var p=-1;;){var y=this.sR(u,p,a);if(y==-1)break;p=this.jc(this.xa(y));for(var m=y;;){var w=this.jc(m),S=this.te(m),k=this.xa(m);if(S==k){if(this.IP(m),p!=m&&p!=k||(p=-1),m==y||S==y){if(m==(y=w)||S==y)break;m=w;continue}}else this.Kb(m,a,1);if((m=w)==y)break}}this.Jg(a)},s.prototype.MB=function(a,u,p,y,m){this.Ug(),this.gH=m,this.g=a,this.Bq=this.g.aF(),(a=new d.ia(0)).Jb(p!=null?this.g.I(p.get(0)):this.g.fd);var w=0,S=1,k=p!=null?p.get(0):this.g.ld;for(m=1;k!=-1;){this.g.HJ(k,this.Bq,S),S<<=1;for(var I=this.g.Ob(k);I!=-1;I=this.g.Rb(I))for(var A=this.g.Xa(I),L=0,D=this.g.Ja(I);L<D;L++)a.add(A),A=this.g.U(A);d.aa.Rn(this.g.ic(k))||(w+=this.g.da(k)),p!=null?(k=m<p.size?p.get(m):-1,m++):k=this.g.ue(k)}for(this.Go=S,this.wa=a.size,this.g.nx(a,this.wa),this.jh==null&&(this.jh=new d.$c(2),this.ge=new d.$c(8),this.Kc=new d.$c(8),this.ye=new d.$c(8)),this.jh.De(this.wa),d.mp.zp(y),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,w)),this.Cm=this.g.Gd(),p=new d.h,m=0,w=new d.h,p.Rc(),S=0;S<=this.wa;S++)if(S<this.wa?(A=a.get(S),this.g.D(A,w)):w.Rc(),!p.qb(w)){if(m<S){for(A=this.Ym(),D=L=-1;m<S;m++)D=a.get(m),this.g.Ra(D,this.Cm,A),k=this.jh.Ce(),this.jh.S(k,0,D),this.jh.S(k,1,L),L=k,I=this.g.bd(D),k=this.g.Qf(I),k=this.La(k),this.SW(A,this.xd(A)|k);this.TW(A,L),this.cr(A,this.g.Ua(D)),this.Os!=-1&&this.iX(this.Os,A),this.lX(A,this.Os),this.Os=A,this.Re==-1&&(this.Re=A)}m=S,p.L(w)}d.mp.zp(y),this.ae=this.$g(),u==5&&(this.cg=this.$g()),u==4&&(this.xg=this.$g()),this.vP(u,a),this.Ni.Jj==0&&(this.IX(u),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(u,y))):this.pA=!0))},s.prototype.Ly=function(a){var u=this.jc(a),p=this.te(a),y=this.xa(a),m=this.jc(y),w=this.te(y);u!=y&&(this.Sl(w,u),this.Tl(u,w)),p!=y&&(this.Sl(p,m),this.Tl(m,p)),p=this.jk(a),this.Me(p)==a&&(m!=a?this.mn(p,m):this.mn(p,-1)),m=this.jk(y),this.Me(m)==y&&(u!=y?this.mn(m,u):this.mn(m,-1)),this.Kc.jd(a),this.Kc.jd(y)},s.prototype.OF=function(a,u){for(;;){if((u=a.we(u))==-1)return-1;var p=a.ja(u);if(this.$e(p)!=this.$e(this.xa(p)))return p}},s.prototype.dr=function(a,u){var p;p===void 0&&(p=!0),this.MB(a,0,null,u,p)},s.prototype.vJ=function(a,u,p){var y=new d.ia(0);y.add(u),this.MB(a,4,y,p,a.ic(u)==1736)},s.prototype.wJ=function(a,u,p){var y=new d.ia(0);y.add(u),this.MB(a,5,y,p,!0)},s.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},s.prototype.Me=function(a){return this.ge.T(a,2)},s.prototype.D=function(a,u){this.g.dG(this.eR(a),u)},s.prototype.xd=function(a){return this.ge.T(a,1)},s.prototype.Rf=function(a){return this.ge.T(a,4)},s.prototype.cz=function(a){return this.ge.T(a,6)},s.prototype.km=function(a){return this.ge.T(a,7)},s.prototype.js=function(a){return this.jh.T(a,1)},s.prototype.tj=function(a){return this.jh.T(a,0)},s.prototype.ng=function(a,u){return(u=this.Di[u]).size<=a?-1:u.read(a)},s.prototype.nn=function(a,u,p){(u=this.Di[u]).size<=a&&u.resize(this.ge.size,-1),u.write(a,p)},s.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var a=d.ia.qf(this.ge.Hg,-1),u=0,p=this.Di.length;u<p;u++)if(this.Di[u]==null)return this.Di[u]=a,u;return this.Di.push(a),this.Di.length-1},s.prototype.Ep=function(a){this.Di[a]=null},s.prototype.jk=function(a){return this.Kc.T(a,1)},s.prototype.uf=function(a){return this.jk(this.xa(a))},s.prototype.xa=function(a){return this.Kc.T(a,4)},s.prototype.te=function(a){return this.Kc.T(a,5)},s.prototype.jc=function(a){return this.Kc.T(a,6)},s.prototype.$e=function(a){return this.Kc.T(a,2)},s.prototype.af=function(a){return this.hk(this.Kc.T(a,2))},s.prototype.mm=function(a){return this.Kc.T(a,7)},s.prototype.Yr=function(a,u){this.D(this.jk(a),u)},s.prototype.lm=function(a,u){this.D(this.uf(a),u)},s.prototype.dh=function(a){return this.Kc.T(a,3)&this.bO},s.prototype.Ab=function(a,u){return(u=this.Gi[u]).size<=a?-1:u.read(a)},s.prototype.Kb=function(a,u,p){(u=this.Gi[u]).size<=a&&u.resize(this.Kc.size,-1),u.write(a,p)},s.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var a=d.ia.qf(this.Kc.Hg,-1),u=0,p=this.Gi.length;u<p;u++)if(this.Gi[u]==null)return this.Gi[u]=a,u;return this.Gi.push(a),this.Gi.length-1},s.prototype.Jg=function(a){this.Gi[a]=null},s.prototype.IP=function(a){var u=this.$e(a),p=this.xa(a),y=this.jc(a);y==p&&(y=this.jc(y))==a&&(y=-1);var m=this.AF(u);m!==a&&m!=p||this.Dt(u,y),p=this.Yn.read(u),isNaN(p)||(this.AJ(u,NaN),this.CJ(u,NaN)),this.yx(a,!0),this.Ly(a)},s.prototype.JP=function(a){for(var u=0,p=a.size;u<p;u++){var y=a.get(u),m=this.$e(this.xa(y));this.Dt(this.$e(y),-1),this.Dt(m,-1),this.yx(y,!0),this.Ly(y)}},s.prototype.AF=function(a){return this.ye.T(a,1)},s.prototype.hk=function(a){return this.ye.T(a,2)},s.prototype.Gn=function(a){return this.ye.T(a,3)},s.prototype.dR=function(a){return this.ye.T(a,4)},s.prototype.Kp=function(a){var u=this.Yn.read(a);return isNaN(u)&&(this.kY(a),u=this.Yn.read(a)),u},s.prototype.La=function(a){return this.g.KF(a,this.Bq)},s.prototype.Le=function(a){return this.g.Pa(a,this.Cm)},s.prototype.uR=function(a){return this.g.Pa(a,this.Cq)},s.prototype.tR=function(a,u){var p=this.Me(a);if(p==-1)return-1;var y=p,m=-1,w=-1;do{if(this.uf(y)==u)return y;if(m==-1){if((m=this.Me(u))==-1)break;w=m}if(this.uf(w)==a)return this.xa(w);y=this.jc(this.xa(y)),w=this.jc(this.xa(w))}while(y!=p&&w!=m);return-1},s.prototype.pB=function(a,u){u.Or(),u=u.get();var p=new d.h;this.Yr(a,p),u.Dc(p),this.lm(a,p),u.Qc(p)},s.prototype.HO=function(a,u){if(a==u)return 0;var p=new d.h;this.lm(a,p);var y=new d.h;return this.lm(u,y),p.qb(y)?0:(u=new d.h,this.Yr(a,u),(a=new d.h).uc(p,u),(p=new d.h).uc(y,u),d.h.nu(a,p))},s.prototype.GO=function(a,u){if(a==u)return 0;var p=new d.h;this.lm(a,p);var y=new d.h;return this.lm(u,y),p.qb(y)?0:(u=new d.h,this.Yr(a,u),(a=new d.h).uc(p,u),(p=new d.h).uc(y,u),0<=p.y&&0<a.y?d.h.nu(a,p):0)},s.prototype.xO=function(){for(var a=d.lc.ox(this.lA),u=new d.h,p=new d.h,y=new d.h,m=new d.h,w=new d.h,S=this.Re;S!=-1;S=this.Rf(S)){var k=this.Me(S);if(k!=-1){var I=k;this.Yr(I,u),this.lm(I,p),w.uc(p,u);var A=w.Sk();do{var L=I;if((I=this.jc(this.xa(I)))!=L){this.lm(I,y),m.uc(y,u),L=m.Sk();var D=m.wi(w);if(D*D/(L*A)*Math.min(L,A)<=a)return!1;w.L(m),A=L,p.L(y)}}while(I!=k)}}return!0},s}(),d.iu=O}(te||(te={})),function(d){var O=function(){function x(){this.j=null,this.oH=new d.h,this.pH=new d.h,this.Gj=null,this.Mv=!1,this.tl=-1}return x.prototype.cf=function(h){return h<this.Gj.length&&this.Gj[h]},x.prototype.dl=function(h,l,s,a){var u=d.aa.tf(this.j.g.ic(s));if(d.aa.tf(this.j.g.ic(l))!=2||u!=1)throw d.i.Qa();this.FP(h,l,s,a)},x.prototype.dr=function(h,l){this.j==null&&(this.j=new d.iu),this.j.dr(h,l)},x.prototype.Ft=function(h,l,s){for(d.Tk.V(h,l,s,!0),l=h.ld;l!=-1;l=h.ue(l))h.ic(l)==1736&&d.rn.V(h,l,-1,this.Mv,s);this.dr(h,s)},x.prototype.ME=function(h,l,s,a,u){var p=this.j.g;if(p.ic(h)==1736)for(h=p.Ob(h);h!=-1;h=p.Rb(h)){var y=p.Xa(h);this.j.Le(y),this.j.Le(p.U(y));var m=this.j.uR(y);if(m!=-1){var w=this.j.Ab(m,s);if(w!=1&&w!=2)if(this.cf(this.j.af(m))){this.j.Kb(m,s,1),w=p.vf(l,-1);var S=m,k=this.j.Le(y),I=1;do{var A=this.sm(y,u);p.ij(w,A),a!=-1&&this.j.nn(k,a,1),this.j.Kb(S,s,1),S=this.j.jc(S);do var L=(A=I==1?p.U(y):p.Ma(y))!=-1?this.j.Le(A):-1;while(L==k);var D=this.j.jk(S);if(D!=L){do L=(A=I==1?p.Ma(y):p.U(y))!=-1?this.j.Le(A):-1;while(L==k);D!=L?(L=D,A=this.j.tj(this.j.km(L))):I=-I}k=L,y=A}while(S!=m);p.kn(w,!0)}else this.j.Kb(m,s,2)}}},x.prototype.eF=function(){for(var h=this.j.$g(),l=new d.ia(0),s=this.j.Re;s!=-1;s=this.j.Rf(s)){var a=this.j.Me(s),u=a;if(a!=-1)do{if(this.j.Ab(u,h)!=1){var p=this.j.xa(u);this.j.Kb(p,h,1),this.j.Kb(u,h,1),this.cf(this.j.af(u))&&this.cf(this.j.af(p))&&l.add(u)}u=this.j.jc(this.j.xa(u))}while(u!=a)}this.j.Jg(h),this.j.JP(l)},x.prototype.sm=function(h,l){return l==-1?h:this.aS(h,l)},x.prototype.aS=function(h,l){var s=this.j.g,a=this.j.km(this.j.Le(h));do{var u=this.j.tj(a);if(s.Qf(s.bd(u))==l)return u;a=this.j.js(a)}while(a!=-1);return h},x.prototype.Ot=function(h,l,s){this.eF();var a=this.j.g,u=a.Ig(1736),p=this.j.$g();return this.uK(h,l,u,s,p,-1),this.j.Jg(p),d.rn.V(a,u,1,this.Mv,null),u},x.prototype.uK=function(h,l,s,a,u,p){for(this.ME(h,s,u,p,a),l!=-1&&this.ME(l,s,u,p,a),h=this.j.g,l=this.j.Re;l!=-1;l=this.j.Rf(l)){var y=this.j.Me(l);if(y!=-1){var m=y;do{var w=this.j.Ab(m,u);if(w!=1&&w!=2)if(this.cf(this.j.af(m))){w=h.vf(s,-1);var S=m;do{var k=this.j.mm(S);k!=-1?k=this.j.tj(k):(k=this.j.tj(this.j.mm(this.j.xa(S))),k=this.j.g.U(k)),k=this.sm(k,a),h.ij(w,k),this.j.Kb(S,u,1),p!=-1&&(k=this.j.Le(k),this.j.nn(k,p,1)),S=this.j.jc(S)}while(S!=m);h.kn(w,!0)}else this.j.Kb(m,u,2);m=this.j.jc(this.j.xa(m))}while(m!=y)}}},x.prototype.aY=function(h,l,s){var a=this.j.g,u=a.Ig(1736),p=a.Ig(1607),y=a.Ig(550);this.eF();var m=-1,w=this.j.$g(),S=this.j.Dp();for(this.uK(h,l,u,s,w,S),h=this.j.Re;h!=-1;h=this.j.Rf(h))if((l=this.j.Me(h))!=-1){var k=l;do{var I=this.j.Ab(k,w),A=this.j.Ab(this.j.xa(k),w);if((I|=A)==2)if(I=this.j.dh(k),this.cf(I)){var L=a.vf(p,-1),D=k;I=this.Yw(h,a),I=this.sm(I,s),a.ij(L,I),this.j.nn(h,S,1);do{if(I=this.j.uf(D),A=this.Yw(I,a),A=this.sm(A,s),a.ij(L,A),this.j.Kb(D,w,1),this.j.Kb(this.j.xa(D),w,1),this.j.nn(I,S,1),D=this.j.jc(D),I=this.j.Ab(D,w),(I|=A=this.j.Ab(this.j.xa(D),w))!=2)break;if(I=this.j.dh(D),!this.cf(I)){this.j.Kb(D,w,1),this.j.Kb(this.j.xa(D),w,1);break}}while(D!=k)}else this.j.Kb(k,w,1),this.j.Kb(this.j.xa(k),w,1);k=this.j.jc(this.j.xa(k))}while(k!=l)}for(h=this.j.Re;h!=-1;h=this.j.Rf(h))(I=this.j.ng(h,S))!=1&&(I=this.j.xd(h),this.cf(I)&&(m==-1&&(m=a.vf(y,-1)),(l=this.j.km(h))!=-1&&(l=this.j.tj(l),I=this.sm(l,s),a.ij(m,I))));return this.j.Ep(S),this.j.Jg(w),d.rn.V(a,u,1,this.Mv,null),(s=[])[0]=y,s[1]=p,s[2]=u,s},x.prototype.Yw=function(h,l){var s=-1;for(h=this.j.km(h);h!=-1;h=this.j.js(h)){var a=this.j.tj(h);s==-1&&(s=a);var u=this.j.La(l.Qf(l.bd(a)));if(this.cf(u)){s=a;break}}return s},x.prototype.lB=function(h,l){for(var s=this.jl(l),a=this.j.jk(l),u=this.j.uf(l),p=0,y=0,m=this.j.km(a);m!=-1;m=this.j.js(m)){var w=this.j.tj(m),S=h.bd(w),k=this.j.La(h.Qf(S));S=h.Xa(S),(k=!!(k&s))&&S==w&&(this.tl=l);var I=h.U(w);I!=-1&&this.j.Le(I)==u?(p++,k&&(this.tl===-1&&S==I&&(w=this.j.jc(l),this.cf(this.jl(w))&&(this.tl=w)),y++)):(w=h.Ma(w))!=-1&&this.j.Le(w)==u&&(p--,k&&(this.tl===-1&&S===w&&(w=this.j.jc(l),this.cf(this.jl(w))&&(this.tl=w)),y--))}return this.j.D(a,this.oH),this.j.D(u,this.pH),(y!=0?y:p)*(h=d.h.tb(this.oH,this.pH))},x.prototype.jl=function(h){return this.j.dh(h)|this.j.af(h)|this.j.af(this.j.xa(h))},x.prototype.xK=function(h){for(var l=this.j.xa(this.j.te(h)),s=-1;l!=h;){if(this.cf(this.jl(l))){if(s!=-1)return-1;s=l}l=this.j.xa(this.j.te(l))}return s!=-1?this.j.xa(s):-1},x.prototype.yK=function(h){for(var l=this.j.xa(this.j.jc(h)),s=-1;l!=h;){if(this.cf(this.jl(l))){if(s!=-1)return-1;s=l}l=this.j.xa(this.j.jc(l))}return s!=-1?this.j.xa(s):-1},x.prototype.mJ=function(h,l,s,a,u){var p=this.j.g,y=h,m=this.j.xa(y);this.j.Kb(y,s,1),this.j.Kb(m,s,1),this.tl=-1;for(var w=this.lB(p,y),S=y,k=-1,I=!1,A=1;;){var L=this.j.te(y);if(L==m)break;if(m=this.j.jc(m),this.j.xa(L)!=m){if((y=this.xK(y))==-1){I=!0;break}m=this.j.xa(y)}else y=L;if(y==h){k=h;break}if(L=this.jl(y),!this.cf(L))break;this.j.Kb(y,s,1),this.j.Kb(m,s,1),S=y,w+=this.lB(p,y),A++}if(k==-1)for(y=h,m=this.j.xa(y),k=y;(h=this.j.jc(y))!=m;){if(m=this.j.te(m),this.j.xa(h)!=m){if((y=this.yK(y))==-1){I=!0;break}m=this.j.xa(y)}else y=h;if(L=this.jl(y),!this.cf(L))break;this.j.Kb(y,s,1),this.j.Kb(m,s,1),k=y,w+=this.lB(p,y),A++}else if(this.tl!=-1&&(S=this.tl,k=this.j.te(this.tl),this.j.xa(k)!=this.j.jc(this.j.xa(S))&&(k=this.xK(S))==-1))throw d.i.Qa();for(0<=w||(y=k,k=this.j.xa(S),S=this.j.xa(y)),s=p.vf(l,-1),y=S,S=this.j.jk(S),I=this.j.uf(k)==S&&I,w=this.Yw(S,p),w=this.sm(w,u),p.ij(s,w),a!=-1&&this.j.nn(S,a,1),S=0,A=I?d.O.truncate((A+1)/2):-1;h=this.j.uf(y),w=this.Yw(h,p),w=this.sm(w,u),p.ij(s,w),S++,a!=-1&&this.j.nn(h,a,1),I&&S==A&&(s=p.vf(l,-1),p.ij(s,w)),y!=k;)if(h=this.j.jc(y),this.j.te(this.j.xa(y))!=this.j.xa(h)){if((y=this.yK(y))==-1)throw d.i.Qa()}else y=h},x.prototype.Pt=function(h){for(var l=this.j.g.Ig(1607),s=this.j.$g(),a=this.j.Re;a!=-1;a=this.j.Rf(a)){var u=this.j.Me(a),p=u;do this.j.Ab(p,s)!=1&&this.cf(this.jl(p))&&this.mJ(p,l,s,-1,h),p=this.j.jc(this.j.xa(p));while(p!=u)}return this.j.Jg(s),l},x.prototype.bY=function(h){for(var l=this.j.g,s=l.Ig(1607),a=l.Ig(550),u=this.j.$g(),p=this.j.Dp(),y=-1,m=this.j.Re;m!=-1;m=this.j.Rf(m)){var w=this.j.Me(m),S=w;do{var k=this.j.Ab(S,u);k!=1&&(k=this.jl(S),this.cf(k)&&this.mJ(S,s,u,p,h)),S=this.j.jc(this.j.xa(S))}while(S!=w)}for(m=this.j.Re;m!=-1;m=this.j.Rf(m))(k=this.j.ng(m,p))!=1&&(k=this.j.xd(m),this.cf(k)&&(y==-1&&(y=l.vf(a,-1)),(w=this.j.km(m))!=-1&&(w=this.j.tj(w),w=this.sm(w,h),l.ij(y,w))));return this.j.Jg(u),this.j.Ep(p),(h=[])[0]=a,h[1]=s,h},x.prototype.mr=function(){for(var h=this.j.g,l=h.Ig(550),s=h.vf(l,-1),a=this.j.Re;a!=-1;a=this.j.Rf(a))if(this.cf(this.j.xd(a))){for(var u=-1,p=this.j.km(a);p!=-1;p=this.j.js(p)){var y=this.j.tj(p);u==-1&&(u=y);var m=this.j.La(h.Qf(h.bd(y)));if(this.cf(m)){u=y;break}}h.ij(s,u)}return l},x.prototype.bq=function(h){this.Gj=[];for(var l=0;l<h;l++)this.Gj[l]=!1},x.aW=function(h,l,s){var a=h.Ia(),u=Array(1e3);d.O.$u(u,null);var p=d.O.lg(1e3,0),y=h.I(),m=!0,w=l.Db()==2;if(l.Db()!=1&&l.Db()!=2)throw d.i.Qa();for(var S=0;S<y;){var k=d.O.truncate(h.lW(u,S)-S);w?d.hd.sK(l,u,k,s,p):d.hd.tK(l,u,k,s,p);for(var I=0,A=0;A<k;A++)p[A]==0&&(m&&(m=!1,a.Fd(h,0,S)),I!=A&&a.Fd(h,S+I,S+A),I=A+1);m||I==k||a.Fd(h,S+I,S+k),S+=k}return m?h:a},x.zG=function(h,l,s){return h instanceof d.de?x.aW(h,l,s):l instanceof d.Sa?h.B()||l.B()?h.Ia():d.Tk.zU(s,h,l)?d.Tk.CO(h,l):h.Ia():x.bW(h,l,s)},x.Av=function(h,l,s,a){var u=new d.l;h.A(u);var p=new d.l;l.A(p);var y=new d.l;if(y.K(u),y.Zb(p),s=d.ta.Wd(s,y,!0),(y=new d.l).K(p),p=d.ta.Er(s),y.W(p,p),!u.isIntersecting(y)){if(h.Db()<=l.Db())return x.ki(x.Xe(h.Ia()),h,"&");if(h.Db()>l.Db())return x.ki(x.Xe(l.Ia()),h,"&")}return p=new x,y=(u=new d.gd).Ib(x.Xe(h)),l=u.Ib(x.Xe(l)),p.Ft(u,s,a),a=p.Av(y,l),h=x.ki(u.Ne(a),h,"&"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.bW=function(h,l,s){if(h.B()||l.B())return h.Ia();var a=[null],u=[0],p=l.Db()==2;if(l.Db()!=1&&l.Db()!=2)throw d.i.Qa();return a[0]=h.D(),p?d.hd.sK(l,a,1,s,u):d.hd.tK(l,a,1,s,u),u[0]==0?h.Ia():h},x.prototype.LU=function(h,l,s,a,u){if(h.B())return h;var p=new d.gd;return h=p.Ib(h),this.Mk(p,h,l,s,a,u)},x.prototype.NU=function(h,l,s,a,u,p){if(u&&h.ic(l)!=550){var y=new d.RC;y.TX(h,s),y.Ng?(d.Tk.V(h,s,p,!0),u=!1):this.j.yy(s)}else d.Tk.V(h,s,p,!0),u=!1;if(a&&h.ic(l)!=550?this.j.wJ(h,l,p):this.j.vJ(h,l,p),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(h,l,s,a,!1,p);if(this.j.yy(NaN),p=this.j.La(l),this.bq(p+1),this.Gj[p]=!0,h.ic(l)==1736||a&&h.ic(l)!=550)return h.Yo(l,0),l=this.Ot(l,-1,-1),(h=h.Ne(l)).Yo(0),u?h.Ch(1,0):(h.Ch(2,s),h.fm()),h;if(h.ic(l)==1607)return l=this.Pt(-1),h=h.Ne(l),u||h.Ch(2,s),h;if(h.ic(l)==550)return l=this.mr(),h=h.Ne(l),u||h.Ch(2,s),h;throw d.i.Qa()},x.prototype.Mk=function(h,l,s,a,u,p){this.j=new d.iu;try{return this.NU(h,l,s,a,u,p)}finally{this.j.Ug()}},x.Mk=function(h,l,s,a,u){return new x().LU(h,l,s,a,u)},x.prototype.MU=function(h,l,s,a){this.Mv=h,this.j=new d.iu,h=l.In(s);var u=l.ic(s);if(h!=1||u==550?this.j.vJ(l,s,a):this.j.wJ(l,s,a),!this.j.pA)if(this.j.yy(NaN),a=this.j.La(s),this.bq(a+1),this.Gj[a]=!0,l.ic(s)==1736||h==1&&l.ic(s)!=550)l.Yo(s,0),a=this.Ot(s,-1,-1),l.hC(a,s),l.BB(a);else if(l.ic(s)==1607)a=this.Pt(-1),l.hC(a,s),l.BB(a);else{if(l.ic(s)!=550)throw d.i.fa("internal error");a=this.mr(),l.hC(a,s),l.BB(a)}},x.prototype.im=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l));if(s>a)return h;var u=this.j.La(h),p=this.j.La(l);if(this.bq(1+(u|p)),this.Gj[this.j.La(h)]=!0,s==2&&a==2)return this.Ot(h,l,-1);if(s==1&&a==2||s==1&&a==1)return this.Pt(-1);if(s==0)return this.mr();throw d.i.Qa()},x.prototype.Av=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),u=this.j.La(h),p=this.j.La(l);if(this.bq(1+(u|p)),this.Gj[this.j.La(h)|this.j.La(l)]=!0,u=-1,1<this.j.g.ht.Aa&&(u=h),s==2&&a==2)return this.Ot(h,l,u);if(s==1&&0<a||a==1&&0<s)return this.Pt(u);if(s==0||a==0)return this.mr();throw d.i.Qa()},x.prototype.Pz=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),u=this.j.La(h),p=this.j.La(l);if(this.bq(1+(u|p)),this.Gj[this.j.La(h)|this.j.La(l)]=!0,u=-1,1<this.j.g.ht.Aa&&(u=h),s==2&&a==2)return this.aY(h,l,u);if(s==1&&0<a||a==1&&0<s)return this.bY(u);if(s==0||a==0)return(h=[])[0]=this.mr(),h;throw d.i.Qa()},x.prototype.ep=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),u=this.j.La(h),p=this.j.La(l);if(this.bq(1+(u|p)),this.Gj[this.j.La(h)]=!0,this.Gj[this.j.La(l)]=!0,s==2&&a==2)return this.Ot(h,l,-1);if(s==1&&a==1)return this.Pt(-1);if(s==0&&a==0)return this.mr();throw d.i.Qa()},x.Xe=function(h){var l=h.getType();return l==197?(l=new d.Da(h.description),h.B()||l.ad(h,!1),l):l==33?(l=new d.de(h.description),h.B()||l.add(h),l):l==322?(l=new d.Ta(h.description),h.B()||l.oc(h,!0),l):h},x.ki=function(h,l,s){var a=h.getType();return a==197?(l=new d.Da(h.description),h.B()||l.ad(h,!1),l):a!=33||s!="|"&&s!="^"?a==322?(l=new d.Ta(h.description),h.B()||l.oc(h,!0),l):a==33&&s=="-"&&l.getType()==33||a==550&&s=="&"&&l.getType()==33?(l=new d.Sa(h.description),h.B()||h.ve(0,l),l):h:(l=new d.de(h.description),h.B()||l.add(h),l)},x.im=function(h,l,s,a){if(h.B()||l.B()||h.Db()>l.Db())return x.ki(x.Xe(h),h,"-");var u=new d.l;h.A(u);var p=new d.l;if(l.A(p),!u.isIntersecting(p))return x.ki(x.Xe(h),h,"-");var y=new d.l;return y.K(u),y.Zb(p),s=d.ta.Wd(s,y,!0),p=new x,y=(u=new d.gd).Ib(x.Xe(h)),l=u.Ib(x.Xe(l)),p.Ft(u,s,a),a=p.im(y,l),a=u.Ne(a),h=x.ki(a,h,"-"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.VP=function(h,l,s){if(2>h.length)throw d.i.N("not enough geometries to dissolve");for(var a=0,u=0,p=h.length;u<p;u++)a=Math.max(h[u].Db(),a);var y=new d.l;y.Oa();var m=new d.gd,w=-1,S=0,k=-1;for(u=0,p=h.length;u<p;u++)if(h[u].Db()==a)if(h[u].B())k==-1&&(k=u);else{k=u,w==-1?w=m.Ib(x.Xe(h[u])):m.uN(w,x.Xe(h[u]));var I=new d.l;h[u].xc(I),y.Zb(I),S++}return 2>S?x.Xe(h[k]):(h=a==2,l=d.ta.Wd(a==0?l:null,y,!0),new x().Mk(m,w,l,h,!0,s))},x.Pz=function(h,l,s,a){var u=[null,null,null],p=new d.l;h.A(p);var y=new d.l;l.A(y);var m=new d.l;if(m.K(p),m.Zb(y),s=d.ta.Wd(s,m,!0),(m=new d.l).K(y),y=d.ta.Er(s),m.W(y,y),!p.isIntersecting(m)){if(h.Db()<=l.Db())return u[(h=x.ki(x.Xe(h.Ia()),h,"&")).Db()]=h,u;if(h.Db()>l.Db())return u[(h=x.ki(x.Xe(l.Ia()),h,"&")).Db()]=h,u}for(y=new x,m=(p=new d.gd).Ib(x.Xe(h)),l=p.Ib(x.Xe(l)),y.Ft(p,s,a),a=y.Pz(m,l),l=0;l<a.length;l++)y=x.ki(p.Ne(a[l]),h,"&"),d.aa.Hc(y.getType())&&(y.Ch(2,s),y.getType()==1736&&y.fm()),u[y.Db()]=y;return u},x.ep=function(h,l,s,a){if(h.Db()>l.Db())return x.ki(x.Xe(h),h,"^");if(h.Db()<l.Db()||h.B())return x.ki(x.Xe(l),h,"^");if(l.B())return x.ki(x.Xe(h),h,"^");var u=new d.l;h.A(u);var p=new d.l;l.A(p);var y=new d.l;return y.K(u),y.Zb(p),s=d.ta.Wd(s,y,!0),p=new x,y=(u=new d.gd).Ib(x.Xe(h)),l=u.Ib(x.Xe(l)),p.Ft(u,s,a),a=p.ep(y,l),h=x.ki(u.Ne(a),h,"^"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.prototype.LQ=function(h,l){var s=this.j.g;h=s.vf(h,-1);for(var a=l.size,u=0;u<a;u++){var p=l.get(u);s.ij(h,p)}s.kn(h,!0)},x.prototype.aX=function(h,l){for(var s=this.j.g,a=s.ld;a!=-1;a=s.ue(a))if(a==l)for(var u=s.Ob(a);u!=-1;u=s.Rb(u)){var p=s.Xa(u);if(p!=-1)for(var y=s.U(p);y!=-1;){p=this.j.Le(p);var m=this.j.Le(y);(p=this.j.tR(p,m))!=-1&&(m=this.j.xa(p),this.j.Kb(p,h,1),this.j.Kb(m,h,2)),p=y,y=s.U(p)}}},x.prototype.cW=function(h,l,s,a){s=this.j.La(s),a=this.j.La(a);var u=new d.ia(0);u.Jb(256);for(var p=this.j.g,y=this.j.$g(),m=this.j.Re;m!=-1;m=this.j.Rf(m)){var w=this.j.Me(m);if(w!=-1){var S=w;do{if(this.j.Ab(S,y)!=1){var k=S,I=S,A=!1,L=0;do{if(this.j.Kb(k,y,1),!A){var D=this.j.dh(k);D&a&&this.j.af(k)&s&&(I=k,A=!0)}A&&(u.add(this.j.tj(this.j.km(this.j.jk(k)))),h!=-1&&(D=this.j.dh(k))&a&&(L|=D=this.j.Ab(k,h))),k=this.j.jc(k)}while(k!=I);A&&0<this.j.Kp(this.j.$e(I))&&(k=p.Ig(1736),this.LQ(k,u),l!=-1&&p.HJ(k,l,L)),u.clear(!1)}S=this.j.jc(this.j.xa(S))}while(S!=w)}}this.j.Jg(y)},x.prototype.FP=function(h,l,s,a){this.j.yW();var u=-1;h!=-1&&(u=this.j.$g(),this.aX(u,s)),this.cW(u,h,l,s),u!=-1&&(this.j.Jg(u),u=-1);var p=this.j.g;for(h=0,u=p.ld;u!=-1;u=p.ue(u))u!=l&&u!=s&&(a.add(u),h++);a.Vd(0,h,function(y,m){return(y=p.wz(p.Ob(y)))<(m=p.wz(p.Ob(m)))?-1:y==m?0:1})},x.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},x}();d.Fg=O}(te||(te={})),function(d){var O=function(){function x(h){h!==void 0?this.setScale(h):this.RB()}return x.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},x.prototype.Nb=function(h){return this==h||h instanceof x&&this.bb==h.bb&&this.eb==h.eb&&this.Gb==h.Gb&&this.jb==h.jb&&this.ab==h.ab&&this.Lb==h.Lb},x.prototype.cc=function(){return d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj()},x.prototype.Eh=function(h,l){var s=this.jb*h.x+this.ab*h.y+this.Lb;l.x=this.bb*h.x+this.eb*h.y+this.Gb,l.y=s},x.prototype.eY=function(h,l,s){for(var a=0;a<l;a++){var u=h[a].x,p=h[a].y,y=this.bb*u+this.eb*p+this.Gb;u=this.jb*u+this.ab*p+this.Lb,s[a]!=null?s[a].ma(y,u):s[a]=d.h.construct(y,u)}},x.prototype.multiply=function(h){x.multiply(this,h,this)},x.multiply=function(h,l,s){var a=h.bb*l.bb+h.jb*l.eb,u=h.eb*l.bb+h.ab*l.eb,p=h.Gb*l.bb+h.Lb*l.eb+l.Gb,y=h.bb*l.jb+h.jb*l.ab,m=h.eb*l.jb+h.ab*l.ab;h=h.Gb*l.jb+h.Lb*l.ab+l.Lb,s.bb=a,s.eb=u,s.Gb=p,s.jb=y,s.ab=m,s.Lb=h},x.prototype.Of=function(){var h=new x;return h.bb=this.bb,h.eb=this.eb,h.Gb=this.Gb,h.jb=this.jb,h.ab=this.ab,h.Lb=this.Lb,h},x.prototype.mC=function(h){if(!h.B()){for(var l=[],s=0;4>s;s++)l[s]=new d.h;h.nB(l),this.fY(l,l),h.Zw(l,4)}},x.prototype.fY=function(h,l){for(var s=0;s<h.length;s++){var a=new d.h,u=h[s];a.x=this.bb*u.x+this.eb*u.y+this.Gb,a.y=this.jb*u.x+this.ab*u.y+this.Lb,l[s]=a}},x.prototype.pS=function(h,l){h.B()||l.B()||h.R()==0||h.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=l.R()/h.R(),this.ab=l.ca()/h.ca(),this.Gb=l.v-h.v*this.bb,this.Lb=l.G-h.G*this.ab)},x.prototype.dY=function(h){var l=new d.h,s=new d.h;l.ma(this.bb,this.jb),s.ma(this.eb,this.ab),l.sub(l);var a=.5*l.Sk();return l.ma(this.bb,this.jb),s.ma(this.eb,this.ab),l.add(s),h*(a>(l=.5*l.Sk())?Math.sqrt(a):Math.sqrt(l))},x.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},x.prototype.isIdentity=function(h){if(h!==void 0){var l=d.h.construct(0,1);return this.Eh(l,l),l.sub(d.h.construct(0,1)),l.Sk()>h*h?!1:(l.ma(0,0),this.Eh(l,l),!(l.Sk()>h*h)&&(l.ma(1,0),this.Eh(l,l),l.sub(d.h.construct(1,0)),l.Sk()<=h*h))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},x.prototype.Bi=function(h){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*h*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},x.prototype.gg=function(h,l){this.bb=1,this.eb=0,this.Gb=h,this.jb=0,this.ab=1,this.Lb=l},x.prototype.setScale=function(h,l){l!==void 0?(this.bb=h,this.jb=this.Gb=this.eb=0,this.ab=l,this.Lb=0):this.setScale(h,h)},x.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},x.prototype.setRotate=function(h){this.pX(Math.cos(h),Math.sin(h))},x.prototype.pX=function(h,l){this.bb=h,this.eb=-l,this.Gb=0,this.jb=l,this.ab=h,this.Lb=0},x.prototype.shift=function(h,l){this.Gb+=h,this.Lb+=l},x.prototype.scale=function(h,l){this.bb*=h,this.eb*=h,this.Gb*=h,this.jb*=l,this.ab*=l,this.Lb*=l},x.prototype.flipX=function(h,l){this.bb=-this.bb,this.eb=-this.eb,this.Gb=h+l-this.Gb},x.prototype.flipY=function(h,l){this.jb=-this.jb,this.ab=-this.ab,this.Lb=h+l-this.Lb},x.prototype.rotate=function(h){var l=new x;l.setRotate(h),this.multiply(l)},x.prototype.inverse=function(h){if(h!==void 0){var l=this.bb*this.ab-this.eb*this.jb;l==0?h.lx():(l=1/l,h.Gb=(this.eb*this.Lb-this.Gb*this.ab)*l,h.Lb=(this.Gb*this.jb-this.bb*this.Lb)*l,h.bb=this.ab*l,h.eb=-this.eb*l,h.jb=-this.jb*l,h.ab=this.bb*l)}else this.inverse(this)},x}();d.Dd=O}(te||(te={})),function(d){var O=function(){function x(){}return x.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},x.prototype.setScale=function(h,l,s){this.bb=h,this.eb=this.Ze=this.jb=0,this.ab=l,this.Fe=this.Ee=this.Ge=0,this.He=s,this.hg=this.Lb=this.Gb=0},x.prototype.setTranslate=function(h,l,s){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=h,this.Lb=l,this.hg=s},x.prototype.translate=function(h,l,s){this.Gb+=h,this.Lb+=l,this.hg+=s},x.prototype.mC=function(h){if(!h.B()){for(var l=new d.Nd[8],s=0;8>s;s++)l[s]=new d.Nd;h.nB(l),this.transform(l,8,l),h.Zw(l)}},x.prototype.transform=function(h,l,s){for(var a=0;a<l;a++){var u=new d.Nd,p=h[a];u.x=this.bb*p.x+this.eb*p.y+this.Ee*p.z+this.Gb,u.y=this.jb*p.x+this.ab*p.y+this.Fe*p.z+this.Lb,u.z=this.Ze*p.x+this.Ge*p.y+this.He*p.z+this.hg,s[a]=u}},x.prototype.fp=function(h){var l=new d.Nd;return l.x=this.bb*h.x+this.eb*h.y+this.Ee*h.z+this.Gb,l.y=this.jb*h.x+this.ab*h.y+this.Fe*h.z+this.Lb,l.z=this.Ze*h.x+this.Ge*h.y+this.He*h.z+this.hg,l},x.prototype.Ag=function(h){x.multiply(this,h,this)},x.multiply=function(h,l,s){var a=h.bb*l.bb+h.jb*l.eb+h.Ze*l.Ee,u=h.bb*l.jb+h.jb*l.ab+h.Ze*l.Fe,p=h.bb*l.Ze+h.jb*l.Ge+h.Ze*l.He,y=h.eb*l.bb+h.ab*l.eb+h.Ge*l.Ee,m=h.eb*l.jb+h.ab*l.ab+h.Ge*l.Fe,w=h.eb*l.Ze+h.ab*l.Ge+h.Ge*l.He,S=h.Ee*l.bb+h.Fe*l.eb+h.He*l.Ee,k=h.Ee*l.jb+h.Fe*l.ab+h.He*l.Fe,I=h.Ee*l.Ze+h.Fe*l.Ge+h.He*l.He,A=h.Gb*l.bb+h.Lb*l.eb+h.hg*l.Ee+l.Gb,L=h.Gb*l.jb+h.Lb*l.ab+h.hg*l.Fe+l.Lb;h=h.Gb*l.Ze+h.Lb*l.Ge+h.hg*l.He+l.hg,s.bb=a,s.jb=u,s.Ze=p,s.eb=y,s.ab=m,s.Ge=w,s.Ee=S,s.Fe=k,s.He=I,s.Gb=A,s.Lb=L,s.hg=h},x.inverse=function(h,l){var s=h.bb*(h.ab*h.He-h.Ge*h.Fe)-h.jb*(h.eb*h.He-h.Ge*h.Ee)+h.Ze*(h.eb*h.Fe-h.ab*h.Ee);if(s==0)throw d.i.fa("math singularity");var a=1/s;s=(h.ab*h.He-h.Ge*h.Fe)*a;var u=-(h.eb*h.He-h.Ge*h.Ee)*a,p=(h.eb*h.Fe-h.ab*h.Ee)*a,y=-(h.jb*h.He-h.Fe*h.Ze)*a,m=(h.bb*h.He-h.Ze*h.Ee)*a,w=-(h.bb*h.Fe-h.jb*h.Ee)*a,S=(h.jb*h.Ge-h.Ze*h.ab)*a,k=-(h.bb*h.Ge-h.Ze*h.eb)*a;a*=h.bb*h.ab-h.jb*h.eb;var I=-(h.Gb*s+h.Lb*u+h.hg*p),A=-(h.Gb*y+h.Lb*m+h.hg*w);h=-(h.Gb*S+h.Lb*k+h.hg*a),l.bb=s,l.jb=y,l.Ze=S,l.eb=u,l.ab=m,l.Ge=k,l.Ee=p,l.Fe=w,l.He=a,l.Gb=I,l.Lb=A,l.hg=h},x.prototype.Of=function(){var h=new x;return h.bb=this.bb,h.jb=this.jb,h.Ze=this.Ze,h.eb=this.eb,h.ab=this.ab,h.Ge=this.Ge,h.Ee=this.Ee,h.Fe=this.Fe,h.He=this.He,h.Gb=this.Gb,h.Lb=this.Lb,h.hg=this.hg,h},x}();d.JY=O}(te||(te={})),function(d){var O=function(h){function l(s){if(s!==void 0)s=h.call(this,s.cc(),s)||this;else{(s=h.call(this)||this).bg=[],s.bg[0]=0,s.Aa=1,s.uh=[];for(var a=0;10>a;a++)s.uh[a]=-1;s.uh[s.bg[0]]=0}return s.jq=!0,s}return ft(l,h),l.prototype.re=function(s){this.hasAttribute(s)||(this.uh[s]=0,this.jD())},l.prototype.removeAttribute=function(s){if(s==0)throw d.i.N("Position attribue cannot be removed");this.hasAttribute(s)&&(this.uh[s]=-1,this.jD())},l.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var s=0;s<this.uh.length;s++)this.uh[s]=-1;this.uh[this.bg[0]]=0,this.jq=!0},l.prototype.EF=function(){return x.kz().add(this)},l.og=function(){return x.kz().$R()},l.prototype.tM=function(){var s=this.cc();return new d.ra(s,this)},l.prototype.jD=function(){for(var s=this.Aa=0,a=0;10>s;s++)0<=this.uh[s]&&(this.bg[a]=s,this.uh[s]=a,a++,this.Aa++);this.jq=!0},l.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},l.prototype.Nb=function(s){if(s==null)return!1;if(s==this)return!0;if(!(s instanceof l)||s.Aa!=this.Aa)return!1;for(var a=0;a<this.Aa;a++)if(this.bg[a]!=s.bg[a])return!1;return this.jq==s.jq},l.prototype.GG=function(s){if(s.Aa!=this.Aa)return!1;for(var a=0;a<this.Aa;a++)if(this.bg[a]!=s.bg[a])return!1;return!0},l.Iw=function(s,a){for(var u=[],p=0;p<s.Aa;p++)u[p]=-1;p=0;for(var y=s.Aa;p<y;p++)u[p]=a.Pf(s.kd(p));return u},l.BR=function(s,a){return(s=new l(s)).re(a),s.EF()},l.CR=function(s,a){for(var u=null,p=0;10>p;p++)!s.hasAttribute(p)&&a.hasAttribute(p)&&(u==null&&(u=new l(s)),u.re(p));return u!=null?u.EF():s},l}(d.ra);d.ee=O;var x=function(){function h(){this.map=[];var l=new O;this.add(l),(l=new O).re(1),this.add(l)}return h.kz=function(){return h.bL},h.prototype.$R=function(){return h.ft},h.prototype.add=function(l){var s=l.cc();if(h.ft!=null&&h.ft.cc()==s&&l.GG(h.ft))return h.ft;if(h.Dw!=null&&h.Dw.cc()==s&&l.GG(h.Dw))return h.Dw;var a=null;return this.map[s]!==void 0&&(a=this.map[s]),a==null&&((a=l.tM()).Aa==1?h.ft=a:a.Aa==2&&a.kd(1)==1?h.Dw=a:this.map[s]=a),a},h.bL=new h,h}()}(te||(te={}));var _t={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},qt={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},Ti=new(function(){function d(){this.RM=50,this.np=new Map,this.gj=[]}return d.prototype.clear=function(){this.gj.length=0,this.np.clear()},d.prototype.delete=function(O){return!!this.np.delete(O)&&(this.gj.splice(this.gj.indexOf(O),1),!0)},d.prototype.get=function(O){var x=this.np.get(O);if(x!==void 0)return this.gj[0]!==O&&(this.gj.splice(this.gj.indexOf(O),1),this.gj.unshift(O)),x},d.prototype.has=function(O){return this.np.has(O)},d.prototype.set=function(O,x){return this.get(O)!==void 0&&this.delete(O),this.gj.unshift(O),this.np.set(O,x),this.oM(),this},d.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var O=this.gj.pop();this.np.delete(O)}},d}()),Oe=((bt={}).convertJSONToGeometry=function(d){return te.$b.fP(d)},bt.hasM=function(d){return d.hasAttribute(te.Ih.M)},bt.hasZ=function(d){return d.hasAttribute(te.Ih.Z)},bt.getPointX=function(d){return d.Lg()},bt.getPointY=function(d){return d.ih()},bt.getPointZ=function(d){return d.bS()},bt.getPointM=function(d){return d.zR()},bt.getXMin=function(d){return d.es()},bt.getYMin=function(d){return d.gs()},bt.getXMax=function(d){return d.ds()},bt.getYMax=function(d){return d.fs()},bt.getZExtent=function(d){return d.Tg(te.Ih.Z,0)},bt.getMExtent=function(d){return d.Tg(te.Ih.M,0)},bt.exportPaths=function(d){var O=[],x=d.da(),h=null,l=null,s=d.hasAttribute(te.Ih.Z),a=d.hasAttribute(te.Ih.M);s&&(h=d.ub(te.Ih.Z)),a&&(l=d.ub(te.Ih.M));for(var u=new te.h,p=0;p<x;p++){for(var y=d.Ba(p),m=d.Ja(p),w=0,S=0,k=NaN,I=NaN,A=NaN,L=NaN,D=d.dc(p),U=[],X=y;X<y+m;X++){d.D(X,u),L=A=NaN;var J=[u.x,u.y];s&&(A=h.get(X),J.push(A)),a&&(L=l.get(X),J.push(L)),X==y&&D&&(w=u.x,S=u.y,k=A,I=L),U.push(J)}!D||w==u.x&&S==u.y&&(!s||isNaN(k)&&isNaN(A)||k==A)&&(!a||isNaN(I)&&isNaN(L)||I==L)||U.push(U[0].slice(0)),O.push(U)}return O},bt.exportPathsFlat=function(){},bt.exportPoints=function(d){var O=d.hasAttribute(te.Ih.Z),x=d.hasAttribute(te.Ih.M),h=null,l=null;O&&(h=d.ub(te.Ih.Z)),x&&(l=d.ub(te.Ih.M));for(var s=new te.h,a=d.I(),u=[],p=0;p<a;p++){d.D(p,s);var y=[s.x,s.y];O&&y.push(h.get(p)),x&&y.push(l.get(p)),u.push(y)}return u},bt.exportPointsFlat=function(){},bt),Yt=new Map;return function(){function d(){}return d.buffer=ge,d.clip=T,d.contains=j,d.convexHull=W,d.crosses=R,d.cut=E,d.densify=wt,d.difference=ee,d.disjoint=H,d.distance=N,d.equals=F,d.extendedSpatialReferenceInfo=M,d.generalize=Ke,d.geodesicArea=it,d.geodesicBuffer=ve,d.geodesicDensify=He,d.geodesicLength=Ge,d.intersect=ue,d.intersects=V,d.isSimple=re,d.nearestCoordinate=he,d.nearestVertex=Ie,d.nearestVertices=Be,d.offset=pe,d.overlaps=Z,d.planarArea=yt,d.planarLength=Fe,d.relate=Y,d.simplify=q,d.symmetricDifference=le,d.touches=z,d.union=ae,d.within=G,d.rotate=te.Ex.rotate,d.flipHorizontal=te.Ex.JQ,d.flipVertical=te.Ex.KQ,d.intersectLinesToPoints=xt,d.ExtendedParams=te.yC,d.clearDefaultSpatialReferenceTolerance=zt,d.changeDefaultSpatialReferenceTolerance=lt,d._enableProjection=Te,d._project=me,d._getTransformation=Ve,d._getTransformationBySuitability=De,d}()}var r=i();r!==void 0&&(e.exports=r)})(yde);var mde=yde.exports;const ai=Gle(mde),mHe=yHe({__proto__:null,default:ai},[mde]),gHe=Object.freeze(Object.defineProperty({__proto__:null,G:ai,g:mHe},Symbol.toStringTag,{value:"Module"})),Mi={convertToGEGeometry:vHe,exportPoint:bHe,exportPolygon:wHe,exportPolyline:xHe,exportMultipoint:_He,exportExtent:SHe};function vHe(e,t){if(t==null)return null;let i="cache"in t?t.cache._geVersion:void 0;return i==null&&(i=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=i)),i}function bHe(e,t,i){const r=e.hasZ(t),n=e.hasM(t),o=new Pt({x:e.getPointX(t),y:e.getPointY(t),spatialReference:i});return r&&(o.z=e.getPointZ(t)),n&&(o.m=e.getPointM(t)),o.cache._geVersion=t,o}function wHe(e,t,i){const r=new sa({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return r.cache._geVersion=t,r}function xHe(e,t,i){const r=new Ga({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return r.cache._geVersion=t,r}function _He(e,t,i){const r=new K3({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:i});return r.cache._geVersion=t,r}function SHe(e,t,i){const r=e.hasZ(t),n=e.hasM(t),o=new ci({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:i});if(r){const c=e.getZExtent(t);o.zmin=c.vmin,o.zmax=c.vmax}if(n){const c=e.getMExtent(t);o.mmin=c.vmin,o.mmax=c.vmax}return o.cache._geVersion=t,o}const $He=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:Mi},Symbol.toStringTag,{value:"Module"}));function Ai(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function MHe(e){return ai.extendedSpatialReferenceInfo(e)}function THe(e,t){return ai.clip(Mi,Ai(e),e,t)}function kHe(e,t){return ai.cut(Mi,Ai(e),e,t)}function CHe(e,t){return ai.contains(Mi,Ai(e),e,t)}function IHe(e,t){return ai.crosses(Mi,Ai(e),e,t)}function EHe(e,t,i){return ai.distance(Mi,Ai(e),e,t,i)}function AHe(e,t){return ai.equals(Mi,Ai(e),e,t)}function jHe(e,t){return ai.intersects(Mi,Ai(e),e,t)}function PHe(e,t){return ai.touches(Mi,Ai(e),e,t)}function OHe(e,t){return ai.within(Mi,Ai(e),e,t)}function RHe(e,t){return ai.disjoint(Mi,Ai(e),e,t)}function LHe(e,t){return ai.overlaps(Mi,Ai(e),e,t)}function NHe(e,t,i){return ai.relate(Mi,Ai(e),e,t,i)}function FHe(e){return ai.isSimple(Mi,Ai(e),e)}function DHe(e){return ai.simplify(Mi,Ai(e),e)}function zHe(e,t=!1){return ai.convexHull(Mi,Ai(e),e,t)}function VHe(e,t){return ai.difference(Mi,Ai(e),e,t)}function BHe(e,t){return ai.symmetricDifference(Mi,Ai(e),e,t)}function UHe(e,t){return ai.intersect(Mi,Ai(e),e,t)}function GHe(e,t=null){return ai.union(Mi,Ai(e),e,t)}function qHe(e,t,i,r,n,o){return ai.offset(Mi,Ai(e),e,t,i,r,n,o)}function WHe(e,t,i,r=!1){return ai.buffer(Mi,Ai(e),e,t,i,r)}function HHe(e,t,i,r,n,o){return ai.geodesicBuffer(Mi,Ai(e),e,t,i,r,n,o)}function JHe(e,t,i=!0){return ai.nearestCoordinate(Mi,Ai(e),e,t,i)}function KHe(e,t){return ai.nearestVertex(Mi,Ai(e),e,t)}function YHe(e,t,i,r){return ai.nearestVertices(Mi,Ai(e),e,t,i,r)}function YF(e){var t;return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?((t=e.extent)==null?void 0:t.center)??null:null}function ZHe(e,t,i){if(e==null)throw new gg;const r=e.spatialReference;if((i=i??YF(e))==null)throw new gg;const n=e.constructor.fromJSON(ai.rotate(e,t,i));return n.spatialReference=r,n}function XHe(e,t){if(e==null)throw new gg;const i=e.spatialReference;if((t=t??YF(e))==null)throw new gg;const r=e.constructor.fromJSON(ai.flipHorizontal(e,t));return r.spatialReference=i,r}function QHe(e,t){if(e==null)throw new gg;const i=e.spatialReference;if((t=t??YF(e))==null)throw new gg;const r=e.constructor.fromJSON(ai.flipVertical(e,t));return r.spatialReference=i,r}function eJe(e,t,i,r){return ai.generalize(Mi,Ai(e),e,t,i,r)}function tJe(e,t,i){return ai.densify(Mi,Ai(e),e,t,i)}function iJe(e,t,i,r=0){return ai.geodesicDensify(Mi,Ai(e),e,t,i,r)}function rJe(e,t){return ai.planarArea(Mi,Ai(e),e,t)}function nJe(e,t){return ai.planarLength(Mi,Ai(e),e,t)}function gde(e,t,i){return ai.geodesicArea(Mi,Ai(e),e,t,i)}function sJe(e,t,i){return ai.geodesicLength(Mi,Ai(e),e,t,i)}function oJe(e,t){return ai.intersectLinesToPoints(Mi,Ai(e),e,t)}function aJe(e,t){ai.changeDefaultSpatialReferenceTolerance(e,t)}function lJe(e){ai.clearDefaultSpatialReferenceTolerance(e)}let gg=class extends Error{constructor(){super("Illegal Argument Exception")}};const GSt=Object.freeze(Object.defineProperty({__proto__:null,buffer:WHe,changeDefaultSpatialReferenceTolerance:aJe,clearDefaultSpatialReferenceTolerance:lJe,clip:THe,contains:CHe,convexHull:zHe,crosses:IHe,cut:kHe,densify:tJe,difference:VHe,disjoint:RHe,distance:EHe,equals:AHe,extendedSpatialReferenceInfo:MHe,flipHorizontal:XHe,flipVertical:QHe,generalize:eJe,geodesicArea:gde,geodesicBuffer:HHe,geodesicDensify:iJe,geodesicLength:sJe,intersect:UHe,intersectLinesToPoints:oJe,intersects:jHe,isSimple:FHe,nearestCoordinate:JHe,nearestVertex:KHe,nearestVertices:YHe,offset:qHe,overlaps:LHe,planarArea:rJe,planarLength:nJe,relate:NHe,rotate:ZHe,simplify:DHe,symmetricDifference:BHe,touches:PHe,union:GHe,within:OHe},Symbol.toStringTag,{value:"Module"}));function uJe(e){return Ii("MuiCollapse",e)}Ei("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const cJe=e=>{const{orientation:t,classes:i}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ri(r,uJe,i)},hJe=ct("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.orientation],i.state==="entered"&&t.entered,i.state==="exited"&&!i.in&&i.collapsedSize==="0px"&&t.hidden]}})(pi(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),dJe=ct("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),pJe=ct("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),XP=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiCollapse"}),{addEndListener:n,children:o,className:c,collapsedSize:f="0px",component:g,easing:v,in:_,onEnter:M,onEntered:T,onEntering:E,onExit:j,onExited:R,onExiting:N,orientation:F="vertical",style:V,timeout:z=Ree.standard,TransitionComponent:G=ru,...H}=r,Z={...r,orientation:F,collapsedSize:f},Y=cJe(Z),re=f1(),q=Tee(),W=K.useRef(null),ee=K.useRef(),le=typeof f=="number"?`${f}px`:f,ue=F==="horizontal",ae=ue?"width":"height",pe=K.useRef(null),ge=Eo(i,pe),ve=Fe=>it=>{if(Fe){const Ge=pe.current;it===void 0?Fe(Ge):Fe(Ge,it)}},ce=()=>W.current?W.current[ue?"clientWidth":"clientHeight"]:0,he=ve((Fe,it)=>{W.current&&ue&&(W.current.style.position="absolute"),Fe.style[ae]=le,M&&M(Fe,it)}),Ie=ve((Fe,it)=>{const Ge=ce();W.current&&ue&&(W.current.style.position="");const{duration:Te,easing:Ve}=eg({style:V,timeout:z,easing:v},{mode:"enter"});if(z==="auto"){const De=re.transitions.getAutoHeightDuration(Ge);Fe.style.transitionDuration=`${De}ms`,ee.current=De}else Fe.style.transitionDuration=typeof Te=="string"?Te:`${Te}ms`;Fe.style[ae]=`${Ge}px`,Fe.style.transitionTimingFunction=Ve,E&&E(Fe,it)}),Be=ve((Fe,it)=>{Fe.style[ae]="auto",T&&T(Fe,it)}),Ke=ve(Fe=>{Fe.style[ae]=`${ce()}px`,j&&j(Fe)}),wt=ve(R),He=ve(Fe=>{const it=ce(),{duration:Ge,easing:Te}=eg({style:V,timeout:z,easing:v},{mode:"exit"});if(z==="auto"){const Ve=re.transitions.getAutoHeightDuration(it);Fe.style.transitionDuration=`${Ve}ms`,ee.current=Ve}else Fe.style.transitionDuration=typeof Ge=="string"?Ge:`${Ge}ms`;Fe.style[ae]=le,Fe.style.transitionTimingFunction=Te,N&&N(Fe)}),yt=Fe=>{z==="auto"&&q.start(ee.current||0,Fe),n&&n(pe.current,Fe)};return P.jsx(G,{in:_,onEnter:he,onEntered:Be,onEntering:Ie,onExit:Ke,onExited:wt,onExiting:He,addEndListener:yt,nodeRef:pe,timeout:z==="auto"?null:z,...H,children:(Fe,it)=>P.jsx(hJe,{as:g,className:Et(Y.root,c,{entered:Y.entered,exited:!_&&le==="0px"&&Y.hidden}[Fe]),style:{[ue?"minWidth":"minHeight"]:le,...V},ref:ge,...it,ownerState:{...Z,state:Fe},children:P.jsx(dJe,{ownerState:{...Z,state:Fe},className:Y.wrapper,ref:W,children:P.jsx(pJe,{ownerState:{...Z,state:Fe},className:Y.wrapperInner,children:o})})})})});XP&&(XP.muiSupportAuto=!0);const vde=K.createContext({});function fJe(e){return Ii("MuiAccordion",e)}const m5=Ei("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),yJe=e=>{const{classes:t,square:i,expanded:r,disabled:n,disableGutters:o}=e;return Ri({root:["root",!i&&"rounded",r&&"expanded",n&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},fJe,t)},mJe=ct(gr,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${m5.region}`]:t.region},t.root,!i.square&&t.rounded,!i.disableGutters&&t.gutters]}})(pi(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${m5.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${m5.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),pi(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${m5.expanded}`]:{margin:"16px 0"}}}]}))),gJe=ct("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),nf=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiAccordion"}),{children:n,className:o,defaultExpanded:c=!1,disabled:f=!1,disableGutters:g=!1,expanded:v,onChange:_,square:M=!1,slots:T={},slotProps:E={},TransitionComponent:j,TransitionProps:R,...N}=r,[F,V]=ZR({controlled:v,default:c,name:"Accordion",state:"expanded"}),z=K.useCallback(ge=>{V(!F),_&&_(ge,!F)},[F,_,V]),[G,...H]=K.Children.toArray(n),Z=K.useMemo(()=>({expanded:F,disabled:f,disableGutters:g,toggle:z}),[F,f,g,z]),Y={...r,square:M,disabled:f,disableGutters:g,expanded:F},re=yJe(Y),q={transition:j,...T},W={transition:R,...E},ee={slots:q,slotProps:W},[le,ue]=B0("heading",{elementType:gJe,externalForwardedProps:ee,className:re.heading,ownerState:Y}),[ae,pe]=B0("transition",{elementType:XP,externalForwardedProps:ee,ownerState:Y});return P.jsxs(mJe,{className:Et(re.root,o),ref:i,ownerState:Y,square:M,...N,children:[P.jsx(le,{...ue,children:P.jsx(vde.Provider,{value:Z,children:G})}),P.jsx(ae,{in:F,timeout:"auto",...pe,children:P.jsx("div",{"aria-labelledby":G.props.id,id:G.props["aria-controls"],role:"region",className:re.region,children:H})})]})});function vJe(e){return Ii("MuiAccordionDetails",e)}Ei("MuiAccordionDetails",["root"]);const bJe=e=>{const{classes:t}=e;return Ri({root:["root"]},vJe,t)},wJe=ct("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(pi(({theme:e})=>({padding:e.spacing(1,2,2)}))),sf=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiAccordionDetails"}),{className:n,...o}=r,c=r,f=bJe(c);return P.jsx(wJe,{className:Et(f.root,n),ref:i,ownerState:c,...o})});function xJe(e){return Ii("MuiAccordionSummary",e)}const dm=Ei("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),_Je=e=>{const{classes:t,expanded:i,disabled:r,disableGutters:n}=e;return Ri({root:["root",i&&"expanded",r&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",i&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",i&&"expanded"]},xJe,t)},SJe=ct(U0,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(pi(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${dm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${dm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${dm.disabled})`]:{cursor:"pointer"},variants:[{props:i=>!i.disableGutters,style:{[`&.${dm.expanded}`]:{minHeight:64}}}]}})),$Je=ct("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(pi(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${dm.expanded}`]:{margin:"20px 0"}}}]}))),MJe=ct("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(pi(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${dm.expanded}`]:{transform:"rotate(180deg)"}}))),of=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiAccordionSummary"}),{children:n,className:o,expandIcon:c,focusVisibleClassName:f,onClick:g,...v}=r,{disabled:_=!1,disableGutters:M,expanded:T,toggle:E}=K.useContext(vde),j=F=>{E&&E(F),g&&g(F)},R={...r,expanded:T,disabled:_,disableGutters:M},N=_Je(R);return P.jsxs(SJe,{focusRipple:!1,disableRipple:!0,disabled:_,component:"div","aria-expanded":T,className:Et(N.root,o),focusVisibleClassName:Et(N.focusVisible,f),onClick:j,ref:i,ownerState:R,...v,children:[P.jsx($Je,{className:N.content,ownerState:R,children:n}),c&&P.jsx(MJe,{className:N.expandIconWrapper,ownerState:R,children:c})]})});function TJe(e){return Ii("MuiIconButton",e)}const kJe=Ei("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),CJe=e=>{const{classes:t,disabled:i,color:r,edge:n,size:o}=e,c={root:["root",i&&"disabled",r!=="default"&&`color${tt(r)}`,n&&`edge${tt(n)}`,`size${tt(o)}`]};return Ri(c,TJe,t)},IJe=ct(U0,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color!=="default"&&t[`color${tt(i.color)}`],i.edge&&t[`edge${tt(i.edge)}`],t[`size${tt(i.size)}`]]}})(pi(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pi(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi((e.vars||e).palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${kJe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),g5=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiIconButton"}),{edge:n=!1,children:o,className:c,color:f="default",disabled:g=!1,disableFocusRipple:v=!1,disableRipple:_=!1,size:M="medium",...T}=r,E={...r,edge:n,color:f,disabled:g,disableFocusRipple:v,disableRipple:_,size:M},j=CJe(E);return P.jsx(IJe,{className:Et(j.root,c),centerRipple:!0,focusRipple:!v,disabled:g,disableRipple:_,ref:i,...T,ownerState:E,children:o})}),EJe=y1(P.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function AJe(e){return Ii("MuiChip",e)}const bi=Ei("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),jJe=e=>{const{classes:t,disabled:i,size:r,color:n,iconColor:o,onDelete:c,clickable:f,variant:g}=e,v={root:["root",g,i&&"disabled",`size${tt(r)}`,`color${tt(n)}`,f&&"clickable",f&&`clickableColor${tt(n)}`,c&&"deletable",c&&`deletableColor${tt(n)}`,`${g}${tt(n)}`],label:["label",`label${tt(r)}`],avatar:["avatar",`avatar${tt(r)}`,`avatarColor${tt(n)}`],icon:["icon",`icon${tt(r)}`,`iconColor${tt(o)}`],deleteIcon:["deleteIcon",`deleteIcon${tt(r)}`,`deleteIconColor${tt(n)}`,`deleteIcon${tt(g)}Color${tt(n)}`]};return Ri(v,AJe,t)},PJe=ct("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{color:r,iconColor:n,clickable:o,onDelete:c,size:f,variant:g}=i;return[{[`& .${bi.avatar}`]:t.avatar},{[`& .${bi.avatar}`]:t[`avatar${tt(f)}`]},{[`& .${bi.avatar}`]:t[`avatarColor${tt(r)}`]},{[`& .${bi.icon}`]:t.icon},{[`& .${bi.icon}`]:t[`icon${tt(f)}`]},{[`& .${bi.icon}`]:t[`iconColor${tt(n)}`]},{[`& .${bi.deleteIcon}`]:t.deleteIcon},{[`& .${bi.deleteIcon}`]:t[`deleteIcon${tt(f)}`]},{[`& .${bi.deleteIcon}`]:t[`deleteIconColor${tt(r)}`]},{[`& .${bi.deleteIcon}`]:t[`deleteIcon${tt(g)}Color${tt(r)}`]},t.root,t[`size${tt(f)}`],t[`color${tt(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${tt(r)})`],c&&t.deletable,c&&r!=="default"&&t[`deletableColor${tt(r)}`],t[g],t[`${g}${tt(r)}`]]}})(pi(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${bi.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${bi.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${bi.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${bi.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${bi.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${bi.icon}`]:{marginLeft:5,marginRight:-6},[`& .${bi.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Yi(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Yi(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${bi.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${bi.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(([,i])=>i&&i.main&&i.contrastText).map(([i])=>({props:{color:i},style:{backgroundColor:(e.vars||e).palette[i].main,color:(e.vars||e).palette[i].contrastText,[`& .${bi.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[i].contrastTextChannel} / 0.7)`:Yi(e.palette[i].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[i].contrastText}}}})),{props:i=>i.iconColor===i.color,style:{[`& .${bi.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:i=>i.iconColor===i.color&&i.color!=="default",style:{[`& .${bi.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${bi.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Yi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(([,i])=>i&&i.dark).map(([i])=>({props:{color:i,onDelete:!0},style:{[`&.${bi.focusVisible}`]:{background:(e.vars||e).palette[i].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Yi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${bi.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Yi(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(([,i])=>i&&i.dark).map(([i])=>({props:{color:i,clickable:!0},style:{[`&:hover, &.${bi.focusVisible}`]:{backgroundColor:(e.vars||e).palette[i].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${bi.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${bi.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${bi.avatar}`]:{marginLeft:4},[`& .${bi.avatarSmall}`]:{marginLeft:2},[`& .${bi.icon}`]:{marginLeft:4},[`& .${bi.iconSmall}`]:{marginLeft:2},[`& .${bi.deleteIcon}`]:{marginRight:5},[`& .${bi.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(([,i])=>i&&i.main).map(([i])=>({props:{variant:"outlined",color:i},style:{color:(e.vars||e).palette[i].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[i].mainChannel} / 0.7)`:Yi(e.palette[i].main,.7)}`,[`&.${bi.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette[i].main,e.palette.action.hoverOpacity)},[`&.${bi.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Yi(e.palette[i].main,e.palette.action.focusOpacity)},[`& .${bi.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[i].mainChannel} / 0.7)`:Yi(e.palette[i].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[i].main}}}}))]}})),OJe=ct("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:i}=e,{size:r}=i;return[t.label,t[`label${tt(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function UJ(e){return e.key==="Backspace"||e.key==="Delete"}const Ok=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiChip"}),{avatar:n,className:o,clickable:c,color:f="default",component:g,deleteIcon:v,disabled:_=!1,icon:M,label:T,onClick:E,onDelete:j,onKeyDown:R,onKeyUp:N,size:F="medium",variant:V="filled",tabIndex:z,skipFocusWhenDisabled:G=!1,...H}=r,Z=K.useRef(null),Y=Eo(Z,i),re=he=>{he.stopPropagation(),j&&j(he)},q=he=>{he.currentTarget===he.target&&UJ(he)&&he.preventDefault(),R&&R(he)},W=he=>{he.currentTarget===he.target&&j&&UJ(he)&&j(he),N&&N(he)},ee=c!==!1&&E?!0:c,le=ee||j?U0:g||"div",ue={...r,component:le,disabled:_,size:F,color:f,iconColor:K.isValidElement(M)&&M.props.color||f,onDelete:!!j,clickable:ee,variant:V},ae=jJe(ue),pe=le===U0?{component:g||"div",focusVisibleClassName:ae.focusVisible,...j&&{disableRipple:!0}}:{};let ge=null;j&&(ge=v&&K.isValidElement(v)?K.cloneElement(v,{className:Et(v.props.className,ae.deleteIcon),onClick:re}):P.jsx(EJe,{className:Et(ae.deleteIcon),onClick:re}));let ve=null;n&&K.isValidElement(n)&&(ve=K.cloneElement(n,{className:Et(ae.avatar,n.props.className)}));let ce=null;return M&&K.isValidElement(M)&&(ce=K.cloneElement(M,{className:Et(ae.icon,M.props.className)})),P.jsxs(PJe,{as:le,className:Et(ae.root,o),disabled:ee&&_?!0:void 0,onClick:E,onKeyDown:q,onKeyUp:W,ref:Y,tabIndex:G&&_?-1:z,ownerState:ue,...pe,...H,children:[ve||ce,P.jsx(OJe,{className:Et(ae.label),ownerState:ue,children:T}),ge]})});function bde({props:e,states:t,muiFormControl:i}){return t.reduce((r,n)=>(r[n]=e[n],i&&typeof e[n]>"u"&&(r[n]=i[n]),r),{})}const RJe=K.createContext(void 0);function ZF(){return K.useContext(RJe)}function LJe(e){return Ii("MuiButton",e)}const Q1=Ei("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),NJe=K.createContext({}),FJe=K.createContext(void 0),DJe=e=>{const{color:t,disableElevation:i,fullWidth:r,size:n,variant:o,classes:c}=e,f={root:["root",o,`${o}${tt(t)}`,`size${tt(n)}`,`${o}Size${tt(n)}`,`color${tt(t)}`,i&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${tt(n)}`],endIcon:["icon","endIcon",`iconSize${tt(n)}`]},g=Ri(f,LJe,c);return{...c,...g}},wde=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],zJe=ct(U0,{shouldForwardProp:e=>Ig(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`${i.variant}${tt(i.color)}`],t[`size${tt(i.size)}`],t[`${i.variant}Size${tt(i.size)}`],i.color==="inherit"&&t.colorInherit,i.disableElevation&&t.disableElevation,i.fullWidth&&t.fullWidth]}})(pi(({theme:e})=>{var r,n;const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Q1.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Q1.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Q1.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Q1.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(([,o])=>o&&o.main&&o.dark&&o.contrastText).map(([o])=>({props:{color:o},style:{"--variant-textColor":(e.vars||e).palette[o].main,"--variant-outlinedColor":(e.vars||e).palette[o].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[o].mainChannel} / 0.5)`:Yi(e.palette[o].main,.5),"--variant-containedColor":(e.vars||e).palette[o].contrastText,"--variant-containedBg":(e.vars||e).palette[o].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[o].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette[o].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[o].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette[o].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,t),"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Q1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Q1.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),VJe=ct("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.startIcon,t[`iconSize${tt(i.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...wde]}),BJe=ct("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.endIcon,t[`iconSize${tt(i.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...wde]}),Ha=K.forwardRef(function(t,i){const r=K.useContext(NJe),n=K.useContext(FJe),o=Iw(r,t),c=Ui({props:o,name:"MuiButton"}),{children:f,color:g="primary",component:v="button",className:_,disabled:M=!1,disableElevation:T=!1,disableFocusRipple:E=!1,endIcon:j,focusVisibleClassName:R,fullWidth:N=!1,size:F="medium",startIcon:V,type:z,variant:G="text",...H}=c,Z={...c,color:g,component:v,disabled:M,disableElevation:T,disableFocusRipple:E,fullWidth:N,size:F,type:z,variant:G},Y=DJe(Z),re=V&&P.jsx(VJe,{className:Y.startIcon,ownerState:Z,children:V}),q=j&&P.jsx(BJe,{className:Y.endIcon,ownerState:Z,children:j}),W=n||"";return P.jsxs(zJe,{ownerState:Z,className:Et(r.className,Y.root,_,W),component:v,disabled:M,focusRipple:!E,focusVisibleClassName:Et(Y.focusVisible,R),ref:i,type:z,...H,classes:Y,children:[re,f,q]})});function UJe(e){return Ii("PrivateSwitchBase",e)}Ei("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const GJe=e=>{const{classes:t,checked:i,disabled:r,edge:n}=e,o={root:["root",i&&"checked",r&&"disabled",n&&`edge${tt(n)}`],input:["input"]};return Ri(o,UJe,t)},qJe=ct(U0)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),WJe=ct("input",{shouldForwardProp:Ig})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),xde=K.forwardRef(function(t,i){const{autoFocus:r,checked:n,checkedIcon:o,className:c,defaultChecked:f,disabled:g,disableFocusRipple:v=!1,edge:_=!1,icon:M,id:T,inputProps:E,inputRef:j,name:R,onBlur:N,onChange:F,onFocus:V,readOnly:z,required:G=!1,tabIndex:H,type:Z,value:Y,...re}=t,[q,W]=ZR({controlled:n,default:!!f,name:"SwitchBase",state:"checked"}),ee=ZF(),le=he=>{V&&V(he),ee&&ee.onFocus&&ee.onFocus(he)},ue=he=>{N&&N(he),ee&&ee.onBlur&&ee.onBlur(he)},ae=he=>{if(he.nativeEvent.defaultPrevented)return;const Ie=he.target.checked;W(Ie),F&&F(he,Ie)};let pe=g;ee&&typeof pe>"u"&&(pe=ee.disabled);const ge=Z==="checkbox"||Z==="radio",ve={...t,checked:q,disabled:pe,disableFocusRipple:v,edge:_},ce=GJe(ve);return P.jsxs(qJe,{component:"span",className:Et(ce.root,c),centerRipple:!0,focusRipple:!v,disabled:pe,tabIndex:null,role:void 0,onFocus:le,onBlur:ue,ownerState:ve,ref:i,...re,children:[P.jsx(WJe,{autoFocus:r,checked:n,defaultChecked:f,className:ce.input,disabled:pe,id:ge?T:void 0,name:R,onChange:ae,readOnly:z,ref:j,required:G,ownerState:ve,tabIndex:H,type:Z,...Z==="checkbox"&&Y===void 0?{}:{value:Y},...E}),q?o:M]})}),HJe=y1(P.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),JJe=y1(P.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),KJe=y1(P.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function YJe(e){return Ii("MuiCheckbox",e)}const Rk=Ei("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ZJe=e=>{const{classes:t,indeterminate:i,color:r,size:n}=e,o={root:["root",i&&"indeterminate",`color${tt(r)}`,`size${tt(n)}`]},c=Ri(o,YJe,t);return{...t,...c}},XJe=ct(xde,{shouldForwardProp:e=>Ig(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.indeterminate&&t.indeterminate,t[`size${tt(i.size)}`],i.color!=="default"&&t[`color${tt(i.color)}`]]}})(pi(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{[`&.${Rk.checked}, &.${Rk.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${Rk.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),QJe=P.jsx(JJe,{}),eKe=P.jsx(HJe,{}),tKe=P.jsx(KJe,{}),Ns=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiCheckbox"}),{checkedIcon:n=QJe,color:o="primary",icon:c=eKe,indeterminate:f=!1,indeterminateIcon:g=tKe,inputProps:v,size:_="medium",disableRipple:M=!1,className:T,...E}=r,j=f?g:c,R=f?g:n,N={...r,disableRipple:M,color:o,indeterminate:f,size:_},F=ZJe(N);return P.jsx(XJe,{type:"checkbox",inputProps:{"data-indeterminate":f,...v},icon:K.cloneElement(j,{fontSize:j.props.fontSize??_}),checkedIcon:K.cloneElement(R,{fontSize:R.props.fontSize??_}),ownerState:N,ref:i,className:Et(F.root,T),...E,classes:F})});function iKe(e){return Ii("MuiCircularProgress",e)}Ei("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Yh=44,QP=Rp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,eO=Rp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,rKe=typeof QP!="string"?kg`
        animation: ${QP} 1.4s linear infinite;
      `:null,nKe=typeof eO!="string"?kg`
        animation: ${eO} 1.4s ease-in-out infinite;
      `:null,sKe=e=>{const{classes:t,variant:i,color:r,disableShrink:n}=e,o={root:["root",i,`color${tt(r)}`],svg:["svg"],circle:["circle",`circle${tt(i)}`,n&&"circleDisableShrink"]};return Ri(o,iKe,t)},oKe=ct("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],t[`color${tt(i.color)}`]]}})(pi(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rKe||{animation:`${QP} 1.4s linear infinite`}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),aKe=ct("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),lKe=ct("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.circle,t[`circle${tt(i.variant)}`],i.disableShrink&&t.circleDisableShrink]}})(pi(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:nKe||{animation:`${eO} 1.4s ease-in-out infinite`}}]}))),uKe=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiCircularProgress"}),{className:n,color:o="primary",disableShrink:c=!1,size:f=40,style:g,thickness:v=3.6,value:_=0,variant:M="indeterminate",...T}=r,E={...r,color:o,disableShrink:c,size:f,thickness:v,value:_,variant:M},j=sKe(E),R={},N={},F={};if(M==="determinate"){const V=2*Math.PI*((Yh-v)/2);R.strokeDasharray=V.toFixed(3),F["aria-valuenow"]=Math.round(_),R.strokeDashoffset=`${((100-_)/100*V).toFixed(3)}px`,N.transform="rotate(-90deg)"}return P.jsx(oKe,{className:Et(j.root,n),style:{width:f,height:f,...N,...g},ownerState:E,ref:i,role:"progressbar",...F,...T,children:P.jsx(aKe,{className:j.svg,ownerState:E,viewBox:`${Yh/2} ${Yh/2} ${Yh} ${Yh}`,children:P.jsx(lKe,{className:j.circle,style:R,ownerState:E,cx:Yh,cy:Yh,r:(Yh-v)/2,fill:"none",strokeWidth:v})})})});function cKe(e){return Ii("MuiFormControlLabel",e)}const m2=Ei("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),hKe=e=>{const{classes:t,disabled:i,labelPlacement:r,error:n,required:o}=e,c={root:["root",i&&"disabled",`labelPlacement${tt(r)}`,n&&"error",o&&"required"],label:["label",i&&"disabled"],asterisk:["asterisk",n&&"error"]};return Ri(c,cKe,t)},dKe=ct("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${m2.label}`]:t.label},t.root,t[`labelPlacement${tt(i.labelPlacement)}`]]}})(pi(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${m2.disabled}`]:{cursor:"default"},[`& .${m2.label}`]:{[`&.${m2.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),pKe=ct("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(pi(({theme:e})=>({[`&.${m2.error}`]:{color:(e.vars||e).palette.error.main}}))),Fs=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiFormControlLabel"}),{checked:n,className:o,componentsProps:c={},control:f,disabled:g,disableTypography:v,inputRef:_,label:M,labelPlacement:T="end",name:E,onChange:j,required:R,slots:N={},slotProps:F={},value:V,...z}=r,G=ZF(),H=g??f.props.disabled??(G==null?void 0:G.disabled),Z=R??f.props.required,Y={disabled:H,required:Z};["checked","name","onChange","value","inputRef"].forEach(pe=>{typeof f.props[pe]>"u"&&typeof r[pe]<"u"&&(Y[pe]=r[pe])});const re=bde({props:r,muiFormControl:G,states:["error"]}),q={...r,disabled:H,labelPlacement:T,required:Z,error:re.error},W=hKe(q),ee={slots:N,slotProps:{...c,...F}},[le,ue]=B0("typography",{elementType:ut,externalForwardedProps:ee,ownerState:q});let ae=M;return ae!=null&&ae.type!==ut&&!v&&(ae=P.jsx(le,{component:"span",...ue,className:Et(W.label,ue==null?void 0:ue.className),children:ae})),P.jsxs(dKe,{className:Et(W.root,o),ownerState:q,ref:i,...z,children:[K.cloneElement(f,Y),Z?P.jsxs("div",{children:[ae,P.jsxs(pKe,{ownerState:q,"aria-hidden":!0,className:W.asterisk,children:["","*"]})]}):ae]})});function fKe(e){return Ii("MuiFormGroup",e)}Ei("MuiFormGroup",["root","row","error"]);const yKe=e=>{const{classes:t,row:i,error:r}=e;return Ri({root:["root",i&&"row",r&&"error"]},fKe,t)},mKe=ct("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Ds=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiFormGroup"}),{className:n,row:o=!1,...c}=r,f=ZF(),g=bde({props:r,muiFormControl:f,states:["error"]}),v={...r,row:o,error:g.error},_=yKe(v);return P.jsx(mKe,{className:Et(_.root,n),ownerState:v,ref:i,...c})}),pt=p2e({createStyledComponent:ct("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Fee({props:e,name:"MuiStack"})});function gKe(e){return Ii("MuiSwitch",e)}const Hs=Ei("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),vKe=e=>{const{classes:t,edge:i,size:r,color:n,checked:o,disabled:c}=e,f={root:["root",i&&`edge${tt(i)}`,`size${tt(r)}`],switchBase:["switchBase",`color${tt(n)}`,o&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},g=Ri(f,gKe,t);return{...t,...g}},bKe=ct("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.edge&&t[`edge${tt(i.edge)}`],t[`size${tt(i.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Hs.thumb}`]:{width:16,height:16},[`& .${Hs.switchBase}`]:{padding:4,[`&.${Hs.checked}`]:{transform:"translateX(16px)"}}}}]}),wKe=ct(xde,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.switchBase,{[`& .${Hs.input}`]:t.input},i.color!=="default"&&t[`color${tt(i.color)}`]]}})(pi(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Hs.checked}`]:{transform:"translateX(20px)"},[`&.${Hs.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Hs.checked} + .${Hs.track}`]:{opacity:.5},[`&.${Hs.disabled} + .${Hs.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Hs.input}`]:{left:"-100%",width:"300%"}})),pi(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Hs.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yi(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hs.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?N3(e.palette[t].main,.62):L3(e.palette[t].main,.55)}`}},[`&.${Hs.checked} + .${Hs.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),xKe=ct("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(pi(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),_Ke=ct("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(pi(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),SKe=K.forwardRef(function(t,i){const r=Ui({props:t,name:"MuiSwitch"}),{className:n,color:o="primary",edge:c=!1,size:f="medium",sx:g,...v}=r,_={...r,color:o,edge:c,size:f},M=vKe(_),T=P.jsx(_Ke,{className:M.thumb,ownerState:_});return P.jsxs(bKe,{className:Et(M.root,n),sx:g,ownerState:_,children:[P.jsx(wKe,{type:"checkbox",icon:T,checkedIcon:T,ref:i,ownerState:_,...v,classes:{...M,root:M.switchBase}}),P.jsx(xKe,{className:M.track,ownerState:_})]})});var XF=_x(),Qt=e=>xx(e,XF),QF=_x();Qt.write=e=>xx(e,QF);var e8=_x();Qt.onStart=e=>xx(e,e8);var eD=_x();Qt.onFrame=e=>xx(e,eD);var tD=_x();Qt.onFinish=e=>xx(e,tD);var Bm=[];Qt.setTimeout=(e,t)=>{const i=Qt.now()+t,r=()=>{const o=Bm.findIndex(c=>c.cancel==r);~o&&Bm.splice(o,1),ep-=~o?1:0},n={time:i,handler:e,cancel:r};return Bm.splice(_de(i),0,n),ep+=1,Sde(),n};var _de=e=>~(~Bm.findIndex(t=>t.time>e)||~Bm.length);Qt.cancel=e=>{e8.delete(e),eD.delete(e),tD.delete(e),XF.delete(e),QF.delete(e)};Qt.sync=e=>{tO=!0,Qt.batchedUpdates(e),tO=!1};Qt.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function r(...n){t=n,Qt.onStart(i)}return r.handler=e,r.cancel=()=>{e8.delete(i),t=null},r};var iD=typeof window<"u"?window.requestAnimationFrame:()=>{};Qt.use=e=>iD=e;Qt.now=typeof performance<"u"?()=>performance.now():Date.now;Qt.batchedUpdates=e=>e();Qt.catch=console.error;Qt.frameLoop="always";Qt.advance=()=>{Qt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Mde()};var Qd=-1,ep=0,tO=!1;function xx(e,t){tO?(t.delete(e),e(0)):(t.add(e),Sde())}function Sde(){Qd<0&&(Qd=0,Qt.frameLoop!=="demand"&&iD($de))}function $Ke(){Qd=-1}function $de(){~Qd&&(iD($de),Qt.batchedUpdates(Mde))}function Mde(){const e=Qd;Qd=Qt.now();const t=_de(Qd);if(t&&(Tde(Bm.splice(0,t),i=>i.handler()),ep-=t),!ep){$Ke();return}e8.flush(),XF.flush(e?Math.min(64,Qd-e):16.667),eD.flush(),QF.flush(),tD.flush()}function _x(){let e=new Set,t=e;return{add(i){ep+=t==e&&!e.has(i)?1:0,e.add(i)},delete(i){return ep-=t==e&&e.has(i)?1:0,e.delete(i)},flush(i){t.size&&(e=new Set,ep-=t.size,Tde(t,r=>r(i)&&e.add(r)),ep+=e.size,t=e)}}}function Tde(e,t){e.forEach(i=>{try{t(i)}catch(r){Qt.catch(r)}})}var MKe=Object.defineProperty,TKe=(e,t)=>{for(var i in t)MKe(e,i,{get:t[i],enumerable:!0})},iu={};TKe(iu,{assign:()=>CKe,colors:()=>yp,createStringInterpolator:()=>nD,skipAnimation:()=>Cde,to:()=>kde,willAdvance:()=>sD});function iO(){}var kKe=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),Ye={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function th(e,t){if(Ye.arr(e)){if(!Ye.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}var Wt=(e,t)=>e.forEach(t);function sc(e,t,i){if(Ye.arr(e)){for(let r=0;r<e.length;r++)t.call(i,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r)}var Zs=e=>Ye.und(e)?[]:Ye.arr(e)?e:[e];function nw(e,t){if(e.size){const i=Array.from(e);e.clear(),Wt(i,t)}}var g2=(e,...t)=>nw(e,i=>i(...t)),rD=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nD,kde,yp=null,Cde=!1,sD=iO,CKe=e=>{e.to&&(kde=e.to),e.now&&(Qt.now=e.now),e.colors!==void 0&&(yp=e.colors),e.skipAnimation!=null&&(Cde=e.skipAnimation),e.createStringInterpolator&&(nD=e.createStringInterpolator),e.requestAnimationFrame&&Qt.use(e.requestAnimationFrame),e.batchedUpdates&&(Qt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(sD=e.willAdvance),e.frameLoop&&(Qt.frameLoop=e.frameLoop)},sw=new Set,Ba=[],Lk=[],f6=0,t8={get idle(){return!sw.size&&!Ba.length},start(e){f6>e.priority?(sw.add(e),Qt.onStart(IKe)):(Ide(e),Qt(rO))},advance:rO,sort(e){if(f6)Qt.onFrame(()=>t8.sort(e));else{const t=Ba.indexOf(e);~t&&(Ba.splice(t,1),Ede(e))}},clear(){Ba=[],sw.clear()}};function IKe(){sw.forEach(Ide),sw.clear(),Qt(rO)}function Ide(e){Ba.includes(e)||Ede(e)}function Ede(e){Ba.splice(EKe(Ba,t=>t.priority>e.priority),0,e)}function rO(e){const t=Lk;for(let i=0;i<Ba.length;i++){const r=Ba[i];f6=r.priority,r.idle||(sD(r),r.advance(e),r.idle||t.push(r))}return f6=0,Lk=Ba,Lk.length=0,Ba=t,Ba.length>0}function EKe(e,t){const i=e.findIndex(t);return i<0?e.length:i}var AKe=(e,t,i)=>Math.min(Math.max(i,e),t),jKe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Wl="[-+]?\\d*\\.?\\d+",y6=Wl+"%";function i8(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var PKe=new RegExp("rgb"+i8(Wl,Wl,Wl)),OKe=new RegExp("rgba"+i8(Wl,Wl,Wl,Wl)),RKe=new RegExp("hsl"+i8(Wl,y6,y6)),LKe=new RegExp("hsla"+i8(Wl,y6,y6,Wl)),NKe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,FKe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,DKe=/^#([0-9a-fA-F]{6})$/,zKe=/^#([0-9a-fA-F]{8})$/;function VKe(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=DKe.exec(e))?parseInt(t[1]+"ff",16)>>>0:yp&&yp[e]!==void 0?yp[e]:(t=PKe.exec(e))?(ey(t[1])<<24|ey(t[2])<<16|ey(t[3])<<8|255)>>>0:(t=OKe.exec(e))?(ey(t[1])<<24|ey(t[2])<<16|ey(t[3])<<8|WJ(t[4]))>>>0:(t=NKe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=zKe.exec(e))?parseInt(t[1],16)>>>0:(t=FKe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=RKe.exec(e))?(GJ(qJ(t[1]),v5(t[2]),v5(t[3]))|255)>>>0:(t=LKe.exec(e))?(GJ(qJ(t[1]),v5(t[2]),v5(t[3]))|WJ(t[4]))>>>0:null}function Nk(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function GJ(e,t,i){const r=i<.5?i*(1+t):i+t-i*t,n=2*i-r,o=Nk(n,r,e+1/3),c=Nk(n,r,e),f=Nk(n,r,e-1/3);return Math.round(o*255)<<24|Math.round(c*255)<<16|Math.round(f*255)<<8}function ey(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function qJ(e){return(parseFloat(e)%360+360)%360/360}function WJ(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function v5(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function HJ(e){let t=VKe(e);if(t===null)return e;t=t||0;const i=(t&4278190080)>>>24,r=(t&16711680)>>>16,n=(t&65280)>>>8,o=(t&255)/255;return`rgba(${i}, ${r}, ${n}, ${o})`}var a3=(e,t,i)=>{if(Ye.fun(e))return e;if(Ye.arr(e))return a3({range:e,output:t,extrapolate:i});if(Ye.str(e.output[0]))return nD(e);const r=e,n=r.output,o=r.range||[0,1],c=r.extrapolateLeft||r.extrapolate||"extend",f=r.extrapolateRight||r.extrapolate||"extend",g=r.easing||(v=>v);return v=>{const _=UKe(v,o);return BKe(v,o[_],o[_+1],n[_],n[_+1],g,c,f,r.map)}};function BKe(e,t,i,r,n,o,c,f,g){let v=g?g(e):e;if(v<t){if(c==="identity")return v;c==="clamp"&&(v=t)}if(v>i){if(f==="identity")return v;f==="clamp"&&(v=i)}return r===n?r:t===i?e<=t?r:n:(t===-1/0?v=-v:i===1/0?v=v-t:v=(v-t)/(i-t),v=o(v),r===-1/0?v=-v:n===1/0?v=v+r:v=v*(n-r)+r,v)}function UKe(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}var GKe=(e,t="end")=>i=>{i=t==="end"?Math.min(i,.999):Math.max(i,.001);const r=i*e,n=t==="end"?Math.floor(r):Math.ceil(r);return AKe(0,1,n/e)},m6=1.70158,b5=m6*1.525,JJ=m6+1,KJ=2*Math.PI/3,YJ=2*Math.PI/4.5,w5=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,qKe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>JJ*e*e*e-m6*e*e,easeOutBack:e=>1+JJ*Math.pow(e-1,3)+m6*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((b5+1)*2*e-b5)/2:(Math.pow(2*e-2,2)*((b5+1)*(e*2-2)+b5)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*KJ),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*KJ)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*YJ))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*YJ)/2+1,easeInBounce:e=>1-w5(1-e),easeOutBounce:w5,easeInOutBounce:e=>e<.5?(1-w5(1-2*e))/2:(1+w5(2*e-1))/2,steps:GKe},l3=Symbol.for("FluidValue.get"),vg=Symbol.for("FluidValue.observers"),Fa=e=>!!(e&&e[l3]),go=e=>e&&e[l3]?e[l3]():e,ZJ=e=>e[vg]||null;function WKe(e,t){e.eventObserved?e.eventObserved(t):e(t)}function u3(e,t){const i=e[vg];i&&i.forEach(r=>{WKe(r,t)})}var Ade=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");HKe(this,e)}},HKe=(e,t)=>jde(e,l3,t);function Yg(e,t){if(e[l3]){let i=e[vg];i||jde(e,vg,i=new Set),i.has(t)||(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function c3(e,t){const i=e[vg];if(i&&i.has(t)){const r=i.size-1;r?i.delete(t):e[vg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var jde=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),m9=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,JKe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,XJ=new RegExp(`(${m9.source})(%|[a-z]+)`,"i"),KKe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,r8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Pde=e=>{const[t,i]=YKe(e);if(!t||rD())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(i&&i.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(i);return n||e}else{if(i&&r8.test(i))return Pde(i);if(i)return i}return e},YKe=e=>{const t=r8.exec(e);if(!t)return[,];const[,i,r]=t;return[i,r]},Fk,ZKe=(e,t,i,r,n)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(r)}, ${n})`,Ode=e=>{Fk||(Fk=yp?new RegExp(`(${Object.keys(yp).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>go(o).replace(r8,Pde).replace(JKe,HJ).replace(Fk,HJ)),i=t.map(o=>o.match(m9).map(Number)),n=i[0].map((o,c)=>i.map(f=>{if(!(c in f))throw Error('The arity of each "output" value must be equal');return f[c]})).map(o=>a3({...e,output:o}));return o=>{var g;const c=!XJ.test(t[0])&&((g=t.find(v=>XJ.test(v)))==null?void 0:g.replace(m9,""));let f=0;return t[0].replace(m9,()=>`${n[f++](o)}${c||""}`).replace(KKe,ZKe)}},oD="react-spring: ",Rde=e=>{const t=e;let i=!1;if(typeof t!="function")throw new TypeError(`${oD}once requires a function parameter`);return(...r)=>{i||(t(...r),i=!0)}},XKe=Rde(console.warn);function QKe(){XKe(`${oD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var eYe=Rde(console.warn);function tYe(){eYe(`${oD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function n8(e){return Ye.str(e)&&(e[0]=="#"||/\d/.test(e)||!rD()&&r8.test(e)||e in(yp||{}))}var y0=rD()?K.useEffect:K.useLayoutEffect,iYe=()=>{const e=K.useRef(!1);return y0(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function aD(){const e=K.useState()[1],t=iYe();return()=>{t.current&&e(Math.random())}}function rYe(e,t){const[i]=K.useState(()=>({inputs:t,result:e()})),r=K.useRef(),n=r.current;let o=n;return o?t&&o.inputs&&nYe(t,o.inputs)||(o={inputs:t,result:e()}):o=i,K.useEffect(()=>{r.current=o,n==i&&(i.inputs=i.result=void 0)},[o]),o.result}function nYe(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var lD=e=>K.useEffect(e,sYe),sYe=[];function nO(e){const t=K.useRef();return K.useEffect(()=>{t.current=e}),t.current}var h3=Symbol.for("Animated:node"),oYe=e=>!!e&&e[h3]===e,Lu=e=>e&&e[h3],uD=(e,t)=>kKe(e,h3,t),s8=e=>e&&e[h3]&&e[h3].getPayload(),Lde=class{constructor(){uD(this,this)}getPayload(){return this.payload||[]}},Sx=class extends Lde{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Ye.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Sx(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Ye.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ye.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},d3=class extends Sx{constructor(e){super(0),this._string=null,this._toString=a3({output:[e,e]})}static create(e){return new d3(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Ye.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=a3({output:[this.getValue(),e]})),this._value=0,super.reset()}},g6={dependencies:null},o8=class extends Lde{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return sc(this.source,(i,r)=>{oYe(i)?t[r]=i.getValue(e):Fa(i)?t[r]=go(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Wt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return sc(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){g6.dependencies&&Fa(e)&&g6.dependencies.add(e);const t=s8(e);t&&Wt(t,i=>this.add(i))}},Nde=class extends o8{constructor(e){super(e)}static create(e){return new Nde(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(aYe)),!0)}};function aYe(e){return(n8(e)?d3:Sx).create(e)}function sO(e){const t=Lu(e);return t?t.constructor:Ye.arr(e)?Nde:n8(e)?d3:Sx}var QJ=(e,t)=>{const i=!Ye.fun(e)||e.prototype&&e.prototype.isReactComponent;return K.forwardRef((r,n)=>{const o=K.useRef(null),c=i&&K.useCallback(j=>{o.current=cYe(n,j)},[n]),[f,g]=uYe(r,t),v=aD(),_=()=>{const j=o.current;if(i&&!j)return;(j?t.applyAnimatedValues(j,f.getValue(!0)):!1)===!1&&v()},M=new lYe(_,g),T=K.useRef();y0(()=>(T.current=M,Wt(g,j=>Yg(j,M)),()=>{T.current&&(Wt(T.current.deps,j=>c3(j,T.current)),Qt.cancel(T.current.update))})),K.useEffect(_,[]),lD(()=>()=>{const j=T.current;Wt(j.deps,R=>c3(R,j))});const E=t.getComponentProps(f.getValue());return K.createElement(e,{...E,ref:c})})},lYe=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Qt.write(this.update)}};function uYe(e,t){const i=new Set;return g6.dependencies=i,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new o8(e),g6.dependencies=null,[e,i]}function cYe(e,t){return e&&(Ye.fun(e)?e(t):e.current=t),t}var eK=Symbol.for("AnimatedComponent"),hYe=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=n=>new o8(n),getComponentProps:r=n=>n}={})=>{const n={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:r},o=c=>{const f=tK(c)||"Anonymous";return Ye.str(c)?c=o[c]||(o[c]=QJ(c,n)):c=c[eK]||(c[eK]=QJ(c,n)),c.displayName=`Animated(${f})`,c};return sc(e,(c,f)=>{Ye.arr(e)&&(f=tK(c)),o[f]=o(c)}),{animated:o}},tK=e=>Ye.str(e)?e:e&&Ye.str(e.displayName)?e.displayName:Ye.fun(e)&&e.name||null;function vo(e,...t){return Ye.fun(e)?e(...t):e}var ow=(e,t)=>e===!0||!!(t&&e&&(Ye.fun(e)?e(t):Zs(e).includes(t))),Fde=(e,t)=>Ye.obj(e)?t&&e[t]:e,Dde=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,dYe=e=>e,a8=(e,t=dYe)=>{let i=pYe;e.default&&e.default!==!0&&(e=e.default,i=Object.keys(e));const r={};for(const n of i){const o=t(e[n],n);Ye.und(o)||(r[n]=o)}return r},pYe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],fYe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function yYe(e){const t={};let i=0;if(sc(e,(r,n)=>{fYe[n]||(t[n]=r,i++)}),i)return t}function cD(e){const t=yYe(e);if(t){const i={to:t};return sc(e,(r,n)=>n in t||(i[n]=r)),i}return{...e}}function p3(e){return e=go(e),Ye.arr(e)?e.map(p3):n8(e)?iu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function zde(e){for(const t in e)return!0;return!1}function oO(e){return Ye.fun(e)||Ye.arr(e)&&Ye.obj(e[0])}function aO(e,t){var i;(i=e.ref)==null||i.delete(e),t==null||t.delete(e)}function Vde(e,t){var i;t&&e.ref!==t&&((i=e.ref)==null||i.delete(e),t.add(e),e.ref=t)}var hD={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},lO={...hD.default,mass:1,damping:1,easing:qKe.linear,clamp:!1},mYe=class{constructor(){this.velocity=0,Object.assign(this,lO)}};function gYe(e,t,i){i&&(i={...i},iK(i,t),t={...i,...t}),iK(e,t),Object.assign(e,t);for(const c in lO)e[c]==null&&(e[c]=lO[c]);let{frequency:r,damping:n}=e;const{mass:o}=e;return Ye.und(r)||(r<.01&&(r=.01),n<0&&(n=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*n*o/r),e}function iK(e,t){if(!Ye.und(t.decay))e.duration=void 0;else{const i=!Ye.und(t.tension)||!Ye.und(t.friction);(i||!Ye.und(t.frequency)||!Ye.und(t.damping)||!Ye.und(t.mass))&&(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}}var rK=[],vYe=class{constructor(){this.changed=!1,this.values=rK,this.toValues=null,this.fromValues=rK,this.config=new mYe,this.immediate=!1}};function Bde(e,{key:t,props:i,defaultProps:r,state:n,actions:o}){return new Promise((c,f)=>{let g,v,_=ow(i.cancel??(r==null?void 0:r.cancel),t);if(_)E();else{Ye.und(i.pause)||(n.paused=ow(i.pause,t));let j=r==null?void 0:r.pause;j!==!0&&(j=n.paused||ow(j,t)),g=vo(i.delay||0,t),j?(n.resumeQueue.add(T),o.pause()):(o.resume(),T())}function M(){n.resumeQueue.add(T),n.timeouts.delete(v),v.cancel(),g=v.time-Qt.now()}function T(){g>0&&!iu.skipAnimation?(n.delayed=!0,v=Qt.setTimeout(E,g),n.pauseQueue.add(M),n.timeouts.add(v)):E()}function E(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(M),n.timeouts.delete(v),e<=(n.cancelId||0)&&(_=!0);try{o.start({...i,callId:e,cancel:_},c)}catch(j){f(j)}}})}var dD=(e,t)=>t.length==1?t[0]:t.some(i=>i.cancelled)?Um(e.get()):t.every(i=>i.noop)?Ude(e.get()):Ul(e.get(),t.every(i=>i.finished)),Ude=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Ul=(e,t,i=!1)=>({value:e,finished:t,cancelled:i}),Um=e=>({value:e,cancelled:!0,finished:!1});function Gde(e,t,i,r){const{callId:n,parentId:o,onRest:c}=t,{asyncTo:f,promise:g}=i;return!o&&e===f&&!t.reset?g:i.promise=(async()=>{i.asyncId=n,i.asyncTo=e;const v=a8(t,(N,F)=>F==="onRest"?void 0:N);let _,M;const T=new Promise((N,F)=>(_=N,M=F)),E=N=>{const F=n<=(i.cancelId||0)&&Um(r)||n!==i.asyncId&&Ul(r,!1);if(F)throw N.result=F,M(N),N},j=(N,F)=>{const V=new nK,z=new sK;return(async()=>{if(iu.skipAnimation)throw f3(i),z.result=Ul(r,!1),M(z),z;E(V);const G=Ye.obj(N)?{...N}:{...F,to:N};G.parentId=n,sc(v,(Z,Y)=>{Ye.und(G[Y])&&(G[Y]=Z)});const H=await r.start(G);return E(V),i.paused&&await new Promise(Z=>{i.resumeQueue.add(Z)}),H})()};let R;if(iu.skipAnimation)return f3(i),Ul(r,!1);try{let N;Ye.arr(e)?N=(async F=>{for(const V of F)await j(V)})(e):N=Promise.resolve(e(j,r.stop.bind(r))),await Promise.all([N.then(_),T]),R=Ul(r.get(),!0,!1)}catch(N){if(N instanceof nK)R=N.result;else if(N instanceof sK)R=N.result;else throw N}finally{n==i.asyncId&&(i.asyncId=o,i.asyncTo=o?f:void 0,i.promise=o?g:void 0)}return Ye.fun(c)&&Qt.batchedUpdates(()=>{c(R,r,r.item)}),R})()}function f3(e,t){nw(e.timeouts,i=>i.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var nK=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},sK=class extends Error{constructor(){super("SkipAnimationSignal")}},uO=e=>e instanceof pD,bYe=1,pD=class extends Ade{constructor(){super(...arguments),this.id=bYe++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Lu(this);return e&&e.getValue()}to(...e){return iu.to(this,e)}interpolate(...e){return QKe(),iu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){u3(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||t8.sort(this),u3(this,{type:"priority",parent:this,priority:e})}},s1=Symbol.for("SpringPhase"),qde=1,cO=2,hO=4,Dk=e=>(e[s1]&qde)>0,Zh=e=>(e[s1]&cO)>0,Zv=e=>(e[s1]&hO)>0,oK=(e,t)=>t?e[s1]|=cO|qde:e[s1]&=~cO,aK=(e,t)=>t?e[s1]|=hO:e[s1]&=~hO,wYe=class extends pD{constructor(e,t){if(super(),this.animation=new vYe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ye.und(e)||!Ye.und(t)){const i=Ye.obj(e)?{...e}:{...t,from:e};Ye.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Zh(this)||this._state.asyncTo)||Zv(this)}get goal(){return go(this.animation.to)}get velocity(){const e=Lu(this);return e instanceof Sx?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Dk(this)}get isAnimating(){return Zh(this)}get isPaused(){return Zv(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const r=this.animation;let{toValues:n}=r;const{config:o}=r,c=s8(r.to);!c&&Fa(r.to)&&(n=Zs(go(r.to))),r.values.forEach((v,_)=>{if(v.done)return;const M=v.constructor==d3?1:c?c[_].lastPosition:n[_];let T=r.immediate,E=M;if(!T){if(E=v.lastPosition,o.tension<=0){v.done=!0;return}let j=v.elapsedTime+=e;const R=r.fromValues[_],N=v.v0!=null?v.v0:v.v0=Ye.arr(o.velocity)?o.velocity[_]:o.velocity;let F;const V=o.precision||(R==M?.005:Math.min(1,Math.abs(M-R)*.001));if(Ye.und(o.duration))if(o.decay){const z=o.decay===!0?.998:o.decay,G=Math.exp(-(1-z)*j);E=R+N/(1-z)*(1-G),T=Math.abs(v.lastPosition-E)<=V,F=N*G}else{F=v.lastVelocity==null?N:v.lastVelocity;const z=o.restVelocity||V/10,G=o.clamp?0:o.bounce,H=!Ye.und(G),Z=R==M?v.v0>0:R<M;let Y,re=!1;const q=1,W=Math.ceil(e/q);for(let ee=0;ee<W&&(Y=Math.abs(F)>z,!(!Y&&(T=Math.abs(M-E)<=V,T)));++ee){H&&(re=E==M||E>M==Z,re&&(F=-F*G,E=M));const le=-o.tension*1e-6*(E-M),ue=-o.friction*.001*F,ae=(le+ue)/o.mass;F=F+ae*q,E=E+F*q}}else{let z=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,v.durationProgress>0&&(v.elapsedTime=o.duration*v.durationProgress,j=v.elapsedTime+=e)),z=(o.progress||0)+j/this._memoizedDuration,z=z>1?1:z<0?0:z,v.durationProgress=z),E=R+o.easing(z)*(M-R),F=(E-v.lastPosition)/e,T=z==1}v.lastVelocity=F,Number.isNaN(E)&&(console.warn("Got NaN while animating:",this),T=!0)}c&&!c[_].done&&(T=!1),T?v.done=!0:t=!1,v.setValue(E,o.round)&&(i=!0)});const f=Lu(this),g=f.getValue();if(t){const v=go(r.to);(g!==v||i)&&!o.decay?(f.setValue(v),this._onChange(v)):i&&o.decay&&this._onChange(g),this._stop()}else i&&this._onChange(g)}set(e){return Qt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Zh(this)){const{to:e,config:t}=this.animation;Qt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return Ye.und(e)?(i=this.queue||[],this.queue=[]):i=[Ye.obj(e)?e:{...t,to:e}],Promise.all(i.map(r=>this._update(r))).then(r=>dD(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),f3(this._state,e&&this._lastCallId),Qt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:r}=e;i=Ye.obj(i)?i[t]:i,(i==null||oO(i))&&(i=void 0),r=Ye.obj(r)?r[t]:r,r==null&&(r=void 0);const n={to:i,from:r};return Dk(this)||(e.reverse&&([i,r]=[r,i]),r=go(r),Ye.und(r)?Lu(this)||this._set(i):this._set(r)),n}_update({...e},t){const{key:i,defaultProps:r}=this;e.default&&Object.assign(r,a8(e,(c,f)=>/^on/.test(f)?Fde(c,i):c)),uK(this,e,"onProps"),Qv(this,"onProps",e,this);const n=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Bde(++this._lastCallId,{key:i,props:e,defaultProps:r,state:o,actions:{pause:()=>{Zv(this)||(aK(this,!0),g2(o.pauseQueue),Qv(this,"onPause",Ul(this,Xv(this,this.animation.to)),this))},resume:()=>{Zv(this)&&(aK(this,!1),Zh(this)&&this._resume(),g2(o.resumeQueue),Qv(this,"onResume",Ul(this,Xv(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(c=>{if(e.loop&&c.finished&&!(t&&c.noop)){const f=Wde(e);if(f)return this._update(f,!0)}return c})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(Um(this));const r=!Ye.und(e.to),n=!Ye.und(e.from);if(r||n)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(Um(this));const{key:o,defaultProps:c,animation:f}=this,{to:g,from:v}=f;let{to:_=g,from:M=v}=e;n&&!r&&(!t.default||Ye.und(_))&&(_=M),t.reverse&&([_,M]=[M,_]);const T=!th(M,v);T&&(f.from=M),M=go(M);const E=!th(_,g);E&&this._focus(_);const j=oO(t.to),{config:R}=f,{decay:N,velocity:F}=R;(r||n)&&(R.velocity=0),t.config&&!j&&gYe(R,vo(t.config,o),t.config!==c.config?vo(c.config,o):void 0);let V=Lu(this);if(!V||Ye.und(_))return i(Ul(this,!0));const z=Ye.und(t.reset)?n&&!t.default:!Ye.und(M)&&ow(t.reset,o),G=z?M:this.get(),H=p3(_),Z=Ye.num(H)||Ye.arr(H)||n8(H),Y=!j&&(!Z||ow(c.immediate||t.immediate,o));if(E){const ee=sO(_);if(ee!==V.constructor)if(Y)V=this._set(H);else throw Error(`Cannot animate between ${V.constructor.name} and ${ee.name}, as the "to" prop suggests`)}const re=V.constructor;let q=Fa(_),W=!1;if(!q){const ee=z||!Dk(this)&&T;(E||ee)&&(W=th(p3(G),H),q=!W),(!th(f.immediate,Y)&&!Y||!th(R.decay,N)||!th(R.velocity,F))&&(q=!0)}if(W&&Zh(this)&&(f.changed&&!z?q=!0:q||this._stop(g)),!j&&((q||Fa(g))&&(f.values=V.getPayload(),f.toValues=Fa(_)?null:re==d3?[1]:Zs(H)),f.immediate!=Y&&(f.immediate=Y,!Y&&!z&&this._set(g)),q)){const{onRest:ee}=f;Wt(_Ye,ue=>uK(this,t,ue));const le=Ul(this,Xv(this,g));g2(this._pendingCalls,le),this._pendingCalls.add(i),f.changed&&Qt.batchedUpdates(()=>{var ue;f.changed=!z,ee==null||ee(le,this),z?vo(c.onRest,le):(ue=f.onStart)==null||ue.call(f,le,this)})}z&&this._set(G),j?i(Gde(t.to,t,this._state,this)):q?this._start():Zh(this)&&!E?this._pendingCalls.add(i):i(Ude(G))}_focus(e){const t=this.animation;e!==t.to&&(ZJ(this)&&this._detach(),t.to=e,ZJ(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Fa(t)&&(Yg(t,this),uO(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Fa(e)&&c3(e,this)}_set(e,t=!0){const i=go(e);if(!Ye.und(i)){const r=Lu(this);if(!r||!th(i,r.getValue())){const n=sO(i);!r||r.constructor!=n?uD(this,n.create(i)):r.setValue(i),r&&Qt.batchedUpdates(()=>{this._onChange(i,t)})}}return Lu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Qv(this,"onStart",Ul(this,Xv(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),vo(this.animation.onChange,e,this)),vo(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Lu(this).reset(go(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Zh(this)||(oK(this,!0),Zv(this)||this._resume())}_resume(){iu.skipAnimation?this.finish():t8.start(this)}_stop(e,t){if(Zh(this)){oK(this,!1);const i=this.animation;Wt(i.values,n=>{n.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),u3(this,{type:"idle",parent:this});const r=t?Um(this.get()):Ul(this.get(),Xv(this,e??i.to));g2(this._pendingCalls,r),i.changed&&(i.changed=!1,Qv(this,"onRest",r,this))}}};function Xv(e,t){const i=p3(t),r=p3(e.get());return th(r,i)}function Wde(e,t=e.loop,i=e.to){const r=vo(t);if(r){const n=r!==!0&&cD(r),o=(n||e).reverse,c=!n||n.reset;return y3({...e,loop:t,default:!1,pause:void 0,to:!o||oO(i)?i:void 0,from:c?e.from:void 0,reset:c,...n})}}function y3(e){const{to:t,from:i}=e=cD(e),r=new Set;return Ye.obj(t)&&lK(t,r),Ye.obj(i)&&lK(i,r),e.keys=r.size?Array.from(r):null,e}function xYe(e){const t=y3(e);return Ye.und(t.default)&&(t.default=a8(t)),t}function lK(e,t){sc(e,(i,r)=>i!=null&&t.add(r))}var _Ye=["onStart","onRest","onChange","onPause","onResume"];function uK(e,t,i){e.animation[i]=t[i]!==Dde(t,i)?Fde(t[i],e.key):void 0}function Qv(e,t,...i){var r,n,o,c;(n=(r=e.animation)[t])==null||n.call(r,...i),(c=(o=e.defaultProps)[t])==null||c.call(o,...i)}var SYe=["onStart","onChange","onRest"],$Ye=1,Hde=class{constructor(e,t){this.id=$Ye++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(const t in e){const i=e[t];Ye.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(y3(e)),this}start(e){let{queue:t}=this;return e?t=Zs(e).map(y3):this.queue=[],this._flush?this._flush(this,t):(Xde(this,t),dO(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const i=this.springs;Wt(Zs(t),r=>i[r].stop(!!e))}else f3(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(Ye.und(e))this.start({pause:!0});else{const t=this.springs;Wt(Zs(e),i=>t[i].pause())}return this}resume(e){if(Ye.und(e))this.start({pause:!1});else{const t=this.springs;Wt(Zs(e),i=>t[i].resume())}return this}each(e){sc(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:i}=this._events,r=this._active.size>0,n=this._changed.size>0;(r&&!this._started||n&&!this._started)&&(this._started=!0,nw(e,([f,g])=>{g.value=this.get(),f(g,this,this._item)}));const o=!r&&this._started,c=n||o&&i.size?this.get():null;n&&t.size&&nw(t,([f,g])=>{g.value=c,f(g,this,this._item)}),o&&(this._started=!1,nw(i,([f,g])=>{g.value=c,f(g,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Qt.onFrame(this._onFrame)}};function dO(e,t){return Promise.all(t.map(i=>Jde(e,i))).then(i=>dD(e,i))}async function Jde(e,t,i){const{keys:r,to:n,from:o,loop:c,onRest:f,onResolve:g}=t,v=Ye.obj(t.default)&&t.default;c&&(t.loop=!1),n===!1&&(t.to=null),o===!1&&(t.from=null);const _=Ye.arr(n)||Ye.fun(n)?n:void 0;_?(t.to=void 0,t.onRest=void 0,v&&(v.onRest=void 0)):Wt(SYe,R=>{const N=t[R];if(Ye.fun(N)){const F=e._events[R];t[R]=({finished:V,cancelled:z})=>{const G=F.get(N);G?(V||(G.finished=!1),z&&(G.cancelled=!0)):F.set(N,{value:null,finished:V||!1,cancelled:z||!1})},v&&(v[R]=t[R])}});const M=e._state;t.pause===!M.paused?(M.paused=t.pause,g2(t.pause?M.pauseQueue:M.resumeQueue)):M.paused&&(t.pause=!0);const T=(r||Object.keys(e.springs)).map(R=>e.springs[R].start(t)),E=t.cancel===!0||Dde(t,"cancel")===!0;(_||E&&M.asyncId)&&T.push(Bde(++e._lastAsyncId,{props:t,state:M,actions:{pause:iO,resume:iO,start(R,N){E?(f3(M,e._lastAsyncId),N(Um(e))):(R.onRest=f,N(Gde(_,R,M,e)))}}})),M.paused&&await new Promise(R=>{M.resumeQueue.add(R)});const j=dD(e,await Promise.all(T));if(c&&j.finished&&!(i&&j.noop)){const R=Wde(t,c,n);if(R)return Xde(e,[R]),Jde(e,R,!0)}return g&&Qt.batchedUpdates(()=>g(j,e,e.item)),j}function pO(e,t){const i={...e.springs};return t&&Wt(Zs(t),r=>{Ye.und(r.keys)&&(r=y3(r)),Ye.obj(r.to)||(r={...r,to:void 0}),Zde(i,r,n=>Yde(n))}),Kde(e,i),i}function Kde(e,t){sc(t,(i,r)=>{e.springs[r]||(e.springs[r]=i,Yg(i,e))})}function Yde(e,t){const i=new wYe;return i.key=e,t&&Yg(i,t),i}function Zde(e,t,i){t.keys&&Wt(t.keys,r=>{(e[r]||(e[r]=i(r)))._prepareNode(t)})}function Xde(e,t){Wt(t,i=>{Zde(e.springs,i,r=>Yde(r,e))})}var $x=({children:e,...t})=>{const i=K.useContext(v6),r=t.pause||!!i.pause,n=t.immediate||!!i.immediate;t=rYe(()=>({pause:r,immediate:n}),[r,n]);const{Provider:o}=v6;return K.createElement(o,{value:t},e)},v6=MYe($x,{});$x.Provider=v6.Provider;$x.Consumer=v6.Consumer;function MYe(e,t){return Object.assign(e,K.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Qde=()=>{const e=[],t=function(r){tYe();const n=[];return Wt(e,(o,c)=>{if(Ye.und(r))n.push(o.start());else{const f=i(r,o,c);f&&n.push(o.start(f))}}),n};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const n=e.indexOf(r);~n&&e.splice(n,1)},t.pause=function(){return Wt(e,r=>r.pause(...arguments)),this},t.resume=function(){return Wt(e,r=>r.resume(...arguments)),this},t.set=function(r){Wt(e,(n,o)=>{const c=Ye.fun(r)?r(o,n):r;c&&n.set(c)})},t.start=function(r){const n=[];return Wt(e,(o,c)=>{if(Ye.und(r))n.push(o.start());else{const f=this._getProps(r,o,c);f&&n.push(o.start(f))}}),n},t.stop=function(){return Wt(e,r=>r.stop(...arguments)),this},t.update=function(r){return Wt(e,(n,o)=>n.update(this._getProps(r,n,o))),this};const i=function(r,n,o){return Ye.fun(r)?r(o,n):r};return t._getProps=i,t};function TYe(e,t,i){const r=Ye.fun(t)&&t;r&&!i&&(i=[]);const n=K.useMemo(()=>r||arguments.length==3?Qde():void 0,[]),o=K.useRef(0),c=aD(),f=K.useMemo(()=>({ctrls:[],queue:[],flush(F,V){const z=pO(F,V);return o.current>0&&!f.queue.length&&!Object.keys(z).some(H=>!F.springs[H])?dO(F,V):new Promise(H=>{Kde(F,z),f.queue.push(()=>{H(dO(F,V))}),c()})}}),[]),g=K.useRef([...f.ctrls]),v=[],_=nO(e)||0;K.useMemo(()=>{Wt(g.current.slice(e,_),F=>{aO(F,n),F.stop(!0)}),g.current.length=e,M(_,e)},[e]),K.useMemo(()=>{M(0,Math.min(_,e))},i);function M(F,V){for(let z=F;z<V;z++){const G=g.current[z]||(g.current[z]=new Hde(null,f.flush)),H=r?r(z,G):t[z];H&&(v[z]=xYe(H))}}const T=g.current.map((F,V)=>pO(F,v[V])),E=K.useContext($x),j=nO(E),R=E!==j&&zde(E);y0(()=>{o.current++,f.ctrls=g.current;const{queue:F}=f;F.length&&(f.queue=[],Wt(F,V=>V())),Wt(g.current,(V,z)=>{n==null||n.add(V),R&&V.start({default:E});const G=v[z];G&&(Vde(V,G.ref),V.ref?V.queue.push(G):V.start(G))})}),lD(()=>()=>{Wt(f.ctrls,F=>F.stop(!0))});const N=T.map(F=>({...F}));return n?[N,n]:N}function hc(e,t){const i=Ye.fun(e),[[r],n]=TYe(1,i?e:[e],i?[]:t);return i||arguments.length==2?[r,n]:r}function l8(e,t,i){const r=Ye.fun(t)&&t,{reset:n,sort:o,trail:c=0,expires:f=!0,exitBeforeEnter:g=!1,onDestroyed:v,ref:_,config:M}=r?r():t,T=K.useMemo(()=>r||arguments.length==3?Qde():void 0,[]),E=Zs(e),j=[],R=K.useRef(null),N=n?null:R.current;y0(()=>{R.current=j}),lD(()=>(Wt(j,ae=>{T==null||T.add(ae.ctrl),ae.ctrl.ref=T}),()=>{Wt(R.current,ae=>{ae.expired&&clearTimeout(ae.expirationId),aO(ae.ctrl,T),ae.ctrl.stop(!0)})}));const F=CYe(E,r?r():t,N),V=n&&R.current||[];y0(()=>Wt(V,({ctrl:ae,item:pe,key:ge})=>{aO(ae,T),vo(v,pe,ge)}));const z=[];if(N&&Wt(N,(ae,pe)=>{ae.expired?(clearTimeout(ae.expirationId),V.push(ae)):(pe=z[pe]=F.indexOf(ae.key),~pe&&(j[pe]=ae))}),Wt(E,(ae,pe)=>{j[pe]||(j[pe]={key:F[pe],item:ae,phase:"mount",ctrl:new Hde},j[pe].ctrl.item=ae)}),z.length){let ae=-1;const{leave:pe}=r?r():t;Wt(z,(ge,ve)=>{const ce=N[ve];~ge?(ae=j.indexOf(ce),j[ae]={...ce,item:E[ge]}):pe&&j.splice(++ae,0,ce)})}Ye.fun(o)&&j.sort((ae,pe)=>o(ae.item,pe.item));let G=-c;const H=aD(),Z=a8(t),Y=new Map,re=K.useRef(new Map),q=K.useRef(!1);Wt(j,(ae,pe)=>{const ge=ae.key,ve=ae.phase,ce=r?r():t;let he,Ie;const Be=vo(ce.delay||0,ge);if(ve=="mount")he=ce.enter,Ie="enter";else{const yt=F.indexOf(ge)<0;if(ve!="leave")if(yt)he=ce.leave,Ie="leave";else if(he=ce.update)Ie="update";else return;else if(!yt)he=ce.enter,Ie="enter";else return}if(he=vo(he,ae.item,pe),he=Ye.obj(he)?cD(he):{to:he},!he.config){const yt=M||Z.config;he.config=vo(yt,ae.item,pe,Ie)}G+=c;const Ke={...Z,delay:Be+G,ref:_,immediate:ce.immediate,reset:!1,...he};if(Ie=="enter"&&Ye.und(Ke.from)){const yt=r?r():t,Fe=Ye.und(yt.initial)||N?yt.from:yt.initial;Ke.from=vo(Fe,ae.item,pe)}const{onResolve:wt}=Ke;Ke.onResolve=yt=>{vo(wt,yt);const Fe=R.current,it=Fe.find(Ge=>Ge.key===ge);if(it&&!(yt.cancelled&&it.phase!="update")&&it.ctrl.idle){const Ge=Fe.every(Te=>Te.ctrl.idle);if(it.phase=="leave"){const Te=vo(f,it.item);if(Te!==!1){const Ve=Te===!0?0:Te;if(it.expired=!0,!Ge&&Ve>0){Ve<=2147483647&&(it.expirationId=setTimeout(H,Ve));return}}}Ge&&Fe.some(Te=>Te.expired)&&(re.current.delete(it),g&&(q.current=!0),H())}};const He=pO(ae.ctrl,Ke);Ie==="leave"&&g?re.current.set(ae,{phase:Ie,springs:He,payload:Ke}):Y.set(ae,{phase:Ie,springs:He,payload:Ke})});const W=K.useContext($x),ee=nO(W),le=W!==ee&&zde(W);y0(()=>{le&&Wt(j,ae=>{ae.ctrl.start({default:W})})},[W]),Wt(Y,(ae,pe)=>{if(re.current.size){const ge=j.findIndex(ve=>ve.key===pe.key);j.splice(ge,1)}}),y0(()=>{Wt(re.current.size?re.current:Y,({phase:ae,payload:pe},ge)=>{const{ctrl:ve}=ge;ge.phase=ae,T==null||T.add(ve),le&&ae=="enter"&&ve.start({default:W}),pe&&(Vde(ve,pe.ref),(ve.ref||T)&&!q.current?ve.update(pe):(ve.start(pe),q.current&&(q.current=!1)))})},n?void 0:i);const ue=ae=>K.createElement(K.Fragment,null,j.map((pe,ge)=>{const{springs:ve}=Y.get(pe)||pe.ctrl,ce=ae({...ve},pe.item,pe,ge);return ce&&ce.type?K.createElement(ce.type,{...ce.props,key:Ye.str(pe.key)||Ye.num(pe.key)?pe.key:pe.ctrl.id,ref:ce.ref}):ce}));return T?[ue,T]:ue}var kYe=1;function CYe(e,{key:t,keys:i=t},r){if(i===null){const n=new Set;return e.map(o=>{const c=r&&r.find(f=>f.item===o&&f.phase!=="leave"&&!n.has(f));return c?(n.add(c),c.key):kYe++})}return Ye.und(i)?e:Ye.fun(i)?e.map(i):Zs(i)}var epe=class extends pD{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=a3(...t);const i=this._get(),r=sO(i);uD(this,r.create(i))}advance(e){const t=this._get(),i=this.get();th(t,i)||(Lu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&cK(this._active)&&zk(this)}_get(){const e=Ye.arr(this.source)?this.source.map(go):Zs(go(this.source));return this.calc(...e)}_start(){this.idle&&!cK(this._active)&&(this.idle=!1,Wt(s8(this),e=>{e.done=!1}),iu.skipAnimation?(Qt.batchedUpdates(()=>this.advance()),zk(this)):t8.start(this))}_attach(){let e=1;Wt(Zs(this.source),t=>{Fa(t)&&Yg(t,this),uO(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Wt(Zs(this.source),e=>{Fa(e)&&c3(e,this)}),this._active.clear(),zk(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Zs(this.source).reduce((t,i)=>Math.max(t,(uO(i)?i.priority:0)+1),0))}};function IYe(e){return e.idle!==!1}function cK(e){return!e.size||Array.from(e).every(IYe)}function zk(e){e.idle||(e.idle=!0,Wt(s8(e),t=>{t.done=!0}),u3(e,{type:"idle",parent:e}))}var fO=(e,...t)=>new epe(e,t);iu.assign({createStringInterpolator:Ode,to:(e,t)=>new epe(e,t)});var tpe=/^--/;function EYe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!tpe.test(e)&&!(aw.hasOwnProperty(e)&&aw[e])?t+"px":(""+t).trim()}var hK={};function AYe(e,t){if(!e.nodeType||!e.setAttribute)return!1;const i=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:n,children:o,scrollTop:c,scrollLeft:f,viewBox:g,...v}=t,_=Object.values(v),M=Object.keys(v).map(T=>i||e.hasAttribute(T)?T:hK[T]||(hK[T]=T.replace(/([A-Z])/g,E=>"-"+E.toLowerCase())));o!==void 0&&(e.textContent=o);for(const T in n)if(n.hasOwnProperty(T)){const E=EYe(T,n[T]);tpe.test(T)?e.style.setProperty(T,E):e.style[T]=E}M.forEach((T,E)=>{e.setAttribute(T,_[E])}),r!==void 0&&(e.className=r),c!==void 0&&(e.scrollTop=c),f!==void 0&&(e.scrollLeft=f),g!==void 0&&e.setAttribute("viewBox",g)}var aw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jYe=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),PYe=["Webkit","Ms","Moz","O"];aw=Object.keys(aw).reduce((e,t)=>(PYe.forEach(i=>e[jYe(i,t)]=e[t]),e),aw);var OYe=/^(matrix|translate|scale|rotate|skew)/,RYe=/^(translate)/,LYe=/^(rotate|skew)/,Vk=(e,t)=>Ye.num(e)&&e!==0?e+t:e,g9=(e,t)=>Ye.arr(e)?e.every(i=>g9(i,t)):Ye.num(e)?e===t:parseFloat(e)===t,NYe=class extends o8{constructor({x:e,y:t,z:i,...r}){const n=[],o=[];(e||t||i)&&(n.push([e||0,t||0,i||0]),o.push(c=>[`translate3d(${c.map(f=>Vk(f,"px")).join(",")})`,g9(c,0)])),sc(r,(c,f)=>{if(f==="transform")n.push([c||""]),o.push(g=>[g,g===""]);else if(OYe.test(f)){if(delete r[f],Ye.und(c))return;const g=RYe.test(f)?"px":LYe.test(f)?"deg":"";n.push(Zs(c)),o.push(f==="rotate3d"?([v,_,M,T])=>[`rotate3d(${v},${_},${M},${Vk(T,g)})`,g9(T,0)]:v=>[`${f}(${v.map(_=>Vk(_,g)).join(",")})`,g9(v,f.startsWith("scale")?1:0)])}}),n.length&&(r.transform=new FYe(n,o)),super(r)}},FYe=class extends Ade{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Wt(this.inputs,(i,r)=>{const n=go(i[0]),[o,c]=this.transforms[r](Ye.arr(n)?n:i.map(go));e+=" "+o,t=t&&c}),t?"none":e}observerAdded(e){e==1&&Wt(this.inputs,t=>Wt(t,i=>Fa(i)&&Yg(i,this)))}observerRemoved(e){e==0&&Wt(this.inputs,t=>Wt(t,i=>Fa(i)&&c3(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),u3(this,e)}},DYe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];iu.assign({batchedUpdates:t$.unstable_batchedUpdates,createStringInterpolator:Ode,colors:jKe});var zYe=hYe(DYe,{applyAnimatedValues:AYe,createAnimatedStyle:e=>new NYe(e),getComponentProps:({scrollTop:e,scrollLeft:t,...i})=>i}),Nr=zYe.animated;function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o1.apply(this,arguments)}var VYe={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},dK=function(e,t){return"translate("+e+"px, "+t+"px)"},ipe=K.memo(function(e){var t,i=e.position,r=e.anchor,n=e.children,o=Cr(),c=yl(),f=c.animate,g=c.config,v=h0e(),_=v[0],M=v[1],T=K.useRef(!1),E=void 0,j=!1,R=M.width>0&&M.height>0,N=Math.round(i[0]),F=Math.round(i[1]);R&&(r==="top"?(N-=M.width/2,F-=M.height+14):r==="right"?(N+=14,F-=M.height/2):r==="bottom"?(N-=M.width/2,F+=14):r==="left"?(N-=M.width+14,F-=M.height/2):r==="center"&&(N-=M.width/2,F-=M.height/2),E={transform:dK(N,F)},T.current||(j=!0),T.current=[N,F]);var V=hc({to:E,config:g,immediate:!f||j}),z=o1({},VYe,o.tooltip.wrapper,{transform:(t=V.transform)!=null?t:dK(N,F),opacity:V.transform?1:0});return P.jsx(Nr.div,{ref:_,style:z,children:n})});ipe.displayName="TooltipWrapper";var rpe=K.memo(function(e){var t=e.size,i=t===void 0?12:t,r=e.color,n=e.style;return P.jsx("span",{style:o1({display:"block",width:i,height:i,background:r},n===void 0?{}:n)})}),npe=K.memo(function(e){var t,i=e.id,r=e.value,n=e.format,o=e.enableChip,c=o!==void 0&&o,f=e.color,g=e.renderContent,v=Cr(),_=S3(n);if(typeof g=="function")t=g();else{var M=r;_!==void 0&&M!==void 0&&(M=_(M)),t=P.jsxs("div",{style:v.tooltip.basic,children:[c&&P.jsx(rpe,{color:f,style:v.tooltip.chip}),M!==void 0?P.jsxs("span",{children:[i,": ",P.jsx("strong",{children:""+M})]}):i]})}return P.jsx("div",{style:v.tooltip.container,children:t})}),BYe={width:"100%",borderCollapse:"collapse"},spe=K.memo(function(e){var t,i=e.title,r=e.rows,n=r===void 0?[]:r,o=e.renderContent,c=Cr();return n.length?(t=typeof o=="function"?o():P.jsxs("div",{children:[i&&i,P.jsx("table",{style:o1({},BYe,c.tooltip.table),children:P.jsx("tbody",{children:n.map(function(f,g){return P.jsx("tr",{children:f.map(function(v,_){return P.jsx("td",{style:c.tooltip.tableCell,children:v},_)})},g)})})})]}),P.jsx("div",{style:c.tooltip.container,children:t})):null});spe.displayName="TableTooltip";var yO=K.memo(function(e){var t=e.x0,i=e.x1,r=e.y0,n=e.y1,o=Cr(),c=yl(),f=c.animate,g=c.config,v=K.useMemo(function(){return o1({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),_=hc({x1:t,x2:i,y1:r,y2:n,config:g,immediate:!f});return P.jsx(Nr.line,o1({},_,{fill:"none",style:v}))});yO.displayName="CrosshairLine";var mO=K.memo(function(e){var t,i,r=e.width,n=e.height,o=e.type,c=e.x,f=e.y;return o==="cross"?(t={x0:c,x1:c,y0:0,y1:n},i={x0:0,x1:r,y0:f,y1:f}):o==="top-left"?(t={x0:c,x1:c,y0:0,y1:f},i={x0:0,x1:c,y0:f,y1:f}):o==="top"?t={x0:c,x1:c,y0:0,y1:f}:o==="top-right"?(t={x0:c,x1:c,y0:0,y1:f},i={x0:c,x1:r,y0:f,y1:f}):o==="right"?i={x0:c,x1:r,y0:f,y1:f}:o==="bottom-right"?(t={x0:c,x1:c,y0:f,y1:n},i={x0:c,x1:r,y0:f,y1:f}):o==="bottom"?t={x0:c,x1:c,y0:f,y1:n}:o==="bottom-left"?(t={x0:c,x1:c,y0:f,y1:n},i={x0:0,x1:c,y0:f,y1:f}):o==="left"?i={x0:0,x1:c,y0:f,y1:f}:o==="x"?t={x0:c,x1:c,y0:0,y1:n}:o==="y"&&(i={x0:0,x1:r,y0:f,y1:f}),P.jsxs(P.Fragment,{children:[t&&P.jsx(yO,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),i&&P.jsx(yO,{x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1})]})});mO.displayName="Crosshair";var ope=K.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),gO={isVisible:!1,position:[null,null],content:null,anchor:null},ape=K.createContext(gO),UYe=function(e){var t=K.useState(gO),i=t[0],r=t[1],n=K.useCallback(function(f,g,v){var _=g[0],M=g[1];v===void 0&&(v="top"),r({isVisible:!0,position:[_,M],anchor:v,content:f})},[r]),o=K.useCallback(function(f,g,v){v===void 0&&(v="top");var _=e.current.getBoundingClientRect(),M=e.current.offsetWidth,T=M===_.width?1:M/_.width,E="touches"in g?g.touches[0]:g,j=E.clientX,R=E.clientY,N=(j-_.left)*T,F=(R-_.top)*T;v!=="left"&&v!=="right"||(v=N<_.width/2?"right":"left"),r({isVisible:!0,position:[N,F],anchor:v,content:f})},[e,r]),c=K.useCallback(function(){r(gO)},[r]);return{actions:K.useMemo(function(){return{showTooltipAt:n,showTooltipFromEvent:o,hideTooltip:c}},[n,o,c]),state:i}},Zg=function(){var e=K.useContext(ope);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},GYe=function(){var e=K.useContext(ape);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},qYe=function(e){return e.isVisible},WYe=function(){var e=GYe();return qYe(e)?P.jsx(ipe,{position:e.position,anchor:e.anchor,children:e.content}):null},HYe=function(e){var t=e.container,i=e.children,r=UYe(t),n=r.actions,o=r.state;return P.jsx(ope.Provider,{value:n,children:P.jsx(ape.Provider,{value:o,children:i})})};function JYe(){this.__data__=[],this.size=0}var KYe=JYe;function YYe(e,t){return e===t||e!==e&&t!==t}var Mx=YYe,ZYe=Mx;function XYe(e,t){for(var i=e.length;i--;)if(ZYe(e[i][0],t))return i;return-1}var u8=XYe,QYe=u8,eZe=Array.prototype,tZe=eZe.splice;function iZe(e){var t=this.__data__,i=QYe(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():tZe.call(t,i,1),--this.size,!0}var rZe=iZe,nZe=u8;function sZe(e){var t=this.__data__,i=nZe(t,e);return i<0?void 0:t[i][1]}var oZe=sZe,aZe=u8;function lZe(e){return aZe(this.__data__,e)>-1}var uZe=lZe,cZe=u8;function hZe(e,t){var i=this.__data__,r=cZe(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}var dZe=hZe,pZe=KYe,fZe=rZe,yZe=oZe,mZe=uZe,gZe=dZe;function Xg(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Xg.prototype.clear=pZe;Xg.prototype.delete=fZe;Xg.prototype.get=yZe;Xg.prototype.has=mZe;Xg.prototype.set=gZe;var c8=Xg,vZe=c8;function bZe(){this.__data__=new vZe,this.size=0}var wZe=bZe;function xZe(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var _Ze=xZe;function SZe(e){return this.__data__.get(e)}var $Ze=SZe;function MZe(e){return this.__data__.has(e)}var TZe=MZe,kZe=typeof Ox=="object"&&Ox&&Ox.Object===Object&&Ox,lpe=kZe,CZe=lpe,IZe=typeof self=="object"&&self&&self.Object===Object&&self,EZe=CZe||IZe||Function("return this")(),dc=EZe,AZe=dc,jZe=AZe.Symbol,Qg=jZe,pK=Qg,upe=Object.prototype,PZe=upe.hasOwnProperty,OZe=upe.toString,eb=pK?pK.toStringTag:void 0;function RZe(e){var t=PZe.call(e,eb),i=e[eb];try{e[eb]=void 0;var r=!0}catch{}var n=OZe.call(e);return r&&(t?e[eb]=i:delete e[eb]),n}var LZe=RZe,NZe=Object.prototype,FZe=NZe.toString;function DZe(e){return FZe.call(e)}var zZe=DZe,fK=Qg,VZe=LZe,BZe=zZe,UZe="[object Null]",GZe="[object Undefined]",yK=fK?fK.toStringTag:void 0;function qZe(e){return e==null?e===void 0?GZe:UZe:yK&&yK in Object(e)?VZe(e):BZe(e)}var Lh=qZe;function WZe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pc=WZe,HZe=Lh,JZe=pc,KZe="[object AsyncFunction]",YZe="[object Function]",ZZe="[object GeneratorFunction]",XZe="[object Proxy]";function QZe(e){if(!JZe(e))return!1;var t=HZe(e);return t==YZe||t==ZZe||t==KZe||t==XZe}var h8=QZe;const fD=rn(h8);var eXe=dc,tXe=eXe["__core-js_shared__"],iXe=tXe,Bk=iXe,mK=function(){var e=/[^.]+$/.exec(Bk&&Bk.keys&&Bk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rXe(e){return!!mK&&mK in e}var nXe=rXe,sXe=Function.prototype,oXe=sXe.toString;function aXe(e){if(e!=null){try{return oXe.call(e)}catch{}try{return e+""}catch{}}return""}var cpe=aXe,lXe=h8,uXe=nXe,cXe=pc,hXe=cpe,dXe=/[\\^$.*+?()[\]{}|]/g,pXe=/^\[object .+?Constructor\]$/,fXe=Function.prototype,yXe=Object.prototype,mXe=fXe.toString,gXe=yXe.hasOwnProperty,vXe=RegExp("^"+mXe.call(gXe).replace(dXe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bXe(e){if(!cXe(e)||uXe(e))return!1;var t=lXe(e)?vXe:pXe;return t.test(hXe(e))}var wXe=bXe;function xXe(e,t){return e==null?void 0:e[t]}var _Xe=xXe,SXe=wXe,$Xe=_Xe;function MXe(e,t){var i=$Xe(e,t);return SXe(i)?i:void 0}var T1=MXe,TXe=T1,kXe=dc,CXe=TXe(kXe,"Map"),yD=CXe,IXe=T1,EXe=IXe(Object,"create"),d8=EXe,gK=d8;function AXe(){this.__data__=gK?gK(null):{},this.size=0}var jXe=AXe;function PXe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var OXe=PXe,RXe=d8,LXe="__lodash_hash_undefined__",NXe=Object.prototype,FXe=NXe.hasOwnProperty;function DXe(e){var t=this.__data__;if(RXe){var i=t[e];return i===LXe?void 0:i}return FXe.call(t,e)?t[e]:void 0}var zXe=DXe,VXe=d8,BXe=Object.prototype,UXe=BXe.hasOwnProperty;function GXe(e){var t=this.__data__;return VXe?t[e]!==void 0:UXe.call(t,e)}var qXe=GXe,WXe=d8,HXe="__lodash_hash_undefined__";function JXe(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=WXe&&t===void 0?HXe:t,this}var KXe=JXe,YXe=jXe,ZXe=OXe,XXe=zXe,QXe=qXe,eQe=KXe;function ev(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}ev.prototype.clear=YXe;ev.prototype.delete=ZXe;ev.prototype.get=XXe;ev.prototype.has=QXe;ev.prototype.set=eQe;var tQe=ev,vK=tQe,iQe=c8,rQe=yD;function nQe(){this.size=0,this.__data__={hash:new vK,map:new(rQe||iQe),string:new vK}}var sQe=nQe;function oQe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var aQe=oQe,lQe=aQe;function uQe(e,t){var i=e.__data__;return lQe(t)?i[typeof t=="string"?"string":"hash"]:i.map}var p8=uQe,cQe=p8;function hQe(e){var t=cQe(this,e).delete(e);return this.size-=t?1:0,t}var dQe=hQe,pQe=p8;function fQe(e){return pQe(this,e).get(e)}var yQe=fQe,mQe=p8;function gQe(e){return mQe(this,e).has(e)}var vQe=gQe,bQe=p8;function wQe(e,t){var i=bQe(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}var xQe=wQe,_Qe=sQe,SQe=dQe,$Qe=yQe,MQe=vQe,TQe=xQe;function tv(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}tv.prototype.clear=_Qe;tv.prototype.delete=SQe;tv.prototype.get=$Qe;tv.prototype.has=MQe;tv.prototype.set=TQe;var mD=tv,kQe=c8,CQe=yD,IQe=mD,EQe=200;function AQe(e,t){var i=this.__data__;if(i instanceof kQe){var r=i.__data__;if(!CQe||r.length<EQe-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new IQe(r)}return i.set(e,t),this.size=i.size,this}var jQe=AQe,PQe=c8,OQe=wZe,RQe=_Ze,LQe=$Ze,NQe=TZe,FQe=jQe;function iv(e){var t=this.__data__=new PQe(e);this.size=t.size}iv.prototype.clear=OQe;iv.prototype.delete=RQe;iv.prototype.get=LQe;iv.prototype.has=NQe;iv.prototype.set=FQe;var f8=iv,DQe=T1,zQe=function(){try{var e=DQe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),hpe=zQe,bK=hpe;function VQe(e,t,i){t=="__proto__"&&bK?bK(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var gD=VQe,BQe=gD,UQe=Mx;function GQe(e,t,i){(i!==void 0&&!UQe(e[t],i)||i===void 0&&!(t in e))&&BQe(e,t,i)}var dpe=GQe;function qQe(e){return function(t,i,r){for(var n=-1,o=Object(t),c=r(t),f=c.length;f--;){var g=c[e?f:++n];if(i(o[g],g,o)===!1)break}return t}}var WQe=qQe,HQe=WQe,JQe=HQe(),ppe=JQe,b6={exports:{}};b6.exports;(function(e,t){var i=dc,r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,c=o?i.Buffer:void 0,f=c?c.allocUnsafe:void 0;function g(v,_){if(_)return v.slice();var M=v.length,T=f?f(M):new v.constructor(M);return v.copy(T),T}e.exports=g})(b6,b6.exports);var fpe=b6.exports,KQe=dc,YQe=KQe.Uint8Array,ype=YQe,wK=ype;function ZQe(e){var t=new e.constructor(e.byteLength);return new wK(t).set(new wK(e)),t}var vD=ZQe,XQe=vD;function QQe(e,t){var i=t?XQe(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var mpe=QQe;function eet(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}var gpe=eet,tet=pc,xK=Object.create,iet=function(){function e(){}return function(t){if(!tet(t))return{};if(xK)return xK(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),ret=iet;function net(e,t){return function(i){return e(t(i))}}var vpe=net,set=vpe,oet=set(Object.getPrototypeOf,Object),bD=oet,aet=Object.prototype;function uet(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||aet;return e===i}var wD=uet,cet=ret,het=bD,det=wD;function pet(e){return typeof e.constructor=="function"&&!det(e)?cet(het(e)):{}}var bpe=pet;function fet(e){return e!=null&&typeof e=="object"}var fl=fet,yet=Lh,met=fl,get="[object Arguments]";function vet(e){return met(e)&&yet(e)==get}var bet=vet,_K=bet,wet=fl,wpe=Object.prototype,xet=wpe.hasOwnProperty,_et=wpe.propertyIsEnumerable,$et=_K(function(){return arguments}())?_K:function(e){return wet(e)&&xet.call(e,"callee")&&!_et.call(e,"callee")},y8=$et,Met=Array.isArray,jo=Met,Tet=9007199254740991;function ket(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tet}var xD=ket,Cet=h8,Iet=xD;function Eet(e){return e!=null&&Iet(e.length)&&!Cet(e)}var rv=Eet,Aet=rv,jet=fl;function Pet(e){return jet(e)&&Aet(e)}var xpe=Pet,w6={exports:{}};function Oet(){return!1}var Ret=Oet;w6.exports;(function(e,t){var i=dc,r=Ret,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===n,f=c?i.Buffer:void 0,g=f?f.isBuffer:void 0,v=g||r;e.exports=v})(w6,w6.exports);var m8=w6.exports,Let=Lh,Net=bD,Fet=fl,Det="[object Object]",zet=Function.prototype,Vet=Object.prototype,_pe=zet.toString,Bet=Vet.hasOwnProperty,Uet=_pe.call(Object);function Get(e){if(!Fet(e)||Let(e)!=Det)return!1;var t=Net(e);if(t===null)return!0;var i=Bet.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&_pe.call(i)==Uet}var _D=Get;const SD=rn(_D);var qet=Lh,Wet=xD,Het=fl,Jet="[object Arguments]",Ket="[object Array]",Yet="[object Boolean]",Zet="[object Date]",Xet="[object Error]",Qet="[object Function]",ett="[object Map]",ttt="[object Number]",itt="[object Object]",rtt="[object RegExp]",ntt="[object Set]",stt="[object String]",ott="[object WeakMap]",att="[object ArrayBuffer]",ltt="[object DataView]",utt="[object Float32Array]",ctt="[object Float64Array]",htt="[object Int8Array]",dtt="[object Int16Array]",ptt="[object Int32Array]",ftt="[object Uint8Array]",ytt="[object Uint8ClampedArray]",mtt="[object Uint16Array]",gtt="[object Uint32Array]",Mr={};Mr[utt]=Mr[ctt]=Mr[htt]=Mr[dtt]=Mr[ptt]=Mr[ftt]=Mr[ytt]=Mr[mtt]=Mr[gtt]=!0;Mr[Jet]=Mr[Ket]=Mr[att]=Mr[Yet]=Mr[ltt]=Mr[Zet]=Mr[Xet]=Mr[Qet]=Mr[ett]=Mr[ttt]=Mr[itt]=Mr[rtt]=Mr[ntt]=Mr[stt]=Mr[ott]=!1;function vtt(e){return Het(e)&&Wet(e.length)&&!!Mr[qet(e)]}var btt=vtt;function wtt(e){return function(t){return e(t)}}var nv=wtt,x6={exports:{}};x6.exports;(function(e,t){var i=lpe,r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===r,c=o&&i.process,f=function(){try{var g=n&&n.require&&n.require("util").types;return g||c&&c.binding&&c.binding("util")}catch{}}();e.exports=f})(x6,x6.exports);var g8=x6.exports,xtt=btt,_tt=nv,SK=g8,$K=SK&&SK.isTypedArray,Stt=$K?_tt($K):xtt,$D=Stt;function $tt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Spe=$tt,Mtt=gD,Ttt=Mx,ktt=Object.prototype,Ctt=ktt.hasOwnProperty;function Itt(e,t,i){var r=e[t];(!(Ctt.call(e,t)&&Ttt(r,i))||i===void 0&&!(t in e))&&Mtt(e,t,i)}var MD=Itt,Ett=MD,Att=gD;function jtt(e,t,i,r){var n=!i;i||(i={});for(var o=-1,c=t.length;++o<c;){var f=t[o],g=r?r(i[f],e[f],f,i,e):void 0;g===void 0&&(g=e[f]),n?Att(i,f,g):Ett(i,f,g)}return i}var sv=jtt;function Ptt(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}var Ott=Ptt,Rtt=9007199254740991,Ltt=/^(?:0|[1-9]\d*)$/;function Ntt(e,t){var i=typeof e;return t=t??Rtt,!!t&&(i=="number"||i!="symbol"&&Ltt.test(e))&&e>-1&&e%1==0&&e<t}var v8=Ntt,Ftt=Ott,Dtt=y8,ztt=jo,Vtt=m8,Btt=v8,Utt=$D,Gtt=Object.prototype,qtt=Gtt.hasOwnProperty;function Wtt(e,t){var i=ztt(e),r=!i&&Dtt(e),n=!i&&!r&&Vtt(e),o=!i&&!r&&!n&&Utt(e),c=i||r||n||o,f=c?Ftt(e.length,String):[],g=f.length;for(var v in e)(t||qtt.call(e,v))&&!(c&&(v=="length"||n&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Btt(v,g)))&&f.push(v);return f}var $pe=Wtt;function Htt(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var Jtt=Htt,Ktt=pc,Ytt=wD,Ztt=Jtt,Xtt=Object.prototype,Qtt=Xtt.hasOwnProperty;function eit(e){if(!Ktt(e))return Ztt(e);var t=Ytt(e),i=[];for(var r in e)r=="constructor"&&(t||!Qtt.call(e,r))||i.push(r);return i}var tit=eit,iit=$pe,rit=tit,nit=rv;function sit(e){return nit(e)?iit(e,!0):rit(e)}var Tx=sit,oit=sv,ait=Tx;function lit(e){return oit(e,ait(e))}var uit=lit,MK=dpe,cit=fpe,hit=mpe,dit=gpe,pit=bpe,TK=y8,kK=jo,fit=xpe,yit=m8,mit=h8,git=pc,vit=_D,bit=$D,CK=Spe,wit=uit;function xit(e,t,i,r,n,o,c){var f=CK(e,i),g=CK(t,i),v=c.get(g);if(v){MK(e,i,v);return}var _=o?o(f,g,i+"",e,t,c):void 0,M=_===void 0;if(M){var T=kK(g),E=!T&&yit(g),j=!T&&!E&&bit(g);_=g,T||E||j?kK(f)?_=f:fit(f)?_=dit(f):E?(M=!1,_=cit(g,!0)):j?(M=!1,_=hit(g,!0)):_=[]:vit(g)||TK(g)?(_=f,TK(f)?_=wit(f):(!git(f)||mit(f))&&(_=pit(g))):M=!1}M&&(c.set(g,_),n(_,g,r,o,c),c.delete(g)),MK(e,i,_)}var _it=xit,Sit=f8,$it=dpe,Mit=ppe,Tit=_it,kit=pc,Cit=Tx,Iit=Spe;function Mpe(e,t,i,r,n){e!==t&&Mit(t,function(o,c){if(n||(n=new Sit),kit(o))Tit(e,t,c,i,Mpe,r,n);else{var f=r?r(Iit(e,c),o,c+"",e,t,n):void 0;f===void 0&&(f=o),$it(e,c,f)}},Cit)}var Eit=Mpe;function Ait(e){return e}var b8=Ait;function jit(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var Pit=jit,Oit=Pit,IK=Math.max;function Rit(e,t,i){return t=IK(t===void 0?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=IK(r.length-t,0),c=Array(o);++n<o;)c[n]=r[t+n];n=-1;for(var f=Array(t+1);++n<t;)f[n]=r[n];return f[t]=i(c),Oit(e,this,f)}}var Tpe=Rit;function Lit(e){return function(){return e}}var Nit=Lit,Fit=Nit,EK=hpe,Dit=b8,zit=EK?function(e,t){return EK(e,"toString",{configurable:!0,enumerable:!1,value:Fit(t),writable:!0})}:Dit,Vit=zit,Bit=800,Uit=16,Git=Date.now;function qit(e){var t=0,i=0;return function(){var r=Git(),n=Uit-(r-i);if(i=r,n>0){if(++t>=Bit)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wit=qit,Hit=Vit,Jit=Wit,Kit=Jit(Hit),kpe=Kit,Yit=b8,Zit=Tpe,Xit=kpe;function Qit(e,t){return Xit(Zit(e,t,Yit),e+"")}var TD=Qit,ert=Mx,trt=rv,irt=v8,rrt=pc;function nrt(e,t,i){if(!rrt(i))return!1;var r=typeof t;return(r=="number"?trt(i)&&irt(t,i.length):r=="string"&&t in i)?ert(i[t],e):!1}var Cpe=nrt,srt=TD,ort=Cpe;function art(e){return srt(function(t,i){var r=-1,n=i.length,o=n>1?i[n-1]:void 0,c=n>2?i[2]:void 0;for(o=e.length>3&&typeof o=="function"?(n--,o):void 0,c&&ort(i[0],i[1],c)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var f=i[r];f&&e(t,f,r,o)}return t})}var lrt=art,urt=Eit,crt=lrt,hrt=crt(function(e,t,i){urt(e,t,i)}),drt=hrt;const prt=rn(drt);var frt=Lh,yrt=fl,mrt="[object Symbol]";function grt(e){return typeof e=="symbol"||yrt(e)&&frt(e)==mrt}var w8=grt,vrt=jo,brt=w8,wrt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xrt=/^\w*$/;function _rt(e,t){if(vrt(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||brt(e)?!0:xrt.test(e)||!wrt.test(e)||t!=null&&e in Object(t)}var kD=_rt,Ipe=mD,Srt="Expected a function";function CD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Srt);var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var c=e.apply(this,r);return i.cache=o.set(n,c)||o,c};return i.cache=new(CD.Cache||Ipe),i}CD.Cache=Ipe;var $rt=CD,Mrt=$rt,Trt=500;function krt(e){var t=Mrt(e,function(r){return i.size===Trt&&i.clear(),r}),i=t.cache;return t}var Crt=krt,Irt=Crt,Ert=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Art=/\\(\\)?/g,jrt=Irt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ert,function(i,r,n,o){t.push(n?o.replace(Art,"$1"):r||i)}),t}),Prt=jrt;function Ort(e,t){for(var i=-1,r=e==null?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}var x8=Ort,AK=Qg,Rrt=x8,Lrt=jo,Nrt=w8,Frt=1/0,jK=AK?AK.prototype:void 0,PK=jK?jK.toString:void 0;function Epe(e){if(typeof e=="string")return e;if(Lrt(e))return Rrt(e,Epe)+"";if(Nrt(e))return PK?PK.call(e):"";var t=e+"";return t=="0"&&1/e==-Frt?"-0":t}var Drt=Epe,zrt=Drt;function Vrt(e){return e==null?"":zrt(e)}var Ape=Vrt,Brt=jo,Urt=kD,Grt=Prt,qrt=Ape;function Wrt(e,t){return Brt(e)?e:Urt(e,t)?[e]:Grt(qrt(e))}var ov=Wrt,Hrt=w8,Jrt=1/0;function Krt(e){if(typeof e=="string"||Hrt(e))return e;var t=e+"";return t=="0"&&1/e==-Jrt?"-0":t}var av=Krt,Yrt=ov,Zrt=av;function Xrt(e,t){t=Yrt(t,e);for(var i=0,r=t.length;e!=null&&i<r;)e=e[Zrt(t[i++])];return i&&i==r?e:void 0}var kx=Xrt,Qrt=kx;function ent(e,t,i){var r=e==null?void 0:Qrt(e,t);return r===void 0?i:r}var jpe=ent;const oc=rn(jpe);var tnt=MD,int=ov,rnt=v8,OK=pc,nnt=av;function snt(e,t,i,r){if(!OK(e))return e;t=int(t,e);for(var n=-1,o=t.length,c=o-1,f=e;f!=null&&++n<o;){var g=nnt(t[n]),v=i;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(n!=c){var _=f[g];v=r?r(_,g,f):void 0,v===void 0&&(v=OK(_)?_:rnt(t[n+1])?[]:{})}tnt(f,g,v),f=f[g]}return e}var Ppe=snt,ont=Ppe;function ant(e,t,i){return e==null?e:ont(e,t,i)}var lnt=ant;const v2=rn(lnt);function _8(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function ID(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function lv(){}var a1=.7,bg=1/a1,Gm="\\s*([+-]?\\d+)\\s*",m3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",unt=/^#([0-9a-f]{3,8})$/,cnt=new RegExp(`^rgb\\(${Gm},${Gm},${Gm}\\)$`),hnt=new RegExp(`^rgb\\(${Zu},${Zu},${Zu}\\)$`),dnt=new RegExp(`^rgba\\(${Gm},${Gm},${Gm},${m3}\\)$`),pnt=new RegExp(`^rgba\\(${Zu},${Zu},${Zu},${m3}\\)$`),fnt=new RegExp(`^hsl\\(${m3},${Zu},${Zu}\\)$`),ynt=new RegExp(`^hsla\\(${m3},${Zu},${Zu},${m3}\\)$`),RK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_8(lv,g3,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LK,formatHex:LK,formatHex8:mnt,formatHsl:gnt,formatRgb:NK,toString:NK});function LK(){return this.rgb().formatHex()}function mnt(){return this.rgb().formatHex8()}function gnt(){return Rpe(this).formatHsl()}function NK(){return this.rgb().formatRgb()}function g3(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=unt.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?FK(t):i===3?new Is(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?x5(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?x5(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cnt.exec(e))?new Is(t[1],t[2],t[3],1):(t=hnt.exec(e))?new Is(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dnt.exec(e))?x5(t[1],t[2],t[3],t[4]):(t=pnt.exec(e))?x5(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fnt.exec(e))?VK(t[1],t[2]/100,t[3]/100,1):(t=ynt.exec(e))?VK(t[1],t[2]/100,t[3]/100,t[4]):RK.hasOwnProperty(e)?FK(RK[e]):e==="transparent"?new Is(NaN,NaN,NaN,0):null}function FK(e){return new Is(e>>16&255,e>>8&255,e&255,1)}function x5(e,t,i,r){return r<=0&&(e=t=i=NaN),new Is(e,t,i,r)}function Ope(e){return e instanceof lv||(e=g3(e)),e?(e=e.rgb(),new Is(e.r,e.g,e.b,e.opacity)):new Is}function wg(e,t,i,r){return arguments.length===1?Ope(e):new Is(e,t,i,r??1)}function Is(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}_8(Is,wg,ID(lv,{brighter(e){return e=e==null?bg:Math.pow(bg,e),new Is(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?a1:Math.pow(a1,e),new Is(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Is(P0(this.r),P0(this.g),P0(this.b),_6(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DK,formatHex:DK,formatHex8:vnt,formatRgb:zK,toString:zK}));function DK(){return`#${m0(this.r)}${m0(this.g)}${m0(this.b)}`}function vnt(){return`#${m0(this.r)}${m0(this.g)}${m0(this.b)}${m0((isNaN(this.opacity)?1:this.opacity)*255)}`}function zK(){const e=_6(this.opacity);return`${e===1?"rgb(":"rgba("}${P0(this.r)}, ${P0(this.g)}, ${P0(this.b)}${e===1?")":`, ${e})`}`}function _6(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function P0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function m0(e){return e=P0(e),(e<16?"0":"")+e.toString(16)}function VK(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Gl(e,t,i,r)}function Rpe(e){if(e instanceof Gl)return new Gl(e.h,e.s,e.l,e.opacity);if(e instanceof lv||(e=g3(e)),!e)return new Gl;if(e instanceof Gl)return e;e=e.rgb();var t=e.r/255,i=e.g/255,r=e.b/255,n=Math.min(t,i,r),o=Math.max(t,i,r),c=NaN,f=o-n,g=(o+n)/2;return f?(t===o?c=(i-r)/f+(i<r)*6:i===o?c=(r-t)/f+2:c=(t-i)/f+4,f/=g<.5?o+n:2-o-n,c*=60):f=g>0&&g<1?0:c,new Gl(c,f,g,e.opacity)}function bnt(e,t,i,r){return arguments.length===1?Rpe(e):new Gl(e,t,i,r??1)}function Gl(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}_8(Gl,bnt,ID(lv,{brighter(e){return e=e==null?bg:Math.pow(bg,e),new Gl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?a1:Math.pow(a1,e),new Gl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,n=2*i-r;return new Is(Uk(e>=240?e-240:e+120,n,r),Uk(e,n,r),Uk(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new Gl(BK(this.h),_5(this.s),_5(this.l),_6(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_6(this.opacity);return`${e===1?"hsl(":"hsla("}${BK(this.h)}, ${_5(this.s)*100}%, ${_5(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BK(e){return e=(e||0)%360,e<0?e+360:e}function _5(e){return Math.max(0,Math.min(1,e||0))}function Uk(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const wnt=Math.PI/180,xnt=180/Math.PI;var Lpe=-.14861,ED=1.78277,AD=-.29227,S8=-.90649,v3=1.97294,UK=v3*S8,GK=v3*ED,qK=ED*AD-S8*Lpe;function _nt(e){if(e instanceof O0)return new O0(e.h,e.s,e.l,e.opacity);e instanceof Is||(e=Ope(e));var t=e.r/255,i=e.g/255,r=e.b/255,n=(qK*r+UK*t-GK*i)/(qK+UK-GK),o=r-n,c=(v3*(i-n)-AD*o)/S8,f=Math.sqrt(c*c+o*o)/(v3*n*(1-n)),g=f?Math.atan2(c,o)*xnt-120:NaN;return new O0(g<0?g+360:g,f,n,e.opacity)}function ac(e,t,i,r){return arguments.length===1?_nt(e):new O0(e,t,i,r??1)}function O0(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}_8(O0,ac,ID(lv,{brighter(e){return e=e==null?bg:Math.pow(bg,e),new O0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?a1:Math.pow(a1,e),new O0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*wnt,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),n=Math.sin(e);return new Is(255*(t+i*(Lpe*r+ED*n)),255*(t+i*(AD*r+S8*n)),255*(t+i*(v3*r)),this.opacity)}}));function Snt(e,t,i,r,n){var o=e*e,c=o*e;return((1-3*e+3*o-c)*t+(4-6*o+3*c)*i+(1+3*e+3*o-3*c)*r+c*n)/6}function $nt(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),n=e[r],o=e[r+1],c=r>0?e[r-1]:2*n-o,f=r<t-1?e[r+2]:2*o-n;return Snt((i-r/t)*t,c,n,o,f)}}const $8=e=>()=>e;function Npe(e,t){return function(i){return e+i*t}}function Mnt(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(r){return Math.pow(e+r*t,i)}}function Tnt(e,t){var i=t-e;return i?Npe(e,i>180||i<-180?i-360*Math.round(i/360):i):$8(isNaN(e)?t:e)}function knt(e){return(e=+e)==1?qm:function(t,i){return i-t?Mnt(t,i,e):$8(isNaN(t)?i:t)}}function qm(e,t){var i=t-e;return i?Npe(e,i):$8(isNaN(e)?t:e)}const WK=function e(t){var i=knt(t);function r(n,o){var c=i((n=wg(n)).r,(o=wg(o)).r),f=i(n.g,o.g),g=i(n.b,o.b),v=qm(n.opacity,o.opacity);return function(_){return n.r=c(_),n.g=f(_),n.b=g(_),n.opacity=v(_),n+""}}return r.gamma=e,r}(1);function Cnt(e){return function(t){var i=t.length,r=new Array(i),n=new Array(i),o=new Array(i),c,f;for(c=0;c<i;++c)f=wg(t[c]),r[c]=f.r||0,n[c]=f.g||0,o[c]=f.b||0;return r=e(r),n=e(n),o=e(o),f.opacity=1,function(g){return f.r=r(g),f.g=n(g),f.b=o(g),f+""}}}var Int=Cnt($nt);function Ent(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,r=t.slice(),n;return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Ant(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jnt(e,t){var i=t?t.length:0,r=e?Math.min(i,e.length):0,n=new Array(r),o=new Array(i),c;for(c=0;c<r;++c)n[c]=jD(e[c],t[c]);for(;c<i;++c)o[c]=t[c];return function(f){for(c=0;c<r;++c)o[c]=n[c](f);return o}}function Pnt(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}function S6(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function Ont(e,t){var i={},r={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?i[n]=jD(e[n],t[n]):r[n]=t[n];return function(o){for(n in i)r[n]=i[n](o);return r}}var vO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gk=new RegExp(vO.source,"g");function Rnt(e){return function(){return e}}function Lnt(e){return function(t){return e(t)+""}}function Fpe(e,t){var i=vO.lastIndex=Gk.lastIndex=0,r,n,o,c=-1,f=[],g=[];for(e=e+"",t=t+"";(r=vO.exec(e))&&(n=Gk.exec(t));)(o=n.index)>i&&(o=t.slice(i,o),f[c]?f[c]+=o:f[++c]=o),(r=r[0])===(n=n[0])?f[c]?f[c]+=n:f[++c]=n:(f[++c]=null,g.push({i:c,x:S6(r,n)})),i=Gk.lastIndex;return i<t.length&&(o=t.slice(i),f[c]?f[c]+=o:f[++c]=o),f.length<2?g[0]?Lnt(g[0].x):Rnt(t):(t=g.length,function(v){for(var _=0,M;_<t;++_)f[(M=g[_]).i]=M.x(v);return f.join("")})}function jD(e,t){var i=typeof t,r;return t==null||i==="boolean"?$8(t):(i==="number"?S6:i==="string"?(r=g3(t))?(t=r,WK):Fpe:t instanceof g3?WK:t instanceof Date?Pnt:Ant(t)?Ent:Array.isArray(t)?jnt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ont:S6)(e,t)}function Nnt(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function Dpe(e){return function t(i){i=+i;function r(n,o){var c=e((n=ac(n)).h,(o=ac(o)).h),f=qm(n.s,o.s),g=qm(n.l,o.l),v=qm(n.opacity,o.opacity);return function(_){return n.h=c(_),n.s=f(_),n.l=g(Math.pow(_,i)),n.opacity=v(_),n+""}}return r.gamma=t,r}(1)}Dpe(Tnt);var PD=Dpe(qm),Fnt=Lh,Dnt=jo,znt=fl,Vnt="[object String]";function Bnt(e){return typeof e=="string"||!Dnt(e)&&znt(e)&&Fnt(e)==Vnt}var Unt=Bnt;const Gnt=rn(Unt);function qnt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zpe=qnt;const Rt=rn(zpe);function v9(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wnt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OD(e){let t,i,r;e.length!==2?(t=v9,i=(f,g)=>v9(e(f),g),r=(f,g)=>e(f)-g):(t=e===v9||e===Wnt?e:Hnt,i=e,r=e);function n(f,g,v=0,_=f.length){if(v<_){if(t(g,g)!==0)return _;do{const M=v+_>>>1;i(f[M],g)<0?v=M+1:_=M}while(v<_)}return v}function o(f,g,v=0,_=f.length){if(v<_){if(t(g,g)!==0)return _;do{const M=v+_>>>1;i(f[M],g)<=0?v=M+1:_=M}while(v<_)}return v}function c(f,g,v=0,_=f.length){const M=n(f,g,v,_-1);return M>v&&r(f[M-1],g)>-r(f[M],g)?M-1:M}return{left:n,center:c,right:o}}function Hnt(){return 0}function Jnt(e){return e===null?NaN:+e}const Knt=OD(v9),Ynt=Knt.right;OD(Jnt).center;class HK extends Map{constructor(t,i=Qnt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[r,n]of t)this.set(r,n)}get(t){return super.get(JK(this,t))}has(t){return super.has(JK(this,t))}set(t,i){return super.set(Znt(this,t),i)}delete(t){return super.delete(Xnt(this,t))}}function JK({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):i}function Znt({_intern:e,_key:t},i){const r=t(i);return e.has(r)?e.get(r):(e.set(r,i),i)}function Xnt({_intern:e,_key:t},i){const r=t(i);return e.has(r)&&(i=e.get(r),e.delete(r)),i}function Qnt(e){return e!==null&&typeof e=="object"?e.valueOf():e}const est=Math.sqrt(50),tst=Math.sqrt(10),ist=Math.sqrt(2);function $6(e,t,i){const r=(t-e)/Math.max(0,i),n=Math.floor(Math.log10(r)),o=r/Math.pow(10,n),c=o>=est?10:o>=tst?5:o>=ist?2:1;let f,g,v;return n<0?(v=Math.pow(10,-n)/c,f=Math.round(e*v),g=Math.round(t*v),f/v<e&&++f,g/v>t&&--g,v=-v):(v=Math.pow(10,n)*c,f=Math.round(e/v),g=Math.round(t/v),f*v<e&&++f,g*v>t&&--g),g<f&&.5<=i&&i<2?$6(e,t,i*2):[f,g,v]}function bO(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const r=t<e,[n,o,c]=r?$6(t,e,i):$6(e,t,i);if(!(o>=n))return[];const f=o-n+1,g=new Array(f);if(r)if(c<0)for(let v=0;v<f;++v)g[v]=(o-v)/-c;else for(let v=0;v<f;++v)g[v]=(o-v)*c;else if(c<0)for(let v=0;v<f;++v)g[v]=(n+v)/-c;else for(let v=0;v<f;++v)g[v]=(n+v)*c;return g}function wO(e,t,i){return t=+t,e=+e,i=+i,$6(e,t,i)[2]}function xO(e,t,i){t=+t,e=+e,i=+i;const r=t<e,n=r?wO(t,e,i):wO(e,t,i);return(r?-1:1)*(n<0?1/-n:n)}function rst(e,t,i){e=+e,t=+t,i=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+i;for(var r=-1,n=Math.max(0,Math.ceil((t-e)/i))|0,o=new Array(n);++r<n;)o[r]=e+r*i;return o}function k1(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const KK=Symbol("implicit");function g0(){var e=new HK,t=[],i=[],r=KK;function n(o){let c=e.get(o);if(c===void 0){if(r!==KK)return r;e.set(o,c=t.push(o)-1)}return i[c%i.length]}return n.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new HK;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return n},n.range=function(o){return arguments.length?(i=Array.from(o),n):i.slice()},n.unknown=function(o){return arguments.length?(r=o,n):r},n.copy=function(){return g0(t,i).unknown(r)},k1.apply(n,arguments),n}function RD(){var e=g0().unknown(void 0),t=e.domain,i=e.range,r=0,n=1,o,c,f=!1,g=0,v=0,_=.5;delete e.unknown;function M(){var T=t().length,E=n<r,j=E?n:r,R=E?r:n;o=(R-j)/Math.max(1,T-g+v*2),f&&(o=Math.floor(o)),j+=(R-j-o*(T-g))*_,c=o*(1-g),f&&(j=Math.round(j),c=Math.round(c));var N=rst(T).map(function(F){return j+o*F});return i(E?N.reverse():N)}return e.domain=function(T){return arguments.length?(t(T),M()):t()},e.range=function(T){return arguments.length?([r,n]=T,r=+r,n=+n,M()):[r,n]},e.rangeRound=function(T){return[r,n]=T,r=+r,n=+n,f=!0,M()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(T){return arguments.length?(f=!!T,M()):f},e.padding=function(T){return arguments.length?(g=Math.min(1,v=+T),M()):g},e.paddingInner=function(T){return arguments.length?(g=Math.min(1,T),M()):g},e.paddingOuter=function(T){return arguments.length?(v=+T,M()):v},e.align=function(T){return arguments.length?(_=Math.max(0,Math.min(1,T)),M()):_},e.copy=function(){return RD(t(),[r,n]).round(f).paddingInner(g).paddingOuter(v).align(_)},k1.apply(M(),arguments)}function Vpe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vpe(t())},e}function nst(){return Vpe(RD.apply(null,arguments).paddingInner(1))}function sst(e){return function(){return e}}function ost(e){return+e}var YK=[0,1];function pm(e){return e}function _O(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:sst(isNaN(t)?NaN:.5)}function ast(e,t){var i;return e>t&&(i=e,e=t,t=i),function(r){return Math.max(e,Math.min(t,r))}}function lst(e,t,i){var r=e[0],n=e[1],o=t[0],c=t[1];return n<r?(r=_O(n,r),o=i(c,o)):(r=_O(r,n),o=i(o,c)),function(f){return o(r(f))}}function ust(e,t,i){var r=Math.min(e.length,t.length)-1,n=new Array(r),o=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)n[c]=_O(e[c],e[c+1]),o[c]=i(t[c],t[c+1]);return function(f){var g=Ynt(e,f,1,r)-1;return o[g](n[g](f))}}function M8(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function LD(){var e=YK,t=YK,i=jD,r,n,o,c=pm,f,g,v;function _(){var T=Math.min(e.length,t.length);return c!==pm&&(c=ast(e[0],e[T-1])),f=T>2?ust:lst,g=v=null,M}function M(T){return T==null||isNaN(T=+T)?o:(g||(g=f(e.map(r),t,i)))(r(c(T)))}return M.invert=function(T){return c(n((v||(v=f(t,e.map(r),S6)))(T)))},M.domain=function(T){return arguments.length?(e=Array.from(T,ost),_()):e.slice()},M.range=function(T){return arguments.length?(t=Array.from(T),_()):t.slice()},M.rangeRound=function(T){return t=Array.from(T),i=Nnt,_()},M.clamp=function(T){return arguments.length?(c=T?!0:pm,_()):c!==pm},M.interpolate=function(T){return arguments.length?(i=T,_()):i},M.unknown=function(T){return arguments.length?(o=T,M):o},function(T,E){return r=T,n=E,_()}}function Bpe(){return LD()(pm,pm)}function cst(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function M6(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function xg(e){return e=M6(Math.abs(e)),e?e[1]:NaN}function hst(e,t){return function(i,r){for(var n=i.length,o=[],c=0,f=e[0],g=0;n>0&&f>0&&(g+f+1>r&&(f=Math.max(1,r-g)),o.push(i.substring(n-=f,n+f)),!((g+=f+1)>r));)f=e[c=(c+1)%e.length];return o.reverse().join(t)}}function dst(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var pst=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b3(e){if(!(t=pst.exec(e)))throw new Error("invalid format: "+e);var t;return new ND({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}b3.prototype=ND.prototype;function ND(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ND.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fst(e){e:for(var t=e.length,i=1,r=-1,n;i<t;++i)switch(e[i]){case".":r=n=i;break;case"0":r===0&&(r=i),n=i;break;default:if(!+e[i])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var Upe;function yst(e,t){var i=M6(e,t);if(!i)return e+"";var r=i[0],n=i[1],o=n-(Upe=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+M6(e,Math.max(0,t+o-1))[0]}function ZK(e,t){var i=M6(e,t);if(!i)return e+"";var r=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const XK={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:cst,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ZK(e*100,t)},r:ZK,s:yst,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function QK(e){return e}var eY=Array.prototype.map,tY=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mst(e){var t=e.grouping===void 0||e.thousands===void 0?QK:hst(eY.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?QK:dst(eY.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"-":e.minus+"",g=e.nan===void 0?"NaN":e.nan+"";function v(M){M=b3(M);var T=M.fill,E=M.align,j=M.sign,R=M.symbol,N=M.zero,F=M.width,V=M.comma,z=M.precision,G=M.trim,H=M.type;H==="n"?(V=!0,H="g"):XK[H]||(z===void 0&&(z=12),G=!0,H="g"),(N||T==="0"&&E==="=")&&(N=!0,T="0",E="=");var Z=R==="$"?i:R==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Y=R==="$"?r:/[%p]/.test(H)?c:"",re=XK[H],q=/[defgprs%]/.test(H);z=z===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function W(ee){var le=Z,ue=Y,ae,pe,ge;if(H==="c")ue=re(ee)+ue,ee="";else{ee=+ee;var ve=ee<0||1/ee<0;if(ee=isNaN(ee)?g:re(Math.abs(ee),z),G&&(ee=fst(ee)),ve&&+ee==0&&j!=="+"&&(ve=!1),le=(ve?j==="("?j:f:j==="-"||j==="("?"":j)+le,ue=(H==="s"?tY[8+Upe/3]:"")+ue+(ve&&j==="("?")":""),q){for(ae=-1,pe=ee.length;++ae<pe;)if(ge=ee.charCodeAt(ae),48>ge||ge>57){ue=(ge===46?n+ee.slice(ae+1):ee.slice(ae))+ue,ee=ee.slice(0,ae);break}}}V&&!N&&(ee=t(ee,1/0));var ce=le.length+ee.length+ue.length,he=ce<F?new Array(F-ce+1).join(T):"";switch(V&&N&&(ee=t(he+ee,he.length?F-ue.length:1/0),he=""),E){case"<":ee=le+ee+ue+he;break;case"=":ee=le+he+ee+ue;break;case"^":ee=he.slice(0,ce=he.length>>1)+le+ee+ue+he.slice(ce);break;default:ee=he+le+ee+ue;break}return o(ee)}return W.toString=function(){return M+""},W}function _(M,T){var E=v((M=b3(M),M.type="f",M)),j=Math.max(-8,Math.min(8,Math.floor(xg(T)/3)))*3,R=Math.pow(10,-j),N=tY[8+j/3];return function(F){return E(R*F)+N}}return{format:v,formatPrefix:_}}var S5,Cx,Gpe;gst({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function gst(e){return S5=mst(e),Cx=S5.format,Gpe=S5.formatPrefix,S5}function vst(e){return Math.max(0,-xg(Math.abs(e)))}function bst(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xg(t)/3)))*3-xg(Math.abs(e)))}function wst(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xg(t)-xg(e))+1}function xst(e,t,i,r){var n=xO(e,t,i),o;switch(r=b3(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=bst(n,c))&&(r.precision=o),Gpe(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=wst(n,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=vst(n))&&(r.precision=o-(r.type==="%")*2);break}}return Cx(r)}function qpe(e){var t=e.domain;return e.ticks=function(i){var r=t();return bO(r[0],r[r.length-1],i??10)},e.tickFormat=function(i,r){var n=t();return xst(n[0],n[n.length-1],i??10,r)},e.nice=function(i){i==null&&(i=10);var r=t(),n=0,o=r.length-1,c=r[n],f=r[o],g,v,_=10;for(f<c&&(v=c,c=f,f=v,v=n,n=o,o=v);_-- >0;){if(v=wO(c,f,i),v===g)return r[n]=c,r[o]=f,t(r);if(v>0)c=Math.floor(c/v)*v,f=Math.ceil(f/v)*v;else if(v<0)c=Math.ceil(c*v)/v,f=Math.floor(f*v)/v;else break;g=v}return e},e}function Wpe(){var e=Bpe();return e.copy=function(){return M8(e,Wpe())},k1.apply(e,arguments),qpe(e)}function Hpe(e,t){e=e.slice();var i=0,r=e.length-1,n=e[i],o=e[r],c;return o<n&&(c=i,i=r,r=c,c=n,n=o,o=c),e[i]=t.floor(n),e[r]=t.ceil(o),e}function iY(e){return Math.log(e)}function rY(e){return Math.exp(e)}function _st(e){return-Math.log(-e)}function Sst(e){return-Math.exp(-e)}function $st(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mst(e){return e===10?$st:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Tst(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nY(e){return(t,i)=>-e(-t,i)}function kst(e){const t=e(iY,rY),i=t.domain;let r=10,n,o;function c(){return n=Tst(r),o=Mst(r),i()[0]<0?(n=nY(n),o=nY(o),e(_st,Sst)):e(iY,rY),t}return t.base=function(f){return arguments.length?(r=+f,c()):r},t.domain=function(f){return arguments.length?(i(f),c()):i()},t.ticks=f=>{const g=i();let v=g[0],_=g[g.length-1];const M=_<v;M&&([v,_]=[_,v]);let T=n(v),E=n(_),j,R;const N=f==null?10:+f;let F=[];if(!(r%1)&&E-T<N){if(T=Math.floor(T),E=Math.ceil(E),v>0){for(;T<=E;++T)for(j=1;j<r;++j)if(R=T<0?j/o(-T):j*o(T),!(R<v)){if(R>_)break;F.push(R)}}else for(;T<=E;++T)for(j=r-1;j>=1;--j)if(R=T>0?j/o(-T):j*o(T),!(R<v)){if(R>_)break;F.push(R)}F.length*2<N&&(F=bO(v,_,N))}else F=bO(T,E,Math.min(E-T,N)).map(o);return M?F.reverse():F},t.tickFormat=(f,g)=>{if(f==null&&(f=10),g==null&&(g=r===10?"s":","),typeof g!="function"&&(!(r%1)&&(g=b3(g)).precision==null&&(g.trim=!0),g=Cx(g)),f===1/0)return g;const v=Math.max(1,r*f/t.ticks().length);return _=>{let M=_/o(Math.round(n(_)));return M*r<r-.5&&(M*=r),M<=v?g(_):""}},t.nice=()=>i(Hpe(i(),{floor:f=>o(Math.floor(n(f))),ceil:f=>o(Math.ceil(n(f)))})),t}function Jpe(){const e=kst(LD()).domain([1,10]);return e.copy=()=>M8(e,Jpe()).base(e.base()),k1.apply(e,arguments),e}function sY(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oY(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cst(e){var t=1,i=e(sY(t),oY(t));return i.constant=function(r){return arguments.length?e(sY(t=+r),oY(t)):t},qpe(i)}function Kpe(){var e=Cst(LD());return e.copy=function(){return M8(e,Kpe()).constant(e.constant())},k1.apply(e,arguments)}const qk=new Date,Wk=new Date;function In(e,t,i,r){function n(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return n.floor=o=>(e(o=new Date(+o)),o),n.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),n.round=o=>{const c=n(o),f=n.ceil(o);return o-c<f-o?c:f},n.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),n.range=(o,c,f)=>{const g=[];if(o=n.ceil(o),f=f==null?1:Math.floor(f),!(o<c)||!(f>0))return g;let v;do g.push(v=new Date(+o)),t(o,f),e(o);while(v<o&&o<c);return g},n.filter=o=>In(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!o(c););else for(;--f>=0;)for(;t(c,1),!o(c););}),i&&(n.count=(o,c)=>(qk.setTime(+o),Wk.setTime(+c),e(qk),e(Wk),Math.floor(i(qk,Wk))),n.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?n.filter(r?c=>r(c)%o===0:c=>n.count(0,c)%o===0):n)),n}const T6=In(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);T6.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?In(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):T6);T6.range;const uh=1e3,Ja=uh*60,ch=Ja*60,Ch=ch*24,FD=Ch*7,aY=Ch*30,Hk=Ch*365,v0=In(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*uh)},(e,t)=>(t-e)/uh,e=>e.getUTCSeconds());v0.range;const DD=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*uh)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getMinutes());DD.range;const zD=In(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getUTCMinutes());zD.range;const VD=In(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*uh-e.getMinutes()*Ja)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getHours());VD.range;const BD=In(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getUTCHours());BD.range;const UD=In(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ja)/Ch,e=>e.getDate()-1);UD.range;const Ype=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ch,e=>e.getUTCDate()-1);Ype.range;const Zpe=In(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ch,e=>Math.floor(e/Ch));Zpe.range;function C1(e){return In(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*Ja)/FD)}const GD=C1(0),Ist=C1(1),Est=C1(2),Ast=C1(3),jst=C1(4),Pst=C1(5),Ost=C1(6);GD.range;Ist.range;Est.range;Ast.range;jst.range;Pst.range;Ost.range;function I1(e){return In(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/FD)}const qD=I1(0),Rst=I1(1),Lst=I1(2),Nst=I1(3),Fst=I1(4),Dst=I1(5),zst=I1(6);qD.range;Rst.range;Lst.range;Nst.range;Fst.range;Dst.range;zst.range;const WD=In(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WD.range;const HD=In(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());HD.range;const T8=In(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());T8.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});T8.range;const k8=In(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());k8.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:In(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});k8.range;function Xpe(e,t,i,r,n,o){const c=[[v0,1,uh],[v0,5,5*uh],[v0,15,15*uh],[v0,30,30*uh],[o,1,Ja],[o,5,5*Ja],[o,15,15*Ja],[o,30,30*Ja],[n,1,ch],[n,3,3*ch],[n,6,6*ch],[n,12,12*ch],[r,1,Ch],[r,2,2*Ch],[i,1,FD],[t,1,aY],[t,3,3*aY],[e,1,Hk]];function f(v,_,M){const T=_<v;T&&([v,_]=[_,v]);const E=M&&typeof M.range=="function"?M:g(v,_,M),j=E?E.range(v,+_+1):[];return T?j.reverse():j}function g(v,_,M){const T=Math.abs(_-v)/M,E=OD(([,,N])=>N).right(c,T);if(E===c.length)return e.every(xO(v/Hk,_/Hk,M));if(E===0)return T6.every(Math.max(xO(v,_,M),1));const[j,R]=c[T/c[E-1][2]<c[E][2]/T?E-1:E];return j.every(R)}return[f,g]}const[Vst,Bst]=Xpe(k8,HD,qD,Zpe,BD,zD),[Ust,Gst]=Xpe(T8,WD,GD,UD,VD,DD);var Jk=new Date,Kk=new Date;function vn(e,t,i,r){function n(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return n.floor=function(o){return e(o=new Date(+o)),o},n.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},n.round=function(o){var c=n(o),f=n.ceil(o);return o-c<f-o?c:f},n.offset=function(o,c){return t(o=new Date(+o),c==null?1:Math.floor(c)),o},n.range=function(o,c,f){var g=[],v;if(o=n.ceil(o),f=f==null?1:Math.floor(f),!(o<c)||!(f>0))return g;do g.push(v=new Date(+o)),t(o,f),e(o);while(v<o&&o<c);return g},n.filter=function(o){return vn(function(c){if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},function(c,f){if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!o(c););else for(;--f>=0;)for(;t(c,1),!o(c););})},i&&(n.count=function(o,c){return Jk.setTime(+o),Kk.setTime(+c),e(Jk),e(Kk),Math.floor(i(Jk,Kk))},n.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?n.filter(r?function(c){return r(c)%o===0}:function(c){return n.count(0,c)%o===0}):n}),n}var w3=vn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});w3.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,i){t.setTime(+t+i*e)},function(t,i){return(i-t)/e}):w3};w3.range;var k6=1e3,l1=6e4,C6=36e5,Qpe=864e5,efe=6048e5,SO=vn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*k6)},function(e,t){return(t-e)/k6},function(e){return e.getUTCSeconds()});SO.range;var tfe=vn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*k6)},function(e,t){e.setTime(+e+t*l1)},function(e,t){return(t-e)/l1},function(e){return e.getMinutes()});tfe.range;var ife=vn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*k6-e.getMinutes()*l1)},function(e,t){e.setTime(+e+t*C6)},function(e,t){return(t-e)/C6},function(e){return e.getHours()});ife.range;var JD=vn(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*l1)/Qpe},function(e){return e.getDate()-1});JD.range;function E1(e){return vn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,i){t.setDate(t.getDate()+i*7)},function(t,i){return(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*l1)/efe})}var I6=E1(0),x3=E1(1),rfe=E1(2),nfe=E1(3),u1=E1(4),sfe=E1(5),ofe=E1(6);I6.range;x3.range;rfe.range;nfe.range;u1.range;sfe.range;ofe.range;var afe=vn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});afe.range;var Ip=vn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Ip.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:vn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)})};Ip.range;var lfe=vn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*l1)},function(e,t){return(t-e)/l1},function(e){return e.getUTCMinutes()});lfe.range;var ufe=vn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*C6)},function(e,t){return(t-e)/C6},function(e){return e.getUTCHours()});ufe.range;var KD=vn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Qpe},function(e){return e.getUTCDate()-1});KD.range;function A1(e){return vn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i*7)},function(t,i){return(i-t)/efe})}var E6=A1(0),_3=A1(1),cfe=A1(2),hfe=A1(3),c1=A1(4),dfe=A1(5),pfe=A1(6);E6.range;_3.range;cfe.range;hfe.range;c1.range;dfe.range;pfe.range;var ffe=vn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});ffe.range;var Ep=vn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Ep.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:vn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)})};Ep.range;function Yk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tb(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function qst(e){var t=e.dateTime,i=e.date,r=e.time,n=e.periods,o=e.days,c=e.shortDays,f=e.months,g=e.shortMonths,v=ib(n),_=rb(n),M=ib(o),T=rb(o),E=ib(c),j=rb(c),R=ib(f),N=rb(f),F=ib(g),V=rb(g),z={a:ve,A:ce,b:he,B:Ie,c:null,d:pY,e:pY,f:fot,g:$ot,G:Tot,H:hot,I:dot,j:pot,L:yfe,m:yot,M:mot,p:Be,q:Ke,Q:mY,s:gY,S:got,u:vot,U:bot,V:wot,w:xot,W:_ot,x:null,X:null,y:Sot,Y:Mot,Z:kot,"%":yY},G={a:wt,A:He,b:yt,B:Fe,c:null,d:fY,e:fY,f:Aot,g:Vot,G:Uot,H:Cot,I:Iot,j:Eot,L:gfe,m:jot,M:Pot,p:it,q:Ge,Q:mY,s:gY,S:Oot,u:Rot,U:Lot,V:Not,w:Fot,W:Dot,x:null,X:null,y:zot,Y:Bot,Z:Got,"%":yY},H={a:W,A:ee,b:le,B:ue,c:ae,d:hY,e:hY,f:aot,g:cY,G:uY,H:dY,I:dY,j:rot,L:oot,m:iot,M:not,p:q,q:tot,Q:uot,s:cot,S:sot,u:Yst,U:Zst,V:Xst,w:Kst,W:Qst,x:pe,X:ge,y:cY,Y:uY,Z:eot,"%":lot};z.x=Z(i,z),z.X=Z(r,z),z.c=Z(t,z),G.x=Z(i,G),G.X=Z(r,G),G.c=Z(t,G);function Z(Te,Ve){return function(De){var me=[],rt=-1,lt=0,zt=Te.length,xt,bt,te;for(De instanceof Date||(De=new Date(+De));++rt<zt;)Te.charCodeAt(rt)===37&&(me.push(Te.slice(lt,rt)),(bt=lY[xt=Te.charAt(++rt)])!=null?xt=Te.charAt(++rt):bt=xt==="e"?" ":"0",(te=Ve[xt])&&(xt=te(De,bt)),me.push(xt),lt=rt+1);return me.push(Te.slice(lt,rt)),me.join("")}}function Y(Te,Ve){return function(De){var me=tb(1900,void 0,1),rt=re(me,Te,De+="",0),lt,zt;if(rt!=De.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ve&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(lt=Zk(tb(me.y,0,1)),zt=lt.getUTCDay(),lt=zt>4||zt===0?_3.ceil(lt):_3(lt),lt=KD.offset(lt,(me.V-1)*7),me.y=lt.getUTCFullYear(),me.m=lt.getUTCMonth(),me.d=lt.getUTCDate()+(me.w+6)%7):(lt=Yk(tb(me.y,0,1)),zt=lt.getDay(),lt=zt>4||zt===0?x3.ceil(lt):x3(lt),lt=JD.offset(lt,(me.V-1)*7),me.y=lt.getFullYear(),me.m=lt.getMonth(),me.d=lt.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),zt="Z"in me?Zk(tb(me.y,0,1)).getUTCDay():Yk(tb(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(zt+5)%7:me.w+me.U*7-(zt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Zk(me)):Yk(me)}}function re(Te,Ve,De,me){for(var rt=0,lt=Ve.length,zt=De.length,xt,bt;rt<lt;){if(me>=zt)return-1;if(xt=Ve.charCodeAt(rt++),xt===37){if(xt=Ve.charAt(rt++),bt=H[xt in lY?Ve.charAt(rt++):xt],!bt||(me=bt(Te,De,me))<0)return-1}else if(xt!=De.charCodeAt(me++))return-1}return me}function q(Te,Ve,De){var me=v.exec(Ve.slice(De));return me?(Te.p=_.get(me[0].toLowerCase()),De+me[0].length):-1}function W(Te,Ve,De){var me=E.exec(Ve.slice(De));return me?(Te.w=j.get(me[0].toLowerCase()),De+me[0].length):-1}function ee(Te,Ve,De){var me=M.exec(Ve.slice(De));return me?(Te.w=T.get(me[0].toLowerCase()),De+me[0].length):-1}function le(Te,Ve,De){var me=F.exec(Ve.slice(De));return me?(Te.m=V.get(me[0].toLowerCase()),De+me[0].length):-1}function ue(Te,Ve,De){var me=R.exec(Ve.slice(De));return me?(Te.m=N.get(me[0].toLowerCase()),De+me[0].length):-1}function ae(Te,Ve,De){return re(Te,t,Ve,De)}function pe(Te,Ve,De){return re(Te,i,Ve,De)}function ge(Te,Ve,De){return re(Te,r,Ve,De)}function ve(Te){return c[Te.getDay()]}function ce(Te){return o[Te.getDay()]}function he(Te){return g[Te.getMonth()]}function Ie(Te){return f[Te.getMonth()]}function Be(Te){return n[+(Te.getHours()>=12)]}function Ke(Te){return 1+~~(Te.getMonth()/3)}function wt(Te){return c[Te.getUTCDay()]}function He(Te){return o[Te.getUTCDay()]}function yt(Te){return g[Te.getUTCMonth()]}function Fe(Te){return f[Te.getUTCMonth()]}function it(Te){return n[+(Te.getUTCHours()>=12)]}function Ge(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var Ve=Z(Te+="",z);return Ve.toString=function(){return Te},Ve},parse:function(Te){var Ve=Y(Te+="",!1);return Ve.toString=function(){return Te},Ve},utcFormat:function(Te){var Ve=Z(Te+="",G);return Ve.toString=function(){return Te},Ve},utcParse:function(Te){var Ve=Y(Te+="",!0);return Ve.toString=function(){return Te},Ve}}}var lY={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,Wst=/^%/,Hst=/[\\^$*+?|[\]().{}]/g;function Oi(e,t,i){var r=e<0?"-":"",n=(r?-e:e)+"",o=n.length;return r+(o<i?new Array(i-o+1).join(t)+n:n)}function Jst(e){return e.replace(Hst,"\\$&")}function ib(e){return new RegExp("^(?:"+e.map(Jst).join("|")+")","i")}function rb(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function Kst(e,t,i){var r=Wn.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function Yst(e,t,i){var r=Wn.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function Zst(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function Xst(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function Qst(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function uY(e,t,i){var r=Wn.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function cY(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function eot(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function tot(e,t,i){var r=Wn.exec(t.slice(i,i+1));return r?(e.q=r[0]*3-3,i+r[0].length):-1}function iot(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function hY(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function rot(e,t,i){var r=Wn.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function dY(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function not(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function sot(e,t,i){var r=Wn.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function oot(e,t,i){var r=Wn.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function aot(e,t,i){var r=Wn.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function lot(e,t,i){var r=Wst.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function uot(e,t,i){var r=Wn.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function cot(e,t,i){var r=Wn.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function pY(e,t){return Oi(e.getDate(),t,2)}function hot(e,t){return Oi(e.getHours(),t,2)}function dot(e,t){return Oi(e.getHours()%12||12,t,2)}function pot(e,t){return Oi(1+JD.count(Ip(e),e),t,3)}function yfe(e,t){return Oi(e.getMilliseconds(),t,3)}function fot(e,t){return yfe(e,t)+"000"}function yot(e,t){return Oi(e.getMonth()+1,t,2)}function mot(e,t){return Oi(e.getMinutes(),t,2)}function got(e,t){return Oi(e.getSeconds(),t,2)}function vot(e){var t=e.getDay();return t===0?7:t}function bot(e,t){return Oi(I6.count(Ip(e)-1,e),t,2)}function mfe(e){var t=e.getDay();return t>=4||t===0?u1(e):u1.ceil(e)}function wot(e,t){return e=mfe(e),Oi(u1.count(Ip(e),e)+(Ip(e).getDay()===4),t,2)}function xot(e){return e.getDay()}function _ot(e,t){return Oi(x3.count(Ip(e)-1,e),t,2)}function Sot(e,t){return Oi(e.getFullYear()%100,t,2)}function $ot(e,t){return e=mfe(e),Oi(e.getFullYear()%100,t,2)}function Mot(e,t){return Oi(e.getFullYear()%1e4,t,4)}function Tot(e,t){var i=e.getDay();return e=i>=4||i===0?u1(e):u1.ceil(e),Oi(e.getFullYear()%1e4,t,4)}function kot(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oi(t/60|0,"0",2)+Oi(t%60,"0",2)}function fY(e,t){return Oi(e.getUTCDate(),t,2)}function Cot(e,t){return Oi(e.getUTCHours(),t,2)}function Iot(e,t){return Oi(e.getUTCHours()%12||12,t,2)}function Eot(e,t){return Oi(1+KD.count(Ep(e),e),t,3)}function gfe(e,t){return Oi(e.getUTCMilliseconds(),t,3)}function Aot(e,t){return gfe(e,t)+"000"}function jot(e,t){return Oi(e.getUTCMonth()+1,t,2)}function Pot(e,t){return Oi(e.getUTCMinutes(),t,2)}function Oot(e,t){return Oi(e.getUTCSeconds(),t,2)}function Rot(e){var t=e.getUTCDay();return t===0?7:t}function Lot(e,t){return Oi(E6.count(Ep(e)-1,e),t,2)}function vfe(e){var t=e.getUTCDay();return t>=4||t===0?c1(e):c1.ceil(e)}function Not(e,t){return e=vfe(e),Oi(c1.count(Ep(e),e)+(Ep(e).getUTCDay()===4),t,2)}function Fot(e){return e.getUTCDay()}function Dot(e,t){return Oi(_3.count(Ep(e)-1,e),t,2)}function zot(e,t){return Oi(e.getUTCFullYear()%100,t,2)}function Vot(e,t){return e=vfe(e),Oi(e.getUTCFullYear()%100,t,2)}function Bot(e,t){return Oi(e.getUTCFullYear()%1e4,t,4)}function Uot(e,t){var i=e.getUTCDay();return e=i>=4||i===0?c1(e):c1.ceil(e),Oi(e.getUTCFullYear()%1e4,t,4)}function Got(){return"+0000"}function yY(){return"%"}function mY(e){return+e}function gY(e){return Math.floor(+e/1e3)}var ty,C8,bfe,wfe,xfe;qot({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qot(e){return ty=qst(e),C8=ty.format,bfe=ty.parse,wfe=ty.utcFormat,xfe=ty.utcParse,ty}function Wot(e){return new Date(e)}function Hot(e){return e instanceof Date?+e:+new Date(+e)}function YD(e,t,i,r,n,o,c,f,g,v){var _=Bpe(),M=_.invert,T=_.domain,E=v(".%L"),j=v(":%S"),R=v("%I:%M"),N=v("%I %p"),F=v("%a %d"),V=v("%b %d"),z=v("%B"),G=v("%Y");function H(Z){return(g(Z)<Z?E:f(Z)<Z?j:c(Z)<Z?R:o(Z)<Z?N:r(Z)<Z?n(Z)<Z?F:V:i(Z)<Z?z:G)(Z)}return _.invert=function(Z){return new Date(M(Z))},_.domain=function(Z){return arguments.length?T(Array.from(Z,Hot)):T().map(Wot)},_.ticks=function(Z){var Y=T();return e(Y[0],Y[Y.length-1],Z??10)},_.tickFormat=function(Z,Y){return Y==null?H:v(Y)},_.nice=function(Z){var Y=T();return(!Z||typeof Z.range!="function")&&(Z=t(Y[0],Y[Y.length-1],Z??10)),Z?T(Hpe(Y,Z)):_},_.copy=function(){return M8(_,YD(e,t,i,r,n,o,c,f,g,v))},_}function Jot(){return k1.apply(YD(Ust,Gst,T8,WD,GD,UD,VD,DD,v0,C8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kot(){return k1.apply(YD(Vst,Bst,k8,HD,qD,Ype,BD,zD,v0,wfe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function li(e){for(var t=e.length/6|0,i=new Array(t),r=0;r<t;)i[r]="#"+e.slice(r*6,++r*6);return i}const _fe=li("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Sfe=li("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),$fe=li("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Mfe=li("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Tfe=li("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),kfe=li("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Cfe=li("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ife=li("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ZD=li("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Yot=li("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),hr=e=>Int(e[e.length-1]);var I8=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(li);const Zot=hr(I8);var E8=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(li);const Xot=hr(E8);var A8=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(li);const Qot=hr(A8);var j8=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(li);const eat=hr(j8);var P8=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(li);const tat=hr(P8);var O8=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(li);const iat=hr(O8);var R8=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(li);const rat=hr(R8);var L8=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(li);const nat=hr(L8);var N8=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(li);const sat=hr(N8);var F8=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(li);const oat=hr(F8);var D8=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(li);const aat=hr(D8);var z8=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(li);const lat=hr(z8);var V8=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(li);const uat=hr(V8);var B8=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(li);const cat=hr(B8);var U8=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(li);const hat=hr(U8);var G8=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(li);const dat=hr(G8);var q8=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(li);const pat=hr(q8);var W8=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(li);const fat=hr(W8);var H8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(li);const yat=hr(H8);var J8=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(li);const mat=hr(J8);var K8=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(li);const gat=hr(K8);var Y8=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(li);const vat=hr(Y8);var Z8=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(li);const bat=hr(Z8);var X8=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(li);const wat=hr(X8);var Q8=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(li);const xat=hr(Q8);var eM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(li);const _at=hr(eM);var tM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(li);const Sat=hr(tM);function $at(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Mat=PD(ac(300,.5,0),ac(-240,.5,1));var Tat=PD(ac(-100,.75,.35),ac(80,1.5,.8)),kat=PD(ac(260,.75,.35),ac(80,1.5,.8)),$5=ac();function Cat(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return $5.h=360*e-100,$5.s=1.5-1.5*t,$5.l=.8-.9*t,$5+""}var M5=wg(),Iat=Math.PI/3,Eat=Math.PI*2/3;function Aat(e){var t;return e=(.5-e)*Math.PI,M5.r=255*(t=Math.sin(e))*t,M5.g=255*(t=Math.sin(e+Iat))*t,M5.b=255*(t=Math.sin(e+Eat))*t,M5+""}function jat(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function iM(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}const Pat=iM(li("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Oat=iM(li("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Rat=iM(li("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Lat=iM(li("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Nat="__lodash_hash_undefined__";function Fat(e){return this.__data__.set(e,Nat),this}var Dat=Fat;function zat(e){return this.__data__.has(e)}var Vat=zat,Bat=mD,Uat=Dat,Gat=Vat;function A6(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Bat;++t<i;)this.add(e[t])}A6.prototype.add=A6.prototype.push=Uat;A6.prototype.has=Gat;var XD=A6;function qat(e,t,i,r){for(var n=e.length,o=i+(r?1:-1);r?o--:++o<n;)if(t(e[o],o,e))return o;return-1}var Wat=qat;function Hat(e){return e!==e}var Jat=Hat;function Kat(e,t,i){for(var r=i-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}var Yat=Kat,Zat=Wat,Xat=Jat,Qat=Yat;function elt(e,t,i){return t===t?Qat(e,t,i):Zat(e,Xat,i)}var tlt=elt,ilt=tlt;function rlt(e,t){var i=e==null?0:e.length;return!!i&&ilt(e,t,0)>-1}var Efe=rlt;function nlt(e,t,i){for(var r=-1,n=e==null?0:e.length;++r<n;)if(i(t,e[r]))return!0;return!1}var Afe=nlt;function slt(e,t){return e.has(t)}var QD=slt,olt=XD,alt=Efe,llt=Afe,ult=x8,clt=nv,hlt=QD,dlt=200;function plt(e,t,i,r){var n=-1,o=alt,c=!0,f=e.length,g=[],v=t.length;if(!f)return g;i&&(t=ult(t,clt(i))),r?(o=llt,c=!1):t.length>=dlt&&(o=hlt,c=!1,t=new olt(t));e:for(;++n<f;){var _=e[n],M=i==null?_:i(_);if(_=r||_!==0?_:0,c&&M===M){for(var T=v;T--;)if(t[T]===M)continue e;g.push(_)}else o(t,M,r)||g.push(_)}return g}var flt=plt,ylt=flt,mlt=TD,glt=xpe,vlt=mlt(function(e,t){return glt(e)?ylt(e,t):[]}),blt=vlt;const jfe=rn(blt);function Qr(e){return function(){return e}}const vY=1e-12,$O=Math.PI,MO=2*$O,Yf=1e-6,wlt=MO-Yf;function Pfe(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function xlt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pfe;const i=10**t;return function(r){this._+=r[0];for(let n=1,o=r.length;n<o;++n)this._+=Math.round(arguments[n]*i)/i+r[n]}}let _lt=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pfe:xlt(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,r,n){this._append`Q${+t},${+i},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(t,i,r,n,o,c){this._append`C${+t},${+i},${+r},${+n},${this._x1=+o},${this._y1=+c}`}arcTo(t,i,r,n,o){if(t=+t,i=+i,r=+r,n=+n,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,f=this._y1,g=r-t,v=n-i,_=c-t,M=f-i,T=_*_+M*M;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(T>Yf)if(!(Math.abs(M*g-v*_)>Yf)||!o)this._append`L${this._x1=t},${this._y1=i}`;else{let E=r-c,j=n-f,R=g*g+v*v,N=E*E+j*j,F=Math.sqrt(R),V=Math.sqrt(T),z=o*Math.tan(($O-Math.acos((R+T-N)/(2*F*V)))/2),G=z/V,H=z/F;Math.abs(G-1)>Yf&&this._append`L${t+G*_},${i+G*M}`,this._append`A${o},${o},0,0,${+(M*E>_*j)},${this._x1=t+H*g},${this._y1=i+H*v}`}}arc(t,i,r,n,o,c){if(t=+t,i=+i,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(n),g=r*Math.sin(n),v=t+f,_=i+g,M=1^c,T=c?n-o:o-n;this._x1===null?this._append`M${v},${_}`:(Math.abs(this._x1-v)>Yf||Math.abs(this._y1-_)>Yf)&&this._append`L${v},${_}`,r&&(T<0&&(T=T%MO+MO),T>wlt?this._append`A${r},${r},0,1,${M},${t-f},${i-g}A${r},${r},0,1,${M},${this._x1=v},${this._y1=_}`:T>Yf&&this._append`A${r},${r},0,${+(T>=$O)},${M},${this._x1=t+r*Math.cos(o)},${this._y1=i+r*Math.sin(o)}`)}rect(t,i,r,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}};function Ofe(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);t=r}return e},()=>new _lt(t)}function ez(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rfe(e){this._context=e}Rfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tz(e){return new Rfe(e)}function Lfe(e){return e[0]}function Nfe(e){return e[1]}function Ffe(e,t){var i=Qr(!0),r=null,n=tz,o=null,c=Ofe(f);e=typeof e=="function"?e:e===void 0?Lfe:Qr(e),t=typeof t=="function"?t:t===void 0?Nfe:Qr(t);function f(g){var v,_=(g=ez(g)).length,M,T=!1,E;for(r==null&&(o=n(E=c())),v=0;v<=_;++v)!(v<_&&i(M=g[v],v,g))===T&&((T=!T)?o.lineStart():o.lineEnd()),T&&o.point(+e(M,v,g),+t(M,v,g));if(E)return o=null,E+""||null}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Qr(+g),f):e},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Qr(+g),f):t},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Qr(!!g),f):i},f.curve=function(g){return arguments.length?(n=g,r!=null&&(o=n(r)),f):n},f.context=function(g){return arguments.length?(g==null?r=o=null:o=n(r=g),f):r},f}function Slt(e,t,i){var r=null,n=Qr(!0),o=null,c=tz,f=null,g=Ofe(v);e=typeof e=="function"?e:e===void 0?Lfe:Qr(+e),t=typeof t=="function"?t:Qr(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?Nfe:Qr(+i);function v(M){var T,E,j,R=(M=ez(M)).length,N,F=!1,V,z=new Array(R),G=new Array(R);for(o==null&&(f=c(V=g())),T=0;T<=R;++T){if(!(T<R&&n(N=M[T],T,M))===F)if(F=!F)E=T,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),j=T-1;j>=E;--j)f.point(z[j],G[j]);f.lineEnd(),f.areaEnd()}F&&(z[T]=+e(N,T,M),G[T]=+t(N,T,M),f.point(r?+r(N,T,M):z[T],i?+i(N,T,M):G[T]))}if(V)return f=null,V+""||null}function _(){return Ffe().defined(n).curve(c).context(o)}return v.x=function(M){return arguments.length?(e=typeof M=="function"?M:Qr(+M),r=null,v):e},v.x0=function(M){return arguments.length?(e=typeof M=="function"?M:Qr(+M),v):e},v.x1=function(M){return arguments.length?(r=M==null?null:typeof M=="function"?M:Qr(+M),v):r},v.y=function(M){return arguments.length?(t=typeof M=="function"?M:Qr(+M),i=null,v):t},v.y0=function(M){return arguments.length?(t=typeof M=="function"?M:Qr(+M),v):t},v.y1=function(M){return arguments.length?(i=M==null?null:typeof M=="function"?M:Qr(+M),v):i},v.lineX0=v.lineY0=function(){return _().x(e).y(t)},v.lineY1=function(){return _().x(e).y(i)},v.lineX1=function(){return _().x(r).y(t)},v.defined=function(M){return arguments.length?(n=typeof M=="function"?M:Qr(!!M),v):n},v.curve=function(M){return arguments.length?(c=M,o!=null&&(f=c(o)),v):c},v.context=function(M){return arguments.length?(M==null?o=f=null:f=c(o=M),v):o},v}function Ap(){}function j6(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function rM(e){this._context=e}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:j6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:j6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $lt(e){return new rM(e)}function Dfe(e){this._context=e}Dfe.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:j6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mlt(e){return new Dfe(e)}function zfe(e){this._context=e}zfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:j6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tlt(e){return new zfe(e)}function Vfe(e,t){this._basis=new rM(e),this._beta=t}Vfe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var r=e[0],n=t[0],o=e[i]-r,c=t[i]-n,f=-1,g;++f<=i;)g=f/i,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+g*o),this._beta*t[f]+(1-this._beta)*(n+g*c));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const klt=function e(t){function i(r){return t===1?new rM(r):new Vfe(r,t)}return i.beta=function(r){return e(+r)},i}(.85);function P6(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function iz(e,t){this._context=e,this._k=(1-t)/6}iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:P6(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:P6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Clt=function e(t){function i(r){return new iz(r,t)}return i.tension=function(r){return e(+r)},i}(0);function rz(e,t){this._context=e,this._k=(1-t)/6}rz.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:P6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ilt=function e(t){function i(r){return new rz(r,t)}return i.tension=function(r){return e(+r)},i}(0);function nz(e,t){this._context=e,this._k=(1-t)/6}nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:P6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Elt=function e(t){function i(r){return new nz(r,t)}return i.tension=function(r){return e(+r)},i}(0);function sz(e,t,i){var r=e._x1,n=e._y1,o=e._x2,c=e._y2;if(e._l01_a>vY){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,g=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/g,n=(n*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/g}if(e._l23_a>vY){var v=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,_=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*v+e._x1*e._l23_2a-t*e._l12_2a)/_,c=(c*v+e._y1*e._l23_2a-i*e._l12_2a)/_}e._context.bezierCurveTo(r,n,o,c,e._x2,e._y2)}function Bfe(e,t){this._context=e,this._alpha=t}Bfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:sz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Alt=function e(t){function i(r){return t?new Bfe(r,t):new iz(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function Ufe(e,t){this._context=e,this._alpha=t}Ufe.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:sz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jlt=function e(t){function i(r){return t?new Ufe(r,t):new rz(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function Gfe(e,t){this._context=e,this._alpha=t}Gfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Plt=function e(t){function i(r){return t?new Gfe(r,t):new nz(r,0)}return i.alpha=function(r){return e(+r)},i}(.5);function qfe(e){this._context=e}qfe.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Olt(e){return new qfe(e)}function bY(e){return e<0?-1:1}function wY(e,t,i){var r=e._x1-e._x0,n=t-e._x1,o=(e._y1-e._y0)/(r||n<0&&-0),c=(i-e._y1)/(n||r<0&&-0),f=(o*n+c*r)/(r+n);return(bY(o)+bY(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(f))||0}function xY(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function Xk(e,t,i){var r=e._x0,n=e._y0,o=e._x1,c=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,n+f*t,o-f,c-f*i,o,c)}function O6(e){this._context=e}O6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xk(this,this._t0,xY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xk(this,xY(this,i=wY(this,e,t)),i);break;default:Xk(this,this._t0,i=wY(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function Wfe(e){this._context=new Hfe(e)}(Wfe.prototype=Object.create(O6.prototype)).point=function(e,t){O6.prototype.point.call(this,t,e)};function Hfe(e){this._context=e}Hfe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,r,n,o){this._context.bezierCurveTo(t,e,r,i,o,n)}};function Rlt(e){return new O6(e)}function Llt(e){return new Wfe(e)}function Jfe(e){this._context=e}Jfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var r=_Y(e),n=_Y(t),o=0,c=1;c<i;++o,++c)this._context.bezierCurveTo(r[0][o],n[0][o],r[1][o],n[1][o],e[c],t[c]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _Y(e){var t,i=e.length-1,r,n=new Array(i),o=new Array(i),c=new Array(i);for(n[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<i-1;++t)n[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(n[i-1]=2,o[i-1]=7,c[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)r=n[t]/o[t-1],o[t]-=r,c[t]-=r*c[t-1];for(n[i-1]=c[i-1]/o[i-1],t=i-2;t>=0;--t)n[t]=(c[t]-n[t+1])/o[t];for(o[i-1]=(e[i]+n[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-n[t+1];return[n,o]}function Nlt(e){return new Jfe(e)}function nM(e,t){this._context=e,this._t=t}nM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function Flt(e){return new nM(e,.5)}function Dlt(e){return new nM(e,0)}function zlt(e){return new nM(e,1)}function SY(e,t){if((c=e.length)>1)for(var i=1,r,n,o=e[t[0]],c,f=o.length;i<c;++i)for(n=o,o=e[t[i]],r=0;r<f;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function $Y(e){for(var t=e.length,i=new Array(t);--t>=0;)i[t]=t;return i}function Vlt(e,t){return e[t]}function Blt(e){const t=[];return t.key=e,t}function Ult(){var e=Qr([]),t=$Y,i=SY,r=Vlt;function n(o){var c=Array.from(e.apply(this,arguments),Blt),f,g=c.length,v=-1,_;for(const M of o)for(f=0,++v;f<g;++f)(c[f][v]=[0,+r(M,c[f].key,v,o)]).data=M;for(f=0,_=ez(t(c));f<g;++f)c[_[f]].index=f;return i(c,_),c}return n.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Qr(Array.from(o)),n):e},n.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qr(+o),n):r},n.order=function(o){return arguments.length?(t=o==null?$Y:typeof o=="function"?o:Qr(Array.from(o)),n):t},n.offset=function(o){return arguments.length?(i=o??SY,n):i},n}function Glt(e,t){if((g=e.length)>0)for(var i,r=0,n,o,c,f,g,v=e[t[0]].length;r<v;++r)for(c=f=0,i=0;i<g;++i)(o=(n=e[t[i]][r])[1]-n[0])>0?(n[0]=c,n[1]=c+=o):o<0?(n[1]=f,n[0]=f+=o):(n[0]=0,n[1]=o)}var qlt=kx,Wlt=Ppe,Hlt=ov;function Jlt(e,t,i){for(var r=-1,n=t.length,o={};++r<n;){var c=t[r],f=qlt(e,c);i(f,c)&&Wlt(o,Hlt(c,e),f)}return o}var Klt=Jlt;function Ylt(e,t){return e!=null&&t in Object(e)}var Zlt=Ylt,Xlt=ov,Qlt=y8,eut=jo,tut=v8,iut=xD,rut=av;function nut(e,t,i){t=Xlt(t,e);for(var r=-1,n=t.length,o=!1;++r<n;){var c=rut(t[r]);if(!(o=e!=null&&i(e,c)))break;e=e[c]}return o||++r!=n?o:(n=e==null?0:e.length,!!n&&iut(n)&&tut(c,n)&&(eut(e)||Qlt(e)))}var sut=nut,out=Zlt,aut=sut;function lut(e,t){return e!=null&&aut(e,t,out)}var Kfe=lut,uut=Klt,cut=Kfe;function hut(e,t){return uut(e,t,function(i,r){return cut(e,r)})}var dut=hut;function put(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}var oz=put,MY=Qg,fut=y8,yut=jo,TY=MY?MY.isConcatSpreadable:void 0;function mut(e){return yut(e)||fut(e)||!!(TY&&e&&e[TY])}var gut=mut,vut=oz,but=gut;function Yfe(e,t,i,r,n){var o=-1,c=e.length;for(i||(i=but),n||(n=[]);++o<c;){var f=e[o];t>0&&i(f)?t>1?Yfe(f,t-1,i,r,n):vut(n,f):r||(n[n.length]=f)}return n}var Zfe=Yfe,wut=Zfe;function xut(e){var t=e==null?0:e.length;return t?wut(e,1):[]}var _ut=xut,Sut=_ut,$ut=Tpe,Mut=kpe;function Tut(e){return Mut($ut(e,void 0,Sut),e+"")}var Xfe=Tut,kut=dut,Cut=Xfe,Iut=Cut(function(e,t){return e==null?{}:kut(e,t)}),Eut=Iut;const Aut=rn(Eut);function jut(e,t){for(var i=-1,r=e==null?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}var Put=jut,Out=XD,Rut=Put,Lut=QD,Nut=1,Fut=2;function Dut(e,t,i,r,n,o){var c=i&Nut,f=e.length,g=t.length;if(f!=g&&!(c&&g>f))return!1;var v=o.get(e),_=o.get(t);if(v&&_)return v==t&&_==e;var M=-1,T=!0,E=i&Fut?new Out:void 0;for(o.set(e,t),o.set(t,e);++M<f;){var j=e[M],R=t[M];if(r)var N=c?r(R,j,M,t,e,o):r(j,R,M,e,t,o);if(N!==void 0){if(N)continue;T=!1;break}if(E){if(!Rut(t,function(F,V){if(!Lut(E,V)&&(j===F||n(j,F,i,r,o)))return E.push(V)})){T=!1;break}}else if(!(j===R||n(j,R,i,r,o))){T=!1;break}}return o.delete(e),o.delete(t),T}var Qfe=Dut;function zut(e){var t=-1,i=Array(e.size);return e.forEach(function(r,n){i[++t]=[n,r]}),i}var Vut=zut;function But(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i}var az=But,kY=Qg,CY=ype,Uut=Mx,Gut=Qfe,qut=Vut,Wut=az,Hut=1,Jut=2,Kut="[object Boolean]",Yut="[object Date]",Zut="[object Error]",Xut="[object Map]",Qut="[object Number]",ect="[object RegExp]",tct="[object Set]",ict="[object String]",rct="[object Symbol]",nct="[object ArrayBuffer]",sct="[object DataView]",IY=kY?kY.prototype:void 0,Qk=IY?IY.valueOf:void 0;function oct(e,t,i,r,n,o,c){switch(i){case sct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nct:return!(e.byteLength!=t.byteLength||!o(new CY(e),new CY(t)));case Kut:case Yut:case Qut:return Uut(+e,+t);case Zut:return e.name==t.name&&e.message==t.message;case ect:case ict:return e==t+"";case Xut:var f=qut;case tct:var g=r&Hut;if(f||(f=Wut),e.size!=t.size&&!g)return!1;var v=c.get(e);if(v)return v==t;r|=Jut,c.set(e,t);var _=Gut(f(e),f(t),r,n,o,c);return c.delete(e),_;case rct:if(Qk)return Qk.call(e)==Qk.call(t)}return!1}var act=oct,lct=oz,uct=jo;function cct(e,t,i){var r=t(e);return uct(e)?r:lct(r,i(e))}var e0e=cct;function hct(e,t){for(var i=-1,r=e==null?0:e.length,n=0,o=[];++i<r;){var c=e[i];t(c,i,e)&&(o[n++]=c)}return o}var t0e=hct;function dct(){return[]}var i0e=dct,pct=t0e,fct=i0e,yct=Object.prototype,mct=yct.propertyIsEnumerable,EY=Object.getOwnPropertySymbols,gct=EY?function(e){return e==null?[]:(e=Object(e),pct(EY(e),function(t){return mct.call(e,t)}))}:fct,lz=gct,vct=vpe,bct=vct(Object.keys,Object),wct=bct,xct=wD,_ct=wct,Sct=Object.prototype,$ct=Sct.hasOwnProperty;function Mct(e){if(!xct(e))return _ct(e);var t=[];for(var i in Object(e))$ct.call(e,i)&&i!="constructor"&&t.push(i);return t}var Tct=Mct,kct=$pe,Cct=Tct,Ict=rv;function Ect(e){return Ict(e)?kct(e):Cct(e)}var Ix=Ect,Act=e0e,jct=lz,Pct=Ix;function Oct(e){return Act(e,Pct,jct)}var r0e=Oct,AY=r0e,Rct=1,Lct=Object.prototype,Nct=Lct.hasOwnProperty;function Fct(e,t,i,r,n,o){var c=i&Rct,f=AY(e),g=f.length,v=AY(t),_=v.length;if(g!=_&&!c)return!1;for(var M=g;M--;){var T=f[M];if(!(c?T in t:Nct.call(t,T)))return!1}var E=o.get(e),j=o.get(t);if(E&&j)return E==t&&j==e;var R=!0;o.set(e,t),o.set(t,e);for(var N=c;++M<g;){T=f[M];var F=e[T],V=t[T];if(r)var z=c?r(V,F,T,t,e,o):r(F,V,T,e,t,o);if(!(z===void 0?F===V||n(F,V,i,r,o):z)){R=!1;break}N||(N=T=="constructor")}if(R&&!N){var G=e.constructor,H=t.constructor;G!=H&&"constructor"in e&&"constructor"in t&&!(typeof G=="function"&&G instanceof G&&typeof H=="function"&&H instanceof H)&&(R=!1)}return o.delete(e),o.delete(t),R}var Dct=Fct,zct=T1,Vct=dc,Bct=zct(Vct,"DataView"),Uct=Bct,Gct=T1,qct=dc,Wct=Gct(qct,"Promise"),Hct=Wct,Jct=T1,Kct=dc,Yct=Jct(Kct,"Set"),n0e=Yct,Zct=T1,Xct=dc,Qct=Zct(Xct,"WeakMap"),eht=Qct,TO=Uct,kO=yD,CO=Hct,IO=n0e,EO=eht,s0e=Lh,uv=cpe,jY="[object Map]",tht="[object Object]",PY="[object Promise]",OY="[object Set]",RY="[object WeakMap]",LY="[object DataView]",iht=uv(TO),rht=uv(kO),nht=uv(CO),sht=uv(IO),oht=uv(EO),Zf=s0e;(TO&&Zf(new TO(new ArrayBuffer(1)))!=LY||kO&&Zf(new kO)!=jY||CO&&Zf(CO.resolve())!=PY||IO&&Zf(new IO)!=OY||EO&&Zf(new EO)!=RY)&&(Zf=function(e){var t=s0e(e),i=t==tht?e.constructor:void 0,r=i?uv(i):"";if(r)switch(r){case iht:return LY;case rht:return jY;case nht:return PY;case sht:return OY;case oht:return RY}return t});var sM=Zf,eC=f8,aht=Qfe,lht=act,uht=Dct,NY=sM,FY=jo,DY=m8,cht=$D,hht=1,zY="[object Arguments]",VY="[object Array]",T5="[object Object]",dht=Object.prototype,BY=dht.hasOwnProperty;function pht(e,t,i,r,n,o){var c=FY(e),f=FY(t),g=c?VY:NY(e),v=f?VY:NY(t);g=g==zY?T5:g,v=v==zY?T5:v;var _=g==T5,M=v==T5,T=g==v;if(T&&DY(e)){if(!DY(t))return!1;c=!0,_=!1}if(T&&!_)return o||(o=new eC),c||cht(e)?aht(e,t,i,r,n,o):lht(e,t,g,i,r,n,o);if(!(i&hht)){var E=_&&BY.call(e,"__wrapped__"),j=M&&BY.call(t,"__wrapped__");if(E||j){var R=E?e.value():e,N=j?t.value():t;return o||(o=new eC),n(R,N,i,r,o)}}return T?(o||(o=new eC),uht(e,t,i,r,n,o)):!1}var fht=pht,yht=fht,UY=fl;function o0e(e,t,i,r,n){return e===t?!0:e==null||t==null||!UY(e)&&!UY(t)?e!==e&&t!==t:yht(e,t,i,r,o0e,n)}var uz=o0e,mht=uz;function ght(e,t){return mht(e,t)}var vht=ght;const bht=rn(vht);var wht={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},tl.apply(this,arguments)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},AO(e,t)}function oM(e,t){if(e==null)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}var xht=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],_ht=function(e,t){return tl({},t,e)},Sht=function(e,t){var i=prt({},e,t);return xht.forEach(function(r){v2(i,r,_ht(oc(i,r),i.text))}),i},a0e=K.createContext(),l0e=function(e){var t=e.children,i=e.animate,r=i===void 0||i,n=e.config,o=n===void 0?"default":n,c=K.useMemo(function(){var f=Gnt(o)?hD[o]:o;return{animate:r,config:f}},[r,o]);return P.jsx(a0e.Provider,{value:c,children:t})},GY={animate:je.bool,motionConfig:je.oneOfType([je.oneOf(Object.keys(hD)),je.shape({mass:je.number,tension:je.number,friction:je.number,clamp:je.bool,precision:je.number,velocity:je.number,duration:je.number,easing:je.func})])};l0e.propTypes={children:je.node.isRequired,animate:GY.animate,config:GY.motionConfig};var yl=function(){return K.useContext(a0e)},cz=function(e){var t=yl(),i=t.animate,r=t.config,n=function(f){var g=K.useRef();return K.useEffect(function(){g.current=f},[f]),g.current}(e),o=K.useMemo(function(){return Fpe(n,e)},[n,e]),c=hc({from:{value:0},to:{value:1},reset:!0,config:r,immediate:!i}).value;return fO(c,o)},$ht={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:Rt(I8),PRGn:Rt(E8),PiYG:Rt(A8),PuOr:Rt(j8),RdBu:Rt(P8),RdGy:Rt(O8),RdYlBu:Rt(R8),RdYlGn:Rt(L8),spectral:Rt(N8),blues:Rt(Y8),greens:Rt(Z8),greys:Rt(X8),oranges:Rt(tM),purples:Rt(Q8),reds:Rt(eM),BuGn:Rt(F8),BuPu:Rt(D8),GnBu:Rt(z8),OrRd:Rt(V8),PuBuGn:Rt(B8),PuBu:Rt(U8),PuRd:Rt(G8),RdPu:Rt(q8),YlGnBu:Rt(W8),YlGn:Rt(H8),YlOrBr:Rt(J8),YlOrRd:Rt(K8)},Mht=Object.keys($ht);Rt(I8),Rt(E8),Rt(A8),Rt(j8),Rt(P8),Rt(O8),Rt(R8),Rt(L8),Rt(N8),Rt(Y8),Rt(Z8),Rt(X8),Rt(tM),Rt(Q8),Rt(eM),Rt(F8),Rt(D8),Rt(z8),Rt(V8),Rt(B8),Rt(U8),Rt(G8),Rt(q8),Rt(W8),Rt(H8),Rt(J8),Rt(K8);je.oneOfType([je.oneOf(Mht),je.func,je.arrayOf(je.string)]);var jO={basis:$lt,basisClosed:Mlt,basisOpen:Tlt,bundle:klt,cardinal:Clt,cardinalClosed:Ilt,cardinalOpen:Elt,catmullRom:Alt,catmullRomClosed:jlt,catmullRomOpen:Plt,linear:tz,linearClosed:Olt,monotoneX:Rlt,monotoneY:Llt,natural:Nlt,step:Flt,stepAfter:zlt,stepBefore:Dlt},hz=Object.keys(jO);hz.filter(function(e){return e.endsWith("Closed")});jfe(hz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");jfe(hz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var u0e=function(e){if(!jO[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return jO[e]};je.shape({top:je.number,right:je.number,bottom:je.number,left:je.number}).isRequired;var Tht=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];je.oneOf(Tht);g0(ZD);var c0e={top:0,right:0,bottom:0,left:0},aM=function(e,t,i){return i===void 0&&(i={}),K.useMemo(function(){var r=tl({},c0e,i);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}},[e,t,i.top,i.right,i.bottom,i.left])},h0e=function(){var e=K.useRef(null),t=K.useState({left:0,top:0,width:0,height:0}),i=t[0],r=t[1],n=K.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(o){var c=o[0];return r(c.contentRect)})})[0];return K.useEffect(function(){return e.current&&n!==null&&n.observe(e.current),function(){n!==null&&n.disconnect()}},[]),[e,i]},kht=function(e){return K.useMemo(function(){return Sht(wht,e)},[e])},Cht=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?C8(e.slice("5")):Cx(e):function(t){return""+t}},S3=function(e){return K.useMemo(function(){return Cht(e)},[e])},d0e=K.createContext(),Iht={},p0e=function(e){var t=e.theme,i=t===void 0?Iht:t,r=e.children,n=kht(i);return P.jsx(d0e.Provider,{value:n,children:r})};p0e.propTypes={children:je.node.isRequired,theme:je.object};var Cr=function(){return K.useContext(d0e)},Eht=["outlineWidth","outlineColor","outlineOpacity"],dz=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,oM(e,Eht)},f0e=function(e){var t=e.children,i=e.condition,r=e.wrapper;return i?K.cloneElement(r,{},t):t};f0e.propTypes={children:je.node.isRequired,condition:je.bool.isRequired,wrapper:je.element.isRequired};var Aht={position:"relative"},lM=function(e){var t=e.children,i=e.theme,r=e.renderWrapper,n=r===void 0||r,o=e.isInteractive,c=o===void 0||o,f=e.animate,g=e.motionConfig,v=K.useRef(null);return P.jsx(p0e,{theme:i,children:P.jsx(l0e,{animate:f,config:g,children:P.jsx(HYe,{container:v,children:P.jsxs(f0e,{condition:n,wrapper:P.jsx("div",{style:Aht,ref:v}),children:[t,c&&P.jsx(WYe,{})]})})})})};lM.propTypes={children:je.element.isRequired,isInteractive:je.bool,renderWrapper:je.bool,theme:je.object,animate:je.bool,motionConfig:je.string};je.func.isRequired,je.bool,je.bool,je.object.isRequired,je.bool.isRequired,je.string;var Ex=function(e){var t=e.children,i=h0e(),r=i[0],n=i[1],o=n.width>0&&n.height>0;return P.jsx("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:n.width,height:n.height})})};Ex.propTypes={children:je.func.isRequired};var jht=["id","colors"],y0e=function(e){var t=e.id,i=e.colors,r=oM(e,jht);return P.jsx("linearGradient",tl({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:i.map(function(n){var o=n.offset,c=n.color,f=n.opacity;return P.jsx("stop",{offset:o+"%",stopColor:c,stopOpacity:f!==void 0?f:1},o)})}))};y0e.propTypes={id:je.string.isRequired,colors:je.arrayOf(je.shape({offset:je.number.isRequired,color:je.string.isRequired,opacity:je.number})).isRequired,gradientTransform:je.string};var m0e={linearGradient:y0e},nb={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},PO=K.memo(function(e){var t=e.id,i=e.background,r=i===void 0?nb.background:i,n=e.color,o=n===void 0?nb.color:n,c=e.size,f=c===void 0?nb.size:c,g=e.padding,v=g===void 0?nb.padding:g,_=e.stagger,M=_===void 0?nb.stagger:_,T=f+v,E=f/2,j=v/2;return M===!0&&(T=2*f+2*v),P.jsxs("pattern",{id:t,width:T,height:T,patternUnits:"userSpaceOnUse",children:[P.jsx("rect",{width:T,height:T,fill:r}),P.jsx("circle",{cx:j+E,cy:j+E,r:E,fill:o}),M&&P.jsx("circle",{cx:1.5*v+f+E,cy:1.5*v+f+E,r:E,fill:o})]})});PO.displayName="PatternDots",PO.propTypes={id:je.string.isRequired,color:je.string.isRequired,background:je.string.isRequired,size:je.number.isRequired,padding:je.number.isRequired,stagger:je.bool.isRequired};var $3=function(e){return e*Math.PI/180},Pht=function(e){return 180*e/Math.PI},Oht=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},Rht=function(e){var t=e%360;return t<0&&(t+=360),t},Lht={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},sb={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},OO=K.memo(function(e){var t=e.id,i=e.spacing,r=i===void 0?sb.spacing:i,n=e.rotation,o=n===void 0?sb.rotation:n,c=e.background,f=c===void 0?sb.background:c,g=e.color,v=g===void 0?sb.color:g,_=e.lineWidth,M=_===void 0?sb.lineWidth:_,T=Math.round(o)%360,E=Math.abs(r);T>180?T-=360:T>90?T-=180:T<-180?T+=360:T<-90&&(T+=180);var j,R=E,N=E;return T===0?j=`
                M 0 0 L `+R+` 0
                M 0 `+N+" L "+R+" "+N+`
            `:T===90?j=`
                M 0 0 L 0 `+N+`
                M `+R+" 0 L "+R+" "+N+`
            `:(R=Math.abs(E/Math.sin($3(T))),N=E/Math.sin($3(90-T)),j=T>0?`
                    M 0 `+-N+" L "+2*R+" "+N+`
                    M `+-R+" "+-N+" L "+R+" "+N+`
                    M `+-R+" 0 L "+R+" "+2*N+`
                `:`
                    M `+-R+" "+N+" L "+R+" "+-N+`
                    M `+-R+" "+2*N+" L "+2*R+" "+-N+`
                    M 0 `+2*N+" L "+2*R+` 0
                `),P.jsxs("pattern",{id:t,width:R,height:N,patternUnits:"userSpaceOnUse",children:[P.jsx("rect",{width:R,height:N,fill:f,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),P.jsx("path",{d:j,strokeWidth:M,stroke:v,strokeLinecap:"square"})]})});OO.displayName="PatternLines",OO.propTypes={id:je.string.isRequired,spacing:je.number.isRequired,rotation:je.number.isRequired,background:je.string.isRequired,color:je.string.isRequired,lineWidth:je.number.isRequired};var ob={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},RO=K.memo(function(e){var t=e.id,i=e.color,r=i===void 0?ob.color:i,n=e.background,o=n===void 0?ob.background:n,c=e.size,f=c===void 0?ob.size:c,g=e.padding,v=g===void 0?ob.padding:g,_=e.stagger,M=_===void 0?ob.stagger:_,T=f+v,E=v/2;return M===!0&&(T=2*f+2*v),P.jsxs("pattern",{id:t,width:T,height:T,patternUnits:"userSpaceOnUse",children:[P.jsx("rect",{width:T,height:T,fill:o}),P.jsx("rect",{x:E,y:E,width:f,height:f,fill:r}),M&&P.jsx("rect",{x:1.5*v+f,y:1.5*v+f,width:f,height:f,fill:r})]})});RO.displayName="PatternSquares",RO.propTypes={id:je.string.isRequired,color:je.string.isRequired,background:je.string.isRequired,size:je.number.isRequired,padding:je.number.isRequired,stagger:je.bool.isRequired};var g0e={patternDots:PO,patternLines:OO,patternSquares:RO},Nht=["type"],LO=tl({},m0e,g0e),v0e=function(e){var t=e.defs;return!t||t.length<1?null:P.jsx("defs",{"aria-hidden":!0,children:t.map(function(i){var r=i.type,n=oM(i,Nht);return LO[r]?K.createElement(LO[r],tl({key:n.id},n)):null})})};v0e.propTypes={defs:je.arrayOf(je.shape({type:je.oneOf(Object.keys(LO)).isRequired,id:je.string.isRequired}))};var Fht=K.memo(v0e),pz=function(e){var t=e.width,i=e.height,r=e.margin,n=e.defs,o=e.children,c=e.role,f=e.ariaLabel,g=e.ariaLabelledBy,v=e.ariaDescribedBy,_=e.isFocusable,M=Cr();return P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,role:c,"aria-label":f,"aria-labelledby":g,"aria-describedby":v,focusable:_,tabIndex:_?0:void 0,children:[P.jsx(Fht,{defs:n}),P.jsx("rect",{width:t,height:i,fill:M.background}),P.jsx("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};pz.propTypes={width:je.number.isRequired,height:je.number.isRequired,margin:je.shape({top:je.number.isRequired,left:je.number.isRequired}).isRequired,defs:je.array,children:je.oneOfType([je.arrayOf(je.node),je.node]).isRequired,role:je.string,isFocusable:je.bool,ariaLabel:je.string,ariaLabelledBy:je.string,ariaDescribedBy:je.string};var b0e=function(e){var t=e.size,i=e.color,r=e.borderWidth,n=e.borderColor;return P.jsx("circle",{r:t/2,fill:i,stroke:n,strokeWidth:r,style:{pointerEvents:"none"}})};b0e.propTypes={size:je.number.isRequired,color:je.string.isRequired,borderWidth:je.number.isRequired,borderColor:je.string.isRequired};var Dht=K.memo(b0e),w0e=function(e){var t=e.x,i=e.y,r=e.symbol,n=r===void 0?Dht:r,o=e.size,c=e.datum,f=e.color,g=e.borderWidth,v=e.borderColor,_=e.label,M=e.labelTextAnchor,T=M===void 0?"middle":M,E=e.labelYOffset,j=E===void 0?-12:E,R=Cr(),N=yl(),F=N.animate,V=N.config,z=hc({transform:"translate("+t+", "+i+")",config:V,immediate:!F});return P.jsxs(Nr.g,{transform:z.transform,style:{pointerEvents:"none"},children:[K.createElement(n,{size:o,color:f,datum:c,borderWidth:g,borderColor:v}),_&&P.jsx("text",{textAnchor:T,y:j,style:dz(R.dots.text),children:_})]})};w0e.propTypes={x:je.number.isRequired,y:je.number.isRequired,datum:je.object.isRequired,size:je.number.isRequired,color:je.string.isRequired,borderWidth:je.number.isRequired,borderColor:je.string.isRequired,symbol:je.oneOfType([je.func,je.object]),label:je.oneOfType([je.string,je.number]),labelTextAnchor:je.oneOf(["start","middle","end"]),labelYOffset:je.number};var zht=K.memo(w0e),x0e=function(e){var t=e.width,i=e.height,r=e.axis,n=e.scale,o=e.value,c=e.lineStyle,f=e.textStyle,g=e.legend,v=e.legendPosition,_=v===void 0?"top-right":v,M=e.legendOffsetX,T=M===void 0?14:M,E=e.legendOffsetY,j=E===void 0?14:E,R=e.legendOrientation,N=R===void 0?"horizontal":R,F=Cr(),V=0,z=0,G=0,H=0;r==="y"?(G=n(o),z=t):(V=n(o),H=i);var Z=null;if(g){var Y=function(re){var q=re.axis,W=re.width,ee=re.height,le=re.position,ue=re.offsetX,ae=re.offsetY,pe=re.orientation,ge=0,ve=0,ce=pe==="vertical"?-90:0,he="start";if(q==="x")switch(le){case"top-left":ge=-ue,ve=ae,he="end";break;case"top":ve=-ae,he=pe==="horizontal"?"middle":"start";break;case"top-right":ge=ue,ve=ae,he=pe==="horizontal"?"start":"end";break;case"right":ge=ue,ve=ee/2,he=pe==="horizontal"?"start":"middle";break;case"bottom-right":ge=ue,ve=ee-ae,he="start";break;case"bottom":ve=ee+ae,he=pe==="horizontal"?"middle":"end";break;case"bottom-left":ve=ee-ae,ge=-ue,he=pe==="horizontal"?"end":"start";break;case"left":ge=-ue,ve=ee/2,he=pe==="horizontal"?"end":"middle"}else switch(le){case"top-left":ge=ue,ve=-ae,he="start";break;case"top":ge=W/2,ve=-ae,he=pe==="horizontal"?"middle":"start";break;case"top-right":ge=W-ue,ve=-ae,he=pe==="horizontal"?"end":"start";break;case"right":ge=W+ue,he=pe==="horizontal"?"start":"middle";break;case"bottom-right":ge=W-ue,ve=ae,he="end";break;case"bottom":ge=W/2,ve=ae,he=pe==="horizontal"?"middle":"end";break;case"bottom-left":ge=ue,ve=ae,he=pe==="horizontal"?"start":"end";break;case"left":ge=-ue,he=pe==="horizontal"?"end":"middle"}return{x:ge,y:ve,rotation:ce,textAnchor:he}}({axis:r,width:t,height:i,position:_,offsetX:T,offsetY:j,orientation:N});Z=P.jsx("text",{transform:"translate("+Y.x+", "+Y.y+") rotate("+Y.rotation+")",textAnchor:Y.textAnchor,dominantBaseline:"central",style:f,children:g})}return P.jsxs("g",{transform:"translate("+V+", "+G+")",children:[P.jsx("line",{x1:0,x2:z,y1:0,y2:H,stroke:F.markers.lineColor,strokeWidth:F.markers.lineStrokeWidth,style:c}),Z]})};x0e.propTypes={width:je.number.isRequired,height:je.number.isRequired,axis:je.oneOf(["x","y"]).isRequired,scale:je.func.isRequired,value:je.oneOfType([je.number,je.string,je.instanceOf(Date)]).isRequired,lineStyle:je.object,textStyle:je.object,legend:je.string,legendPosition:je.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:je.number.isRequired,legendOffsetY:je.number.isRequired,legendOrientation:je.oneOf(["horizontal","vertical"]).isRequired};var Vht=K.memo(x0e),_0e=function(e){var t=e.markers,i=e.width,r=e.height,n=e.xScale,o=e.yScale;return t&&t.length!==0?t.map(function(c,f){return P.jsx(Vht,tl({},c,{width:i,height:r,scale:c.axis==="y"?o:n}),f)}):null};_0e.propTypes={width:je.number.isRequired,height:je.number.isRequired,xScale:je.func.isRequired,yScale:je.func.isRequired,markers:je.arrayOf(je.shape({axis:je.oneOf(["x","y"]).isRequired,value:je.oneOfType([je.number,je.string,je.instanceOf(Date)]).isRequired,lineStyle:je.object,textStyle:je.object}))};var S0e=K.memo(_0e),Bht=["theme","renderWrapper","animate","motionConfig"],$0e=function(e){return function(t){var i,r;function n(){return t.apply(this,arguments)||this}return r=t,(i=n).prototype=Object.create(r.prototype),i.prototype.constructor=i,AO(i,r),n.prototype.render=function(){var o=this.props,c=o.theme,f=o.renderWrapper,g=o.animate,v=o.motionConfig,_=oM(o,Bht);return P.jsx(lM,{theme:c,renderWrapper:f,isInteractive:_.isInteractive,animate:g,motionConfig:v,children:P.jsx(e,tl({},_))})},n}(K.Component)},Uht=function(e,t){var i=fD(e)?e:function(r){return oc(r,e)};return i},M0e=function(e){return fD(e)?e:function(t){return oc(t,e)}},tC=function(e){return K.useMemo(function(){return M0e(e)},[e])},Ght=function(e,t,i,r){var n=i-e,o=r-t;return n*=n,o*=o,Math.sqrt(n+o)},T0e=function(e,t,i,r,n,o){return e<=n&&n<=e+i&&t<=o&&o<=t+r},lw=function(e,t){var i,r="touches"in t?t.touches[0]:t,n=r.clientX,o=r.clientY,c=e.getBoundingClientRect(),f=(i=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===c.width?1:i.width/c.width;return[(n-c.left)*f,(o-c.top)*f]},qht=Object.keys(m0e),Wht=Object.keys(g0e),Hht=function(e,t,i){if(e==="*")return!0;if(fD(e))return e(t);if(SD(e)){var r=i?oc(t,i):t;return bht(Aut(r,Object.keys(e)),e)}return!1},k0e=function(e,t,i,r){var n=r===void 0?{}:r,o=n.dataKey,c=n.colorKey,f=c===void 0?"color":c,g=n.targetKey,v=g===void 0?"fill":g,_=[],M={};return e.length&&t.length&&(_=[].concat(e),t.forEach(function(T){for(var E=function(){var R=i[j],N=R.id,F=R.match;if(Hht(F,T,o)){var V=e.find(function(W){return W.id===N});if(V){if(Wht.includes(V.type))if(V.background==="inherit"||V.color==="inherit"){var z=oc(T,f),G=V.background,H=V.color,Z=N;V.background==="inherit"&&(Z=Z+".bg."+z,G=z),V.color==="inherit"&&(Z=Z+".fg."+z,H=z),v2(T,v,"url(#"+Z+")"),M[Z]||(_.push(tl({},V,{id:Z,background:G,color:H})),M[Z]=1)}else v2(T,v,"url(#"+N+")");else if(qht.includes(V.type))if(V.colors.map(function(W){return W.color}).includes("inherit")){var Y=oc(T,f),re=N,q=tl({},V,{colors:V.colors.map(function(W,ee){return W.color!=="inherit"?W:(re=re+"."+ee+"."+Y,tl({},W,{color:W.color==="inherit"?Y:W.color}))})});q.id=re,v2(T,v,"url(#"+re+")"),M[re]||(_.push(q),M[re]=1)}else v2(T,v,"url(#"+N+")")}return"break"}},j=0;j<i.length&&E()!=="break";j++);})),_};function Jht(){}var Kht=Jht,iC=n0e,Yht=Kht,Zht=az,Xht=1/0,Qht=iC&&1/Zht(new iC([,-0]))[1]==Xht?function(e){return new iC(e)}:Yht,edt=Qht,tdt=XD,idt=Efe,rdt=Afe,ndt=QD,sdt=edt,odt=az,adt=200;function ldt(e,t,i){var r=-1,n=idt,o=e.length,c=!0,f=[],g=f;if(i)c=!1,n=rdt;else if(o>=adt){var v=t?null:sdt(e);if(v)return odt(v);c=!1,n=ndt,g=new tdt}else g=t?[]:f;e:for(;++r<o;){var _=e[r],M=t?t(_):_;if(_=i||_!==0?_:0,c&&M===M){for(var T=g.length;T--;)if(g[T]===M)continue e;t&&g.push(M),f.push(_)}else n(g,M,i)||(g!==f&&g.push(M),f.push(_))}return f}var C0e=ldt,udt=C0e;function cdt(e){return e&&e.length?udt(e):[]}var hdt=cdt;const qY=rn(hdt);var ddt=f8,pdt=uz,fdt=1,ydt=2;function mdt(e,t,i,r){var n=i.length,o=n,c=!r;if(e==null)return!o;for(e=Object(e);n--;){var f=i[n];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++n<o;){f=i[n];var g=f[0],v=e[g],_=f[1];if(c&&f[2]){if(v===void 0&&!(g in e))return!1}else{var M=new ddt;if(r)var T=r(v,_,g,e,t,M);if(!(T===void 0?pdt(_,v,fdt|ydt,r,M):T))return!1}}return!0}var gdt=mdt,vdt=pc;function bdt(e){return e===e&&!vdt(e)}var I0e=bdt,wdt=I0e,xdt=Ix;function _dt(e){for(var t=xdt(e),i=t.length;i--;){var r=t[i],n=e[r];t[i]=[r,n,wdt(n)]}return t}var Sdt=_dt;function $dt(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}var E0e=$dt,Mdt=gdt,Tdt=Sdt,kdt=E0e;function Cdt(e){var t=Tdt(e);return t.length==1&&t[0][2]?kdt(t[0][0],t[0][1]):function(i){return i===e||Mdt(i,e,t)}}var Idt=Cdt,Edt=uz,Adt=jpe,jdt=Kfe,Pdt=kD,Odt=I0e,Rdt=E0e,Ldt=av,Ndt=1,Fdt=2;function Ddt(e,t){return Pdt(e)&&Odt(t)?Rdt(Ldt(e),t):function(i){var r=Adt(i,e);return r===void 0&&r===t?jdt(i,e):Edt(t,r,Ndt|Fdt)}}var zdt=Ddt;function Vdt(e){return function(t){return t==null?void 0:t[e]}}var Bdt=Vdt,Udt=kx;function Gdt(e){return function(t){return Udt(t,e)}}var qdt=Gdt,Wdt=Bdt,Hdt=qdt,Jdt=kD,Kdt=av;function Ydt(e){return Jdt(e)?Wdt(Kdt(e)):Hdt(e)}var Zdt=Ydt,Xdt=Idt,Qdt=zdt,ept=b8,tpt=jo,ipt=Zdt;function rpt(e){return typeof e=="function"?e:e==null?ept:typeof e=="object"?tpt(e)?Qdt(e[0],e[1]):Xdt(e):ipt(e)}var fz=rpt,npt=fz,spt=C0e;function opt(e,t){return e&&e.length?spt(e,npt(t)):[]}var apt=opt;const NO=rn(apt);var lpt=ppe,upt=Ix;function cpt(e,t){return e&&lpt(e,t,upt)}var hpt=cpt,dpt=rv;function ppt(e,t){return function(i,r){if(i==null)return i;if(!dpt(i))return e(i,r);for(var n=i.length,o=t?n:-1,c=Object(i);(t?o--:++o<n)&&r(c[o],o,c)!==!1;);return i}}var fpt=ppt,ypt=hpt,mpt=fpt,gpt=mpt(ypt),A0e=gpt,vpt=A0e,bpt=rv;function wpt(e,t){var i=-1,r=bpt(e)?Array(e.length):[];return vpt(e,function(n,o,c){r[++i]=t(n,o,c)}),r}var xpt=wpt;function _pt(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}var Spt=_pt,WY=w8;function $pt(e,t){if(e!==t){var i=e!==void 0,r=e===null,n=e===e,o=WY(e),c=t!==void 0,f=t===null,g=t===t,v=WY(t);if(!f&&!v&&!o&&e>t||o&&c&&g&&!f&&!v||r&&c&&g||!i&&g||!n)return 1;if(!r&&!o&&!v&&e<t||v&&i&&n&&!r&&!o||f&&i&&n||!c&&n||!g)return-1}return 0}var Mpt=$pt,Tpt=Mpt;function kpt(e,t,i){for(var r=-1,n=e.criteria,o=t.criteria,c=n.length,f=i.length;++r<c;){var g=Tpt(n[r],o[r]);if(g){if(r>=f)return g;var v=i[r];return g*(v=="desc"?-1:1)}}return e.index-t.index}var Cpt=kpt,rC=x8,Ipt=kx,Ept=fz,Apt=xpt,jpt=Spt,Ppt=nv,Opt=Cpt,Rpt=b8,Lpt=jo;function Npt(e,t,i){t.length?t=rC(t,function(o){return Lpt(o)?function(c){return Ipt(c,o.length===1?o[0]:o)}:o}):t=[Rpt];var r=-1;t=rC(t,Ppt(Ept));var n=Apt(e,function(o,c,f){var g=rC(t,function(v){return v(o)});return{criteria:g,index:++r,value:o}});return jpt(n,function(o,c){return Opt(o,c,i)})}var Fpt=Npt,Dpt=Zfe,zpt=Fpt,Vpt=TD,HY=Cpe,Bpt=Vpt(function(e,t){if(e==null)return[];var i=t.length;return i>1&&HY(e,t[0],t[1])?t=[]:i>2&&HY(t[0],t[1],t[2])&&(t=[t[0]]),zpt(e,Dpt(t,1),[])}),Upt=Bpt;const Gpt=rn(Upt);var qpt=Lh,Wpt=fl,Hpt="[object Date]";function Jpt(e){return Wpt(e)&&qpt(e)==Hpt}var Kpt=Jpt,Ypt=Kpt,Zpt=nv,JY=g8,KY=JY&&JY.isDate,Xpt=KY?Zpt(KY):Ypt,Qpt=Xpt;const eft=rn(Qpt);function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n0.apply(this,arguments)}var iy=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],tft={millisecond:[],second:iy.slice(0,1),minute:iy.slice(0,2),hour:iy.slice(0,3),day:iy.slice(0,4),month:iy.slice(0,5),year:iy.slice(0,6)},ift=function(e){return function(t){return tft[e].forEach(function(i){i(t)}),t}},j0e=function(e){var t=e.format,i=t===void 0?"native":t,r=e.precision,n=r===void 0?"millisecond":r,o=e.useUTC,c=o===void 0||o,f=ift(n);return function(g){if(g===void 0)return g;if(i==="native"||g instanceof Date)return f(g);var v=c?xfe(i):bfe(i);return f(v(g))}},rft=function(e,t,i,r){var n,o,c,f,g=e.min,v=g===void 0?0:g,_=e.max,M=_===void 0?"auto":_,T=e.stacked,E=T!==void 0&&T,j=e.reverse,R=j!==void 0&&j,N=e.clamp,F=N!==void 0&&N,V=e.nice,z=V!==void 0&&V;v==="auto"?n=E===!0?(o=t.minStacked)!=null?o:0:t.min:n=v,M==="auto"?c=E===!0?(f=t.maxStacked)!=null?f:0:t.max:c=M;var G=Wpe().rangeRound(r==="x"?[0,i]:[i,0]).domain(R?[c,n]:[n,c]).clamp(F);return z===!0?G.nice():typeof z=="number"&&G.nice(z),nft(G,E)},nft=function(e,t){t===void 0&&(t=!1);var i=e;return i.type="linear",i.stacked=t,i},sft=function(e,t,i){var r=nst().range([0,i]).domain(t.all);return r.type="point",r},oft=function(e,t,i,r){var n=e.round,o=n===void 0||n,c=RD().range(r==="x"?[0,i]:[i,0]).domain(t.all).round(o);return aft(c)},aft=function(e){var t=e;return t.type="band",t},lft=function(e,t,i){var r,n,o=e.format,c=o===void 0?"native":o,f=e.precision,g=f===void 0?"millisecond":f,v=e.min,_=v===void 0?"auto":v,M=e.max,T=M===void 0?"auto":M,E=e.useUTC,j=E===void 0||E,R=e.nice,N=R!==void 0&&R,F=j0e({format:c,precision:g,useUTC:j});r=_==="auto"?F(t.min):c!=="native"?F(_):_,n=T==="auto"?F(t.max):c!=="native"?F(T):T;var V=j?Kot():Jot();V.range([0,i]),r&&n&&V.domain([r,n]),N===!0?V.nice():typeof N!="object"&&typeof N!="number"||V.nice(N);var z=V;return z.type="time",z.useUTC=j,z},uft=function(e,t,i,r){var n,o=e.base,c=o===void 0?10:o,f=e.min,g=f===void 0?"auto":f,v=e.max,_=v===void 0?"auto":v;if(t.all.some(function(R){return R===0}))throw new Error("a log scale domain must not include or cross zero");var M,T,E=!1;if(t.all.filter(function(R){return R!=null}).forEach(function(R){E||(n===void 0?n=Math.sign(R):Math.sign(R)!==n&&(E=!0))}),E)throw new Error("a log scale domain must be strictly-positive or strictly-negative");M=g==="auto"?t.min:g,T=_==="auto"?t.max:_;var j=Jpe().domain([M,T]).rangeRound(r==="x"?[0,i]:[i,0]).base(c).nice();return j.type="log",j},cft=function(e,t,i,r){var n,o,c=e.constant,f=c===void 0?1:c,g=e.min,v=g===void 0?"auto":g,_=e.max,M=_===void 0?"auto":_,T=e.reverse,E=T!==void 0&&T;n=v==="auto"?t.min:v,o=M==="auto"?t.max:M;var j=Kpe().constant(f).rangeRound(r==="x"?[0,i]:[i,0]).nice();E===!0?j.domain([o,n]):j.domain([n,o]);var R=j;return R.type="symlog",R},hft=function(e){return e==="x"?"y":"x"},dft=function(e,t){return e===t},pft=function(e,t){return e.getTime()===t.getTime()};function M3(e,t,i,r){switch(e.type){case"linear":return rft(e,t,i,r);case"point":return sft(e,t,i);case"band":return oft(e,t,i,r);case"time":return lft(e,t,i);case"log":return uft(e,t,i,r);case"symlog":return cft(e,t,i,r);default:throw new Error("invalid scale spec")}}var YY=function(e,t,i){var r;if("stacked"in i&&i.stacked){var n=e.data[t==="x"?"xStacked":"yStacked"];return n==null?null:i(n)}return(r=i(e.data[t]))!=null?r:null},fft=function(e,t,i,r,n){var o=e.map(function(_){return function(M){return n0({},M,{data:M.data.map(function(T){return{data:n0({},T)}})})}(_)}),c=yft(o,t,i);"stacked"in t&&t.stacked===!0&&mft(c,o),"stacked"in i&&i.stacked===!0&&gft(c,o);var f=M3(t,c.x,r,"x"),g=M3(i,c.y,n,"y"),v=o.map(function(_){return n0({},_,{data:_.data.map(function(M){return n0({},M,{position:{x:YY(M,"x",f),y:YY(M,"y",g)}})})})});return n0({},c,{series:v,xScale:f,yScale:g})},yft=function(e,t,i){return{x:ZY(e,"x",t),y:ZY(e,"y",i)}},ZY=function(e,t,i,r){var n={},o=n.getValue,c=o===void 0?function(j){return j.data[t]}:o,f=n.setValue,g=f===void 0?function(j,R){j.data[t]=R}:f;if(i.type==="linear")e.forEach(function(j){j.data.forEach(function(R){var N=c(R);N&&g(R,parseFloat(String(N)))})});else if(i.type==="time"&&i.format!=="native"){var v=j0e(i);e.forEach(function(j){j.data.forEach(function(R){var N=c(R);N&&g(R,v(N))})})}var _=[];switch(e.forEach(function(j){j.data.forEach(function(R){_.push(c(R))})}),i.type){case"linear":var M=Gpt(qY(_).filter(function(j){return j!==null}),function(j){return j});return{all:M,min:Math.min.apply(Math,M),max:Math.max.apply(Math,M)};case"time":var T=NO(_,function(j){return j.getTime()}).slice(0).sort(function(j,R){return R.getTime()-j.getTime()}).reverse();return{all:T,min:T[0],max:Rt(T)};default:var E=qY(_);return{all:E,min:E[0],max:Rt(E)}}},P0e=function(e,t,i){var r=hft(e),n=[];t[r].all.forEach(function(o){var c=eft(o)?pft:dft,f=[];i.forEach(function(g){var v=g.data.find(function(E){return c(E.data[r],o)}),_=null,M=null;if(v!==void 0){if((_=v.data[e])!==null){var T=Rt(f);T===void 0?M=_:T!==null&&(M=T+_)}v.data[e==="x"?"xStacked":"yStacked"]=M}f.push(M),M!==null&&n.push(M)})}),t[e].minStacked=Math.min.apply(Math,n),t[e].maxStacked=Math.max.apply(Math,n)},mft=function(e,t){return P0e("x",e,t)},gft=function(e,t){return P0e("y",e,t)},O0e=function(e){var t=e.bandwidth();if(t===0)return e;var i=t/2;return e.round()&&(i=Math.round(i)),function(r){var n;return((n=e(r))!=null?n:0)+i}},R0e={millisecond:[w3,w3],second:[SO,SO],minute:[tfe,lfe],hour:[ife,ufe],day:[vn(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),vn(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[I6,E6],sunday:[I6,E6],monday:[x3,_3],tuesday:[rfe,cfe],wednesday:[nfe,hfe],thursday:[u1,c1],friday:[sfe,dfe],saturday:[ofe,pfe],month:[afe,ffe],year:[Ip,Ep]},vft=Object.keys(R0e),bft=new RegExp("^every\\s*(\\d+)?\\s*("+vft.join("|")+")s?$","i"),L0e=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var i=t.match(bft);if(i){var r=i[1],n=i[2],o=R0e[n][e.useUTC?1:0];if(n==="day"){var c,f,g=e.domain(),v=g[0],_=g[1],M=new Date(_);return M.setDate(M.getDate()+1),(c=(f=o.every(Number(r??1)))==null?void 0:f.range(v,M))!=null?c:[]}if(r===void 0)return e.ticks(o);var T=o.every(Number(r));if(T)return e.ticks(T)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(E=t)=="number"&&isFinite(E)&&Math.floor(E)===E)return e.ticks(t)}var E;return e.domain()};function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},il.apply(this,arguments)}var N0e=function(e){var t,i=e.axis,r=e.scale,n=e.ticksPosition,o=e.tickValues,c=e.tickSize,f=e.tickPadding,g=e.tickRotation,v=e.truncateTickAt,_=e.engine,M=_===void 0?"svg":_,T=L0e(r,o),E=Lht[M],j="bandwidth"in r?O0e(r):r,R={lineX:0,lineY:0},N={textX:0,textY:0},F=typeof document=="object"&&document.dir==="rtl",V=E.align.center,z=E.baseline.center;return i==="x"?(t=function(G){var H;return{x:(H=j(G))!=null?H:0,y:0}},R.lineY=c*(n==="after"?1:-1),N.textY=(c+f)*(n==="after"?1:-1),z=n==="after"?E.baseline.top:E.baseline.bottom,g===0?V=E.align.center:n==="after"&&g<0||n==="before"&&g>0?(V=E.align[F?"left":"right"],z=E.baseline.center):(n==="after"&&g>0||n==="before"&&g<0)&&(V=E.align[F?"right":"left"],z=E.baseline.center)):(t=function(G){var H;return{x:0,y:(H=j(G))!=null?H:0}},R.lineX=c*(n==="after"?1:-1),N.textX=(c+f)*(n==="after"?1:-1),V=n==="after"?E.align.left:E.align.right),{ticks:T.map(function(G){var H=typeof G=="string"?function(Z){var Y=String(Z).length;return v&&v>0&&Y>v?""+String(Z).slice(0,v).concat("..."):""+Z}(G):G;return il({key:G instanceof Date?""+G.valueOf():""+G,value:H},t(G),R,N)}),textAlign:V,textBaseline:z}},F0e=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var i=C8(e);return function(r){return i(r instanceof Date?r:new Date(r))}}return Cx(e)},FO=function(e){var t,i=e.width,r=e.height,n=e.scale,o=e.axis,c=e.values,f=(t=c,(Array.isArray(t)?c:void 0)||L0e(n,c)),g="bandwidth"in n?O0e(n):n,v=o==="x"?f.map(function(_){var M,T;return{key:_ instanceof Date?""+_.valueOf():""+_,x1:(M=g(_))!=null?M:0,x2:(T=g(_))!=null?T:0,y1:0,y2:r}}):f.map(function(_){var M,T;return{key:_ instanceof Date?""+_.valueOf():""+_,x1:0,x2:i,y1:(M=g(_))!=null?M:0,y2:(T=g(_))!=null?T:0}});return v},wft=K.memo(function(e){var t,i=e.value,r=e.format,n=e.lineX,o=e.lineY,c=e.onClick,f=e.textBaseline,g=e.textAnchor,v=e.animatedProps,_=Cr(),M=_.axis.ticks.line,T=_.axis.ticks.text,E=(t=r==null?void 0:r(i))!=null?t:i,j=K.useMemo(function(){var R={opacity:v.opacity};return c?{style:il({},R,{cursor:"pointer"}),onClick:function(N){return c(N,E)}}:{style:R}},[v.opacity,c,E]);return P.jsxs(Nr.g,il({transform:v.transform},j,{children:[P.jsx("line",{x1:0,x2:n,y1:0,y2:o,style:M}),T.outlineWidth>0&&P.jsx(Nr.text,{dominantBaseline:f,textAnchor:g,transform:v.textTransform,style:T,strokeWidth:2*T.outlineWidth,stroke:T.outlineColor,strokeLinejoin:"round",children:""+E}),P.jsx(Nr.text,{dominantBaseline:f,textAnchor:g,transform:v.textTransform,style:dz(T),children:""+E})]}))}),xft=function(e){var t=e.axis,i=e.scale,r=e.x,n=r===void 0?0:r,o=e.y,c=o===void 0?0:o,f=e.length,g=e.ticksPosition,v=e.tickValues,_=e.tickSize,M=_===void 0?5:_,T=e.tickPadding,E=T===void 0?5:T,j=e.tickRotation,R=j===void 0?0:j,N=e.format,F=e.renderTick,V=F===void 0?wft:F,z=e.truncateTickAt,G=e.legend,H=e.legendPosition,Z=H===void 0?"end":H,Y=e.legendOffset,re=Y===void 0?0:Y,q=e.onClick,W=e.ariaHidden,ee=Cr(),le=ee.axis.legend.text,ue=K.useMemo(function(){return F0e(N,i)},[N,i]),ae=N0e({axis:t,scale:i,ticksPosition:g,tickValues:v,tickSize:M,tickPadding:E,tickRotation:R,truncateTickAt:z}),pe=ae.ticks,ge=ae.textAlign,ve=ae.textBaseline,ce=null;if(G!==void 0){var he,Ie=0,Be=0,Ke=0;t==="y"?(Ke=-90,Ie=re,Z==="start"?(he="start",Be=f):Z==="middle"?(he="middle",Be=f/2):Z==="end"&&(he="end")):(Be=re,Z==="start"?he="start":Z==="middle"?(he="middle",Ie=f/2):Z==="end"&&(he="end",Ie=f)),ce=P.jsxs(P.Fragment,{children:[le.outlineWidth>0&&P.jsx("text",{transform:"translate("+Ie+", "+Be+") rotate("+Ke+")",textAnchor:he,style:il({dominantBaseline:"central"},le),strokeWidth:2*le.outlineWidth,stroke:le.outlineColor,strokeLinejoin:"round",children:G}),P.jsx("text",{transform:"translate("+Ie+", "+Be+") rotate("+Ke+")",textAnchor:he,style:il({dominantBaseline:"central"},le),children:G})]})}var wt=yl(),He=wt.animate,yt=wt.config,Fe=hc({transform:"translate("+n+","+c+")",lineX2:t==="x"?f:0,lineY2:t==="x"?0:f,config:yt,immediate:!He}),it=K.useCallback(function(Ve){return{opacity:1,transform:"translate("+Ve.x+","+Ve.y+")",textTransform:"translate("+Ve.textX+","+Ve.textY+") rotate("+R+")"}},[R]),Ge=K.useCallback(function(Ve){return{opacity:0,transform:"translate("+Ve.x+","+Ve.y+")",textTransform:"translate("+Ve.textX+","+Ve.textY+") rotate("+R+")"}},[R]),Te=l8(pe,{keys:function(Ve){return Ve.key},initial:it,from:Ge,enter:it,update:it,leave:{opacity:0},config:yt,immediate:!He});return P.jsxs(Nr.g,{transform:Fe.transform,"aria-hidden":W,children:[Te(function(Ve,De,me,rt){return K.createElement(V,il({tickIndex:rt,format:ue,rotate:R,textBaseline:ve,textAnchor:ge,truncateTickAt:z,animatedProps:Ve},De,q?{onClick:q}:{}))}),P.jsx(Nr.line,{style:ee.axis.domain.line,x1:0,x2:Fe.lineX2,y1:0,y2:Fe.lineY2}),ce]})},_ft=K.memo(xft),D0e=["top","right","bottom","left"],z0e=K.memo(function(e){var t=e.xScale,i=e.yScale,r=e.width,n=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return P.jsx(P.Fragment,{children:D0e.map(function(c){var f=o[c];if(!f)return null;var g=c==="top"||c==="bottom";return P.jsx(_ft,il({},f,{axis:g?"x":"y",x:c==="right"?r:0,y:c==="bottom"?n:0,scale:g?t:i,length:g?r:n,ticksPosition:c==="top"||c==="left"?"before":"after",truncateTickAt:f.truncateTickAt}),c)})})}),Sft=K.memo(function(e){var t=e.animatedProps,i=Cr();return P.jsx(Nr.line,il({},t,i.grid.line))}),XY=K.memo(function(e){var t=e.lines,i=yl(),r=i.animate,n=i.config,o=l8(t,{keys:function(c){return c.key},initial:function(c){return{opacity:1,x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y2}},from:function(c){return{opacity:0,x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y2}},enter:function(c){return{opacity:1,x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y2}},update:function(c){return{opacity:1,x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y2}},leave:{opacity:0},config:n,immediate:!r});return P.jsx("g",{children:o(function(c,f){return K.createElement(Sft,il({},f,{key:f.key,animatedProps:c}))})})}),V0e=K.memo(function(e){var t=e.width,i=e.height,r=e.xScale,n=e.yScale,o=e.xValues,c=e.yValues,f=K.useMemo(function(){return!!r&&FO({width:t,height:i,scale:r,axis:"x",values:o})},[r,o,t,i]),g=K.useMemo(function(){return!!n&&FO({width:t,height:i,scale:n,axis:"y",values:c})},[i,t,n,c]);return P.jsxs(P.Fragment,{children:[f&&P.jsx(XY,{lines:f}),g&&P.jsx(XY,{lines:g})]})}),$ft=function(e,t){var i,r=t.axis,n=t.scale,o=t.x,c=o===void 0?0:o,f=t.y,g=f===void 0?0:f,v=t.length,_=t.ticksPosition,M=t.tickValues,T=t.tickSize,E=T===void 0?5:T,j=t.tickPadding,R=j===void 0?5:j,N=t.tickRotation,F=N===void 0?0:N,V=t.format,z=t.legend,G=t.legendPosition,H=G===void 0?"end":G,Z=t.legendOffset,Y=Z===void 0?0:Z,re=t.theme,q=N0e({axis:r,scale:n,ticksPosition:_,tickValues:M,tickSize:E,tickPadding:R,tickRotation:F,engine:"canvas"}),W=q.ticks,ee=q.textAlign,le=q.textBaseline;e.save(),e.translate(c,g),e.textAlign=ee,e.textBaseline=le;var ue=re.axis.ticks.text;e.font=(ue.fontWeight?ue.fontWeight+" ":"")+ue.fontSize+"px "+ue.fontFamily,((i=re.axis.domain.line.strokeWidth)!=null?i:0)>0&&(e.lineWidth=Number(re.axis.domain.line.strokeWidth),e.lineCap="square",re.axis.domain.line.stroke&&(e.strokeStyle=re.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(r==="x"?v:0,r==="x"?0:v),e.stroke());var ae=typeof V=="function"?V:function(he){return""+he};if(W.forEach(function(he){var Ie;((Ie=re.axis.ticks.line.strokeWidth)!=null?Ie:0)>0&&(e.lineWidth=Number(re.axis.ticks.line.strokeWidth),e.lineCap="square",re.axis.ticks.line.stroke&&(e.strokeStyle=re.axis.ticks.line.stroke),e.beginPath(),e.moveTo(he.x,he.y),e.lineTo(he.x+he.lineX,he.y+he.lineY),e.stroke());var Be=ae(he.value);e.save(),e.translate(he.x+he.textX,he.y+he.textY),e.rotate($3(F)),ue.outlineWidth>0&&(e.strokeStyle=ue.outlineColor,e.lineWidth=2*ue.outlineWidth,e.lineJoin="round",e.strokeText(""+Be,0,0)),re.axis.ticks.text.fill&&(e.fillStyle=ue.fill),e.fillText(""+Be,0,0),e.restore()}),z!==void 0){var pe=0,ge=0,ve=0,ce="center";r==="y"?(ve=-90,pe=Y,H==="start"?(ce="start",ge=v):H==="middle"?(ce="center",ge=v/2):H==="end"&&(ce="end")):(ge=Y,H==="start"?ce="start":H==="middle"?(ce="center",pe=v/2):H==="end"&&(ce="end",pe=v)),e.translate(pe,ge),e.rotate($3(ve)),e.font=(re.axis.legend.text.fontWeight?re.axis.legend.text.fontWeight+" ":"")+re.axis.legend.text.fontSize+"px "+re.axis.legend.text.fontFamily,re.axis.legend.text.fill&&(e.fillStyle=re.axis.legend.text.fill),e.textAlign=ce,e.textBaseline="middle",e.fillText(z,0,0)}e.restore()},B0e=function(e,t){var i=t.xScale,r=t.yScale,n=t.width,o=t.height,c=t.top,f=t.right,g=t.bottom,v=t.left,_=t.theme,M={top:c,right:f,bottom:g,left:v};D0e.forEach(function(T){var E=M[T];if(!E)return null;var j=T==="top"||T==="bottom",R=T==="top"||T==="left"?"before":"after",N=j?i:r,F=F0e(E.format,N);$ft(e,il({},E,{axis:j?"x":"y",x:T==="right"?n:0,y:T==="bottom"?o:0,scale:N,format:F,length:j?n:o,ticksPosition:R,theme:_}))})},R6=function(e,t){var i=t.width,r=t.height,n=t.scale,o=t.axis,c=t.values;FO({width:i,height:r,scale:n,axis:o,values:c}).forEach(function(f){e.beginPath(),e.moveTo(f.x1,f.y1),e.lineTo(f.x2,f.y2),e.stroke()})},Mft=A0e;function Tft(e,t){var i=[];return Mft(e,function(r,n,o){t(r,n,o)&&i.push(r)}),i}var kft=Tft,Cft=t0e,Ift=kft,Eft=fz,Aft=jo;function jft(e,t){var i=Aft(e)?Cft:Ift;return i(e,Eft(t))}var Pft=jft;const Oft=rn(Pft);var Rft=Lh,Lft=fl,Nft="[object Number]";function Fft(e){return typeof e=="number"||Lft(e)&&Rft(e)==Nft}var Dft=Fft;const QY=rn(Dft);function zft(e,t){for(var i=-1,r=e==null?0:e.length;++i<r&&t(e[i],i,e)!==!1;);return e}var Vft=zft,Bft=sv,Uft=Ix;function Gft(e,t){return e&&Bft(t,Uft(t),e)}var qft=Gft,Wft=sv,Hft=Tx;function Jft(e,t){return e&&Wft(t,Hft(t),e)}var Kft=Jft,Yft=sv,Zft=lz;function Xft(e,t){return Yft(e,Zft(e),t)}var Qft=Xft,e0t=oz,t0t=bD,i0t=lz,r0t=i0e,n0t=Object.getOwnPropertySymbols,s0t=n0t?function(e){for(var t=[];e;)e0t(t,i0t(e)),e=t0t(e);return t}:r0t,U0e=s0t,o0t=sv,a0t=U0e;function l0t(e,t){return o0t(e,a0t(e),t)}var u0t=l0t,c0t=e0e,h0t=U0e,d0t=Tx;function p0t(e){return c0t(e,d0t,h0t)}var G0e=p0t,f0t=Object.prototype,y0t=f0t.hasOwnProperty;function m0t(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&y0t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var g0t=m0t,v0t=vD;function b0t(e,t){var i=t?v0t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var w0t=b0t,x0t=/\w*$/;function _0t(e){var t=new e.constructor(e.source,x0t.exec(e));return t.lastIndex=e.lastIndex,t}var S0t=_0t,eZ=Qg,tZ=eZ?eZ.prototype:void 0,iZ=tZ?tZ.valueOf:void 0;function $0t(e){return iZ?Object(iZ.call(e)):{}}var M0t=$0t,T0t=vD,k0t=w0t,C0t=S0t,I0t=M0t,E0t=mpe,A0t="[object Boolean]",j0t="[object Date]",P0t="[object Map]",O0t="[object Number]",R0t="[object RegExp]",L0t="[object Set]",N0t="[object String]",F0t="[object Symbol]",D0t="[object ArrayBuffer]",z0t="[object DataView]",V0t="[object Float32Array]",B0t="[object Float64Array]",U0t="[object Int8Array]",G0t="[object Int16Array]",q0t="[object Int32Array]",W0t="[object Uint8Array]",H0t="[object Uint8ClampedArray]",J0t="[object Uint16Array]",K0t="[object Uint32Array]";function Y0t(e,t,i){var r=e.constructor;switch(t){case D0t:return T0t(e);case A0t:case j0t:return new r(+e);case z0t:return k0t(e,i);case V0t:case B0t:case U0t:case G0t:case q0t:case W0t:case H0t:case J0t:case K0t:return E0t(e,i);case P0t:return new r;case O0t:case N0t:return new r(e);case R0t:return C0t(e);case L0t:return new r;case F0t:return I0t(e)}}var Z0t=Y0t,X0t=sM,Q0t=fl,e1t="[object Map]";function t1t(e){return Q0t(e)&&X0t(e)==e1t}var i1t=t1t,r1t=i1t,n1t=nv,rZ=g8,nZ=rZ&&rZ.isMap,s1t=nZ?n1t(nZ):r1t,o1t=s1t,a1t=sM,l1t=fl,u1t="[object Set]";function c1t(e){return l1t(e)&&a1t(e)==u1t}var h1t=c1t,d1t=h1t,p1t=nv,sZ=g8,oZ=sZ&&sZ.isSet,f1t=oZ?p1t(oZ):d1t,y1t=f1t,m1t=f8,g1t=Vft,v1t=MD,b1t=qft,w1t=Kft,x1t=fpe,_1t=gpe,S1t=Qft,$1t=u0t,M1t=r0e,T1t=G0e,k1t=sM,C1t=g0t,I1t=Z0t,E1t=bpe,A1t=jo,j1t=m8,P1t=o1t,O1t=pc,R1t=y1t,L1t=Ix,N1t=Tx,F1t=1,D1t=2,z1t=4,q0e="[object Arguments]",V1t="[object Array]",B1t="[object Boolean]",U1t="[object Date]",G1t="[object Error]",W0e="[object Function]",q1t="[object GeneratorFunction]",W1t="[object Map]",H1t="[object Number]",H0e="[object Object]",J1t="[object RegExp]",K1t="[object Set]",Y1t="[object String]",Z1t="[object Symbol]",X1t="[object WeakMap]",Q1t="[object ArrayBuffer]",eyt="[object DataView]",tyt="[object Float32Array]",iyt="[object Float64Array]",ryt="[object Int8Array]",nyt="[object Int16Array]",syt="[object Int32Array]",oyt="[object Uint8Array]",ayt="[object Uint8ClampedArray]",lyt="[object Uint16Array]",uyt="[object Uint32Array]",yr={};yr[q0e]=yr[V1t]=yr[Q1t]=yr[eyt]=yr[B1t]=yr[U1t]=yr[tyt]=yr[iyt]=yr[ryt]=yr[nyt]=yr[syt]=yr[W1t]=yr[H1t]=yr[H0e]=yr[J1t]=yr[K1t]=yr[Y1t]=yr[Z1t]=yr[oyt]=yr[ayt]=yr[lyt]=yr[uyt]=!0;yr[G1t]=yr[W0e]=yr[X1t]=!1;function b9(e,t,i,r,n,o){var c,f=t&F1t,g=t&D1t,v=t&z1t;if(i&&(c=n?i(e,r,n,o):i(e)),c!==void 0)return c;if(!O1t(e))return e;var _=A1t(e);if(_){if(c=C1t(e),!f)return _1t(e,c)}else{var M=k1t(e),T=M==W0e||M==q1t;if(j1t(e))return x1t(e,f);if(M==H0e||M==q0e||T&&!n){if(c=g||T?{}:E1t(e),!f)return g?$1t(e,w1t(c,e)):S1t(e,b1t(c,e))}else{if(!yr[M])return n?e:{};c=I1t(e,M,f)}}o||(o=new m1t);var E=o.get(e);if(E)return E;o.set(e,c),R1t(e)?e.forEach(function(N){c.add(b9(N,t,i,N,e,o))}):P1t(e)&&e.forEach(function(N,F){c.set(F,b9(N,t,i,F,e,o))});var j=v?g?T1t:M1t:g?N1t:L1t,R=_?void 0:j(e);return g1t(R||e,function(N,F){R&&(F=N,N=e[F]),v1t(c,F,b9(N,t,i,F,e,o))}),c}var cyt=b9;function hyt(e,t,i){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),i=i>n?n:i,i<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(n);++r<n;)o[r]=e[r+t];return o}var dyt=hyt,pyt=kx,fyt=dyt;function yyt(e,t){return t.length<2?e:pyt(e,fyt(t,0,-1))}var myt=yyt,gyt=ov,vyt=zpe,byt=myt,wyt=av;function xyt(e,t){return t=gyt(t,e),e=byt(e,t),e==null||delete e[wyt(vyt(t))]}var _yt=xyt,Syt=_D;function $yt(e){return Syt(e)?void 0:e}var Myt=$yt,Tyt=x8,kyt=cyt,Cyt=_yt,Iyt=ov,Eyt=sv,Ayt=Myt,jyt=Xfe,Pyt=G0e,Oyt=1,Ryt=2,Lyt=4,Nyt=jyt(function(e,t){var i={};if(e==null)return i;var r=!1;t=Tyt(t,function(o){return o=Iyt(o,e),r||(r=o.length>1),o}),Eyt(e,Pyt(e),i),r&&(i=kyt(i,Oyt|Ryt|Lyt,Ayt));for(var n=t.length;n--;)Cyt(i,t[n]);return i}),Fyt=Nyt;const J0e=rn(Fyt);function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lc.apply(this,arguments)}var DO={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},Dyt=function(e){var t=typeof e;return K.isValidElement(e)||t==="string"||t==="function"||t==="object"},zyt=function(e){var t=typeof e;return t==="string"||t==="function"},T3=function(e){return e.type==="circle"},zO=function(e){return e.type==="dot"},k3=function(e){return e.type==="rect"},Vyt=function(e){var t=e.data,i=e.annotations,r=e.getPosition,n=e.getDimensions;return i.reduce(function(o,c){var f=c.offset||0;return[].concat(o,Oft(t,c.match).map(function(g){var v=r(g),_=n(g);return(T3(c)||k3(c))&&(_.size=_.size+2*f,_.width=_.width+2*f,_.height=_.height+2*f),lc({},J0e(c,["match","offset"]),v,_,{size:c.size||_.size,datum:g})}))},[])},Byt=function(e,t,i,r){var n=Math.atan2(r-t,i-e);return Rht(Pht(n))},K0e=function(e){var t,i,r=e.x,n=e.y,o=e.noteX,c=e.noteY,f=e.noteWidth,g=f===void 0?DO.noteWidth:f,v=e.noteTextOffset,_=v===void 0?DO.noteTextOffset:v;if(QY(o))t=r+o;else{if(o.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=o.abs}if(QY(c))i=n+c;else{if(c.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");i=c.abs}var M=r,T=n,E=Byt(r,n,t,i);if(T3(e)){var j=Oht($3(E),e.size/2);M+=j.x,T+=j.y}if(k3(e)){var R=Math.round((E+90)/45)%8;R===0&&(T-=e.height/2),R===1&&(M+=e.width/2,T-=e.height/2),R===2&&(M+=e.width/2),R===3&&(M+=e.width/2,T+=e.height/2),R===4&&(T+=e.height/2),R===5&&(M-=e.width/2,T+=e.height/2),R===6&&(M-=e.width/2),R===7&&(M-=e.width/2,T-=e.height/2)}var N=t,F=t;return(E+90)%360>180?(N-=g,F-=g):F+=g,{points:[[M,T],[t,i],[F,i]],text:[N,i-_],angle:E+90}},Y0e=function(e){var t=e.data,i=e.annotations,r=e.getPosition,n=e.getDimensions;return K.useMemo(function(){return Vyt({data:t,annotations:i,getPosition:r,getDimensions:n})},[t,i,r,n])},Uyt=function(e){var t=e.annotations;return K.useMemo(function(){return t.map(function(i){return lc({},i,{computed:K0e(lc({},i))})})},[t])},Gyt=function(e){return K.useMemo(function(){return K0e(e)},[e])},qyt=function(e){var t=e.datum,i=e.x,r=e.y,n=e.note,o=Cr(),c=yl(),f=c.animate,g=c.config,v=hc({x:i,y:r,config:g,immediate:!f});return typeof n=="function"?K.createElement(n,{x:i,y:r,datum:t}):P.jsxs(P.Fragment,{children:[o.annotations.text.outlineWidth>0&&P.jsx(Nr.text,{x:v.x,y:v.y,style:lc({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:n}),P.jsx(Nr.text,{x:v.x,y:v.y,style:J0e(o.annotations.text,["outlineWidth","outlineColor"]),children:n})]})},aZ=function(e){var t=e.points,i=e.isOutline,r=i!==void 0&&i,n=Cr(),o=K.useMemo(function(){var g=t[0];return t.slice(1).reduce(function(v,_){return v+" L"+_[0]+","+_[1]},"M"+g[0]+","+g[1])},[t]),c=cz(o);if(r&&n.annotations.link.outlineWidth<=0)return null;var f=lc({},n.annotations.link);return r&&(f.strokeLinecap="square",f.strokeWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,f.stroke=n.annotations.link.outlineColor,f.opacity=n.annotations.link.outlineOpacity),P.jsx(Nr.path,{fill:"none",d:c,style:f})},Wyt=function(e){var t=e.x,i=e.y,r=e.size,n=Cr(),o=yl(),c=o.animate,f=o.config,g=hc({x:t,y:i,radius:r/2,config:f,immediate:!c});return P.jsxs(P.Fragment,{children:[n.annotations.outline.outlineWidth>0&&P.jsx(Nr.circle,{cx:g.x,cy:g.y,r:g.radius,style:lc({},n.annotations.outline,{fill:"none",strokeWidth:n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,stroke:n.annotations.outline.outlineColor,opacity:n.annotations.outline.outlineOpacity})}),P.jsx(Nr.circle,{cx:g.x,cy:g.y,r:g.radius,style:n.annotations.outline})]})},Hyt=function(e){var t=e.x,i=e.y,r=e.size,n=r===void 0?DO.dotSize:r,o=Cr(),c=yl(),f=c.animate,g=c.config,v=hc({x:t,y:i,radius:n/2,config:g,immediate:!f});return P.jsxs(P.Fragment,{children:[o.annotations.outline.outlineWidth>0&&P.jsx(Nr.circle,{cx:v.x,cy:v.y,r:v.radius,style:lc({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),P.jsx(Nr.circle,{cx:v.x,cy:v.y,r:v.radius,style:o.annotations.symbol})]})},Jyt=function(e){var t=e.x,i=e.y,r=e.width,n=e.height,o=e.borderRadius,c=o===void 0?6:o,f=Cr(),g=yl(),v=g.animate,_=g.config,M=hc({x:t-r/2,y:i-n/2,width:r,height:n,config:_,immediate:!v});return P.jsxs(P.Fragment,{children:[f.annotations.outline.outlineWidth>0&&P.jsx(Nr.rect,{x:M.x,y:M.y,rx:c,ry:c,width:M.width,height:M.height,style:lc({},f.annotations.outline,{fill:"none",strokeWidth:f.annotations.outline.strokeWidth+2*f.annotations.outline.outlineWidth,stroke:f.annotations.outline.outlineColor,opacity:f.annotations.outline.outlineOpacity})}),P.jsx(Nr.rect,{x:M.x,y:M.y,rx:c,ry:c,width:M.width,height:M.height,style:f.annotations.outline})]})},Kyt=function(e){var t=e.datum,i=e.x,r=e.y,n=e.note,o=Gyt(e);if(!Dyt(n))throw new Error("note should be a valid react element");return P.jsxs(P.Fragment,{children:[P.jsx(aZ,{points:o.points,isOutline:!0}),T3(e)&&P.jsx(Wyt,{x:i,y:r,size:e.size}),zO(e)&&P.jsx(Hyt,{x:i,y:r,size:e.size}),k3(e)&&P.jsx(Jyt,{x:i,y:r,width:e.width,height:e.height,borderRadius:e.borderRadius}),P.jsx(aZ,{points:o.points}),P.jsx(qyt,{datum:t,x:o.text[0],y:o.text[1],note:n})]})},lZ=function(e,t){t.forEach(function(i,r){var n=i[0],o=i[1];r===0?e.moveTo(n,o):e.lineTo(n,o)})},Yyt=function(e,t){var i=t.annotations,r=t.theme;i.length!==0&&(e.save(),i.forEach(function(n){if(!zyt(n.note))throw new Error("note is invalid for canvas implementation");r.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=r.annotations.link.outlineColor,e.lineWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,e.beginPath(),lZ(e,n.computed.points),e.stroke(),e.lineCap="butt"),T3(n)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),zO(n)&&r.annotations.symbol.outlineWidth>0&&(e.strokeStyle=r.annotations.symbol.outlineColor,e.lineWidth=2*r.annotations.symbol.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),k3(n)&&r.annotations.outline.outlineWidth>0&&(e.strokeStyle=r.annotations.outline.outlineColor,e.lineWidth=r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),e.strokeStyle=r.annotations.link.stroke,e.lineWidth=r.annotations.link.strokeWidth,e.beginPath(),lZ(e,n.computed.points),e.stroke(),T3(n)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),zO(n)&&(e.fillStyle=r.annotations.symbol.fill,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fill()),k3(n)&&(e.strokeStyle=r.annotations.outline.stroke,e.lineWidth=r.annotations.outline.strokeWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),typeof n.note=="function"?n.note(e,{datum:n.datum,x:n.computed.text[0],y:n.computed.text[1],theme:r}):(e.font=r.annotations.text.fontSize+"px "+r.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=r.annotations.text.fill,e.strokeStyle=r.annotations.text.outlineColor,e.lineWidth=2*r.annotations.text.outlineWidth,r.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(n.note,n.computed.text[0],n.computed.text[1]),e.lineJoin="miter"),e.fillText(n.note,n.computed.text[0],n.computed.text[1]))}),e.restore())};function L6(){return L6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},L6.apply(this,arguments)}function uZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Zyt(e,t){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(n,o){if(n){if(typeof n=="string")return uZ(n,o);var c=Object.prototype.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?uZ(n,o):void 0}}(e))||t){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z0e={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:_fe,accent:Sfe,dark2:$fe,paired:Mfe,pastel1:Tfe,pastel2:kfe,set1:Cfe,set2:Ife,set3:ZD,tableau10:Yot},Xyt=Object.keys(Z0e),X0e={brown_blueGreen:I8,purpleRed_green:E8,pink_yellowGreen:A8,purple_orange:j8,red_blue:P8,red_grey:O8,red_yellow_blue:R8,red_yellow_green:L8,spectral:N8},Qyt=Object.keys(X0e),emt={brown_blueGreen:Zot,purpleRed_green:Xot,pink_yellowGreen:Qot,purple_orange:eat,red_blue:tat,red_grey:iat,red_yellow_blue:rat,red_yellow_green:nat,spectral:sat},Q0e={blues:Y8,greens:Z8,greys:X8,oranges:tM,purples:Q8,reds:eM,blue_green:F8,blue_purple:D8,green_blue:z8,orange_red:V8,purple_blue_green:B8,purple_blue:U8,purple_red:G8,red_purple:q8,yellow_green_blue:W8,yellow_green:H8,yellow_orange_brown:J8,yellow_orange_red:K8},tmt=Object.keys(Q0e),imt={blues:vat,greens:bat,greys:wat,oranges:Sat,purples:xat,reds:_at,turbo:jat,viridis:Pat,inferno:Rat,magma:Oat,plasma:Lat,cividis:$at,warm:Tat,cool:kat,cubehelixDefault:Mat,blue_green:oat,blue_purple:aat,green_blue:lat,orange_red:uat,purple_blue_green:cat,purple_blue:hat,purple_red:dat,red_purple:pat,yellow_green_blue:fat,yellow_green:yat,yellow_orange_brown:mat,yellow_orange_red:gat},nC=L6({},Z0e,X0e,Q0e),rmt=function(e){return Xyt.includes(e)},nmt=function(e){return Qyt.includes(e)},smt=function(e){return tmt.includes(e)},omt={rainbow:Cat,sinebow:Aat};L6({},emt,imt,omt);var amt=function(e,t){if(typeof e=="function")return e;if(SD(e)){if(function(g){return g.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var i=oc(t,e.theme);if(i===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return i}}if(function(g){return g.from!==void 0}(e)){var r=function(g){return oc(g,e.from)};if(Array.isArray(e.modifiers)){for(var n,o=[],c=function(){var g=n.value,v=g[0],_=g[1];if(v==="brighter")o.push(function(M){return M.brighter(_)});else if(v==="darker")o.push(function(M){return M.darker(_)});else{if(v!=="opacity")throw new Error("Invalid color modifier: '"+v+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(M){return M.opacity=_,M})}},f=Zyt(e.modifiers);!(n=f()).done;)c();return o.length===0?r:function(g){return o.reduce(function(v,_){return _(v)},wg(r(g))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},_g=function(e,t){return K.useMemo(function(){return amt(e,t)},[e,t])};je.oneOfType([je.string,je.func,je.shape({theme:je.string.isRequired}),je.shape({from:je.string.isRequired,modifiers:je.arrayOf(je.array)})]);var lmt=function(e,t){if(typeof e=="function")return e;var i=typeof t=="function"?t:function(M){return oc(M,t)};if(Array.isArray(e)){var r=g0(e),n=function(M){return r(i(M))};return n.scale=r,n}if(SD(e)){if(function(M){return M.datum!==void 0}(e))return function(M){return oc(M,e.datum)};if(function(M){return M.scheme!==void 0}(e)){if(rmt(e.scheme)){var o=g0(nC[e.scheme]),c=function(M){return o(i(M))};return c.scale=o,c}if(nmt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var f=g0(nC[e.scheme][e.size||11]),g=function(M){return f(i(M))};return g.scale=f,g}if(smt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var v=g0(nC[e.scheme][e.size||9]),_=function(M){return v(i(M))};return _.scale=v,_}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},e1e=function(e,t){return K.useMemo(function(){return lmt(e,t)},[e,t])},umt=function(e){var t=e.x,i=e.y,r=e.size,n=e.fill,o=e.opacity,c=o===void 0?1:o,f=e.borderWidth,g=f===void 0?0:f,v=e.borderColor;return P.jsx("circle",{r:r/2,cx:t+r/2,cy:i+r/2,fill:n,opacity:c,strokeWidth:g,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})},cmt=function(e){var t=e.x,i=e.y,r=e.size,n=e.fill,o=e.opacity,c=o===void 0?1:o,f=e.borderWidth,g=f===void 0?0:f,v=e.borderColor;return P.jsx("g",{transform:"translate("+t+","+i+")",children:P.jsx("path",{d:`
                    M`+r/2+` 0
                    L`+.8*r+" "+r/2+`
                    L`+r/2+" "+r+`
                    L`+.2*r+" "+r/2+`
                    L`+r/2+` 0
                `,fill:n,opacity:c,strokeWidth:g,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})})},hmt=function(e){var t=e.x,i=e.y,r=e.size,n=e.fill,o=e.opacity,c=o===void 0?1:o,f=e.borderWidth,g=f===void 0?0:f,v=e.borderColor;return P.jsx("rect",{x:t,y:i,fill:n,opacity:c,strokeWidth:g,stroke:v===void 0?"transparent":v,width:r,height:r,style:{pointerEvents:"none"}})},dmt=function(e){var t=e.x,i=e.y,r=e.size,n=e.fill,o=e.opacity,c=o===void 0?1:o,f=e.borderWidth,g=f===void 0?0:f,v=e.borderColor;return P.jsx("g",{transform:"translate("+t+","+i+")",children:P.jsx("path",{d:`
                M`+r/2+` 0
                L`+r+" "+r+`
                L0 `+r+`
                L`+r/2+` 0
            `,fill:n,opacity:c,strokeWidth:g,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})})};function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},b0.apply(this,arguments)}var pmt={top:0,right:0,bottom:0,left:0},yz=function(e){var t,i=e.direction,r=e.itemsSpacing,n=e.padding,o=e.itemCount,c=e.itemWidth,f=e.itemHeight;if(typeof n!="number"&&(typeof(t=n)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var g=typeof n=="number"?{top:n,right:n,bottom:n,left:n}:b0({},pmt,n),v=g.left+g.right,_=g.top+g.bottom,M=c+v,T=f+_,E=(o-1)*r;return i==="row"?M=c*o+E+v:i==="column"&&(T=f*o+E+_),{width:M,height:T,padding:g}},t1e=function(e){var t=e.anchor,i=e.translateX,r=e.translateY,n=e.containerWidth,o=e.containerHeight,c=e.width,f=e.height,g=i,v=r;switch(t){case"top":g+=(n-c)/2;break;case"top-right":g+=n-c;break;case"right":g+=n-c,v+=(o-f)/2;break;case"bottom-right":g+=n-c,v+=o-f;break;case"bottom":g+=(n-c)/2,v+=o-f;break;case"bottom-left":v+=o-f;break;case"left":v+=(o-f)/2;break;case"center":g+=(n-c)/2,v+=(o-f)/2}return{x:g,y:v}},i1e=function(e){var t,i,r,n,o,c,f=e.direction,g=e.justify,v=e.symbolSize,_=e.symbolSpacing,M=e.width,T=e.height;switch(f){case"left-to-right":t=0,i=(T-v)/2,n=T/2,c="central",g?(r=M,o="end"):(r=v+_,o="start");break;case"right-to-left":t=M-v,i=(T-v)/2,n=T/2,c="central",g?(r=0,o="start"):(r=M-v-_,o="end");break;case"top-to-bottom":t=(M-v)/2,i=0,r=M/2,o="middle",g?(n=T,c="alphabetic"):(n=v+_,c="text-before-edge");break;case"bottom-to-top":t=(M-v)/2,i=T-v,r=M/2,o="middle",g?(n=0,c="text-before-edge"):(n=T-v-_,c="alphabetic")}return{symbolX:t,symbolY:i,labelX:r,labelY:n,labelAnchor:o,labelAlignment:c}},fmt={circle:umt,diamond:cmt,square:hmt,triangle:dmt},ymt=function(e){var t,i,r,n,o,c,f,g,v,_,M,T=e.x,E=e.y,j=e.width,R=e.height,N=e.data,F=e.direction,V=F===void 0?"left-to-right":F,z=e.justify,G=z!==void 0&&z,H=e.textColor,Z=e.background,Y=Z===void 0?"transparent":Z,re=e.opacity,q=re===void 0?1:re,W=e.symbolShape,ee=W===void 0?"square":W,le=e.symbolSize,ue=le===void 0?16:le,ae=e.symbolSpacing,pe=ae===void 0?8:ae,ge=e.symbolBorderWidth,ve=ge===void 0?0:ge,ce=e.symbolBorderColor,he=ce===void 0?"transparent":ce,Ie=e.onClick,Be=e.onMouseEnter,Ke=e.onMouseLeave,wt=e.toggleSerie,He=e.effects,yt=K.useState({}),Fe=yt[0],it=yt[1],Ge=Cr(),Te=K.useCallback(function(fi){if(He){var ft=He.filter(function(Nt){return Nt.on==="hover"}).reduce(function(Nt,ht){return b0({},Nt,ht.style)},{});it(ft)}Be==null||Be(N,fi)},[Be,N,He]),Ve=K.useCallback(function(fi){if(He){var ft=He.filter(function(Nt){return Nt.on!=="hover"}).reduce(function(Nt,ht){return b0({},Nt,ht.style)},{});it(ft)}Ke==null||Ke(N,fi)},[Ke,N,He]),De=i1e({direction:V,justify:G,symbolSize:(t=Fe.symbolSize)!=null?t:ue,symbolSpacing:pe,width:j,height:R}),me=De.symbolX,rt=De.symbolY,lt=De.labelX,zt=De.labelY,xt=De.labelAnchor,bt=De.labelAlignment,te=[Ie,Be,Ke,wt].some(function(fi){return fi!==void 0}),St=typeof ee=="function"?ee:fmt[ee];return P.jsxs("g",{transform:"translate("+T+","+E+")",style:{opacity:(i=Fe.itemOpacity)!=null?i:q},children:[P.jsx("rect",{width:j,height:R,fill:(r=Fe.itemBackground)!=null?r:Y,style:{cursor:te?"pointer":"auto"},onClick:function(fi){Ie==null||Ie(N,fi),wt==null||wt(N.id)},onMouseEnter:Te,onMouseLeave:Ve}),K.createElement(St,b0({id:N.id,x:me,y:rt,size:(n=Fe.symbolSize)!=null?n:ue,fill:(o=(c=N.fill)!=null?c:N.color)!=null?o:"black",borderWidth:(f=Fe.symbolBorderWidth)!=null?f:ve,borderColor:(g=Fe.symbolBorderColor)!=null?g:he},N.hidden?Ge.legends.hidden.symbol:void 0)),P.jsx("text",{textAnchor:xt,style:b0({},dz(Ge.legends.text),{fill:(v=(_=(M=Fe.itemTextColor)!=null?M:H)!=null?_:Ge.legends.text.fill)!=null?v:"black",dominantBaseline:bt,pointerEvents:"none",userSelect:"none"},N.hidden?Ge.legends.hidden.text:void 0),x:lt,y:zt,children:N.label})]})},mmt=function(e){var t=e.data,i=e.x,r=e.y,n=e.direction,o=e.padding,c=o===void 0?0:o,f=e.justify,g=e.effects,v=e.itemWidth,_=e.itemHeight,M=e.itemDirection,T=M===void 0?"left-to-right":M,E=e.itemsSpacing,j=E===void 0?0:E,R=e.itemTextColor,N=e.itemBackground,F=N===void 0?"transparent":N,V=e.itemOpacity,z=V===void 0?1:V,G=e.symbolShape,H=e.symbolSize,Z=e.symbolSpacing,Y=e.symbolBorderWidth,re=e.symbolBorderColor,q=e.onClick,W=e.onMouseEnter,ee=e.onMouseLeave,le=e.toggleSerie,ue=yz({itemCount:t.length,itemWidth:v,itemHeight:_,itemsSpacing:j,direction:n,padding:c}).padding,ae=n==="row"?v+j:0,pe=n==="column"?_+j:0;return P.jsx("g",{transform:"translate("+i+","+r+")",children:t.map(function(ge,ve){return P.jsx(ymt,{data:ge,x:ve*ae+ue.left,y:ve*pe+ue.top,width:v,height:_,direction:T,justify:f,effects:g,textColor:R,background:F,opacity:z,symbolShape:G,symbolSize:H,symbolSpacing:Z,symbolBorderWidth:Y,symbolBorderColor:re,onClick:q,onMouseEnter:W,onMouseLeave:ee,toggleSerie:le},ve)})})},r1e=function(e){var t=e.data,i=e.containerWidth,r=e.containerHeight,n=e.translateX,o=n===void 0?0:n,c=e.translateY,f=c===void 0?0:c,g=e.anchor,v=e.direction,_=e.padding,M=_===void 0?0:_,T=e.justify,E=e.itemsSpacing,j=E===void 0?0:E,R=e.itemWidth,N=e.itemHeight,F=e.itemDirection,V=e.itemTextColor,z=e.itemBackground,G=e.itemOpacity,H=e.symbolShape,Z=e.symbolSize,Y=e.symbolSpacing,re=e.symbolBorderWidth,q=e.symbolBorderColor,W=e.onClick,ee=e.onMouseEnter,le=e.onMouseLeave,ue=e.toggleSerie,ae=e.effects,pe=yz({itemCount:t.length,itemsSpacing:j,itemWidth:R,itemHeight:N,direction:v,padding:M}),ge=pe.width,ve=pe.height,ce=t1e({anchor:g,translateX:o,translateY:f,containerWidth:i,containerHeight:r,width:ge,height:ve}),he=ce.x,Ie=ce.y;return P.jsx(mmt,{data:t,x:he,y:Ie,direction:v,padding:M,justify:T,effects:ae,itemsSpacing:j,itemWidth:R,itemHeight:N,itemDirection:F,itemTextColor:V,itemBackground:z,itemOpacity:G,symbolShape:H,symbolSize:Z,symbolSpacing:Y,symbolBorderWidth:re,symbolBorderColor:q,onClick:W,onMouseEnter:ee,onMouseLeave:le,toggleSerie:typeof ue=="boolean"?void 0:ue})},gmt={start:"left",middle:"center",end:"right"},n1e=function(e,t){var i=t.data,r=t.containerWidth,n=t.containerHeight,o=t.translateX,c=o===void 0?0:o,f=t.translateY,g=f===void 0?0:f,v=t.anchor,_=t.direction,M=t.padding,T=M===void 0?0:M,E=t.justify,j=E!==void 0&&E,R=t.itemsSpacing,N=R===void 0?0:R,F=t.itemWidth,V=t.itemHeight,z=t.itemDirection,G=z===void 0?"left-to-right":z,H=t.itemTextColor,Z=t.symbolSize,Y=Z===void 0?16:Z,re=t.symbolSpacing,q=re===void 0?8:re,W=t.theme,ee=yz({itemCount:i.length,itemWidth:F,itemHeight:V,itemsSpacing:N,direction:_,padding:T}),le=ee.width,ue=ee.height,ae=ee.padding,pe=t1e({anchor:v,translateX:c,translateY:g,containerWidth:r,containerHeight:n,width:le,height:ue}),ge=pe.x,ve=pe.y,ce=_==="row"?F+N:0,he=_==="column"?V+N:0;e.save(),e.translate(ge,ve),e.font=W.legends.text.fontSize+"px "+(W.legends.text.fontFamily||"sans-serif"),i.forEach(function(Ie,Be){var Ke,wt,He=Be*ce+ae.left,yt=Be*he+ae.top,Fe=i1e({direction:G,justify:j,symbolSize:Y,symbolSpacing:q,width:F,height:V}),it=Fe.symbolX,Ge=Fe.symbolY,Te=Fe.labelX,Ve=Fe.labelY,De=Fe.labelAnchor,me=Fe.labelAlignment;e.fillStyle=(Ke=Ie.color)!=null?Ke:"black",e.fillRect(He+it,yt+Ge,Y,Y),e.textAlign=gmt[De],me==="central"&&(e.textBaseline="middle"),e.fillStyle=(wt=H??W.legends.text.fill)!=null?wt:"black",e.fillText(String(Ie.label),He+Te,yt+Ve)}),e.restore()};function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qi.apply(this,arguments)}function cv(e,t){if(e==null)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}var cZ,vmt=function(e){var t=e.bars,i=e.annotations,r=Y0e({data:t,annotations:i,getPosition:function(n){return{x:n.x+n.width/2,y:n.y+n.height/2}},getDimensions:function(n){var o=n.height,c=n.width;return{width:c,height:o,size:Math.max(c,o)}}});return P.jsx(P.Fragment,{children:r.map(function(n,o){return P.jsx(Kyt,Qi({},n),o)})})},bmt=function(e){var t=e.width,i=e.height,r=e.legends,n=e.toggleSerie;return P.jsx(P.Fragment,{children:r.map(function(o,c){var f,g=o[0],v=o[1];return P.jsx(r1e,Qi({},g,{containerWidth:t,containerHeight:i,data:(f=g.data)!=null?f:v,toggleSerie:g.toggleSerie&&g.dataFrom==="keys"?n:void 0}),c)})})},wmt=["data"],xmt=function(e){var t,i=e.bar,r=i.data,n=cv(i,wmt),o=e.style,c=o.borderColor,f=o.color,g=o.height,v=o.labelColor,_=o.labelOpacity,M=o.labelX,T=o.labelY,E=o.transform,j=o.width,R=e.borderRadius,N=e.borderWidth,F=e.label,V=e.shouldRenderLabel,z=e.isInteractive,G=e.onClick,H=e.onMouseEnter,Z=e.onMouseLeave,Y=e.tooltip,re=e.isFocusable,q=e.ariaLabel,W=e.ariaLabelledBy,ee=e.ariaDescribedBy,le=Cr(),ue=Zg(),ae=ue.showTooltipFromEvent,pe=ue.showTooltipAt,ge=ue.hideTooltip,ve=K.useMemo(function(){return function(){return K.createElement(Y,Qi({},n,r))}},[Y,n,r]),ce=K.useCallback(function(He){G==null||G(Qi({color:n.color},r),He)},[n,r,G]),he=K.useCallback(function(He){return ae(ve(),He)},[ae,ve]),Ie=K.useCallback(function(He){H==null||H(r,He),ae(ve(),He)},[r,H,ae,ve]),Be=K.useCallback(function(He){Z==null||Z(r,He),ge()},[r,ge,Z]),Ke=K.useCallback(function(){pe(ve(),[n.absX+n.width/2,n.absY])},[pe,ve,n]),wt=K.useCallback(function(){ge()},[ge]);return P.jsxs(Nr.g,{transform:E,children:[P.jsx(Nr.rect,{width:fO(j,function(He){return Math.max(He,0)}),height:fO(g,function(He){return Math.max(He,0)}),rx:R,ry:R,fill:(t=r.fill)!=null?t:f,strokeWidth:N,stroke:c,focusable:re,tabIndex:re?0:void 0,"aria-label":q?q(r):void 0,"aria-labelledby":W?W(r):void 0,"aria-describedby":ee?ee(r):void 0,onMouseEnter:z?Ie:void 0,onMouseMove:z?he:void 0,onMouseLeave:z?Be:void 0,onClick:z?ce:void 0,onFocus:z&&re?Ke:void 0,onBlur:z&&re?wt:void 0}),V&&P.jsx(Nr.text,{x:M,y:T,textAnchor:"middle",dominantBaseline:"central",fillOpacity:_,style:Qi({},le.labels.text,{pointerEvents:"none",fill:v}),children:F})]})},_mt=["color","label"],Smt=function(e){var t=e.color,i=e.label,r=cv(e,_mt);return P.jsx(npe,{id:i,value:r.formattedValue,enableChip:!0,color:t})},cr={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:Smt,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},$r=Qi({},cr,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:xmt,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),Hn=Qi({},cr,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(cZ=window.devicePixelRatio)!=null?cZ:1}),s1e=function(e,t,i,r,n,o){return M3(r,{all:e.map(t),min:0,max:0},n,o).padding(i)},o1e=function(e,t){return e.map(function(i){return Qi({},t.reduce(function(r,n){return r[n]=null,r},{}),i)})},uM=function(e){return Object.keys(e).reduce(function(t,i){return e[i]&&(t[i]=e[i]),t},{})},cM=function(e){return[e,Number(e)]},$mt=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],mz=function(e,t){return e>t},a1e=function(e,t){return e<t},l1e=function(e,t){return Array.from(" ".repeat(t-e),function(i,r){return e+r})},Mmt=function(e){return mz(e,0)?0:e},Tmt=function(e,t,i,r){var n=e.data,o=e.formatValue,c=e.getColor,f=e.getIndex,g=e.getTooltipLabel,v=e.innerPadding,_=v===void 0?0:v,M=e.keys,T=e.xScale,E=e.yScale,j=e.margin,R=i?a1e:mz,N=n.map(uM),F=[];return M.forEach(function(V,z){return l1e(0,T.domain().length).forEach(function(G){var H,Z,Y,re=cM(n[G][V]),q=re[0],W=re[1],ee=f(n[G]),le=((H=T(ee))!=null?H:0)+t*z+_*z,ue=R(Z=W,0)?(Y=E(Z))!=null?Y:0:r,ae=function(ge,ve){var ce;return R(ge,0)?r-ve:((ce=E(ge))!=null?ce:0)-r}(W,ue),pe={id:V,value:q===null?q:W,formattedValue:o(W),hidden:!1,index:G,indexValue:ee,data:N[G]};F.push({key:V+"."+pe.indexValue,index:F.length,data:pe,x:le,y:ue,absX:j.left+le,absY:j.top+ue,width:t,height:ae,color:c(pe),label:g(pe)})})}),F},kmt=function(e,t,i,r){var n=e.data,o=e.formatValue,c=e.getIndex,f=e.getColor,g=e.getTooltipLabel,v=e.keys,_=e.innerPadding,M=_===void 0?0:_,T=e.xScale,E=e.yScale,j=e.margin,R=i?a1e:mz,N=n.map(uM),F=[];return v.forEach(function(V,z){return l1e(0,E.domain().length).forEach(function(G){var H,Z,Y,re=cM(n[G][V]),q=re[0],W=re[1],ee=c(n[G]),le=R(Z=W,0)?r:(Y=T(Z))!=null?Y:0,ue=((H=E(ee))!=null?H:0)+t*z+M*z,ae=function(ge,ve){var ce;return R(ge,0)?((ce=T(ge))!=null?ce:0)-r:r-ve}(W,le),pe={id:V,value:q===null?q:W,formattedValue:o(W),hidden:!1,index:G,indexValue:ee,data:N[G]};F.push({key:V+"."+pe.indexValue,index:F.length,data:pe,x:le,y:ue,absX:j.left+le,absY:j.top+ue,width:ae,height:t,color:f(pe),label:g(pe)})})}),F},Cmt=function(e){var t,i,r=e.layout,n=e.minValue,o=e.maxValue,c=e.reverse,f=e.width,g=e.height,v=e.padding,_=v===void 0?0:v,M=e.innerPadding,T=M===void 0?0:M,E=e.valueScale,j=e.indexScale,R=e.hiddenIds,N=R===void 0?[]:R,F=cv(e,$mt),V=F.keys.filter(function(Ie){return!N.includes(Ie)}),z=o1e(F.data,V),G=r==="vertical"?["y","x",f]:["x","y",g],H=G[0],Z=G[1],Y=G[2],re=s1e(z,F.getIndex,_,j,Y,Z),q=Qi({max:o,min:n,reverse:c},E),W=q.min==="auto"?Mmt:function(Ie){return Ie},ee=z.reduce(function(Ie,Be){return[].concat(Ie,V.map(function(Ke){return Be[Ke]}))},[]).filter(Boolean),le=W(Math.min.apply(Math,ee)),ue=(i=Math.max.apply(Math,ee),isFinite(i)?i:0),ae=M3(q,{all:ee,min:le,max:ue},H==="x"?f:g,H),pe=r==="vertical"?[re,ae]:[ae,re],ge=pe[0],ve=pe[1],ce=(re.bandwidth()-T*(V.length-1))/V.length,he=[Qi({},F,{data:z,keys:V,innerPadding:T,xScale:ge,yScale:ve}),ce,q.reverse,(t=ae(0))!=null?t:0];return{xScale:ge,yScale:ve,bars:ce>0?r==="vertical"?Tmt.apply(void 0,he):kmt.apply(void 0,he):[]}},Imt=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],Emt=function e(t){var i;return t.some(Array.isArray)?e((i=[]).concat.apply(i,t)):t},Amt=function(e,t,i){var r=e.formatValue,n=e.getColor,o=e.getIndex,c=e.getTooltipLabel,f=e.innerPadding,g=e.stackedData,v=e.xScale,_=e.yScale,M=e.margin,T=[];return g.forEach(function(E){return v.domain().forEach(function(j,R){var N,F,V=E[R],z=(N=v(o(V.data)))!=null?N:0,G=((F=function(W){return _(W[i?0:1])}(V))!=null?F:0)+.5*f,H=function(W,ee){var le;return((le=_(W[i?1:0]))!=null?le:0)-ee}(V,G)-f,Z=cM(V.data[E.key]),Y=Z[0],re=Z[1],q={id:E.key,value:Y===null?Y:re,formattedValue:r(re),hidden:!1,index:R,indexValue:j,data:uM(V.data)};T.push({key:E.key+"."+j,index:T.length,data:q,x:z,y:G,absX:M.left+z,absY:M.top+G,width:t,height:H,color:n(q),label:c(q)})})}),T},jmt=function(e,t,i){var r=e.formatValue,n=e.getColor,o=e.getIndex,c=e.getTooltipLabel,f=e.innerPadding,g=e.stackedData,v=e.xScale,_=e.yScale,M=e.margin,T=[];return g.forEach(function(E){return _.domain().forEach(function(j,R){var N,F,V=E[R],z=(N=_(o(V.data)))!=null?N:0,G=((F=function(W){return v(W[i?1:0])}(V))!=null?F:0)+.5*f,H=function(W,ee){var le;return((le=v(W[i?0:1]))!=null?le:0)-ee}(V,G)-f,Z=cM(V.data[E.key]),Y=Z[0],re=Z[1],q={id:E.key,value:Y===null?Y:re,formattedValue:r(re),hidden:!1,index:R,indexValue:j,data:uM(V.data)};T.push({key:E.key+"."+j,index:T.length,data:q,x:G,y:z,absX:M.left+G,absY:M.top+z,width:H,height:t,color:n(q),label:c(q)})})}),T},Pmt=function(e){var t,i=e.data,r=e.layout,n=e.minValue,o=e.maxValue,c=e.reverse,f=e.width,g=e.height,v=e.padding,_=v===void 0?0:v,M=e.valueScale,T=e.indexScale,E=e.hiddenIds,j=E===void 0?[]:E,R=cv(e,Imt),N=R.keys.filter(function(ce){return!j.includes(ce)}),F=Ult().keys(N).offset(Glt)(o1e(i,N)),V=r==="vertical"?["y","x",f]:["x","y",g],z=V[0],G=V[1],H=V[2],Z=s1e(i,R.getIndex,_,T,H,G),Y=Qi({max:o,min:n,reverse:c},M),re=(t=Emt(F),M.type==="log"?t.filter(function(ce){return ce!==0}):t),q=Math.min.apply(Math,re),W=Math.max.apply(Math,re),ee=M3(Y,{all:re,min:q,max:W},z==="x"?f:g,z),le=r==="vertical"?[Z,ee]:[ee,Z],ue=le[0],ae=le[1],pe=R.innerPadding>0?R.innerPadding:0,ge=Z.bandwidth(),ve=[Qi({},R,{innerPadding:pe,stackedData:F,xScale:ue,yScale:ae}),ge,Y.reverse];return{xScale:ue,yScale:ae,bars:ge>0?r==="vertical"?Amt.apply(void 0,ve):jmt.apply(void 0,ve):[]}},Omt=function(e){var t=e.bars,i=e.direction,r=e.from,n=e.groupMode,o=e.layout,c=e.legendLabel,f=e.reverse,g=M0e(c??(r==="indexes"?"indexValue":"id"));return r==="indexes"?function(v,_,M){var T=NO(v.map(function(E){var j,R;return{id:(j=E.data.indexValue)!=null?j:"",label:M(E.data),hidden:E.data.hidden,color:(R=E.color)!=null?R:"#000"}}),function(E){return E.id});return _==="horizontal"&&T.reverse(),T}(t,o,g):function(v,_,M,T,E,j){var R=NO(v.map(function(N){var F;return{id:N.data.id,label:j(N.data),hidden:N.data.hidden,color:(F=N.color)!=null?F:"#000"}}),function(N){return N.id});return(_==="vertical"&&T==="stacked"&&M==="column"&&E!==!0||_==="horizontal"&&T==="stacked"&&E===!0)&&R.reverse(),R}(t,o,i,n,f,g)},hZ=function(e,t,i){var r=e.get(t)||0;e.set(t,r+i)},Rmt=function(e,t,i){var r=e.get(t)||0;e.set(t,r+(i>0?i:0))},Lmt=function(e,t,i){var r=e.get(t)||0;e.set(t,Math.max(r,Number(i)))},Nmt=function(e,t){var i=e.get(t)||0;e.set(t,i+1)},u1e=function(e){var t=e.indexBy,i=t===void 0?cr.indexBy:t,r=e.keys,n=r===void 0?cr.keys:r,o=e.label,c=o===void 0?cr.label:o,f=e.tooltipLabel,g=f===void 0?cr.tooltipLabel:f,v=e.valueFormat,_=e.colors,M=_===void 0?cr.colors:_,T=e.colorBy,E=T===void 0?cr.colorBy:T,j=e.borderColor,R=j===void 0?cr.borderColor:j,N=e.labelTextColor,F=N===void 0?cr.labelTextColor:N,V=e.groupMode,z=V===void 0?cr.groupMode:V,G=e.layout,H=G===void 0?cr.layout:G,Z=e.reverse,Y=Z===void 0?cr.reverse:Z,re=e.data,q=e.minValue,W=q===void 0?cr.minValue:q,ee=e.maxValue,le=ee===void 0?cr.maxValue:ee,ue=e.margin,ae=e.width,pe=e.height,ge=e.padding,ve=ge===void 0?cr.padding:ge,ce=e.innerPadding,he=ce===void 0?cr.innerPadding:ce,Ie=e.valueScale,Be=Ie===void 0?cr.valueScale:Ie,Ke=e.indexScale,wt=Ke===void 0?cr.indexScale:Ke,He=e.initialHiddenIds,yt=He===void 0?cr.initialHiddenIds:He,Fe=e.enableLabel,it=Fe===void 0?cr.enableLabel:Fe,Ge=e.labelSkipWidth,Te=Ge===void 0?cr.labelSkipWidth:Ge,Ve=e.labelSkipHeight,De=Ve===void 0?cr.labelSkipHeight:Ve,me=e.legends,rt=me===void 0?cr.legends:me,lt=e.legendLabel,zt=e.totalsOffset,xt=zt===void 0?cr.totalsOffset:zt,bt=K.useState(yt??[]),te=bt[0],St=bt[1],fi=K.useCallback(function(a){St(function(u){return u.indexOf(a)>-1?u.filter(function(p){return p!==a}):[].concat(u,[a])})},[]),ft=tC(i),Nt=tC(c),ht=tC(g),ui=S3(v),ei=Cr(),$t=e1e(M,E),_t=_g(R,ei),qt=_g(F,ei),Ti=(z==="grouped"?Cmt:Pmt)({layout:H,reverse:Y,data:re,getIndex:ft,keys:n,minValue:W,maxValue:le,width:ae,height:pe,getColor:$t,padding:ve,innerPadding:he,valueScale:Be,indexScale:wt,hiddenIds:te,formatValue:ui,getTooltipLabel:ht,margin:ue}),Oe=Ti.bars,Yt=Ti.xScale,d=Ti.yScale,O=K.useMemo(function(){return Oe.filter(function(a){return a.data.value!==null}).map(function(a,u){return Qi({},a,{index:u})})},[Oe]),x=K.useCallback(function(a){var u=a.width,p=a.height;return!!it&&!(Te>0&&u<Te)&&!(De>0&&p<De)},[it,Te,De]),h=K.useMemo(function(){return n.map(function(a){var u=Oe.find(function(p){return p.data.id===a});return Qi({},u,{data:Qi({id:a},u==null?void 0:u.data,{hidden:te.includes(a)})})})},[te,n,Oe]),l=K.useMemo(function(){return rt.map(function(a){return[a,Omt({bars:a.dataFrom==="keys"?h:Oe,direction:a.direction,from:a.dataFrom,groupMode:z,layout:H,legendLabel:lt,reverse:Y})]})},[rt,h,Oe,z,H,lt,Y]),s=K.useMemo(function(){return function(a,u,p,y,m,w,S){y===void 0&&(y=cr.layout),m===void 0&&(m=cr.groupMode);var k=[];if(a.length===0)return k;var I=new Map,A=a[0].width,L=a[0].height;if(m==="stacked"){var D=new Map;a.forEach(function(J){var B=J.data,Q=B.indexValue,oe=B.value;hZ(I,Q,Number(oe)),Rmt(D,Q,Number(oe))}),D.forEach(function(J,B){var Q,oe,se,ye=I.get(B)||0;y==="vertical"?(Q=u(B),oe=p(J),se=p(J/2)):(Q=u(J),oe=p(B),se=u(J/2)),Q+=y==="vertical"?A/2:w,oe+=y==="vertical"?-w:L/2,k.push({key:"total_"+B,x:Q,y:oe,value:ye,formattedValue:S(ye),animationOffset:se})})}else if(m==="grouped"){var U=new Map,X=new Map;a.forEach(function(J){var B=J.data,Q=B.indexValue,oe=B.value;hZ(I,Q,Number(oe)),Lmt(U,Q,Number(oe)),Nmt(X,Q)}),U.forEach(function(J,B){var Q,oe,se,ye=I.get(B)||0,de=X.get(B);y==="vertical"?(Q=u(B),oe=p(J),se=p(J/2)):(Q=u(J),oe=p(B),se=u(J/2)),Q+=y==="vertical"?de*A/2:w,oe+=y==="vertical"?-w:de*L/2,k.push({key:"total_"+B,x:Q,y:oe,value:ye,formattedValue:S(ye),animationOffset:se})})}return k}(Oe,Yt,d,H,z,xt,ui)},[Oe,Yt,d,H,z,xt,ui]);return{bars:Oe,barsWithValue:O,xScale:Yt,yScale:d,getIndex:ft,getLabel:Nt,getTooltipLabel:ht,formatValue:ui,getColor:$t,getBorderColor:_t,getLabelColor:qt,shouldRenderBarLabel:x,hiddenIds:te,toggleSerie:fi,legendsWithData:l,barTotals:s}},Fmt=function(e){var t=e.data,i=e.springConfig,r=e.animate,n=e.layout,o=n===void 0?$r.layout:n,c=Cr();return l8(t,{keys:function(f){return f.key},from:function(f){return{x:o==="vertical"?f.x:f.animationOffset,y:o==="vertical"?f.animationOffset:f.y,labelOpacity:0}},enter:function(f){return{x:f.x,y:f.y,labelOpacity:1}},update:function(f){return{x:f.x,y:f.y,labelOpacity:1}},leave:function(f){return{x:o==="vertical"?f.x:f.animationOffset,y:o==="vertical"?f.animationOffset:f.y,labelOpacity:0}},config:i,immediate:!r,initial:r?void 0:null})(function(f,g){return P.jsx(Nr.text,{x:f.x,y:f.y,fillOpacity:f.labelOpacity,style:Qi({},c.labels.text,{pointerEvents:"none",fill:c.text.fill}),fontWeight:"bold",fontSize:c.labels.text.fontSize,fontFamily:c.labels.text.fontFamily,textAnchor:o==="vertical"?"middle":"start",alignmentBaseline:o==="vertical"?"alphabetic":"middle",children:g.formattedValue},g.key)})},Dmt=["isInteractive","animate","motionConfig","theme","renderWrapper"],zmt=function(e){var t=e.data,i=e.indexBy,r=e.keys,n=e.margin,o=e.width,c=e.height,f=e.groupMode,g=e.layout,v=e.reverse,_=e.minValue,M=e.maxValue,T=e.valueScale,E=e.indexScale,j=e.padding,R=e.innerPadding,N=e.axisTop,F=e.axisRight,V=e.axisBottom,z=V===void 0?$r.axisBottom:V,G=e.axisLeft,H=G===void 0?$r.axisLeft:G,Z=e.enableGridX,Y=Z===void 0?$r.enableGridX:Z,re=e.enableGridY,q=re===void 0?$r.enableGridY:re,W=e.gridXValues,ee=e.gridYValues,le=e.layers,ue=le===void 0?$r.layers:le,ae=e.barComponent,pe=ae===void 0?$r.barComponent:ae,ge=e.enableLabel,ve=ge===void 0?$r.enableLabel:ge,ce=e.label,he=e.labelSkipWidth,Ie=he===void 0?$r.labelSkipWidth:he,Be=e.labelSkipHeight,Ke=Be===void 0?$r.labelSkipHeight:Be,wt=e.labelTextColor,He=e.markers,yt=He===void 0?$r.markers:He,Fe=e.colorBy,it=e.colors,Ge=e.defs,Te=Ge===void 0?$r.defs:Ge,Ve=e.fill,De=Ve===void 0?$r.fill:Ve,me=e.borderRadius,rt=me===void 0?$r.borderRadius:me,lt=e.borderWidth,zt=lt===void 0?$r.borderWidth:lt,xt=e.borderColor,bt=e.annotations,te=bt===void 0?$r.annotations:bt,St=e.legendLabel,fi=e.tooltipLabel,ft=e.valueFormat,Nt=e.isInteractive,ht=Nt===void 0?$r.isInteractive:Nt,ui=e.tooltip,ei=ui===void 0?$r.tooltip:ui,$t=e.onClick,_t=e.onMouseEnter,qt=e.onMouseLeave,Ti=e.legends,Oe=e.role,Yt=Oe===void 0?$r.role:Oe,d=e.ariaLabel,O=e.ariaLabelledBy,x=e.ariaDescribedBy,h=e.isFocusable,l=h===void 0?$r.isFocusable:h,s=e.barAriaLabel,a=e.barAriaLabelledBy,u=e.barAriaDescribedBy,p=e.initialHiddenIds,y=e.enableTotals,m=y===void 0?$r.enableTotals:y,w=e.totalsOffset,S=w===void 0?$r.totalsOffset:w,k=yl(),I=k.animate,A=k.config,L=aM(o,c,n),D=L.outerWidth,U=L.outerHeight,X=L.margin,J=L.innerWidth,B=L.innerHeight,Q=u1e({indexBy:i,label:ce,tooltipLabel:fi,valueFormat:ft,colors:it,colorBy:Fe,borderColor:xt,labelTextColor:wt,groupMode:f,layout:g,reverse:v,data:t,keys:r,minValue:_,maxValue:M,margin:X,width:J,height:B,padding:j,innerPadding:R,valueScale:T,indexScale:E,enableLabel:ve,labelSkipWidth:Ie,labelSkipHeight:Ke,legends:Ti,legendLabel:St,initialHiddenIds:p,totalsOffset:S}),oe=Q.bars,se=Q.barsWithValue,ye=Q.xScale,de=Q.yScale,Me=Q.getLabel,Se=Q.getTooltipLabel,xe=Q.getBorderColor,ze=Q.getLabelColor,Ae=Q.shouldRenderBarLabel,et=Q.toggleSerie,ot=Q.legendsWithData,Ue=Q.barTotals,Mt=l8(se,{keys:function(We){return We.key},from:function(We){return Qi({borderColor:xe(We),color:We.color,height:0,labelColor:ze(We),labelOpacity:0,labelX:We.width/2,labelY:We.height/2,transform:"translate("+We.x+", "+(We.y+We.height)+")",width:We.width},g==="vertical"?{}:{height:We.height,transform:"translate("+We.x+", "+We.y+")",width:0})},enter:function(We){return{borderColor:xe(We),color:We.color,height:We.height,labelColor:ze(We),labelOpacity:1,labelX:We.width/2,labelY:We.height/2,transform:"translate("+We.x+", "+We.y+")",width:We.width}},update:function(We){return{borderColor:xe(We),color:We.color,height:We.height,labelColor:ze(We),labelOpacity:1,labelX:We.width/2,labelY:We.height/2,transform:"translate("+We.x+", "+We.y+")",width:We.width}},leave:function(We){return Qi({borderColor:xe(We),color:We.color,height:0,labelColor:ze(We),labelOpacity:0,labelX:We.width/2,labelY:0,transform:"translate("+We.x+", "+(We.y+We.height)+")",width:We.width},g==="vertical"?{}:{labelX:0,labelY:We.height/2,height:We.height,transform:"translate("+We.x+", "+We.y+")",width:0})},config:A,immediate:!I,initial:I?void 0:null}),mi=K.useMemo(function(){return{borderRadius:rt,borderWidth:zt,enableLabel:ve,isInteractive:ht,labelSkipWidth:Ie,labelSkipHeight:Ke,onClick:$t,onMouseEnter:_t,onMouseLeave:qt,getTooltipLabel:Se,tooltip:ei,isFocusable:l,ariaLabel:s,ariaLabelledBy:a,ariaDescribedBy:u}},[rt,zt,ve,Se,ht,Ke,Ie,$t,_t,qt,ei,l,s,a,u]),gi=k0e(Te,oe,De,{dataKey:"data",targetKey:"data.fill"}),Ft={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};ue.includes("annotations")&&(Ft.annotations=P.jsx(vmt,{bars:oe,annotations:te},"annotations")),ue.includes("axes")&&(Ft.axes=P.jsx(z0e,{xScale:ye,yScale:de,width:J,height:B,top:N,right:F,bottom:z,left:H},"axes")),ue.includes("bars")&&(Ft.bars=P.jsx(K.Fragment,{children:Mt(function(We,vi){return K.createElement(pe,Qi({},mi,{bar:vi,style:We,shouldRenderLabel:Ae(vi),label:Me(vi.data)}))})},"bars")),ue.includes("grid")&&(Ft.grid=P.jsx(V0e,{width:J,height:B,xScale:Y?ye:null,yScale:q?de:null,xValues:W,yValues:ee},"grid")),ue.includes("legends")&&(Ft.legends=P.jsx(bmt,{width:J,height:B,legends:ot,toggleSerie:et},"legends")),ue.includes("markers")&&(Ft.markers=P.jsx(S0e,{markers:yt,width:J,height:B,xScale:ye,yScale:de},"markers")),ue.includes("totals")&&m&&(Ft.totals=P.jsx(Fmt,{data:Ue,springConfig:A,animate:I,layout:g},"totals"));var Ut=K.useMemo(function(){return Qi({},mi,{margin:X,width:o,height:c,innerWidth:J,innerHeight:B,bars:oe,legendData:ot,enableLabel:ve,xScale:ye,yScale:de,tooltip:ei,getTooltipLabel:Se,onClick:$t,onMouseEnter:_t,onMouseLeave:qt})},[mi,X,o,c,J,B,oe,ot,ve,ye,de,ei,Se,$t,_t,qt]);return P.jsx(pz,{width:D,height:U,margin:X,defs:gi,role:Yt,ariaLabel:d,ariaLabelledBy:O,ariaDescribedBy:x,isFocusable:l,children:ue.map(function(We,vi){var Tt;return typeof We=="function"?P.jsx(K.Fragment,{children:K.createElement(We,Ut)},vi):(Tt=Ft==null?void 0:Ft[We])!=null?Tt:null})})},Vmt=function(e){var t=e.isInteractive,i=t===void 0?$r.isInteractive:t,r=e.animate,n=r===void 0?$r.animate:r,o=e.motionConfig,c=o===void 0?$r.motionConfig:o,f=e.theme,g=e.renderWrapper,v=cv(e,Dmt);return P.jsx(lM,{animate:n,isInteractive:i,motionConfig:c,renderWrapper:g,theme:f,children:P.jsx(zmt,Qi({isInteractive:i},v))})},Bmt=["isInteractive","renderWrapper","theme"],sC=function(e,t,i,r){return e.find(function(n){return T0e(n.x+t.left,n.y+t.top,n.width,n.height,i,r)})},Umt=function(e){var t=e.data,i=e.indexBy,r=e.keys,n=e.margin,o=e.width,c=e.height,f=e.groupMode,g=e.layout,v=e.reverse,_=e.minValue,M=e.maxValue,T=e.valueScale,E=e.indexScale,j=e.padding,R=e.innerPadding,N=e.axisTop,F=e.axisRight,V=e.axisBottom,z=V===void 0?Hn.axisBottom:V,G=e.axisLeft,H=G===void 0?Hn.axisLeft:G,Z=e.enableGridX,Y=Z===void 0?Hn.enableGridX:Z,re=e.enableGridY,q=re===void 0?Hn.enableGridY:re,W=e.gridXValues,ee=e.gridYValues,le=e.layers,ue=le===void 0?Hn.layers:le,ae=e.renderBar,pe=ae===void 0?function(Se,xe){var ze=xe.bar,Ae=ze.color,et=ze.height,ot=ze.width,Ue=ze.x,Mt=ze.y,mi=xe.borderColor,gi=xe.borderRadius,Ft=xe.borderWidth,Ut=xe.label,We=xe.labelColor,vi=xe.shouldRenderLabel;if(Se.fillStyle=Ae,Ft>0&&(Se.strokeStyle=mi,Se.lineWidth=Ft),Se.beginPath(),gi>0){var Tt=Math.min(gi,et);Se.moveTo(Ue+Tt,Mt),Se.lineTo(Ue+ot-Tt,Mt),Se.quadraticCurveTo(Ue+ot,Mt,Ue+ot,Mt+Tt),Se.lineTo(Ue+ot,Mt+et-Tt),Se.quadraticCurveTo(Ue+ot,Mt+et,Ue+ot-Tt,Mt+et),Se.lineTo(Ue+Tt,Mt+et),Se.quadraticCurveTo(Ue,Mt+et,Ue,Mt+et-Tt),Se.lineTo(Ue,Mt+Tt),Se.quadraticCurveTo(Ue,Mt,Ue+Tt,Mt),Se.closePath()}else Se.rect(Ue,Mt,ot,et);Se.fill(),Ft>0&&Se.stroke(),vi&&(Se.textBaseline="middle",Se.textAlign="center",Se.fillStyle=We,Se.fillText(Ut,Ue+ot/2,Mt+et/2))}:ae,ge=e.enableLabel,ve=ge===void 0?Hn.enableLabel:ge,ce=e.label,he=e.labelSkipWidth,Ie=he===void 0?Hn.labelSkipWidth:he,Be=e.labelSkipHeight,Ke=Be===void 0?Hn.labelSkipHeight:Be,wt=e.labelTextColor,He=e.colorBy,yt=e.colors,Fe=e.borderRadius,it=Fe===void 0?Hn.borderRadius:Fe,Ge=e.borderWidth,Te=Ge===void 0?Hn.borderWidth:Ge,Ve=e.borderColor,De=e.annotations,me=De===void 0?Hn.annotations:De,rt=e.legendLabel,lt=e.tooltipLabel,zt=e.valueFormat,xt=e.isInteractive,bt=xt===void 0?Hn.isInteractive:xt,te=e.tooltip,St=te===void 0?Hn.tooltip:te,fi=e.onClick,ft=e.onMouseEnter,Nt=e.onMouseLeave,ht=e.legends,ui=e.pixelRatio,ei=ui===void 0?Hn.pixelRatio:ui,$t=e.canvasRef,_t=e.enableTotals,qt=_t===void 0?Hn.enableTotals:_t,Ti=e.totalsOffset,Oe=Ti===void 0?Hn.totalsOffset:Ti,Yt=K.useRef(null),d=Cr(),O=aM(o,c,n),x=O.margin,h=O.innerWidth,l=O.innerHeight,s=O.outerWidth,a=O.outerHeight,u=u1e({indexBy:i,label:ce,tooltipLabel:lt,valueFormat:zt,colors:yt,colorBy:He,borderColor:Ve,labelTextColor:wt,groupMode:f,layout:g,reverse:v,data:t,keys:r,minValue:_,maxValue:M,margin:x,width:h,height:l,padding:j,innerPadding:R,valueScale:T,indexScale:E,enableLabel:ve,labelSkipWidth:Ie,labelSkipHeight:Ke,legends:ht,legendLabel:rt,totalsOffset:Oe}),p=u.bars,y=u.barsWithValue,m=u.xScale,w=u.yScale,S=u.getLabel,k=u.getTooltipLabel,I=u.getBorderColor,A=u.getLabelColor,L=u.shouldRenderBarLabel,D=u.legendsWithData,U=u.barTotals,X=Zg(),J=X.showTooltipFromEvent,B=X.hideTooltip,Q=Uyt({annotations:Y0e({data:p,annotations:me,getPosition:function(Se){return{x:Se.x,y:Se.y}},getDimensions:function(Se){var xe=Se.width,ze=Se.height;return{width:xe,height:ze,size:Math.max(xe,ze)}}})}),oe=K.useMemo(function(){return{borderRadius:it,borderWidth:Te,isInteractive:bt,isFocusable:!1,labelSkipWidth:Ie,labelSkipHeight:Ke,margin:x,width:o,height:c,innerWidth:h,innerHeight:l,bars:p,legendData:D,enableLabel:ve,xScale:m,yScale:w,tooltip:St,getTooltipLabel:k,onClick:fi,onMouseEnter:ft,onMouseLeave:Nt}},[it,Te,bt,Ie,Ke,x,o,c,h,l,p,D,ve,m,w,St,k,fi,ft,Nt]),se=S3(zt);K.useEffect(function(){var Se,xe=(Se=Yt.current)==null?void 0:Se.getContext("2d");Yt.current&&xe&&(Yt.current.width=s*ei,Yt.current.height=a*ei,xe.scale(ei,ei),xe.fillStyle=d.background,xe.fillRect(0,0,s,a),xe.translate(x.left,x.top),ue.forEach(function(ze){ze==="grid"?typeof d.grid.line.strokeWidth=="number"&&d.grid.line.strokeWidth>0&&(xe.lineWidth=d.grid.line.strokeWidth,xe.strokeStyle=d.grid.line.stroke,Y&&R6(xe,{width:h,height:l,scale:m,axis:"x",values:W}),q&&R6(xe,{width:h,height:l,scale:w,axis:"y",values:ee})):ze==="axes"?B0e(xe,{xScale:m,yScale:w,width:h,height:l,top:N,right:F,bottom:z,left:H,theme:d}):ze==="bars"?y.forEach(function(Ae){pe(xe,{bar:Ae,borderColor:I(Ae),borderRadius:it,borderWidth:Te,label:S(Ae.data),labelColor:A(Ae),shouldRenderLabel:L(Ae)})}):ze==="legends"?D.forEach(function(Ae){var et=Ae[0],ot=Ae[1];n1e(xe,Qi({},et,{data:ot,containerWidth:h,containerHeight:l,theme:d}))}):ze==="annotations"?Yyt(xe,{annotations:Q,theme:d}):ze==="totals"&&qt?function(Ae,et,ot,Ue){Ue===void 0&&(Ue=Hn.layout),Ae.fillStyle=ot.text.fill,Ae.font="bold "+ot.labels.text.fontSize+"px "+ot.labels.text.fontFamily,Ae.textBaseline=Ue==="vertical"?"alphabetic":"middle",Ae.textAlign=Ue==="vertical"?"center":"start",et.forEach(function(Mt){Ae.fillText(Mt.formattedValue,Mt.x,Mt.y)})}(xe,U,d,g):typeof ze=="function"&&ze(xe,oe)}),xe.save())},[z,H,F,N,y,it,Te,Q,Y,q,I,S,A,W,ee,f,c,l,h,oe,ue,g,D,x.left,x.top,a,s,ei,pe,m,w,v,L,d,o,U,qt,se]);var ye=K.useCallback(function(Se){if(p&&Yt.current){var xe=lw(Yt.current,Se),ze=xe[0],Ae=xe[1],et=sC(p,x,ze,Ae);et!==void 0?(J(K.createElement(St,Qi({},et.data,{color:et.color,label:et.label,value:Number(et.data.value)})),Se),Se.type==="mouseenter"&&(ft==null||ft(et.data,Se))):B()}},[B,x,ft,p,J,St]),de=K.useCallback(function(Se){if(p&&Yt.current){B();var xe=lw(Yt.current,Se),ze=xe[0],Ae=xe[1],et=sC(p,x,ze,Ae);et&&(Nt==null||Nt(et.data,Se))}},[B,x,Nt,p]),Me=K.useCallback(function(Se){if(p&&Yt.current){var xe=lw(Yt.current,Se),ze=xe[0],Ae=xe[1],et=sC(p,x,ze,Ae);et!==void 0&&(fi==null||fi(Qi({},et.data,{color:et.color}),Se))}},[x,fi,p]);return P.jsx("canvas",{ref:function(Se){Yt.current=Se,$t&&"current"in $t&&($t.current=Se)},width:s*ei,height:a*ei,style:{width:s,height:a,cursor:bt?"auto":"normal"},onMouseEnter:bt?ye:void 0,onMouseMove:bt?ye:void 0,onMouseLeave:bt?de:void 0,onClick:bt?Me:void 0})},Gmt=K.forwardRef(function(e,t){var i=e.isInteractive,r=e.renderWrapper,n=e.theme,o=cv(e,Bmt);return P.jsx(lM,{isInteractive:i,renderWrapper:r,theme:n,animate:!1,children:P.jsx(Umt,Qi({},o,{canvasRef:t}))})}),Xu=function(e){return P.jsx(Ex,{children:function(t){var i=t.width,r=t.height;return P.jsx(Vmt,Qi({width:i,height:r},e))}})};K.forwardRef(function(e,t){return P.jsx(Ex,{children:function(i){var r=i.width,n=i.height;return P.jsx(Gmt,Qi({width:r,height:n},e,{ref:t}))}})});var qmt=Ape,Wmt=0;function Hmt(e){var t=++Wmt;return qmt(e)+t}var Jmt=Hmt;const Kmt=rn(Jmt),vh=11102230246251565e-32,ys=134217729,Ymt=(3+8*vh)*vh;function oC(e,t,i,r,n){let o,c,f,g,v=t[0],_=r[0],M=0,T=0;_>v==_>-v?(o=v,v=t[++M]):(o=_,_=r[++T]);let E=0;if(M<e&&T<i)for(_>v==_>-v?(c=v+o,f=o-(c-v),v=t[++M]):(c=_+o,f=o-(c-_),_=r[++T]),o=c,f!==0&&(n[E++]=f);M<e&&T<i;)_>v==_>-v?(c=o+v,g=c-o,f=o-(c-g)+(v-g),v=t[++M]):(c=o+_,g=c-o,f=o-(c-g)+(_-g),_=r[++T]),o=c,f!==0&&(n[E++]=f);for(;M<e;)c=o+v,g=c-o,f=o-(c-g)+(v-g),v=t[++M],o=c,f!==0&&(n[E++]=f);for(;T<i;)c=o+_,g=c-o,f=o-(c-g)+(_-g),_=r[++T],o=c,f!==0&&(n[E++]=f);return(o!==0||E===0)&&(n[E++]=o),E}function Zmt(e,t){let i=t[0];for(let r=1;r<e;r++)i+=t[r];return i}function Ax(e){return new Float64Array(e)}const Xmt=(3+16*vh)*vh,Qmt=(2+12*vh)*vh,egt=(9+64*vh)*vh*vh,ry=Ax(4),dZ=Ax(8),pZ=Ax(12),fZ=Ax(16),zs=Ax(4);function tgt(e,t,i,r,n,o,c){let f,g,v,_,M,T,E,j,R,N,F,V,z,G,H,Z,Y,re;const q=e-n,W=i-n,ee=t-o,le=r-o;G=q*le,T=ys*q,E=T-(T-q),j=q-E,T=ys*le,R=T-(T-le),N=le-R,H=j*N-(G-E*R-j*R-E*N),Z=ee*W,T=ys*ee,E=T-(T-ee),j=ee-E,T=ys*W,R=T-(T-W),N=W-R,Y=j*N-(Z-E*R-j*R-E*N),F=H-Y,M=H-F,ry[0]=H-(F+M)+(M-Y),V=G+F,M=V-G,z=G-(V-M)+(F-M),F=z-Z,M=z-F,ry[1]=z-(F+M)+(M-Z),re=V+F,M=re-V,ry[2]=V-(re-M)+(F-M),ry[3]=re;let ue=Zmt(4,ry),ae=Qmt*c;if(ue>=ae||-ue>=ae||(M=e-q,f=e-(q+M)+(M-n),M=i-W,v=i-(W+M)+(M-n),M=t-ee,g=t-(ee+M)+(M-o),M=r-le,_=r-(le+M)+(M-o),f===0&&g===0&&v===0&&_===0)||(ae=egt*c+Ymt*Math.abs(ue),ue+=q*_+le*f-(ee*v+W*g),ue>=ae||-ue>=ae))return ue;G=f*le,T=ys*f,E=T-(T-f),j=f-E,T=ys*le,R=T-(T-le),N=le-R,H=j*N-(G-E*R-j*R-E*N),Z=g*W,T=ys*g,E=T-(T-g),j=g-E,T=ys*W,R=T-(T-W),N=W-R,Y=j*N-(Z-E*R-j*R-E*N),F=H-Y,M=H-F,zs[0]=H-(F+M)+(M-Y),V=G+F,M=V-G,z=G-(V-M)+(F-M),F=z-Z,M=z-F,zs[1]=z-(F+M)+(M-Z),re=V+F,M=re-V,zs[2]=V-(re-M)+(F-M),zs[3]=re;const pe=oC(4,ry,4,zs,dZ);G=q*_,T=ys*q,E=T-(T-q),j=q-E,T=ys*_,R=T-(T-_),N=_-R,H=j*N-(G-E*R-j*R-E*N),Z=ee*v,T=ys*ee,E=T-(T-ee),j=ee-E,T=ys*v,R=T-(T-v),N=v-R,Y=j*N-(Z-E*R-j*R-E*N),F=H-Y,M=H-F,zs[0]=H-(F+M)+(M-Y),V=G+F,M=V-G,z=G-(V-M)+(F-M),F=z-Z,M=z-F,zs[1]=z-(F+M)+(M-Z),re=V+F,M=re-V,zs[2]=V-(re-M)+(F-M),zs[3]=re;const ge=oC(pe,dZ,4,zs,pZ);G=f*_,T=ys*f,E=T-(T-f),j=f-E,T=ys*_,R=T-(T-_),N=_-R,H=j*N-(G-E*R-j*R-E*N),Z=g*v,T=ys*g,E=T-(T-g),j=g-E,T=ys*v,R=T-(T-v),N=v-R,Y=j*N-(Z-E*R-j*R-E*N),F=H-Y,M=H-F,zs[0]=H-(F+M)+(M-Y),V=G+F,M=V-G,z=G-(V-M)+(F-M),F=z-Z,M=z-F,zs[1]=z-(F+M)+(M-Z),re=V+F,M=re-V,zs[2]=V-(re-M)+(F-M),zs[3]=re;const ve=oC(ge,pZ,4,zs,fZ);return fZ[ve-1]}function k5(e,t,i,r,n,o){const c=(t-o)*(i-n),f=(e-n)*(r-o),g=c-f,v=Math.abs(c+f);return Math.abs(g)>=Xmt*v?g:-tgt(e,t,i,r,n,o,v)}const yZ=Math.pow(2,-52),C5=new Uint32Array(512);class N6{static from(t,i=ogt,r=agt){const n=t.length,o=new Float64Array(n*2);for(let c=0;c<n;c++){const f=t[c];o[2*c]=i(f),o[2*c+1]=r(f)}return new N6(o)}constructor(t){const i=t.length>>1;if(i>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*i-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:r,_hullTri:n,_hullHash:o}=this,c=t.length>>1;let f=1/0,g=1/0,v=-1/0,_=-1/0;for(let q=0;q<c;q++){const W=t[2*q],ee=t[2*q+1];W<f&&(f=W),ee<g&&(g=ee),W>v&&(v=W),ee>_&&(_=ee),this._ids[q]=q}const M=(f+v)/2,T=(g+_)/2;let E,j,R;for(let q=0,W=1/0;q<c;q++){const ee=aC(M,T,t[2*q],t[2*q+1]);ee<W&&(E=q,W=ee)}const N=t[2*E],F=t[2*E+1];for(let q=0,W=1/0;q<c;q++){if(q===E)continue;const ee=aC(N,F,t[2*q],t[2*q+1]);ee<W&&ee>0&&(j=q,W=ee)}let V=t[2*j],z=t[2*j+1],G=1/0;for(let q=0;q<c;q++){if(q===E||q===j)continue;const W=ngt(N,F,V,z,t[2*q],t[2*q+1]);W<G&&(R=q,G=W)}let H=t[2*R],Z=t[2*R+1];if(G===1/0){for(let ee=0;ee<c;ee++)this._dists[ee]=t[2*ee]-t[0]||t[2*ee+1]-t[1];fm(this._ids,this._dists,0,c-1);const q=new Uint32Array(c);let W=0;for(let ee=0,le=-1/0;ee<c;ee++){const ue=this._ids[ee],ae=this._dists[ue];ae>le&&(q[W++]=ue,le=ae)}this.hull=q.subarray(0,W),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(k5(N,F,V,z,H,Z)<0){const q=j,W=V,ee=z;j=R,V=H,z=Z,R=q,H=W,Z=ee}const Y=sgt(N,F,V,z,H,Z);this._cx=Y.x,this._cy=Y.y;for(let q=0;q<c;q++)this._dists[q]=aC(t[2*q],t[2*q+1],Y.x,Y.y);fm(this._ids,this._dists,0,c-1),this._hullStart=E;let re=3;r[E]=i[R]=j,r[j]=i[E]=R,r[R]=i[j]=E,n[E]=0,n[j]=1,n[R]=2,o.fill(-1),o[this._hashKey(N,F)]=E,o[this._hashKey(V,z)]=j,o[this._hashKey(H,Z)]=R,this.trianglesLen=0,this._addTriangle(E,j,R,-1,-1,-1);for(let q=0,W,ee;q<this._ids.length;q++){const le=this._ids[q],ue=t[2*le],ae=t[2*le+1];if(q>0&&Math.abs(ue-W)<=yZ&&Math.abs(ae-ee)<=yZ||(W=ue,ee=ae,le===E||le===j||le===R))continue;let pe=0;for(let Ie=0,Be=this._hashKey(ue,ae);Ie<this._hashSize&&(pe=o[(Be+Ie)%this._hashSize],!(pe!==-1&&pe!==r[pe]));Ie++);pe=i[pe];let ge=pe,ve;for(;ve=r[ge],k5(ue,ae,t[2*ge],t[2*ge+1],t[2*ve],t[2*ve+1])>=0;)if(ge=ve,ge===pe){ge=-1;break}if(ge===-1)continue;let ce=this._addTriangle(ge,le,r[ge],-1,-1,n[ge]);n[le]=this._legalize(ce+2),n[ge]=ce,re++;let he=r[ge];for(;ve=r[he],k5(ue,ae,t[2*he],t[2*he+1],t[2*ve],t[2*ve+1])<0;)ce=this._addTriangle(he,le,ve,n[le],-1,n[he]),n[le]=this._legalize(ce+2),r[he]=he,re--,he=ve;if(ge===pe)for(;ve=i[ge],k5(ue,ae,t[2*ve],t[2*ve+1],t[2*ge],t[2*ge+1])<0;)ce=this._addTriangle(ve,le,ge,-1,n[ge],n[ve]),this._legalize(ce+2),n[ve]=ce,r[ge]=ge,re--,ge=ve;this._hullStart=i[le]=ge,r[ge]=i[he]=le,r[le]=he,o[this._hashKey(ue,ae)]=le,o[this._hashKey(t[2*ge],t[2*ge+1])]=ge}this.hull=new Uint32Array(re);for(let q=0,W=this._hullStart;q<re;q++)this.hull[q]=W,W=r[W];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(igt(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:r,coords:n}=this;let o=0,c=0;for(;;){const f=r[t],g=t-t%3;if(c=g+(t+2)%3,f===-1){if(o===0)break;t=C5[--o];continue}const v=f-f%3,_=g+(t+1)%3,M=v+(f+2)%3,T=i[c],E=i[t],j=i[_],R=i[M];if(rgt(n[2*T],n[2*T+1],n[2*E],n[2*E+1],n[2*j],n[2*j+1],n[2*R],n[2*R+1])){i[t]=R,i[f]=T;const F=r[M];if(F===-1){let z=this._hullStart;do{if(this._hullTri[z]===M){this._hullTri[z]=t;break}z=this._hullPrev[z]}while(z!==this._hullStart)}this._link(t,F),this._link(f,r[c]),this._link(c,M);const V=v+(f+1)%3;o<C5.length&&(C5[o++]=V)}else{if(o===0)break;t=C5[--o]}}return c}_link(t,i){this._halfedges[t]=i,i!==-1&&(this._halfedges[i]=t)}_addTriangle(t,i,r,n,o,c){const f=this.trianglesLen;return this._triangles[f]=t,this._triangles[f+1]=i,this._triangles[f+2]=r,this._link(f,n),this._link(f+1,o),this._link(f+2,c),this.trianglesLen+=3,f}}function igt(e,t){const i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}function aC(e,t,i,r){const n=e-i,o=t-r;return n*n+o*o}function rgt(e,t,i,r,n,o,c,f){const g=e-c,v=t-f,_=i-c,M=r-f,T=n-c,E=o-f,j=g*g+v*v,R=_*_+M*M,N=T*T+E*E;return g*(M*N-R*E)-v*(_*N-R*T)+j*(_*E-M*T)<0}function ngt(e,t,i,r,n,o){const c=i-e,f=r-t,g=n-e,v=o-t,_=c*c+f*f,M=g*g+v*v,T=.5/(c*v-f*g),E=(v*_-f*M)*T,j=(c*M-g*_)*T;return E*E+j*j}function sgt(e,t,i,r,n,o){const c=i-e,f=r-t,g=n-e,v=o-t,_=c*c+f*f,M=g*g+v*v,T=.5/(c*v-f*g),E=e+(v*_-f*M)*T,j=t+(c*M-g*_)*T;return{x:E,y:j}}function fm(e,t,i,r){if(r-i<=20)for(let n=i+1;n<=r;n++){const o=e[n],c=t[o];let f=n-1;for(;f>=i&&t[e[f]]>c;)e[f+1]=e[f--];e[f+1]=o}else{const n=i+r>>1;let o=i+1,c=r;ab(e,n,o),t[e[i]]>t[e[r]]&&ab(e,i,r),t[e[o]]>t[e[r]]&&ab(e,o,r),t[e[i]]>t[e[o]]&&ab(e,i,o);const f=e[o],g=t[f];for(;;){do o++;while(t[e[o]]<g);do c--;while(t[e[c]]>g);if(c<o)break;ab(e,o,c)}e[i+1]=e[c],e[c]=f,r-o+1>=c-i?(fm(e,t,o,r),fm(e,t,i,c-1)):(fm(e,t,i,c-1),fm(e,t,o,r))}}function ab(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function ogt(e){return e[0]}function agt(e){return e[1]}const mZ=1e-6;class w0{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,i){this._+=`L${this._x1=+t},${this._y1=+i}`}arc(t,i,r){t=+t,i=+i,r=+r;const n=t+r,o=i;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${n},${o}`:(Math.abs(this._x1-n)>mZ||Math.abs(this._y1-o)>mZ)&&(this._+="L"+n+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${i}A${r},${r},0,1,1,${this._x1=n},${this._y1=o}`)}rect(t,i,r,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${+r}v${+n}h${-r}Z`}value(){return this._||null}}class VO{constructor(){this._=[]}moveTo(t,i){this._.push([t,i])}closePath(){this._.push(this._[0].slice())}lineTo(t,i){this._.push([t,i])}value(){return this._.length?this._:null}}class lgt{constructor(t,[i,r,n,o]=[0,0,960,500]){if(!((n=+n)>=(i=+i))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=n,this.xmin=i,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:i,triangles:r},vectors:n}=this;let o,c;const f=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let R=0,N=0,F=r.length,V,z;R<F;R+=3,N+=2){const G=r[R]*2,H=r[R+1]*2,Z=r[R+2]*2,Y=t[G],re=t[G+1],q=t[H],W=t[H+1],ee=t[Z],le=t[Z+1],ue=q-Y,ae=W-re,pe=ee-Y,ge=le-re,ve=(ue*ge-ae*pe)*2;if(Math.abs(ve)<1e-9){if(o===void 0){o=c=0;for(const he of i)o+=t[he*2],c+=t[he*2+1];o/=i.length,c/=i.length}const ce=1e9*Math.sign((o-Y)*ge-(c-re)*pe);V=(Y+ee)/2-ce*ge,z=(re+le)/2+ce*pe}else{const ce=1/ve,he=ue*ue+ae*ae,Ie=pe*pe+ge*ge;V=Y+(ge*he-ae*Ie)*ce,z=re+(ue*Ie-pe*he)*ce}f[N]=V,f[N+1]=z}let g=i[i.length-1],v,_=g*4,M,T=t[2*g],E,j=t[2*g+1];n.fill(0);for(let R=0;R<i.length;++R)g=i[R],v=_,M=T,E=j,_=g*4,T=t[2*g],j=t[2*g+1],n[v+2]=n[_]=E-j,n[v+3]=n[_+1]=T-M}render(t){const i=t==null?t=new w0:void 0,{delaunay:{halfedges:r,inedges:n,hull:o},circumcenters:c,vectors:f}=this;if(o.length<=1)return null;for(let _=0,M=r.length;_<M;++_){const T=r[_];if(T<_)continue;const E=Math.floor(_/3)*2,j=Math.floor(T/3)*2,R=c[E],N=c[E+1],F=c[j],V=c[j+1];this._renderSegment(R,N,F,V,t)}let g,v=o[o.length-1];for(let _=0;_<o.length;++_){g=v,v=o[_];const M=Math.floor(n[v]/3)*2,T=c[M],E=c[M+1],j=g*4,R=this._project(T,E,f[j+2],f[j+3]);R&&this._renderSegment(T,E,R[0],R[1],t)}return i&&i.value()}renderBounds(t){const i=t==null?t=new w0:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(t,i){const r=i==null?i=new w0:void 0,n=this._clip(t);if(n===null||!n.length)return;i.moveTo(n[0],n[1]);let o=n.length;for(;n[0]===n[o-2]&&n[1]===n[o-1]&&o>1;)o-=2;for(let c=2;c<o;c+=2)(n[c]!==n[c-2]||n[c+1]!==n[c-1])&&i.lineTo(n[c],n[c+1]);return i.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let i=0,r=t.length/2;i<r;++i){const n=this.cellPolygon(i);n&&(n.index=i,yield n)}}cellPolygon(t){const i=new VO;return this.renderCell(t,i),i.value()}_renderSegment(t,i,r,n,o){let c;const f=this._regioncode(t,i),g=this._regioncode(r,n);f===0&&g===0?(o.moveTo(t,i),o.lineTo(r,n)):(c=this._clipSegment(t,i,r,n,f,g))&&(o.moveTo(c[0],c[1]),o.lineTo(c[2],c[3]))}contains(t,i,r){return i=+i,i!==i||(r=+r,r!==r)?!1:this.delaunay._step(t,i,r)===t}*neighbors(t){const i=this._clip(t);if(i)for(const r of this.delaunay.neighbors(t)){const n=this._clip(r);if(n){e:for(let o=0,c=i.length;o<c;o+=2)for(let f=0,g=n.length;f<g;f+=2)if(i[o]===n[f]&&i[o+1]===n[f+1]&&i[(o+2)%c]===n[(f+g-2)%g]&&i[(o+3)%c]===n[(f+g-1)%g]){yield r;break e}}}}_cell(t){const{circumcenters:i,delaunay:{inedges:r,halfedges:n,triangles:o}}=this,c=r[t];if(c===-1)return null;const f=[];let g=c;do{const v=Math.floor(g/3);if(f.push(i[v*2],i[v*2+1]),g=g%3===2?g-2:g+1,o[g]!==t)break;g=n[g]}while(g!==c&&g!==-1);return f}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(t);if(i===null)return null;const{vectors:r}=this,n=t*4;return this._simplify(r[n]||r[n+1]?this._clipInfinite(t,i,r[n],r[n+1],r[n+2],r[n+3]):this._clipFinite(t,i))}_clipFinite(t,i){const r=i.length;let n=null,o,c,f=i[r-2],g=i[r-1],v,_=this._regioncode(f,g),M,T=0;for(let E=0;E<r;E+=2)if(o=f,c=g,f=i[E],g=i[E+1],v=_,_=this._regioncode(f,g),v===0&&_===0)M=T,T=0,n?n.push(f,g):n=[f,g];else{let j,R,N,F,V;if(v===0){if((j=this._clipSegment(o,c,f,g,v,_))===null)continue;[R,N,F,V]=j}else{if((j=this._clipSegment(f,g,o,c,_,v))===null)continue;[F,V,R,N]=j,M=T,T=this._edgecode(R,N),M&&T&&this._edge(t,M,T,n,n.length),n?n.push(R,N):n=[R,N]}M=T,T=this._edgecode(F,V),M&&T&&this._edge(t,M,T,n,n.length),n?n.push(F,V):n=[F,V]}if(n)M=T,T=this._edgecode(n[0],n[1]),M&&T&&this._edge(t,M,T,n,n.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(t,i,r,n,o,c){const f=o<c;for(f&&([t,i,r,n,o,c]=[r,n,t,i,c,o]);;){if(o===0&&c===0)return f?[r,n,t,i]:[t,i,r,n];if(o&c)return null;let g,v,_=o||c;_&8?(g=t+(r-t)*(this.ymax-i)/(n-i),v=this.ymax):_&4?(g=t+(r-t)*(this.ymin-i)/(n-i),v=this.ymin):_&2?(v=i+(n-i)*(this.xmax-t)/(r-t),g=this.xmax):(v=i+(n-i)*(this.xmin-t)/(r-t),g=this.xmin),o?(t=g,i=v,o=this._regioncode(t,i)):(r=g,n=v,c=this._regioncode(r,n))}}_clipInfinite(t,i,r,n,o,c){let f=Array.from(i),g;if((g=this._project(f[0],f[1],r,n))&&f.unshift(g[0],g[1]),(g=this._project(f[f.length-2],f[f.length-1],o,c))&&f.push(g[0],g[1]),f=this._clipFinite(t,f))for(let v=0,_=f.length,M,T=this._edgecode(f[_-2],f[_-1]);v<_;v+=2)M=T,T=this._edgecode(f[v],f[v+1]),M&&T&&(v=this._edge(t,M,T,f,v),_=f.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(t,i,r,n,o){for(;i!==r;){let c,f;switch(i){case 5:i=4;continue;case 4:i=6,c=this.xmax,f=this.ymin;break;case 6:i=2;continue;case 2:i=10,c=this.xmax,f=this.ymax;break;case 10:i=8;continue;case 8:i=9,c=this.xmin,f=this.ymax;break;case 9:i=1;continue;case 1:i=5,c=this.xmin,f=this.ymin;break}(n[o]!==c||n[o+1]!==f)&&this.contains(t,c,f)&&(n.splice(o,0,c,f),o+=2)}return o}_project(t,i,r,n){let o=1/0,c,f,g;if(n<0){if(i<=this.ymin)return null;(c=(this.ymin-i)/n)<o&&(g=this.ymin,f=t+(o=c)*r)}else if(n>0){if(i>=this.ymax)return null;(c=(this.ymax-i)/n)<o&&(g=this.ymax,f=t+(o=c)*r)}if(r>0){if(t>=this.xmax)return null;(c=(this.xmax-t)/r)<o&&(f=this.xmax,g=i+(o=c)*n)}else if(r<0){if(t<=this.xmin)return null;(c=(this.xmin-t)/r)<o&&(f=this.xmin,g=i+(o=c)*n)}return[f,g]}_edgecode(t,i){return(t===this.xmin?1:t===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(t,i){return(t<this.xmin?1:t>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let i=0;i<t.length;i+=2){const r=(i+2)%t.length,n=(i+4)%t.length;(t[i]===t[r]&&t[r]===t[n]||t[i+1]===t[r+1]&&t[r+1]===t[n+1])&&(t.splice(r,2),i-=2)}t.length||(t=null)}return t}}const ugt=2*Math.PI,ny=Math.pow;function cgt(e){return e[0]}function hgt(e){return e[1]}function dgt(e){const{triangles:t,coords:i}=e;for(let r=0;r<t.length;r+=3){const n=2*t[r],o=2*t[r+1],c=2*t[r+2];if((i[c]-i[n])*(i[o+1]-i[n+1])-(i[o]-i[n])*(i[c+1]-i[n+1])>1e-10)return!1}return!0}function pgt(e,t,i){return[e+Math.sin(e+t)*i,t+Math.cos(e-t)*i]}class gz{static from(t,i=cgt,r=hgt,n){return new gz("length"in t?fgt(t,i,r,n):Float64Array.from(ygt(t,i,r,n)))}constructor(t){this._delaunator=new N6(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,i=this.points;if(t.hull&&t.hull.length>2&&dgt(t)){this.collinear=Int32Array.from({length:i.length/2},(T,E)=>E).sort((T,E)=>i[2*T]-i[2*E]||i[2*T+1]-i[2*E+1]);const g=this.collinear[0],v=this.collinear[this.collinear.length-1],_=[i[2*g],i[2*g+1],i[2*v],i[2*v+1]],M=1e-8*Math.hypot(_[3]-_[1],_[2]-_[0]);for(let T=0,E=i.length/2;T<E;++T){const j=pgt(i[2*T],i[2*T+1],M);i[2*T]=j[0],i[2*T+1]=j[1]}this._delaunator=new N6(i)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let g=0,v=r.length;g<v;++g){const _=o[g%3===2?g-2:g+1];(r[g]===-1||c[_]===-1)&&(c[_]=g)}for(let g=0,v=n.length;g<v;++g)f[n[g]]=g;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],c[n[0]]=1,n.length===2&&(c[n[1]]=0,this.triangles[1]=n[1],this.triangles[2]=n[1]))}voronoi(t){return new lgt(this,t)}*neighbors(t){const{inedges:i,hull:r,_hullIndex:n,halfedges:o,triangles:c,collinear:f}=this;if(f){const M=f.indexOf(t);M>0&&(yield f[M-1]),M<f.length-1&&(yield f[M+1]);return}const g=i[t];if(g===-1)return;let v=g,_=-1;do{if(yield _=c[v],v=v%3===2?v-2:v+1,c[v]!==t)return;if(v=o[v],v===-1){const M=r[(n[t]+1)%r.length];M!==_&&(yield M);return}}while(v!==g)}find(t,i,r=0){if(t=+t,t!==t||(i=+i,i!==i))return-1;const n=r;let o;for(;(o=this._step(r,t,i))>=0&&o!==r&&o!==n;)r=o;return o}_step(t,i,r){const{inedges:n,hull:o,_hullIndex:c,halfedges:f,triangles:g,points:v}=this;if(n[t]===-1||!v.length)return(t+1)%(v.length>>1);let _=t,M=ny(i-v[t*2],2)+ny(r-v[t*2+1],2);const T=n[t];let E=T;do{let j=g[E];const R=ny(i-v[j*2],2)+ny(r-v[j*2+1],2);if(R<M&&(M=R,_=j),E=E%3===2?E-2:E+1,g[E]!==t)break;if(E=f[E],E===-1){if(E=o[(c[t]+1)%o.length],E!==j&&ny(i-v[E*2],2)+ny(r-v[E*2+1],2)<M)return E;break}}while(E!==T);return _}render(t){const i=t==null?t=new w0:void 0,{points:r,halfedges:n,triangles:o}=this;for(let c=0,f=n.length;c<f;++c){const g=n[c];if(g<c)continue;const v=o[c]*2,_=o[g]*2;t.moveTo(r[v],r[v+1]),t.lineTo(r[_],r[_+1])}return this.renderHull(t),i&&i.value()}renderPoints(t,i){i===void 0&&(!t||typeof t.moveTo!="function")&&(i=t,t=null),i=i==null?2:+i;const r=t==null?t=new w0:void 0,{points:n}=this;for(let o=0,c=n.length;o<c;o+=2){const f=n[o],g=n[o+1];t.moveTo(f+i,g),t.arc(f,g,i,0,ugt)}return r&&r.value()}renderHull(t){const i=t==null?t=new w0:void 0,{hull:r,points:n}=this,o=r[0]*2,c=r.length;t.moveTo(n[o],n[o+1]);for(let f=1;f<c;++f){const g=2*r[f];t.lineTo(n[g],n[g+1])}return t.closePath(),i&&i.value()}hullPolygon(){const t=new VO;return this.renderHull(t),t.value()}renderTriangle(t,i){const r=i==null?i=new w0:void 0,{points:n,triangles:o}=this,c=o[t*=3]*2,f=o[t+1]*2,g=o[t+2]*2;return i.moveTo(n[c],n[c+1]),i.lineTo(n[f],n[f+1]),i.lineTo(n[g],n[g+1]),i.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let i=0,r=t.length/3;i<r;++i)yield this.trianglePolygon(i)}trianglePolygon(t){const i=new VO;return this.renderTriangle(t,i),i.value()}}function fgt(e,t,i,r){const n=e.length,o=new Float64Array(n*2);for(let c=0;c<n;++c){const f=e[c];o[c*2]=t.call(r,f,c,e),o[c*2+1]=i.call(r,f,c,e)}return o}function*ygt(e,t,i,r){let n=0;for(const o of e)yield t.call(r,o,n,e),yield i.call(r,o,n,e),++n}var vz=function(e){return[e.x,e.y]},jx=c0e,c1e="cursor",h1e="top",mgt=function(e){var t=e.points,i=e.getNodePosition,r=i===void 0?vz:i,n=e.margin,o=n===void 0?jx:n;return t.map(function(c){var f=r(c),g=f[0],v=f[1];return[g+o.left,v+o.top]})},ggt=function(e){var t=e.points,i=e.width,r=e.height,n=e.margin,o=n===void 0?jx:n,c=e.debug,f=gz.from(t),g=c?f.voronoi([0,0,o.left+i+o.right,o.top+r+o.bottom]):void 0;return{points:t,delaunay:f,voronoi:g}},d1e=function(e){var t=e.points,i=e.getNodePosition,r=i===void 0?vz:i,n=e.width,o=e.height,c=e.margin,f=c===void 0?jx:c,g=e.debug;return K.useMemo(function(){return ggt({points:mgt({points:t,margin:f,getNodePosition:r}),width:n,height:o,margin:f,debug:g})},[t,n,o,f,g])},vgt=function(e){var t=e.elementRef,i=e.nodes,r=e.getNodePosition,n=r===void 0?vz:r,o=e.delaunay,c=e.setCurrent,f=e.margin,g=f===void 0?jx:f,v=e.detectionRadius,_=v===void 0?1/0:v,M=e.isInteractive,T=M===void 0||M,E=e.onMouseEnter,j=e.onMouseMove,R=e.onMouseLeave,N=e.onClick,F=e.onTouchStart,V=e.onTouchMove,z=e.onTouchEnd,G=e.enableTouchCrosshair,H=G!==void 0&&G,Z=e.tooltip,Y=e.tooltipPosition,re=Y===void 0?c1e:Y,q=e.tooltipAnchor,W=q===void 0?h1e:q,ee=K.useState(null),le=ee[0],ue=ee[1],ae=K.useRef(null);K.useEffect(function(){ae.current=le},[ae,le]);var pe=K.useCallback(function(Ge){if(!t.current)return null;var Te=lw(t.current,Ge),Ve=Te[0],De=Te[1],me=o.find(Ve,De),rt=me!==void 0?i[me]:null;if(rt&&_!==1/0){var lt=n(rt),zt=lt[0],xt=lt[1];Ght(Ve,De,zt+g.left,xt+g.top)>_&&(me=null,rt=null)}return me===null||rt===null?null:[me,rt]},[t,o,i,n,g,_]),ge=Zg(),ve=ge.showTooltipAt,ce=ge.showTooltipFromEvent,he=ge.hideTooltip,Ie=K.useMemo(function(){if(Z)return re==="cursor"?function(Ge,Te){ce(Z(Ge),Te,W)}:function(Ge){var Te=n(Ge),Ve=Te[0],De=Te[1];ve(Z(Ge),[Ve+g.left,De+g.top],W)}},[ve,ce,Z,re,W,n,g]),Be=K.useCallback(function(Ge){var Te=pe(Ge);if(ue(Te),c==null||c(Te?Te[1]:null),Te){var Ve=Te[1];Ie==null||Ie(Ve,Ge),E==null||E(Te[1],Ge)}},[pe,ue,c,Ie,E]),Ke=K.useCallback(function(Ge){var Te=pe(Ge);if(ue(Te),Te){var Ve=Te[0],De=Te[1];if(c==null||c(De),Ie==null||Ie(De,Ge),ae.current){var me=ae.current,rt=me[0],lt=me[1];Ve!==rt?R==null||R(lt,Ge):j==null||j(De,Ge)}else E==null||E(De,Ge)}else c==null||c(null),he==null||he(),ae.current&&(R==null||R(ae.current[1],Ge))},[pe,ue,ae,E,j,R,Ie,he]),wt=K.useCallback(function(Ge){ue(null),c==null||c(null),he(),R&&ae.current&&R(ae.current[1],Ge)},[ue,c,ae,he,R]),He=K.useCallback(function(Ge){var Te=pe(Ge);ue(Te),Te&&(N==null||N(Te[1],Ge))},[pe,ue,N]),yt=K.useCallback(function(Ge){var Te=pe(Ge);H&&(ue(Te),c==null||c(Te?Te[1]:null)),Te&&(F==null||F(Te[1],Ge))},[pe,ue,c,H,F]),Fe=K.useCallback(function(Ge){var Te=pe(Ge);H&&(ue(Te),c==null||c(Te?Te[1]:null)),Te&&(V==null||V(Te[1],Ge))},[pe,ue,c,H,V]),it=K.useCallback(function(Ge){H&&(ue(null),c==null||c(null)),z&&ae.current&&z(ae.current[1],Ge)},[H,ue,c,z,ae]);return{current:le,handleMouseEnter:T?Be:void 0,handleMouseMove:T?Ke:void 0,handleMouseLeave:T?wt:void 0,handleClick:T?He:void 0,handleTouchStart:T?yt:void 0,handleTouchMove:T?Fe:void 0,handleTouchEnd:T?it:void 0}},bgt=function(e){var t=e.nodes,i=e.width,r=e.height,n=e.margin,o=n===void 0?jx:n,c=e.getNodePosition,f=e.setCurrent,g=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,M=e.onClick,T=e.onTouchStart,E=e.onTouchMove,j=e.onTouchEnd,R=e.enableTouchCrosshair,N=R!==void 0&&R,F=e.detectionRadius,V=F===void 0?1/0:F,z=e.tooltip,G=e.tooltipPosition,H=G===void 0?c1e:G,Z=e.tooltipAnchor,Y=Z===void 0?h1e:Z,re=e.debug,q=K.useRef(null),W=d1e({points:t,getNodePosition:c,width:i,height:r,margin:o,debug:re}),ee=W.delaunay,le=W.voronoi,ue=vgt({elementRef:q,nodes:t,delaunay:ee,margin:o,detectionRadius:V,setCurrent:f,onMouseEnter:g,onMouseMove:v,onMouseLeave:_,onClick:M,onTouchStart:T,onTouchMove:E,onTouchEnd:j,enableTouchCrosshair:N,tooltip:z,tooltipPosition:H,tooltipAnchor:Y}),ae=ue.current,pe=ue.handleMouseEnter,ge=ue.handleMouseMove,ve=ue.handleMouseLeave,ce=ue.handleClick,he=ue.handleTouchStart,Ie=ue.handleTouchMove,Be=ue.handleTouchEnd,Ke=K.useMemo(function(){if(re&&le)return le.render()},[re,le]);return P.jsxs("g",{ref:q,transform:"translate("+-o.left+","+-o.top+")",children:[re&&le&&P.jsxs(P.Fragment,{children:[P.jsx("path",{d:Ke,stroke:"red",strokeWidth:1,opacity:.75}),V<1/0&&P.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:ee.renderPoints(void 0,V)}),ae&&P.jsx("path",{fill:"pink",opacity:.35,d:le.renderCell(ae[0])})]}),P.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+i+o.right,height:o.top+r+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:pe,onMouseMove:ge,onMouseLeave:ve,onTouchStart:he,onTouchMove:Ie,onTouchEnd:Be,onClick:ce})]})},wgt=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},xgt=function(e,t,i){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(i,e),e.fillStyle="pink",e.fill(),e.restore()};function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},io.apply(this,arguments)}var bz=K.memo(function(e){var t=e.point;return P.jsx(npe,{id:P.jsxs("span",{children:["x: ",P.jsx("strong",{children:t.data.xFormatted}),", y:"," ",P.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),p1e=K.memo(function(e){var t=e.slice,i=e.axis,r=Cr(),n=i==="x"?"y":"x";return P.jsx(spe,{rows:t.points.map(function(o){return[P.jsx(rpe,{color:o.serieColor,style:r.tooltip.chip},"chip"),o.serieId,P.jsx("span",{style:r.tooltip.tableCellValue,children:o.data[n+"Formatted"]},"value")]})})}),f1e={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:bz,enableSlices:!1,debugSlices:!1,sliceTooltip:p1e,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Xh=io({},f1e,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});io({},f1e,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var _gt=function(e){var t=e.curve;return K.useMemo(function(){return Ffe().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y(function(i){return i.y}).curve(u0e(t))},[t])},Sgt=function(e){var t=e.curve,i=e.yScale,r=e.areaBaselineValue;return K.useMemo(function(){return Slt().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y1(function(n){return n.y}).curve(u0e(t)).y0(i(r))},[t,i,r])},$gt=function(e){var t=e.componentId,i=e.enableSlices,r=e.points,n=e.width,o=e.height;return K.useMemo(function(){if(i===!1)return[];if(i==="x"){var c=new Map;return r.forEach(function(g){g.data.x!==null&&g.data.y!==null&&(c.has(g.x)?c.get(g.x).push(g):c.set(g.x,[g]))}),Array.from(c.entries()).sort(function(g,v){return g[0]-v[0]}).map(function(g,v,_){var M,T,E=g[0],j=g[1],R=_[v-1],N=_[v+1];return M=R?E-(E-R[0])/2:E,T=N?E-M+(N[0]-E)/2:n-M,{id:"slice:"+t+":"+E,x0:M,x:E,y0:0,y:0,width:T,height:o,points:j.reverse()}})}if(i==="y"){var f=new Map;return r.forEach(function(g){g.data.x!==null&&g.data.y!==null&&(f.has(g.y)?f.get(g.y).push(g):f.set(g.y,[g]))}),Array.from(f.entries()).sort(function(g,v){return g[0]-v[0]}).map(function(g,v,_){var M,T,E=g[0],j=g[1],R=_[v-1],N=_[v+1];return M=R?E-(E-R[0])/2:E,T=N?E-M+(N[0]-E)/2:o-M,{id:E,x0:0,x:0,y0:M,y:E,width:n,height:T,points:j.reverse()}})}},[t,i,o,r,n])},Mgt="line",y1e=function(e){var t=e.data,i=e.xScale,r=i===void 0?Xh.xScale:i,n=e.xFormat,o=e.yScale,c=o===void 0?Xh.yScale:o,f=e.yFormat,g=e.width,v=e.height,_=e.colors,M=_===void 0?Xh.colors:_,T=e.curve,E=T===void 0?Xh.curve:T,j=e.areaBaselineValue,R=j===void 0?Xh.areaBaselineValue:j,N=e.pointColor,F=N===void 0?Xh.pointColor:N,V=e.pointBorderColor,z=V===void 0?Xh.pointBorderColor:V,G=e.enableSlices,H=G===void 0?Xh.enableSlicesTooltip:G,Z=K.useState(Kmt(Mgt))[0],Y=S3(n),re=S3(f),q=e1e(M,"id"),W=Cr(),ee=_g(F,W),le=_g(z,W),ue=K.useState([]),ae=ue[0],pe=ue[1],ge=K.useMemo(function(){return fft(t.filter(function(Fe){return ae.indexOf(Fe.id)===-1}),r,c,g,v)},[t,ae,r,c,g,v]),ve=ge.xScale,ce=ge.yScale,he=ge.series,Ie=K.useMemo(function(){var Fe=t.map(function(Ge){return{id:Ge.id,label:Ge.id,color:q(Ge)}}),it=Fe.map(function(Ge){return io({},he.find(function(Te){return Te.id===Ge.id}),{color:Ge.color})}).filter(function(Ge){return!!Ge.id});return{legendData:Fe.map(function(Ge){return io({},Ge,{hidden:!it.find(function(Te){return Te.id===Ge.id})})}).reverse(),series:it}},[t,he,q]),Be=Ie.legendData,Ke=Ie.series,wt=K.useCallback(function(Fe){pe(function(it){return it.indexOf(Fe)>-1?it.filter(function(Ge){return Ge!==Fe}):[].concat(it,[Fe])})},[]),He=function(Fe){var it=Fe.series,Ge=Fe.getPointColor,Te=Fe.getPointBorderColor,Ve=Fe.formatX,De=Fe.formatY;return K.useMemo(function(){return it.reduce(function(me,rt){return[].concat(me,rt.data.filter(function(lt){return lt.position.x!==null&&lt.position.y!==null}).map(function(lt,zt){var xt={id:rt.id+"."+zt,index:me.length+zt,serieId:rt.id,serieColor:rt.color,x:lt.position.x,y:lt.position.y};return xt.color=Ge(rt),xt.borderColor=Te(xt),xt.data=io({},lt.data,{xFormatted:Ve(lt.data.x),yFormatted:De(lt.data.y)}),xt}))},[])},[it,Ge,Te,Ve,De])}({series:Ke,getPointColor:ee,getPointBorderColor:le,formatX:Y,formatY:re}),yt=$gt({componentId:Z,enableSlices:H,points:He,width:g,height:v});return{legendData:Be,toggleSerie:wt,lineGenerator:_gt({curve:E}),areaGenerator:Sgt({curve:E,yScale:ce,areaBaselineValue:R}),getColor:q,series:Ke,xScale:ve,yScale:ce,slices:yt,points:He}},Tgt=function(e){var t=e.areaBlendMode,i=e.areaOpacity,r=e.color,n=e.fill,o=e.path,c=yl(),f=c.animate,g=c.config,v=cz(o),_=hc({color:r,config:g,immediate:!f});return P.jsx(Nr.path,{d:v,fill:n||_.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:t}})},kgt=K.memo(function(e){var t=e.areaGenerator,i=e.areaOpacity,r=e.areaBlendMode,n=e.lines.slice(0).reverse();return P.jsx("g",{children:n.map(function(o){return P.jsx(Tgt,io({path:t(o.data.map(function(c){return c.position}))},io({areaOpacity:i,areaBlendMode:r},o)),o.id)})})}),Cgt=K.memo(function(e){var t=e.lineGenerator,i=e.points,r=e.color,n=e.thickness,o=K.useMemo(function(){return t(i)},[t,i]),c=cz(o);return P.jsx(Nr.path,{d:c,fill:"none",strokeWidth:n,stroke:r})}),Igt=K.memo(function(e){var t=e.lines,i=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map(function(n){var o=n.id,c=n.data,f=n.color;return P.jsx(Cgt,{id:o,points:c.map(function(g){return g.position}),lineGenerator:i,color:f,thickness:r},o)})}),Egt=K.memo(function(e){var t=e.slice,i=e.slices,r=e.axis,n=e.debug,o=e.tooltip,c=e.isCurrent,f=e.setCurrent,g=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,M=e.onClick,T=e.onTouchStart,E=e.onTouchMove,j=e.onTouchEnd,R=Zg(),N=R.showTooltipFromEvent,F=R.hideTooltip,V=K.useCallback(function(q){N(K.createElement(o,{slice:t,axis:r}),q,"right"),f(t),g&&g(t,q)},[N,o,t,r,f,g]),z=K.useCallback(function(q){N(K.createElement(o,{slice:t,axis:r}),q,"right"),v&&v(t,q)},[N,o,t,r,v]),G=K.useCallback(function(q){F(),f(null),_&&_(t,q)},[F,f,_,t]),H=K.useCallback(function(q){M&&M(t,q)},[t,M]),Z=K.useCallback(function(q){N(K.createElement(o,{slice:t,axis:r}),q,"right"),f(t),T&&T(t,q)},[r,T,f,N,t,o]),Y=K.useCallback(function(q){var W=q.touches[0],ee=document.elementFromPoint(W.clientX,W.clientY),le=ee==null?void 0:ee.getAttribute("data-ref");if(le){var ue=i.find(function(ae){return ae.id===le});ue&&(N(K.createElement(o,{slice:ue,axis:r}),q,"right"),f(ue))}E&&E(t,q)},[r,E,f,N,t,i,o]),re=K.useCallback(function(q){F(),f(null),j&&j(t,q)},[F,f,j,t]);return P.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:n?1:0,strokeOpacity:.75,fill:"red",fillOpacity:c&&n?.35:0,onMouseEnter:V,onMouseMove:z,onMouseLeave:G,onClick:H,onTouchStart:Z,onTouchMove:Y,onTouchEnd:re,"data-ref":t.id})}),Agt=K.memo(function(e){var t=e.slices,i=e.axis,r=e.debug,n=e.height,o=e.tooltip,c=e.current,f=e.setCurrent,g=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,M=e.onClick,T=e.onTouchStart,E=e.onTouchMove,j=e.onTouchEnd;return t.map(function(R){return P.jsx(Egt,{slice:R,slices:t,axis:i,debug:r,height:n,tooltip:o,setCurrent:f,isCurrent:c!==null&&c.id===R.id,onMouseEnter:g,onMouseMove:v,onMouseLeave:_,onClick:M,onTouchStart:T,onTouchMove:E,onTouchEnd:j},R.id)})}),jgt=K.memo(function(e){var t=e.points,i=e.symbol,r=e.size,n=e.borderWidth,o=e.enableLabel,c=e.label,f=e.labelYOffset,g=Cr(),v=Uht(c),_=t.slice(0).reverse().map(function(M){return{id:M.id,x:M.x,y:M.y,datum:M.data,fill:M.color,stroke:M.borderColor,label:o?v(M):null}});return P.jsx("g",{children:_.map(function(M){return P.jsx(zht,{x:M.x,y:M.y,datum:M.datum,symbol:i,size:r,color:M.fill,borderWidth:n,borderColor:M.stroke,label:M.label,labelYOffset:f,theme:g},M.id)})})}),Pgt=K.memo(function(e){var t=e.points,i=e.width,r=e.height,n=e.margin,o=e.setCurrent,c=e.onMouseEnter,f=e.onMouseMove,g=e.onMouseLeave,v=e.onClick,_=e.onTouchStart,M=e.onTouchMove,T=e.onTouchEnd,E=e.tooltip,j=e.debug,R=e.enableTouchCrosshair,N=Zg(),F=N.showTooltipAt,V=N.hideTooltip,z=K.useCallback(function(W,ee){F(K.createElement(E,{point:W}),[W.x+n.left,W.y+n.top],"top"),c&&c(W,ee)},[F,E,c,n]),G=K.useCallback(function(W,ee){F(K.createElement(E,{point:W}),[W.x+n.left,W.y+n.top],"top"),f&&f(W,ee)},[F,E,n.left,n.top,f]),H=K.useCallback(function(W,ee){V(),g&&g(W,ee)},[V,g]),Z=K.useCallback(function(W,ee){v&&v(W,ee)},[v]),Y=K.useCallback(function(W,ee){F(K.createElement(E,{point:W}),[W.x+n.left,W.y+n.top],"top"),_&&_(W,ee)},[n.left,n.top,_,F,E]),re=K.useCallback(function(W,ee){F(K.createElement(E,{point:W}),[W.x+n.left,W.y+n.top],"top"),M&&M(W,ee)},[n.left,n.top,M,F,E]),q=K.useCallback(function(W,ee){V(),T&&T(W,ee)},[T,V]);return P.jsx(bgt,{nodes:t,width:i,height:r,setCurrent:o,onMouseEnter:z,onMouseMove:G,onMouseLeave:H,onClick:Z,onTouchStart:Y,onTouchMove:re,onTouchEnd:q,enableTouchCrosshair:R,debug:j})}),Ogt=$0e(function(e){var t=e.data,i=e.xScale,r=i===void 0?{type:"point"}:i,n=e.xFormat,o=e.yScale,c=o===void 0?{type:"linear",min:0,max:"auto"}:o,f=e.yFormat,g=e.layers,v=g===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:g,_=e.curve,M=_===void 0?"linear":_,T=e.areaBaselineValue,E=T===void 0?0:T,j=e.colors,R=j===void 0?{scheme:"nivo"}:j,N=e.margin,F=e.width,V=e.height,z=e.axisTop,G=e.axisRight,H=e.axisBottom,Z=H===void 0?{}:H,Y=e.axisLeft,re=Y===void 0?{}:Y,q=e.enableGridX,W=q===void 0||q,ee=e.enableGridY,le=ee===void 0||ee,ue=e.gridXValues,ae=e.gridYValues,pe=e.lineWidth,ge=pe===void 0?2:pe,ve=e.enableArea,ce=ve!==void 0&&ve,he=e.areaOpacity,Ie=he===void 0?.2:he,Be=e.areaBlendMode,Ke=Be===void 0?"normal":Be,wt=e.enablePoints,He=wt===void 0||wt,yt=e.pointSymbol,Fe=e.pointSize,it=Fe===void 0?6:Fe,Ge=e.pointColor,Te=Ge===void 0?{from:"color"}:Ge,Ve=e.pointBorderWidth,De=Ve===void 0?0:Ve,me=e.pointBorderColor,rt=me===void 0?{theme:"background"}:me,lt=e.enablePointLabel,zt=lt!==void 0&&lt,xt=e.pointLabel,bt=xt===void 0?"data.yFormatted":xt,te=e.pointLabelYOffset,St=e.defs,fi=St===void 0?[]:St,ft=e.fill,Nt=ft===void 0?[]:ft,ht=e.markers,ui=e.legends,ei=ui===void 0?[]:ui,$t=e.isInteractive,_t=$t===void 0||$t,qt=e.useMesh,Ti=qt!==void 0&&qt,Oe=e.debugMesh,Yt=Oe!==void 0&&Oe,d=e.onMouseEnter,O=e.onMouseMove,x=e.onMouseLeave,h=e.onClick,l=e.onTouchStart,s=e.onTouchMove,a=e.onTouchEnd,u=e.tooltip,p=u===void 0?bz:u,y=e.enableSlices,m=y!==void 0&&y,w=e.debugSlices,S=w!==void 0&&w,k=e.sliceTooltip,I=k===void 0?p1e:k,A=e.enableCrosshair,L=A===void 0||A,D=e.crosshairType,U=D===void 0?"bottom-left":D,X=e.enableTouchCrosshair,J=X!==void 0&&X,B=e.role,Q=B===void 0?"img":B,oe=aM(F,V,N),se=oe.margin,ye=oe.innerWidth,de=oe.innerHeight,Me=oe.outerWidth,Se=oe.outerHeight,xe=y1e({data:t,xScale:r,xFormat:n,yScale:c,yFormat:f,width:ye,height:de,colors:R,curve:M,areaBaselineValue:E,pointColor:Te,pointBorderColor:rt,enableSlices:m}),ze=xe.legendData,Ae=xe.toggleSerie,et=xe.lineGenerator,ot=xe.areaGenerator,Ue=xe.series,Mt=xe.xScale,mi=xe.yScale,gi=xe.slices,Ft=xe.points,Ut=Cr(),We=_g(Te,Ut),vi=_g(rt,Ut),Tt=K.useState(null),bn=Tt[0],Zt=Tt[1],cn=K.useState(null),hi=cn[0],fc=cn[1],ao={grid:P.jsx(V0e,{theme:Ut,width:ye,height:de,xScale:W?Mt:null,yScale:le?mi:null,xValues:ue,yValues:ae},"grid"),markers:P.jsx(S0e,{markers:ht,width:ye,height:de,xScale:Mt,yScale:mi,theme:Ut},"markers"),axes:P.jsx(z0e,{xScale:Mt,yScale:mi,width:ye,height:de,theme:Ut,top:z,right:G,bottom:Z,left:re},"axes"),areas:null,lines:P.jsx(Igt,{lines:Ue,lineGenerator:et,lineWidth:ge},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:ei.map(function(Ir,hv){return P.jsx(r1e,io({},Ir,{containerWidth:ye,containerHeight:de,data:Ir.data||ze,theme:Ut,toggleSerie:Ir.toggleSerie?Ae:void 0}),"legend."+hv)})},Nh=k0e(fi,Ue,Nt);return ce&&(ao.areas=P.jsx(kgt,{areaGenerator:ot,areaOpacity:Ie,areaBlendMode:Ke,lines:Ue},"areas")),_t&&m!==!1&&(ao.slices=P.jsx(Agt,{slices:gi,axis:m,debug:S,height:de,tooltip:I,current:hi,setCurrent:fc,onMouseEnter:d,onMouseMove:O,onMouseLeave:x,onClick:h,onTouchStart:l,onTouchMove:s,onTouchEnd:a},"slices")),He&&(ao.points=P.jsx(jgt,{points:Ft,symbol:yt,size:it,color:We,borderWidth:De,borderColor:vi,enableLabel:zt,label:bt,labelYOffset:te},"points")),_t&&L&&(bn!==null&&(ao.crosshair=P.jsx(mO,{width:ye,height:de,x:bn.x,y:bn.y,type:U},"crosshair")),hi!==null&&(ao.crosshair=P.jsx(mO,{width:ye,height:de,x:hi.x,y:hi.y,type:m},"crosshair"))),_t&&Ti&&m===!1&&(ao.mesh=P.jsx(Pgt,{points:Ft,width:ye,height:de,margin:se,current:bn,setCurrent:Zt,onMouseEnter:d,onMouseMove:O,onMouseLeave:x,onClick:h,onTouchStart:l,onTouchMove:s,onTouchEnd:a,tooltip:p,enableTouchCrosshair:J,debug:Yt},"mesh")),P.jsx(pz,{defs:Nh,width:Me,height:Se,margin:se,role:Q,children:v.map(function(Ir,hv){return typeof Ir=="function"?P.jsx(K.Fragment,{children:Ir(io({},e,{innerWidth:ye,innerHeight:de,series:Ue,slices:gi,points:Ft,xScale:Mt,yScale:mi,lineGenerator:et,areaGenerator:ot,currentPoint:bn,setCurrentPoint:Zt,currentSlice:hi,setCurrentSlice:fc}))},hv):ao[Ir]})})}),m1e=function(e){return P.jsx(Ex,{children:function(t){var i=t.width,r=t.height;return P.jsx(Ogt,io({width:i,height:r},e))}})},Rgt=$0e(function(e){var t=K.useRef(null),i=e.width,r=e.height,n=e.margin,o=e.pixelRatio,c=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,f=e.data,g=e.xScale,v=g===void 0?{type:"point"}:g,_=e.xFormat,M=e.yScale,T=M===void 0?{type:"linear",min:0,max:"auto"}:M,E=e.yFormat,j=e.curve,R=j===void 0?"linear":j,N=e.layers,F=N===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:N,V=e.colors,z=V===void 0?{scheme:"nivo"}:V,G=e.lineWidth,H=G===void 0?2:G,Z=e.enableArea,Y=Z!==void 0&&Z,re=e.areaBaselineValue,q=re===void 0?0:re,W=e.areaOpacity,ee=W===void 0?.2:W,le=e.enablePoints,ue=le===void 0||le,ae=e.pointSize,pe=ae===void 0?6:ae,ge=e.pointColor,ve=ge===void 0?{from:"color"}:ge,ce=e.pointBorderWidth,he=ce===void 0?0:ce,Ie=e.pointBorderColor,Be=Ie===void 0?{theme:"background"}:Ie,Ke=e.enableGridX,wt=Ke===void 0||Ke,He=e.gridXValues,yt=e.enableGridY,Fe=yt===void 0||yt,it=e.gridYValues,Ge=e.axisTop,Te=e.axisRight,Ve=e.axisBottom,De=Ve===void 0?{}:Ve,me=e.axisLeft,rt=me===void 0?{}:me,lt=e.legends,zt=lt===void 0?[]:lt,xt=e.isInteractive,bt=xt===void 0||xt,te=e.debugMesh,St=te!==void 0&&te,fi=e.onMouseLeave,ft=e.onClick,Nt=e.tooltip,ht=Nt===void 0?bz:Nt,ui=e.canvasRef,ei=aM(i,r,n),$t=ei.margin,_t=ei.innerWidth,qt=ei.innerHeight,Ti=ei.outerWidth,Oe=ei.outerHeight,Yt=Cr(),d=K.useState(null),O=d[0],x=d[1],h=y1e({data:f,xScale:v,xFormat:_,yScale:T,yFormat:E,width:_t,height:qt,colors:z,curve:R,areaBaselineValue:q,pointColor:ve,pointBorderColor:Be}),l=h.lineGenerator,s=h.areaGenerator,a=h.series,u=h.xScale,p=h.yScale,y=h.points,m=d1e({points:y,width:_t,height:qt,debug:St}),w=m.delaunay,S=m.voronoi;K.useEffect(function(){ui&&(ui.current=t.current),t.current.width=Ti*c,t.current.height=Oe*c;var J=t.current.getContext("2d");J.scale(c,c),J.fillStyle=Yt.background,J.fillRect(0,0,Ti,Oe),J.translate($t.left,$t.top),F.forEach(function(B){if(typeof B=="function"&&B({ctx:J,innerWidth:_t,innerHeight:qt,series:a,points:y,xScale:u,yScale:p,lineWidth:H,lineGenerator:l,areaGenerator:s,currentPoint:O,setCurrentPoint:x}),B==="grid"&&Yt.grid.line.strokeWidth>0&&(J.lineWidth=Yt.grid.line.strokeWidth,J.strokeStyle=Yt.grid.line.stroke,wt&&R6(J,{width:_t,height:qt,scale:u,axis:"x",values:He}),Fe&&R6(J,{width:_t,height:qt,scale:p,axis:"y",values:it})),B==="axes"&&B0e(J,{xScale:u,yScale:p,width:_t,height:qt,top:Ge,right:Te,bottom:De,left:rt,theme:Yt}),B==="areas"&&Y===!0){J.save(),J.globalAlpha=ee,s.context(J);for(var Q=a.length-1;Q>=0;Q--)J.fillStyle=a[Q].color,J.beginPath(),s(a[Q].data.map(function(se){return se.position})),J.fill();J.restore()}if(B==="lines"&&(l.context(J),a.forEach(function(se){J.strokeStyle=se.color,J.lineWidth=H,J.beginPath(),l(se.data.map(function(ye){return ye.position})),J.stroke()})),B==="points"&&ue===!0&&pe>0&&y.forEach(function(se){J.fillStyle=se.color,J.beginPath(),J.arc(se.x,se.y,pe/2,0,2*Math.PI),J.fill(),he>0&&(J.strokeStyle=se.borderColor,J.lineWidth=he,J.stroke())}),B==="mesh"&&St===!0&&(wgt(J,S),O&&xgt(J,S,O.index)),B==="legends"){var oe=a.map(function(se){return{id:se.id,label:se.id,color:se.color}}).reverse();zt.forEach(function(se){n1e(J,io({},se,{data:se.data||oe,containerWidth:_t,containerHeight:qt,theme:Yt}))})}})},[t,Ti,Oe,F,Yt,l,a,u,p,wt,He,Fe,it,Ge,Te,De,rt,zt,y,ue,pe,O]);var k=K.useCallback(function(J){var B=lw(t.current,J),Q=B[0],oe=B[1];if(!T0e($t.left,$t.top,_t,qt,Q,oe))return null;var se=w.find(Q-$t.left,oe-$t.top);return y[se]},[t,$t,_t,qt,w]),I=Zg(),A=I.showTooltipFromEvent,L=I.hideTooltip,D=K.useCallback(function(J){var B=k(J);x(B),B?A(K.createElement(ht,{point:B}),J):L()},[k,x,A,L,ht]),U=K.useCallback(function(J){L(),x(null),O&&fi&&fi(O,J)},[L,x,fi]),X=K.useCallback(function(J){if(ft){var B=k(J);B&&ft(B,J)}},[k,ft]);return P.jsx("canvas",{ref:t,width:Ti*c,height:Oe*c,style:{width:Ti,height:Oe,cursor:bt?"auto":"normal"},onMouseEnter:bt?D:void 0,onMouseMove:bt?D:void 0,onMouseLeave:bt?U:void 0,onClick:bt?X:void 0})}),Lgt=K.forwardRef(function(e,t){return P.jsx(Rgt,io({},e,{canvasRef:t}))});K.forwardRef(function(e,t){return P.jsx(Ex,{children:function(i){var r=i.width,n=i.height;return P.jsx(Lgt,io({width:r,height:n},e,{ref:t}))}})});const Ni=ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"})),Ngt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999,bgcolor:"rgb(26,26,30)",color:"white",justifyContent:"center",display:"flex"},Fgt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999,bgcolor:"rgb(240,240,240)",color:"black",justifyContent:"center",display:"flex"};function Dgt(){var De;const{viewObj:e,setViewObj:t,token:i,apiUrl:r,checked:n,setAoi:o,loading:c,setLoading:f,setArea:g}=K.useContext(Gn);K.useState(!1);const[v,_]=K.useState([]),[M,T]=K.useState([]),[E,j]=K.useState(null),[R,N]=K.useState(null),[F,V]=K.useState([]),[z,G]=K.useState(null),[H,Z]=K.useState(null),[Y,re]=K.useState(null),[q,W]=K.useState([]),[ee,le]=K.useState([]),[ue,ae]=Ts.useState(0),pe=F.length,[ge,ve]=Ts.useState(0),ce=q.length;K.useEffect(()=>{if(F.length>0){let me=F[ue].species,rt=Object.keys(me).map(lt=>({name:lt,species:me[lt].species,image:me[lt].image,iucn:me[lt].iucn}));le(rt)}},[F,ue]);const he=()=>{ae(me=>me+1)},Ie=me=>{ve(me)},Be=()=>{ae(me=>me-1)},Ke=()=>{ve(me=>me+1)},wt=()=>{ve(me=>me-1)},He=K.useRef(null);let[yt,Fe]=K.useState(!1),[it,Ge]=K.useState(!1);const Te=()=>Fe(!1),Ve=()=>Ge(!1);return K.useEffect(()=>{if(He.current&&i){const rt=new woe({basemap:"gray"}),lt=new She({url:"https://data-gis.unep-wcmc.org/server/rest/services/ProtectedSites/The_World_Database_of_Protected_Areas/MapServer/1",title:"Protected Planet",definitionExpression:"iso3 in ('PHL','IDN', 'IND')"}),zt=new ZP({url:"https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms",title:"Geoportal PH",sublayers:[{name:"geoportal:nipas_20221027",title:"National Integrated Protected Area System"}]}),xt=new ZP({url:"https://geo.ejatlas.org/geoserver/wms",title:"Geoportal IN",sublayers:[{name:"geonode:Protected_Area_India_Final",title:"National Park and Wildlife Sanctuary India"}]}),bt=new sde({id:"groupLayer",title:"Protected Area Polygons",visible:!1,layers:[xt,zt,lt]});rt.add(bt);let te=new OGe({title:"Area of Interest",listMode:"hide"});rt.add(te);const St=new PNe({container:He.current,map:rt,zoom:2,center:[78,34],constraints:{minZoom:2},popup:{defaultPopupTemplateEnabled:!0,dockEnabled:!0,autoOpenEnabled:!0,dockOptions:{breakpoint:!1,position:"top-right"}}});St.when(()=>{t(St)});let fi=new rGe({view:St});St.ui.add(fi,"top-left");let ft=new AGe({view:St}),Nt=new PGe({view:St});St.ui.add(Nt,"top-right"),document.addEventListener("fullscreenchange",function(){});const ht=new eJ({view:St,content:ft,expandTooltip:"Basemap Gallery"});St.ui.add(ht,"top-left");var me=document.createElement("div");me.className="esri-icon-dashboard esri-widget--button esri-widget esri-interactive",me.title="Charts and Graphs",me.addEventListener("click",async _t=>{f(!0);let qt=te.graphics._items[0].geometry.rings,Oe=await(await fetch(r+"/open-api/v1/get_landtype_conversion_v1_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})})).json(),Yt=Object.keys(Oe).map(k=>({species:k,density:Oe[k].toFixed(2)}));_(Yt);let O=await(await fetch(r+"/open-api/v1/get_landtype_conversion_v1_area",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})})).json();console.log(O);let x=Object.keys(O).map(k=>({species:k,area:O[k].toFixed(2)}));T(x);let s=(await(await fetch(r+"/open-api/v1/get_landtype_conversion_v1_esa_image",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})})).json()).image;j(s);let u=await(await fetch(r+"/open-api/v1/get-bird-biodiversity",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})})).json();N(u);let p=Object.keys(u.taxonomy.Birds).map(k=>({name:k,speciesCount:u.taxonomy.Birds[k].speciesCount,image:u.taxonomy.Birds[k].image,species:u.taxonomy.Birds[k].species,endangeredCount:u.taxonomy.Birds[k].endangeredCount}));V(p);let y=await fetch(r+"/open-api/v1/get-soil",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})});try{let k=await y.json();G(k)}catch{}let m=await fetch(r+"/open-api/v1/get-risk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})});try{let k=await m.json();Z(k)}catch{}let w=await fetch(r+"/open-api/v1/get-forest-loss",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})});try{let k=await w.json();if(k.groups.length>0){let I=[{id:"Forest Lost",color:"hsl(109, 70%, 50%)",data:k.groups.map(A=>({x:A.year,y:A.sum}))}];re(I)}}catch{}let S=await fetch(r+"/open-api/v1/get-forest-loss-timelapse",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify({polygonMatrix:[qt]})});try{let k=await S.json();if(Object.keys(k).length>0){let I=Object.keys(k).map(A=>({label:A,imgPath:k[A]}));W(I)}}catch{}Ge(!0),f(!1)}),St.ui.add(me,"top-left");let ui=document.createElement("input");ui.type="file",ui.accept=".geojson",ui.id="file-input",ui.name="files[]",ui.addEventListener("change",async _t=>{const qt=_t.target.files[0];if(qt&&qt.name.endsWith(".geojson")){const Ti=new FileReader;Ti.onload=async Oe=>{te.removeAll();const Yt=JSON.parse(Oe.target.result),d=Yt.type,O=Yt.coordinates;let x;d==="Point"?x={type:"point",longitude:O[0],latitude:O[1]}:d==="Polygon"&&(x=new sa({rings:O[0],spatialReference:{wkid:4326}})),o(x);const h=new la({geometry:x,symbol:{type:"simple-fill",color:[19,135,8,.2],outline:{color:"white",width:1}}}),l=Math.abs(gde(Yl(x),"hectares")).toFixed(2);g(l),St.goTo(h.geometry);async function s(){const w=lt.createQuery();return w.geometry=h.geometry,w.spatialRelationship="intersects",w.returnGeometry=!0,(await lt.queryFeatures(w)).features.length>0}async function a(){const w=Yl(h.geometry),{xmin:S,ymin:k,xmax:I,ymax:A,spatialReference:{wkid:L}}=w.extent,D={minx:S,miny:k,maxx:I,maxy:A},se=`https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms?service=WMS&request=GetMap&layers=geoportal:nipas_20221027&bbox=${D.minx},${D.miny},${D.maxx},${D.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,de=await(await fetch(se)).blob();return new Promise((Me,Se)=>{const xe=URL.createObjectURL(de),ze=document.createElement("img");ze.src=xe,ze.onload=()=>{const Ae=document.createElement("canvas"),et=Ae.getContext("2d");Ae.width=ze.width,Ae.height=ze.height,et.drawImage(ze,0,0);const Mt=et.getImageData(0,0,Ae.width,Ae.height).data.filter(mi=>mi!=0).length>0;Me(Mt)}})}async function u(){const w=Yl(h.geometry),{xmin:S,ymin:k,xmax:I,ymax:A,spatialReference:{wkid:L}}=w.extent,D={minx:S,miny:k,maxx:I,maxy:A},se=`https://geo.ejatlas.org/geoserver/wms?service=WMS&request=GetMap&layers=geonode:Protected_Area_India_Final&bbox=${D.minx},${D.miny},${D.maxx},${D.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,de=await(await fetch(se)).blob();return new Promise((Me,Se)=>{const xe=URL.createObjectURL(de),ze=document.createElement("img");ze.src=xe,ze.onload=()=>{const Ae=document.createElement("canvas"),et=Ae.getContext("2d");Ae.width=ze.width,Ae.height=ze.height,et.drawImage(ze,0,0);const Mt=et.getImageData(0,0,Ae.width,Ae.height).data.filter(mi=>mi!=0).length>0;Me(Mt)}})}const p=s(),y=a(),m=u();try{(await Promise.all([p,y,m])).includes(!0)&&Fe(!0)}catch(w){console.error("Error:",w)}te.add(h)},Ti.readAsText(qt)}else alert("Please upload a valid GeoJSON file.")});let ei=new eJ({expandIcon:"map",view:St,content:ui,expandTooltip:"Upload AOI"});St.ui.add(ei,"top-left");const $t=new Wqe({view:St,includeDefaultSources:!1,locationEnabled:!1});St.ui.add($t,"bottom-right")}},[He,i,r]),P.jsxs(P.Fragment,{children:[P.jsx("div",{id:"mapDiv",ref:He,style:{display:n?"none":"",height:"75vh"}}),P.jsx(pI,{open:yt,onClose:Te,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:9999},children:P.jsx(Zi,{sx:Ngt,children:P.jsx("div",{style:{height:"100px",zIndex:9999,overflowY:"scroll"},id:"modelWidget",children:"The uploaded polygon intersects with a Protected Area"})})}),P.jsx(pI,{open:it,onClose:Ve,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:9999},children:P.jsx(Zi,{sx:Fgt,children:P.jsxs("div",{style:{height:"600px",width:"90vw",zIndex:9999,overflowY:"scroll"},id:"modelWidget",children:[P.jsx(ut,{variant:"h4",children:"Density of Biomass"}),P.jsx(ut,{variant:"subtitle",children:"Value of each land type (per hectare)"}),P.jsx(Xu,{data:v,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Density (Mg/ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}}),P.jsx(ut,{variant:"h4",children:"Landtype Area"}),P.jsx(ut,{variant:"subtitle",children:"Area of each land type (in hectare)"}),P.jsx(Xu,{data:M,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}}),P.jsx(ut,{variant:"h4",children:"ESA Image"}),E&&P.jsx("img",{style:{display:"block",margin:"auto"},src:E}),R&&P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Biodiversity"}),P.jsx(ut,{variant:"subtitle",children:"Details of bird species in the area"}),P.jsx(Zi,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"rgb(240,240,240)",marginTop:"5px",width:"95%",position:"relative"},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsx(ut,{variant:"h6",children:"Endangered Count"})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),P.jsx("span",{children:R.endangeredCount.NOT_EVALUATED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),P.jsx("span",{children:R.endangeredCount.DATA_DEFICIENT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),P.jsx("span",{children:R.endangeredCount.LEAST_CONCERN})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),P.jsx("span",{children:R.endangeredCount.NEAR_THREATENED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),P.jsx("span",{children:R.endangeredCount.VULNERABLE})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),P.jsx("span",{children:R.endangeredCount.ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),P.jsx("span",{children:R.endangeredCount.CRITICALLY_ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),P.jsx("span",{children:R.endangeredCount.EXTINCT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),P.jsx("span",{children:R.endangeredCount.EXTINCT_IN_THE_WILD})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsx(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:P.jsx(ut,{variant:"h6",children:"Taxonomy"})})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Total Species"}),P.jsx("span",{children:R.speciesCount})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsxs(Zi,{sx:{flexGrow:1},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsx(ut,{style:{color:"green",backgroundColor:"rgba(0,0,0,0)"},children:F[ue].name})}),P.jsx(Zi,{sx:{width:"100%",p:2},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx(ut,{variant:"h6",children:"Species Count"}),P.jsx(ut,{variant:"h6",children:F[ue].speciesCount})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsx("img",{style:{display:"block",margin:"auto",width:"300px"},src:F[ue].image})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Species"}),P.jsx(pt,{direction:"row",spacing:1,style:{height:"100%"},useFlexGap:!0,flexWrap:"wrap",children:ee.map(me=>P.jsxs(P.Fragment,{children:[P.jsxs("span",{children:[me.name," (",me.iucn,")"]}),P.jsx("span",{children:"|"})]}))})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsx(ut,{variant:"h6",children:"Endangered Count"})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),P.jsx("span",{children:F[ue].endangeredCount.NOT_EVALUATED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),P.jsx("span",{children:F[ue].endangeredCount.DATA_DEFICIENT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),P.jsx("span",{children:F[ue].endangeredCount.LEAST_CONCERN})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),P.jsx("span",{children:F[ue].endangeredCount.NEAR_THREATENED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),P.jsx("span",{children:F[ue].endangeredCount.VULNERABLE})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),P.jsx("span",{children:F[ue].endangeredCount.ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),P.jsx("span",{children:F[ue].endangeredCount.CRITICALLY_ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),P.jsx("span",{children:F[ue].endangeredCount.EXTINCT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),P.jsx("span",{children:F[ue].endangeredCount.EXTINCT_IN_THE_WILD})]})})})]})}),P.jsx(mg,{variant:"text",steps:pe,position:"static",activeStep:ue,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:he,disabled:ue===pe-1,children:["Next",P.jsx(GP,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:Be,disabled:ue===0,children:[P.jsx(UP,{}),"Back"]})})]})})})]})})]}),z&&P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Soil"}),P.jsx(ut,{variant:"subtitle",children:"Area of each soil type (in hectare)"}),P.jsx("img",{style:{display:"block",margin:"auto",width:"400px"},src:z.image}),P.jsx(Xu,{data:z.soilClasses,keys:["areaHa"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#61cdbb"],defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"areaHa"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Soil Type",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}),H&&P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Risks"}),P.jsx(ut,{variant:"subtitle",children:"Natural Hazards in the Area"}),P.jsx(Zi,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"rgb(240,240,240)",marginTop:"5px",width:"95%",position:"relative"},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsxs(at,{item:!0,xs:12,children:[P.jsxs(Ni,{children:[P.jsx(ut,{variant:"h6",children:"Area Image"}),P.jsx("img",{style:{width:"300px",display:"block",margin:"auto"},src:H.gerrymandering.convexHullImage})]}),P.jsxs(Ni,{children:[P.jsx(ut,{variant:"h6",children:"Firms"}),H.firms.risk.map(me=>P.jsx(at,{item:!0,xs:12,children:P.jsx(Ni,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Ha"}),P.jsx("span",{children:me.burnedHa})]}),P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Percent"}),P.jsx("span",{children:me.burnedPercent})]}),P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Years Back"}),P.jsx("span",{children:me.yearsBack})]})]})})}))]})]}),P.jsx(at,{item:!0,xs:12,children:P.jsxs(Ni,{children:[P.jsx(ut,{variant:"h6",children:"Historical"}),Object.keys(H.historical).map(me=>P.jsx(at,{item:!0,xs:12,children:P.jsxs(Ni,{children:[P.jsx(ut,{children:me}),P.jsxs(pt,{direction:"row",spacing:1,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Events"}),P.jsx("span",{children:H.historical[me].paEvents})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Average Overlap"}),P.jsxs("span",{children:[H.historical[me].paAvgOverlap.toFixed(2)," ","ha"]})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Max Overlap"}),P.jsxs("span",{children:[H.historical[me].paMaxOverlap.toFixed(2)," ","ha"]})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Events in 50 km buffer"}),P.jsx("span",{children:H.historical[me].buffer50kmEvents})]})]})]})}))]})})]})})]}),Y&&P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Forest Loss"}),P.jsx(ut,{variant:"subtitle",children:"Forest loss over the years (in ha)"}),P.jsx(m1e,{data:Y,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Year",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0})]}),q.length>0&&P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Forest Loss Timelapse"}),P.jsx(ut,{variant:"subtitle",children:"Forest loss visualization over the years"}),P.jsxs(Zi,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsxs(ut,{variant:"h6",children:["Year ",(De=q[ge])==null?void 0:De.label]})}),P.jsx(Q7,{axis:"x",index:ge,onChangeIndex:Ie,enableMouseEvents:!0,children:q.map((me,rt)=>P.jsx("div",{children:P.jsx(Zi,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:me.imgPath,alt:me.label})},me.label))}),P.jsx(mg,{variant:"text",steps:ce,position:"static",activeStep:ge,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:Ke,disabled:ge===ce-1,children:["Next",P.jsx(GP,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:wt,disabled:ge===0,children:[P.jsx(UP,{}),"Back"]})})]})]})]})})})]})}var wz={},zgt=bx;Object.defineProperty(wz,"__esModule",{value:!0});var Id=wz.default=void 0,Vgt=zgt(wx()),Bgt=P;Id=wz.default=(0,Vgt.default)((0,Bgt.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function gZ(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function Ugt(e){return e?{backgroundImage:`url(${e})`}:{}}function WSt({action:e,feature:t}){const i=t==null?void 0:t.attributes,r="image"in e?e.image:void 0;return r&&i?uN(r,i):r??""}const Ca="esri-layer-list",Sl=`${Ca}__item`,Hi={base:Ca,actionMenu:`${Ca}__action-menu`,actionGroup:`${Ca}__action-group`,filterNoResults:`${Ca}__filter-no-results`,item:Sl,itemActive:`${Sl}--active`,itemContent:`${Sl}-content`,itemContentBottom:`${Sl}-content-bottom`,itemMessage:`${Sl}-message`,itemInvisible:`${Sl}--invisible`,itemActionIcon:`${Sl}-action-icon`,itemActionImage:`${Sl}-action-image`,itemTemporaryIcon:`${Sl}-temporary-icon`,itemTableIcon:`${Sl}-table-icon`,itemCatalogIcon:`${Sl}-catalog-icon`,statusIndicator:`${Ca}__status-indicator`,publishing:`${Ca}__publishing`,updating:`${Ca}__updating`,connectionStatus:`${Ca}__connection-status`,connectionStatusConnected:`${Ca}__connection-status--connected`,visibleToggle:`${Ca}__visible-toggle`,visibleIcon:`${Ca}__visible-icon`};var BO;let Ed=BO=class extends sx{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new BO({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};b([$()],Ed.prototype,"displayValueEnabled",void 0),b([$()],Ed.prototype,"max",void 0),b([$()],Ed.prototype,"min",void 0),b([$()],Ed.prototype,"step",void 0),b([$()],Ed.prototype,"value",void 0),Ed=BO=b([ne("esri.support.actions.ActionSlider")],Ed);const Ggt=Ed,g1e={hide:"hide",hideChildren:"hide-children"},qgt=10,Wgt=2;function Hgt({exclusive:e,visible:t,visibilityAppearance:i}){const r=i==="checkbox";return t?e?"circle-f":r?"check-square-f":"view-visible":e?"circle":r?"square":"view-hide"}function Jgt({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function Kgt(e){return(e==null?void 0:e.listMode)===g1e.hideChildren}function F6(e){return(e==null?void 0:e.listMode)??void 0}function Ygt(e){if(!e)return"inherited";const t=evt(xz(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function v1e(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function Zgt(e){const t=(e!=null&&e.layer&&xz(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(tvt(t)??!0)}function Xgt(e){return F6(e)!==g1e.hide}function b1e(e,t){e==null||e.sort((i,r)=>{const n="uid"in i?t.indexOf(i.uid):-1,o="uid"in r?t.indexOf(r.uid):-1;return n>o?-1:n<o?1:0})}function Qgt(e,t){const i=e==null?void 0:e.layer;if(!i)return;const r=v1e(i);if(!r)return;let n;r==="layers"&&"layers"in i?n=i.layers:r==="sublayers"&&"sublayers"in i&&(n=i.sublayers),b1e(n,t)}function vZ(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function xz(e){return e!=null&&"layer"in e&&e.layer!=null}function evt(e){const t=w1e(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function tvt(e){const t=w1e(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function w1e(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function cu(e){return e==null?void 0:e["data-item"]}function bZ(e){return e==null?void 0:e.getAttribute("data-layer-type")}function ivt({children:e,error:t,incompatible:i}){return!!(e!=null&&e.filter(r=>!r.hidden).length)&&!t&&!i}let Xn=class extends jh(pl){constructor(t,i){super(t,i),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([nt(()=>this._canCreateLegend,()=>this._createLegend(),Xi),nt(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Xi)])}destroy(){this._legend=rr(this._legend)}get _canCreateLegend(){const{content:t,listItem:i}=this;if(!i)return!1;const r="legend";return t===r||t!=null&&!!Array.isArray(t)&&t.includes(r)}get _legendOptions(){const{listItem:t,_legendLayerInfo:i}=this,r=t==null?void 0:t.view;return i&&r?{view:r,layerInfos:[i]}:{}}get _legendLayerInfo(){var c;const t=(c=this.listItem)==null?void 0:c.layer;if(!t||t.type==="subtype-sublayer")return null;const i=xz(t)?t:null,r=t==null?void 0:t.parent,n=r!=null&&"type"in r&&r.type==="map-image"?i==null?void 0:i.source:null,o="";return n&&r?{layer:r,title:o,sublayerIds:[n.mapLayerId]}:{layer:t,title:o}}get disabled(){var n;const{listItem:t,_legend:i,content:r}=this;return!t||!(Array.isArray(r)&&r.length>1)&&!!i&&(!((n=i.activeLayerInfos)!=null&&n.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,i=this._getFirstWidget();return this._get("icon")??(!t&&i?i.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return Ee("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:i,disabled:r,open:n}=this;return t&&!r&&n?t==="legend"&&i?Ee("div",{key:"legend-widget"},i.render()):typeof t=="string"?Ee("div",{innerHTML:t,key:t}):rw(t)?Ee("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?Ee("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:i}=this;return i?Array.isArray(t)?t.map(r=>this._renderContent(r)):this._renderContent(t):null}async _createLegend(){if(rr(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await Ce(()=>import("./Legend-DVlF0NC6.js"),__vite__mapDeps([295,171,139,192,166,167,94,62,118,117,2,119,120]),import.meta.url),i=new t(this._legendOptions);this._legend=i}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:rw(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(t)}};b([$()],Xn.prototype,"_legend",void 0),b([$()],Xn.prototype,"_canCreateLegend",null),b([$()],Xn.prototype,"_legendOptions",null),b([$()],Xn.prototype,"_legendLayerInfo",null),b([$()],Xn.prototype,"className",void 0),b([$()],Xn.prototype,"content",void 0),b([$()],Xn.prototype,"disabled",null),b([$()],Xn.prototype,"flowEnabled",void 0),b([$()],Xn.prototype,"icon",null),b([$()],Xn.prototype,"image",void 0),b([$()],Xn.prototype,"listItem",void 0),b([$()],Xn.prototype,"open",void 0),b([$()],Xn.prototype,"title",null),b([$()],Xn.prototype,"visible",void 0),Xn=b([ne("esri.widgets.LayerList.ListItemPanel")],Xn);const x1e=Xn;var b2;const rvt=st.ofType({key:"type",defaultKeyValue:"button",base:sx,typeMap:{button:Goe,toggle:qoe,slider:Ggt}}),_1e=st.ofType(rvt),lC="layer",I5="child-list-mode",nvt="hide";let Ki=b2=class extends jh(vt){constructor(e){super(e),this.actionsSections=new _1e,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(st.ofType(b2)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([nt(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),Xi),nt(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Xi),nt(()=>this.view,e=>this._updateChildrenView(e),Xi),nt(()=>this.panel,e=>this._setListItemOnPanel(e),Xi)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const i=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(r=>r.layer===i)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new x1e(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=Ys(this,"layer.layer");return(!e||e&&Ys(this,"layer.layer.loaded"))&&Ys(this,"layer.title")||Ys(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var i;const{layer:e,checkPublishStatusEnabled:t}=this;return t&&e&&"publishingInfo"in e&&((i=e.publishingInfo)==null?void 0:i.status)==="publishing"}get updating(){const{layerView:e,connectionStatus:t,layer:i,publishing:r}=this;return!r&&!t&&(e?e.updating:(i==null?void 0:i.loadStatus)==="loading"||!1)}get visible(){var e;return(e=this.layer)==null?void 0:e.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!0}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return Ygt(this.layer)}clone(){return new b2({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){const t=this.children;t&&t.forEach(i=>i.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(i=>i.view=e)}_createChildren(e){const{listModeDisabled:t,children:i}=this,r=e.filter(n=>!i.some(o=>o.layer===n));i.addMany(this._createChildItems(r,t))}_destroyChildren(e){const{children:t}=this,i=t.filter(r=>!e.includes(r.layer));t.destroyMany(i)}_sortChildren(e){this.children.sort((t,i)=>e.indexOf(i.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(I5),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(I5),this.listModeDisabled||this.addHandles(e.toArray().map(t=>nt(()=>t.listMode,()=>this._compileChildren(e))),I5)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(i=>F6(i)!==nvt);t!=null&&t.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),lC)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.map(i=>t||Xgt(i)?new b2({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(ss).reverse()}_watchLayerProperties(e){if(this.removeHandles(lC),this.removeHandles(I5),!e)return;if((!this.listModeDisabled&&F6(e))==="hide-children")return void this.children.destroyAll();const t=v1e(e);t&&this.addHandles(nt(()=>e[t],i=>{e.hasOwnProperty(t)&&this._initializeChildLayers(i)},Xi),lC)}};b([$({type:_1e})],Ki.prototype,"actionsSections",void 0),b([$()],Ki.prototype,"actionsOpen",void 0),b([$()],Ki.prototype,"checkPublishStatusEnabled",void 0),b([$({type:st})],Ki.prototype,"children",void 0),b([$()],Ki.prototype,"childrenSortable",void 0),b([$({readOnly:!0})],Ki.prototype,"connectionStatus",null),b([$({readOnly:!0})],Ki.prototype,"error",null),b([$()],Ki.prototype,"hidden",void 0),b([$({readOnly:!0})],Ki.prototype,"incompatible",null),b([$()],Ki.prototype,"layer",void 0),b([$({readOnly:!0})],Ki.prototype,"layerView",null),b([$()],Ki.prototype,"listItemCreatedFunction",void 0),b([$({nonNullable:!0})],Ki.prototype,"listModeDisabled",void 0),b([$()],Ki.prototype,"open",void 0),b([$({type:x1e})],Ki.prototype,"panel",void 0),b([$i("panel")],Ki.prototype,"castPanel",null),b([$()],Ki.prototype,"parent",void 0),b([$({value:!0})],Ki.prototype,"sortable",null),b([$()],Ki.prototype,"title",null),b([$({readOnly:!0})],Ki.prototype,"publishing",null),b([$({readOnly:!0})],Ki.prototype,"updating",null),b([$()],Ki.prototype,"view",void 0),b([$()],Ki.prototype,"visible",null),b([$({readOnly:!0})],Ki.prototype,"visibleAtCurrentScale",null),b([$({readOnly:!0})],Ki.prototype,"visibleAtCurrentTimeExtent",null),b([$({readOnly:!0})],Ki.prototype,"visibilityMode",null),Ki=b2=b([ne("esri.widgets.LayerList.ListItem")],Ki);const _z=Ki,$l={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},svt="hide",S1e=st.ofType(_z);let Au=class extends dl.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new S1e,this.view=null}initialize(){this.addHandles([nt(()=>{var e;return((e=this.view)==null?void 0:e.ready)===!0},()=>this._viewHandles(),Xi),nt(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList())],$l.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e!=null&&e.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(e=>e.children).length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,i,r){var T,E;const n=e==null?void 0:e.layer;if(!n||n.type==="subtype-sublayer"||n.type==="sublayer")return;const o=(E=(T=this.view)==null?void 0:T.map)==null?void 0:E.layers,c=t?vZ(t):o,f=i?vZ(i):o;if(!c||!f)return;const{operationalItems:g}=this,v=(t==null?void 0:t.children)||g,_=(i==null?void 0:i.children)||g,M=f.length-r;e.parent=i||null,v.remove(e),c.remove(n),_.includes(e)||_.add(e,M),f.includes(n)||f.add(n,M),this._compileList()}_createLayerViewHandles(e){this.removeHandles($l.layerViews),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),$l.layerViews)}_createMapLayerHandles(e){this.removeHandles($l.mapLayers),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),$l.mapLayers)}_createListItem(e){const{view:t,listItemCreatedFunction:i,checkPublishStatusEnabled:r,listModeDisabled:n}=this;return new _z({checkPublishStatusEnabled:r,listModeDisabled:n,layer:e,listItemCreatedFunction:i,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter(t=>F6(t)!==svt):void 0}_watchLayersListMode(e){this.removeHandles($l.layerListMode),e&&!this.listModeDisabled&&this.addHandles(nt(()=>e.filter(t=>"listMode"in t).map(t=>t.listMode).toArray(),()=>this._compileList()),$l.layerListMode)}_compileList(){var i,r;const e=(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.layers;this._watchLayersListMode(e);const t=this._getViewableLayers(e);t!=null&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach(i=>{t.some(r=>r.layer===i)||t.add(this._createListItem(i))})}_removeItems(e){const{operationalItems:t}=this,i=[];t.forEach(r=>{r&&e&&e.includes(r.layer)||i.push(r)}),t.destroyMany(i)}_sortItems(e){const{operationalItems:t}=this;t.sort((i,r)=>{const n=e.indexOf(i.layer),o=e.indexOf(r.layer);return n>o?-1:n<o?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([$l.mapLayers,$l.layerViews,$l.viewLayers]),e!=null&&e.ready?this.addHandles([nt(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},t=>this._createMapLayerHandles(t),Xi),nt(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},t=>this._createLayerViewHandles(t),Xi)],$l.viewLayers):this._removeAllItems()}};b([$()],Au.prototype,"checkPublishStatusEnabled",void 0),b([$()],Au.prototype,"listItemCreatedFunction",void 0),b([$({nonNullable:!0})],Au.prototype,"listModeDisabled",void 0),b([$({type:S1e})],Au.prototype,"operationalItems",void 0),b([$({readOnly:!0})],Au.prototype,"state",null),b([$()],Au.prototype,"totalItems",null),b([$()],Au.prototype,"view",void 0),Au=b([ne("esri.widgets.LayerList.LayerListViewModel")],Au);const $1e=Au;let Ia=class extends vt{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"catalogLayerList",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"closeButton",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"collapseButton",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"errors",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"filter",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"flow",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"heading",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"statusIndicators",void 0),b([$({type:Boolean,nonNullable:!0})],Ia.prototype,"temporaryLayerIndicators",void 0),Ia=b([ne("esri.widgets.LayerList.LayerListVisibleElements")],Ia);const M1e=Ia,ovt=st.ofType(_z);let si=class extends jh(pl){constructor(e,t){super(e,t),this._activeItem=null,this._tooltipReferenceMap=new Z2,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusTableListFlowItem=!1,this._focusCatalogFlowItem=!1,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=Wgt,this.minFilterItems=qgt,this.openCatalogItem=null,this.openTableListItem=null,this.selectedItems=new ovt,this.selectionMode="none",this.tableList=null,this.viewModel=new $1e,this.visibilityAppearance="default",this.visibleElements=new M1e,this._canMove=({dragEl:i,fromEl:r,toEl:n},o)=>{var G,H,Z;const c=o==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,f=cu(i);if(!(f!=null&&f.sortable))return!1;const g=cu(r),v=bZ(r),_=cu(n),M=bZ(n),T=!!v&&!!M&&v===M,E={selected:f,from:g,to:_},j=r.group,R=n.group,N=((G=g==null?void 0:g.layer)==null?void 0:G.type)??"",F=((H=_==null?void 0:_.layer)==null?void 0:H.type)??"",V=new Set(["map-image","catalog","knowledge-graph"]);return j&&R&&typeof c=="function"?c.call(null,E):T&&!V.has(N)&&!V.has(F)&&((Z=f==null?void 0:f.layer)==null?void 0:Z.type)!=="sublayer"},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=i=>{if(this.visibilityAppearance!=="default")return;const r=Array.from(i.composedPath()).find(n=>{var o;return(o=n.classList)==null?void 0:o.contains(Hi.item)});this._activeItem=cu(r)},this._onCalciteListOrderChange=i=>{const{_lastDragDetail:r}=this,{toEl:n,fromEl:o,dragEl:c,newIndex:f}=i;if(o&&n&&!((r==null?void 0:r.newIndex)===f&&(r==null?void 0:r.dragEl)===c&&(r==null?void 0:r.toEl)===n&&(r==null?void 0:r.fromEl)===o))if(this._lastDragDetail=i,o!==n)this._moveLayerFromChildList({toEl:n,fromEl:o,dragEl:c,newIndex:f});else{const g=Array.from(o.children).filter(v=>v==null?void 0:v.matches("calcite-list-item")).map(v=>v.value);this._sortLayers(o,g)}}}initialize(){this.addHandles([nt(()=>this.openCatalogItem,e=>e?this._createCatalog():this._destroyCatalog()),nt(()=>this.openTableListItem,e=>e?this._createTableList():this._destroyTableList())])}loadDependencies(){return qp({action:()=>Ce(()=>import("./calcite-action-BkOj05qh.js"),__vite__mapDeps([296,241,209,210,213,214,215,212,216,217,218]),import.meta.url),"action-group":()=>Ce(()=>import("./calcite-action-group-DXaG2jga.js"),__vite__mapDeps([297,298,299,215,213,214,209,216,240,241,210,212,217,218,242,243,244,245,246]),import.meta.url),"action-menu":()=>Ce(()=>import("./calcite-action-menu-DS9FdGVI.js"),__vite__mapDeps([300,240,209,214,215,213,241,210,212,216,217,218,242,243,244,245,246]),import.meta.url),button:()=>Ce(()=>import("./calcite-button-CAvrnvNe.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),flow:()=>Ce(()=>import("./calcite-flow-CdkrdOLf.js"),__vite__mapDeps([301,215,213]),import.meta.url),"flow-item":()=>Ce(()=>import("./calcite-flow-item-Cs_Gc7xm.js"),__vite__mapDeps([302,209,210,213,214,215,216,239,240,241,212,217,218,242,243,244,245,246,236]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-BglXzQj1.js"),__vite__mapDeps([219,217,209,215]),import.meta.url),list:()=>Ce(()=>import("./calcite-list-BvrP36XK.js"),__vite__mapDeps([303,209,210,215,304,305,213,216,214,244,217,306,208,211,212,218,236]),import.meta.url),"list-item":()=>Ce(()=>import("./calcite-list-item-4DnBrn3q.js"),__vite__mapDeps([307,209,210,214,215,216,213,305,304,241,212,217,218]),import.meta.url),notice:()=>Ce(()=>import("./calcite-notice-U-ZNtWRb.js"),__vite__mapDeps([308,299,215,209,213,214,216,246,212,217]),import.meta.url),tooltip:()=>Ce(()=>import("./calcite-tooltip-C1sNlgZ_.js"),__vite__mapDeps([309,209,243,244,246]),import.meta.url)})}destroy(){this._destroyTableList(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(e=>e.children.filter(t=>t.layer.type!=="catalog-dynamic-group")).length}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get icon(){return"layers"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get multipleSelectionEnabled(){return mb(Le.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode==="multiple"}set multipleSelectionEnabled(e){mb(Le.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get selectionEnabled(){return mb(Le.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.selectionMode!=="none"&&this.dragEnabled}set selectionEnabled(e){mb(Le.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){var r,n;const e=(r=this.viewModel)==null?void 0:r.state,t={[Dt.hidden]:e==="loading",[Dt.disabled]:e==="disabled"},i=(n=this.operationalItems)==null?void 0:n.filter(o=>!o.hidden&&(this.visibleElements.errors||!o.error));return Ee("div",{class:this.classes(Hi.base,Dt.widget,Dt.panel,t)},i!=null&&i.length?[this._renderItemTooltips(i),this._renderItems(i)]:this._renderNoItems())}_renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:i}=this;return e?Ee("calcite-tooltip",{key:`tooltip-${e.layer.uid}`,referenceElement:t.get(e.layer.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){var t;return e.incompatible?this._renderItemTooltip(e):(t=e.children)==null?void 0:t.filter(i=>!i.hidden).toArray().map(i=>this._renderItemTooltipNodes(i))}_renderItemTooltips(e){return e==null?void 0:e.toArray().map(t=>this._renderItemTooltipNodes(t))}_renderNoItemsMessage(){return Ee("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return Ee("div",{class:Hi.itemMessage,key:"esri-layer-list__no-items"},Ee("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}_destroyCatalog(){var e;(e=this.catalogLayerList)==null||e.destroy(),this._set("catalogLayerList",null)}_destroyTableList(){var e;(e=this.tableList)==null||e.destroy(),this._set("tableList",null)}async _createCatalog(){var _;this._destroyCatalog();const{default:e}=await Ce(()=>import("./CatalogLayerList-DNILkyUA.js"),[],import.meta.url),{headingLevel:t,catalogOptions:i,view:r,filterPlaceholder:n,listItemCreatedFunction:o,minFilterItems:c,selectionMode:f,visibilityAppearance:g}=this,v=(_=this.openCatalogItem)==null?void 0:_.layer;this._set("catalogLayerList",new e({headingLevel:t,view:r,filterPlaceholder:n,listItemCreatedFunction:o,minFilterItems:c,selectionMode:f,visibilityAppearance:g,...i,catalogLayer:v}))}_getTableListParams(e){const t=e==null?void 0:e.layer;return(t==null?void 0:t.type)==="knowledge-graph"?{...this.knowledgeGraphOptions,tables:t==null?void 0:t.tables}:null}async _createTableList(){var o;this._destroyTableList();const{default:e}=await Ce(()=>import("./TableList-Br7kcGjN.js"),[],import.meta.url),t=this._getTableListParams(this.openTableListItem);if(!((o=t==null?void 0:t.tables)!=null&&o.length))return;const{headingLevel:i,selectionMode:r,dragEnabled:n}=this;this._set("tableList",new e({headingLevel:i,selectionMode:r,dragEnabled:n,...t}))}_renderCatalogFlowItem(){var r;const{openCatalogItem:e,messages:t}=this;if(!e)return null;const i=this._getLayerTitle(e);return Ee("calcite-flow-item",{afterCreate:this._focusCatalogFlowItemNode,afterUpdate:this._focusCatalogFlowItemNode,bind:this,description:i,heading:t.catalogLayers,headingLevel:this.headingLevel,key:`flow-catalog-${e.uid}`,onCalciteFlowItemBack:n=>{n.preventDefault(),this.openCatalogItem=null,this._focusRootFlowItem=!0}},(r=this.catalogLayerList)==null?void 0:r.render())}_renderTableListFlowItem(){var r;const{openTableListItem:e,messages:t}=this;if(!e)return null;const i=this._getLayerTitle(e);return Ee("calcite-flow-item",{afterCreate:this._focusTableListFlowItemNode,afterUpdate:this._focusTableListFlowItemNode,bind:this,description:i,heading:t.tables,headingLevel:this.headingLevel,key:`flow-table-list-${e.uid}`,onCalciteFlowItemBack:n=>{n.preventDefault(),this.openTableListItem=null,this._focusRootFlowItem=!0}},(r=this.tableList)==null?void 0:r.render())}_renderPanelFlowItems(e){return e?e.flatten(t=>t.children).filter(({hidden:t,panel:i})=>!t&&(i==null?void 0:i.open)&&!i.disabled&&i.flowEnabled).toArray().map(({title:t,panel:i})=>{const r=()=>this._handlePanelFlowItemBack(i);return Ee("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:t,heading:i.title,headingLevel:this.headingLevel,key:`flow-panel-${i.uid}`,onCalciteFlowItemBack:n=>{n.preventDefault(),r()}},i.render(),Ee("calcite-button",{appearance:"transparent",onclick:r,slot:"footer-actions",width:"full"},this.messagesCommon.back))}):[]}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusCatalogFlowItemNode(e){this._focusCatalogFlowItem&&(this._focusCatalogFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusTableListFlowItemNode(e){this._focusTableListFlowItem&&(this._focusTableListFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_renderItems(e){const{visible:t,collapsed:i,_filterEnabled:r,_rootGroupUid:n,visibleElements:{closeButton:o,collapseButton:c,heading:f,flow:g},_dragEnabled:v,selectionMode:_,filterText:M,filterPlaceholder:T,messages:E}=this,j=[Ee("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:o,closed:!t,collapsed:i,collapsible:c,heading:f?E.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:()=>this.visible=!1},Ee("calcite-list",{afterCreate:R=>{R.addEventListener("focusin",this._setActiveItem),R.addEventListener("focusout",this._clearActiveItem)},afterRemoved:R=>{R.removeEventListener("focusin",this._setActiveItem),R.removeEventListener("focusout",this._clearActiveItem)},canPull:R=>this._canMove(R,"pull"),canPut:R=>this._canMove(R,"put"),"data-layer-type":n,dragEnabled:v,filterEnabled:r,filterPlaceholder:T,filterText:r?M:"",group:n,key:"root-list",label:E.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:_,onCalciteListChange:R=>this._handleCalciteListChange(R),onCalciteListDragEnd:R=>this._handleCalciteListDragEnd(R.detail),onCalciteListFilter:R=>{var N;return this.filterText=((N=R.target)==null?void 0:N.filterText)??""},onCalciteListOrderChange:R=>this._onCalciteListOrderChange(R.detail)},e==null?void 0:e.toArray().map(R=>this._renderItem(R)),e!=null&&e.length&&r?Ee("div",{class:Hi.filterNoResults,slot:"filter-no-results"},Ee("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e),this._renderTableListFlowItem(),this._renderCatalogFlowItem()];return t?g?Ee("calcite-flow",{key:"root-flow"},j):j:null}_renderChildList(e,t=[]){var _,M,T,E;const{_dragEnabled:i,_rootGroupUid:r,viewModel:{listModeDisabled:n},messages:o,selectionMode:c}=this,{children:f}=e,g=((_=e.layer)==null?void 0:_.type)!=="catalog-dynamic-group"&&ivt(e),v=!(!n&&Kgt(e.layer))&&!g&&i&&((M=e.layer)==null?void 0:M.type)==="group";return g||v?Ee("calcite-list",{canPull:j=>this._canMove(j,"pull"),canPut:j=>this._canMove(j,"put"),"data-item":e,"data-layer-type":r,dragEnabled:!!i&&e.childrenSortable&&Zgt(e),group:`${r}-${e.layer.uid}`,key:`child-list-${e.layer.uid}`,selectionAppearance:"border",selectionMode:c},f==null?void 0:f.filter(j=>!j.hidden).toArray().map(j=>this._renderItem(j,e,[...t,e.title])),(E=(T=this._getTableListParams(e))==null?void 0:T.tables)!=null&&E.length?Ee("calcite-list-item",{class:Hi.item,"data-layer-id":e.layer.id,dragDisabled:!0,key:`list-item-table-list-tables-${e.layer.uid}`,title:o.tables,onCalciteListItemSelect:()=>{this.openTableListItem=e,this._focusTableListFlowItem=!0}},Ee("div",{class:Hi.itemContent,slot:"content"},o.tables),Ee("calcite-icon",{class:Hi.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),Ee("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null):null}_renderItemMessage(e){return e.error?Ee("div",{class:Hi.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},Ee("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},Ee("div",{slot:"message"},this.messages.layerError))):e.incompatible?Ee("div",{class:Hi.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},Ee("calcite-notice",{afterCreate:t=>this._setTooltipReference(t,e),afterRemoved:()=>this._removeTooltipReference(e),bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},Ee("div",{slot:"message"},this.messages.layerIncompatible))):null}_getLayerTitle(e){return e.title||this.messages.untitledLayer}_renderItem(e,t,i){var z,G,H,Z;const{_activeItem:r,_selectedDragItemLayerUid:n,selectionMode:o,selectedItems:c,messages:f,visibleElements:g}=this,v=this._getLayerTitle(e),_=e.visibleAtCurrentTimeExtent?e.visibleAtCurrentScale?v:`${v} (${f.layerInvisibleAtScale})`:`${v} (${f.layerInvisibleAtTime})`,M=this._filterActions(e.actionsSections),T=this._countActions(M),E=((G=(z=e.parent)==null?void 0:z.layer)==null?void 0:G.type)==="catalog",j=((H=e.layer)==null?void 0:H.type)==="catalog-footprint",R=((Z=e.layer)==null?void 0:Z.type)==="catalog-dynamic-group",N=j?Ee("calcite-icon",{class:Hi.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null,F=R?Ee("calcite-icon",{class:Hi.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null,V=g.catalogLayerList&&R?Ee("calcite-action",{appearance:"transparent",disabled:!e.layer.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>{this.openCatalogItem=t,this._focusCatalogFlowItem=!0},scale:"s",slot:"actions-end",text:v}):null;return Ee("calcite-list-item",{afterCreate:Y=>this._focusSelectedDragEl(Y,e),afterUpdate:Y=>this._focusSelectedDragEl(Y,e),class:this.classes(Hi.item,{[Hi.itemActive]:r===e}),"data-item":e,"data-layer-id":e.layer.id,dragDisabled:!e.sortable||E,dragSelected:e.layer.uid===n,id:e.layer.uid,key:`list-item-${e.layer.uid}`,label:v,metadata:{parentTitles:i,title:v},open:e.open,selected:o!=="none"&&c.includes(e),title:_,value:e.layer.uid,onCalciteListItemDragHandleChange:Y=>this._handleCalciteListItemDragHandleChange(Y,e),onCalciteListItemSelect:Y=>this._handleCalciteListItemSelect(Y,e,t),onCalciteListItemToggle:Y=>this._handleCalciteListItemToggle(Y,e)},N,F,Ee("div",{class:this.classes({[Hi.itemContent]:!0,[Hi.itemInvisible]:!e.visibleAtCurrentScale||!e.visibleAtCurrentTimeExtent}),slot:"content"},v),this._renderItemStatus(e,t),this._renderItemToggle(e,t),V,this._renderItemTemporaryIcon(e),this._renderChildList(e,i),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),T>1?this._renderActionsSections(e,M):T===1?this._renderAction({item:e,action:this._getSingleAction(M),textEnabled:!1}):null)}_renderItemStatus(e,t){const{visibleElements:i}=this;if(!i.statusIndicators)return null;const{connectionStatus:r,publishing:n,updating:o}=e,c=o&&!t,f=!!r;return Ee("calcite-icon",{class:this.classes({[Hi.statusIndicator]:!0,[Hi.publishing]:n,[Hi.updating]:c,[Hi.connectionStatus]:f,[Hi.connectionStatusConnected]:f&&r==="connected"}),icon:Jgt({connectionStatus:r,publishing:n}),key:"layer-item-status",scale:"s",slot:"actions-end"})}_renderItemTemporaryIcon(e){return this.visibleElements.temporaryLayerIndicators&&"persistenceEnabled"in e.layer&&!e.layer.persistenceEnabled?Ee("calcite-icon",{class:Hi.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}_renderItemToggle(e,t){const{messages:i,visibilityAppearance:r}=this,{visible:n}=e,o=t==null?void 0:t.visibilityMode;if(o==="inherited")return null;const c=Hgt({visible:n,exclusive:o==="exclusive",visibilityAppearance:r}),f=r==="checkbox",g=i.layerVisibility;return Ee("calcite-action",{appearance:"transparent",class:Hi.visibleToggle,icon:f?c:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(e,t),scale:"s",slot:f?"actions-start":"actions-end",text:g,title:g},f?null:Ee("calcite-icon",{class:this.classes({[Hi.visibleIcon]:o!=="exclusive"&&n}),icon:c,scale:"s"}))}_renderPanel(e){return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:Ee("div",{class:Hi.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}_renderPanelAction(e){if(!(e!=null&&e.visible))return null;const{open:t,title:i,disabled:r}=e;return Ee("calcite-action",{active:t,appearance:"transparent",disabled:r,icon:gZ(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:i??"",title:i??void 0},this._renderFallbackIcon(e))}_renderActionsSections(e,t){const i=this.messagesCommon.options;return Ee("calcite-action-menu",{appearance:"transparent",class:Hi.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:r=>e.actionsOpen=r.target.open},Ee("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:i,title:i}),t.toArray().map((r,n)=>this._renderActionSection(e,r,n)))}_renderActionSection(e,t,i){return Ee("calcite-action-group",{class:Hi.actionGroup,key:`action-section-${i}`},t.toArray().map(r=>this._renderAction({item:e,action:r,textEnabled:!0})))}_renderFallbackIcon(e){const{className:t,icon:i}=e;if(i)return null;const r="image"in e?e.image:void 0,n={[Hi.itemActionIcon]:!!t,[Hi.itemActionImage]:!!r};return t&&(n[t]=!0),r||t?Ee("span",{"aria-hidden":"true",class:this.classes(Hi.itemActionIcon,n),key:"icon",styles:Ugt(r)}):null}_renderAction(e){const{item:t,action:i,textEnabled:r}=e;if(!i)return null;const{active:n,disabled:o,title:c,type:f,indicator:g}=i;return Ee("calcite-action",{active:f==="toggle"&&i.value,appearance:"transparent",disabled:o,icon:gZ(i),indicator:g,key:`action-${i.uid}`,loading:n,onclick:()=>this._triggerAction(t,i),scale:"s",slot:r?void 0:"actions-end",text:c??"",textEnabled:r,title:c??void 0},this._renderFallbackIcon(i))}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.layer.uid,e)}_removeTooltipReference(e){this._tooltipReferenceMap.delete(e.layer.uid)}_moveLayerFromChildList({toEl:e,fromEl:t,dragEl:i,newIndex:r}){const n=cu(i),o=cu(e),c=cu(t);this.viewModel.moveListItem(n,c,o,r)}_handleCalciteListDragEnd(e){const{fromEl:t,dragEl:i,oldIndex:r}=e;t.insertBefore(i,t.children[r])}_sortLayers(e,t){var i,r;if(e)if(e.group===this._rootGroupUid)b1e((r=(i=this.view)==null?void 0:i.map)==null?void 0:r.layers,t);else{const n=cu(e);if(!n)return;Qgt(n,t)}}_getSingleAction(e){return e.reduce(t=>t).find(t=>t&&(t.type==="button"||t.type==="toggle"))}_filterActions(e){return e.map(t=>t.filter(i=>i.visible))}_countActions(e){return e.reduce((t,i)=>t+i.length,0)}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.triggerAction(t,e))}_handleCalciteListChange(e){const{selectionMode:t,selectedItems:i}=this;if(t==="none")return;const r=e.target.selectedItems.map(n=>cu(n)).filter(Boolean);i.removeAll(),i.addMany(r)}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.open}_focusSelectedDragEl(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame(()=>e==null?void 0:e.setFocus())}_handleCalciteListItemDragHandleChange(e,t){e.stopPropagation();const i=e.target.dragSelected;this._selectedDragItemLayerUid=i?t.layer.uid:null}_handleCalciteListItemSelect(e,t,i){cu(e.target)===t&&this.selectionMode==="none"&&(i==null?void 0:i.visibilityMode)!=="inherited"&&this._toggleVisibility(t,i)}_togglePanel(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}_toggleVisibility(e,t){if(!e)return;(t==null?void 0:t.visibilityMode)==="exclusive"&&e.visible||(e.visible=!e.visible)}};b([$()],si.prototype,"_activeItem",void 0),b([$()],si.prototype,"_tooltipReferenceMap",void 0),b([$()],si.prototype,"_focusRootFlowItem",void 0),b([$()],si.prototype,"_focusPanelFlowItem",void 0),b([$()],si.prototype,"_focusTableListFlowItem",void 0),b([$()],si.prototype,"_focusCatalogFlowItem",void 0),b([$()],si.prototype,"_totalItems",null),b([$()],si.prototype,"_dragEnabled",null),b([$()],si.prototype,"_filterEnabled",null),b([$({readOnly:!0})],si.prototype,"catalogLayerList",void 0),b([$()],si.prototype,"catalogOptions",void 0),b([$()],si.prototype,"collapsed",void 0),b([$()],si.prototype,"dragEnabled",void 0),b([$()],si.prototype,"filterPlaceholder",void 0),b([$()],si.prototype,"filterText",void 0),b([$()],si.prototype,"headingLevel",void 0),b([$()],si.prototype,"icon",null),b([$()],si.prototype,"knowledgeGraphOptions",void 0),b([$()],si.prototype,"label",null),b([$()],si.prototype,"listItemCanGiveFunction",void 0),b([$()],si.prototype,"listItemCanReceiveFunction",void 0),b([$()],si.prototype,"listItemCreatedFunction",null),b([$(),no("esri/widgets/LayerList/t9n/LayerList")],si.prototype,"messages",void 0),b([$(),no("esri/t9n/common")],si.prototype,"messagesCommon",void 0),b([$()],si.prototype,"minDragEnabledItems",void 0),b([$()],si.prototype,"minFilterItems",void 0),b([$()],si.prototype,"multipleSelectionEnabled",null),b([$()],si.prototype,"openCatalogItem",void 0),b([$()],si.prototype,"openTableListItem",void 0),b([$()],si.prototype,"operationalItems",null),b([$()],si.prototype,"selectionEnabled",null),b([$()],si.prototype,"selectedItems",void 0),b([$()],si.prototype,"selectionMode",void 0),b([$({readOnly:!0})],si.prototype,"tableList",void 0),b([$()],si.prototype,"view",null),b([VF("trigger-action"),$({type:$1e})],si.prototype,"viewModel",void 0),b([$()],si.prototype,"visibilityAppearance",void 0),b([$({type:M1e,nonNullable:!0})],si.prototype,"visibleElements",void 0),si=b([ne("esri.widgets.LayerList")],si);const avt=si;var Sz={},lvt=bx;Object.defineProperty(Sz,"__esModule",{value:!0});var w2=Sz.default=void 0,uvt=lvt(wx()),cvt=P;w2=Sz.default=(0,uvt.default)((0,cvt.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var $z={},hvt=bx;Object.defineProperty($z,"__esModule",{value:!0});var Vr=$z.default=void 0,dvt=hvt(wx()),pvt=P;Vr=$z.default=(0,dvt.default)((0,pvt.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function fvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_potential",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json(),M=Object.keys(_).map(T=>({species:T,area:_[T].toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"500px"},children:P.jsx(Xu,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Mass (Mg)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}const lb=ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function yvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState(null),c=async f=>{r(!0);let g=f.rings,v=await fetch(t+"/open-api/v1/get-risk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})});try{let _=await v.json();o(_)}catch{}r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Risks"}),P.jsx(ut,{variant:"subtitle",children:"Natural Hazards in the Area"}),P.jsx(Zi,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsxs(at,{item:!0,xs:12,children:[P.jsxs(lb,{children:[P.jsx(ut,{variant:"h6",children:"Area Image"}),P.jsx("img",{style:{width:"300px",display:"block",margin:"auto"},src:n.gerrymandering.convexHullImage})]}),P.jsxs(lb,{children:[P.jsx(ut,{variant:"h6",children:"Firms"}),n.firms.risk.map(f=>P.jsx(at,{item:!0,xs:12,children:P.jsx(lb,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Ha"}),P.jsx("span",{children:f.burnedHa})]}),P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Percent"}),P.jsx("span",{children:f.burnedPercent})]}),P.jsxs(at,{item:!0,xs:4,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Years Back"}),P.jsx("span",{children:f.yearsBack})]})]})})}))]})]}),P.jsx(at,{item:!0,xs:12,children:P.jsxs(lb,{children:[P.jsx(ut,{variant:"h6",children:"Historical"}),Object.keys(n.historical).map(f=>P.jsx(at,{item:!0,xs:12,children:P.jsxs(lb,{children:[P.jsx(ut,{children:f}),P.jsxs(pt,{direction:"row",spacing:1,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Events"}),P.jsx("span",{children:n.historical[f].paEvents})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Average Overlap"}),P.jsxs("span",{children:[n.historical[f].paAvgOverlap.toFixed(2)," ha"]})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Max Overlap"}),P.jsxs("span",{children:[n.historical[f].paMaxOverlap.toFixed(2)," ha"]})]}),P.jsxs(at,{item:!0,xs:3,children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Events in 50 km buffer"}),P.jsx("span",{children:n.historical[f].buffer50kmEvents})]})]})]})}))]})})]})})]}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function mvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState(null),c=async f=>{r(!0);let g=f.rings,v=await fetch(t+"/open-api/v1/get-soil",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})});try{let _=await v.json();o(_)}catch{}r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsxs("div",{style:{height:"400px"},children:[P.jsx(ut,{variant:"subtitle",children:"Area of each soil type (in hectare)"}),P.jsx("img",{style:{display:"block",margin:"auto",width:"400px"},src:n.image}),P.jsx(Xu,{data:n.soilClasses,keys:["areaHa"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#61cdbb"],defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"areaHa"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Soil Type",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}):P.jsx(P.Fragment,{children:"No Data Found"})}const hM=y1(P.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),dM=y1(P.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),dr=ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function gvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState(null),[c,f]=K.useState([]),[g,v]=K.useState([]),[_,M]=Ts.useState(0),T=g.length,E=()=>{M(N=>N+1)},j=()=>{M(N=>N-1)};K.useEffect(()=>{if(g.length>0){let N=g[_].species,F=Object.keys(N).map(V=>({name:V,species:N[V].species,image:N[V].image,iucn:N[V].iucn}));f(F)}},[g,_]);const R=async N=>{r(!0);let F=N.rings,z=await(await fetch(t+"/open-api/v1/get-bird-biodiversity",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[F]})})).json();o(z);let G=Object.keys(z.taxonomy.Birds).map(H=>({name:H,speciesCount:z.taxonomy.Birds[H].speciesCount,image:z.taxonomy.Birds[H].image,species:z.taxonomy.Birds[H].species,endangeredCount:z.taxonomy.Birds[H].endangeredCount}));v(G),r(!1)};return K.useEffect(()=>{i&&R(i)},[i]),n?P.jsxs(P.Fragment,{children:[P.jsx(ut,{variant:"h4",children:"Biodiversity"}),P.jsx(ut,{variant:"subtitle",children:"Details of bird species in the area"}),P.jsx(Zi,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsx(ut,{variant:"h6",children:"Endangered Count"})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),P.jsx("span",{children:n.endangeredCount.NOT_EVALUATED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),P.jsx("span",{children:n.endangeredCount.DATA_DEFICIENT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),P.jsx("span",{children:n.endangeredCount.LEAST_CONCERN})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),P.jsx("span",{children:n.endangeredCount.NEAR_THREATENED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),P.jsx("span",{children:n.endangeredCount.VULNERABLE})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),P.jsx("span",{children:n.endangeredCount.ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),P.jsx("span",{children:n.endangeredCount.CRITICALLY_ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),P.jsx("span",{children:n.endangeredCount.EXTINCT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),P.jsx("span",{children:n.endangeredCount.EXTINCT_IN_THE_WILD})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsx(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:P.jsx(ut,{variant:"h6",children:"Taxonomy"})})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Total Species"}),P.jsx("span",{children:n.speciesCount})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsxs(Zi,{sx:{flexGrow:1},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsx(ut,{style:{color:"green",backgroundColor:"rgba(0,0,0,0)"},children:g[_].name})}),P.jsx(Zi,{sx:{width:"100%",p:2},children:P.jsxs(at,{spacing:1,container:!0,children:[P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx(ut,{variant:"h6",children:"Species Count"}),P.jsx(ut,{variant:"h6",children:g[_].speciesCount})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsx("img",{style:{display:"block",margin:"auto",width:"300px"},src:g[_].image})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Species"}),P.jsx(pt,{direction:"row",spacing:1,style:{height:"100%"},useFlexGap:!0,flexWrap:"wrap",children:c.map(N=>P.jsxs(P.Fragment,{children:[P.jsxs("span",{children:[N.name," (",N.iucn,")"]}),P.jsx("span",{children:"|"})]}))})]})})}),P.jsx(at,{item:!0,xs:12,children:P.jsx(dr,{children:P.jsx(ut,{variant:"h6",children:"Endangered Count"})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),P.jsx("span",{children:g[_].endangeredCount.NOT_EVALUATED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),P.jsx("span",{children:g[_].endangeredCount.DATA_DEFICIENT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),P.jsx("span",{children:g[_].endangeredCount.LEAST_CONCERN})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),P.jsx("span",{children:g[_].endangeredCount.NEAR_THREATENED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),P.jsx("span",{children:g[_].endangeredCount.VULNERABLE})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),P.jsx("span",{children:g[_].endangeredCount.ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),P.jsx("span",{children:g[_].endangeredCount.CRITICALLY_ENDANGERED})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),P.jsx("span",{children:g[_].endangeredCount.EXTINCT})]})})}),P.jsx(at,{item:!0,xs:6,children:P.jsx(dr,{children:P.jsxs(pt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[P.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),P.jsx("span",{children:g[_].endangeredCount.EXTINCT_IN_THE_WILD})]})})})]})}),P.jsx(mg,{variant:"text",steps:T,position:"static",activeStep:_,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:E,disabled:_===T-1,children:["Next",P.jsx(dM,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:j,disabled:_===0,children:[P.jsx(hM,{}),"Back"]})})]})})})]})})]}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function vvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState(null),c=async f=>{r(!0);let g=f.rings,v=await fetch(t+"/open-api/v1/get-forest-loss",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})});try{let _=await v.json();if(console.log(_),_.groups.length>0){let M=[{id:"Forest Lost",color:"hsl(109, 70%, 50%)",data:_.groups.map(T=>({x:T.year,y:T.sum}))}];o(M)}}catch(_){console.log(_)}r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsxs("div",{style:{height:"400px",width:"500px"},children:[P.jsx(ut,{variant:"h4",children:"Forest Loss"}),P.jsx(ut,{variant:"subtitle",children:"Forest loss over the years (in ha)"}),P.jsx(m1e,{data:n,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0})]}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function bvt(){var E;const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),[c,f]=Ts.useState(0),g=n.length,v=j=>{f(j)},_=()=>{f(j=>j+1)},M=()=>{f(j=>j-1)},T=async j=>{r(!0);let R=j.rings,N=await fetch(t+"/open-api/v1/get-forest-loss-timelapse",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[R]})});try{let F=await N.json();if(Object.keys(F).length>0){let V=Object.keys(F).map(z=>({label:z,imgPath:F[z]}));o(V)}}catch{}r(!1)};return K.useEffect(()=>{i&&T(i)},[i]),n.length>0?P.jsxs("div",{children:[P.jsx(ut,{variant:"subtitle",children:"Forest loss visualization over the years"}),P.jsxs(Zi,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsxs(ut,{variant:"h6",children:["Year ",(E=n[c])==null?void 0:E.label]})}),P.jsx(Q7,{axis:"x",index:c,onChangeIndex:v,enableMouseEvents:!0,children:n.map((j,R)=>P.jsx("div",{children:P.jsx(Zi,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:j.imgPath,alt:j.label})},j.label))}),P.jsx(mg,{variant:"text",steps:g,position:"static",activeStep:c,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:_,disabled:c===g-1,children:["Next",P.jsx(dM,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:M,disabled:c===0,children:[P.jsx(hM,{}),"Back"]})})]})]}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function wvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json();console.log(_);let M=Object.keys(_).map(T=>({species:T,density:_[T].toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"600px"},children:P.jsx(Xu,{data:n,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Density (Mg/ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function xvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_area",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json();console.log(_);let M=Object.keys(_).map(T=>({species:T,area:_[T].toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"500px"},children:P.jsx(Xu,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function _vt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,M=(await(await fetch(t+"/open-api/v1/get_landtype_conversion_esa_image",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json()).image;o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsxs("div",{style:{display:"block",margin:"auto"},children:[P.jsx(ut,{variant:"h4",children:"ESA Image"}),P.jsx("img",{style:{display:"block",margin:"auto"},src:n})]}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function Svt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_potential",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json(),M=Object.keys(_).map(T=>({species:T,area:_[T].total.toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"500px"},children:P.jsx(Xu,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Mass (Mg)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function $vt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json();console.log(_);let M=Object.keys(_).map(T=>({species:T,density:_[T].toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"600px"},children:P.jsx(Xu,{data:n,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function Mvt(){var E;const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),[c,f]=Ts.useState(0),g=n.length,v=j=>{f(j)},_=()=>{f(j=>j+1)},M=()=>{f(j=>j-1)},T=async j=>{r(!0);let R=j.rings,N=await fetch(t+"/open-api/v1/get_landtype_history_delta_images",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[R]})});try{let F=await N.json();if(Object.keys(F).length>0){let V=Object.keys(F).map(z=>({label:z.split("_").slice(0,-1).join(" "),imgPath:F[z]}));o(V)}}catch{}r(!1)};return K.useEffect(()=>{i&&T(i)},[i]),n.length>0?P.jsx("div",{children:P.jsxs(Zi,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsxs(ut,{variant:"h6",children:["Year ",(E=n[c])==null?void 0:E.label]})}),P.jsx(Q7,{axis:"x",index:c,onChangeIndex:v,enableMouseEvents:!0,children:n.map((j,R)=>P.jsx("div",{children:P.jsx(Zi,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:j.imgPath,alt:j.label})},j.label))}),P.jsx(mg,{variant:"text",steps:g,position:"static",activeStep:c,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:_,disabled:c===g-1,children:["Next",P.jsx(dM,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:M,disabled:c===0,children:[P.jsx(hM,{}),"Back"]})})]})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function Tvt(){var E;const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),[c,f]=Ts.useState(0),g=n.length,v=j=>{f(j)},_=()=>{f(j=>j+1)},M=()=>{f(j=>j-1)},T=async j=>{r(!0);let R=j.rings,N=await fetch(t+"/open-api/v1/get_landtype_history_historical_images",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[R]})});try{let F=await N.json();if(Object.keys(F).length>0){let V=Object.keys(F).map(z=>({label:z,imgPath:F[z]}));o(V)}}catch{}r(!1)};return K.useEffect(()=>{i&&T(i)},[i]),n.length>0?P.jsx("div",{children:P.jsxs(Zi,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[P.jsx(gr,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:P.jsxs(ut,{variant:"h6",children:["Year ",(E=n[c])==null?void 0:E.label]})}),P.jsx(Q7,{axis:"x",index:c,onChangeIndex:v,enableMouseEvents:!0,children:n.map((j,R)=>P.jsx("div",{children:P.jsx(Zi,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:j.imgPath,alt:j.label})},j.label))}),P.jsx(mg,{variant:"text",steps:g,position:"static",activeStep:c,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:P.jsxs(Ha,{size:"small",onClick:_,disabled:c===g-1,children:["Next",P.jsx(dM,{})]}),backButton:P.jsxs(Ha,{size:"small",onClick:M,disabled:c===0,children:[P.jsx(hM,{}),"Back"]})})]})}):P.jsx(P.Fragment,{children:"No Data Found"})}ct(gr)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function kvt(){const{token:e,apiUrl:t,aoi:i,setLoading:r}=K.useContext(Gn),[n,o]=K.useState([]),c=async f=>{r(!0);let g=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[g]})})).json(),M=Object.keys(_.averages).map(T=>({species:T,area:_.averages[T].toFixed(2)}));o(M),r(!1)};return K.useEffect(()=>{i&&c(i)},[i]),n?P.jsx("div",{style:{height:"400px",width:"500px"},children:P.jsx(Xu,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:150,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})}):P.jsx(P.Fragment,{children:"No Data Found"})}const E5=ct(gr)(({theme:e})=>({backgroundColor:"#fff",...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,...e.applyStyles("dark",{backgroundColor:"#1A2027"}),border:"1.5px solid",borderRadius:"5px"}));function Cvt(){const{checked:e,area:t,projectPassed:i,setProjectPassed:r}=K.useContext(Gn),[n,o]=K.useState({top:!1,left:!1,bottom:!1,right:!1}),[c,f]=K.useState(null),[g,v]=K.useState(0),[_,M]=K.useState(0),[T,E]=K.useState(0),[j,R]=K.useState(0),[N,F]=K.useState(!1),[V,z]=K.useState(!1),[G,H]=K.useState(!1),[Z,Y]=K.useState(!1),[re,q]=K.useState(!1),[W,ee]=K.useState(!1),[le,ue]=K.useState(!1),[ae,pe]=K.useState(!1),[ge,ve]=K.useState(!1),[ce,he]=K.useState(!1),[Ie,Be]=K.useState(!1),[Ke,wt]=K.useState(!1),[He,yt]=K.useState(!1),[Fe,it]=K.useState(!1),Ge=(Ve,De,me)=>rt=>{rt.type==="keydown"&&(rt.key==="Tab"||rt.key==="Shift")||(o({...n,[Ve]:De}),f(me))},Te=Ve=>P.jsx(Zi,{sx:{width:500},role:"presentation",children:P.jsxs(yo,{children:[c=="durable"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Risks?"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(v(me=>me+1),H(!0)):(H(!1),v(me=>me-1))},checked:G}),label:"Yes"})}),P.jsx(yvt,{})]})})},0),c=="beyond"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Bird Biodiversity?"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(M(me=>me+1),Y(!0)):(Y(!1),M(me=>me-1))},checked:Z}),label:"Yes"})}),P.jsx(gvt,{})]})})},1),c=="beyond"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Soil?"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(M(me=>me+1),q(!0)):(q(!1),M(me=>me-1))},checked:re}),label:"Yes"})}),P.jsx(mvt,{})]})})},2),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Forest Loss?"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),ee(!0)):(ee(!1),E(me=>me-1))},checked:W}),label:"Yes"})}),P.jsx(vvt,{})]})})},3),c=="conservative"&&P.jsx(Ht,{style:{marginTop:"50px"},disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Forest Loss Timelapse"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),ue(!0)):(ue(!1),E(me=>me-1))},checked:le}),label:"Yes"})}),P.jsx(bvt,{})]})})},4),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"ESA Image"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),pe(!0)):(pe(!1),E(me=>me-1))},checked:ae}),label:"Yes"})}),P.jsx(_vt,{})]})})},5),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Biomass Density"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),yt(!0)):(yt(!1),E(me=>me-1))},checked:He}),label:"Yes"})}),P.jsx(wvt,{})]})})},6),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,style:{marginTop:"50px"},children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Landtype Area"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),ve(!0)):(ve(!1),E(me=>me-1))},checked:ge}),label:"Yes"})}),P.jsx(xvt,{})]})})},7),c=="additional"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Landtype Conversion Model Potential"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(R(me=>me+1),F(!0)):(F(!1),R(me=>me-1))},checked:N}),label:"Yes"})}),P.jsx(fvt,{})]})})},8),c=="additional"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Landtype History Model Potential"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(R(me=>me+1),z(!0)):(z(!1),R(me=>me-1))},checked:V}),label:"Yes"})}),P.jsx(Svt,{})]})})},9),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,style:{marginTop:"50px"},children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Total Biomass"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),he(!0)):(he(!1),E(me=>me-1))},checked:ce}),label:"Yes"})}),P.jsx($vt,{})]})})},10),c=="additional"&&P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Current vs Potential"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(R(me=>me+1),it(!0)):(it(!1),R(me=>me-1))},checked:Fe}),label:"Yes"})}),P.jsx(Mvt,{})]})})},11),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,style:{marginTop:"50px"},children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Historical Images"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),Be(!0)):(Be(!1),E(me=>me-1))},checked:Ie}),label:"Yes"})}),P.jsx(Tvt,{})]})})},12),c=="conservative"&&P.jsx(Ht,{disablePadding:!0,style:{marginTop:"50px"},children:P.jsx(Xr,{children:P.jsxs(pt,{children:[P.jsx(Jt,{primary:"Land Type Area based on GEDI"}),P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{onChange:De=>{De.target.checked?(E(me=>me+1),wt(!0)):(wt(!1),E(me=>me-1))},checked:Ke}),label:"Yes"})}),P.jsx(kvt,{})]})})},13),P.jsx(jw,{variant:"fullWidth"})]})});return P.jsxs("div",{style:{display:e?"":"none"},children:[P.jsx(Ds,{children:P.jsx(Fs,{control:P.jsx(Ns,{checked:i,onChange:Ve=>{r(Ve.target.checked)}}),label:"Pass"})}),P.jsxs(ut,{marginTop:"10px",variant:"body1",align:"justify",children:["Area: ",t," ha"]}),i&&P.jsx(ut,{marginTop:"10px",variant:"body1",align:"justify",children:"This project has passed KenEco's evaluation, and we believe it is a high-quality project delivering a net additional climate benefit."}),P.jsx(ut,{marginTop:"10px",color:"grey",variant:"body2",align:"justify",children:"KenEco's forest scientists use remote sensing technology to carefully evaluate every project against a series of quality checks. Click below to dive into each check."}),P.jsxs(pt,{marginTop:"10px",direction:"row",spacing:2,children:[P.jsxs(E5,{sx:{width:"25%",borderColor:j==3?"green":"grey",borderTopWidth:"10px"},children:[P.jsxs(pt,{direction:"row",spacing:2,children:[P.jsx(ut,{color:"green",width:"90%",variant:"h6",children:"01 Additional"}),P.jsx(g5,{"aria-label":"delete",onClick:Ge("right",!0,"additional"),children:P.jsx(w2,{})})]}),P.jsx(ut,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"Emissions reduction would not have occured without the incentive of carbon credits"}),P.jsxs(Zi,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[P.jsx(ut,{variant:"body2",align:"justify",children:"How we calculate net additional climate benefit"}),P.jsx(ut,{fontSize:"0.7rem",marginTop:"10px",variant:"body2",align:"justify",children:P.jsxs(yo,{sx:{padding:0},children:[P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Baseline Emissions"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Project Emissions"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Leakage Emissions"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Emissions Reductions"})]})]})})]})]}),P.jsxs(E5,{sx:{width:"25%",borderColor:T==8?"green":"grey",borderTopWidth:"10px"},children:[P.jsxs(pt,{direction:"row",spacing:2,children:[P.jsx(ut,{paddingLeft:0,color:"green",width:"95%",variant:"h6",children:"02 Conservative"}),P.jsx(g5,{"aria-label":"delete",onClick:Ge("right",!0,"conservative"),children:P.jsx(w2,{})})]}),P.jsx(ut,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"Emissions redutions were conservatively quantified so that each credit represents at least one metric ton of carbon."}),P.jsxs(Zi,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[P.jsx(ut,{variant:"body2",align:"justify",children:"Baseline claims"}),P.jsx(ut,{marginTop:"10px",variant:"body2",align:"justify",children:P.jsx(yo,{sx:{padding:0},children:P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Baseline soundness"})]})})})]}),P.jsxs(Zi,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[P.jsx(ut,{variant:"body2",align:"justify",children:"Project claims"}),P.jsx(ut,{marginTop:"10px",variant:"body2",align:"justify",children:P.jsxs(yo,{sx:{padding:0},children:[P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Project boundary selection"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Forest cover"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Project emission accounting"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Non-carbon emissions accounting"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Carbon inventory accounting"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Financial additionality"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Legal additionality"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Leakage claims"})]})]})})]})]}),P.jsxs(E5,{sx:{width:"25%",borderColor:g==1?"green":"grey",borderTopWidth:"10px"},children:[P.jsxs(pt,{direction:"row",spacing:2,children:[P.jsx(ut,{color:"green",width:"90%",variant:"h6",children:"03 Durable"}),P.jsx(g5,{"aria-label":"delete",onClick:Ge("right",!0,"durable"),children:P.jsx(w2,{})})]}),P.jsx(ut,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"The climate benefit is long lasting supported by continuous monitoring."}),P.jsxs(Zi,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[P.jsx(ut,{variant:"body2",align:"justify",children:"Project Risks"}),P.jsx(ut,{marginTop:"10px",variant:"body2",align:"justify",children:P.jsxs(yo,{sx:{padding:0},children:[P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Fire risk"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Other natural risk"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Buffer pool"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Forest management"})]})]})})]})]}),P.jsxs(E5,{sx:{width:"25%",borderColor:_==2?"green":"grey",borderTopWidth:"10px"},children:[P.jsxs(pt,{direction:"row",spacing:2,children:[P.jsx(ut,{color:"green",width:"90%",variant:"h6",children:"04 Beyond Carbon"}),P.jsx(g5,{"aria-label":"delete",onClick:Ge("right",!0,"beyond"),children:P.jsx(w2,{})})]}),P.jsx(ut,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"The project activities cause no net harm and delivers benfits beyond carbon."}),P.jsxs(Zi,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[P.jsx(ut,{variant:"body2",align:"justify",children:"Ecological impacts"}),P.jsx(ut,{marginTop:"10px",variant:"body2",align:"justify",children:P.jsxs(yo,{sx:{padding:0},children:[P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Native Species"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Hydrological manipulation"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Regional suitability"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Site suitability"})]}),P.jsxs(Ht,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[P.jsx(Vr,{sx:{color:"green"}}),P.jsx(Jt,{secondary:"Reforestation practices"})]})]})})]})]})]}),P.jsx("div",{children:["left","right","top","bottom"].map(Ve=>P.jsx(K.Fragment,{children:P.jsxs(Jee,{anchor:Ve,open:n[Ve],onClose:Ge(Ve,!1,null),sx:{"& .MuiDrawer-paper":{width:500}},children:[P.jsx(J5,{}),Te()]})},Ve))})]})}const wZ=300;function Ivt(){const{viewObj:e,setViewObj:t,token:i,setToken:r,apiUrl:n,clientId:o,clientSecret:c,checked:f,setChecked:g,loading:v}=K.useContext(Gn);f1();const _=K.useRef();K.useState(null);const M=T=>{g(T.target.checked)};return K.useEffect(()=>{fetch(n+"/open-api/v1/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({clientId:o,clientSecret:c})}).then(T=>T.json()).then(T=>{r(T.token)})},[]),K.useMemo(()=>{e&&new avt({container:_.current,view:e,listItemCreatedFunction:function(T){const E=T.item;if(E.layer.title=="Protected Area Polygons"){const j=document.createElement("input");j.type="range",j.min="0",j.max="1",j.step="0.01",j.value=E.layer.opacity,j.addEventListener("input",function(){E.layer.opacity=parseFloat(j.value)});const R=document.createElement("div");R.classList.add("esri-widget"),R.appendChild(document.createTextNode("Opacity: ")),R.appendChild(j),E.panel={content:R,icon:"sliders-horizontal",open:!1}}}})},[e]),i?P.jsxs(Zi,{sx:{display:"flex"},children:[P.jsx(Bee,{}),P.jsx(t3e,{position:"fixed",sx:{zIndex:T=>T.zIndex.drawer+1},children:P.jsx(J5,{children:P.jsx(ut,{variant:"h6",noWrap:!0,component:"div",children:"KenEco Pre Feasibility"})})}),P.jsxs(Jee,{variant:"permanent",sx:{width:wZ,flexShrink:0,"& .MuiDrawer-paper":{width:wZ,boxSizing:"border-box"}},children:[P.jsx(J5,{}),P.jsx(Zi,{sx:{overflow:"auto"},children:P.jsxs(pt,{direction:"column",spacing:1,children:[P.jsx(Ok,{label:"Categories",variant:"filled"}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Geography"}),P.jsx(sf,{children:P.jsx(yo,{children:["Elevation"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel2-content",id:"panel2-header",children:"Carbon"}),P.jsx(sf,{children:P.jsx(yo,{children:["AGB Stock","SOC Stock","Ground Truth Model"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Forest"}),P.jsx(sf,{children:P.jsx(yo,{children:["Forest Loss","ARR/REDD+ Potential"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Soil"}),P.jsx(sf,{children:P.jsx(yo,{children:["Soil Class"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Land Cover"}),P.jsx(sf,{children:P.jsx(yo,{children:["MODIS","ESA WorldCover","GLCLU","WWF Ecoregions"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Risk"}),P.jsx(sf,{children:P.jsx(yo,{children:["Fires","Floods","Droughts","Storms","Landslides","Extreme Temperatures","Volcanic Activity","Mass Movement (dry)"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsxs(nf,{children:[P.jsx(of,{expandIcon:P.jsx(Id,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Biodiversity"}),P.jsx(sf,{children:P.jsx(yo,{children:["Birds"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})})]}),P.jsx(jw,{}),P.jsx(Ok,{label:"Map Layers",variant:"filled"}),P.jsx("div",{ref:_}),P.jsx(jw,{}),P.jsx(Ok,{label:"Tools",variant:"filled"}),P.jsx(yo,{children:["Carbon Calculator","Ground Truth","Project Details"].map((T,E)=>P.jsx(Ht,{disablePadding:!0,children:P.jsx(Xr,{children:P.jsx(Jt,{primary:T})})},T))})]})})]}),P.jsxs(Zi,{component:"main",sx:{flexGrow:1,p:0},children:[P.jsx(J5,{}),P.jsxs(Zi,{display:"flex",alignItems:"center",children:[P.jsx(ut,{variant:"body1",style:{marginRight:"8px"},children:"Map"}),P.jsx(SKe,{checked:f,onChange:M,color:"secondary",sx:{"& .MuiSwitch-track":{backgroundColor:f?"#4caf50":"rgb(245, 100, 50)"}}}),P.jsx(ut,{variant:"body1",style:{marginLeft:"8px"},children:"Report"})]}),P.jsx(Dgt,{}),P.jsx(Cvt,{})]}),P.jsx(Zi,{sx:{display:v?"block":"none",position:"absolute",top:"50%",left:"50%",zIndex:9999},children:P.jsx(uKe,{})})]}):P.jsx(P.Fragment,{})}const Evt=D$({palette:{mode:"light",primary:{main:"rgb(19,135,8)"},secondary:{main:"rgb(96,56,20)"},typography:{fontSize:8}}});function Avt(){return P.jsx(P.Fragment,{children:P.jsx(ige,{children:P.jsxs(q2e,{theme:Evt,children:[P.jsx(Bee,{}),P.jsx(Ivt,{})]})})})}VQ(document.getElementById("root")).render(P.jsx(Avt,{}));export{Pre as $,ne as A,s_t as B,e_t as C,c_t as D,pLe as E,l_t as F,tn as G,i_t as H,r_t as I,Fw as J,hSe as K,_wt as L,yi as M,Ere as N,ss as O,ke as P,be as Q,Wce as R,vt as S,Hke as T,Vi as U,Jke as V,Hle as W,Lt as X,jre as Y,Mm as Z,Ce as _,SLe as a,OI as a$,Are as a0,cq as a1,y3t as a2,p2t as a3,fte as a4,ol as a5,fg as a6,kle as a7,pte as a8,Fn as a9,U5t as aA,B5t as aB,na as aC,CTe as aD,TTe as aE,Qxt as aF,xje as aG,st as aH,la as aI,Uwt as aJ,H3 as aK,wp as aL,eo as aM,DFe as aN,VFe as aO,BFe as aP,JFe as aQ,QFe as aR,dce as aS,cce as aT,hce as aU,XFe as aV,nDe as aW,sDe as aX,f4 as aY,v5e as aZ,D5e as a_,To as aa,m4 as ab,tc as ac,V_ as ad,x2t as ae,lle as af,n4e as ag,f0 as ah,Ebt as ai,m1 as aj,hbt as ak,Gle as al,Rm as am,kn as an,FSt as ao,Bn as ap,zie as aq,Pt as ar,G0 as as,A5e as at,pFe as au,fFe as av,yFe as aw,Gce as ax,cx as ay,Th as az,V$ as b,Fse as b$,hl as b0,q3 as b1,e7 as b2,rF as b3,cbt as b4,qi as b5,c0 as b6,rg as b7,Jbt as b8,nIe as b9,Vp as bA,P5t as bB,Jg as bC,rr as bD,Ah as bE,Mh as bF,ci as bG,Np as bH,nu as bI,sa as bJ,tu as bK,GI as bL,Tr as bM,UI as bN,WI as bO,$4 as bP,At as bQ,sse as bR,_Ae as bS,ii as bT,L2 as bU,ON as bV,hq as bW,S2t as bX,a3t as bY,m3t as bZ,kp as b_,Vwt as ba,Bwt as bb,R2t as bc,L2t as bd,Mp as be,D2t as bf,F2t as bg,$p as bh,N2t as bi,Eze as bj,Dg as bk,RSe as bl,Aze as bm,E5t as bn,O_t as bo,fq as bp,Y2 as bq,kA as br,j5t as bs,A5t as bt,ro as bu,Fwt as bv,M7 as bw,ri as bx,nt as by,Xi as bz,n_t as c,Wte as c$,yCe as c0,MSt as c1,DS as c2,Q3t as c3,$le as c4,eF as c5,sj as c6,Yje as c7,Mle as c8,gle as c9,vhe as cA,FF as cB,DF as cC,Z7 as cD,W7 as cE,QVe as cF,Qce as cG,Xce as cH,as as cI,Ao as cJ,Ug as cK,cc as cL,Ph as cM,nx as cN,pVe as cO,FVe as cP,dVe as cQ,vie as cR,R2 as cS,die as cT,S5e as cU,cie as cV,tx as cW,d5e as cX,p5e as cY,O5e as cZ,ZVe as c_,Z0 as ca,n4 as cb,yI as cc,sRe as cd,Zee as ce,sr as cf,Ne as cg,Ra as ch,nAe as ci,Wbt as cj,xwt as ck,UUe as cl,Ct as cm,p9e as cn,FL as co,DL as cp,f9e as cq,r7 as cr,n7 as cs,oi as ct,W3 as cu,jh as cv,qe as cw,B2 as cx,NB as cy,J7 as cz,sWe as d,Ibt as d$,q$ as d0,SN as d1,rx as d2,Gw as d3,Wd as d4,ea as d5,pTe as d6,i7 as d7,fTe as d8,fhe as d9,BN as dA,S1 as dB,She as dC,m2t as dD,l8e as dE,w2t as dF,f2t as dG,As as dH,sl as dI,OGe as dJ,vU as dK,Da as dL,SEe as dM,rce as dN,s7 as dO,Kie as dP,ICe as dQ,Roe as dR,oIe as dS,qwt as dT,rIe as dU,Gwt as dV,Zo as dW,Na as dX,$i as dY,Wvt as dZ,rxe as d_,Gbt as da,vwt as db,e4 as dc,yL as dd,Ze as de,dl as df,f3t as dg,b2t as dh,h9e as di,y5t as dj,b5t as dk,YG as dl,sIe as dm,e1 as dn,HTe as dp,w5t as dq,xhe as dr,tJ as ds,M4 as dt,eHe as du,rc as dv,xN as dw,BUe as dx,R4 as dy,zi as dz,Gg as e,Kbt as e$,nPe as e0,Rbt as e1,Gje as e2,$5e as e3,fU as e4,X_e as e5,Zse as e6,Oke as e7,YI as e8,RL as e9,SL as eA,ide as eB,Cqe as eC,$Se as eD,Zbt as eE,u5 as eF,bH as eG,_p as eH,F7e as eI,Lvt as eJ,q_t as eK,v3t as eL,jFe as eM,c3t as eN,g3t as eO,Gxt as eP,Eh as eQ,Lp as eR,nm as eS,Yl as eT,a_t as eU,t_t as eV,a2t as eW,Si as eX,p8e as eY,pS as eZ,t2t as e_,LL as ea,Yse as eb,VSt as ec,Nw as ed,Bae as ee,K3t as ef,Ag as eg,Nvt as eh,ESe as ei,ig as ej,jL as ek,Y3e as el,yN as em,I4e as en,zwt as eo,ta as ep,cxe as eq,O7 as er,R7 as es,Z$ as et,qCe as eu,KL as ev,Y3 as ew,G5e as ex,K_e as ey,gie as ez,kUe as f,q7 as f$,al as f0,J$ as f1,$Be as f2,lVe as f3,V5t as f4,zVe as f5,z5t as f6,DVe as f7,Q3e as f8,pL as f9,Sle as fA,GVe as fB,F3 as fC,rs as fD,eh as fE,b8e as fF,Dp as fG,yG as fH,G2t as fI,q2t as fJ,$e as fK,lke as fL,z7e as fM,S7 as fN,Hd as fO,Q0 as fP,$Ue as fQ,bUe as fR,HVe as fS,nq as fT,Coe as fU,qUe as fV,EF as fW,K7 as fX,yk as fY,$P as fZ,IF as f_,zl as fa,jte as fb,tse as fc,dL as fd,Zje as fe,RB as ff,ST as fg,z3 as fh,wI as fi,is as fj,Mbt as fk,aW as fl,q0 as fm,BSe as fn,kL as fo,Gr as fp,Xvt as fq,oa as fr,U3 as fs,Rn as ft,VL as fu,H9e as fv,f4e as fw,hie as fx,Wje as fy,Jje as fz,xB as g,K3 as g$,Rze as g0,YVe as g1,zF as g2,FUe as g3,lg as g4,vr as g5,Yvt as g6,wU as g7,_he as g8,M0 as g9,UVe as gA,MBe as gB,sAe as gC,aBe as gD,lBe as gE,uBe as gF,hBe as gG,dBe as gH,pBe as gI,fBe as gJ,yBe as gK,mBe as gL,gBe as gM,vBe as gN,bBe as gO,whe as gP,XVe as gQ,rm as gR,pE as gS,Gvt as gT,M5e as gU,AF as gV,c5t as gW,Ice as gX,ll as gY,u_t as gZ,Ga as g_,LSe as ga,ec as gb,Za as gc,G$ as gd,Uw as ge,Pke as gf,Pbt as gg,m5e as gh,rke as gi,ma as gj,r3 as gk,PF as gl,Gu as gm,Zce as gn,tBe as go,eBe as gp,jg as gq,wBe as gr,aVe as gs,Oh as gt,SF as gu,ice as gv,_Fe as gw,xFe as gx,wFe as gy,qBe as gz,aue as h,_z as h$,nxe as h0,e5e as h1,t5e as h2,i5e as h3,vke as h4,Y_e as h5,bke as h6,k4 as h7,J_t as h8,Y_t as h9,pie as hA,r4 as hB,Z2 as hC,yhe as hD,Y$ as hE,Nse as hF,CBe as hG,Iie as hH,Pie as hI,qvt as hJ,mbt as hK,$h as hL,Ya as hM,ln as hN,g8e as hO,PFe as hP,iSt as hQ,ohe as hR,mL as hS,vy as hT,js as hU,oBe as hV,cSt as hW,ABe as hX,jBe as hY,P2 as hZ,N4 as h_,K_t as ha,zDe as hb,DDe as hc,T3t as hd,C2t as he,SH as hf,Q_e as hg,el as hh,$7 as hi,GN as hj,aAe as hk,lAe as hl,Swt as hm,c5e as hn,F5e as ho,z5e as hp,iPe as hq,tDe as hr,c9e as hs,Zne as ht,G7 as hu,g9e as hv,kh as hw,_L as hx,y5e as hy,h5e as hz,bue as i,v2t as i$,F6 as i0,qgt as i1,cu as i2,qp as i3,Ee as i4,Dt as i5,ivt as i6,Kgt as i7,Jgt as i8,Jse as i9,dbt as iA,sle as iB,xle as iC,Yw as iD,qN as iE,rj as iF,Zae as iG,ux as iH,_bt as iI,WM as iJ,wi as iK,PI as iL,W5e as iM,La as iN,Jo as iO,nse as iP,pxe as iQ,RN as iR,l3t as iS,o3t as iT,KP as iU,ie as iV,e2t as iW,D3 as iX,a4e as iY,o4e as iZ,u2t as i_,gZ as ia,Ugt as ib,no as ic,VF as id,Hgt as ie,pl as ig,Bt as ih,U7 as ii,Og as ij,Dn as ik,aa as il,m4e as im,a7 as io,v4e as ip,jbt as iq,Hg as ir,yie as is,cke as it,I4 as iu,Obt as iv,mie as iw,b5e as ix,Qvt as iy,qxe as iz,CUe as j,PRe as j$,e6 as j0,j_t as j1,P_t as j2,A_t as j3,TSt as j4,ix as j5,I0 as j6,kSt as j7,uN as j8,BRe as j9,NUe as jA,ste as jB,ote as jC,Vvt as jD,o7 as jE,eS as jF,$2t as jG,ire as jH,G9e as jI,Z9e as jJ,J3 as jK,s2t as jL,xIe as jM,d6 as jN,I5t as jO,jwt as jP,kBe as jQ,fp as jR,LH as jS,qw as jT,P5e as jU,nte as jV,Rie as jW,Bbt as jX,Yie as jY,eU as jZ,zse as j_,sxe as ja,Ubt as jb,cSe as jc,t7 as jd,Ybt as je,rw as jf,sx as jg,Goe as jh,qoe as ji,Ggt as jj,Ys as jk,Wgt as jl,bZ as jm,mb as jn,v1 as jo,LGe as jp,t1 as jq,aL as jr,lL as js,_oe as jt,Sp as ju,LVe as jv,NVe as jw,WVe as jx,aUe as jy,SUe as jz,TUe as k,hke as k$,Xbt as k0,Fr as k1,X5t as k2,G5t as k3,D4e as k4,Rte as k5,vbt as k6,gbt as k7,i_e as k8,t_e as k9,Ate as kA,Awt as kB,Rs as kC,E0 as kD,Fm as kE,GNe as kF,f5t as kG,Cre as kH,c2t as kI,Ite as kJ,Lr as kK,LB as kL,IFe as kM,R_t as kN,H$ as kO,UIe as kP,Y1 as kQ,CEe as kR,Xje as kS,G_t as kT,U_t as kU,e0 as kV,Ks as kW,Jvt as kX,Kvt as kY,Hvt as kZ,CSe as k_,Uvt as ka,ixe as kb,g2t as kc,L4 as kd,r9 as ke,Dvt as kf,nle as kg,ZAe as kh,HN as ki,P7 as kj,OG as kk,B_t as kl,bF as km,x3t as kn,b3t as ko,V_t as kp,OFe as kq,Hje as kr,FAe as ks,PAe as kt,lx as ku,Abt as kv,xL as kw,TN as kx,g1 as ky,qbt as kz,nSt as l,vb as l$,ike as l0,nke as l1,Uxe as l2,rte as l3,q5t as l4,Qj as l5,nTe as l6,Hoe as l7,W5t as l8,wOe as l9,$wt as lA,yle as lB,vle as lC,Tje as lD,ext as lE,Rje as lF,Lm as lG,txt as lH,Xw as lI,mPe as lJ,wze as lK,bze as lL,Wg as lM,dF as lN,NNe as lO,FNe as lP,Gue as lQ,sFe as lR,Yue as lS,c6 as lT,zue as lU,ew as lV,k3t as lW,C3t as lX,I3t as lY,WF as lZ,o5e as l_,oAe as la,t6e as lb,Qbt as lc,gMe as ld,Cse as le,yF as lf,VRe as lg,wwt as lh,HNe as li,hN as lj,XL as lk,l6 as ll,EGe as lm,vSt as ln,hre as lo,GIe as lp,u3t as lq,EL as lr,wke as ls,gke as lt,g5e as lu,mke as lv,Yee as lw,hp as lx,Qa as ly,N7 as lz,mhe as m,fh as m$,Mwt as m0,fie as m1,MCe as m2,_Ce as m3,YBe as m4,ic as m5,X0 as m6,o2t as m7,h5t as m8,Du as m9,Uje as mA,X_t as mB,Vj as mC,Z_t as mD,p5t as mE,u5t as mF,o5t as mG,s5t as mH,a5t as mI,l5t as mJ,JW as mK,YW as mL,KW as mM,r5t as mN,n5t as mO,C7 as mP,y2t as mQ,t5t as mR,i5t as mS,bce as mT,W_t as mU,e5t as mV,GDe as mW,d5t as mX,Q_t as mY,BDe as mZ,wF as m_,Mn as ma,pF as mb,v5t as mc,cp as md,qVe as me,Dwt as mf,Owt as mg,Lwt as mh,Rwt as mi,Nwt as mj,to as mk,Wwt as ml,SB as mm,Pwt as mn,XAe as mo,dRe as mp,Rvt as mq,QI as mr,e4e as ms,UDe as mt,l2t as mu,_2t as mv,w4e as mw,h2t as mx,r4e as my,d2t as mz,A0 as n,H_t as n0,Xle as n1,tg as n2,Hxt as n3,Hbt as n4,P9e as n5,j9e as n6,i2t as n7,kEe as n8,I_e as n9,M5t as nA,$5t as nB,iW as nC,ai as nD,xPe as nE,_Pe as nF,N5e as nG,GSe as nH,zvt as nI,h3t as nJ,d3t as nK,Lke as nL,Rke as nM,SAe as nN,exe as nO,p3t as nP,W2t as nQ,J2t as nR,I_t as nS,K5t as nT,eGe as nU,uWe as nV,GSt as nW,ZI as na,fIe as nb,z2t as nc,j_ as nd,Z2t as ne,Kh as nf,IN as ng,gIe as nh,Lae as ni,mIe as nj,J4 as nk,Y4 as nl,Hw as nm,Zvt as nn,RGe as no,p_t as np,Z3 as nq,jt as nr,uF as ns,iJ as nt,VGe as nu,WSt as nv,LI as nw,j2t as nx,Zie as ny,X4e as nz,vOe as o,o_t as p,wxt as q,_xt as r,we as s,Bi as t,rSt as u,Os as v,Cp as w,Le as x,b as y,$ as z};
