const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./statsWorker-D_YU-11Q.js","./utils-C4_q2ULJ.js","./utils-DfJ57QkE.js","./utils-VX-nnj-D.js","./ClassBreaksDefinition-DQElkvMs.js","./geometryEngineWorker-DKFQkdjF.js","./geometryEngineJSON-DxnOZnOp.js","./geometryEngineBase-Gp9eyS7w.js","./json-Wa8cmqdu.js","./CSVSourceWorker-5zGh6-PW.js","./date-M6n_RqpC.js","./OptimizedFeature-7juV2tZm.js","./OptimizedGeometry-vU5jWBvU.js","./FeatureStore-DS65WQqH.js","./featureConversionUtils-DMSUDuty.js","./OptimizedFeatureSet-Blu9Ckm7.js","./BoundsStore-BhSUsmSI.js","./PooledRBush-BcrNTPJ0.js","./timeSupport-Pu7nGICi.js","./QueryEngine-BN2T843z.js","./WhereClause-BG2_RbNI.js","./TimeOnly-Cx0Hk6B_.js","./QueryEngineCapabilities-CTDe3LlQ.js","./number-D2qc8PbM.js","./clientSideDefaults-fv-M_Z7L.js","./EdgeProcessingWorker-B4NLAjTB.js","./InterleavedLayout-CQ8Gqcf9.js","./BufferView-Bw8vP5Ox.js","./types-D0PSWh4d.js","./Util-CUHztPaE.js","./edgeProcessing-D-q73X90.js","./deduplicate-Dcb_6DsE.js","./Indices-3eAd-taL.js","./VertexAttribute-BlT9lbVY.js","./enums-BlUEVwJR.js","./VertexElementDescriptor-BOD-G50G.js","./ElevationSamplerWorker-2gchu65w.js","./MeshLocalVertexSpace-Df21SZy4.js","./vertexSpaceConversion-xTf0052P.js","./mat3f64-q3fE-ZOt.js","./mat4f64-CSKppSlJ.js","./spatialReferenceEllipsoidUtils-C2IpMxls.js","./computeTranslationToOriginAndRotation-DBQU8ZHk.js","./meshVertexSpaceUtils-DJHliOVE.js","./vec3-CFMEoTRZ.js","./projection-CxKSWbtP.js","./DoubleArray-jXGnZc0M.js","./vec4-CovLrSv-.js","./FeatureServiceSnappingSourceWorker-D42BpEdy.js","./pbfQueryUtils-nxzyQAvA.js","./pbf-PWvDY9gU.js","./query-DAeonPZT.js","./ByteSizeUnit-BsxeN7wM.js","./GeoJSONSourceWorker-CGAWAqcO.js","./geojson-B_roPC_n.js","./sourceUtils-UhyoKWoO.js","./MemorySourceWorker-CwhHQtJX.js","./objectIdUtils-4dd1rf9p.js","./PBFDecoderWorker-CnIXs0vH.js","./FeaturePipelineWorker-CXmWb8TA.js","./definitions-Y_v3njP4.js","./AttributeStore-G5eazm_G.js","./LabelMetric-BZpdRkX0.js","./enums-BRXbslMp.js","./Texture-Ru4uY3uI.js","./Program-GYUfFrHm.js","./BoundingBox-bta1_PV-.js","./UpdateTracking2D-BFf2_89l.js","./BindType-BmZEZMMh.js","./highlightReasons-C0YeEq8N.js","./CIMSymbolHelper-CXnoiIzd.js","./BidiEngine-BwB1Df7c.js","./fontUtils-B4O2t5jv.js","./GeometryUtils-DvPWCH-9.js","./Rect-CUzevAry.js","./tileUtils-B7X19rIS.js","./MeshWriterRegistry-usfShI85.js","./PieChartMeshWriter-D8YDXemI.js","./TurboLine-C2UUQBTy.js","./earcut-CW9JELxr.js","./constants-D5zmR9t2.js","./grouping-VPLNmdv7.js","./ogcFeatureUtils-Bm94NieI.js","./CircularArray-CujHzHWW.js","./createConnection-BpffoW_m.js","./PointCloudWorker-hPffw984.js","./quat-D8id9oJW.js","./quatf64-Bdb9ZJJK.js","./vec3f32-nZdmKIgz.js","./PointCloudUniqueValueRenderer-cdbOOoEL.js","./I3SBinaryReader-C7sA9ibM.js","./orientedBoundingBox-Bx_QULoN.js","./plane-BJK76SZo.js","./RasterWorker-DhPvsRCQ.js","./dataUtils-CCSzaQZX.js","./pixelRangeUtils-DR2RxTkt.js","./RasterSymbolizer-D5Q2oy5w.js","./PolynomialTransform-e0txBFEH.js","./rasterProjectionHelper-CggdocyD.js","./SceneLayerSnappingSourceWorker-CkgMDb1t.js","./lineSegment-CU5MWLys.js","./sphere-B5Z2DZos.js","./SceneLayerWorker-KMd0MRCo.js","./I3SUtil-CBqEtcOD.js","./floatRGBA-C7l2SKEB.js","./NormalAttribute.glsl-DMMbI9o2.js","./interfaces-B8ge7Jg9.js","./WFSSourceWorker-CZH2mHVT.js","./wfsUtils-erCa1cuX.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-B3XBhSTW.js","./enums-BRzLM11V.js","./config-MDUrh2eL.js","./StyleDefinition-BK3ROBTO.js","./SourceLayerData-Cm3QwgvC.js","./StyleRepository-C5DbQ8sg.js","./Popup-WEuJsH4I.js","./AttachmentInfo-bkwQSRQZ.js","./symbolUtils-B9QXBv8U.js","./utils--mIOL_yI.js","./webStyleSymbolUtils-S0zvDwt7.js","./devEnvironmentUtils-D6qIi8Ky.js","./executeQueryJSON-CpUYfdzi.js","./ElevationLayer-FkGC1Pfk.js","./ArcGISCachedService-D_CMab5k.js","./TileInfoTilemapCache-EF4QRgJi.js","./TilemapCache-BKUGsIuD.js","./layersCreator-CuhIlyC1.js","./portalLayers-DbAO4hbN.js","./associatedFeatureServiceUtils-CkkeUhMy.js","./fetchService-CZH3LRFq.js","./arcgisLayers-CmUQODIU.js","./arcadeUtils-pkZEsjDp.js","./ImmutableArray-BPVd6ESQ.js","./webglDeps-DHyEjk78.js","./NestedMap-DgiGbX8E.js","./ProgramTemplate-BDgXMyPi.js","./mapViewDeps-BBM4EVLI.js","./SDFHelper-DXLmilHj.js","./Container-IZuU79Jc.js","./EffectView-BUvCEInV.js","./WGLContainer-B6wjANgj.js","./MagnifierPrograms-lmvxfw7M.js","./testSVGPremultipliedAlpha-D5M6xfz3.js","./RenderingContext-_QrEaDAX.js","./renderState-C37QfRey.js","./basicInterfaces-DngWxyLO.js","./doublePrecisionUtils-B0owpBza.js","./CIMResourceManager-CsGdVHFQ.js","./imageUtils-_IpdT2-0.js","./rasterizingUtils-DdtCJQ53.js","./utils-B2FAGfJ7.js","./FeatureCommandQueue-BMiEN7i4.js","./GraphicsView2D-BkVrRBO8.js","./normalizeUtilsSync-Bg5aWv_7.js","./GraphicContainer-wJzCNR_E.js","./AGraphicContainer-80F5SiEy.js","./TechniqueInstance-BHuWh3Pw.js","./TileContainer-CNxkrexi.js","./requestImageUtils-BVApTQJj.js","./TileLayerView2D-DedPD25M.js","./imageUtils-DsGduCOT.js","./Bitmap-wtzFoYxd.js","./LayerView-pTrgC3xg.js","./HighlightGraphicContainer-BPrW9UhO.js","./RefreshableLayerView-18y9HYBR.js","./drapedUtils-SnLIGQjR.js","./floorFilterUtils-DZ5C6FQv.js","./sublayerUtils-C1hBzq_P.js","./popupUtils-f7qPpYxq.js","./FeatureLayerView2D-Ql3WgbIY.js","./timeSupport-CEn8-4h5.js","./featureReductionUtils-Caulfaw_.js","./HighlightCounter-BxAlxzjF.js","./BaseDynamicLayerView2D-D1edbMq7.js","./BitmapContainer-DpF9Kdia.js","./ExportStrategy-BV2TA_Pn.js","./CatalogLayerView2D-DEUOSpLY.js","./CatalogDynamicGroupLayerView2D-DbRwcOtK.js","./CatalogFootprintLayerView2D-B0_2aegM.js","./GeoRSSLayerView2D-CyEPHJi8.js","./GraphicsLayerView2D-DF_PuoQE.js","./GroupLayerView2D-gPBipQzM.js","./ImageryLayerView2D-C-IrZWcf.js","./RasterVFDisplayObject-DFXm6roZ.js","./ImageryTileLayerView2D-xgb7sKda.js","./multidimensionalUtils-MWHuvI_I.js","./rasterUtils-D43CDaJl.js","./RawBlockCache-CVQJ6E20.js","./KMLLayerView2D-BjmIMqlm.js","./kmlUtils-C8h8ZOSr.js","./KnowledgeGraphLayerView2D-D5X_4oTX.js","./MapImageLayerView2D-D-xMEhCM.js","./ExportImageParameters-DVBQ25DR.js","./MapNotesLayerView2D-dZZL8yeY.js","./MediaLayerView2D-BTzheYvO.js","./perspectiveUtils-DvrI_DMI.js","./OverlayContainer-BWJHw-VB.js","./OGCFeatureLayerView2D-frieDacH.js","./RouteLayerView2D-MTLq2_Kg.js","./Stop-CSdi3tb4.js","./StreamLayerView2D-D0fUCfmE.js","./SubtypeGroupLayerView2D-CzFA1ZCK.js","./VectorTileLayerView2D-8GTD47-8.js","./VideoLayerView2D-DrGZtobJ.js","./TelemetryDisplay-Mg033K_X.js","./WMSLayerView2D-Dg9D-gyd.js","./WMTSLayerView2D-wU0crCEc.js","./calcite-button-v1Y6CU6F.js","./form-hHI-h9rR.js","./dom-zRC_73pe.js","./interactive-DombZHaD.js","./label-CAAoefW_.js","./component-CVleUxfT.js","./loadable-C3xxelOF.js","./locale-DTRYXPYo.js","./observers-C-4NE_Ad.js","./t9n-6zY0YEvP.js","./icon-DFVTg-eh.js","./loader-DH4khhdi.js","./calcite-icon-DyBoIbok.js","./editingSupport-Bla1QMYf.js","./infoFor3D-DsOdlPuA.js","./layersLoader-RhejfXN-.js","./jsonContext-CpJtZshU.js","./featureLayerUtils-Dy8n4c9J.js","./originUtils-D69mHv66.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./utils-BpeLvqVN.js","./saveAPIKeyUtils-BvgpBVGb.js","./FeatureLayerSource-CoBdvGE-.js","./MeshTransform-BC2WWyms.js","./QueryTask-DuWIsX6l.js","./executeForIds-xLT5ukpG.js","./executeQueryPBF-yjc4Uh5W.js","./calcite-loader-Dz1MhhTy.js","./calcite-scrim-B14S3LW6.js","./scrim-mQ-jHdVk.js","./calcite-chip-CwJ7mvgD.js","./calcite-panel-C98_65K2.js","./panel-D02ggjh-.js","./action-menu-B4jucIRK.js","./action-DyqxWvbG.js","./popover-DdFWIFXm.js","./FloatingArrow-DjTyD5Wx.js","./debounce-BE9q2DI6.js","./focusTrapComponent-T1dvnSKh.js","./openCloseComponent-py8KlapD.js","./calcite-popover-CV1UAoSs.js","./calcite-sheet-2qtJjNIs.js","./BuildingSceneLayer-Nsly0m9E.js","./capabilities-CAweHQni.js","./SceneService-ImtNiwgi.js","./resourceUtils-Dwz2ip2c.js","./resourceUtils-DolXv-bh.js","./I3SLayerDefinitions-CTfKqZsg.js","./elevationInfoUtils-DW2YTDia.js","./CSVLayer-BAuw2UtZ.js","./CatalogLayer-PhG8mc1d.js","./DimensionLayer-kWRH_DeW.js","./Analysis-CUAE45Ms.js","./GeoJSONLayer-DbgF1j9d.js","./ImageryLayer-CnZkQXIb.js","./fetchRasterInfo-DP-G_zi4.js","./ImageryTileLayer-C6Ga0r50.js","./IntegratedMesh3DTilesLayer-DPgZzafp.js","./IntegratedMeshLayer-B57yelGW.js","./persistable-VEMcEZ_v.js","./resourceExtension-BiHrGNC5.js","./KMLLayer-CTPlLzgQ.js","./KnowledgeGraphLayer-CbSpz1fH.js","./KnowledgeGraphSublayer-DVPrARYf.js","./knowledgeGraphService-CHLo3WaP.js","./GraphQueryStreaming-BdIvYtHZ.js","./LineOfSightLayer-aM-88Etc.js","./LinkChartLayer-OZY9HNG2.js","./MapImageLayer-xRffXSX-.js","./SublayersOwner-CftWeZPH.js","./MapNotesLayer-BHtEJCHy.js","./MediaLayer-m9OocZSx.js","./OGCFeatureLayer-BBvSJBmW.js","./OpenStreetMapLayer-CoeTfKWj.js","./WebTileLayer-C8xWjEQc.js","./PointCloudLayer-C7M57Q2B.js","./RouteLayer-Do-2lqaA.js","./SceneLayer-v3DL8eJx.js","./Mesh-BtCpX_MW.js","./MeshVertexAttributes-DLblnjvT.js","./uploadAssetErrors-HTcr-Q2z.js","./TileLayer-Cl-RQGcK.js","./VectorTileLayer-D4YIGWs-.js","./VideoLayer-KQUQDKmF.js","./VoxelLayer-Btrvg4rf.js","./WFSLayer-C57iMh94.js","./WMTSLayer-CIgnFt5C.js","./groupLayerUtils-DsnIgNvL.js","./Legend-DUw0KgB2.js","./calcite-action-pC2G6ZNI.js","./calcite-action-group-UNxJSHQR.js","./action-group-KPlNk5eE.js","./conditionalSlot-DOVm6LHw.js","./calcite-action-menu-DWIJRP_d.js","./calcite-flow-DkYIkaxH.js","./calcite-flow-item-qdHM_6dn.js","./calcite-list-DBRZQOXN.js","./resources4-VzuD1qlP.js","./utils3-gnO-ux4i.js","./input2-D4j2-GOY.js","./calcite-list-item-Ct-805ss.js","./calcite-notice-YTgQbPe6.js","./calcite-tooltip-B9x_7Gwx.js"])))=>i.map(i=>d[i]);
var yye=Object.defineProperty;var gye=(e,t,r)=>t in e?yye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var t1=(e,t,r)=>gye(e,typeof t!="symbol"?t+"":t,r);function vye(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var wS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bye(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var _K={exports:{}},EC={},xK={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=Symbol.for("react.element"),wye=Symbol.for("react.portal"),_ye=Symbol.for("react.fragment"),xye=Symbol.for("react.strict_mode"),Sye=Symbol.for("react.profiler"),$ye=Symbol.for("react.provider"),Tye=Symbol.for("react.context"),Mye=Symbol.for("react.forward_ref"),Cye=Symbol.for("react.suspense"),Eye=Symbol.for("react.memo"),kye=Symbol.for("react.lazy"),fz=Symbol.iterator;function Iye(e){return e===null||typeof e!="object"?null:(e=fz&&e[fz]||e["@@iterator"],typeof e=="function"?e:null)}var SK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$K=Object.assign,TK={};function pv(e,t,r){this.props=e,this.context=t,this.refs=TK,this.updater=r||SK}pv.prototype.isReactComponent={};pv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MK(){}MK.prototype=pv.prototype;function R8(e,t,r){this.props=e,this.context=t,this.refs=TK,this.updater=r||SK}var L8=R8.prototype=new MK;L8.constructor=R8;$K(L8,pv.prototype);L8.isPureReactComponent=!0;var mz=Array.isArray,CK=Object.prototype.hasOwnProperty,j8={current:null},EK={key:!0,ref:!0,__self:!0,__source:!0};function kK(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)CK.call(t,n)&&!EK.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:fx,type:e,key:s,ref:o,props:i,_owner:j8.current}}function Oye(e,t){return{$$typeof:fx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function N8(e){return typeof e=="object"&&e!==null&&e.$$typeof===fx}function Pye(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yz=/\/+/g;function n5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pye(""+e.key):t.toString(36)}function b$(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fx:case wye:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+n5(o,0):n,mz(i)?(r="",e!=null&&(r=e.replace(yz,"$&/")+"/"),b$(i,t,r,"",function(u){return u})):i!=null&&(N8(i)&&(i=Oye(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yz,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",mz(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+n5(s,a);o+=b$(s,t,r,l,i)}else if(l=Iye(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+n5(s,a++),o+=b$(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _S(e,t,r){if(e==null)return e;var n=[],i=0;return b$(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Aye(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ds={current:null},w$={transition:null},Rye={ReactCurrentDispatcher:Ds,ReactCurrentBatchConfig:w$,ReactCurrentOwner:j8};function IK(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:_S,forEach:function(e,t,r){_S(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _S(e,function(){t++}),t},toArray:function(e){return _S(e,function(t){return t})||[]},only:function(e){if(!N8(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=pv;Gt.Fragment=_ye;Gt.Profiler=Sye;Gt.PureComponent=R8;Gt.StrictMode=xye;Gt.Suspense=Cye;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rye;Gt.act=IK;Gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$K({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=j8.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)CK.call(t,l)&&!EK.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:fx,type:e.type,key:i,ref:s,props:n,_owner:o}};Gt.createContext=function(e){return e={$$typeof:Tye,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$ye,_context:e},e.Consumer=e};Gt.createElement=kK;Gt.createFactory=function(e){var t=kK.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:Mye,render:e}};Gt.isValidElement=N8;Gt.lazy=function(e){return{$$typeof:kye,_payload:{_status:-1,_result:e},_init:Aye}};Gt.memo=function(e,t){return{$$typeof:Eye,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=w$.transition;w$.transition={};try{e()}finally{w$.transition=t}};Gt.unstable_act=IK;Gt.useCallback=function(e,t){return Ds.current.useCallback(e,t)};Gt.useContext=function(e){return Ds.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return Ds.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return Ds.current.useEffect(e,t)};Gt.useId=function(){return Ds.current.useId()};Gt.useImperativeHandle=function(e,t,r){return Ds.current.useImperativeHandle(e,t,r)};Gt.useInsertionEffect=function(e,t){return Ds.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return Ds.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return Ds.current.useMemo(e,t)};Gt.useReducer=function(e,t,r){return Ds.current.useReducer(e,t,r)};Gt.useRef=function(e){return Ds.current.useRef(e)};Gt.useState=function(e){return Ds.current.useState(e)};Gt.useSyncExternalStore=function(e,t,r){return Ds.current.useSyncExternalStore(e,t,r)};Gt.useTransition=function(){return Ds.current.useTransition()};Gt.version="18.3.1";xK.exports=Gt;var I=xK.exports;const to=Nn(I),e4=vye({__proto__:null,default:to},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lye=I,jye=Symbol.for("react.element"),Nye=Symbol.for("react.fragment"),Fye=Object.prototype.hasOwnProperty,Dye=Lye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zye={key:!0,ref:!0,__self:!0,__source:!0};function OK(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Fye.call(t,n)&&!zye.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:jye,type:e,key:s,ref:o,props:i,_owner:Dye.current}}EC.Fragment=Nye;EC.jsx=OK;EC.jsxs=OK;_K.exports=EC;var w=_K.exports,PK={exports:{}},Go={},AK={exports:{}},RK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,D){var K=F.length;F.push(D);e:for(;0<K;){var le=K-1>>>1,he=F[le];if(0<i(he,D))F[le]=D,F[K]=he,K=le;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var D=F[0],K=F.pop();if(K!==D){F[0]=K;e:for(var le=0,he=F.length,Ue=he>>>1;le<Ue;){var fe=2*(le+1)-1,Ge=F[fe],se=fe+1,we=F[se];if(0>i(Ge,K))se<he&&0>i(we,Ge)?(F[le]=we,F[se]=K,le=se):(F[le]=Ge,F[fe]=K,le=fe);else if(se<he&&0>i(we,K))F[le]=we,F[se]=K,le=se;else break e}}return D}function i(F,D){var K=F.sortIndex-D.sortIndex;return K!==0?K:F.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,y=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=F)n(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(u)}}function $(F){if(v=!1,S(F),!g)if(r(l)!==null)g=!0,B(C);else{var D=r(u);D!==null&&U($,D.startTime-F)}}function C(F,D){g=!1,v&&(v=!1,_(P),P=-1),y=!0;var K=f;try{for(S(D),h=r(l);h!==null&&(!(h.expirationTime>D)||F&&!O());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var he=le(h.expirationTime<=D);D=e.unstable_now(),typeof he=="function"?h.callback=he:h===r(l)&&n(l),S(D)}else n(l);h=r(l)}if(h!==null)var Ue=!0;else{var fe=r(u);fe!==null&&U($,fe.startTime-D),Ue=!1}return Ue}finally{h=null,f=K,y=!1}}var k=!1,E=null,P=-1,T=5,M=-1;function O(){return!(e.unstable_now()-M<T)}function j(){if(E!==null){var F=e.unstable_now();M=F;var D=!0;try{D=E(!0,F)}finally{D?N():(k=!1,E=null)}}else k=!1}var N;if(typeof x=="function")N=function(){x(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=j,N=function(){z.postMessage(null)}}else N=function(){b(j,0)};function B(F){E=F,k||(k=!0,N())}function U(F,D){P=b(function(){F(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,B(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var K=f;f=D;try{return F()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,D){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=f;f=F;try{return D()}finally{f=K}},e.unstable_scheduleCallback=function(F,D,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,F={id:d++,callback:D,priorityLevel:F,startTime:K,expirationTime:he,sortIndex:-1},K>le?(F.sortIndex=K,t(u,F),r(l)===null&&F===r(u)&&(v?(_(P),P=-1):v=!0,U($,K-le))):(F.sortIndex=he,t(l,F),g||y||(g=!0,B(C))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var D=f;return function(){var K=f;f=D;try{return F.apply(this,arguments)}finally{f=K}}}})(RK);AK.exports=RK;var Vye=AK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bye=I,Do=Vye;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LK=new Set,Jw={};function ty(e,t){L0(e,t),L0(e+"Capture",t)}function L0(e,t){for(Jw[e]=t,e=0;e<t.length;e++)LK.add(t[e])}var nd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t4=Object.prototype.hasOwnProperty,Uye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gz={},vz={};function Gye(e){return t4.call(vz,e)?!0:t4.call(gz,e)?!1:Uye.test(e)?vz[e]=!0:(gz[e]=!0,!1)}function Wye(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qye(e,t,r,n){if(t===null||typeof t>"u"||Wye(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zs(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vi[e]=new zs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vi[t]=new zs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vi[e]=new zs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vi[e]=new zs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vi[e]=new zs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vi[e]=new zs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vi[e]=new zs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vi[e]=new zs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vi[e]=new zs(e,5,!1,e.toLowerCase(),null,!1,!1)});var F8=/[\-:]([a-z])/g;function D8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F8,D8);Vi[t]=new zs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F8,D8);Vi[t]=new zs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F8,D8);Vi[t]=new zs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vi[e]=new zs(e,1,!1,e.toLowerCase(),null,!1,!1)});Vi.xlinkHref=new zs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vi[e]=new zs(e,1,!1,e.toLowerCase(),null,!0,!0)});function z8(e,t,r,n){var i=Vi.hasOwnProperty(t)?Vi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qye(t,r,i,n)&&(r=null),n||i===null?Gye(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hd=Bye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xS=Symbol.for("react.element"),Ag=Symbol.for("react.portal"),Rg=Symbol.for("react.fragment"),V8=Symbol.for("react.strict_mode"),r4=Symbol.for("react.profiler"),jK=Symbol.for("react.provider"),NK=Symbol.for("react.context"),B8=Symbol.for("react.forward_ref"),n4=Symbol.for("react.suspense"),i4=Symbol.for("react.suspense_list"),U8=Symbol.for("react.memo"),vp=Symbol.for("react.lazy"),FK=Symbol.for("react.offscreen"),bz=Symbol.iterator;function r1(e){return e===null||typeof e!="object"?null:(e=bz&&e[bz]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Object.assign,i5;function X1(e){if(i5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);i5=t&&t[1]||""}return`
`+i5+e}var s5=!1;function o5(e,t){if(!e||s5)return"";s5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{s5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?X1(e):""}function Hye(e){switch(e.tag){case 5:return X1(e.type);case 16:return X1("Lazy");case 13:return X1("Suspense");case 19:return X1("SuspenseList");case 0:case 2:case 15:return e=o5(e.type,!1),e;case 11:return e=o5(e.type.render,!1),e;case 1:return e=o5(e.type,!0),e;default:return""}}function s4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rg:return"Fragment";case Ag:return"Portal";case r4:return"Profiler";case V8:return"StrictMode";case n4:return"Suspense";case i4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NK:return(e.displayName||"Context")+".Consumer";case jK:return(e._context.displayName||"Context")+".Provider";case B8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U8:return t=e.displayName||null,t!==null?t:s4(e.type)||"Memo";case vp:t=e._payload,e=e._init;try{return s4(e(t))}catch{}}return null}function Zye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s4(t);case 8:return t===V8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ih(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DK(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yye(e){var t=DK(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function SS(e){e._valueTracker||(e._valueTracker=Yye(e))}function zK(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=DK(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function aM(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o4(e,t){var r=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wz(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ih(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VK(e,t){t=t.checked,t!=null&&z8(e,"checked",t,!1)}function a4(e,t){VK(e,t);var r=ih(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?l4(e,t.type,r):t.hasOwnProperty("defaultValue")&&l4(e,t.type,ih(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function l4(e,t,r){(t!=="number"||aM(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Q1=Array.isArray;function n0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ih(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function u4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xz(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Q1(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ih(r)}}function BK(e,t){var r=ih(t.value),n=ih(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UK(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UK(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $S,GK=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($S=$S||document.createElement("div"),$S.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$S.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kw(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jye=["Webkit","ms","Moz","O"];Object.keys(lw).forEach(function(e){Jye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lw[t]=lw[e]})});function WK(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lw.hasOwnProperty(e)&&lw[e]?(""+t).trim():t+"px"}function qK(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=WK(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Kye=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d4(e,t){if(t){if(Kye[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function p4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h4=null;function G8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var f4=null,i0=null,s0=null;function $z(e){if(e=gx(e)){if(typeof f4!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=AC(t),f4(e.stateNode,e.type,t))}}function HK(e){i0?s0?s0.push(e):s0=[e]:i0=e}function ZK(){if(i0){var e=i0,t=s0;if(s0=i0=null,$z(e),t)for(e=0;e<t.length;e++)$z(t[e])}}function YK(e,t){return e(t)}function JK(){}var a5=!1;function KK(e,t,r){if(a5)return e(t,r);a5=!0;try{return YK(e,t,r)}finally{a5=!1,(i0!==null||s0!==null)&&(JK(),ZK())}}function Xw(e,t){var r=e.stateNode;if(r===null)return null;var n=AC(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var m4=!1;if(nd)try{var n1={};Object.defineProperty(n1,"passive",{get:function(){m4=!0}}),window.addEventListener("test",n1,n1),window.removeEventListener("test",n1,n1)}catch{m4=!1}function Xye(e,t,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var uw=!1,lM=null,uM=!1,y4=null,Qye={onError:function(e){uw=!0,lM=e}};function ege(e,t,r,n,i,s,o,a,l){uw=!1,lM=null,Xye.apply(Qye,arguments)}function tge(e,t,r,n,i,s,o,a,l){if(ege.apply(this,arguments),uw){if(uw){var u=lM;uw=!1,lM=null}else throw Error(ge(198));uM||(uM=!0,y4=u)}}function ry(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XK(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tz(e){if(ry(e)!==e)throw Error(ge(188))}function rge(e){var t=e.alternate;if(!t){if(t=ry(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Tz(i),e;if(s===n)return Tz(i),t;s=s.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function QK(e){return e=rge(e),e!==null?eX(e):null}function eX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eX(e);if(t!==null)return t;e=e.sibling}return null}var tX=Do.unstable_scheduleCallback,Mz=Do.unstable_cancelCallback,nge=Do.unstable_shouldYield,ige=Do.unstable_requestPaint,Vn=Do.unstable_now,sge=Do.unstable_getCurrentPriorityLevel,W8=Do.unstable_ImmediatePriority,rX=Do.unstable_UserBlockingPriority,cM=Do.unstable_NormalPriority,oge=Do.unstable_LowPriority,nX=Do.unstable_IdlePriority,kC=null,ku=null;function age(e){if(ku&&typeof ku.onCommitFiberRoot=="function")try{ku.onCommitFiberRoot(kC,e,void 0,(e.current.flags&128)===128)}catch{}}var Il=Math.clz32?Math.clz32:cge,lge=Math.log,uge=Math.LN2;function cge(e){return e>>>=0,e===0?32:31-(lge(e)/uge|0)|0}var TS=64,MS=4194304;function eb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dM(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=eb(a):(s&=o,s!==0&&(n=eb(s)))}else o=r&~i,o!==0?n=eb(o):s!==0&&(n=eb(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Il(t),i=1<<r,n|=e[r],t&=~i;return n}function dge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pge(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Il(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=dge(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function g4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iX(){var e=TS;return TS<<=1,!(TS&4194240)&&(TS=64),e}function l5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mx(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Il(t),e[t]=r}function hge(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Il(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function q8(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Il(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var kr=0;function sX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oX,H8,aX,lX,uX,v4=!1,CS=[],Up=null,Gp=null,Wp=null,Qw=new Map,e_=new Map,Mp=[],fge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cz(e,t){switch(e){case"focusin":case"focusout":Up=null;break;case"dragenter":case"dragleave":Gp=null;break;case"mouseover":case"mouseout":Wp=null;break;case"pointerover":case"pointerout":Qw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":e_.delete(t.pointerId)}}function i1(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gx(t),t!==null&&H8(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mge(e,t,r,n,i){switch(t){case"focusin":return Up=i1(Up,e,t,r,n,i),!0;case"dragenter":return Gp=i1(Gp,e,t,r,n,i),!0;case"mouseover":return Wp=i1(Wp,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Qw.set(s,i1(Qw.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,e_.set(s,i1(e_.get(s)||null,e,t,r,n,i)),!0}return!1}function cX(e){var t=Xf(e.target);if(t!==null){var r=ry(t);if(r!==null){if(t=r.tag,t===13){if(t=XK(r),t!==null){e.blockedOn=t,uX(e.priority,function(){aX(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _$(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=b4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);h4=n,r.target.dispatchEvent(n),h4=null}else return t=gx(r),t!==null&&H8(t),e.blockedOn=r,!1;t.shift()}return!0}function Ez(e,t,r){_$(e)&&r.delete(t)}function yge(){v4=!1,Up!==null&&_$(Up)&&(Up=null),Gp!==null&&_$(Gp)&&(Gp=null),Wp!==null&&_$(Wp)&&(Wp=null),Qw.forEach(Ez),e_.forEach(Ez)}function s1(e,t){e.blockedOn===t&&(e.blockedOn=null,v4||(v4=!0,Do.unstable_scheduleCallback(Do.unstable_NormalPriority,yge)))}function t_(e){function t(i){return s1(i,e)}if(0<CS.length){s1(CS[0],e);for(var r=1;r<CS.length;r++){var n=CS[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Up!==null&&s1(Up,e),Gp!==null&&s1(Gp,e),Wp!==null&&s1(Wp,e),Qw.forEach(t),e_.forEach(t),r=0;r<Mp.length;r++)n=Mp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mp.length&&(r=Mp[0],r.blockedOn===null);)cX(r),r.blockedOn===null&&Mp.shift()}var o0=hd.ReactCurrentBatchConfig,pM=!0;function gge(e,t,r,n){var i=kr,s=o0.transition;o0.transition=null;try{kr=1,Z8(e,t,r,n)}finally{kr=i,o0.transition=s}}function vge(e,t,r,n){var i=kr,s=o0.transition;o0.transition=null;try{kr=4,Z8(e,t,r,n)}finally{kr=i,o0.transition=s}}function Z8(e,t,r,n){if(pM){var i=b4(e,t,r,n);if(i===null)v5(e,t,n,hM,r),Cz(e,n);else if(mge(i,e,t,r,n))n.stopPropagation();else if(Cz(e,n),t&4&&-1<fge.indexOf(e)){for(;i!==null;){var s=gx(i);if(s!==null&&oX(s),s=b4(e,t,r,n),s===null&&v5(e,t,n,hM,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else v5(e,t,n,null,r)}}var hM=null;function b4(e,t,r,n){if(hM=null,e=G8(n),e=Xf(e),e!==null)if(t=ry(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XK(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hM=e,null}function dX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sge()){case W8:return 1;case rX:return 4;case cM:case oge:return 16;case nX:return 536870912;default:return 16}default:return 16}}var Ip=null,Y8=null,x$=null;function pX(){if(x$)return x$;var e,t=Y8,r=t.length,n,i="value"in Ip?Ip.value:Ip.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return x$=i.slice(e,1<n?1-n:void 0)}function S$(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ES(){return!0}function kz(){return!1}function Wo(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ES:kz,this.isPropagationStopped=kz,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ES)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ES)},persist:function(){},isPersistent:ES}),t}var hv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J8=Wo(hv),yx=Tn({},hv,{view:0,detail:0}),bge=Wo(yx),u5,c5,o1,IC=Tn({},yx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K8,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==o1&&(o1&&e.type==="mousemove"?(u5=e.screenX-o1.screenX,c5=e.screenY-o1.screenY):c5=u5=0,o1=e),u5)},movementY:function(e){return"movementY"in e?e.movementY:c5}}),Iz=Wo(IC),wge=Tn({},IC,{dataTransfer:0}),_ge=Wo(wge),xge=Tn({},yx,{relatedTarget:0}),d5=Wo(xge),Sge=Tn({},hv,{animationName:0,elapsedTime:0,pseudoElement:0}),$ge=Wo(Sge),Tge=Tn({},hv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mge=Wo(Tge),Cge=Tn({},hv,{data:0}),Oz=Wo(Cge),Ege={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ige={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ige[e])?!!t[e]:!1}function K8(){return Oge}var Pge=Tn({},yx,{key:function(e){if(e.key){var t=Ege[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=S$(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K8,charCode:function(e){return e.type==="keypress"?S$(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?S$(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Age=Wo(Pge),Rge=Tn({},IC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pz=Wo(Rge),Lge=Tn({},yx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K8}),jge=Wo(Lge),Nge=Tn({},hv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fge=Wo(Nge),Dge=Tn({},IC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zge=Wo(Dge),Vge=[9,13,27,32],X8=nd&&"CompositionEvent"in window,cw=null;nd&&"documentMode"in document&&(cw=document.documentMode);var Bge=nd&&"TextEvent"in window&&!cw,hX=nd&&(!X8||cw&&8<cw&&11>=cw),Az=" ",Rz=!1;function fX(e,t){switch(e){case"keyup":return Vge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lg=!1;function Uge(e,t){switch(e){case"compositionend":return mX(t);case"keypress":return t.which!==32?null:(Rz=!0,Az);case"textInput":return e=t.data,e===Az&&Rz?null:e;default:return null}}function Gge(e,t){if(Lg)return e==="compositionend"||!X8&&fX(e,t)?(e=pX(),x$=Y8=Ip=null,Lg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hX&&t.locale!=="ko"?null:t.data;default:return null}}var Wge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lz(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wge[e.type]:t==="textarea"}function yX(e,t,r,n){HK(n),t=fM(t,"onChange"),0<t.length&&(r=new J8("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dw=null,r_=null;function qge(e){CX(e,0)}function OC(e){var t=Fg(e);if(zK(t))return e}function Hge(e,t){if(e==="change")return t}var gX=!1;if(nd){var p5;if(nd){var h5="oninput"in document;if(!h5){var jz=document.createElement("div");jz.setAttribute("oninput","return;"),h5=typeof jz.oninput=="function"}p5=h5}else p5=!1;gX=p5&&(!document.documentMode||9<document.documentMode)}function Nz(){dw&&(dw.detachEvent("onpropertychange",vX),r_=dw=null)}function vX(e){if(e.propertyName==="value"&&OC(r_)){var t=[];yX(t,r_,e,G8(e)),KK(qge,t)}}function Zge(e,t,r){e==="focusin"?(Nz(),dw=t,r_=r,dw.attachEvent("onpropertychange",vX)):e==="focusout"&&Nz()}function Yge(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return OC(r_)}function Jge(e,t){if(e==="click")return OC(t)}function Kge(e,t){if(e==="input"||e==="change")return OC(t)}function Xge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ll=typeof Object.is=="function"?Object.is:Xge;function n_(e,t){if(Ll(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!t4.call(t,i)||!Ll(e[i],t[i]))return!1}return!0}function Fz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dz(e,t){var r=Fz(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fz(r)}}function bX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wX(){for(var e=window,t=aM();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=aM(e.document)}return t}function Q8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qge(e){var t=wX(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bX(r.ownerDocument.documentElement,r)){if(n!==null&&Q8(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Dz(r,s);var o=Dz(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e0e=nd&&"documentMode"in document&&11>=document.documentMode,jg=null,w4=null,pw=null,_4=!1;function zz(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_4||jg==null||jg!==aM(n)||(n=jg,"selectionStart"in n&&Q8(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pw&&n_(pw,n)||(pw=n,n=fM(w4,"onSelect"),0<n.length&&(t=new J8("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jg)))}function kS(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ng={animationend:kS("Animation","AnimationEnd"),animationiteration:kS("Animation","AnimationIteration"),animationstart:kS("Animation","AnimationStart"),transitionend:kS("Transition","TransitionEnd")},f5={},_X={};nd&&(_X=document.createElement("div").style,"AnimationEvent"in window||(delete Ng.animationend.animation,delete Ng.animationiteration.animation,delete Ng.animationstart.animation),"TransitionEvent"in window||delete Ng.transitionend.transition);function PC(e){if(f5[e])return f5[e];if(!Ng[e])return e;var t=Ng[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _X)return f5[e]=t[r];return e}var xX=PC("animationend"),SX=PC("animationiteration"),$X=PC("animationstart"),TX=PC("transitionend"),MX=new Map,Vz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _h(e,t){MX.set(e,t),ty(t,[e])}for(var m5=0;m5<Vz.length;m5++){var y5=Vz[m5],t0e=y5.toLowerCase(),r0e=y5[0].toUpperCase()+y5.slice(1);_h(t0e,"on"+r0e)}_h(xX,"onAnimationEnd");_h(SX,"onAnimationIteration");_h($X,"onAnimationStart");_h("dblclick","onDoubleClick");_h("focusin","onFocus");_h("focusout","onBlur");_h(TX,"onTransitionEnd");L0("onMouseEnter",["mouseout","mouseover"]);L0("onMouseLeave",["mouseout","mouseover"]);L0("onPointerEnter",["pointerout","pointerover"]);L0("onPointerLeave",["pointerout","pointerover"]);ty("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ty("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ty("onBeforeInput",["compositionend","keypress","textInput","paste"]);ty("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ty("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ty("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(tb));function Bz(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tge(n,t,void 0,e),e.currentTarget=null}function CX(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bz(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bz(i,a,u),s=l}}}if(uM)throw e=y4,uM=!1,y4=null,e}function en(e,t){var r=t[M4];r===void 0&&(r=t[M4]=new Set);var n=e+"__bubble";r.has(n)||(EX(t,e,2,!1),r.add(n))}function g5(e,t,r){var n=0;t&&(n|=4),EX(r,e,n,t)}var IS="_reactListening"+Math.random().toString(36).slice(2);function i_(e){if(!e[IS]){e[IS]=!0,LK.forEach(function(r){r!=="selectionchange"&&(n0e.has(r)||g5(r,!1,e),g5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[IS]||(t[IS]=!0,g5("selectionchange",!1,t))}}function EX(e,t,r,n){switch(dX(t)){case 1:var i=gge;break;case 4:i=vge;break;default:i=Z8}r=i.bind(null,t,r,e),i=void 0,!m4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function v5(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xf(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}KK(function(){var u=s,d=G8(r),h=[];e:{var f=MX.get(e);if(f!==void 0){var y=J8,g=e;switch(e){case"keypress":if(S$(r)===0)break e;case"keydown":case"keyup":y=Age;break;case"focusin":g="focus",y=d5;break;case"focusout":g="blur",y=d5;break;case"beforeblur":case"afterblur":y=d5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Iz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_ge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jge;break;case xX:case SX:case $X:y=$ge;break;case TX:y=Fge;break;case"scroll":y=bge;break;case"wheel":y=zge;break;case"copy":case"cut":case"paste":y=Mge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pz}var v=(t&4)!==0,b=!v&&e==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,S;x!==null;){S=x;var $=S.stateNode;if(S.tag===5&&$!==null&&(S=$,_!==null&&($=Xw(x,_),$!=null&&v.push(s_(x,$,S)))),b)break;x=x.return}0<v.length&&(f=new y(f,g,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==h4&&(g=r.relatedTarget||r.fromElement)&&(Xf(g)||g[id]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?Xf(g):null,g!==null&&(b=ry(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(v=Iz,$="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Pz,$="onPointerLeave",_="onPointerEnter",x="pointer"),b=y==null?f:Fg(y),S=g==null?f:Fg(g),f=new v($,x+"leave",y,r,d),f.target=b,f.relatedTarget=S,$=null,Xf(d)===u&&(v=new v(_,x+"enter",g,r,d),v.target=S,v.relatedTarget=b,$=v),b=$,y&&g)t:{for(v=y,_=g,x=0,S=v;S;S=wy(S))x++;for(S=0,$=_;$;$=wy($))S++;for(;0<x-S;)v=wy(v),x--;for(;0<S-x;)_=wy(_),S--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=wy(v),_=wy(_)}v=null}else v=null;y!==null&&Uz(h,f,y,v,!1),g!==null&&b!==null&&Uz(h,b,g,v,!0)}}e:{if(f=u?Fg(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=Hge;else if(Lz(f))if(gX)C=Kge;else{C=Yge;var k=Zge}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Jge);if(C&&(C=C(e,u))){yX(h,C,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&l4(f,"number",f.value)}switch(k=u?Fg(u):window,e){case"focusin":(Lz(k)||k.contentEditable==="true")&&(jg=k,w4=u,pw=null);break;case"focusout":pw=w4=jg=null;break;case"mousedown":_4=!0;break;case"contextmenu":case"mouseup":case"dragend":_4=!1,zz(h,r,d);break;case"selectionchange":if(e0e)break;case"keydown":case"keyup":zz(h,r,d)}var E;if(X8)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Lg?fX(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(hX&&r.locale!=="ko"&&(Lg||P!=="onCompositionStart"?P==="onCompositionEnd"&&Lg&&(E=pX()):(Ip=d,Y8="value"in Ip?Ip.value:Ip.textContent,Lg=!0)),k=fM(u,P),0<k.length&&(P=new Oz(P,e,null,r,d),h.push({event:P,listeners:k}),E?P.data=E:(E=mX(r),E!==null&&(P.data=E)))),(E=Bge?Uge(e,r):Gge(e,r))&&(u=fM(u,"onBeforeInput"),0<u.length&&(d=new Oz("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}CX(h,t)})}function s_(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fM(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xw(e,r),s!=null&&n.unshift(s_(e,s,i)),s=Xw(e,t),s!=null&&n.push(s_(e,s,i))),e=e.return}return n}function wy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uz(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Xw(r,s),l!=null&&o.unshift(s_(r,l,a))):i||(l=Xw(r,s),l!=null&&o.push(s_(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var i0e=/\r\n?/g,s0e=/\u0000|\uFFFD/g;function Gz(e){return(typeof e=="string"?e:""+e).replace(i0e,`
`).replace(s0e,"")}function OS(e,t,r){if(t=Gz(t),Gz(e)!==t&&r)throw Error(ge(425))}function mM(){}var x4=null,S4=null;function $4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T4=typeof setTimeout=="function"?setTimeout:void 0,o0e=typeof clearTimeout=="function"?clearTimeout:void 0,Wz=typeof Promise=="function"?Promise:void 0,a0e=typeof queueMicrotask=="function"?queueMicrotask:typeof Wz<"u"?function(e){return Wz.resolve(null).then(e).catch(l0e)}:T4;function l0e(e){setTimeout(function(){throw e})}function b5(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),t_(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);t_(t)}function qp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fv=Math.random().toString(36).slice(2),Su="__reactFiber$"+fv,o_="__reactProps$"+fv,id="__reactContainer$"+fv,M4="__reactEvents$"+fv,u0e="__reactListeners$"+fv,c0e="__reactHandles$"+fv;function Xf(e){var t=e[Su];if(t)return t;for(var r=e.parentNode;r;){if(t=r[id]||r[Su]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qz(e);e!==null;){if(r=e[Su])return r;e=qz(e)}return t}e=r,r=e.parentNode}return null}function gx(e){return e=e[Su]||e[id],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function AC(e){return e[o_]||null}var C4=[],Dg=-1;function xh(e){return{current:e}}function un(e){0>Dg||(e.current=C4[Dg],C4[Dg]=null,Dg--)}function Kr(e,t){Dg++,C4[Dg]=e.current,e.current=t}var sh={},ds=xh(sh),no=xh(!1),Cm=sh;function j0(e,t){var r=e.type.contextTypes;if(!r)return sh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function io(e){return e=e.childContextTypes,e!=null}function yM(){un(no),un(ds)}function Hz(e,t,r){if(ds.current!==sh)throw Error(ge(168));Kr(ds,t),Kr(no,r)}function kX(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,Zye(e)||"Unknown",i));return Tn({},r,n)}function gM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sh,Cm=ds.current,Kr(ds,e),Kr(no,no.current),!0}function Zz(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=kX(e,t,Cm),n.__reactInternalMemoizedMergedChildContext=e,un(no),un(ds),Kr(ds,e)):un(no),Kr(no,r)}var Vc=null,RC=!1,w5=!1;function IX(e){Vc===null?Vc=[e]:Vc.push(e)}function d0e(e){RC=!0,IX(e)}function Sh(){if(!w5&&Vc!==null){w5=!0;var e=0,t=kr;try{var r=Vc;for(kr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vc=null,RC=!1}catch(i){throw Vc!==null&&(Vc=Vc.slice(e+1)),tX(W8,Sh),i}finally{kr=t,w5=!1}}return null}var zg=[],Vg=0,vM=null,bM=0,fa=[],ma=0,Em=null,Wc=1,qc="";function Qh(e,t){zg[Vg++]=bM,zg[Vg++]=vM,vM=e,bM=t}function OX(e,t,r){fa[ma++]=Wc,fa[ma++]=qc,fa[ma++]=Em,Em=e;var n=Wc;e=qc;var i=32-Il(n)-1;n&=~(1<<i),r+=1;var s=32-Il(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Wc=1<<32-Il(t)+i|r<<i|n,qc=s+e}else Wc=1<<s|r<<i|n,qc=e}function eN(e){e.return!==null&&(Qh(e,1),OX(e,1,0))}function tN(e){for(;e===vM;)vM=zg[--Vg],zg[Vg]=null,bM=zg[--Vg],zg[Vg]=null;for(;e===Em;)Em=fa[--ma],fa[ma]=null,qc=fa[--ma],fa[ma]=null,Wc=fa[--ma],fa[ma]=null}var Ro=null,Po=null,yn=!1,$l=null;function PX(e,t){var r=Ta(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yz(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ro=e,Po=qp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ro=e,Po=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Em!==null?{id:Wc,overflow:qc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ta(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ro=e,Po=null,!0):!1;default:return!1}}function E4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k4(e){if(yn){var t=Po;if(t){var r=t;if(!Yz(e,t)){if(E4(e))throw Error(ge(418));t=qp(r.nextSibling);var n=Ro;t&&Yz(e,t)?PX(n,r):(e.flags=e.flags&-4097|2,yn=!1,Ro=e)}}else{if(E4(e))throw Error(ge(418));e.flags=e.flags&-4097|2,yn=!1,Ro=e}}}function Jz(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ro=e}function PS(e){if(e!==Ro)return!1;if(!yn)return Jz(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$4(e.type,e.memoizedProps)),t&&(t=Po)){if(E4(e))throw AX(),Error(ge(418));for(;t;)PX(e,t),t=qp(t.nextSibling)}if(Jz(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Po=qp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Po=null}}else Po=Ro?qp(e.stateNode.nextSibling):null;return!0}function AX(){for(var e=Po;e;)e=qp(e.nextSibling)}function N0(){Po=Ro=null,yn=!1}function rN(e){$l===null?$l=[e]:$l.push(e)}var p0e=hd.ReactCurrentBatchConfig;function a1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function AS(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kz(e){var t=e._init;return t(e._payload)}function RX(e){function t(_,x){if(e){var S=_.deletions;S===null?(_.deletions=[x],_.flags|=16):S.push(x)}}function r(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function n(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=Jp(_,x),_.index=0,_.sibling=null,_}function s(_,x,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<x?(_.flags|=2,x):S):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,x,S,$){return x===null||x.tag!==6?(x=C5(S,_.mode,$),x.return=_,x):(x=i(x,S),x.return=_,x)}function l(_,x,S,$){var C=S.type;return C===Rg?d(_,x,S.props.children,$,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vp&&Kz(C)===x.type)?($=i(x,S.props),$.ref=a1(_,x,S),$.return=_,$):($=I$(S.type,S.key,S.props,null,_.mode,$),$.ref=a1(_,x,S),$.return=_,$)}function u(_,x,S,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=E5(S,_.mode,$),x.return=_,x):(x=i(x,S.children||[]),x.return=_,x)}function d(_,x,S,$,C){return x===null||x.tag!==7?(x=fm(S,_.mode,$,C),x.return=_,x):(x=i(x,S),x.return=_,x)}function h(_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=C5(""+x,_.mode,S),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xS:return S=I$(x.type,x.key,x.props,null,_.mode,S),S.ref=a1(_,null,x),S.return=_,S;case Ag:return x=E5(x,_.mode,S),x.return=_,x;case vp:var $=x._init;return h(_,$(x._payload),S)}if(Q1(x)||r1(x))return x=fm(x,_.mode,S,null),x.return=_,x;AS(_,x)}return null}function f(_,x,S,$){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(_,x,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xS:return S.key===C?l(_,x,S,$):null;case Ag:return S.key===C?u(_,x,S,$):null;case vp:return C=S._init,f(_,x,C(S._payload),$)}if(Q1(S)||r1(S))return C!==null?null:d(_,x,S,$,null);AS(_,S)}return null}function y(_,x,S,$,C){if(typeof $=="string"&&$!==""||typeof $=="number")return _=_.get(S)||null,a(x,_,""+$,C);if(typeof $=="object"&&$!==null){switch($.$$typeof){case xS:return _=_.get($.key===null?S:$.key)||null,l(x,_,$,C);case Ag:return _=_.get($.key===null?S:$.key)||null,u(x,_,$,C);case vp:var k=$._init;return y(_,x,S,k($._payload),C)}if(Q1($)||r1($))return _=_.get(S)||null,d(x,_,$,C,null);AS(x,$)}return null}function g(_,x,S,$){for(var C=null,k=null,E=x,P=x=0,T=null;E!==null&&P<S.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var M=f(_,E,S[P],$);if(M===null){E===null&&(E=T);break}e&&E&&M.alternate===null&&t(_,E),x=s(M,x,P),k===null?C=M:k.sibling=M,k=M,E=T}if(P===S.length)return r(_,E),yn&&Qh(_,P),C;if(E===null){for(;P<S.length;P++)E=h(_,S[P],$),E!==null&&(x=s(E,x,P),k===null?C=E:k.sibling=E,k=E);return yn&&Qh(_,P),C}for(E=n(_,E);P<S.length;P++)T=y(E,_,P,S[P],$),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?P:T.key),x=s(T,x,P),k===null?C=T:k.sibling=T,k=T);return e&&E.forEach(function(O){return t(_,O)}),yn&&Qh(_,P),C}function v(_,x,S,$){var C=r1(S);if(typeof C!="function")throw Error(ge(150));if(S=C.call(S),S==null)throw Error(ge(151));for(var k=C=null,E=x,P=x=0,T=null,M=S.next();E!==null&&!M.done;P++,M=S.next()){E.index>P?(T=E,E=null):T=E.sibling;var O=f(_,E,M.value,$);if(O===null){E===null&&(E=T);break}e&&E&&O.alternate===null&&t(_,E),x=s(O,x,P),k===null?C=O:k.sibling=O,k=O,E=T}if(M.done)return r(_,E),yn&&Qh(_,P),C;if(E===null){for(;!M.done;P++,M=S.next())M=h(_,M.value,$),M!==null&&(x=s(M,x,P),k===null?C=M:k.sibling=M,k=M);return yn&&Qh(_,P),C}for(E=n(_,E);!M.done;P++,M=S.next())M=y(E,_,P,M.value,$),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?P:M.key),x=s(M,x,P),k===null?C=M:k.sibling=M,k=M);return e&&E.forEach(function(j){return t(_,j)}),yn&&Qh(_,P),C}function b(_,x,S,$){if(typeof S=="object"&&S!==null&&S.type===Rg&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case xS:e:{for(var C=S.key,k=x;k!==null;){if(k.key===C){if(C=S.type,C===Rg){if(k.tag===7){r(_,k.sibling),x=i(k,S.props.children),x.return=_,_=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vp&&Kz(C)===k.type){r(_,k.sibling),x=i(k,S.props),x.ref=a1(_,k,S),x.return=_,_=x;break e}r(_,k);break}else t(_,k);k=k.sibling}S.type===Rg?(x=fm(S.props.children,_.mode,$,S.key),x.return=_,_=x):($=I$(S.type,S.key,S.props,null,_.mode,$),$.ref=a1(_,x,S),$.return=_,_=$)}return o(_);case Ag:e:{for(k=S.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(_,x.sibling),x=i(x,S.children||[]),x.return=_,_=x;break e}else{r(_,x);break}else t(_,x);x=x.sibling}x=E5(S,_.mode,$),x.return=_,_=x}return o(_);case vp:return k=S._init,b(_,x,k(S._payload),$)}if(Q1(S))return g(_,x,S,$);if(r1(S))return v(_,x,S,$);AS(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(_,x.sibling),x=i(x,S),x.return=_,_=x):(r(_,x),x=C5(S,_.mode,$),x.return=_,_=x),o(_)):r(_,x)}return b}var F0=RX(!0),LX=RX(!1),wM=xh(null),_M=null,Bg=null,nN=null;function iN(){nN=Bg=_M=null}function sN(e){var t=wM.current;un(wM),e._currentValue=t}function I4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function a0(e,t){_M=e,nN=Bg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ro=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(nN!==e)if(e={context:e,memoizedValue:t,next:null},Bg===null){if(_M===null)throw Error(ge(308));Bg=e,_M.dependencies={lanes:0,firstContext:e}}else Bg=Bg.next=e;return t}var Qf=null;function oN(e){Qf===null?Qf=[e]:Qf.push(e)}function jX(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,oN(t)):(r.next=i.next,i.next=r),t.interleaved=r,sd(e,n)}function sd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bp=!1;function aN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NX(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hp(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,sd(e,r)}return i=n.interleaved,i===null?(t.next=t,oN(n)):(t.next=i.next,i.next=t),n.interleaved=t,sd(e,r)}function $$(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q8(e,r)}}function Xz(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xM(e,t,r,n){var i=e.updateQueue;bp=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,y=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(y,h,f):g,f==null)break e;h=Tn({},h,f);break e;case 2:bp=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Im|=o,e.lanes=o,e.memoizedState=h}}function Qz(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var vx={},Iu=xh(vx),a_=xh(vx),l_=xh(vx);function em(e){if(e===vx)throw Error(ge(174));return e}function lN(e,t){switch(Kr(l_,t),Kr(a_,e),Kr(Iu,vx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:c4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=c4(t,e)}un(Iu),Kr(Iu,t)}function D0(){un(Iu),un(a_),un(l_)}function FX(e){em(l_.current);var t=em(Iu.current),r=c4(t,e.type);t!==r&&(Kr(a_,e),Kr(Iu,r))}function uN(e){a_.current===e&&(un(Iu),un(a_))}var xn=xh(0);function SM(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _5=[];function cN(){for(var e=0;e<_5.length;e++)_5[e]._workInProgressVersionPrimary=null;_5.length=0}var T$=hd.ReactCurrentDispatcher,x5=hd.ReactCurrentBatchConfig,km=0,Sn=null,oi=null,vi=null,$M=!1,hw=!1,u_=0,h0e=0;function Gi(){throw Error(ge(321))}function dN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ll(e[r],t[r]))return!1;return!0}function pN(e,t,r,n,i,s){if(km=s,Sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T$.current=e===null||e.memoizedState===null?g0e:v0e,e=r(n,i),hw){s=0;do{if(hw=!1,u_=0,25<=s)throw Error(ge(301));s+=1,vi=oi=null,t.updateQueue=null,T$.current=b0e,e=r(n,i)}while(hw)}if(T$.current=TM,t=oi!==null&&oi.next!==null,km=0,vi=oi=Sn=null,$M=!1,t)throw Error(ge(300));return e}function hN(){var e=u_!==0;return u_=0,e}function fu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Sn.memoizedState=vi=e:vi=vi.next=e,vi}function Fa(){if(oi===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=oi.next;var t=vi===null?Sn.memoizedState:vi.next;if(t!==null)vi=t,oi=e;else{if(e===null)throw Error(ge(310));oi=e,e={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},vi===null?Sn.memoizedState=vi=e:vi=vi.next=e}return vi}function c_(e,t){return typeof t=="function"?t(e):t}function S5(e){var t=Fa(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=oi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((km&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Sn.lanes|=d,Im|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Ll(n,t.memoizedState)||(ro=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Sn.lanes|=s,Im|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $5(e){var t=Fa(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ll(s,t.memoizedState)||(ro=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function DX(){}function zX(e,t){var r=Sn,n=Fa(),i=t(),s=!Ll(n.memoizedState,i);if(s&&(n.memoizedState=i,ro=!0),n=n.queue,fN(UX.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||vi!==null&&vi.memoizedState.tag&1){if(r.flags|=2048,d_(9,BX.bind(null,r,n,i,t),void 0,null),xi===null)throw Error(ge(349));km&30||VX(r,t,i)}return i}function VX(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BX(e,t,r,n){t.value=r,t.getSnapshot=n,GX(t)&&WX(e)}function UX(e,t,r){return r(function(){GX(t)&&WX(e)})}function GX(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ll(e,r)}catch{return!0}}function WX(e){var t=sd(e,1);t!==null&&Ol(t,e,1,-1)}function eV(e){var t=fu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:e},t.queue=e,e=e.dispatch=y0e.bind(null,Sn,e),[t.memoizedState,e]}function d_(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qX(){return Fa().memoizedState}function M$(e,t,r,n){var i=fu();Sn.flags|=e,i.memoizedState=d_(1|t,r,void 0,n===void 0?null:n)}function LC(e,t,r,n){var i=Fa();n=n===void 0?null:n;var s=void 0;if(oi!==null){var o=oi.memoizedState;if(s=o.destroy,n!==null&&dN(n,o.deps)){i.memoizedState=d_(t,r,s,n);return}}Sn.flags|=e,i.memoizedState=d_(1|t,r,s,n)}function tV(e,t){return M$(8390656,8,e,t)}function fN(e,t){return LC(2048,8,e,t)}function HX(e,t){return LC(4,2,e,t)}function ZX(e,t){return LC(4,4,e,t)}function YX(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JX(e,t,r){return r=r!=null?r.concat([e]):null,LC(4,4,YX.bind(null,t,e),r)}function mN(){}function KX(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XX(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function QX(e,t,r){return km&21?(Ll(r,t)||(r=iX(),Sn.lanes|=r,Im|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ro=!0),e.memoizedState=r)}function f0e(e,t){var r=kr;kr=r!==0&&4>r?r:4,e(!0);var n=x5.transition;x5.transition={};try{e(!1),t()}finally{kr=r,x5.transition=n}}function eQ(){return Fa().memoizedState}function m0e(e,t,r){var n=Yp(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tQ(e))rQ(t,r);else if(r=jX(e,t,r,n),r!==null){var i=Os();Ol(r,e,n,i),nQ(r,t,n)}}function y0e(e,t,r){var n=Yp(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tQ(e))rQ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ll(a,o)){var l=t.interleaved;l===null?(i.next=i,oN(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=jX(e,t,i,n),r!==null&&(i=Os(),Ol(r,e,n,i),nQ(r,t,n))}}function tQ(e){var t=e.alternate;return e===Sn||t!==null&&t===Sn}function rQ(e,t){hw=$M=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nQ(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q8(e,r)}}var TM={readContext:Na,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},g0e={readContext:Na,useCallback:function(e,t){return fu().memoizedState=[e,t===void 0?null:t],e},useContext:Na,useEffect:tV,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,M$(4194308,4,YX.bind(null,t,e),r)},useLayoutEffect:function(e,t){return M$(4194308,4,e,t)},useInsertionEffect:function(e,t){return M$(4,2,e,t)},useMemo:function(e,t){var r=fu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fu();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=m0e.bind(null,Sn,e),[n.memoizedState,e]},useRef:function(e){var t=fu();return e={current:e},t.memoizedState=e},useState:eV,useDebugValue:mN,useDeferredValue:function(e){return fu().memoizedState=e},useTransition:function(){var e=eV(!1),t=e[0];return e=f0e.bind(null,e[1]),fu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Sn,i=fu();if(yn){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),xi===null)throw Error(ge(349));km&30||VX(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,tV(UX.bind(null,n,s,e),[e]),n.flags|=2048,d_(9,BX.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=fu(),t=xi.identifierPrefix;if(yn){var r=qc,n=Wc;r=(n&~(1<<32-Il(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=u_++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h0e++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v0e={readContext:Na,useCallback:KX,useContext:Na,useEffect:fN,useImperativeHandle:JX,useInsertionEffect:HX,useLayoutEffect:ZX,useMemo:XX,useReducer:S5,useRef:qX,useState:function(){return S5(c_)},useDebugValue:mN,useDeferredValue:function(e){var t=Fa();return QX(t,oi.memoizedState,e)},useTransition:function(){var e=S5(c_)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:DX,useSyncExternalStore:zX,useId:eQ,unstable_isNewReconciler:!1},b0e={readContext:Na,useCallback:KX,useContext:Na,useEffect:fN,useImperativeHandle:JX,useInsertionEffect:HX,useLayoutEffect:ZX,useMemo:XX,useReducer:$5,useRef:qX,useState:function(){return $5(c_)},useDebugValue:mN,useDeferredValue:function(e){var t=Fa();return oi===null?t.memoizedState=e:QX(t,oi.memoizedState,e)},useTransition:function(){var e=$5(c_)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:DX,useSyncExternalStore:zX,useId:eQ,unstable_isNewReconciler:!1};function bl(e,t){if(e&&e.defaultProps){t=Tn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function O4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jC={isMounted:function(e){return(e=e._reactInternals)?ry(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Os(),i=Yp(e),s=Jc(n,i);s.payload=t,r!=null&&(s.callback=r),t=Hp(e,s,i),t!==null&&(Ol(t,e,i,n),$$(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Os(),i=Yp(e),s=Jc(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Hp(e,s,i),t!==null&&(Ol(t,e,i,n),$$(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Os(),n=Yp(e),i=Jc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Hp(e,i,n),t!==null&&(Ol(t,e,n,r),$$(t,e,n))}};function rV(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!n_(r,n)||!n_(i,s):!0}function iQ(e,t,r){var n=!1,i=sh,s=t.contextType;return typeof s=="object"&&s!==null?s=Na(s):(i=io(t)?Cm:ds.current,n=t.contextTypes,s=(n=n!=null)?j0(e,i):sh),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jC,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function nV(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jC.enqueueReplaceState(t,t.state,null)}function P4(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},aN(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Na(s):(s=io(t)?Cm:ds.current,i.context=j0(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(O4(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jC.enqueueReplaceState(i,i.state,null),xM(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function z0(e,t){try{var r="",n=t;do r+=Hye(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function T5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function A4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var w0e=typeof WeakMap=="function"?WeakMap:Map;function sQ(e,t,r){r=Jc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){CM||(CM=!0,U4=n),A4(e,t)},r}function oQ(e,t,r){r=Jc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){A4(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){A4(e,t),typeof n!="function"&&(Zp===null?Zp=new Set([this]):Zp.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function iV(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new w0e;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=R0e.bind(null,e,t,r),t.then(e,e))}function sV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oV(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jc(-1,1),t.tag=2,Hp(r,t,1))),r.lanes|=1),e)}var _0e=hd.ReactCurrentOwner,ro=!1;function Cs(e,t,r,n){t.child=e===null?LX(t,null,r,n):F0(t,e.child,r,n)}function aV(e,t,r,n,i){r=r.render;var s=t.ref;return a0(t,i),n=pN(e,t,r,n,s,i),r=hN(),e!==null&&!ro?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,od(e,t,i)):(yn&&r&&eN(t),t.flags|=1,Cs(e,t,n,i),t.child)}function lV(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!SN(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,aQ(e,t,s,n,i)):(e=I$(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:n_,r(o,n)&&e.ref===t.ref)return od(e,t,i)}return t.flags|=1,e=Jp(s,n),e.ref=t.ref,e.return=t,t.child=e}function aQ(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(n_(s,n)&&e.ref===t.ref)if(ro=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ro=!0);else return t.lanes=e.lanes,od(e,t,i)}return R4(e,t,r,n,i)}function lQ(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Gg,Eo),Eo|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kr(Gg,Eo),Eo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Kr(Gg,Eo),Eo|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Kr(Gg,Eo),Eo|=n;return Cs(e,t,i,r),t.child}function uQ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function R4(e,t,r,n,i){var s=io(r)?Cm:ds.current;return s=j0(t,s),a0(t,i),r=pN(e,t,r,n,s,i),n=hN(),e!==null&&!ro?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,od(e,t,i)):(yn&&n&&eN(t),t.flags|=1,Cs(e,t,r,i),t.child)}function uV(e,t,r,n,i){if(io(r)){var s=!0;gM(t)}else s=!1;if(a0(t,i),t.stateNode===null)C$(e,t),iQ(t,r,n),P4(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Na(u):(u=io(r)?Cm:ds.current,u=j0(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&nV(t,o,n,u),bp=!1;var f=t.memoizedState;o.state=f,xM(t,n,o,i),l=t.memoizedState,a!==n||f!==l||no.current||bp?(typeof d=="function"&&(O4(t,r,d,n),l=t.memoizedState),(a=bp||rV(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,NX(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:bl(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Na(l):(l=io(r)?Cm:ds.current,l=j0(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&nV(t,o,n,l),bp=!1,f=t.memoizedState,o.state=f,xM(t,n,o,i);var g=t.memoizedState;a!==h||f!==g||no.current||bp?(typeof y=="function"&&(O4(t,r,y,n),g=t.memoizedState),(u=bp||rV(t,r,u,n,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return L4(e,t,r,n,s,i)}function L4(e,t,r,n,i,s){uQ(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Zz(t,r,!1),od(e,t,s);n=t.stateNode,_0e.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=F0(t,e.child,null,s),t.child=F0(t,null,a,s)):Cs(e,t,a,s),t.memoizedState=n.state,i&&Zz(t,r,!0),t.child}function cQ(e){var t=e.stateNode;t.pendingContext?Hz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hz(e,t.context,!1),lN(e,t.containerInfo)}function cV(e,t,r,n,i){return N0(),rN(i),t.flags|=256,Cs(e,t,r,n),t.child}var j4={dehydrated:null,treeContext:null,retryLane:0};function N4(e){return{baseLanes:e,cachePool:null,transitions:null}}function dQ(e,t,r){var n=t.pendingProps,i=xn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Kr(xn,i&1),e===null)return k4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=DC(o,n,0,null),e=fm(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=N4(r),t.memoizedState=j4,e):yN(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return x0e(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Jp(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jp(a,s):(s=fm(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?N4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=j4,n}return s=e.child,e=s.sibling,n=Jp(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yN(e,t){return t=DC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function RS(e,t,r,n){return n!==null&&rN(n),F0(t,e.child,null,r),e=yN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0e(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=T5(Error(ge(422))),RS(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=DC({mode:"visible",children:n.children},i,0,null),s=fm(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&F0(t,e.child,null,o),t.child.memoizedState=N4(o),t.memoizedState=j4,s);if(!(t.mode&1))return RS(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ge(419)),n=T5(s,n,void 0),RS(e,t,o,n)}if(a=(o&e.childLanes)!==0,ro||a){if(n=xi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sd(e,i),Ol(n,e,i,-1))}return xN(),n=T5(Error(ge(421))),RS(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=L0e.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Po=qp(i.nextSibling),Ro=t,yn=!0,$l=null,e!==null&&(fa[ma++]=Wc,fa[ma++]=qc,fa[ma++]=Em,Wc=e.id,qc=e.overflow,Em=t),t=yN(t,n.children),t.flags|=4096,t)}function dV(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),I4(e.return,t,r)}function M5(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function pQ(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Cs(e,t,n.children,r),n=xn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dV(e,r,t);else if(e.tag===19)dV(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kr(xn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&SM(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),M5(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&SM(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}M5(t,!0,r,null,s);break;case"together":M5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function C$(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function od(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Im|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Jp(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jp(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S0e(e,t,r){switch(t.tag){case 3:cQ(t),N0();break;case 5:FX(t);break;case 1:io(t.type)&&gM(t);break;case 4:lN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Kr(wM,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kr(xn,xn.current&1),t.flags|=128,null):r&t.child.childLanes?dQ(e,t,r):(Kr(xn,xn.current&1),e=od(e,t,r),e!==null?e.sibling:null);Kr(xn,xn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pQ(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kr(xn,xn.current),n)break;return null;case 22:case 23:return t.lanes=0,lQ(e,t,r)}return od(e,t,r)}var hQ,F4,fQ,mQ;hQ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};F4=function(){};fQ=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,em(Iu.current);var s=null;switch(r){case"input":i=o4(e,i),n=o4(e,n),s=[];break;case"select":i=Tn({},i,{value:void 0}),n=Tn({},n,{value:void 0}),s=[];break;case"textarea":i=u4(e,i),n=u4(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mM)}d4(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jw.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jw.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&en("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};mQ=function(e,t,r,n){r!==n&&(t.flags|=4)};function l1(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $0e(e,t,r){var n=t.pendingProps;switch(tN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:return io(t.type)&&yM(),Wi(t),null;case 3:return n=t.stateNode,D0(),un(no),un(ds),cN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(PS(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$l!==null&&(q4($l),$l=null))),F4(e,t),Wi(t),null;case 5:uN(t);var i=em(l_.current);if(r=t.type,e!==null&&t.stateNode!=null)fQ(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return Wi(t),null}if(e=em(Iu.current),PS(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Su]=t,n[o_]=s,e=(t.mode&1)!==0,r){case"dialog":en("cancel",n),en("close",n);break;case"iframe":case"object":case"embed":en("load",n);break;case"video":case"audio":for(i=0;i<tb.length;i++)en(tb[i],n);break;case"source":en("error",n);break;case"img":case"image":case"link":en("error",n),en("load",n);break;case"details":en("toggle",n);break;case"input":wz(n,s),en("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},en("invalid",n);break;case"textarea":xz(n,s),en("invalid",n)}d4(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&OS(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&OS(n.textContent,a,e),i=["children",""+a]):Jw.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",n)}switch(r){case"input":SS(n),_z(n,s,!0);break;case"textarea":SS(n),Sz(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=mM)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UK(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Su]=t,e[o_]=n,hQ(e,t,!1,!1),t.stateNode=e;e:{switch(o=p4(r,n),r){case"dialog":en("cancel",e),en("close",e),i=n;break;case"iframe":case"object":case"embed":en("load",e),i=n;break;case"video":case"audio":for(i=0;i<tb.length;i++)en(tb[i],e);i=n;break;case"source":en("error",e),i=n;break;case"img":case"image":case"link":en("error",e),en("load",e),i=n;break;case"details":en("toggle",e),i=n;break;case"input":wz(e,n),i=o4(e,n),en("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tn({},n,{value:void 0}),en("invalid",e);break;case"textarea":xz(e,n),i=u4(e,n),en("invalid",e);break;default:i=n}d4(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qK(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GK(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Kw(e,l):typeof l=="number"&&Kw(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",e):l!=null&&z8(e,s,l,o))}switch(r){case"input":SS(e),_z(e,n,!1);break;case"textarea":SS(e),Sz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ih(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?n0(e,!!n.multiple,s,!1):n.defaultValue!=null&&n0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mM)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&t.stateNode!=null)mQ(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=em(l_.current),em(Iu.current),PS(t)){if(n=t.stateNode,r=t.memoizedProps,n[Su]=t,(s=n.nodeValue!==r)&&(e=Ro,e!==null))switch(e.tag){case 3:OS(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&OS(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Su]=t,t.stateNode=n}return Wi(t),null;case 13:if(un(xn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&Po!==null&&t.mode&1&&!(t.flags&128))AX(),N0(),t.flags|=98560,s=!1;else if(s=PS(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ge(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ge(317));s[Su]=t}else N0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wi(t),s=!1}else $l!==null&&(q4($l),$l=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xn.current&1?li===0&&(li=3):xN())),t.updateQueue!==null&&(t.flags|=4),Wi(t),null);case 4:return D0(),F4(e,t),e===null&&i_(t.stateNode.containerInfo),Wi(t),null;case 10:return sN(t.type._context),Wi(t),null;case 17:return io(t.type)&&yM(),Wi(t),null;case 19:if(un(xn),s=t.memoizedState,s===null)return Wi(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)l1(s,!1);else{if(li!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=SM(e),o!==null){for(t.flags|=128,l1(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kr(xn,xn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Vn()>V0&&(t.flags|=128,n=!0,l1(s,!1),t.lanes=4194304)}else{if(!n)if(e=SM(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),l1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yn)return Wi(t),null}else 2*Vn()-s.renderingStartTime>V0&&r!==1073741824&&(t.flags|=128,n=!0,l1(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Vn(),t.sibling=null,r=xn.current,Kr(xn,n?r&1|2:r&1),t):(Wi(t),null);case 22:case 23:return _N(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Eo&1073741824&&(Wi(t),t.subtreeFlags&6&&(t.flags|=8192)):Wi(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function T0e(e,t){switch(tN(t),t.tag){case 1:return io(t.type)&&yM(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return D0(),un(no),un(ds),cN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uN(t),null;case 13:if(un(xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));N0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(xn),null;case 4:return D0(),null;case 10:return sN(t.type._context),null;case 22:case 23:return _N(),null;case 24:return null;default:return null}}var LS=!1,ss=!1,M0e=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Ug(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rn(e,t,n)}else r.current=null}function D4(e,t,r){try{r()}catch(n){Rn(e,t,n)}}var pV=!1;function C0e(e,t){if(x4=pM,e=wX(),Q8(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===i&&(a=o),f===s&&++d===n&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(S4={focusedElem:e,selectionRange:r},pM=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:bl(t.type,v),b);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch($){Rn(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return g=pV,pV=!1,g}function fw(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&D4(t,r,s)}i=i.next}while(i!==n)}}function NC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function z4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yQ(e){var t=e.alternate;t!==null&&(e.alternate=null,yQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Su],delete t[o_],delete t[M4],delete t[u0e],delete t[c0e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gQ(e){return e.tag===5||e.tag===3||e.tag===4}function hV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function V4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mM));else if(n!==4&&(e=e.child,e!==null))for(V4(e,t,r),e=e.sibling;e!==null;)V4(e,t,r),e=e.sibling}function B4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(B4(e,t,r),e=e.sibling;e!==null;)B4(e,t,r),e=e.sibling}var Ri=null,_l=!1;function _d(e,t,r){for(r=r.child;r!==null;)vQ(e,t,r),r=r.sibling}function vQ(e,t,r){if(ku&&typeof ku.onCommitFiberUnmount=="function")try{ku.onCommitFiberUnmount(kC,r)}catch{}switch(r.tag){case 5:ss||Ug(r,t);case 6:var n=Ri,i=_l;Ri=null,_d(e,t,r),Ri=n,_l=i,Ri!==null&&(_l?(e=Ri,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ri.removeChild(r.stateNode));break;case 18:Ri!==null&&(_l?(e=Ri,r=r.stateNode,e.nodeType===8?b5(e.parentNode,r):e.nodeType===1&&b5(e,r),t_(e)):b5(Ri,r.stateNode));break;case 4:n=Ri,i=_l,Ri=r.stateNode.containerInfo,_l=!0,_d(e,t,r),Ri=n,_l=i;break;case 0:case 11:case 14:case 15:if(!ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&D4(r,t,o),i=i.next}while(i!==n)}_d(e,t,r);break;case 1:if(!ss&&(Ug(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Rn(r,t,a)}_d(e,t,r);break;case 21:_d(e,t,r);break;case 22:r.mode&1?(ss=(n=ss)||r.memoizedState!==null,_d(e,t,r),ss=n):_d(e,t,r);break;default:_d(e,t,r)}}function fV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new M0e),t.forEach(function(n){var i=j0e.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ri=a.stateNode,_l=!1;break e;case 3:Ri=a.stateNode.containerInfo,_l=!0;break e;case 4:Ri=a.stateNode.containerInfo,_l=!0;break e}a=a.return}if(Ri===null)throw Error(ge(160));vQ(s,o,i),Ri=null,_l=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bQ(t,e),t=t.sibling}function bQ(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xa(t,e),Vl(e),n&4){try{fw(3,e,e.return),NC(3,e)}catch(v){Rn(e,e.return,v)}try{fw(5,e,e.return)}catch(v){Rn(e,e.return,v)}}break;case 1:Xa(t,e),Vl(e),n&512&&r!==null&&Ug(r,r.return);break;case 5:if(Xa(t,e),Vl(e),n&512&&r!==null&&Ug(r,r.return),e.flags&32){var i=e.stateNode;try{Kw(i,"")}catch(v){Rn(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VK(i,s),p4(a,o);var u=p4(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?qK(i,h):d==="dangerouslySetInnerHTML"?GK(i,h):d==="children"?Kw(i,h):z8(i,d,h,u)}switch(a){case"input":a4(i,s);break;case"textarea":BK(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?n0(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?n0(i,!!s.multiple,s.defaultValue,!0):n0(i,!!s.multiple,s.multiple?[]:"",!1))}i[o_]=s}catch(v){Rn(e,e.return,v)}}break;case 6:if(Xa(t,e),Vl(e),n&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Rn(e,e.return,v)}}break;case 3:if(Xa(t,e),Vl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{t_(t.containerInfo)}catch(v){Rn(e,e.return,v)}break;case 4:Xa(t,e),Vl(e);break;case 13:Xa(t,e),Vl(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bN=Vn())),n&4&&fV(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ss=(u=ss)||d,Xa(t,e),ss=u):Xa(t,e),Vl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ve=e,d=e.child;d!==null;){for(h=Ve=d;Ve!==null;){switch(f=Ve,y=f.child,f.tag){case 0:case 11:case 14:case 15:fw(4,f,f.return);break;case 1:Ug(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Rn(n,r,v)}}break;case 5:Ug(f,f.return);break;case 22:if(f.memoizedState!==null){yV(h);continue}}y!==null?(y.return=f,Ve=y):yV(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WK("display",o))}catch(v){Rn(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Rn(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xa(t,e),Vl(e),n&4&&fV(e);break;case 21:break;default:Xa(t,e),Vl(e)}}function Vl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gQ(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Kw(i,""),n.flags&=-33);var s=hV(e);B4(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hV(e);V4(e,a,o);break;default:throw Error(ge(161))}}catch(l){Rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0e(e,t,r){Ve=e,wQ(e)}function wQ(e,t,r){for(var n=(e.mode&1)!==0;Ve!==null;){var i=Ve,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||LS;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ss;a=LS;var u=ss;if(LS=o,(ss=l)&&!u)for(Ve=i;Ve!==null;)o=Ve,l=o.child,o.tag===22&&o.memoizedState!==null?gV(i):l!==null?(l.return=o,Ve=l):gV(i);for(;s!==null;)Ve=s,wQ(s),s=s.sibling;Ve=i,LS=a,ss=u}mV(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ve=s):mV(e)}}function mV(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||NC(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ss)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:bl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Qz(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qz(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&t_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}ss||t.flags&512&&z4(t)}catch(f){Rn(t,t.return,f)}}if(t===e){Ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function yV(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function gV(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{NC(4,t)}catch(l){Rn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Rn(t,i,l)}}var s=t.return;try{z4(t)}catch(l){Rn(t,s,l)}break;case 5:var o=t.return;try{z4(t)}catch(l){Rn(t,o,l)}}}catch(l){Rn(t,t.return,l)}if(t===e){Ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ve=a;break}Ve=t.return}}var k0e=Math.ceil,MM=hd.ReactCurrentDispatcher,gN=hd.ReactCurrentOwner,ka=hd.ReactCurrentBatchConfig,nr=0,xi=null,Kn=null,Di=0,Eo=0,Gg=xh(0),li=0,p_=null,Im=0,FC=0,vN=0,mw=null,Xs=null,bN=0,V0=1/0,Lc=null,CM=!1,U4=null,Zp=null,jS=!1,Op=null,EM=0,yw=0,G4=null,E$=-1,k$=0;function Os(){return nr&6?Vn():E$!==-1?E$:E$=Vn()}function Yp(e){return e.mode&1?nr&2&&Di!==0?Di&-Di:p0e.transition!==null?(k$===0&&(k$=iX()),k$):(e=kr,e!==0||(e=window.event,e=e===void 0?16:dX(e.type)),e):1}function Ol(e,t,r,n){if(50<yw)throw yw=0,G4=null,Error(ge(185));mx(e,r,n),(!(nr&2)||e!==xi)&&(e===xi&&(!(nr&2)&&(FC|=r),li===4&&Cp(e,Di)),so(e,n),r===1&&nr===0&&!(t.mode&1)&&(V0=Vn()+500,RC&&Sh()))}function so(e,t){var r=e.callbackNode;pge(e,t);var n=dM(e,e===xi?Di:0);if(n===0)r!==null&&Mz(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mz(r),t===1)e.tag===0?d0e(vV.bind(null,e)):IX(vV.bind(null,e)),a0e(function(){!(nr&6)&&Sh()}),r=null;else{switch(sX(n)){case 1:r=W8;break;case 4:r=rX;break;case 16:r=cM;break;case 536870912:r=nX;break;default:r=cM}r=EQ(r,_Q.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _Q(e,t){if(E$=-1,k$=0,nr&6)throw Error(ge(327));var r=e.callbackNode;if(l0()&&e.callbackNode!==r)return null;var n=dM(e,e===xi?Di:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kM(e,n);else{t=n;var i=nr;nr|=2;var s=SQ();(xi!==e||Di!==t)&&(Lc=null,V0=Vn()+500,hm(e,t));do try{P0e();break}catch(a){xQ(e,a)}while(!0);iN(),MM.current=s,nr=i,Kn!==null?t=0:(xi=null,Di=0,t=li)}if(t!==0){if(t===2&&(i=g4(e),i!==0&&(n=i,t=W4(e,i))),t===1)throw r=p_,hm(e,0),Cp(e,n),so(e,Vn()),r;if(t===6)Cp(e,n);else{if(i=e.current.alternate,!(n&30)&&!I0e(i)&&(t=kM(e,n),t===2&&(s=g4(e),s!==0&&(n=s,t=W4(e,s))),t===1))throw r=p_,hm(e,0),Cp(e,n),so(e,Vn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:ef(e,Xs,Lc);break;case 3:if(Cp(e,n),(n&130023424)===n&&(t=bN+500-Vn(),10<t)){if(dM(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=T4(ef.bind(null,e,Xs,Lc),t);break}ef(e,Xs,Lc);break;case 4:if(Cp(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Il(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k0e(n/1960))-n,10<n){e.timeoutHandle=T4(ef.bind(null,e,Xs,Lc),n);break}ef(e,Xs,Lc);break;case 5:ef(e,Xs,Lc);break;default:throw Error(ge(329))}}}return so(e,Vn()),e.callbackNode===r?_Q.bind(null,e):null}function W4(e,t){var r=mw;return e.current.memoizedState.isDehydrated&&(hm(e,t).flags|=256),e=kM(e,t),e!==2&&(t=Xs,Xs=r,t!==null&&q4(t)),e}function q4(e){Xs===null?Xs=e:Xs.push.apply(Xs,e)}function I0e(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ll(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cp(e,t){for(t&=~vN,t&=~FC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Il(t),n=1<<r;e[r]=-1,t&=~n}}function vV(e){if(nr&6)throw Error(ge(327));l0();var t=dM(e,0);if(!(t&1))return so(e,Vn()),null;var r=kM(e,t);if(e.tag!==0&&r===2){var n=g4(e);n!==0&&(t=n,r=W4(e,n))}if(r===1)throw r=p_,hm(e,0),Cp(e,t),so(e,Vn()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ef(e,Xs,Lc),so(e,Vn()),null}function wN(e,t){var r=nr;nr|=1;try{return e(t)}finally{nr=r,nr===0&&(V0=Vn()+500,RC&&Sh())}}function Om(e){Op!==null&&Op.tag===0&&!(nr&6)&&l0();var t=nr;nr|=1;var r=ka.transition,n=kr;try{if(ka.transition=null,kr=1,e)return e()}finally{kr=n,ka.transition=r,nr=t,!(nr&6)&&Sh()}}function _N(){Eo=Gg.current,un(Gg)}function hm(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,o0e(r)),Kn!==null)for(r=Kn.return;r!==null;){var n=r;switch(tN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yM();break;case 3:D0(),un(no),un(ds),cN();break;case 5:uN(n);break;case 4:D0();break;case 13:un(xn);break;case 19:un(xn);break;case 10:sN(n.type._context);break;case 22:case 23:_N()}r=r.return}if(xi=e,Kn=e=Jp(e.current,null),Di=Eo=t,li=0,p_=null,vN=FC=Im=0,Xs=mw=null,Qf!==null){for(t=0;t<Qf.length;t++)if(r=Qf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Qf=null}return e}function xQ(e,t){do{var r=Kn;try{if(iN(),T$.current=TM,$M){for(var n=Sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$M=!1}if(km=0,vi=oi=Sn=null,hw=!1,u_=0,gN.current=null,r===null||r.return===null){li=1,p_=t,Kn=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Di,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=sV(o);if(y!==null){y.flags&=-257,oV(y,o,a,s,t),y.mode&1&&iV(s,u,t),t=y,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){iV(s,u,t),xN();break e}l=Error(ge(426))}}else if(yn&&a.mode&1){var b=sV(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),oV(b,o,a,s,t),rN(z0(l,a));break e}}s=l=z0(l,a),li!==4&&(li=2),mw===null?mw=[s]:mw.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=sQ(s,l,t);Xz(s,_);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Zp===null||!Zp.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var $=oQ(s,a,t);Xz(s,$);break e}}s=s.return}while(s!==null)}TQ(r)}catch(C){t=C,Kn===r&&r!==null&&(Kn=r=r.return);continue}break}while(!0)}function SQ(){var e=MM.current;return MM.current=TM,e===null?TM:e}function xN(){(li===0||li===3||li===2)&&(li=4),xi===null||!(Im&268435455)&&!(FC&268435455)||Cp(xi,Di)}function kM(e,t){var r=nr;nr|=2;var n=SQ();(xi!==e||Di!==t)&&(Lc=null,hm(e,t));do try{O0e();break}catch(i){xQ(e,i)}while(!0);if(iN(),nr=r,MM.current=n,Kn!==null)throw Error(ge(261));return xi=null,Di=0,li}function O0e(){for(;Kn!==null;)$Q(Kn)}function P0e(){for(;Kn!==null&&!nge();)$Q(Kn)}function $Q(e){var t=CQ(e.alternate,e,Eo);e.memoizedProps=e.pendingProps,t===null?TQ(e):Kn=t,gN.current=null}function TQ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T0e(r,t),r!==null){r.flags&=32767,Kn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{li=6,Kn=null;return}}else if(r=$0e(r,t,Eo),r!==null){Kn=r;return}if(t=t.sibling,t!==null){Kn=t;return}Kn=t=e}while(t!==null);li===0&&(li=5)}function ef(e,t,r){var n=kr,i=ka.transition;try{ka.transition=null,kr=1,A0e(e,t,r,n)}finally{ka.transition=i,kr=n}return null}function A0e(e,t,r,n){do l0();while(Op!==null);if(nr&6)throw Error(ge(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(hge(e,s),e===xi&&(Kn=xi=null,Di=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jS||(jS=!0,EQ(cM,function(){return l0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ka.transition,ka.transition=null;var o=kr;kr=1;var a=nr;nr|=4,gN.current=null,C0e(e,r),bQ(r,e),Qge(S4),pM=!!x4,S4=x4=null,e.current=r,E0e(r),ige(),nr=a,kr=o,ka.transition=s}else e.current=r;if(jS&&(jS=!1,Op=e,EM=i),s=e.pendingLanes,s===0&&(Zp=null),age(r.stateNode),so(e,Vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(CM)throw CM=!1,e=U4,U4=null,e;return EM&1&&e.tag!==0&&l0(),s=e.pendingLanes,s&1?e===G4?yw++:(yw=0,G4=e):yw=0,Sh(),null}function l0(){if(Op!==null){var e=sX(EM),t=ka.transition,r=kr;try{if(ka.transition=null,kr=16>e?16:e,Op===null)var n=!1;else{if(e=Op,Op=null,EM=0,nr&6)throw Error(ge(331));var i=nr;for(nr|=4,Ve=e.current;Ve!==null;){var s=Ve,o=s.child;if(Ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ve=u;Ve!==null;){var d=Ve;switch(d.tag){case 0:case 11:case 15:fw(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ve=h;else for(;Ve!==null;){d=Ve;var f=d.sibling,y=d.return;if(yQ(d),d===u){Ve=null;break}if(f!==null){f.return=y,Ve=f;break}Ve=y}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ve=o;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fw(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ve=_;break e}Ve=s.return}}var x=e.current;for(Ve=x;Ve!==null;){o=Ve;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ve=S;else e:for(o=x;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:NC(9,a)}}catch(C){Rn(a,a.return,C)}if(a===o){Ve=null;break e}var $=a.sibling;if($!==null){$.return=a.return,Ve=$;break e}Ve=a.return}}if(nr=i,Sh(),ku&&typeof ku.onPostCommitFiberRoot=="function")try{ku.onPostCommitFiberRoot(kC,e)}catch{}n=!0}return n}finally{kr=r,ka.transition=t}}return!1}function bV(e,t,r){t=z0(r,t),t=sQ(e,t,1),e=Hp(e,t,1),t=Os(),e!==null&&(mx(e,1,t),so(e,t))}function Rn(e,t,r){if(e.tag===3)bV(e,e,r);else for(;t!==null;){if(t.tag===3){bV(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zp===null||!Zp.has(n))){e=z0(r,e),e=oQ(t,e,1),t=Hp(t,e,1),e=Os(),t!==null&&(mx(t,1,e),so(t,e));break}}t=t.return}}function R0e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Os(),e.pingedLanes|=e.suspendedLanes&r,xi===e&&(Di&r)===r&&(li===4||li===3&&(Di&130023424)===Di&&500>Vn()-bN?hm(e,0):vN|=r),so(e,t)}function MQ(e,t){t===0&&(e.mode&1?(t=MS,MS<<=1,!(MS&130023424)&&(MS=4194304)):t=1);var r=Os();e=sd(e,t),e!==null&&(mx(e,t,r),so(e,r))}function L0e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),MQ(e,r)}function j0e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),MQ(e,r)}var CQ;CQ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||no.current)ro=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ro=!1,S0e(e,t,r);ro=!!(e.flags&131072)}else ro=!1,yn&&t.flags&1048576&&OX(t,bM,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;C$(e,t),e=t.pendingProps;var i=j0(t,ds.current);a0(t,r),i=pN(null,t,n,e,i,r);var s=hN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,io(n)?(s=!0,gM(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aN(t),i.updater=jC,t.stateNode=i,i._reactInternals=t,P4(t,n,e,r),t=L4(null,t,n,!0,s,r)):(t.tag=0,yn&&s&&eN(t),Cs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(C$(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=F0e(n),e=bl(n,e),i){case 0:t=R4(null,t,n,e,r);break e;case 1:t=uV(null,t,n,e,r);break e;case 11:t=aV(null,t,n,e,r);break e;case 14:t=lV(null,t,n,bl(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bl(n,i),R4(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bl(n,i),uV(e,t,n,i,r);case 3:e:{if(cQ(t),e===null)throw Error(ge(387));n=t.pendingProps,s=t.memoizedState,i=s.element,NX(e,t),xM(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=z0(Error(ge(423)),t),t=cV(e,t,n,r,i);break e}else if(n!==i){i=z0(Error(ge(424)),t),t=cV(e,t,n,r,i);break e}else for(Po=qp(t.stateNode.containerInfo.firstChild),Ro=t,yn=!0,$l=null,r=LX(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(N0(),n===i){t=od(e,t,r);break e}Cs(e,t,n,r)}t=t.child}return t;case 5:return FX(t),e===null&&k4(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$4(n,i)?o=null:s!==null&&$4(n,s)&&(t.flags|=32),uQ(e,t),Cs(e,t,o,r),t.child;case 6:return e===null&&k4(t),null;case 13:return dQ(e,t,r);case 4:return lN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=F0(t,null,n,r):Cs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bl(n,i),aV(e,t,n,i,r);case 7:return Cs(e,t,t.pendingProps,r),t.child;case 8:return Cs(e,t,t.pendingProps.children,r),t.child;case 12:return Cs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Kr(wM,n._currentValue),n._currentValue=o,s!==null)if(Ll(s.value,o)){if(s.children===i.children&&!no.current){t=od(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Jc(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),I4(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ge(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),I4(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,a0(t,r),i=Na(i),n=n(i),t.flags|=1,Cs(e,t,n,r),t.child;case 14:return n=t.type,i=bl(n,t.pendingProps),i=bl(n.type,i),lV(e,t,n,i,r);case 15:return aQ(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bl(n,i),C$(e,t),t.tag=1,io(n)?(e=!0,gM(t)):e=!1,a0(t,r),iQ(t,n,i),P4(t,n,i,r),L4(null,t,n,!0,e,r);case 19:return pQ(e,t,r);case 22:return lQ(e,t,r)}throw Error(ge(156,t.tag))};function EQ(e,t){return tX(e,t)}function N0e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(e,t,r,n){return new N0e(e,t,r,n)}function SN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F0e(e){if(typeof e=="function")return SN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B8)return 11;if(e===U8)return 14}return 2}function Jp(e,t){var r=e.alternate;return r===null?(r=Ta(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function I$(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")SN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rg:return fm(r.children,i,s,t);case V8:o=8,i|=8;break;case r4:return e=Ta(12,r,t,i|2),e.elementType=r4,e.lanes=s,e;case n4:return e=Ta(13,r,t,i),e.elementType=n4,e.lanes=s,e;case i4:return e=Ta(19,r,t,i),e.elementType=i4,e.lanes=s,e;case FK:return DC(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jK:o=10;break e;case NK:o=9;break e;case B8:o=11;break e;case U8:o=14;break e;case vp:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Ta(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function fm(e,t,r,n){return e=Ta(7,e,n,t),e.lanes=r,e}function DC(e,t,r,n){return e=Ta(22,e,n,t),e.elementType=FK,e.lanes=r,e.stateNode={isHidden:!1},e}function C5(e,t,r){return e=Ta(6,e,null,t),e.lanes=r,e}function E5(e,t,r){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D0e(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l5(0),this.expirationTimes=l5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $N(e,t,r,n,i,s,o,a,l){return e=new D0e(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ta(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},aN(s),e}function z0e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ag,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kQ(e){if(!e)return sh;e=e._reactInternals;e:{if(ry(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(io(r))return kX(e,r,t)}return t}function IQ(e,t,r,n,i,s,o,a,l){return e=$N(r,n,!0,e,i,s,o,a,l),e.context=kQ(null),r=e.current,n=Os(),i=Yp(r),s=Jc(n,i),s.callback=t??null,Hp(r,s,i),e.current.lanes=i,mx(e,i,n),so(e,n),e}function zC(e,t,r,n){var i=t.current,s=Os(),o=Yp(i);return r=kQ(r),t.context===null?t.context=r:t.pendingContext=r,t=Jc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hp(i,t,o),e!==null&&(Ol(e,i,o,s),$$(e,i,o)),o}function IM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function TN(e,t){wV(e,t),(e=e.alternate)&&wV(e,t)}function V0e(){return null}var OQ=typeof reportError=="function"?reportError:function(e){console.error(e)};function MN(e){this._internalRoot=e}VC.prototype.render=MN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));zC(e,t,null,null)};VC.prototype.unmount=MN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(function(){zC(null,e,null,null)}),t[id]=null}};function VC(e){this._internalRoot=e}VC.prototype.unstable_scheduleHydration=function(e){if(e){var t=lX();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mp.length&&t!==0&&t<Mp[r].priority;r++);Mp.splice(r,0,e),r===0&&cX(e)}};function CN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function BC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _V(){}function B0e(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=IM(o);s.call(u)}}var o=IQ(t,n,e,0,null,!1,!1,"",_V);return e._reactRootContainer=o,e[id]=o.current,i_(e.nodeType===8?e.parentNode:e),Om(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=IM(l);a.call(u)}}var l=$N(e,0,!1,null,null,!1,!1,"",_V);return e._reactRootContainer=l,e[id]=l.current,i_(e.nodeType===8?e.parentNode:e),Om(function(){zC(t,l,r,n)}),l}function UC(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=IM(o);a.call(l)}}zC(t,o,e,i)}else o=B0e(r,t,e,i,n);return IM(o)}oX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eb(t.pendingLanes);r!==0&&(q8(t,r|1),so(t,Vn()),!(nr&6)&&(V0=Vn()+500,Sh()))}break;case 13:Om(function(){var n=sd(e,1);if(n!==null){var i=Os();Ol(n,e,1,i)}}),TN(e,1)}};H8=function(e){if(e.tag===13){var t=sd(e,134217728);if(t!==null){var r=Os();Ol(t,e,134217728,r)}TN(e,134217728)}};aX=function(e){if(e.tag===13){var t=Yp(e),r=sd(e,t);if(r!==null){var n=Os();Ol(r,e,t,n)}TN(e,t)}};lX=function(){return kr};uX=function(e,t){var r=kr;try{return kr=e,t()}finally{kr=r}};f4=function(e,t,r){switch(t){case"input":if(a4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=AC(n);if(!i)throw Error(ge(90));zK(n),a4(n,i)}}}break;case"textarea":BK(e,r);break;case"select":t=r.value,t!=null&&n0(e,!!r.multiple,t,!1)}};YK=wN;JK=Om;var U0e={usingClientEntryPoint:!1,Events:[gx,Fg,AC,HK,ZK,wN]},u1={findFiberByHostInstance:Xf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0e={bundleType:u1.bundleType,version:u1.version,rendererPackageName:u1.rendererPackageName,rendererConfig:u1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QK(e),e===null?null:e.stateNode},findFiberByHostInstance:u1.findFiberByHostInstance||V0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NS.isDisabled&&NS.supportsFiber)try{kC=NS.inject(G0e),ku=NS}catch{}}Go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0e;Go.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CN(t))throw Error(ge(200));return z0e(e,t,null,r)};Go.createRoot=function(e,t){if(!CN(e))throw Error(ge(299));var r=!1,n="",i=OQ;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$N(e,1,!1,null,null,r,!1,n,i),e[id]=t.current,i_(e.nodeType===8?e.parentNode:e),new MN(t)};Go.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=QK(t),e=e===null?null:e.stateNode,e};Go.flushSync=function(e){return Om(e)};Go.hydrate=function(e,t,r){if(!BC(t))throw Error(ge(200));return UC(null,e,t,!0,r)};Go.hydrateRoot=function(e,t,r){if(!CN(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=OQ;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=IQ(t,null,e,1,r??null,i,!1,s,o),e[id]=t.current,i_(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new VC(t)};Go.render=function(e,t,r){if(!BC(t))throw Error(ge(200));return UC(null,e,t,!1,r)};Go.unmountComponentAtNode=function(e){if(!BC(e))throw Error(ge(40));return e._reactRootContainer?(Om(function(){UC(null,null,e,!1,function(){e._reactRootContainer=null,e[id]=null})}),!0):!1};Go.unstable_batchedUpdates=wN;Go.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!BC(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return UC(e,t,r,!1,n)};Go.version="18.3.1-next-f1338f8080-20240426";function PQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PQ)}catch(e){console.error(e)}}PQ(),PK.exports=Go;var GC=PK.exports;const FS=Nn(GC);var AQ,xV=GC;AQ=xV.createRoot,xV.hydrateRoot;const Ga=I.createContext(),W0e=e=>{let[t,r]=I.useState(null),[n,i]=I.useState(null),[s,o]=I.useState("https://stage-api.arkadiahrestores.earth"),[a,l]=I.useState("09RRQQPFU0AYTS31"),[u,d]=I.useState("$2a$10$5gw/4fQeV8.5gh7Sa2jIAO7f99NzB/J2MD2B.cdfgWMIwvoj990hq"),[h,f]=I.useState(null),[y,g]=I.useState(!1);const[v,b]=I.useState(!1);let[_,x]=I.useState(null);return w.jsx(Ga.Provider,{value:{viewObj:t,setViewObj:r,protectedAreaFlorian:h,setProtectedAreaFlorian:f,token:n,setToken:i,apiUrl:s,setApiUrl:o,clientId:a,setClientId:l,clientSecret:u,setClientSecret:d,checked:y,setChecked:g,aoi:_,setAoi:x,loading:v,setLoading:b},children:e.children})};function Pm(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Pl="$$material";function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OM.apply(null,arguments)}function RQ(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var q0e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,H0e=RQ(function(e){return q0e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Z0e=!1;function Y0e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function J0e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var K0e=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!Z0e:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(J0e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Y0e(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Xi="-ms-",PM="-moz-",hr="-webkit-",LQ="comm",EN="rule",kN="decl",X0e="@import",jQ="@keyframes",Q0e="@layer",eve=Math.abs,WC=String.fromCharCode,tve=Object.assign;function rve(e,t){return Li(e,0)^45?(((t<<2^Li(e,0))<<2^Li(e,1))<<2^Li(e,2))<<2^Li(e,3):0}function NQ(e){return e.trim()}function nve(e,t){return(e=t.exec(e))?e[0]:e}function fr(e,t,r){return e.replace(t,r)}function H4(e,t){return e.indexOf(t)}function Li(e,t){return e.charCodeAt(t)|0}function h_(e,t,r){return e.slice(t,r)}function bu(e){return e.length}function IN(e){return e.length}function DS(e,t){return t.push(e),e}function ive(e,t){return e.map(t).join("")}var qC=1,B0=1,FQ=0,lo=0,Jn=0,mv="";function HC(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:qC,column:B0,length:o,return:""}}function c1(e,t){return tve(HC("",null,null,"",null,null,0),e,{length:-e.length},t)}function sve(){return Jn}function ove(){return Jn=lo>0?Li(mv,--lo):0,B0--,Jn===10&&(B0=1,qC--),Jn}function Lo(){return Jn=lo<FQ?Li(mv,lo++):0,B0++,Jn===10&&(B0=1,qC++),Jn}function Ou(){return Li(mv,lo)}function O$(){return lo}function bx(e,t){return h_(mv,e,t)}function f_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DQ(e){return qC=B0=1,FQ=bu(mv=e),lo=0,[]}function zQ(e){return mv="",e}function P$(e){return NQ(bx(lo-1,Z4(e===91?e+2:e===40?e+1:e)))}function ave(e){for(;(Jn=Ou())&&Jn<33;)Lo();return f_(e)>2||f_(Jn)>3?"":" "}function lve(e,t){for(;--t&&Lo()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return bx(e,O$()+(t<6&&Ou()==32&&Lo()==32))}function Z4(e){for(;Lo();)switch(Jn){case e:return lo;case 34:case 39:e!==34&&e!==39&&Z4(Jn);break;case 40:e===41&&Z4(e);break;case 92:Lo();break}return lo}function uve(e,t){for(;Lo()&&e+Jn!==57;)if(e+Jn===84&&Ou()===47)break;return"/*"+bx(t,lo-1)+"*"+WC(e===47?e:Lo())}function cve(e){for(;!f_(Ou());)Lo();return bx(e,lo)}function dve(e){return zQ(A$("",null,null,null,[""],e=DQ(e),0,[0],e))}function A$(e,t,r,n,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,y=0,g=0,v=1,b=1,_=1,x=0,S="",$=i,C=s,k=n,E=S;b;)switch(g=x,x=Lo()){case 40:if(g!=108&&Li(E,h-1)==58){H4(E+=fr(P$(x),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:E+=P$(x);break;case 9:case 10:case 13:case 32:E+=ave(g);break;case 92:E+=lve(O$()-1,7);continue;case 47:switch(Ou()){case 42:case 47:DS(pve(uve(Lo(),O$()),t,r),l);break;default:E+="/"}break;case 123*v:a[u++]=bu(E)*_;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:_==-1&&(E=fr(E,/\f/g,"")),y>0&&bu(E)-h&&DS(y>32?$V(E+";",n,r,h-1):$V(fr(E," ","")+";",n,r,h-2),l);break;case 59:E+=";";default:if(DS(k=SV(E,t,r,u,d,i,a,S,$=[],C=[],h),s),x===123)if(d===0)A$(E,t,k,k,$,s,h,a,C);else switch(f===99&&Li(E,3)===110?100:f){case 100:case 108:case 109:case 115:A$(e,k,k,n&&DS(SV(e,k,k,0,0,i,a,S,i,$=[],h),C),i,C,h,a,n?$:C);break;default:A$(E,k,k,k,[""],C,0,a,C)}}u=d=y=0,v=_=1,S=E="",h=o;break;case 58:h=1+bu(E),y=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&ove()==125)continue}switch(E+=WC(x),x*v){case 38:_=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(bu(E)-1)*_,_=1;break;case 64:Ou()===45&&(E+=P$(Lo())),f=Ou(),d=h=bu(S=E+=cve(O$())),x++;break;case 45:g===45&&bu(E)==2&&(v=0)}}return s}function SV(e,t,r,n,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],y=IN(f),g=0,v=0,b=0;g<n;++g)for(var _=0,x=h_(e,h+1,h=eve(v=o[g])),S=e;_<y;++_)(S=NQ(v>0?f[_]+" "+x:fr(x,/&\f/g,f[_])))&&(l[b++]=S);return HC(e,t,r,i===0?EN:a,l,u,d)}function pve(e,t,r){return HC(e,t,r,LQ,WC(sve()),h_(e,2,-2),0)}function $V(e,t,r,n){return HC(e,t,r,kN,h_(e,0,n),h_(e,n+1,-1),n)}function u0(e,t){for(var r="",n=IN(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function hve(e,t,r,n){switch(e.type){case Q0e:if(e.children.length)break;case X0e:case kN:return e.return=e.return||e.value;case LQ:return"";case jQ:return e.return=e.value+"{"+u0(e.children,n)+"}";case EN:e.value=e.props.join(",")}return bu(r=u0(e.children,n))?e.return=e.value+"{"+r+"}":""}function fve(e){var t=IN(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function mve(e){return function(t){t.root||(t=t.return)&&e(t)}}var yve=function(t,r,n){for(var i=0,s=0;i=s,s=Ou(),i===38&&s===12&&(r[n]=1),!f_(s);)Lo();return bx(t,lo)},gve=function(t,r){var n=-1,i=44;do switch(f_(i)){case 0:i===38&&Ou()===12&&(r[n]=1),t[n]+=yve(lo-1,r,n);break;case 2:t[n]+=P$(i);break;case 4:if(i===44){t[++n]=Ou()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=WC(i)}while(i=Lo());return t},vve=function(t,r){return zQ(gve(DQ(t),r))},TV=new WeakMap,bve=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!TV.get(n))&&!i){TV.set(t,!0);for(var s=[],o=vve(r,s),a=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},wve=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function VQ(e,t){switch(rve(e,t)){case 5103:return hr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return hr+e+PM+e+Xi+e+e;case 6828:case 4268:return hr+e+Xi+e+e;case 6165:return hr+e+Xi+"flex-"+e+e;case 5187:return hr+e+fr(e,/(\w+).+(:[^]+)/,hr+"box-$1$2"+Xi+"flex-$1$2")+e;case 5443:return hr+e+Xi+"flex-item-"+fr(e,/flex-|-self/,"")+e;case 4675:return hr+e+Xi+"flex-line-pack"+fr(e,/align-content|flex-|-self/,"")+e;case 5548:return hr+e+Xi+fr(e,"shrink","negative")+e;case 5292:return hr+e+Xi+fr(e,"basis","preferred-size")+e;case 6060:return hr+"box-"+fr(e,"-grow","")+hr+e+Xi+fr(e,"grow","positive")+e;case 4554:return hr+fr(e,/([^-])(transform)/g,"$1"+hr+"$2")+e;case 6187:return fr(fr(fr(e,/(zoom-|grab)/,hr+"$1"),/(image-set)/,hr+"$1"),e,"")+e;case 5495:case 3959:return fr(e,/(image-set\([^]*)/,hr+"$1$`$1");case 4968:return fr(fr(e,/(.+:)(flex-)?(.*)/,hr+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hr+e+e;case 4095:case 3583:case 4068:case 2532:return fr(e,/(.+)-inline(.+)/,hr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bu(e)-1-t>6)switch(Li(e,t+1)){case 109:if(Li(e,t+4)!==45)break;case 102:return fr(e,/(.+:)(.+)-([^]+)/,"$1"+hr+"$2-$3$1"+PM+(Li(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~H4(e,"stretch")?VQ(fr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Li(e,t+1)!==115)break;case 6444:switch(Li(e,bu(e)-3-(~H4(e,"!important")&&10))){case 107:return fr(e,":",":"+hr)+e;case 101:return fr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hr+(Li(e,14)===45?"inline-":"")+"box$3$1"+hr+"$2$3$1"+Xi+"$2box$3")+e}break;case 5936:switch(Li(e,t+11)){case 114:return hr+e+Xi+fr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return hr+e+Xi+fr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return hr+e+Xi+fr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return hr+e+Xi+e+e}return e}var _ve=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case kN:t.return=VQ(t.value,t.length);break;case jQ:return u0([c1(t,{value:fr(t.value,"@","@"+hr)})],i);case EN:if(t.length)return ive(t.props,function(s){switch(nve(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return u0([c1(t,{props:[fr(s,/:(read-\w+)/,":"+PM+"$1")]})],i);case"::placeholder":return u0([c1(t,{props:[fr(s,/:(plac\w+)/,":"+hr+"input-$1")]}),c1(t,{props:[fr(s,/:(plac\w+)/,":"+PM+"$1")]}),c1(t,{props:[fr(s,/:(plac\w+)/,Xi+"input-$1")]})],i)}return""})}},xve=[_ve],Sve=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||xve,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),_=1;_<b.length;_++)s[b[_]]=!0;a.push(v)});var l,u=[bve,wve];{var d,h=[hve,mve(function(v){d.insert(v)})],f=fve(u.concat(i,h)),y=function(b){return u0(dve(b),f)};l=function(b,_,x,S){d=x,y(b?b+"{"+_.styles+"}":_.styles),S&&(g.inserted[_.name]=!0)}}var g={key:r,sheet:new K0e({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},BQ={exports:{}},Ir={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=typeof Symbol=="function"&&Symbol.for,ON=Mi?Symbol.for("react.element"):60103,PN=Mi?Symbol.for("react.portal"):60106,ZC=Mi?Symbol.for("react.fragment"):60107,YC=Mi?Symbol.for("react.strict_mode"):60108,JC=Mi?Symbol.for("react.profiler"):60114,KC=Mi?Symbol.for("react.provider"):60109,XC=Mi?Symbol.for("react.context"):60110,AN=Mi?Symbol.for("react.async_mode"):60111,QC=Mi?Symbol.for("react.concurrent_mode"):60111,eE=Mi?Symbol.for("react.forward_ref"):60112,tE=Mi?Symbol.for("react.suspense"):60113,$ve=Mi?Symbol.for("react.suspense_list"):60120,rE=Mi?Symbol.for("react.memo"):60115,nE=Mi?Symbol.for("react.lazy"):60116,Tve=Mi?Symbol.for("react.block"):60121,Mve=Mi?Symbol.for("react.fundamental"):60117,Cve=Mi?Symbol.for("react.responder"):60118,Eve=Mi?Symbol.for("react.scope"):60119;function qo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ON:switch(e=e.type,e){case AN:case QC:case ZC:case JC:case YC:case tE:return e;default:switch(e=e&&e.$$typeof,e){case XC:case eE:case nE:case rE:case KC:return e;default:return t}}case PN:return t}}}function UQ(e){return qo(e)===QC}Ir.AsyncMode=AN;Ir.ConcurrentMode=QC;Ir.ContextConsumer=XC;Ir.ContextProvider=KC;Ir.Element=ON;Ir.ForwardRef=eE;Ir.Fragment=ZC;Ir.Lazy=nE;Ir.Memo=rE;Ir.Portal=PN;Ir.Profiler=JC;Ir.StrictMode=YC;Ir.Suspense=tE;Ir.isAsyncMode=function(e){return UQ(e)||qo(e)===AN};Ir.isConcurrentMode=UQ;Ir.isContextConsumer=function(e){return qo(e)===XC};Ir.isContextProvider=function(e){return qo(e)===KC};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ON};Ir.isForwardRef=function(e){return qo(e)===eE};Ir.isFragment=function(e){return qo(e)===ZC};Ir.isLazy=function(e){return qo(e)===nE};Ir.isMemo=function(e){return qo(e)===rE};Ir.isPortal=function(e){return qo(e)===PN};Ir.isProfiler=function(e){return qo(e)===JC};Ir.isStrictMode=function(e){return qo(e)===YC};Ir.isSuspense=function(e){return qo(e)===tE};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ZC||e===QC||e===JC||e===YC||e===tE||e===$ve||typeof e=="object"&&e!==null&&(e.$$typeof===nE||e.$$typeof===rE||e.$$typeof===KC||e.$$typeof===XC||e.$$typeof===eE||e.$$typeof===Mve||e.$$typeof===Cve||e.$$typeof===Eve||e.$$typeof===Tve)};Ir.typeOf=qo;BQ.exports=Ir;var kve=BQ.exports,GQ=kve,Ive={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ove={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WQ={};WQ[GQ.ForwardRef]=Ive;WQ[GQ.Memo]=Ove;var Pve=!0;function Ave(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var qQ=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Pve===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},HQ=function(t,r,n){qQ(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Rve(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Lve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jve=!1,Nve=/[A-Z]|^ms/g,Fve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZQ=function(t){return t.charCodeAt(1)===45},MV=function(t){return t!=null&&typeof t!="boolean"},k5=RQ(function(e){return ZQ(e)?e:e.replace(Nve,"-$&").toLowerCase()}),CV=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Fve,function(n,i,s){return wu={name:i,styles:s,next:wu},i})}return Lve[t]!==1&&!ZQ(t)&&typeof r=="number"&&r!==0?r+"px":r},Dve="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function m_(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return wu={name:i.name,styles:i.styles,next:wu},i.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)wu={name:o.name,styles:o.styles,next:wu},o=o.next;var a=s.styles+";";return a}return zve(e,t,r)}case"function":{if(e!==void 0){var l=wu,u=r(e);return wu=l,m_(e,t,u)}break}}var d=r;if(t==null)return d;var h=t[d];return h!==void 0?h:d}function zve(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=m_(e,t,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?n+=s+"{"+t[a]+"}":MV(a)&&(n+=k5(s)+":"+CV(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&jve)throw new Error(Dve);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)MV(o[l])&&(n+=k5(s)+":"+CV(s,o[l])+";");else{var u=m_(e,t,o);switch(s){case"animation":case"animationName":{n+=k5(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}}return n}var EV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wu;function RN(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";wu=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,i+=m_(r,t,s);else{var o=s;i+=o[0]}for(var a=1;a<e.length;a++)if(i+=m_(r,t,e[a]),n){var l=s;i+=l[a]}EV.lastIndex=0;for(var u="",d;(d=EV.exec(i))!==null;)u+="-"+d[1];var h=Rve(i)+u;return{name:h,styles:i,next:wu}}var Vve=function(t){return t()},YQ=e4.useInsertionEffect?e4.useInsertionEffect:!1,Bve=YQ||Vve,kV=YQ||I.useLayoutEffect,JQ=I.createContext(typeof HTMLElement<"u"?Sve({key:"css"}):null);JQ.Provider;var KQ=function(t){return I.forwardRef(function(r,n){var i=I.useContext(JQ);return t(r,i,n)})},iE=I.createContext({}),Uve=KQ(function(e,t){var r=e.styles,n=RN([r],void 0,I.useContext(iE)),i=I.useRef();return kV(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),kV(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(n.next!==void 0&&HQ(t,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",n,o,!1)},[t,n.name]),null});function yv(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return RN(t)}var $h=function(){var t=yv.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Gve=H0e,Wve=function(t){return t!=="theme"},IV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Gve:Wve},OV=function(t,r,n){var i;if(r){var s=r.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},qve=!1,Hve=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return qQ(r,n,i),Bve(function(){return HQ(r,n,i)}),null},Zve=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,s,o;r!==void 0&&(s=r.label,o=r.target);var a=OV(t,r,n),l=a||IV(i),u=!l("as");return function(){var d=arguments,h=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,y=1;y<f;y++)h.push(d[y],d[0][y])}var g=KQ(function(v,b,_){var x=u&&v.as||i,S="",$=[],C=v;if(v.theme==null){C={};for(var k in v)C[k]=v[k];C.theme=I.useContext(iE)}typeof v.className=="string"?S=Ave(b.registered,$,v.className):v.className!=null&&(S=v.className+" ");var E=RN(h.concat($),b.registered,C);S+=b.key+"-"+E.name,o!==void 0&&(S+=" "+o);var P=u&&a===void 0?IV(x):l,T={};for(var M in v)u&&M==="as"||P(M)&&(T[M]=v[M]);return T.className=S,_&&(T.ref=_),I.createElement(I.Fragment,null,I.createElement(Hve,{cache:b,serialized:E,isStringTag:typeof x=="string"}),I.createElement(x,T))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=h,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return o===void 0&&qve?"NO_COMPONENT_SELECTOR":"."+o}}),g.withComponent=function(v,b){return e(v,OM({},r,b,{shouldForwardProp:OV(g,b,!0)})).apply(void 0,h)},g}},Yve=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Y4=Zve.bind();Yve.forEach(function(e){Y4[e]=Y4(e)});var XQ={exports:{}},Jve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kve=Jve,Xve=Kve;function QQ(){}function eee(){}eee.resetWarningCache=QQ;var Qve=function(){function e(n,i,s,o,a,l){if(l!==Xve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eee,resetWarningCache:QQ};return r.PropTypes=r,r};XQ.exports=Qve();var tee=XQ.exports;const te=Nn(tee);function e1e(e){return e==null||Object.keys(e).length===0}function ree(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(e1e(i)?r:i):t;return w.jsx(Uve,{styles:n})}/**
 * @mui/styled-engine v6.0.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nee(e,t){return Y4(e,t)}const t1e=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function $u(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function iee(e){if(!$u(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=iee(e[r])}),t}function Ps(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return $u(e)&&$u(t)&&Object.keys(t).forEach(i=>{$u(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&$u(e[i])?n[i]=Ps(e[i],t[i],r):r.clone?n[i]=$u(t[i])?iee(t[i]):t[i]:n[i]=t[i]}),n}const r1e=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function n1e(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=e,s=r1e(t),o=Object.keys(s);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-n/100}${r})`}function u(f,y){const g=o.indexOf(y);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:y)-n/100}${r})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const y=o.indexOf(f);return y===0?a(o[1]):y===o.length-1?l(o[y]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:r,...i}}function i1e(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=n.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return r.length?r.reduce((n,i)=>{const s=t[i];return delete n[i],n[i]=s,n},{...t}):t}function s1e(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function o1e(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(i).up(s)}function a1e(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function r(s,o){s.up=(...a)=>t(e.breakpoints.up(...a),o),s.down=(...a)=>t(e.breakpoints.down(...a),o),s.between=(...a)=>t(e.breakpoints.between(...a),o),s.only=(...a)=>t(e.breakpoints.only(...a),o),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},i=s=>(r(n,s),n);return r(i),{...e,containerQueries:i}}const l1e={borderRadius:4};function gw(e,t){return t?Ps(e,t,{clone:!1}):e}const sE={xs:0,sm:600,md:900,lg:1200,xl:1536},PV={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${sE[e]}px)`},u1e={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:sE[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function uo(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||PV;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=r(t[l]),o),{})}if(typeof t=="object"){const s=n.breakpoints||PV;return Object.keys(t).reduce((o,a)=>{if(s1e(s.keys,a)){const l=o1e(n.containerQueries?n:u1e,a);l&&(o[l]=r(t[a],a))}else if(Object.keys(s.values||sE).includes(a)){const l=s.up(a);o[l]=r(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return r(t)}function see(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,i)=>{const s=e.up(i);return n[s]={},n},{}))||{}}function oee(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function c1e(e,...t){const r=see(e),n=[r,...t].reduce((i,s)=>Ps(i,s),{});return oee(Object.keys(r),n)}function d1e(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,s)=>{s<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function mm({values:e,breakpoints:t,base:r}){const n=r||d1e(e,t),i=Object.keys(n);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function Ee(e){if(typeof e!="string")throw new Error(Pm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function oE(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function AM(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=oE(e,r)||n,t&&(i=t(i,n,e)),i}function Un(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,u=oE(l,n)||{};return uo(o,a,h=>{let f=AM(u,i,h);return h===f&&typeof h=="string"&&(f=AM(u,i,`${t}${h==="default"?"":Ee(h)}`,h)),r===!1?f:{[r]:f}})};return s.propTypes={},s.filterProps=[t],s}function p1e(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const h1e={m:"margin",p:"padding"},f1e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AV={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},m1e=p1e(e=>{if(e.length>2)if(AV[e])e=AV[e];else return[e];const[t,r]=e.split(""),n=h1e[t],i=f1e[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),LN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...LN,...jN];function wx(e,t,r,n){const i=oE(e,t,!0)??r;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function aE(e){return wx(e,"spacing",8)}function Am(e,t){return typeof t=="string"||t==null?t:e(t)}function y1e(e,t){return r=>e.reduce((n,i)=>(n[i]=Am(t,r),n),{})}function g1e(e,t,r,n){if(!t.includes(r))return null;const i=m1e(r),s=y1e(i,n),o=e[r];return uo(e,o,s)}function aee(e,t){const r=aE(e.theme);return Object.keys(e).map(n=>g1e(e,t,n,r)).reduce(gw,{})}function In(e){return aee(e,LN)}In.propTypes={};In.filterProps=LN;function On(e){return aee(e,jN)}On.propTypes={};On.filterProps=jN;function lee(e=8,t=aE({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function lE(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>t[s]?gw(i,t[s](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function ya(e){return typeof e!="number"?e:`${e}px solid`}function Wa(e,t){return Un({prop:e,themeKey:"borders",transform:t})}const v1e=Wa("border",ya),b1e=Wa("borderTop",ya),w1e=Wa("borderRight",ya),_1e=Wa("borderBottom",ya),x1e=Wa("borderLeft",ya),S1e=Wa("borderColor"),$1e=Wa("borderTopColor"),T1e=Wa("borderRightColor"),M1e=Wa("borderBottomColor"),C1e=Wa("borderLeftColor"),E1e=Wa("outline",ya),k1e=Wa("outlineColor"),uE=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=wx(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Am(t,n)});return uo(e,e.borderRadius,r)}return null};uE.propTypes={};uE.filterProps=["borderRadius"];lE(v1e,b1e,w1e,_1e,x1e,S1e,$1e,T1e,M1e,C1e,uE,E1e,k1e);const cE=e=>{if(e.gap!==void 0&&e.gap!==null){const t=wx(e.theme,"spacing",8),r=n=>({gap:Am(t,n)});return uo(e,e.gap,r)}return null};cE.propTypes={};cE.filterProps=["gap"];const dE=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=wx(e.theme,"spacing",8),r=n=>({columnGap:Am(t,n)});return uo(e,e.columnGap,r)}return null};dE.propTypes={};dE.filterProps=["columnGap"];const pE=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=wx(e.theme,"spacing",8),r=n=>({rowGap:Am(t,n)});return uo(e,e.rowGap,r)}return null};pE.propTypes={};pE.filterProps=["rowGap"];const I1e=Un({prop:"gridColumn"}),O1e=Un({prop:"gridRow"}),P1e=Un({prop:"gridAutoFlow"}),A1e=Un({prop:"gridAutoColumns"}),R1e=Un({prop:"gridAutoRows"}),L1e=Un({prop:"gridTemplateColumns"}),j1e=Un({prop:"gridTemplateRows"}),N1e=Un({prop:"gridTemplateAreas"}),F1e=Un({prop:"gridArea"});lE(cE,dE,pE,I1e,O1e,P1e,A1e,R1e,L1e,j1e,N1e,F1e);function c0(e,t){return t==="grey"?t:e}const D1e=Un({prop:"color",themeKey:"palette",transform:c0}),z1e=Un({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:c0}),V1e=Un({prop:"backgroundColor",themeKey:"palette",transform:c0});lE(D1e,z1e,V1e);function Oo(e){return e<=1&&e!==0?`${e*100}%`:e}const B1e=Un({prop:"width",transform:Oo}),NN=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var i,s,o,a,l;const n=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[r])||sE[r];return n?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Oo(r)}};return uo(e,e.maxWidth,t)}return null};NN.filterProps=["maxWidth"];const U1e=Un({prop:"minWidth",transform:Oo}),G1e=Un({prop:"height",transform:Oo}),W1e=Un({prop:"maxHeight",transform:Oo}),q1e=Un({prop:"minHeight",transform:Oo});Un({prop:"size",cssProperty:"width",transform:Oo});Un({prop:"size",cssProperty:"height",transform:Oo});const H1e=Un({prop:"boxSizing"});lE(B1e,NN,U1e,G1e,W1e,q1e,H1e);const _x={border:{themeKey:"borders",transform:ya},borderTop:{themeKey:"borders",transform:ya},borderRight:{themeKey:"borders",transform:ya},borderBottom:{themeKey:"borders",transform:ya},borderLeft:{themeKey:"borders",transform:ya},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ya},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:uE},color:{themeKey:"palette",transform:c0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:c0},backgroundColor:{themeKey:"palette",transform:c0},p:{style:On},pt:{style:On},pr:{style:On},pb:{style:On},pl:{style:On},px:{style:On},py:{style:On},padding:{style:On},paddingTop:{style:On},paddingRight:{style:On},paddingBottom:{style:On},paddingLeft:{style:On},paddingX:{style:On},paddingY:{style:On},paddingInline:{style:On},paddingInlineStart:{style:On},paddingInlineEnd:{style:On},paddingBlock:{style:On},paddingBlockStart:{style:On},paddingBlockEnd:{style:On},m:{style:In},mt:{style:In},mr:{style:In},mb:{style:In},ml:{style:In},mx:{style:In},my:{style:In},margin:{style:In},marginTop:{style:In},marginRight:{style:In},marginBottom:{style:In},marginLeft:{style:In},marginX:{style:In},marginY:{style:In},marginInline:{style:In},marginInlineStart:{style:In},marginInlineEnd:{style:In},marginBlock:{style:In},marginBlockStart:{style:In},marginBlockEnd:{style:In},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cE},rowGap:{style:pE},columnGap:{style:dE},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oo},maxWidth:{style:NN},minWidth:{transform:Oo},height:{transform:Oo},maxHeight:{transform:Oo},minHeight:{transform:Oo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Z1e(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function Y1e(e,t){return typeof e=="function"?e(t):e}function J1e(){function e(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:d,style:h}=a;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const f=oE(i,u)||{};return h?h(o):uo(o,n,g=>{let v=AM(f,d,g);return g===v&&typeof g=="string"&&(v=AM(f,d,`${r}${g==="default"?"":Ee(g)}`,g)),l===!1?v:{[l]:v}})}function t(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const s=i.unstable_sxConfig??_x;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=see(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const y=Y1e(l[f],i);if(y!=null)if(typeof y=="object")if(s[f])h=gw(h,e(f,y,i,s));else{const g=uo({theme:i},y,v=>({[f]:v}));Z1e(g,y)?h[f]=t({sx:y,theme:i}):h=gw(h,g)}else h=gw(h,e(f,y,i,s))}),i1e(i,oee(d,h))}return Array.isArray(n)?n.map(o):o(n)}return t}const ny=J1e();ny.filterProps=["sx"];function K1e(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(e);return(i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t}}return r.palette.mode===e?t:{}}function hE(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:s={},...o}=e,a=n1e(r),l=lee(i);let u=Ps({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...l1e,...s}},o);return u=a1e(u),u.applyStyles=K1e,u=t.reduce((d,h)=>Ps(d,h),u),u.unstable_sxConfig={..._x,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return ny({sx:h,theme:this})},u}function X1e(e){return Object.keys(e).length===0}function uee(e=null){const t=I.useContext(iE);return!t||X1e(t)?e:t}const Q1e=hE();function fE(e=Q1e){return uee(e)}function ebe({styles:e,themeId:t,defaultTheme:r={}}){const n=fE(r),i=typeof e=="function"?e(t&&n[t]||n):e;return w.jsx(ree,{styles:i})}const tbe=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??_x;return Object.keys(e).forEach(i=>{r[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function mE(e){const{sx:t,...r}=e,{systemProps:n,otherProps:i}=tbe(r);let s;return Array.isArray(t)?s=[n,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return $u(a)?{...n,...a}:n}:s={...n,...t},{...i,sx:s}}const RV=e=>e,rbe=()=>{let e=RV;return{configure(t){e=t},generate(t){return e(t)},reset(){e=RV}}},FN=rbe();function cee(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=cee(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=cee(e))&&(n&&(n+=" "),n+=t);return n}function nbe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,s=nee("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ny);return I.forwardRef(function(l,u){const d=fE(r),{className:h,component:f="div",...y}=mE(l);return w.jsx(s,{as:f,ref:u,className:qe(h,i?i(n):n),theme:t&&d[t]||d,...y})})}const ibe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ar(e,t,r="Mui"){const n=ibe[t];return n?`${r}-${n}`:`${FN.generate(e)}-${t}`}function lr(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=ar(e,i,r)}),n}var Nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=Symbol.for("react.element"),zN=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),gE=Symbol.for("react.strict_mode"),vE=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),sbe=Symbol.for("react.server_context"),_E=Symbol.for("react.forward_ref"),xE=Symbol.for("react.suspense"),SE=Symbol.for("react.suspense_list"),$E=Symbol.for("react.memo"),TE=Symbol.for("react.lazy"),obe=Symbol.for("react.offscreen"),dee;dee=Symbol.for("react.module.reference");function qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DN:switch(e=e.type,e){case yE:case vE:case gE:case xE:case SE:return e;default:switch(e=e&&e.$$typeof,e){case sbe:case wE:case _E:case TE:case $E:case bE:return e;default:return t}}case zN:return t}}}Nr.ContextConsumer=wE;Nr.ContextProvider=bE;Nr.Element=DN;Nr.ForwardRef=_E;Nr.Fragment=yE;Nr.Lazy=TE;Nr.Memo=$E;Nr.Portal=zN;Nr.Profiler=vE;Nr.StrictMode=gE;Nr.Suspense=xE;Nr.SuspenseList=SE;Nr.isAsyncMode=function(){return!1};Nr.isConcurrentMode=function(){return!1};Nr.isContextConsumer=function(e){return qa(e)===wE};Nr.isContextProvider=function(e){return qa(e)===bE};Nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DN};Nr.isForwardRef=function(e){return qa(e)===_E};Nr.isFragment=function(e){return qa(e)===yE};Nr.isLazy=function(e){return qa(e)===TE};Nr.isMemo=function(e){return qa(e)===$E};Nr.isPortal=function(e){return qa(e)===zN};Nr.isProfiler=function(e){return qa(e)===vE};Nr.isStrictMode=function(e){return qa(e)===gE};Nr.isSuspense=function(e){return qa(e)===xE};Nr.isSuspenseList=function(e){return qa(e)===SE};Nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yE||e===vE||e===gE||e===xE||e===SE||e===obe||typeof e=="object"&&e!==null&&(e.$$typeof===TE||e.$$typeof===$E||e.$$typeof===bE||e.$$typeof===wE||e.$$typeof===_E||e.$$typeof===dee||e.getModuleId!==void 0)};Nr.typeOf=qa;const abe=hE();function I5(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function J4(e,t,r){return ube(t)?r:t[e]||t}const zS=Symbol("mui.processed_props");function VS(e,t,r){if(zS in e)return e[zS];const n={...e,theme:J4(t,e.theme,r)};return e[zS]=n,n[zS]=n,n}function lbe(e){return e?(t,r)=>r[e]:null}function R$(e,t){var n;const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(i=>R$(i,t));if(Array.isArray(r==null?void 0:r.variants)){const{variants:i,...s}=r;let o=s,a;e:for(let l=0;l<i.length;l+=1){const u=i[l];if(typeof u.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(a))continue}else for(const d in u.props)if(t[d]!==u.props[d]&&((n=t.ownerState)==null?void 0:n[d])!==u.props[d])continue e;Array.isArray(o)||(o=[o]),typeof u.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),o.push(u.style(a))):o.push(u.style)}return o}return r}function pee(e={}){const{themeId:t,defaultTheme:r=abe,rootShouldForwardProp:n=I5,slotShouldForwardProp:i=I5}=e,s=a=>ny(VS(a,t,r));return s.__mui_systemSx=!0,(a,l={})=>{t1e(a,k=>k.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:y=lbe(dbe(d)),...g}=l,v=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,b=f||!1;let _,x=I5;d==="Root"||d==="root"?x=n:d?x=i:cbe(a)&&(x=void 0);const S=nee(a,{shouldForwardProp:x,label:_,...g}),$=k=>typeof k=="function"&&k.__emotion_real!==k||$u(k)?E=>R$(k,VS(E,t,r)):k,C=(k,...E)=>{let P=$(k);const T=E?E.map($):[];u&&y&&T.push(j=>{const N=J4(t,j.theme,r);if(!N.components||!N.components[u]||!N.components[u].styleOverrides)return null;const L=N.components[u].styleOverrides,z={},B=VS(j,t,r);for(const U in L)z[U]=R$(L[U],B);return y(j,z)}),u&&!v&&T.push(j=>{var z,B;const N=J4(t,j.theme,r),L=(B=(z=N==null?void 0:N.components)==null?void 0:z[u])==null?void 0:B.variants;return L?R$({variants:L},VS(j,t,r)):null}),b||T.push(s);const M=T.length-E.length;if(Array.isArray(k)&&M>0){const j=new Array(M).fill("");P=[...k,...j],P.raw=[...k.raw,...j]}const O=S(P,...T);return a.muiName&&(O.muiName=a.muiName),O};return S.withConfig&&(C.withConfig=S.withConfig),C}}function ube(e){for(const t in e)return!1;return!0}function cbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function dbe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const pbe=pee();function y_(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)r[i]=s||{};else if(!s)r[i]=o;else{r[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;r[i][l]=y_(s[l],o[l])}}}else r[i]===void 0&&(r[i]=e[i])}return r}function hbe(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:y_(t.components[r].defaultProps,n)}function hee({props:e,name:t,defaultTheme:r,themeId:n}){let i=fE(r);return n&&(i=i[n]||i),hbe({theme:i,name:t,props:e})}const U0=typeof window<"u"?I.useLayoutEffect:I.useEffect;function fbe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function VN(e,t=0,r=1){return fbe(e,t,r)}function mbe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function oh(e){if(e.type)return e;if(e.charAt(0)==="#")return oh(mbe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Pm(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Pm(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const ybe=e=>{const t=oh(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},rb=(e,t)=>{try{return ybe(e)}catch{return e}};function ME(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function fee(e){e=oh(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,s=n*Math.min(i,1-i),o=(u,d=(u+r/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),ME({type:a,values:l})}function K4(e){e=oh(e);let t=e.type==="hsl"||e.type==="hsla"?oh(fee(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function gbe(e,t){const r=K4(e),n=K4(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function ln(e,t){return e=oh(e),t=VN(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ME(e)}function BS(e,t,r){try{return ln(e,t)}catch{return e}}function xx(e,t){if(e=oh(e),t=VN(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return ME(e)}function Dr(e,t,r){try{return xx(e,t)}catch{return e}}function Sx(e,t){if(e=oh(e),t=VN(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ME(e)}function zr(e,t,r){try{return Sx(e,t)}catch{return e}}function vbe(e,t=.15){return K4(e)>.5?xx(e,t):Sx(e,t)}function US(e,t,r){try{return vbe(e,t)}catch{return e}}function X4(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function CE(e,t=166){let r;function n(...i){const s=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(s,t)}return n.clear=()=>{clearTimeout(r)},n}function bbe(e,t){return()=>null}function mee(e,t){var r,n,i;return I.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(n=(r=e.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:i.muiName))!==-1}function Pu(e){return e&&e.ownerDocument||document}function Th(e){return Pu(e).defaultView||window}function wbe(e,t){return()=>null}function RM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let LV=0;function _be(e){const[t,r]=I.useState(e),n=e||t;return I.useEffect(()=>{t==null&&(LV+=1,r(`mui-${LV}`))},[t]),n}const jV=e4.useId;function xbe(e){if(jV!==void 0){const t=jV();return e??t}return _be(e)}function Sbe(e,t,r,n,i){return null}function BN({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=I.useRef(e!==void 0),[s,o]=I.useState(t),a=i?e:s,l=I.useCallback(u=>{i||o(u)},[]);return[a,l]}function Mu(e){const t=I.useRef(e);return U0(()=>{t.current=e}),I.useRef((...r)=>(0,t.current)(...r)).current}function js(...e){return I.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{RM(r,t)})},e)}const NV={};function yee(e,t){const r=I.useRef(NV);return r.current===NV&&(r.current=e(t)),r}const $be=[];function Tbe(e){I.useEffect(e,$be)}class UN{constructor(){t1(this,"currentId",null);t1(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});t1(this,"disposeEffect",()=>this.clear)}static create(){return new UN}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function gee(){const e=yee(UN.create).current;return Tbe(e.disposeEffect),e}function FV(e){try{return e.matches(":focus-visible")}catch{}return!1}function Mbe(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function vr(e,t,r=void 0){const n={};for(const i in e){const s=e[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+t(u),a=!1,r&&r[u]&&(o+=" "+r[u]))}n[i]=o}return n}function Cbe(e){return typeof e=="string"}function vee(e,t,r){return e===void 0||Cbe(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function bee(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function DV(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function wee(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=e;if(!t){const y=qe(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),g={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},v={...r,...i,...n};return y.length>0&&(v.className=y),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const o=bee({...i,...n}),a=DV(n),l=DV(i),u=t(o),d=qe(u==null?void 0:u.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),h={...u==null?void 0:u.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},f={...u,...r,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}function _ee(e,t,r){return typeof e=="function"?e(t,r):e}function LM(e){var h;const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...s}=e,o=i?{}:_ee(r,n),{props:a,internalRef:l}=wee({...s,externalSlotProps:o}),u=js(l,o==null?void 0:o.ref,(h=e.additionalProps)==null?void 0:h.ref);return vee(t,{...a,ref:u},n)}function EE(e){return!e||!I.isValidElement(e)?null:e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}const xee=I.createContext(null);function GN(){return I.useContext(xee)}const Ebe=typeof Symbol=="function"&&Symbol.for,kbe=Ebe?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ibe(e,t){return typeof t=="function"?t(e):{...e,...t}}function Obe(e){const{children:t,theme:r}=e,n=GN(),i=I.useMemo(()=>{const s=n===null?{...r}:Ibe(n,r);return s!=null&&(s[kbe]=n!==null),s},[r,n]);return w.jsx(xee.Provider,{value:i,children:t})}const See=I.createContext();function Pbe({value:e,...t}){return w.jsx(See.Provider,{value:e??!0,...t})}const kE=()=>I.useContext(See)??!1,$ee=I.createContext(void 0);function Abe({value:e,children:t}){return w.jsx($ee.Provider,{value:e,children:t})}function Rbe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const i=t.components[r];return i.defaultProps?y_(i.defaultProps,n):!i.styleOverrides&&!i.variants?y_(i,n):n}function Lbe({props:e,name:t}){const r=I.useContext($ee);return Rbe({props:e,name:t,theme:{components:r}})}const zV={};function VV(e,t,r,n=!1){return I.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const s=r(i),o=e?{...t,[e]:s}:s;return n?()=>o:o}return e?{...t,[e]:r}:{...t,...r}},[e,t,r,n])}function Tee(e){const{children:t,theme:r,themeId:n}=e,i=uee(zV),s=GN()||zV,o=VV(n,i,r),a=VV(n,s,r,!0),l=o.direction==="rtl";return w.jsx(Obe,{theme:a,children:w.jsx(iE.Provider,{value:o,children:w.jsx(Pbe,{value:l,children:w.jsx(Abe,{value:o==null?void 0:o.components,children:t})})})})}const WN="mode",qN="color-scheme",jbe="data-color-scheme";function Nbe(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:n=WN,colorSchemeStorageKey:i=qN,attribute:s=jbe,colorSchemeNode:o="document.documentElement",nonce:a}=e||{};let l="",u=s;if(s==="class"&&(u=".%s"),s==="data"&&(u="[data-%s]"),u.startsWith(".")){const h=u.substring(1);l+=`${o}.classList.remove('${h}'.replace('%s', light), '${h}'.replace('%s', dark));
      ${o}.classList.add('${h}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[h,f]=d[1].split("=");f||(l+=`${o}.removeAttribute('${h}'.replace('%s', light));
      ${o}.removeAttribute('${h}'.replace('%s', dark));`),l+=`
      ${o}.setAttribute('${h}'.replace('%s', colorScheme), ${f?`${f}.replace('%s', colorScheme)`:'""'});`}else l+=`${o}.setAttribute('${u}', colorScheme);`;return w.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?a:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${n}') || 'system';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${l}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function BV(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Mee(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function Fbe(e){return Mee(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function O5(e,t){if(typeof window>"u")return;let r;try{r=localStorage.getItem(e)||void 0,r||localStorage.setItem(e,t)}catch{}return r||t}function Dbe(e){const{defaultMode:t="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:s=WN,colorSchemeStorageKey:o=qN,storageWindow:a=typeof window>"u"?void 0:window}=e,l=i.join(","),u=i.length>1,[d,h]=I.useState(()=>{const S=O5(s,t),$=O5(`${o}-light`,r),C=O5(`${o}-dark`,n);return{mode:S,systemMode:BV(S),lightColorScheme:$,darkColorScheme:C}}),[,f]=I.useState(!1),y=I.useRef(!1);I.useEffect(()=>{u&&f(!0),y.current=!0},[u]);const g=Fbe(d),v=I.useCallback(S=>{h($=>{if(S===$.mode)return $;const C=S??t;try{localStorage.setItem(s,C)}catch{}return{...$,mode:C,systemMode:BV(C)}})},[s,t]),b=I.useCallback(S=>{S?typeof S=="string"?S&&!l.includes(S)?console.error(`\`${S}\` does not exist in \`theme.colorSchemes\`.`):h($=>{const C={...$};return Mee($,k=>{try{localStorage.setItem(`${o}-${k}`,S)}catch{}k==="light"&&(C.lightColorScheme=S),k==="dark"&&(C.darkColorScheme=S)}),C}):h($=>{const C={...$},k=S.light===null?r:S.light,E=S.dark===null?n:S.dark;if(k)if(!l.includes(k))console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`);else{C.lightColorScheme=k;try{localStorage.setItem(`${o}-light`,k)}catch{}}if(E)if(!l.includes(E))console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`);else{C.darkColorScheme=E;try{localStorage.setItem(`${o}-dark`,E)}catch{}}return C}):h($=>{try{localStorage.setItem(`${o}-light`,r),localStorage.setItem(`${o}-dark`,n)}catch{}return{...$,lightColorScheme:r,darkColorScheme:n}})},[l,o,r,n]),_=I.useCallback(S=>{d.mode==="system"&&h($=>{const C=S!=null&&S.matches?"dark":"light";return $.systemMode===C?$:{...$,systemMode:C}})},[d.mode]),x=I.useRef(_);return x.current=_,I.useEffect(()=>{if(typeof window.matchMedia!="function"||!u)return;const S=(...C)=>x.current(...C),$=window.matchMedia("(prefers-color-scheme: dark)");return $.addListener(S),S($),()=>{$.removeListener(S)}},[u]),I.useEffect(()=>{if(a&&u){const S=$=>{const C=$.newValue;typeof $.key=="string"&&$.key.startsWith(o)&&(!C||l.match(C))&&($.key.endsWith("light")&&b({light:C}),$.key.endsWith("dark")&&b({dark:C})),$.key===s&&(!C||["light","dark","system"].includes(C))&&v(C||t)};return a.addEventListener("storage",S),()=>{a.removeEventListener("storage",S)}}},[b,v,s,o,l,t,a,u]),{...d,mode:y.current||!u?d.mode:void 0,systemMode:y.current||!u?d.systemMode:void 0,colorScheme:y.current||!u?g:void 0,setMode:v,setColorScheme:b}}const zbe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Vbe(e){const{themeId:t,theme:r={},modeStorageKey:n=WN,colorSchemeStorageKey:i=qN,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=I.createContext(void 0),d=()=>I.useContext(u)||l;function h(v){var Lt,Zt,Ae,Or,Yt;const{children:b,theme:_,modeStorageKey:x=n,colorSchemeStorageKey:S=i,disableTransitionOnChange:$=s,storageWindow:C=typeof window>"u"?void 0:window,documentNode:k=typeof document>"u"?void 0:document,colorSchemeNode:E=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:T=!1}=v,M=I.useRef(!1),O=GN(),j=I.useContext(u),N=!!j&&!P,L=I.useMemo(()=>_||(typeof r=="function"?r():r),[_]),z=L[t],{colorSchemes:B={},components:U={},cssVarPrefix:F,...D}=z||L,K=Object.keys(B).filter(st=>!!B[st]).join(","),le=I.useMemo(()=>K.split(","),[K]),he=typeof o=="string"?o:o.light,Ue=typeof o=="string"?o:o.dark,fe=B[he]&&B[Ue]?"system":((Zt=(Lt=B[D.defaultColorScheme])==null?void 0:Lt.palette)==null?void 0:Zt.mode)||((Ae=D.palette)==null?void 0:Ae.mode),{mode:Ge,setMode:se,systemMode:we,lightColorScheme:de,darkColorScheme:Y,colorScheme:ce,setColorScheme:oe}=Dbe({supportedColorSchemes:le,defaultLightColorScheme:he,defaultDarkColorScheme:Ue,modeStorageKey:x,colorSchemeStorageKey:S,defaultMode:fe,storageWindow:C});let X=Ge,$e=ce;N&&(X=j.mode,$e=j.colorScheme);const Pe=$e||D.defaultColorScheme,dt=((Or=D.generateThemeVars)==null?void 0:Or.call(D))||D.vars,We={...D,components:U,colorSchemes:B,cssVarPrefix:F,vars:dt};if(typeof We.generateSpacing=="function"&&(We.spacing=We.generateSpacing()),Pe){const st=B[Pe];st&&typeof st=="object"&&Object.keys(st).forEach(Le=>{st[Le]&&typeof st[Le]=="object"?We[Le]={...We[Le],...st[Le]}:We[Le]=st[Le]})}const Ye=D.colorSchemeSelector;I.useEffect(()=>{if($e&&E&&Ye&&Ye!=="media"){const st=Ye;let Le=Ye;if(st==="class"&&(Le=".%s"),st==="data"&&(Le="[data-%s]"),st!=null&&st.startsWith("data-")&&!st.includes("%s")&&(Le=`[${st}="%s"]`),Le.startsWith("."))E.classList.remove(...le.map(Wt=>Le.substring(1).replace("%s",Wt))),E.classList.add(Le.substring(1).replace("%s",$e));else{const Wt=Le.replace("%s",$e).match(/\[([^\]]+)\]/);if(Wt){const[ur,Dt]=Wt[1].split("=");Dt||le.forEach(Ot=>{E.removeAttribute(ur.replace($e,Ot))}),E.setAttribute(ur,Dt?Dt.replace(/"|'/g,""):"")}else E.setAttribute(Le,$e)}}},[$e,Ye,E,le]),I.useEffect(()=>{let st;if($&&M.current&&k){const Le=k.createElement("style");Le.appendChild(k.createTextNode(zbe)),k.head.appendChild(Le),window.getComputedStyle(k.body),st=setTimeout(()=>{k.head.removeChild(Le)},1)}return()=>{clearTimeout(st)}},[$e,$,k]),I.useEffect(()=>(M.current=!0,()=>{M.current=!1}),[]);const ot=I.useMemo(()=>({allColorSchemes:le,colorScheme:$e,darkColorScheme:Y,lightColorScheme:de,mode:X,setColorScheme:oe,setMode:se,systemMode:we}),[le,$e,Y,de,X,oe,se,we]);let Ht=!0;(T||D.cssVariables===!1||N&&(O==null?void 0:O.cssVarPrefix)===F)&&(Ht=!1);const Tt=w.jsxs(I.Fragment,{children:[Ht&&w.jsx(I.Fragment,{children:(((Yt=We.generateStyleSheets)==null?void 0:Yt.call(We))||[]).map((st,Le)=>w.jsx(ree,{styles:st},Le))}),w.jsx(Tee,{themeId:z?t:void 0,theme:a?a(We):We,children:b})]});return N?Tt:w.jsx(u.Provider,{value:ot,children:Tt})}const f=typeof o=="string"?o:o.light,y=typeof o=="string"?o:o.dark;return{CssVarsProvider:h,useColorScheme:d,getInitColorSchemeScript:v=>Nbe({colorSchemeStorageKey:i,defaultLightColorScheme:f,defaultDarkColorScheme:y,modeStorageKey:n,...v})}}function Bbe(e=""){function t(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${e?`${e}-`:""}${n}${t(...i)})`}const UV=(e,t,r,n=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=r:i&&typeof i=="object"&&(i[s]=r):i&&typeof i=="object"&&(i[s]||(i[s]=n.includes(s)?[]:{}),i=i[s])})},Ube=(e,t,r)=>{function n(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!r||r&&!r([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...s,a],Array.isArray(l)?[...o,a]:o):t([...s,a],l,o))})}n(e)},Gbe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:`${t}px`:t;function P5(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},i={},s={},o={};return Ube(e,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(a,l))){const d=`--${r?`${r}-`:""}${a.join("-")}`,h=Gbe(a,l);Object.assign(i,{[d]:h}),UV(s,a,`var(${d})`,u),UV(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Wbe(e,t={}){const{getSelector:r=b,disableCssColorScheme:n,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=e,{vars:u,css:d,varsWithDefaults:h}=P5(l,t);let f=h;const y={},{[a]:g,...v}=s;if(Object.entries(v||{}).forEach(([S,$])=>{const{vars:C,css:k,varsWithDefaults:E}=P5($,t);f=Ps(f,E),y[S]={css:k,vars:C}}),g){const{css:S,vars:$,varsWithDefaults:C}=P5(g,t);f=Ps(f,C),y[a]={css:S,vars:$}}function b(S,$){var k,E;let C=i;if(i==="class"&&(C=".%s"),i==="data"&&(C="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(C=`[${i}="%s"]`),S){if(C==="media")return e.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((E=(k=s[S])==null?void 0:k.palette)==null?void 0:E.mode)||S})`]:{":root":$}};if(C)return e.defaultColorScheme===S?`:root, ${C.replace("%s",String(S))}`:C.replace("%s",String(S))}return":root"}return{vars:f,generateThemeVars:()=>{let S={...u};return Object.entries(y).forEach(([,{vars:$}])=>{S=Ps(S,$)}),S},generateStyleSheets:()=>{var P,T;const S=[],$=e.defaultColorScheme||"light";function C(M,O){Object.keys(O).length&&S.push(typeof M=="string"?{[M]:{...O}}:M)}C(r(void 0,{...d}),d);const{[$]:k,...E}=y;if(k){const{css:M}=k,O=(T=(P=s[$])==null?void 0:P.palette)==null?void 0:T.mode,j=!n&&O?{colorScheme:O,...M}:{...M};C(r($,{...j}),j)}return Object.entries(E).forEach(([M,{css:O}])=>{var L,z;const j=(z=(L=s[M])==null?void 0:L.palette)==null?void 0:z.mode,N=!n&&j?{colorScheme:j,...O}:{...O};C(r(M,{...N}),N)}),S}}}function qbe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}const Hbe=hE(),Zbe=pbe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Ybe(e){return hee({props:e,name:"MuiStack",defaultTheme:Hbe})}function Jbe(e,t){const r=I.Children.toArray(e).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(I.cloneElement(t,{key:`separator-${s}`})),n),[])}const Kbe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Xbe=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...uo({theme:t},mm({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=aE(t),i=Object.keys(t.breakpoints.values).reduce((l,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(l[u]=!0),l),{}),s=mm({values:e.direction,base:i}),o=mm({values:e.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,d)=>{if(!s[l]){const f=u>0?s[d[u-1]]:"column";s[l]=f}}),r=Ps(r,uo({theme:t},o,(l,u)=>e.useFlexGap?{gap:Am(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Kbe(u?s[u]:e.direction)}`]:Am(n,l)}}))}return r=c1e(t.breakpoints,r),r};function Qbe(e={}){const{createStyledComponent:t=Zbe,useThemeProps:r=Ybe,componentName:n="MuiStack"}=e,i=()=>vr({root:["root"]},l=>ar(n,l),{}),s=t(Xbe);return I.forwardRef(function(l,u){const d=r(l),h=mE(d),{component:f="div",direction:y="column",spacing:g=0,divider:v,children:b,className:_,useFlexGap:x=!1,...S}=h,$={direction:y,spacing:g,useFlexGap:x},C=i();return w.jsx(s,{as:f,ownerState:$,ref:u,className:qe(C.root,_),...S,children:v?Jbe(b,v):b})})}const g_={black:"#000",white:"#fff"},ewe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_y={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xy={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},d1={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Sy={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ty={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},GV={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:g_.white,default:g_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},A5={text:{primary:g_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:g_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function WV(e,t,r,n){const i=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Sx(e.main,i):t==="dark"&&(e.dark=xx(e.main,s)))}function twe(e="light"){return e==="dark"?{main:Sy[200],light:Sy[50],dark:Sy[400]}:{main:Sy[700],light:Sy[400],dark:Sy[800]}}function rwe(e="light"){return e==="dark"?{main:_y[200],light:_y[50],dark:_y[400]}:{main:_y[500],light:_y[300],dark:_y[700]}}function nwe(e="light"){return e==="dark"?{main:xy[500],light:xy[300],dark:xy[700]}:{main:xy[700],light:xy[400],dark:xy[800]}}function iwe(e="light"){return e==="dark"?{main:$y[400],light:$y[300],dark:$y[700]}:{main:$y[700],light:$y[500],dark:$y[900]}}function swe(e="light"){return e==="dark"?{main:Ty[400],light:Ty[300],dark:Ty[700]}:{main:Ty[800],light:Ty[500],dark:Ty[900]}}function owe(e="light"){return e==="dark"?{main:d1[400],light:d1[300],dark:d1[700]}:{main:"#ed6c02",light:d1[500],dark:d1[900]}}function HN(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=e,s=e.primary||twe(t),o=e.secondary||rwe(t),a=e.error||nwe(t),l=e.info||iwe(t),u=e.success||swe(t),d=e.warning||owe(t);function h(v){return gbe(v,A5.text.primary)>=r?A5.text.primary:GV.text.primary}const f=({color:v,name:b,mainShade:_=500,lightShade:x=300,darkShade:S=700})=>{if(v={...v},!v.main&&v[_]&&(v.main=v[_]),!v.hasOwnProperty("main"))throw new Error(Pm(11,b?` (${b})`:"",_));if(typeof v.main!="string")throw new Error(Pm(12,b?` (${b})`:"",JSON.stringify(v.main)));return WV(v,"light",x,n),WV(v,"dark",S,n),v.contrastText||(v.contrastText=h(v.main)),v},y={dark:A5,light:GV};return Ps({common:{...g_},mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:ewe,contrastThreshold:r,getContrastText:h,augmentColor:f,tonalOffset:n,...y[t]},i)}function awe(e){const t={};return Object.entries(e).forEach(n=>{const[i,s]=n;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function lwe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function uwe(e){return Math.round(e*1e5)/1e5}const qV={textTransform:"uppercase"},HV='"Roboto", "Helvetica", "Arial", sans-serif';function Cee(e,t){const{fontFamily:r=HV,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof t=="function"?t(e):t,f=n/14,y=d||(b=>`${b/l*f}rem`),g=(b,_,x,S,$)=>({fontFamily:r,fontWeight:b,fontSize:y(_),lineHeight:x,...r===HV?{letterSpacing:`${uwe(S/_)}em`}:{},...$,...u}),v={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(o,14,1.75,.4,qV),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,qV),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ps({htmlFontSize:l,pxToRem:y,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...v},h,{clone:!1})}const cwe=.2,dwe=.14,pwe=.12;function dn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${cwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${dwe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${pwe})`].join(",")}const hwe=["none",dn(0,2,1,-1,0,1,1,0,0,1,3,0),dn(0,3,1,-2,0,2,2,0,0,1,5,0),dn(0,3,3,-2,0,3,4,0,0,1,8,0),dn(0,2,4,-1,0,4,5,0,0,1,10,0),dn(0,3,5,-1,0,5,8,0,0,1,14,0),dn(0,3,5,-1,0,6,10,0,0,1,18,0),dn(0,4,5,-2,0,7,10,1,0,2,16,1),dn(0,5,5,-3,0,8,10,1,0,3,14,2),dn(0,5,6,-3,0,9,12,1,0,3,16,2),dn(0,6,6,-3,0,10,14,1,0,4,18,3),dn(0,6,7,-4,0,11,15,1,0,4,20,3),dn(0,7,8,-4,0,12,17,2,0,5,22,4),dn(0,7,8,-4,0,13,19,2,0,5,24,4),dn(0,7,9,-4,0,14,21,2,0,5,26,4),dn(0,8,9,-5,0,15,22,2,0,6,28,5),dn(0,8,10,-5,0,16,24,2,0,6,30,5),dn(0,8,11,-5,0,17,26,2,0,6,32,5),dn(0,9,11,-5,0,18,28,2,0,7,34,6),dn(0,9,12,-6,0,19,29,2,0,7,36,6),dn(0,10,13,-6,0,20,31,3,0,8,38,7),dn(0,10,13,-6,0,21,33,3,0,8,40,7),dn(0,10,14,-6,0,22,35,3,0,8,42,7),dn(0,11,14,-7,0,23,36,3,0,9,44,8),dn(0,11,15,-7,0,24,38,3,0,9,46,8)],fwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Eee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZV(e){return`${Math.round(e)}ms`}function mwe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function ywe(e){const t={...fwe,...e.easing},r={...Eee,...e.duration};return{getAutoHeightDuration:mwe,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=t.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:ZV(o)} ${a} ${typeof l=="string"?l:ZV(l)}`).join(",")},...e,easing:t,duration:r}}const gwe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Q4(e={},...t){const{breakpoints:r,mixins:n={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=e;if(e.vars)throw new Error(Pm(20));const d=HN(s),h=hE(e);let f=Ps(h,{mixins:lwe(h.breakpoints,n),palette:d,shadows:hwe.slice(),typography:Cee(d,a),transitions:ywe(o),zIndex:{...gwe}});return f=Ps(f,u),f=t.reduce((y,g)=>Ps(y,g),f),f.unstable_sxConfig={..._x,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(g){return ny({sx:g,theme:this})},f}function eA(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const vwe=[...Array(25)].map((e,t)=>{if(t===0)return;const r=eA(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function kee(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Iee(e){return e==="dark"?vwe:[]}function bwe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...i}=e,s=HN(t);return{palette:s,opacity:{...kee(s.mode),...r},overlays:n||Iee(s.mode),...i}}function wwe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const _we=e=>[...[...Array(24)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r+1}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],xwe=e=>(t,r)=>{const n=e.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return _we(e.cssVarPrefix).forEach(o=>{s[o]=r[o],delete r[o]}),i==="media"?{":root":r,"@media (prefers-color-scheme: dark)":{":root":s}}:i?{[i.replace("%s",t)]:s,[`:root, ${i.replace("%s",t)}`]:r}:{":root":{...r,...s}}}if(i&&i!=="media")return`:root, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":r}};if(i)return i.replace("%s",String(t))}return":root"};function Swe(e){return $u(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function $we(e={}){const t={...e};function r(n){const i=Object.entries(n);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Swe(a)||o.startsWith("unstable_")?delete n[o]:$u(a)&&(n[o]={...a},r(n[o]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Twe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function ne(e,t,r){!e[t]&&r&&(e[t]=r)}function nb(e){return!e||!e.startsWith("hsl")?e:fee(e)}function ec(e,t){`${t}Channel`in e||(e[`${t}Channel`]=rb(nb(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Mwe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Bl=e=>{try{return e()}catch{}},Cwe=(e="mui")=>Bbe(e);function R5(e,t,r,n){if(!t)return;t=t===!0?{}:t;const i=n==="dark"?"dark":"light";if(!r){e[n]=bwe({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=Q4({...r,palette:{mode:i,...t==null?void 0:t.palette}});return e[n]={...t,palette:s,opacity:{...kee(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Iee(i)},o}function Ewe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=wwe,colorSchemeSelector:a=r.light&&r.dark?"media":void 0,...l}=e,u=Object.keys(r)[0],d=n||(r.light&&u!=="light"?"light":u),h=Cwe(s),{[d]:f,light:y,dark:g,...v}=r,b={...v};let _=f;if((d==="dark"&&!("dark"in r)||d==="light"&&!("light"in r))&&(_=!0),!_)throw new Error(Pm(21,d));const x=R5(b,_,l,d);y&&!b.light&&R5(b,y,void 0,"light"),g&&!b.dark&&R5(b,g,void 0,"dark");let S={defaultColorScheme:d,...x,cssVarPrefix:s,colorSchemeSelector:a,getCssVar:h,colorSchemes:b,font:{...awe(x.typography),...x.font},spacing:Mwe(l.spacing)};Object.keys(S.colorSchemes).forEach(P=>{const T=S.colorSchemes[P].palette,M=O=>{const j=O.split("-"),N=j[1],L=j[2];return h(O,T[N][L])};if(T.mode==="light"&&(ne(T.common,"background","#fff"),ne(T.common,"onBackground","#000")),T.mode==="dark"&&(ne(T.common,"background","#000"),ne(T.common,"onBackground","#fff")),Twe(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ne(T.Alert,"errorColor",Dr(T.error.light,.6)),ne(T.Alert,"infoColor",Dr(T.info.light,.6)),ne(T.Alert,"successColor",Dr(T.success.light,.6)),ne(T.Alert,"warningColor",Dr(T.warning.light,.6)),ne(T.Alert,"errorFilledBg",M("palette-error-main")),ne(T.Alert,"infoFilledBg",M("palette-info-main")),ne(T.Alert,"successFilledBg",M("palette-success-main")),ne(T.Alert,"warningFilledBg",M("palette-warning-main")),ne(T.Alert,"errorFilledColor",Bl(()=>T.getContrastText(T.error.main))),ne(T.Alert,"infoFilledColor",Bl(()=>T.getContrastText(T.info.main))),ne(T.Alert,"successFilledColor",Bl(()=>T.getContrastText(T.success.main))),ne(T.Alert,"warningFilledColor",Bl(()=>T.getContrastText(T.warning.main))),ne(T.Alert,"errorStandardBg",zr(T.error.light,.9)),ne(T.Alert,"infoStandardBg",zr(T.info.light,.9)),ne(T.Alert,"successStandardBg",zr(T.success.light,.9)),ne(T.Alert,"warningStandardBg",zr(T.warning.light,.9)),ne(T.Alert,"errorIconColor",M("palette-error-main")),ne(T.Alert,"infoIconColor",M("palette-info-main")),ne(T.Alert,"successIconColor",M("palette-success-main")),ne(T.Alert,"warningIconColor",M("palette-warning-main")),ne(T.AppBar,"defaultBg",M("palette-grey-100")),ne(T.Avatar,"defaultBg",M("palette-grey-400")),ne(T.Button,"inheritContainedBg",M("palette-grey-300")),ne(T.Button,"inheritContainedHoverBg",M("palette-grey-A100")),ne(T.Chip,"defaultBorder",M("palette-grey-400")),ne(T.Chip,"defaultAvatarColor",M("palette-grey-700")),ne(T.Chip,"defaultIconColor",M("palette-grey-700")),ne(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ne(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ne(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ne(T.LinearProgress,"primaryBg",zr(T.primary.main,.62)),ne(T.LinearProgress,"secondaryBg",zr(T.secondary.main,.62)),ne(T.LinearProgress,"errorBg",zr(T.error.main,.62)),ne(T.LinearProgress,"infoBg",zr(T.info.main,.62)),ne(T.LinearProgress,"successBg",zr(T.success.main,.62)),ne(T.LinearProgress,"warningBg",zr(T.warning.main,.62)),ne(T.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),ne(T.Slider,"primaryTrack",zr(T.primary.main,.62)),ne(T.Slider,"secondaryTrack",zr(T.secondary.main,.62)),ne(T.Slider,"errorTrack",zr(T.error.main,.62)),ne(T.Slider,"infoTrack",zr(T.info.main,.62)),ne(T.Slider,"successTrack",zr(T.success.main,.62)),ne(T.Slider,"warningTrack",zr(T.warning.main,.62));const O=US(T.background.default,.8);ne(T.SnackbarContent,"bg",O),ne(T.SnackbarContent,"color",Bl(()=>T.getContrastText(O))),ne(T.SpeedDialAction,"fabHoverBg",US(T.background.paper,.15)),ne(T.StepConnector,"border",M("palette-grey-400")),ne(T.StepContent,"border",M("palette-grey-400")),ne(T.Switch,"defaultColor",M("palette-common-white")),ne(T.Switch,"defaultDisabledColor",M("palette-grey-100")),ne(T.Switch,"primaryDisabledColor",zr(T.primary.main,.62)),ne(T.Switch,"secondaryDisabledColor",zr(T.secondary.main,.62)),ne(T.Switch,"errorDisabledColor",zr(T.error.main,.62)),ne(T.Switch,"infoDisabledColor",zr(T.info.main,.62)),ne(T.Switch,"successDisabledColor",zr(T.success.main,.62)),ne(T.Switch,"warningDisabledColor",zr(T.warning.main,.62)),ne(T.TableCell,"border",zr(BS(T.divider,1),.88)),ne(T.Tooltip,"bg",BS(T.grey[700],.92))}if(T.mode==="dark"){ne(T.Alert,"errorColor",zr(T.error.light,.6)),ne(T.Alert,"infoColor",zr(T.info.light,.6)),ne(T.Alert,"successColor",zr(T.success.light,.6)),ne(T.Alert,"warningColor",zr(T.warning.light,.6)),ne(T.Alert,"errorFilledBg",M("palette-error-dark")),ne(T.Alert,"infoFilledBg",M("palette-info-dark")),ne(T.Alert,"successFilledBg",M("palette-success-dark")),ne(T.Alert,"warningFilledBg",M("palette-warning-dark")),ne(T.Alert,"errorFilledColor",Bl(()=>T.getContrastText(T.error.dark))),ne(T.Alert,"infoFilledColor",Bl(()=>T.getContrastText(T.info.dark))),ne(T.Alert,"successFilledColor",Bl(()=>T.getContrastText(T.success.dark))),ne(T.Alert,"warningFilledColor",Bl(()=>T.getContrastText(T.warning.dark))),ne(T.Alert,"errorStandardBg",Dr(T.error.light,.9)),ne(T.Alert,"infoStandardBg",Dr(T.info.light,.9)),ne(T.Alert,"successStandardBg",Dr(T.success.light,.9)),ne(T.Alert,"warningStandardBg",Dr(T.warning.light,.9)),ne(T.Alert,"errorIconColor",M("palette-error-main")),ne(T.Alert,"infoIconColor",M("palette-info-main")),ne(T.Alert,"successIconColor",M("palette-success-main")),ne(T.Alert,"warningIconColor",M("palette-warning-main")),ne(T.AppBar,"defaultBg",M("palette-grey-900")),ne(T.AppBar,"darkBg",M("palette-background-paper")),ne(T.AppBar,"darkColor",M("palette-text-primary")),ne(T.Avatar,"defaultBg",M("palette-grey-600")),ne(T.Button,"inheritContainedBg",M("palette-grey-800")),ne(T.Button,"inheritContainedHoverBg",M("palette-grey-700")),ne(T.Chip,"defaultBorder",M("palette-grey-700")),ne(T.Chip,"defaultAvatarColor",M("palette-grey-300")),ne(T.Chip,"defaultIconColor",M("palette-grey-300")),ne(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ne(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ne(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ne(T.LinearProgress,"primaryBg",Dr(T.primary.main,.5)),ne(T.LinearProgress,"secondaryBg",Dr(T.secondary.main,.5)),ne(T.LinearProgress,"errorBg",Dr(T.error.main,.5)),ne(T.LinearProgress,"infoBg",Dr(T.info.main,.5)),ne(T.LinearProgress,"successBg",Dr(T.success.main,.5)),ne(T.LinearProgress,"warningBg",Dr(T.warning.main,.5)),ne(T.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),ne(T.Slider,"primaryTrack",Dr(T.primary.main,.5)),ne(T.Slider,"secondaryTrack",Dr(T.secondary.main,.5)),ne(T.Slider,"errorTrack",Dr(T.error.main,.5)),ne(T.Slider,"infoTrack",Dr(T.info.main,.5)),ne(T.Slider,"successTrack",Dr(T.success.main,.5)),ne(T.Slider,"warningTrack",Dr(T.warning.main,.5));const O=US(T.background.default,.98);ne(T.SnackbarContent,"bg",O),ne(T.SnackbarContent,"color",Bl(()=>T.getContrastText(O))),ne(T.SpeedDialAction,"fabHoverBg",US(T.background.paper,.15)),ne(T.StepConnector,"border",M("palette-grey-600")),ne(T.StepContent,"border",M("palette-grey-600")),ne(T.Switch,"defaultColor",M("palette-grey-300")),ne(T.Switch,"defaultDisabledColor",M("palette-grey-600")),ne(T.Switch,"primaryDisabledColor",Dr(T.primary.main,.55)),ne(T.Switch,"secondaryDisabledColor",Dr(T.secondary.main,.55)),ne(T.Switch,"errorDisabledColor",Dr(T.error.main,.55)),ne(T.Switch,"infoDisabledColor",Dr(T.info.main,.55)),ne(T.Switch,"successDisabledColor",Dr(T.success.main,.55)),ne(T.Switch,"warningDisabledColor",Dr(T.warning.main,.55)),ne(T.TableCell,"border",Dr(BS(T.divider,1),.68)),ne(T.Tooltip,"bg",BS(T.grey[700],.92))}ec(T.background,"default"),ec(T.background,"paper"),ec(T.common,"background"),ec(T.common,"onBackground"),ec(T,"divider"),Object.keys(T).forEach(O=>{const j=T[O];j&&typeof j=="object"&&(j.main&&ne(T[O],"mainChannel",rb(nb(j.main))),j.light&&ne(T[O],"lightChannel",rb(nb(j.light))),j.dark&&ne(T[O],"darkChannel",rb(nb(j.dark))),j.contrastText&&ne(T[O],"contrastTextChannel",rb(nb(j.contrastText))),O==="text"&&(ec(T[O],"primary"),ec(T[O],"secondary")),O==="action"&&(j.active&&ec(T[O],"active"),j.selected&&ec(T[O],"selected")))})}),S=t.reduce((P,T)=>Ps(P,T),S);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:xwe(S)},{vars:C,generateThemeVars:k,generateStyleSheets:E}=Wbe(S,$);return S.vars=C,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([P,T])=>{S[P]=T}),S.generateThemeVars=k,S.generateStyleSheets=E,S.generateSpacing=function(){return lee(l.spacing,aE(this))},S.getColorSchemeSelector=qbe(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=o,S.unstable_sxConfig={..._x,...l==null?void 0:l.unstable_sxConfig},S.unstable_sx=function(T){return ny({sx:T,theme:this})},S.toRuntimeSource=$we,S}function YV(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:HN({...r===!0?{}:r.palette,mode:t})})}function IE(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:s=r==null?void 0:r.mode,...o}=e,a=s||"light",l=i==null?void 0:i[a],u={...i,...r?{[a]:{...typeof l!="boolean"&&l,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return Q4(e,...t);let d=r;"palette"in e||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=Q4({...e,palette:d},...t);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},YV(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},YV(h,"light",u.light)),h}return!r&&!("light"in u)&&a==="light"&&(u.light=!0),Ewe({...o,colorSchemes:u,defaultColorScheme:a,...typeof n!="boolean"&&n},...t)}const OE=IE();function Mh(){const e=fE(OE);return e[Pl]||e}function Oee({props:e,name:t}){return hee({props:e,name:t,defaultTheme:OE,themeId:Pl})}function Pee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const $x=e=>Pee(e)&&e!=="classes",Ne=pee({themeId:Pl,defaultTheme:OE,rootShouldForwardProp:$x});function JV({theme:e,...t}){const r=Pl in e?e[Pl]:void 0;return w.jsx(Tee,{...t,themeId:r?Pl:void 0,theme:r||e})}const GS={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:kwe,useColorScheme:bvt,getInitColorSchemeScript:wvt}=Vbe({themeId:Pl,theme:()=>IE({cssVariables:!0}),colorSchemeStorageKey:GS.colorSchemeStorageKey,modeStorageKey:GS.modeStorageKey,defaultColorScheme:{light:GS.defaultLightColorScheme,dark:GS.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Cee(e.palette,e.typography)};return t.unstable_sx=function(n){return ny({sx:n,theme:this})},t}}),Iwe=kwe;function Owe({theme:e,...t}){return typeof e=="function"?w.jsx(JV,{theme:e,...t}):"colorSchemes"in(Pl in e?e[Pl]:e)?w.jsx(Iwe,{theme:e,...t}):w.jsx(JV,{theme:e,...t})}function Pwe(e){return w.jsx(ebe,{...e,defaultTheme:OE,themeId:Pl})}function Aee(e){return function(r){return w.jsx(Pwe,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function Awe(){return mE}function xr(e){return Lbe(e)}const tA=typeof Aee({})=="function",Rwe=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Lwe=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Ree=(e,t=!1)=>{var s,o;const r={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var d,h;const u=e.getColorSchemeSelector(a);u.startsWith("@")?r[u]={":root":{colorScheme:(d=l.palette)==null?void 0:d.mode}}:r[u.replace(/\s*&/,"")]={colorScheme:(h=l.palette)==null?void 0:h.mode}});let n={html:Rwe(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Lwe(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r};const i=(o=(s=e.components)==null?void 0:s.MuiCssBaseline)==null?void 0:o.styleOverrides;return i&&(n=[n,i]),n},L$="mui-ecs",jwe=e=>{const t=Ree(e,!1),r=Array.isArray(t)?t[0]:t;return!e.vars&&r&&(r.html[`:root:has(${L$})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([n,i])=>{var o,a;const s=e.getColorSchemeSelector(n);s.startsWith("@")?r[s]={[`:root:not(:has(.${L$}))`]:{colorScheme:(o=i.palette)==null?void 0:o.mode}}:r[s.replace(/\s*&/,"")]={[`&:not(:has(.${L$}))`]:{colorScheme:(a=i.palette)==null?void 0:a.mode}}}),t},Nwe=Aee(tA?({theme:e,enableColorScheme:t})=>Ree(e,t):({theme:e})=>jwe(e));function Lee(e){const t=xr({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return w.jsxs(I.Fragment,{children:[tA&&w.jsx(Nwe,{enableColorScheme:n}),!tA&&!n&&w.jsx("span",{className:L$,style:{display:"none"}}),r]})}const Fwe=lr("MuiBox",["root"]),Dwe=IE(),Ln=nbe({themeId:Pl,defaultTheme:Dwe,defaultClassName:Fwe.root,generateClassName:FN.generate});function zwe(e){const t=Pu(e);return t.body===e?Th(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function vw(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function KV(e){return parseInt(Th(e).getComputedStyle(e).paddingRight,10)||0}function Vwe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function XV(e,t,r,n,i){const s=[t,r,...n];[].forEach.call(e.children,o=>{const a=s.indexOf(o)===-1,l=!Vwe(o);a&&l&&vw(o,i)})}function L5(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function Bwe(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(zwe(n)){const o=Mbe(Pu(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${KV(n)+o}px`;const a=Pu(n).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${KV(l)+o}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Pu(n).body;else{const o=n.parentElement,a=Th(n);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Uwe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class Gwe{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&vw(t.modalRef,!1);const i=Uwe(r);XV(r,t.mount,t.modalRef,i,!0);const s=L5(this.containers,o=>o.container===r);return s!==-1?(this.containers[s].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=L5(this.containers,s=>s.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=Bwe(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=L5(this.containers,o=>o.modals.indexOf(t)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&vw(t.modalRef,r),XV(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&vw(o.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Wwe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qwe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Hwe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function Zwe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Hwe(e))}function Ywe(e){const t=[],r=[];return Array.from(e.querySelectorAll(Wwe)).forEach((n,i)=>{const s=qwe(n);s===-1||!Zwe(n)||(s===0?t.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function Jwe(){return!0}function Kwe(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=Ywe,isEnabled:o=Jwe,open:a}=e,l=I.useRef(!1),u=I.useRef(null),d=I.useRef(null),h=I.useRef(null),f=I.useRef(null),y=I.useRef(!1),g=I.useRef(null),v=js(EE(t),g),b=I.useRef(null);I.useEffect(()=>{!a||!g.current||(y.current=!r)},[r,a]),I.useEffect(()=>{if(!a||!g.current)return;const S=Pu(g.current);return g.current.contains(S.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),y.current&&g.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),I.useEffect(()=>{if(!a||!g.current)return;const S=Pu(g.current),$=E=>{b.current=E,!(n||!o()||E.key!=="Tab")&&S.activeElement===g.current&&E.shiftKey&&(l.current=!0,d.current&&d.current.focus())},C=()=>{var T,M;const E=g.current;if(E===null)return;if(!S.hasFocus()||!o()||l.current){l.current=!1;return}if(E.contains(S.activeElement)||n&&S.activeElement!==u.current&&S.activeElement!==d.current)return;if(S.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!y.current)return;let P=[];if((S.activeElement===u.current||S.activeElement===d.current)&&(P=s(g.current)),P.length>0){const O=!!((T=b.current)!=null&&T.shiftKey&&((M=b.current)==null?void 0:M.key)==="Tab"),j=P[0],N=P[P.length-1];typeof j!="string"&&typeof N!="string"&&(O?N.focus():j.focus())}else E.focus()};S.addEventListener("focusin",C),S.addEventListener("keydown",$,!0);const k=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&C()},50);return()=>{clearInterval(k),S.removeEventListener("focusin",C),S.removeEventListener("keydown",$,!0)}},[r,n,i,o,a,s]);const _=S=>{h.current===null&&(h.current=S.relatedTarget),y.current=!0,f.current=S.target;const $=t.props.onFocus;$&&$(S)},x=S=>{h.current===null&&(h.current=S.relatedTarget),y.current=!0};return w.jsxs(I.Fragment,{children:[w.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(t,{ref:v,onFocus:_}),w.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:d,"data-testid":"sentinelEnd"})]})}function Xwe(e){return typeof e=="function"?e():e}const Qwe=I.forwardRef(function(t,r){const{children:n,container:i,disablePortal:s=!1}=t,[o,a]=I.useState(null),l=js(EE(n),r);if(U0(()=>{s||a(Xwe(i)||document.body)},[i,s]),U0(()=>{if(o&&!s)return RM(r,o),()=>{RM(r,null)}},[r,o,s]),s){if(I.isValidElement(n)){const u={ref:l};return I.cloneElement(n,u)}return w.jsx(I.Fragment,{children:n})}return w.jsx(I.Fragment,{children:o&&GC.createPortal(n,o)})}),QV={theme:void 0};function Ut(e){let t,r;return n=>{let i=t;return(i===void 0||n.theme!==r)&&(QV.theme=n.theme,i=e(QV),t=i,r=n.theme),i}}function G0(e,t){const{className:r,elementType:n,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a,...l}=t,{component:u,slots:d={[e]:void 0},slotProps:h={[e]:void 0},...f}=s,y=d[e]||n,g=_ee(h[e],i),{props:{component:v,...b},internalRef:_}=wee({className:r,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:g}),x=js(_,g==null?void 0:g.ref,t.ref),S=o?o(b):{},$={...i,...S},C=e==="root"?v||u:v,k=vee(y,{...e==="root"&&!u&&!d[e]&&a,...e!=="root"&&!d[e]&&a,...b,...C&&{as:C},ref:x},$);return Object.keys(S).forEach(E=>{delete k[E]}),[y,k]}function jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function rA(e,t){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rA(e,t)}function Nee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rA(e,t)}const eB={disabled:!1},jM=to.createContext(null);var e_e=function(t){return t.scrollTop},ib="unmounted",tf="exited",rf="entering",Hy="entered",nA="exiting",Dl=function(e){Nee(t,e);function t(n,i){var s;s=e.call(this,n,i)||this;var o=i,a=o&&!o.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?a?(l=tf,s.appearStatus=rf):l=Hy:n.unmountOnExit||n.mountOnEnter?l=ib:l=tf,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ib?{status:tf}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==rf&&o!==Hy&&(s=rf):(o===rf||o===Hy)&&(s=nA)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===rf){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:FS.findDOMNode(this);o&&e_e(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tf&&this.setState({status:ib})},r.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[FS.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||eB.disabled){this.safeSetState({status:Hy},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:rf},function(){s.props.onEntering(u,d),s.onTransitionEnd(f,function(){s.safeSetState({status:Hy},function(){s.props.onEntered(u,d)})})})},r.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:FS.findDOMNode(this);if(!s||eB.disabled){this.safeSetState({status:tf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nA},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:tf},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:FS.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===ib)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=jee(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return to.createElement(jM.Provider,{value:null},typeof o=="function"?o(i,a):to.cloneElement(to.Children.only(o),a))},t}(to.Component);Dl.contextType=jM;Dl.propTypes={};function My(){}Dl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:My,onEntering:My,onEntered:My,onExit:My,onExiting:My,onExited:My};Dl.UNMOUNTED=ib;Dl.EXITED=tf;Dl.ENTERING=rf;Dl.ENTERED=Hy;Dl.EXITING=nA;function t_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(e,t){var r=function(s){return t&&I.isValidElement(s)?t(s):s},n=Object.create(null);return e&&I.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function r_e(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),i=[];for(var s in e)s in t?i.length&&(n[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(n[l])for(o=0;o<n[l].length;o++){var u=n[l][o];a[n[l][o]]=r(u)}a[l]=r(l)}for(o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}function tm(e,t,r){return r[t]!=null?r[t]:e.props[t]}function n_e(e,t){return ZN(e.children,function(r){return I.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:tm(r,"appear",e),enter:tm(r,"enter",e),exit:tm(r,"exit",e)})})}function i_e(e,t,r){var n=ZN(e.children),i=r_e(t,n);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in t,l=s in n,u=t[s],d=I.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[s]=I.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:tm(o,"exit",e),enter:tm(o,"enter",e)}):!l&&a&&!d?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:r.bind(null,o),in:u.props.in,exit:tm(o,"exit",e),enter:tm(o,"enter",e)}))}}),i}var s_e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},o_e={component:"div",childFactory:function(t){return t}},YN=function(e){Nee(t,e);function t(n,i){var s;s=e.call(this,n,i)||this;var o=s.handleExited.bind(t_e(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?n_e(i,a):i_e(i,o,a),firstRender:!1}},r.handleExited=function(i,s){var o=ZN(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=OM({},a.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=jee(i,["component","childFactory"]),l=this.state.contextValue,u=s_e(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?to.createElement(jM.Provider,{value:l},u):to.createElement(jM.Provider,{value:l},to.createElement(s,a,u))},t}(to.Component);YN.propTypes={};YN.defaultProps=o_e;const Fee=e=>e.scrollTop;function W0(e,t){const{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:i.transitionDelay}}const a_e={entering:{opacity:1},entered:{opacity:1}},l_e=I.forwardRef(function(t,r){const n=Mh(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:d,onEntered:h,onEntering:f,onExit:y,onExited:g,onExiting:v,style:b,timeout:_=i,TransitionComponent:x=Dl,...S}=t,$=I.useRef(null),C=js($,EE(a),r),k=L=>z=>{if(L){const B=$.current;z===void 0?L(B):L(B,z)}},E=k(f),P=k((L,z)=>{Fee(L);const B=W0({style:b,timeout:_,easing:l},{mode:"enter"});L.style.webkitTransition=n.transitions.create("opacity",B),L.style.transition=n.transitions.create("opacity",B),d&&d(L,z)}),T=k(h),M=k(v),O=k(L=>{const z=W0({style:b,timeout:_,easing:l},{mode:"exit"});L.style.webkitTransition=n.transitions.create("opacity",z),L.style.transition=n.transitions.create("opacity",z),y&&y(L)}),j=k(g),N=L=>{s&&s($.current,L)};return w.jsx(x,{appear:o,in:u,nodeRef:$,onEnter:P,onEntered:T,onEntering:E,onExit:O,onExited:j,onExiting:M,addEndListener:N,timeout:_,...S,children:(L,z)=>I.cloneElement(a,{style:{opacity:0,visibility:L==="exited"&&!u?"hidden":void 0,...a_e[L],...b,...a.props.style},ref:C,...z})})});function u_e(e){return ar("MuiBackdrop",e)}lr("MuiBackdrop",["root","invisible"]);const c_e=e=>{const{classes:t,invisible:r}=e;return vr({root:["root",r&&"invisible"]},u_e,t)},d_e=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),p_e=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:y,transitionDuration:g,...v}=n,b={...n,component:o,invisible:a},_=c_e(b),x={transition:y,root:u.Root,...f},S={...d,...h},$={slots:x,slotProps:S},[C,k]=G0("root",{elementType:d_e,externalForwardedProps:$,className:qe(_.root,s),ownerState:b}),[E,P]=G0("transition",{elementType:l_e,externalForwardedProps:$,ownerState:b});return delete P.ownerState,w.jsx(E,{in:l,timeout:g,...v,...P,children:w.jsx(C,{"aria-hidden":!0,...k,classes:_,ref:r,children:i})})});function h_e(e){return typeof e=="function"?e():e}function f_e(e){return e?e.props.hasOwnProperty("in"):!1}const m_e=new Gwe;function y_e(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=m_e,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:d,rootRef:h}=e,f=I.useRef({}),y=I.useRef(null),g=I.useRef(null),v=js(g,h),[b,_]=I.useState(!d),x=f_e(l);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const $=()=>Pu(y.current),C=()=>(f.current.modalRef=g.current,f.current.mount=y.current,f.current),k=()=>{i.mount(C(),{disableScrollLock:n}),g.current&&(g.current.scrollTop=0)},E=Mu(()=>{const B=h_e(t)||$().body;i.add(C(),B),g.current&&k()}),P=I.useCallback(()=>i.isTopModal(C()),[i]),T=Mu(B=>{y.current=B,B&&(d&&P()?k():g.current&&vw(g.current,S))}),M=I.useCallback(()=>{i.remove(C(),S)},[S,i]);I.useEffect(()=>()=>{M()},[M]),I.useEffect(()=>{d?E():(!x||!s)&&M()},[d,M,x,s,E]);const O=B=>U=>{var F;(F=B.onKeyDown)==null||F.call(B,U),!(U.key!=="Escape"||U.which===229||!P())&&(r||(U.stopPropagation(),u&&u(U,"escapeKeyDown")))},j=B=>U=>{var F;(F=B.onClick)==null||F.call(B,U),U.target===U.currentTarget&&u&&u(U,"backdropClick")};return{getRootProps:(B={})=>{const U=bee(e);delete U.onTransitionEnter,delete U.onTransitionExited;const F={...U,...B};return{role:"presentation",...F,onKeyDown:O(F),ref:v}},getBackdropProps:(B={})=>{const U=B;return{"aria-hidden":!0,...U,onClick:j(U),open:d}},getTransitionProps:()=>{const B=()=>{_(!1),o&&o()},U=()=>{_(!0),a&&a(),s&&M()};return{onEnter:X4(B,l==null?void 0:l.props.onEnter),onExited:X4(U,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:T,isTopModal:P,exited:b,hasTransition:x}}function g_e(e){return ar("MuiModal",e)}lr("MuiModal",["root","hidden","backdrop"]);function v_e(e){return ar("MuiSvgIcon",e)}lr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const b_e=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${Ee(t)}`,`fontSize${Ee(r)}`]};return vr(i,v_e,n)},w_e=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Ee(r.color)}`],t[`fontSize${Ee(r.fontSize)}`]]}})(Ut(({theme:e})=>{var t,r,n,i,s,o,a,l,u,d,h,f,y,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,v])=>v&&v.main).map(([v])=>{var b,_;return{props:{color:v},style:{color:(_=(b=(e.vars??e).palette)==null?void 0:b[v])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(f=(h=(e.vars??e).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(g=(y=(e.vars??e).palette)==null?void 0:y.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),NM=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...y}=n,g=I.isValidElement(i)&&i.type==="svg",v={...n,color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:g},b={};d||(b.viewBox=f);const _=b_e(v);return w.jsxs(w_e,{as:a,className:qe(_.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:r,...b,...y,...g&&i.props,ownerState:v,children:[g?i.props.children:i,h?w.jsx("title",{children:h}):null]})});NM&&(NM.muiName="SvgIcon");function gv(e,t){function r(n,i){return w.jsx(NM,{"data-testid":`${t}Icon`,ref:i,...n,children:e})}return r.muiName=NM.muiName,I.memo(I.forwardRef(r))}const __e={configure:e=>{FN.configure(e)}},x_e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ee,createChainedFunction:X4,createSvgIcon:gv,debounce:CE,deprecatedPropType:bbe,isMuiElement:mee,ownerDocument:Pu,ownerWindow:Th,requirePropFactory:wbe,setRef:RM,unstable_ClassNameGenerator:__e,unstable_memoTheme:Ut,unstable_useEnhancedEffect:U0,unstable_useId:xbe,unsupportedProp:Sbe,useControlled:BN,useEventCallback:Mu,useForkRef:js},Symbol.toStringTag,{value:"Module"})),S_e=e=>{const{open:t,exited:r,classes:n}=e;return vr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},g_e,n)},$_e=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Ut(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),T_e=Ne(p_e,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),iA=I.forwardRef(function(t,r){const n=xr({name:"MuiModal",props:t}),{BackdropComponent:i=T_e,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:d,component:h,components:f={},componentsProps:y={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:b=!1,disablePortal:_=!1,disableRestoreFocus:x=!1,disableScrollLock:S=!1,hideBackdrop:$=!1,keepMounted:C=!1,onBackdropClick:k,onClose:E,onTransitionEnter:P,onTransitionExited:T,open:M,slotProps:O={},slots:j={},theme:N,...L}=n,z={...n,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:b,disablePortal:_,disableRestoreFocus:x,disableScrollLock:S,hideBackdrop:$,keepMounted:C},{getRootProps:B,getBackdropProps:U,getTransitionProps:F,portalRef:D,isTopModal:K,exited:le,hasTransition:he}=y_e({...z,rootRef:r}),Ue={...z,exited:le},fe=S_e(Ue),Ge={};if(u.props.tabIndex===void 0&&(Ge.tabIndex="-1"),he){const{onEnter:X,onExited:$e}=F();Ge.onEnter=X,Ge.onExited=$e}const se={slots:{root:f.Root,backdrop:f.Backdrop,...j},slotProps:{...y,...O}},[we,de]=G0("root",{elementType:$_e,externalForwardedProps:se,getSlotProps:B,additionalProps:{ref:r,as:h},ownerState:Ue,className:qe(a,fe==null?void 0:fe.root,!Ue.open&&Ue.exited&&(fe==null?void 0:fe.hidden))}),[Y,ce]=G0("backdrop",{elementType:i,externalForwardedProps:se,additionalProps:s,getSlotProps:X=>U({...X,onClick:$e=>{k&&k($e),X!=null&&X.onClick&&X.onClick($e)}}),className:qe(s==null?void 0:s.className,fe==null?void 0:fe.backdrop),ownerState:Ue}),oe=js(s==null?void 0:s.ref,ce.ref);return!C&&!M&&(!he||le)?null:w.jsx(Qwe,{ref:D,container:d,disablePortal:_,children:w.jsxs(we,{...de,...L,children:[!$&&i?w.jsx(Y,{...ce,ref:oe}):null,w.jsx(Kwe,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:x,isEnabled:K,open:M,children:I.cloneElement(u,Ge)})]})})});function M_e(e,t,r){const n=t.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=Th(t);let o;if(t.fakeTransform)o=t.fakeTransform;else{const u=s.getComputedStyle(t);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return e==="left"?i?`translateX(${i.right+a-n.left}px)`:`translateX(${s.innerWidth+a-n.left}px)`:e==="right"?i?`translateX(-${n.right-i.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:e==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function C_e(e){return typeof e=="function"?e():e}function WS(e,t,r){const n=C_e(r),i=M_e(e,t,n);i&&(t.style.webkitTransform=i,t.style.transform=i)}const E_e=I.forwardRef(function(t,r){const n=Mh(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:d="down",easing:h=i,in:f,onEnter:y,onEntered:g,onEntering:v,onExit:b,onExited:_,onExiting:x,style:S,timeout:$=s,TransitionComponent:C=Dl,...k}=t,E=I.useRef(null),P=js(EE(l),E,r),T=F=>D=>{F&&(D===void 0?F(E.current):F(E.current,D))},M=T((F,D)=>{WS(d,F,u),Fee(F),y&&y(F,D)}),O=T((F,D)=>{const K=W0({timeout:$,style:S,easing:h},{mode:"enter"});F.style.webkitTransition=n.transitions.create("-webkit-transform",{...K}),F.style.transition=n.transitions.create("transform",{...K}),F.style.webkitTransform="none",F.style.transform="none",v&&v(F,D)}),j=T(g),N=T(x),L=T(F=>{const D=W0({timeout:$,style:S,easing:h},{mode:"exit"});F.style.webkitTransition=n.transitions.create("-webkit-transform",D),F.style.transition=n.transitions.create("transform",D),WS(d,F,u),b&&b(F)}),z=T(F=>{F.style.webkitTransition="",F.style.transition="",_&&_(F)}),B=F=>{o&&o(E.current,F)},U=I.useCallback(()=>{E.current&&WS(d,E.current,u)},[d,u]);return I.useEffect(()=>{if(f||d==="down"||d==="right")return;const F=CE(()=>{E.current&&WS(d,E.current,u)}),D=Th(E.current);return D.addEventListener("resize",F),()=>{F.clear(),D.removeEventListener("resize",F)}},[d,f,u]),I.useEffect(()=>{f||U()},[f,U]),w.jsx(C,{nodeRef:E,onEnter:M,onEntered:j,onEntering:O,onExit:L,onExited:z,onExiting:N,addEndListener:B,appear:a,in:f,timeout:$,...k,children:(F,D)=>I.cloneElement(l,{ref:P,style:{visibility:F==="exited"&&!f?"hidden":void 0,...S,...l.props.style},...D})})});function k_e(e){return ar("MuiPaper",e)}lr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I_e=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,s={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return vr(s,k_e,i)},O_e=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Ut(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Bi=I.forwardRef(function(t,r){var y;const n=xr({props:t,name:"MuiPaper"}),i=Mh(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...d}=n,h={...n,component:o,elevation:a,square:l,variant:u},f=I_e(h);return w.jsx(O_e,{as:o,ownerState:h,className:qe(f.root,s),ref:r,...d,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(y=i.vars.overlays)==null?void 0:y[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ln("#fff",eA(a))}, ${ln("#fff",eA(a))})`}},...d.style}})});function P_e(e){return ar("MuiDrawer",e)}lr("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Dee=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},A_e=e=>{const{classes:t,anchor:r,variant:n}=e,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ee(r)}`,n!=="temporary"&&`paperAnchorDocked${Ee(r)}`]};return vr(i,P_e,t)},R_e=Ne(iA,{name:"MuiDrawer",slot:"Root",overridesResolver:Dee})(Ut(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),tB=Ne("div",{shouldForwardProp:$x,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Dee})({flex:"0 0 auto"}),L_e=Ne(Bi,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${Ee(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${Ee(r.anchor)}`]]}})(Ut(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),zee={left:"right",right:"left",top:"down",bottom:"up"};function j_e(e){return["left","right"].includes(e)}function N_e({direction:e},t){return e==="rtl"&&j_e(t)?zee[t]:t}const F_e=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiDrawer"}),i=Mh(),s=kE(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:d,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:y,...g}={},onClose:v,open:b=!1,PaperProps:_={},SlideProps:x,TransitionComponent:S=E_e,transitionDuration:$=o,variant:C="temporary",...k}=n,E=I.useRef(!1);I.useEffect(()=>{E.current=!0},[]);const P=N_e({direction:s?"rtl":"ltr"},a),M={...n,anchor:a,elevation:h,open:b,variant:C,...k},O=A_e(M),j=w.jsx(L_e,{elevation:C==="temporary"?h:0,square:!0,..._,className:qe(O.paper,_.className),ownerState:M,children:u});if(C==="permanent")return w.jsx(tB,{className:qe(O.root,O.docked,d),ownerState:M,ref:r,...k,children:j});const N=w.jsx(S,{in:b,direction:zee[P],timeout:$,appear:E.current,...x,children:j});return C==="persistent"?w.jsx(tB,{className:qe(O.root,O.docked,d),ownerState:M,ref:r,...k,children:N}):w.jsx(R_e,{BackdropProps:{...l,...y,transitionDuration:$},className:qe(O.root,O.modal,d),open:b,ownerState:M,onClose:v,hideBackdrop:f,ref:r,...k,...g,children:N})});function D_e(e){return ar("MuiAppBar",e)}lr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const z_e=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${Ee(t)}`,`position${Ee(r)}`]};return vr(i,D_e,n)},rB=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,V_e=Ne(Bi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${Ee(r.position)}`],t[`color${Ee(r.color)}`]]}})(Ut(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.contrastText).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?rB(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?rB(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),B_e=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed",...l}=n,u={...n,color:s,position:a,enableColorOnDark:o},d=z_e(u);return w.jsx(V_e,{square:!0,component:"header",ownerState:u,elevation:4,className:qe(d.root,i,a==="fixed"&&"mui-fixed"),ref:r,...l})});function U_e(e){return ar("MuiToolbar",e)}lr("MuiToolbar",["root","gutters","regular","dense"]);const G_e=e=>{const{classes:t,disableGutters:r,variant:n}=e;return vr({root:["root",!r&&"gutters",n]},U_e,t)},W_e=Ne("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(Ut(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),j5=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular",...l}=n,u={...n,component:s,disableGutters:o,variant:a},d=G_e(u);return w.jsx(W_e,{as:s,className:qe(d.root,i),ref:r,ownerState:u,...l})}),Kp=I.createContext({});function q_e(e){return ar("MuiList",e)}lr("MuiList",["root","padding","dense","subheader"]);const H_e=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return vr({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},q_e,t)},Z_e=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),xd=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...d}=n,h=I.useMemo(()=>({dense:a}),[a]),f={...n,component:o,dense:a,disablePadding:l},y=H_e(f);return w.jsx(Kp.Provider,{value:h,children:w.jsxs(Z_e,{as:o,className:qe(y.root,s),ref:r,ownerState:f,...d,children:[u,i]})})});function Y_e(e){return ar("MuiTypography",e)}const nB=lr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),J_e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},K_e=Awe(),X_e=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:o}=e,a={root:["root",s,e.align!=="inherit"&&`align${Ee(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return vr(a,Y_e,o)},Q_e=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Ee(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Ut(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Ee(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),iB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ke=I.forwardRef(function(t,r){const{color:n,...i}=xr({props:t,name:"MuiTypography"}),s=!J_e[n],o=K_e({...i,...s&&{color:n}}),{align:a="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:f=!1,variant:y="body1",variantMapping:g=iB,...v}=o,b={...o,align:a,color:n,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:f,variant:y,variantMapping:g},_=u||(f?"p":g[y]||iB[y])||"span",x=X_e(b);return w.jsx(Q_e,{as:_,ref:r,className:qe(x.root,l),...v,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...v.style}})});function exe(e){return ar("MuiDivider",e)}lr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const txe=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=e;return vr({root:["root",t&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},exe,n)},rxe=Ne("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Ut(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ln(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),nxe=Ne("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Ut(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),v_=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:a="horizontal",component:l=s||a==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:h=l!=="hr"?"separator":void 0,textAlign:f="center",variant:y="fullWidth",...g}=n,v={...n,absolute:i,component:l,flexItem:u,light:d,orientation:a,role:h,textAlign:f,variant:y},b=txe(v);return w.jsx(rxe,{as:l,className:qe(b.root,o),role:h,ref:r,ownerState:v,"aria-orientation":h==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...g,children:s?w.jsx(nxe,{className:b.wrapper,ownerState:v,children:s}):null})});v_&&(v_.muiSkipListHighlight=!0);function sB(e){return typeof e=="string"}function ixe(e){return ar("MuiListItem",e)}lr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);class FM{constructor(){t1(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new FM}static use(){const t=yee(FM.create).current,[r,n]=I.useState(!1);return t.shouldMount=r,t.setShouldMount=n,I.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=oxe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function sxe(){return FM.use()}function oxe(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}function axe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=e,[d,h]=I.useState(!1),f=qe(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),y={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=qe(r.child,d&&r.childLeaving,n&&r.childPulsate);return!a&&!d&&h(!0),I.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),w.jsx("span",{className:f,style:y,children:w.jsx("span",{className:g})})}const pa=lr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sA=550,lxe=80,uxe=$h`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,cxe=$h`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,dxe=$h`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,pxe=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hxe=Ne(axe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${pa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${uxe};
    animation-duration: ${sA}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${pa.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${pa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${pa.childLeaving} {
    opacity: 0;
    animation-name: ${cxe};
    animation-duration: ${sA}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${pa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${dxe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,fxe=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=n,[l,u]=I.useState([]),d=I.useRef(0),h=I.useRef(null);I.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=I.useRef(!1),y=gee(),g=I.useRef(null),v=I.useRef(null),b=I.useCallback($=>{const{pulsate:C,rippleX:k,rippleY:E,rippleSize:P,cb:T}=$;u(M=>[...M,w.jsx(hxe,{classes:{ripple:qe(s.ripple,pa.ripple),rippleVisible:qe(s.rippleVisible,pa.rippleVisible),ripplePulsate:qe(s.ripplePulsate,pa.ripplePulsate),child:qe(s.child,pa.child),childLeaving:qe(s.childLeaving,pa.childLeaving),childPulsate:qe(s.childPulsate,pa.childPulsate)},timeout:sA,pulsate:C,rippleX:k,rippleY:E,rippleSize:P},d.current)]),d.current+=1,h.current=T},[s]),_=I.useCallback(($={},C={},k=()=>{})=>{const{pulsate:E=!1,center:P=i||C.pulsate,fakeElement:T=!1}=C;if(($==null?void 0:$.type)==="mousedown"&&f.current){f.current=!1;return}($==null?void 0:$.type)==="touchstart"&&(f.current=!0);const M=T?null:v.current,O=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,N,L;if(P||$===void 0||$.clientX===0&&$.clientY===0||!$.clientX&&!$.touches)j=Math.round(O.width/2),N=Math.round(O.height/2);else{const{clientX:z,clientY:B}=$.touches&&$.touches.length>0?$.touches[0]:$;j=Math.round(z-O.left),N=Math.round(B-O.top)}if(P)L=Math.sqrt((2*O.width**2+O.height**2)/3),L%2===0&&(L+=1);else{const z=Math.max(Math.abs((M?M.clientWidth:0)-j),j)*2+2,B=Math.max(Math.abs((M?M.clientHeight:0)-N),N)*2+2;L=Math.sqrt(z**2+B**2)}$!=null&&$.touches?g.current===null&&(g.current=()=>{b({pulsate:E,rippleX:j,rippleY:N,rippleSize:L,cb:k})},y.start(lxe,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:E,rippleX:j,rippleY:N,rippleSize:L,cb:k})},[i,b,y]),x=I.useCallback(()=>{_({},{pulsate:!0})},[_]),S=I.useCallback(($,C)=>{if(y.clear(),($==null?void 0:$.type)==="touchend"&&g.current){g.current(),g.current=null,y.start(0,()=>{S($,C)});return}g.current=null,u(k=>k.length>0?k.slice(1):k),h.current=C},[y]);return I.useImperativeHandle(r,()=>({pulsate:x,start:_,stop:S}),[x,_,S]),w.jsx(pxe,{className:qe(pa.root,s.root,o),ref:v,...a,children:w.jsx(YN,{component:null,exit:!0,children:l})})});function mxe(e){return ar("MuiButtonBase",e)}const yxe=lr("MuiButtonBase",["root","disabled","focusVisible"]),gxe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,o=vr({root:["root",t&&"disabled",r&&"focusVisible"]},mxe,i);return r&&n&&(o.root+=` ${n}`),o},vxe=Ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yxe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ah=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:y,LinkComponent:g="a",onBlur:v,onClick:b,onContextMenu:_,onDragLeave:x,onFocus:S,onFocusVisible:$,onKeyDown:C,onKeyUp:k,onMouseDown:E,onMouseLeave:P,onMouseUp:T,onTouchEnd:M,onTouchMove:O,onTouchStart:j,tabIndex:N=0,TouchRippleProps:L,touchRippleRef:z,type:B,...U}=n,F=I.useRef(null),D=sxe(),K=js(D.ref,z),[le,he]=I.useState(!1);u&&le&&he(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),F.current.focus()}}),[]);const Ue=D.shouldMount&&!d&&!u;I.useEffect(()=>{le&&f&&!d&&D.pulsate()},[d,f,le,D]);function fe(Ae,Or,Yt=h){return Mu(st=>(Or&&Or(st),Yt||D[Ae](st),!0))}const Ge=fe("start",E),se=fe("stop",_),we=fe("stop",x),de=fe("stop",T),Y=fe("stop",Ae=>{le&&Ae.preventDefault(),P&&P(Ae)}),ce=fe("start",j),oe=fe("stop",M),X=fe("stop",O),$e=fe("stop",Ae=>{FV(Ae.target)||he(!1),v&&v(Ae)},!1),Pe=Mu(Ae=>{F.current||(F.current=Ae.currentTarget),FV(Ae.target)&&(he(!0),$&&$(Ae)),S&&S(Ae)}),dt=()=>{const Ae=F.current;return l&&l!=="button"&&!(Ae.tagName==="A"&&Ae.href)},We=Mu(Ae=>{f&&!Ae.repeat&&le&&Ae.key===" "&&D.stop(Ae,()=>{D.start(Ae)}),Ae.target===Ae.currentTarget&&dt()&&Ae.key===" "&&Ae.preventDefault(),C&&C(Ae),Ae.target===Ae.currentTarget&&dt()&&Ae.key==="Enter"&&!u&&(Ae.preventDefault(),b&&b(Ae))}),Ye=Mu(Ae=>{f&&Ae.key===" "&&le&&!Ae.defaultPrevented&&D.stop(Ae,()=>{D.pulsate(Ae)}),k&&k(Ae),b&&Ae.target===Ae.currentTarget&&dt()&&Ae.key===" "&&!Ae.defaultPrevented&&b(Ae)});let ot=l;ot==="button"&&(U.href||U.to)&&(ot=g);const Ht={};ot==="button"?(Ht.type=B===void 0?"button":B,Ht.disabled=u):(!U.href&&!U.to&&(Ht.role="button"),u&&(Ht["aria-disabled"]=u));const Tt=js(r,F),Lt={...n,centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:f,tabIndex:N,focusVisible:le},Zt=gxe(Lt);return w.jsxs(vxe,{as:ot,className:qe(Zt.root,a),ownerState:Lt,onBlur:$e,onClick:b,onContextMenu:se,onFocus:Pe,onKeyDown:We,onKeyUp:Ye,onMouseDown:Ge,onMouseLeave:Y,onMouseUp:de,onDragLeave:we,onTouchEnd:oe,onTouchMove:X,onTouchStart:ce,ref:Tt,tabIndex:u?-1:N,type:B,...Ht,...U,children:[o,Ue?w.jsx(fxe,{ref:K,center:s,...L}):null]})});function bxe(e){return ar("MuiListItemButton",e)}const Zy=lr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),wxe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},_xe=e=>{const{alignItems:t,classes:r,dense:n,disabled:i,disableGutters:s,divider:o,selected:a}=e,u=vr({root:["root",n&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},bxe,r);return{...r,...u}},xxe=Ne(ah,{shouldForwardProp:e=>$x(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:wxe})(Ut(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ln(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Zy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Zy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ln(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ln(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Zy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Zy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Sd=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:h,selected:f=!1,className:y,...g}=n,v=I.useContext(Kp),b=I.useMemo(()=>({dense:l||v.dense||!1,alignItems:i,disableGutters:u}),[i,v.dense,l,u]),_=I.useRef(null);U0(()=>{s&&_.current&&_.current.focus()},[s]);const x={...n,alignItems:i,dense:b.dense,disableGutters:u,divider:d,selected:f},S=_xe(x),$=js(_,r);return w.jsx(Kp.Provider,{value:b,children:w.jsx(xxe,{ref:$,href:g.href||g.to,component:(g.href||g.to)&&o==="div"?"button":o,focusVisibleClassName:qe(S.focusVisible,h),ownerState:x,className:qe(S.root,y),...g,classes:S,children:a})})});function Sxe(e){return ar("MuiListItemSecondaryAction",e)}lr("MuiListItemSecondaryAction",["root","disableGutters"]);const $xe=e=>{const{disableGutters:t,classes:r}=e;return vr({root:["root",t&&"disableGutters"]},Sxe,r)},Txe=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Vee=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...s}=n,o=I.useContext(Kp),a={...n,disableGutters:o.disableGutters},l=$xe(a);return w.jsx(Txe,{className:qe(l.root,i),ownerState:a,ref:r,...s})});Vee.muiName="ListItemSecondaryAction";const Mxe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},Cxe=e=>{const{alignItems:t,classes:r,dense:n,disableGutters:i,disablePadding:s,divider:o,hasSecondaryAction:a}=e;return vr({root:["root",n&&"dense",!i&&"gutters",!s&&"padding",o&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},ixe,r)},Exe=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:Mxe})(Ut(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Zy.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),kxe=Ne("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),$d=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiListItem"}),{alignItems:i="center",children:s,className:o,component:a,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:h,...f}={},dense:y=!1,disableGutters:g=!1,disablePadding:v=!1,divider:b=!1,secondaryAction:_,slotProps:x={},slots:S={},...$}=n,C=I.useContext(Kp),k=I.useMemo(()=>({dense:y||C.dense||!1,alignItems:i,disableGutters:g}),[i,C.dense,y,g]),E=I.useRef(null),P=I.Children.toArray(s),T=P.length&&mee(P[P.length-1],["ListItemSecondaryAction"]),M={...n,alignItems:i,dense:k.dense,disableGutters:g,disablePadding:v,divider:b,hasSecondaryAction:T},O=Cxe(M),j=js(E,r),N=S.root||l.Root||Exe,L=x.root||u.root||{},z={className:qe(O.root,L.className,o),...$};let B=a||"li";return T?(B=!z.component&&!a?"div":B,d==="li"&&(B==="li"?B="div":z.component==="li"&&(z.component="div")),w.jsx(Kp.Provider,{value:k,children:w.jsxs(kxe,{as:d,className:qe(O.container,h),ref:j,ownerState:M,...f,children:[w.jsx(N,{...L,...!sB(N)&&{as:B,ownerState:{...M,...L.ownerState}},...z,children:P}),P.pop()]})})):w.jsx(Kp.Provider,{value:k,children:w.jsxs(N,{...L,as:B,ref:j,...!sB(N)&&{ownerState:{...M,...L.ownerState}},...z,children:[P,_&&w.jsx(Vee,{children:_})]})})});function Ixe(e){return ar("MuiListItemText",e)}const qS=lr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Oxe=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:s}=e;return vr({root:["root",r&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Ixe,t)},Pxe=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${qS.primary}`]:t.primary},{[`& .${qS.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${nB.root}:where(& .${qS.primary})`]:{display:"block"},[`.${nB.root}:where(& .${qS.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Td=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:h,...f}=n,{dense:y}=I.useContext(Kp);let g=l??i,v=d;const b={...n,disableTypography:o,inset:a,primary:!!g,secondary:!!v,dense:y},_=Oxe(b);return g!=null&&g.type!==Ke&&!o&&(g=w.jsx(Ke,{variant:y?"body2":"body1",className:_.primary,component:u!=null&&u.variant?void 0:"span",...u,children:g})),v!=null&&v.type!==Ke&&!o&&(v=w.jsx(Ke,{variant:"body2",className:_.secondary,color:"textSecondary",...h,children:v})),w.jsxs(Pxe,{className:qe(_.root,s),ownerState:b,ref:r,...f,children:[g,v]})}),Axe="modulepreload",Rxe=function(e,t){return new URL(e,t).href},oB={},Q=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(l=>{if(l=Rxe(l,n),l in oB)return;oB[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!n)for(let y=s.length-1;y>=0;y--){const g=s[y];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Axe,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((y,g)=>{f.addEventListener("load",y),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function c(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function _vt(e,t){return function(r,n){t(r,n,e)}}function xvt(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((n=n.apply(e,[])).next())})}let Pp;function J(e){return typeof Pp[e]=="function"?Pp[e]=Pp[e](globalThis):Pp[e]}var hK,fK,mK,yK;Pp=(hK=globalThis.dojoConfig)!=null&&hK.has||(fK=globalThis.esriConfig)!=null&&fK.has?{...(mK=globalThis.dojoConfig)==null?void 0:mK.has,...(yK=globalThis.esriConfig)==null?void 0:yK.has}:{},J.add=(e,t,r,n)=>((n||Pp[e]===void 0)&&(Pp[e]=t),r&&J(e)),J.cache=Pp,J.add("big-integer-warning-enabled",!0),J.add("esri-deprecation-warnings",!0),J.add("esri-tests-disable-screenshots",!1),J.add("esri-tests-use-full-window",!1),J.add("esri-tests-post-to-influx",!0),(()=>{var t;J.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(J.add("host-browser",e),J.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),J.add("dom",e),J("host-browser")){const r=navigator,n=r.userAgent,i=r.appVersion,s=parseFloat(i);if(J.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),J.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),J.add("khtml",i.includes("Konqueror")?s:void 0),J.add("edge",parseFloat(n.split("Edge/")[1])||void 0),J.add("opr",parseFloat(n.split("OPR/")[1])||void 0),J.add("webkit",!J("wp")&&!J("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),J.add("chrome",!J("edge")&&!J("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),J.add("android",!J("wp")&&parseFloat(n.split("Android ")[1])||void 0),J.add("safari",!i.includes("Safari")||J("wp")||J("chrome")||J("android")||J("edge")||J("opr")?void 0:parseFloat(i.split("Version/")[1])),J.add("mac",i.includes("Macintosh")),!J("wp")&&/(iPhone|iPod|iPad)/.test(n)){const o=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replaceAll("_",""));J.add(o,l),J.add("ios",l)}J("webkit")||(!n.includes("Gecko")||J("wp")||J("khtml")||J("edge")||J.add("mozilla",s),J("mozilla")&&J.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&J.add("esri-mobile",t),r&&J.add("esri-iPhone",r),J.add("esri-geolocation",!!navigator.geolocation)}J.add("esri-wasm","WebAssembly"in globalThis),J.add("esri-performance-mode-frames-between-render",20),J.add("esri-force-performance-mode",!1),J.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),J.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),J.add("esri-atomics","Atomics"in globalThis),J.add("esri-workers","Worker"in globalThis),J.add("web-feat:cache","caches"in globalThis),J.add("esri-workers-arraybuffer-transfer",!J("safari")||Number(J("safari"))>=12),J.add("workers-pool-size",8),J.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),J.add("featurelayer-simplify-payload-size-factors",[1,1,4]),J.add("featurelayer-fast-triangulation-enabled",!0),J.add("featurelayer-animation-enabled",!0),J.add("featurelayer-snapshot-enabled",!0),J.add("featurelayer-snapshot-point-min-threshold",8e4),J.add("featurelayer-snapshot-point-max-threshold",4e5),J.add("featurelayer-snapshot-point-coverage",.1),J.add("featurelayer-query-max-depth",4),J.add("featurelayer-query-pausing-enabled",!1),J.add("featurelayer-advanced-symbols",!1),J.add("featurelayer-pbf",!0),J.add("featurelayer-pbf-statistics",!1),J.add("feature-layers-workers",!0),J.add("feature-polyline-generalization-factor",1),J.add("mapview-transitions-duration",200),J.add("mapview-essential-goto-duration",200),J.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),J.add("mapserver-pbf-version-support",10.81),J.add("mapservice-popup-identify-max-tolerance",20),J("host-webworker")||J("host-browser")&&(J.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),J.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{J.add("esri-image-decode",!0,!0,!0)}).catch(()=>{J.add("esri-image-decode",!1,!0,!0)})}return!1}),J.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const aB=new WeakMap;function Lxe(e,t,r=!1){const n=` DEPRECATED - ${t}`;if(!r)return void e.warn(n);let i=aB.get(e);i||(i=new Set,aB.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}function Bee(e,t,r={}){if(J("esri-deprecation-warnings")){const{moduleName:n}=r;Rm(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function sb(e,t,r={}){if(J("esri-deprecation-warnings")){const{moduleName:n}=r;Rm(e,`Property: ${(n?n+"::":"")+t}`,r)}}function jxe(e,t,r={}){J("esri-deprecation-warnings")&&Rm(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function Rm(e,t,r={}){if(J("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;n&&(a+=`
	 Replacement: ${n}`),i&&(a+=`
	 Version: ${i}`),s&&(a+=`
	 See ${s} for more details.`),Lxe(e,a,o)}}function Svt(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Nxe(e,t){for(const r of e)if(r!=null&&t(r))return r}function DM(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Tx=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(DM(t)){const n=this._getOrCreateGroup(r);for(const i of t)uB(i)&&n.push(i)}else uB(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(HS(t))}remove(t){if(typeof t!="string"&&DM(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(lB(this._getGroup(t)),this._groups.delete(HS(t)),this):this}removeAll(){return this._groups.forEach(lB),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(HS(t),r),r}_getGroup(t){return this._groups.get(HS(t))}};function HS(e){return e||"_default_"}function lB(e){for(const t of e)t instanceof Tx?t.removeAll():t.remove()}function uB(e){return e!=null&&(!!e.remove||e instanceof Tx)}let N5=class nf{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*nf._m}getInt(){return this._seed=(nf._a*this._seed+nf._c)%nf._m,this._seed}getFloat(){return this.getInt()/(nf._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/nf._m*n}};N5._m=2147483647,N5._a=48271,N5._c=0;function Tvt(e,t){return t?e.filter((r,n,i)=>i.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function PE(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Mvt(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function cB(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}function Cvt(e){return e&&typeof e.length=="number"}let Uee=class{constructor(){this.last=0}};const Gee=new Uee;function oA(e,t,r,n){n=n||Gee;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function Fxe(e,t,r,n){const i=e.length,s=oA(e,t,i,n);if(s!==-1)return e[s]=e[i-1],e.pop(),t}const Qa=new Set;function Dxe(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;Qa.clear();for(let a=0;a<n;++a)Qa.add(t[a]);i=i||Gee;const o=Math.max(0,i.last-10);for(let a=o;a<r;++a)if(Qa.has(e[a])&&(s==null||s.push(e[a]),Qa.delete(e[a]),e[a]=e[r-1],--r,--a,Qa.size===0||r===0))return Qa.clear(),r;for(let a=0;a<o;++a)if(Qa.has(e[a])&&(s==null||s.push(e[a]),Qa.delete(e[a]),e[a]=e[r-1],--r,--a,Qa.size===0||r===0))return Qa.clear(),r;return Qa.clear(),r}function zxe(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function zi(e,t){return e!=null}function Wee(e){return 32+e.length}function JN(){return 16}function kvt(e){if(!e)return 0;let t=Hee;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=Wee(n);break;case"number":t+=JN();break;case"boolean":t+=4}}return t}function Vxe(e){if(!e)return 0;if(Array.isArray(e))return Bxe(e);let t=Hee;for(const r in e)e.hasOwnProperty(r)&&(t+=qee(e[r]));return t}function Bxe(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=Zee;for(let n=0;n<t;n++)r+=qee(e[n]);return r}function qee(e){switch(typeof e){case"object":return Vxe(e);case"string":return Wee(e);case"number":return JN();case"boolean":return 4;default:return 8}}function Uxe(e,t){return Zee+e.length*t}const Hee=32,Zee=16;function Ivt(e){return e instanceof ArrayBuffer}function KN(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function Yee(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function Jee(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function XN(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function Kee(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function QN(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function Xee(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function AE(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function RE(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function Gxe(e){return!("buffer"in e)}function Ovt(...e){return e.reduce((t,r)=>t+(r?Gxe(r)?Uxe(r,JN()):r.byteLength+Wxe:0),0)}const Wxe=145,Pvt=1024;function Avt(e){return RE(e)||AE(e)||QN(e)||XN(e)||KN(e)}function Rvt(e){return RE(e)||AE(e)}function Lvt(e){return RE(e)?179769e303:AE(e)?3402823e32:Xee(e)?4294967295:Kee(e)?65535:Yee(e)||Jee(e)?255:QN(e)?2147483647:XN(e)?32767:KN(e)?127:256}function qxe(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function W(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=tte(e);if(t!=null)return t;if(zM(e))return e.clone();if(Qee(e))return e.map(W);if(ete(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=W(e[n]);return r}function aA(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=tte(e);if(t!=null)return t;if(Qee(e)){let r=!0;const n=e.map(i=>{const s=aA(i);return i!=null&&s==null&&(r=!1),s});return r?n:null}if(zM(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!ete(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=aA(i);if(i!=null&&s==null)return null;r[n]=s}return r}return null}function zM(e){return typeof e.clone=="function"}function Qee(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function ete(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function dB(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function tte(e){if(KN(e)||Yee(e)||Jee(e)||XN(e)||Kee(e)||QN(e)||Xee(e)||AE(e)||RE(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,W(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(W(r));return t}return null}function e9(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function rte(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&PE(e,t):e instanceof Set?t instanceof Set&&Zxe(e,t):e instanceof Map?t instanceof Map&&Yxe(e,t):!!dB(e)&&dB(t)&&Hxe(e,t))}function Hxe(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function Zxe(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Yxe(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function t9(e,t,r=!1){return ite(e,t,r)}function Mx(e,t){if(t!=null)return t[e]||nte(e.split("."),!1,t)}function ps(e,t,r){const n=e.split("."),i=n.pop(),s=nte(n,!0,r);s&&i&&(s[i]=t)}function pB(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if(pB(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(pB(e[r],t[r]))return!0;return!1}return e!==t}function nte(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function ite(e,t,r){return t?Object.keys(t).reduce((n,i)=>{let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=W(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.concat():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):n[i]=o.concat())):o&&typeof o=="object"?n[i]=ite(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}var gK;const Ft={apiKey:void 0,applicationName:"",applicationUrl:(gK=globalThis.location)==null?void 0:gK.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(t9(Ft,globalThis.esriConfig,!0),delete Ft.has),!Ft.assetsPath){{const e="4.30";Ft.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ft.defaultAssetsPath=Ft.assetsPath}const Jxe=/\{([^}]+)\}/g;function hB(e){return e??""}function LE(e,t){return t?e.replaceAll(Jxe,typeof t=="object"?(r,n)=>hB(Mx(n,t)):(r,n)=>hB(t(n))):e}function Kxe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t!=null&&t.includes(r)?r:`\\${r}`)}function ste(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let fB;function jvt(e){return fB??(fB=new DOMParser),fB.parseFromString(e||"","text/html").body.innerText||""}function Nvt(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const mB={info:0,warn:1,error:2,none:3};let ie=class bo{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,bo._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=bo.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,bo._loggers.get(t)||new bo({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!bo._throttlingDisabled){const i=Qxe(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=bo._tickCounter)return;this._loggedMessages[t].set(i,bo._tickCounter),bo._scheduleTickCounterIncrement()}for(const i of Ft.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Xxe)}_matchLevel(t){const r=Ft.log.level||"warn";return mB[this._parentWithMember("level",r)]<=mB[t]}static _scheduleTickCounterIncrement(){bo._tickCounterScheduled||(bo._tickCounterScheduled=!0,Promise.resolve().then(()=>{bo._tickCounter++,bo._tickCounterScheduled=!1}))}};function Xxe(e,t,...r){console[e](`[${t}]`,...r)}function Qxe(...e){return ste(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}ie._loggers=new Map,ie._tickCounter=0,ie._tickCounterScheduled=!1,ie._throttlingDisabled=!1;function ote(e,t){if(e==null)throw new Error(t??"value is None")}function jr(e){return e==null||e.destroy(),null}function Fvt(e){return e==null||e.dispose(),null}function gn(e){return e==null||e.remove(),null}function Lm(e){return e==null||e.abort(),null}function Dvt(e){return e==null||e.release(),null}function eSe(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function b_(e,t){let r;return e.some((n,i)=>(r=t(n,i),r!=null)),r??void 0}const ate=Symbol("Accessor-beforeDestroy"),tSe={remove:()=>{}};function gr(e){return e?{remove(){e&&(e(),e=void 0)}}:tSe}function rSe(e){e.forEach(t=>t==null?void 0:t.remove())}function Cx(e){return gr(()=>rSe(e))}function hs(e){return e.__accessor__??null}function nSe(e,t){var r;return((r=e==null?void 0:e.metadata)==null?void 0:r[t])!=null}function j$(e,t,r){return r?VM(e,t,{policy:r,path:""}):VM(e,t,null)}function VM(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const s=i;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[s]))return n[s]=t[s],n;if(n[s]===void 0)return n[s]=W(t[s]),n;let l=n[s],u=t[s];if(l===u)return n;if(Array.isArray(u)||Array.isArray(n))l=l?Array.isArray(l)?n[s]=l.concat():n[s]=[l]:n[s]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(d=>{l.includes(d)||l.push(d)}));else if(u&&typeof u=="object")if(r){const d=r.path;r.path=o,n[s]=VM(l,u,r),r.path=d}else n[s]=VM(l,u,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[s]=u);return n},e||{}):e}function lte(e){return Array.isArray(e)?e:e.split(".")}function yB(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function iSe(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...yB(r));return t}return yB(e)}function ute(e,t,r,n){const i=iSe(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return Cx(s)}return n(e,i[0],r)}function cte(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=hs(t);return nSe(n,r)?n.get(r):t[r]}function dte(e,t,r){if(e==null)return e;const n=cte(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:dte(n,t,r+1)}function Ex(e,t,r=0){return typeof t!="string"||t.includes(".")?dte(e,lte(t),r):cte(t,e)}function ks(e,t){return Ex(e,t)}function gB(e,t){return Ex(t,e)!==void 0}var Qs;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Qs||(Qs={}));function kx(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=W(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function jE(e,t){const r=kx(e);let n=r[t];return n||(n=r[t]={}),n}function sSe(e,t){return j$(e,t,aSe)}const oSe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function aSe(e){return oSe.test(e)?"replace":"merge"}function lSe(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function uSe(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let iy=class lA{constructor(t,r,n,i=1,s=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(lA.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):uSe(r)&&r.acquire(...t),r}release(t){t&&!lA.test.disabled&&(this._releaseFunction?this._releaseFunction(t):lSe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};iy.test={disabled:!1};let cSe=class{constructor(t,r){this._observers=t,this._observer=r}remove(){zxe(this._observers,this._observer)}},pte=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return dSe;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new cSe(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const dSe=gr();var $t;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})($t||($t={}));const uA=$t.USER+1;function Ap(e){switch(e){case"defaults":return $t.DEFAULTS;case"service":return $t.SERVICE;case"portal-item":return $t.PORTAL_ITEM;case"web-scene":return $t.WEB_SCENE;case"web-map":return $t.WEB_MAP;case"link-chart":return $t.LINK_CHART;case"user":return $t.USER;default:return null}}function BM(e){switch(e){case $t.DEFAULTS:return"defaults";case $t.SERVICE:return"service";case $t.PORTAL_ITEM:return"portal-item";case $t.WEB_SCENE:return"web-scene";case $t.WEB_MAP:return"web-map";case $t.LINK_CHART:return"link-chart";case $t.USER:return"user"}}function pSe(e){return BM(e)}var wr;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(wr||(wr={}));const UM={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},ob=[];let bw=UM;function et(e){bw.onObservableAccessed(e)}let N$=!1,F$=!1;function ad(e,t,r){if(N$)return r9(e,t,r);hte(e);const n=t.call(r);return fte(),n}function hSe(e,t){return ad(UM,e,t)}function r9(e,t,r){const n=N$;N$=!0,hte(e);let i=null;try{i=t.call(r)}catch(s){F$&&ie.getLogger("esri.core.accessorSupport.tracking").error(s)}return fte(),N$=n,i}function hte(e){bw=e,ob.push(e)}function fte(){const e=ob.length;if(e>1){const t=ob.pop();bw=ob[e-2],t.onTrackingEnd()}else if(e===1){const t=ob.pop();bw=UM,t.onTrackingEnd()}else bw=UM}function mte(e,t){if(t.flags&wr.DepTrackingInitialized)return;const r=F$;F$=!1,t.flags&wr.AutoTracked?r9(t,t.metadata.get,e):yte(e,t),F$=r}const fSe=[];function yte(e,t){t.flags&wr.ExplicitlyTracking||(t.flags|=wr.ExplicitlyTracking,r9(t,()=>{const r=t.metadata.dependsOn||fSe;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=lte(n);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=vB(o,i[s],s!==i.length-1)}else vB(e,n,!1)}),t.flags&=~wr.ExplicitlyTracking)}function vB(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=hs(e);if(i){const s=i.propertiesByName.get(n);s&&(et(s),mte(e,s))}return r?e[n]:void 0}let bB=class extends pte{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=wr.Dirty|(r.nonNullable?wr.NonNullable:0)|(r.hasOwnProperty("value")?wr.HasDefaultValue:0)|(r.get===void 0?wr.DepTrackingInitialized:0)|(r.dependsOn===void 0?wr.AutoTracked:0)}destroy(){this.flags&wr.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){et(this);const r=t.store,n=this.propertyName,i=this.flags,s=r.get(n);if(i&wr.Computing||~i&wr.Dirty&&r.has(n))return s;this.flags|=wr.Computing;const o=t.host;let a;i&wr.AutoTracked?a=ad(this,this.metadata.get,o):(yte(o,this),a=this.metadata.get.call(o)),r.set(n,a,$t.COMPUTED);const l=r.get(n);return l===s?this.flags&=~wr.Dirty:hSe(this.commit,this),this.flags&=~wr.Computing,l}onObservableAccessed(t){t!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=wr.DepTrackingInitialized,this._accessed!=null&&(this._handles??(this._handles=[]),this._accessed.forEach(t=>{this._handles.push(t.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~wr.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&wr.Overridden&&(this.flags|=wr.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},mSe=class gte{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new gte;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,W(n))}),r}get(t){return this._values.get(t)}originOf(){return $t.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function ZS(e,t,r){return e!==void 0}function wB(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&wr.NonNullable)||(n.lifecycle,Qs.INITIALIZING,!1))}let ySe=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Qs.INITIALIZING,this.store=new mSe,this._origin=$t.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new bB(n,r[n]);this.propertiesByName.set(n,i)}this.metadata=r}initialize(){this.lifecycle=Qs.CONSTRUCTING}constructed(){this.lifecycle=Qs.CONSTRUCTED}destroy(){this.lifecycle=Qs.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Qs.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);et(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&wr.HasDefaultValue)return"defaults"}return BM(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(ZS(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);ZS(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!ZS(i))return"";const s=new Set,o=ad({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=i.metadata.get)==null?void 0:l.call(t)});let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;if(s.size===0)return a;n+="  ";for(const l of s)l instanceof bB&&(a+=`${n}${l.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(ZS(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&wr.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&wr.Overridden&&(r.flags&=~wr.Overridden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!wB(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:a}=s;if(F5.release(s),!o)return;r=a}n.flags|=wr.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!wB(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:a,value:l}=o;if(F5.release(o),!a)return;r=l}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=Ap(t)}getDefaultOrigin(){return BM(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Qs.INITIALIZING?this._origin:$t.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;i.has(s,n)&&e9(r,i.get(s))&&~t.flags&wr.Overridden&&n===i.originOf(s)||(t.invalidate(),i.set(s,r,n),t.commit(),mte(this.host,t))}_cast(t,r){const n=F5.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},gSe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const F5=new iy(gSe);function vSe(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(Mx(n,t)??"").toString())}let vte=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&vSe(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},q=class bte extends vte{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return W(r)}catch{return"[object]"}}))}}catch(t){throw ie.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new bte(t.name,t.message,t.details)}};q.prototype.type="error";function GM(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))GM(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void GM(ks(e,i),s,r)}const n=e.__accessor__;n!=null&&bSe(t,n),e[t]=r}}function bSe(e,t){if(J("esri-unknown-property-errors")&&!wSe(e,t))throw new q("set:unknown-property",_Se(e,t))}function wSe(e,t){return t.metadata[e]!=null}function _Se(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let xSe;function SSe(){return xSe}var _B;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(_B||(_B={}));function $Se(e){e.length=0}let Es=class{constructor(t=50,r=50){this._pool=new iy(Array,void 0,$Se,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return D5.acquire()}static release(t){return D5.release(t)}static prune(){D5.prune()}};const D5=new Es(100);let wte=class extends iy{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const YS=[];function WM(e){YS.push(e),YS.length===1&&queueMicrotask(()=>{const t=YS.slice();YS.length=0;for(const r of t)r()})}let _te=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var cA;(function(e){const t=(s,o,a,l)=>{let u=o,d=o;const h=a>>>1,f=s[u-1];for(;d<=h;){d=u<<1,d<a&&l(s[d-1],s[d])<0&&++d;const y=s[d-1];if(l(y,f)<=0)break;s[u-1]=y,u=d}s[u-1]=f},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l);const u=o+1;for(let d=a-1;d>o;d--){const h=s[o];s[o]=s[d],s[d]=h,t(s,u,d,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l),yield;const u=o+1;for(let d=a-1;d>o;d--){const h=s[o];s[o]=s[d],s[d]=h,t(s,u,d,l),yield}}e.sort=n,e.iterableSort=i})(cA||(cA={}));const xB=cA,TSe=1.5,MSe=1.1;let qM=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Uee,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>SB(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,SB(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=oA(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(oA(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=Dxe(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){xB.sort(this.data,0,this.length,t)}iterableSort(t){return xB.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){for(let n=0;n<this.length;++n){const i=this.data[n];if(t.call(r,i,n))return i}}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)t.call(r,n[s],s,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function SB(e){e.data.length>TSe*e.length&&(e.data.length=Math.floor(e.length*MSe))}function CSe(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return gr(()=>e.clearTimeout(n))}}}const vv=CSe(globalThis);function NE(e){return ESe(e)||xte(e)}function ESe(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function xte(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Ix(e,t,r){if(!NE(e))throw new TypeError("target is not a Evented or EventTarget object");return xte(e)?kSe(e,t,r):e.on(t,r)}function kSe(e,t,r,n){if(Array.isArray(t)){const i=t.slice();for(const s of i)e.addEventListener(s,r,n);return gr(()=>{for(const s of i)e.removeEventListener(s,r,n)})}return e.addEventListener(t,r,n),gr(()=>e.removeEventListener(t,r,n))}function Ste(e,t,r){if(!NE(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Ix(e,t,i=>{n.remove(),r.call(e,i)});return n}function Bn(e="Aborted"){return new q("AbortError",e)}function _r(e,t="Aborted"){if(ld(e))throw Bn(t)}function FE(e){return e instanceof AbortSignal?e:e==null?void 0:e.signal}function ld(e){const t=FE(e);return t!=null&&t.aborted}function ga(e){if(ms(e))throw e}function $B(e){if(!ms(e))throw e}function Ia(e,t){const r=FE(e);if(r!=null){if(!r.aborted)return Ste(r,"abort",()=>t());t()}}function n9(e,t){const r=FE(e);if(r!=null)return _r(r),Ste(r,"abort",()=>t(Bn()))}function $te(e,t){return FE(t)==null?e:new Promise((r,n)=>{let i=Ia(t,()=>n(Bn()));const s=()=>{i=gn(i)};e.then(s,s),e.then(r,n)})}function ms(e){return(e==null?void 0:e.name)==="AbortError"}async function dA(e){try{return await e}catch(t){if(!ms(t))throw t;return}}async function rm(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await rm(n),s={};return r.map((o,a)=>s[o]=i[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const s=r[i];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function ISe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Jvt(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function i9(e,t=void 0,r){const n=new AbortController;return Ia(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);Ia(n,()=>{o&&(clearTimeout(o),s(Bn()))})})}function OSe(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return Ia(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}}function Ch(e){return e&&typeof e.then=="function"}function TB(e){return Ch(e)?e:Promise.resolve(e)}function DE(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(Bn()),s=zo();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(i=s||zo(),s=null,t>0){const f=new AbortController;r=TB(e(...l,f.signal));const y=r;i9(t).then(()=>{r===y&&(s?f.abort():o=f)})}else r=1,r=TB(e(...l));const u=()=>{const f=n;n=i=r=o=null,f!=null&&a(...f)},d=r,h=i;return d.then(u,u),d.then(h.resolve,h.reject),h.promise};return a}function zo(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>vv.setTimeout(()=>n.reject(s),i),n.promise=r,n}async function MB(e){await Promise.resolve(),_r(e)}function Kvt(e){return e}function PSe(e){return 1e3*e}function Xvt(e){return e}let ASe=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},RSe=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},pA=0;const p1={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},hA=["prepare","preRender","render","postRender","update","finish"],fA=[],jm=new qM;let LSe=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function jSe(){ym!=null&&(cancelAnimationFrame(ym),ym=requestAnimationFrame(s9))}const HM={frameTasks:jm,willDispatch:!1,clearFrameTasks:NSe,dispatch:Mte,executeFrameTasks:FSe,reschedule:jSe};function bv(e){const t=new RSe(e);return fA.push(t),HM.willDispatch||(HM.willDispatch=!0,WM(Mte)),t}function q0(e){const t=new ASe(e);return jm.push(t),ym==null&&(pA=performance.now(),ym=requestAnimationFrame(s9)),new LSe(t)}let ym=null;function NSe(e=!1){jm.forAll(t=>{t.removed=!0}),e&&Tte()}function s9(){const e=performance.now();ym=null,ym=jm.length>0?requestAnimationFrame(s9):null,HM.executeFrameTasks(e)}function FSe(e){const t=e-pA;pA=e;const r=1e3/60,n=Math.max(0,t-r);p1.time=e,p1.frameDuration=r-n;for(let i=0;i<hA.length;i++){const s=performance.now(),o=hA[i];jm.forAll(a=>{var l;a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(p1.elapsedFrameTime=performance.now()-e,p1.deltaTime=a.ticks===0?0:t,(l=a.phases[o])==null||l.call(a,p1)))}),DSe[i].record(performance.now()-s)}Tte(),zSe.record(performance.now()-e)}const JS=new qM;function Tte(){jm.forAll(e=>{e.removed&&JS.push(e)}),jm.removeUnorderedMany(JS.data,JS.length),JS.clear()}function Mte(){for(;fA.length;){const e=fA.shift();e.isActive&&e.callback()}HM.willDispatch=!1}function r1t(e=1,t){const r=zo(),n=()=>{ld(t)?r.reject(Bn()):e===0?r():(--e,WM(()=>n()))};return n(),r.promise}const DSe=hA.map(e=>new _te(e)),zSe=new _te("total");function VSe(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function ZM(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function CB(e,t){return t!=null&&e.add(t),e}function Cte(e,t){const r=new Set;return ZM(r,e),ZM(r,t),r}function BSe(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function n1t(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function i1t(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function USe(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}function GSe(e,t){return USe(Cte(e,t),BSe(e,t))}let WSe=0;function ww(){return++WSe}let zE=class{constructor(t){this._accessed=new Set,this._handles=[],this._observerObject=new qSe(t),EB.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;EB.unregister(this._observerObject),this._accessed.clear(),(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){this._accessed.add(t)}onTrackingEnd(){const t=this._handles,r=this._observerObject;this._accessed.forEach(n=>{t.push(n.observe(r))}),this._accessed.clear()}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},qSe=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=HSe}};const EB=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function HSe(){}let d0=!1;const YM=[];function Ete(e,t){let r=new zE(s),n=null,i=!1;function s(){if(!r||i)return;if(d0)return void Ote(s);const a=n;r.clear(),d0=!0,i=!0,n=ad(r,e),i=!1,d0=!1,t(n,a),Pte()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=ad(r,e),i=!1,gr(o)}function kte(e,t){let r=new zE(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=ad(r,e),n):null}return o(),gr(s)}function Ite(e){let t=new zE(n),r=!1;function n(){t&&!r&&(d0?Ote(n):(t.clear(),d0=!0,r=!0,ad(t,e),r=!1,d0=!1,Pte()))}function i(){t&&(t.destroy(),t=null)}return r=!0,ad(t,e),r=!1,gr(i)}function Ote(e){YM.includes(e)||YM.unshift(e)}function Pte(){for(;YM.length;)YM.pop()()}var _w;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(_w||(_w={}));let w_=class{constructor(){this.uid=ww(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(_w.Untracked,t,r,n,i,s,e9)}static acquireTracked(t,r,n,i){return this.pool.acquire(_w.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===_w.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,s,o,a){this.uid=ww(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ww(),this.removed=!0}};w_.pool=new wte(w_);const D$=new Es,Kc=new Set;let JM;function KM(e){Kc.delete(e),Kc.add(e),JM||(JM=bv(JSe))}function ZSe(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function YSe(e){for(const t of Kc.values())t.target===e&&(t.removed=!0)}function JSe(){let e=10;for(;JM&&e--;){JM=null;const t=KSe(),r=D$.acquire();for(const n of t){const i=n.uid;ZSe(n),i===n.uid&&n.removed&&r.push(n)}for(const n of Kc)n.removed&&(r.push(n),Kc.delete(n));for(const n of r)w_.pool.release(n);D$.release(r),D$.release(t),mA.forEach(n=>n())}}function KSe(){const e=D$.acquire();e.length=Kc.size;let t=0;for(const r of Kc)e[t]=r,++t;return Kc.clear(),e}const mA=new Set;function XSe(e){return mA.add(e),gr(()=>mA.delete(e))}function QSe(e,t,r){let n=ute(e,t,r,(i,s,o)=>{let a,l,u=kte(()=>Ex(i,s),(d,h)=>{var f;((f=i.__accessor__)==null?void 0:f.lifecycle)===Qs.DESTROYED||a&&a.uid!==l?n.remove():(a||(a=w_.acquireUntracked(d,o,h,i,s),l=a.uid),KM(a))});return gr(()=>{u.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,KM(a)),a=null),n=u=null})});return n}function e2e(e,t,r){const n=ute(e,t,r,(i,s,o)=>{let a=!1;return Ete(()=>Ex(i,s),(l,u)=>{i.__accessor__.lifecycle!==Qs.DESTROYED?a||(a=!0,e9(u,l)||o.call(i,l,u,s,i),a=!1):n.remove()})});return n}function t2e(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Qs.DESTROYED?n?e2e(e,t,r):QSe(e,t,r):gr()}function r2e(e,t,r){let n,i,s=kte(e,(o,a)=>{n&&n.uid!==i?s.remove():(n||(n=w_.acquireTracked(o,t,a,r),i=n.uid),KM(n))});return gr(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,KM(n)),n=null),s=null})}function n2e(e,t,r){let n=!1;return Ete(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function i2e(e,t,r=!1,n=rte){return r?n2e(e,t,n):r2e(e,t,n)}function kB(e){return VSe(Kc,t=>t.oldValue===e)}function VE(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function o9(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}function l1t(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const p0=()=>ie.getLogger("esri.core.accessorSupport.ensureTypes");function s2e(e){return e==null?e:new Date(e)}function o2e(e){return e==null?e:!!e}function Ox(e){return e==null?e:e.toString()}function va(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function a9(e){return e==null?e:Math.round(parseFloat(e))}function a2e(e){return null}function Ate(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function XM(e,t){return t!=null&&e&&!(t instanceof e)}function Rte(e){return e&&"isCollection"in e}function IB(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function l2e(e,t){if(!(t!=null&&t.constructor)||!Rte(t.constructor))return yA(e,t)?t:new e(t);const r=IB(e.prototype.itemType),n=IB(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(yA(e,t),t):new e(t):t}function yA(e,t){return!!Ate(t)&&(p0().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+UE(e)+"'"),!0)}function BE(e,t){return t==null?t:Rte(e)?l2e(e,t):XM(e,t)?yA(e,t)?t:new e(t):t}function UE(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const u2e=new WeakMap;function c2e(e){switch(e){case Number:return va;case mr:return a9;case Boolean:return o2e;case String:return Ox;case Date:return s2e;case GE:return a2e;default:return o9(u2e,e,()=>BE.bind(null,e))}}function Xr(e,t){const r=c2e(e);return arguments.length===1?r:r(t)}function __(e,t,r){return arguments.length===1?__.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function d2e(e,t){return arguments.length===1?__(r=>Xr(e,r)):__(r=>Xr(e,r),t)}function Lte(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>Lte(e,t-1,n)):e(r)}function QM(e,t,r){if(arguments.length===2)return s=>QM(e,t,s);if(!r)return r;r=Lte(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function p2e(e,t,r){return arguments.length===2?QM(n=>Xr(e,n),t):QM(n=>Xr(e,n),t,r)}function jte(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function gA(e,t){if(arguments.length===2)return gA(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const u=typeof a,d=u==="string"||u==="number";return d&&(r.has(a)||i.some(h=>u==="string"&&h===String||u==="number"&&h===Number))||u==="object"&&i.some(h=>!XM(a,h))?a:(d&&n.length?(s||(s=n.map(h=>typeof h=="string"?`'${h}'`:`${h}`).join(", ")),p0().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(h=>UE(h)).join(", ")),p0().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):p0().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Nu(e,t){if(arguments.length===2)return Nu(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const u=e.typeMap[l];r[l]=Xr(u),n.push(UE(u)),i.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!XM(e.base,l)||l==null)return l;const u=a(l)||e.defaultKeyValue,d=r[u];if(!d)return p0().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!XM(e.typeMap[u],l))return l;if(typeof e.key=="string"&&!Ate(l)){const h={};for(const f in l)f!==e.key&&(h[f]=l[f]);return d(h)}return d(l)}}let mr=class{},GE=class{};const d1t={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function h2e(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Nte(e){switch(e.type){case"native":return Xr(e.value);case"array":return __(Nte(e.value));case"one-of":return f2e(e);default:return null}}function f2e(e){let t=null;return(r,n)=>bA(r,e)?r:(t==null&&(t=vA(e)),p0().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function vA(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case mr:return"integer";case Date:return"date";case GE:return"null";default:return UE(e.value)}case"array":return`array of ${vA(e.value)}`;case"one-of":{const t=e.values.map(r=>vA(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function bA(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case mr:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case GE:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!bA(r,t.value));case"one-of":return t.values.some(r=>bA(e,r))}}function p(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=jE(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&ie.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,u=typeof s=="string"?null:s.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let h=ks(this,l);if(typeof h=="function"){d||(d=l.split(".").slice(0,-1).join("."));const f=ks(this,d);f&&(h=h.bind(f))}return h},i.readOnly||(i.set=u?function(h){this._override(r,h)}:function(h){GM(this,l,h)})}const o=e.type,a=e.types;i.cast||(o?i.cast=m2e(o):a&&(Array.isArray(a)?i.cast=__(Nu(a[0])):i.cast=Nu(a))),sSe(i,e),e.range&&(i.cast=y2e(i.cast,e.range))}}function Fte(e,t,r){const n=jE(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function m2e(e){let t=0,r=e;if(h2e(e))return Nte(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(jte(n))return t===0?gA(n):QM(gA(n),t);if(t===1)return d2e(n);if(t>1)return p2e(n,t);const i=e;return i.from?i.from:Xr(i)}function y2e(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function g2e(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let Da=class extends vte{constructor(t,r,n){super(t,r,n)}};Da.prototype.type="warning";function Dte(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const wA=()=>ie.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function OB(e,t,r){var n,i;e&&(!r&&!t.read||(n=t.read)!=null&&n.reader||((i=t.read)==null?void 0:i.enabled)===!1||w2e(e)&&ps("read.reader",wv(e),t))}function wv(e){var r,n;const t=e.ndimArray??0;if(t>1)return b2e(e);if(t===1)return PB(e);if("type"in e&&Vte(e.type)){const i=(n=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:n.Type,s=PB(typeof i=="function"?{type:i}:{types:i});return(o,a,l)=>{const u=s(o,a,l);return u&&new e.type(u)}}return l9(e)}function l9(e){return"type"in e?v2e(e.type):_2e(e.types)}function v2e(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void wA().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function zte(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>zte(e,i,r,n-1)):e(t,void 0,r)}function b2e(e){const t=l9(e),r=zte.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let u=0;u<a;u++)i=[i];return i}}function PB(e){const t=l9(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function Vte(e){if(!Dte(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?u9(t.Type):Bte(t.Type))}function w2e(e){return"types"in e?Bte(e.types):u9(e.type)}function u9(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Vte(e))}function Bte(e){for(const t in e.typeMap)if(!u9(e.typeMap[t]))return!1;return!0}function _2e(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void wA().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=x2e(e));const l=e.key;if(typeof l!="string")return;const u=i[l],d=u?t[u]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const f=`Type '${u||"unknown"}' is not supported`;return o!=null&&o.messages&&i&&o.messages.push(new Da(`${r}:unsupported`,f,{definition:i,context:o})),void wA().error(f)}const h=new d;return h.read(i,o),n?n(h):h}}function x2e(e){var r,n;const t={};for(const i in e.typeMap){const s=e.typeMap[i],o=kx(s.prototype);if(typeof e.key=="function")continue;const a=o[e.key];if(!a)continue;if((r=a.json)!=null&&r.type&&Array.isArray(a.json.type)&&a.json.type.length===1&&typeof a.json.type[0]=="string"){t[a.json.type[0]]=s;continue}const l=(n=a.json)==null?void 0:n.write;if(!(l!=null&&l.writer)){t[i]=s;continue}const u=l.target,d=typeof u=="string"?u:e.key,h={};l.writer(i,h,d),h[d]&&(t[h[d]]=s)}return t}function S2e(e){if(e.json||(e.json={}),RB(e.json),LB(e.json),AB(e.json),e.json.origins)for(const t in e.json.origins)RB(e.json.origins[t]),LB(e.json.origins[t]),AB(e.json.origins[t]);return!0}function AB(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function RB(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function LB(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function jB(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&Dte(e.type))?t.write.writer=M2e:r>1?t.write.writer=C2e(r):t.types?Array.isArray(t.types)?t.write.writer=T2e(t.types[0]):t.write.writer=$2e(t.types):t.write.writer=x_}function $2e(e){return(t,r,n,i)=>t?Ute(t,e,i)?x_(t,r,n,i):void 0:x_(t,r,n,i)}function Ute(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new q(`${n}:unsupported`,i,{definition:e,context:r})),ie.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function T2e(e){return(t,r,n,i)=>!t||!Array.isArray(t)?x_(t,r,n,i):x_(t.filter(s=>Ute(s,e,i)),r,n,i)}function x_(e,t,r,n){ps(r,e3(e,n),t)}function e3(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?t3(e):e}function t3(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function M2e(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>e3(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[e3(e,n)],ps(r,i,t)}function Gte(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>Gte(n,t,r-1)):e3(e,t)}function C2e(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=Gte(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}ps(n,s,r)}}function E2e(e,t){return c9(e,"any",t==null?void 0:t.origin)}function _A(e,t){return c9(e,"read",t==null?void 0:t.origin)}function Wte(e,t){return c9(e,"write",t==null?void 0:t.origin)}function c9(e,t,r){let n=e==null?void 0:e.json;if(n!=null&&n.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function k2e(e){var r;const t=I2e(e);if(e.json.origins)for(const n in e.json.origins){const i=e.json.origins[n],s=i.types?O2e(i):t;OB(s,i,!1),i.types&&!i.write&&((r=e.json.write)!=null&&r.enabled)&&(i.write={...e.json.write}),jB(s,i)}OB(t,e.json,!0),jB(t,e.json)}function I2e(e){return e.json.types?xA(e.json):e.type?qte(e):xA(e)}function O2e(e){return e.type?qte(e):xA(e)}function qte(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!jte(r);)r=r[0],t++;return{type:r,ndimArray:t}}function xA(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function P2e(e){S2e(e)&&(g2e(e),k2e(e))}const z5=new Set,V5=new Set;function R(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,R2e(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!z5.has(i.initialize)&&(z5.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!V5.has(i.destroy)&&(V5.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);z5.clear(),V5.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const u=this[ate];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,u.call(this);for(let d=0;d<n.length;d++)n[d].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=kx(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function A2e(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;et(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function R2e(e){const t=e.prototype,r=kx(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];P2e(s),n[i]={enumerable:!0,configurable:!0,get:A2e(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(!Object.isFrozen(this))return a.initialized&&s.readOnly?NB("read-only",i):a.lifecycle===Qs.CONSTRUCTED&&s.constructOnly?NB("construct-only",i):void a.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const NB=(e,t)=>{ie.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var Hte,Zte;function L2e(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Hl=Symbol("Accessor-Handles"),SA=Symbol("Accessor-Initialized");let Be=class Yte{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}kx(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...u){const d=this.inherited;let h;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{h=l.apply(this,u)}catch(f){throw this.inherited=d,f}return this.inherited=d,h}:t[a]}for(const a in r){const l=L2e(r[a]);p(l)(o.prototype,a)}return R(n)(o)}constructor(...t){var n;if(this[Hte]=null,this[Zte]=!1,this.constructor===Yte)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new ySe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=((n=this.normalizeCtorArgs)==null?void 0:n.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[SA]=!0}initialize(){}[ate](){this[Hl]=jr(this[Hl])}destroy(){var t;this.destroyed||(YSe(this),this.__accessor__.destroy(),(t=SSe())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[SA]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===Qs.DESTROYED||!1}commitProperty(t){ks(this,t)}get(t){return Bee(ie.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),ks(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return GM(this,t,r),this}watch(t,r,n){return t2e(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[Hl]??(this[Hl]=new Tx)).add(t,r)}removeHandles(t){var r;(r=this[Hl])==null||r.remove(t)}removeAllHandles(){var t;(t=this[Hl])==null||t.removeAll()}removeHandlesReference(t){var r;(r=this[Hl])==null||r.removeReference(t)}hasHandles(t){var r;return((r=this[Hl])==null?void 0:r.has(t))===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};Hte=Hl,Zte=SA;const Fr=e=>{let t=class extends e{clone(){var l;const r=hs(this);ote(r,"unable to clone instance of non-accessor class");const n=r.metadata,i=r.store,s={},o=new Map;for(const u in n){const d=n[u],h=i==null?void 0:i.originOf(u),f=d.clonable;if(d.readOnly||f===!1||h!==$t.USER&&h!==$t.DEFAULTS&&h!==$t.WEB_MAP&&h!==$t.WEB_SCENE)continue;const y=this[u];let g=null;g=typeof f=="function"?f(y):f==="reference"?y:aA(y),y!=null&&g==null||(h===$t.DEFAULTS?o.set(u,g):s[u]=g)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const u=(l=hs(a))==null?void 0:l.store;if(u)for(const[d,h]of o)u.set(d,h,$t.DEFAULTS)}return a}};return t=c([R("esri.core.Clonable")],t),t};let $A=class extends Fr(Be){};$A=c([R("esri.core.Clonable")],$A);let sf=class extends $A{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],sf.prototype,"row",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],sf.prototype,"column",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],sf.prototype,"rows",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],sf.prototype,"columns",void 0),sf=c([R("esri.CameraLayout")],sf);const Jte=sf;function Ha(){return[0,0,0]}function j2e(e){return[e[0],e[1],e[2]]}function Px(e,t,r){return[e,t,r]}function N2e(e,t=Ha()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function F2e(e,t){return new Float64Array(e,t,3)}function Kte(){return Ha()}function Xte(){return Px(1,1,1)}function Qte(){return Px(1,0,0)}function ere(){return Px(0,1,0)}function tre(){return Px(0,0,1)}const D2e=Kte(),z2e=Xte(),V2e=Qte(),B2e=ere(),U2e=tre();Object.freeze(Object.defineProperty({__proto__:null,ONES:z2e,UNIT_X:V2e,UNIT_Y:B2e,UNIT_Z:U2e,ZEROS:D2e,clone:j2e,create:Ha,createView:F2e,fromArray:N2e,fromValues:Px,ones:Xte,unitX:Qte,unitY:ere,unitZ:tre,zeros:Kte},Symbol.toStringTag,{value:"Module"}));let d9=1e-6;function As(){return d9}function G2e(e){d9=e}const WE=Math.random,W2e=Math.PI/180,q2e=180/Math.PI;function p9(e){return e*W2e}function H2e(e){return e*q2e}function Z2e(e,t){return Math.abs(e-t)<=d9*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:WE,equals:Z2e,getEpsilon:As,setEpsilon:G2e,toDegree:H2e,toRadian:p9},Symbol.toStringTag,{value:"Module"}));function h9(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function rre(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function nre(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function ire(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function xw(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function sre(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function ore(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Y2e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function J2e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function K2e(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function X2e(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function Q2e(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function e$e(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function t$e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function f9(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function r$e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function are(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function lre(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function ure(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function n$e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function i$e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function TA(e,t){const r=t[0],n=t[1],i=t[2];let s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function r3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function s$e(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=i*l-s*a,e[1]=s*o-n*l,e[2]=n*a-i*o,e}function o$e(e,t,r,n){const i=t[0],s=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e}function a$e(e,t,r,n,i,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,u=o*(s-1),d=o*(3-2*s);return e[0]=t[0]*a+r[0]*l+n[0]*u+i[0]*d,e[1]=t[1]*a+r[1]*l+n[1]*u+i[1]*d,e[2]=t[2]*a+r[2]*l+n[2]*u+i[2]*d,e}function l$e(e,t,r,n,i,s){const o=1-s,a=o*o,l=s*s,u=a*o,d=3*s*a,h=3*l*o,f=l*s;return e[0]=t[0]*u+r[0]*d+n[0]*h+i[0]*f,e[1]=t[1]*u+r[1]*d+n[1]*h+i[1]*f,e[2]=t[2]*u+r[2]*d+n[2]*h+i[2]*f,e}function u$e(e,t){t=t||1;const r=WE,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=i*t,e}function c$e(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12],e[1]=r[1]*n+r[5]*i+r[9]*s+r[13],e[2]=r[2]*n+r[6]*i+r[10]*s+r[14],e}function d$e(e,t,r){const n=t[0],i=t[1],s=t[2];return e[0]=n*r[0]+i*r[3]+s*r[6],e[1]=n*r[1]+i*r[4]+s*r[7],e[2]=n*r[2]+i*r[5]+s*r[8],e}function p$e(e,t,r){const n=r[0],i=r[1],s=r[2],o=r[3],a=t[0],l=t[1],u=t[2],d=i*u-s*l,h=s*a-n*u,f=n*l-i*a,y=i*f-s*h,g=s*d-n*f,v=n*h-i*d,b=2*o;return e[0]=a+d*b+2*y,e[1]=l+h*b+2*g,e[2]=u+f*b+2*v,e}function h$e(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function f$e(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function m$e(e,t,r,n){const i=[],s=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function y$e(e,t){TA(FB,e),TA(DB,t);const r=r3(FB,DB);return r>1?0:r<-1?Math.PI:Math.acos(r)}const FB=Ha(),DB=Ha();function g$e(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function v$e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function b$e(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],a=t[2],l=As();return Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))}function w$e(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const _$e=xw,x$e=sre,S$e=ore,$$e=are,T$e=lre,M$e=h9,C$e=ure;Object.freeze(Object.defineProperty({__proto__:null,abs:K2e,add:ire,angle:y$e,bezier:l$e,ceil:Y2e,copy:rre,cross:s$e,direction:w$e,dist:$$e,distance:are,div:S$e,divide:ore,dot:r3,equals:b$e,exactEquals:v$e,floor:J2e,hermite:a$e,inverse:i$e,len:M$e,length:h9,lerp:o$e,max:e$e,min:Q2e,mul:x$e,multiply:sre,negate:n$e,normalize:TA,random:u$e,rotateX:h$e,rotateY:f$e,rotateZ:m$e,round:t$e,scale:f9,scaleAndAdd:r$e,set:nre,sign:X2e,sqrDist:T$e,sqrLen:C$e,squaredDistance:lre,squaredLength:ure,str:g$e,sub:_$e,subtract:xw,transformMat3:d$e,transformMat4:c$e,transformQuat:p$e},Symbol.toStringTag,{value:"Module"}));const zB=new Float32Array(1);function m1t(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function za(e,t,r){return Math.min(Math.max(e,t),r)}function y1t(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function ab(e,t,r){return e+(t-e)*r}function g1t(e,t,r,n,i){return ab(n,i,(e-t)/(r-t))}function Rp(e){return e*Math.PI/180}function cre(e){return 180*e/Math.PI}function v1t(e){return Math.acos(za(e,-1,1))}function dre(e){return Math.asin(za(e,-1,1))}function Xp(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const n3=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function MA(e){return n3.setFloat64(0,e),n3.getBigInt64(0)}function E$e(e){return n3.setBigInt64(0,e),n3.getFloat64(0)}const z$=BigInt("1000000"),k$e=pre(1);function pre(e){const t=MA(e=Math.abs(e)),r=E$e(t<=z$?z$:t-z$);return Math.abs(e-r)}function b1t(e,t,r=k$e){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&pre(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=MA(e),i=MA(t);return n<0!=i<0?!1:!((n<i?i-n:n-i)>z$)}function I$e(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const n=Math.abs(e-t),i=Math.abs(e),s=Math.abs(t);if(e===0||t===0||i<1e-12&&s<1e-12){if(n>.01*r)return!1}else if(n/(i+s)>r)return!1;return!0}function O$e(e){return hre(Math.max(-CA,Math.min(e,CA)))}function hre(e){return zB[0]=e,zB[0]}function w1t(e,t){const r=h9(e),n=dre(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return nre(t,r,n,i),t}function _1t(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Xp(t,1)&&Xp(r,1)&&Xp(n,1))}const CA=hre(34028234663852886e22);let P$e=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,n=!1){return VB(this.range,this.min,this.max,t,r,n)}clamp(t,r=0){return za(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+EA(this.range,t-r,n)}minimalMonotonic(t,r,n){return VB(this.range,t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function VB(e,t,r,n,i=0,s=!1){return(n-=i)<t?n+=EA(e,t-n):n>r&&(n-=EA(e,n-r)),s&&n===r&&(n=t),n+i}function EA(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const A$e=new P$e(0,360);let R$e=class fre{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new fre;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,W(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??$t.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var i;return((i=this._values.get(n))==null?void 0:i.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===$t.DEFAULTS){const i=this._values.get(t);if((i==null?void 0:i.origin)!=null&&i.origin>n)return}this._values.set(t,new L$e(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===$t.DEFAULTS?t:$t.USER}},L$e=class{constructor(t,r){this.value=t,this.origin=r}};function mre(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),$t.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),$t.DEFAULTS)})}function j$e(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&gB(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&gB(i,r))return!0;return!1}function N$e(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function F$e(e,t,r,n,i){let s=_A(t[r],i);N$e(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=_A(t[o],i),j$e(s,r,n)&&(e[o]=!0)}function D$e(e,t,r,n){const i=r.metadata,s=E2e(i[t],n),o=s==null?void 0:s.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const yre={origin:"service"};function gre(e,t,r=yre){if(!t||typeof t!="object")return;const n=hs(e),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(t))F$e(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=_A(i[o],r).read,l=a==null?void 0:a.source;let u;u=l&&typeof l=="string"?Ex(t,l):t[o],a!=null&&a.reader&&(u=a.reader.call(e,u,t,r)),u!==void 0&&n.set(o,u)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||D$e(e,o,n,r)}n.setDefaultOrigin("user")}function z$e(e,t,r,n=yre){var s;const i={...n,messages:[]};r(i),(s=i.messages)==null||s.forEach(o=>{o.type!=="warning"||e.loaded?n!=null&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}function V$e(e,t,r,n,i){var o,a;const s={};return(a=(o=t.write)==null?void 0:o.writer)==null||a.call(e,n,s,r,i),s}function vre(e,t,r,n,i,s){if(!(n!=null&&n.write))return!1;const o=ks(e,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&(s!=null&&s.layerContainerType)&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new q("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&(s!=null&&s.messages)?s.messages.push(a):a&&!s&&ie.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===$t.DEFAULTS)&&B$e(e,r,s,n,o)||!i.ignoreOrigin&&(s!=null&&s.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<Ap(s.origin))}function B$e(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r??void 0);return PE(o,i)}return!1}return s===i}function bre(e,t,r,n){const i=hs(e),s=i.metadata,o=Wte(s[t],n);return!!o&&vre(e,i,t,o,r,n)}function wre(e,t,r){var s,o;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return j$(t,e.toJSON(r));const n=hs(e),i=n.metadata;for(const a in i){const l=Wte(i[a],r);if(!vre(e,n,a,l,void 0,r))continue;const u=ks(e,a),d=V$e(e,l,l.write&&typeof l.write.target=="string"?l.write.target:a,u,r);Object.keys(d).length>0&&(t=j$(t,d),(o=(s=r==null?void 0:r.resources)==null?void 0:s.pendingOperations)!=null&&o.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>j$(t,d,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:pSe(n.store.originOf(a)),newOrigin:r.origin}))}return t}const Ax=e=>{let t=class extends e{constructor(...r){super(...r);const n=hs(this),i=n.store,s=new R$e;n.store=s,mre(n,i,s)}read(r,n){gre(this,r,n)}write(r,n){return wre(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return U$e.call(this,r,n)}};return t=c([R("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function U$e(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function i3(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let ae=class extends Ax(Be){};ae=c([R("esri.core.JSONSupport")],ae);const G$e=Object.prototype.toString;function W$e(e){const t="__accessorMetadata__"in e?Xr(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return q$e.apply(this,r)}}function q$e(e,t,r,n){jE(e,t).cast=n}function H$e(e){return(t,r)=>{jE(t,e).cast=t[r]}}function tr(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&G$e.call(e[0])==="[object Function]"?W$e(e[0]):e.length===1&&typeof e[0]=="string"?H$e(e[0]):void 0}function ue(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const u=Fte(s,l,i);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=a[o],r&&(u.read.source=(u.read.source||[]).concat(r))})}}function ye(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const u=Fte(s,l,i);u.write&&typeof u.write=="object"||(u.write={}),r&&(u.write.target=r),u.write.writer=a[o]}}}let kt=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Z$e(t),this.apiValues=BB(this._apiToJSON),this.jsonValues=BB(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&ps(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Z$e(e){const t={};for(const r in e)t[e[r]]=r;return t}function BB(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function ys(){return function(e,t){return new kt(e,{ignoreUnknown:!0,...t})}}let m9=class{constructor(t,r,n,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const bn=new m9(6378137,1/298.257223563,3e5,.006694379990137799),Au=new m9(3396190,1/169.8944472236118,23e4),lh=new m9(1737400,0,0),Y$e=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,J$e={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function UB(e){const t=e==null?void 0:e.match(Y$e);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:u,www:d}=J$e;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}else({customBaseUrl:o,portalHostname:a}=d);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=u);break;case"www":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function K$e(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function _re(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function X$e(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function Q$e(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const eTe=()=>ie.getLogger("esri.core.urlUtils"),_v=Ft.request,GB="esri/config: esriConfig.request.proxyUrl is not set.",xre=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Sre=/^\s*http:/i,tTe=/^\s*https:/i,rTe=/^\s*file:/i,nTe=/:\d+$/,iTe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,sTe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),oTe=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let gm=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(sTe);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(oTe),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const KS={},aTe=new gm(Ft.applicationUrl);let os=aTe;const lTe=uTe();let y9=lTe;const g9=()=>os,E1t=()=>y9;function uTe(){const e=os.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${os.scheme}://${os.host}${os.port!=null?`:${os.port}`:""}`}${t}`}function $i(e){if(!e)return null;const t={path:null,query:null},r=new gm(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=v9(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function v9(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function S_(e,t){return e?Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t==null?void 0:t[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>i3(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):i3(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function cTe(e=!1){let t,r=_v.proxyUrl;if(typeof e=="string"){t=gTe(e);const n=qE(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw eTe().warn(GB),new q("urlUtils:proxy-not-set",GB);return t&&IA()&&(r=S9(r)),$i(r)}function dTe(e){const t=qE(e);let r,n;if(t){const i=b9(t.proxyUrl);r=i.path,n=i.query?v9(i.query):null}if(r){const i=$i(e);e=r+"?"+i.path;const s=S_({...n,...i.query});s&&(e=`${e}?${s}`)}return e}const h1={path:"",query:""};function b9(e){const t=e.indexOf("?");return t!==-1?(h1.path=e.slice(0,t),h1.query=e.slice(t+1)):(h1.path=e,h1.query=null),h1}function $re(e){return e=(e=o3(e=STe(e=b9(e).path),!0)).toLowerCase()}function pTe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:$re(e.urlPrefix)},r=_v.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function qE(e){const t=_v.proxyRules,r=$re(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function hTe(e,t){if(!e||!t)return!1;e=s3(e),t=s3(t);const r=UB(e),n=UB(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&H0(e,t,!0)}function Tre(e,t){return e=s3(e),t=s3(t),o3(e)===o3(t)}function s3(e){const t=(e=Oa(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function kA(e,t=_v.interceptors){const r=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n);if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function H0(e,t,r=!1){if(!e||!t)return!1;const n=PA(e),i=PA(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function w9(e){if(typeof e=="string"){if(!jo(e))return!0;e=PA(e)}if(H0(e,os))return!0;const t=_v.trustedServers||[];for(let r=0;r<t.length;r++){const n=fTe(t[r]);for(let i=0;i<n.length;i++)if(H0(e,n[i]))return!0}return!1}function fTe(e){return KS[e]||(x9(e)||Fu(e)?KS[e]=[new gm(_a(e))]:KS[e]=[new gm(`http://${e}`),new gm(`https://${e}`)]),KS[e]}function _a(e,t=y9,r){return Fu(e)?r!=null&&r.preserveProtocolRelative?e:os.scheme==="http"&&os.authority===Pa(e).slice(2)?`http:${e}`:`https:${e}`:x9(e)?e:Z0(e[0]==="/"?_Te(t):t,e)}function _9(e,t=y9,r){if(e==null||!jo(e))return e;const n=Oa(e),i=n.toLowerCase(),s=Oa(t).toLowerCase().replace(/\/+$/,""),o=r?Oa(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(h,f,y)=>(y=h.indexOf(f,y))===-1?h.length:y;let l=a(i,"/",i.indexOf("//")+2),u=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(u=l+1,l!==i.length);)l=a(i,"/",l+1);if(u===-1||o&&u<o.length)return e;e=n.slice(u);const d=s.slice(u-1).replaceAll(/[^/]+/g,"").length;if(d>0)for(let h=0;h<d;h++)e=`../${e}`;else e=`./${e}`;return e}function Oa(e){return e=MTe(e=TTe(e=$Te(e=_a(e=e.trim()))))}function Z0(...e){const t=e.filter(zi);if(!(t!=null&&t.length))return;const r=[];if(jo(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),bTe(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function Pa(e,t=!1){if(e==null||HE(e)||sy(e))return null;let r=e.indexOf("://");if(r===-1&&Fu(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=o3(e,!0)),e}function jo(e){return Fu(e)||x9(e)}function HE(e){return e!=null&&e.slice(0,5)==="blob:"}function sy(e){return e!=null&&e.slice(0,5)==="data:"}function mTe(e){const t=$_(e);return t!=null&&t.isBase64?X$e(t.data):null}function k1t(e){return Q$e(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const yTe=/^data:(.*?)(;base64)?,(.*)$/;function $_(e){const t=e.match(yTe);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function Mre(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function I1t(e){return(await fetch(e)).blob()}function O1t(e){const t=mTe(e);if(!t)return null;const r=$_(e);return new Blob([t],{type:r.mediaType})}function Fu(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function x9(e){return e!=null&&xre.test(e)}function gTe(e){return e!=null&&tTe.test(e)||os.scheme==="https"&&Fu(e)}function vTe(e){return e!=null&&Sre.test(e)||os.scheme==="http"&&Fu(e)}function bTe(e){return e!=null&&rTe.test(e)}function S9(e){return Fu(e)?`https:${e}`:e.replace(Sre,"https:")}function wTe(){return os.scheme==="http"}function IA(){return os.scheme==="https"}function o3(e,t=!1){return Fu(e)?e.slice(2):(e=e.replace(xre,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function _Te(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function xTe(e){let t=0;if(jo(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function P1t(e,t){if(!e)return"";const r=$i(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")}function STe(e){return e.endsWith("/")?e:`${e}/`}function Cre(e){return e.replace(/\/+$/,"")}function $Te(e){if(/^https?:\/\//i.test(e)){const t=b9(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function TTe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function MTe(e){const t=_v.httpsDomains;if(!vTe(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),nTe.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return wTe()&&n===os.authority&&!iTe.test(e)||(IA()&&n===os.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||IA()&&!qE(e))&&(e=S9(e)),e}function OA(e,t,r){if(!(t&&r&&e&&jo(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function PA(e){return typeof e=="string"?new gm(_a(e)):(e.scheme||(e.scheme=os.scheme),e)}function A1t(e){return ETe.test(e)}function Ere(e,t){const r=$i(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function CTe(e,t,r){const n=$i(e),i=n.query||{};return i[t]=String(r),`${n.path}?${S_(i)}`}function Sw(e,t){if(!t)return e;const r=$i(e),n=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(n[s]=o);const i=S_(n);return i?`${r.path}?${i}`:r.path}function R1t(e){if(e==null)return null;const t=e.match(kre);return t?t[2]:null}function WB(e){if(e==null)return null;const t=e.match(kre);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function L1t(e){return typeof e=="string"?$_(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t($_(n.result)),n.onerror=i=>r(i)})}const kre=/([^.]*)\.([^/]*)$/,ETe=/(^data:image\/svg|\.svg$)/i,Ire="20240724",Ore="ac51c09e1d17be02f839eb2e22bd05fd7a16c2d3";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const kTe="4.30";let St,$9=kTe;$9="4.30.9";function j1t(e){St=e}function N1t(e){const t=St==null?void 0:St.findCredential(e);return t!=null&&t.token?CTe(e,"token",t.token):e}J("host-webworker");const ITe=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Pre(e){const t=Pa(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!ITe.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function OTe(e,t,r=!1,n){return new Promise((i,s)=>{if(ld(n))return void s(qB());let o=()=>{u(),s(new Error(`Unable to load ${t}`))},a=()=>{const d=e;u(),i(d)},l=()=>{if(!e)return;const d=e;u(),d.src="",s(qB())};const u=()=>{J("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,n!=null&&n.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};n!=null&&n.addEventListener("abort",l),J("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function qB(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Are="Timeout exceeded";function PTe(){return new Error(Are)}function F1t(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===Are}function ATe(e){Ft.request.crossOriginNoCorsDomains||(Ft.request.crossOriginNoCorsDomains={});const t=Ft.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Pa(r)??""]=0:(t[Pa("http://"+r)??""]=0,t[Pa("https://"+r)??""]=0)}function RTe(e){const t=Ft.request.crossOriginNoCorsDomains;if(t){let r=Pa(e);if(r)return r=r.toLowerCase(),!H0(r,g9())&&t[r]<Date.now()-36e5}return!1}async function LTe(e){var i;const t=Ft.request.crossOriginNoCorsDomains,r=Pa(e);t&&r&&(t[r.toLowerCase()]=Date.now());const n=$i(e);e=n.path,((i=n.query)==null?void 0:i.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function yr(e,t){var f;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=v9(t.query.toString().replaceAll("+"," ")));const r=sy(e),n=HE(e);n||r||(e=Oa(e));const i={url:e,requestOptions:{...t}},s=y=>({data:y,getAllHeaders:Y0,getHeader:Y0,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=kA(e,ha.internalInterceptors);if(o){const y=await ZB(o,i);if(y!=null)return s(y)}let a=kA(e);if(a){const y=await ZB(a,i);if(y!=null)return s(y);a.after||a.error||(a=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(J("host-webworker")||J("host-node")))throw Ru("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw Ru("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Ru("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await zTe(),a3)return a3.execute(e,t);const l=new AbortController,u=Ia(t,()=>l.abort()),d={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:ha.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},h=await GTe(d).finally(()=>u==null?void 0:u.remove());return(f=a==null?void 0:a.after)==null||f.call(a,h),h}let a3;const ha=Ft.request,Rre="FormData"in globalThis,jTe=new Set([499,498,403,401]),NTe=new Set(["COM_0056","COM_0057","SB_0008"]),FTe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Y0=()=>null,l3=Symbol();function DTe(e){const t=Pa(e);t&&!yr._corsServers.includes(t)&&yr._corsServers.push(t)}function HB(e){const t=Pa(e);return!t||t.endsWith(".arcgis.com")||yr._corsServers.includes(t)||w9(t)}function Ru(e,t,r,n){let i="Error";const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Y0,getHeader:Y0,ssl:!1};if(t instanceof q)return t.details?(t.details=W(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(()=>Array.from(n.headers)),a=n&&(d=>n.headers.get(d)),l=n==null?void 0:n.status,u=t.message;u&&(i=u),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=l3 in t?t[l3]:t}return ms(t)?Bn():new q(e,i,s)}async function zTe(){J("host-webworker")&&!a3&&(a3=await Q(()=>import("./request-CHDwaKq3.js"),[],import.meta.url))}async function AA(){St||await Q(()=>import("./IdentityManager-ClAcT_md.js"),[],import.meta.url)}async function VTe(e){var a;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(Rre&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:ha.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(a=r.query)!=null&&a.token||s!=null&&s.get("token")),!e.hasToken&&Ft.apiKey&&Pre(t)&&(r.query||(r.query={}),r.query.token=Ft.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!Lre(t)&&!ld(n)){let l;r.authMode==="immediate"?(await AA(),l=await St.getCredential(t,{signal:n}),e.credential=l):r.authMode==="no-prompt"?(await AA(),l=await St.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):St&&(l=St.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function Lre(e){return FTe.some(t=>t.test(e))}async function BTe(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},i=HE(t)||sy(t),s=r.responseType||"json",o=i?0:r.timeout!=null?r.timeout:ha.timeout;let a=!1;if(!i){e.useSSL&&(t=S9(t));let f={...r.query};e.credentialToken&&(f.token=e.credentialToken);let y=S_(f);J("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let v;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>ha.maxUrlLength;const b=r.useProxy||!!qE(t);if(b){const _=cTe(t);v=_.path,!a&&v.length+1+g>ha.maxUrlLength&&(a=!0),_.query&&(f={..._.query,...f})}if(n.method==="HEAD"&&(a||b)){if(a)throw g>ha.maxUrlLength?Ru("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ru("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(b)throw Ru("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(a?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Sw(t,f):(n.body=S_(f),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Sw(t,f),b&&(e.useProxy=!0,t=`${v}?${t}`),f.token&&Rre&&n.body instanceof FormData&&!K$e(t)&&n.body.set("token",f.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!H0(t,g9())){if(w9(t))e.withCredentials=!0;else if(St){const _=St.findServerInfo(t);_!=null&&_.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",RTe(t)&&await LTe(a?Sw(t,f):t))}let l,u,d=0,h=!1;o>0&&(d=setTimeout(()=>{h=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")u=n,u.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||a||UTe(r.headers)||!i&&!e.useProxy&&ha.proxyUrl&&!HB(t)){if(yr._beforeFetch&&await yr._beforeFetch(t,n),l=await fetch(t,n),yr._afterFetch&&await yr._afterFetch(l),e.useProxy||DTe(t),r.responseType==="native")u=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(d&&(clearTimeout(d),d=0),s==="json"||s==="xml"||s==="document")if(u)switch(s){case"json":u=JSON.parse(u);break;case"xml":u=YB(u,"application/xml");break;case"document":u=YB(u,"text/html")}else u=null;if(u){if(s==="array-buffer"||s==="blob"){const f=l.headers.get("Content-Type");if(f&&/application\/json|text\/plain/i.test(f)&&u[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(u).json();y.error&&(u=y)}catch{}}s==="image"&&u instanceof Blob&&(u=await JB(URL.createObjectURL(u),e,!0))}}else{u=await l.text();try{u=JSON.parse(u)}catch{}}}else u=await JB(t,e)}catch(f){if(f.name==="AbortError")throw h?PTe():Bn("Request canceled");if(!(!l&&f instanceof TypeError&&ha.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||HB(t))throw f;e.redoRequest=!0,pTe({proxyUrl:ha.proxyUrl,urlPrefix:Pa(t)??""})}finally{d&&clearTimeout(d)}return[l,u]}async function ZB(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Ru("request:interceptor",i,t)}if((n instanceof Error||n instanceof q)&&(r=Ru("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function UTe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function YB(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function GTe(e){var s,o;let t,r;await VTe(e);try{do[t,r]=await BTe(e);while(!await WTe(e,t,r))}catch(a){const l=Ru("request:server",a,e.params,t);throw l.details.ssl=e.useSSL,(s=e.interceptor)!=null&&s.error&&e.interceptor.error(l),l}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((o=r.user)!=null&&o.username)&&!w9(n)){const a=Pa(n,!0);a&&ha.trustedServers.push(a)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&ATe(r.authorizedCrossOriginNoCorsDomains)}const i=e.credential;if(i&&St){const a=St.findServerInfo(i.server);let l=a==null?void 0:a.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const u=St.findCredential(l,i.userId);u&&St._getIdenticalSvcIdx(l,u)===-1&&u.resources.unshift(l)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Y0,getHeader:t?a=>t.headers.get(a):Y0,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function WTe(e,t,r){var u;if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(r&&(r.error&&typeof r.error=="object"?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[l3]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[l3]=r,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o==null?void 0:o.toUpperCase());const l=n.authMode;if(s===403&&(a===4||(u=i.message)!=null&&u.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&jTe.has(s)&&!Lre(e.params.url)&&(s!==403||(!o||!NTe.has(o))&&(a==null||a===2&&e.credentialToken))){await AA();try{const d=await St.getCredential(e.params.url,{error:Ru("request:server",i,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=d,e.credentialToken=d.token,e.useSSL=e.useSSL||d.ssl,!1}catch(d){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=d}}if(i)throw i;return!0}function JB(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=ha.priority,i.src=e,OTe(i,e,r,n)}yr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],yr._beforeFetch=void 0,yr._afterFetch=void 0;function er(e){if(!Ft.assetsPath)throw ie.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new q("assets:path-not-set","config.assetsPath is not set");return Z0(Ft.assetsPath,e)}let B5,H=null;function T9(){return!!H}function qTe(){return!!J("esri-wasm")}function jre(){return B5||(B5=Q(()=>import("./pe-wasm-Bl9jSpWV.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>er(`esri/geometry/support/${t}`)})).then(e=>{Fre(e)}),B5)}var RA,an,LA;(function(e){function t(s,o,a){H.ensureCache.prepare();const l=Wf(a),u=a===l,d=H.ensureFloat64(l),h=H._pe_geog_to_proj(H.getPointer(s),o,d);return h&&Ep(a,o,d,u),h}function r(s,o,a,l){switch(l){case an.PE_TRANSFORM_P_TO_G:return n(s,o,a);case an.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function n(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){H.ensureCache.prepare();const u=Wf(a),d=a===u,h=H.ensureFloat64(u),f=H._pe_proj_to_geog_center(H.getPointer(s),o,h,l);return f&&Ep(a,o,h,d),f}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(RA||(RA={})),function(e){function t(){e.PE_BUFFER_MAX=H.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=H.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=H.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=H.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=H.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=H.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=H.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=H.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=H.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=H.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=H.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=H.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=H.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=H.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=H.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=H.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=H.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=H.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=H.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=H.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=H.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=H.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=H.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=H.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=H.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=H.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=H.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=H.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=H.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=H.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=H.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=H.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(an||(an={})),function(e){const t={},r={},n=y=>{if(y){const g=y.getType();switch(g){case an.PE_TYPE_GEOGCS:y=H.castObject(y,H.PeGeogcs);break;case an.PE_TYPE_PROJCS:y=H.castObject(y,H.PeProjcs);break;case an.PE_TYPE_GEOGTRAN:y=H.castObject(y,H.PeGeogtran);break;default:g&an.PE_TYPE_UNIT&&(y=H.castObject(y,H.PeUnit))}}return y};function i(){H.PeFactory.prototype.initialize(null)}function s(y){return o(an.PE_TYPE_COORDSYS,y)}function o(y,g){let v=null,b=t[y];if(b||(b={},t[y]=b),b.hasOwnProperty(String(g)))v=b[g];else{const _=H.PeFactory.prototype.factoryByType(y,g);H.compare(_,H.NULL)||(v=_,b[g]=v)}return v=n(v),v}function a(y,g){let v=null,b=r[y];if(b||(b={},r[y]=b),b.hasOwnProperty(g))v=b[g];else{const _=H.PeFactory.prototype.fromString(y,g);H.compare(_,H.NULL)||(v=_,b[g]=v)}return v=n(v),v}function l(y){return o(an.PE_TYPE_GEOGCS,y)}function u(y){return o(an.PE_TYPE_GEOGTRAN,y)}function d(y){return H.PeFactory.prototype.getCode(y)}function h(y){return o(an.PE_TYPE_PROJCS,y)}function f(y){return o(an.PE_TYPE_UNIT,y)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=u,e.getCode=d,e.projcs=h,e.unit=f}(LA||(LA={}));let Nre=null;var u3,jA,NA,FA,c3,DA,d3,p3,zA;function Fre(e){function t(s,o,a){s[o]=a(s[o])}H=e,an.init(),u3.init(),c3.init(),d3.init(),p3.init(),Nre=class extends H.PeGCSExtent{destroy(){H.destroy(this)}};const r=[H.PeDatum,H.PeGeogcs,H.PeGeogtran,H.PeObject,H.PeParameter,H.PePrimem,H.PeProjcs,H.PeSpheroid,H.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(an.PE_NAME_MAX))});for(const s of[H.PeGeogtran,H.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(an.PE_PARM_MAX);let l=o.call(this);for(let u=0;u<a.length;u++){const d=H.getValue(l,"*");a[u]=d?H.wrapPointer(d,H.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(H.PeHorizon.prototype,"getCoord",s=>function(){const o=this.getSize();if(!o)return null;const a=[];return Ep(a,o,s.call(this)),a}),t(H.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=H._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const u=this.getSteps();if(u>1){const d=H.getPointer(l);for(let h=1;h<u;h++)a.push(H.wrapPointer(d+o*h,H.PeGTlistExtendedGTs))}}return a}});const n=H._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const u=l.getNump();if(u>1){const d=H.getPointer(l);for(let h=1;h<u;h++)a.push(H.wrapPointer(d+n*h,H.PeHorizon))}}return o.set(s,a),a};t(H.PeProjcs.prototype,"horizonGcsGenerate",i),t(H.PeProjcs.prototype,"horizonPcsGenerate",i),H.PeObject.prototype.toString=function(s=an.PE_STR_OPTS_NONE){H.ensureCache.prepare();const o=H.getPointer(this),a=H.ensureInt8(new Array(an.PE_BUFFER_MAX));return H.UTF8ToString(H._pe_object_to_string_ext(o,s,a))}}function tc(e){if(!e)return;const t=H.getClass(e);if(!t)return;const r=H.getCache(t);if(!r)return;const n=H.getPointer(e);n&&delete r[n]}function XS(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(H.ensureInt8(n));return r}function Wf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Ep(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=H.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=H.getValue(r,"double"),e[s][1]=H.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=H.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=H._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,a,l,u){let d=null;const h=new H.PeInteger(u);try{const f=H.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,h);if((u=h.val)&&(d=[f],u>1)){const y=H.getPointer(f);for(let g=1;g<u;g++)d.push(H.wrapPointer(y+t*g,H.PeGTlistExtendedEntry))}}finally{H.destroy(h)}return d}e.init=r,e.getGTlist=n})(u3||(u3={})),function(e){function t(r){if(r!=null&&r.length){for(const n of r)tc(n),n.getEntries().forEach(i=>{tc(i);const s=i.getGeogtran();tc(s),s.getParameters().forEach(tc),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{tc(o);const a=o.getDatum();tc(a),tc(a.getSpheroid()),tc(o.getPrimem()),tc(o.getUnit())})});H.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(jA||(jA={})),function(e){function t(r,n,i,s,o){H.ensureCache.prepare();const a=Wf(i),l=i===a,u=H.ensureFloat64(a);let d=0;s&&(d=H.ensureFloat64(s));const h=H._pe_geog_to_geog(H.getPointer(r),n,u,d,o);return h&&Ep(i,n,u,l),h}e.geogToGeog=t}(NA||(NA={})),function(e){const t=(u,d,h,f,y,g)=>{let v,b;switch(H.ensureCache.prepare(),u){case"dd":v=H._pe_geog_to_dd,b=an.PE_DD_MAX;break;case"ddm":v=H._pe_geog_to_ddm,b=an.PE_DDM_MAX;break;case"dms":v=H._pe_geog_to_dms,b=an.PE_DMS_MAX}let _=0;d&&(_=H.getPointer(d));const x=Wf(f),S=H.ensureFloat64(x),$=XS(h,b),C=v(_,h,S,y,H.ensureInt32($));if(C)for(let k=0;k<h;k++)g[k]=H.UTF8ToString($[k]);return C},r=(u,d,h,f,y)=>{let g;switch(H.ensureCache.prepare(),u){case"dd":g=H._pe_dd_to_geog;break;case"ddm":g=H._pe_ddm_to_geog;break;case"dms":g=H._pe_dms_to_geog}let v=0;d&&(v=H.getPointer(d));const b=f.map($=>H.ensureString($)),_=H.ensureInt32(b),x=H.ensureFloat64(new Array(2*h)),S=g(v,h,_,x);return S&&Ep(y,h,x),S};function n(u,d,h,f,y){return t("dms",u,d,h,f,y)}function i(u,d,h,f){return r("dms",u,d,h,f)}function s(u,d,h,f,y){return t("ddm",u,d,h,f,y)}function o(u,d,h,f){return r("ddm",u,d,h,f)}function a(u,d,h,f,y){return t("dd",u,d,h,f,y)}function l(u,d,h,f){return r("dd",u,d,h,f)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(FA||(FA={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=H.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=H.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,a,l,u,d){H.ensureCache.prepare();let h=0;i&&(h=H.getPointer(i));const f=Wf(o),y=H.ensureFloat64(f),g=XS(s,an.PE_MGRS_MAX),v=H.ensureInt32(g),b=H._pe_geog_to_mgrs_extended(h,s,y,a,l,u,v);if(b)for(let _=0;_<s;_++)d[_]=H.UTF8ToString(g[_]);return b}function n(i,s,o,a,l){H.ensureCache.prepare();let u=0;i&&(u=H.getPointer(i));const d=o.map(g=>H.ensureString(g)),h=H.ensureInt32(d),f=H.ensureFloat64(new Array(2*s)),y=H._pe_mgrs_to_geog_extended(u,s,h,a,f);return y&&Ep(l,s,f),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(c3||(c3={})),function(e){function t(n,i,s,o,a,l,u){H.ensureCache.prepare();let d=0;n&&(d=H.getPointer(n));const h=Wf(s),f=H.ensureFloat64(h),y=XS(i,an.PE_MGRS_MAX),g=H.ensureInt32(y),v=H._pe_geog_to_usng(d,i,f,o,a,l,g);if(v)for(let b=0;b<i;b++)u[b]=H.UTF8ToString(y[b]);return v}function r(n,i,s,o){H.ensureCache.prepare();let a=0;n&&(a=H.getPointer(n));const l=s.map(f=>H.ensureString(f)),u=H.ensureInt32(l),d=H.ensureFloat64(new Array(2*i)),h=H._pe_usng_to_geog(a,i,u,d);return h&&Ep(o,i,d),h}e.geogToUsng=t,e.usngToGeog=r}(DA||(DA={})),function(e){function t(){e.PE_UTM_OPTS_NONE=H.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=H.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=H.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,a,l){H.ensureCache.prepare();let u=0;i&&(u=H.getPointer(i));const d=Wf(o),h=H.ensureFloat64(d),f=XS(s,an.PE_UTM_MAX),y=H.ensureInt32(f),g=H._pe_geog_to_utm(u,s,h,a,y);if(g)for(let v=0;v<s;v++)l[v]=H.UTF8ToString(f[v]);return g}function n(i,s,o,a,l){H.ensureCache.prepare();let u=0;i&&(u=H.getPointer(i));const d=o.map(g=>H.ensureString(g)),h=H.ensureInt32(d),f=H.ensureFloat64(new Array(2*s)),y=H._pe_utm_to_geog(u,s,h,a,f);return y&&Ep(l,s,f),y}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(d3||(d3={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=H.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=H.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=H.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=r,e.generate=n}(p3||(p3={})),function(e){function t(){return H.PeVersion.prototype.version_string()}e.versionString=t}(zA||(zA={}));const HTe=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return RA},get PeDefs(){return an},get PeFactory(){return LA},get PeGCSExtent(){return Nre},get PeGTTransformations(){return NA},get PeGTlistExtended(){return u3},get PeGTlistExtendedEntry(){return jA},get PeNotationDms(){return FA},get PeNotationMgrs(){return c3},get PeNotationUsng(){return DA},get PeNotationUtm(){return d3},get PePCSInfo(){return p3},get PeVersion(){return zA},_init:Fre,get _pe(){return H},isLoaded:T9,isSupported:qTe,load:jre},Symbol.toStringTag,{value:"Module"}));var xa;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(xa||(xa={}));let m;const A={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(m=2e3;m<=2045;m++)A[m]=0;for(m=2056;m<=2065;m++)A[m]=0;for(m=2067;m<=2135;m++)A[m]=0;for(m=2137;m<=2154;m++)A[m]=0;for(m=2161;m<=2170;m++)A[m]=0;for(m=2172;m<=2193;m++)A[m]=0;for(m=2195;m<=2198;m++)A[m]=0;for(m=2200;m<=2203;m++)A[m]=0;for(m=2205;m<=2217;m++)A[m]=0;for(m=2222;m<=2224;m++)A[m]=1;for(m=2225;m<=2250;m++)A[m]=2;for(m=2251;m<=2253;m++)A[m]=1;for(m=2257;m<=2264;m++)A[m]=2;for(m=2274;m<=2279;m++)A[m]=2;for(m=2280;m<=2282;m++)A[m]=1;for(m=2283;m<=2289;m++)A[m]=2;for(m=2290;m<=2292;m++)A[m]=0;for(m=2308;m<=2313;m++)A[m]=0;for(m=2315;m<=2491;m++)A[m]=0;for(m=2494;m<=2866;m++)A[m]=0;for(m=2867;m<=2869;m++)A[m]=1;for(m=2870;m<=2888;m++)A[m]=2;for(m=2891;m<=2895;m++)A[m]=2;for(m=2896;m<=2898;m++)A[m]=1;for(m=2902;m<=2908;m++)A[m]=2;for(m=2915;m<=2920;m++)A[m]=2;for(m=2921;m<=2923;m++)A[m]=1;for(m=2924;m<=2930;m++)A[m]=2;for(m=2931;m<=2962;m++)A[m]=0;for(m=2964;m<=2968;m++)A[m]=2;for(m=2969;m<=2973;m++)A[m]=0;for(m=2975;m<=2991;m++)A[m]=0;for(m=2995;m<=3051;m++)A[m]=0;for(m=3054;m<=3079;m++)A[m]=0;for(m=3081;m<=3088;m++)A[m]=0;for(m=3092;m<=3101;m++)A[m]=0;for(m=3106;m<=3138;m++)A[m]=0;for(m=3146;m<=3151;m++)A[m]=0;for(m=3153;m<=3166;m++)A[m]=0;for(m=3168;m<=3172;m++)A[m]=0;for(m=3174;m<=3203;m++)A[m]=0;for(m=3294;m<=3358;m++)A[m]=0;for(m=3367;m<=3403;m++)A[m]=0;for(m=3408;m<=3416;m++)A[m]=0;for(m=3417;m<=3438;m++)A[m]=2;for(m=3441;m<=3446;m++)A[m]=2;for(m=3447;m<=3450;m++)A[m]=0;for(m=3451;m<=3459;m++)A[m]=2;for(m=3460;m<=3478;m++)A[m]=0;for(m=3554;m<=3559;m++)A[m]=0;for(m=3560;m<=3570;m++)A[m]=2;for(m=3571;m<=3581;m++)A[m]=0;for(m=3594;m<=3597;m++)A[m]=0;for(m=3601;m<=3604;m++)A[m]=0;for(m=3637;m<=3639;m++)A[m]=0;for(m=3665;m<=3667;m++)A[m]=0;for(m=3693;m<=3695;m++)A[m]=0;for(m=3701;m<=3727;m++)A[m]=0;for(m=3728;m<=3739;m++)A[m]=2;for(m=3740;m<=3751;m++)A[m]=0;for(m=3753;m<=3760;m++)A[m]=2;for(m=3761;m<=3773;m++)A[m]=0;for(m=3775;m<=3777;m++)A[m]=0;for(m=3779;m<=3781;m++)A[m]=0;for(m=3783;m<=3785;m++)A[m]=0;for(m=3788;m<=3791;m++)A[m]=0;for(m=3797;m<=3802;m++)A[m]=0;for(m=3814;m<=3816;m++)A[m]=0;for(m=3825;m<=3829;m++)A[m]=0;for(m=3832;m<=3841;m++)A[m]=0;for(m=3844;m<=3852;m++)A[m]=0;for(m=3873;m<=3885;m++)A[m]=0;for(m=3890;m<=3893;m++)A[m]=0;for(m=3907;m<=3912;m++)A[m]=0;for(m=3942;m<=3950;m++)A[m]=0;for(m=3968;m<=3970;m++)A[m]=0;for(m=3973;m<=3976;m++)A[m]=0;for(m=3986;m<=3989;m++)A[m]=0;for(m=3994;m<=3997;m++)A[m]=0;for(m=4048;m<=4051;m++)A[m]=0;for(m=4056;m<=4063;m++)A[m]=0;for(m=4093;m<=4096;m++)A[m]=0;for(m=4390;m<=4398;m++)A[m]=0;for(m=4399;m<=4413;m++)A[m]=2;for(m=4418;m<=4433;m++)A[m]=2;for(m=4455;m<=4457;m++)A[m]=2;for(m=4484;m<=4489;m++)A[m]=0;for(m=4491;m<=4554;m++)A[m]=0;for(m=4568;m<=4589;m++)A[m]=0;for(m=4652;m<=4656;m++)A[m]=0;for(m=4766;m<=4800;m++)A[m]=0;for(m=5014;m<=5016;m++)A[m]=0;for(m=5069;m<=5072;m++)A[m]=0;for(m=5105;m<=5130;m++)A[m]=0;for(m=5167;m<=5188;m++)A[m]=0;for(m=5253;m<=5259;m++)A[m]=0;for(m=5269;m<=5275;m++)A[m]=0;for(m=5292;m<=5311;m++)A[m]=0;for(m=5329;m<=5331;m++)A[m]=0;for(m=5343;m<=5349;m++)A[m]=0;for(m=5355;m<=5357;m++)A[m]=0;for(m=5387;m<=5389;m++)A[m]=0;for(m=5459;m<=5463;m++)A[m]=0;for(m=5479;m<=5482;m++)A[m]=0;for(m=5518;m<=5520;m++)A[m]=0;for(m=5530;m<=5539;m++)A[m]=0;for(m=5550;m<=5552;m++)A[m]=0;for(m=5562;m<=5583;m++)A[m]=0;for(m=5623;m<=5625;m++)A[m]=2;for(m=5631;m<=5639;m++)A[m]=0;for(m=5649;m<=5653;m++)A[m]=0;for(m=5663;m<=5680;m++)A[m]=0;for(m=5682;m<=5685;m++)A[m]=0;for(m=5875;m<=5877;m++)A[m]=0;for(m=5896;m<=5899;m++)A[m]=0;for(m=5921;m<=5940;m++)A[m]=0;for(m=6050;m<=6125;m++)A[m]=0;for(m=6244;m<=6275;m++)A[m]=0;for(m=6328;m<=6348;m++)A[m]=0;for(m=6350;m<=6356;m++)A[m]=0;for(m=6366;m<=6372;m++)A[m]=0;for(m=6381;m<=6387;m++)A[m]=0;for(m=6393;m<=6404;m++)A[m]=0;for(m=6480;m<=6483;m++)A[m]=0;for(m=6511;m<=6514;m++)A[m]=0;for(m=6579;m<=6581;m++)A[m]=0;for(m=6619;m<=6624;m++)A[m]=0;for(m=6625;m<=6627;m++)A[m]=2;for(m=6628;m<=6632;m++)A[m]=0;for(m=6634;m<=6637;m++)A[m]=0;for(m=6669;m<=6692;m++)A[m]=0;for(m=6707;m<=6709;m++)A[m]=0;for(m=6720;m<=6723;m++)A[m]=0;for(m=6732;m<=6738;m++)A[m]=0;for(m=6931;m<=6933;m++)A[m]=0;for(m=6956;m<=6959;m++)A[m]=0;for(m=7005;m<=7007;m++)A[m]=0;for(m=7057;m<=7070;m++)A[m]=2;for(m=7074;m<=7082;m++)A[m]=0;for(m=7109;m<=7118;m++)A[m]=0;for(m=7119;m<=7127;m++)A[m]=1;for(m=7374;m<=7376;m++)A[m]=0;for(m=7528;m<=7586;m++)A[m]=0;for(m=7587;m<=7645;m++)A[m]=2;for(m=7692;m<=7696;m++)A[m]=0;for(m=7755;m<=7787;m++)A[m]=0;for(m=7791;m<=7795;m++)A[m]=0;for(m=7799;m<=7801;m++)A[m]=0;for(m=7803;m<=7805;m++)A[m]=0;for(m=7825;m<=7831;m++)A[m]=0;for(m=7845;m<=7859;m++)A[m]=0;for(m=8013;m<=8032;m++)A[m]=0;for(m=8065;m<=8068;m++)A[m]=1;for(m=8518;m<=8529;m++)A[m]=2;for(m=8533;m<=8536;m++)A[m]=2;for(m=8538;m<=8540;m++)A[m]=2;for(m=8677;m<=8679;m++)A[m]=0;for(m=8836;m<=8840;m++)A[m]=0;for(m=8857;m<=8859;m++)A[m]=0;for(m=8908;m<=8910;m++)A[m]=0;for(m=9154;m<=9159;m++)A[m]=0;for(m=9205;m<=9218;m++)A[m]=0;for(m=9271;m<=9273;m++)A[m]=0;for(m=9295;m<=9297;m++)A[m]=0;for(m=9356;m<=9360;m++)A[m]=0;for(m=9404;m<=9407;m++)A[m]=0;for(m=9476;m<=9482;m++)A[m]=0;for(m=9487;m<=9494;m++)A[m]=0;for(m=9697;m<=9699;m++)A[m]=0;for(m=9821;m<=9865;m++)A[m]=0;for(m=10285;m<=10291;m++)A[m]=0;for(m=10314;m<=10317;m++)A[m]=0;for(m=10448;m<=10465;m++)A[m]=0;for(m=10731;m<=10733;m++)A[m]=0;for(m=11114;m<=11118;m++)A[m]=0;for(m=20004;m<=20032;m++)A[m]=0;for(m=20047;m<=20049;m++)A[m]=0;for(m=20062;m<=20092;m++)A[m]=0;for(m=20135;m<=20138;m++)A[m]=0;for(m=20248;m<=20258;m++)A[m]=0;for(m=20348;m<=20358;m++)A[m]=0;for(m=20436;m<=20440;m++)A[m]=0;for(m=20822;m<=20824;m++)A[m]=0;for(m=20904;m<=20932;m++)A[m]=0;for(m=20934;m<=20936;m++)A[m]=0;for(m=21004;m<=21032;m++)A[m]=0;for(m=21035;m<=21037;m++)A[m]=0;for(m=21095;m<=21097;m++)A[m]=0;for(m=21148;m<=21150;m++)A[m]=0;for(m=21207;m<=21264;m++)A[m]=0;for(m=21307;m<=21364;m++)A[m]=0;for(m=21413;m<=21423;m++)A[m]=0;for(m=21453;m<=21463;m++)A[m]=0;for(m=21473;m<=21483;m++)A[m]=0;for(m=21780;m<=21782;m++)A[m]=0;for(m=21891;m<=21894;m++)A[m]=0;for(m=21896;m<=21899;m++)A[m]=0;for(m=22171;m<=22177;m++)A[m]=0;for(m=22181;m<=22187;m++)A[m]=0;for(m=22191;m<=22197;m++)A[m]=0;for(m=22207;m<=22222;m++)A[m]=0;for(m=22229;m<=22232;m++)A[m]=0;for(m=22234;m<=22236;m++)A[m]=0;for(m=22243;m<=22250;m++)A[m]=0;for(m=22262;m<=22265;m++)A[m]=0;for(m=22307;m<=22322;m++)A[m]=0;for(m=22348;m<=22357;m++)A[m]=0;for(m=22407;m<=22422;m++)A[m]=0;for(m=22462;m<=22465;m++)A[m]=0;for(m=22521;m<=22525;m++)A[m]=0;for(m=22607;m<=22622;m++)A[m]=0;for(m=22641;m<=22646;m++)A[m]=0;for(m=22648;m<=22657;m++)A[m]=0;for(m=22707;m<=22722;m++)A[m]=0;for(m=22762;m<=22765;m++)A[m]=0;for(m=22807;m<=22822;m++)A[m]=0;for(m=22991;m<=22994;m++)A[m]=0;for(m=23028;m<=23038;m++)A[m]=0;for(m=23301;m<=23333;m++)A[m]=2;for(m=23830;m<=23853;m++)A[m]=0;for(m=23866;m<=23872;m++)A[m]=0;for(m=23877;m<=23884;m++)A[m]=0;for(m=23886;m<=23894;m++)A[m]=0;for(m=23946;m<=23948;m++)A[m]=0;for(m=24311;m<=24313;m++)A[m]=0;for(m=24342;m<=24347;m++)A[m]=0;for(m=24370;m<=24374;m++)A[m]=10;for(m=24375;m<=24381;m++)A[m]=0;for(m=24718;m<=24721;m++)A[m]=0;for(m=24817;m<=24821;m++)A[m]=0;for(m=24877;m<=24882;m++)A[m]=0;for(m=24891;m<=24893;m++)A[m]=0;for(m=25391;m<=25395;m++)A[m]=0;for(m=25828;m<=25838;m++)A[m]=0;for(m=26191;m<=26195;m++)A[m]=0;for(m=26391;m<=26393;m++)A[m]=0;for(m=26701;m<=26722;m++)A[m]=0;for(m=26729;m<=26799;m++)A[m]=2;for(m=26801;m<=26803;m++)A[m]=2;for(m=26811;m<=26813;m++)A[m]=2;for(m=26847;m<=26870;m++)A[m]=2;for(m=26891;m<=26899;m++)A[m]=0;for(m=26901;m<=26923;m++)A[m]=0;for(m=26929;m<=26946;m++)A[m]=0;for(m=26948;m<=26998;m++)A[m]=0;for(m=27037;m<=27040;m++)A[m]=0;for(m=27205;m<=27232;m++)A[m]=0;for(m=27258;m<=27260;m++)A[m]=0;for(m=27391;m<=27398;m++)A[m]=0;for(m=27561;m<=27564;m++)A[m]=0;for(m=27571;m<=27574;m++)A[m]=0;for(m=27581;m<=27584;m++)A[m]=0;for(m=27591;m<=27594;m++)A[m]=0;for(m=27700;m<=27707;m++)A[m]=0;for(m=28191;m<=28193;m++)A[m]=0;for(m=28348;m<=28358;m++)A[m]=0;for(m=28402;m<=28432;m++)A[m]=0;for(m=28462;m<=28492;m++)A[m]=0;for(m=29118;m<=29122;m++)A[m]=0;for(m=29168;m<=29172;m++)A[m]=0;for(m=29177;m<=29185;m++)A[m]=0;for(m=29187;m<=29195;m++)A[m]=0;for(m=29900;m<=29903;m++)A[m]=0;for(m=30161;m<=30179;m++)A[m]=0;for(m=30491;m<=30494;m++)A[m]=0;for(m=30729;m<=30732;m++)A[m]=0;for(m=31251;m<=31259;m++)A[m]=0;for(m=31265;m<=31268;m++)A[m]=0;for(m=31275;m<=31279;m++)A[m]=0;for(m=31281;m<=31297;m++)A[m]=0;for(m=31461;m<=31469;m++)A[m]=0;for(m=31491;m<=31495;m++)A[m]=0;for(m=31917;m<=31922;m++)A[m]=0;for(m=31965;m<=32e3;m++)A[m]=0;for(m=32001;m<=32003;m++)A[m]=2;for(m=32005;m<=32031;m++)A[m]=2;for(m=32033;m<=32060;m++)A[m]=2;for(m=32064;m<=32067;m++)A[m]=2;for(m=32074;m<=32077;m++)A[m]=2;for(m=32081;m<=32086;m++)A[m]=0;for(m=32107;m<=32130;m++)A[m]=0;for(m=32133;m<=32159;m++)A[m]=0;for(m=32164;m<=32167;m++)A[m]=2;for(m=32180;m<=32199;m++)A[m]=0;for(m=32201;m<=32260;m++)A[m]=0;for(m=32301;m<=32360;m++)A[m]=0;for(m=32401;m<=32460;m++)A[m]=0;for(m=32501;m<=32560;m++)A[m]=0;for(m=32601;m<=32662;m++)A[m]=0;for(m=32664;m<=32667;m++)A[m]=2;for(m=32701;m<=32761;m++)A[m]=0;for(m=53001;m<=53004;m++)A[m]=0;for(m=53008;m<=53019;m++)A[m]=0;for(m=53021;m<=53032;m++)A[m]=0;for(m=53034;m<=53037;m++)A[m]=0;for(m=53042;m<=53046;m++)A[m]=0;for(m=53074;m<=53080;m++)A[m]=0;for(m=54001;m<=54004;m++)A[m]=0;for(m=54008;m<=54019;m++)A[m]=0;for(m=54021;m<=54032;m++)A[m]=0;for(m=54034;m<=54037;m++)A[m]=0;for(m=54042;m<=54046;m++)A[m]=0;for(m=54048;m<=54053;m++)A[m]=0;for(m=54074;m<=54080;m++)A[m]=0;for(m=54098;m<=54101;m++)A[m]=0;for(m=102001;m<=102040;m++)A[m]=0;for(m=102042;m<=102063;m++)A[m]=0;for(m=102065;m<=102067;m++)A[m]=0;for(m=102070;m<=102117;m++)A[m]=0;for(m=102122;m<=102216;m++)A[m]=0;for(m=102221;m<=102377;m++)A[m]=0;for(m=102382;m<=102388;m++)A[m]=0;for(m=102389;m<=102398;m++)A[m]=2;for(m=102399;m<=102444;m++)A[m]=0;for(m=102445;m<=102447;m++)A[m]=2;for(m=102448;m<=102458;m++)A[m]=0;for(m=102459;m<=102468;m++)A[m]=2;for(m=102469;m<=102499;m++)A[m]=0;for(m=102500;m<=102519;m++)A[m]=1;for(m=102520;m<=102524;m++)A[m]=0;for(m=102525;m<=102529;m++)A[m]=2;for(m=102530;m<=102588;m++)A[m]=0;for(m=102590;m<=102598;m++)A[m]=0;for(m=102601;m<=102603;m++)A[m]=0;for(m=102605;m<=102628;m++)A[m]=0;for(m=102629;m<=102646;m++)A[m]=2;for(m=102648;m<=102700;m++)A[m]=2;for(m=102701;m<=102703;m++)A[m]=0;for(m=102707;m<=102730;m++)A[m]=2;for(m=102733;m<=102758;m++)A[m]=2;for(m=102767;m<=102900;m++)A[m]=0;for(m=102901;m<=102933;m++)A[m]=2;for(m=102934;m<=102950;m++)A[m]=13;for(m=102951;m<=102963;m++)A[m]=0;for(m=102965;m<=102969;m++)A[m]=0;for(m=102971;m<=102973;m++)A[m]=0;for(m=102975;m<=102989;m++)A[m]=0;for(m=102990;m<=102992;m++)A[m]=1;for(m=102997;m<=103002;m++)A[m]=0;for(m=103003;m<=103008;m++)A[m]=2;for(m=103009;m<=103011;m++)A[m]=0;for(m=103012;m<=103014;m++)A[m]=2;for(m=103019;m<=103021;m++)A[m]=0;for(m=103022;m<=103024;m++)A[m]=2;for(m=103029;m<=103031;m++)A[m]=0;for(m=103032;m<=103034;m++)A[m]=2;for(m=103065;m<=103068;m++)A[m]=0;for(m=103074;m<=103076;m++)A[m]=0;for(m=103077;m<=103079;m++)A[m]=1;for(m=103080;m<=103082;m++)A[m]=0;for(m=103083;m<=103085;m++)A[m]=2;for(m=103090;m<=103093;m++)A[m]=0;for(m=103097;m<=103099;m++)A[m]=0;for(m=103100;m<=103102;m++)A[m]=2;for(m=103107;m<=103109;m++)A[m]=0;for(m=103110;m<=103112;m++)A[m]=2;for(m=103113;m<=103116;m++)A[m]=0;for(m=103117;m<=103120;m++)A[m]=2;for(m=103153;m<=103157;m++)A[m]=0;for(m=103158;m<=103162;m++)A[m]=2;for(m=103163;m<=103165;m++)A[m]=0;for(m=103166;m<=103168;m++)A[m]=1;for(m=103169;m<=103171;m++)A[m]=2;for(m=103186;m<=103188;m++)A[m]=0;for(m=103189;m<=103191;m++)A[m]=2;for(m=103192;m<=103195;m++)A[m]=0;for(m=103196;m<=103199;m++)A[m]=2;for(m=103200;m<=103224;m++)A[m]=0;for(m=103225;m<=103227;m++)A[m]=1;for(m=103232;m<=103237;m++)A[m]=0;for(m=103238;m<=103243;m++)A[m]=2;for(m=103244;m<=103246;m++)A[m]=0;for(m=103247;m<=103249;m++)A[m]=2;for(m=103254;m<=103256;m++)A[m]=0;for(m=103257;m<=103259;m++)A[m]=2;for(m=103264;m<=103266;m++)A[m]=0;for(m=103267;m<=103269;m++)A[m]=2;for(m=103300;m<=103375;m++)A[m]=0;for(m=103381;m<=103383;m++)A[m]=0;for(m=103384;m<=103386;m++)A[m]=1;for(m=103387;m<=103389;m++)A[m]=0;for(m=103390;m<=103392;m++)A[m]=2;for(m=103397;m<=103399;m++)A[m]=0;for(m=103400;m<=103471;m++)A[m]=2;for(m=103476;m<=103478;m++)A[m]=0;for(m=103479;m<=103481;m++)A[m]=2;for(m=103486;m<=103488;m++)A[m]=0;for(m=103489;m<=103491;m++)A[m]=2;for(m=103492;m<=103495;m++)A[m]=0;for(m=103496;m<=103499;m++)A[m]=2;for(m=103528;m<=103543;m++)A[m]=0;for(m=103544;m<=103548;m++)A[m]=2;for(m=103549;m<=103551;m++)A[m]=0;for(m=103552;m<=103554;m++)A[m]=1;for(m=103555;m<=103557;m++)A[m]=2;for(m=103558;m<=103560;m++)A[m]=0;for(m=103571;m<=103573;m++)A[m]=0;for(m=103574;m<=103576;m++)A[m]=2;for(m=103577;m<=103580;m++)A[m]=0;for(m=103581;m<=103583;m++)A[m]=2;for(m=103595;m<=103694;m++)A[m]=0;for(m=103696;m<=103699;m++)A[m]=0;for(m=103700;m<=103793;m++)A[m]=2;for(m=103794;m<=103890;m++)A[m]=0;for(m=103891;m<=103896;m++)A[m]=2;for(m=103900;m<=103971;m++)A[m]=2;for(m=103972;m<=103977;m++)A[m]=0;for(m=112e3;m<=112101;m++)A[m]=0;const Dre=[102100,102113,3857,3785],ZTe=[104905,104971],YTe=[4326,...Dre,...ZTe],KB='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',QS=[-20037508342788905e-9,20037508342788905e-9],e2=[-20037508342787e-6,20037508342787e-6],zre={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:QS,origin:e2,dx:1e-5},102100:{wkTemplate:KB,valid:QS,origin:e2,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:QS,origin:e2,dx:1e-5},3857:{wkTemplate:KB,valid:QS,origin:e2,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function jn(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,n=t.wkid;if(r!=null||n!=null){if(r===n||Du(e)&&Du(t))return!0;const o=e.latestWkid;if(o!=null&&n===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function oo(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&zre[t]||null}function h3(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})}function Rx(e){if(!Ao(e))return!1;const{wkid:t}=e;if(t)return A[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function JTe(e){return!(M9(e)||C9(e))}function uh(e){return(e==null?void 0:e.wkid)===4326}function D1t(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function VA(e){return(e==null?void 0:e.wkid)===xa.CGCS2000}function Du(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Dre.includes(t)}function KTe(e){return(e==null?void 0:e.wkid)===32662}function ZE(e){return e===xa.GCSMARS2000||e===xa.GCSMARS2000_SPHERE}function M9(e){return ZE(e==null?void 0:e.wkid)}function YE(e){return e===xa.GCSMOON2000}function C9(e){return YE(e==null?void 0:e.wkid)}function XTe(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&YTe.includes(t)}function Ao(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const Vre={wkid:4326,wkt:LE(zre[4326].wkTemplate,{Central_Meridian:"0.0"})},Bre={wkid:102100,latestWkid:3857},QTe={wkid:32662};function E9(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const eMe=E9(bn),k9=E9(Au),I9=E9(lh),tMe={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${bn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},rMe=k9.wkt.toUpperCase(),nMe=I9.wkt.toUpperCase();function iMe(e){if(e!=null&&Ao(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(ZE(t))return Au;const n=r==null?void 0:r.toUpperCase();if(r&&n===rMe)return Au;if(YE(t)||n&&n===nMe)return lh}return bn}function z1t(e){return ZE(e)?Au:YE(e)?lh:bn}function f3(e){return jn(e,eMe)}function ch(e){return f3(e)||jn(e,k9)||jn(e,I9)}const Ure=39.37,sMe=bn.radius*Math.PI/200,Gre=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,vm=A,Wre=/UNIT\[([^\]]+)]/i,oMe=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),aMe=ys()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Ul=e=>e*e,Md=e=>e*e*e,T_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Ul(.001)},"square-centimeters":{inBaseUnits:Ul(.01)},"square-decimeters":{inBaseUnits:Ul(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Ul(1e3)},"square-inches":{inBaseUnits:Ul(.0254)},"square-feet":{inBaseUnits:Ul(.3048)},"square-yards":{inBaseUnits:Ul(.9144)},"square-miles":{inBaseUnits:Ul(1609.344)},"square-us-feet":{inBaseUnits:Ul(1200/3937)},acres:{inBaseUnits:.0015625*Ul(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Md(.001)},"cubic-centimeters":{inBaseUnits:1e3*Md(.01)},"cubic-decimeters":{inBaseUnits:1e3*Md(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Md(1e3)},"cubic-inches":{inBaseUnits:1e3*Md(.0254)},"cubic-feet":{inBaseUnits:1e3*Md(.3048)},"cubic-yards":{inBaseUnits:1e3*Md(.9144)},"cubic-miles":{inBaseUnits:1e3*Md(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},lMe=(()=>{const e={};for(const t in T_)for(const r in T_[t].units)e[r]=t;return e})();function uMe(e,t,r){return e*T_[r].units[t].inBaseUnits}function cMe(e,t,r){return e/T_[r].units[t].inBaseUnits}function BA(e){const t=lMe[e];if(!t)throw new Error("unknown type");return t}function XB(e,t=null){return t=t||BA(e),T_[t].baseUnit===e}function Xo(e,t,r){if(t===r)return e;const n=BA(t);if(n!==BA(r))throw new Error("incompatible units");const i=XB(t,n)?e:uMe(e,t,n);return XB(r,n)?i:cMe(i,r,n)}function dMe(e,t,r){return Xo(e,t,"meters")/(r*Math.PI/180)}function qre(e){return aMe.fromJSON(e.toLowerCase())||null}function m3(e){if(e!=null&&!JTe(e))return 1;const t=zl(e);return t>1e5?1:t}function pMe(e){return zl(e)>=iMe(e).metersPerDegree?"meters":Zre(e)}function zl(e,t=bn.metersPerDegree){return hMe(e,!0)??t}function hMe(e,t=!1){const r=(e==null?void 0:e.wkid)??null,n=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let i=null;if(r){if(ZE(r))return Au.metersPerDegree;if(YE(r))return lh.metersPerDegree;i=vm.values[vm[r]],!i&&t&&oMe.has(r)&&(i=sMe)}else n&&(Jre(n)?i=QB(Gre.exec(n),i):Yre(n)&&(i=QB(Wre.exec(n),i)));return i}function V1t(e){return Rx(e)?1:zl(e)}function QB(e,t){return e!=null&&e[1]?Hre(e[1]):t}function Hre(e){return parseFloat(e.split(",")[1])}function Zre(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(t)n=vm.units[vm[t]];else if(r){const i=Jre(r)?Gre:Yre(r)?Wre:null;if(i){const s=i.exec(r);s!=null&&s[1]&&(n=mMe(s[1]))}}return n!=null?qre(n):null}function Yre(e){return/^GEOCCS/i.test(e)}function Jre(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const fMe=1e-7;function mMe(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!vm.units.includes(r)){const n=Hre(e);r=null;const i=vm.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<fMe){r=vm.units[s];break}}return r}const yMe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},gMe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},vMe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},bMe=ys()(yMe),wMe=ys()(gMe),B1t=ys()(vMe);var Zl;let Qt=Zl=class extends ae{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return Zl.WebMercator;if(e.wkid===4326)return Zl.WGS84}const t=new Zl;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return uh(this)}get isWebMercator(){return Du(this)}get isGeographic(){return Rx(this)}get isWrappable(){return XTe(this)}get metersPerUnit(){return zl(this)}get unit(){return Zre(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Zl.WGS84)return new Zl(Vre);if(this===Zl.WebMercator)return new Zl(Bre);const e=new Zl;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=W(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return jn(this,e)}toJSON(e){return this.write(void 0,e)}};Qt.GCS_NAD_1927=null,Qt.WGS84=null,Qt.WebMercator=null,Qt.PlateCarree=null,c([p({readOnly:!0})],Qt.prototype,"isWGS84",null),c([p({readOnly:!0})],Qt.prototype,"isWebMercator",null),c([p({readOnly:!0})],Qt.prototype,"isGeographic",null),c([p({readOnly:!0})],Qt.prototype,"isWrappable",null),c([p({type:mr,json:{write:!0}})],Qt.prototype,"latestWkid",void 0),c([p({readOnly:!0})],Qt.prototype,"metersPerUnit",null),c([p({readOnly:!0})],Qt.prototype,"unit",null),c([p({type:mr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Qt.prototype,"wkid",void 0),c([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Qt.prototype,"wkt",void 0),c([ye("wkt"),ye("web-scene","wkt")],Qt.prototype,"writeWkt",null),c([p({type:String,json:{write:!1}})],Qt.prototype,"wkt2",void 0),c([p({type:mr,json:{write:!0}})],Qt.prototype,"vcsWkid",void 0),c([p({type:mr,json:{write:!0}})],Qt.prototype,"latestVcsWkid",void 0),c([p()],Qt.prototype,"imageCoordinateSystem",void 0),Qt=Zl=c([R("esri.geometry.SpatialReference")],Qt),Qt.prototype.toJSON.isDefaultToJSON=!0,Qt.GCS_NAD_1927=new Qt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Qt.WGS84=new Qt(Vre),Qt.WebMercator=new Qt(Bre),Qt.PlateCarree=new Qt(QTe),Object.freeze&&(Object.freeze(Qt.GCS_NAD_1927),Object.freeze(Qt.WGS84),Object.freeze(Qt.WebMercator),Object.freeze(Qt.PlateCarree));const Qe=Qt;let Yl=class extends ae{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Qe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof Qe)return t;if(t!=null){const n=new Qe;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};c([p()],Yl.prototype,"type",void 0),c([p({readOnly:!0})],Yl.prototype,"cache",null),c([p({readOnly:!0})],Yl.prototype,"extent",null),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Yl.prototype,"hasM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Yl.prototype,"hasZ",void 0),c([p({type:Qe,json:{write:!0},value:Qe.WGS84})],Yl.prototype,"spatialReference",void 0),c([ue("spatialReference")],Yl.prototype,"readSpatialReference",null),Yl=c([R("esri.geometry.Geometry")],Yl);const fd=Yl,_Me=57.29577951308232,xMe=.017453292519943;function eU(e){return e*_Me}function tU(e){return e*xMe}function rU(e){return e/bn.radius}function nU(e){return Math.PI/2-2*Math.atan(Math.exp(-e/bn.radius))}function UA(e){return e.wkid!=null||e.wkt!=null}const U5=[0,0];function y3(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,U5,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,U5,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,U5,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let u;for(let d=0;d<a.length;d++){const h=a[d];u=[],l.push(u);for(let f=0;f<h.length;f++)u.push(t(h[f][0],h[f][1],[0,0],n)),h[f].length>2&&u[f].push(h[f][2]),h[f].length>3&&u[f].push(h[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let u=0;u<a.length;u++)l[u]=t(a[u][0],a[u][1],[0,0],n),a[u].length>2&&l[u].push(a[u][2]),a[u].length>3&&l[u].push(a[u][3]);o.points=l}return i}function V$(e,t){const r=e&&(UA(e)?e:e.spatialReference),n=t&&(UA(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!jn(n,r)||Du(n)&&uh(r)||Du(r)&&uh(n))}function JE(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(UA(t)?t:t.spatialReference);return V$(r,n)?jn(r,n)?W(e):Du(n)?y3(e,Wg,Qe.WebMercator,!1,W(e)):uh(n)?y3(e,KE,Qe.WGS84,!1,W(e)):null:null}function Wg(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=tU(t);return r[0]=tU(e)*bn.radius,r[1]=bn.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function KE(e,t,r=[0,0],n=!1){const i=eU(e/bn.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=eU(Math.PI/2-2*Math.atan(Math.exp(-t/bn.radius))),r}function Lu(e,t=!1,r=W(e)){return y3(e,Wg,Qe.WebMercator,t,r)}function qg(e,t=!1,r=W(e)){return y3(e,KE,Qe.WGS84,t,r)}function Kre(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}function SMe(e){var t;return((t=Xre(e,Qre))==null?void 0:t[0])??null}function $Me(e){var t;return((t=Xre(e,Qre))==null?void 0:t[1])??null}function Xre({x:e,y:t,spatialReference:r},n=[0,0]){if(r){if(Du(r))return KE(e,t,n);if(Rx(r))return n[0]=e,n[1]=t,n}return null}const Qre=[0,0];var B$;const G5=[0,0];function iU(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ws=B$=class extends fd{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new Qe(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ie.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ie.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&(i!=null&&i.isWebMercator)){const a=Wg(s.longitude,s.latitude,G5);e=a[0],t=a[1]}}}else iU(r)?(i=r,r=null):iU(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?ie.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&ie.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return $Me(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Wg(r,e,G5)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return SMe(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Wg(e,t,G5)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new B$;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return B$.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:u,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,u]=Wg(l,u),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,u]=KE(l,u),d=s}return t===l&&r===u&&n===o&&i===a&&s.wkid===d.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=oo(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return Kre(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],ws.prototype,"cache",null),c([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ws.prototype,"hasM",null),c([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ws.prototype,"hasZ",null),c([p({type:Number})],ws.prototype,"latitude",null),c([p({type:Number})],ws.prototype,"longitude",null),c([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),tr(e=>isNaN(e)?e:va(e))],ws.prototype,"x",void 0),c([ye("x")],ws.prototype,"writeX",null),c([ue("x")],ws.prototype,"readX",null),c([p({type:Number,json:{write:!0}})],ws.prototype,"y",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ws.prototype,"z",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ws.prototype,"m",void 0),ws=B$=c([R("esri.geometry.Point")],ws),ws.prototype.toJSON.isDefaultToJSON=!0;const nt=ws;let Jl=class extends Fr(ae){constructor(...t){super(...t),this.position=new nt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new Jte}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=va(t.x||0),s.y=va(t.y||0),s.z=t.hasZ?va(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new nt;return n.read(t,r),n.x=va(n.x||0),n.y=va(n.y||0),n.z=n.hasZ?va(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};c([p({type:nt,json:{write:{isRequired:!0}}})],Jl.prototype,"position",void 0),c([ye("position")],Jl.prototype,"writePosition",null),c([ue("position")],Jl.prototype,"readPosition",null),c([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),tr(e=>A$e.normalize(va(e)))],Jl.prototype,"heading",void 0),c([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),tr(e=>za(va(e),-180,180))],Jl.prototype,"tilt",void 0),c([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Jl.prototype,"fov",void 0),c([p({type:Jte,nonNullable:!0,json:{read:!1,write:!1}})],Jl.prototype,"layout",void 0),Jl=c([R("esri.Camera")],Jl);const TMe=Jl,W5=[0,0];function Lx(e,t){return t!=null&&Ts(e,t.x,t.y,t.z)}function W1t(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!J0(e,r))return!1;return!0}function MMe(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Ts(e,r,n,i)&&Ts(e,r,o,i)&&Ts(e,s,o,i)&&Ts(e,s,n,i)&&Ts(e,r,n,a)&&Ts(e,r,o,a)&&Ts(e,s,o,a)&&Ts(e,s,n,a):Ts(e,r,n)&&Ts(e,r,o)&&Ts(e,s,o)&&Ts(e,s,n)}function J0(e,t){return Ts(e,t[0],t[1])}function CMe(e,t){return Ts(e,t[0],t[1],t[2])}function Ts(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function O9(e,t){return W5[1]=t.y,W5[0]=t.x,EMe(e,W5)}function EMe(e,t){return P9(e.rings,t)}function P9(e,t){if(!e)return!1;if(kMe(e))return sU(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=sU(r,e[n],t);return r}function kMe(e){return!Array.isArray(e[0][0])}function sU(e,t,r){const[n,i]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[u,d]=t[a],[h,f]=t[o];(d<i&&f>=i||f<i&&d>=i)&&u+(i-d)/(f-d)*(h-u)<n&&(s=!s)}return s}function IMe(e,t){return Lx(e,t)}function OMe(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function PMe(e,t){const{points:r,hasZ:n}=t,i=n?CMe:J0;for(const s of r)if(i(e,s))return!0;return!1}const Nm=[0,0],Fm=[0,0],Dm=[0,0],zm=[0,0],AMe=[Nm,Fm,Dm,zm],ene=[[Dm,Nm],[Nm,Fm],[Fm,zm],[zm,Dm]];function RMe(e,t){return LMe(e,t.rings)}function LMe(e,t){Nm[0]=e.xmin,Nm[1]=e.ymax,Fm[0]=e.xmax,Fm[1]=e.ymax,Dm[0]=e.xmin,Dm[1]=e.ymin,zm[0]=e.xmax,zm[1]=e.ymin;for(const r of AMe)if(P9(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(J0(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(J0(e,s)||tne(n,s,ene))return!0;n=s}}return!1}function jMe(e,t){Nm[0]=e.xmin,Nm[1]=e.ymax,Fm[0]=e.xmax,Fm[1]=e.ymax,Dm[0]=e.xmin,Dm[1]=e.ymin,zm[0]=e.xmax,zm[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(J0(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(J0(e,o)||tne(i,o,ene))return!0;i=o}}return!1}const pi=[0,0];function NMe(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const u=e[a][l],d=e[a][l+1];if(GA(s,o,u,d,pi)&&!(pi[0]===s[0]&&pi[1]===s[1]||pi[0]===u[0]&&pi[1]===u[1]||pi[0]===o[0]&&pi[1]===o[1]||pi[0]===d[0]&&pi[1]===d[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],a=r[i+1];for(let l=i+2;l<s;l++){const u=r[l],d=r[l+1];if(GA(o,a,u,d,pi)&&!(pi[0]===o[0]&&pi[1]===o[1]||pi[0]===u[0]&&pi[1]===u[1]||pi[0]===a[0]&&pi[1]===a[1]||pi[0]===d[0]&&pi[1]===d[1]))return!0}}}return!1}function tne(e,t,r){for(let n=0;n<r.length;n++)if(GA(e,t,r[n][0],r[n][1]))return!0;return!1}function GA(e,t,r,n,i){const[s,o]=e,[a,l]=t,[u,d]=r,[h,f]=n,y=h-u,g=s-u,v=a-s,b=f-d,_=o-d,x=l-o,S=b*v-y*x;if(S===0)return!1;const $=(y*_-b*g)/S,C=(v*_-x*g)/S;return $>=0&&$<=1&&C>=0&&C<=1&&(i&&(i[0]=s+$*(a-s),i[1]=o+$*(l-o)),!0)}function FMe(e){switch(e){case"esriGeometryEnvelope":case"extent":return OMe;case"esriGeometryMultipoint":case"multipoint":return PMe;case"esriGeometryPoint":case"point":return IMe;case"esriGeometryPolygon":case"polygon":return RMe;case"esriGeometryPolyline":case"polyline":return jMe}}var Qo;function DMe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Cd(e,t,r){return t==null?r:r==null?t:e(t,r)}let ri=Qo=class extends fd{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return DMe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Qe.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??Qe.WGS84}}static fromBounds(e,t){return new Qo({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Qo({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new nt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Qo;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&V$(t,r)&&(e=t.isWebMercator?Lu(e):qg(e,!0)),e.type==="point"?Lx(this,e):e.type==="extent"&&MMe(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&V$(t,r)&&(e=t.isWebMercator?Lu(e):qg(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!jn(t,r)&&V$(t,r)&&(e=t.isWebMercator?Lu(e):qg(e,!0)),FMe(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Cd(Math.min,this.zmin,e.zmin),this.zmax=Cd(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Cd(Math.min,this.mmin,e.mmin),this.mmax=Cd(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Cd(Math.max,this.zmin,e.zmin),this.zmax=Cd(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Cd(Math.max,this.mmin,e.mmin),this.mmax=Cd(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=oo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?qg(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=q5(n.x,e).x),this.spatialReference=new Qe(LE((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??oo(n);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const u=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const d=(l.zmax-l.zmin)/2;for(let h=0;h<u.length;h++)u[h].push(d)}if(a){const d=(l.mmax-l.mmin)/2;for(let h=0;h<u.length;h++)u[h].push(d)}return u}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,u=this.xmax;let d;e=e||oo(o);const[h,f]=e.valid;d=q5(this.xmin,e);const y=d.x,g=d.frameId;d=q5(this.xmax,e);const v=d.x,b=d.frameId,_=y===v&&a>0;if(a>2*f){const x=new Qo(l<u?y:v,i,f,s,o),S=new Qo(h,i,l<u?v:y,s,o),$=new Qo(0,i,f,s,o),C=new Qo(h,i,0,s,o),k=[],E=[];x.contains($)&&k.push(g),x.contains(C)&&E.push(g),S.contains($)&&k.push(b),S.contains(C)&&E.push(b);for(let P=g+1;P<b;P++)k.push(P),E.push(P);t.push({extent:x,frameIds:[g]},{extent:S,frameIds:[b]},{extent:$,frameIds:k},{extent:C,frameIds:E})}else y>v||_?t.push({extent:new Qo(y,i,f,s,o),frameIds:[g]},{extent:new Qo(h,i,v,s,o),frameIds:[b]}):t.push({extent:new Qo(y,i,v,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}};function q5(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}c([p({readOnly:!0})],ri.prototype,"cache",null),c([p({readOnly:!0})],ri.prototype,"center",null),c([p({readOnly:!0})],ri.prototype,"extent",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ri.prototype,"hasM",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ri.prototype,"hasZ",null),c([p({readOnly:!0})],ri.prototype,"height",null),c([p({readOnly:!0})],ri.prototype,"width",null),c([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ri.prototype,"xmin",void 0),c([p({type:Number,json:{write:!0}})],ri.prototype,"ymin",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ri.prototype,"mmin",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ri.prototype,"zmin",void 0),c([p({type:Number,json:{write:!0}})],ri.prototype,"xmax",void 0),c([p({type:Number,json:{write:!0}})],ri.prototype,"ymax",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ri.prototype,"mmax",void 0),c([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ri.prototype,"zmax",void 0),ri=Qo=c([R("esri.geometry.Extent")],ri),ri.prototype.toJSON.isDefaultToJSON=!0;const Rt=ri;function K0(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var WA;function oU(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function zMe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let zd=WA=class extends fd{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var i;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):zMe(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=(i=r.points)==null?void 0:i[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Rt,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=oU(Math.min),a=oU(Math.max);let l,u,d,h,[f,y]=s,[g,v]=s;for(let b=0,_=e.length;b<_;b++){const x=e[b],[S,$]=x;if(f=o(f,S),y=o(y,$),g=a(g,S),v=a(v,$),r&&x.length>2){const C=x[2];l=o(l,C),d=a(d,C)}if(n&&x.length>i){const C=x[i];u=o(u,C),h=a(h,C)}}return t.xmin=f,t.ymin=y,t.xmax=g,t.ymax=v,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=u,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=W(this.points)}addPoint(e){return K0(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:W(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new WA(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new nt(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new nt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(K0(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([p({readOnly:!0})],zd.prototype,"cache",null),c([p()],zd.prototype,"extent",null),c([p({type:[[Number]],json:{write:{isRequired:!0}}})],zd.prototype,"points",void 0),c([ye("points")],zd.prototype,"writePoints",null),zd=WA=c([R("esri.geometry.Multipoint")],zd),zd.prototype.toJSON.isDefaultToJSON=!0;const XE=zd;function q1t(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function VMe(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var g3;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(g3||(g3={}));function A9(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function BMe(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function UMe(e,t,r,n){return GMe(e,t,r[n],r[n+1])}function GMe(e,t,r,n){const[i,s]=t,[o,a]=r,[l,u]=n,d=l-o,h=u-a,f=d*d+h*h,y=(i-o)*d+(s-a)*h,g=Math.min(1,Math.max(0,y/f));return e[0]=o+d*g,e[1]=a+h*g,e}function H1t(e,t,r,n,i,s){let o=r,a=n,l=i-o,u=s-a;if(l!==0||u!==0){const d=((e-o)*l+(t-a)*u)/(l*l+u*u);d>1?(o=i,a=s):d>0&&(o+=l*d,a+=u*d)}return l=e-o,u=t-a,l*l+u*u}function rne(e,t){return BMe(e,t,.5)}function Z1t(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=A9(e[n],e[n+1]);return r}function nne(e,t=g3.X,r=g3.Y){let n=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const a=e[o];n+=(a[t]-s[t])*(a[r]+s[r]),s=a}if(!ine(e)){const o=e[0];n+=(o[t]-s[t])*(o[r]+s[r])}return n>=0}function ine(e){const t=e.length;return t<3||PE(e[0],e[t-1])}function Y1t(e){"rings"in e&&(WMe(e),qMe(e))}function WMe(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)ine(r)||(r.push(r[0].slice()),t=!0);return t}function qMe(e){if(!("rings"in e)||e.rings.length===0||nne(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function J1t(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function HMe(e){return e?ZMe(e.rings,e.hasZ??!1):null}function ZMe(e,t){if(!(e!=null&&e.length))return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=sne(e[s],t,i);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?YMe(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function sne(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const y=e[f],g=e[(f+1)%e.length],[v,b,_]=y,x=v-l,S=b-u,[$,C,k]=g,E=$-l,P=C-u,T=x*P-E*S;if(o+=T,n+=(x+E)*T,i+=(S+P)*T,t&&y.length>2&&g.length>2){const M=_-d,O=k-d,j=x*O-E*M;s+=(M+O)*j,a+=j}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),b<r[2]&&(r[2]=b),b>r[3]&&(r[3]=b),t&&(_<r[4]&&(r[4]=_),_>r[5]&&(r[5]=_))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const h=[n/(6*o)+l,i/(6*o)+u,o];return t&&(r[4]===r[5]||a===0?(h[3]=(r[4]+r[5])/2,h[4]=0):(h[3]=s/(6*a)+d,h[4]=a)),h}function K1t(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const u=[e.x,e.y],[d,h]=l,f=d-s,y=h-o,[g,v]=u,b=g-s,_=v-o,x=f*_-b*y;i+=x,r+=(f+b)*x,n+=(y+_)*x,d<t[0]&&(t[0]=d),d>t[1]&&(t[1]=d),h<t[2]&&(t[2]=h),h>t[3]&&(t[3]=h)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null}function YMe(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,u=e.length;l<u-1;l++){const d=e[l],h=e[l+1];if(d&&h){r[0]=d[0],r[1]=d[1],n[0]=h[0],n[1]=h[1],t&&d.length>2&&h.length>2&&(r[2]=d[2],n[2]=h[2]);const f=A9(r,n);if(f){i+=f;const y=rne(d,h);s+=f*y[0],o+=f*y[1],t&&y.length>2&&(a+=f*y[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}function JMe(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=sne(VMe(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const o=e.pathSize?KMe(e):null;if(!o)return null;n[0]=o[0],n[1]=o[1],t&&o.length>2&&(n[2]=o[2])}return n}function KMe(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,u=e.y,d=e.z;for(;e.nextPoint();){const h=e.x,f=e.y,y=e.z;r[0]=l,r[1]=u,n[0]=h,n[1]=f,t&&(r[2]=d,n[2]=y);const g=A9(r,n);if(g){i+=g;const v=rne(r,n);s+=g*v[0],o+=g*v[1],t&&v.length>2&&(a+=g*v[2])}l=h,u=f,d=y}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const XMe=1e-6;function X1t(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<XMe){const i=JMe(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)e3e(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const QMe=1/3;function e3e(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,a=r.y-i,l=0,u=0;for(;r.nextPoint();)l=r.x-n,u=r.y-i,s=.5*QMe*(l*a-u*o),e[0]+=s*(o+l),e[1]+=s*(a+u),o=l,a=u;const d=r.getCurrentRingArea(),h=[n,i];return h[0]-=t[0],h[1]-=t[1],h[0]*=d,h[1]*=d,e[0]+=h[0],e[1]+=h[1],e}function wi(e=o3e){return[e[0],e[1],e[2],e[3]]}function one(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Q1t(e,t,r,n,i=wi()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function t3e(e,t=wi()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function ebt(e,t){return new Rt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function tbt(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function rbt(e,t,r){if(t!=null)if("length"in t)qA(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else one(r,e)}function ane(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function lne(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function nbt(e){return ane(e)*lne(e)}function r3e(e,t){return n3e(e,t[0],t[1])}function n3e(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function i3e(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function ibt(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function s3e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function sbt(e){return e?one(e,aU):wi(aU)}function qA(e){return e!=null&&e.length===4}function obt(e,t){return qA(e)&&qA(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const aU=[1/0,1/0,-1/0,-1/0],o3e=[0,0,0,0];function une(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function cne(e){return e.points!==void 0}function dne(e){return e.x!==void 0&&e.y!==void 0}function pne(e){return e.paths!==void 0}function hne(e){return e.rings!==void 0}function fne(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const Lp=fne(Math.min),jp=fne(Math.max);function abt(e,t){return pne(t)?X0(e,t.paths,!1,!1):hne(t)?X0(e,t.rings,!1,!1):cne(t)?R9(e,t.points,!1,!1,!1,!1):une(t)?mne(e,t):(dne(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function lbt(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const s=a3e(e);t=Math.min(s[0],t),n=Math.min(s[1],n),r=Math.max(s[2],r),i=Math.max(s[3],i)}return wi([t,n,r,i])}function a3e(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return wi([t,n,r,i])}function ubt(e,t){return pne(t)?X0(e,t.paths,!0,!1):hne(t)?X0(e,t.rings,!0,!1):cne(t)?R9(e,t.points,!0,!1,!0,!1):une(t)?mne(e,t,!0,!1,!0,!1):(dne(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function X0(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[u,d]=t[0][0],[h,f]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let v=0;v<g.length;v++){const b=g[v],[_,x]=b;if(u=Lp(u,_),d=Lp(d,x),h=jp(h,_),f=jp(f,x),r&&b.length>2){const S=b[2];s=Lp(s,S),o=jp(o,S)}if(n&&b.length>i){const S=b[i];a=Lp(s,S),l=jp(o,S)}}}return r?n?(e[0]=u,e[1]=d,e[2]=s,e[3]=a,e[4]=h,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=u,e[1]=d,e[2]=s,e[3]=h,e[4]=f,e[5]=o,e.length=6,e):n?(e[0]=u,e[1]=d,e[2]=a,e[3]=h,e[4]=f,e[5]=l,e.length=6,e):(e[0]=u,e[1]=d,e[2]=h,e[3]=f,e.length=4,e)}function mne(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,u=t.ymax;let d=t.zmin,h=t.zmax,f=t.mmin,y=t.mmax;return i?(d=d||0,h=h||0,s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=d,e[3]=f,e[4]=a,e[5]=u,e[6]=h,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=u,e[5]=h,e)):s?(f=f||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=u,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=u,e)}function R9(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let u,d,h,f,[y,g]=t[0],[v,b]=t[0];for(let _=0;_<t.length;_++){const x=t[_],[S,$]=x;if(y=Lp(y,S),g=Lp(g,$),v=jp(v,S),b=jp(b,$),l&&x.length>2){const C=x[2];u=Lp(u,C),d=jp(d,C)}if(a&&x.length>o){const C=x[o];h=Lp(u,C),f=jp(d,C)}}return i?(u=u||0,d=d||0,s?(h=h||0,f=f||0,e[0]=y,e[1]=g,e[2]=u,e[3]=h,e[4]=v,e[5]=b,e[6]=d,e[7]=f,e):(e[0]=y,e[1]=g,e[2]=u,e[3]=v,e[4]=b,e[5]=d,e)):s?(h=h||0,f=f||0,e[0]=y,e[1]=g,e[2]=h,e[3]=v,e[4]=b,e[5]=f,e):(e[0]=y,e[1]=g,e[2]=v,e[3]=b,e)}function l3e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function u3e(e){return e.points!==void 0}function c3e(e){return e.x!==void 0&&e.y!==void 0}function d3e(e){return e.paths!==void 0}function p3e(e){return e.rings!==void 0}const L9=[];function yne(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function gne(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function vne(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function bne(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function j9(e,t=!1,r=!1){return t?r?bne(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):gne(e[0],e[1],e[2],e[3],e[4],e[5]):r?vne(e[0],e[1],e[2],e[3],e[4],e[5]):yne(e[0],e[1],e[2],e[3])}function cbt(e){return e?l3e(e)?e:c3e(e)?f3e(e):p3e(e)?wne(e):d3e(e)?_ne(e):u3e(e)?h3e(e):null:null}function h3e(e){const{hasZ:t,hasM:r,points:n}=e;return j9(R9(L9,n,t??!1,r??!1),t,r)}function f3e(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?bne(t,r,n,i,t,r,n,i):gne(t,r,n,t,r,n):s?vne(t,r,i,t,r,i):yne(t,r,t,r)}function wne(e){const{hasZ:t,hasM:r,rings:n}=e,i=X0(L9,n,t??!1,r??!1);return i?j9(i,t,r):null}function _ne(e){const{hasZ:t,hasM:r,paths:n}=e,i=X0(L9,n,t??!1,r??!1);return i?j9(i,t,r):null}var U$;function lU(e){return!Array.isArray(e[0])}let Kl=U$=class extends fd{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let u=0;u<a.length;u++)a[u].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let u=0;u<a.length;u++)a[u].push(l)}return a}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new U$(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Qe.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=s.length>3):r===void 0?r=n?s.length>3:s.length>2:n===void 0&&(n=r?s.length>3:s.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=HMe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new nt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=wne(this);if(!t)return null;const r=new Rt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return NMe(this.rings)}writeRings(e,t){t.rings=W(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(lU(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new U$;return e.spatialReference=this.spatialReference,e.rings=W(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,a],[l,u,d,h])=>i===l&&s===u&&(o==null&&d==null||o===d)&&(a==null&&h==null||a===h);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!PE(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=JE(e,this.spatialReference);return O9(this,t??e)}isClockwise(e){const t=lU(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return nne(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new nt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new nt(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new nt(r[0],r[1],r[2],r[3],this.spatialReference):new nt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(K0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new nt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new nt(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(K0(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],Kl.prototype,"cache",null),c([p({readOnly:!0})],Kl.prototype,"centroid",null),c([p({readOnly:!0})],Kl.prototype,"extent",null),c([p({readOnly:!0})],Kl.prototype,"isSelfIntersecting",null),c([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Kl.prototype,"rings",void 0),c([ye("rings")],Kl.prototype,"writeRings",null),Kl=U$=c([R("esri.geometry.Polygon")],Kl),Kl.prototype.toJSON.isDefaultToJSON=!0;const Va=Kl;var HA;function m3e(e){return!Array.isArray(e[0])}let Vd=HA=class extends fd{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var o,a;let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Qe.WGS84,i.length&&((o=i[0])==null?void 0:o[0])!=null&&typeof i[0][0]=="number"&&(i=[i]),s=(a=i[0])==null?void 0:a[0],s&&(r===void 0&&n===void 0?(r=s.length>2,n=!1):r===void 0?r=!n&&s.length>3:n===void 0&&(n=!r&&s.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=_ne(this);if(!t)return null;const r=new Rt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=W(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(m3e(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new HA;return e.spatialReference=this.spatialReference,e.paths=W(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new nt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new nt(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new nt(r[0],r[1],r[2],r[3],this.spatialReference):new nt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(K0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new nt(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new nt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(K0(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([p({readOnly:!0})],Vd.prototype,"cache",null),c([p({readOnly:!0})],Vd.prototype,"extent",null),c([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Vd.prototype,"paths",void 0),c([ye("paths")],Vd.prototype,"writePaths",null),Vd=HA=c([R("esri.geometry.Polyline")],Vd),Vd.prototype.toJSON.isDefaultToJSON=!0;const Cl=Vd,y3e=ys()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),uU=ys()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function xne(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Sne(e){return e.points!==void 0}function $ne(e){return e.x!==void 0&&e.y!==void 0}function Tne(e){return e.paths!==void 0}function h0(e){return e.rings!==void 0}function dh(e){return e==null?null:e instanceof fd?e:$ne(e)?nt.fromJSON(e):Tne(e)?Cl.fromJSON(e):h0(e)?Va.fromJSON(e):Sne(e)?XE.fromJSON(e):xne(e)?Rt.fromJSON(e):null}function jx(e){return e?$ne(e)?"esriGeometryPoint":Tne(e)?"esriGeometryPolyline":h0(e)?"esriGeometryPolygon":xne(e)?"esriGeometryEnvelope":Sne(e)?"esriGeometryMultipoint":null:null}const g3e={esriGeometryPoint:nt,esriGeometryPolyline:Cl,esriGeometryPolygon:Va,esriGeometryEnvelope:Rt,esriGeometryMultipoint:XE};function v3e(e){return e&&g3e[e]||null}const oy={base:fd,key:"type",typeMap:{extent:Rt,multipoint:XE,point:nt,polyline:Cl,polygon:Va}};Nu(oy);var ZA;let Bd=ZA=class extends ae{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new ZA({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};c([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:H5}}}}})],Bd.prototype,"rotation",void 0),c([tr("rotation")],Bd.prototype,"castRotation",null),c([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:H5}}}}})],Bd.prototype,"scale",void 0),c([p({types:oy,json:{read:dh,write:!0,origins:{"web-scene":{read:dh,write:{overridePolicy:H5}}}}})],Bd.prototype,"targetGeometry",void 0),c([p({type:TMe,json:{write:!0}})],Bd.prototype,"camera",void 0),Bd=ZA=c([R("esri.Viewpoint")],Bd);const Aa=Bd;function H5(){return{enabled:!this.camera}}let G$=class Mne{constructor(){this._emitter=new Mne.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){var i;(i=this._listenersMap)==null||i.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){var u;let o=(u=this._listenersMap)==null?void 0:u.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const d of o.slice()){const h="deref"in d?d.deref():d;h?h==null||h.call(a,s):l=!0}return l&&(o=o.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return Cx(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),gr(()=>{var u;const a=(u=this._listenersMap)==null?void 0:u.get(i),l=(a==null?void 0:a.indexOf(s))??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove();const l="deref"in s?s.deref():s;l==null||l.call(null,a)});return o}hasEventListener(i){var o;const s=(o=this._listenersMap)==null?void 0:o.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=c([R("esri.core.Evented")],i),i};let r=class extends Be{constructor(){super(...arguments),this._emitter=new G$.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=c([R("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(G$||(G$={}));const Za=G$;var ir;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(ir||(ir={}));function N9(e){return(t,r)=>{t[r]=e}}let Nx=class extends pte{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var Bc;let b3e=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},w3e=class{constructor(t,r,n,i,s){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=s}};const Zo=new iy(b3e,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function cU(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function Z5(e){return e?e instanceof jc?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Y5(e){if(e!=null&&e.length)return e[0]}function _3e(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function Cne(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),Cne(e,r.call(n,i,s,o),r,n)})}const Ed=new Set,kd=new Set,Id=new Set,J5=new Map;let x3e=0,jc=Bc=class extends Za.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Bc}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Nx,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:x3e++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Bc?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return et(this._observable),this._items}set items(e){this._emitBeforeChanges(ir.ADD)||(this._splice(0,this.length,Z5(e)),this._emitAfterChanges(ir.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return gr();if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),gr(()=>{n.removed=!0,r.splice(r.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,n=this.on(e,i=>{var s;(s=r())==null||s.call(null,i),n.remove()});return n}add(e,t){if(et(this._observable),this._emitBeforeChanges(ir.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(ir.ADD),this}addMany(e,t=this._items.length){if(et(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(ir.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Z5(e)),this._emitAfterChanges(ir.ADD),this}at(e){if(et(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(et(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(ir.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return et(this._observable),this._createNewInstance({items:this._items.map(W)})}concat(...e){et(this._observable);const t=e.map(Z5);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(et(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(ir.REMOVE)}destroyAll(){this.drain(cU)}destroyMany(e){const t=this.removeMany(e);return t.forEach(cU),t}every(e,t){return et(this._observable),this._items.every(e,t)}filter(e,t){let r;return et(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return et(this._observable),this._items.find(e,t)}findIndex(e,t){return et(this._observable),this._items.findIndex(e,t)}flatten(e,t){et(this._observable);const r=[];return Cne(r,this,e,t),new Bc(r)}forEach(e,t){return et(this._observable),this._items.forEach(e,t)}getItemAt(e){return et(this._observable),this._items[e]}getNextIndex(e){et(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return et(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return et(this._observable),this._items.indexOf(e,t)}join(e=","){return et(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return et(this._observable),this._items.lastIndexOf(e,t)}map(e,t){et(this._observable);const r=this._items.map(e,t);return new Bc({items:r})}reorder(e,t=this.length-1){et(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(ir.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(ir.MOVE)}return e}}pop(){if(et(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const e=Y5(this._splice(this.length-1,1));return this._emitAfterChanges(ir.REMOVE),e}push(...e){return et(this._observable),this._emitBeforeChanges(ir.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ir.ADD)),this.length}reduce(e,t){et(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){et(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return et(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(et(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ir.REMOVE))return;const t=Y5(this._splice(e,1));return this._emitAfterChanges(ir.REMOVE),t}removeMany(e){if(et(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(ir.REMOVE))return[];const t=e instanceof Bc?e.toArray():e,r=this._items,n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+_3e(t,r,s+1,a+1),u=this._splice(a,l);u&&u.length>0&&n.push.apply(n,u),s+=l-1}}return this._emitAfterChanges(ir.REMOVE),n}reverse(){if(et(this._observable),this._emitBeforeChanges(ir.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ir.MOVE),this}shift(){if(et(this._observable),!this.length||this._emitBeforeChanges(ir.REMOVE))return;const e=Y5(this._splice(0,1));return this._emitAfterChanges(ir.REMOVE),e}slice(e=0,t=this.length){return et(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return et(this._observable),this._items.some(e,t)}sort(e){if(et(this._observable),!this.length||this._emitBeforeChanges(ir.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ir.MOVE),this}splice(e,t,...r){et(this._observable);const n=(t?ir.REMOVE:0)|(r.length?ir.ADD:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(n),i}toArray(){return et(this._observable),this._items.slice()}toJSON(){return et(this._observable),this.toArray()}toLocaleString(){return et(this._observable),this._items.toLocaleString()}toString(){return et(this._observable),this._items.toString()}unshift(...e){return et(this._observable),!e.length||this._emitBeforeChanges(ir.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ir.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=bv(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const a=Zo.acquire();a.target=this,a.cancellable=!0;for(let l=0,u=o.length;l<u;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),n.splice(e,0,s),e+=1,l-=1,u-=1);Zo.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Zo.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let u=0;u<l;u++)a.reset(o[u]),this.emit("after-remove",a);Zo.release(a)}}if(r!=null&&r.length){if(i){const d=[];for(const h of r){const f=i.ensureType(h);f==null&&h!=null||d.push(f)}r=d}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),u=e===this.length;if(a||l){const d=Zo.acquire();d.target=this,d.cancellable=!0;const h=Zo.acquire();h.target=this,h.cancellable=!1;for(const f of r)a?(d.reset(f),this.emit("before-add",d),d.defaultPrevented||(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),l&&(h.reset(f),this.emit("after-add",h)))):(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),h.reset(f),this.emit("after-add",h));Zo.release(h),Zo.release(d)}else{if(u)for(const d of r)n.push(d);else n.splice(e,0,...r);this._set("length",n.length)}}if((r!=null&&r.length||o!=null&&o.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new w3e(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Zo.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Zo.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Zo.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Zo.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Ed.clear(),kd.clear(),Id.clear();for(const{added:l,removed:u}of r){if(l)if(Id.size===0&&kd.size===0)for(const d of l)Ed.add(d);else for(const d of l)kd.has(d)?(Id.add(d),kd.delete(d)):Id.has(d)||Ed.add(d);if(u)if(Id.size===0&&Ed.size===0)for(const d of u)kd.add(d);else for(const d of u)Ed.has(d)?Ed.delete(d):(Id.delete(d),kd.add(d))}const n=Es.acquire();Ed.forEach(l=>{n.push(l)});const i=Es.acquire();kd.forEach(l=>{i.push(l)});const s=this._items,o=t.items,a=Es.acquire();if(Id.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(n.length||i.length||a.length)){const l={target:this,added:n,removed:i,moved:a},u=t.listeners.length;for(let d=0;d<u;d++){const h=t.listeners[d];h.removed||h.callback.call(this,l)}}Es.release(n),Es.release(i),Es.release(a)}Ed.clear(),kd.clear(),Id.clear()}};jc.ofType=e=>{if(!e)return Bc;if(J5.has(e))return J5.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const i=e.typeMap[n].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends Bc{};return c([N9({Type:e,ensureType:typeof e=="function"?Xr(e):Nu(e)})],r.prototype,"itemType",void 0),r=c([R(`esri.core.Collection<${t}>`)],r),J5.set(e,r),r},c([p()],jc.prototype,"_updating",void 0),c([p()],jc.prototype,"length",void 0),c([p()],jc.prototype,"items",null),c([p({readOnly:!0})],jc.prototype,"updating",null),jc=Bc=c([R("esri.core.Collection")],jc);const Ce=jc;function fbt(e,t,r){return rm(e.map((n,i)=>t.apply(r,[n,i])))}async function S3e(e,t,r){return(await rm(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function F9(e){return{ok:!0,value:e}}function D9(e){return{ok:!1,error:e}}function $3e(e){return e!=null&&e.ok===!0?e.value:null}function T3e(e){return e!=null&&e.ok===!1?e.error:null}async function QE(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return F9(await e)}catch(t){return D9(t)}}async function M3e(e){try{return F9(await e)}catch(t){return ga(t),D9(t)}}function z9(e,t){return new Ud(e,t)}let Ud=class extends Be{get value(){return $3e(this._result)}get error(){return T3e(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Lm(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=F9(i),this._cleanup()},i=>{this._result=D9(i),this._cleanup()}),this._abortHandle=Ia(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=gn(this._abortHandle),this._abortController=null}};c([p()],Ud.prototype,"value",null),c([p()],Ud.prototype,"error",null),c([p()],Ud.prototype,"finished",null),c([p()],Ud.prototype,"promise",void 0),c([p()],Ud.prototype,"_result",void 0),Ud=c([R("esri.core.asyncUtils.ReactiveTask")],Ud);let Yy=class extends Ce{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(Ite(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r,this.length)}_createNewInstance(t){return new Ce(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};c([p()],Yy.prototype,"getCollections",void 0),c([p()],Yy.prototype,"getChildrenFunction",void 0),c([p()],Yy.prototype,"itemFilterFunction",void 0),Yy=c([R("esri.core.CollectionFlattener")],Yy);const Vm=Yy;function Se(e,t,r={}){return V9(e,t,r,Ene)}function Vo(e,t,r={}){return V9(e,t,r,kne)}function V9(e,t,r={},n){let i=null;const s=r.once?(o,a)=>{n(o)&&(gn(i),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(i=i2e(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function Ns(e,t,r,n={}){let i=null,s=null,o=null;function a(){var d;i&&s&&(s.remove(),(d=n.onListenerRemove)==null||d.call(n,i),i=null,s=null)}function l(d){n.once&&n.once&&gn(o),r(d)}const u=Se(e,(d,h)=>{var f;a(),NE(d)&&(i=d,s=Ix(d,t,l),(f=n.onListenerAdd)==null||f.call(n,d))},{sync:n.sync,initial:!0});return o=gr(()=>{u.remove(),a()}),o}function Q0(e,t){return C3e(e,kne,t)}function C3e(e,t,r){if(ld(r))return Promise.reject(Bn());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let i=null;function s(){i=gn(i)}return new Promise((o,a)=>{i=Cx([Ia(r,()=>{s(),a(Bn())}),V9(e,l=>{s(),o(l)},{sync:!1,once:!0},t??Ene)])})}function Ene(e){return!0}function kne(e){return!!e}function E3e(e,t,r={}){let n=!1;const i=Se(e,(s,o)=>{n||t(s,o)},r);return{remove(){i.remove()},pause(){n=!0},resume(){n=!1}}}const Ni={sync:!0},Cr={initial:!0},Io={sync:!0,initial:!0};let v3=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new Nx,this._items=new Set}get length(){return et(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return et(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){et(this._observable),yield*this._items}};const Ine=new FinalizationRegistry(e=>{e.close()});function k3e(e,t){Ine.register(e,t,t)}function I3e(e){Ine.unregister(e)}function One(e,t){return new Proxy({},{get:(r,n,i)=>(...s)=>{let o,a;const l=s[s.length-1];return O3e(l)&&(o=l.signal,a=l.transferList,s.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),s,{transferList:a,signal:o})}})}function O3e(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const P3e={statsWorker:()=>Q(()=>import("./statsWorker-D_YU-11Q.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),geometryEngineWorker:()=>Q(()=>import("./geometryEngineWorker-DKFQkdjF.js"),__vite__mapDeps([5,6,7,8]),import.meta.url),CSVSourceWorker:()=>Q(()=>import("./CSVSourceWorker-5zGh6-PW.js"),__vite__mapDeps([9,10,8,11,12,13,14,15,16,17,18,19,20,21,22,1,2,3,4,23,24]),import.meta.url),EdgeProcessingWorker:()=>Q(()=>import("./EdgeProcessingWorker-B4NLAjTB.js"),__vite__mapDeps([25,26,27,28,29,30,31,32,33,34,35]),import.meta.url),ElevationSamplerWorker:()=>Q(()=>import("./ElevationSamplerWorker-2gchu65w.js"),__vite__mapDeps([36,17,37,38,39,40,41,42,43,44,45,46,27,47]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>Q(()=>import("./FeatureServiceSnappingSourceWorker-D42BpEdy.js"),__vite__mapDeps([48,13,14,11,12,15,16,17,18,8,19,20,21,22,1,2,3,4,49,50,51,52]),import.meta.url),GeoJSONSourceWorker:()=>Q(()=>import("./GeoJSONSourceWorker-CGAWAqcO.js"),__vite__mapDeps([53,14,11,12,15,13,16,17,18,8,19,20,21,22,1,2,3,4,54,10,24,55]),import.meta.url),LercWorker:()=>Q(()=>import("./LercWorker-C-46kbdC.js"),[],import.meta.url),MemorySourceWorker:()=>Q(()=>import("./MemorySourceWorker-CwhHQtJX.js"),__vite__mapDeps([56,14,11,12,15,57,13,16,17,18,8,19,20,21,22,1,2,3,4,24,55,10]),import.meta.url),PBFDecoderWorker:()=>Q(()=>import("./PBFDecoderWorker-CnIXs0vH.js"),__vite__mapDeps([58,14,11,12,15,49,50]),import.meta.url),FeaturePipelineWorker:()=>Q(()=>import("./FeaturePipelineWorker-CXmWb8TA.js"),__vite__mapDeps([59,60,61,62,63,64,34,65,35,66,67,68,29,69,21,70,71,72,12,73,74,18,14,11,15,8,75,76,77,78,79,80,81,19,20,22,1,2,3,4,51,49,50,82,54,10,24,55,83,84]),import.meta.url),PointCloudWorker:()=>Q(()=>import("./PointCloudWorker-hPffw984.js"),__vite__mapDeps([85,86,39,87,88,89,90,33,91,40,41,42,92]),import.meta.url),RasterWorker:()=>Q(()=>import("./RasterWorker-DhPvsRCQ.js"),__vite__mapDeps([93,94,95,96,97,98]),import.meta.url),SceneLayerSnappingSourceWorker:()=>Q(()=>import("./SceneLayerSnappingSourceWorker-CkgMDb1t.js"),__vite__mapDeps([99,100,101,92,39,40,87,29,30,31,32,26,27,28,33,34,35]),import.meta.url),SceneLayerWorker:()=>Q(()=>import("./SceneLayerWorker-KMd0MRCo.js"),__vite__mapDeps([102,46,37,44,101,92,39,40,87,103,41,90,33,104,105,106,68,91,86,42]),import.meta.url),WFSSourceWorker:()=>Q(()=>import("./WFSSourceWorker-CZH2mHVT.js"),__vite__mapDeps([107,14,11,12,15,13,16,17,18,8,19,20,21,22,1,2,3,4,54,10,55,108,109]),import.meta.url),WorkerTileHandler:()=>Q(()=>import("./WorkerTileHandler-B3XBhSTW.js"),__vite__mapDeps([110,111,73,74,112,113,63,50,78,60,114,115,34,35,79,71]),import.meta.url),Lyr3DWorker:()=>Q(()=>import("./Lyr3DWorker-CMLBVucV.js"),[],import.meta.url)},Pne="worker:port-closed";var bi;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(bi||(bi={}));let A3e=0;function Ane(){return A3e++}function R3e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function M_(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function B9(e,t,r,n){if(t.type===bi.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==bi.INVOKE&&t.type!==bi.RESPONSE)return void e.postMessage(t);let i;if(R3e(r)?(i=dU(r.transferList),t.data=r.result):(i=dU(n),t.data=r),i){if(J("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case bi.INVOKE:throw o;case bi.RESPONSE:return void B9(e,{type:bi.RESPONSE,jobId:t.jobId,error:M_(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function C_(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function dU(e){if(!(e!=null&&e.length))return null;if(J("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!L3e(r));return t.length?t:null}function L3e(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function vbt(e){try{return await e}catch(t){const r=(t==null?void 0:t.name)===Pne;if(!(ms(t)||r))throw t;return}}const{CLOSE:pU,ABORT:hU,INVOKE:fU,RESPONSE:f1,OPEN_PORT:mU,ON:j3e}=bi,N3e=2;let F3e=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===bi.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},ph=class Jy{static connect(t,r){const n=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new Jy(n.port1,{channel:n,client:i,schedule:r});return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=s),Jy.clients.set(s,i),n.port2}static loadWorker(t){const r=P3e[t];return r?r():Promise.resolve(null)}constructor(t,r,n){this._port=t,this._jobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new F3e(i=>this._onInvokeMessage(i)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:pU}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=n==null?void 0:n.signal,s=n==null?void 0:n.transferList;if(!this._port)return Promise.reject(new q(Pne,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=Ane();return new Promise((a,l)=>{if(ld(i))return this._processWork(),void l(Bn());const u=Ia(i,()=>{const h=this._outJobs.get(o);h&&(this._outJobs.delete(o),this._processWork(),gn(h.abortHandle),this._post({type:hU,jobId:o}),l(Bn()))}),d={resolve:a,reject:l,abortHandle:u,debugInfo:t};this._outJobs.set(o,d),this._post({type:fU,jobId:o,methodName:t,abortable:i!=null},r,s)})}createInvokeProxy(t){return One(this,t)}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:bi.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),gr(()=>{n.port1.postMessage({type:bi.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:mU,port:t.port2}),t.port1}_processWork(){var o;if(this._outJobs.size>=N3e)return;const t=(o=this._jobQueue)==null?void 0:o.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:s}=t;this.apply(r,n,i).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{gn(t.abortHandle),t.reject(Bn(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const n=C_(t);if(n)switch(n.type){case f1:this._onResponseMessage(n);break;case fU:r?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case hU:this._onAbortMessage(n);break;case pU:this._onCloseMessage();break;case mU:this._onOpenPortMessage(n);break;case j3e:this._onOnMessage(n)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Jy.clients.get(this)===t&&t.destroy(),Jy.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i=[],abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,u=this._client,d=u[r];try{if(!d&&r&&r.includes(".")){const h=r.split(".");for(let f=0;f<h.length-1;f++)u=u[h[f]],d=u[h[f+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);i.push({client:this,signal:o?o.signal:null}),l=d.apply(u,i)}catch(h){return void this._post({type:f1,jobId:n,error:M_(h)})}Ch(l)?(a.set(n,{controller:o,promise:l}),l.then(h=>{a.has(n)&&(a.delete(n),this._post({type:f1,jobId:n},h))},h=>{a.has(n)&&(a.delete(n),ms(h)||this._post({type:f1,jobId:n,error:M_(h||{message:`Error encountered at method ${r}`})}))})):this._post({type:f1,jobId:n},l)}_onOpenPortMessage(t){new Jy(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=Ix(t.port,"message",s=>{const o=C_(s);(o==null?void 0:o.type)===bi.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),gn(o.abortHandle),n?o.reject(q.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return B9(this._port,t,r,n)}};ph.kernelInfo={buildDate:Ire,fullVersion:$9,revision:Ore},ph.clients=new Map;let D3e=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new v3}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,r){return new Promise((n,i)=>{let s=!0;const o=a=>{_r(r.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];Ch(l)?this._clientPromises[a]=l.then(u=>(this._clients[a]=new ph(u,r,this._ongoingJobsQueue),o(n),this._clients[a]),()=>(o(i),null)):(this._clients[a]=new ph(l,r,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(a=>a==null?void 0:a.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(Bn(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,I3e(this)}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=zo();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:n,resolver:i});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a==null?void 0:a.jobAdded())}return i.promise}createInvokeProxy(t){return One(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>Cx(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n==0&&t(r)})})}get test(){}};const z3e={async request(e,t){var o,a;const r=e.options,n=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&((o=kA(e.url))!=null&&o.after)?n:"array-buffer";const i=await yr(e.url,r),s={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch((a=i.requestOptions)==null?void 0:a.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let $w;var vK,bK;const V3e=((vK=globalThis.esriConfig)==null?void 0:vK.locale)??((bK=globalThis.dojoConfig)==null?void 0:bK.locale);function Rne(){var e;return V3e??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function No(){return $w===void 0&&($w=Rne()),$w}function B3e(e=No()){const t=/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const W$=[];function U9(e){return W$.push(e),gr(()=>W$.splice(W$.indexOf(e),1))}const q$=[];function G9(e){return q$.push(e),gr(()=>q$.splice(q$.indexOf(e),1))}function U3e(){const e=Rne();$w!==e&&([...q$].forEach(t=>t(e)),$w=e,[...W$].forEach(t=>t(e)))}var wK;(wK=globalThis.addEventListener)==null||wK.call(globalThis,"languagechange",U3e);const yU=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class ay extends Error{}class G3e extends ay{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class W3e extends ay{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class q3e extends ay{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Hg extends ay{}class Lne extends ay{constructor(t){super(`Invalid unit ${t}`)}}class eo extends ay{}class Od extends ay{constructor(){super("Zone is an abstract class")}}const Oe="numeric",jl="short",Fo="long",b3={year:Oe,month:Oe,day:Oe},jne={year:Oe,month:jl,day:Oe},H3e={year:Oe,month:jl,day:Oe,weekday:jl},Nne={year:Oe,month:Fo,day:Oe},Fne={year:Oe,month:Fo,day:Oe,weekday:Fo},Dne={hour:Oe,minute:Oe},zne={hour:Oe,minute:Oe,second:Oe},Vne={hour:Oe,minute:Oe,second:Oe,timeZoneName:jl},Bne={hour:Oe,minute:Oe,second:Oe,timeZoneName:Fo},Une={hour:Oe,minute:Oe,hourCycle:"h23"},Gne={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23"},Wne={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:jl},qne={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:Fo},Hne={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe},Zne={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe,second:Oe},Yne={year:Oe,month:jl,day:Oe,hour:Oe,minute:Oe},Jne={year:Oe,month:jl,day:Oe,hour:Oe,minute:Oe,second:Oe},Z3e={year:Oe,month:jl,day:Oe,weekday:jl,hour:Oe,minute:Oe},Kne={year:Oe,month:Fo,day:Oe,hour:Oe,minute:Oe,timeZoneName:jl},Xne={year:Oe,month:Fo,day:Oe,hour:Oe,minute:Oe,second:Oe,timeZoneName:jl},Qne={year:Oe,month:Fo,day:Oe,weekday:Fo,hour:Oe,minute:Oe,timeZoneName:Fo},eie={year:Oe,month:Fo,day:Oe,weekday:Fo,hour:Oe,minute:Oe,second:Oe,timeZoneName:Fo};class xv{get type(){throw new Od}get name(){throw new Od}get ianaName(){return this.name}get isUniversal(){throw new Od}offsetName(t,r){throw new Od}formatOffset(t,r){throw new Od}offset(t){throw new Od}equals(t){throw new Od}get isValid(){throw new Od}}let K5=null;class ek extends xv{static get instance(){return K5===null&&(K5=new ek),K5}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return uie(t,r,n)}formatOffset(t,r){return Tw(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let H$={};function Y3e(e){return H$[e]||(H$[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),H$[e]}const J3e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function K3e(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,u,d]=n;return[o,i,s,a,l,u,d]}function X3e(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=J3e[s];s==="era"?n[a]=o:bt(a)||(n[a]=parseInt(o,10))}return n}let t2={};class Bo extends xv{static create(t){return t2[t]||(t2[t]=new Bo(t)),t2[t]}static resetCache(){t2={},H$={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Bo.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return uie(t,r,n,this.name)}formatOffset(t,r){return Tw(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=Y3e(this.name);let[i,s,o,a,l,u,d]=n.formatToParts?X3e(n,r):K3e(n,r);a==="BC"&&(i=-Math.abs(i)+1);const f=rk({year:i,month:s,day:o,hour:l===24?0:l,minute:u,second:d,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(f-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let gU={};function Q3e(e,t={}){const r=JSON.stringify([e,t]);let n=gU[r];return n||(n=new Intl.ListFormat(e,t),gU[r]=n),n}let YA={};function JA(e,t={}){const r=JSON.stringify([e,t]);let n=YA[r];return n||(n=new Intl.DateTimeFormat(e,t),YA[r]=n),n}let KA={};function eCe(e,t={}){const r=JSON.stringify([e,t]);let n=KA[r];return n||(n=new Intl.NumberFormat(e,t),KA[r]=n),n}let XA={};function tCe(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=XA[i];return s||(s=new Intl.RelativeTimeFormat(e,t),XA[i]=s),s}let lb=null;function rCe(){return lb||(lb=new Intl.DateTimeFormat().resolvedOptions().locale,lb)}let vU={};function nCe(e){let t=vU[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,vU[e]=t}return t}function iCe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=JA(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=JA(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function sCe(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function oCe(e){const t=[];for(let r=1;r<=12;r++){const n=ft.utc(2009,r,1);t.push(e(n))}return t}function aCe(e){const t=[];for(let r=1;r<=7;r++){const n=ft.utc(2016,11,13+r);t.push(e(n))}return t}function r2(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function lCe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class uCe{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=eCe(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Z9(t,3);return Yn(r,this.padTo)}}}class cCe{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Bo.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=JA(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class dCe{constructor(t,r,n){this.opts={style:"long",...n},!r&&aie()&&(this.rtf=tCe(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):OCe(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const pCe={firstDay:1,minimalDays:4,weekend:[6,7]};class Lr{static fromOpts(t){return Lr.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,s=!1){const o=t||zn.defaultLocale,a=o||(s?"en-US":rCe()),l=r||zn.defaultNumberingSystem,u=n||zn.defaultOutputCalendar,d=QA(i)||zn.defaultWeekSettings;return new Lr(a,l,u,d,o)}static resetCache(){lb=null,YA={},KA={},XA={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return Lr.create(t,r,n,i)}constructor(t,r,n,i,s){const[o,a,l]=iCe(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=sCe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=lCe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Lr.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,QA(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return r2(this,t,pie,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=oCe(s=>this.extract(s,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return r2(this,t,mie,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=aCe(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return r2(this,void 0,()=>yie,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ft.utc(2016,11,13,9),ft.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return r2(this,t,gie,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[ft.utc(-40,1,1),ft.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new uCe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new cCe(t,this.intl,r)}relFormatter(t={}){return new dCe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Q3e(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:lie()?nCe(this.locale):pCe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let X5=null;class _i extends xv{static get utcInstance(){return X5===null&&(X5=new _i(0)),X5}static instance(t){return t===0?_i.utcInstance:new _i(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new _i(nk(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Tw(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Tw(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Tw(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class hCe extends xv{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function kp(e,t){if(bt(e)||e===null)return t;if(e instanceof xv)return e;if(yCe(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?ek.instance:r==="utc"||r==="gmt"?_i.utcInstance:_i.parseSpecifier(r)||Bo.create(e)}else return bm(e)?_i.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new hCe(e)}let bU=()=>Date.now(),wU="system",_U=null,xU=null,SU=null,$U=60,TU,MU=null;class zn{static get now(){return bU}static set now(t){bU=t}static set defaultZone(t){wU=t}static get defaultZone(){return kp(wU,ek.instance)}static get defaultLocale(){return _U}static set defaultLocale(t){_U=t}static get defaultNumberingSystem(){return xU}static set defaultNumberingSystem(t){xU=t}static get defaultOutputCalendar(){return SU}static set defaultOutputCalendar(t){SU=t}static get defaultWeekSettings(){return MU}static set defaultWeekSettings(t){MU=QA(t)}static get twoDigitCutoffYear(){return $U}static set twoDigitCutoffYear(t){$U=t%100}static get throwOnInvalid(){return TU}static set throwOnInvalid(t){TU=t}static resetCaches(){Lr.resetCache(),Bo.resetCache()}}class El{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const tie=[0,31,59,90,120,151,181,212,243,273,304,334],rie=[0,31,60,91,121,152,182,213,244,274,305,335];function Ma(e,t){return new El("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function W9(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function nie(e,t,r){return r+(Fx(e)?rie:tie)[t-1]}function iie(e,t){const r=Fx(e)?rie:tie,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function q9(e,t){return(e-t+7)%7+1}function w3(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=nie(n,i,s),a=q9(W9(n,i,s),r);let l=Math.floor((o-a+14-t)/7),u;return l<1?(u=n-1,l=E_(u,t,r)):l>E_(n,t,r)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:a,...ik(e)}}function CU(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=q9(W9(n,1,t),r),a=f0(n);let l=i*7+s-o-7+t,u;l<1?(u=n-1,l+=f0(u)):l>a?(u=n+1,l-=f0(n)):u=n;const{month:d,day:h}=iie(u,l);return{year:u,month:d,day:h,...ik(e)}}function Q5(e){const{year:t,month:r,day:n}=e,i=nie(t,r,n);return{year:t,ordinal:i,...ik(e)}}function EU(e){const{year:t,ordinal:r}=e,{month:n,day:i}=iie(t,r);return{year:t,month:n,day:i,...ik(e)}}function kU(e,t){if(!bt(e.localWeekday)||!bt(e.localWeekNumber)||!bt(e.localWeekYear)){if(!bt(e.weekday)||!bt(e.weekNumber)||!bt(e.weekYear))throw new Hg("Cannot mix locale-based week fields with ISO-based week fields");return bt(e.localWeekday)||(e.weekday=e.localWeekday),bt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),bt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function fCe(e,t=4,r=1){const n=tk(e.weekYear),i=Ca(e.weekNumber,1,E_(e.weekYear,t,r)),s=Ca(e.weekday,1,7);return n?i?s?!1:Ma("weekday",e.weekday):Ma("week",e.weekNumber):Ma("weekYear",e.weekYear)}function mCe(e){const t=tk(e.year),r=Ca(e.ordinal,1,f0(e.year));return t?r?!1:Ma("ordinal",e.ordinal):Ma("year",e.year)}function sie(e){const t=tk(e.year),r=Ca(e.month,1,12),n=Ca(e.day,1,_3(e.year,e.month));return t?r?n?!1:Ma("day",e.day):Ma("month",e.month):Ma("year",e.year)}function oie(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=Ca(t,0,23)||t===24&&r===0&&n===0&&i===0,o=Ca(r,0,59),a=Ca(n,0,59),l=Ca(i,0,999);return s?o?a?l?!1:Ma("millisecond",i):Ma("second",n):Ma("minute",r):Ma("hour",t)}function bt(e){return typeof e>"u"}function bm(e){return typeof e=="number"}function tk(e){return typeof e=="number"&&e%1===0}function yCe(e){return typeof e=="string"}function gCe(e){return Object.prototype.toString.call(e)==="[object Date]"}function aie(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function lie(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function vCe(e){return Array.isArray(e)?e:[e]}function IU(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function bCe(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function ev(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function QA(e){if(e==null)return null;if(typeof e!="object")throw new eo("Week settings must be an object");if(!Ca(e.firstDay,1,7)||!Ca(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Ca(t,1,7)))throw new eo("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ca(e,t,r){return tk(e)&&e>=t&&e<=r}function wCe(e,t){return e-t*Math.floor(e/t)}function Yn(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function wp(e){if(!(bt(e)||e===null||e===""))return parseInt(e,10)}function zh(e){if(!(bt(e)||e===null||e===""))return parseFloat(e)}function H9(e){if(!(bt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Z9(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function Fx(e){return e%4===0&&(e%100!==0||e%400===0)}function f0(e){return Fx(e)?366:365}function _3(e,t){const r=wCe(t-1,12)+1,n=e+(t-r)/12;return r===2?Fx(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function rk(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function OU(e,t,r){return-q9(W9(e,1,t),r)+t-1}function E_(e,t=4,r=1){const n=OU(e,t,r),i=OU(e+1,t,r);return(f0(e)-n+i)/7}function eR(e){return e>99?e:e>zn.twoDigitCutoffYear?1900+e:2e3+e}function uie(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function nk(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function cie(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new eo(`Invalid unit value ${e}`);return t}function x3(e,t){const r={};for(const n in e)if(ev(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=cie(i)}return r}function Tw(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${Yn(r,2)}:${Yn(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Yn(r,2)}${Yn(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ik(e){return bCe(e,["hour","minute","second","millisecond"])}const _Ce=["January","February","March","April","May","June","July","August","September","October","November","December"],die=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xCe=["J","F","M","A","M","J","J","A","S","O","N","D"];function pie(e){switch(e){case"narrow":return[...xCe];case"short":return[...die];case"long":return[..._Ce];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hie=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fie=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],SCe=["M","T","W","T","F","S","S"];function mie(e){switch(e){case"narrow":return[...SCe];case"short":return[...fie];case"long":return[...hie];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const yie=["AM","PM"],$Ce=["Before Christ","Anno Domini"],TCe=["BC","AD"],MCe=["B","A"];function gie(e){switch(e){case"narrow":return[...MCe];case"short":return[...TCe];case"long":return[...$Ce];default:return null}}function CCe(e){return yie[e.hour<12?0:1]}function ECe(e,t){return mie(t)[e.weekday-1]}function kCe(e,t){return pie(t)[e.month-1]}function ICe(e,t){return gie(t)[e.year<0?0:1]}function OCe(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const h=e==="days";switch(t){case 1:return h?"tomorrow":`next ${i[e][0]}`;case-1:return h?"yesterday":`last ${i[e][0]}`;case 0:return h?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,u=i[e],d=n?l?u[1]:u[2]||u[1]:l?i[e][0]:e;return o?`${a} ${d} ago`:`in ${a} ${d}`}function PU(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const PCe={D:b3,DD:jne,DDD:Nne,DDDD:Fne,t:Dne,tt:zne,ttt:Vne,tttt:Bne,T:Une,TT:Gne,TTT:Wne,TTTT:qne,f:Hne,ff:Yne,fff:Kne,ffff:Qne,F:Zne,FF:Jne,FFF:Xne,FFFF:eie};class as{static create(t,r={}){return new as(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return PCe[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return Yn(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>n?CCe(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>n?kCe(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),u=(y,g)=>n?ECe(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{const g=as.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},h=y=>n?ICe(t,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(y)}};return PU(as.parseFormat(r),f)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const d=n(u);return d?this.num(l.get(d),u.length):u},s=as.parseFormat(r),o=s.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),a=t.shiftTo(...o.map(n).filter(l=>l));return PU(s,i(a))}}const vie=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sv(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function $v(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,a,l]=s(t,i);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function Tv(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function bie(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=wp(t[r+i]);return[n,null,r+i]}}const wie=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ACe=`(?:${wie.source}?(?:\\[(${vie.source})\\])?)?`,Y9=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_ie=RegExp(`${Y9.source}${ACe}`),J9=RegExp(`(?:T${_ie.source})?`),RCe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,LCe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,jCe=/(\d{4})-?(\d{3})/,NCe=bie("weekYear","weekNumber","weekDay"),FCe=bie("year","ordinal"),DCe=/(\d{4})-(\d\d)-(\d\d)/,xie=RegExp(`${Y9.source} ?(?:${wie.source}|(${vie.source}))?`),zCe=RegExp(`(?: ${xie.source})?`);function m0(e,t,r){const n=e[t];return bt(n)?r:wp(n)}function VCe(e,t){return[{year:m0(e,t),month:m0(e,t+1,1),day:m0(e,t+2,1)},null,t+3]}function Mv(e,t){return[{hours:m0(e,t,0),minutes:m0(e,t+1,0),seconds:m0(e,t+2,0),milliseconds:H9(e[t+3])},null,t+4]}function Dx(e,t){const r=!e[t]&&!e[t+1],n=nk(e[t+1],e[t+2]),i=r?null:_i.instance(n);return[{},i,t+3]}function zx(e,t){const r=e[t]?Bo.create(e[t]):null;return[{},r,t+1]}const BCe=RegExp(`^T?${Y9.source}$`),UCe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function GCe(e){const[t,r,n,i,s,o,a,l,u]=e,d=t[0]==="-",h=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&d)?-y:y;return[{years:f(zh(r)),months:f(zh(n)),weeks:f(zh(i)),days:f(zh(s)),hours:f(zh(o)),minutes:f(zh(a)),seconds:f(zh(l),l==="-0"),milliseconds:f(H9(u),h)}]}const WCe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K9(e,t,r,n,i,s,o){const a={year:t.length===2?eR(wp(t)):wp(t),month:die.indexOf(r)+1,day:wp(n),hour:wp(i),minute:wp(s)};return o&&(a.second=wp(o)),e&&(a.weekday=e.length>3?hie.indexOf(e)+1:fie.indexOf(e)+1),a}const qCe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function HCe(e){const[,t,r,n,i,s,o,a,l,u,d,h]=e,f=K9(t,i,n,r,s,o,a);let y;return l?y=WCe[l]:u?y=0:y=nk(d,h),[f,new _i(y)]}function ZCe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const YCe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,JCe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,KCe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function AU(e){const[,t,r,n,i,s,o,a]=e;return[K9(t,i,n,r,s,o,a),_i.utcInstance]}function XCe(e){const[,t,r,n,i,s,o,a]=e;return[K9(t,a,r,n,i,s,o),_i.utcInstance]}const QCe=Sv(RCe,J9),eEe=Sv(LCe,J9),tEe=Sv(jCe,J9),rEe=Sv(_ie),Sie=$v(VCe,Mv,Dx,zx),nEe=$v(NCe,Mv,Dx,zx),iEe=$v(FCe,Mv,Dx,zx),sEe=$v(Mv,Dx,zx);function oEe(e){return Tv(e,[QCe,Sie],[eEe,nEe],[tEe,iEe],[rEe,sEe])}function aEe(e){return Tv(ZCe(e),[qCe,HCe])}function lEe(e){return Tv(e,[YCe,AU],[JCe,AU],[KCe,XCe])}function uEe(e){return Tv(e,[UCe,GCe])}const cEe=$v(Mv);function dEe(e){return Tv(e,[BCe,cEe])}const pEe=Sv(DCe,zCe),hEe=Sv(xie),fEe=$v(Mv,Dx,zx);function mEe(e){return Tv(e,[pEe,Sie],[hEe,fEe])}const RU="Invalid Duration",$ie={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},yEe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$ie},Yo=146097/400,Cy=146097/4800,gEe={years:{quarters:4,months:12,weeks:Yo/7,days:Yo,hours:Yo*24,minutes:Yo*24*60,seconds:Yo*24*60*60,milliseconds:Yo*24*60*60*1e3},quarters:{months:3,weeks:Yo/28,days:Yo/4,hours:Yo*24/4,minutes:Yo*24*60/4,seconds:Yo*24*60*60/4,milliseconds:Yo*24*60*60*1e3/4},months:{weeks:Cy/7,days:Cy,hours:Cy*24,minutes:Cy*24*60,seconds:Cy*24*60*60,milliseconds:Cy*24*60*60*1e3},...$ie},nm=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vEe=nm.slice(0).reverse();function Pd(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new rr(n)}function Tie(e,t){let r=t.milliseconds??0;for(const n of vEe.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function LU(e,t){const r=Tie(e,t)<0?-1:1;nm.reduceRight((n,i)=>{if(bt(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],a=Math.floor(s/o);t[i]+=a*r,t[n]-=a*o*r}return i},null),nm.reduce((n,i)=>{if(bt(t[i]))return n;if(n){const s=t[n]%1;t[n]-=s,t[i]+=s*e[n][i]}return i},null)}function bEe(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class rr{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?gEe:yEe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Lr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return rr.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new eo(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new rr({values:x3(t,rr.normalizeUnit),loc:Lr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(bm(t))return rr.fromMillis(t);if(rr.isDuration(t))return t;if(typeof t=="object")return rr.fromObject(t);throw new eo(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=uEe(t);return n?rr.fromObject(n,r):rr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=dEe(t);return n?rr.fromObject(n,r):rr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new eo("need to specify a reason the Duration is invalid");const n=t instanceof El?t:new El(t,r);if(zn.throwOnInvalid)throw new q3e(n);return new rr({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new Lne(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?as.create(this.loc,n).formatDurationFromString(this,t):RU}toHuman(t={}){if(!this.isValid)return RU;const r=nm.map(n=>{const i=this.values[n];return bt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Z9(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},ft.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Tie(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=rr.fromDurationLike(t),n={};for(const i of nm)(ev(r.values,i)||ev(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Pd(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=rr.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=cie(t(this.values[n],n));return Pd(this,{values:r},!0)}get(t){return this[rr.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...x3(t,rr.normalizeUnit)};return Pd(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Pd(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return LU(this.matrix,t),Pd(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=bEe(this.normalize().shiftToAll().toObject());return Pd(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>rr.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of nm)if(t.indexOf(o)>=0){s=o;let a=0;for(const u in n)a+=this.matrix[u][o]*n[u],n[u]=0;bm(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else bm(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return LU(this.matrix,r),Pd(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Pd(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of nm)if(!r(this.values[n],t.values[n]))return!1;return!0}}const Ey="Invalid Interval";function wEe(e,t){return!e||!e.isValid?Pn.invalid("missing or invalid start"):!t||!t.isValid?Pn.invalid("missing or invalid end"):t<e?Pn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Pn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new eo("need to specify a reason the Interval is invalid");const n=t instanceof El?t:new El(t,r);if(zn.throwOnInvalid)throw new W3e(n);return new Pn({invalid:n})}static fromDateTimes(t,r){const n=y1(t),i=y1(r),s=wEe(n,i);return s??new Pn({start:n,end:i})}static after(t,r){const n=rr.fromDurationLike(r),i=y1(t);return Pn.fromDateTimes(i,i.plus(n))}static before(t,r){const n=rr.fromDurationLike(r),i=y1(t);return Pn.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=ft.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=ft.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return Pn.fromDateTimes(s,a);if(o){const u=rr.fromISO(i,r);if(u.isValid)return Pn.after(s,u)}else if(l){const u=rr.fromISO(n,r);if(u.isValid)return Pn.before(a,u)}}return Pn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Pn.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(y1).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(Pn.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(t){const r=rr.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(Pn.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Pn.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Pn.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,u)=>l.time-u.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(Pn.fromDateTimes(r,l.time)),r=null);return Pn.merge(i)}difference(...t){return Pn.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Ey}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=b3,r={}){return this.isValid?as.create(this.s.loc.clone(r),t).formatInterval(this):Ey}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Ey}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ey}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Ey}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Ey}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):rr.invalid(this.invalidReason)}mapEndpoints(t){return Pn.fromDateTimes(t(this.s),t(this.e))}}class n2{static hasDST(t=zn.defaultZone){const r=ft.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Bo.isValidZone(t)}static normalizeZone(t){return kp(t,zn.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Lr.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Lr.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Lr.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Lr.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Lr.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Lr.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Lr.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Lr.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Lr.create(r,null,"gregory").eras(t)}static features(){return{relative:aie(),localeWeek:lie()}}}function jU(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(rr.fromMillis(n).as("days"))}function _Ee(e,t,r){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const d=jU(l,u);return(d-d%7)/7}],["days",jU]],i={},s=e;let o,a;for(const[l,u]of n)r.indexOf(l)>=0&&(o=l,i[l]=u(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i),e>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}function xEe(e,t,r,n){let[i,s,o,a]=_Ee(e,t,r);const l=t-i,u=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const d=rr.fromObject(s,n);return u.length>0?rr.fromMillis(l,n).shiftTo(...u).plus(d):d}const X9={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},NU={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},SEe=X9.hanidec.replace(/[\[|\]]/g,"").split("");function $Ee(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(X9.hanidec)!==-1)t+=SEe.indexOf(e[r]);else for(const i in NU){const[s,o]=NU[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}function el({numberingSystem:e},t=""){return new RegExp(`${X9[e||"latn"]}${t}`)}const TEe="missing Intl.DateTimeFormat.formatToParts support";function dr(e,t=r=>r){return{regex:e,deser:([r])=>t($Ee(r))}}const MEe="",Mie=`[ ${MEe}]`,Cie=new RegExp(Mie,"g");function CEe(e){return e.replace(/\./g,"\\.?").replace(Cie,Mie)}function FU(e){return e.replace(/\./g,"").replace(Cie," ").toLowerCase()}function tl(e,t){return e===null?null:{regex:RegExp(e.map(CEe).join("|")),deser:([r])=>e.findIndex(n=>FU(r)===FU(n))+t}}function DU(e,t){return{regex:e,deser:([,r,n])=>nk(r,n),groups:t}}function i2(e){return{regex:e,deser:([t])=>t}}function EEe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kEe(e,t){const r=el(t),n=el(t,"{2}"),i=el(t,"{3}"),s=el(t,"{4}"),o=el(t,"{6}"),a=el(t,"{1,2}"),l=el(t,"{1,3}"),u=el(t,"{1,6}"),d=el(t,"{1,9}"),h=el(t,"{2,4}"),f=el(t,"{4,6}"),y=b=>({regex:RegExp(EEe(b.val)),deser:([_])=>_,literal:!0}),v=(b=>{if(e.literal)return y(b);switch(b.val){case"G":return tl(t.eras("short"),0);case"GG":return tl(t.eras("long"),0);case"y":return dr(u);case"yy":return dr(h,eR);case"yyyy":return dr(s);case"yyyyy":return dr(f);case"yyyyyy":return dr(o);case"M":return dr(a);case"MM":return dr(n);case"MMM":return tl(t.months("short",!0),1);case"MMMM":return tl(t.months("long",!0),1);case"L":return dr(a);case"LL":return dr(n);case"LLL":return tl(t.months("short",!1),1);case"LLLL":return tl(t.months("long",!1),1);case"d":return dr(a);case"dd":return dr(n);case"o":return dr(l);case"ooo":return dr(i);case"HH":return dr(n);case"H":return dr(a);case"hh":return dr(n);case"h":return dr(a);case"mm":return dr(n);case"m":return dr(a);case"q":return dr(a);case"qq":return dr(n);case"s":return dr(a);case"ss":return dr(n);case"S":return dr(l);case"SSS":return dr(i);case"u":return i2(d);case"uu":return i2(a);case"uuu":return dr(r);case"a":return tl(t.meridiems(),0);case"kkkk":return dr(s);case"kk":return dr(h,eR);case"W":return dr(a);case"WW":return dr(n);case"E":case"c":return dr(r);case"EEE":return tl(t.weekdays("short",!1),1);case"EEEE":return tl(t.weekdays("long",!1),1);case"ccc":return tl(t.weekdays("short",!0),1);case"cccc":return tl(t.weekdays("long",!0),1);case"Z":case"ZZ":return DU(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return DU(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return i2(/[a-z_+-/]{1,256}?/i);case" ":return i2(/[^\S\n\r]/);default:return y(b)}})(e)||{invalidReason:TEe};return v.token=e,v}const IEe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function OEe(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=IEe[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function PEe(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function AEe(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(ev(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function REe(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return bt(e.z)||(r=Bo.create(e.z)),bt(e.Z)||(r||(r=new _i(e.Z)),n=e.Z),bt(e.q)||(e.M=(e.q-1)*3+1),bt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),bt(e.u)||(e.S=H9(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,n]}let eO=null;function LEe(){return eO||(eO=ft.fromMillis(1555555555555)),eO}function jEe(e,t){if(e.literal)return e;const r=as.macroTokenToFormatOpts(e.val),n=Iie(r,t);return n==null||n.includes(void 0)?e:n}function Eie(e,t){return Array.prototype.concat(...e.map(r=>jEe(r,t)))}function kie(e,t,r){const n=Eie(as.parseFormat(r),e),i=n.map(o=>kEe(o,e)),s=i.find(o=>o.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[o,a]=PEe(i),l=RegExp(o,"i"),[u,d]=AEe(t,l,a),[h,f,y]=d?REe(d):[null,null,void 0];if(ev(d,"a")&&ev(d,"H"))throw new Hg("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:u,matches:d,result:h,zone:f,specificOffset:y}}}function NEe(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=kie(e,t,r);return[n,i,s,o]}function Iie(e,t){if(!e)return null;const n=as.create(t,e).dtFormatter(LEe()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>OEe(o,e,s))}const tO="Invalid DateTime",zU=864e13;function s2(e){return new El("unsupported zone",`the zone "${e.name}" is not supported`)}function rO(e){return e.weekData===null&&(e.weekData=w3(e.c)),e.weekData}function nO(e){return e.localWeekData===null&&(e.localWeekData=w3(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Vh(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ft({...r,...t,old:r})}function Oie(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function o2(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Z$(e,t,r){return Oie(rk(e),t,r)}function VU(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,_3(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=rr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=rk(s);let[l,u]=Oie(a,r,e.zone);return o!==0&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function m1(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,u=ft.fromObject(e,{...r,zone:l,specificOffset:s});return o?u:u.setZone(a)}else return ft.invalid(new El("unparsable",`the input "${i}" can't be parsed as ${n}`))}function a2(e,t,r=!0){return e.isValid?as.create(Lr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function iO(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=Yn(e.c.year,r?6:4),t?(n+="-",n+=Yn(e.c.month),n+="-",n+=Yn(e.c.day)):(n+=Yn(e.c.month),n+=Yn(e.c.day)),n}function BU(e,t,r,n,i,s){let o=Yn(e.c.hour);return t?(o+=":",o+=Yn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=Yn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=Yn(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=Yn(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Yn(Math.trunc(-e.o/60)),o+=":",o+=Yn(Math.trunc(-e.o%60))):(o+="+",o+=Yn(Math.trunc(e.o/60)),o+=":",o+=Yn(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const Pie={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},FEe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},DEe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Aie=["year","month","day","hour","minute","second","millisecond"],zEe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],VEe=["year","ordinal","hour","minute","second","millisecond"];function BEe(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Lne(e);return t}function UU(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return BEe(e)}}function GU(e,t){const r=kp(t.zone,zn.defaultZone),n=Lr.fromObject(t),i=zn.now();let s,o;if(bt(e.year))s=i;else{for(const u of Aie)bt(e[u])&&(e[u]=Pie[u]);const a=sie(e)||oie(e);if(a)return ft.invalid(a);const l=r.offset(i);[s,o]=Z$(e,l,r)}return new ft({ts:s,zone:r,loc:n,o})}function WU(e,t,r){const n=bt(r.round)?!0:r.round,i=(o,a)=>(o=Z9(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function qU(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class ft{constructor(t){const r=t.zone||zn.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new El("invalid input"):null)||(r.isValid?null:s2(r));this.ts=bt(t.ts)?zn.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const a=r.offset(this.ts);i=o2(this.ts,a),n=Number.isNaN(i.year)?new El("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=t.loc||Lr.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ft({})}static local(){const[t,r]=qU(arguments),[n,i,s,o,a,l,u]=r;return GU({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},t)}static utc(){const[t,r]=qU(arguments),[n,i,s,o,a,l,u]=r;return t.zone=_i.utcInstance,GU({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:u},t)}static fromJSDate(t,r={}){const n=gCe(t)?t.valueOf():NaN;if(Number.isNaN(n))return ft.invalid("invalid input");const i=kp(r.zone,zn.defaultZone);return i.isValid?new ft({ts:n,zone:i,loc:Lr.fromObject(r)}):ft.invalid(s2(i))}static fromMillis(t,r={}){if(bm(t))return t<-zU||t>zU?ft.invalid("Timestamp out of range"):new ft({ts:t,zone:kp(r.zone,zn.defaultZone),loc:Lr.fromObject(r)});throw new eo(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(bm(t))return new ft({ts:t*1e3,zone:kp(r.zone,zn.defaultZone),loc:Lr.fromObject(r)});throw new eo("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=kp(r.zone,zn.defaultZone);if(!n.isValid)return ft.invalid(s2(n));const i=Lr.fromObject(r),s=x3(t,UU),{minDaysInFirstWeek:o,startOfWeek:a}=kU(s,i),l=zn.now(),u=bt(r.specificOffset)?n.offset(l):r.specificOffset,d=!bt(s.ordinal),h=!bt(s.year),f=!bt(s.month)||!bt(s.day),y=h||f,g=s.weekYear||s.weekNumber;if((y||d)&&g)throw new Hg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&d)throw new Hg("Can't mix ordinal dates with month/day");const v=g||s.weekday&&!y;let b,_,x=o2(l,u);v?(b=zEe,_=FEe,x=w3(x,o,a)):d?(b=VEe,_=DEe,x=Q5(x)):(b=Aie,_=Pie);let S=!1;for(const M of b){const O=s[M];bt(O)?S?s[M]=_[M]:s[M]=x[M]:S=!0}const $=v?fCe(s,o,a):d?mCe(s):sie(s),C=$||oie(s);if(C)return ft.invalid(C);const k=v?CU(s,o,a):d?EU(s):s,[E,P]=Z$(k,u,n),T=new ft({ts:E,zone:n,o:P,loc:i});return s.weekday&&y&&t.weekday!==T.weekday?ft.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${T.toISO()}`):T}static fromISO(t,r={}){const[n,i]=oEe(t);return m1(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=aEe(t);return m1(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=lEe(t);return m1(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(bt(t)||bt(r))throw new eo("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=Lr.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,u,d]=NEe(o,t,r);return d?ft.invalid(d):m1(a,l,n,`format ${r}`,t,u)}static fromString(t,r,n={}){return ft.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=mEe(t);return m1(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new eo("need to specify a reason the DateTime is invalid");const n=t instanceof El?t:new El(t,r);if(zn.throwOnInvalid)throw new G3e(n);return new ft({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=Iie(t,Lr.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return Eie(as.parseFormat(t),Lr.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rO(this).weekYear:NaN}get weekNumber(){return this.isValid?rO(this).weekNumber:NaN}get weekday(){return this.isValid?rO(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?nO(this).weekday:NaN}get localWeekNumber(){return this.isValid?nO(this).weekNumber:NaN}get localWeekYear(){return this.isValid?nO(this).weekYear:NaN}get ordinal(){return this.isValid?Q5(this.c).ordinal:NaN}get monthShort(){return this.isValid?n2.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?n2.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?n2.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?n2.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=rk(this.c),i=this.zone.offset(n-t),s=this.zone.offset(n+t),o=this.zone.offset(n-i*r),a=this.zone.offset(n-s*r);if(o===a)return[this];const l=n-o*r,u=n-a*r,d=o2(l,o),h=o2(u,a);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[Vh(this,{ts:l}),Vh(this,{ts:u})]:[this]}get isInLeapYear(){return Fx(this.year)}get daysInMonth(){return _3(this.year,this.month)}get daysInYear(){return this.isValid?f0(this.year):NaN}get weeksInWeekYear(){return this.isValid?E_(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?E_(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=as.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(_i.instance(t),r)}toLocal(){return this.setZone(zn.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=kp(t,zn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=Z$(o,s,t)}return Vh(this,{ts:i,zone:t})}else return ft.invalid(s2(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Vh(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=x3(t,UU),{minDaysInFirstWeek:n,startOfWeek:i}=kU(r,this.loc),s=!bt(r.weekYear)||!bt(r.weekNumber)||!bt(r.weekday),o=!bt(r.ordinal),a=!bt(r.year),l=!bt(r.month)||!bt(r.day),u=a||l,d=r.weekYear||r.weekNumber;if((u||o)&&d)throw new Hg("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Hg("Can't mix ordinal dates with month/day");let h;s?h=CU({...w3(this.c,n,i),...r},n,i):bt(r.ordinal)?(h={...this.toObject(),...r},bt(r.day)&&(h.day=Math.min(_3(h.year,h.month),h.day))):h=EU({...Q5(this.c),...r});const[f,y]=Z$(h,this.o,this.zone);return Vh(this,{ts:f,o:y})}plus(t){if(!this.isValid)return this;const r=rr.fromDurationLike(t);return Vh(this,VU(this,r))}minus(t){if(!this.isValid)return this;const r=rr.fromDurationLike(t).negate();return Vh(this,VU(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=rr.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?as.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):tO}toLocaleString(t=b3,r={}){return this.isValid?as.create(this.loc.clone(r),t).formatDateTime(this):tO}toLocaleParts(t={}){return this.isValid?as.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=iO(this,o);return a+="T",a+=BU(this,o,r,n,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?iO(this,t==="extended"):null}toISOWeekDate(){return a2(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+BU(this,o==="extended",r,t,n,s):null}toRFC2822(){return a2(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return a2(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?iO(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),a2(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():tO}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return rr.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=vCe(r).map(rr.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,u=xEe(a,l,s,i);return o?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(ft.now(),t,r)}until(t){return this.isValid?Pn.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||ft.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),WU(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?WU(t.base||ft.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ft.isDateTime))throw new eo("min requires all arguments be DateTimes");return IU(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(ft.isDateTime))throw new eo("max requires all arguments be DateTimes");return IU(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=Lr.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return kie(o,t,r)}static fromStringExplain(t,r,n={}){return ft.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return b3}static get DATE_MED(){return jne}static get DATE_MED_WITH_WEEKDAY(){return H3e}static get DATE_FULL(){return Nne}static get DATE_HUGE(){return Fne}static get TIME_SIMPLE(){return Dne}static get TIME_WITH_SECONDS(){return zne}static get TIME_WITH_SHORT_OFFSET(){return Vne}static get TIME_WITH_LONG_OFFSET(){return Bne}static get TIME_24_SIMPLE(){return Une}static get TIME_24_WITH_SECONDS(){return Gne}static get TIME_24_WITH_SHORT_OFFSET(){return Wne}static get TIME_24_WITH_LONG_OFFSET(){return qne}static get DATETIME_SHORT(){return Hne}static get DATETIME_SHORT_WITH_SECONDS(){return Zne}static get DATETIME_MED(){return Yne}static get DATETIME_MED_WITH_SECONDS(){return Jne}static get DATETIME_MED_WITH_WEEKDAY(){return Z3e}static get DATETIME_FULL(){return Kne}static get DATETIME_FULL_WITH_SECONDS(){return Xne}static get DATETIME_HUGE(){return Qne}static get DATETIME_HUGE_WITH_SECONDS(){return eie}}function y1(e){if(ft.isDateTime(e))return e;if(e&&e.valueOf&&bm(e.valueOf()))return ft.fromJSDate(e);if(e&&typeof e=="object")return ft.fromObject(e);throw new eo(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const zu="system",Bm="unknown",hh="UTC",UEe=Intl.DateTimeFormat().resolvedOptions().timeZone,GEe="shortOffset";function WEe(e){return"timeZoneIANA"in e}function qEe(e){return e.startsWith("UTC")}function S3(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?Y$(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?HEe(r):null}}}}}function Y$(e,t=zu){return e?WEe(e)?e.timeZoneIANA:ZEe(e,t):t}function HEe(e){return{timeZoneIANA:e}}function ZEe(e,t=zu){if(!e||!yU.has(e.timeZone))return t;const r=yU.get(e.timeZone);return qEe(e.timeZone)||e.respectsDaylightSaving?r:YEe(r)}function YEe(e){const t=ft.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${_i.instance(-r).formatOffset(0,"narrow")}`}function _bt(e,t,r,n,i){if(t&&i==="date")return{timeZone:hh,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=r===Bm;return{timeZone:o?i==="timestamp-offset"?void 0:e??hh:r,timeZoneName:o&&s?GEe:void 0}}const JEe={year:void 0,month:void 0,day:void 0,weekday:void 0},KEe={hour:void 0,minute:void 0,second:void 0},Rie={timeZone:hh},Gl={year:"numeric",month:"numeric",day:"numeric"},g1={year:"numeric",month:"long",day:"numeric"},v1={year:"numeric",month:"short",day:"numeric"},b1={year:"numeric",month:"long",weekday:"long",day:"numeric"},_p={hour:"numeric",minute:"numeric"},of={..._p,second:"numeric"},Lie={hourCycle:"h23"},w1={..._p,...Lie},_1={...of,...Lie},jie={"short-date":Gl,"short-date-short-time":{...Gl,..._p},"short-date-short-time-24":{...Gl,...w1},"short-date-long-time":{...Gl,...of},"short-date-long-time-24":{...Gl,..._1},"short-date-le":Gl,"short-date-le-short-time":{...Gl,..._p},"short-date-le-short-time-24":{...Gl,...w1},"short-date-le-long-time":{...Gl,...of},"short-date-le-long-time-24":{...Gl,..._1},"long-month-day-year":g1,"long-month-day-year-short-time":{...g1,..._p},"long-month-day-year-short-time-24":{...g1,...w1},"long-month-day-year-long-time":{...g1,...of},"long-month-day-year-long-time-24":{...g1,..._1},"day-short-month-year":v1,"day-short-month-year-short-time":{...v1,..._p},"day-short-month-year-short-time-24":{...v1,...w1},"day-short-month-year-long-time":{...v1,...of},"day-short-month-year-long-time-24":{...v1,..._1},"long-date":b1,"long-date-short-time":{...b1,..._p},"long-date-short-time-24":{...b1,...w1},"long-date-long-time":{...b1,...of},"long-date-long-time-24":{...b1,..._1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":_p,"long-time":of},XEe=ys()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Nie={ar:"ar-u-nu-latn-ca-gregory"};let tR=new WeakMap;const sk=jie["short-date-short-time"];function QEe(e){let t=tR.get(e);if(!t){const r=No(),n=Nie[r]||r,i=Q9(e.timeZone??zu),s={...e,timeZone:i};t=new Intl.DateTimeFormat(n,s),tR.set(e,t)}return t}function xbt(e){return jie[e]}function fh(e,t=sk){return QEe(t).format(e)}function Sbt(e,t=sk){return fh(new Date(e),{...t,...Rie,...KEe})}function $bt(e,t=sk){return fh(new Date(`1970-01-01T${e}Z`),{...t,...Rie,...JEe})}function Tbt(e,t=sk){if(t.timeZone)return fh(new Date(e),t);const r=ft.fromISO(e,{setZone:!0}),n=No(),i=Nie[n]??n,s=r.offset===0?hh:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:i})}function Q9(e){switch(e){case zu:return UEe;case Bm:return hh;default:return e}}G9(()=>{tR=new WeakMap});const eke={ar:"ar-u-nu-latn"};let J$=new WeakMap,Fie={};function tke(e){const t=e||Fie;if(!J$.has(t)){const r=No(),n=eke[No()]||r;J$.set(t,new Intl.NumberFormat(n,e))}return J$.get(t)}function Mbt(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function $3(e,t){return Object.is(e,-0)&&(e=0),tke(t).format(e)}G9(()=>{J$=new WeakMap,Fie={}});const Die=()=>ie.getLogger("esri.intl.substitute");function eF(e,t,r={}){const{format:n={}}=r;return LE(e,i=>rke(i,t,n))}function rke(e,t,r){let n,i;const s=e.indexOf(":");if(s===-1?n=e.trim():(n=e.slice(0,s).trim(),i=e.slice(s+1).trim()),!n)return"";const o=Mx(n,t);if(o==null)return"";const a=(i?r==null?void 0:r[i]:null)??(r==null?void 0:r[n]);return a?nke(o,a):i?ike(o,i):tF(o)}function nke(e,t){switch(t.type){case"date":return fh(e,t.intlOptions);case"number":return $3(e,t.intlOptions);default:return Die().warn("missing format descriptor for key {key}"),tF(e)}}function ike(e,t){switch(t.toLowerCase()){case"dateformat":return fh(e);case"numberformat":return $3(e);default:return Die().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?fh(e):/^numberformat/i.test(t)?$3(e):tF(e)}}function tF(e){switch(typeof e){case"string":return e;case"number":return $3(e);case"boolean":return""+e;default:return e instanceof Date?fh(e):""}}const HU=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ske={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ZU(e){return e in ske}const ub=[],y0=new Map;function YU(e){for(const t of y0.keys())zie(e.pattern,t)&&y0.delete(t)}function oke(e){return ub.includes(e)||(YU(e),ub.unshift(e)),gr(()=>{const t=ub.indexOf(e);t>-1&&(ub.splice(t,1),YU(e))})}async function rF(e){const t=No();y0.has(e)||y0.set(e,lke(e,t));const r=y0.get(e);return r&&await uke.add(r),r}function ake(e){if(!HU.test(e))return null;const t=HU.exec(e);if(t===null)return null;const[,r,n]=t,i=r+(n?"-"+n.toUpperCase():"");return ZU(i)?i:ZU(r)?r:null}async function lke(e,t){const r=[];for(const n of ub)if(zie(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new q("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new q("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function zie(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}G9(()=>{y0.clear()});const uke=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=zo())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function cke(e,t,r,n){const i=t.exec(r);if(!i)throw new q("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=ake(n),l=`${s}${o}.json`,u=a?`${s}${o}_${a}.json`:l;let d;try{d=await JU(e(u))}catch(h){if(u===l)throw new q("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:h});try{d=await JU(e(l))}catch(f){throw new q("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f})}}return d}async function JU(e){if(KU.fetchBundleAsset!=null)return KU.fetchBundleAsset(e);const t=await yr(e,{responseType:"text"});return JSON.parse(t.data)}let dke=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return cke(this.getAssetUrl,this.matcher,t,r)}};function pke(e){return new dke(e)}const KU={};oke(pke({pattern:"esri/",location:er}));const XU={};function hke(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((r=e.packages)==null?void 0:r.concat())||[],paths:{...XU.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=XU.baseUrl),t}let fke=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},K$=class{constructor(){this._dispatcher=new fke,this._workerPostMessage({type:bi.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){WM(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){WM(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=C_(t);if(r&&r.type===bi.OPEN){const{modulePath:n,jobId:i}=r;let s=await ph.loadWorker(n);s||(s=await import(n));const o=ph.connect(s);this._workerPostMessage({type:bi.OPENED,jobId:i,data:o})}}};const rR=()=>ie.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:mke}=bi,yke='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let l2,u2;const QU="Failed to create Worker. Fallback to execute module in main thread";async function gke(){if(!J("esri-workers"))return eG(new K$);if(!l2&&!u2)try{const t=yke.split("{CONFIGURATION}").join(vke());l2=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){u2=t||{}}let e;if(l2)try{e=new Worker(l2,{name:"esri-worker-"+bke++})}catch{rR().warn(QU,u2),e=new K$}else rR().warn(QU,u2),e=new K$;return eG(e)}async function eG(e){return new Promise(t=>{function r(i){const s=C_(i);s&&s.type===mke&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),rR().warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new K$).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function vke(){let e;if(Ft.default!=null){const i={...Ft};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Ft));e.assetsPath=_a(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?_a(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=No(),e.has={"esri-csp-restrictions":J("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":J("esri-2d-update-debug"),"esri-2d-log-updating":J("esri-2d-log-updating"),"featurelayer-pbf":J("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":J("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":J("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":J("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":J("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":J("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":J("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":J("featurelayer-snapshot-enabled"),"esri-atomics":J("esri-atomics"),"esri-shared-array-buffer":J("esri-shared-array-buffer"),"esri-tiles-debug":J("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":J("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":J("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=_a(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=_a(e.workers.workerPath):e.workers.workerPath=_a(er("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Ft.workers.loaderConfig,r=hke({baseUrl:t==null?void 0:t.baseUrl,locale:No(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:Ire,fullVersion:$9,revision:Ore}})}let bke=0;const{ABORT:tG,INVOKE:wke,OPEN:_ke,OPENED:xke,RESPONSE:x1}=bi;let Ske=class Vie{static async create(t){const r=await gke();return new Vie(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),ie.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=Ane();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:n9(n,()=>{this._outJobs.delete(i),this._post({type:tG,jobId:i})})};this._outJobs.set(i,a),this._post({type:_ke,jobId:i,modulePath:t})})}_onMessage(t){const r=C_(t);if(r)switch(r.type){case xke:this._onOpenedMessage(r);break;case x1:this._onResponseMessage(r);break;case tG:this._onAbortMessage(r);break;case wke:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=z3e[r];let u;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);u=l.call(null,i,{signal:o?o.signal:null})}catch(d){return void this._post({type:x1,jobId:n,error:M_(d)})}Ch(u)?(a.set(n,{controller:o,promise:u}),u.then(d=>{a.has(n)&&(a.delete(n),this._post({type:x1,jobId:n},d))},d=>{a.has(n)&&(a.delete(n),d||(d={message:"Error encountered at method"+r}),ms(d)||this._post({type:x1,jobId:n,error:M_(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:x1,jobId:n},u)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),gn(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),gn(s.abortHandle),n?s.reject(q.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return B9(this.worker,t,r,n)}};const rG=J("host-browser")?Math.min(navigator.hardwareConcurrency-1,J("workers-pool-size")):0;let im=J("esri-mobile")?Math.min(rG,3):rG;im||(im=J("safari")&&J("mac")?7:2);let nG=0;const X$=[];function $ke(){Bie()}async function c2(e,t){const r=new D3e,{registryTarget:n,...i}=t;return await r.open(e,i),n&&k3e(n,r),r}async function Tke(e,t={}){if(typeof e!="string")throw new q("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(J("host-webworker")&&!J("esri-workers")&&(r="local"),r==="local"){let n=await ph.loadWorker(e);n||(n=await import(e)),_r(t.signal);const i=t.client||n;return c2([ph.connect(n,t.schedule)],{...t,client:i})}if(await Bie(),_r(t.signal),r==="dedicated"){const n=nG++%im;return c2([await X$[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,im);if(n<im){const i=new Array(n);for(let s=0;s<n;++s){const o=nG++%im;i[s]=X$[o].open(e,t)}return c2(i,t)}}return c2(X$.map(n=>n.open(e,t)),t)}let d2=null;async function Bie(){if(d2)return d2;new AbortController;const e=[];for(let t=0;t<im;t++){const r=Ske.create(t).then(n=>(X$[t]=n,n));e.push(r)}return d2=Promise.all(e),d2}const Ad=bn.radius,rl=bn.eccentricitySquared,Mke={a1:Ad*rl,a2:Ad*rl*Ad*rl,a3:Ad*rl*rl/2,a4:Ad*rl*Ad*rl*2.5,a5:Ad*rl+Ad*rl*rl/2,a6:1-rl};1/294.9786982,1/298.257222101,bn.radius,bn.flattening,1/298.257222101,lh.radius,lh.flattening,1/192.0430107526882,Au.radius,Au.flattening,1/10.2079945799458,1/43.61604095563141,Au.radius;var Z;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(Z||(Z={}));const Cke={[Z.WGS84]:{[Z.CGCS2000]:nn,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:nn,[Z.SPHERICAL_ECEF]:Cw,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:g0,[Z.PLATE_CARREE]:v0,[Z.WGS84]:nn,[Z.WGS84_ECEF]:_0},[Z.CGCS2000]:{[Z.CGCS2000]:nn,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:nn,[Z.SPHERICAL_ECEF]:Cw,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:g0,[Z.PLATE_CARREE]:v0,[Z.WGS84]:nn,[Z.WGS84_ECEF]:_0},[Z.GCSMARS2000]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:nn,[Z.GCSMOON2000]:null,[Z.LON_LAT]:nn,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:oG,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.GCSMOON2000]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:nn,[Z.LON_LAT]:nn,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:sG,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.WEB_MERCATOR]:{[Z.CGCS2000]:Mw,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Mw,[Z.SPHERICAL_ECEF]:Eke,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:nn,[Z.PLATE_CARREE]:Oke,[Z.WGS84]:Mw,[Z.WGS84_ECEF]:kke},[Z.WGS84_ECEF]:{[Z.CGCS2000]:x0,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:x0,[Z.SPHERICAL_ECEF]:zke,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Vke,[Z.PLATE_CARREE]:Pke,[Z.WGS84]:x0,[Z.WGS84_ECEF]:nn},[Z.SPHERICAL_ECEF]:{[Z.CGCS2000]:w0,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:w0,[Z.SPHERICAL_ECEF]:nn,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Nke,[Z.PLATE_CARREE]:Ake,[Z.WGS84]:w0,[Z.WGS84_ECEF]:Fke},[Z.SPHERICAL_MARS_PCPF]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:lG,[Z.GCSMOON2000]:null,[Z.LON_LAT]:lG,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:nn,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.SPHERICAL_MOON_PCPF]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:aG,[Z.LON_LAT]:aG,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:nn,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.UNKNOWN]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:null,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:nn,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.LON_LAT]:{[Z.CGCS2000]:nn,[Z.GCSMARS2000]:nn,[Z.GCSMOON2000]:nn,[Z.LON_LAT]:nn,[Z.SPHERICAL_ECEF]:Cw,[Z.SPHERICAL_MARS_PCPF]:oG,[Z.SPHERICAL_MOON_PCPF]:sG,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:g0,[Z.PLATE_CARREE]:v0,[Z.WGS84]:nn,[Z.WGS84_ECEF]:_0},[Z.PLATE_CARREE]:{[Z.CGCS2000]:b0,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:b0,[Z.SPHERICAL_ECEF]:Rke,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Lke,[Z.PLATE_CARREE]:nn,[Z.WGS84]:b0,[Z.WGS84_ECEF]:jke}};function Uie(e,t,r=Gie()){return e==null||t==null?null:Bke(e,t,r).projector}function iG(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=zl(e,1)),f3(e)?t.spatialReferenceId=Z.SPHERICAL_ECEF:uh(e)?t.spatialReferenceId=Z.WGS84:Du(e)?t.spatialReferenceId=Z.WEB_MERCATOR:KTe(e)?t.spatialReferenceId=Z.PLATE_CARREE:e.wkt===tMe.wkt?t.spatialReferenceId=Z.WGS84_ECEF:e.wkid===xa.CGCS2000?t.spatialReferenceId=Z.CGCS2000:e.wkt===k9.wkt?t.spatialReferenceId=Z.SPHERICAL_MARS_PCPF:e.wkt===I9.wkt?t.spatialReferenceId=Z.SPHERICAL_MOON_PCPF:M9(e)?t.spatialReferenceId=Z.GCSMARS2000:C9(e)?t.spatialReferenceId=Z.GCSMOON2000:t.spatialReferenceId=Z.UNKNOWN):Z.UNKNOWN}function nn(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function Mw(e,t,r,n){r[n]=rv*(e[t]/wm),r[n+1]=rv*(qie-2*Math.atan(Math.exp(-e[t+1]/wm))),r[n+2]=e[t+2]}function Eke(e,t,r,n){const i=e[t]/wm,s=qie-2*Math.atan(Math.exp(-e[t+1]/wm)),o=wm+e[t+2],a=Math.cos(s)*o;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(s)*o}function kke(e,t,r,n){Mw(e,t,r,n),_0(r,n,r,n)}function Ike(e,t,r,n,i){const s=.4999999*ok,o=za(tv*e[t+1],-s,s),a=Math.sin(o);r[n++]=tv*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function g0(e,t,r,n){Ike(e,t,r,n,bn)}function v0(e,t,r,n){r[n]=e[t]*uG,r[n+1]=e[t+1]*uG,r[n+2]=e[t+2]}function b0(e,t,r,n){r[n]=e[t]*cG,r[n+1]=e[t+1]*cG,r[n+2]=e[t+2]}function Oke(e,t,r,n){Mw(e,t,r,n),v0(r,n,r,n)}function Pke(e,t,r,n){x0(e,t,r,n),v0(r,n,r,n)}function Ake(e,t,r,n){w0(e,t,r,n),v0(r,n,r,n)}function Rke(e,t,r,n){b0(e,t,r,n),Cw(r,n,r,n)}function Lke(e,t,r,n){b0(e,t,r,n),g0(r,n,r,n)}function jke(e,t,r,n){b0(e,t,r,n),_0(r,n,r,n)}function nF(e,t,r,n,i){const s=i+e[t+2],o=tv*e[t+1],a=tv*e[t],l=Math.cos(o)*s;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(o)*s}function sG(e,t,r,n){nF(e,t,r,n,lh.radius)}function oG(e,t,r,n){nF(e,t,r,n,Au.radius)}function Cw(e,t,r,n){nF(e,t,r,n,bn.radius)}function iF(e,t,r,n,i){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),u=dre(a/(l===0?1:l)),d=Math.atan2(o,s);r[n++]=rv*d,r[n++]=rv*u,r[n]=l-i}function aG(e,t,r,n){iF(e,t,r,n,lh.radius)}function lG(e,t,r,n){iF(e,t,r,n,Au.radius)}function w0(e,t,r,n){iF(e,t,r,n,bn.radius)}function Nke(e,t,r,n){w0(e,t,r,n),g0(r,n,r,n)}function Fke(e,t,r,n){w0(e,t,r,n),_0(r,n,r,n)}function Dke(e,t,r,n,i){const s=tv*e[t],o=tv*e[t+1],a=e[t+2],l=Math.sin(o),u=Math.cos(o),d=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(d+a)*u*Math.cos(s),r[n++]=(d+a)*u*Math.sin(s),r[n++]=(d*(1-i.eccentricitySquared)+a)*l}function _0(e,t,r,n){Dke(e,t,r,n,bn)}function x0(e,t,r,n){const i=Mke,s=e[t],o=e[t+1],a=e[t+2];let l,u,d,h,f,y,g,v,b,_,x,S,$,C,k,E,P,T,M,O,j;l=Math.abs(a),u=s*s+o*o,d=Math.sqrt(u),h=u+a*a,f=Math.sqrt(h),O=Math.atan2(o,s),y=a*a/h,g=u/h,C=i.a2/f,k=i.a3-i.a4/f,g>.3?(v=l/f*(1+g*(i.a1+C+y*k)/f),M=Math.asin(v),_=v*v,b=Math.sqrt(1-_)):(b=d/f*(1-y*(i.a5-C-g*k)/f),M=Math.acos(b),_=1-b*b,v=Math.sqrt(_)),x=1-bn.eccentricitySquared*_,S=bn.radius/Math.sqrt(x),$=i.a6*S,C=d-S*b,k=l-$*v,P=b*C+v*k,E=b*k-v*C,T=E/($/x+P),M+=T,j=P+E*T/2,a<0&&(M=-M),r[n++]=rv*O,r[n++]=rv*M,r[n]=j}function zke(e,t,r,n){x0(e,t,r,n),Cw(r,n,r,n)}function Vke(e,t,r,n){x0(e,t,r,n),g0(r,n,r,n)}function Bke(e,t,r){if(e==null||t==null||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const n=iG(e,r.source),i=iG(t,r.dest);return n===Z.UNKNOWN&&i===Z.UNKNOWN?jn(e,t)?r.projector=nn:r.projector=null:r.projector=Cke[n][i],r}function Gie(){return{source:{spatialReference:null,spatialReferenceId:Z.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Z.UNKNOWN,metersPerUnit:1},projector:nn}}const Ibt={spatialReference:null,spatialReferenceId:Z.UNKNOWN},Obt={spatialReference:null,spatialReferenceId:Z.UNKNOWN},Wie=Gie(),tv=Rp(1),rv=cre(1),ok=Math.PI,qie=.5*ok,wm=bn.radius,uG=wm*ok/180,cG=180/(wm*ok);function Vx(e,t,r,n,i,s,o=1){const a=Uie(t,i,Wie);if(a==null)return!1;if(a===nn){if(e===n&&r===s)return!0;const u=r+3*o;for(let d=r,h=s;d<u;d++,h++)n[h]=e[d];return!0}const l=r+3*o;for(let u=r,d=s;u<l;u+=3,d+=3)a(e,u,n,d);return!0}const Pbt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Vx},Symbol.toStringTag,{value:"Module"}));function dG(e,t,r,n,i,s){return p2[0]=e,p2[1]=t,p2[2]=r,Vx(p2,n,0,i,s,0,1)}const p2=Ha();let h2=0,sO=class nR{static fromGE(t){const r=new nR;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=h2++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=h2++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=h2++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=h2++}getInverse(){const t=new nR;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},T3=class cb{static cacheKey(t,r){var n,i,s,o,a,l;return[((n=t.wkid)==null?void 0:n.toString())??"-1",((i=t.wkt)==null?void 0:i.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((o=r.wkid)==null?void 0:o.toString())??"-1",((a=r.wkt)==null?void 0:a.toString())??"",((l=r.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(t){const r=new cb;let n="";for(const i of t.steps){const s=sO.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const r of t.steps)r instanceof sO?this.steps.push(r):this.steps.push(new sO({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new cb;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[cb.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[cb.cacheKey(t,r)];return i===void 0?null:i}};function Hie(e,t,r){if(t==null||r==null||r.vcsWkid||jn(t,r)||ch(t)||ch(r))return null;const n=m3(t)/m3(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>Uke(i,n);case"polyline":case"esriGeometryPolyline":return i=>Wke(i,n);case"polygon":case"esriGeometryPolygon":return i=>Gke(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>qke(i,n);case"extent":case"esriGeometryEnvelope":return i=>Hke(i,n);default:return null}}function Uke(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function Gke(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function Wke(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function qke(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function Hke(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Al=null,mh=null,Ew=null,Q$={};const sF=new Nx;function md(){return!!Al&&T9()}function Zie(){return!!md()||(et(sF),ud(),!1)}function Yie(e,t){return!e||!t||Nl(e,t)||Zie()}function Zke(e,t){return!Nl(e,t)&&!md()}function ud(e){return Ew==null&&(Ew=Promise.all([jre(),Q(()=>import("./geometryEngineBase-Gp9eyS7w.js"),[],import.meta.url).then(t=>t.g),Q(()=>import("./hydrated-Bfy_q9mZ.js"),[],import.meta.url)])),Ew.then(([,t,{hydratedAdapter:r}])=>{_r(e),mh=r,Al=t.default,Al._enableProjection(HTe),sF.notify()})}function Eh(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:iR(mh,e,e[0].spatialReference,t,r,n):iR(mh,[e],e.spatialReference,t,r,n)[0]}function iR(e,t,r,n,i=null,s=null){if(r==null||n==null)return t;if(Nl(r,n,i))return t.map(o=>eT(o,r,n));if(i==null&&f3(r))return t.map(o=>eT(o,r,Qe.WGS84)).map(o=>k_(o,n));if(i==null&&f3(n))return t.map(o=>k_(o,Qe.WGS84)).map(o=>eT(o,Qe.WGS84,n));if(i==null){const o=T3.cacheKey(r,n);Q$[o]!==void 0?i=Q$[o]:((i=Kie(r,n,void 0))==null&&(i=new T3),Q$[o]=i)}if(Al==null||e==null)throw new ak;return s!=null?Al._project(e,t,r,n,i,s):Al._project(e,t,r,n,i)}function Yke(e,t){const r=Jie([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function Jie(e,t){if(!md()){for(const r of e)if(r!=null&&!jn(r.spatialReference,t)&&Ao(r.spatialReference)&&Ao(t)&&!Nl(r.spatialReference,t))return et(sF),{pending:ud(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:jn(r.spatialReference,t)?r:Ao(r.spatialReference)&&Ao(t)?k_(r,t):null)}}function Kie(e,t,r=null){if(e==null||t==null)return null;if(Al==null||mh==null)throw new ak;const n=Al._getTransformation(mh,e,t,r,r==null?void 0:r.spatialReference);return n!==null?T3.fromGE(n):null}function Jke(e,t,r=null){if(Al==null||mh==null)throw new ak;const n=Al._getTransformationBySuitability(mh,e,t,r,r==null?void 0:r.spatialReference);if(n!==null){const i=[];for(const s of n)i.push(T3.fromGE(s));return i}return[]}let ak=class extends q{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Kke(){Al=null,mh=null,Ew=null,Q$={}}const Xke={get loadPromise(){return Ew}};function k_(e,t){try{const r=Eh(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=Hie(r.type,e.spatialReference,t);return n!=null&&n(r),r}catch(r){if(!(r instanceof ak))throw r;return null}}async function Qke(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await oF(n,t,null,r),k_(e,t)}function Nl(e,t,r){return!r&&(!!jn(e,t)||Ao(e)&&Ao(t)&&!!Uie(e,t,Wie))}function eIe(e,t){if(jn(e,t))return!0;if(!Ao(e)||!Ao(t))return!1;const r=uh(e)||Du(e)||VA(e),n=uh(t)||Du(t)||VA(t);return r&&n}async function oF(e,t,r,n){if(md())return MB(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(i&&s&&!Nl(i,s,o))return ud(n)}else if(e&&t&&!Nl(e,t,r))return ud(n);return MB(n)}function eT(e,t,r){return e?"x"in e?Xie(e,t,new nt,r,0):"xmin"in e?rse(e,t,new Rt,r,0):"rings"in e?tse(e,t,new Va,r,0):"paths"in e?ese(e,t,new Cl,r,0):"points"in e?Qie(e,t,new XE,r,0):null:null}function tIe(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&Xie(e,e.spatialReference,t,r,n)!=null}function Xie(e,t,r,n,i){is[0]=e.x,is[1]=e.y;const s=e.z;return is[2]=s!==void 0?s:i,Vx(is,t,0,is,n,0,1)?(r.x=is[0],r.y=is[1],r.spatialReference=n,s!==void 0||ch(n)?(r.z=is[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function rIe(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&Qie(e,e.spatialReference,t,r,n)!=null}function Qie(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,l=[],u=s.length,d=[];for(const f of s)d.push(f[0],f[1],o?f[2]:i);if(!Vx(d,t,0,d,n,0,u))return null;const h=o||ch(n);for(let f=0;f<u;++f){const y=3*f,g=d[y],v=d[y+1];h&&a?l.push([g,v,d[y+2],s[f][3]]):h?l.push([g,v,d[y+2]]):a?l.push([g,v,s[f][2]]):l.push([g,v])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function nIe(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&ese(e,e.spatialReference,t,r,n)!=null}function ese(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!nse(s,o??!1,a??!1,t,l,n,i))return null;const u=o||ch(n);return r.paths=l,r.spatialReference=n,r.hasZ=u,r.hasM=a,r}function iIe(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&tse(e,e.spatialReference,t,r,n)!=null}function tse(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!nse(s,o??!1,a??!1,t,l,n,i))return null;const u=o||ch(n);return r.rings=l,r.spatialReference=n,r.hasZ=u,r.hasM=a,r}function sIe(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&rse(e,e.spatialReference,t,r,n)!=null}function rse(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:u,hasM:d}=e,h=u?e.zmin:i;if(!dG(s,o,h,t,is,n))return null;const f=u||ch(n);r.xmin=is[0],r.ymin=is[1],f&&(r.zmin=is[2]);const y=u?e.zmax:i;return dG(a,l,y,t,is,n)?(r.xmax=is[0],r.ymax=is[1],f&&(r.zmax=is[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function nse(e,t,r,n,i,s,o=0){const a=new Array;for(const d of e)for(const h of d)a.push(h[0],h[1],t?h[2]:o);if(!Vx(a,n,0,a,s,0,a.length/3))return!1;let l=0;i.length=0;const u=t||ch(s);for(const d of e){const h=new Array;for(const f of d)u&&r?h.push([a[l++],a[l++],a[l++],f[3]]):u?h.push([a[l++],a[l++],a[l++]]):r?(h.push([a[l++],a[l++],f[2]]),l++):(h.push([a[l++],a[l++]]),l++);i.push(h)}return!0}const is=Ha(),Rbt=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Nl,getTransformation:Kie,getTransformations:Jke,initializeProjection:oF,isEqualBaseGCS:eIe,isLoaded:md,isLoadedOrLoad:Zie,isLoadedOrLoadFor:Yie,load:ud,project:Eh,projectExtent:sIe,projectMany:iR,projectMultipoint:rIe,projectOrLoad:Yke,projectOrLoadMany:Jie,projectPoint:tIe,projectPolygon:iIe,projectPolyline:nIe,projectWithZConversion:Qke,projectWithoutEngine:eT,requiresLoad:Zke,test:Xke,tryProjectWithZConversion:k_,unload:Kke},Symbol.toStringTag,{value:"Module"}));var sR;let Xl=sR=class extends ae{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new sR({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Xl.prototype,"cols",void 0),c([p({type:mr,json:{write:!0}})],Xl.prototype,"level",void 0),c([p({type:String,json:{write:!0}})],Xl.prototype,"levelValue",void 0),c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Xl.prototype,"origin",void 0),c([p({type:Number,json:{write:!0}})],Xl.prototype,"resolution",void 0),c([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Xl.prototype,"rows",void 0),c([p({type:Number,json:{write:!0}})],Xl.prototype,"scale",void 0),Xl=sR=c([R("esri.layers.support.LOD")],Xl);const ba=Xl;let oIe=class{constructor(t,r,n,i,s=void 0){this.id=t,this.level=r,this.row=n,this.col=i,this.extent=s}};var Gd;const pG=new kt({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let ki=Gd=class extends ae{static create(e={}){const{resolutionFactor:t=1,scales:r,size:n=256,spatialReference:i=Qe.WebMercator,numLODs:s=24}=e;if(!Ao(i)){const h=[];if(r)for(let f=0;f<r.length;f++){const y=r[f];h.push(new ba({level:f,scale:y,resolution:y}))}else{let f=5e-4;for(let y=s-1;y>=0;y--)h.unshift(new ba({level:y,scale:f,resolution:f})),f*=2}return new Gd({dpi:96,lods:h,origin:new nt(0,0,i),size:[n,n],spatialReference:i})}const o=oo(i),a=e.origin?new nt({x:e.origin.x,y:e.origin.y,spatialReference:i}):new nt(o?{x:o.origin[0],y:o.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),l=96,u=1/(zl(i)*39.37*l),d=[];if(r)for(let h=0;h<r.length;h++){const f=r[h],y=f*u;d.push(new ba({level:h,scale:f,resolution:y}))}else{let h=Rx(i)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const f=Math.ceil(s/t);d.push(new ba({level:0,scale:h,resolution:h*u}));for(let y=1;y<f;y++){const g=h/2**t,v=g*u;d.push(new ba({level:y,scale:g,resolution:v})),h=g}}return new Gd({dpi:l,lods:d,origin:a,size:[n,n],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=oo(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return nt.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[],i=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,r=s.scale<r?s.scale:r,i[s.level]=s})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),n=r+1;return t[r]/(t[r]/t[n])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const i=t[n],s=t[n+1];if(i<=e)return n;if(s===e)return n+1;if(i>e&&s<e)return n+Math.log(i/e)/Math.log(i/s)}return n}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if(typeof t=="number")s=t,o=r;else if(jn(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const u=JE(t,this.spatialReference);if(u==null)return null;s=u.x,o=u.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n=new oIe(null,0,0,0,wi())),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=Gd.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===Gd.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(r=o)}if(!r)return;const n=e.level-r.level,i=r.resolution*this.size[0]/2**n,s=r.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=wi()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:n}=r,i=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return Gd.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const r=[],n=this.lods.length-t;for(let i=0;i<n;i++){const s=i+t,{scale:o,resolution:a}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new ba({level:i,scale:o,resolution:a}))}return new Gd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};c([p({type:Number,json:{write:!0}})],ki.prototype,"compressionQuality",void 0),c([p({type:Number,json:{write:!0}})],ki.prototype,"dpi",void 0),c([p({type:String,json:{read:pG.read,write:pG.write,origins:{"web-scene":{read:!1,write:!1}}}})],ki.prototype,"format",void 0),c([p({readOnly:!0})],ki.prototype,"isWrappable",null),c([p({type:nt,json:{write:!0}})],ki.prototype,"origin",void 0),c([ue("origin")],ki.prototype,"readOrigin",null),c([p({type:[ba],value:null,json:{write:!0}})],ki.prototype,"lods",null),c([p({readOnly:!0})],ki.prototype,"scales",void 0),c([p({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],ki.prototype,"size",void 0),c([ue("size",["rows","cols"])],ki.prototype,"readSize",null),c([ye("size",{cols:{type:mr},rows:{type:mr}})],ki.prototype,"writeSize",null),c([p({type:Qe,json:{write:!0}})],ki.prototype,"spatialReference",void 0),ki=Gd=c([R("esri.layers.support.TileInfo")],ki),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(ki||(ki={}));const kw=ki,tT={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},oO={xsmall:544,small:768,medium:992,large:1200};function aIe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function aO(e,t){return t?tT[e].valueToClassName[t].split(" "):[]}const lIe=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=oO}initialize(){this.addHandles(Se(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Cr))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!aIe(r)){const n=JSON.stringify(oO,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=oO}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=Es.acquire(),n=Es.acquire();let i,s=!1;for(i in tT){const o=this[i],a=tT[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[i]=a,aO(i,o).forEach(l=>n.push(l)),aO(i,a).forEach(l=>r.push(l)))}s&&(this._applyClassNameChanges(r,n),Es.release(r),Es.release(n))}_applyClassNameChanges(r,n){const i=this.container;i&&(n.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in tT)aO(n,this[n]).forEach(i=>r.classList.remove(i))}};return c([p()],t.prototype,"breakpoints",null),c([p()],t.prototype,"orientation",void 0),c([p()],t.prototype,"widthBreakpoint",void 0),c([p()],t.prototype,"heightBreakpoint",void 0),t=c([R("esri.views.BreakpointsOwner")],t),t};function aF(e){return typeof e=="string"?document.getElementById(e):e??null}function ise(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function hG(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function fG(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let _m=class extends Be{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,n={}){return this._installWatch(t,r,n,Se)}addWhen(t,r,n={}){return this._installWatch(t,r,n,Vo)}addOnCollectionChange(t,r,{initial:n=!1,final:i=!1}={}){const s=++this._handleId;return this.addHandles([Ns(t,"after-changes",this._createSyncUpdatingCallback(),Ni),Ns(t,"change",r,{onListenerAdd:n?o=>r({added:o.toArray(),removed:[]}):void 0,onListenerRemove:i?o=>r({added:[],removed:o.toArray()}):void 0})],s),gr(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(gr(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(f2)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this.removeHandles(r);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,n={},i){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const o=i(t,r,n);return this.addHandles(o,s),gr(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,r){const n=this._createSyncUpdatingCallback(),i=Se(t,n,{sync:!0,equals:()=>!1});return this.addHandles(i,r),i}_createSyncUpdatingCallback(){return()=>{this.removeHandles(f2),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(bv(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(f2))}),f2)}}};c([p({readOnly:!0})],_m.prototype,"updating",void 0),_m=c([R("esri.core.support.UpdatingHandles")],_m);const f2=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.0.3 - Wed Jul 03 2024 17:50:35 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var M3=function(){return M3=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},M3.apply(this,arguments)},oR={exports:{}},Mn={},aR={exports:{}},ly={};function sse(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function uIe(e,t,r){}function cIe(e,t,r){}var dIe=/javascript\s*\:/img;function pIe(e,t){return dIe.test(t)?"":t}ly.whiteList=sse();ly.getDefaultWhiteList=sse;ly.onAttr=uIe;ly.onIgnoreAttr=cIe;ly.safeAttrValue=pIe;var hIe={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},S1=hIe;function fIe(e,t){e=S1.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,i=0,s=0,o="";function a(){if(!n){var d=S1.trim(e.slice(i,s)),h=d.indexOf(":");if(h!==-1){var f=S1.trim(d.slice(0,h)),y=S1.trim(d.slice(h+1));if(f){var g=t(i,o.length,f,y,d);g&&(o+=g+"; ")}}}i=s+1}for(;s<r;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var u=e.indexOf("*/",s+2);if(u===-1)break;s=u+1,i=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return S1.trim(o)}var mIe=fIe,m2=ly,yIe=mIe;function mG(e){return e==null}function gIe(e){var t={};for(var r in e)t[r]=e[r];return t}function ose(e){e=gIe(e||{}),e.whiteList=e.whiteList||m2.whiteList,e.onAttr=e.onAttr||m2.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||m2.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||m2.safeAttrValue,this.options=e}ose.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onAttr,s=r.onIgnoreAttr,o=r.safeAttrValue,a=yIe(e,function(l,u,d,h,f){var y=n[d],g=!1;if(y===!0?g=y:typeof y=="function"?g=y(h):y instanceof RegExp&&(g=y.test(h)),g!==!0&&(g=!1),h=o(d,h),!!h){var v={position:u,sourcePosition:l,source:f,isWhite:g};if(g){var b=i(d,h,v);return mG(b)?d+":"+h:b}else{var b=s(d,h,v);if(!mG(b))return b}}});return a};var vIe=ose;(function(e,t){var r=ly,n=vIe;function i(o,a){var l=new n(a);return l.process(o)}t=e.exports=i,t.FilterCSS=n;for(var s in r)t[s]=r[s]})(aR,aR.exports);var lF=aR.exports,uF={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},bIe=lF.FilterCSS,wIe=lF.getDefaultWhiteList,C3=uF;function ase(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var lse=new bIe;function _Ie(e,t,r){}function xIe(e,t,r){}function SIe(e,t,r){}function $Ie(e,t,r){}function use(e){return e.replace(MIe,"&lt;").replace(CIe,"&gt;")}function TIe(e,t,r,n){if(r=mse(r),t==="href"||t==="src"){if(r=C3.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(y2.lastIndex=0,y2.test(r))return""}else if(t==="style"){if(yG.lastIndex=0,yG.test(r)||(gG.lastIndex=0,gG.test(r)&&(y2.lastIndex=0,y2.test(r))))return"";n!==!1&&(n=n||lse,r=n.process(r))}return r=yse(r),r}var MIe=/</g,CIe=/>/g,EIe=/"/g,kIe=/&quot;/g,IIe=/&#([a-zA-Z0-9]*);?/gim,OIe=/&colon;?/gim,PIe=/&newline;?/gim,y2=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,yG=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,gG=/u\s*r\s*l\s*\(.*/gi;function cse(e){return e.replace(EIe,"&quot;")}function dse(e){return e.replace(kIe,'"')}function pse(e){return e.replace(IIe,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function hse(e){return e.replace(OIe,":").replace(PIe," ")}function fse(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return C3.trim(t)}function mse(e){return e=dse(e),e=pse(e),e=hse(e),e=fse(e),e}function yse(e){return e=cse(e),e=use(e),e}function AIe(){return""}function RIe(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:C3.indexOf(e,o)!==-1}var i=[],s=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var u="[/removed]",d=l.position+u.length;return i.push([s!==!1?s:l.position,d]),s=!1,u}else return s||(s=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return C3.forEach(i,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function LIe(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(i===-1)break;r=i+3}return t}function jIe(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Mn.whiteList=ase();Mn.getDefaultWhiteList=ase;Mn.onTag=_Ie;Mn.onIgnoreTag=xIe;Mn.onTagAttr=SIe;Mn.onIgnoreTagAttr=$Ie;Mn.safeAttrValue=TIe;Mn.escapeHtml=use;Mn.escapeQuote=cse;Mn.unescapeQuote=dse;Mn.escapeHtmlEntities=pse;Mn.escapeDangerHtml5Entities=hse;Mn.clearNonPrintableCharacter=fse;Mn.friendlyAttrValue=mse;Mn.escapeAttrValue=yse;Mn.onIgnoreTagStripAll=AIe;Mn.StripTagBody=RIe;Mn.stripCommentTag=LIe;Mn.stripBlankChar=jIe;Mn.cssFilter=lse;Mn.getDefaultCSSWhiteList=wIe;var lk={},xp=uF;function NIe(e){var t=xp.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=xp.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function FIe(e){return e.slice(0,2)==="</"}function DIe(e,t,r){var n="",i=0,s=!1,o=!1,a=0,l=e.length,u="",d="";e:for(a=0;a<l;a++){var h=e.charAt(a);if(s===!1){if(h==="<"){s=a;continue}}else if(o===!1){if(h==="<"){n+=r(e.slice(i,a)),s=a,i=a;continue}if(h===">"){n+=r(e.slice(i,s)),d=e.slice(s,a+1),u=NIe(d),n+=t(s,n.length,u,d,FIe(d)),i=a+1,s=!1;continue}if(h==='"'||h==="'")for(var f=1,y=e.charAt(a-f);y.trim()===""||y==="=";){if(y==="="){o=h;continue e}y=e.charAt(a-++f)}}else if(h===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n}var zIe=/[^a-zA-Z0-9\\_:.-]/gim;function VIe(e,t){var r=0,n=0,i=[],s=!1,o=e.length;function a(f,y){if(f=xp.trim(f),f=f.replace(zIe,"").toLowerCase(),!(f.length<1)){var g=t(f,y||"");g&&i.push(g)}}for(var l=0;l<o;l++){var u=e.charAt(l),d,h;if(s===!1&&u==="="){s=e.slice(r,l),r=l+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:UIe(e,l+1);continue}if(s!==!1&&l===n){if(h=e.indexOf(u,l+1),h===-1)break;d=xp.trim(e.slice(n+1,h)),a(s,d),s=!1,l=h,r=l+1;continue}if(/\s|\n|\t/.test(u))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(h=BIe(e,l),h===-1){d=xp.trim(e.slice(r,l)),a(d),s=!1,r=l+1;continue}else{l=h-1;continue}else if(h=GIe(e,l-1),h===-1){d=xp.trim(e.slice(r,l)),d=vG(d),a(s,d),s=!1,r=l+1;continue}else continue}return r<e.length&&(s===!1?a(e.slice(r)):a(s,vG(xp.trim(e.slice(r))))),xp.trim(i.join(" "))}function BIe(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function UIe(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function GIe(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function WIe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function vG(e){return WIe(e)?e.substr(1,e.length-2):e}lk.parseTag=DIe;lk.parseAttr=VIe;var qIe=lF.FilterCSS,wl=Mn,gse=lk,HIe=gse.parseTag,ZIe=gse.parseAttr,rT=uF;function g2(e){return e==null}function YIe(e){var t=rT.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=rT.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=rT.trim(e.slice(0,-1))),{html:e,closing:r}}function JIe(e){var t={};for(var r in e)t[r]=e[r];return t}function KIe(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function vse(e){e=JIe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=wl.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=KIe(e.whiteList||e.allowList):e.whiteList=wl.whiteList,e.onTag=e.onTag||wl.onTag,e.onTagAttr=e.onTagAttr||wl.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||wl.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||wl.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||wl.safeAttrValue,e.escapeHtml=e.escapeHtml||wl.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new qIe(e.css))}vse.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,s=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,u=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=wl.stripBlankChar(e)),r.allowCommentTag||(e=wl.stripCommentTag(e));var h=!1;r.stripIgnoreTagBody&&(h=wl.StripTagBody(r.stripIgnoreTagBody,s),s=h.onIgnoreTag);var f=HIe(e,function(y,g,v,b,_){var x={sourcePosition:y,position:g,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(n,v)},S=i(v,b,x);if(!g2(S))return S;if(x.isWhite){if(x.isClosing)return"</"+v+">";var $=YIe(b),C=n[v],k=ZIe($.html,function(E,P){var T=rT.indexOf(C,E)!==-1,M=o(v,E,P,T);return g2(M)?T?(P=l(v,E,P,d),P?E+'="'+P+'"':E):(M=a(v,E,P,T),g2(M)?void 0:M):M});return b="<"+v,k&&(b+=" "+k),$.closing&&(b+=" /"),b+=">",b}else return S=s(v,b,x),g2(S)?u(b):S},u);return h&&(f=h.remove(f)),f};var XIe=vse;(function(e,t){var r=Mn,n=lk,i=XIe;function s(a,l){var u=new i(l);return u.process(a)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var l in n)t[l]=n[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(oR,oR.exports);var ky=oR.exports,QIe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},e5e=function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=M3(M3({},ky.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,"justify-content":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?n.sanitizeUrl(a):ky.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),i.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(a){return i.css.whiteList[a]=o[a]})}else i[s]=t[s]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new ky.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,i=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?ky.escapeAttrValue(t):!s&&!i?ky.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,i):ky.safeAttrValue(t,r,n,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,i){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(i){Array.isArray(n[i])&&Array.isArray(r[i])?r[i]=r[i].concat(n[i]):r[i]=n[i]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var i=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(a,l){var u=n.validate(l,r);return u.isValid?a.concat([l]):(i=!0,a.concat([u.sanitized]))},[]);else if(QIe(t)){var o=Object.keys(t);s=o.reduce(function(a,l){var u=t[l],d=n.validate(u,r);return d.isValid?a[l]=u:(i=!0,a[l]=d.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const uk=new Map;function bse(){uk.clear()}function t5e(e){return uk.get(e)}function r5e(e,t){uk.set(e,t)}function lO(e){uk.delete(e)}function wse(...e){const t=Es.acquire();for(let n=0;n<e.length;n++){const i=e[n],s=typeof i;if(s==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(s==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return Es.release(t),r}const n5e=(()=>{const e=new Map,t=new ResizeObserver(n=>{var i;bse();for(const s of n)(i=e.get(s.target))==null||i(s)}),r=(n,i,s)=>(e.set(n,i),t.observe(n,s),gr(()=>{t.unobserve(n),e.delete(n)}));return(n,i,s)=>{let o=null;return Cx([Se(()=>typeof n=="function"?n():n,a=>{o==null||o.remove(),a&&(o=r(a,i,s))},Io),gr(()=>o==null?void 0:o.remove())])}})();function i5e(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function Nbt(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function v2(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const s5e=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],o5e=s5e.reduce((e,t)=>(e[t]=[],e),{}),a5e=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],_se=new e5e({whiteList:o5e,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(a5e.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function l5e(e,t){const r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.top+r.height,s=n.top+n.height,o=r.top,a=n.top;(i>s||o<a)&&e.scrollIntoView({block:"end"})}function xse(e){return e==="Enter"||e===" "}const Sse="http://www.w3.org/",ck=`${Sse}2000/svg`,$se=`${Sse}1999/xlink`;let bG=[],cF=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},dF=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Tse=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},u5e=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(dF(e[n],t))return n}return-1},uO=(e,t,r,n)=>{let i=e[t];if(i.vnodeSelector==="")return;let s=i.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(dF(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},c5e=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},lR=[],uR=!1,Mse=e=>{(e.children||[]).forEach(Mse),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},wG=()=>{uR=!1,lR.forEach(Mse),lR.length=0},_G=e=>{lR.push(e),uR||(uR=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(wG,{timeout:16}):setTimeout(wG,16))},xG=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),_G(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),_G(e))},d5e=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){let a=i[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")dR(e,l,!0);else if(a==="classes"){let u=Object.keys(l),d=u.length;for(let h=0;h<d;h++){let f=u[h];l[f]&&e.classList.add(f)}}else if(a==="styles"){let u=Object.keys(l),d=u.length;for(let h=0;h<d;h++){let f=u[h],y=l[f];y&&(Tse(y),r.styleApplyer(e,f,y))}}else if(a!=="key"&&l!=null){let u=typeof l;u==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&function(){let d=l;l=function(h){d.apply(this,[h]),h.target["oninput-value"]=h.target.value}}()),e[a]=l):r.namespace===ck?a==="href"?e.setAttributeNS($se,a,l):e.setAttribute(a,l):u==="string"&&a!=="value"?a==="innerHTML"?e[a]=_se.sanitize(l):cR(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function cR(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let E3,p5e=(e,t,r)=>{if(t)for(let n of t)Zg(n,e,void 0,r)},Cse=(e,t,r)=>{p5e(e,t.children,r),t.text&&(e.textContent=t.text),d5e(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Zg=(e,t,r,n)=>{let i,s=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let d=o.charAt(s-1),h=o.slice(s,l);d==="."?i.classList.add(h):d==="#"?i.id=h:(h==="svg"&&(n=cF(n,{namespace:ck})),n.namespace!==void 0?i=e.domNode=a.createElementNS(n.namespace,h):(i=e.domNode=e.domNode||a.createElement(h),h==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),s=l+1}}Cse(i,e,n)}},dR=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},h5e=(e,t,r,n)=>{if(!r)return;let i=!1,s=Object.keys(r),o=s.length;for(let a=0;a<o;a++){let l=s[a],u=r[l],d=t[l];if(l==="class")d!==u&&(dR(e,d,!1),dR(e,u,!0));else if(l==="classes"){let h=e.classList,f=Object.keys(u),y=f.length;for(let g=0;g<y;g++){let v=f[g],b=!!u[v];b!==!!d[v]&&(i=!0,b?h.add(v):h.remove(v))}}else if(l==="styles"){let h=Object.keys(u),f=h.length;for(let y=0;y<f;y++){let g=h[y],v=u[g];v!==d[g]&&(i=!0,v?(Tse(v),n.styleApplyer(e,g,v)):n.styleApplyer(e,g,""))}}else if(u||typeof d!="string"||(u=""),l!=="value"||cR(e)){if(u!==d){let h=typeof u;h==="function"&&n.eventHandlerInterceptor||(n.namespace===ck?l==="href"?e.setAttributeNS($se,l,u):e.setAttribute(l,u):h==="string"?l==="innerHTML"?e[l]=_se.sanitize(u):l==="role"&&u===""?e.removeAttribute(l):cR(e)&&l in e?e[l]=u:e.setAttribute(l,u):e[l]!==u&&(e[l]=u),i=!0)}}else{let h=e[l];h!==u&&(e["oninput-value"]?h===e["oninput-value"]:u!==d)&&(e[l]=u,e["oninput-value"]=void 0),u!==d&&(i=!0)}}return i},f5e=(e,t,r,n,i)=>{if(r===n)return!1;n=n||bG;let s,o=(r=r||bG).length,a=n.length,l=0,u=0,d=!1;for(;u<a;){let h=l<o?r[l]:void 0,f=n[u];if(h!==void 0&&dF(h,f))d=E3(h,f,i)||d,l++;else{let y=u5e(r,f,l+1);if(y>=0){for(s=l;s<y;s++)xG(r[s]),uO(r,s,e,"removed");d=E3(r[y],f,i)||d,l=y+1}else Zg(f,t,l<o?r[l].domNode:void 0,i),c5e(f),uO(n,u,e,"added")}u++}if(o>l)for(s=l;s<o;s++)xG(r[s]),uO(r,s,e,"removed");return d};E3=(e,t,r)=>{let n=e.domNode,i=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,i=!0,i}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=cF(r,{namespace:ck})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=f5e(t,n,e.children,t.children,r)||s,s=h5e(n,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};let $1=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,E3(n,r,t)},domNode:e.domNode});const m5e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Ky=e=>cF(m5e,e),Np={create:(e,t)=>(t=Ky(t),Zg(e,document.createElement("div"),void 0,t),$1(e,t)),append:(e,t,r)=>(r=Ky(r),Zg(t,e,void 0,r),$1(t,r)),insertBefore:(e,t,r)=>(r=Ky(r),Zg(t,e.parentNode,e,r),$1(t,r)),merge:(e,t,r)=>(r=Ky(r),t.domNode=e,Cse(e,t,r),$1(t,r)),replace:(e,t,r)=>(r=Ky(r),Zg(t,e.parentNode,e,r),e.parentNode.removeChild(e),$1(t,r))},Ese,y5e=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};Ese=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let g5e=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?Ese(r.children,i=>i.domNode===n):void 0}),r},v5e=(e,t,r)=>{let n=function(i){r("domEvent",i);let s=t(),o=y5e(i.currentTarget,s.domNode);o.reverse();let a,l=g5e(s.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${i.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",i),a};return(i,s,o,a)=>n},SG=e=>{let t,r,n=Ky(e),i=n.performanceLogger,s=!0,o=!1,a=[],l=[],u=(h,f,y)=>{let g,v=()=>g;n.eventHandlerInterceptor=v5e(t,v,i),g=h(f,y(),n),a.push(g),l.push(y)},d=()=>{if(r=void 0,s){s=!1,i("renderStart",void 0);for(let h=0;h<a.length;h++){let f=l[h]();i("rendered",void 0),a[h].update(f),i("patched",void 0)}i("renderDone",void 0),s=!0}};return t={renderNow:d,scheduleRender:()=>{r||o||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,s=!0,t.scheduleRender()},append:(h,f)=>{u(Np.append,h,f)},insertBefore:(h,f)=>{u(Np.insertBefore,h,f)},merge:(h,f)=>{u(Np.merge,h,f)},replace:(h,f)=>{u(Np.replace,h,f)},detach:h=>{for(let f=0;f<l.length;f++)if(l[f]===h)return l.splice(f,1),a.splice(f,1)[0];throw new Error("renderFunction was not found")}},t},Wd=class extends Be{constructor(){super(...arguments),this.items=new Ce,this._watchUpdatingTracking=new _m,this._callbacks=new Map,this._projector=SG(),this._hiddenProjector=SG()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const n of r.added){const i=()=>n.render();this._callbacks.set(n,i),this._projector.append(this.surface,i)}for(const n of r.removed){const i=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(i.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,n=this._hiddenProjector;let i;const s=()=>(i=t.render(),i);n.append(r,s),n.renderNow();const o={left:0,top:0,right:0,bottom:0};if(i!=null&&i.domNode){const a=i.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(n.detach(s);r.firstChild;)r.removeChild(r.firstChild);return o}overlaps(t,r){const n=this.computeBoundingRect(t),i=this.computeBoundingRect(r);return Math.max(n.left,i.left)<=Math.min(n.right,i.right)&&Math.max(n.top,i.top)<=Math.min(n.bottom,i.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const n=!!(r!=null&&r.disableDecorations);if(!this.items.some(s=>s.visible&&!(n&&s.isDecoration)))return;const i=t.getContext("2d");i.save(),i.font=this._fontString(),this.items.forEach(s=>{n&&s.isDecoration||(i.save(),s.renderCanvas(i),i.restore())}),i.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([p({readOnly:!0})],Wd.prototype,"surface",void 0),c([p({readOnly:!0})],Wd.prototype,"items",void 0),c([p({readOnly:!0})],Wd.prototype,"needsRender",null),c([p({readOnly:!0})],Wd.prototype,"_watchUpdatingTracking",void 0),c([p({readOnly:!0})],Wd.prototype,"updating",null),Wd=c([R("esri.views.overlay.ViewOverlay")],Wd);const $G=Wd,cO=[0,0];function b5e(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return cO[0]=r.left+((t==null?void 0:t.pageXOffset)??0),cO[1]=r.top+((t==null?void 0:t.pageYOffset)??0),cO}function TG(e){e&&(ise(e),e.parentNode&&e.parentNode.removeChild(e))}function w5e(e){const t=document.createElement("div");return e.appendChild(t),t}const T1=16,b2=750,_5e=512,x5e=2,S5e=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:T1,time:b2},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Se(()=>this.cursor,n=>{const{surface:i}=this;i&&i.setAttribute("data-cursor",n)}),Se(()=>this.navigating,n=>{const{surface:i}=this;i&&i.setAttribute("data-navigating",n.toString())})])}initialize(){this.addHandles([Se(()=>this.ui,(r,n)=>this._handleUIChange(r,n),Cr),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=jr(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),i=aF(r);if(i||typeof r!="string"||ie.getLogger(this).error("#container",`element with id '${r}' not found`),n===i)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(TG(this.root),this._set("root",null)),this.userContent&&(fG(this.userContent,n),TG(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",fG(i,s),i.appendChild(s),this._set("userContent",s);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);const l=new $G;o.appendChild(l.surface),this._set("overlay",l),this.addHandles(Se(()=>l.needsRender,u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=q0({render:()=>{var d;return(d=this.overlay)==null?void 0:d.render()}}):this._overlayRenderTaskHandle=gn(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,n,i){const s=this.position;return r-=s?s[0]:0,n-=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}containerToPage(r,n,i){const s=this.position;return r+=s?s[0]:0,n+=s?s[1]:0,i?(i[0]=r,i[1]=n):i=[r,n],i}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(Se(()=>this.root,i=>{r.container=i?w5e(i):null},Cr),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=T1,r.time=b2,this.addHandles([Ix(window,"resize",()=>{r.freq=T1,r.time=b2}),q0({prepare:n=>{const i=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,i&&(s.freq=T1,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const o=this._position();s.freq=o||i?T1:Math.min(b2,s.freq*x5e),!i&&s.freq>=_5e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,i=r?r.clientHeight:0;if(n===0||i===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,o=this.height;return n===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:n,height:i}),!0)}_position(){const r=this.container,n=this.position,i=r&&b5e(r);return!!i&&(!n||i[0]!==n[0]||i[1]!==n[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return c([p()],t.prototype,"container",null),c([p({readOnly:!0})],t.prototype,"focused",null),c([p({readOnly:!0})],t.prototype,"height",void 0),c([p()],t.prototype,"messagesCommon",void 0),c([p({type:$G})],t.prototype,"overlay",void 0),c([p({readOnly:!0})],t.prototype,"position",void 0),c([p({readOnly:!0})],t.prototype,"resizing",void 0),c([p({readOnly:!0})],t.prototype,"root",void 0),c([p({value:null,readOnly:!0})],t.prototype,"size",null),c([p({readOnly:!0})],t.prototype,"surface",void 0),c([p({readOnly:!0})],t.prototype,"suspended",void 0),c([p()],t.prototype,"ui",void 0),c([p({readOnly:!0})],t.prototype,"userContent",void 0),c([p({readOnly:!0})],t.prototype,"width",void 0),c([p()],t.prototype,"widthBreakpoint",void 0),t=c([R("esri.views.DOMContainer")],t),t};let $5e=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const n in t){const i=t[n],s=new wte(i,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=XSe(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const n of r.acquired)kB(n)||r.pool.release(n);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),n=this._properties[t];let i=n.pool.acquire();for(n.acquired.push(i);i===r;)n.acquired.push(i),i=n.pool.acquire();return i}_release(){for(const t in this._properties){const r=this._properties[t];let n=0;for(const i of r.acquired)kB(i)?r.acquired[n++]=i:r.pool.release(i);r.acquired.length=n}}};const T5e=J("mac")?"Meta":"Control",M5e=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),C5e=e=>M5e.has(e);let E5e=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const n of this.keyModifiers)if(!r.has(n))return!1;return!0}},ci=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const n of r)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,n){let i;typeof r=="function"?(n=r,i=[]):i=r||[];const s=typeof t=="string"?new E5e(t,i):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=d=>{const h=this._incoming[d.match.eventType];if(h){const f=h.indexOf(d);h.splice(f,1),o(),this._manager&&this._manager.updateDependencies()}},l=new k5e(s,n,{onPause:a,onRemove:a,onResume:d=>{const h=this._incoming[d.match.eventType];h&&!h.includes(d)&&(h.push(d),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new I5e(t,{onEmit:(n,i,s,o)=>{var a;(a=this._manager)==null||a.emit(n.eventType,i,s,o)},onRemove:n=>{var i;delete this._outgoing[n.eventType],(i=this._manager)==null||i.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var n;const r=this._incoming[t.type];if(r){for(const i of r)if(i.match.matches(t)&&((n=i.callback)==null||n.call(i,t),t.shouldStopPropagation()))break}}},k5e=class{constructor(t,r,n){this.match=t,this._callback=r,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},I5e=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,n){this._removed||this._handler.onEmit(this,t,r,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},O5e=class extends ci{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{this._update(r.data)})}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:i}=t;r===this._value&&this._x===n&&this._y===i||(this._value=r,this._x=n,this._y=i,this._onChange(r,n,i))}},P5e=class{constructor(t,r){this._observable=new Nx,this._value=t,this._equalityFunction=r}get value(){return et(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function kse(e,t=rte){return new P5e(e,t)}let A5e=class extends ci{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=kse(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},ea=class extends Be{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=T5e,this._latestPointerType="mouse",this._propertiesPool=new $5e({latestPointerLocation:j5e},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,n=Qp.INTERNAL){if(this._nameToGroup[t]||r.length===0)return;const i={name:t,handlers:r.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=i;for(let s=i.handlers.length-1;s>=0;s--){const o=i.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,u,d,h)=>{this._emitInputEvent(o.priorityIndex+1,a,l,u,h,d)},setPointerCapture:(a,l)=>{this._setPointerCapture(i,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(n=>{var i;n.removed=!0,(i=n.uninstallCallback)==null||i.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ie.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers&&this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const i=this._handlersPriority[n];i.priorityIndex=n;let s=i.handler.hasSideEffects;if(!s){for(const o of i.handler.outgoingEventTypes)if(t.has(o)){s=!0;break}}if(s)for(const o of i.handler.incomingEventMatches){t.add(o.eventType);for(const a of o.keyModifiers)C5e(a)||r.add(a)}i.active=s}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,n){this._latestPointerType=t;const i=this._get("latestPointerLocation");if(i==null||i.x!==r||i.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=r,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const s=r;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,r);const n=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,i=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,n,i)}_updateKeyModifiers(t,r){if(!r)return;let n=!1;const i=()=>{if(!n){const a=new Set;this._activeKeyModifiers.forEach(l=>{a.add(l)}),this._activeKeyModifiers=a,n=!0}},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(i(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(i(),this._activeKeyModifiers.delete(a))};if(t==="key-down"||t==="key-up"){const a=r.key;this._keyModifiers.has(a)&&s(a,t==="key-down")}const o=r.native;s("Alt",!(!o||!o.altKey)),s("Control",!(!o||!o.ctrlKey)),s("Ctrl",!(!o||!o.ctrlKey)),s("Shift",!(!o||!o.shiftKey)),s("Meta",!(!o||!o.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new O5e((t,r,n)=>this._setLatestPointer(t,r,n)),this._multiTouchHandler=new A5e,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Qp.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Qp.INTERNAL)}_setPointerCapture(t,r,n,i){const s=t.name+"-"+r.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),i?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,n,i){this._emitInputEvent(0,t,r,n,i)}_emitInputEvent(t,r,n,i,s,o){const a=i!==void 0?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,u={event:new R5e(r,n,a,o||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(t){this._currentPropagation={events:new v3,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,n,i;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:s,priorityIndex:o}=t.events.pop(),a=(r=s.data)==null?void 0:r.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(t.currentHandler=this._handlersPriority[o];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!s.shouldStopPropagation()&&((i=(n=t.currentHandler).eventCallback)==null||i.call(n,s)),s.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(s.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:s,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new v3;r.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)r.push(n.events.pop());n.events=r,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const i of r.handler.incomingEventMatches){if(n.eventType!==i.eventType)continue;const s=n.keyModifiers.filter(o=>i.keyModifiers.includes(o));if(s.length===n.keyModifiers.length!=(s.length===i.keyModifiers.length))return n.keyModifiers.length>i.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const n of t){let i=0;for(;i<r.length&&this._compareHandlerPriority(n,r[i])>=0;)i++;r.splice(i,0,n)}return r}get debug(){const t=r=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=n};return{injectEvent:(r,n)=>{t(()=>{this._onEventReceived(r,n)})},disablePointerCapture:t}}};c([p({readOnly:!0})],ea.prototype,"hasPendingInputs",null),c([p({constructOnly:!0})],ea.prototype,"eventSource",void 0),c([p({constructOnly:!0})],ea.prototype,"recognizers",void 0),c([p()],ea.prototype,"_latestPointerType",void 0),c([p()],ea.prototype,"latestPointerType",null),c([p()],ea.prototype,"multiTouchActive",null),c([p({readOnly:!0})],ea.prototype,"latestPointerLocation",void 0),c([p()],ea.prototype,"_paused",void 0),c([p({readOnly:!0})],ea.prototype,"updating",null),ea=c([R("esri.views.input.InputManager")],ea);let R5e=class{constructor(t,r,n,i,s){this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=s,this._propagationState=Sp.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Sp.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Sp.STOPPED)}async(t){this._propagationState|=Sp.PAUSED;const r=(n,i)=>{this._propagationState&=~Sp.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),i)throw n;return n};return(typeof t=="function"?t():t).then(n=>r(n,!1),n=>r(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&Sp.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Sp;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Sp||(Sp={}));const Qp={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let L5e=class{};const j5e=L5e;function rc(e){return e!=null&&"open"in e&&"declaredClass"in e}function MG(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const N5e=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Se(()=>[this.ui,this.popup],([r,n],i)=>{const s="popup",o="manual";if(i){const[a,l]=i;a&&rc(l)&&(l.view=null,MG(l)&&a.remove(l,s))}r&&rc(n)&&(n.view=this,MG(n)&&r.add(n,{key:s,position:o,internal:!0}))},Cr),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&(rc(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),rc(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)}))},Qp.WIDGET)]),Q0(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Q(()=>import("./Popup-WEuJsH4I.js"),__vite__mapDeps([116,52,117,2,118,119,120,121,122,51,49,50,12,11,15]),import.meta.url)})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(rc(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void ie.getLogger(this).error(new q("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),rc(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!rc(this.popup))return this._popupSetupTask=z9(async n=>{const{default:i}=await Q(()=>import("./Popup-WEuJsH4I.js"),__vite__mapDeps([116,52,117,2,118,119,120,121,122,51,49,50,12,11,15]),import.meta.url);if(_r(n),!this.popup||rc(this.popup))return;const s=this.popup;delete s.open,delete s.close,this.popup=new i(s)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},i){const s=[],o=[];let a=!1;const l=OSe(i,J("popup-view-fetch-timeout")??D5e),u=f=>{const y=new F5e(f);return o.push(y),s.push(y.promise),y},d=f=>{const y=o.at(-1);return y&&y.layerView===f&&!a?y:u(f)};for(const f of n)"graphic"in f?(d(f.layerView).graphics.push(f.graphic),a=!1):(s.push(f.layerView.fetchPopupFeaturesAtLocation(f.mapPoint,l)),a=!0);o.map(f=>f.resolve(l));const h=ISe(s).then(f=>f.filter(y=>!!y).flat());return{pendingFeatures:s,allGraphicsPromise:h,location:r}}async _getPopupHits(r,n){const{hits:i,location:s}=await this.popupHitTest(r);_r(n);const o=[];for(const a of i)if("graphic"in a){if(this._isValidPopupGraphic(a.graphic,n)){const l=this._isValidPopupGraphicsLayerView(a.layerView)?a.layerView:void 0;o.push({graphic:a.graphic,layerView:l})}}else this._isValidPopupLocationLayerView(a.layerView)&&o.push({mapPoint:a.mapPoint,layerView:a.layerView});return{hits:o,location:s}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n==null?void 0:n.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return c([p({cast(r){return!r||rc(r)||typeof r=="object"&&(r.open=n=>(Rm(ie.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(n)),r.close=()=>(Rm(ie.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),r}})],t.prototype,"popup",void 0),c([p()],t.prototype,"popupEnabled",void 0),t=c([R("esri.views.PopupView")],t),t};let F5e=class{constructor(t){this.layerView=t,this._resolver=zo(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:r,graphics:n,_resolver:i}=this;if(!r)return i.resolve(n),i.promise;let s;return r.fetchPopupFeaturesFromGraphics(n,t).catch(o=>(s=o,null)).then(o=>{o?i.resolve(o):i.reject(s)}),i.promise}};const D5e=5e3;function yh(e,t,r=Ce){return t||(t=new r),t===e||(t.removeAll(),z5e(e)?t.addMany(e):e&&t.add(e)),t}function Ise(e){return e}function z5e(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var $p;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})($p||($p={}));let V5e=class{constructor(){this._resolver=zo(),this._status=$p.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=$p.RESOLVED,this._cleanUp()},()=>{this._status=$p.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===$p.RESOLVED}isRejected(){return this._status===$p.REJECTED}isFulfilled(){return this._status!==$p.PENDING}abort(){this._resolver.reject(Bn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=zo(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||ms(i)||this._resolver.reject(i)}),t.resolve()}};const Bx=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new V5e,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=c([R("esri.core.Promise")],t),t};let k3=class extends Bx(Be){};k3=c([R("esri.core.Promise")],k3);const B5e="not-loaded",U5e="loading",G5e="failed",CG="loaded",Ose=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const u=n9(s,l);this.destroyed&&l(new q("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===B5e){this._set("loadStatus",U5e);const a=this._loadController=new AbortController;i({signal:a.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",CG),this._loadController=null},n=>{this._set("loadStatus",G5e),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Lm(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===CG}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new q("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return c([p({readOnly:!0})],t.prototype,"loaded",null),c([p({readOnly:!0})],t.prototype,"loadError",void 0),c([p({clonable:!1})],t.prototype,"loadStatus",void 0),c([p({type:[Da],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([R("esri.core.Loadable")],t),t};let db=class extends Ose(k3){};db=c([R("esri.core.Loadable")],db),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=Ose,e.isLoadable=t}(db||(db={}));const Ba=db;async function pF(e,t){return await e.load(),W5e(e,t)}async function W5e(e,t){const r=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):Ce.isCollection(o)?o.forEach(a=>n(a)):Ba.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await S3e(r,async s=>{const o=await QE(q5e(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function q5e(e){return"loadAll"in e&&typeof e.loadAll=="function"}let w2;function H5e(e){return w2&&!w2.destroyed||(w2=e()),w2}var pR;const Z5e=new kt({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ta=pR=class extends Be{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new pR({categories:this.categories?W(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=JE(this.extent,Qe.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>Z5e.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};c([p()],ta.prototype,"categories",void 0),c([p()],ta.prototype,"disableExtraQuery",void 0),c([p({type:Rt})],ta.prototype,"extent",void 0),c([p()],ta.prototype,"filter",void 0),c([p()],ta.prototype,"num",void 0),c([p()],ta.prototype,"query",void 0),c([p()],ta.prototype,"sortField",void 0),c([p()],ta.prototype,"sortOrder",null),c([p()],ta.prototype,"start",void 0),ta=pR=c([R("esri.portal.PortalQueryParams")],ta);const Tu=ta;var hR;let qn=hR=class extends ae{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new q("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new hR({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=Xr(Tu,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new Tu,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Tu,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const s=new Tu({disableExtraQuery:!0,num:1,query:i});return r.queryGroups(s,t)}throw new q("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],s=new Tu({num:1,query:`typekeywords:"${e}"`});return i.queryItems(s,t)}throw new q("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const s=i==null?void 0:i.categorySchema;return s!=null&&s.length?s:[]}):[])}};c([p()],qn.prototype,"access",void 0),c([p({type:Date})],qn.prototype,"created",void 0),c([p()],qn.prototype,"description",void 0),c([p()],qn.prototype,"id",void 0),c([p()],qn.prototype,"isInvitationOnly",void 0),c([p({type:Date})],qn.prototype,"modified",void 0),c([p()],qn.prototype,"owner",void 0),c([p()],qn.prototype,"portal",void 0),c([p()],qn.prototype,"snippet",void 0),c([p()],qn.prototype,"sortField",void 0),c([p()],qn.prototype,"sortOrder",void 0),c([p()],qn.prototype,"sourceJSON",void 0),c([p()],qn.prototype,"tags",void 0),c([p()],qn.prototype,"thumbnail",void 0),c([p({readOnly:!0})],qn.prototype,"thumbnailUrl",null),c([p()],qn.prototype,"title",void 0),c([p({readOnly:!0})],qn.prototype,"url",null),qn=hR=c([R("esri.portal.PortalGroup")],qn);const fR=qn;let af=class extends Be{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([p()],af.prototype,"nextQueryParams",void 0),c([p()],af.prototype,"queryParams",void 0),c([p()],af.prototype,"results",void 0),c([p()],af.prototype,"total",void 0),af=c([R("esri.portal.PortalQueryResult")],af);const Y5e=af;let dc=class extends ae{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new q("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([p({type:Date})],dc.prototype,"created",void 0),c([p()],dc.prototype,"id",void 0),c([p()],dc.prototype,"portal",void 0),c([p()],dc.prototype,"title",void 0),c([p({readOnly:!0})],dc.prototype,"url",null),c([p()],dc.prototype,"username",void 0),dc=c([R("esri.portal.PortalFolder")],dc);const J5e=dc;var mR;let Br=mR=class extends ae{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,n=e==null?void 0:e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.concat();const r=this.userContentUrl+"/deleteItems",n=[],i=e.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const a of o.results){const l=e.find(h=>a.itemId===h.id),u=a.success;let d=null;u?(l.id=null,l.portal=null):a.error&&(d=new q("portal:delete-item-failed",a.error.message,a.error)),n.push({item:l,success:u,error:d})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=J5e.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=fR.fromJSON(r);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await Q(()=>Promise.resolve().then(()=>Rse),void 0,import.meta.url),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let s;return i!=null&&i.items?(s=i.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new fR({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new q("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new q("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new mR({sourceJSON:e});return t.read(e),t}};c([p()],Br.prototype,"access",void 0),c([p({type:Date})],Br.prototype,"created",void 0),c([p()],Br.prototype,"culture",void 0),c([p()],Br.prototype,"description",void 0),c([p()],Br.prototype,"email",void 0),c([p()],Br.prototype,"favGroupId",void 0),c([p()],Br.prototype,"fullName",void 0),c([p({type:Date})],Br.prototype,"modified",void 0),c([p()],Br.prototype,"orgId",void 0),c([p()],Br.prototype,"portal",void 0),c([p()],Br.prototype,"preferredView",void 0),c([p()],Br.prototype,"privileges",void 0),c([p()],Br.prototype,"region",void 0),c([p()],Br.prototype,"role",void 0),c([p()],Br.prototype,"roleId",void 0),c([p()],Br.prototype,"sourceJSON",void 0),c([p()],Br.prototype,"thumbnail",void 0),c([p({readOnly:!0})],Br.prototype,"thumbnailUrl",null),c([p()],Br.prototype,"units",void 0),c([p({readOnly:!0})],Br.prototype,"userContentUrl",null),c([p({readOnly:!0})],Br.prototype,"url",null),c([p()],Br.prototype,"username",void 0),c([p()],Br.prototype,"userLicenseTypeId",void 0),c([p()],Br.prototype,"userType",void 0),Br=mR=c([R("esri.portal.PortalUser")],Br);const hF=Br;var wo;let _2;const EG={PortalGroup:()=>Promise.resolve({default:fR}),PortalItem:()=>Q(()=>Promise.resolve().then(()=>Rse),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:hF})};let ve=wo=class extends Ax(Ba){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ft.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){kG.unregister(this),this.defaultBasemap=jr(this.defaultBasemap),this.defaultDevBasemap=jr(this.defaultDevBasemap),this.defaultVectorBasemap=jr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=gn(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ft.request.trustedServers.includes(t)||Ft.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=hF.fromJSON(e),t.portal=this),t}load(e){const t=Q(()=>Promise.resolve().then(()=>TOe),void 0,import.meta.url).then(({default:r})=>{_r(e),_2=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var n;if(St){const i=St;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==wo.AUTH_MODE_AUTO&&this.authMode!==wo.AUTH_MODE_NO_PROMPT||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",K5e(new WeakRef(this))),kG.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Q(async()=>{const{default:r}=await import("./ElevationLayer-FkGC1Pfk.js");return{default:r}},__vite__mapDeps([123,124,125,126,52]),import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);r.unshift(...n)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):ld(e)?Promise.reject(Bn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Tu({num:100,sortField:"title"});if(t!=null&&t.length){const n=[];for(const i of t)n.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return ld(e)?Promise.reject(Bn()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||No();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||No();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return H5e(()=>new wo)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:No().toLowerCase()},withCredentials:!0,...r};return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(n,i)}queryPortal(e,t,r,n){const i=Xr(Tu,t),s=o=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then(a=>{const l=i.clone();return l.start=a.nextStart,new Y5e({nextQueryParams:l,queryParams:i,total:a.total,results:wo._resultsToTypedArray(o,{portal:this},a,n)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(ga(l),a)));return r&&EG[r]?EG[r]().then(({default:o})=>(_r(n),s(o))):s()}signIn(){if(this.authMode===wo.AUTH_MODE_ANONYMOUS||this.authMode===wo.AUTH_MODE_NO_PROMPT&&!St)return Promise.reject(new q("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return St?St.getCredential(this.restUrl,{prompt:this.authMode!==wo.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const i=wo._resultsToTypedArray(r,{portal:this},n);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():n)).then(()=>i,()=>i)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===wo.AUTH_MODE_ANONYMOUS||this.authMode===wo.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,u={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return t.withCredentials&&(u.withCredentials=!0),yr(this._normalizeSSL(e),u).then(d=>d.data)}toJSON(){throw new q("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new wo({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new q("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Tu;r.query=e||(Ft.apiKey&&Pre(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,t);if(!n.total)return[];const i=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new _2({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const n=new Tu({query:r,disableExtraQuery:!0}),i=await this.queryGroups(n,t);if(!i.total)return[];const s=i.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new _2({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=_2.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let i;if(r){const s=n!=null?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};ve.AUTH_MODE_ANONYMOUS="anonymous",ve.AUTH_MODE_AUTO="auto",ve.AUTH_MODE_IMMEDIATE="immediate",ve.AUTH_MODE_NO_PROMPT="no-prompt",c([p()],ve.prototype,"access",void 0),c([p()],ve.prototype,"allSSL",void 0),c([p()],ve.prototype,"authMode",void 0),c([p()],ve.prototype,"authorizedCrossOriginDomains",void 0),c([ue("authorizedCrossOriginDomains")],ve.prototype,"readAuthorizedCrossOriginDomains",null),c([p()],ve.prototype,"basemapGalleryGroupQuery",void 0),c([p({json:{name:"3DBasemapGalleryGroupQuery"}})],ve.prototype,"basemapGalleryGroupQuery3D",void 0),c([p()],ve.prototype,"bingKey",void 0),c([p()],ve.prototype,"canListApps",void 0),c([p()],ve.prototype,"canListData",void 0),c([p()],ve.prototype,"canListPreProvisionedItems",void 0),c([p()],ve.prototype,"canProvisionDirectPurchase",void 0),c([p()],ve.prototype,"canSearchPublic",void 0),c([p()],ve.prototype,"canShareBingPublic",void 0),c([p()],ve.prototype,"canSharePublic",void 0),c([p()],ve.prototype,"canSignInArcGIS",void 0),c([p()],ve.prototype,"canSignInIDP",void 0),c([p()],ve.prototype,"colorSetsGroupQuery",void 0),c([p()],ve.prototype,"commentsEnabled",void 0),c([p({type:Date})],ve.prototype,"created",void 0),c([p()],ve.prototype,"credential",void 0),c([p()],ve.prototype,"culture",void 0),c([p()],ve.prototype,"currentVersion",void 0),c([p()],ve.prototype,"customBaseUrl",void 0),c([p()],ve.prototype,"defaultBasemap",void 0),c([ue("defaultBasemap")],ve.prototype,"readDefaultBasemap",null),c([p()],ve.prototype,"defaultDevBasemap",void 0),c([ue("defaultDevBasemap")],ve.prototype,"readDefaultDevBasemap",null),c([p({type:Rt})],ve.prototype,"defaultExtent",void 0),c([p()],ve.prototype,"defaultVectorBasemap",void 0),c([ue("defaultVectorBasemap")],ve.prototype,"readDefaultVectorBasemap",null),c([p()],ve.prototype,"description",void 0),c([p()],ve.prototype,"devBasemapGalleryGroupQuery",void 0),c([p()],ve.prototype,"eueiEnabled",void 0),c([p({readOnly:!0})],ve.prototype,"extraQuery",null),c([p()],ve.prototype,"featuredGroups",void 0),c([p()],ve.prototype,"featuredItemsGroupQuery",void 0),c([p()],ve.prototype,"galleryTemplatesGroupQuery",void 0),c([p()],ve.prototype,"layoutGroupQuery",void 0),c([p()],ve.prototype,"livingAtlasGroupQuery",void 0),c([p()],ve.prototype,"hasCategorySchema",void 0),c([p()],ve.prototype,"helpBase",void 0),c([p()],ve.prototype,"helperServices",void 0),c([p()],ve.prototype,"helpMap",void 0),c([p()],ve.prototype,"homePageFeaturedContent",void 0),c([p()],ve.prototype,"homePageFeaturedContentCount",void 0),c([p()],ve.prototype,"httpPort",void 0),c([p()],ve.prototype,"httpsPort",void 0),c([p()],ve.prototype,"id",void 0),c([p()],ve.prototype,"ipCntryCode",void 0),c([p({readOnly:!0})],ve.prototype,"isOrganization",null),c([p()],ve.prototype,"isPortal",void 0),c([p()],ve.prototype,"isReadOnly",void 0),c([p({readOnly:!0})],ve.prototype,"itemPageUrl",null),c([p()],ve.prototype,"layerTemplatesGroupQuery",void 0),c([p()],ve.prototype,"maxTokenExpirationMinutes",void 0),c([p({type:Date})],ve.prototype,"modified",void 0),c([p()],ve.prototype,"name",void 0),c([p()],ve.prototype,"portalHostname",void 0),c([p()],ve.prototype,"portalMode",void 0),c([p()],ve.prototype,"portalProperties",void 0),c([p()],ve.prototype,"region",void 0),c([p()],ve.prototype,"recycleBinEnabled",void 0),c([p({readOnly:!0})],ve.prototype,"restUrl",null),c([p()],ve.prototype,"rotatorPanels",void 0),c([p()],ve.prototype,"showHomePageDescription",void 0),c([p()],ve.prototype,"sourceJSON",void 0),c([p()],ve.prototype,"staticImagesUrl",void 0),c([p({json:{name:"2DStylesGroupQuery"}})],ve.prototype,"stylesGroupQuery2d",void 0),c([p({json:{name:"stylesGroupQuery"}})],ve.prototype,"stylesGroupQuery3d",void 0),c([p()],ve.prototype,"supportsHostedServices",void 0),c([p()],ve.prototype,"symbolSetsGroupQuery",void 0),c([p()],ve.prototype,"templatesGroupQuery",void 0),c([p()],ve.prototype,"thumbnail",void 0),c([p({readOnly:!0})],ve.prototype,"thumbnailUrl",null),c([p()],ve.prototype,"units",void 0),c([p()],ve.prototype,"url",void 0),c([p()],ve.prototype,"urlKey",void 0),c([ue("urlKey")],ve.prototype,"readUrlKey",null),c([p()],ve.prototype,"user",void 0),c([ue("user")],ve.prototype,"readUser",null),c([p()],ve.prototype,"use3dBasemaps",void 0),c([p()],ve.prototype,"useStandardizedQuery",void 0),c([p()],ve.prototype,"useVectorBasemaps",void 0),c([p()],ve.prototype,"vectorBasemapGalleryGroupQuery",void 0),ve=wo=c([R("esri.portal.Portal")],ve);const ui=ve,kG=new FinalizationRegistry(e=>{e.remove()});function K5e(e){const t=St;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let pc=class extends Be{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:IG(t.path,t.portalItem)}:t}set path(t){t!=null&&jo(t)?ie.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return IG(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new q("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey},signal:r==null?void 0:r.signal})}async update(t,r){const{addOrUpdateResources:n}=await Q(()=>import("./resourceUtils-DolXv-bh.js"),[],import.meta.url);return await n(this.portalItem,[{resource:this,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"update",r),this}hasPath(){return this.path!=null}};function IG(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&jo(e)&&(e=_9(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}c([p()],pc.prototype,"portalItem",void 0),c([p({type:String,value:null})],pc.prototype,"path",null),c([tr("path")],pc.prototype,"_castPath",null),c([p({type:String,readOnly:!0})],pc.prototype,"url",null),c([p({type:String,readOnly:!0})],pc.prototype,"cdnUrl",null),c([p({type:String,readOnly:!0})],pc.prototype,"itemRelativeUrl",null),pc=c([R("esri.portal.PortalItemResource")],pc);const X5e=pc;let pb=class extends Be{constructor(t){super(t),this.created=null,this.rating=null}};c([p()],pb.prototype,"created",void 0),c([p()],pb.prototype,"rating",void 0),pb=c([R("esri.portal.PortalRating")],pb);const dO=pb;function Cv(e,t){var n;const r=(n=t==null?void 0:t.url)==null?void 0:n.path;if(e&&r&&(e=_a(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=_9(e,t.portalItem.itemUrl);i!=null&&Q5e.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=yR(e,t==null?void 0:t.portal))&&dk.test(e)?mF(e):e}function Ux(e,t,r=I_.YES){var i,s;if((e=e&&dk.test(e)?Ase(e):e)==null)return e;!jo(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=_a(e);if(t){const o=((i=t.verifyItemRelativeUrls)==null?void 0:i.rootPath)||((s=t.url)==null?void 0:s.path);if(o){const a=yR(o,t.portal),l=yR(n,t.portal);n=_9(l,a,a),n!=null&&n!==l&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=Pse(n,t==null?void 0:t.portal),jo(n)&&(n=Oa(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!jo(n)&&!sy(n)&&r===I_.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function fF(e,t,r){return Cv(e,r)}function Um(e,t,r,n){const i=Ux(e,n);i!==void 0&&(t[r]=i)}const dk=/\/items\/([^/]+)\/resources\/(.*)/,Q5e=/^\.\/resources\//;function eOe(e){const t=(e==null?void 0:e.match(dk))??null;return(t==null?void 0:t[1])??null}function tOe(e){const t=(e==null?void 0:e.match(dk))??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=WB(r);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=WB(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function Pse(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?OA(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function yR(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=g9();return H0(n,`${n.scheme}://${r}`)?OA(e,t.portalHostname,r):OA(e,r,t.portalHostname)}function mF(e){if(!e)return e||null;let t=e;return t&&St&&!St.findCredential(t)&&(t=_re(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function Ase(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&St&&!St.findCredential(t)&&(t=_re(t)),t}var I_;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(I_||(I_={}));const iwt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return I_},ensureMainOnlineDomain:Pse,fromCDNUrl:Ase,fromJSON:Cv,itemIdFromResourceUrl:eOe,prefixAndFilenameFromResourceUrl:tOe,read:fF,toCDNUrl:mF,toJSON:Ux,write:Um},Symbol.toStringTag,{value:"Module"}));var lf;const rOe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),nOe=new Set(["KML","GeoJson","CSV"]);let gt=lf=class extends Ax(Ba){static from(e){return BE(lf,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new Rt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var y;const e=((y=this.type)==null?void 0:y.toLowerCase())||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,a=!1,l=!1,u=!1,d=!1,h=!1,f=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),u=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=u&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":u?"spatiotemporal":d?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(u=t.includes("Spatiotemporal"),h=t.includes("Relational"),i=u||h?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(f=t.includes("Map"),i=f?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?er(r+i+n+".png"):null}get isLayer(){return this.type!=null&&rOe.has(this.type)}get itemCdnUrl(){return mF(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var r,n,i;const e=(r=this.portal)==null?void 0:r.restUrl;if(!e)return null;const t=this.owner||((i=(n=this.portal)==null?void 0:n.user)==null?void 0:i.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=ui.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof dO&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new dO({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:W(this.applicationProxies),avgRating:this.avgRating,categories:W(this.categories),created:W(this.created),culture:this.culture,description:this.description,extent:W(this.extent),groupCategories:W(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:W(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:W(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:W(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:W(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new lf({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var r;const e=this.toJSON();for(const n of["tags","typeKeywords","categories"])e[n]=(r=e[n])==null?void 0:r.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new dO(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},lf)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new q("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i==null?void 0:i.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new lf({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")sy(t)?n.query={data:t}:n.query={url:_a(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new q("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await Q(()=>import("./resourceUtils-DolXv-bh.js"),[],import.meta.url);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await Q(()=>import("./resourceUtils-DolXv-bh.js"),[],import.meta.url);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await Q(()=>import("./resourceUtils-DolXv-bh.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new q("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await Q(()=>import("./resourceUtils-DolXv-bh.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new X5e({portalItem:this,path:e})}toJSON(){var r,n;const e=this.extent,t={accessInformation:this.accessInformation,categories:W(this.categories),created:(r=this.created)==null?void 0:r.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(n=this.modified)==null?void 0:n.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:W(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:W(this.typeKeywords),url:this.url};return qxe(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new lf({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([p({type:["private","shared","org","public"]})],gt.prototype,"access",void 0),c([p()],gt.prototype,"accessInformation",void 0),c([p({type:String})],gt.prototype,"apiKey",void 0),c([p({json:{read:{source:"appProxies"}}})],gt.prototype,"applicationProxies",void 0),c([p()],gt.prototype,"avgRating",void 0),c([p()],gt.prototype,"categories",void 0),c([p({type:Date})],gt.prototype,"created",void 0),c([p()],gt.prototype,"culture",void 0),c([p()],gt.prototype,"description",void 0),c([p({readOnly:!0})],gt.prototype,"displayName",null),c([p({type:Rt})],gt.prototype,"extent",void 0),c([ue("extent")],gt.prototype,"readExtent",null),c([p()],gt.prototype,"groupCategories",void 0),c([p({readOnly:!0})],gt.prototype,"iconUrl",null),c([p()],gt.prototype,"id",void 0),c([p({readOnly:!0})],gt.prototype,"isLayer",null),c([p({type:Boolean,readOnly:!0})],gt.prototype,"isOrgItem",void 0),c([p()],gt.prototype,"itemControl",void 0),c([p({readOnly:!0})],gt.prototype,"itemPageUrl",null),c([p({readOnly:!0})],gt.prototype,"itemUrl",null),c([p()],gt.prototype,"licenseInfo",void 0),c([p({type:Date})],gt.prototype,"modified",void 0),c([p()],gt.prototype,"name",void 0),c([p()],gt.prototype,"numComments",void 0),c([p()],gt.prototype,"numRatings",void 0),c([p()],gt.prototype,"numViews",void 0),c([p()],gt.prototype,"owner",void 0),c([p()],gt.prototype,"ownerFolder",void 0),c([p({type:ui})],gt.prototype,"portal",void 0),c([p()],gt.prototype,"screenshots",void 0),c([p()],gt.prototype,"size",void 0),c([p()],gt.prototype,"snippet",void 0),c([p()],gt.prototype,"sourceJSON",void 0),c([p({type:String})],gt.prototype,"sourceUrl",void 0),c([p({type:String})],gt.prototype,"spatialReference",void 0),c([p()],gt.prototype,"tags",void 0),c([p()],gt.prototype,"thumbnail",void 0),c([p({readOnly:!0})],gt.prototype,"thumbnailUrl",null),c([p()],gt.prototype,"title",void 0),c([p()],gt.prototype,"type",void 0),c([p()],gt.prototype,"typeKeywords",void 0),c([p({type:String,json:{read(e,t){var r;if(nOe.has(t.type)){const n=(r=this.portal)==null?void 0:r.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],gt.prototype,"url",void 0),c([p({readOnly:!0})],gt.prototype,"userItemUrl",null),gt=lf=c([R("esri.portal.PortalItem")],gt);const S0=gt,Rse=Object.freeze(Object.defineProperty({__proto__:null,default:S0},Symbol.toStringTag,{value:"Module"}));async function iOe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await rF("esri/t9n/basemaps");return r[e]||r[t]}const nv={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return er("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return er("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return er("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return er("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return er("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return er("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return er("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return er("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return er("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return er("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return er("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return er("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return er("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return er("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return er("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return er("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},sOe=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let qd=class extends Be{constructor(t){super(t),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=No().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const r=B3e(t);return r==="pt"?"pt-BR":r&&sOe.has(r)?r:"global"}};c([p()],qd.prototype,"id",void 0),c([p()],qd.prototype,"language",void 0),c([p()],qd.prototype,"places",void 0),c([p()],qd.prototype,"serviceUrl",void 0),c([p()],qd.prototype,"worldview",void 0),qd=c([R("esri.support.BasemapStyle")],qd);const oOe=qd;function aOe(e){return Lse(e)||lOe(e)}function owt(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function lOe(e){return(e==null?void 0:e.type)==="scene"}function uOe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function uf(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function Lse(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function cOe(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const awt={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function jse(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function pk(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function lwt(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function dOe(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const r=e.activeLayer.tileMatrixSets;if(r)return r}return null}async function Nse(e,t){const r=St==null?void 0:St.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.substring(0,n)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await yr(i,{query:{f:"json"},responseType:"json",signal:s});return(o==null?void 0:o.owningSystemUrl)||null}function pOe(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function hOe(e){return pOe(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function fOe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function mOe(e){return!!fOe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const yOe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),gOe=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function vOe(e){return e.layerContainerType==="basemap"?yOe:e.layerContainerType==="operational-layers"?gOe:null}function bOe(e,t){if(t.restrictedWebMapWriting){const r=vOe(t);return r==null||r.has(e.type)&&!pk(e)}return!0}function wOe(e,t){var r;if(t)if(pk(e)){const n=Mx("featureCollection.layers",t),i=(r=n==null?void 0:n[0])==null?void 0:r.layerDefinition;i&&OG(e,i)}else e.type!=="group"&&OG(e,t)}function OG(e,t){"maxScale"in e&&(t.maxScale=t3(e.maxScale)??void 0),"minScale"in e&&(t.minScale=t3(e.minScale)??void 0)}function _Oe(e,t){if(wOe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=t3(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(pk(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function gR(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r!=null&&r.messages&&r.messages.push(new q("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(pk(e)&&!e.isTable)t=e.resourceInfo;else if(bOe(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&_Oe(e,t=W(t)),t}var hb;let xOe=0,_o=hb=class extends Ax(Ba){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+xOe++,this.baseLayers=new Ce,this.referenceLayers=new Ce;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&ie.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{ie.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=jr(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",yh(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=gR(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=gR(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",yh(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return pF(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>zM(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>zM(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new hb({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var r;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(n=>{const i=W(n);return i.url&&Fu(i.url)&&(i.url=`https:${i.url}`),i.templateUrl&&Fu(i.templateUrl)&&(i.templateUrl=`https:${i.templateUrl}`),i})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;_r(e);const i=[];if(t){const s=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(iOe(o).then(a=>{a&&this.read({title:a},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){var l,u;const n=(l=this.resourceInfo)==null?void 0:l.context,i=((u=this.portalItem)==null?void 0:u.portal)||(n==null?void 0:n.portal)||null,s=$Oe[(n==null?void 0:n.origin)||""]??"web-map",{populateOperationalLayers:o}=await Q(async()=>{const{populateOperationalLayers:d}=await import("./layersCreator-CuhIlyC1.js");return{populateOperationalLayers:d}},__vite__mapDeps([127,128,129,130]),import.meta.url),a=[];if(_r(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const d={context:{...n,origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},h=g=>s==="web-scene"&&g.layerType==="ArcGISSceneServiceLayer"||g.isReference,f=o(this.baseLayers,e.baseMapLayers.filter(g=>!h(g)),d);a.push(f);const y=o(this.referenceLayers,e.baseMapLayers.filter(h),d);a.push(y)}await Promise.allSettled(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=$i(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:SOe[e.type||""]??"web-map",portal:e.portal||ui.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||ui.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,n=(await yr(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview},signal:t==null?void 0:t.signal})).data,i=$i(r);return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=nv[e];return t?t.itemId?new hb({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):hb.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};c([p({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Ce}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],_o.prototype,"baseLayers",null),c([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],_o.prototype,"id",void 0),c([p({type:S0})],_o.prototype,"portalItem",void 0),c([p()],_o.prototype,"referenceLayers",null),c([p({readOnly:!0})],_o.prototype,"resourceInfo",void 0),c([p({type:Qe})],_o.prototype,"spatialReference",void 0),c([p({type:oOe})],_o.prototype,"style",void 0),c([p()],_o.prototype,"thumbnailUrl",void 0),c([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],_o.prototype,"title",void 0),c([ye("title")],_o.prototype,"writeTitle",null),_o=hb=c([R("esri.Basemap")],_o);const SOe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},$Oe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},eh=_o,TOe=Object.freeze(Object.defineProperty({__proto__:null,default:eh},Symbol.toStringTag,{value:"Module"})),I3={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Fse(e){return!!I3[e]||!!I3[e.toLowerCase()]}function yF(e){return I3[e]??I3[e.toLowerCase()]}function MOe(e){return[...yF(e)]}function pO(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Dse(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*pO(o,s,i+1/3)),Math.round(255*pO(o,s,i)),Math.round(255*pO(o,s,i-1/3)),n]}function COe(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}function x2(e){return za(a9(e),0,255)}function S2(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function $2(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let nT=class ni{static blendColors(t,r,n,i=new ni){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(n){const i=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),ni.fromArray(a,r)}return ni.fromArray(i.map(a=>parseFloat(a)),r)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return ni.fromArray(Dse(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new ni){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.substring(1,2),16),i=parseInt(t.substring(2,3),16),s=parseInt(t.substring(3,4),16),o=t.length===5?15:parseInt(t.substring(4),16);return ni.fromArray([n+16*n,i+16*i,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const n=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),s=parseInt(t.substring(5,7),16),o=t.length===7?255:parseInt(t.substring(7),16);return ni.fromArray([n,i,s,o/255],r)}default:return null}}static fromArray(t,r=new ni){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=Fse(t)?yF(t):null;return n&&ni.fromArray(n,r)||ni.fromRgb(t,r)||ni.fromHex(t,r)}static fromJSON(t){return t!=null?new ni([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ni.fromString(t,this):Array.isArray(t)?ni.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ni||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,n=(t==null?void 0:t.digits)??6,i=n===3||n===4,s=n===4||n===8,o=`#${$2(this.r,i)}${$2(this.g,i)}${$2(this.b,i)}${s?$2(Math.round(255*this.a),i):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ni.AlphaMode.ALWAYS){const r=x2(this.r),n=x2(this.g),i=x2(this.b);return t===ni.AlphaMode.ALWAYS||this.a!==1?[r,n,i,x2(255*this.a)]:[r,n,i]}clone(){return new ni(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(S2(this.r,0,255)),this.g=Math.round(S2(this.g,0,255)),this.b=Math.round(S2(this.b,0,255)),this.a=S2(this.a,0,1),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};nT.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(nT||(nT={}));const it=nT;function uwt(e){}function EOe(e){return()=>e}function Ze(e,t={}){const r=e instanceof kt?e:new kt(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),p(n)}var vR;let iT=vR=class extends ae{constructor(e){super(e),this.type="none"}clone(){return new vR({type:this.type})}};c([Ze({none:"none",stayAbove:"stay-above"})],iT.prototype,"type",void 0),iT=vR=c([R("esri.ground.NavigationConstraint")],iT);function hk(e){const t=a9(100*(1-e));return Math.max(0,Math.min(t,100))}function O_(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var bR;let hc=bR=class extends Ax(Ba){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Ce;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&ie.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{ms(e)||ie.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)jr(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",yh(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};EOe(s)().write(o,n)&&i.push(o)}else n!=null&&n.messages&&n.messages.push(new q("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return pF(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Q(()=>import("./ElevationQuery-BAlB_tCN.js"),[],import.meta.url);_r(t);const n=new r,i=this.layers.filter(PG).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Q(()=>import("./ElevationQuery-BAlB_tCN.js"),[],import.meta.url);_r(t);const n=new r,i=this.layers.filter(PG).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:W(this.surfaceColor),navigationConstraint:W(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new bR({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=(t==null?void 0:t.origin)||"web-scene",i=(t==null?void 0:t.portal)||null,s=(t==null?void 0:t.url)||null,{populateOperationalLayers:o}=await Q(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-CuhIlyC1.js");return{populateOperationalLayers:l}},__vite__mapDeps([127,128,129,130]),import.meta.url);_r(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}await Promise.allSettled(a)}};function kOe(e){return e&&"createElevationSampler"in e}function PG(e){return e.type==="elevation"||kOe(e)}c([p({json:{read:!1}})],hc.prototype,"layers",null),c([ye("layers")],hc.prototype,"writeLayers",null),c([p({readOnly:!0})],hc.prototype,"resourceInfo",void 0),c([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:mr,read:{reader:O_,source:"transparency"},write:{writer:(e,t)=>{t.transparency=hk(e)},target:"transparency"}}})],hc.prototype,"opacity",void 0),c([p({type:it,json:{type:[mr],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],hc.prototype,"surfaceColor",void 0),c([p({type:iT,json:{write:!0}})],hc.prototype,"navigationConstraint",void 0),hc=bR=c([R("esri.Ground")],hc);const O3=hc,T2=new WeakMap;function zse(e){return!e.destroyed&&(T2.has(e)||e.addHandles([Se(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||zse(t))},t=>T2.set(e,t),Io),gr(()=>T2.delete(e))]),T2.get(e))}function IOe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function OOe(e){var t,r;return!(!IOe(e)||!((r=(t=hOe(e))==null?void 0:t.operations)!=null&&r.supportsEditing)||"editingEnabled"in e&&!mOe(e)||zse(e))}const POe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,AOe="screenUtils.toPt: input not recognized!",Vse=96;function ROe(e){return e?e/72*Vse:0}function Ua(e){return e?72*e/Vse:0}function Bt(e){if(typeof e=="string"){const t=e.match(POe);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?Ua(r):r;return i?-s:s}return console.warn(AOe),null}return e}function Fi(e=0,t=0){return{x:e,y:t}}function cwt(e=0,t=0){return[e,t]}function fk(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function LOe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function jOe(e,t,r,n,i,s,o,a,l,u,d,h,f,y,g,v){const b=new Float32Array(16);return b[0]=e,b[1]=t,b[2]=r,b[3]=n,b[4]=i,b[5]=s,b[6]=o,b[7]=a,b[8]=l,b[9]=u,b[10]=d,b[11]=h,b[12]=f,b[13]=y,b[14]=g,b[15]=v,b}function NOe(e,t){return new Float32Array(e,t,16)}const FOe=fk();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:FOe,clone:LOe,create:fk,createView:NOe,fromValues:jOe},Symbol.toStringTag,{value:"Module"}));function DOe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function kh(e,t,r,n,i,s,o,a,l,u,d,h,f,y,g,v,b){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e[9]=d,e[10]=h,e[11]=f,e[12]=y,e[13]=g,e[14]=v,e[15]=b,e}function mk(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ih(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function zOe(e,t){return Bse(e,t)||mk(e),e}function Bse(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],h=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],_=t[15],x=r*a-n*o,S=r*l-i*o,$=r*u-s*o,C=n*l-i*a,k=n*u-s*a,E=i*u-s*l,P=d*v-h*g,T=d*b-f*g,M=d*_-y*g,O=h*b-f*v,j=h*_-y*v,N=f*_-y*b;let L=x*N-S*j+$*O+C*M-k*T+E*P;return L?(L=1/L,e[0]=(a*N-l*j+u*O)*L,e[1]=(i*j-n*N-s*O)*L,e[2]=(v*E-b*k+_*C)*L,e[3]=(f*k-h*E-y*C)*L,e[4]=(l*M-o*N-u*T)*L,e[5]=(r*N-i*M+s*T)*L,e[6]=(b*$-g*E-_*S)*L,e[7]=(d*E-f*$+y*S)*L,e[8]=(o*j-a*M+u*P)*L,e[9]=(n*M-r*j-s*P)*L,e[10]=(g*k-v*$+_*x)*L,e[11]=(h*$-d*k-y*x)*L,e[12]=(a*T-o*O-l*P)*L,e[13]=(r*O-n*T+i*P)*L,e[14]=(v*S-g*C-b*x)*L,e[15]=(d*C-h*S+f*x)*L,e):null}function VOe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],h=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],_=t[15];return e[0]=a*(f*_-y*b)-h*(l*_-u*b)+v*(l*y-u*f),e[1]=-(n*(f*_-y*b)-h*(i*_-s*b)+v*(i*y-s*f)),e[2]=n*(l*_-u*b)-a*(i*_-s*b)+v*(i*u-s*l),e[3]=-(n*(l*y-u*f)-a*(i*y-s*f)+h*(i*u-s*l)),e[4]=-(o*(f*_-y*b)-d*(l*_-u*b)+g*(l*y-u*f)),e[5]=r*(f*_-y*b)-d*(i*_-s*b)+g*(i*y-s*f),e[6]=-(r*(l*_-u*b)-o*(i*_-s*b)+g*(i*u-s*l)),e[7]=r*(l*y-u*f)-o*(i*y-s*f)+d*(i*u-s*l),e[8]=o*(h*_-y*v)-d*(a*_-u*v)+g*(a*y-u*h),e[9]=-(r*(h*_-y*v)-d*(n*_-s*v)+g*(n*y-s*h)),e[10]=r*(a*_-u*v)-o*(n*_-s*v)+g*(n*u-s*a),e[11]=-(r*(a*y-u*h)-o*(n*y-s*h)+d*(n*u-s*a)),e[12]=-(o*(h*b-f*v)-d*(a*b-l*v)+g*(a*f-l*h)),e[13]=r*(h*b-f*v)-d*(n*b-i*v)+g*(n*f-i*h),e[14]=-(r*(a*b-l*v)-o*(n*b-i*v)+g*(n*l-i*a)),e[15]=r*(a*f-l*h)-o*(n*f-i*h)+d*(n*l-i*a),e}function BOe(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8],d=e[9],h=e[10],f=e[11],y=e[12],g=e[13],v=e[14],b=e[15];return(t*o-r*s)*(h*b-f*v)-(t*a-n*s)*(d*b-f*g)+(t*l-i*s)*(d*v-h*g)+(r*a-n*o)*(u*b-f*y)-(r*l-i*o)*(u*v-h*y)+(n*l-i*a)*(u*g-d*y)}function Use(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],h=t[8],f=t[9],y=t[10],g=t[11],v=t[12],b=t[13],_=t[14],x=t[15];let S=r[0],$=r[1],C=r[2],k=r[3];return e[0]=S*n+$*a+C*h+k*v,e[1]=S*i+$*l+C*f+k*b,e[2]=S*s+$*u+C*y+k*_,e[3]=S*o+$*d+C*g+k*x,S=r[4],$=r[5],C=r[6],k=r[7],e[4]=S*n+$*a+C*h+k*v,e[5]=S*i+$*l+C*f+k*b,e[6]=S*s+$*u+C*y+k*_,e[7]=S*o+$*d+C*g+k*x,S=r[8],$=r[9],C=r[10],k=r[11],e[8]=S*n+$*a+C*h+k*v,e[9]=S*i+$*l+C*f+k*b,e[10]=S*s+$*u+C*y+k*_,e[11]=S*o+$*d+C*g+k*x,S=r[12],$=r[13],C=r[14],k=r[15],e[12]=S*n+$*a+C*h+k*v,e[13]=S*i+$*l+C*f+k*b,e[14]=S*s+$*u+C*y+k*_,e[15]=S*o+$*d+C*g+k*x,e}function UOe(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],u=t[3],d=t[4],h=t[5],f=t[6],y=t[7],g=t[8],v=t[9],b=t[10],_=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=u,e[4]=d,e[5]=h,e[6]=f,e[7]=y,e[8]=g,e[9]=v,e[10]=b,e[11]=_,e[12]=o*n+d*i+g*s+t[12],e[13]=a*n+h*i+v*s+t[13],e[14]=l*n+f*i+b*s+t[14],e[15]=u*n+y*i+_*s+t[15]}return e}function GOe(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function WOe(e,t,r,n){let i,s,o,a,l,u,d,h,f,y,g,v,b,_,x,S,$,C,k,E,P,T,M,O,j=n[0],N=n[1],L=n[2],z=Math.sqrt(j*j+N*N+L*L);return z<As()?null:(z=1/z,j*=z,N*=z,L*=z,i=Math.sin(r),s=Math.cos(r),o=1-s,a=t[0],l=t[1],u=t[2],d=t[3],h=t[4],f=t[5],y=t[6],g=t[7],v=t[8],b=t[9],_=t[10],x=t[11],S=j*j*o+s,$=N*j*o+L*i,C=L*j*o-N*i,k=j*N*o-L*i,E=N*N*o+s,P=L*N*o+j*i,T=j*L*o+N*i,M=N*L*o-j*i,O=L*L*o+s,e[0]=a*S+h*$+v*C,e[1]=l*S+f*$+b*C,e[2]=u*S+y*$+_*C,e[3]=d*S+g*$+x*C,e[4]=a*k+h*E+v*P,e[5]=l*k+f*E+b*P,e[6]=u*k+y*E+_*P,e[7]=d*k+g*E+x*P,e[8]=a*T+h*M+v*O,e[9]=l*T+f*M+b*O,e[10]=u*T+y*M+_*O,e[11]=d*T+g*M+x*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function qOe(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],d=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+u*n,e[5]=o*i+d*n,e[6]=a*i+h*n,e[7]=l*i+f*n,e[8]=u*i-s*n,e[9]=d*i-o*n,e[10]=h*i-a*n,e[11]=f*i-l*n,e}function HOe(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[8],d=t[9],h=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-u*n,e[1]=o*i-d*n,e[2]=a*i-h*n,e[3]=l*i-f*n,e[8]=s*n+u*i,e[9]=o*n+d*i,e[10]=a*n+h*i,e[11]=l*n+f*i,e}function ZOe(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[4],d=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+u*n,e[1]=o*i+d*n,e[2]=a*i+h*n,e[3]=l*i+f*n,e[4]=u*i-s*n,e[5]=d*i-o*n,e[6]=h*i-a*n,e[7]=f*i-l*n,e}function YOe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function JOe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function KOe(e,t,r){if(t===0)return mk(e);let n,i,s,o=r[0],a=r[1],l=r[2],u=Math.sqrt(o*o+a*a+l*l);return u<As()?null:(u=1/u,o*=u,a*=u,l*=u,n=Math.sin(t),i=Math.cos(t),s=1-i,e[0]=o*o*s+i,e[1]=a*o*s+l*n,e[2]=l*o*s-a*n,e[3]=0,e[4]=o*a*s-l*n,e[5]=a*a*s+i,e[6]=l*a*s+o*n,e[7]=0,e[8]=o*l*s+a*n,e[9]=a*l*s-o*n,e[10]=l*l*s+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function XOe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function QOe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ePe(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Gse(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=n+n,l=i+i,u=s+s,d=n*a,h=n*l,f=n*u,y=i*l,g=i*u,v=s*u,b=o*a,_=o*l,x=o*u;return e[0]=1-(y+v),e[1]=h+x,e[2]=f-_,e[3]=0,e[4]=h-x,e[5]=1-(d+v),e[6]=g+b,e[7]=0,e[8]=f+_,e[9]=g-b,e[10]=1-(d+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function tPe(e,t){const r=rPe,n=-t[0],i=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],h=n*n+i*i+s*s+o*o;return h>0?(r[0]=2*(a*o+d*n+l*s-u*i)/h,r[1]=2*(l*o+d*i+u*n-a*s)/h,r[2]=2*(u*o+d*s+a*i-l*n)/h):(r[0]=2*(a*o+d*n+l*s-u*i),r[1]=2*(l*o+d*i+u*n-a*s),r[2]=2*(u*o+d*s+a*i-l*n)),Gse(e,t,r),e}const rPe=Ha();function nPe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function iPe(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],d=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+u*u+d*d),e}function sPe(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function oPe(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3],l=i+i,u=s+s,d=o+o,h=i*l,f=i*u,y=i*d,g=s*u,v=s*d,b=o*d,_=a*l,x=a*u,S=a*d,$=n[0],C=n[1],k=n[2];return e[0]=(1-(g+b))*$,e[1]=(f+S)*$,e[2]=(y-x)*$,e[3]=0,e[4]=(f-S)*C,e[5]=(1-(h+b))*C,e[6]=(v+_)*C,e[7]=0,e[8]=(y+x)*k,e[9]=(v-_)*k,e[10]=(1-(h+g))*k,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function aPe(e,t,r,n,i){const s=t[0],o=t[1],a=t[2],l=t[3],u=s+s,d=o+o,h=a+a,f=s*u,y=s*d,g=s*h,v=o*d,b=o*h,_=a*h,x=l*u,S=l*d,$=l*h,C=n[0],k=n[1],E=n[2],P=i[0],T=i[1],M=i[2],O=(1-(v+_))*C,j=(y+$)*C,N=(g-S)*C,L=(y-$)*k,z=(1-(f+_))*k,B=(b+x)*k,U=(g+S)*E,F=(b-x)*E,D=(1-(f+v))*E;return e[0]=O,e[1]=j,e[2]=N,e[3]=0,e[4]=L,e[5]=z,e[6]=B,e[7]=0,e[8]=U,e[9]=F,e[10]=D,e[11]=0,e[12]=r[0]+P-(O*P+L*T+U*M),e[13]=r[1]+T-(j*P+z*T+F*M),e[14]=r[2]+M-(N*P+B*T+D*M),e[15]=1,e}function lPe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,u=r*o,d=n*o,h=n*a,f=i*o,y=i*a,g=i*l,v=s*o,b=s*a,_=s*l;return e[0]=1-h-g,e[1]=d+_,e[2]=f-b,e[3]=0,e[4]=d-_,e[5]=1-u-g,e[6]=y+v,e[7]=0,e[8]=f+b,e[9]=y-v,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function uPe(e,t,r,n,i,s,o){const a=1/(r-t),l=1/(i-n),u=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(o+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*u,e[15]=0,e}function cPe(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function dPe(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),u=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(i-s)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function pPe(e,t,r,n,i,s,o){const a=1/(t-r),l=1/(n-i),u=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(o+s)*u,e[15]=1,e}function hPe(e,t,r,n){const i=t[0],s=t[1],o=t[2];let a=i-r[0],l=s-r[1],u=o-r[2];const d=As();if(Math.abs(a)<d&&Math.abs(l)<d&&Math.abs(u)<d)return void mk(e);let h=1/Math.sqrt(a*a+l*l+u*u);a*=h,l*=h,u*=h;const f=n[0],y=n[1],g=n[2];let v=y*u-g*l,b=g*a-f*u,_=f*l-y*a;h=Math.sqrt(v*v+b*b+_*_),h?(h=1/h,v*=h,b*=h,_*=h):(v=0,b=0,_=0);let x=l*_-u*b,S=u*v-a*_,$=a*b-l*v;h=Math.sqrt(x*x+S*S+$*$),h?(h=1/h,x*=h,S*=h,$*=h):(x=0,S=0,$=0),e[0]=v,e[1]=x,e[2]=a,e[3]=0,e[4]=b,e[5]=S,e[6]=l,e[7]=0,e[8]=_,e[9]=$,e[10]=u,e[11]=0,e[12]=-(v*i+b*s+_*o),e[13]=-(x*i+S*s+$*o),e[14]=-(a*i+l*s+u*o),e[15]=1}function fPe(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=n[0],l=n[1],u=n[2];let d=i-r[0],h=s-r[1],f=o-r[2],y=d*d+h*h+f*f;y>0&&(y=1/Math.sqrt(y),d*=y,h*=y,f*=y);let g=l*f-u*h,v=u*d-a*f,b=a*h-l*d;return y=g*g+v*v+b*b,y>0&&(y=1/Math.sqrt(y),g*=y,v*=y,b*=y),e[0]=g,e[1]=v,e[2]=b,e[3]=0,e[4]=h*b-f*v,e[5]=f*g-d*b,e[6]=d*v-h*g,e[7]=0,e[8]=d,e[9]=h,e[10]=f,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function mPe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function yPe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function gPe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Wse(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function vPe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function bPe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function wPe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function _Pe(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],f=e[10],y=e[11],g=e[12],v=e[13],b=e[14],_=e[15],x=t[0],S=t[1],$=t[2],C=t[3],k=t[4],E=t[5],P=t[6],T=t[7],M=t[8],O=t[9],j=t[10],N=t[11],L=t[12],z=t[13],B=t[14],U=t[15],F=As();return Math.abs(r-x)<=F*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-S)<=F*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(i-$)<=F*Math.max(1,Math.abs(i),Math.abs($))&&Math.abs(s-C)<=F*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(o-k)<=F*Math.max(1,Math.abs(o),Math.abs(k))&&Math.abs(a-E)<=F*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(l-P)<=F*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(u-T)<=F*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(d-M)<=F*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(h-O)<=F*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(f-j)<=F*Math.max(1,Math.abs(f),Math.abs(j))&&Math.abs(y-N)<=F*Math.max(1,Math.abs(y),Math.abs(N))&&Math.abs(g-L)<=F*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(v-z)<=F*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(b-B)<=F*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs(_-U)<=F*Math.max(1,Math.abs(_),Math.abs(U))}function xPe(e){const t=As(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],d=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}function SPe(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const $Pe=Use,TPe=Wse;Object.freeze(Object.defineProperty({__proto__:null,add:gPe,adjoint:VOe,copy:DOe,determinant:BOe,equals:_Pe,exactEquals:wPe,frob:yPe,fromQuat:lPe,fromQuat2:tPe,fromRotation:KOe,fromRotationTranslation:Gse,fromRotationTranslationScale:oPe,fromRotationTranslationScaleOrigin:aPe,fromScaling:JOe,fromTranslation:YOe,fromXRotation:XOe,fromYRotation:QOe,fromZRotation:ePe,frustum:uPe,getRotation:sPe,getScaling:iPe,getTranslation:nPe,hasIdentityRotation:SPe,identity:mk,invert:Bse,invertOrIdentity:zOe,isOrthoNormal:xPe,lookAt:hPe,mul:$Pe,multiply:Use,multiplyScalar:vPe,multiplyScalarAndAdd:bPe,ortho:pPe,perspective:cPe,perspectiveFromFieldOfView:dPe,rotate:WOe,rotateX:qOe,rotateY:HOe,rotateZ:ZOe,scale:GOe,set:kh,str:mPe,sub:TPe,subtract:Wse,targetTo:fPe,translate:UOe,transpose:Ih},Symbol.toStringTag,{value:"Module"}));const MPe=(e,t)=>{const r=kh(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Ih(r,r)},CPe=(e,t)=>{const r=kh(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Ih(r,r)},EPe=(e,t)=>{const r=1-t,n=kh(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Ih(n,n)},kPe=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=kh(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return Ih(i,i)},IPe=(e,t)=>{const r=1-2*t,n=kh(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Ih(n,n)},OPe=(e,t)=>{const r=kh(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Ih(r,r)},PPe=(e,t)=>{const r=1-t,n=kh(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Ih(n,n)};let qse=class Hse{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=Ys(t.strength,r.strength,n),this.radius=Ys(t.radius,r.radius,n),this.threshold=Ys(t.threshold,r.threshold,n)}clone(){return new Hse(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Iw(this.radius),strength:this.strength,threshold:this.threshold}}},Zse=class Yse{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(Ys(t.radius,r.radius,n))}clone(){return new Yse(this.radius)}toJSON(){return{type:"blur",radius:Iw(this.radius)}}},wR=class Jse{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=Ys(t.amount,r.amount,n),this._updateMatrix()}clone(){return new Jse(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||fk();switch(this.type){case"brightness":this._colorMatrix=MPe(t,this.amount);break;case"contrast":this._colorMatrix=CPe(t,this.amount);break;case"grayscale":this._colorMatrix=EPe(t,this.amount);break;case"invert":this._colorMatrix=IPe(t,this.amount);break;case"saturate":this._colorMatrix=OPe(t,this.amount);break;case"sepia":this._colorMatrix=PPe(t,this.amount)}}},Kse=class Xse{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=Ys(t.offsetX,r.offsetX,n),this.offsetY=Ys(t.offsetY,r.offsetY,n),this.blurRadius=Ys(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(Ys(t.color[0],r.color[0],n)),this.color[1]=Math.round(Ys(t.color[1],r.color[1],n)),this.color[2]=Math.round(Ys(t.color[2],r.color[2],n)),this.color[3]=Ys(t.color[3],r.color[3],n)}clone(){return new Xse(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Iw(this.offsetX),yoffset:Iw(this.offsetY),blurRadius:Iw(this.blurRadius),color:t}}},Qse=class eoe{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=Ys(t.angle,r.angle,n),this._updateMatrix()}clone(){return new eoe(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||fk();this._colorMatrix=kPe(t,this.angle)}},toe=class roe{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=Ys(t.amount,r.amount,n)}clone(){return new roe(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Ys(e,t,r){return e+(t-e)*r}function Iw(e){return Math.round(1e3*Ua(e))/1e3}function APe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new wR(e.type,0);case"saturate":case"brightness":case"contrast":return new wR(e.type,1);case"opacity":return new toe(1);case"hue-rotate":return new Qse(0);case"blur":return new Zse(0);case"drop-shadow":return new Kse(0,0,0,[...yF("transparent")]);case"bloom":return new qse(0,0,1)}}function RPe(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function LPe(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(APe(r[i]))}function jPe(e){const t=e[0];return!!t&&"type"in t}function NPe(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}const AG=()=>ie.getLogger("esri.support.basemapUtils");function FPe(){return{}}function DPe(e){for(const t in e){const r=e[t];jr(r),delete e[t]}}function zPe(e,t){let r;if(typeof e=="string"){const n=e in nv,i=!n&&e.includes("/");if(!n&&!i){const s=Object.entries(nv).filter(([o,a])=>Ft.apiKey&&!a.classic||!Ft.apiKey&&(a.classic||a.is3d)).map(([o])=>`"${o}"`).sort().join(", ");return AG().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`),null}t&&(r=t[e]),r||(r=n?eh.fromId(e):new eh({style:{id:e}}),t&&(t[e]=r))}else r=Xr(eh,e);return r!=null&&r.destroyed&&(AG().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function VPe(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(r=>r.type==="scene")}function BPe(e){var t,r;return!!((r=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&r.some(n=>n.toLowerCase()==="beta"))}function UPe(e){let t=null;const r=_R(e),n=!(r!=null&&r.baseLayers.length);for(const i in nv){const s=ioe(r,noe(nv[i]),{mustMatchReferences:n});if(s==="equal"){t=i;break}s==="base-layers-equal"&&(t=i)}return t}function GPe(e,t){var r,n;return e===t||((r=e==null?void 0:e.portalItem)==null?void 0:r.id)!=null&&e.portalItem.id===((n=t==null?void 0:t.portalItem)==null?void 0:n.id)?!0:ioe(_R(e),_R(t),{mustMatchReferences:!0})==="equal"}function WPe(e,t){var s;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const r=t.baseLayers.at(0);switch(r.loadStatus){case"not-loaded":r.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const n=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(s=r.tileInfo)==null?void 0:s.spatialReference:r.spatialReference]).filter(Boolean),i=e.spatialReference;return i?{spatialReference:n.find(o=>i.equals(o))??n[0]??null,updating:!1}:{spatialReference:n[0],updating:!1}}function _R(e){return e?!e.loaded&&e.resourceInfo?noe(e.resourceInfo.data):{baseLayers:RG(e.baseLayers),referenceLayers:RG(e.referenceLayers)}:null}function RG(e){return(Ce.isCollection(e)?e.toArray():e).map(qPe)}function qPe(e){var t,r;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:soe("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(n=>({id:n.id,visible:n.visible})),activeLayerId:e.type==="wmts"?(r=e.activeLayer)==null?void 0:r.id:void 0}}function LG(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function noe(e){return e?{baseLayers:jG((e.baseMapLayers??[]).filter(t=>!LG(t))),referenceLayers:jG((e.baseMapLayers??[]).filter(t=>LG(t)))}:null}function jG(e){return e.map(t=>HPe(t))}function HPe(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:soe(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function ioe(e,t,r){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":NG(e.baseLayers,t.baseLayers)?NG(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function NG(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!ZPe(e[r],t[r]))return!1;return!0}function ZPe(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!NPe(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let r=0;r<e.sublayers.length;r++){const n=e.sublayers.at(r),i=t.sublayers.at(r);if((n==null?void 0:n.id)!==(i==null?void 0:i.id)||(n==null?void 0:n.visible)!==(i==null?void 0:i.visible))return!1}}return!0}function soe(e){return e?Oa(e).replace(/^\s*https?:/i,"").toLowerCase():""}function YPe(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const r=UPe(e);return r?nv[r].thumbnailUrl:b_(e.baseLayers,JPe)}function JPe(e){var t;return"portalItem"in e?(t=e.portalItem)==null?void 0:t.thumbnailUrl:void 0}function ooe(e){return new Vm({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function hO(e){for(const t of e.values())t==null||t.destroy();e.clear()}const FG={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function KPe(e){let t=null;if(typeof e=="string")if(e in FG){const r=FG[e];t=new O3({resourceInfo:{data:{layers:[r]}}})}else ie.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Xr(O3,e);return t}const DG={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function fO(e,t,r,n=zu){const i=new Bo(Q9(n)),s=ft.fromJSDate(e,{zone:i}),o=r==="decades"||r==="centuries"?"year":loe(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function dwt(e,t,r="milliseconds"){const n=e.getTime(),i=aoe(t,r,"milliseconds");return new Date(n+i)}function zG(e,t,r=zu){const n=new Bo(Q9(r)),i=ft.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const o=i.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=loe(t);return i.startOf(s).toJSDate()}function aoe(e,t,r){return e===0?0:e*DG[t]/DG[r]}function loe(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var ra;let Co=ra=class extends ae{static get allTime(){return VG}static get empty(){return XPe}static fromArray(e){return new ra({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(ra.allTime)}get isEmpty(){return this.equals(ra.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new ra({end:this.end,start:this.start})}equals(e){var s,o,a,l;if(!e)return!1;const t=((s=this.start)==null?void 0:s.getTime())??this.start,r=((o=this.end)==null?void 0:o.getTime())??this.end,n=((a=e.start)==null?void 0:a.getTime())??e.start,i=((l=e.end)==null?void 0:l.getTime())??e.end;return t===n&&r===i}expandTo(e,t=zu){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=zG(r,e,t));let n=this.end;if(n){const i=zG(n,e,t);n=n.getTime()===i.getTime()?i:fO(i,1,e,t)}return new ra({start:r,end:n})}intersection(e){var a,l,u,d;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return ra.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((a=this.start)==null?void 0:a.getTime())??-1/0,r=((l=this.end)==null?void 0:l.getTime())??1/0,n=((u=e.start)==null?void 0:u.getTime())??-1/0,i=((d=e.end)==null?void 0:d.getTime())??1/0;let s,o;return n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),s==null||o==null||isNaN(s)||isNaN(o)?ra.empty:new ra({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,r=zu){if(this.isEmpty||this.isAllTime)return this.clone();const n=new ra,{start:i,end:s}=this;return i!=null&&(n.start=fO(i,e,t,r)),s!=null&&(n.end=fO(s,e,t,r)),n}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return VG.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new ra({start:t,end:r})}};c([p({type:Date,json:{write:{allowNull:!0}}})],Co.prototype,"end",void 0),c([ue("end")],Co.prototype,"readEnd",null),c([ye("end")],Co.prototype,"writeEnd",null),c([p({readOnly:!0,json:{read:!1}})],Co.prototype,"isAllTime",null),c([p({readOnly:!0,json:{read:!1}})],Co.prototype,"isEmpty",null),c([p({type:Date,json:{write:{allowNull:!0}}})],Co.prototype,"start",void 0),c([ue("start")],Co.prototype,"readStart",null),c([ye("start")],Co.prototype,"writeStart",null),Co=ra=c([R("esri.TimeExtent")],Co);const VG=new Co,XPe=new Co({start:void 0,end:void 0}),Vu=Co;let uoe=0;const yd=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+uoe++})}};return t=c([R("esri.core.Identifiable")],t),t},gF=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:uoe++})}};return t=c([R("esri.core.Identifiable.NumericIdentifiable")],t),t};let BG=class extends yd(class{}){};BG=c([R("esri.core.Identifiable")],BG);async function QPe(e){var n;const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await Q(async()=>{const{fromItem:i}=await import("./portalLayers-DbAO4hbN.js").then(s=>s.p);return{fromItem:i}},__vite__mapDeps([128,129,130]),import.meta.url);try{return await r(t)}catch(i){const s=t==null?void 0:t.portalItem,o=(s==null?void 0:s.id)||"unset",a=((n=s==null?void 0:s.portal)==null?void 0:n.url)||Ft.portalUrl;throw ie.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+o+"')",i),i}}let e4e=0,Fn=class extends Za.EventedMixin(yd(Ba)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Rt(-180,-90,180,90,Qe.WGS84),this.id=Date.now().toString(16)+"-layer-"+e4e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Qe.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await Q(async()=>{const{fromUrl:n}=await import("./arcgisLayers-CmUQODIU.js");return{fromUrl:n}},__vite__mapDeps([131,129,130]),import.meta.url)).fromUrl(r)}static fromPortalItem(t){return QPe(t)}initialize(){this.when().catch(t=>{ms(t)||ie.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return $i(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await yr(t,{query:{f:"json"},responseType:"json"})).data;throw new q("layer:no-attribution-data","Layer does not have attribution data")}};c([p({type:String})],Fn.prototype,"attributionDataUrl",void 0),c([p({type:Rt})],Fn.prototype,"fullExtent",void 0),c([p({readOnly:!0})],Fn.prototype,"hasAttributionData",null),c([p({type:String,clonable:!1})],Fn.prototype,"id",void 0),c([p({type:Boolean,nonNullable:!0})],Fn.prototype,"legendEnabled",void 0),c([p({type:["show","hide","hide-children"]})],Fn.prototype,"listMode",void 0),c([p({type:Number,range:{min:0,max:1},nonNullable:!0})],Fn.prototype,"opacity",void 0),c([p({clonable:!1})],Fn.prototype,"parent",void 0),c([p({readOnly:!0})],Fn.prototype,"parsedUrl",null),c([p({type:Boolean,readOnly:!0})],Fn.prototype,"persistenceEnabled",void 0),c([p({type:Boolean})],Fn.prototype,"popupEnabled",void 0),c([p({type:Boolean})],Fn.prototype,"attributionVisible",void 0),c([p({type:Qe})],Fn.prototype,"spatialReference",void 0),c([p({type:String})],Fn.prototype,"title",void 0),c([p({readOnly:!0,json:{read:!1}})],Fn.prototype,"type",void 0),c([p()],Fn.prototype,"url",void 0),c([p({type:Vu})],Fn.prototype,"visibilityTimeExtent",void 0),c([p({type:Boolean,nonNullable:!0})],Fn.prototype,"visible",void 0),Fn=c([R("esri.layers.Layer")],Fn);const Gx=Fn;function xR(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.at(s),(n==null?void 0:n[t])===r)return n;if((n==null?void 0:n.type)==="group"&&(i=xR(n.layers,t,r),i))return i}}const coe=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Ce;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||ie.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void ie.getLogger(this).error("#add()","Cannot add layer to itself.");n(o.item)}),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",yh(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof Gx){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else Ch(r)?r.then(s=>{this.destroyed||this.add(s,n)}):ie.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return xR(this.layers,"id",r)}findLayerByUid(r){return xR(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return c([p()],t.prototype,"layers",null),t=c([R("esri.support.LayersMixin")],t),t};function SR(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.at(n);if(s[t]===r)return s;if((s==null?void 0:s.type)==="group"){const o=SR(s.tables,t,r);if(o)return o}}}const doe=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Ce,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,i.type!=="feature"&&ie.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",yh(r,this._get("tables")))}findTableById(r){return SR(this.tables,"id",r)}findTableByUid(r){return SR(this.tables,"uid",r)}};return c([p()],t.prototype,"tables",null),t=c([R("esri.support.TablesMixin")],t),t};let al=class extends doe(coe(Za.EventedMixin(Be))){constructor(t){super(t),this.allLayers=new Vm({getCollections:()=>{var r,n,i;return[(r=this.basemap)==null?void 0:r.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(i=this.basemap)==null?void 0:i.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=ooe(this),this.basemap=null,this.editableLayers=new Vm({getCollections:()=>[this.allLayers],itemFilterFunction:OOe}),this.ground=new O3,this._basemapCache=FPe()}destroy(){DPe(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=jr(this.basemap),jr(this.ground),this._set("ground",null)}castBasemap(t){return zPe(t,this._basemapCache)}castGround(t){return KPe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};c([p({readOnly:!0,dependsOn:[]})],al.prototype,"allLayers",void 0),c([p({readOnly:!0})],al.prototype,"allTables",void 0),c([p({type:eh,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],al.prototype,"basemap",void 0),c([tr("basemap")],al.prototype,"castBasemap",null),c([p({readOnly:!0})],al.prototype,"editableLayers",void 0),c([p({type:O3,nonNullable:!0})],al.prototype,"ground",void 0),c([tr("ground")],al.prototype,"castGround",null),c([p()],al.prototype,"undoRedo",void 0),al=c([R("esri.Map")],al);const poe=al;let Ow=class extends Ce{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Ce.ofType(this.itemType.Type))(t):new Ce(t)}};function $R(e,t){return{type:e,cast:Ise,set(r){const n=yh(r,this._get(t),e);n.owner=this,this._set(t,n)}}}c([p()],Ow.prototype,"owner",null),Ow=c([R("esri.core.support.OwningCollection")],Ow);var fb;const P3=ys()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),hoe=P3.jsonValues.slice();Fxe(hoe,"orthometric");const Pw=ys()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let ll=fb=class extends ae{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return P3.write(e,t,r)}readHeightModel(e,t,r){return P3.read(e)||(r!=null&&r.messages&&r.messages.push(t4e(e,{context:r})),null)}readHeightUnit(e,t,r){return Pw.read(e)||(r!=null&&r.messages&&r.messages.push(UG(e,{context:r})),null)}readHeightUnitService(e,t,r){return qre(e)||Pw.read(e)||(r!=null&&r.messages&&r.messages.push(UG(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new fb({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=pMe(t);return new fb({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new fb;return t.read(e,{origin:"web-scene"}),t}};function UG(e,t){return new Da("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function t4e(e,t){return new Da("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([p({type:P3.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:hoe,default:"ellipsoidal"}}}})],ll.prototype,"heightModel",void 0),c([ye("web-scene","heightModel")],ll.prototype,"writeHeightModel",null),c([ue(["web-scene","service"],"heightModel")],ll.prototype,"readHeightModel",null),c([p({type:Pw.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Pw.jsonValues,write:Pw.write}}}})],ll.prototype,"heightUnit",void 0),c([ue("web-scene","heightUnit")],ll.prototype,"readHeightUnit",null),c([ue("service","heightUnit")],ll.prototype,"readHeightUnitService",null),c([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],ll.prototype,"vertCRS",void 0),c([ue("service","vertCRS",["vertCRS","ellipsoid","geoid"])],ll.prototype,"readVertCRS",null),ll=fb=c([R("esri.geometry.HeightModelInfo")],ll);const yk=ll;let A3=class extends Ow{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(ie.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};A3=c([R("esri.support.AnalysesCollection")],A3);async function foe(e,t){const{WhereClause:r}=await Q(()=>import("./WhereClause-BG2_RbNI.js").then(n=>n.W),__vite__mapDeps([20,21]),import.meta.url);return r.create(e,t)}function r4e(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function gwt(e){return typeof e=="number"}function vF(e){return typeof e=="string"||e instanceof String}const n4e="yyyy-MM-dd",i4e="TT";var Aw;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(Aw||(Aw={}));const s4e=[Aw.HMS_MS,Aw.HMS,Aw.HM,i4e];function GG(e){if(!e||!vF(e))return null;const t=ft.fromFormat(e,n4e);return t.isValid?t:null}function WG(e){return e&&vF(e)?b_(s4e,t=>{const r=ft.fromFormat(e,t);return r.isValid?r:null})??null:null}function qG(e){if(!e||!vF(e))return null;const t=ft.fromISO(e);return t.isValid?t:null}var iv;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(iv||(iv={}));const o4e=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function a4e(e){return e!=null&&o4e.has(e.type)}function moe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function yoe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function goe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function l4e(e,t,r){const n=e==null?void 0:e.domain;if(!n)return null;switch(n.type){case"range":{const{min:i,max:s}=u4e(e);if(i!=null&&+t<i||s!=null&&+t>s)return iv.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(n.codedValues==null||n.codedValues.every(i=>i==null||i.code!==t))return iv.INVALID_CODED_VALUE}return null}function u4e(e,t){const r=e==null?void 0:e.domain;if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,s=a4e(e);return moe(e)||goe(e)||yoe(e)?{...c4e(e,i,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:s}}function c4e(e,t,r){var n,i,s,o,a,l;return moe(e)?{min:(n=GG(r))==null?void 0:n.toMillis(),max:(i=GG(t))==null?void 0:i.toMillis(),rawMin:r,rawMax:t}:goe(e)?{min:(s=WG(r))==null?void 0:s.toMillis(),max:(o=WG(t))==null?void 0:o.toMillis(),rawMin:r,rawMax:t}:yoe(e)?{min:(a=qG(r))==null?void 0:a.toMillis(),max:(l=qG(t))==null?void 0:l.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const d4e=()=>ie.getLogger("esri.support.arcadeOnDemand");let mO;function Gm(){return mO||(mO=(async()=>{const e=await Q(()=>import("./arcadeUtils-pkZEsjDp.js").then(t=>t.aN),__vite__mapDeps([132,21,133,23,14,11,12,15]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),mO}const p4e=(e,t,r)=>voe.create(e,t,r,null,["$feature","$view"],[]),h4e=(e,t,r,n)=>voe.create(e,t,r,n,["$feature","$view"],[]);let voe=class boe{constructor(t,r,n,i,s,o,a){this.services=null,this.script=t,this.evaluate=i;const l=Array.isArray(o)?o:o==null?void 0:o.fields;this.fields=l??[],this._syntaxTree=n,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,i,s,o){const{arcade:a,Feature:l,Dictionary:u}=await Gm(),d=Qe.fromJSON(r);let h;try{h=a.parseScript(t,o)}catch(P){return d4e().error(new q("arcade-bad-expression","Failed to parse arcade script",{script:t,error:P})),null}const f=s.reduce((P,T)=>({...P,[T]:null}),{});let y=null;i!=null&&(y=new u(i),y.immutable=!0,f.$config=null);const g=a.scriptUsesGeometryEngine(h),v=g&&a.enableGeometrySupport(),b=a.scriptUsesFeatureSet(h)&&a.enableFeatureSetSupport(),_=a.scriptIsAsync(h),x=_&&a.enableAsyncSupport(),S={vars:f,spatialReference:d,useAsync:!!x};await Promise.all([v,b,x]);const $=new Set;await a.loadDependentModules($,h,null,_,g);const C=new u;C.immutable=!1,C.setField("scale",0);const k=a.compileScript(h,S),E=(P,T)=>{var O;const M=(O=P.$view)==null?void 0:O.timeZone;return"$view"in P&&P.$view&&(C.setField("scale",typeof P.$view=="object"&&"scale"in P.$view?P.$view.scale:void 0),P.$view=C),y&&(P.$config=y),k({vars:P,spatialReference:d,services:T,timeZone:M})};return new boe(t,a,h,E,new l,n,d)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const f4e=/^([0-9_])/,m4e=/[^a-z0-9_\u0080-\uffff]+/gi;function y4e(e){return e==null?null:e.trim().replaceAll(m4e,"_").replace(f4e,"F$1")||null}const g4e=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],v4e=["field","normalizationField"];function HG(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(ZG(g4e,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)ZG(v4e,n,t)}}function ZG(e,t,r){if(e)for(const n of e){const i=Mx(n,t),s=i&&typeof i!="function"&&r.get(i);s&&ps(n,s.name,t)}}function woe(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(i==null?void 0:i.name)??null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(i==null?void 0:i.name)??null}}const yO=new Set;function gk(e,t){return e&&t?(yO.clear(),Wm(yO,e,t),Array.from(yO).sort()):[]}function Wm(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)Rs(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function Rs(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function vwt(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function bwt(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=gk(e,t);return n.length/e.fields.length>=r?["*"]:n}async function fs(e,t,r){var s;if(!r)return;const{arcadeUtils:n}=await Gm(),i=n.extractFieldNames(r,(s=t==null?void 0:t.fields)==null?void 0:s.map(o=>o.name));for(const o of i)Rs(e,t,o)}async function _oe(e,t,r){if(r&&r!=="1=1"){const n=await foe(r,t);if(!n.isStandardized)throw new q("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Wm(e,t,n.fieldNames)}}function b4e({displayField:e,fields:t}){return e||(t!=null&&t.length?gO(t,"name-or-title")||gO(t,"unique-identifier")||gO(t,"type-or-category")||w4e(t):null)}function w4e(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function gO(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function wwt(e,t){var n;if(!t)return;const r=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function _4e(e,t,r){r.onStatisticExpression?fs(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function _wt(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(x4e(e,t,i)),r.fields&&n.push(...r.fields.map(async s=>_4e(e,t.fieldsIndex,s))),await Promise.all(n)}async function x4e(e,t,r){const n=[];r!=null&&r.expressionInfos&&n.push(...r.expressionInfos.map(s=>fs(e,t.fieldsIndex,s.expression)));const i=r==null?void 0:r.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&n.push(fs(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function xwt(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&Wm(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Wm(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await _oe(e,t.fieldsIndex,r.where))}async function Swt(e,t,r){t&&r&&await Promise.all(r.map(n=>S4e(e,t,n)))}async function S4e(e,t,r){t&&r&&(r.valueExpression?await fs(e,t.fieldsIndex,r.valueExpression):r.field&&Rs(e,t.fieldsIndex,r.field))}function $wt(e){return e?gk(e.fieldsIndex,xoe(e)):[]}function $4e(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?gk(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const T4e=new Set(["oid","global-id","guid"]),M4e=new Set(["oid","global-id"]),C4e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function E4e(e){const t=new Set;Soe(e).forEach(n=>t.add(n)),$4e(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function xoe(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function Soe(e){return xoe(e).map(t=>t.toLowerCase())}function k4e(e,t){var r;return e.editable&&!T4e.has(e.type)&&!Soe(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function I4e(e,t){var n;const r=((n=e.name)==null?void 0:n.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||E4e(t).includes(r)||M4e.has(e.type)||C4e.some(i=>i.test(r)))}async function Twt(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r!=null&&r.length&&await Promise.all(r.map(i=>O4e(e,n,i)))}async function O4e(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if(n.type==="arcade")await fs(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Rs(e,t,o.slice(1,-1))})}await _oe(e,t,i)}function P4e(e){const t=e.defaultValue;return t!==void 0&&Moe(e,t)?t:e.nullable?null:void 0}function Mwt(e){const t=typeof e=="string"?{type:e}:e;return G4e(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function $oe(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function A4e(e){return e===null||$oe(e)}function R4e(e){return e===null||Number.isInteger(e)}function Toe(e){return e!=null&&typeof e=="string"}function L4e(e){return e===null||Toe(e)}function j4e(){return!0}function Moe(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?R4e:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?A4e:$oe;break;case"string":case"esriFieldTypeString":r=e.nullable?L4e:Toe;break;default:r=j4e}return arguments.length===1?r:r(t)}const N4e=["integer","small-integer","big-integer"],F4e=["single","double"],D4e=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],z4e=["esriFieldTypeSingle","esriFieldTypeDouble"],V4e=new Set([...N4e,...D4e]),B4e=new Set([...F4e,...z4e]),U4e=Cte(V4e,B4e);function Coe(e){return e!=null&&U4e.has(e.type)}function G4e(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function W4e(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function Cwt(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function Ewt(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function q4e(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function YG(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function JG(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function kwt(e,t){return H4e(e,t)===null}var R3,L3;function Iwt(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function H4e(e,t){return e==null||e.nullable&&t===null?null:Coe(e)&&!Z4e(e.type,Number(t))?R3.OUT_OF_RANGE:Moe(e,t)?e.domain?l4e(e,t):null:L3.INVALID_TYPE}function Z4e(e,t){const r=typeof e=="string"?Eoe(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function Eoe(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Y4e;case"esriFieldTypeInteger":case"integer":return J4e;case"esriFieldTypeBigInteger":case"big-integer":return K4e;case"esriFieldTypeSingle":case"single":return X4e;case"esriFieldTypeDouble":case"double":return Q4e}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(R3||(R3={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(L3||(L3={}));const Y4e={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},J4e={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},K4e={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},X4e={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Q4e={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Owt(e,t,r){switch(e){case iv.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case iv.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case L3.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case R3.OUT_OF_RANGE:{const{min:n,max:i}=Eoe(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function Pwt(e,t){return!eAe(e,t,null)}function eAe(e,t,r){if(!(t!=null&&t.attributes)||!e)return!0;const n=new Set(Object.keys(t.attributes));let i=!1;for(const s of e)if(!n.has(s)&&(i=!0,r==null))break;return i}function tAe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function koe(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let sT=class extends ae{constructor(t){super(t),this.type=null}};c([p({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],sT.prototype,"type",void 0),sT=c([R("esri.popup.content.Content")],sT);const Oh=sT;var TR;let cf=TR=class extends Oh{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new TR({description:this.description,displayType:this.displayType,title:this.title})}};c([p({type:String,json:{write:!0}})],cf.prototype,"description",void 0),c([p({type:["auto","preview","list"],json:{write:!0}})],cf.prototype,"displayType",void 0),c([p({type:String,json:{write:!0}})],cf.prototype,"title",void 0),c([p({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],cf.prototype,"type",void 0),cf=TR=c([R("esri.popup.content.AttachmentsContent")],cf);const P_=cf;var MR;let df=MR=class extends Oh{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new MR({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?W(this.outFields):null})}};c([p()],df.prototype,"creator",void 0),c([p()],df.prototype,"destroyer",void 0),c([p()],df.prototype,"outFields",void 0),c([p({type:["custom"],readOnly:!0})],df.prototype,"type",void 0),df=MR=c([R("esri.popup.content.CustomContent")],df);const rAe=df;var CR;let Xy=CR=class extends ae{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new CR({title:this.title,expression:this.expression})}};c([p({type:String,json:{write:!0}})],Xy.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],Xy.prototype,"expression",void 0),c([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Xy.prototype,"returnType",void 0),Xy=CR=c([R("esri.popup.ElementExpressionInfo")],Xy);const nAe=Xy;var ER;let mb=ER=class extends Oh{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new ER({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([p({type:nAe,json:{write:!0}})],mb.prototype,"expressionInfo",void 0),c([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],mb.prototype,"type",void 0),mb=ER=c([R("esri.popup.content.ExpressionContent")],mb);const bF=mb;let Qy=class extends Fr(ae){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};c([Ze(XEe)],Qy.prototype,"dateFormat",void 0),c([p({type:Boolean,json:{write:!0}})],Qy.prototype,"digitSeparator",void 0),c([p({type:mr,json:{write:!0}})],Qy.prototype,"places",void 0),Qy=c([R("esri.popup.support.FieldInfoFormat")],Qy);const oT=Qy;var kR;let ul=kR=class extends ae{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new kR({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([p({type:String,json:{write:!0}})],ul.prototype,"fieldName",void 0),c([p({type:oT,json:{write:!0}})],ul.prototype,"format",void 0),c([p({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],ul.prototype,"isEditable",void 0),c([p({type:String,json:{write:!0}})],ul.prototype,"label",void 0),c([Ze(new kt({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ul.prototype,"stringFieldOption",void 0),c([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ul.prototype,"statisticType",void 0),c([p({type:String,json:{write:!0}})],ul.prototype,"tooltip",void 0),c([p({type:Boolean,json:{write:!0}})],ul.prototype,"visible",void 0),ul=kR=c([R("esri.popup.FieldInfo")],ul);const wF=ul;var IR;let fc=IR=class extends Oh{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new IR(W({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([p({type:Object,json:{write:!0}})],fc.prototype,"attributes",void 0),c([p({type:String,json:{write:!0}})],fc.prototype,"description",void 0),c([p({type:[wF]})],fc.prototype,"fieldInfos",void 0),c([ye("fieldInfos")],fc.prototype,"writeFieldInfos",null),c([p({type:String,json:{write:!0}})],fc.prototype,"title",void 0),c([p({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],fc.prototype,"type",void 0),fc=IR=c([R("esri.popup.content.FieldsContent")],fc);const A_=fc;let pf=class extends ae{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};c([p({type:String,json:{write:!0}})],pf.prototype,"altText",void 0),c([p({type:String,json:{write:!0}})],pf.prototype,"caption",void 0),c([p({type:String,json:{write:!0}})],pf.prototype,"title",void 0),c([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],pf.prototype,"type",void 0),pf=c([R("esri.popup.content.mixins.MediaInfo")],pf);const _F=pf;var OR;let hf=OR=class extends Be{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new OR({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([p()],hf.prototype,"color",void 0),c([p()],hf.prototype,"fieldName",void 0),c([p()],hf.prototype,"tooltip",void 0),c([p()],hf.prototype,"value",void 0),hf=OR=c([R("esri.popup.content.support.ChartMediaInfoValueSeries")],hf);const iAe=hf;var PR;let Hd=PR=class extends ae{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new PR({colors:W(this.colors),fields:W(this.fields),normalizeField:this.normalizeField,series:W(this.series),tooltipField:this.tooltipField})}};c([p({type:[it],json:{type:[[mr]],write:!0}})],Hd.prototype,"colors",void 0),c([p({type:[String],json:{write:!0}})],Hd.prototype,"fields",void 0),c([p({type:String,json:{write:!0}})],Hd.prototype,"normalizeField",void 0),c([p({type:[iAe],json:{read:!1}})],Hd.prototype,"series",void 0),c([p({type:String,json:{write:!0}})],Hd.prototype,"tooltipField",void 0),Hd=PR=c([R("esri.popup.content.support.ChartMediaInfoValue")],Hd);const sAe=Hd;let yb=class extends _F{constructor(t){super(t),this.type=null,this.value=void 0}};c([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],yb.prototype,"type",void 0),c([p({type:sAe,json:{write:!0}})],yb.prototype,"value",void 0),yb=c([R("esri.popup.content.mixins.ChartMediaInfo")],yb);const vk=yb,bk=ys()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var AR;let aT=AR=class extends vk{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new AR({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:bk.write}})],aT.prototype,"type",void 0),aT=AR=c([R("esri.popup.content.BarChartMediaInfo")],aT);const Ioe=aT;var RR;let lT=RR=class extends vk{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new RR({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:bk.write}})],lT.prototype,"type",void 0),lT=RR=c([R("esri.popup.content.ColumnChartMediaInfo")],lT);const Ooe=lT;var LR;let gb=LR=class extends ae{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new LR({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([p({type:String,json:{write:!0}})],gb.prototype,"linkURL",void 0),c([p({type:String,json:{write:!0}})],gb.prototype,"sourceURL",void 0),gb=LR=c([R("esri.popup.content.support.ImageMediaInfoValue")],gb);const oAe=gb;var jR;let eg=jR=class extends _F{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new jR({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:Number,json:{write:!0}})],eg.prototype,"refreshInterval",void 0),c([p({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],eg.prototype,"type",void 0),c([p({type:oAe,json:{write:!0}})],eg.prototype,"value",void 0),eg=jR=c([R("esri.popup.content.ImageMediaInfo")],eg);const Poe=eg;var NR;let uT=NR=class extends vk{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new NR({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:bk.write}})],uT.prototype,"type",void 0),uT=NR=c([R("esri.popup.content.LineChartMediaInfo")],uT);const Aoe=uT;var FR;let cT=FR=class extends vk{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new FR({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:bk.write}})],cT.prototype,"type",void 0),cT=FR=c([R("esri.popup.content.PieChartMediaInfo")],cT);const Roe=cT,Loe={base:_F,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Ioe,"column-chart":Ooe,"line-chart":Aoe,"pie-chart":Roe,image:Poe}};var DR;let cl=DR=class extends Oh{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Poe.fromJSON(t):t.type==="barchart"?Ioe.fromJSON(t):t.type==="columnchart"?Ooe.fromJSON(t):t.type==="linechart"?Aoe.fromJSON(t):t.type==="piechart"?Roe.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new DR(W({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([p()],cl.prototype,"activeMediaInfoIndex",void 0),c([p({type:Object,json:{write:!0}})],cl.prototype,"attributes",void 0),c([p({type:String,json:{write:!0}})],cl.prototype,"description",void 0),c([p({types:[Loe]})],cl.prototype,"mediaInfos",void 0),c([ue("mediaInfos")],cl.prototype,"readMediaInfos",null),c([ye("mediaInfos")],cl.prototype,"writeMediaInfos",null),c([p({type:String,json:{write:!0}})],cl.prototype,"title",void 0),c([p({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],cl.prototype,"type",void 0),cl=DR=c([R("esri.popup.content.MediaContent")],cl);const j3=cl;var zR;let vb=zR=class extends ae{constructor(e){super(e),this.field=null,this.order=null}clone(){return new zR({field:this.field,order:this.order})}};c([p({type:String,json:{write:!0}})],vb.prototype,"field",void 0),c([p({type:["asc","desc"],json:{write:!0}})],vb.prototype,"order",void 0),vb=zR=c([R("esri.popup.support.RelatedRecordsInfoFieldOrder")],vb);const xF=vb;let Ql=class extends Fr(Oh){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([p({type:String,json:{write:!0}})],Ql.prototype,"description",void 0),c([p({type:Number,json:{type:mr,write:!0}})],Ql.prototype,"displayCount",void 0),c([p({type:["list"],json:{write:!0}})],Ql.prototype,"displayType",void 0),c([p({type:[xF],json:{write:!0}})],Ql.prototype,"orderByFields",void 0),c([p({type:Number,json:{type:mr,write:!0}})],Ql.prototype,"relationshipId",void 0),c([p({type:String,json:{write:!0}})],Ql.prototype,"title",void 0),c([p({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Ql.prototype,"type",void 0),Ql=c([R("esri.popup.content.RelationshipContent")],Ql);const N3=Ql;var VR;let bb=VR=class extends Oh{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new VR({text:this.text})}};c([p({type:String,json:{write:!0}})],bb.prototype,"text",void 0),c([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],bb.prototype,"type",void 0),bb=VR=c([R("esri.popup.content.TextContent")],bb);const F3=bb,aAe={base:null,key:"type",typeMap:{attachment:P_,media:j3,text:F3,expression:bF,field:A_,relationship:N3}};var BR;let ff=BR=class extends ae{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new BR({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([p({type:String,json:{write:!0}})],ff.prototype,"name",void 0),c([p({type:String,json:{write:!0}})],ff.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],ff.prototype,"expression",void 0),c([p({type:["string","number"],json:{write:!0}})],ff.prototype,"returnType",void 0),ff=BR=c([R("esri.popup.ExpressionInfo")],ff);const lAe=ff;var UR;let wb=UR=class extends ae{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new UR({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([p({type:Boolean,json:{write:!0}})],wb.prototype,"returnTopmostRaster",void 0),c([p({type:Boolean,json:{write:!0}})],wb.prototype,"showNoDataRecords",void 0),wb=UR=c([R("esri.popup.LayerOptions")],wb);const uAe=wb;var GR;let _b=GR=class extends ae{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new GR({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?W(this.orderByFields):null})}};c([p({type:Boolean,json:{write:!0}})],_b.prototype,"showRelatedRecords",void 0),c([p({type:[xF],json:{write:!0}})],_b.prototype,"orderByFields",void 0),_b=GR=c([R("esri.popup.RelatedRecordsInfo")],_b);const cAe=_b;var WR;let na=WR=class extends yd(Be){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new WR({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([p()],na.prototype,"active",void 0),c([p()],na.prototype,"className",void 0),c([p()],na.prototype,"disabled",void 0),c([p()],na.prototype,"icon",void 0),c([p()],na.prototype,"id",void 0),c([p()],na.prototype,"indicator",void 0),c([p()],na.prototype,"title",void 0),c([p()],na.prototype,"type",void 0),c([p()],na.prototype,"visible",void 0),na=WR=c([R("esri.support.actions.ActionBase")],na);const Wx=na;var qR;let dT=qR=class extends Wx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new qR({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([p()],dT.prototype,"image",void 0),dT=qR=c([R("esri.support.actions.ActionButton")],dT);const joe=dT;var HR;let xb=HR=class extends Wx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new HR({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([p()],xb.prototype,"image",void 0),c([p()],xb.prototype,"value",void 0),xb=HR=c([R("esri.support.actions.ActionToggle")],xb);const Noe=xb,M1="relationships/",KG="expression/",dAe=Ce.ofType({key:"type",defaultKeyValue:"button",base:Wx,typeMap:{button:joe,toggle:Noe}}),pAe={base:Oh,key:"type",typeMap:{media:j3,custom:rAe,text:F3,attachments:P_,fields:A_,expression:bF,relationship:N3}},hAe=new Set(["attachments","fields","media","text","expression","relationship"]);let ii=class extends Fr(ae){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Nu(pAe,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Ch(t)?t:(ie.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeContent(t,r,n,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>hAe.has(s.type)).map(s=>s==null?void 0:s.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(u=>u.type==="fields"):[],l=a.length&&a.every(u=>{var d;return(d=u.fieldInfos)==null?void 0:d.length});r.fieldInfos=t.filter(Boolean).map(u=>{const d=u.toJSON(i);return l&&(d.visible=!1),d})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),Wm(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=W(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>{var a,l;return((a=o.fieldName)==null?void 0:a.toLowerCase())===((l=i.fieldName)==null?void 0:l.toLowerCase())});s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var s,o;const n=((s=t.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,t.relationshipId)))||[],i=[...((o=r.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...(i==null?void 0:i.length)&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=W(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),j3.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),F3.fromJSON(s)):s.type==="attachments"?P_.fromJSON(s):s.type==="fields"?A_.fromJSON(s):s.type==="expression"?bF.fromJSON(s):s.type==="relationship"?N3.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!(r!=null&&r.startsWith(M1)))return null;const i=r.replace(M1,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return typeof s=="number"&&o?N3.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${M1}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new F3({text:t})):s.push(new A_),Array.isArray(r)&&r.length&&s.push(j3.fromJSON({mediaInfos:r})),n&&s.push(P_.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=i;return o&&(a!=null&&a.length)&&a.forEach(l=>{const u=this._toRelationshipContent(l);u&&s.push(u)}),s.length?s:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:u,linkURL:d}=s,h=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(u),...this._extractFieldNames(d),...o??[]];return a&&h.push(a),l&&h.push(l),h}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>fs(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:n})=>!(n!==void 0&&!n||!r||r.startsWith(M1)||r.startsWith(KG))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return koe(t).filter(r=>!(r.indexOf(M1)===0||r.indexOf(KG)===0))}};c([p({type:dAe})],ii.prototype,"actions",void 0),c([p()],ii.prototype,"content",void 0),c([tr("content")],ii.prototype,"castContent",null),c([ue("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],ii.prototype,"readContent",null),c([ye("content",{popupElements:{type:Ce.ofType(aAe)},showAttachments:{type:Boolean},mediaInfos:{type:Ce.ofType(Loe)},description:{type:String},relatedRecordsInfo:{type:cAe}})],ii.prototype,"writeContent",null),c([p({type:[lAe],json:{write:!0}})],ii.prototype,"expressionInfos",void 0),c([p({type:[wF]})],ii.prototype,"fieldInfos",void 0),c([ye("fieldInfos")],ii.prototype,"writeFieldInfos",null),c([p({type:uAe})],ii.prototype,"layerOptions",void 0),c([ye("layerOptions")],ii.prototype,"writeLayerOptions",null),c([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],ii.prototype,"lastEditInfoEnabled",void 0),c([p()],ii.prototype,"outFields",void 0),c([p()],ii.prototype,"overwriteActions",void 0),c([p()],ii.prototype,"returnGeometry",void 0),c([p({json:{type:String}})],ii.prototype,"title",void 0),c([ye("title")],ii.prototype,"writeTitle",null),ii=c([R("esri.PopupTemplate")],ii);const Ph=ii,XG=new kt({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let fAe=0,tg=class extends ae{constructor(t){super(t),this.id="sym"+fAe++,this.type=null,this.color=new it([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([p({type:XG.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:XG.write}}})],tg.prototype,"type",void 0),c([p({type:it,json:{write:{allowNull:!0}}})],tg.prototype,"color",void 0),c([ue("color")],tg.prototype,"readColor",null),tg=c([R("esri.symbols.Symbol")],tg);const Ui=tg;var ZR;let Zd=ZR=class extends Ui{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(s=>{const o=s.valueExpressionInfo;return o?fs(e,t,o.expression):null});await Promise.all(i)}}}clone(){return new ZR({data:W(this.data)})}hash(){return ste(JSON.stringify(this.data)).toString()}};c([p({json:{write:!1}})],Zd.prototype,"color",void 0),c([p({json:{write:!0}})],Zd.prototype,"data",void 0),c([ue("data",["symbol"])],Zd.prototype,"readData",null),c([ye("data",{})],Zd.prototype,"writeData",null),c([Ze({CIMSymbolReference:"cim"},{readOnly:!0})],Zd.prototype,"type",void 0),Zd=ZR=c([R("esri.symbols.CIMSymbol")],Zd);const Ah=Zd;let rg=class extends ae{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};c([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],rg.prototype,"enabled",void 0),c([ye("enabled")],rg.prototype,"writeEnabled",null),c([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],rg.prototype,"type",void 0),rg=c([R("esri.symbols.Symbol3DLayer")],rg);const Hu=rg;function mAe(e,t){const r=t.transparency!=null?O_(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new it([n[0]||0,n[1]||0,n[2]||0,r]):null}function yAe(e,t){t.color=e.toJSON().slice(0,3);const r=hk(e.a);r!==0&&(t.transparency=r)}const Rh={type:it,json:{type:[mr],default:null,read:{source:["color","transparency"],reader:mAe},write:{target:{color:{type:[mr]},transparency:{type:mr}},writer:yAe}}},Bu={type:Number,cast:Bt,json:{write:!0}};let mf=class extends ae{constructor(t){super(t),this.color=new it([0,0,0,1]),this.extensionLength=0,this.size=Ua(1)}clone(){}cloneProperties(){return{color:W(this.color),size:this.size,extensionLength:this.extensionLength}}};c([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],mf.prototype,"type",void 0),c([p(Rh)],mf.prototype,"color",void 0),c([p({...Bu,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],mf.prototype,"extensionLength",void 0),c([p(Bu)],mf.prototype,"size",void 0),mf=c([R("esri.symbols.edges.Edges3D")],mf);const SF=mf;var YR;let pT=YR=class extends SF{constructor(e){super(e),this.type="sketch"}clone(){return new YR(this.cloneProperties())}};c([Ze({sketch:"sketch"},{readOnly:!0})],pT.prototype,"type",void 0),pT=YR=c([R("esri.symbols.edges.SketchEdges3D")],pT);const gAe=pT;var JR;let hT=JR=class extends SF{constructor(e){super(e),this.type="solid"}clone(){return new JR(this.cloneProperties())}};c([Ze({solid:"solid"},{readOnly:!0})],hT.prototype,"type",void 0),hT=JR=c([R("esri.symbols.edges.SolidEdges3D")],hT);const Foe=hT,Doe={types:{key:"type",base:SF,typeMap:{solid:Foe,sketch:gAe}},json:{write:!0}};var KR;let Ra=KR=class extends ae{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new KR(e)}};c([p(Rh)],Ra.prototype,"color",void 0),Ra=KR=c([R("esri.symbols.support.Symbol3DMaterial")],Ra);var XR;let Yd=XR=class extends Hu{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new XR({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};c([Ze({Extrude:"extrude"},{readOnly:!0})],Yd.prototype,"type",void 0),c([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Yd.prototype,"size",void 0),c([p({type:Ra,json:{write:!0}})],Yd.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Yd.prototype,"castShadows",void 0),c([p(Doe)],Yd.prototype,"edges",void 0),Yd=XR=c([R("esri.symbols.ExtrudeSymbol3DLayer")],Yd);const zoe=Yd;let Sb=class extends Ui{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([Ze({esriSLS:"simple-line"},{readOnly:!0})],Sb.prototype,"type",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],Sb.prototype,"width",void 0),Sb=c([R("esri.symbols.LineSymbol")],Sb);const vAe=Sb,bAe=["begin","end","begin-end"],Voe=["arrow","circle","square","diamond","cross","x"];var QR;let eu=QR=class extends ae{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new QR({color:W(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([p({type:["begin","end","begin-end"],json:{write:!0}})],eu.prototype,"placement",void 0),c([Ze({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],eu.prototype,"type",void 0),c([p({type:Voe})],eu.prototype,"style",void 0),c([ye("style")],eu.prototype,"writeStyle",null),c([p({type:it,value:null,json:{write:{allowNull:!0}}})],eu.prototype,"color",null),c([ue("color")],eu.prototype,"readColor",null),c([ye("color")],eu.prototype,"writeColor",null),eu=QR=c([R("esri.symbols.LineSymbolMarker")],eu);const wAe=eu;var eL;const vO=new kt({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let mc=eL=class extends vAe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=Bt(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=Bt(s)),o}clone(){var e;return new eL({color:W(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([Ze({esriSLS:"simple-line"},{readOnly:!0})],mc.prototype,"type",void 0),c([p({type:vO.apiValues,json:{read:vO.read,write:vO.write}})],mc.prototype,"style",void 0),c([p({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],mc.prototype,"cap",void 0),c([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],mc.prototype,"join",void 0),c([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":wAe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],mc.prototype,"marker",void 0),c([p({type:Number,json:{read:!1,write:!1}})],mc.prototype,"miterLimit",void 0),mc=eL=c([R("esri.symbols.SimpleLineSymbol")],mc);const co=mc;let $b=class extends Ui{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};c([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":co}},json:{default:null,write:!0}})],$b.prototype,"outline",void 0),c([p({type:["simple-fill","picture-fill"],readOnly:!0})],$b.prototype,"type",void 0),$b=c([R("esri.symbols.FillSymbol")],$b);const Boe=$b;let fT=class extends ae{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],fT.prototype,"type",void 0),fT=c([R("esri.symbols.patterns.LinePattern3D")],fT);const Uoe=fT,_Ae=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var tL;const xAe=ys()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Tb=tL=class extends Uoe{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new tL(e)}};c([p({type:["style"]})],Tb.prototype,"type",void 0),c([Ze(xAe),p({type:_Ae})],Tb.prototype,"style",void 0),Tb=tL=c([R("esri.symbols.patterns.LineStylePattern3D")],Tb);const $F=Tb;let mT=class extends ae{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],mT.prototype,"type",void 0),mT=c([R("esri.symbols.patterns.Pattern3D")],mT);const Goe=mT,SAe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var rL;let Mb=rL=class extends Goe{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new rL({style:this.style})}};c([p({type:["style"]})],Mb.prototype,"type",void 0),c([p({type:SAe,json:{read:!0,write:!0}})],Mb.prototype,"style",void 0),Mb=rL=c([R("esri.symbols.patterns.StylePattern3D")],Mb);const Woe=Mb,$Ae={types:{key:"type",base:Goe,typeMap:{style:Woe}},json:{write:!0}},qoe={types:{key:"type",base:Uoe,typeMap:{style:$F}},json:{write:!0}},Rw=new it("white");new it("black");const TAe=new it([255,255,255,0]);function MAe(e){return e.r===0&&e.g===0&&e.b===0}var nL;let Lw=nL=class extends Ra{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new nL(e)}};c([Ze({multiply:"multiply",replace:"replace",tint:"tint"})],Lw.prototype,"colorMixMode",void 0),Lw=nL=c([R("esri.symbols.support.Symbol3DFillMaterial")],Lw);function TF(e=OAe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function MF(e,t,r,n,i,s,o=TF()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function qwt(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Rt(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Hwt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Zwt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Ywt(e,t,r=0,n=t.length/3){let i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5];for(let d=0;d<n;d++)i=Math.min(i,t[r+3*d]),s=Math.min(s,t[r+3*d+1]),o=Math.min(o,t[r+3*d+2]),a=Math.max(a,t[r+3*d]),l=Math.max(l,t[r+3*d+1]),u=Math.max(u,t[r+3*d+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=u}function CAe(e){return e[0]>=e[3]?0:e[3]-e[0]}function EAe(e){return e[1]>=e[4]?0:e[4]-e[1]}function kAe(e){return e[2]>=e[5]?0:e[5]-e[2]}function Jwt(e,t=[0,0,0]){return t[0]=CAe(e),t[1]=EAe(e),t[2]=kAe(e),t}function Kwt(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Xwt(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function IAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Qwt(e){return e?IAe(e,eW):TF(eW)}function e_t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function t_t(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function QG(e){return e.length===6}function r_t(e,t,r){if(e==null||t==null)return e===t;if(!QG(e)||!QG(t))return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const eW=[1/0,1/0,1/0,-1/0,-1/0,-1/0],OAe=[0,0,0,0,0,0];TF();const PAe=MF(-.5,-.5,-.5,.5,.5,.5),AAe=MF(-.5,-.5,0,.5,.5,1),RAe=MF(-.5,-.5,0,.5,.5,.5);function n_t(e){switch(e){case"sphere":case"cube":case"diamond":return PAe;case"cylinder":case"cone":case"inverted-cone":return AAe;case"tetrahedron":return RAe;default:return}}const CF=["butt","square","round"],LAe=[...CF,"none"],Hoe=["miter","bevel","round"];var iL;let yf=iL=class extends ae{constructor(e){super(e),this.color=new it([0,0,0,1]),this.size=Ua(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new iL(e)}};c([p(Rh)],yf.prototype,"color",void 0),c([p(Bu)],yf.prototype,"size",void 0),c([p(qoe)],yf.prototype,"pattern",void 0),c([p({type:CF,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],yf.prototype,"patternCap",void 0),yf=iL=c([R("esri.symbols.support.Symbol3DOutline")],yf);var yT;let yc=yT=class extends Hu{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new yT(e)}static fromSimpleFillSymbol(e){var n,i,s;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new $F({style:e.outline.style}):null,r={size:((n=e.outline)==null?void 0:n.width)??0,color:(((i=e.outline)==null?void 0:i.color)??Rw).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(r.patternCap=e.outline.cap),new yT({material:new Lw({color:(e.color??TAe).clone()}),pattern:e.style&&e.style!=="solid"?new Woe({style:e.style}):null,outline:r})}};c([Ze({Fill:"fill"},{readOnly:!0})],yc.prototype,"type",void 0),c([p({type:Lw,json:{write:!0}})],yc.prototype,"material",void 0),c([p($Ae)],yc.prototype,"pattern",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yc.prototype,"castShadows",void 0),c([p({type:yf,json:{write:!0}})],yc.prototype,"outline",void 0),c([p(Doe)],yc.prototype,"edges",void 0),yc=yT=c([R("esri.symbols.FillSymbol3DLayer")],yc);const uy=yc,jAe=["none","underline","line-through"],NAe=["normal","italic","oblique"],FAe=["normal","lighter","bold","bolder"],Zoe={type:Number,cast:e=>{const t=va(e);return t===0?1:za(t,.1,4)},nonNullable:!0},DAe=["left","right","center"],zAe=["baseline","top","middle","bottom"],Yoe={type:DAe,nonNullable:!0},Joe={type:zAe,nonNullable:!0},i_t=8;var sL;let gc=sL=class extends ae{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Bt(e)}clone(){return new sL({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([p({type:jAe,json:{default:"none",write:!0}})],gc.prototype,"decoration",void 0),c([p({type:String,json:{write:!0}})],gc.prototype,"family",void 0),c([p({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],gc.prototype,"size",void 0),c([tr("size")],gc.prototype,"castSize",null),c([p({type:NAe,json:{default:"normal",write:!0}})],gc.prototype,"style",void 0),c([p({type:FAe,json:{default:"normal",write:!0}})],gc.prototype,"weight",void 0),gc=sL=c([R("esri.symbols.Font")],gc);const wk=gc;var oL;const VAe=ys()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let gf=oL=class extends ae{constructor(e){super(e)}readHref(e,t,r){return e?Cv(e,r):t.dataURI}writeHref(e,t,r,n){e&&(sy(e)?t.dataURI=e:(t.href=Ux(e,n),jo(t.href)&&(t.href=Oa(t.href))))}clone(){return new oL({href:this.href,primitive:this.primitive})}};c([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],gf.prototype,"href",void 0),c([ue("href")],gf.prototype,"readHref",null),c([ye("href",{href:{type:String},dataURI:{type:String}})],gf.prototype,"writeHref",null),c([Ze(VAe)],gf.prototype,"primitive",void 0),gf=oL=c([R("esri.symbols.support.IconSymbol3DLayerResource")],gf);const s_t="circle";var aL;let Yg=aL=class extends Be{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new aL({x:this.x,y:this.y})}};c([p({type:Number})],Yg.prototype,"x",void 0),c([p({type:Number})],Yg.prototype,"y",void 0),Yg=aL=c([R("esri.symbols.support.Symbol3DAnchorPosition2D")],Yg);var lL;let Cb=lL=class extends ae{constructor(e){super(e),this.color=new it([0,0,0,1]),this.size=Ua(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new lL(e)}};c([p(Rh)],Cb.prototype,"color",void 0),c([p(Bu)],Cb.prototype,"size",void 0),Cb=lL=c([R("esri.symbols.support.Symbol3DIconOutline")],Cb);var ng;const Koe="esri.symbols.IconSymbol3DLayer";let tu=ng=class extends Hu{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new ng({anchor:this.anchor,anchorPosition:W(this.anchorPosition),enabled:this.enabled,material:W(this.material),outline:W(this.outline),resource:W(this.resource),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Rw,r=tW(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Rw).clone()}:null;return new ng({size:e.size,resource:{primitive:UAe(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||MAe(e.color)?Rw:e.color,r=tW(e);return new ng({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new ng({resource:{href:Mre({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};c([p({type:Ra,json:{write:!0}})],tu.prototype,"material",void 0),c([p({type:gf,json:{write:!0}})],tu.prototype,"resource",void 0),c([Ze({Icon:"icon"},{readOnly:!0})],tu.prototype,"type",void 0),c([p(Bu)],tu.prototype,"size",void 0),c([Ze({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),p({json:{default:"center"}})],tu.prototype,"anchor",void 0),c([p({type:Yg,json:{type:[Number],read:{reader:e=>new Yg({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],tu.prototype,"anchorPosition",void 0),c([p({type:Cb,json:{write:!0}})],tu.prototype,"outline",void 0),tu=ng=c([R(Koe)],tu);const sm=tu;function tW(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=rW(e.xoffset),i=rW(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function rW(e){return isFinite(e)?e:0}const BAe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function UAe(e){return BAe[e]||(ie.getLogger(Koe).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let vf=class extends Fr(ae){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};c([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],vf.prototype,"type",void 0),c([p({type:bAe,json:{default:"begin-end",write:!0}})],vf.prototype,"placement",void 0),c([p({type:Voe,json:{default:"arrow",write:!0}})],vf.prototype,"style",void 0),c([p({type:it,json:{type:[mr],default:null,write:!0}})],vf.prototype,"color",void 0),vf=c([R("esri.symbols.LineStyleMarker3D")],vf);const uL=vf;var gT;let ru=gT=class extends Hu{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ua(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new gT(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??Ua(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new $F({style:e.style}):null,material:new Ra({color:(e.color||Rw).clone()}),marker:e.marker?new uL({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new gT(t)}};c([p({type:Ra,json:{write:!0}})],ru.prototype,"material",void 0),c([Ze({Line:"line"},{readOnly:!0})],ru.prototype,"type",void 0),c([p({type:Hoe,json:{write:!0,default:"miter"}})],ru.prototype,"join",void 0),c([p({type:CF,json:{write:!0,default:"butt"}})],ru.prototype,"cap",void 0),c([p(Bu)],ru.prototype,"size",void 0),c([p(qoe)],ru.prototype,"pattern",void 0),c([p({types:{key:"type",base:uL,typeMap:{style:uL}},json:{write:!0}})],ru.prototype,"marker",void 0),ru=gT=c([R("esri.symbols.LineSymbol3DLayer")],ru);const Ev=ru;var cL;const GAe=ys()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Eb=cL=class extends ae{clone(){return new cL({href:this.href,primitive:this.primitive})}};c([p({type:String,json:{read:fF,write:Um}})],Eb.prototype,"href",void 0),c([Ze(GAe)],Eb.prototype,"primitive",void 0),Eb=cL=c([R("esri.symbols.support.ObjectSymbol3DLayerResource")],Eb);const a_t="sphere";var dL;let qf=dL=class extends Be{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new dL({x:this.x,y:this.y,z:this.z})}};c([p({type:Number})],qf.prototype,"x",void 0),c([p({type:Number})],qf.prototype,"y",void 0),c([p({type:Number})],qf.prototype,"z",void 0),qf=dL=c([R("esri.symbols.support.Symbol3DAnchorPosition3D")],qf);var pL;let Qi=pL=class extends Hu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new pL({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([p({type:Ra,json:{write:!0}})],Qi.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Qi.prototype,"castShadows",void 0),c([p({type:Eb,json:{write:!0}})],Qi.prototype,"resource",void 0),c([Ze({Object:"object"},{readOnly:!0})],Qi.prototype,"type",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"width",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"height",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"depth",void 0),c([Ze({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),p({json:{default:"origin"}})],Qi.prototype,"anchor",void 0),c([p({type:qf,json:{type:[Number],read:{reader:e=>new qf({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Qi.prototype,"anchorPosition",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"heading",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"tilt",void 0),c([p({type:Number,json:{write:!0}})],Qi.prototype,"roll",void 0),c([p({readOnly:!0})],Qi.prototype,"isPrimitive",null),Qi=pL=c([R("esri.symbols.ObjectSymbol3DLayer")],Qi);const EF=Qi;var hL;let _s=hL=class extends Hu{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new hL({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([p({type:Ra,json:{write:!0}})],_s.prototype,"material",void 0),c([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_s.prototype,"castShadows",void 0),c([Ze({Path:"path"},{readOnly:!0})],_s.prototype,"type",void 0),c([p({type:["circle","quad"],json:{write:!0,default:"circle"}})],_s.prototype,"profile",void 0),c([p({type:Hoe,json:{write:!0,default:"miter"}})],_s.prototype,"join",void 0),c([p({type:LAe,json:{write:!0,default:"butt"}})],_s.prototype,"cap",void 0),c([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],_s.prototype,"width",void 0),c([ue("width",["width","size","height"])],_s.prototype,"readWidth",null),c([p({type:Number,json:{write:!0}})],_s.prototype,"height",void 0),c([ue("height",["height","size","width"])],_s.prototype,"readHeight",null),c([p({type:["center","bottom","top"],json:{write:!0,default:"center"}})],_s.prototype,"anchor",void 0),c([p({type:["heading","all"],json:{write:!0,default:"all"}})],_s.prototype,"profileRotation",void 0),_s=hL=c([R("esri.symbols.PathSymbol3DLayer")],_s);const kF=_s;var fL;let Jg=fL=class extends ae{constructor(){super(...arguments),this.color=new it([0,0,0,1]),this.size=0}clone(){const e={color:W(this.color),size:this.size};return new fL(e)}};c([p(Rh)],Jg.prototype,"color",void 0),c([p(Bu)],Jg.prototype,"size",void 0),Jg=fL=c([R("esri.symbols.support.Symbol3DHalo")],Jg);let jw=class extends Fr(ae){constructor(t){super(t),this.color=null}};c([p(Rh)],jw.prototype,"color",void 0),jw=c([R("esri.symbols.support.Symbol3DTextBackground")],jw);var vT;let Gs=vT=class extends Hu{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const i={...n,textSymbol3D:!0};t.font=e.write({},i),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new vT({enabled:this.enabled,font:this.font&&W(this.font),halo:this.halo&&W(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:W(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new vT({font:e.font!=null?e.font.clone():new wk,halo:WAe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ra({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new jw({color:e.backgroundColor.clone()}):null})}};function WAe(e,t){return e&&t!=null&&t>0?new Jg({color:W(e),size:t}):null}c([p({type:wk,json:{write:!0}})],Gs.prototype,"font",null),c([ye("font")],Gs.prototype,"writeFont",null),c([p({type:Jg,json:{write:!0}})],Gs.prototype,"halo",void 0),c([p({...Yoe,json:{default:"center",write:!0}})],Gs.prototype,"horizontalAlignment",void 0),c([p({...Zoe,json:{default:1,write:!0}})],Gs.prototype,"lineHeight",void 0),c([p({type:Ra,json:{write:!0}})],Gs.prototype,"material",void 0),c([p({type:jw,json:{write:!0}})],Gs.prototype,"background",void 0),c([p(Bu)],Gs.prototype,"size",null),c([p({type:String,json:{write:!0}})],Gs.prototype,"text",void 0),c([Ze({Text:"text"},{readOnly:!0})],Gs.prototype,"type",void 0),c([p({...Joe,json:{default:"baseline",write:!0}})],Gs.prototype,"verticalAlignment",void 0),Gs=vT=c([R("esri.symbols.TextSymbol3DLayer")],Gs);const kv=Gs;var mL;let Jd=mL=class extends Hu{constructor(e){super(e),this.color=yL.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new mL({color:W(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([p({type:it,nonNullable:!0,json:{type:[mr],write:(e,t,r)=>t[r]=e.toArray(it.AlphaMode.UNLESS_OPAQUE),default:()=>yL.clone(),defaultEquals:e=>e.toCss(!0)===yL.toCss(!0)}})],Jd.prototype,"color",void 0),c([Ze({Water:"water"},{readOnly:!0})],Jd.prototype,"type",void 0),c([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Jd.prototype,"waterbodySize",void 0),c([p({type:Number,json:{write:!0,default:null}})],Jd.prototype,"waveDirection",void 0),c([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Jd.prototype,"waveStrength",void 0),Jd=mL=c([R("esri.symbols.WaterSymbol3DLayer")],Jd);const Xoe=Jd,yL=new it([0,119,190]);var gL;let bf=gL=class extends Be{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new gL({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([p({type:String})],bf.prototype,"name",void 0),c([p({type:String})],bf.prototype,"styleUrl",void 0),c([p({type:String})],bf.prototype,"styleName",void 0),c([p({type:ui})],bf.prototype,"portal",void 0),bf=gL=c([R("esri.symbols.support.StyleOrigin")],bf);const vL=bf;var bL;let Nw=bL=class extends Be{constructor(){super(...arguments),this.url=""}clone(){return new bL({url:this.url})}};c([p({type:String})],Nw.prototype,"url",void 0),Nw=bL=c([R("esri.symbols.support.Thumbnail")],Nw);const Qoe={icon:sm,object:EF,line:Ev,path:kF,fill:uy,extrude:zoe,text:kv,water:Xoe},qAe=Ce.ofType({base:Hu,key:"type",typeMap:Qoe,errorContext:"symbol-layer"});let nu=class extends Ui{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=r==null?void 0:r.type,i=n||Ce;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&ie.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){yh(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=Cv(t.styleUrl,n);return new vL({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new vL({portal:(n==null?void 0:n.portal)||ui.getDefault(),styleName:t.styleName,name:t.name});n!=null&&n.messages&&n.messages.push(new Da("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=Ux(t.styleUrl,i);jo(s)&&(s=Oa(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&(i!=null&&i.portal)&&!Tre(t.portal.restUrl,i.portal.restUrl)?i!=null&&i.messages&&i.messages.push(new Da("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Hu||t&&Qoe[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};c([p({json:{read:!1,write:!1}})],nu.prototype,"color",null),c([p({type:qAe,nonNullable:!0,json:{write:!0}}),tr(Ise)],nu.prototype,"symbolLayers",null),c([p({type:vL})],nu.prototype,"styleOrigin",void 0),c([ue("styleOrigin")],nu.prototype,"readStyleOrigin",null),c([ye("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],nu.prototype,"writeStyleOrigin",null),c([p({type:Nw,json:{read:!1}})],nu.prototype,"thumbnail",void 0),c([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],nu.prototype,"type",void 0),nu=c([R("esri.symbols.Symbol3D")],nu);const Iv=nu;let kb=class extends ae{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};c([p({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],kb.prototype,"type",void 0),c([p({readOnly:!0})],kb.prototype,"visible",void 0),kb=c([R("esri.symbols.callouts.Callout3D")],kb);const eae=kb;var wL;let bT=wL=class extends ae{constructor(e){super(e),this.color=new it("white")}clone(){return new wL({color:W(this.color)})}};c([p(Rh)],bT.prototype,"color",void 0),bT=wL=c([R("esri.symbols.callouts.LineCallout3DBorder")],bT);const HAe=bT;var _L;let Kd=_L=class extends eae{constructor(e){super(e),this.type="line",this.color=new it([0,0,0,1]),this.size=Ua(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new _L({color:W(this.color),size:this.size,border:W(this.border)})}};c([Ze({line:"line"})],Kd.prototype,"type",void 0),c([p(Rh)],Kd.prototype,"color",void 0),c([p(Bu)],Kd.prototype,"size",void 0),c([p({type:HAe,json:{write:!0}})],Kd.prototype,"border",void 0),c([p({readOnly:!0})],Kd.prototype,"visible",null),Kd=_L=c([R("esri.symbols.callouts.LineCallout3D")],Kd);const tae=Kd;function IF(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function rae(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!IF(e)}const nae={types:{key:"type",base:eae,typeMap:{line:tae}},json:{write:!0}};var xL;let ig=xL=class extends ae{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new xL({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([p(Bu)],ig.prototype,"screenLength",void 0),c([p({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ig.prototype,"minWorldLength",void 0),c([p({type:Number,json:{write:!0}})],ig.prototype,"maxWorldLength",void 0),ig=xL=c([R("esri.symbols.support.Symbol3DVerticalOffset")],ig);const OF=ig;var wT;const iae=Ce.ofType({base:null,key:"type",typeMap:{text:kv}});let Xd=wT=class extends Iv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new iae,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return rae(this)}hasVisibleVerticalOffset(){return IF(this)}clone(){return new wT({styleOrigin:W(this.styleOrigin),symbolLayers:W(this.symbolLayers),thumbnail:W(this.thumbnail),callout:W(this.callout),verticalOffset:W(this.verticalOffset)})}static fromTextSymbol(e){return new wT({symbolLayers:new Ce([kv.fromTextSymbol(e)])})}};c([p({type:OF,json:{write:!0}})],Xd.prototype,"verticalOffset",void 0),c([p(nae)],Xd.prototype,"callout",void 0),c([p({json:{read:!1,write:!1}})],Xd.prototype,"styleOrigin",void 0),c([p({type:iae})],Xd.prototype,"symbolLayers",void 0),c([Ze({LabelSymbol3D:"label-3d"},{readOnly:!0})],Xd.prototype,"type",void 0),Xd=wT=c([R("esri.symbols.LabelSymbol3D")],Xd);const _k=Xd;var _T;const sae=Ce.ofType({base:null,key:"type",typeMap:{line:Ev,path:kF}}),ZAe=Ce.ofType({base:null,key:"type",typeMap:{line:Ev,path:kF}});let Ib=_T=class extends Iv{constructor(e){super(e),this.symbolLayers=new sae,this.type="line-3d"}clone(){return new _T({styleOrigin:W(this.styleOrigin),symbolLayers:W(this.symbolLayers),thumbnail:W(this.thumbnail)})}static fromSimpleLineSymbol(e){return new _T({symbolLayers:new Ce([Ev.fromSimpleLineSymbol(e)])})}};c([p({type:sae,json:{type:ZAe}})],Ib.prototype,"symbolLayers",void 0),c([Ze({LineSymbol3D:"line-3d"},{readOnly:!0})],Ib.prototype,"type",void 0),Ib=_T=c([R("esri.symbols.LineSymbol3D")],Ib);const cy=Ib;let Qd=class extends Ui{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Qd.prototype,"angle",void 0),c([p({type:["simple-marker","picture-marker"],readOnly:!0})],Qd.prototype,"type",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],Qd.prototype,"xoffset",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],Qd.prototype,"yoffset",void 0),c([p({type:Number,cast:e=>e==="auto"?e:Bt(e),json:{write:!0}})],Qd.prototype,"size",void 0),Qd=c([R("esri.symbols.MarkerSymbol")],Qd);const oae=Qd;var xT;const aae=Ce.ofType({base:null,key:"type",typeMap:{fill:uy}});let Ob=xT=class extends Iv{constructor(e){super(e),this.symbolLayers=new aae,this.type="mesh-3d"}clone(){return new xT({styleOrigin:W(this.styleOrigin),symbolLayers:W(this.symbolLayers),thumbnail:W(this.thumbnail)})}static fromSimpleFillSymbol(e){return new xT({symbolLayers:new Ce([uy.fromSimpleFillSymbol(e)])})}};c([p({type:aae})],Ob.prototype,"symbolLayers",void 0),c([Ze({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ob.prototype,"type",void 0),Ob=xT=c([R("esri.symbols.MeshSymbol3D")],Ob);const qx=Ob;function YAe(e,t,r){return t.imageData?Mre({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):lae(t.url,r)}function lae(e,t){if(!jo(e)){const r=KAe(t);if(r)return Z0(r,"images",e)}return Cv(e,t)}function JAe(e,t,r,n){if(sy(e)){const i=$_(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&Um(r.url,t,"url",n)}else Um(e,t,"url",n)}const uae={json:{read:{source:["imageData","url"],reader:YAe},write:{writer(e,t,r,n){JAe(e,t,this.source,n)}}}},cae={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=lae(t.url,r)),n}}}};function KAe(e){var i,s;if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const n=r==null?void 0:r.type;return n==="feature"||n==="stream"?(i=r.parsedUrl)==null?void 0:i.path:n==="map-image"||n==="tile"?(s=e.url)==null?void 0:s.path:null}var SL;let ia=SL=class extends Boe{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Bt(r)),n!=null&&(i.height=Bt(n)),i}clone(){const e=new SL({color:W(this.color),height:this.height,outline:W(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",W(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([Ze({esriPFS:"picture-fill"},{readOnly:!0})],ia.prototype,"type",void 0),c([p(uae)],ia.prototype,"url",void 0),c([p({type:Number,json:{write:!0}})],ia.prototype,"xscale",void 0),c([p({type:Number,json:{write:!0}})],ia.prototype,"yscale",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],ia.prototype,"width",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],ia.prototype,"height",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],ia.prototype,"xoffset",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],ia.prototype,"yoffset",void 0),c([p(cae)],ia.prototype,"source",void 0),ia=SL=c([R("esri.symbols.PictureFillSymbol")],ia);const PF=ia;var $L;let dl=$L=class extends oae{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Bt(t)),r!=null&&(n.height=Bt(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new $L({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",W(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([p({json:{write:!1}})],dl.prototype,"color",void 0),c([Ze({esriPMS:"picture-marker"},{readOnly:!0})],dl.prototype,"type",void 0),c([p(uae)],dl.prototype,"url",void 0),c([p(cae)],dl.prototype,"source",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],dl.prototype,"height",void 0),c([ue("height",["height","size"])],dl.prototype,"readHeight",null),c([p({type:Number,cast:Bt,json:{write:!0}})],dl.prototype,"width",void 0),c([p({json:{write:!1}})],dl.prototype,"size",void 0),dl=$L=c([R("esri.symbols.PictureMarkerSymbol")],dl);const Ov=dl;var wf;const dae=Ce.ofType({base:null,key:"type",typeMap:{icon:sm,object:EF,text:kv}});let _f=wf=class extends Iv{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new dae,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return rae(this)}hasVisibleVerticalOffset(){return IF(this)}clone(){return new wf({verticalOffset:W(this.verticalOffset),callout:W(this.callout),styleOrigin:W(this.styleOrigin),symbolLayers:W(this.symbolLayers),thumbnail:W(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new wf({symbolLayers:new Ce([sm.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new wf({symbolLayers:new Ce([sm.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var n,i;if(((i=(n=e.data)==null?void 0:n.symbol)==null?void 0:i.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new wf(r!=null&&r.callout?{symbolLayers:new Ce([sm.fromCIMSymbol(e)]),callout:new tae({size:.5,color:new it([0,0,0])}),verticalOffset:new OF({screenLength:40})}:{symbolLayers:new Ce([sm.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new wf({symbolLayers:new Ce([kv.fromTextSymbol(e)])})}};c([p({type:OF,json:{write:!0}})],_f.prototype,"verticalOffset",void 0),c([p(nae)],_f.prototype,"callout",void 0),c([p({type:dae,json:{origins:{"web-scene":{write:!0}}}})],_f.prototype,"symbolLayers",void 0),c([Ze({PointSymbol3D:"point-3d"},{readOnly:!0})],_f.prototype,"type",void 0),_f=wf=c([R("esri.symbols.PointSymbol3D")],_f);const Hc=_f;var Pb;const pae=Ce.ofType({base:null,key:"type",typeMap:{extrude:zoe,fill:uy,icon:sm,line:Ev,object:EF,text:kv,water:Xoe}});let Ab=Pb=class extends Iv{constructor(e){super(e),this.symbolLayers=new pae,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Rm(ie.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Rm(ie.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Ns(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Ni))}clone(){return new Pb({styleOrigin:W(this.styleOrigin),symbolLayers:W(this.symbolLayers),thumbnail:W(this.thumbnail)})}static fromJSON(e){var r;const t=new Pb;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Pb({symbolLayers:new Ce([uy.fromSimpleFillSymbol(e)])})}};c([p({type:pae,json:{write:!0}})],Ab.prototype,"symbolLayers",void 0),c([Ze({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ab.prototype,"type",void 0),Ab=Pb=c([R("esri.symbols.PolygonSymbol3D")],Ab);const Lh=Ab;var TL;const bO=new kt({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let xf=TL=class extends Boe{constructor(...e){super(...e),this.color=new it([0,0,0,.25]),this.outline=new co,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new TL({color:W(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([p()],xf.prototype,"color",void 0),c([p()],xf.prototype,"outline",void 0),c([Ze({esriSFS:"simple-fill"},{readOnly:!0})],xf.prototype,"type",void 0),c([p({type:bO.apiValues,json:{read:bO.read,write:bO.write}})],xf.prototype,"style",void 0),xf=TL=c([R("esri.symbols.SimpleFillSymbol")],xf);const gd=xf;var ML;const wO=new kt({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let iu=ML=class extends oae{constructor(...e){super(...e),this.color=new it([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new co}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Bt(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new ML({angle:this.angle,color:W(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([p()],iu.prototype,"color",void 0),c([ye("color")],iu.prototype,"writeColor",null),c([Ze({esriSMS:"simple-marker"},{readOnly:!0})],iu.prototype,"type",void 0),c([p()],iu.prototype,"size",void 0),c([p({type:wO.apiValues,json:{read:wO.read,write:wO.write}})],iu.prototype,"style",void 0),c([p({type:String,json:{write:!0}})],iu.prototype,"path",null),c([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":co}},json:{default:null,write:!0}})],iu.prototype,"outline",void 0),iu=ML=c([R("esri.symbols.SimpleMarkerSymbol")],iu);const Zu=iu;var CL;let tn=CL=class extends Ui{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new wk,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Bt(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new CL({angle:this.angle,backgroundColor:W(this.backgroundColor),borderLineColor:W(this.borderLineColor),borderLineSize:this.borderLineSize,color:W(this.color),font:this.font&&this.font.clone(),haloColor:W(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([p({type:it,json:{write:!0}})],tn.prototype,"backgroundColor",void 0),c([p({type:it,json:{write:!0}})],tn.prototype,"borderLineColor",void 0),c([p({type:Number,json:{write:!0},cast:Bt})],tn.prototype,"borderLineSize",void 0),c([p({type:wk,json:{write:!0}})],tn.prototype,"font",void 0),c([p({...Yoe,json:{write:!0}})],tn.prototype,"horizontalAlignment",void 0),c([p({type:Boolean,json:{write:!0}})],tn.prototype,"kerning",void 0),c([p({type:it,json:{write:!0}})],tn.prototype,"haloColor",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],tn.prototype,"haloSize",void 0),c([p({type:Boolean,json:{write:!0}})],tn.prototype,"rightToLeft",void 0),c([p({type:Boolean,json:{write:!0}})],tn.prototype,"rotated",void 0),c([p({type:String,json:{write:!0}})],tn.prototype,"text",void 0),c([Ze({esriTS:"text"},{readOnly:!0})],tn.prototype,"type",void 0),c([p({...Joe,json:{write:!0}})],tn.prototype,"verticalAlignment",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],tn.prototype,"xoffset",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],tn.prototype,"yoffset",void 0),c([p({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],tn.prototype,"angle",void 0),c([p({type:Number,json:{write:!0}})],tn.prototype,"width",void 0),c([p({type:Number})],tn.prototype,"lineWidth",void 0),c([ye("lineWidth")],tn.prototype,"writeLineWidth",null),c([tr("lineWidth")],tn.prototype,"castLineWidth",null),c([p(Zoe)],tn.prototype,"lineHeight",void 0),c([ye("lineHeight")],tn.prototype,"writeLineHeight",null),tn=CL=c([R("esri.symbols.TextSymbol")],tn);const dy=tn;var EL;let pl=EL=class extends Ui{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:ui.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new EL({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,n=r?this._fetchCacheKey:null;if(r!=null){const a=n&&r.get(n);if(a)return a.clone()}const{resolveWebStyleSymbol:i}=await Q(()=>import("./webStyleSymbolUtils-S0zvDwt7.js"),__vite__mapDeps([120,121]),import.meta.url);_r(t);const s=i(this,{portal:this.portal},e,t);s.catch(a=>{ie.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r!=null&&r.set(n,o.clone()),o):null}};c([p({json:{write:!1}})],pl.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],pl.prototype,"styleName",void 0),c([p({type:ui,json:{write:!1}})],pl.prototype,"portal",void 0),c([p({type:String,json:{read:fF,write:Um}})],pl.prototype,"styleUrl",void 0),c([p({type:Nw,json:{read:!1}})],pl.prototype,"thumbnail",void 0),c([p({type:String,json:{write:!0}})],pl.prototype,"name",void 0),c([Ze({styleSymbolReference:"web-style"},{readOnly:!0})],pl.prototype,"type",void 0),c([p()],pl.prototype,"_fetchCacheKey",null),pl=EL=c([R("esri.symbols.WebStyleSymbol")],pl);const py=pl;function p_t(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function nW(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const xm={base:Ui,key:"type",typeMap:{"simple-fill":gd,"picture-fill":PF,"picture-marker":Ov,"simple-line":co,"simple-marker":Zu,text:dy,"label-3d":_k,"line-3d":cy,"mesh-3d":qx,"point-3d":Hc,"polygon-3d":Lh,"web-style":py,cim:Ah},errorContext:"symbol"},h_t={base:Ui,key:"type",typeMap:{"picture-marker":Ov,"simple-marker":Zu,"point-3d":Hc,cim:Ah},errorContext:"symbol"},f_t={base:Ui,key:"type",typeMap:{"simple-line":co,"line-3d":cy,cim:Ah},errorContext:"symbol"},m_t={base:Ui,key:"type",typeMap:{"simple-fill":gd,"picture-fill":PF,"polygon-3d":Lh,cim:Ah},errorContext:"symbol"},XAe={base:Ui,key:"type",typeMap:{"picture-marker":Ov,"simple-marker":Zu,text:dy,"web-style":py,cim:Ah},errorContext:"symbol"},QAe=wv({types:xm}),hae={base:Ui,key:"type",typeMap:{"simple-fill":gd,"picture-fill":PF,"picture-marker":Ov,"simple-line":co,"simple-marker":Zu,text:dy,"line-3d":cy,"mesh-3d":qx,"point-3d":Hc,"polygon-3d":Lh,"web-style":py,cim:Ah},errorContext:"symbol"},eRe={base:Ui,key:"type",typeMap:{text:dy,"label-3d":_k},errorContext:"symbol"},iW={base:Ui,key:"type",typeMap:{"line-3d":cy,"mesh-3d":qx,"point-3d":Hc,"polygon-3d":Lh,"web-style":py,cim:Ah},errorContext:"symbol"},tRe={base:Ui,key:"type",typeMap:{"label-3d":_k},errorContext:"symbol"},fae=Nu(xm);var kL;function rRe(e){if(!e)return null;const t={};for(const r in e){const n=dh(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function nRe(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let xs=kL=class extends Fr(ae){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:ww(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&jxe(ie.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new kL({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:nRe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:i3(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,n){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(i.action=n),e==="attributes"&&(i.attributeName=n),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([Vo(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Vo(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};c([p({value:null,json:{read:rRe}})],xs.prototype,"aggregateGeometries",null),c([p({value:null})],xs.prototype,"attributes",null),c([p({value:null,types:oy,json:{read:dh}})],xs.prototype,"geometry",null),c([p({type:Boolean})],xs.prototype,"isAggregate",void 0),c([p({clonable:"reference"})],xs.prototype,"layer",void 0),c([p({clonable:"reference"})],xs.prototype,"origin",void 0),c([p({type:Ph})],xs.prototype,"popupTemplate",void 0),c([p({clonable:"reference"})],xs.prototype,"sourceLayer",void 0),c([p({value:null,types:xm})],xs.prototype,"symbol",null),c([p({type:Boolean,value:!0})],xs.prototype,"visible",null),xs=kL=c([R("esri.Graphic")],xs),function(e){e.generateUID=ww}(xs||(xs={}));const Uo=xs;let Sm=class extends Ow{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};c([N9({Type:Uo,ensureType:Xr(Uo)})],Sm.prototype,"itemType",void 0),Sm=c([R("esri.support.GraphicsCollection")],Sm);let ep=class extends Be{constructor(t){super(t),this.view=null,this.baseLayerViews=new Ce,this.referenceLayerViews=new Ce,this._loadingHandle=Se(()=>{var r,n;return(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap},r=>{r&&r.load().catch(()=>{})},Cr)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var r,n,i;if((r=this.view)!=null&&r.suspended)return!1;const t=(i=(n=this.view)==null?void 0:n.map)==null?void 0:i.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(s=>s.updating)||this.referenceLayerViews.some(s=>s.updating))}};c([p({constructOnly:!0})],ep.prototype,"view",void 0),c([p({readOnly:!0})],ep.prototype,"baseLayerViews",void 0),c([p({readOnly:!0})],ep.prototype,"referenceLayerViews",void 0),c([p({readOnly:!0})],ep.prototype,"suspended",null),c([p({type:Boolean,readOnly:!0})],ep.prototype,"updating",null),ep=c([R("esri.views.BasemapView")],ep);function iRe(e){return"tryRecycleWith"in e}function sRe(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let oRe=class{constructor(t,r,n){this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=zo(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Ia(this._controller.signal,()=>{const i=new q("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(i)})}tryRecycle(t){if(!this.done||!this.layerView||!iRe(this.layerView))return null;const r=this.layer.type,n=this._controller.signal;for(let i=0;i<t.length;i++){const s=t[i];if(s.type!==r)continue;const o=this.layerView.tryRecycleWith(s,{signal:n});if(o){t.splice(i,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=Promise.race([o.then(()=>(_r(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),new Promise((u,d)=>Ia(this._controller.signal,()=>d(Bn())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:n}=this;r.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var i,s;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:n}=this;this._map=n.map;try{let o,a;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),lRe(r))o=await r.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new q("layer:view-not-supported","No layerview implementation was found");const d=await this.layerViewImporter.importLayerView(r);_r(t),o="default"in d?new d.default({layer:r,view:n}):new d({layer:r,view:n})}const l=()=>{a=gn(a),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};a=Ia(t,l),_r(t);try{await o.when()}catch(d){throw l(),d}if(!((s=(i=this._map)==null?void 0:i.allLayers)==null?void 0:s.includes(r)))return l(),void this._deferred.reject(new q("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=o,r.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){r.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:r,error:o}),this.done=!0,this._deferred.reject(new q("layerview:create-error","layerview creation failed",{layer:r,error:o}))}}},sa=class extends Be{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new _m,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const r=(n=this.view.map)==null?void 0:n.allLayers;if(r)for(const i of r)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=zo(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(bv(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,u,d;if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,i=[],s=this.view.ready,o=h=>{if(h!=null){for(const f of h)if(f){n.add(f);const y=this._layerLayerViewInfoMap.get(f);y&&s?y.start():y||this._recyclingInfoMap.has(f)||i.push(f),"layers"in f&&f.layers&&o(f.layers)}}};for(const h of this._rootCollectionNames)o(ks(this,h));for(const[h,f]of this._layerLayerViewInfoMap)if(!n.has(h)){this._layerLayerViewInfoMap.delete(f.layer);const y=f.tryRecycle(i);y?(this.notifyChange("updating"),this._recyclingInfoMap.set(f.layer,f),y.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(f.layer),this._layerLayerViewInfoMap.set(f.layer,f),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(f.layer),f.destroy(),this._reschedule()})):f.destroy()}for(const[h,f]of this._recyclingInfoMap)n.has(h)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(f.layer),f.destroy());for(const h of i)this._createLayerView(h);this._refreshCollections();const a=[(l=r==null?void 0:r.ground)==null?void 0:l.layers,(u=r==null?void 0:r.basemap)==null?void 0:u.baseLayers,(d=r==null?void 0:r.basemap)==null?void 0:d.referenceLayers,r==null?void 0:r.layers].filter(h=>!!h);n.forEach(h=>"layers"in h&&a.push(h.layers)),this.addHandles(a.map(h=>this._watchUpdatingTracking.addOnCollectionChange(()=>h,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Ns(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Se(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),Io)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),hO(this._recyclingInfoMap),hO(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Bn()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||VE(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(hO(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new q("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){var s;this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(t);if(!(n!=null&&n.done))return!0;const i=n.layerView;return!(!i||!r||i.parent===r)||!!(n.done&&i&&"layers"in t&&((s=t.layers)!=null&&s.length))&&t.layers.some(o=>this.isCreatingLayerViewsForLayer(o,i))}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(ks(this,t),ks(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,n){if(!t||!r)return void(r&&r.removeAll());let i=0;for(const s of t){const o=this._layerLayerViewInfoMap.get(s);if(!(o!=null&&o.layerView))continue;const a=o.layerView;a.layer=s,a.parent=n,r.at(i)!==a&&r.splice(i,0,a),"layers"in s&&sRe(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),i+=1}i<r.length&&r.splice(i,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new oRe(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),n=>{n&&(ms(n)||n.name==="cancelled:layerview-create")||ie.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([p()],sa.prototype,"_workPromise",void 0),c([p({readOnly:!0})],sa.prototype,"_watchUpdatingTracking",void 0),c([p({readOnly:!0})],sa.prototype,"_layersToLayerViews",null),c([p({readOnly:!0})],sa.prototype,"_rootCollectionNames",null),c([p()],sa.prototype,"layerViewImporter",void 0),c([p()],sa.prototype,"supportsGround",void 0),c([p({readOnly:!0})],sa.prototype,"updating",null),c([p({readOnly:!0})],sa.prototype,"updatingRemaining",null),c([p({constructOnly:!0})],sa.prototype,"view",void 0),sa=c([R("esri.views.LayerViewManager")],sa);const aRe=sa;function lRe(e){return"createLayerView"in e&&e.createLayerView!=null}let xo=class extends Be{constructor(t){super(t),this.factor=1.5,this.offset=Fi(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([p({type:Number})],xo.prototype,"factor",void 0),c([p({nonNullable:!0})],xo.prototype,"offset",void 0),c([p()],xo.prototype,"position",void 0),c([p({type:Number,range:{min:0}})],xo.prototype,"size",void 0),c([p()],xo.prototype,"maskUrl",void 0),c([p()],xo.prototype,"maskEnabled",void 0),c([p()],xo.prototype,"overlayUrl",void 0),c([p()],xo.prototype,"overlayEnabled",void 0),c([p({readOnly:!0})],xo.prototype,"version",null),c([p({type:Boolean})],xo.prototype,"visible",void 0),xo=c([R("esri.views.Magnifier")],xo);const mae=xo;let Fw=class{constructor(t){this._observable=new Nx,this._map=new Map(t)}get size(){return et(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return et(this._observable),this._map.entries()}forEach(t,r){et(this._observable),this._map.forEach((n,i)=>t.call(r,n,i,this),r)}get(t){return et(this._observable),this._map.get(t)}has(t){return et(this._observable),this._map.has(t)}keys(){return et(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return et(this._observable),this._map.values()}[Symbol.iterator](){return et(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var IL;let Rb=IL=class extends ae{constructor(e){super(e),this.name=null,this.code=null}clone(){return new IL({name:this.name,code:this.code})}};c([p({type:String,json:{write:!0}})],Rb.prototype,"name",void 0),c([p({type:[String,Number],json:{write:!0}})],Rb.prototype,"code",void 0),Rb=IL=c([R("esri.layers.support.CodedValue")],Rb);const uRe=new kt({inherited:"inherited",codedValue:"coded-value",range:"range"});let Lb=class extends ae{constructor(t){super(t),this.name=null,this.type=null}};c([p({type:String,json:{write:!0}})],Lb.prototype,"name",void 0),c([Ze(uRe)],Lb.prototype,"type",void 0),Lb=c([R("esri.layers.support.Domain")],Lb);const xk=Lb;var OL;let jb=OL=class extends xk{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(t=n.name),!!t))}return t}clone(){return new OL({codedValues:W(this.codedValues),name:this.name})}};c([p({type:[Rb],json:{write:!0}})],jb.prototype,"codedValues",void 0),c([Ze({codedValue:"coded-value"})],jb.prototype,"type",void 0),jb=OL=c([R("esri.layers.support.CodedValueDomain")],jb);const yae=jb;var PL;let ST=PL=class extends xk{constructor(e){super(e),this.type="inherited"}clone(){return new PL}};c([Ze({inherited:"inherited"})],ST.prototype,"type",void 0),ST=PL=c([R("esri.layers.support.InheritedDomain")],ST);const gae=ST;var AL;let sg=AL=class extends xk{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new AL({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([p({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],sg.prototype,"maxValue",void 0),c([p({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[0]}},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],sg.prototype,"minValue",void 0),c([Ze({range:"range"})],sg.prototype,"type",void 0),sg=AL=c([R("esri.layers.support.RangeDomain")],sg);const vae=sg,bae={key:"type",base:xk,typeMap:{range:vae,"coded-value":yae,inherited:gae}};function Sk(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return vae.fromJSON(e);case"codedValue":return yae.fromJSON(e);case"inherited":return gae.fromJSON(e)}return null}const cRe=new kt({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var RL;const dRe=new kt({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let es=RL=class extends ae{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?dRe.fromJSON(r.fieldValueType):null}clone(){var e;return new RL({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};c([p({type:String,json:{write:!0}})],es.prototype,"alias",void 0),c([p({type:[String,Number],json:{write:{allowNull:!0}}})],es.prototype,"defaultValue",void 0),c([p()],es.prototype,"description",void 0),c([ue("description")],es.prototype,"readDescription",null),c([p({types:bae,json:{read:{reader:Sk},write:!0}})],es.prototype,"domain",void 0),c([p({type:Boolean,json:{write:!0}})],es.prototype,"editable",void 0),c([p({type:mr,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],es.prototype,"length",void 0),c([p({type:String,json:{write:!0}})],es.prototype,"name",void 0),c([p({type:Boolean,json:{write:!0}})],es.prototype,"nullable",void 0),c([Ze(cRe)],es.prototype,"type",void 0),c([p()],es.prototype,"valueType",void 0),c([ue("valueType",["description"])],es.prototype,"readValueType",null),c([p({type:Boolean,json:{read:!1}})],es.prototype,"visible",void 0),es=RL=c([R("esri.layers.support.Field")],es);const AF=es;var LL;let og=LL=class extends ae{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new LL({mapLayerId:e,gdbVersion:t})}};c([Ze({mapLayer:"map-layer"})],og.prototype,"type",void 0),c([p({type:mr,json:{write:!0}})],og.prototype,"mapLayerId",void 0),c([p({type:String,json:{write:!0}})],og.prototype,"gdbVersion",void 0),og=LL=c([R("esri.layers.support.source.MapLayerSource")],og);var jL;let vc=jL=class extends ae{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:(n==null?void 0:n.clone())??void 0,geometryType:i};return new jL(s)}};c([Ze({queryTable:"query-table"})],vc.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],vc.prototype,"workspaceId",void 0),c([p({type:String,json:{write:!0}})],vc.prototype,"query",void 0),c([p({type:String,json:{write:!0}})],vc.prototype,"oidFields",void 0),c([p({type:Qe,json:{write:!0}})],vc.prototype,"spatialReference",void 0),c([Ze(y3e)],vc.prototype,"geometryType",void 0),vc=jL=c([R("esri.layers.support.source.QueryTableDataSource")],vc);var NL;let ag=NL=class extends ae{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new NL({workspaceId:e,dataSourceName:t})}};c([Ze({raster:"raster"})],ag.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],ag.prototype,"dataSourceName",void 0),c([p({type:String,json:{write:!0}})],ag.prototype,"workspaceId",void 0),ag=NL=c([R("esri.layers.support.source.RasterDataSource")],ag);var FL;let Sf=FL=class extends ae{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new FL({workspaceId:e,gdbVersion:t,dataSourceName:r})}};c([Ze({table:"table"})],Sf.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Sf.prototype,"workspaceId",void 0),c([p({type:String,json:{write:!0}})],Sf.prototype,"gdbVersion",void 0),c([p({type:String,json:{write:!0}})],Sf.prototype,"dataSourceName",void 0),Sf=FL=c([R("esri.layers.support.source.TableDataSource")],Sf);var DL,zL;const pRe=ys()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let So=DL=class extends ae{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return sW()(e,t,r)}castLeftTableSource(e){return Nu(VL(),e)}readRightTableSource(e,t,r){return sW()(e,t,r)}castRightTableSource(e){return Nu(VL(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(r==null?void 0:r.clone())??void 0,rightTableSource:(n==null?void 0:n.clone())??void 0,joinType:i};return new DL(s)}};c([Ze({joinTable:"join-table"})],So.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],So.prototype,"leftTableKey",void 0),c([p({type:String,json:{write:!0}})],So.prototype,"rightTableKey",void 0),c([p({json:{write:!0}})],So.prototype,"leftTableSource",void 0),c([ue("leftTableSource")],So.prototype,"readLeftTableSource",null),c([tr("leftTableSource")],So.prototype,"castLeftTableSource",null),c([p({json:{write:!0}})],So.prototype,"rightTableSource",void 0),c([ue("rightTableSource")],So.prototype,"readRightTableSource",null),c([tr("rightTableSource")],So.prototype,"castRightTableSource",null),c([Ze(pRe)],So.prototype,"joinType",void 0),So=DL=c([R("esri.layers.support.source.JoinTableDataSource")],So);let _O=null;function sW(){return _O||(_O=wv({types:VL()})),_O}let xO=null;function VL(){return xO||(xO={key:"type",base:null,typeMap:{"data-layer":xl,"map-layer":og}}),xO}const hRe={key:"type",base:null,typeMap:{"join-table":So,"query-table":vc,raster:ag,table:Sf}};let xl=zL=class extends ae{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new zL({fields:e,dataSource:t})}};c([Ze({dataLayer:"data-layer"})],xl.prototype,"type",void 0),c([p({type:[AF],json:{write:!0}})],xl.prototype,"fields",void 0),c([p({types:hRe,json:{write:!0}})],xl.prototype,"dataSource",void 0),xl=zL=c([R("esri.layers.support.source.DataLayerSource")],xl),xl.from=Xr(xl);let $f=class extends Fr(ae){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([p({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],$f.prototype,"onFields",void 0),c([p({type:String,json:{write:!0}})],$f.prototype,"operator",void 0),c([p({type:String,json:{write:!0}})],$f.prototype,"searchTerm",void 0),c([p({type:String,json:{write:!0}})],$f.prototype,"searchType",void 0),$f=c([R("esri.rest.support.FullTextSearch")],$f);const wae=$f;var BL;const oW=new kt({upperLeft:"upper-left",lowerLeft:"lower-left"});let Tf=BL=class extends ae{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new BL(W({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([p({type:Rt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Tf.prototype,"extent",void 0),c([p({type:["view","edit"],json:{write:!0}})],Tf.prototype,"mode",void 0),c([p({type:String,json:{read:oW.read,write:oW.write}})],Tf.prototype,"originPosition",void 0),c([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Tf.prototype,"tolerance",void 0),Tf=BL=c([R("esri.rest.support.QuantizationParameters")],Tf);const _ae=Tf,fRe=new kt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var UL;const aW=new kt({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let hl=UL=class extends ae{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=W(e))}clone(){return new UL({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:W(this.statisticParameters)})}};c([p({type:Number,json:{write:!0}})],hl.prototype,"maxPointCount",void 0),c([p({type:Number,json:{write:!0}})],hl.prototype,"maxRecordCount",void 0),c([p({type:Number,json:{write:!0}})],hl.prototype,"maxVertexCount",void 0),c([p({type:String,json:{write:!0}})],hl.prototype,"onStatisticField",void 0),c([p({type:String,json:{write:!0}})],hl.prototype,"outStatisticFieldName",void 0),c([p({type:String,json:{read:{source:"statisticType",reader:aW.read},write:{target:"statisticType",writer:aW.write}}})],hl.prototype,"statisticType",void 0),c([p({type:Object})],hl.prototype,"statisticParameters",void 0),c([ye("statisticParameters")],hl.prototype,"writeStatisticParameters",null),hl=UL=c([R("esri.rest.support.StatisticDefinition")],hl);const mRe=hl;var $T;const yRe=new kt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let tt=$T=class extends ae{static from(e){return BE($T,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const n in e){const i=e[n];Array.isArray(i)?r[n]=i.map(s=>s instanceof Date?s.getTime():s):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new $T(W({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};tt.MAX_MAX_RECORD_COUNT_FACTOR=5,c([p({json:{write:!0}})],tt.prototype,"aggregateIds",void 0),c([p({type:Boolean,json:{write:!0}})],tt.prototype,"cacheHint",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"compactGeometryEnabled",void 0),c([p({json:{write:!0}})],tt.prototype,"datumTransformation",void 0),c([tr("datumTransformation")],tt.prototype,"castDatumTransformation",null),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"defaultSpatialReferenceEnabled",void 0),c([p({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],tt.prototype,"distance",void 0),c([p({type:xl,json:{write:!0}})],tt.prototype,"dynamicDataSource",void 0),c([p({type:String,json:{write:!0}})],tt.prototype,"formatOf3DObjects",void 0),c([p({type:[wae],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],tt.prototype,"fullText",void 0),c([p({type:String,json:{write:!0}})],tt.prototype,"gdbVersion",void 0),c([p({types:oy,json:{read:dh,write:!0}})],tt.prototype,"geometry",void 0),c([p({type:Number,json:{write:!0}})],tt.prototype,"geometryPrecision",void 0),c([p({type:[String],json:{write:!0}})],tt.prototype,"groupByFieldsForStatistics",void 0),c([p({type:String,json:{write:!0}})],tt.prototype,"having",void 0),c([p({type:Date})],tt.prototype,"historicMoment",void 0),c([ye("historicMoment")],tt.prototype,"writeHistoricMoment",null),c([p({type:Number,json:{write:!0}})],tt.prototype,"maxAllowableOffset",void 0),c([p({type:Number,cast:e=>e<1?1:e>tt.MAX_MAX_RECORD_COUNT_FACTOR?tt.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],tt.prototype,"maxRecordCountFactor",void 0),c([p({type:["xyFootprint"],json:{write:!0}})],tt.prototype,"multipatchOption",void 0),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],tt.prototype,"num",void 0),c([p({json:{write:!0}})],tt.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],tt.prototype,"orderByFields",void 0),c([p({type:[String],json:{write:!0}})],tt.prototype,"outFields",void 0),c([p({type:Qe,json:{name:"outSR",write:!0}})],tt.prototype,"outSpatialReference",void 0),c([p({type:[mRe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],tt.prototype,"outStatistics",void 0),c([p({json:{write:!0}})],tt.prototype,"parameterValues",void 0),c([ye("parameterValues")],tt.prototype,"writeParameterValues",null),c([p({type:nt,json:{write:!0}})],tt.prototype,"pixelSize",void 0),c([p({type:_ae,json:{write:!0}})],tt.prototype,"quantizationParameters",void 0),c([p({type:[Object],json:{write:!0}})],tt.prototype,"rangeValues",void 0),c([p({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],tt.prototype,"relationParameter",void 0),c([p({type:String,json:{write:!0}})],tt.prototype,"resultType",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"returnCentroid",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"returnDistinctValues",void 0),c([p({type:Boolean,json:{default:!0,write:!0}})],tt.prototype,"returnExceededLimitFeatures",void 0),c([p({type:Boolean,json:{write:!0}})],tt.prototype,"returnGeometry",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"returnQueryGeometry",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"returnM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],tt.prototype,"returnZ",void 0),c([p({type:Qe,json:{write:!0}})],tt.prototype,"sourceSpatialReference",void 0),c([Ze(fRe,{ignoreUnknown:!1,name:"spatialRel"})],tt.prototype,"spatialRelationship",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],tt.prototype,"start",void 0),c([ye("start"),ye("num")],tt.prototype,"writeStart",null),c([p({type:String,json:{write:!0}})],tt.prototype,"sqlFormat",void 0),c([p({type:String,json:{write:!0}})],tt.prototype,"text",void 0),c([p({type:Vu,json:{write:!0}})],tt.prototype,"timeExtent",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],tt.prototype,"timeReferenceUnknownClient",void 0),c([Ze(yRe,{ignoreUnknown:!1}),p({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],tt.prototype,"units",void 0),c([p({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],tt.prototype,"where",void 0),c([ye("where")],tt.prototype,"writeWhere",null),tt=$T=c([R("esri.rest.support.Query")],tt);const cd=tt;function M2(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let bc=class extends Za.EventedAccessor{constructor(t){super(t),this._selectionMap=new Fw,this._sources=new Ce,this._trashCan=[],this._layerEditHandles=new Ce,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([Se(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Ns(()=>this.sources,"change",r=>{const n=this._selectionMap;for(const i of r.removed)n.delete(i);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new Ce;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(r=>"sublayers"in r&&r.sublayers?r.sublayers:null).forEach(r=>{(M2(r)&&!uOe(r)||uf(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(gn)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[r,n]=t;return{layer:r,selection:[...n.selection]}})}get count(){let t=0;for(const r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){yh(t,this._sources)}async getSelectedFeatures(t,r={},n="layerView"){const{view:i,selections:s}=this,o=(t!==void 0?s.filter(a=>t.includes(a.layer)):s).filter(a=>a.selection.length>0).map(async a=>{const{layer:l,selection:u}=a,d=uf(l)?l.parent:l;if(d==null||!uW(d))return null;if(n==="layer")return cW(d,u,r);if(lW(d))return null;const h=await i.whenLayerView(d).catch(()=>null);return h?cW(h,u,r):null});return(await Promise.all(o)).filter(a=>a!=null)}updateSelection(t){const r=new Map;for(const[s,o]of this._selectionMap)r.set(s,[...o.selection]);let n=!1;const i=t.current.concat(t.added);for(const s of i){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(M2(o)||uf(o))&&a!==null){const l=o9(r,o,()=>[]);l.includes(a)||(l.push(a),n=!0)}}for(const s of t.removed){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(M2(o)||uf(o))&&a!==null){const l=r.get(o),u=l==null?void 0:l.indexOf(a);u!==void 0&&u>=0&&(l==null||l.splice(u,1),n=!0)}}if(n){const{_selectionMap:s,_trashCan:o}=this,a=[];for(const[l,u]of r){const d=s.get(l);d!==void 0&&o.push(d),s.set(l,{selection:u}),a.push({layer:l,selection:u,...cB(d!==void 0?d.selection:[],u)})}this._onSelectionChange(a)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){const r=this._selectionMap.get(t);return r==null?void 0:r.selection}appendToSelection(t,r){const n=this._selectionMap.get(t),i=n!==void 0?[...n.selection]:[];for(const s of r)i.includes(s)||i.push(s);this._setSelection(t,i)}removeFromSelection(t,r){const n=this._selectionMap.get(t);if(!n)return;const i=[];for(const s of n.selection)r.includes(s)||i.push(s);this._setSelection(t,i)}toggleInSelection(t,r){const n=this._selectionMap.get(t);if(!n||n.selection.length===0)return void this._setSelection(t,r);const i=new Set(n.selection),s=new Set(r),o=GSe(i,s);this._setSelection(t,Array.from(o))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const r=[];for(const[n,i]of this._selectionMap.entries())r.push({layer:n,added:[],removed:[...i.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var o;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const a=this._trashCan.pop();(o=a==null?void 0:a.highlightHandle)==null||o.remove()}const{sources:t,view:r,_selectionMap:n,showHighlight:i}=this,s=this._vizTaskId;for(const a of t){const l=n.get(a),u=uf(a)?a.parent:a;if(u!=null&&uW(u)){if(lW(u))continue;r.whenLayerView(u).then(d=>{var h;(h=l==null?void 0:l.highlightHandle)==null||h.remove(),l!=null&&i&&s===this._vizTaskId&&"highlight"in d&&typeof d.highlight=="function"&&l.selection.length>0&&(l.highlightHandle=d.highlight(l.selection,"selection"))}).catch(()=>{var d;(d=l==null?void 0:l.highlightHandle)==null||d.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(gn);for(const t of this.sources){const r=uf(t)?t.parent:t;if(r!=null&&M2(r)){const n=r.on("edits",i=>{this._handleEditChanges(i,t)});this._layerEditHandles.push(n)}}}_handleEditChanges(t,r){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){const n=t.deletedFeatures.filter(i=>i.error==null).map(i=>i.objectId).filter(zi);this.removeFromSelection(r,n)}}_setSelection(t,r){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const n=this._selectionMap.get(t);if(n===void 0||!vRe(n,{selection:r})){n!==void 0&&this._trashCan.push(n),this._selectionMap.set(t,{selection:[...r]});const i={layer:t,selection:[...r],...cB(n!==void 0?n.selection:[],r)};this._onSelectionChange([i])}}};c([p({readOnly:!0,nonNullable:!0})],bc.prototype,"selections",null),c([p({readOnly:!0,nonNullable:!0})],bc.prototype,"count",null),c([p({constructOnly:!0,nonNullable:!0})],bc.prototype,"view",void 0),c([p({readOnly:!0,nonNullable:!0})],bc.prototype,"hasSelection",null),c([p()],bc.prototype,"showHighlight",void 0),c([p()],bc.prototype,"sources",null),bc=c([R("esri.views.SelectionManager")],bc);const lW=e=>{var t;return uf(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},gRe=e=>e.layer!==void 0,uW=e=>(e==null?void 0:e.when)!==void 0,vRe=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const r=[...e.selection],n=[...t.selection];if(r.length!==n.length)return!1;r.sort(),n.sort();for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1}return!0},cW=async(e,t,r={})=>{let n;if(gRe(e)){const i=e;n=i===void 0?null:await i.queryFeatures(new cd({...r,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const i=e;n=i===void 0?null:await i.queryFeatures(new cd({...r,objectIds:t})).then(s=>({data:s,layer:i}))}return n},bRe=bc;let Nb=class extends Fr(Be){constructor(t){super(t),this.accentColor=new it([255,127,0]),this.textColor=new it([255,255,255])}};c([p({type:it,nonNullable:!0})],Nb.prototype,"accentColor",void 0),c([p({type:it,nonNullable:!0})],Nb.prototype,"textColor",void 0),Nb=c([R("esri.views.Theme")],Nb);const GL=Nb;var dW;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(dW||(dW={}));const xae=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Sae={};function $ae(e){return!!Sae[e]}function wRe(e){for(const t of e)if(!$ae(t))return!1;return!0}xae.forEach(e=>{Sae[e]=!0});let _Re=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:n},i)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(i,[r],n)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,n,i){const s=Array.isArray(t)?t:t.split(",");if(!wRe(s))return s.some($ae)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(r)?a=r:(o=r,a=[]),typeof n=="function"?o=n:i=n,i=i??Qp.DEFAULT;const l=this._createUniqueGroupName(),u=new xRe(this.view,s,a,o);this._handlers.set(l,{handler:u,priority:i});for(const d of s){const h=this._handlerCounts.get(d)||0;this._handlerCounts.set(d,h+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],i),gr(()=>this._removeHandler(l,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of r){const i=this._handlerCounts.get(n);i===void 0||(i===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,i-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},xRe=class extends ci{constructor(t,r,n,i){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of r)switch(s){case"click":this.registerIncoming("click",n,o=>i(TRe(t,o)));break;case"double-click":this.registerIncoming("double-click",n,o=>i(MRe(t,o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>i(CRe(t,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>i(ERe(t,o)));break;case"hold":this.registerIncoming("hold",n,o=>i(kRe(t,o)));break;case"drag":this.registerIncoming("drag",n,o=>{const a=this._wrapDrag(o);a&&i(a)});break;case"key-down":this.registerIncoming("key-down",n,o=>i(IRe(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>i(ORe(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>i(C1(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>i(C1(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>i(C1(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>i(PRe(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>i(ARe(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>i(C1(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>i(C1(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{i(RRe(o))});break;case"focus":this.registerIncoming("focus",n,o=>{i(SRe(o))});break;case"blur":this.registerIncoming("blur",n,o=>{i($Re(o))})}}_wrapDrag(t){const r=t.data,{x:n,y:i}=r.center,{action:s,pointerType:o,button:a}=r;if(s==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const l=r.pointer.native,u=r.buttons,{cancelable:d,timestamp:h}=t,f={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:f,pointerType:o,button:a,buttons:u,radius:r.radius,angle:cre(r.angle),native:l,timestamp:h,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}};function SRe(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function $Re(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function TRe(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:u,timestamp:d}=t;return{type:"click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,screenPoint:Fi(s,o),mapPoint:Hx(e,s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}function MRe(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:u,timestamp:d}=t;return{type:"double-click",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:d,mapPoint:Hx(e,s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}function CRe(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,u=a.pointerId,{cancelable:d,timestamp:h}=t;return{type:"immediate-click",pointerId:u,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:h,mapPoint:Hx(e,s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}function ERe(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a,eventId:l}=t.data,u=a.pointerId,{cancelable:d,timestamp:h}=t;return{type:"immediate-double-click",pointerId:u,pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:h,mapPoint:Hx(e,s,o),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}function kRe(e,t){const{pointerType:r,button:n,buttons:i,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:u}=t;return{type:"hold",pointerType:r,button:n,buttons:i,x:s,y:o,native:a,timestamp:u,mapPoint:Hx(e,s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}function Hx(e,t,r){return e.toMap(Fi(t,r),{exclude:[]})}function IRe(e){const{key:t,repeat:r,native:n}=e.data,{cancelable:i,timestamp:s}=e;return{type:"key-down",key:t,repeat:r,native:n,timestamp:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function ORe(e){const{key:t,native:r}=e.data,{cancelable:n,timestamp:i}=e;return{type:"key-up",key:t,native:r,timestamp:i,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:s=>e.async(s),preventDefault:()=>e.preventDefault()}}function C1(e,t){const{x:r,y:n,button:i,buttons:s,native:o,eventId:a}=e.data,l=o.pointerId,u=o.pointerType,{cancelable:d,timestamp:h}=e;return{type:t,x:r,y:n,pointerId:l,pointerType:u,button:i,buttons:s,native:o,timestamp:h,eventId:a,cancelable:d,stopPropagation:()=>e.stopPropagation(),async:f=>e.async(f),preventDefault:()=>e.preventDefault()}}function PRe(e){const{x:t,y:r,buttons:n,native:i,eventId:s}=e.data.currentEvent,{button:o}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,u=e.data.action,d={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:h,timestamp:f}=e;return{type:"pointer-drag",x:t,y:r,pointerId:a,pointerType:l,button:o,buttons:n,action:u,origin:d,native:i,timestamp:f,eventId:s,cancelable:h,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}function ARe(e){const{cancelable:t,data:r,timestamp:n}=e,{x:i,y:s,deltaY:o,native:a}=r;return{type:"mouse-wheel",x:i,y:s,deltaY:o,native:a,timestamp:n,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}function RRe(e){const{action:t,state:r,device:n}=e.data,{cancelable:i,timestamp:s}=e,{buttons:o,axes:a}=r;return{type:"gamepad",device:n,timestamp:s,action:t,buttons:o,axes:a,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}var R_,pW,hW;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(R_||(R_={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(pW||(pW={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(hW||(hW={}));function LRe(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return ie.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function WL(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(R_.USER)&&e.getEditableFlag(R_.MANAGER)}function su(e){return Fi(e.x,e.y)}function Tae(e,t){var n;const r=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return r?Fi(t.clientX-r.left,t.clientY-r.top):Fi(0,0)}function Mae(e,t){return t instanceof Event?Tae(e,t):su(t)}function Cae(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let jRe=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":mW(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!yW(t))break;const i=su(t),s=Iy(i,t.pointerType,r.forEachTool);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,t,r),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:o,tool:a,start:i,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:i}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!yW(t))break;const i=this._grabbedManipulators.get(t.pointerId),s=i==null?void 0:i.manipulator,o=i==null?void 0:i.tool;if(s==null||o==null)break;const a=su(t);a.x=za(a.x,0,r.view.width),a.y=za(a.y,0,r.view.height);const l=i.start,u=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,u?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,u&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}n();break}case"immediate-click":{const i=su(t),s=Iy(i,t.pointerType,r.forEachTool);if(NRe(t)||r.forEachTool(u=>{if((s==null||s.tool!==u||u.automaticManipulatorSelection)&&u.manipulators){let d=!1;u.manipulators.forEach(({manipulator:h})=>{h.selected&&(h.selected=!1,d=!0)}),d&&u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n}),SO(o,n);break}case"click":{const i=su(t),s=Iy(i,t.pointerType,r.forEachTool),o=s==null?void 0:s.manipulator;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit(t.type,{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a}),n();break}case"double-click":{const i=su(t),s=Iy(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),SO(o,n);break}case"immediate-double-click":{const i=su(t),s=Iy(i,t.pointerType,r.forEachTool),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:i,button:t.button,pointerType:t.pointerType,shiftKey:a,stopPropagation:n}),SO(o,n);break}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:su(r)}),this._grabbedManipulators.forEach(({manipulator:i},s)=>{i===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(t,r){var i;const n=(i=this._grabbedManipulators.get(t.pointerId))==null?void 0:i.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:su(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=fW(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=fW(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:i})=>{r.add(i)}),this._hoveredManipulators.forEach(({tool:i})=>{n.add(i)}),t(i=>{i.hasGrabbedManipulators=r.has(i),i.hasHoveredManipulators=n.has(i);const s=this._grabbedManipulators.values(),o=Nxe(s,({tool:a})=>a===i);i.firstGrabbedManipulator=o!=null?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:n},i=!0,s){const o=(a,l)=>a===t&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:u},d)=>{o(a,l)&&(this._grabbedManipulators.delete(d),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._draggedManipulators.delete(u),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),i&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},u)=>{o(a,l)&&(this._hoveredManipulators.delete(u),l.hovering=!1)}),this._afterManipulatorRelease(n),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Fi(r.x,r.y),n,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!mW(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(su(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,i){var a;let s=Iy(t,n,i);const o=(a=this._hoveredManipulators.get(r))==null?void 0:a.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(r,s)):this._hoveredManipulators.delete(r),this._onFocusChange(i))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function fW(e){let t=null;return VE(e,({manipulator:r})=>!(r==null||!r.interactive)&&(r.grabbing&&r.grabCursor?(t=r.grabCursor,!0):!!r.cursor&&(t=r.cursor,!0))),t}function Iy(e,t,r){let n=null;return r(i=>{if(i.manipulators==null||!WL(i))return!1;const s=i.manipulators.intersect(e,t);return s!=null&&(n={tool:i,manipulator:s},!0)}),n}function mW(e){return e==="mouse"}function yW(e){return e.pointerType!=="mouse"||e.button===0}function NRe(e){return!!e.native.shiftKey}function SO(e,t){e!=null&&e.consumesClicks&&t()}const gW="attached",$O="tools",FRe=1e3;let ou=class extends Be{constructor(t){super(t),this._updatingHandles=new _m,this._clock=vv,this._manipulatorState=new jRe,this.tools=new Ce,this.cursor=null,this._interacting=!1,this._interactingTimeout=FRe,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const n of this.tools.items)if(r(n))return}}initialize(){this.addHandles([this.view.on(xae,t=>{this._handleInputEvent(t)},Qp.TOOL),...LRe(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void ie.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r!=null&&r.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const i=WL(n);this.activeTool!=null&&i||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!i)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=gn(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([Se(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(n=>n.onElevationChange(r)))],gW):this.addHandles(Se(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(gW),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:n})=>t(n,r))})}_handleInputEvent(t){let r=!1;const n={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(i=>{!r&&i.visible&&i.handleInputEvent(n)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles($O),this._forEachTool(t=>{if(t instanceof Be){const r=Se(()=>[t.cursor,t.visible,t.editable],()=>{WL(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,$O)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],$O)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,R_.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){}};c([p({constructOnly:!0,nonNullable:!0})],ou.prototype,"view",void 0),c([p({value:null})],ou.prototype,"activeTool",null),c([p({readOnly:!0,type:Ce})],ou.prototype,"tools",void 0),c([p({readOnly:!0})],ou.prototype,"cursor",void 0),c([p({readOnly:!0})],ou.prototype,"updating",null),c([p()],ou.prototype,"_interacting",void 0),c([p({readOnly:!0})],ou.prototype,"interacting",null),ou=c([R("esri.views.ToolViewManager")],ou);let lg=class extends Be{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":DRe.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return zRe[this.deviceType]}};c([p({nonNullable:!0,readOnly:!0})],lg.prototype,"nativeIndex",void 0),c([p({type:String,readOnly:!0})],lg.prototype,"deviceType",null),c([p({type:Number,readOnly:!0})],lg.prototype,"axisThreshold",null),lg=c([R("esri.views.input.gamepad.GamepadInputDevice")],lg);const RF=lg,DRe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),zRe={standard:.15,spacemouse:.025,unknown:0};let Fb=class extends Be{constructor(...t){super(...t),this.devices=new Ce,this.enabledFocusMode="document"}};c([p({type:Ce.ofType(RF),readOnly:!0})],Fb.prototype,"devices",void 0),c([p({type:["document","view","none"]})],Fb.prototype,"enabledFocusMode",void 0),Fb=c([R("esri.views.input.gamepad.GamepadSettings")],Fb);const VRe=Fb;let TT=class extends Be{constructor(){super(...arguments),this.gamepad=new VRe}};c([p({readOnly:!0})],TT.prototype,"gamepad",void 0),TT=c([R("esri.views.input.Input")],TT);const BRe=TT,Eae=()=>Ft.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let tp=class extends Be{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([p({type:Boolean,nonNullable:!0})],tp.prototype,"enabled",void 0),c([p({type:RF})],tp.prototype,"device",void 0),c([p({type:["pan","zoom"],nonNullable:!0})],tp.prototype,"mode",void 0),c([p({type:["forward-down","forward-up"],nonNullable:!0})],tp.prototype,"tiltDirection",void 0),c([p({type:Number,nonNullable:!0})],tp.prototype,"velocityFactor",void 0),tp=c([R("esri.views.navigation.gamepad.GamepadSettings")],tp);const kae=tp;let Mf=class extends Be{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new kae,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!Eae()}};c([p({type:Boolean})],Mf.prototype,"browserTouchPanEnabled",void 0),c([p({type:kae,nonNullable:!0})],Mf.prototype,"gamepad",void 0),c([p({type:Boolean})],Mf.prototype,"momentumEnabled",void 0),c([p({type:Boolean})],Mf.prototype,"mouseWheelZoomEnabled",void 0),Mf=c([R("esri.views.navigation.Navigation")],Mf);const Iae=Mf,Oae={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},Pae=Object.values(Oae),Aae=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${Pae.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),URe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${Pae.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),GRe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function L_t(e){return Aae.test(e)}function Pv(e){if(e==null)return null;const t=$i(e),r=(t==null?void 0:t.path.match(Aae))||(t==null?void 0:t.path.match(URe));if(!r)return null;const[,n,i,s,o]=r,a=i.indexOf("/");return{title:LF(a!==-1?i.slice(a+1):i),serverType:Oae[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function WRe(e){const t=$i(e).path.match(GRe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function LF(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function qRe(e,t){const r=[];if(e){const n=Pv(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=LF(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Rae(e){let t=Pa(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function HRe(e,t){return e&&Cre(Ere(e,t))}function ZRe(e){let{url:t}=e;if(!t)return{url:t};t=Ere(t,e.logger);const r=$i(t),n=Pv(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=WRe(r.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:Cre(t),layerId:i}}function YRe(e,t,r,n,i){Um(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=Z0(n.url,r,e.layerId.toString()))}function JRe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}var vW;function KRe(e){var n;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Pv(e.url):void 0;return!(((n=e.spatialReference)==null?void 0:n.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&Lae(e)&&e.heightModelInfo?e.heightModelInfo:XRe(e)?yk.deriveUnitFromSR(eLe,e.spatialReference):null}function Lae(e){return"heightModelInfo"in e}function jae(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function XRe(e){return jae(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Nae(e)}function QRe(e){return e.layers!=null||Nae(e)||jae(e)||Lae(e)}function Nae(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(vW||(vW={}));const eLe=new yk({heightModel:"gravity-related-height"});var dd;function bW(e){return e===dd.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(dd||(dd={}));let qL,TO=null;async function tLe(e){TO||(TO=Q(()=>import("./geometryServiceUtils-C8OGnqiT.js"),[],import.meta.url).then(t=>qL=t)),await TO,_r(e)}async function Fae(e,t,r,n){if(!e)return null;const i=e.spatialReference;return md()||Nl(i,t)?Eh(e,t):qL?qL.projectGeometry(e,t,r,n):(await Promise.race([tLe(n),ud(n)]),Fae(e,t,r,n))}let Tr=class extends Be{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Lm(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,i,s,o;const t=(n=this.map)==null?void 0:n.call(this),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(i=t==null?void 0:t.basemap)==null?void 0:i.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(o=t==null?void 0:t.basemap)==null?void 0:o.referenceLayers}),r}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;let n=null;for(const s of t){const o=this._getSupportedSpatialReferences(s);if(o.length>0){const a=this._narrowDownSpatialReferenceCandidates(n,o);a!=null&&(n=a)}if(n!=null&&n.length===1)break}if(r&&(n==null||n.length!==1))return{updating:!0};const i=this._pickSpatialReferenceCandidate(n);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,i,s,o,a,l,u;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:r}=this._collectLayers([{parent:(i=(n=this.map)==null?void 0:n.call(this))==null?void 0:i.basemap,layers:(a=(o=(s=this.map)==null?void 0:s.call(this))==null?void 0:o.basemap)==null?void 0:a.baseLayers},{layers:(u=(l=this.map)==null?void 0:l.call(this))==null?void 0:u.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const d=t[0].tileInfo;return{tileInfo:d!=null&&d.spatialReference.equals(this.spatialReference)?d:null,updating:!1}}return{updating:r}}get _heightModelInfoTask(){var n,i,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;for(const o of t)if(QRe(o)){const a=KRe(o);if(a)return{heightModelInfo:a,vcsWkid:(i=o.spatialReference)==null?void 0:i.vcsWkid,latestVcsWkid:(s=o.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,r=t.updating,n=[];for(const i of t.layers){const s="fullExtents"in i&&i.fullExtents||(i.fullExtent!=null?[i.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:s[0],a=s.find(l=>l.spatialReference.equals(this.spatialReference))??o;if(a)return{candidates:[{extent:a,layer:i}],updating:!1};if(this._getSupportedSpatialReferences(i).length>0)for(const l of s)n.push({extent:l,layer:i})}return{candidates:n,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),i=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&i.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Lm(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:i.clone(),task:z9(async s=>{try{const o=await Fae(n.extent,i,"portalItem"in n.layer?n.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(ld(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const n=new Array;for(const i of t)for(const s of r){if(!i.spatialReference.equals(s.spatialReference))continue;const o=nLe(i.viewingMode,s.viewingMode);if(o!==!1){n.push({spatialReference:i.spatialReference,viewingMode:o});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:n})=>n.equals(r))&&(t=t.filter(({spatialReference:n})=>n.equals(r))),t.length>1&&t.some(({viewingMode:n})=>n!==dd.Local)&&(t=t.filter(({viewingMode:n})=>n!==dd.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const n=[];for(const i of r){const s=this.getSpatialReferenceSupport(i,t);if(s!=null){const o=s.constraints??[{spatialReference:i,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||n.push({spatialReference:a,viewingMode:l})}}return n}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:n})=>r.equals(n.spatialReference))||t[0]}_collectLayers(t){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const r=new rLe;for(const i of t)if(this._collectCollection(i,r),r.preloading===this.sourcePreloadCount)break;return{layers:r.layers,updating:r.updating}}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const n of t.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":r.updating||r.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},r)}if(r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{ms(r)||console.log(r)}),"loading"):t.loadStatus:"loaded"}};c([p()],Tr.prototype,"required",void 0),c([p({constructOnly:!0})],Tr.prototype,"map",void 0),c([p({constructOnly:!0})],Tr.prototype,"getSpatialReferenceSupport",void 0),c([p()],Tr.prototype,"defaultSpatialReference",void 0),c([p()],Tr.prototype,"userSpatialReference",void 0),c([p()],Tr.prototype,"sourcePreloadCount",void 0),c([p()],Tr.prototype,"priorityCollection",void 0),c([p()],Tr.prototype,"requiresExtentInSpatialReference",void 0),c([p()],Tr.prototype,"suspended",void 0),c([p({readOnly:!0})],Tr.prototype,"ready",null),c([p({readOnly:!0})],Tr.prototype,"heightModelInfoReady",null),c([p({readOnly:!0})],Tr.prototype,"spatialReference",null),c([p({readOnly:!0})],Tr.prototype,"extent",null),c([p({readOnly:!0})],Tr.prototype,"heightModelInfo",null),c([p({readOnly:!0})],Tr.prototype,"vcsWkid",null),c([p({readOnly:!0})],Tr.prototype,"latestVcsWkid",null),c([p({readOnly:!0})],Tr.prototype,"viewingMode",null),c([p({readOnly:!0})],Tr.prototype,"tileInfo",null),c([p({readOnly:!0})],Tr.prototype,"mapCollections",null),c([p({readOnly:!0})],Tr.prototype,"_allLayers",null),c([p({readOnly:!0})],Tr.prototype,"_spatialReferenceTask",null),c([p({readOnly:!0})],Tr.prototype,"_tileInfoTask",null),c([p({readOnly:!0})],Tr.prototype,"_heightModelInfoTask",null),c([p({readOnly:!0})],Tr.prototype,"_extentCandidatesTask",null),c([p()],Tr.prototype,"_extentTask",null),c([p()],Tr.prototype,"_projectExtentTask",void 0),Tr=c([R("esri.views.support.DefaultsFromMap")],Tr);let rLe=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};function nLe(e,t){return e!=null?t!=null?e===t&&e:e:t}var Db;let He=Db=class extends Za.EventedMixin(Bx(Be)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Tx,this.updatingHandles=new _m,this.allLayerViews=new Vm({getCollections:()=>{var t,r,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:sLe}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new Sm,this.analyses=new A3,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Ce,this.magnifier=new mae,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new BRe,this.navigation=new Iae,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new _Re(this),this.persistableViewModels=new Ce,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(Se(()=>this.preconditionsReady,t=>{var n,i;const r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,Db.views.add(this)):(this._lockedSpatialReference=null,Db.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)(n=this.toolViewManager)==null||n.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(i=this.layerViewManager)==null||i.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(s){return void queueMicrotask(()=>{this.fatalError=new q("startup-error",null,s)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Ni))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,Q0(()=>this.ready)))),this.basemapView=new ep({view:this}),this.layerViewManager=new aRe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ou({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new bRe({view:this}),this.addHandles([Se(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Io),Se(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Ni),Se(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Io)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([Se(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const r=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(e!=null)return;const i=gr(()=>e=Lm(e));e=z9(async s=>{try{await i9(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}ie.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(i,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var e,t;this.destroyed||(Db.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=jr(this.graphics),this.analyses=jr(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),jr(this.analysisViewManager),this.toolViewManager=jr(this.toolViewManager),this.layerViewManager=jr(this.layerViewManager),this.selectionManager=jr(this.selectionManager),this.basemapView=jr(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=jr(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ie.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Tr({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Ba.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(ie.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Ba.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)){const n=e.clone();return n.vcsWkid=this.defaultsFromMap.vcsWkid,n.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,n}return e}set spatialReference(e){const t=!jn(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??zu}set timeZone(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));this._userTimeZone=e,e===zu||e===Bm||t.has(e.toLowerCase())||r.has(e.toLowerCase())||ie.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new GL}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(e){throw new q("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&ie.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Vo(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};He.views=new Ce,c([p()],He.prototype,"_userSpatialReference",void 0),c([p()],He.prototype,"activeTool",null),c([p({readOnly:!0})],He.prototype,"allLayerViews",void 0),c([p()],He.prototype,"groundView",void 0),c([p()],He.prototype,"animation",null),c([p()],He.prototype,"basemapView",void 0),c([p()],He.prototype,"center",null),c([p({readOnly:!0})],He.prototype,"_defaultsFromMapSettings",null),c([p()],He.prototype,"defaultsFromMap",null),c([p()],He.prototype,"fatalError",void 0),c([p({type:Rt})],He.prototype,"extent",null),c([p($R(Sm,"graphics"))],He.prototype,"graphics",void 0),c([p($R(A3,"analyses"))],He.prototype,"analyses",void 0),c([p({readOnly:!0,type:yk})],He.prototype,"heightModelInfo",null),c([p({readOnly:!0})],He.prototype,"interacting",null),c([p({readOnly:!0})],He.prototype,"navigating",null),c([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],He.prototype,"preconditionsReady",null),c([p({readOnly:!0})],He.prototype,"typeSpecificPreconditionsReady",void 0),c([p({type:Ce,readOnly:!0})],He.prototype,"layerViews",void 0),c([p()],He.prototype,"resolution",null),c([p({type:mae})],He.prototype,"magnifier",void 0),c([p({value:null,type:poe})],He.prototype,"map",null),c([p()],He.prototype,"padding",void 0),c([p({readOnly:!0})],He.prototype,"ready",void 0),c([p({type:Qe})],He.prototype,"spatialReference",null),c([p()],He.prototype,"spatialReferenceWarningDelay",void 0),c([p()],He.prototype,"stationary",null),c([p({readOnly:!0})],He.prototype,"supportsGround",void 0),c([p({type:Vu})],He.prototype,"timeExtent",void 0),c([p({type:String,nonNullable:!0})],He.prototype,"timeZone",null),c([p()],He.prototype,"tools",null),c([p()],He.prototype,"toolViewManager",void 0),c([p({readOnly:!0})],He.prototype,"type",void 0),c([p({type:Number})],He.prototype,"scale",void 0),c([p({readOnly:!0})],He.prototype,"updating",void 0),c([p({readOnly:!0})],He.prototype,"initialExtentRequired",void 0),c([p({readOnly:!0})],He.prototype,"initialExtent",null),c([p()],He.prototype,"cursor",null),c([p({readOnly:!0})],He.prototype,"input",void 0),c([p({type:Iae,nonNullable:!0})],He.prototype,"navigation",void 0),c([p()],He.prototype,"layerViewManager",void 0),c([p()],He.prototype,"analysisViewManager",void 0),c([p()],He.prototype,"selectionManager",void 0),c([p()],He.prototype,"width",void 0),c([p()],He.prototype,"height",void 0),c([p({readOnly:!0})],He.prototype,"resizing",void 0),c([p({value:null,readOnly:!0})],He.prototype,"size",null),c([p({readOnly:!0})],He.prototype,"suspended",void 0),c([p({readOnly:!0})],He.prototype,"viewEvents",void 0),c([p({readOnly:!0})],He.prototype,"persistableViewModels",void 0),c([p()],He.prototype,"_isValid",void 0),c([p()],He.prototype,"_readyCycleForced",void 0),c([p()],He.prototype,"_lockedSpatialReference",void 0),c([p()],He.prototype,"_userTimeZone",void 0),c([p()],He.prototype,"_lockedTimeZone",void 0),c([p({type:GL})],He.prototype,"theme",void 0),c([p({readOnly:!0,type:GL})],He.prototype,"effectiveTheme",null),He=Db=c([R("esri.views.View")],He);const iLe=He;function sLe(e){return e.layerViews}function $n(){return[0,0]}function oLe(e){return[e[0],e[1]]}function Zx(e,t){return[e,t]}function aLe(e,t=$n()){const r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function lLe(e,t){return new Float64Array(e,t,2)}function Dae(){return $n()}function zae(){return Zx(1,1)}function Vae(){return Zx(1,0)}function Bae(){return Zx(0,1)}const uLe=Dae(),cLe=zae(),dLe=Vae(),pLe=Bae();Object.freeze(Object.defineProperty({__proto__:null,ONES:cLe,UNIT_X:dLe,UNIT_Y:pLe,ZEROS:uLe,clone:oLe,create:$n,createView:lLe,fromArray:aLe,fromValues:Zx,ones:zae,unitX:Vae,unitY:Bae,zeros:Dae},Symbol.toStringTag,{value:"Module"}));let rp=class extends k3{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=zo(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new q("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,r){r||(r=Ch(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};c([p({readOnly:!0})],rp.prototype,"done",null),c([p({readOnly:!0,type:String})],rp.prototype,"state",void 0),c([p()],rp.prototype,"target",void 0),rp=c([R("esri.views.ViewAnimation")],rp),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(rp||(rp={}));const HL=rp;function $0(e,t){return e[0]=t[0],e[1]=t[1],e}function gi(e,t,r){return e[0]=t,e[1]=r,e}function Uae(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function L_(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Gae(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function Wae(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function hLe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function fLe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function mLe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function yLe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function gLe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Yx(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function vLe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function $k(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function D3(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function z3(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function qae(e){const t=e[0],r=e[1];return t*t+r*r}function Hae(e,t){return e[0]=-t[0],e[1]=-t[1],e}function bLe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function ZL(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function Zae(e,t){return e[0]*t[0]+e[1]*t[1]}function Yae(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function wLe(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function _Le(e,t){t=t||1;const r=2*WE()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function xLe(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function _u(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function SLe(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function $Le(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function TLe(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),a=Math.cos(n);return e[0]=i*a-s*o+r[0],e[1]=i*o+s*a+r[1],e}function MLe(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function CLe(e){return"vec2("+e[0]+", "+e[1]+")"}function ELe(e,t){return e[0]===t[0]&&e[1]===t[1]}function kLe(e,t){const r=e[0],n=e[1],i=t[0],s=t[1],o=As();return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))}function ILe(e,t,r,n,i){let s=t[0]-r[0],o=t[1]-r[1];const a=(n[0]*s+n[1]*o)*(i-1);return s=n[0]*a,o=n[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const OLe=z3,jF=L_,PLe=Gae,ALe=Wae,RLe=$k,LLe=D3,jLe=qae;Object.freeze(Object.defineProperty({__proto__:null,add:Uae,angle:MLe,ceil:hLe,copy:$0,cross:Yae,dist:RLe,distance:$k,div:ALe,divide:Wae,dot:Zae,equals:kLe,exactEquals:ELe,floor:fLe,inverse:bLe,len:OLe,length:z3,lerp:wLe,max:yLe,min:mLe,mul:PLe,multiply:Gae,negate:Hae,normalize:ZL,projectAndScale:ILe,random:_Le,rotate:TLe,round:gLe,scale:Yx,scaleAndAdd:vLe,set:gi,sqrDist:LLe,sqrLen:jLe,squaredDistance:D3,squaredLength:qae,str:CLe,sub:jF,subtract:L_,transformMat2:xLe,transformMat2d:_u,transformMat3:SLe,transformMat4:$Le},Symbol.toStringTag,{value:"Module"}));function NLe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function FLe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function DLe(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e}function NF(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5];let l=r*s-n*i;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-s*o)*l,e[5]=(n*o-r*a)*l,e):null}function zLe(e){return e[0]*e[3]-e[1]*e[2]}function Jae(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1],h=r[2],f=r[3],y=r[4],g=r[5];return e[0]=n*u+s*d,e[1]=i*u+o*d,e[2]=n*h+s*f,e[3]=i*h+o*f,e[4]=n*y+s*g+a,e[5]=i*y+o*g+l,e}function Tk(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=Math.sin(r),d=Math.cos(r);return e[0]=n*d+s*u,e[1]=i*d+o*u,e[2]=n*-u+s*d,e[3]=i*-u+o*d,e[4]=a,e[5]=l,e}function FF(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1];return e[0]=n*u,e[1]=i*u,e[2]=s*d,e[3]=o*d,e[4]=a,e[5]=l,e}function j_(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*u+s*d+a,e[5]=i*u+o*d+l,e}function Kae(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function Xae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function DF(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function VLe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function BLe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function ULe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function Qae(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function GLe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function WLe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function qLe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function HLe(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=t[0],u=t[1],d=t[2],h=t[3],f=t[4],y=t[5],g=As();return Math.abs(r-l)<=g*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=g*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-d)<=g*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-h)<=g*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(o-f)<=g*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-y)<=g*Math.max(1,Math.abs(a),Math.abs(y))}const ZLe=Jae,YLe=Qae;Object.freeze(Object.defineProperty({__proto__:null,add:ULe,copy:NLe,determinant:zLe,equals:HLe,exactEquals:qLe,frob:BLe,fromRotation:Kae,fromScaling:Xae,fromTranslation:DF,identity:FLe,invert:NF,mul:ZLe,multiply:Jae,multiplyScalar:GLe,multiplyScalarAndAdd:WLe,rotate:Tk,scale:FF,set:DLe,str:VLe,sub:YLe,subtract:Qae,translate:j_},Symbol.toStringTag,{value:"Module"}));function Xc(){return[1,0,0,1,0,0]}function JLe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function KLe(e,t,r,n,i,s){return[e,t,r,n,i,s]}function XLe(e,t){return new Float64Array(e,t,6)}const QLe=Xc();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:QLe,clone:JLe,create:Xc,createView:XLe,fromValues:KLe},Symbol.toStringTag,{value:"Module"}));const C2={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Cl({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Qe.WebMercator}),minus180Line:new Cl({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Qe.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Cl({paths:[[[180,-180],[180,180]]],spatialReference:Qe.WGS84}),minus180Line:new Cl({paths:[[[-180,-180],[-180,180]]],spatialReference:Qe.WGS84})}};function om(e,t){return Math.ceil((e-t)/(2*t))}function ele(e,t){const r=Dw(e);for(const n of r)for(const i of n)i[0]+=t;return e}function Dw(e){return h0(e)?e.rings:e.paths}function Mk(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Jx(e){return typeof e=="string"?$i(e):W(e)}function Ck(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s))n[i]=s.map(o=>Ck(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r==null?void 0:r[i]);n[i]=JSON.stringify(o)}else n[i]=JSON.stringify(s);else n[i]=s}return n}async function e6e(e,t,r,n){const i=Jx(e),s=t[0].spatialReference,o={...n,responseType:"json",query:{...i.query,f:"json",sr:h3(s),target:JSON.stringify({geometryType:jx(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await yr(i.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map(d=>{const h=dh(d);return h.spatialReference=s,h})}}function t6e(e){return{geometryType:jx(e[0]),geometries:e.map(t=>t.toJSON())}}function tle(e,t,r){const n=v3e(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}async function r6e(e,t,r){const n=typeof e=="string"?$i(e):e,i=t[0].spatialReference,s=jx(t[0]),o={...r,query:{...n.query,f:"json",sr:h3(i),geometries:JSON.stringify(t6e(t))}},{data:a}=await yr(n.path+"/simplify",o);return tle(a.geometries,s,i)}const rle=()=>ie.getLogger("esri.geometry.support.normalizeUtils");function n6e(e){return e.type==="polygon"}function i6e(e){return e[0].type==="polygon"}function s6e(e){return e[0].type==="polyline"}function wW(e){const t=[];let r=0,n=0;for(let i=0;i<e.length;i++){const s=e[i];let o=null;for(let a=0;a<s.length;a++)o=s[a],t.push(o),a===0?(r=o[0],n=r):(r=Math.min(r,o[0]),n=Math.max(n,o[0]));o&&t.push([(r+n)/2,0])}return t}function o6e(e,t){if(!(e instanceof Cl||e instanceof Va)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw rle().error(i),new q(i)}const r=Dw(e),n=[];for(const i of r){const s=[];n.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const a=i[o][0],l=i[o][1],u=i[o+1][0],d=i[o+1][1],h=Math.sqrt((u-a)*(u-a)+(d-l)*(d-l)),f=(d-l)/h,y=(u-a)/h,g=h/t;if(g>1){for(let x=1;x<=g-1;x++){const S=x*t,$=y*S+a,C=f*S+l;s.push([$,C])}const v=(h+Math.floor(g-1)*t)/2,b=y*v+a,_=f*v+l;s.push([b,_])}s.push([u,d])}}return n6e(e)?new Va({rings:n,spatialReference:e.spatialReference}):new Cl({paths:n,spatialReference:e.spatialReference})}function _W(e,t,r){if(t){const n=o6e(e,1e6);e=qg(n,!0)}return r&&(e=ele(e,r)),e}function xW(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const i=om(n,t);e[0]=n+i*(-2*t)}else if(n<r){const i=om(n,r);e[0]=n+i*(-2*r)}}else{const n=e.x;if(n>t){const i=om(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){const i=om(n,r);e=e.clone().offset(i*(-2*r),0)}}return e}function a6e(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=Dw(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(u=>{if(u[0]<180)return!0;{let d=0;for(let f=0;f<l.length;f++){const y=l[f][0];d=y>d?y:d}d=Number(d.toFixed(9));const h=-360*om(d,180);for(let f=0;f<l.length;f++){const y=s.getPoint(a,f);s.setPoint(a,f,y.clone().offset(h,0))}return!0}})}if(i===r){if(i6e(e))for(const a of Dw(s))e[i]=e[i].addRing(a);else if(s6e(e))for(const a of Dw(s))e[i]=e[i].addPath(a)}else r=i,e[i]=s}return e}async function l6e(e,t,r){if(!Array.isArray(e))return l6e([e],t);t&&typeof t!="string"&&rle().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(t==null?void 0:t.url)??Ft.geometryServiceUrl;let i,s,o,a,l,u,d,h,f=0;const y=[],g=[];for(const $ of e)if($!=null)if(i||(i=$.spatialReference,s=oo(i),o=i.isWebMercator,u=o?102100:4326,a=C2[u].maxX,l=C2[u].minX,d=C2[u].plus180Line,h=C2[u].minus180Line),s)if($.type==="mesh")g.push($);else if($.type==="point")g.push(xW($.clone(),a,l));else if($.type==="multipoint"){const C=$.clone();C.points=C.points.map(k=>xW(k,a,l)),g.push(C)}else if($.type==="extent"){const C=$.clone()._normalize(!1,!1,s);g.push(C.rings?new Va(C):C)}else if($.extent){const C=$.extent,k=om(C.xmin,l)*(2*a);let E=k===0?$.clone():ele($.clone(),k);C.offset(k,0);let{xmin:P,xmax:T}=C;P=Number(P.toFixed(9)),T=Number(T.toFixed(9)),C.intersects(d)&&T!==a?(f=T>f?T:f,E=_W(E,o),y.push(E),g.push("cut")):C.intersects(h)&&P!==l?(f=T*(2*a)>f?T*(2*a):f,E=_W(E,o,360),y.push(E),g.push("cut")):g.push(E)}else g.push($.clone());else g.push($);else g.push($);let v=om(f,a),b=-90;const _=v,x=new Cl;for(;v>0;){const $=360*v-180;x.addPath([[$,b],[$,-1*b]]),b*=-1,v--}if(y.length>0&&_>0){const $=a6e(y,await e6e(n,y,x,r)),C=[],k=[];for(let T=0;T<g.length;T++){const M=g[T];if(M!=="cut")k.push(M);else{const O=$.shift(),j=e[T];j!=null&&j.type==="polygon"&&j.rings&&j.rings.length>1&&O.rings.length>=j.rings.length?(C.push(O),k.push("simplify")):k.push(o?Lu(O):O)}}if(!C.length)return k;const E=await r6e(n,C,r),P=[];for(let T=0;T<k.length;T++){const M=k[T];M!=="simplify"?P.push(M):P.push(o?Lu(E.shift()):E.shift())}return P}const S=[];for(let $=0;$<g.length;$++){const C=g[$];if(C!=="cut")S.push(C);else{const k=y.shift();S.push(o===!0?Lu(k):k)}}return S}function u6e(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&oo(e.spatialReference);if(!r)return t;const[n,i]=r.valid,s=2*i,{width:o}=t;let a,{xmin:l,xmax:u}=t;if([l,u]=[u,l],e.type==="extent"||o===0||o<=i||o>s||l<n||u>i)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=wW(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=wW(e.paths);break;case"multipoint":a=e.points}const d=t.clone();for(let h=0;h<a.length;h++){let f=a[h][0];f<0?(f+=i,u=Math.max(f,u)):(f-=i,l=Math.min(f,l))}return d.xmin=l,d.xmax=u,d.width<o?(d.xmin-=i,d.xmax-=i,d):t}function zF(e,t,r){const n=oo(r);if(n==null)return e;const[i,s]=n.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<i&&(a=-Math.ceil(Math.abs(t-i)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<i&&(l=-Math.ceil(Math.abs(e-i)/o));let u=e+(a-l)*o;const d=u-t;return d>s?u-=o:d<i&&(u+=o),u}function D_t(e,t){const r=oo(t);if(r){const[n,i]=r.valid,s=i-n;if(e<n)for(;e<n;)e+=s;if(e>i)for(;e>i;)e-=s}return e}const nle=96,ile=39.37,c6e=180/Math.PI;function sle(e){return e.wkid?e:e.spatialReference||Qe.WGS84}function VF(e,t){return t.type?gi(e,t.x,t.y):$0(e,t)}function ole(e){return zl(e)}function Ek(e,t,r=0){let n=e.width,i=e.height;if(r!==0){const a=Rp(r),l=Math.abs(Math.cos(a)),u=Math.abs(Math.sin(a));n=e.width*l+e.height*u,i=e.width*u+e.height*l}const s=Math.max(1,t[0]),o=Math.max(1,t[1]);return Math.max(n/s,i/o)*v6e(e.spatialReference)}async function zb(e,t,r,n){var a,l;let i,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Ce.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const u=e.every(f=>"attributes"in f),d=e.some(f=>!f.geometry);let h=e;if(u&&d&&t&&t.allLayerViews){const f=new Map;for(const b of e){const _=b.layer,x=f.get(_)||[],S=b.attributes[_.objectIdField];S!=null&&x.push(S),f.set(_,x)}const y=[];f.forEach((b,_)=>{const x=t.allLayerViews.find(S=>S.layer.id===_.id);if(x&&"queryFeatures"in x){const S=_.createQuery();S.objectIds=b,S.returnGeometry=!0,y.push(x.queryFeatures(S))}});const g=await Promise.all(y),v=[];for(const b of g)if(b&&b.features&&b.features.length)for(const _ of b.features)_.geometry!=null&&v.push(_.geometry);h=v}for(const f of h)n=await zb(f,t,r,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")i=new nt(e);else if(e instanceof fd)i=e;else if("geometry"in e){if(e.geometry)i=e.geometry;else if(e.layer){const u=e.layer,d=t.allLayerViews.find(h=>h.layer.id===u.id);if(d&&"queryFeatures"in d){const h=u.createQuery();h.objectIds=[e.attributes[u.objectIdField]],h.returnGeometry=!0;const f=await d.queryFeatures(h);i=(l=(a=f==null?void 0:f.features)==null?void 0:a[0])==null?void 0:l.geometry}}}if(i==null)return null;switch(i.type){case"point":s=new Rt({xmin:i.x,ymin:i.y,xmax:i.x,ymax:i.y,spatialReference:i.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=u6e(i);break;default:s=i.extent}if(!s)return null;md()||Nl(s.spatialReference,r)||await ud();const o=Eh(s,r);if(!o)return null;if(n){const u=o.center,d=u.clone();d.x=zF(u.x,n.center.x,r),d.x!==u.x&&o.centerAt(d),n=n.union(o)}else n=o;return n}function d6e(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const r=e.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(e)&&e.length&&e.every(r=>"layer"in r)){let r=0,n=0;for(const i of e){const s=i.layer;s!=null&&s.minScale&&s.maxScale&&(r=s.minScale<r?s.minScale:r,n=s.maxScale>n?s.maxScale:n)}return r&&n?{min:r,max:n}:null}}}function SW(e,t){return jn(sle(e),t)?e:Eh(e,t)}async function p6e(e,t){var b;if(!e||!t)return new Aa({targetGeometry:new nt,scale:0,rotation:0});let r=t.spatialReference;const{constraints:n,padding:i,viewpoint:s,size:o}=t,a=[i?o[0]-i.left-i.right:o[0],i?o[1]-i.top-i.bottom:o[1]];let l=null;e instanceof Aa?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let u=null;l!=null&&l.targetGeometry?u=l.targetGeometry:e instanceof Rt?u=e:e instanceof fd?u=await zb(e,t,r):e&&(u=await zb(e.center,t,r)||await zb(e.target,t,r)||await zb(e,t,r)),!u&&(s!=null&&s.targetGeometry)?u=s.targetGeometry:!u&&t.extent&&(u=t.extent),r||(r=sle(t.spatialReference||t.extent||u)),md()||jn(u.spatialReference,r)||Nl(u.spatialReference,r)||await ud();const d=SW(u,r),h="center"in d?d.center:d;t.pickClosestTarget!==!1&&h.type==="point"&&((b=s.targetGeometry)==null?void 0:b.type)==="point"&&(h.x=zF(h.x,s.targetGeometry.x,h.spatialReference));let f=0;l?f=l.rotation:e.hasOwnProperty("rotation")?f=e.rotation:s&&(f=s.rotation);let y=0;y=(l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs?n.zoomToScale(e.zoom):Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0?s.scale:Ek(SW(u.extent,r),a,f);const g=d6e(e.target??e);g&&(g.min&&g.min<y?y=g.min:g.max&&g.max>y&&(y=g.max));let v=new Aa({targetGeometry:h,scale:y,rotation:f});return n&&(v=n.fit(v),n.constrainByGeometry(v),n.rotationEnabled||(v.rotation=s.rotation)),v}function ls(e,t){const r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function h6e(e,t,r){return r?gi(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):Yx(e,t,.5)}const f6e=function(){const e=$n();return function(t,r,n){const i=r.targetGeometry;VF(e,i);const s=.5*Av(r);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=i.spatialReference,t}}();function m6e(e,t,r,n,i){var s;return YL(e,t,r.center),e.scale=Ek(r,n),(s=i==null?void 0:i.constraints)==null||s.constrain(e),e}function y6e(e,t,r,n){return GF(e,t,r,n),NF(e,e)}const ale=function(){const e=$n();return function(t,r,n){return jF(t,b6e(t,r),h6e(e,r,n))}}(),g6e=function(){const e=Xc(),t=$n();return function(r,n,i,s){const o=Av(n),a=BF(n);return gi(t,o,o),Xae(e,t),Tk(e,e,a),j_(e,e,ale(t,i,s)),j_(e,e,[0,s.top-s.bottom]),gi(r,e[4],e[5])}}();function Av(e){var t;return e.scale*lle((t=e.targetGeometry)==null?void 0:t.spatialReference)}function lle(e){return e!=null&&Ao(e)?1/(ole(e)*ile*nle):1}function BF(e){return p9(e.rotation)||0}function v6e(e){return Ao(e)?ole(e)*ile*nle:1}function b6e(e,t){return Yx(e,t,.5)}const UF=function(){const e=$n(),t=$n(),r=$n();return function(n,i,s,o,a,l){return Hae(e,i),Yx(t,s,.5*l),gi(r,1/o*l,-1/o*l),DF(n,t),a&&Tk(n,n,a),FF(n,n,r),j_(n,n,e),n}}(),GF=function(){const e=$n();return function(t,r,n,i){const s=Av(r),o=BF(r);return VF(e,r.targetGeometry),UF(t,e,n,s,o,i)}}(),w6e=function(){const e=$n();return function(t,r,n,i){const s=Av(r);return VF(e,r.targetGeometry),UF(t,e,n,s,0,i)}}();function ule(e){const t=oo(e);return t?t.valid[1]-t.valid[0]:0}function _6e(e,t){return Math.round(ule(e)/t)}const x6e=function(){const e=$n(),t=$n(),r=[0,0,0];return function(n,i,s){L_(e,n,i),ZL(e,e),L_(t,n,s),ZL(t,t),Yae(r,e,t);let o=Math.acos(Zae(e,t)/(z3(e)*z3(t)))*c6e;return r[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),S6e=function(){const e=$n();return function(t,r,n,i){const s=t.targetGeometry;return ls(t,r),g6e(e,r,n,i),s.x+=e[0],s.y+=e[1],t}}(),YL=function(e,t,r){ls(e,t);const n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},$6e=function(){const e=$n();return function(t,r,n,i,s){s||(s="center"),jF(e,n,i),Yx(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":gi(e,0,0);break;case"left":gi(e,-o,0);break;case"top":gi(e,0,a);break;case"right":gi(e,o,0);break;case"bottom":gi(e,0,-a);break;case"top-left":gi(e,-o,a);break;case"bottom-left":gi(e,-o,-a);break;case"top-right":gi(e,o,a);break;case"bottom-right":gi(e,o,-a)}return kk(t,r,e),t}}();function z_t(e,t,r){return ls(e,t),e.rotation+=r,e}function T6e(e,t,r){return ls(e,t),e.rotation=r,e}const M6e=function(){const e=$n();return function(t,r,n,i,s){return ls(t,r),isNaN(n)||n===0||(dle(e,i,r,s),t.scale=r.scale*n,ple(e,e,t,s),kk(t,t,gi(e,e[0]-i[0],i[1]-e[1]))),t}}();function $W(e,t,r){return ls(e,t),e.scale=r,e}const cle=function(){const e=$n();return function(t,r,n,i,s,o){return ls(t,r),isNaN(n)||n===0||(dle(e,s,r,o),t.scale=r.scale*n,t.rotation+=i,ple(e,e,t,o),kk(t,t,gi(e,e[0]-s[0],s[1]-e[1]))),t}}(),V_t=function(){const e=$n(),t=$n();return function(r,n,i,s,o,a,l){return ale(t,a,l),Uae(e,o,t),s?cle(r,n,i,s,e,a):M6e(r,n,i,e,a)}}(),dle=function(){const e=Xc();return function(t,r,n,i){return _u(t,r,y6e(e,n,i,1))}}(),ple=function(){const e=Xc();return function(t,r,n,i){return _u(t,r,GF(e,n,i,1))}}(),kk=function(){const e=$n(),t=Xc();return function(r,n,i){ls(r,n);const s=Av(n),o=r.targetGeometry;return Kae(t,BF(n)),FF(t,t,Zx(s,s)),_u(e,i,t),o.x+=e[0],o.y+=e[1],r}}();function hle(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function C6e(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function E6e(e,t,r,n,i,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function k6e(e,t){return new Float32Array(e,t,6)}function fle(e,t,r,n){const i=t[n],s=t[n+1];e[n]=r[0]*i+r[2]*s+r[4],e[n+1]=r[1]*i+r[3]*s+r[5]}function I6e(e,t,r,n=0,i=0,s=2){const o=i||t.length/s;for(let a=n;a<o;a++)fle(e,t,r,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:C6e,create:hle,createView:k6e,fromValues:E6e,transform:fle,transformMany:I6e},Symbol.toStringTag,{value:"Module"}));function O6e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function P6e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function mle(e,t,r,n,i,s,o,a,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e}function yle(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function A6e(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function R6e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],h=d*o-a*u,f=-d*s+a*l,y=u*s-o*l;let g=r*h+n*f+i*y;return g?(g=1/g,e[0]=h*g,e[1]=(-d*n+i*u)*g,e[2]=(a*n-i*o)*g,e[3]=f*g,e[4]=(d*r-i*l)*g,e[5]=(-a*r+i*s)*g,e[6]=y*g,e[7]=(-u*r+n*l)*g,e[8]=(o*r-n*s)*g,e):null}function L6e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8];return e[0]=o*d-a*u,e[1]=i*u-n*d,e[2]=n*a-i*o,e[3]=a*l-s*d,e[4]=r*d-i*l,e[5]=i*s-r*a,e[6]=s*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*s,e}function j6e(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8];return t*(u*s-o*l)+r*(-u*i+o*a)+n*(l*i-s*a)}function WF(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],h=t[8],f=r[0],y=r[1],g=r[2],v=r[3],b=r[4],_=r[5],x=r[6],S=r[7],$=r[8];return e[0]=f*n+y*o+g*u,e[1]=f*i+y*a+g*d,e[2]=f*s+y*l+g*h,e[3]=v*n+b*o+_*u,e[4]=v*i+b*a+_*d,e[5]=v*s+b*l+_*h,e[6]=x*n+S*o+$*u,e[7]=x*i+S*a+$*d,e[8]=x*s+S*l+$*h,e}function JL(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],h=t[8],f=r[0],y=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=f*n+y*o+u,e[7]=f*i+y*a+d,e[8]=f*s+y*l+h,e}function gle(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],d=t[7],h=t[8],f=Math.sin(r),y=Math.cos(r);return e[0]=y*n+f*o,e[1]=y*i+f*a,e[2]=y*s+f*l,e[3]=y*o-f*n,e[4]=y*a-f*i,e[5]=y*l-f*s,e[6]=u,e[7]=d,e[8]=h,e}function N6e(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function F6e(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function D6e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function z6e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function V6e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function B6e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function U6e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,u=r*o,d=n*o,h=n*a,f=i*o,y=i*a,g=i*l,v=s*o,b=s*a,_=s*l;return e[0]=1-h-g,e[3]=d-_,e[6]=f+b,e[1]=d+_,e[4]=1-u-g,e[7]=y-v,e[2]=f-b,e[5]=y+v,e[8]=1-u-h,e}function G6e(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],d=t[10],h=d*o-a*u,f=-d*s+a*l,y=u*s-o*l,g=r*h+n*f+i*y;if(!g)return null;const v=1/g;return e[0]=h*v,e[1]=(-d*n+i*u)*v,e[2]=(a*n-i*o)*v,e[3]=f*v,e[4]=(d*r-i*l)*v,e[5]=(-a*r+i*s)*v,e[6]=y*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*s)*v,e}function W6e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],d=t[8],h=t[9],f=t[10],y=t[11],g=t[12],v=t[13],b=t[14],_=t[15],x=r*a-n*o,S=r*l-i*o,$=r*u-s*o,C=n*l-i*a,k=n*u-s*a,E=i*u-s*l,P=d*v-h*g,T=d*b-f*g,M=d*_-y*g,O=h*b-f*v,j=h*_-y*v,N=f*_-y*b;let L=x*N-S*j+$*O+C*M-k*T+E*P;return L?(L=1/L,e[0]=(a*N-l*j+u*O)*L,e[1]=(l*M-o*N-u*T)*L,e[2]=(o*j-a*M+u*P)*L,e[3]=(i*j-n*N-s*O)*L,e[4]=(r*N-i*M+s*T)*L,e[5]=(n*M-r*j-s*P)*L,e[6]=(v*E-b*k+_*C)*L,e[7]=(b*$-g*E-_*S)*L,e[8]=(g*k-v*$+_*x)*L,e):null}function q6e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function H6e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Z6e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Y6e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function vle(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function J6e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function K6e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function X6e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Q6e(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=t[0],f=t[1],y=t[2],g=t[3],v=t[4],b=t[5],_=t[6],x=t[7],S=t[8],$=As();return Math.abs(r-h)<=$*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=$*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-y)<=$*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(s-g)<=$*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-v)<=$*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-b)<=$*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-_)<=$*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(u-x)<=$*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(d-S)<=$*Math.max(1,Math.abs(d),Math.abs(S))}function eje(e){const t=As(),r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}const tje=WF,rje=vle;Object.freeze(Object.defineProperty({__proto__:null,add:Y6e,adjoint:L6e,copy:P6e,determinant:j6e,equals:Q6e,exactEquals:X6e,frob:Z6e,fromMat2d:B6e,fromMat4:O6e,fromQuat:U6e,fromRotation:z6e,fromScaling:V6e,fromTranslation:D6e,identity:yle,invert:R6e,isOrthoNormal:eje,mul:tje,multiply:WF,multiplyScalar:J6e,multiplyScalarAndAdd:K6e,normalFromMat4:W6e,normalFromMat4Legacy:G6e,projection:q6e,rotate:gle,scale:N6e,scaleByVec2:F6e,set:mle,str:H6e,sub:rje,subtract:vle,translate:JL,transpose:A6e},Symbol.toStringTag,{value:"Module"}));function MT(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function nje(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ije(e,t,r,n,i,s,o,a,l){const u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=s,u[6]=o,u[7]=a,u[8]=l,u}function sje(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:nje,create:MT,createView:sje,fromValues:ije},Symbol.toStringTag,{value:"Module"}));function ble(){return new Float32Array(2)}function oje(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function sv(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function aje(e,t){return new Float32Array(e,t,2)}function wle(){return ble()}function _le(){return sv(1,1)}function xle(){return sv(1,0)}function Sle(){return sv(0,1)}const lje=wle(),uje=_le(),cje=xle(),dje=Sle();Object.freeze(Object.defineProperty({__proto__:null,ONES:uje,UNIT_X:cje,UNIT_Y:dje,ZEROS:lje,clone:oje,create:ble,createView:aje,fromValues:sv,ones:_le,unitX:xle,unitY:Sle,zeros:wle},Symbol.toStringTag,{value:"Module"}));function pje(e){return e instanceof Float32Array&&e.length>=2}function hje(e){return Array.isArray(e)&&e.length>=2}function MO(e){return pje(e)||hje(e)}var KL;const nc=[0,0];let np=KL=class extends ae{constructor(e){super(e),this._viewpoint2D={center:$n(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Rt,this.id=0,this.inverseTransform=Xc(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Xc(),this.transformNoRotation=Xc(),this.displayMat3=MT(),this.displayViewMat3=MT(),this.viewMat3=MT(),this.viewMat2d=hle(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=ls(r,e.viewpoint),this._set("size",$0(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new KL({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return MO(t)?_u(e,t,this.inverseTransform):(nc[0]=t,nc[1]=r,_u(e,nc,this.inverseTransform))}toScreen(e,t,r){return MO(t)?_u(e,t,this.transform):(nc[0]=t,nc[1]=r,_u(e,nc,this.transform))}toScreenNoRotation(e,t,r){return MO(t)?_u(e,t,this.transformNoRotation):(nc[0]=t,nc[1]=r,_u(e,nc,this.transformNoRotation))}wrapMapCoordinate(e,t){$0(e,t);const[r]=t,[n]=this.center,{extent:i,spatialReference:s}=this;let{xmin:o,xmax:a}=i;if(s.isWrappable){const l=ule(s)/2;o=Math.max(o,n-l),a=Math.min(a,n+l)}return(r<o||r>a)&&(e[0]=zF(r,n,s)),e}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,i=this._get("size");return UF(e,r,i,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:n}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size"),o=new Aa({targetGeometry:new nt(e[0],e[1],t),scale:r,rotation:n});if(this._set("viewpoint",o),!s||!t||!r)return;this.resolution=Av(o),this.rotation=n,this.scale=r,this.spatialReference=t,$0(this.center,e);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;mle(this.displayMat3,a,0,0,0,l,0,-1,1,1);const u=yle(this.viewMat3),d=sv(s[0]/2,s[1]/2),h=sv(-s[0]/2,-s[1]/2),f=p9(n);JL(u,u,d),gle(u,u,f),JL(u,u,h),WF(this.displayViewMat3,this.displayMat3,u);const y=DF(this.viewMat2d,d);return Tk(y,y,f),j_(y,y,h),f6e(this.extent,o,s),GF(this.transform,o,s,i),NF(this.inverseTransform,this.transform),w6e(this.transformNoRotation,o,s,i),this.worldScreenWidth=_6e(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};c([p({readOnly:!0})],np.prototype,"id",void 0),c([p({value:1,json:{write:!0}})],np.prototype,"pixelRatio",null),c([p({json:{write:!0}})],np.prototype,"size",null),c([p()],np.prototype,"spatialReference",void 0),c([p({type:Aa,json:{write:!0}})],np.prototype,"viewpoint",null),np=KL=c([R("esri.views.2d.ViewState")],np);const TW=np;var XL,QL;let Uc=XL=class extends Be{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new XL({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([p()],Uc.prototype,"left",void 0),c([p()],Uc.prototype,"top",void 0),c([p()],Uc.prototype,"right",void 0),c([p()],Uc.prototype,"bottom",void 0),Uc=XL=c([R("esri.views.2d.PaddedViewState.Padding")],Uc);let ug=QL=class extends TW{constructor(...e){super(...e),this.paddedViewState=new TW,this._updateContent=(()=>{const t=$n();return()=>{const r=this._get("size"),n=this._get("padding");if(!r||!n)return;const i=this.paddedViewState;gi(t,n.left+n.right,n.top+n.bottom),L_(t,r,t),$0(i.size,t);const s=i.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(Se(()=>[this.size,this.padding],()=>this._updateContent(),Ni)),this.padding=new Uc,this.size=[0,0]}set padding(e){this._set("padding",e||new Uc)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;const t=this._viewpoint2D;if(this._get("padding")){const r=e.clone();S6e(r,e,this._get("size"),this._get("padding"));const n=r.targetGeometry;t.center[0]=n.x,t.center[1]=n.y,t.rotation=r.rotation,t.scale=r.scale,t.spatialReference=n.spatialReference}else{const r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}}clone(){return new QL({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([p()],ug.prototype,"paddedViewState",void 0),c([p({type:Uc})],ug.prototype,"padding",null),c([p()],ug.prototype,"viewpoint",null),ug=QL=c([R("esri.views.2d.PaddedViewState")],ug);const qF=ug;function Hf(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,u=1-a-l;function d(g){return((o*g+s)*g+i)*g}function h(g){return((u*g+l)*g+a)*g}function f(g){return(3*o*g+2*s)*g+i}function y(g,v){let b,_,x,S,$,C;for(x=g,C=0;C<8;C++){if(S=d(x)-g,Math.abs(S)<v)return x;if($=f(x),Math.abs($)<1e-6)break;x-=S/$}if(b=0,_=1,x=g,x<b)return b;if(x>_)return _;for(;b<_;){if(S=d(x),Math.abs(S-g)<v)return x;g>S?b=x:_=x,x=.5*(_-b)+b}return x}return function(g,v=1e-6){return h(y(g,v))}}const fje=/^cubic-bezier\((.*)\)/,mu={};function mje(e){let t=mu[e]||null;if(!t){const r=fje.exec(e);if(r){const n=r[1].split(",").map(i=>parseFloat(i.trim()));n.length!==4||n.some(i=>isNaN(i))||(t=Hf.apply(Hf,n))}}return t}mu.ease=Hf(.25,.1,.25,1),mu.linear=Hf(0,0,1,1),mu.easeIn=mu["ease-in"]=Hf(.42,0,1,1),mu.easeOut=mu["ease-out"]=Hf(0,0,.58,1),mu.easeInOut=mu["ease-in-out"]=Hf(.42,0,.58,1);let MW=class{constructor(t){this._view=t,this.viewpoint=new Aa({targetGeometry:new nt,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return lle(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotateAtZoom(t){return this.size/2}compareTo(t,r){r.pan=Kre(this.center,t.center);let n=Math.abs(t.rotation-this.rotation);n=n>=180?360-n:n,r.rotate=Rp(n),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,n){const{pan:i,rotate:s,zoom:o,zoomOffset:a}=n,{center:l}=this;l.spatialReference=t.center.spatialReference,l.x=ab(t.center.x,r.center.x,i),l.y=ab(t.center.y,r.center.y,i),this.viewpoint.scale=ab(t.scale,r.scale+a,o);let u=t.rotation;const d=r.rotation;Math.abs(d-u)>=180&&(u+=360*(u<d?1:-1)),this.viewpoint.rotation=ab(u,d,s)}copyFrom(t){ls(this.viewpoint,t.viewpoint),this._view=t.view}};const $le=e=>e*e,yje=e=>1-$le(1-e),gje=e=>2**(10*(e-1)),vje=e=>1-gje(1-e);function bje(e){const t=2*(e-Math.sqrt((e-1)*e)),r=t/2/e;return n=>n<r?e*n*n:t*n-t+1}function wje(e,t){return(r,n)=>r<t?t*e(r/t,n):1-e((1-r)/(1-t),n)*(1-t)}const CW=wje(bje(1),.5);let _je=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const N_={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},Tle={...N_,maxDuration:4e3};let xje=class Mle{constructor(t){this._createCamera=t,this.compared=new _je,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:N_.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new Mle(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,n){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow!=null?n.desiredScreenFlow:N_.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>As()}get hasFov(){return Math.abs(this.compared.fov)>As()}get hasRotate(){return this.compared.rotate>As()}},Sje=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},$je=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,r)=>t+r.time,0)}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),t*=this.time;let n=0,i=0;const s=this.definition,o=this.segments.reduce((a,l)=>a||l.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const l=this.segments[a],u=l.definition;if(t<=l.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:t/l.time,r),s.hasPan&&!isNaN(r.pan)&&isFinite(s.compared.pan)?r.pan=(n+u.compared.pan*r.pan)/s.compared.pan:r.pan=1,s.hasRotate&&!isNaN(r.rotate)&&isFinite(s.compared.rotate)?r.rotate=(i+u.compared.rotate*r.rotate)/s.compared.rotate:r.rotate=1,o&&!isNaN(r.zoom)&&isFinite(u.compared.targetZoom)){const{sourceZoom:d,targetZoom:h}=u.compared,f=r.zoom*(h-d)+d,y=this.segments[0].definition.compared.sourceZoom,g=this.segments[this.segments.length-1].definition.compared.targetZoom,v=Math.abs(h-y)>Math.abs(d-y)?h:d;r.zoomOffset=v-g,r.zoom=(f-y)/(v-y)}else r.zoom=1;return r}t-=l.time,n+=u.compared.pan,i+=u.compared.rotate}}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n)}},CO=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,r=t.compared,n=r.sourceZoom,i=r.targetZoom;this._zoomSign=n>i?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(n);const s=(t.source.pixelsPerRotateAtZoom(n)+t.target.pixelsPerRotateAtZoom(i))/2;this._rotatePixels=r.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:n,hasPan:i,hasRotate:s}=this.definition;let o=0,a=0;n&&(i&&(o=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(a=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(n&&i&&s){const u=o+a+o*a;this._zoomPixelFlow=o*a/u*l,this._panPixelFlow=a/u*l,this._rotatePixelFlow=o/u*l}else if(n&&i){const u=1+o;this._zoomPixelFlow=o/u*l,this._panPixelFlow=1/u*l}else if(n&&s){const u=1+a;this._zoomPixelFlow=a/u*l,this._rotatePixelFlow=1/u*l}else if(i&&s){const u=this._panPixelsAtSource/this._rotatePixels,d=1+u;this._panPixelFlow=u/d*l,this._rotatePixelFlow=1/d*l}else i?this._panPixelFlow=l:n?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);this._time=this.rotateTime??this.zoomTime??this.panTime??this.fovTime??0}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:null}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:null}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/Tje:null}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const r=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(r*(r/n)**-t-r)/(n-r)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:r,segmentEnd:n}=this.definition;return r+t*(n-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}};const Tje=Rp(90);function Mje(e,t,r){const n=t-e.compared.sourceZoom,i=e.halfWindowPanAtZoom(n);return-e.halfWindowSize*(r.ascensionFactor*Math.LN2*e.compared.pan+i)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*i)}function Cje(e,t,r){const n=1/t,i=Math.log(e.compared.sourceZoom*n),s=1/e.desiredPixelFlow,o=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,u=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*s*o*l*u-e.halfWindowSize*i*s*o*l+e.halfWindowSize*i*s*o*u/(a*a)}function Eje(e,t,r){const n=t-e.compared.sourceZoom,i=1/n,s=1/t,o=Math.log(e.compared.sourceZoom*s),a=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(n))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*a+2*i*o+2*s-2*o*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function kje(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Ije(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Oje(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Pje(e,t,r){return-e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function Aje(e,t,r){return e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function Rje(e,t,r){return-2*e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function Lje(e,t,r){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function jje(e,t,r){const n=Math.log(t/e.compared.targetZoom),i=1/e.desiredPixelFlow,s=1/Math.LN2,o=-t+e.compared.targetZoom,a=1/o,l=(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*n*i*s*a+e.halfWindowSize*n*i*s*l/(o*o)+e.halfWindowSize*i*s*a*l/t}function Nje(e,t,r){const n=t-e.compared.targetZoom,i=1/n,s=1/t,o=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+r.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*(-2*i*s*a-2*i*o+2*s+2*o*a/(n*n)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Fje(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Dje(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function zje(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Vje(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const r=Math.LN2*e.compared.pan,n=t,i=e.halfWindowPanAtZoom(n),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*i);return e.compared.sourceZoom<=e.compared.targetZoom?s*(r-i):s*(r+i)}function Bje(e,t){let r=Uje(e,t);const n={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},i=n.ascensionFactor===0,s=n.descensionFactor===0,o=i?kje:Mje,a=i?Ije:Cje,l=i?Oje:Eje,u=s?Fje:Lje,d=s?Dje:jje,h=s?zje:Nje,f=$=>o(e,$,n)+Pje(e,$,n)+u(e,$,n),y=$=>a(e,$,n)+Aje(e,$,n)+d(e,$,n),g=$=>l(e,$,n)+Rje(e,$,n)+h(e,$,n);let v=f(r);const b=Vje(e);let _;const x=t.maximumIterations||20,S=t.maximumDistance!=null?t.maximumDistance:1/0;for(_=0;_<x;_++){const $=t.desiredSlope??1e-6;let C=y(r);Math.abs(C)>$&&(C+=$);const k=C/g(r);if(isNaN(k)||r>=S&&k<0){if(!isFinite(S))return null;r=S,v=f(r);break}if(r-=k,r<e.compared.sourceZoom||r<e.compared.targetZoom)return null;const E=f(r);if(Math.abs(E-v)/v<=.005)break;v=E}return v>b*(1-.3)||r<e.compared.sourceZoom||r<e.compared.targetZoom?null:r}function Uje(e,t){const r=Math.max(e.compared.sourceZoom,e.compared.targetZoom),n=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return n<r?t.maximumDistance!=null?r+(t.maximumDistance-r)/2:1.5*r:t.maximumDistance?Math.min(t.maximumDistance,n):n}let Gje=class extends $je{constructor(t,r){super(),this._preallocSegments=[new CO,new CO,new CO],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const n=r!=null&&r.apex?Bje(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,r==null?void 0:r.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,n){t.interpolateComponentsAt(r,n),t===this._ascensionSegment?n.zoom=yje(n.zoom):t===this._descensionSegment&&(n.zoom=$le(n.zoom))}_updateWithApex(t,r){const[n,i,s]=this._preallocSegments,o=(r==null?void 0:r.ascensionFactor)??.5,a=Math.min(1-o,(r==null?void 0:r.ascensionFactor)!=null&&r.descensionFactor!=null?r.descensionFactor:.5),l=1-o-a;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentEnd=o,n.update(),this._ascensionSegment=n,this.segments.push(n),l>0&&(i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.copyFrom(this.definition),i.definition.compared.sourceZoom=t,i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*l,i.definition.compared.rotate=this.definition.compared.rotate*l,i.definition.segmentStart=n.definition.segmentEnd,i.definition.segmentEnd=n.definition.segmentEnd+l,i.update(),this.segments.push(i)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*a,s.definition.compared.rotate=this.definition.compared.rotate*a,s.definition.segmentStart=o+l,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const Wje=new Sje;let qje=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=CW,this.definition=new xje(t),this.path=new Gje}update(t,r,n){this.definition.update(t,r,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(PSe(isFinite(this.path.time)?this.path.time:0),n),this._easing=n.easing??(this._time>=1e3?CW:vje)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const n=this.path.interpolateComponentsAt(t,Wje);r.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(t){const r=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(n-r)}_applyTimeSettings(t,r){const n=r.speedFactor!=null?r.speedFactor:1,i=r.minDuration??N_.minDuration/n,s=r.maxDuration??N_.maxDuration/n;return t=r.duration!=null?r.duration:Math.min(Math.max(t/n,i),s)}};const EW=2e3,Hje=64;let Zje=class{constructor(t){this._view=t,this._animation=new qje(()=>new MW(this._view)),this._current=new MW(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,n={}){ls(this._current.viewpoint,t),ls(this._source.viewpoint,t),ls(this._target.viewpoint,r),this._animation.update(this._source,this._target,n)}applyRatio(t,r){this._animation.cameraAt(r,this._current),ls(t,this._current.viewpoint)}},cg=class extends Be{constructor(t){super(t),this._animation=null,this._destinationViewState=new qF,this.updateFunction=null,this.easing=mu.ease,this.viewpoint=new Aa({targetGeometry:new nt,scale:0,rotation:0}),this._updateTask=q0({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new Zje(t.view)}destroy(){this._updateTask=gn(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,n){this.stop();const i=this.viewpoint;ls(i,r);const s=(typeof(n==null?void 0:n.easing)=="string"?mje(n.easing):n==null?void 0:n.easing)||this.easing,o=t.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(Math.min(r.scale,o.scale)*Hje,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n==null?void 0:n.duration,maxDuration:(n==null?void 0:n.animationMode)==="auto"?1/0:(n==null?void 0:n.maxDuration)??Tle.maxDuration,speedFactor:n==null?void 0:n.speedFactor,easing:typeof s=="function"?l=>s(l):void 0}),(n==null?void 0:n.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,Yje(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const n=new HL({target:t.clone()}),i=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var n,i;const r=this.animation;if(r&&r.state!==HL.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(n=this.animation)==null||n.update(this.viewpoint);else{const s=performance.now()-this._startTime,o=this._transition.duration,a=o>0?s/o:1,l=a>=1;this._transition.applyRatio(this.viewpoint,a),l&&((i=this.animation)==null||i.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function Yje(e,t,r,n){if((t==null?void 0:t.duration)!=null)return!0;const{time:i,isLinear:s}=e,o=(t==null?void 0:t.speedFactor)||1,a=(t==null?void 0:t.maxDuration)??Tle.maxDuration/o;if(J("esri-goto-debug")&&(console.log("speed factor:",o),console.log("adjusted duration:		",i),console.log("adjusted max duration:	",a),console.log("is linear:",s)),i>a)return J("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${a/1e3}s`),!1;if(s){const u=$n(),d=Fi(...n.toScreen(u,...r.center)),h=Fi(...r.toScreen(u,...n.center)),f=h!=null&&h.x>-(1.5-.5)*r.size[0]&&h.x<(1.5+.5)*r.size[0]&&h.y>-(1.5-.5)*r.size[1]&&h.y<(1.5+.5)*r.size[1],y=d!=null&&d.x>-(1.5-.5)*n.size[0]&&d.x<(1.5+.5)*n.size[0]&&d.y>-(1.5-.5)*n.size[1]&&d.y<(1.5+.5)*n.size[1];if(J("esri-goto-debug")&&(console.log(`dest is within ${1.5} screens at start view:`,f),console.log(`start is within ${1.5} screens at dest view:`,y)),i>EW/o&&!f&&!y)return J("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...
  - shorter than ${EW/1e3/o}s, or
  - shorter than ${a/1e3}s and the destination is close enough to the starting screen, or
  - shorter than ${a/1e3}s and the start point is close enough to the destination screen`),!1}return!0}c([p()],cg.prototype,"easing",void 0),c([p()],cg.prototype,"view",void 0),c([p()],cg.prototype,"viewpoint",void 0),cg=c([R("esri.views.2d.AnimationManager")],cg);const Jje=cg;let Kje=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation&&!("then"in this.view.animation.target)&&(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=()=>{var o,a;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:i,state:{id:s}}=this.view;r.forEach(this._updateLayerView,this),i!=null&&(i.lastUpdateId!==s&&(i.viewChange(),i.lastUpdateId=s),i.updateRequested&&i.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((a=this._frameTaskHandle)==null||a.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new qF,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=Se(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=q0(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var i;if(!t.attached)return void this.requestUpdate();const r=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0),n!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((i=t.layerViews)==null||i.forEach(this._updateLayerView,this))}},CT=class extends Be{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void ie.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new HL;this.view.animation=n,await Q0(()=>this.view.ready,r);const i={...r,animate:(r==null?void 0:r.animate)??!Eae(),animationMode:(r==null?void 0:r.animationMode)??"auto"},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:u,padding:d,allLayerViews:h}=this.view,f=p6e(t,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:u,padding:d,allLayerViews:h,pickClosestTarget:(r==null?void 0:r.pickClosestTarget)??!0});return n==null||n.update(f),this._gotoTask={},i.animate?this._gotoAnimated(f,i):this._gotoImmediate(f,i)}_gotoImmediate(t,r){const n=this._gotoTask,i=this.view.animation,s=t.then(o=>{if(_r(r),n!==this._gotoTask)throw new q("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=i.target=o,i.finish()});return this._cancellableGoTo(n,i,s,r)}_gotoAnimated(t,r){const n=this._gotoTask,i=this.view.animation;if(!i)return Promise.resolve();const s=t.then(o=>{if(_r(r),n!==this._gotoTask)throw new q("view:goto-interrupted","Goto was interrupted");return i.update(o),this.view.animationManager.animate(i,this.view.viewpoint,r),i.when().then(()=>{},()=>{})});return this._cancellableGoTo(n,i,s,r)}_cancellableGoTo(t,r,n,i){const s=()=>t===this._gotoTask;return $te(n,i).finally(()=>{s()&&(r.done||r.stop())})}};c([p({constructOnly:!0})],CT.prototype,"view",void 0),CT=c([R("esri.views.2d.GoToManager")],CT);function Yr(){return Promise.all([Q(()=>import("./webglDeps-DHyEjk78.js"),__vite__mapDeps([134,65,64,34,135,136]),import.meta.url),Q(()=>import("./mapViewDeps-BBM4EVLI.js"),__vite__mapDeps([137,72,70,71,12,73,63,60,74,66,138,104,77,34,67,68,29,64,65,62,35,69,78,79,80,139,140,141,136,88,113,112,14,11,15,111,134,135,142,83,143,61,21,18,8,144,145,146,106,147,148,149,150,50,151,81,152,76,153,154,155,156,157,158,159]),import.meta.url)])}const E1=()=>Yr().then(()=>Q(()=>import("./TileLayerView2D-DedPD25M.js"),__vite__mapDeps([160,73,70,71,72,12,63,60,74,66,104,140,139,69,34,64,141,62,65,35,136,88,113,112,79,14,11,15,111,142,83,143,61,67,68,29,21,18,8,50,152,80,77,78,145,146,106,153,154,161,162,158,163,164,156,157,165,166,167,168,169]),import.meta.url)),Oy=()=>Yr().then(()=>Q(()=>import("./FeatureLayerView2D-Ql3WgbIY.js").then(e=>e.F),__vite__mapDeps([170,140,14,11,12,15,171,69,163,139,60,34,64,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,83,75,172,70,71,72,73,74,138,104,152,80,173,167,169,165]),import.meta.url)),kW={"base-dynamic":()=>Yr().then(()=>Q(()=>import("./BaseDynamicLayerView2D-D1edbMq7.js"),__vite__mapDeps([174,175,141,60,62,63,64,34,65,35,66,136,88,139,140,69,113,112,79,14,11,12,15,163,176,162,165]),import.meta.url)),"base-tile":E1,"bing-maps":E1,catalog:()=>Yr().then(()=>Q(()=>import("./CatalogLayerView2D-DEUOSpLY.js"),__vite__mapDeps([177,163,139,140,69,60,34,64]),import.meta.url)),"catalog-dynamic-group":()=>Yr().then(()=>Q(()=>import("./CatalogDynamicGroupLayerView2D-DbRwcOtK.js"),__vite__mapDeps([178,163,139,140,69,60,34,64]),import.meta.url)),"catalog-footprint":()=>Yr().then(()=>Q(()=>import("./CatalogFootprintLayerView2D-B0_2aegM.js"),__vite__mapDeps([179,170,140,14,11,12,15,171,69,163,139,60,34,64,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,83,75,172,70,71,72,73,74,138,104,152,80,173,167,169,165]),import.meta.url)),csv:Oy,"geo-rss":()=>Yr().then(()=>Q(()=>import("./GeoRSSLayerView2D-CyEPHJi8.js"),__vite__mapDeps([180,163,139,140,69,60,34,64,155,156,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,14,11,12,15,152,70,71,72,73,74,80,153,61,21,18,8,154]),import.meta.url)),feature:Oy,geojson:Oy,graphics:()=>Yr().then(()=>Q(()=>import("./GraphicsLayerView2D-DF_PuoQE.js"),__vite__mapDeps([181,69,163,139,140,60,34,64,155,156,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,14,11,12,15,152,70,71,72,73,74,80,153,61,21,18,8,154,173]),import.meta.url)),group:()=>Yr().then(()=>Q(()=>import("./GroupLayerView2D-gPBipQzM.js"),__vite__mapDeps([182,163,139,140,69,60,34,64]),import.meta.url)),imagery:()=>Yr().then(()=>Q(()=>import("./ImageryLayerView2D-C-IrZWcf.js"),__vite__mapDeps([183,184,65,64,34,136,35,94,95,141,60,62,63,66,88,139,140,69,113,112,79,14,11,12,15,163,153,70,71,72,73,74,61,67,68,29,21,18,8,152,80,154,164,156,157,158,175,162,176,98,171,169,165]),import.meta.url)),"imagery-tile":()=>Yr().then(()=>Q(()=>import("./ImageryTileLayerView2D-xgb7sKda.js"),__vite__mapDeps([185,186,184,65,64,34,136,35,94,95,141,60,62,63,66,88,139,140,69,113,112,79,14,11,12,15,163,187,158,188,98,171,169,165]),import.meta.url)),kml:()=>Yr().then(()=>Q(()=>import("./KMLLayerView2D-BjmIMqlm.js"),__vite__mapDeps([189,190,162,139,140,69,60,34,64,175,141,62,63,65,35,66,136,88,113,112,79,14,11,12,15,163,155,156,157,67,68,29,158,152,70,71,72,73,74,80,153,61,21,18,8,154,98,144,134,135,145,146,106,143,104,147,187]),import.meta.url)),"knowledge-graph":()=>Yr().then(()=>Q(()=>import("./KnowledgeGraphLayerView2D-D5X_4oTX.js"),__vite__mapDeps([191,163,139,140,69,60,34,64]),import.meta.url)),"link-chart":()=>Yr().then(()=>Q(()=>import("./KnowledgeGraphLayerView2D-D5X_4oTX.js"),__vite__mapDeps([191,163,139,140,69,60,34,64]),import.meta.url)),"knowledge-graph-sublayer":Oy,"map-image":()=>Yr().then(()=>Q(()=>import("./MapImageLayerView2D-D-xMEhCM.js"),__vite__mapDeps([192,175,141,60,62,63,64,34,65,35,66,136,88,139,140,69,113,112,79,14,11,12,15,163,153,70,71,72,73,74,61,67,68,29,21,18,8,152,80,154,164,156,157,158,176,162,193,167,168,171,165,166,169]),import.meta.url)),"map-notes":()=>Yr().then(()=>Q(()=>import("./MapNotesLayerView2D-dZZL8yeY.js"),__vite__mapDeps([194,69,163,139,140,60,34,64,155,156,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,14,11,12,15,152,70,71,72,73,74,80,153,61,21,18,8,154]),import.meta.url)),media:()=>Yr().then(()=>Q(()=>import("./MediaLayerView2D-BTzheYvO.js"),__vite__mapDeps([195,196,154,39,73,70,71,72,12,63,60,74,66,104,140,139,69,34,64,141,62,65,35,136,88,113,112,79,14,11,15,111,142,83,143,61,67,68,29,21,18,8,50,152,80,77,78,145,146,106,153,151,81,197,163]),import.meta.url)),"ogc-feature":()=>Yr().then(()=>Q(()=>import("./OGCFeatureLayerView2D-frieDacH.js"),__vite__mapDeps([198,170,140,14,11,12,15,171,69,163,139,60,34,64,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,83,75,172,70,71,72,73,74,138,104,152,80,173,167,169,165]),import.meta.url)),"open-street-map":E1,"oriented-imagery":Oy,route:()=>Yr().then(()=>Q(()=>import("./RouteLayerView2D-MTLq2_Kg.js"),__vite__mapDeps([199,200,69,163,139,140,60,34,64,155,156,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,14,11,12,15,152,70,71,72,73,74,80,153,61,21,18,8,154]),import.meta.url)),stream:()=>Yr().then(()=>Q(()=>import("./StreamLayerView2D-D0fUCfmE.js"),__vite__mapDeps([201,170,140,14,11,12,15,171,69,163,139,60,34,64,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,83,75,172,70,71,72,73,74,138,104,152,80,173,167,169,165]),import.meta.url)),"subtype-group":()=>Yr().then(()=>Q(()=>import("./SubtypeGroupLayerView2D-CzFA1ZCK.js"),__vite__mapDeps([202,170,140,14,11,12,15,171,69,163,139,60,34,64,157,67,68,29,65,62,63,35,66,158,141,136,88,113,112,79,83,75,172,70,71,72,73,74,138,104,152,80,173,167,169,165]),import.meta.url)),tile:E1,"vector-tile":()=>Yr().then(()=>Q(()=>import("./VectorTileLayerView2D-8GTD47-8.js"),__vite__mapDeps([203,111,74,34,64,50,150,104,80,73,65,136,112,141,60,62,63,35,66,88,139,140,69,113,79,14,11,12,15,158,17,114,115,163]),import.meta.url)),video:()=>Yr().then(()=>Q(()=>import("./VideoLayerView2D-DrGZtobJ.js"),__vite__mapDeps([204,205,197,88,141,60,62,63,64,34,65,35,66,136,139,140,69,113,112,79,14,11,12,15,163,155,156,157,67,68,29,158,152,70,71,72,73,74,80,153,61,21,18,8,154]),import.meta.url)),wcs:()=>Yr().then(()=>Q(()=>import("./ImageryTileLayerView2D-xgb7sKda.js"),__vite__mapDeps([185,186,184,65,64,34,136,35,94,95,141,60,62,63,66,88,139,140,69,113,112,79,14,11,12,15,163,187,158,188,98,171,169,165]),import.meta.url)),"web-tile":E1,wfs:Oy,wms:()=>Yr().then(()=>Q(()=>import("./WMSLayerView2D-Dg9D-gyd.js"),__vite__mapDeps([206,175,141,60,62,63,64,34,65,35,66,136,88,139,140,69,113,112,79,14,11,12,15,163,176,162,165,171]),import.meta.url)),wmts:()=>Yr().then(()=>Q(()=>import("./WMTSLayerView2D-wU0crCEc.js"),__vite__mapDeps([207,161,162,139,140,69,60,34,64,141,62,63,65,35,66,136,88,113,112,79,14,11,12,15,158,163,165]),import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function Xje(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new q(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const IW={hasLayerViewModule:e=>kW[e.type]!=null,importLayerView:e=>{const t=kW[e.type];if(t==null)throw Xje(e);return t(e)}};function Qje(e,t){const{spatialReference:r}=t,n=[t.x,t.y];let i=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const u of l)for(let d=0;d<u.length-1;d++){UMe(a,n,u,d);const h=$k(n,a);h<i&&(i=h,s=a[0],o=a[1])}return{coordinate:new nt({x:s,y:o,spatialReference:r}),distance:i}}var e6;let Zf=e6=class extends gF(Be){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Eh(this.geometry,this.spatialReference)}catch(e){return ie.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?Lx(this.normalizedGeometry,r):O9(this.normalizedGeometry,r))return e;const{coordinate:n}=Qje(this.normalizedGeometry,r);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new e6({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([p({constructOnly:!0})],Zf.prototype,"geometry",void 0),c([p({readOnly:!0})],Zf.prototype,"normalizedGeometry",null),c([p({constructOnly:!0})],Zf.prototype,"spatialReference",void 0),Zf=e6=c([R("esri.views.2d.constraints.GeometryConstraint")],Zf);var t6;let Vb=t6=class extends gF(Be){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new t6({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([p()],Vb.prototype,"enabled",void 0),c([p()],Vb.prototype,"rotationEnabled",void 0),Vb=t6=c([R("esri.views.2d.constraints.RotationConstraint")],Vb);const Cle=Vb;var r6;let Ws=r6=class extends gF(Be){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:n,minZoom:i,maxZoom:s}=this,o=-1,a=-1,l=!1,u=!1;if(r!==0&&n!==0&&r<n&&([r,n]=[n,r]),!(t!=null&&t.length))return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",n);t=t.map(d=>d.clone()),t.sort((d,h)=>h.scale-d.scale),t.forEach((d,h)=>d.level=h);for(const d of t)!l&&r>0&&r>=d.scale&&(o=d.level,l=!0),!u&&n>0&&n>=d.scale&&(a=e?e.level:-1,u=!0),e=d;i===-1&&(i=r===0?0:o),s===-1&&(s=n===0?t.length-1:a),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),r=t[i].scale,n=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((d,h)=>{this._lodByScale[d.scale]=d,this._scales[h]=d.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,o=n!==0&&e.scale<n,a=r!==0&&e.scale>r;if(o||a){const l=a?r:n;if(t&&s){const u=(l-t.scale)/(e.scale-t.scale);i.x=s.x+(i.x-s.x)*u,i.y=s.y+(i.y-s.y)*u}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.floor(e),n=Math.ceil(e);return t[r]+(e-r)*(t[n]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(r=t[i],n=t[i+1],n===e)return i+this.effectiveMinZoom+1;if(r>e&&n<e)return i+this.effectiveMinZoom+1-(e-n)/(r-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new r6({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};c([p({readOnly:!0})],Ws.prototype,"effectiveLODs",void 0),c([p({readOnly:!0})],Ws.prototype,"effectiveMinZoom",void 0),c([p({readOnly:!0})],Ws.prototype,"effectiveMaxZoom",void 0),c([p({readOnly:!0})],Ws.prototype,"effectiveMinScale",void 0),c([p({readOnly:!0})],Ws.prototype,"effectiveMaxScale",void 0),c([p()],Ws.prototype,"lods",void 0),c([p()],Ws.prototype,"minZoom",void 0),c([p()],Ws.prototype,"maxZoom",void 0),c([p()],Ws.prototype,"minScale",void 0),c([p()],Ws.prototype,"maxScale",void 0),c([p()],Ws.prototype,"snapToZoom",void 0),Ws=r6=c([R("esri.views.2d.constraints.ZoomConstraint")],Ws);const Ele=Ws,e8e={base:null,key:"type",typeMap:{extent:Rt,polygon:Va}};let En=class extends Be{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Ce}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,n;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _geometry(){var r,n;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((r=this.view)==null?void 0:r.constraintsInfo.spatialReference)===t.spatialReference?t:new Zf({geometry:this.geometry,spatialReference:(n=this.view)==null?void 0:n.constraintsInfo.spatialReference})}get _rotation(){return new Cle({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const t=this._get("_zoom"),r=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),n=this.minZoom,i=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return t&&t.lods===r&&t.minZoom===n&&t.maxZoom===i&&t.minScale===s&&t.maxScale===o&&t.snapToZoom===a?t:new Ele({lods:r,minZoom:n,maxZoom:i,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(n=>n.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>{var n;return(n=r.applyPanConstraint)==null?void 0:n.call(r,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};c([p({readOnly:!0})],En.prototype,"effectiveLODs",null),c([p({readOnly:!0})],En.prototype,"effectiveMinScale",null),c([p({readOnly:!0})],En.prototype,"effectiveMaxScale",null),c([p({readOnly:!0})],En.prototype,"effectiveMinZoom",null),c([p({readOnly:!0})],En.prototype,"effectiveMaxZoom",null),c([p({types:e8e,value:null})],En.prototype,"geometry",null),c([p({type:[ba]})],En.prototype,"lods",void 0),c([p()],En.prototype,"minScale",void 0),c([p()],En.prototype,"maxScale",void 0),c([p()],En.prototype,"minZoom",void 0),c([p()],En.prototype,"maxZoom",void 0),c([p()],En.prototype,"rotationEnabled",void 0),c([p()],En.prototype,"snapToZoom",void 0),c([p({type:Ce})],En.prototype,"customConstraints",void 0),c([p()],En.prototype,"view",void 0),c([p({readOnly:!0})],En.prototype,"version",null),c([p({type:Zf,readOnly:!0})],En.prototype,"_geometry",null),c([p({type:Cle})],En.prototype,"_rotation",null),c([p({readOnly:!0,type:Ele})],En.prototype,"_zoom",null),En=c([R("esri.views.2d.MapViewConstraints")],En);const kle=En;let gh=class Cf{static getId(t,r,n,i){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${n}/${i}`}constructor(t,r,n,i){this.set(t,r,n,i)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,n=63&this.level;return(3&this.world)<<30|r<<22|t<<8|n}acquire(t,r,n,i){this.set(t,r,n,i)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){const r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Cf(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,n,i){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,o,a,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+n,this.world=+i||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Cf(this.level-1,this.row>>1,this.col>>1,this.world)}getNeighborId(t,r){return`${this.level}/${this.row+r}/${this.col+t}/${this.world}`}getChildKeys(){const t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new Cf(t,r,n,i),new Cf(t,r,n+1,i),new Cf(t,r+1,n,i),new Cf(t,r+1,n+1,i)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};gh.pool=new iy(gh,null,null,25,50);function Rd(e,t){return[e,t]}function Bh(e,t,r){return e[0]=t,e[1]=r,e}function t8e(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}const nl=new gh("0/0/0/0");let r8e=class Ile{static create(t,r,n=null){const i=oo(t.spatialReference),s=r.origin||Rd(t.origin.x,t.origin.y),o=Rd(t.size[0]*r.resolution,t.size[1]*r.resolution),a=Rd(-1/0,-1/0),l=Rd(1/0,1/0),u=Rd(1/0,1/0);n!=null&&(Bh(a,Math.max(0,Math.floor((n.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymax)/o[1]))),Bh(l,Math.max(0,Math.floor((n.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-n.ymin)/o[1]))),Bh(u,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:d,rows:h}=r;let f,y,g,v;return!n&&d&&h&&(Bh(a,d[0],h[0]),Bh(l,d[1],h[1]),Bh(u,d[1]-d[0]+1,h[1]-h[0]+1)),t.isWrappable?(f=Rd(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),u[1]),y=Rd(Math.floor((i.origin[0]-s[0])/o[0]),a[1]),g=Rd(f[0]+y[0]-1,l[1]),v=!0):(y=a,g=l,f=u,v=!1),new Ile(r.level,r.resolution,r.scale,s,a,l,u,o,y,g,f,v)}constructor(t,r,n,i,s,o,a,l,u,d,h,f){this.level=t,this.resolution=r,this.scale=n,this.origin=i,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldStart=u,this.worldEnd=d,this.worldSize=h,this.wrap=f}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,n=!1){nl.set(r);const i=n?nl.col:this.denormalizeCol(nl.col,nl.world),s=nl.row;return t8e(t,this.getXForColumn(i),this.getYForRow(s+1),this.getXForColumn(i+1),this.getYForRow(s)),t}getTileCoords(t,r,n=!1){nl.set(r);const i=n?nl.col:this.denormalizeCol(nl.col,nl.world);return Array.isArray(t)?Bh(t,this.getXForColumn(i),this.getYForRow(nl.row)):(t.x=this.getXForColumn(i),t.y=this.getYForRow(nl.row)),t}},F_=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:r,colFrom:n,colTo:i}of this.spans)for(let s=n;s<=i;s++){const o=t.getWorldForColumn(s);yield new gh(t.level,r,t.normalizeCol(s),o)}}forEach(t,r){const{spans:n,lodInfo:i}=this,{level:s}=i;if(n.length!==0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++)t.call(r,s,o,i.normalizeCol(u),i.getWorldForColumn(u))}};F_.pool=new iy(F_);let EO=class{constructor(t,r,n){this.row=t,this.colFrom=r,this.colTo=n}};const Qr=new gh("0/0/0/0");let n8e=class Ole{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[n,i]=t,[s,o]=r,a=s-n,l=o-i,u=l!==0?a/l:0,d=(Math.ceil(i)-i)*u,h=(Math.floor(i)-i)*u;return new Ole(n,Math.floor(i),Math.ceil(o),u,a<0?d:h,a<0?h:d,a<0?s:n,a<0?n:s)}constructor(t,r,n,i,s,o,a,l){this.x=t,this.ymin=r,this.ymax=n,this.invM=i,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const mo=[[0,0],[0,0],[0,0],[0,0]],i8e=1e-6;let s8e=class{constructor(t,r=null,n=t.lods[0].level,i=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(a=>a.level>=n&&a.level<=i);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>r8e.create(t,a,r));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,n=!1){Qr.set(r);const i=this._infoByLevel[Qr.level];return i?i.getTileBounds(t,Qr,n):t}getTileCoords(t,r,n=!1){Qr.set(r);const i=this._infoByLevel[Qr.level];return i?i.getTileCoords(t,Qr,n):t}getTileCoverage(t,r=192,n=!0,i="closest"){if(!n&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=i==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),o=F_.pool.acquire(s),a=this._wrap;let l,u,d,h=1/0,f=-1/0;const y=o.spans;mo[0][0]=mo[0][1]=mo[1][1]=mo[3][0]=-r,mo[1][0]=mo[2][0]=t.size[0]+r,mo[2][1]=mo[3][1]=t.size[1]+r;for(const _ of mo)t.toMap(_,_),_[0]=s.getColumnForX(_[0]),_[1]=s.getRowForY(_[1]);const g=[];let v=3;for(let _=0;_<4;_++){if(mo[_][1]===mo[v][1]){v=_;continue}const x=n8e.create(mo[_],mo[v]);h=Math.min(x.ymin,h),f=Math.max(x.ymax,f),g[x.ymin]===void 0&&(g[x.ymin]=[]),g[x.ymin].push(x),v=_}if(h==null||f==null||f-h>100)return null;let b=[];for(l=h;l<f;){g[l]!=null&&(b=b.concat(g[l])),u=1/0,d=-1/0;for(let _=b.length-1;_>=0;_--){const x=b[_];u=Math.min(u,x.getLeftCol()),d=Math.max(d,x.getRightCol())}if(u=Math.floor(u),d=Math.floor(d),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const _=Math.floor(d/s.worldSize[0]);for(let x=Math.floor(u/s.worldSize[0]);x<=_;x++)y.push(new EO(l,Math.max(s.getFirstColumnForWorld(x),u),Math.min(s.getLastColumnForWorld(x),d)))}else y.push(new EO(l,u,d));else u>s.last[0]||d<s.first[0]||(u=Math.max(u,s.first[0]),d=Math.min(d,s.last[0]),y.push(new EO(l,u,d)));l+=1;for(let _=b.length-1;_>=0;_--){const x=b[_];x.ymax>=l?x.incrRow():b.splice(_,1)}}return o}getTileParentId(t){Qr.set(t);const r=this._infoByLevel[Qr.level],n=this._lodInfos.indexOf(r)-1;return n<0?null:(this._getTileIdAtLOD(Qr,this._lodInfos[n],Qr),Qr.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){Qr.set(r);const n=this._infoByLevel[Qr.level],i=t.lodInfo;if(i.resolution>n.resolution){this._getTileIdAtLOD(Qr,i,Qr);const o=i.denormalizeCol(Qr.col,Qr.world);for(const a of t.spans)if(a.row===Qr.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(i.resolution<n.resolution){const[o,a,l,u]=t.spans.reduce((v,b)=>(v[0]=Math.min(v[0],b.row),v[1]=Math.max(v[1],b.row),v[2]=Math.min(v[2],b.colFrom),v[3]=Math.max(v[3],b.colTo),v),[1/0,-1/0,1/0,-1/0]),d=n.denormalizeCol(Qr.col,Qr.world),h=i.getColumnForX(n.getXForColumn(d)),f=i.getRowForY(n.getYForRow(Qr.row)),y=i.getColumnForX(n.getXForColumn(d+1))-1,g=i.getRowForY(n.getYForRow(Qr.row+1))-1;return!(h>u||y<l||f>a||g<o)}const s=i.denormalizeCol(Qr.col,Qr.world);return t.spans.some(o=>o.row===Qr.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(t,r,n){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const i=oo(this.tileInfo.spatialReference),s=-n*(i.valid[1]-i.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let n=1;n<r.length-1;n++)if(t>r[n]+i8e)return this._infoByScale[r[n-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=r.length-1;n>=0;n--)if(t<r[n])return n===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[n]].level+(r[n]-t)/(r[n]-r[n+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,n){const i=this._infoByLevel[n.level];return t.set(n),r.resolution<i.resolution?null:(r.resolution===i.resolution||(t.level=r.level,t.col=Math.floor(n.col*i.resolution/r.resolution+.01),t.row=Math.floor(n.row*i.resolution/r.resolution+.01)),t)}},o8e=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},a8e=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new Fw,this._controllers=new Fw,this._processingItems=new Fw,this._pausedSignal=kse(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new v3(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=gn(this._schedule),this._task=gn(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,n)=>t(n))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const n=this.get(t);if(n)return n;const i=new AbortController;let s=null;r&&(s=Ia(r,()=>i.abort()));const o=()=>{const d=this._processingItems.get(t);d&&d.controller.abort(),a(),u.reject(Bn())},a=()=>{l.remove(),s!=null&&s.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},l=n9(i.signal,o),u=zo();return this._deferreds.set(t,u),this._controllers.set(t,i),u.promise.then(a,a),this._queue.push(t),this._scheduleNext(),u.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var r;const t=this._queue.popLast();return t&&((r=this._deferreds.get(t))==null||r.reject(Bn("Removed from queue")),this._removeItem(t)),t}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=bv(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const n=new AbortController,i=new o8e(t,n);this._processingItems.set(t,i);try{r=this.process(t,n.signal)}catch(s){this._processError(i,s)}Ch(r)?(i.promise=r,r.then(s=>this._processResult(i,s),s=>this._processError(i,s))):this._processResult(i,r)}get test(){}};function l8e(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const kO=new Set,E2=[],Py=new Map,OW=[0,0];let ip=class extends Be{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r,strategy:n}=this;this._queue=new a8e({concurrency:t,process:(i,s)=>{const o=this._keyToItem.get(i);return r(o,{signal:s})},peeker:n==="scale-first"?i=>this._peekByScaleFirst(i):i=>this._peekByCenterFirst(i)})}destroy(){this.clear(),this._queue=jr(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const n=this._queue.push(r),i=()=>{this._keyToItem.delete(r)};return this._keyToItem.set(r,t),n.then(i,i),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;t.forEach(d=>{const h=this._keyToItem.get(d),f=this.tileInfoView.getTileScale(h.key);Py.has(f)||(Py.set(f,[]),n=Math.max(f,n),i=Math.min(f,i)),Py.get(f).push(h.key),kO.add(f)});let s=this.state.scale;Py.has(s)||(l8e(E2,kO),E2.sort((d,h)=>d-h),s=E2.reduce((d,h)=>Math.abs(h-s)<Math.abs(d-s)?h:d,E2[0])),s=Math.min(s,n),s=Math.max(s,i);const o=Py.get(s),a=r.getClosestInfoForScale(s),l=a.getColumnForX(this.state.center[0]),u=a.getRowForY(this.state.center[1]);return o.sort((d,h)=>{const f=a.denormalizeCol(d.col,d.world),y=a.denormalizeCol(h.col,h.world);return Math.sqrt((l-f)*(l-f)+(u-d.row)*(u-d.row))-Math.sqrt((l-y)*(l-y)+(u-h.row)*(u-h.row))}),kO.clear(),Py.clear(),o[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,n=this.state.center;let i,s=Number.POSITIVE_INFINITY;return t.forEach(o=>{const a=this._keyToItem.get(o);r.getTileCoords(OW,a.key);const l=$k(OW,n);l<s&&(s=l,i=a.key)}),i.id}};c([p({constructOnly:!0})],ip.prototype,"concurrency",void 0),c([p({constructOnly:!0})],ip.prototype,"process",void 0),c([p()],ip.prototype,"state",void 0),c([p({constructOnly:!0})],ip.prototype,"strategy",void 0),c([p({constructOnly:!0})],ip.prototype,"tileInfoView",void 0),ip=c([R("esri.views.2d.tiling.TileQueue")],ip);const oxt=ip;let u8e=class{constructor(t,r,n){this.maxSize=t,this._tileInfoView=r,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const n=r.key.level,i=this._tileKeysPerLevel[n];PW(this._tilePerId,t);for(let s=0;s<i.length;s++)if(i[s].id===t){i.splice(s,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,n=r.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const i=r.level;this._tileKeysPerLevel[i]||(this._tileKeysPerLevel[i]=[]),this._tileKeysPerLevel[i].push(r)}prune(t,r,n){let i=this._tilePerId.size;if(i<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;i>this.maxSize&&s>=0;)s!==t&&(i=this._pruneAroundCenterTile(i,r,n,s)),s--;i>this.maxSize&&(i=this._pruneAroundCenterTile(i,r,n,t))}_pruneAroundCenterTile(t,r,n,i){const s=this._tileKeysPerLevel[i];if(!s||s.length===0)return t;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=n*o[0],u=n*o[1],d=[0,0],h=[0,0];for(s.sort((f,y)=>(d[0]=a.x+l*(f.col+.5),d[1]=a.y-u*(f.row+.5),h[0]=a.x+l*(y.col+.5),h[1]=a.y-u*(y.row+.5),D3(d,r)-D3(h,r)));s.length>0;){const f=s.pop();if(this._removeTile(f.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),PW(this._tilePerId,t)}};function PW(e,t){e.delete(t)}const Uh=new gh(0,0,0,0),ic=new Map,Gh=[],IO=[];let lxt=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new u8e(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){var _,x;const{resampling:r,tileIndex:n}=this,{scale:i,center:s,resolution:o}=t.state,{minScale:a,maxScale:l}=this.tileInfoView,u=!t.stationary&&i>this._previousScale;if(this._previousScale=i,!r&&(i>a||i<l))return this.tiles.length=0,void this.clear();const d=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!d)return this.tiles.length=0,void this.clear();const{spans:h,lodInfo:f}=d,{level:y}=f;this.tiles.length=0,n.forEach(S=>S.visible=!0);let g=0,v=0;if(h.length>0)for(const{row:S,colFrom:$,colTo:C}of h)for(let k=$;k<=C;k++){g++;const E=Uh.set(y,S,f.normalizeCol(k),f.getWorldForColumn(k)).id;let P=n.get(E);if(P)P.isReady?(ic.set(E,P),v++):u||this._addParentTile(E,ic);else{if((_=this._tileCache)!=null&&_.has(E)){if(P=this._tileCache.pop(E),this.tileIndex.set(E,P),P.isReady){ic.set(E,P),v++;continue}}else P=this.acquireTile(Uh),this.tileIndex.set(E,P);u||this._addParentTile(E,ic)}}const b=v===g;for(const[S,$]of n){if(ic.has(S))continue;Uh.set(S);const C=this.tileInfoView.intersects(d,Uh),k=this.cachePolicy==="purge"?Uh.level!==y:Uh.level>y;!C||!u&&b?!k&&C||Gh.push($):$.isReady?k&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Uh,y)?Gh.push($):IO.push($):k&&Gh.push($)}for(const S of IO)S.isReady&&ic.set(S.key.id,S);for(const S of Gh)this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(S.key.id);for(const S of ic.values())this.tiles.push(S);for(const S of n.values())ic.has(S.key.id)||(S.visible=!1);(x=this._tileCache)==null||x.prune(y,s,o),F_.pool.release(d),IO.length=0,Gh.length=0,ic.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){var r;for(const n of this.tileIndex.values())this.tiles.includes(n)?t(n):Gh.push(n);for(const n of Gh)this.releaseTile(n),this.tileIndex.delete(n.key.id);(r=this._tileCache)==null||r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){var s;let n=t,i=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(i=this.tileIndex.get(n),i==null?void 0:i.isReady){r.has(i.key.id)||r.set(i.key.id,i);break}}else if((s=this._tileCache)!=null&&s.has(n)&&(i=this._tileCache.pop(n),this.tileIndex.set(n,i),i==null?void 0:i.isReady)){r.has(i.key.id)||r.set(i.key.id,i);break}}_hasReadyAncestor(t,r){const n=wi();this.tileInfoView.getTileBounds(n,t,!0);for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=r&&i.key.level<t.level){const s=wi();if(this.tileInfoView.getTileBounds(s,i.key,!0),s3e(s,n))return!0}return!1}},Ss=class extends Be{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Se(()=>{var r;return(r=this.constraints)==null?void 0:r.version},r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Ni)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new nt({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void ie.getLogger(this).error(new q("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:i}))}const n=this.viewpoint;YL(n,n,r),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void ie.getLogger(this).error(new q("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(i){return void ie.getLogger(this).error(new q("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:i}))}const n=this.viewpoint;m6e(n,n,r,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;T6e(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const r=this.viewpoint;$W(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var s;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,n;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?n=new q("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(n=new q("mapview:invalid-viewpoint","geometry not defined"))}catch(o){n=new q("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(n)return void ie.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const i=new Aa({targetGeometry:new nt,scale:0,rotation:0});ls(i,r),(s=this.constraints)==null||s.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this._set("viewpoint",i)}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var i,s;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const r=((i=this.constraints)==null?void 0:i.zoomToScale(t))??0;if(!r)return void this._set("zoom",-1);const n=this.viewpoint;$W(n,n,r),this.viewpoint=n,this._set("zoom",((s=this.constraints)==null?void 0:s.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:n}=this,i=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),u=this._get("zoom"),d=u!=null&&n!=null&&n.zoomToScale(u)||void 0;let h,f,y;const g=l==null?void 0:l.rotation,v=l==null?void 0:l.targetGeometry;(v==null?void 0:v.type)==="extent"?h=v:(v==null?void 0:v.type)==="point"&&(f=v,y=l==null?void 0:l.scale);const b=s??h;return{center:i??f??(b==null?void 0:b.center),rotation:a??g,scale:(o??d??y??(b&&Ek(b,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,n,i){var o;const s=t.targetGeometry;try{this._project(t,n)}catch(a){ie.getLogger(this).warn(new Da("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:n,error:a})),t.targetGeometry=i||new nt({x:0,y:0,spatialReference:n})}(o=this.constraints)==null||o.fit(t),this._set("state",new qF({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:n,rotation:i,scale:s}=this.state.paddedViewState,o=new nt({x:t,y:r,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",i),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){var l;const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const u=r.viewpoint.clone();u.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=u}const n=r.clone(),[i,s]=r.center;let o=null;try{o=this._project(new nt({x:i,y:s,spatialReference:r.spatialReference}),t)}catch(u){T9()||ie.getLogger(this).warn(new Da("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:t,error:u}))}o||(o=new nt({x:0,y:0,spatialReference:t}));const a=YL(new Aa({targetGeometry:new nt,scale:0,rotation:0}),r.viewpoint,o);n.viewpoint=a;try{const d=[r.size[0]/2,r.size[1]/2],h=[d[0]+20,d[1]],f=r.toMap([0,0],h),{x:y,y:g}=this._project(new nt({x:f[0],y:f[1],spatialReference:r.spatialReference}),t);f[0]=y,f[1]=g,n.toScreen(f,f);const v=x6e(d,f,h),b=Math.hypot(f[0]-d[0],f[1]-d[1])/20;!Number.isFinite(b)||Math.abs(b)>4?(a.rotation=0,a.targetGeometry=new nt({x:0,y:0,spatialReference:t})):(a.scale*=b,a.scale>J("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(v)?v:0)}catch{}(l=this._get("constraints"))==null||l.constrain(a,void 0),this._get("state").viewpoint=a}resize(t,r){var o;if(!this.ready)return;const n=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();n.size=[t,r],$6e(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=((o=this.constraints)==null?void 0:o.constrain(i,void 0))??i,this.state.viewpoint=i}toMap(t){if(!this.ready)return null;const r=[0,0],[n,i]=this.state.toMap(r,[t.x,t.y]),s=this.state.spatialReference;return new nt({x:n,y:i,spatialReference:s})}toScreen(t,r){if(!this.ready)return null;const n=this._project(t,this.state.spatialReference),i=[n.x,n.y];return(r==null?void 0:r.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(i,i),this.state.toScreen(i,i),Fi(i[0],i[1])}_project(t,r){var s;const n=(t==null?void 0:t.targetGeometry)||t;if(!r)return t;if(!n)return null;if(r.imageCoordinateSystem||(s=n.spatialReference)!=null&&s.imageCoordinateSystem||jn(r,n.spatialReference))return t;const i=Eh(n,r);if(!i)throw new q("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:r});return c8e(t)?(t.targetGeometry=i,t):i}};function c8e(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}c([p({type:nt})],Ss.prototype,"center",null),c([p()],Ss.prototype,"constraints",void 0),c([p({type:Rt})],Ss.prototype,"extent",null),c([p({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ss.prototype,"padding",null),c([p()],Ss.prototype,"ready",void 0),c([p()],Ss.prototype,"resizeAlign",void 0),c([p({readOnly:!0})],Ss.prototype,"resolution",null),c([p({type:Number})],Ss.prototype,"rotation",null),c([p({type:Number})],Ss.prototype,"scale",null),c([p({readOnly:!0})],Ss.prototype,"state",void 0),c([p({type:Aa})],Ss.prototype,"viewpoint",null),c([p()],Ss.prototype,"zoom",null),Ss=c([R("esri.views.2d.ViewStateManager")],Ss);function HF(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let AW=class extends ci{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,n=>this._handleDoubleClick(n,r))}_handleDoubleClick(t,r){HF(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},d8e=class extends ci{constructor(t,r,n){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",n,i=>this._handleDoubleTapDrag(i))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:n}=r;if(n!==this.pointerType)return;t.stopPropagation();const{action:i,delta:s}=r,{view:o}=this,{mapViewNavigation:a}=o;switch(i){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,u=this._startScale*l,d=u/this._currentScale;a.setViewpointImmediate(d),this._currentScale=u;break}case"end":{const{constraints:l}=o,{effectiveLODs:u,snapToZoom:d}=l;if(!d||!u)return void a.end();const h=l.snapScale(this._currentScale),f=(s.y>0?Math.max(h,l.snapToPreviousScale(this._startScale)):Math.min(h,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(f).then(()=>{a.end()});break}}}},Ik=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,n=r.pointers.size;switch(r.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,n;this._startEvent=t,(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,n;(n=(r=this._callbacks).condition)!=null&&n.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},p8e=class extends ci{constructor(t,r,n){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",n,i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new Ik({start:(r,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(r,n)=>r===1&&HF(n.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},h8e=class extends ci{constructor(t,r,n){super(!0),this._view=t,this.pointerAction=r;const i=this._view.mapViewNavigation;this._dragEventSeparator=new Ik({start:(s,o)=>{i.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{i.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{i.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&HF(o.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function il(e){let t=e*e;return e<0&&(t*=-1),t}function f8e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function m8e(e,t,r){const n=r,i=e.state,s=e.device,o=t.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(n.translation[0]=il(i.axes[0]),n.translation[1]=il(i.axes[1]),n.translation[2]=il(i.buttons[7])-il(i.buttons[6]),n.heading=il(i.axes[2]),n.tilt=il(i.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*il(i.axes[0]),n.translation[1]=1.2*il(i.axes[1]),n.translation[2]=2*-il(i.axes[2]),n.heading=1.2*il(i.axes[5]),n.tilt=1.2*il(i.axes[3])),n.tilt*=o,f9(n.translation,n.translation,a),n}function y8e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let g8e=class extends ci{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Tx,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([Se(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=q0({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Cr)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,f8e(this._transformation)):(this._currentDevice=t.data.device,m8e(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(y8e(r))return;const n=this._view.viewpoint.clone(),i=this._view.navigation.gamepad.velocityFactor,s=b8e*i*t;kk(n,n,[r.translation[0]*s,-r.translation[1]*s]);const o=1+r.translation[2]*w8e*t,a=this._view.constraints.rotationEnabled?-r.heading*v8e*t:0,l=this._view.size,u=[l[0]/2,l[1]];cle(n,n,o,a,u,l);const d=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=d}};const v8e=.06,b8e=.7,w8e=6e-4;function Ple(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),gr(()=>document.removeEventListener("visibilitychange",t))}let _8e=class extends ci{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=i=>{const s=this._keyMap[i.data.key];if(i.modifiers.has("Meta")||i.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;i.stopPropagation(),i.preventDefault();const o=i.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=Ple(i=>i?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},x8e=class extends ci{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),this.registerIncoming("key-up",n,i=>this._handleKeyUp(i)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=Ple(i=>i?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const i=this._keyToDirection[t.data.key];if(this._pressed=i!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),i){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var Kg;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Kg||(Kg={}));let S8e=class extends ci{constructor(t,r,n){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",n,i=>this._handleKeyDown(i)),r.zoomIn.forEach(i=>this._keysToZoomAction[i]=Kg.IN),r.zoomOut.forEach(i=>this._keysToZoomAction[i]=Kg.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const i=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let o=null;switch(i){case Kg.IN:o=s.zoomIn();break;case Kg.OUT:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),t.stopPropagation()}};const $8e=.6;let T8e=class extends ci{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=t.data,o=1/$8e**(1/60*s),a=r.zoom(o,[n,i]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},M8e=class extends ci{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new Ik({start:(n,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(n,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(n,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function RW(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>k8e(r,e.axisThreshold))}:{buttons:[],axes:[]}}function C8e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function E8e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function k8e(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let I8e=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,RW(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,i=window.isSecureContext;this.supported=n&&i,this.supported&&(LW(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new RF(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=q0({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;LW(i=>{const s=this._inputDevices[i.index];if(!s)return;const o=this._latestUpdate[i.index],a=RW(s),l=n||E8e(a);o&&(o.timestamp===i.timestamp||!o.active&&l||C8e(o.state,a))||this._emitGamepadEvent(i,a,!l)})}_emitGamepadEvent(t,r,n){const i=this._latestUpdate[t.index],s=i&&i.active;if(!s&&!n)return;const o=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:o})}};function O8e(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function LW(e){const t=window.navigator.getGamepads();for(let r=0;r<t.length;r++){const n=t[r];O8e(n)&&e(n)}}const jW=J("edge"),P8e=J("chrome"),A8e=J("ff"),R8e=J("safari"),NW="esri-view-surface",Ay={touchNone:`${NW}--touch-none`,touchPan:`${NW}--touch-pan`};let Ale=class Rle{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new I8e(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=jr(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const n=this._active[r];this._element.removeEventListener(OO[r],n),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&OO[r]){const n=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(OO[r],n),this._active[r]=n}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,r){r?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Ay.touchNone:Ay.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Ay.touchPan:Ay.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Ay.touchNone),this._element.classList.remove(Ay.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const n=Tae(this._element,t);return Rle.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}_handleKey(t,r){const{key:n}=r;n&&t==="key-up"&&this._keyDownState.delete(n);const i={native:r,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(i.key),this._callback(t,i)}_handlePointer(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,r){const n=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,r){let n=r.deltaY;switch(r.deltaMode){case 0:jW&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}jW?n*=.7:P8e||R8e?n*=.6:A8e&&(n*=1.375);const i=100,s=Math.abs(n);s>i&&(n=n/s*200/(1+Math.exp(-.02*(s-i))));const o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const n={native:r};r.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};Ale.test={disableSubpixelCoordinates:!1};const OO={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let L8e=class extends ci{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};const ji={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function V3(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function j8e(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function N8e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Fi()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[S,$]=e,[C,k]=[$.x-S.x,$.y-S.y];return t.radius=Math.sqrt(C*C+k*k)/2,t.center.x=(S.x+$.x)/2,t.center.y=(S.y+$.y)/2,t}let r=0,n=0;for(let S=0;S<e.length;S++)r+=e[S].x,n+=e[S].y;r/=e.length,n/=e.length;const i=e.map(S=>S.x-r),s=e.map(S=>S.y-n);let o=0,a=0,l=0,u=0,d=0,h=0,f=0;for(let S=0;S<i.length;S++){const $=i[S],C=s[S],k=$*$,E=C*C;o+=k,a+=E,l+=$*C,u+=k*$,d+=E*C,h+=$*E,f+=C*k}const y=.5*(u+h),g=.5*(d+f),v=o*a-l*l,b=(y*a-g*l)/v,_=(o*g-l*y)/v,x=Fi(b+r,_+n);return{radius:Math.sqrt(b*b+_*_+(o+a)/e.length),center:x}}function $m(e){const{native:t}=e,{pointerId:r,button:n,pointerType:i}=t;return i==="mouse"?`${r}:${n}`:`${i}`}let F8e=class extends ci{constructor(t=ji.maximumDoubleClickDelay,r=ji.maximumDoubleClickDistance,n=ji.maximumDoubleTouchDelay,i=ji.maximumDoubleTouchDistance,s=vv){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Fi(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Ik({start:(o,a)=>this._dragStart(o,a),update:(o,a)=>this._dragUpdate(a),end:(o,a)=>this._dragEnd(a)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=gn(t.doubleTapTimeout)})}get hasPendingInputs(){return VE(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=gn(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:i}=r,{center:s}=n;this._dragStartCenter=s;const o=PO("begin",Fi(0,0),n);this._doubleTapDrag.emit(o,void 0,i),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=PO("update",Fi(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:n}=t,{center:i}=r,s=PO("end",Fi(i.x-this._dragStartCenter.x,i.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(s,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,n=$m(r),i=this._pointerState.get(n),{pointerType:s}=r.native;if(i){const o=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),V3(i.event.data,r)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:n}=r.native,i=$m(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(i),s);this._pointerState.set(i,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function PO(e,t,r){const{button:n,buttons:i,pointer:s,pointers:o,pointerType:a,timestamp:l}=r;return{action:e,delta:t,button:n,buttons:i,pointer:s,pointers:o,pointerType:a,timestamp:l}}let D8e=class extends ci{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,n,i){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:i,pointers:z8e(this._activePointerMap),pointer:r,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const r=t.native.pointerId,n=k2(this._activePointerMap).angle,i={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,i);const s=ET(i,Lle(this._activePointerMap));i.initialAngle=s,i.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,n=this._activePointerMap.get(r);n?n.event=t:this._addPointer(t)}_removePointer(t){const r=k2(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=k2(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=ET(n,r)-t,n.lastAngle=ET(n,r)-t})}_emitEvent(t,r,n){const i=k2(this._activePointerMap);this._drag.emit(this._createPayload(t,r,i,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,n=r.currentEvent,i=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,i)):(this._addPointer(n),this._emitEvent("added",n,i),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,i))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function Lle(e){const t=[];return e.forEach(r=>{t.push(Fi(r.event.x,r.event.y))}),N8e(t)}function k2(e){const t=Lle(e);let r=0;return e.forEach(n=>{let i=ET(n,t),s=i-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;i=n.lastAngle+s,n.lastAngle=i;const o=i-n.initialAngle;r+=o}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function z8e(e){const t=new Map;return e.forEach((r,n)=>t.set(n,r.event)),t}function ET(e,t){const r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}var FW;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(FW||(FW={}));let V8e=class extends ci{constructor(t=ji.maximumDoubleClickDelay,r=ji.maximumDoubleClickDistance,n=ji.maximumDoubleTouchDelay,i=ji.maximumDoubleTouchDistance,s=vv){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=$m(r);if(!this._pointerState.has(n)){const i={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(n,i),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,n=$m(r),i=this._pointerState.get(n);if(i&&i.downButton===r.native.button){const s=i.immediateDoubleClick,o=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),V3(s,t.data)>o?this._startImmediateDoubleClick(t,i):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(r))):V3(i,t.data)>o?this._removeState(r):this._startImmediateDoubleClick(t,i)}}_startImmediateDoubleClick(t,r){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const r=$m(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},B8e=class extends ci{constructor(t=ji.maximumClickDelay,r=ji.movementUntilMouseDrag,n=ji.movementUntilPenDrag,i=ji.movementUntilTouchDrag,s=ji.holdDelay,o=vv){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",a=>{this._handlePointerLoss(a,"pointer-up")}),this.registerIncoming("pointer-capture-lost",a=>{this._handlePointerLoss(a,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",a=>{this._handlePointerLoss(a,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=gn(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,n=r.native.pointerId;let i=null;this._pointerState.size===0&&(i=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._holdDelay));const s={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const r=t.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(i.isDragging?this._pointerDrag.emit(I2("update",i,r),void 0,i.modifiers):j8e(r,i.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),i.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,n=r.native.pointerId;this._pointerState.forEach(i=>{i.holdTimeout!=null&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=t.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?this._pointerDrag.emit(I2("start",i,r)):this._pointerDrag.emit(I2("start",i,i.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const n=t.data,i=n.native.pointerId,s=this._pointerState.get(i);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(I2("end",s,r==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):r==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(i),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function I2(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}let U8e=class extends ci{constructor(t=ji.maximumDoubleClickDelay,r=ji.maximumDoubleClickDistance,n=ji.maximumDoubleTouchDelay,i=ji.maximumDoubleTouchDistance,s=vv){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=gn(t.doubleClickTimer))}get hasPendingInputs(){return VE(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,r){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=gn(n.doubleClickTimer),r&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const r=t.data,{pointerType:n}=r.native,i=G8e(r);if(!this._pointerState.has(i))return void this._startClick(t);const s=this._pointerState.get(i),{data:o,modifiers:a}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;V3(o,r)>l?(this._clearDoubleClickTimer(i,!0),this._startClick(t)):(this._clearDoubleClickTimer(i,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(t){const r=$m(t.data),n=this._pointerState.get(r);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:n}}=r,i=$m(r),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),s);this._pointerState.set(i,{event:t,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function G8e(e){const{pointerId:t,pointerType:r,button:n}=e.native;return r==="mouse"?`${t}:${n}`:`${r}`}const O2={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Ef=class extends Be{initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this.addHandles([Vo(()=>!t(),()=>this._disconnect()),Vo(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var r;return((r=this._inputManager)==null?void 0:r.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=jr(this._inputManager)}_connect(){const t=this.view.surface,r=new Ale(t,this.view.input),n=[new V8e,new B8e,new U8e,new D8e(this.view.navigation),new F8e],i=new ea({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new L8e],Qp.INTERNAL),i.installHandlers("navigation",[new M8e(this.view),new g8e(this.view),new T8e(this.view),new AW(this.view),new AW(this.view,[O2.counter]),new p8e(this.view,"primary"),new _8e(this.view,O2.pan),new S8e(this.view,O2.zoom),new x8e(this.view,O2.rotate),new h8e(this.view,"secondary"),new d8e(this.view,"touch")],Qp.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,Se(()=>{var s,o;return(o=(s=this.view)==null?void 0:s.navigation)==null?void 0:o.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},Cr)}get test(){}};c([p()],Ef.prototype,"view",void 0),c([p()],Ef.prototype,"latestPointerType",null),c([p()],Ef.prototype,"latestPointerLocation",null),c([p()],Ef.prototype,"multiTouchActive",null),Ef=c([R("esri.views.2d.input.MapViewInputManager")],Ef);const W8e=Ef;var Ixt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q8e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DW,zW,VW,jle={exports:{}};DW=jle,zW=function(){function e(i,s,o,a,l){t(i,s,o||0,a||i.length-1,l||n)}function t(i,s,o,a,l){for(;a>o;){if(a-o>600){var u=a-o+1,d=s-o+1,h=Math.log(u),f=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*f*(u-f)/u)*(d-u/2<0?-1:1);t(i,s,Math.max(o,Math.floor(s-d*f/u+y)),Math.min(a,Math.floor(s+(u-d)*f/u+y)),l)}var g=i[s],v=o,b=a;for(r(i,o,s),l(i[a],g)>0&&r(i,o,a);v<b;){for(r(i,v,b),v++,b--;l(i[v],g)<0;)v++;for(;l(i[b],g)>0;)b--}l(i[o],g)===0?r(i,o,b):r(i,++b,a),b<=s&&(o=b+1),s<=b&&(a=b-1)}}function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function n(i,s){return i<s?-1:i>s?1:0}return e},(VW=zW())!==void 0&&(DW.exports=VW);const H8e=q8e(jle.exports);function B3(e,t){if(!(this instanceof B3))return new B3(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function Z8e(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function Ry(e,t){Bb(e,0,e.children.length,t,e)}function Bb(e,t,r,n,i){i||(i=dg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<r;o++)s=e.children[o],Ub(i,e.leaf?n(s):s);return i}function Ub(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function BW(e,t){return e.minX-t.minX}function UW(e,t){return e.minY-t.minY}function AO(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function P2(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Y8e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function J8e(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function RO(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function A2(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function dg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function GW(e,t,r,n,i){for(var s,o=[t,r];o.length;)(r=o.pop())-(t=o.pop())<=n||(s=t+Math.ceil((r-t)/n/2)*n,H8e(e,s,t,r,i),o.push(t,s,s,r))}B3.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!A2(e,t))return r;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],A2(e,a=t.leaf?n(o):o)&&(t.leaf?r.push(o):RO(e,a)?this._all(o,r):l.push(o));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!A2(e,t))return!1;for(var n,i,s,o,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(s=t.children[n],A2(e,o=t.leaf?r(s):s)){if(t.leaf||RO(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=dg([]),this},remove:function(e,t){if(e==null)return this;for(var r,n,i,s,o=this.data,a=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],r=u.pop(),s=!0),o.leaf&&(i=Z8e(e,o.children,t))!==-1)return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!RO(o,a)?n?(r++,o=n.children[r],s=!1):o=null:(l.push(o),u.push(r),r=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:BW,compareMinY:UW,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,s=r-t+1,o=this._maxEntries;if(s<=o)return Ry(i=dg(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),(i=dg([])).leaf=!1,i.height=n;var a,l,u,d,h=Math.ceil(s/o),f=h*Math.ceil(Math.sqrt(o));for(GW(e,t,r,f,this.compareMinX),a=t;a<=r;a+=f)for(GW(e,a,u=Math.min(a+f-1,r),h,this.compareMinY),l=a;l<=u;l+=h)d=Math.min(l+h-1,u),i.children.push(this._build(e,l,d,n-1));return Ry(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,s,o,a,l,u,d,h;n.push(t),!t.leaf&&n.length-1!==r;){for(d=h=1/0,i=0,s=t.children.length;i<s;i++)l=AO(o=t.children[i]),(u=Y8e(e,o)-l)<h?(h=u,d=l<d?l:d,a=o):u===h&&l<d&&(d=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),Ub(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),o=dg(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,Ry(r,this.toBBox),Ry(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},_splitRoot:function(e,t){this.data=dg([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ry(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,s,o,a,l,u,d;for(l=u=1/0,n=t;n<=r-t;n++)o=J8e(i=Bb(e,0,n,this.toBBox),s=Bb(e,n,r,this.toBBox)),a=AO(i)+AO(s),o<l?(l=o,d=n,u=a<u?a:u):o===l&&a<u&&(u=a,d=n);return d},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:BW,i=e.leaf?this.compareMinY:UW;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,s,o=this.toBBox,a=Bb(e,0,t,o),l=Bb(e,r-t,r,o),u=P2(a)+P2(l);for(i=t;i<r-t;i++)s=e.children[i],Ub(a,e.leaf?o(s):s),u+=P2(a);for(i=r-t-1;i>=t;i--)s=e.children[i],Ub(l,e.leaf?o(s):s),u+=P2(l);return u},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)Ub(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():Ry(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let WW=class Nle{constructor(t,r){this.key=new gh(0,0,0,0),this.bounds=wi(),this.objectIds=new Set,this.key.set(r);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=t.zoomToScale(n.level-1),this.maxScale=t.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Rt.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return{$view:{scale:this.scale,timeZone:t}}}createChildTiles(){const t=this.key.getChildKeys(),r=Es.acquire();for(let n=0;n<t.length;n++)r[n]=new Nle(this.tileInfoView,t[n]);return r}getQuantizationParameters(){return _ae.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Wh={added:[],removed:[]},LO=new Set,K8e=new gh(0,0,0,0);function X8e(e,t){const r=oo(t);if(!r)return null;const[n,i]=r.valid;return e[2]>i?[wi([e[0],e[1],i,e[3]]),wi([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[wi([n,e[1],e[2],e[3]]),wi([i-(n-e[0]),e[1],i,e[3]])]:null}let Q8e=class extends Za{constructor(t){super(),this._tiles=new Map,this._index=B3(9,J("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||ane(t)===0||lne(t)===0)return[];const r=X8e(t,this.tileScheme.spatialReference);return r!=null?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const i=new WW(this.tileScheme,n);this._tiles.set(n,i),this._index.insert(i),r.added.push(i)}for(const n of t.removed)if(this.has(n)){const i=this.get(n);this._tiles.delete(n),this._index.remove(i),r.removed.push(i)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:n,lodInfo:i}=r,{level:s}=i;if(n.length>0)for(const{row:o,colFrom:a,colTo:l}of n)for(let u=a;u<=l;u++){const d=K8e.set(s,o,i.normalizeCol(u),i.getWorldForColumn(u)).id;if(LO.add(d),!this.has(d)){const h=new WW(this.tileScheme,d);this._tiles.set(d,h),this._index.insert(h),this.tiles.push(h),Wh.added.push(h)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];LO.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),Wh.removed.push(a))}(Wh.added.length||Wh.removed.length)&&this.emit("update",Wh),F_.pool.release(r),LO.clear(),Wh.added.length=0,Wh.removed.length=0}},sp=class extends Be{constructor(){super(...arguments),this.color=new it([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25,this.multiHighlightEnabled=!1}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.multiHighlightEnabled===t.multiHighlightEnabled}};c([p({type:it})],sp.prototype,"color",void 0),c([p({type:it})],sp.prototype,"haloColor",void 0),c([p()],sp.prototype,"haloOpacity",void 0),c([p()],sp.prototype,"fillOpacity",void 0),c([p()],sp.prototype,"multiHighlightEnabled",void 0),sp=c([R("esri.views.2d.support.HighlightOptions")],sp);const Fle=sp,R2=e=>parseFloat(e)/100;function eNe(e,t,r){const n=typeof e.left=="string"?R2(e.left)*t:e.left,i=typeof e.right=="string"?R2(e.right)*t:e.right,s=typeof e.top=="string"?R2(e.top)*r:e.top,o=typeof e.bottom=="string"?R2(e.bottom)*r:e.bottom,a=s;return{xmin:n,xmax:Math.max(t-i,n),ymin:a,ymax:Math.max(r-o,s)}}function tNe(e,t,r,n){switch(t.type){case"rect":{const{width:i,height:s}=e,{xmin:o,xmax:a,ymin:l,ymax:u}=eNe(t,i,s),{x:d,y:h}=r;return d>o&&d<a&&h>l&&h<u}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||P9(t.path,[r.x,r.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?O9(t.geometry,n):Lx(t.geometry,n))}}async function rNe(e,t,r){const n=Cae(t)?Mae(e,t):t;if(!e.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let i=new Set;const s=new Set;let o=!1,a=null,l=null;r!=null&&r.include?HW(r.include,qW(e,f=>{i.add(f),jO(f,y=>s.add(y))},(f,y)=>{s.add(f),i.add(y)},f=>{a||(a=new Set),a.add(f)},f=>i.add(f),()=>o=!0)):(o=!0,i=new Set(e.allLayerViews),i.forEach(f=>{jO(f,y=>s.add(y))})),r!=null&&r.exclude&&HW(r.exclude,qW(e,f=>{i.delete(f),jO(f,y=>s.delete(y))},f=>s.delete(f),f=>{l||(l=new Set),l.add(f)}));const u=e.toMap(n),d=e.allLayerViews.filter(f=>!f.suspended&&i.has(f)&&f.clips.every(y=>tNe(e,y,n,u))).reverse();let h=[...o?e.graphicsView.hitTest(u).map(f=>({type:"graphic",graphic:f,layer:null,mapPoint:u})):[],...await Promise.all(d.map(f=>f.hitTest(u,n)).toArray())].filter(zi).flat().filter(zi);return h=h.filter(f=>{var y;return f.type!=="graphic"||((y=f.layer)==null?void 0:y.type)!=="subtype-group"||s.has(f.graphic.layer)}),a&&(h=h.filter(f=>!("graphic"in f)||!f.graphic||(a==null?void 0:a.has(n6(f.graphic))))),l&&(h=h.filter(f=>!("graphic"in f)||!f.graphic||!(l!=null&&l.has(n6(f.graphic))))),{screenPoint:n,results:h}}function qW(e,t,r,n,i,s){return o=>{if(o instanceof Uo){if(o.layer===e)s==null||s();else{const a=e.allLayerViews.find(l=>l.layer===o.layer);a&&(i==null||i(a))}n(n6(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const a=e.allLayerViews.find(l=>l.layer===o.parent);a&&r(o,a)}else{const a=e.allLayerViews.find(l=>l.layer===o);a&&t(a)}}}function HW(e,t){if(e)if(DM(e))for(const r of e)if(DM(r))for(const n of r)t(n);else t(r);else t(e)}function n6(e){var r,n;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((n=e.sourceLayer)==null?void 0:n.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function jO({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}function nNe(e,t,r){const{ctx:n,canvas:i}=Dle(e,r),s=n.getImageData(0,0,e.width,e.height),o=oNe(i,t);return zle(i),{dataUrl:o,data:s}}function iNe(e,t){const{ctx:r,canvas:n}=Dle(e,t),i=r.getImageData(0,0,e.width,e.height);return zle(n),i}function Dle(e,t){const r=sNe();t.premultipliedAlpha&&dNe(e),r.width=e.width,r.height=e.height;const n=r.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&cNe(n),{ctx:n,canvas:r}}function zle(e){e.width=0,e.height=0}function sNe(){return NO==null&&(NO=document.createElement("canvas")),NO}let NO=null;function oNe(e,t){const r=pNe[t.format],n=t.quality/100;return e.toDataURL(r,n)}function aNe(e,t){const r=uNe(e),n=fNe[r];return{format:r,quality:za(t??n,0,100)}}function lNe(e,t){return t/Math.max(e[0],e[1])}function Axt(e,t,r,n=0,i=0,s=e.width-n,o=e.height-i,a=!1){const{data:l}=e,{width:u,height:d,data:h}=t,f=s/u,y=o/d,g=Math.ceil(f/2),v=Math.ceil(y/2),b=e.width;for(let _=0;_<d;_++)for(let x=0;x<u;x++){const S=4*(x+(a?d-_-1:_)*u);let $=0,C=0,k=0,E=0,P=0,T=0;const M=(_+.5)*y;for(let O=Math.floor(_*y);O<(_+1)*y;O++){const j=Math.abs(M-(O+.5))/v,N=(x+.5)*f,L=j*j;for(let z=Math.floor(x*f);z<(x+1)*f;z++){const B=Math.abs(N-(z+.5))/g,U=Math.sqrt(L+B*B);if(U>=1)continue;let F=2*U*U*U-3*U*U+1;const D=4*(n+z+(i+O)*b);T+=F*l[D+3],C+=F,k+=F*l[D],E+=F*l[D+1],P+=F*l[D+2],$+=F}}h[S]=k/$,h[S+1]=E/$,h[S+2]=P/$,h[S+3]=T/C}return t}function uNe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return hNe}}function cNe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function dNe(e){const t=e.data,r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==255&&i>0){const s=255/i;t[n]=t[n]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const pNe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ZW=98,hNe="png",fNe={png:100,jpg:ZW,jpeg:ZW},Vle={flipY:!0,premultipliedAlpha:!0};async function mNe(e,t){const r=await Ble(e,t),{format:n,quality:i}=aNe(t==null?void 0:t.format,t==null?void 0:t.quality);return nNe(r,{format:n,quality:i,rotation:0,disableDecorations:!1},Vle)}async function yNe(e,t){const r=await Ble(e,t);return iNe(r,Vle)}function Ble(e,t){const r=bNe(t||{},vNe(e.stage,e.size),e.size,e.padding),n=gNe(t,e.allLayerViews);return e.stage.takeScreenshot(r,n,e.backgroundColor,t==null?void 0:t.rotation)}function gNe(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(n=>{const i=t.find(s=>s.layer.id===n.id);i!=null&&i.container&&r.push(i.container)}),r}function vNe(e,t){return Math.min(4,lNe(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function bNe(e,t,r,n){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let i=null;e.width!=null&&e.height!=null?i=[e.width,e.height]:e.width==null&&e.height!=null?i=[e.height,e.height]:e.width!=null&&e.height==null?i=[e.width,e.width]:e.width==null&&e.height==null&&(i=null);const s=r[0]-(n.left+n.right),o=r[1]-(n.top+n.bottom);let a,l,u=e.area||{x:0,y:0,width:s,height:o};if(i){const d=s/o,h=i[0]/i[1];if(h>d){const f=u.width/h;u={x:u.x,y:Math.round(u.y+(u.height-f)/2),width:u.width,height:Math.round(f)}}else{const f=u.height*h;u={x:Math.round(u.x+(u.width-f)/2),y:u.y,width:Math.round(f),height:u.height}}}else i=[u.width,u.height];return i[0]>u.width?(a=Math.min(i[0]/u.width,t),l=i[0]/u.width/a):(a=1,l=i[0]/u.width),{cropArea:{x:Math.round((u.x+n.left)*a),y:Math.round((u.y+n.top)*a),width:Math.round(u.width*a),height:Math.round(u.height*a)},outputScale:l,resolutionScale:a}}const YW=160;let Gb=class extends Be{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=YW&&this.clear()},YW))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};c([p()],Gb.prototype,"_timer",void 0),c([p()],Gb.prototype,"stationary",null),Gb=c([R("esri.views.2d.support.StationaryManager")],Gb);const wNe=e=>e.includes("Brush");let Ule=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),wNe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function JW(e,t={}){return e.getContext("webgl2",t)||null}let FO;function _Ne(){return FO||(FO=$Ne()),FO}let xNe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function SNe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let r=JW(t,{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=JW(t),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;e.available=!0,e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),r}function $Ne(){const e=new xNe,t=SNe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function TNe(e){const t=_Ne();return t.available?e==="3d"&&t.majorPerformanceCaveat?new q("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new q("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new q("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new q("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function MNe(e){return e&&"nodeType"in e}function CNe(e){return e&&typeof e.render=="function"}const KW={component:"esri-component"};let kf=class extends Be{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,r;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((r=this.node)==null?void 0:r.id)}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(KW.component),r&&r.classList.remove(KW.component),this._set("node",t))}castNode(t){var r;return(r=this.widget)==null||r.destroy(),t?typeof t=="string"||MNe(t)?(this._set("widget",null),aF(t)):(CNe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};c([p()],kf.prototype,"id",null),c([p()],kf.prototype,"node",null),c([tr("node")],kf.prototype,"castNode",null),c([p({readOnly:!0})],kf.prototype,"widget",void 0),kf=c([R("esri.views.ui.Component")],kf);const kT=kf,Gle="calcite-mode-";function ENe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function kNe(){return ENe().startsWith("dark")}function INe(){return`${Gle}${kNe()?"dark":"light"}`}function ONe(e){PNe(e),e.classList.add(INe())}function PNe(e){Array.from(e.classList).forEach(t=>{t.startsWith(Gle)&&e.classList.remove(t)})}const ANe={left:0,top:0,bottom:0,right:0},Wle={bottom:30,top:15,right:15,left:15},sc="esri-ui",Us={ui:sc,corner:`${sc}-corner`,innerContainer:`${sc}-inner-container`,manualContainer:`${sc}-manual-container`,cornerContainer:`${sc}-corner-container`,topLeft:`${sc}-top-left`,topRight:`${sc}-top-right`,bottomLeft:`${sc}-bottom-left`,bottomRight:`${sc}-bottom-right`};function RNe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function L2(e){return e===0?"0":`${e}px`}function DO(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function zO(e,{top:t,bottom:r,left:n,right:i}){e.style.top=t,e.style.bottom=r,e.style.left=n,e.style.right=i}let au=class extends Za.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=No(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&zO(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&zO(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Se(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,Cr),Se(()=>this.padding,this._applyUIPadding,Cr),Se(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},Cr),U9(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(Us.ui),ONe(t),this._attachContainers(t)),r&&(r.classList.remove(Us.ui),zO(r,{top:"",bottom:"",left:"",right:""}),ise(r)),this._set("container",t))}get height(){var s;const t=((s=this.view)==null?void 0:s.height)??0;if(t===0)return t;const r=this._getViewPadding(),{top:n,bottom:i}=r;return Math.max(t-n-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...Wle,...t}}get width(){var s;const t=((s=this.view)==null?void 0:s.width)??0;if(t===0)return t;const r=this._getViewPadding(),{left:n,right:i}=r;return Math.max(t-n-i,0)}add(t,r){let n,i,s;if(Array.isArray(t))return void t.forEach(a=>this.add(a,r));const o=DO(t);o&&({index:n,position:r,component:t,key:i}=o),r&&typeof r=="object"&&({index:n,key:i,position:r,internal:s}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,n,i,s)}remove(t,r){var i,s;if(!t)return;if(Array.isArray(t))return t.map(o=>this.remove(o,r));const n=this._find(t);if(n){if(this._componentMap.has(n)&&((i=this._componentMap.get(n))==null?void 0:i.key)!==r)return;const o=this._components.indexOf(n),a=n.node.parentNode;return a==null||a.removeChild(n.node),this._componentMap.delete(n),(s=n.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(o,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,r);return}const n=this._positionNameToContainerLookup[t??"manual"],i=Array.prototype.slice.call(n.children).map(s=>this._findByNode(s)).filter(s=>{var o;return s==null?!1:!(((o=this._componentMap.get(s))==null?void 0:o.internal)??!1)||r.removeInternal});for(const s of i)this.remove(s)}move(t,r){if(Array.isArray(t)&&t.forEach(o=>this.move(o,r)),!t)return;let n;const i=DO(t)||DO(r);if(i&&(n=i.index,r=i.position,t=i.component||t),r&&!this._isValidPosition(r))return;const s=this.remove(t);s&&this.add(s,{position:r,index:n})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(n=>this._getComponentsAtPosition(n,r)):this._getComponentsAtPosition(t,r):this._components.filter(n=>{var i;return r.includeInternal||!((i=this._componentMap.get(n))!=null&&i.internal)}).map(({widget:n,node:i})=>n??i)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,n,i,s){t instanceof kT||(t=new kT({node:t}));const{widget:o}=t;o!=null&&o instanceof Be&&o.addHandles(gr(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:n}),this._components.push(t),this._componentMap.set(t,{key:i,internal:s})}_find(t){return t?t instanceof kT?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??ANe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(Us.innerContainer,Us.cornerContainer);const r=document.createElement("div");r.classList.add(Us.innerContainer,Us.manualContainer);const n=document.createElement("div");n.classList.add(Us.topLeft,Us.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add(Us.topRight,Us.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add(Us.bottomLeft,Us.corner),t.appendChild(s);const o=document.createElement("div");o.classList.add(Us.bottomRight,Us.corner),t.appendChild(o),this._innerContainer=t,this._manualContainer=r;const a=i5e();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":s,"bottom-right":o,"top-leading":a?i:n,"top-trailing":a?n:i,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.position??"manual",{component:n,index:i}=t,s=this._positionNameToContainerLookup[r],o=i!=null&&i>-1;if(RNe(n.widget)&&n.widget.startup(),!o)return void s.appendChild(n.node);const a=Array.from(s.children);if(i===0)return void(s.firstChild?hG(n.node,s.firstChild):s.appendChild(n.node));i>=a.length?s.appendChild(n.node):hG(n.node,a[i])}_toPixelPosition(t){return{top:L2(t.top),left:L2(t.left),right:L2(t.right),bottom:L2(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const n=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(n.children).map(i=>this._findByNode(i)).filter(zi).filter(i=>{var s;return r.includeInternal||!((s=this._componentMap.get(i))!=null&&s.internal)}).map(({widget:i,node:s})=>i??s)}};c([p()],au.prototype,"_locale",void 0),c([p()],au.prototype,"container",null),c([p()],au.prototype,"height",null),c([p({value:Wle})],au.prototype,"padding",null),c([tr("padding")],au.prototype,"castPadding",null),c([p()],au.prototype,"view",void 0),c([p()],au.prototype,"width",null),au=c([R("esri.views.ui.UI")],au);const LNe=au,jNe="randomUUID"in crypto;function ZF(){if(jNe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function Dxt(){return`{${ZF().toUpperCase()}}`}function NNe(){return`{${ZF()}}`}const FNe={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},DNe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},zNe=e=>({...DNe,...e}),VNe=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},BNe=(e,t)=>e.find(t),XW=(e,t,r=!1)=>{let n=e;return t.forEach((i,s)=>{const o=n!=null&&n.children?BNe(n.children,a=>a.domNode===i):void 0;r&&!o&&s!==t.length-1||(n=o)}),n},UNe=e=>{let t;const r={...FNe,...e},n=zNe(r),i=n.performanceLogger;let s,o=!0,a=!1;const l=[],u=[],d=(f,y,g)=>{var _;let v;n.eventHandlerInterceptor=(x,S,$,C)=>function(k){let E;i("domEvent",k);const P=VNe(k.currentTarget,v.domNode),T=P.some(O=>{var j;return customElements.get((j=O==null?void 0:O.tagName)==null?void 0:j.toLowerCase())});if(k.eventPhase===Event.CAPTURING_PHASE||!T)P.reverse(),E=XW(v.getLastRender(),P);else{const O=k.composedPath(),j=O.slice(O.indexOf(k.currentTarget),O.indexOf(v.domNode)).reverse();E=XW(v.getLastRender(),j,!0)}let M;return E&&(M=r.handleInterceptedEvent(t,E,this,k)),i("domEventProcessed",k),M},(_=r.postProcessProjectionOptions)==null||_.call(r,n);const b=g();v=f(y,b,n),n.eventHandlerInterceptor=void 0,l.push(v),u.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(v,b)};let h=()=>{if(s=void 0,o){o=!1,i("renderStart",void 0);for(let f=0;f<l.length;f++){const y=u[f]();i("rendered",void 0),l[f].update(y),i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(h=r.modifyDoRenderImplementation(h,l,u)),t={renderNow:h,scheduleRender:()=>{s||a||(s=requestAnimationFrame(h))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(f,y)=>{d(Np.append,f,y)},insertBefore:(f,y)=>{d(Np.insertBefore,f,y)},merge:(f,y)=>{d(Np.merge,f,y)},replace:(f,y)=>{d(Np.replace,f,y)},detach:f=>{for(let y=0;y<u.length;y++)if(u[y]===f)return u.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const qle="calcite-mode-auto",Hle="calcite-mode-dark",GNe="calcite-mode-light",zxt={autoMode:qle,darkMode:Hle,lightMode:GNe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},Vxt={filter:250,nextTick:0,resize:150,reposition:100};var Sa={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},WNe=Object.defineProperty,qNe=(e,t)=>{for(var r in t)WNe(e,r,{get:t[r],enumerable:!0})},Zle=new WeakMap,hy=e=>Zle.get(e),HNe=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Zle.set(e,r)},QW=(e,t)=>t in e,Kx=(e,t)=>(0,console.error)(e,t),U3=new Map,ZNe=[],YNe="slot-fb{display:contents}slot-fb[hidden]{display:none}",eq="http://www.w3.org/1999/xlink",Xx=typeof window<"u"?window:{},Rl=Xx.document||{head:{}},Bxt=Xx.HTMLElement||class{},Ti={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},JNe=(()=>{let e=!1;try{Rl.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),KNe=e=>Promise.resolve(e),XNe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),i6=!1,s6=[],Yle=[],Jle=(e,t)=>r=>{e.push(r),i6||(i6=!0,t&&Ti.$flags$&4?QNe(o6):Ti.raf(o6))},tq=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){Kx(r)}e.length=0},o6=()=>{tq(s6),tq(Yle),(i6=s6.length>0)&&Ti.raf(o6)},QNe=e=>KNe().then(e),Uxt=Jle(s6,!1),e9e=Jle(Yle,!0),t9e=e=>{const t=new URL(e,Ti.$resourcesUrl$);return t.origin!==Xx.location.origin?t.href:t.pathname},r9e=e=>Ti.$resourcesUrl$=e,rq={},n9e="http://www.w3.org/2000/svg",i9e="http://www.w3.org/1999/xhtml",s9e=e=>e!=null,YF=e=>(e=typeof e,e==="object"||e==="function");function o9e(e){var t,r,n;return(n=(r=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?n:void 0}var a9e={};qNe(a9e,{err:()=>Kle,map:()=>l9e,ok:()=>a6,unwrap:()=>u9e,unwrapErr:()=>c9e});var a6=e=>({isOk:!0,isErr:!1,value:e}),Kle=e=>({isOk:!1,isErr:!0,value:e});function l9e(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then(n=>a6(n)):a6(r)}if(e.isErr){const r=e.value;return Kle(r)}throw"should never get here"}var u9e=e=>{if(e.isOk)return e.value;throw e.value},c9e=e=>{if(e.isErr)return e.value;throw e.value},qm=(e,t="")=>()=>{},Xle=(e,t,...r)=>{let n=null,i=null,s=null,o=!1,a=!1;const l=[],u=h=>{for(let f=0;f<h.length;f++)n=h[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!YF(n))&&(n=String(n)),o&&a?l[l.length-1].$text$+=n:l.push(o?G3(null,n):n),a=o)};if(u(r),t){t.key&&(i=t.key),t.name&&(s=t.name);{const h=t.className||t.class;h&&(t.class=typeof h!="object"?h:Object.keys(h).filter(f=>h[f]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,h9e);const d=G3(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=i,d.$name$=s,d},G3=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},d9e={},p9e=e=>e&&e.$tag$===d9e,h9e={forEach:(e,t)=>e.map(nq).forEach(t),map:(e,t)=>e.map(nq).map(t).map(f9e)},nq=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),f9e=e=>{if(typeof e.vtag=="function"){const r={...e.vattrs};return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),Xle(e.vtag,r,...e.vchildren||[])}const t=G3(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},m9e=e=>ZNe.map(t=>t(e)).find(t=>!!t),y9e=(e,t)=>e!=null&&!YF(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,g9e=e=>e,Gxt=(e,t,r)=>{const n=g9e(e);return{emit:i=>v9e(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},v9e=(e,t,r)=>{const n=Ti.ce(t,r);return e.dispatchEvent(n),n},iq=new WeakMap,b9e=(e,t,r)=>{let n=U3.get(e);XNe&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,U3.set(e,n)},w9e=(e,t,r)=>{var n;const i=Qle(t,r),s=U3.get(i);if(e=e.nodeType===11?e:Rl,s)if(typeof s=="string"){e=e.head||e;let o=iq.get(e),a;if(o||iq.set(e,o=new Set),!o.has(i)){{a=Rl.createElement("style"),a.innerHTML=s;const l=(n=Ti.$nonce$)!=null?n:o9e(Rl);l!=null&&a.setAttribute("nonce",l),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(a,e.querySelector("link"))}t.$flags$&4&&(a.innerHTML+=YNe),o&&o.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},_9e=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=qm("attachStyles",t.$tagName$),s=w9e(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);n&10&&n&2&&(r["s-sc"]=s,r.classList.add(s+"-h"),n&2&&r.classList.add(s+"-s")),i()},Qle=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),sq=(e,t,r,n,i,s)=>{if(r!==n){let o=QW(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,u=oq(r),d=oq(n);l.remove(...u.filter(h=>h&&!d.includes(h))),l.add(...d.filter(h=>h&&!u.includes(h)))}else if(t==="style"){for(const l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):QW(Xx,a)?t=a.slice(2):t=a[2]+t.slice(3),r||n){const l=t.endsWith(eue);t=t.replace(S9e,""),r&&Ti.rel(e,t,r,l),n&&Ti.ael(e,t,n,l)}}else{const l=YF(n);if((o||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{const d=n??"";t==="list"?o=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(eq,t):e.removeAttribute(t)):(!o||s&4||i)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(eq,t,n):e.setAttribute(t,n))}}},x9e=/\s/,oq=e=>e?e.split(x9e):[],eue="Capture",S9e=new RegExp(eue+"$"),tue=(e,t,r)=>{const n=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||rq,s=t.$attrs$||rq;for(const o of aq(Object.keys(i)))o in s||sq(n,o,i[o],void 0,r,t.$flags$);for(const o of aq(Object.keys(s)))sq(n,o,i[o],s[o],r,t.$flags$)};function aq(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var pg,l6,ov,W3=!1,q3=!1,JF=!1,ko=!1,H3=(e,t,r,n)=>{var i;const s=t.$children$[r];let o=0,a,l,u;if(W3||(JF=!0,s.$tag$==="slot"&&(pg&&n.classList.add(pg+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=Rl.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=Rl.createTextNode("");else{if(ko||(ko=s.$tag$==="svg"),a=s.$elm$=Rl.createElementNS(ko?n9e:i9e,!W3&&Sa.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),ko&&s.$tag$==="foreignObject"&&(ko=!1),tue(null,s,ko),!!a.getRootNode().querySelector("body")&&Sa.scoped&&s9e(pg)&&a["s-si"]!==pg&&a.classList.add(a["s-si"]=pg),XF(a,n),s.$children$)for(o=0;o<s.$children$.length;++o)l=H3(e,s,o,a),l&&a.appendChild(l);s.$tag$==="svg"?ko=!1:a.tagName==="foreignObject"&&(ko=!0)}return a["s-hn"]=ov,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=l6,a["s-sn"]=s.$name$||"",a["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,u=e&&e.$children$&&e.$children$[r],u&&u.$tag$===s.$tag$&&e.$elm$&&D_(e.$elm$,!1)),a},D_=(e,t)=>{Ti.$flags$|=1;const r=Array.from(e.childNodes);if(e["s-sr"]&&Sa.experimentalSlotFixes){let n=e;for(;n=n.nextSibling;)n&&n["s-sn"]===e["s-sn"]&&n["s-sh"]===ov&&r.push(n)}for(let n=r.length-1;n>=0;n--){const i=r[n];i["s-hn"]!==ov&&i["s-ol"]&&(th(iue(i),i,KF(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,JF=!0),t&&D_(i,t)}Ti.$flags$&=-2},rue=(e,t,r,n,i,s)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===ov&&(o=o.shadowRoot);i<=s;++i)n[i]&&(a=H3(null,r,i,e),a&&(n[i].$elm$=a,th(o,a,KF(t))))},nue=(e,t,r)=>{for(let n=t;n<=r;++n){const i=e[n];if(i){const s=i.$elm$;aue(i),s&&(q3=!0,s["s-ol"]?s["s-ol"].remove():D_(s,!0),s.remove())}}},$9e=(e,t,r,n,i=!1)=>{let s=0,o=0,a=0,l=0,u=t.length-1,d=t[0],h=t[u],f=n.length-1,y=n[0],g=n[f],v,b;for(;s<=u&&o<=f;)if(d==null)d=t[++s];else if(h==null)h=t[--u];else if(y==null)y=n[++o];else if(g==null)g=n[--f];else if(j2(d,y,i))hg(d,y,i),d=t[++s],y=n[++o];else if(j2(h,g,i))hg(h,g,i),h=t[--u],g=n[--f];else if(j2(d,g,i))(d.$tag$==="slot"||g.$tag$==="slot")&&D_(d.$elm$.parentNode,!1),hg(d,g,i),th(e,d.$elm$,h.$elm$.nextSibling),d=t[++s],g=n[--f];else if(j2(h,y,i))(d.$tag$==="slot"||g.$tag$==="slot")&&D_(h.$elm$.parentNode,!1),hg(h,y,i),th(e,h.$elm$,d.$elm$),h=t[--u],y=n[++o];else{for(a=-1,l=s;l<=u;++l)if(t[l]&&t[l].$key$!==null&&t[l].$key$===y.$key$){a=l;break}a>=0?(b=t[a],b.$tag$!==y.$tag$?v=H3(t&&t[o],r,a,e):(hg(b,y,i),t[a]=void 0,v=b.$elm$),y=n[++o]):(v=H3(t&&t[o],r,o,e),y=n[++o]),v&&th(iue(d.$elm$),v,KF(d.$elm$))}s>u?rue(e,n[f+1]==null?null:n[f+1].$elm$,r,n,o,f):o>f&&nue(t,s,u)},j2=(e,t,r=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&r&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:r?!0:e.$key$===t.$key$:!1,KF=e=>e&&e["s-ol"]||e,iue=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,hg=(e,t,r=!1)=>{const n=t.$elm$=e.$elm$,i=e.$children$,s=t.$children$,o=t.$tag$,a=t.$text$;let l;a===null?(ko=o==="svg"?!0:o==="foreignObject"?!1:ko,o==="slot"&&!W3||tue(e,t,ko),i!==null&&s!==null?$9e(n,i,t,s,r):s!==null?(e.$text$!==null&&(n.textContent=""),rue(n,null,t,s,0,s.length-1)):!r&&Sa.updatable&&i!==null&&nue(i,0,i.length-1),ko&&o==="svg"&&(ko=!1)):(l=n["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(n.data=a)},sue=e=>{const t=e.childNodes;for(const r of t)if(r.nodeType===1){if(r["s-sr"]){const n=r["s-sn"];r.hidden=!1;for(const i of t)if(i!==r){if(i["s-hn"]!==r["s-hn"]||n!==""){if(i.nodeType===1&&(n===i.getAttribute("slot")||n===i["s-sn"])||i.nodeType===3&&n===i["s-sn"]){r.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){r.hidden=!0;break}}}sue(r)}},Gc=[],oue=e=>{let t,r,n;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){r=t.parentNode.childNodes;const s=i["s-sn"];for(n=r.length-1;n>=0;n--)if(t=r[n],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"]&&!Sa.experimentalSlotFixes)if(lq(t,s)){let o=Gc.find(a=>a.$nodeToRelocate$===t);q3=!0,t["s-sn"]=t["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],Gc.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&Gc.map(a=>{lq(a.$nodeToRelocate$,t["s-sn"])&&(o=Gc.find(l=>l.$nodeToRelocate$===t),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else Gc.some(o=>o.$nodeToRelocate$===t)||Gc.push({$nodeToRelocate$:t})}i.nodeType===1&&oue(i)}},lq=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",aue=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(aue)},th=(e,t,r)=>{const n=e==null?void 0:e.insertBefore(t,r);return XF(t,e),n},lue=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...lue(e.parentElement)),t},XF=(e,t,r=!1)=>{var n;if(e&&t&&e.nodeType===1){const i=new Set(lue(t).filter(Boolean));if(i.size&&((n=e.classList)==null||n.add(...e["s-scs"]=[...i]),e["s-ol"]||r))for(const s of Array.from(e.childNodes))XF(s,e,!0)}},T9e=(e,t,r=!1)=>{var n,i,s,o,a;const l=e.$hostElement$,u=e.$cmpMeta$,d=e.$vnode$||G3(null,null),h=p9e(t)?t:Xle(null,null,t);if(ov=l.tagName,u.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},u.$attrsToReflect$.map(([f,y])=>h.$attrs$[y]=l[f])),r&&h.$attrs$)for(const f of Object.keys(h.$attrs$))l.hasAttribute(f)&&!["key","ref","style","class"].includes(f)&&(h.$attrs$[f]=l[f]);h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=d.$elm$=l.shadowRoot||l,pg=l["s-sc"],W3=(u.$flags$&1)!==0,l6=l["s-cr"],q3=!1,hg(d,h,r);{if(Ti.$flags$|=1,JF){oue(h.$elm$);for(const f of Gc){const y=f.$nodeToRelocate$;if(!y["s-ol"]){const g=Rl.createTextNode("");g["s-nr"]=y,th(y.parentNode,y["s-ol"]=g,y)}}for(const f of Gc){const y=f.$nodeToRelocate$,g=f.$slotRefNode$;if(g){const v=g.parentNode;let b=g.nextSibling;{let _=(n=y["s-ol"])==null?void 0:n.previousSibling;for(;_;){let x=(i=_["s-nr"])!=null?i:null;if(x&&x["s-sn"]===y["s-sn"]&&v===x.parentNode){for(x=x.nextSibling;x===y||x!=null&&x["s-sr"];)x=x==null?void 0:x.nextSibling;if(!x||!x["s-nr"]){b=x;break}}_=_.previousSibling}}(!b&&v!==y.parentNode||y.nextSibling!==b)&&y!==b&&(!y["s-hn"]&&y["s-ol"]&&(y["s-hn"]=y["s-ol"].parentNode.nodeName),th(v,y,b),y.nodeType===1&&(y.hidden=(s=y["s-ih"])!=null?s:!1)),y&&typeof g["s-rf"]=="function"&&g["s-rf"](y)}else y.nodeType===1&&(r&&(y["s-ih"]=(o=y.hidden)!=null?o:!1),y.hidden=!0)}}q3&&sue(h.$elm$),Ti.$flags$&=-2,Gc.length=0}if(Sa.experimentalScopedSlotChanges&&u.$flags$&2)for(const f of h.$elm$.childNodes)f["s-hn"]!==ov&&!f["s-sh"]&&(r&&f["s-ih"]==null&&(f["s-ih"]=(a=f.hidden)!=null?a:!1),f.hidden=!0);l6=void 0},M9e=(e,t)=>{},QF=(e,t)=>(e.$flags$|=16,M9e(e,e.$ancestorComponent$),e9e(()=>C9e(e,t))),C9e=(e,t)=>{const r=e.$hostElement$,n=qm("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;if(!i)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t?s=T0(i,"componentWillLoad"):s=T0(i,"componentWillUpdate"),s=uq(s,()=>T0(i,"componentWillRender")),n(),uq(s,()=>k9e(e,i,t))},uq=(e,t)=>E9e(e)?e.then(t).catch(r=>{console.error(r),t()}):t(),E9e=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",k9e=async(e,t,r)=>{const n=e.$hostElement$,i=qm("update",e.$cmpMeta$.$tagName$);n["s-rc"],r&&_9e(e);const s=qm("render",e.$cmpMeta$.$tagName$);I9e(e,t,n,r),s(),i(),O9e(e)},cq=null,I9e=(e,t,r,n)=>{try{cq=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Sa.hasRenderFn||Sa.reflect)&&(Sa.vdomRender||Sa.reflect)&&(Sa.hydrateServerSide||T9e(e,t,n))}catch(l){Kx(l,e.$hostElement$)}return cq=null,null},O9e=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=qm("postUpdate",t),i=r;e.$ancestorComponent$,T0(i,"componentDidRender"),e.$flags$&64?(T0(i,"componentDidUpdate"),n()):(e.$flags$|=64,T0(i,"componentDidLoad"),n())},Wxt=e=>{{const t=hy(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&QF(t,!1),r}},T0=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){Kx(n)}},P9e=(e,t)=>hy(e).$instanceValues$.get(t),A9e=(e,t,r,n)=>{const i=hy(e),s=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=s;r=y9e(r,n.$members$[t][0]);const u=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!u){i.$instanceValues$.set(t,r);{if(n.$watchers$&&a&128){const h=n.$watchers$[t];h&&h.map(f=>{try{l[f](r,o,t)}catch(y){Kx(y,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,o,t)===!1)return;QF(i,!1)}}}},R9e=(e,t,r)=>{var n,i;const s=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const o=Object.entries((n=t.$members$)!=null?n:{});o.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(s,a,{get(){return P9e(this,a)},set(u){A9e(this,a,u,t)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(l,u,d){Ti.jmp(()=>{var h;const f=a.get(l);if(this.hasOwnProperty(f))d=this[f],delete this[f];else{if(s.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==d)return;if(f==null){const y=hy(this),g=y==null?void 0:y.$flags$;if(g&&!(g&8)&&g&128&&d!==u){const b=this,_=(h=t.$watchers$)==null?void 0:h[l];_==null||_.forEach(x=>{b[x]!=null&&b[x].call(b,d,u,l)})}return}}this[f]=d===null&&typeof this[f]=="boolean"?!1:d})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...o.filter(([l,u])=>u[0]&15).map(([l,u])=>{var d;const h=u[1]||l;return a.set(h,l),u[0]&512&&((d=t.$attrsToReflect$)==null||d.push([l,h])),h})]))}}return e},L9e=async(e,t,r,n)=>{let i;if(!(t.$flags$&32)){t.$flags$|=32,r.$lazyBundleId$;{i=e.constructor;const o=e.localName;customElements.whenDefined(o).then(()=>t.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(t.$modeName$=m9e(e),t.$modeName$&&(o=i.style[t.$modeName$]));const a=Qle(r,t.$modeName$);if(!U3.has(a)){const l=qm("registerStyles",r.$tagName$);b9e(a,o,!!(r.$flags$&1)),l()}}}t.$ancestorComponent$,QF(t,!0)},dq=e=>{},j9e=e=>{if(!(Ti.$flags$&1)){const t=hy(e),r=t.$cmpMeta$,n=qm("connectedCallback",r.$tagName$);t.$flags$&1?(uue(e,t,r.$listeners$),t!=null&&t.$lazyInstance$?dq(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>dq(t.$lazyInstance$))):(t.$flags$|=1,r.$flags$&12&&N9e(e),r.$members$&&Object.entries(r.$members$).map(([i,[s]])=>{if(s&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),L9e(e,t,r)),n()}},N9e=e=>{const t=e["s-cr"]=Rl.createComment("");t["s-cn"]=!0,th(e,t,e.firstChild)},F9e=async e=>{if(!(Ti.$flags$&1)){const t=hy(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},qxt=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){HNe(this,r)},connectedCallback(){const s=hy(this);uue(this,s,r.$listeners$),j9e(this),n&&n.call(this)},disconnectedCallback(){F9e(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${r.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=r.$tagName$,R9e(e,r)},Hxt=(e,t)=>t,uue=(e,t,r,n)=>{r&&r.map(([i,s,o])=>{const a=z9e(e,i),l=D9e(t,o),u=V9e(i);Ti.ael(a,s,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Ti.rel(a,s,l,u))})},D9e=(e,t)=>r=>{var n;try{Sa.lazyLoad||e.$hostElement$[t](r)}catch(i){Kx(i)}},z9e=(e,t)=>t&4?Rl:t&8?Xx:t&16?Rl.body:e,V9e=e=>JNe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const Qc=globalThis.calciteConfig,Zxt=(Qc==null?void 0:Qc.focusTrapStack)||[],Yxt=(Qc==null?void 0:Qc.logLevel)||"info",pq="2.12.1",B9e="2024-09-04",U9e="eae5049";function G9e(){if(Qc&&Qc.version)return;console.info(`Using Calcite Components ${pq} [Date: ${B9e}, Revision: ${U9e}]`);const e=Qc||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:pq,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const cue=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function W9e(){return navigator.userAgentData}function Jxt(){if(!cue())return"";const e=W9e();return e!=null&&e.brands?e.brands.map(({brand:t,version:r})=>`${t}/${r}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */function hq(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(Hle)||e.contains(qle)&&t?"dark":"light",n=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{s!==o&&n(o),s=o};let s=r();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function q9e(){cue()&&(document.readyState==="interactive"?hq():document.addEventListener("DOMContentLoaded",()=>hq(),{once:!0})),G9e()}const H9e=q9e;H9e();let due;function Z9e(){try{t9e(".")}catch{r9e(_a(er(due)))}}function jh(e){var r;const t=[];for(const n of Object.keys(e))customElements.get(`calcite-${n}`)||t.push((r=e[n])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}due="components/assets";const pue=Symbol("widget"),hue=Symbol("widget-test-data"),Y9e=[],J9e={},Z3=new WeakMap;function fue(e,t){let r=t.children;if(r!=null&&r.length)for(let i=0;i<r.length;++i)r[i]=fue(e,r[i]);else r=Y9e;const n=t.vnodeSelector;if(Y3(n)){const i=t.properties||J9e,s=i.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:K9e,afterUpdate:X9e,afterRemoved:mue,parentWidget:e,widgetConstructor:n,widgetProperties:{...i,key:s,children:r}},children:void 0,text:void 0,domNode:null}}return t}function K9e(e,t,r,{parentWidget:n,widgetConstructor:i,widgetProperties:s}){var a;const o=new i(s);o.container=e,Z3.set(e,o),(a=o.afterCreate)==null||a.call(o,o,e),n.addHandles(gr(()=>mue(e))),queueMicrotask(()=>{o[hue].projector.renderNow()})}function X9e(e,t,r,{widgetProperties:n}){var s;const i=Z3.get(e);i&&(i.set(n),(s=i.afterUpdate)==null||s.call(i,i,e))}function mue(e){var r;const t=Z3.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),Z3.delete(e))}function Y3(e){return typeof e=="function"&&e[pue]}const fq=new Set;function Q9e(e){fq.add(e),e.finally(()=>fq.delete(e))}var yue;const eFe="esri.widgets.Widget";let tFe=0;function gue(e,t){const r=Object.prototype.hasOwnProperty;for(const n in t)r.call(t,n)&&r.call(e,n)&&(e[n]!=null&&t[n]!=null&&typeof e[n]=="object"&&typeof t[n]=="object"?gue(e[n],t[n]):e[n]=t[n]);return e}const rFe=UNe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,i,s,o)=>{const a=t==null?void 0:t(n,i,s,o),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in s)||l){const u=n[2].toLowerCase()+n.slice(3),d=y=>a==null?void 0:a.call(s,y);s.addEventListener(u,d,l);const h=()=>s.removeEventListener(u,d,l),f=o.afterRemoved;o.afterRemoved=y=>{f==null||f(y),h()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:i,type:s}=n,o=i===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(bse(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let VO=!1,si=class extends Bx(Za.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=rFe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=DE(async()=>{var l;if((l=this._messageBundleProps)!=null&&l.length){const u=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:d,propertyName:h})=>{if(this.destroyed)return;let f=await rF(d);this.uiStrings&&Object.keys(this.uiStrings)&&(f=gue(W(f),this.uiStrings)),this[h]=f}));if(this.destroyed)return;for(const d of u)d.status==="rejected"&&ie.getLogger(this).error("widget-intl:locale-error",this.declaredClass,d.reason)}await this.loadLocale()}),Z9e();const n="esri-widget-uid-"+ZF(),i=this.render.bind(this);this._trackingTarget=new zE(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var h,f;if(!this._readyForTrueRender||this.destroyed)return null;const l=i()??s(),u=l.properties??(l.properties={});if(u.key??(u.key=n),Y3(l.vnodeSelector)){if(!this.visible)return s()}else this.visible?u.styles||(u.styles={}):(u.class="",u.styles={display:"none"}),(h=u.styles).display??(h.display="");let d=0;return(f=l.children)==null||f.forEach(y=>{var g;Y3(y.vnodeSelector)||(y.properties??(y.properties={}),(g=y.properties).key??(g.key=`${this.id}--${d++}`))}),fue(this,l)};this.render=()=>{if(VO)return o();let l=t5e(this)??null;if(l)return l;this._trackingTarget.clear(),VO=!0;try{l=ad(this._trackingTarget,o)}catch(u){throw ie.getLogger(this).error(u),u}finally{VO=!1}return l&&r5e(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Q9e(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){var r;const t=this.loadDependencies();return(r=this._messageBundleProps)!=null&&r.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch($B):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(jr(this._trackingTarget),jr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,lO(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return aF(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+tFe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(yue=pue,hue)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(lO(this),this._projector.scheduleRender())}own(t){Bee(ie.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return wse.apply(this,t)}renderNow(){lO(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this.addHandles(Se(()=>this.viewModel,(n,i)=>{i&&this.removeHandles("delegated-events"),n&&NE(n)&&this.addHandles(this._delegatedEventNames.map(s=>Ix(n,s,o=>{this.emit(s,o)})),"delegated-events")},Io)),this.postInitialize();const t=async()=>{await this._loadLocale().catch($B),this.scheduleRender()};this.addHandles([U9(t),Se(()=>this.uiStrings,t),Vo(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};si[yue]=!0,c([p()],si.prototype,"_readyForTrueRender",void 0),c([p({value:null})],si.prototype,"container",null),c([tr("container")],si.prototype,"castContainer",null),c([p()],si.prototype,"icon",null),c([p()],si.prototype,"id",null),c([p()],si.prototype,"label",null),c([p()],si.prototype,"renderable",null),c([p()],si.prototype,"uiStrings",void 0),c([p()],si.prototype,"viewModel",void 0),c([p({value:!0})],si.prototype,"visible",null),c([p()],si.prototype,"key",void 0),c([p()],si.prototype,"children",void 0),c([p()],si.prototype,"afterCreate",void 0),c([p()],si.prototype,"afterUpdate",void 0),c([p()],si.prototype,"afterRemoved",void 0),si=c([R(eFe)],si);const Ya=si,nFe=new Map;function iFe(e){return nFe.get(e)}function mq(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function sFe(e,t){return e.length!==t.length||e.some((r,n)=>r.text!==t[n].text)}function k1(e,t,r){!r||!t||e.find(n=>n.layerView===t&&n.text===r)||e.push({text:r,layerView:t})}function oFe(e){return e.type==="bing-maps"}const oc=[];let fg=class extends Be{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Ce,this.view=null,this._allLayerViewsChange=r=>{var i;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const n=(i=this.view)==null?void 0:i.allLayerViews;n&&(this.addHandles(n.map(s=>Se(()=>{var o;return[s.suspended,(o=s.layer)==null?void 0:o.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),n.forEach(s=>{s.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(s.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),r!=null&&r.removed&&r.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([Ns(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Vo(()=>{var r;return((r=this.view)==null?void 0:r.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t==null?void 0:t.allLayerViews;if(oc.length=0,!t||!r)return void this._clear();r.forEach(i=>{var a,l;if(i.suspended||!((a=i.layer)!=null&&a.attributionVisible))return;const s=i.layer;if(mq(s,"user"))return void k1(oc,i,s.copyright);if(s.hasAttributionData){if(this._fetchedAttributionData.has(i)){const u=this._fetchedAttributionData.get(i);return void(u?k1(oc,i,this._getDynamicAttribution(u,t,s)):mq(s)&&k1(oc,i,s.copyright))}return void this._fetchAttributionData(i)}const o="portalItem"in s?(l=s.portalItem)==null?void 0:l.accessInformation:void 0;k1(oc,i,o||s.copyright)});const n=r.find(i=>{var s;return((s=i.layer)==null?void 0:s.type)==="integrated-mesh-3dtiles"});if(this.view&&n){const i=iFe(this.view);if(i){const s=i.getAttributionText();for(let o=0;o<s.length;++o)k1(oc,n,s[o])}}sFe(this.items,oc)&&(this.items.removeAll(),this.items.addMany(oc)),oc.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await QE(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const n=r.ok?this._createContributionIndex(r.value,oFe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)}this._updateAttributionItems()}_createContributionIndex(t,r){const n=t.contributors,i={};if(!n)return i;for(let s=0;s<n.length;s++){const o=n[s],a=o.coverageAreas;if(!a)return;for(const l of a){const u=l.bbox,d=l.zoomMin-(r&&l.zoomMin?1:0),h=l.zoomMax-(r&&l.zoomMax?1:0),f=new Rt({xmin:u[1],ymin:u[0],xmax:u[3],ymax:u[2],spatialReference:Qe.WGS84}),y={extent:Lu(f),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let g=d;g<=h;g++)i[g]??(i[g]=[]),i[g].push(y)}}return i.maxKey=Math.max.apply(null,Object.keys(i)),i}_getDynamicAttribution(t,r,n){var d;const{extent:i,scale:s}=r;let o=((d=n.tileInfo)==null?void 0:d.scaleToZoom(s))??0;if(o=Math.min(t.maxKey??0,Math.round(o)),!i||o==null||o<=-1)return"";const a=t[o],l=JE(i.center.clone().normalize(),r.spatialReference),u=new Set;return a?a.filter(h=>{const f=h.id,y=!u.has(f)&&l&&h.extent&&Lx(h.extent,l);return y&&u.add(f),y}).sort((h,f)=>f.score-h.score||h.objectId-f.objectId).map(h=>h.attribution).join(", "):""}};c([p({readOnly:!0,type:Ce})],fg.prototype,"items",void 0),c([p({readOnly:!0})],fg.prototype,"state",null),c([p()],fg.prototype,"view",void 0),fg=c([R("esri.widgets.Attribution.AttributionViewModel")],fg);const vue=fg,lt={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function J3(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:lFe(e[t])}}}function aFe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function lFe(e){return function(t,...r){aFe(t)?xse(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function Fs(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var uFe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},bue=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?bue(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=uFe(i)),t.push(i))}},cFe=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return bue(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function ee(e,t,...r){return typeof e!="function"||Y3(e)?cFe(e,t,...r):e(t,...r)}function Qxt(...e){return e}const Ly="esri-attribution",jy={base:Ly,poweredBy:`${Ly}__powered-by`,sources:`${Ly}__sources`,open:`${Ly}--open`,sourcesOpen:`${Ly}__sources--open`,link:`${Ly}__link`};let $s=class extends Ya{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:i})=>this._checkSourceTextOverflow(i))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new vue}initialize(){this.addHandles(Ns(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[jy.open]:this._isOpen};return ee("div",{bind:this,class:this.classes(jy.base,lt.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return ee("div",{class:jy.poweredBy},"Powered by"," ",ee("a",{class:jy.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,n=r?0:void 0,{attributionText:i}=this,s={[jy.sourcesOpen]:t,[lt.interactive]:r};return ee("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(jy.sources,s),innerHTML:i,tabIndex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:n,clientWidth:i,scrollWidth:s}=t,o=s>i,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(r=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([p()],$s.prototype,"_isOpen",void 0),c([p()],$s.prototype,"_isInteractive",null),c([p()],$s.prototype,"_attributionTextOverflowed",void 0),c([p()],$s.prototype,"_prevSourceNodeHeight",void 0),c([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],$s.prototype,"attributionText",null),c([p()],$s.prototype,"icon",null),c([p()],$s.prototype,"itemDelimiter",void 0),c([p()],$s.prototype,"label",null),c([p(),Fs("esri/widgets/Attribution/t9n/Attribution")],$s.prototype,"messages",void 0),c([p()],$s.prototype,"view",null),c([p({type:vue})],$s.prototype,"viewModel",void 0),c([J3()],$s.prototype,"_toggleState",null),$s=c([R("esri.widgets.Attribution")],$s);const dFe=$s;function pFe(e){var t,r;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((r=e==null?void 0:e.spatialReference)==null?void 0:r.isGeographic)||!1}const eD=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return ote(n),this.goToOverride?this.goToOverride(n,r):n.goTo(r.target,r.options)}};return c([p()],t.prototype,"goToOverride",void 0),c([p()],t.prototype,"view",void 0),t=c([R("esri.widgets.support.GoTo")],t),t};let If=class extends eD(Be){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(Se(()=>this.view,this._updateRotationWatcher,Cr))}destroy(){this.view=null}get canShowNorth(){return pFe(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,r;(t=this.view)!=null&&t.ready&&(((r=this.view)==null?void 0:r.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:J("mapview-essential-goto-duration")}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?Se(()=>t==null?void 0:t.rotation,this._updateForRotation,Cr):Se(()=>t==null?void 0:t.camera,this._updateForCamera,Cr))}};c([p({readOnly:!0})],If.prototype,"canShowNorth",null),c([p({readOnly:!0})],If.prototype,"orientation",void 0),c([p({readOnly:!0})],If.prototype,"state",null),c([p()],If.prototype,"view",void 0),If=c([R("esri.widgets.Compass.CompassViewModel")],If);const wue=If,yq="esri-compass",gq={base:yq,iconContainer:`${yq}__icon-container`};let wc=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new wue,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url),icon:()=>Q(()=>import("./calcite-icon-DyBoIbok.js"),__vite__mapDeps([220,218,210,216]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,{messages:n}=this;return ee("div",{class:this.classes(gq.base,lt.widget)},ee("calcite-button",{class:lt.widgetButton,disabled:r==="disabled",kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},ee("div",{"aria-hidden":"true",class:gq.iconContainer,title:n.reset},ee("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};c([p()],wc.prototype,"goToOverride",null),c([p()],wc.prototype,"icon",null),c([p()],wc.prototype,"label",null),c([p(),Fs("esri/widgets/Compass/t9n/Compass")],wc.prototype,"messages",void 0),c([p()],wc.prototype,"view",null),c([p({type:wue})],wc.prototype,"viewModel",void 0),wc=c([R("esri.widgets.Compass")],wc);const hFe=wc,vq="esri-navigation-toggle",bq={base:vq,isLayoutHorizontal:`${vq}--horizontal`};let mg=class extends Be{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(Vo(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,r;return(t=this.view)!=null&&t.ready&&((r=this.view)==null?void 0:r.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._setNavigationMode()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_setNavigationMode(){var r;const t=(r=this.view)==null?void 0:r.inputManager;t&&(t.primaryDragAction=this._navigationMode==="pan"?"pan":"rotate")}};c([p({readOnly:!0})],mg.prototype,"state",null),c([p()],mg.prototype,"_navigationMode",void 0),c([p()],mg.prototype,"view",void 0),mg=c([R("esri.widgets.NavigationToggle.NavigationToggleViewModel")],mg);const _ue=mg;let _c=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new _ue,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var i;const n=((i=this.viewModel)==null?void 0:i.navigationMode)==="pan"?this._rotateButton:this._panButton;n==null||n.setFocus(),this.toggle()}}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var i,s;const t=((i=this.viewModel)==null?void 0:i.state)==="disabled",r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan",n=this.messages.toggle;return ee("div",{class:this.classes(bq.base,lt.widget,{[bq.isLayoutHorizontal]:this.layout==="horizontal"})},ee("calcite-button",{afterCreate:o=>{this._panButton=o},appearance:r?"outline-fill":"solid",class:lt.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?void 0:-1,title:n}),ee("calcite-button",{afterCreate:o=>{this._rotateButton=o},appearance:r?"solid":"outline-fill",class:lt.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:r?-1:void 0,title:n}))}};c([p()],_c.prototype,"icon",null),c([p()],_c.prototype,"label",null),c([p({value:"vertical"})],_c.prototype,"layout",null),c([p(),Fs("esri/widgets/NavigationToggle/t9n/NavigationToggle")],_c.prototype,"messages",void 0),c([p()],_c.prototype,"view",null),c([p({type:_ue})],_c.prototype,"viewModel",void 0),_c=c([R("esri.widgets.NavigationToggle")],_c);const fFe=_c;let Of=class extends Be{get canZoomIn(){var n,i,s;if(!((n=this.view)==null?void 0:n.ready))return!1;const r=(s=(i=this.view)==null?void 0:i.constraints)==null?void 0:s.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){var i;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const n=(i=t.constraints)==null?void 0:i.effectiveMinScale;return n===0||this._scale<n}get _scale(){var r,n,i;const t=(n=(r=this.view)==null?void 0:r.animation)==null?void 0:n.target;return(t&&"then"in t||t==null?void 0:t.scale)??((i=this.view)==null?void 0:i.scale)??0}};c([p({readOnly:!0})],Of.prototype,"canZoomIn",null),c([p({readOnly:!0})],Of.prototype,"canZoomOut",null),c([p()],Of.prototype,"view",void 0),c([p()],Of.prototype,"_scale",null),Of=c([R("esri.widgets.Zoom.ZoomConditions2D")],Of);const mFe=Of;let yg=class extends Be{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([p({readOnly:!0})],yg.prototype,"canZoomIn",null),c([p({readOnly:!0})],yg.prototype,"canZoomOut",null),c([p()],yg.prototype,"view",void 0),yg=c([R("esri.widgets.Zoom.ZoomConditions3D")],yg);const yFe=yg;let op=class extends Be{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new mFe({view:t}):t.type==="3d"&&(this._zoomConditions=new yFe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():dA(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():dA(t.goTo({zoomFactor:.5}))}};c([p()],op.prototype,"_zoomConditions",void 0),c([p()],op.prototype,"canZoomIn",null),c([p()],op.prototype,"canZoomOut",null),c([p({readOnly:!0})],op.prototype,"state",null),c([p()],op.prototype,"view",null),op=c([R("esri.widgets.Zoom.ZoomViewModel")],op);const xue=op,wq={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let xc=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new xue,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[wq.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:n}=this.viewModel,{zoomIn:i,zoomOut:s}=this.messages;return ee("div",{class:this.classes(wq.base,lt.widget,t)},ee("calcite-button",{class:lt.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:i,onclick:this.zoomIn,title:i}),ee("calcite-button",{class:lt.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};c([p()],xc.prototype,"icon",null),c([p()],xc.prototype,"label",null),c([p({value:"vertical"})],xc.prototype,"layout",null),c([p(),Fs("esri/widgets/Zoom/t9n/Zoom")],xc.prototype,"messages",void 0),c([p()],xc.prototype,"view",null),c([p({type:xue})],xc.prototype,"viewModel",void 0),xc=c([R("esri.widgets.Zoom")],xc);const gFe=xc;function vFe(e){return(e==null?void 0:e.view)!==void 0}let IT=class extends LNe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(n=>{const i=this._find(n),s=i==null?void 0:i.widget;vFe(s)&&(s.view=r)})},this._componentsWatcher=(r,n)=>{this._removeComponents(n),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([Se(()=>this.components,this._componentsWatcher,Cr),Se(()=>this.view,this._updateViewAwareWidgets,Cr)])}_add(t,r,n,i,s){let o=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;o=this._createComponent(t)}super._add(o,r,n,i,s)}_removeComponents(t){t.forEach(r=>{const n=this._find(r);n&&(this.remove(n),n.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new kT({id:t,node:r})}_createWidget(t){const r=this.view;switch(t){case"attribution":return new dFe({view:r});case"compass":return new hFe({view:r});case"navigation-toggle":return new fFe({view:r});case"zoom":return new gFe({view:r})}}};c([p()],IT.prototype,"components",void 0),IT=c([R("esri.views.ui.DefaultUI")],IT);const Sue=IT;let OT=class extends Sue{constructor(t){super(t),this.components=["attribution","zoom"]}};c([p()],OT.prototype,"components",void 0),OT=c([R("esri.views.ui.2d.DefaultUI2D")],OT);const $ue=OT;function _q(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}var u6;let PT=u6=class extends ae{constructor(e){super(e),this.color=new it([0,0,0,1])}clone(){return new u6(W({color:this.color}))}};c([p({type:it,json:{write:!0}})],PT.prototype,"color",void 0),PT=u6=c([R("esri.webmap.background.ColorBackground")],PT);const bFe=PT;let Tue,Mue,Cue,Eue,kue,Iue;async function wFe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:i,Stage:s}]=await Promise.all([Q(()=>import("./webglDeps-DHyEjk78.js"),__vite__mapDeps([134,65,64,34,135,136]),import.meta.url),Q(()=>import("./mapViewDeps-BBM4EVLI.js"),__vite__mapDeps([137,72,70,71,12,73,63,60,74,66,138,104,77,34,67,68,29,64,65,62,35,69,78,79,80,139,140,141,136,88,113,112,14,11,15,111,134,135,142,83,143,61,21,18,8,144,145,146,106,147,148,149,150,50,151,81,152,76,153,154,155,156,157,158,159]),import.meta.url)]);Mue=e,Cue=t,Eue=r,kue=n,Iue=i,Tue=s}let ht=class extends lIe(N5e(S5e(iLe))){constructor(t){super(t),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Vm({getCollections:()=>{var r,n;return[(r=this.basemapView)==null?void 0:r.baseLayerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new CT({view:this}),this.graphicsView=null,this.stateManager=new Ss({constraints:new kle({view:this})}),this.stationaryManager=new Gb,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new Kje(this),this.floors=new Ce,this.highlightOptions=new Fle,this.inputManager=new W8e({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Ule,this.type="2d",this.ui=new $ue,this.test={takeScreenshot:async r=>yNe(this._getScreenshotView(r),r)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Se(()=>this.viewpoint,()=>this.stationaryManager.flip(),Ni),this.on("resize",r=>this.stateManager.resize(r.width,r.height))]),$ke()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=jr(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Q8e(this.featuresTilingScheme)}get constraintsInfo(){var n,i;const t=(n=this.defaultsFromMap)==null?void 0:n.tileInfo,r=this.spatialReference;return{lods:(i=t==null?void 0:t.spatialReference)!=null&&i.equals(r)?t.lods:null,spatialReference:r}}get state(){return this.stateManager.state}get initialExtentRequired(){var a;if(!this.stateManager)return!1;const{scale:t,constraints:r,center:n,viewpoint:i,extent:s}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)!=null&&a.viewpoint))&&!s&&(r!=null&&r.effectiveLODs||(o=-1),(!n||t===0&&o===-1)&&((i==null?void 0:i.targetGeometry)==null||i.targetGeometry.type!=="extent"&&!i.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const r=t.targetGeometry,n=this.spatialReference;return Yie(r.spatialReference,n)}set animation(t){const r=this._get("animation");if(t===r)return;if(r&&r.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",t),this.frameTask.animationInProgress=!0;const n=()=>{var i;this.destroyed||(t===this._get("animation")&&(this._set("animation",null),(i=this.frameTask)==null||i.requestFrame()),this.frameTask.animationInProgress=!1)};t.when(n,n)}get background(){return _q(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get constraints(){var t;return(t=this.stateManager)==null?void 0:t.constraints}set constraints(t){t.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=t,r==null||r.destroy()}get extent(){var t;return((t=this.stateManager)==null?void 0:t.extent)??null}set extent(t){this.stateManager.extent=t}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(t){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=r}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var n,i,s,o;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((n=this._magnifierView)!=null&&n.updatingHandles.updating)),r=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(a=>!a.destroyed&&!("layerViews"in a)&&a.updating===!0)||t);if(J("esri-2d-log-updating")){const a=this.allLayerViews.reduce((l,u)=>({...l,[`${u.layer.id}(${u.layer.type})`]:!u.destroyed&&!("layerViews"in u)&&u.updating}),{});console.log(`Updating MapView: ${r}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(i=this.layerViewManager)==null?void 0:i.updating}
-> labelManager.updating: ${(s=this.labelManager)==null?void 0:s.updating}
-> graphicsView.updating: ${(o=this.graphicsView)==null?void 0:o.updating}
-> allLayerViews: ${JSON.stringify(a)}
-> updatingMagnifier: ${t}
`)}return r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}goTo(t,r){return this.goToManager.goTo(t,r)}async hitTest(t,r){return rNe(this,t,r)}async takeScreenshot(t){return mNe(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const r=Cae(t)?Mae(this,t):t;return this.stateManager.toMap(r)}toScreen(t,r){return this.stateManager.toScreen(t,r)}on(t,r,n,i){return this.inputManager&&this.viewEvents.on(t,r,n,i)||super.on(t,r)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t,r,n;return this.map&&"initialViewProperties"in this.map&&((r=(t=this.map)==null?void 0:t.initialViewProperties)==null?void 0:r.spatialReference)||((n=this.defaultsFromMap)==null?void 0:n.spatialReference)||null}getDefaultTimeZone(){return _q(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(t){return IW.hasLayerViewModule(t)}importLayerView(t){return IW.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(ie.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var u;const r=this.toMap(t),n=await this.hitTest(t),i=this.allLayerViews.toArray().reverse(),s=new globalThis.Map(i.map(d=>[d.layer.uid,d])),o=[];let a=0,l=0;for(;a<n.results.length||l<i.length;){const d=n.results.at(a);if(d&&d.type!=="graphic"){++a;continue}const h=s.get((u=(d==null?void 0:d.layer)??(d==null?void 0:d.graphic.layer))==null?void 0:u.uid);if((!d||h)&&l<i.length&&i.at(l)!==h){const f=i.at(l);"fetchPopupFeaturesAtLocation"in f&&o.push({mapPoint:r,layerView:f}),++l}else d&&(o.push({graphic:d.graphic,layerView:h}),++a)}return{hits:o,location:r}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=TNe(this.type);if(J("safari")&&J("safari")<9&&(t=new q("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:J("safari")})),t!=null)throw ie.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return wFe()}_getDefaultViewpoint(){var b;const{constraints:t,initialExtent:r,map:n,padding:i,size:s}=this;if(!t)return null;const o=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),l=o==null?void 0:o.viewpoint,u=((b=l==null?void 0:l.targetGeometry)==null?void 0:b.extent)??r,d=u==null?void 0:u.center,h=(l==null?void 0:l.rotation)??0,f=(l==null?void 0:l.scale)||u&&Ek(u,[s[0]-i.left-i.right,s[1]-i.top-i.bottom]),y=a.center??d,g=a.rotation??h,v=a.scale??f;return y&&v?new Aa({targetGeometry:y,scale:v,rotation:g}):null}_startup(){var a;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(a=this.defaultsFromMap.extent)==null?void 0:a.center),this.graphics.owner=this;const r=new Tue(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=r,this._magnifierView=new Iue,this._magnifierView.magnifier=this.magnifier;const n=new Eue({view:this});this._set("labelManager",n);const i=new Jje({view:this});this._set("animationManager",i);const s=new kue({view:this,animationManager:i});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",l=>this.fatalError=l.error),Se(()=>this.stationary,l=>r.stationary=l,Io),Se(()=>this.background,l=>{r.backgroundColor=l==null?void 0:l.color,this._magnifierView.backgroundColor=l==null?void 0:l.color},Io),Se(()=>this.magnifier,l=>this._magnifierView.magnifier=l,Io),Se(()=>this.renderingOptions,l=>r.renderingOptions=l,Io),Se(()=>this.highlightOptions,l=>r.highlightOptions=l,Io),Se(()=>this.state.id,()=>r.state=this.state,Io)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(r=>{this.stage.addChild(r.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const t=new s8e(kw.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const r=new Mue({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Cue(t)});this._set("graphicsView",r)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var o;const{allLayerViews:r,padding:n,size:i,stage:s}=this;return{allLayerViews:r,backgroundColor:t!=null&&t.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:n,size:i,stage:s}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const r of this.allLayerViews)r.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const r of this.allLayerViews)r.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};ht.type="2d",c([p({readOnly:!0})],ht.prototype,"animationManager",void 0),c([p({constructOnly:!0})],ht.prototype,"deactivatedWebGLExtensions",void 0),c([p({constructOnly:!0})],ht.prototype,"debugWebGLExtensions",void 0),c([p({readOnly:!0})],ht.prototype,"featuresTilingScheme",void 0),c([p({readOnly:!0})],ht.prototype,"fullOpacity",void 0),c([p()],ht.prototype,"goToManager",void 0),c([p({readOnly:!0})],ht.prototype,"graphicsTileStore",null),c([p()],ht.prototype,"graphicsView",void 0),c([p()],ht.prototype,"stateManager",void 0),c([p()],ht.prototype,"constraintsInfo",null),c([p({readOnly:!0})],ht.prototype,"state",null),c([p()],ht.prototype,"initialExtentRequired",null),c([p()],ht.prototype,"labelManager",void 0),c([p({readOnly:!0})],ht.prototype,"mapViewNavigation",void 0),c([p({constructOnly:!0})],ht.prototype,"renderCanvas",void 0),c([p()],ht.prototype,"renderingOptions",void 0),c([p({constructOnly:!0})],ht.prototype,"supersampleScreenshotsEnabled",void 0),c([p({readOnly:!0})],ht.prototype,"supportsGround",void 0),c([p()],ht.prototype,"_defaultsFromMapSettings",null),c([p({readOnly:!0})],ht.prototype,"typeSpecificPreconditionsReady",null),c([p()],ht.prototype,"animation",null),c([p({type:bFe})],ht.prototype,"background",null),c([p()],ht.prototype,"center",null),c([p({type:kle})],ht.prototype,"constraints",null),c([p()],ht.prototype,"extent",null),c([p()],ht.prototype,"floors",void 0),c([p({type:Fle})],ht.prototype,"highlightOptions",void 0),c([p({readOnly:!0})],ht.prototype,"inputManager",void 0),c([p()],ht.prototype,"map",void 0),c([p()],ht.prototype,"padding",null),c([p({readOnly:!0})],ht.prototype,"rendering",null),c([p()],ht.prototype,"resizeAlign",null),c([p({readOnly:!0})],ht.prototype,"resolution",null),c([p()],ht.prototype,"rotation",null),c([p()],ht.prototype,"scale",null),c([p({constructOnly:!0})],ht.prototype,"spatialReferenceLocked",void 0),c([p()],ht.prototype,"stationary",null),c([p({readOnly:!0})],ht.prototype,"tileInfo",null),c([p({type:Ule,readOnly:!0})],ht.prototype,"timeline",void 0),c([p({readOnly:!0})],ht.prototype,"type",void 0),c([p({readOnly:!0})],ht.prototype,"updating",null),c([p()],ht.prototype,"viewpoint",null),c([p()],ht.prototype,"zoom",null),c([p({readOnly:!0})],ht.prototype,"navigating",null),c([p(),tr(e=>e instanceof Sue?e:BE($ue,e))],ht.prototype,"ui",void 0),ht=c([R("esri.views.MapView")],ht);const _Fe=ht;var c6;let Wb=c6=class extends ae{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new c6({minValue:this.minValue,maxValue:this.maxValue})}};c([p({type:Number,json:{write:!0}})],Wb.prototype,"minValue",void 0),c([p({type:Number,json:{write:!0}})],Wb.prototype,"maxValue",void 0),Wb=c6=c([R("esri.renderers.support.AuthoringInfoClassBreakInfo")],Wb);var d6;let Tp=d6=class extends ae{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new d6({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:W(this.classBreakInfos)})}};c([p({type:String,json:{write:!0}})],Tp.prototype,"field",void 0),c([p({type:String,json:{write:!0}})],Tp.prototype,"normalizationField",void 0),c([p({type:String,json:{write:!0}})],Tp.prototype,"label",void 0),c([p({type:[Wb],json:{write:!0}})],Tp.prototype,"classBreakInfos",void 0),Tp=d6=c([R("esri.renderers.support.AuthoringInfoFieldInfo")],Tp);var p6;let gg=p6=class extends ae{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new p6({label:this.label,value:this.value,size:this.size})}};c([p({type:String,json:{write:!0}})],gg.prototype,"label",void 0),c([p({type:Number,json:{write:!0}})],gg.prototype,"size",void 0),c([p({type:Number,json:{write:!0}})],gg.prototype,"value",void 0),gg=p6=c([R("esri.renderers.support.AuthoringInfoSizeStop")],gg);const xFe=gg;var h6;const N2=new kt({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),F2=new kt({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),xq={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},Sq=["high-to-low","above-and-below","centered-on","extremes"],$q=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],Tq=["seconds","minutes","hours","days","months","years"],SFe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let hi=h6=class extends ae{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new h6({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:W(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([p({types:xq,json:{write:!0}})],hi.prototype,"endTime",void 0),c([tr("endTime")],hi.prototype,"castEndTime",null),c([p({type:String,json:{write:!0}})],hi.prototype,"field",void 0),c([p({type:Number,json:{write:!0}})],hi.prototype,"maxSliderValue",void 0),c([p({type:Number,json:{write:!0}})],hi.prototype,"minSliderValue",void 0),c([p({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],hi.prototype,"normalizationField",null),c([p({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],hi.prototype,"referenceSizeScale",null),c([p({type:SFe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],hi.prototype,"referenceSizeSymbolStyle",null),c([p({types:xq,json:{write:!0}})],hi.prototype,"startTime",void 0),c([tr("startTime")],hi.prototype,"castStartTime",null),c([p({type:[xFe],json:{origins:{"web-scene":{write:!1}},write:!0}})],hi.prototype,"sizeStops",null),c([p({type:N2.apiValues,value:null,json:{type:N2.jsonValues,read:N2.read,write:N2.write}})],hi.prototype,"style",null),c([p({type:$q,value:null,json:{type:$q,origins:{"web-scene":{type:Sq,write:{writer:(e,t)=>{Sq.includes(e)&&(t.theme=e)}}}},write:!0}})],hi.prototype,"theme",null),c([p({type:F2.apiValues,json:{type:F2.jsonValues,read:F2.read,write:F2.write}})],hi.prototype,"type",void 0),c([p({type:Tq,json:{type:Tq,write:!0}})],hi.prototype,"units",void 0),hi=h6=c([R("esri.renderers.support.AuthoringInfoVisualVariable")],hi);const $Fe=hi;let AT=class extends ae{constructor(t){super(t),this.type=null}};c([p({readOnly:!0,json:{read:!1,write:!0}})],AT.prototype,"type",void 0),AT=c([R("esri.rest.support.ColorRamp")],AT);const tD=AT;var f6;let Pf=f6=class extends tD{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new f6({fromColor:W(this.fromColor),toColor:W(this.toColor),algorithm:this.algorithm})}};c([Ze({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Pf.prototype,"algorithm",void 0),c([p({type:it,json:{type:[mr],write:!0}})],Pf.prototype,"fromColor",void 0),c([p({type:it,json:{type:[mr],write:!0}})],Pf.prototype,"toColor",void 0),c([p({type:["algorithmic"]})],Pf.prototype,"type",void 0),Pf=f6=c([R("esri.rest.support.AlgorithmicColorRamp")],Pf);const rD=Pf;var m6;let qb=m6=class extends tD{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new m6({colorRamps:W(this.colorRamps)})}};c([p({type:[rD],json:{write:!0}})],qb.prototype,"colorRamps",void 0),c([p({type:["multipart"]})],qb.prototype,"type",void 0),qb=m6=c([R("esri.rest.support.MultipartColorRamp")],qb);const Oue=qb,TFe={key:"type",base:tD,typeMap:{algorithmic:rD,multipart:Oue}};function MFe(e){return e!=null&&e.type?e.type==="algorithmic"?rD.fromJSON(e):e.type==="multipart"?Oue.fromJSON(e):null:null}var y6;const qh=new kt({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),D2=new kt({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),Mq=new kt({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),Cq=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],CFe=["high-to-low","above-and-below","above","below"],EFe=["flow-line","wave-front"],kFe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let _n=y6=class extends ae{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?MFe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new y6({classificationMethod:this.classificationMethod,colorRamp:W(this.colorRamp),fadeRatio:W(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(0),field1:W(this.field1),field2:W(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([p({type:qh.apiValues,value:null,json:{type:qh.jsonValues,read:qh.read,write:qh.write,origins:{"web-document":{default:"manual",type:qh.jsonValues,read:qh.read,write:qh.write}}}})],_n.prototype,"classificationMethod",null),c([p({types:TFe,json:{write:!0}})],_n.prototype,"colorRamp",void 0),c([ue("colorRamp")],_n.prototype,"readColorRamp",null),c([p({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_n.prototype,"fadeRatio",void 0),c([p({type:[String],value:null,json:{write:!0}})],_n.prototype,"fields",null),c([p({type:Tp,value:null,json:{write:!0}})],_n.prototype,"field1",null),c([p({type:Tp,value:null,json:{write:!0}})],_n.prototype,"field2",null),c([p({type:EFe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],_n.prototype,"flowTheme",null),c([p({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],_n.prototype,"focus",null),c([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],_n.prototype,"isAutoGenerated",void 0),c([p({type:Number,value:null,json:{type:mr,write:!0}})],_n.prototype,"numClasses",null),c([p({type:Cq,json:{type:Cq,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],_n.prototype,"lengthUnit",void 0),c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_n.prototype,"maxSliderValue",void 0),c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_n.prototype,"minSliderValue",void 0),c([p({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_n.prototype,"statistics",null),c([p({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],_n.prototype,"standardDeviationInterval",null),c([p({type:D2.apiValues,value:null,json:{type:D2.jsonValues,read:D2.read,write:D2.write,origins:{"web-scene":{type:Mq.jsonValues,write:{writer:Mq.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],_n.prototype,"type",null),c([p({type:[$Fe],json:{write:!0}})],_n.prototype,"visualVariables",void 0),c([p({type:kFe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],_n.prototype,"univariateSymbolStyle",null),c([p({type:CFe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],_n.prototype,"univariateTheme",null),_n=y6=c([R("esri.renderers.support.AuthoringInfo")],_n);const nD=_n,BO=new kt({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Hb=class extends ae{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([p({type:nD,json:{write:!0}})],Hb.prototype,"authoringInfo",void 0),c([p({type:BO.apiValues,readOnly:!0,json:{type:BO.jsonValues,read:!1,write:{writer:BO.write,ignoreOrigin:!0}}})],Hb.prototype,"type",void 0),Hb=c([R("esri.renderers.Renderer")],Hb);const vd=Hb;function IFe(e){var t,r;return((r=(t=e.match(OFe))==null?void 0:t[1])==null?void 0:r.replace(/\\'/g,"'"))??null}const OFe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var g6;let M0=g6=class extends ae{constructor(){super(...arguments),this.title=null}clone(){return new g6({title:this.title})}};c([p({type:String,json:{write:!0}})],M0.prototype,"title",void 0),M0=g6=c([R("esri.renderers.support.LegendOptions")],M0);var v6;let RT=v6=class extends M0{constructor(){super(...arguments),this.showLegend=null}clone(){return new v6({title:this.title,showLegend:this.showLegend})}};c([p({type:Boolean,json:{write:!0}})],RT.prototype,"showLegend",void 0),RT=v6=c([R("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],RT);const Pue=RT,UO=new kt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let fl=class extends ae{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ie.getLogger(this).error(".field: field must be a string value"),null):Ox(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([p()],fl.prototype,"index",void 0),c([p({type:UO.apiValues,readOnly:!0,json:{read:UO.read,write:UO.write}})],fl.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],fl.prototype,"field",void 0),c([tr("field")],fl.prototype,"castField",null),c([p({type:String,json:{write:!0}})],fl.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],fl.prototype,"valueExpressionTitle",void 0),c([p({readOnly:!0})],fl.prototype,"arcadeRequired",null),c([p({type:Pue,json:{write:!0}})],fl.prototype,"legendOptions",void 0),fl=c([R("esri.renderers.visualVariables.VisualVariable")],fl);const Qx=fl;var b6;let Af=b6=class extends ae{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new b6({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([p({type:it,json:{type:[mr],write:!0}})],Af.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],Af.prototype,"label",void 0),c([p({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Af.prototype,"value",void 0),c([ye("value")],Af.prototype,"writeValue",null),Af=b6=c([R("esri.renderers.visualVariables.support.ColorStop")],Af);const PFe=Af;var w6;let Rf=w6=class extends Qx{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new w6({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([p({readOnly:!0})],Rf.prototype,"cache",null),c([p({type:["color"],json:{type:["colorInfo"]}})],Rf.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Rf.prototype,"normalizationField",void 0),c([p({type:[PFe],json:{write:!0}})],Rf.prototype,"stops",null),Rf=w6=c([R("esri.renderers.visualVariables.ColorVariable")],Rf);const Aue=Rf;var _6;let ap=_6=class extends ae{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return O_(t.transparency)}writeOpacity(e,t,r){t[r]=hk(e)}clone(){return new _6({label:this.label,opacity:this.opacity,value:this.value})}};c([p({type:String,json:{write:!0}})],ap.prototype,"label",void 0),c([p({type:Number,json:{type:mr,write:{target:"transparency"}}})],ap.prototype,"opacity",void 0),c([ue("opacity",["transparency"])],ap.prototype,"readOpacity",null),c([ye("opacity")],ap.prototype,"writeOpacity",null),c([p({type:Number,json:{write:!0}})],ap.prototype,"value",void 0),ap=_6=c([R("esri.renderers.visualVariables.support.OpacityStop")],ap);const AFe=ap;var x6;let Lf=x6=class extends Qx{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new x6({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([p({readOnly:!0})],Lf.prototype,"cache",null),c([p({type:["opacity"],json:{type:["transparencyInfo"]}})],Lf.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Lf.prototype,"normalizationField",void 0),c([p({type:[AFe],json:{write:!0}})],Lf.prototype,"stops",null),Lf=x6=c([R("esri.renderers.visualVariables.OpacityVariable")],Lf);const Rue=Lf;var S6;let Sc=S6=class extends Qx{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,n){if(n!=null&&n.messages){const i=`visualVariables[${this.index}]`;n.messages.push(new q("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:n}))}}clone(){var e;return new S6({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};c([p({readOnly:!0})],Sc.prototype,"cache",null),c([p({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Sc.prototype,"axis",void 0),c([p({type:["rotation"],json:{type:["rotationInfo"]}})],Sc.prototype,"type",void 0),c([p({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Sc.prototype,"rotationType",void 0),c([p({type:String,json:{write:!0}})],Sc.prototype,"valueExpressionTitle",void 0),c([ye("web-scene","valueExpressionTitle")],Sc.prototype,"writeValueExpressionTitleWebScene",null),Sc=S6=c([R("esri.renderers.visualVariables.RotationVariable")],Sc);const Lue=Sc;function RFe(e){return Bt(e)}var $6;let lp=$6=class extends ae{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new $6({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};c([p({type:String,json:{write:!0}})],lp.prototype,"label",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],lp.prototype,"size",void 0),c([p({type:Number,json:{write:!0}})],lp.prototype,"value",void 0),c([p({type:Boolean,json:{write:!1}})],lp.prototype,"useMinValue",void 0),c([p({type:Boolean,json:{write:!1}})],lp.prototype,"useMaxValue",void 0),lp=$6=c([R("esri.renderers.visualVariables.support.SizeStop")],lp);const LT=lp;var T6;let jT=T6=class extends Pue{constructor(){super(...arguments),this.customValues=null}clone(){var e;return new T6({title:this.title,showLegend:this.showLegend,customValues:(e=this.customValues)==null?void 0:e.slice(0)})}};c([p({type:[Number],json:{write:!0}})],jT.prototype,"customValues",void 0),jT=T6=c([R("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],jT);const LFe=jT;var ed,ai;function Xg(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function z_(e){return e!=null&&!isNaN(e)&&isFinite(e)}function jue(e){return e.valueExpression?ed.Expression:e.field&&typeof e.field=="string"?ed.Field:ed.Unknown}function jFe(e,t){const r=t||jue(e),n=e.valueUnit||"unknown";return r===ed.Unknown?ai.Constant:e.stops?ai.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?ai.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?ai.Proportional:ai.Additive:ai.Identity:ai.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(ed||(ed={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(ai||(ai={}));const iD={unknown:1,inches:Xo(1,"meters","inches"),feet:Xo(1,"meters","feet"),"us-feet":Xo(1,"meters","us-feet"),yards:Xo(1,"meters","yards"),miles:Xo(1,"meters","miles"),"nautical-miles":Xo(1,"meters","nautical-miles"),millimeters:Xo(1,"meters","millimeters"),centimeters:Xo(1,"meters","centimeters"),decimeters:Xo(1,"meters","decimeters"),meters:Xo(1,"meters","meters"),kilometers:Xo(1,"meters","kilometers"),"decimal-degrees":1/dMe(1,"meters",bn.radius)},Nue=()=>ie.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),Ok=e=>Nue().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),Pk=()=>Nue().error("Use of arcade expressions requires an arcade context"),Eq=new Uo,NT=Math.PI,Fue=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Due(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void Ok("ColorVariable");const i=typeof t=="number",s=i?null:t,o=s==null?void 0:s.attributes;let a=i?t:null;const l=n.field,{ipData:u,hasExpression:d}=n.cache;let h=n.cache.compiledFunc;if(!l&&!d){const g=n.stops;return g&&g[0]&&g[0].color}if(typeof a!="number")if(d){if((r==null?void 0:r.arcade)==null)return void Pk();const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),_=v.createExecContext(s,b,r.timeZone);if(!h){const x=v.createSyntaxTree(n.valueExpression);h=v.createFunction(x),n.cache.compiledFunc=h}a=v.executeFunction(h,_)}else o&&(a=o[l]);const f=n.normalizationField,y=o!=null&&f!=null?parseFloat(o[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const g=sD(a,u);if(g){const v=g[0],b=g[1],_=v===b?n.stops[v].color:it.blendColors(n.stops[v].color,n.stops[b].color,g[2],r!=null?r.color:void 0);return new it(_)}}}function zue(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void Ok("OpacityVariable");const i=typeof t=="number",s=i?null:t,o=s==null?void 0:s.attributes;let a=i?t:null;const l=n.field,{ipData:u,hasExpression:d}=n.cache;let h=n.cache.compiledFunc;if(!l&&!d){const g=n.stops;return g&&g[0]&&g[0].opacity}if(typeof a!="number")if(d){if((r==null?void 0:r.arcade)==null)return void Pk();const g={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,b=v.getViewInfo(g),_=v.createExecContext(s,b,r.timeZone);if(!h){const x=v.createSyntaxTree(n.valueExpression);h=v.createFunction(x),n.cache.compiledFunc=h}a=v.executeFunction(h,_)}else o&&(a=o[l]);const f=n.normalizationField,y=o!=null&&f!=null?parseFloat(o[f]):void 0;if(a!=null&&(!f||i||!isNaN(y)&&y!==0)){isNaN(y)||i||(a/=y);const g=sD(a,u);if(g){const v=g[0],b=g[1];if(v===b)return n.stops[v].opacity;{const _=n.stops[v].opacity;return _+(n.stops[b].opacity-_)*g[2]}}}}function Vue(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void Ok("RotationVariable");const i=n.axis||"heading",s=i==="heading"&&n.rotationType==="arithmetic"?90:0,o=i==="heading"&&n.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a==null?void 0:a.attributes,u=n.field,{hasExpression:d}=n.cache;let h=n.cache.compiledFunc,f=0;if(!u&&!d)return f;if(d){if((r==null?void 0:r.arcade)==null)return void Pk();const y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,v=g.getViewInfo(y),b=g.createExecContext(a,v,r.timeZone);if(!h){const _=g.createSyntaxTree(n.valueExpression);h=g.createFunction(_),n.cache.compiledFunc=h}f=g.executeFunction(h,b)}else l&&(f=l[u]||0);return f=typeof f!="number"||isNaN(f)?null:s+o*f,f}function NFe(e,t,r){const n=typeof t=="number",i=n?null:t,s=i==null?void 0:i.attributes;let o=n?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const d=r!=null?r.scale:void 0,h=r!=null?r.view:void 0;o=d==null||h==="3d"?FFe(e):d}else if(!n)switch(e.inputValueType){case ed.Expression:{if((r==null?void 0:r.arcade)==null)return void Pk();const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,f=h.getViewInfo(d),y=h.createExecContext(i,f,r.timeZone);if(!l){const g=h.createSyntaxTree(e.valueExpression);l=h.createFunction(g),e.cache.compiledFunc=l}o=h.executeFunction(l,y);break}case ed.Field:s&&(o=s[e.field]);break;case ed.Unknown:o=null}if(!z_(o))return null;if(n||!e.normalizationField)return o;const u=s?parseFloat(s[e.normalizationField]):null;return z_(u)&&u!==0?o/u:null}function FFe(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function Ak(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void Ok("SizeVariable");const i=Uue(NFe(n,t,r),n,t,r,n.cache.ipData);return i==null||isNaN(i)?0:i}function ao(e,t,r){return e==null?null:Xg(e)?Ak(e,t,r):z_(e)?e:null}function Bue(e,t,r){return z_(r)&&e>r?r:z_(t)&&e<t?t:e}function DFe(e,t,r,n){return e+((ao(t.minSize,r,n)||t.minDataValue)??0)}function zFe(e,t,r){const n=e.stops;let i=(n==null?void 0:n.length)&&n[0].size;return i==null&&(i=e.minSize),ao(i,t,r)}function VFe(e,t,r,n){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=ao(t.minSize,r,n),o=ao(t.maxSize,r,n),a=n!=null?n.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return o;if(s==null||o==null)return null;if(t.scaleBy==="area"&&a){const l=a==="circle",u=l?NT*(s/2)**2:s*s,d=u+i*((l?NT*(o/2)**2:o*o)-u);return l?2*Math.sqrt(d/NT):Math.sqrt(d)}return s+i*(o-s)}function BFe(e,t,r,n){const i=n!=null?n.shape:void 0,s=e/t.minDataValue,o=ao(t.minSize,r,n),a=ao(t.maxSize,r,n);let l=null;return l=i==="circle"?2*Math.sqrt(s*(o/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(s*o**2):s*o,Bue(l,o,a)}function UFe(e,t,r,n,i){var l,u,d;const[s,o,a]=sD(e,i);if(s===o)return ao((l=t.stops)==null?void 0:l[s].size,r,n);{const h=ao((u=t.stops)==null?void 0:u[s].size,r,n);return h+(ao((d=t.stops)==null?void 0:d[o].size,r,n)-h)*a}}function GFe(e,t,r,n){const i=((n==null?void 0:n.resolution)??1)*iD[t.valueUnit],s=ao(t.minSize,r,n),o=ao(t.maxSize,r,n),{valueRepresentation:a}=t;let l=null;return l=a==="area"?2*Math.sqrt(e/NT)/i:a==="radius"||a==="distance"?2*e/i:e/i,Bue(l,s,o)}function Uue(e,t,r,n,i){switch(t.transformationType){case ai.Additive:return DFe(e,t,r,n);case ai.Constant:return zFe(t,r,n);case ai.ClampedLinear:return VFe(e,t,r,n);case ai.Proportional:return BFe(e,t,r,n);case ai.Stops:return UFe(e,t,r,n,i);case ai.RealWorldSize:return GFe(e,t,r,n);case ai.Identity:return e;case ai.Unknown:return null}}function WFe(e,t,r){const{isScaleDriven:n}=e.cache;if(!(n&&r==="3d"||t))return null;const i={scale:t,view:r};let s=ao(e.minSize,Eq,i),o=ao(e.maxSize,Eq,i);if(s!=null||o!=null){if(s>o){const a=o;o=s,s=a}return{minSize:s,maxSize:o}}}function qFe(e,t,r){if(!e.visualVariables)return;const n=[],i=[],s=[],o=[],a=[];for(const l of e.visualVariables)switch(l.type){case"color":i.push(l);break;case"opacity":s.push(l);break;case"rotation":a.push(l);break;case"size":o.push(l)}return i.forEach(l=>{const u=Due(l,t,r);n.push({variable:l,value:u})}),s.forEach(l=>{const u=zue(l,t,r);n.push({variable:l,value:u})}),a.forEach(l=>{const u=Vue(l,t,r);n.push({variable:l,value:u})}),o.forEach(l=>{const u=Ak(l,t,r);n.push({variable:l,value:u})}),n.filter(l=>l.value!=null)}function sD(e,t){if(!t)return;let r=0,n=t.length-1;return t.some((i,s)=>e<i?(n=s,!0):(r=s,!1)),[r,n,(e-t[r])/(t[n]-t[r])]}function HFe(e,t,r){const n=["proportional","proportional","proportional"];for(const i of e){const s=i.useSymbolValue?"symbol-value":Ak(i,t,r);switch(i.axis){case"width":n[0]=s;break;case"depth":n[1]=s;break;case"height":n[2]=s;break;case"width-and-depth":n[0]=s,n[1]=s;break;case"all":case void 0:case null:n[0]=s,n[1]=s,n[2]=s;break;default:i.axis}}return n}const mSt=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:HFe,getColor:Due,getOpacity:zue,getRotationAngle:Vue,getSize:Ak,getSizeForValue:Uue,getSizeFromNumberOrVariable:ao,getSizeRangeAtScale:WFe,getVisualVariableValues:qFe,viewScaleRE:Fue},Symbol.toStringTag,{value:"Module"}));var M6;const z2=new kt({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),C6=new kt({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function kq(e){if(e!=null)return typeof e=="string"||typeof e=="number"?RFe(e):e.type==="size"?Xg(e)?e:(delete(e={...e}).type,new sr(e)):void 0}function Iq(e,t,r){if(typeof e!="object")return e;const n=new sr;return n.read(e,r),n}let sr=M6=class extends Qx{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Fue.test(this.valueExpression)}}set index(e){Xg(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Xg(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return jue(this)}set maxDataValue(e){e&&this.stops&&(ie.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ie.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return kq(e)}readMaxSize(e,t,r){return Iq(e,t,r)}set minDataValue(e){e&&this.stops&&(ie.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ie.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return kq(e)}readMinSize(e,t,r){return Iq(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(ie.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return jFe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,n){if(e==="$view.scale"){if(n!=null&&n.messages){const i=this.index,s=typeof i=="string"?i:`visualVariables[${i}]`;n.messages.push(new q("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:n}))}}else t[r]=e}readValueUnit(e){return e?C6.read(e):null}clone(){var e,t;return new M6({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Xg(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Xg(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(r=>r.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===ai.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===ai.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),r=e.length;for(let n=0;n<r;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};c([p({readOnly:!0})],sr.prototype,"cache",null),c([p({type:z2.apiValues,json:{type:z2.jsonValues,origins:{"web-map":{read:!1}},read:z2.read,write:z2.write}})],sr.prototype,"axis",void 0),c([p()],sr.prototype,"index",null),c([p({type:String,readOnly:!0})],sr.prototype,"inputValueType",null),c([p({type:LFe,json:{write:!0}})],sr.prototype,"legendOptions",void 0),c([p({type:Number,value:null,json:{write:!0}})],sr.prototype,"maxDataValue",null),c([p({type:Number,value:null,json:{write:!0}})],sr.prototype,"maxSize",null),c([tr("maxSize")],sr.prototype,"castMaxSize",null),c([ue("maxSize")],sr.prototype,"readMaxSize",null),c([p({type:Number,value:null,json:{write:!0}})],sr.prototype,"minDataValue",null),c([p({type:Number,value:null,json:{write:!0}})],sr.prototype,"minSize",null),c([tr("minSize")],sr.prototype,"castMinSize",null),c([ue("minSize")],sr.prototype,"readMinSize",null),c([p({type:String,json:{write:!0}})],sr.prototype,"normalizationField",void 0),c([p({readOnly:!0})],sr.prototype,"arcadeRequired",null),c([p({type:String})],sr.prototype,"scaleBy",void 0),c([p({type:[LT],value:null,json:{write:!0}})],sr.prototype,"stops",null),c([p({type:["outline"],json:{write:!0}})],sr.prototype,"target",void 0),c([p({type:String,readOnly:!0})],sr.prototype,"transformationType",null),c([p({type:["size"],json:{type:["sizeInfo"]}})],sr.prototype,"type",void 0),c([p({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],sr.prototype,"useSymbolValue",void 0),c([p({type:String,json:{write:!0}})],sr.prototype,"valueExpression",void 0),c([ue("valueExpression",["valueExpression","expression"])],sr.prototype,"readValueExpression",null),c([ye("web-scene","valueExpression")],sr.prototype,"writeValueExpressionWebScene",null),c([p({type:["radius","diameter","area","width","distance"],json:{write:!0}})],sr.prototype,"valueRepresentation",void 0),c([p({type:C6.apiValues,json:{write:C6.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],sr.prototype,"valueUnit",void 0),c([ue("valueUnit")],sr.prototype,"readValueUnit",null),sr=M6=c([R("esri.renderers.visualVariables.SizeVariable")],sr);const oD=sr,ZFe={color:Aue,size:oD,opacity:Rue,rotation:Lue},YFe=new kt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),JFe=/^\[([^\]]+)\]$/i;let FT=class extends Be{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t&&t.filter(r=>!!r),t==null?void 0:t.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,n)=>{let i=null;return i=r.target===n.target?0:r.target?1:-1,i});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,n){const{rotationExpression:i,rotationType:s}=r,o=i==null?void 0:i.match(JFe),a=o==null?void 0:o[1];if(a&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:a})),t)return t.map(l=>{const u=YFe.read(l.type),d=ZFe[u];d||(ie.getLogger(this).warn(`Unknown variable type: ${u}`),n!=null&&n.messages&&n.messages.push(new Da("visual-variable:unsupported",`visualVariable of type '${u}' is not supported`,{definition:l,context:n})));const h=new d;return h.read(l,n),h})}writeVariables(t,r){const n=[];for(const i of t){const s=i.toJSON(r);s&&n.push(s)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([p()],FT.prototype,"visualVariables",null),FT=c([R("esri.renderers.visualVariables.VisualVariableFactory")],FT);const KFe=FT,XFe={base:Qx,key:"type",typeMap:{opacity:Rue,color:Aue,rotation:Lue,size:oD}},Rv=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new KFe}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,i){return this._vvFactory.readVariables(r,n,i)}writeVisualVariables(r,n,i,s){n[i]=this._vvFactory.writeVariables(r,s)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){const i=this.visualVariables;return i?i.filter(s=>s.type===r&&(typeof n=="string"?s.target===n:n!==!1||!s.target)):[]}async collectVVRequiredFields(r,n){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const s of i)s&&(s.field&&Rs(r,n,s.field),s.normalizationField&&Rs(r,n,s.normalizationField),s.valueExpression&&(QFe(s.valueExpression,r,n)||await fs(r,n,s.valueExpression)))}};return c([p({types:[XFe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([ue("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([ye("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([R("esri.renderers.mixins.VisualVariablesMixin")],t),t};function QFe(e,t,r){const n=IFe(e);return n!=null&&(Rs(t,r,n),!0)}const aD=[252,146,31,255],eDe=[153,153,153,255],tDe={type:"esriSMS",style:"esriSMSCircle",size:6,color:aD,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},rDe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:aD},nDe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},iDe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},sDe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},oDe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},aDe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},lDe=Zu.fromJSON(tDe),uDe=co.fromJSON(rDe),cDe=gd.fromJSON(nDe),dDe=dy.fromJSON(iDe),gSt=Zu.fromJSON(sDe),vSt=co.fromJSON(oDe),bSt=gd.fromJSON(aDe);Hc.fromSimpleMarkerSymbol(lDe);cy.fromSimpleLineSymbol(uDe);Lh.fromSimpleFillSymbol(cDe);new qx({symbolLayers:new Ce([new uy({material:{color:aD},edges:new Foe({size:Ua(1),color:new it(eDe)})})])});const pDe=new cy({symbolLayers:new Ce([new Ev({material:{color:new it([0,0,0])},size:Ua(1)})])}),hDe=new Lh({symbolLayers:new Ce([new uy({outline:{color:new it([0,0,0]),size:Ua(1)}})])}),Ny={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function fDe(e,t=Ny){var l,u,d,h;if(!e)return{symbol:null};const{retainId:r=Ny.retainId,ignoreDrivers:n=Ny.ignoreDrivers,hasLabelingContext:i=Ny.hasLabelingContext,retainCIM:s=Ny.retainCIM,cimFallbackEnabled:o=Ny.cimFallbackEnabled}=t;let a=null;if(nW(e)||e instanceof py)a=e.clone();else if(e.type==="cim"){const f=(u=(l=e.data)==null?void 0:l.symbol)==null?void 0:u.type;switch(f){case"CIMPointSymbol":a=s?e.clone():Hc.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=pDe.clone(),(d=t==null?void 0:t.logWarning)==null||d.call(t,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=hDe.clone(),(h=t==null?void 0:t.logWarning)==null||h.call(t,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new q("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${f||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof co)a=cy.fromSimpleLineSymbol(e);else if(e instanceof Zu)a=Hc.fromSimpleMarkerSymbol(e);else if(e instanceof Ov)a=Hc.fromPictureMarkerSymbol(e);else if(e instanceof gd)a=t.geometryType&&t.geometryType==="mesh"?qx.fromSimpleFillSymbol(e):Lh.fromSimpleFillSymbol(e);else{if(!(e instanceof dy))return{error:new q("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?_k.fromTextSymbol(e):Hc.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),n&&nW(a)&&a.symbolLayers.forEach(f=>f.ignoreDrivers=!0),{symbol:a}}function K3(e,t,r,n){const i=Gue(e,{},{context:n,isLabelSymbol:!1});i!=null&&(t[r]=i)}function Oq(e,t,r,n){const i=Gue(e,{},{context:n,isLabelSymbol:!0});i!=null&&(t[r]=i)}function Pq(e){return e instanceof Iv||e instanceof py}function Gue(e,t,r){if(e==null)return null;const{context:n,isLabelSymbol:i}=r,s=n==null?void 0:n.origin,o=n==null?void 0:n.messages;if(s==="web-scene"&&!Pq(e)){const a=fDe(e,{retainCIM:!0,hasLabelingContext:i});return a.symbol!=null?a.symbol.write(t,n):(o==null||o.push(new q("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return(s==="web-map"||s==="portal-item"&&!jse(n==null?void 0:n.layer))&&Pq(e)?(o==null||o.push(new q("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function wSt(e,t){return QAe(e,null,t)}const Rk={types:hae,json:{write:{writer:K3},origins:{"web-scene":{types:iW,write:{writer:K3},read:{reader:wv({types:iW})}}}}},lD=t9({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},Rk),Wue={types:{base:Ui,key:"type",typeMap:{"simple-fill":xm.typeMap["simple-fill"],"picture-fill":xm.typeMap["picture-fill"],"polygon-3d":xm.typeMap["polygon-3d"]}},json:{write:{writer:K3},origins:{"web-scene":{type:Lh,write:{writer:K3}}}}},DT={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var E6;let up=E6=class extends ae{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new E6({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([p({type:String,json:{write:!0}})],up.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],up.prototype,"label",void 0),c([p({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],up.prototype,"minValue",void 0),c([p({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],up.prototype,"maxValue",void 0),c([p(lD)],up.prototype,"symbol",void 0),up=E6=c([R("esri.renderers.support.ClassBreakInfo")],up);const X3=up;var k6;const que="log",zT="percent-of-total",VT="field",V2=new kt({esriNormalizeByLog:que,esriNormalizeByPercentOfTotal:zT,esriNormalizeByField:VT}),mDe=Xr(X3);let Hn=k6=class extends Rv(vd){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let n=t.minValue;return e.map(i=>{const s=new X3;return s.read(i,r),s.minValue==null&&(s.minValue=n),s.maxValue==null&&(s.maxValue=s.minValue),n=s.maxValue,s})}writeClassBreakInfos(e,t,r,n){const i=e.map(s=>s.write({},n));this._areClassBreaksConsecutive()&&i.forEach(s=>delete s.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(ie.getLogger(this).error(".field: field must be a string value"),null):Ox(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&VT||r&&zT||null,t&&r&&ie.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==VT&&e!==zT||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let n=null;n=typeof e=="number"?new X3({minValue:e,maxValue:t,symbol:fae(r)}):mDe(W(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let n=0;n<r;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&ie.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await Gm()});const n=this.getBreakIndex(e,r);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void ie.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const i=await Gm(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}const n=this.getBreakIndex(e,r);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,i)=>n+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new k6({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:W(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:W(this.visualVariables),legendOptions:W(this.legendOptions),authoringInfo:W(this.authoringInfo)})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),fs(e,t,this.valueExpression)];Rs(e,t,this.field),Rs(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s,timeZone:o}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const u=s.arcadeUtils;if(!l){const h=u.createSyntaxTree(a);l=u.createFunction(h),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const d=u.executeFunction(l,u.createExecContext(e,u.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),o));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,n=this.normalizationType;let i=parseFloat(r[t]);if(n){const s=this.normalizationTotal,o=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(n===que)i=Math.log(i)*Math.LOG10E;else if(n!==zT||s==null||isNaN(s)){if(n===VT&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/s*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};c([p(Wue)],Hn.prototype,"backgroundFillSymbol",void 0),c([p({type:[X3]})],Hn.prototype,"classBreakInfos",void 0),c([ue("classBreakInfos")],Hn.prototype,"readClassBreakInfos",null),c([ye("classBreakInfos")],Hn.prototype,"writeClassBreakInfos",null),c([p({type:String,json:{write:!0}})],Hn.prototype,"defaultLabel",void 0),c([p(Rk)],Hn.prototype,"defaultSymbol",void 0),c([p({type:String,json:{write:!0}})],Hn.prototype,"field",void 0),c([tr("field")],Hn.prototype,"castField",null),c([p({type:Boolean})],Hn.prototype,"isMaxInclusive",void 0),c([p({type:M0,json:{write:!0}})],Hn.prototype,"legendOptions",void 0),c([p({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Hn.prototype,"minValue",null),c([p({type:String,json:{write:!0}})],Hn.prototype,"normalizationField",void 0),c([p({type:Number,cast:e=>va(e),json:{write:!0}})],Hn.prototype,"normalizationTotal",void 0),c([p({type:V2.apiValues,value:null,json:{type:V2.jsonValues,read:V2.read,write:V2.write}})],Hn.prototype,"normalizationType",null),c([Ze({classBreaks:"class-breaks"})],Hn.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Hn.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],Hn.prototype,"valueExpressionTitle",void 0),Hn=k6=c([R("esri.renderers.ClassBreaksRenderer")],Hn);const Hue=Hn,I6=-3,yDe=I6-1;var Nc;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Nc||(Nc={}));let _St=class{constructor(t,r,n){this.name=t,this._storage=r,this.id=vDe+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),n&&(this._storage.registerRemoveFunc(this.id,n),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,r,n,i=0){this._storage.put(this,t,r,n,i)}pop(t){const r=this._storage.pop(this,t);return r===void 0?++this._miss:++this._hit,r}get(t){const r=this._storage.get(this,t);return r===void 0?++this._miss:++this._hit,r}peek(t){return this._storage.peek(this,t)}updateSize(t,r,n){this._storage.updateSize(this,t,r,n)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}},gDe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new qM,this._users=new qM}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){const n=this._db.get(t.id+r);return(n==null?void 0:n.size)??0}put(t,r,n,i,s){r=t.id+r;const o=this._db.get(r);if(o&&(this._size-=o.size,t.size-=o.size,this._db.delete(r),o.entry!==n&&this._notifyRemove(r,o.entry,o.size,Nc.ALL)),i>this._maxSize)return void this._notifyRemove(r,n,i,Nc.ALL);if(n===void 0)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return console.warn(`Refusing to cache entry with size ${i} for key ${r}`),void this._notifyRemove(r,n,0,Nc.ALL);const a=1+Math.max(s,yDe)-I6;this._db.set(r,new bDe(n,i,a)),this._size+=i,t.size+=i,this._checkSize()}updateSize(t,r,n,i){r=t.id+r;const s=this._db.get(r);if(s&&s.entry===n){for(this._size-=s.size,t.size-=s.size;i>this._maxSize;){const o=this._notifyRemove(r,n,i,Nc.SOME);if(!(o!=null&&o>0))return void this._db.delete(r);i=o}s.size=i,this._size+=i,t.size+=i,this._checkSize()}}pop(t,r){r=t.id+r;const n=this._db.get(r);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(r),++this._hit,n.entry;++this._miss}get(t,r){r=t.id+r;const n=this._db.get(r);if(n!==void 0)return this._db.delete(r),n.lives=n.lifetime,this._db.set(r,n),++this._hit,n.entry;++this._miss}peek(t,r){const n=this._db.get(t.id+r);return n?++this._hit:++this._miss,n==null?void 0:n.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((o,a)=>{const l=o.lifetime;n[l]=(n[l]||0)+o.size,this._users.forAll(u=>{const{id:d,name:h}=u;if(a.startsWith(d)){const f=r[h]||0;r[h]=f+o.size}})});const i={};this._users.forAll(o=>{const a=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const l=r[a]||0;r[a]=l,i[a]=Math.round(100*o.hitRate)+"%"}else i[a]="0%"});const s=Object.keys(r);s.sort((o,a)=>r[a]-r[o]),s.forEach(o=>t[o]=Math.round(r[o]/2**20)+"MB / "+i[o]);for(let o=n.length-1;o>=0;--o){const a=n[o];a&&(t["Priority "+(o+I6-1)]=Math.round(a/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const r=t.id;this._db.forEach((n,i)=>{i.startsWith(r)&&(this._size-=n.size,this._db.delete(i),this._notifyRemove(i,n.entry,n.size,Nc.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,Nc.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,n,i){let s;return this._removeFuncs.some(o=>{if(t.startsWith(o[0])){const a=o[1](r,i,n);return typeof a=="number"&&(s=a),!0}return!1}),s}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const r=t??this;if(r.maxSize<0||r.size<=r.maxSize)return;const n=t==null?void 0:t.id;let i=!0;for(;i;){i=!1;for(const[s,o]of this._db)if(o.lifetime===0&&(!n||s.startsWith(n))){if(this._purgeItem(s,o,t),r.size<=.9*r.maxSize)return;i||(i=this._db.has(s))}}for(const[s,o]of this._db)if((!n||s.startsWith(n))&&(this._purgeItem(s,o,t),r.size<=.9*r.maxSize))return}_purgeItem(t,r,n=this._users.find(i=>t.startsWith(i.id))){if(this._db.delete(t),r.lives<=1){this._size-=r.size,n&&(n.size-=r.size);const i=this._notifyRemove(t,r.entry,r.size,Nc.SOME);i!=null&&i>0&&(this._size+=i,n&&(n.size+=i),r.lives=r.lifetime,r.size=i,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}},vDe=0,bDe=class{constructor(t,r,n){this.entry=t,this.size=r,this.lifetime=n,this.lives=n}},wDe=class{constructor(t,r){this._storage=new gDe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,n=1){this._storage.put(this,t,r,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},_De=class O6{constructor(t,r,n=""){this.major=t,this.minor=r,this._context=n}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}since(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",n=this._context&&this._context+" ";throw new q(r+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new O6(this.major,this.minor,this._context)}static parse(t,r=""){const[n,i]=t.split("."),s=/^\s*\d+\s*$/;if(!(n!=null&&n.match)||!s.test(n))throw new q((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(i!=null&&i.match)||!s.test(i))throw new q((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const o=parseInt(n,10),a=parseInt(i,10);return new O6(o,a,r)}},Lk=class{};function xDe(e){return e instanceof xv?e===Lk.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function CSt(e){return xDe(e)?Lk.instance:e}Lk.instance=new Bo("Etc/UTC");function SDe(e){return"timeZone"in e}function $De(e){return"timeZone"in e}function TDe(e){return"dateFieldsTimeZone"in e}const MDe=new Map;let Zue=class BT{static fromJSON(t){return new BT(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new BT(t.fields??[],Rq(t))}static fromLayerJSON(t){return new BT(t.fields??[],Rq(t))}constructor(t=[],r){var i;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;const n=[];for(const s of this.fields){const o=s==null?void 0:s.name,a=Aq(o);if(o&&a){const l=Yf(o);this._fieldsMap.set(o,s),this._fieldsMap.set(l,s),this._normalizedFieldsMap.set(a,s),n.push(`${l}:${s.type}:${(i=this._timeZoneByFieldName)==null?void 0:i.get(o)}`),W4e(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):Coe(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),YG(s)||JG(s)||(s.editable=s.editable==null||!!s.editable,s.nullable=s.nullable==null||!!s.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)YG(t)||JG(t)||t.nullable||P4e(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(Yf(t))??this._normalizedFieldsMap.get(Aq(t)),r&&this._fieldsMap.set(t,r),r)}getTimeZone(t){const r=this.get(t&&typeof t!="string"?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):r.type==="date"||r.type==="esriFieldTypeDate"?(ie.getLogger("esri.layers.support.FieldsIndex").error(new q("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),hh):Yue.has(r.type)?Bm:null:null}getLuxonTimeZone(t){const r=this.getTimeZone(t);return r?r===Bm?Lk.instance:r===hh?_i.utcInstance:o9(MDe,r,()=>Bo.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return q4e(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var r;return((r=this.get(t))==null?void 0:r.name)??void 0}toJSON(){return{fields:this.fields.map(t=>i3(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Yf(e){return e.trim().toLowerCase()}function Aq(e){var t;return((t=y4e(e))==null?void 0:t.toLowerCase())??""}const Yue=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function Rq(e){const t=new Map;if(!e.fields)return t;const r=e.datesInUnknownTimezone===!0,{timeInfo:n,editFieldsInfo:i}=e,s=(n?"startField"in n?n.startField:n.startTimeField:"")??"",o=(n?"endField"in n?n.endField:n.endTimeField:"")??"",a=TDe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?Y$(e.dateFieldsTimeReference):null,l=i?SDe(i)?i.timeZone??a:i.dateFieldsTimeReference?Y$(i.dateFieldsTimeReference):a??hh:null,u=n?$De(n)?n.timeZone??a:n.timeReference?Y$(n.timeReference):a:null,d=new Map([[Yf((i==null?void 0:i.creationDateField)??""),l],[Yf((i==null?void 0:i.editDateField)??""),l],[Yf(s),u],[Yf(o),u]]);for(const{name:h,type:f}of e.fields)if(Yue.has(f))t.set(h,Bm);else if(f!=="date"&&f!=="esriFieldTypeDate")t.set(h,null);else if(r)t.set(h,Bm);else{const y=d.get(Yf(h??""))??a;t.set(h,y)}return t}function CDe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function EDe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function kDe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function IDe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Jue(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Kue(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Xue(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function ODe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function PDe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function ADe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function RDe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function LDe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function jDe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function NDe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Que(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function ece(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function tce(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function rce(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function FDe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function DDe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function zDe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=s*o),e}function VDe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function nce(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function BDe(e,t){const r=WE;let n,i,s,o,a,l;t=t||1;do n=2*r()-1,i=2*r()-1,a=n*n+i*i;while(a>=1);do s=2*r()-1,o=2*r()-1,l=s*s+o*o;while(l>=1);const u=Math.sqrt((1-a)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*s*u,e[3]=t*o*u,e}function UDe(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,e}function GDe(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2],u=r[3],d=u*n+a*s-l*i,h=u*i+l*n-o*s,f=u*s+o*i-a*n,y=-o*n-a*i-l*s;return e[0]=d*u+y*-o+h*-l-f*-a,e[1]=h*u+y*-a+f*-o-d*-l,e[2]=f*u+y*-l+d*-a-h*-o,e[3]=t[3],e}function WDe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function qDe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function HDe(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=t[0],a=t[1],l=t[2],u=t[3],d=As();return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-u)<=d*Math.max(1,Math.abs(s),Math.abs(u))}const ZDe=Jue,YDe=Kue,JDe=Xue,KDe=Que,XDe=ece,QDe=tce,e7e=rce;Object.freeze(Object.defineProperty({__proto__:null,add:IDe,ceil:ODe,copy:CDe,copyVec3:EDe,dist:KDe,distance:Que,div:JDe,divide:Xue,dot:VDe,equals:HDe,exactEquals:qDe,floor:PDe,inverse:DDe,len:QDe,length:tce,lerp:nce,max:RDe,min:ADe,mul:YDe,multiply:Kue,negate:FDe,normalize:zDe,random:BDe,round:LDe,scale:jDe,scaleAndAdd:NDe,set:kDe,sqrDist:XDe,sqrLen:e7e,squaredDistance:ece,squaredLength:rce,str:WDe,sub:ZDe,subtract:Jue,transformMat4:UDe,transformQuat:GDe},Symbol.toStringTag,{value:"Module"}));function jk(){return[0,0,0,0]}function t7e(e){return[e[0],e[1],e[2],e[3]]}function Lv(e,t,r,n){return[e,t,r,n]}function r7e(e,t=jk()){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function n7e(e,t){return new Float64Array(e,t,4)}function ice(){return jk()}function sce(){return Lv(1,1,1,1)}function oce(){return Lv(1,0,0,0)}function ace(){return Lv(0,1,0,0)}function lce(){return Lv(0,0,1,0)}function uce(){return Lv(0,0,0,1)}const i7e=ice(),s7e=sce(),o7e=oce(),a7e=ace(),l7e=lce(),u7e=uce();Object.freeze(Object.defineProperty({__proto__:null,ONES:s7e,UNIT_W:u7e,UNIT_X:o7e,UNIT_Y:a7e,UNIT_Z:l7e,ZEROS:i7e,clone:t7e,create:jk,createView:n7e,fromArray:r7e,fromValues:Lv,ones:sce,unitW:uce,unitX:oce,unitY:ace,unitZ:lce,zeros:ice},Symbol.toStringTag,{value:"Module"}));function cce(e){return"r"in e&&"g"in e&&"b"in e}function dce(e){return"h"in e&&"s"in e&&"v"in e}function pce(e){return"l"in e&&"a"in e&&"b"in e}function hce(e){return"l"in e&&"c"in e&&"h"in e}function c7e(e){return"x"in e&&"y"in e&&"z"in e}const d7e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],p7e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function fce(e,t){const r=[];let n,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,o=e[0].length;let a=0;for(n=0;n<s;n++){for(a=0,i=0;i<o;i++)a+=e[n][i]*t[i];r.push(a)}return r}function mce(e){const t=[e.r/255,e.g/255,e.b/255].map(n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4),r=fce(d7e,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function uD(e){const t=fce(p7e,[e.x/100,e.y/100,e.z/100]).map(r=>{const n=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(n,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function yce(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function gce(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(n=>n>6/29?n**3:3*(6/29)**2*(n-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function h7e(e){const t=e.l,r=e.a,n=e.b,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s=s>0?s:s+2*Math.PI,{l:t,c:i,h:s}}function f7e(e){const t=e.l,r=e.c,n=e.h;return{l:t,a:r*Math.cos(n),b:r*Math.sin(n)}}function m7e(e){return yce(mce(e))}function y7e(e){return uD(gce(e))}function g7e(e){return h7e(yce(mce(e)))}function v7e(e){return uD(gce(f7e(e)))}function b7e(e){const t=e.r,r=e.g,n=e.b,i=Math.max(t,r,n),s=i-Math.min(t,r,n);let o=i,a=s===0?0:i===t?(r-n)/s%6:i===r?(n-t)/s+2:(t-r)/s+4,l=s===0?0:s/o;return a<0&&(a+=6),a*=60,l*=100,o*=100/255,{h:a,s:l,v:o}}function w7e(e){const t=(e.h+360)%360/60,r=e.s/100,n=e.v/100*255,i=n*r,s=i*(1-Math.abs(t%2-1));let o;switch(Math.floor(t)){case 0:o={r:i,g:s,b:0};break;case 1:o={r:s,g:i,b:0};break;case 2:o={r:0,g:i,b:s};break;case 3:o={r:0,g:s,b:i};break;case 4:o={r:s,g:0,b:i};break;case 5:case 6:o={r:i,g:0,b:s};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+n-i),o.g=Math.round(o.g+n-i),o.b=Math.round(o.b+n-i),o}function cD(e){return cce(e)?e:hce(e)?v7e(e):pce(e)?y7e(e):c7e(e)?uD(e):dce(e)?w7e(e):e}function ESt(e){return dce(e)?e:b7e(cD(e))}function kSt(e){return pce(e)?e:m7e(cD(e))}function ISt(e){return hce(e)?e:g7e(cD(e))}function _7e(e){let{r:t,g:r,b:n,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),r=Math.round(i*r+255*(1-i)),n=Math.round(i*n+255*(1-i))),new it({r:t,g:r,b:n})}function OSt(e,t){const{r,g:n,b:i}=_7e(e);return .2126*r+.7152*n+.0722*i}var Lq;(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(Lq||(Lq={}));const x7e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},P6={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};function PSt(e){return[e.r,e.g,e.b,e.a]}const S7e=` /-,
`;function jq(e){let t=e.length;for(;t--;)if(!S7e.includes(e.charAt(t)))return!1;return!0}function $7e(e,t){const r=[];let n=0,i=-1;do if(i=e.indexOf("[",n),i>=n){if(i>n){const s=e.substr(n,i-n);r.push([s,null,jq(s)])}if(n=i+1,i=e.indexOf("]",n),i>=n){if(i>n){const s=t[e.substr(n,i-n)];s&&r.push([null,s,!1])}n=i+1}}while(i!==-1);if(n<e.length-1){const s=e.substr(n);r.push([s,null,jq(s)])}return r}function T7e(e,t,r,n){let i="",s=null;for(const o of t){const[a,l,u]=o;if(a)u?s=a:(s&&(i+=s,s=null),i+=a);else{let d=l;r!=null&&(d=vce(l,r));const h=e.attributes[d];h&&(s&&(i+=s,s=null),i+=h)}}return M7e(i,n)}function M7e(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function ASt(e,t,r,n,i,s,o=!0){const a=t/i,l=r/s,u=Math.ceil(a/2),d=Math.ceil(l/2);for(let h=0;h<s;h++)for(let f=0;f<i;f++){const y=4*(f+(o?s-h-1:h)*i);let g=0,v=0,b=0,_=0,x=0,S=0,$=0;const C=(h+.5)*l;for(let k=Math.floor(h*l);k<(h+1)*l;k++){const E=Math.abs(C-(k+.5))/d,P=(f+.5)*a,T=E*E;for(let M=Math.floor(f*a);M<(f+1)*a;M++){let O=Math.abs(P-(M+.5))/u;const j=Math.sqrt(T+O*O);j>=-1&&j<=1&&(g=2*j*j*j-3*j*j+1,g>0&&(O=4*(M+k*t),$+=g*e[O+3],b+=g,e[O+3]<255&&(g=g*e[O+3]/250),_+=g*e[O],x+=g*e[O+1],S+=g*e[O+2],v+=g))}}n[y]=_/v,n[y+1]=x/v,n[y+2]=S/v,n[y+3]=$/b}}function C7e(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function RSt(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function LSt(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function jSt(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function NSt(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function E7e(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const FSt=(e,t=0)=>e==null||isNaN(e)?t:e,DSt=(e,t)=>e??t,zSt=e=>e.tintColor?C7e(e.tintColor):[255,255,255,1],VSt=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function BSt(){return Q(()=>import("./geometryEngineJSON-DxnOZnOp.js").then(e=>e.g),__vite__mapDeps([6,7,8]),import.meta.url)}function USt(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function GSt(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function WSt(e){let t="normal",r="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?r="bold":n.includes("light")&&(r="lighter")}return{style:t,weight:r}}function qSt(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function Nq(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=Nq(t);if(r!=null)return r}break;case"CIMTextSymbol":return Nq(e.symbol);case"CIMSolidFill":return e.color}return null}function Fq(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const r of t){const n=Fq(r);if(n!=null)return n}break}case"CIMTextSymbol":return Fq(e.symbol);case"CIMSolidStroke":return e.color}}function Dq(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=Dq(t);if(r!==void 0)return r}break;case"CIMTextSymbol":return Dq(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function HSt(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function ZSt(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function k7e(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const YSt=e=>e.includes("data:image/svg+xml");function JSt(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function dD(e){return e&&e.charAt(0).toLowerCase()+e.substring(1)}function KSt(e,t,r,n,i,s){const{infos:o}=s;let a=1,l=0,u=0,d=0;for(const{offsetX:y,offsetY:g,rotation:v,size:b,frameHeight:_,rotateClockWise:x}of o)u=Bq(y,g,l,a,u),d=Vq(y,g,l,a,d),_&&(a*=b/_),l=Uq(v,x,l);const h=Bq(n,i,l,a,u),f=Vq(n,i,l,a,d);return{size:e*a,rotation:Uq(t,r,l),offsetX:h,offsetY:f}}function I7e(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>I7e(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function XSt(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...x7e[t]];const r=P6[e];if(!r)throw new Error(`InternalError: default value for type ${e}.`);return r[t]}function O7e(e){return e!=null&&e.dashTemplate&&typeof e.dashTemplate=="string"&&(e.dashTemplate=e.dashTemplate.split(" ").map(Number)),e}function A6(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const r of t)if(r.type==="CIMVectorMarker")return A6(r)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const r of t)if(r.symbol)return A6(r.symbol)}}return"Normal"}function QSt(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const n=r.size??P6.CIMVectorMarker.size;n>t&&(t=n);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const n=r.width;n!=null&&n>t&&(t=n);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&E7e(r.markerPlacement)){const n=r.size??P6.CIMVectorMarker.size;n>t&&(t=n)}break;case"CIMPictureFill":{const n=r.height;n!=null&&n>t&&(t=n)}}}return t}}}function vce(e,t){if(t!==null){const r=t.get(e);return r?r.name:e}return e}function P7e(e){return e.map(t=>({...t,propertyName:dD(t.propertyName)}))}function zq(e){const t={};for(const r in e){const n=e[r];t[dD(r)]=n}return t}function Vq(e,t,r,n,i){const s=r*Math.PI/180;if(s){const o=Math.cos(s);return(Math.sin(s)*e+o*t)*n+i}return t*n+i}function Bq(e,t,r,n,i){const s=r*Math.PI/180;return s?(Math.cos(s)*e-Math.sin(s)*t)*n+i:e*n+i}function Uq(e,t,r){return t?r-e:r+e}function e2t(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function A7e(e){return e.originPosition==="lowerLeft"&&e.scale.length===4&&e.translate.length===4}function eS(e){if(A7e(e))return e;const{originPosition:t,scale:r,translate:n}=e,i=r[0]??1,s=r[1]??1;return{originPosition:"lowerLeft",scale:[i,t==="lowerLeft"?s:-s,r[2]??1,r[3]??1],translate:[n[0]??0,n[1]??0,n[2]??0,n[3]??0]}}function R7e({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function L7e({scale:e,translate:t},r){return Math.round((r-t[1])/e[1])}function j7e({scale:e,translate:t},r){return Math.round(((r??0)-t[2])/e[2])}function N7e({scale:e,translate:t},r){return r?Math.round((r-t[3])/e[3]):0}function tS({scale:e,translate:t},r){return r*e[0]+t[0]}function rS({scale:e,translate:t},r){return r*e[1]+t[1]}function V_({scale:e,translate:t},r){return(r??0)*e[2]+t[2]}function B_({scale:e,translate:t},r){return r?r*e[3]+t[3]:0}function pD(e,t){return e&&t?V7e:e&&!t?D7e:!e&&t?z7e:F7e}const F7e=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let i=tS(e,n[0]),s=rS(e,n[1]);r[0]=[i,s];const{scale:o,originPosition:a}=e,l=o[0],u=a==="lowerLeft"?o[1]:-o[1];for(let d=1;d<t.length;d++){const[h,f]=t[d];i+=l*h,s+=u*f,r[d]=[i,s]}return r},D7e=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let i=tS(e,n[0]),s=rS(e,n[1]);r[0]=[i,s,V_(e,n[2])];const{scale:o,originPosition:a}=e,l=o[0],u=a==="lowerLeft"?o[1]:-o[1];for(let d=1;d<t.length;d++){const[h,f,y]=t[d];i+=l*h,s+=u*f,r[d]=[i,s,V_(e,y)]}return r},z7e=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let i=tS(e,n[0]),s=rS(e,n[1]);r[0]=[i,s,B_(e,n[2])];const{scale:o,originPosition:a}=e,l=o[0],u=a==="lowerLeft"?o[1]:-o[1];for(let d=1;d<t.length;d++){const[h,f,y]=t[d];i+=l*h,s+=u*f,r[d]=[i,s,B_(e,y)]}return r},V7e=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const n=t[0];let i=tS(e,n[0]),s=rS(e,n[1]);r[0]=[i,s,V_(e,n[2]),B_(e,n[3])];const{scale:o,originPosition:a}=e,l=o[0],u=a==="lowerLeft"?o[1]:-o[1];for(let d=1;d<t.length;d++){const[h,f,y,g]=t[d];i+=l*h,s+=u*f,r[d]=[i,s,V_(e,y),B_(e,g)]}return r};function bce(e,t,r){const n=new Array(r.length);for(let i=0;i<r.length;i++)n[i]=t(e,r[i]);return n}function t2t(e,t,r){const n=eS(e);return t.x=R7e(n,r.x),t.y=L7e(n,r.y),r.z!=null&&(t.z=j7e(n,r.z)),r.m!=null&&(t.m=N7e(n,r.m)),t}function B7e(e,t,r,n=(r==null?void 0:r.hasZ)??!1,i=(r==null?void 0:r.hasM)??!1){if(r!=null){const s=eS(e);t.points=pD(n,i)(s,r.points),t.hasZ=n,t.hasM=i}return t}function U7e(e,t,r,n=(r==null?void 0:r.z)!=null,i=(r==null?void 0:r.m)!=null){if(r==null)return t;const s=eS(e);return t.x=tS(s,r.x),t.y=rS(s,r.y),n&&(t.z=V_(s,r.z)),i&&(t.m=B_(s,r.m)),t}function G7e(e,t,r,n=(r==null?void 0:r.hasZ)??!1,i=(r==null?void 0:r.hasM)??!1){if(r!=null){const s=eS(e);t.rings=bce(s,pD(n,i),r.rings),t.hasZ=n,t.hasM=i}return t}function W7e(e,t,r,n=(r==null?void 0:r.hasZ)??!1,i=(r==null?void 0:r.hasM)??!1){if(r!=null){const s=eS(e);t.paths=bce(s,pD(n,i),r.paths),t.hasZ=n,t.hasM=i}return t}function q7e(e,t,r,n,i){if(e==null)return null;const s=e.referencesGeometry()&&i?H7e(t,n,i):t,o=e.repurposeFeature(s);try{return e.evaluate({...r,$feature:o},e.services)}catch(a){return ie.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",a),null}}const GO=new Map;function H7e(e,t,r){const{transform:n,hasZ:i,hasM:s}=r;GO.has(t)||GO.set(t,Z7e(t));const o=GO.get(t)(e.geometry,n,i,s);return{...e,geometry:o}}function Z7e(e){const t={};switch(e){case"esriGeometryPoint":return(r,n,i,s)=>U7e(n,t,r,i,s);case"esriGeometryPolygon":return(r,n,i,s)=>G7e(n,t,r,i,s);case"esriGeometryPolyline":return(r,n,i,s)=>W7e(n,t,r,i,s);case"esriGeometryMultipoint":return(r,n,i,s)=>B7e(n,t,r,i,s);default:return ie.getLogger("esri.views.2d.support.arcadeOnDemand").error(new q("mapview-arcade",`Unable to handle geometryType: ${e}`)),r=>r}}const Y7e=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:n,a:i}=e;return[t,r,n,255*i]};let wce=class pn{static findApplicableOverrides(t,r,n){if(t&&r){if(t.primitiveName){let i=!1;for(const s of n)if(s.primitiveName===t.primitiveName){i=!0;break}if(!i)for(const s of r)s.primitiveName===t.primitiveName&&n.push(s)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const i of t.effects)pn.findApplicableOverrides(i,r,n);if(t.symbolLayers)for(const i of t.symbolLayers)pn.findApplicableOverrides(i,r,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const i of t.effects)pn.findApplicableOverrides(i,r,n);if(t.markerPlacement&&pn.findApplicableOverrides(t.markerPlacement,r,n),t.type==="CIMVectorMarker"){if(t.markerGraphics)for(const i of t.markerGraphics)pn.findApplicableOverrides(i,r,n),pn.findApplicableOverrides(i.symbol,r,n)}else t.type==="CIMCharacterMarker"?pn.findApplicableOverrides(t.symbol,r,n):t.type==="CIMHatchFill"?pn.findApplicableOverrides(t.lineSymbol,r,n):t.type==="CIMPictureMarker"&&pn.findApplicableOverrides(t.animatedSymbolProperties,r,n)}}}static findEffectOverrides(t,r){if(!t)return null;if(t.type==="CIMGeometricEffectDashes"&&O7e(t),!r||!t.primitiveName)return{type:"cim-effect-param",effect:t,overrides:[]};const n=zq(t),i=t.primitiveName,s=[];for(const o of r)o.primitiveName===i&&s.push(zq(o));return{type:"cim-effect-param",effect:n,overrides:P7e(s)}}static async resolveSymbolOverrides(t,r,n,i,s,o,a){if(!(t!=null&&t.symbol))return null;let{symbol:l,primitiveOverrides:u}=t;const d=!!u;if(!d&&!i)return l;l=W(l),u=W(u);let h=!0;if(r||(r={attributes:{}},h=!1),d){if(h||(u=u.filter(f=>{var y;return!((y=f.valueExpressionInfo)!=null&&y.expression.includes("$feature"))})),a||(u=u.filter(f=>{var y;return!((y=f.valueExpressionInfo)!=null&&y.expression.includes("$view"))})),u.length>0){const f={spatialReference:n,fields:k7e(r.attributes),geometryType:s};await pn.createRenderExpressions(u,f),pn.evaluateOverrides(u,r,s??"esriGeometryPoint",o,a)}pn.applyOverrides(l,u)}return i&&pn.applyDictionaryTextOverrides(l,r,i,null),l}static async createRenderExpressions(t,r){const n=[];for(const i of t){const s=i.valueExpressionInfo;if(!s||pn._expressionToRenderExpression.has(s.expression))continue;const o=p4e(s.expression,r.spatialReference,r.fields);n.push(o),o.then(a=>pn._expressionToRenderExpression.set(s.expression,a))}n.length>0&&await Promise.all(n)}static evaluateOverrides(t,r,n,i,s){const o={$view:{scale:s==null?void 0:s.scale}};for(const a of t){a.value&&typeof a.value=="object"&&cce(a.value)&&(a.propertyName==="Color"||a.propertyName==="StrokeColor")&&(a.value=Y7e(a.value));const l=a.valueExpressionInfo;if(!l)continue;const u=pn._expressionToRenderExpression.get(l.expression);u&&(a.value=q7e(u,r,o,n,i))}}static applyDictionaryTextOverrides(t,r,n,i,s="Normal"){if(t!=null&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const o=t.symbolLayers;if(!o)return;for(const a of o)a&&a.type==="CIMVectorMarker"&&pn.applyDictionaryTextOverrides(a,r,n,i,t.type==="CIMTextSymbol"?t.textCase:s)}break;case"CIMVectorMarker":{const o=t.markerGraphics;if(!o)return;for(const a of o)a&&pn.applyDictionaryTextOverrides(a,r,n,i)}break;case"CIMMarkerGraphic":{const o=t.textString;if(o&&o.includes("[")){const a=$7e(o,n);t.textString=T7e(r,a,i,s)}}}}static applyOverrides(t,r,n,i){if(t.primitiveName){for(const s of r)if(s.primitiveName===t.primitiveName){const o=dD(s.propertyName);if(i&&i.push({cim:t,nocapPropertyName:o,value:t[o]}),n){let a=!1;for(const l of n)l.primitiveName===t.primitiveName&&(a=!0);a||n.push(s)}s.value!=null&&(t[o]=s.value)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const s of t.effects)pn.applyOverrides(s,r,n,i);if(t.symbolLayers)for(const s of t.symbolLayers)pn.applyOverrides(s,r,n,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const s of t.effects)pn.applyOverrides(s,r,n,i);if(t.type==="CIMVectorMarker"&&t.markerGraphics)for(const s of t.markerGraphics)pn.applyOverrides(s,r,n,i),pn.applyOverrides(s.symbol,r,n,i)}}static restoreOverrides(t){for(const r of t)r.cim[r.nocapPropertyName]=r.value}static buildOverrideKey(t){let r="";for(const n of t)n.value!==void 0&&(r+=`${n.primitiveName}${n.propertyName}${JSON.stringify(n.value)}`);return r}static toValue(t,r){if(t==="DashTemplate")return r.split(" ").map(n=>Number(n));if(t==="Color"){const n=new it(r).toRgba();return n[3]*=255,n}return r}};wce._expressionToRenderExpression=new Map;const Gq="esri.renderers.support.DictionaryLoader",J7e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let _ce=class{constructor(t,r,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new wDe(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){var h;let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{n=await this._dictionaryPromise}catch(f){if(ms(f))return this._dictionaryPromise=null,null}const i=(h=this._dictionaryVersion)==null?void 0:h.since(4,0),s={};if(this.fieldMap)for(const f of this._symbolFields){const y=vce(this.fieldMap[f],this._fieldIndex);if(y){const g=t.attributes[y];s[f]=i?g:g!=null?""+t.attributes[y]:""}else s[f]=""}let o=null;try{o=n==null?void 0:n(s,r)}catch{return null}if(!o||typeof o!="string"||o==="invalid")return null;const a=o.split(";"),l=[],u=[];for(const f of a)if(f)if(f.includes("po:")){const y=f.substr(3).split("|");if(y.length===3){const g=y[0],v=y[1];let b=y[2];if(v==="DashTemplate")b=b.split(" ").map(_=>Number(_));else if(v==="Color"){const _=new it(b).toRgba();b=[_[0],_[1],_[2],255*_[3]]}else b=Number(b);u.push({primitiveName:g,propertyName:v,value:b,defaultValue:null})}}else if(f.includes("|")){for(const y of f.split("|"))if(this._itemNames.has(y)){l.push(y);break}}else this._itemNames.has(f)&&l.push(f);const d=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,l,u,d,r)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void ie.getLogger(Gq).error("no valid URL!");const r=yr(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:n}]=await Promise.all([r,Gm()]);if(!n)throw this._dictionaryPromise=null,new q("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:i,dictionary_version:s,expression:o,itemsNames:a}=n,l=o;let u=!1;s&&(this._dictionaryVersion=_De.parse(s),u=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(a),this._symbolFields=i.symbol;const d={};if(this.config){const y=this.config;for(const g in y)d[g]=y[g]}if(i.configuration)for(const y of i.configuration)d.hasOwnProperty(y.name)||(d[y.name]=y.value);const h=[];if(t!=null&&t.fields&&this.fieldMap)for(const y in this.fieldMap){const g=this.fieldMap[y],v=t.fields.filter(b=>b.name.toLowerCase()===(g==null?void 0:g.toLowerCase()));v.length>0&&h.push({...v[0],type:u?v[0].type:"esriFieldTypeString"})}h.length>0&&(this._fieldIndex=new Zue(h));const f=h4e(l,t!=null?t.spatialReference:null,h,d).then(y=>{const g={scale:0};return(v,b)=>{if(y==null)return null;const _=y.repurposeFeature({geometry:null,attributes:v});return g.scale=b!=null?b.scale??void 0:void 0,y.evaluate({$feature:_,$view:g},y.services)}}).catch(y=>(ie.getLogger(Gq).error("Creating dictionary expression failed:",y),null));return this._dictionaryPromise=f,f}async _cimPartsToCIMSymbol(t,r,n,i,s){const o=new Array(r.length);for(let u=0;u<r.length;u++)o[u]=this._getSymbolPart(r[u],s);let a=await Promise.all(o);const l=this.fieldMap;if(l){a=W(a);for(const u of a)wce.applyDictionaryTextOverrides(u,t,l,this._fieldIndex,A6(u))}return new Ah({data:K7e(a,n,i)})}async _getSymbolPart(t,r){const n=this._symbolCache.get(t);if(n)return n;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(o=>o.data);const i=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),s=yr(i,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,s),s.finally(()=>this._ongoingRequests.delete(t));try{const o=await s;return this._symbolCache.put(t,o.data),o.data}catch(o){throw o}}};function K7e(e,t,r){if(!e||e.length===0)return null;const n={...e[0]};if(e.length>1){n.symbolLayers=[];for(const i of e){const s=i;n.symbolLayers.unshift(...s.symbolLayers)}}return r&&(n.callout=J7e),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}var R6;let ml=R6=class extends Rv(vd){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new _ce(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,n){n!=null&&n.origin||super.writeVisualVariables(e,t,r,n)}clone(){return new R6({config:W(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:W(this.fieldMap),url:W(this.url),visualVariables:W(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await fs(e,t,this.scaleExpression);for(const r in this.fieldMap){const n=this.fieldMap[r];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([p({type:_ce})],ml.prototype,"_loader",null),c([p({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],ml.prototype,"config",void 0),c([p({type:Object,json:{write:!0}})],ml.prototype,"fieldMap",void 0),c([p({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],ml.prototype,"scaleExpression",void 0),c([ye("scaleExpression")],ml.prototype,"writeData",null),c([p({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],ml.prototype,"scaleExpressionTitle",void 0),c([p({type:String,json:{write:!0}})],ml.prototype,"url",void 0),c([ye("visualVariables")],ml.prototype,"writeVisualVariables",null),ml=R6=c([R("esri.renderers.DictionaryRenderer")],ml);const X7e=ml;var L6;let $c=L6=class extends ae{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ie.getLogger(this).error(".field: field must be a string value"),null):Ox(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new L6({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([p({type:it,json:{type:[Number],write:!0}})],$c.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],$c.prototype,"field",void 0),c([tr("field")],$c.prototype,"castField",null),c([p({type:String,json:{write:!0}})],$c.prototype,"label",void 0),c([p({type:String,json:{write:!0}})],$c.prototype,"valueExpression",void 0),c([p({type:String,json:{write:!0}})],$c.prototype,"valueExpressionTitle",void 0),$c=L6=c([R("esri.renderers.support.AttributeColorInfo")],$c);const xce=$c;var j6;let UT=j6=class extends ae{constructor(){super(...arguments),this.unit=null}clone(){return new j6({unit:this.unit})}};c([p({type:String,json:{write:!0}})],UT.prototype,"unit",void 0),UT=j6=c([R("esri.renderers.support.DotDensityLegendOptions")],UT);const Q7e=UT;var N6;let qs=N6=class extends Rv(vd){constructor(e){super(e),this.attributes=null,this.backgroundColor=new it([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new co,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new gd({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new N6({attributes:W(this.attributes),backgroundColor:W(this.backgroundColor),dotBlendingEnabled:W(this.dotBlendingEnabled),dotShape:W(this.dotShape),dotSize:W(this.dotSize),dotValue:W(this.dotValue),legendOptions:W(this.legendOptions),outline:W(this.outline),referenceScale:W(this.referenceScale),seed:W(this.seed),visualVariables:W(this.visualVariables),authoringInfo:W(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(r=>r.field||r.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await fs(e,t,r.valueExpression),r.field&&e.add(r.field)}};c([p({type:[xce],json:{write:!0}})],qs.prototype,"attributes",void 0),c([p({type:it,json:{write:!0}})],qs.prototype,"backgroundColor",void 0),c([p({type:Boolean,json:{write:!0}})],qs.prototype,"dotBlendingEnabled",void 0),c([p({type:String,json:{write:!1}})],qs.prototype,"dotShape",void 0),c([p({type:Number,json:{write:!0}})],qs.prototype,"dotSize",void 0),c([p({type:Q7e,json:{write:!0}})],qs.prototype,"legendOptions",void 0),c([p({type:co,json:{default:null,write:!0}})],qs.prototype,"outline",void 0),c([p({type:Number,json:{write:!0}})],qs.prototype,"dotValue",void 0),c([p({type:Number,json:{write:!0}})],qs.prototype,"referenceScale",void 0),c([p({type:Number,json:{write:!0}})],qs.prototype,"seed",void 0),c([Ze({dotDensity:"dot-density"})],qs.prototype,"type",void 0),qs=N6=c([R("esri.renderers.DotDensityRenderer")],qs);const eze=qs;var F6;let Zb=F6=class extends ae{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new F6({color:this.color&&this.color.clone(),ratio:this.ratio})}};c([p({type:it,json:{type:[mr],default:null,write:!0}})],Zb.prototype,"color",void 0),c([p({type:Number,json:{write:!0}})],Zb.prototype,"ratio",void 0),Zb=F6=c([R("esri.renderers.support.HeatmapColorStop")],Zb);const GT=Zb;let vg=class extends Fr(ae){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};c([p({type:String,json:{write:!0}})],vg.prototype,"minLabel",void 0),c([p({type:String,json:{write:!0}})],vg.prototype,"maxLabel",void 0),c([p({type:String,json:{write:!0}})],vg.prototype,"title",void 0),vg=c([R("esri.renderers.support.HeatmapLegendOptions")],vg);const hD=2.4;function tze(e){return Ua(e*hD)}function rze(e){return ROe(e)/hD}function nze(e,t,r,n){let{color:i,ratio:s}=t,{color:o,ratio:a}=r;a===s&&(a===1?s-=1e-6:a+=1e-6);const l=za((n-s)/(a-s),0,1);nce(e,i.toArray(),o.toArray(),l)}function i2t(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:a})=>a>=0&&a<=1).sort((a,l)=>a.ratio-l.ratio).map(({color:a,ratio:l})=>({color:a,ratio:Math.max(l,.001)})),e.length<1)return r;let n=e[0],i=e[0],s=1;const o=jk();for(let a=0;a<512;a++){const l=(a+.5)/512;for(;l>i.ratio&&s<e.length;)n=i,i=e[s++];nze(o,n,i,l),r.set(o,4*a)}return r}function s2t(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function o2t(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var D6;function Wq(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:n}=e;if(t!=null||r!=null||n!=null){const{blurRadius:i,maxPixelIntensity:s,minPixelIntensity:o,...a}=e;return a}}return e}let fi=D6=class extends vd{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new GT({ratio:0,color:new it("rgba(255, 140, 0, 0)")}),new GT({ratio:.75,color:new it("rgba(255, 140, 0, 1)")}),new GT({ratio:.9,color:new it("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return Wq(e)}get blurRadius(){return rze(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",tze(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(hD**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||hs(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,bv(()=>{sb(ie.getLogger(this),e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=Wq(e),super.read(e,t)}getSymbol(){return new Zu}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,n=this.valueExpression;r&&typeof r=="string"&&Rs(e,t,r),n&&typeof n=="string"&&await fs(e,t,n)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new D6({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:W(this.colorStops),field:this.field,legendOptions:W(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([p({type:nD,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],fi.prototype,"authoringInfo",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],fi.prototype,"blurRadius",null),c([p({type:[GT],json:{write:!0}})],fi.prototype,"colorStops",void 0),c([p({type:String,json:{write:!0}})],fi.prototype,"field",void 0),c([p({type:vg,json:{write:!0}})],fi.prototype,"legendOptions",void 0),c([p({type:Number,json:{write:!0}})],fi.prototype,"maxDensity",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],fi.prototype,"maxPixelIntensity",null),c([p({type:Number,json:{write:!0}})],fi.prototype,"minDensity",void 0),c([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],fi.prototype,"minPixelIntensity",null),c([p({type:Number,cast:Bt,json:{write:!0}})],fi.prototype,"radius",void 0),c([p({type:Number,range:{min:0},json:{default:0,write:!0}})],fi.prototype,"referenceScale",void 0),c([Ze({heatmap:"heatmap"})],fi.prototype,"type",void 0),c([p({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],fi.prototype,"valueExpression",void 0),c([p({type:String})],fi.prototype,"valueExpressionTitle",void 0),c([p({readOnly:!0})],fi.prototype,"_pixelIntensityToDensity",null),fi=D6=c([R("esri.renderers.HeatmapRenderer")],fi);const Sce=fi;let Jf=class extends Fr(ae){constructor(){super(...arguments),this.color=new it([0,0,0,0]),this.label=null,this.threshold=0}};c([p({type:it,json:{write:!0}})],Jf.prototype,"color",void 0),c([p({type:String,json:{write:!0}})],Jf.prototype,"label",void 0),c([p({type:Number,range:{min:0,max:1},json:{write:!0}})],Jf.prototype,"threshold",void 0),Jf=c([R("esri.renderers.support.OthersCategory")],Jf);let WT=class extends Fr(ae){constructor(){super(...arguments),this.title=null}};c([p({type:String,json:{write:!0}})],WT.prototype,"title",void 0),WT=c([R("esri.renderers.support.PieChartLegendOptions")],WT);let $o=class extends Rv(Fr(vd)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new it([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Jf,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new Zu({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(zi)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,r)=>t+r.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const n of this.attributes)n.valueExpression&&await fs(t,r,n.valueExpression),n.field&&t.add(n.field)}};c([p({type:[xce],json:{write:!0}})],$o.prototype,"attributes",void 0),c([p({type:gd,json:{default:null,write:!0}})],$o.prototype,"backgroundFillSymbol",void 0),c([p({type:it,json:{write:!0}})],$o.prototype,"defaultColor",void 0),c([p({type:String,json:{write:!0}})],$o.prototype,"defaultLabel",void 0),c([p({type:Number,range:{min:0,max:1},json:{write:!0}})],$o.prototype,"holePercentage",void 0),c([p({type:Jf,json:{write:!0}})],$o.prototype,"othersCategory",void 0),c([p({type:WT,json:{write:!0}})],$o.prototype,"legendOptions",void 0),c([p({type:co,json:{default:null,write:!0}})],$o.prototype,"outline",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],$o.prototype,"size",void 0),c([Ze({pieChart:"pie-chart"})],$o.prototype,"type",void 0),$o=c([R("esri.renderers.PieChartRenderer")],$o);const ize=$o;var z6;let jf=z6=class extends Rv(vd){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new z6({description:this.description,label:this.label,symbol:W(this.symbol),visualVariables:W(this.visualVariables),authoringInfo:W(this.authoringInfo)})}};c([p({type:String,json:{write:!0}})],jf.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],jf.prototype,"label",void 0),c([p(lD)],jf.prototype,"symbol",void 0),c([Ze({simple:"simple"})],jf.prototype,"type",void 0),jf=z6=c([R("esri.renderers.SimpleRenderer")],jf);const jv=jf,sze=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function V6(e){return e instanceof Be}function qq(e){return e instanceof Ce?Object.keys(e.items):V6(e)?hs(e).keys():e?Object.keys(e):[]}function B2(e,t){return e instanceof Ce?e.items[t]:e[t]}function oze(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function zw(e){return e?e.declaredClass:null}function $ce(e,t){var h;const r=e.diff;if(r&&typeof r=="function")return r(e,t);const n=qq(e),i=qq(t);if(n.length===0&&i.length===0)return;if(!n.length||!i.length||oze(e,t))return{type:"complete",oldValue:e,newValue:t};const s=i.filter(f=>!n.includes(f)),o=n.filter(f=>!i.includes(f)),a=n.filter(f=>i.includes(f)&&B2(e,f)!==B2(t,f)).concat(s,o).sort(),l=zw(e);if(l&&sze.has(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let u;const d=V6(e)&&V6(t);for(const f of a){const y=B2(e,f),g=B2(t,f);let v;if((d||typeof y!="function"&&typeof g!="function")&&y!==g&&(y!=null||g!=null)){if(r&&r[f]&&typeof r[f]=="function")v=(h=r[f])==null?void 0:h.call(r,y,g);else if(y instanceof Date&&g instanceof Date){if(y.getTime()===g.getTime())continue;v={type:"complete",oldValue:y,newValue:g}}else v=typeof y=="object"&&typeof g=="object"&&zw(y)===zw(g)?$ce(y,g):{type:"complete",oldValue:y,newValue:g};v!=null&&(u!=null?u.diff[f]=v:u={type:"partial",diff:{[f]:v}})}}return u}function c2t(e,t){return aze(e,t)}function aze(e,t){if(e==null)return!1;const r=t.split(".");let n=e;for(const i of r){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const s=n.diff[i];if(!s)return!1;n=s}}return!0}function d2t(e,t){if(!e)return!1;if(e.type==="partial"){const r=Object.keys(e.diff);return r.length===1&&r[0]===t}return!1}function lze(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&zw(e)!==zw(t)?{type:"complete",oldValue:e,newValue:t}:$ce(e,t)}let bg=class extends Fr(ae){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};c([p(DT)],bg.prototype,"value",void 0),c([p(DT)],bg.prototype,"value2",void 0),c([p(DT)],bg.prototype,"value3",void 0),bg=c([R("esri.renderers.support.UniqueValue")],bg);const C0=bg;let cp=class extends Fr(ae){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(n=>new C0({value:n})):r==="object"?t[0]instanceof C0?t:t.map(n=>new C0(n)):null}};c([p({type:String,json:{write:!0}})],cp.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],cp.prototype,"label",void 0),c([p(Rk)],cp.prototype,"symbol",void 0),c([p({type:[C0],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new C0({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const n of e){const i=[n.value,n.value2,n.value3].filter(zi).map(s=>s.toString());r.push(i)}t.values=r}}}})],cp.prototype,"values",void 0),c([tr("values")],cp.prototype,"castValues",null),cp=c([R("esri.renderers.support.UniqueValueClass")],cp);const Tce=cp;let Yb=class extends Fr(ae){constructor(t){super(t),this.heading=null,this.classes=null}};c([p({type:String,json:{write:!0}})],Yb.prototype,"heading",void 0),c([p({type:[Tce],json:{write:!0}})],Yb.prototype,"classes",void 0),Yb=c([R("esri.renderers.support.UniqueValueGroup")],Yb);const B6=Yb;var U6;let Nf=U6=class extends ae{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new U6({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};c([p({type:String,json:{write:!0}})],Nf.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],Nf.prototype,"label",void 0),c([p(lD)],Nf.prototype,"symbol",void 0),c([p(DT)],Nf.prototype,"value",void 0),Nf=U6=c([R("esri.renderers.support.UniqueValueInfo")],Nf);const Vw=Nf,uze=()=>!!J("enable-feature:force-wosr"),cze=()=>J.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),dze=()=>J.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),pze=()=>J.add("enable-i3s-patching",!0,!0,!0),hze=()=>J.add("enable-i3s-patching",!1,!0,!0),m2t=()=>!!J("enable-feature:SceneLayer-editing"),fze=(e="i3s-patching")=>{switch(hze(),dze(),J.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":cze();break;case"i3s-patching":pze()}};fze("i3s-patching");let WO={};async function mze(e,t){try{return{data:(await bze(e,t)).data,baseUrl:xTe(e),styleUrl:e}}catch(r){return ga(r),null}}function yze(e,t,r){var o;const n=t.portal!=null?t.portal:ui.getDefault();let i;const s=`${n.url} - ${(o=n.user)==null?void 0:o.username} - ${e}`;return WO[s]||(WO[s]=gze(e,n,r).then(a=>(i=a,a.fetchData())).then(a=>({data:a,baseUrl:i.itemUrl??"",styleName:e}))),WO[s]}function gze(e,t,r){return t.load(r).then(()=>{const n=new Tu({disableExtraQuery:!0,query:`owner:${Hq} AND type:${Zq} AND typekeywords:"${e}"`});return t.queryItems(n,r)}).then(({results:n})=>{var o;let i=null;const s=e.toLowerCase();if(n&&Array.isArray(n)){for(const a of n)if(((o=a.typeKeywords)==null?void 0:o.some(u=>u.toLowerCase()===s))&&a.type===Zq&&a.owner===Hq){i=a;break}}if(!i)throw new q("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function vze(e,t,r){return(e==null?void 0:e.styleUrl)!=null?mze(e.styleUrl,r):(e==null?void 0:e.styleName)!=null?yze(e.styleName,t,r):Promise.reject(new q("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y2t(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function g2t(e,t,r=["gltf"]){if(t==="cimRef")return encodeURI(e.cimRef);if(e.formatInfos&&!uze())for(const n of r){const i=e.formatInfos.find(s=>s.type===n);if(i)return i.href}return encodeURI(e.webRef)}function bze(e,t){const r={responseType:"json",query:{f:"json"},...t};return yr(Oa(e),r)}const Hq="esri_en",Zq="Style",v2t="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Jb;const Mce="esri.renderers.UniqueValueRenderer",Ld=()=>ie.getLogger(Mce),Yq="uvInfos-watcher",Jq="uvGroups-watcher",wze=",",_ze=Xr(Vw);function xze(e){const{field1:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueInfos:s,valueExpression:o}=e,a=!(!t||!r);return[{classes:(s??[]).map(l=>{var _;const{symbol:u,label:d,value:h,description:f}=l,[y,g,v]=a?((_=h==null?void 0:h.toString())==null?void 0:_.split(i||""))||[]:[h],b=[];return(t||o)&&b.push(y),r&&b.push(g),n&&b.push(v),{symbol:u,label:d,values:[b],description:f}})}]}let rn=Jb=class extends Rv(vd){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let n=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<r.length;s++){const o=t.find(a=>a.value===r[s].value);o?lze(o,r[s])?(i.changed.push({type:"complete",oldValue:o,newValue:r[s]}),n=!0):i.unchanged.push({oldValue:o,newValue:r[s]}):(i.added.push(r[s]),n=!0)}for(let s=0;s<t.length;s++)r.find(o=>o.value===t[s].value)||(i.removed.push(t[s]),n=!0);return n?i:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:Ox(e)}writeField(e,t,r,n){typeof e=="string"?t[r]=e:n!=null&&n.messages?n.messages.push(new q("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Ld().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||ui.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=Cv(t.styleUrl,r);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Ux(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?Ld().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Ld().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var n;if(this.styleOrigin)return void Ld().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?_ze(e):new Vw({value:e,symbol:fae(t)}),(n=this.uniqueValueInfos)==null||n.push(r),this._valueInfoMap[r.value]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Ld().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){const n=t[r];if(String(n.value)===String(e)){delete this._valueInfoMap[e],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await Gm()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Ld().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return(r==null?void 0:r.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(r==null?void 0:r.arcade)==null){const i=await Gm(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}const n=this._getUniqueValueInfo(e,r);return(n==null?void 0:n.symbol)||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var n;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=(n=this.uniqueValueInfos)==null?void 0:n.reduce((i,s)=>i+s.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Jb({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:W(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:W(this.visualVariables),legendOptions:W(this.legendOptions),authoringInfo:W(this.authoringInfo),backgroundFillSymbol:W(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=W(this.uniqueValueInfos),r=W(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(W(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),fs(e,t,this.valueExpression)];Rs(e,t,this.field),Rs(e,t,this.field2),Rs(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return vze(this.styleOrigin,{portal:this.portal}).then(e=>{var r;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{const i=new py({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const s=new Vw({value:n.name,symbol:i});t.push(s),this._valueInfoMap[n.name]=s}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((r=this.uniqueValueInfos)!=null&&r.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",wze)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Yq);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(Se(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(n,i)=>{n!==i&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,Yq)}}_watchUniqueValueGroups(){this.removeHandles(Jq);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(Se(()=>({classes:r.classes}),(n,i)=>{n!==i&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of r.classes??[])t.push(Se(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(i,s)=>{i!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,Jq)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueGroups:s,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!r);for(const l of s)for(const u of l.classes??[]){const{symbol:d,label:h,values:f,description:y}=u;for(const g of f??[]){const{value:v,value2:b,value3:_}=g,x=[v];r&&x.push(b),n&&x.push(_);const S=a?x.join(i||""):x[0]??void 0;e.push(new Vw({symbol:d,label:h,value:S,description:y}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:n,fieldDelimiter:i,uniqueValueInfos:s}=this;if(!t&&!n||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!r),a=s.map(u=>{var _;const{symbol:d,label:h,value:f,description:y}=u,[g,v,b]=o?((_=f==null?void 0:f.toString())==null?void 0:_.split(i||""))||[]:[f];return new Tce({symbol:d,label:h,description:y,values:[new C0({value:g,value2:v,value3:b})]})}),l=[new B6({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s,timeZone:o}=t??{};let a=this._cache.compiledFunc;const l=s.arcadeUtils;if(!a){const d=l.createSyntaxTree(this.valueExpression);a=l.createFunction(d),this._cache.compiledFunc=a}const u=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),o));return this._valueInfoMap[u+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let n;if(this.field2){const i=this.field2,s=this.field3,o=[];t&&o.push(r[t]),i&&o.push(r[i]),s&&o.push(r[s]),n=o.join(this.fieldDelimiter||"")}else t&&(n=r[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const r=new Jb(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",(t==null?void 0:t.portal)||ui.getDefault());const n=r.populateFromStyle();return n.catch(i=>{Ld().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),n}static fromStyleUrl(e,t){const r=new Jb(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const n=r.populateFromStyle();return n.catch(i=>{Ld().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),n}};c([p({readOnly:!0})],rn.prototype,"_cache",null),c([Ze({uniqueValue:"unique-value"})],rn.prototype,"type",void 0),c([p(Wue)],rn.prototype,"backgroundFillSymbol",void 0),c([p({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],rn.prototype,"field",null),c([tr("field")],rn.prototype,"castField",null),c([ye("field")],rn.prototype,"writeField",null),c([p({type:String,value:null,json:{write:!0}})],rn.prototype,"field2",null),c([p({type:String,value:null,json:{write:!0}})],rn.prototype,"field3",null),c([p({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],rn.prototype,"orderByClassesEnabled",void 0),c([p({type:String,value:null,json:{write:!0}})],rn.prototype,"valueExpression",null),c([p({type:String,json:{write:!0}})],rn.prototype,"valueExpressionTitle",void 0),c([p({type:M0,json:{write:!0}})],rn.prototype,"legendOptions",void 0),c([p({type:String,json:{write:!0}})],rn.prototype,"defaultLabel",void 0),c([p(t9({...Rk},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],rn.prototype,"defaultSymbol",null),c([p({type:String,value:null,json:{write:!0}})],rn.prototype,"fieldDelimiter",null),c([p({type:ui,readOnly:!0})],rn.prototype,"portal",void 0),c([ue("portal",["styleName"])],rn.prototype,"readPortal",null),c([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],rn.prototype,"styleOrigin",void 0),c([ue("styleOrigin",["styleName","styleUrl"])],rn.prototype,"readStyleOrigin",null),c([ye("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],rn.prototype,"writeStyleOrigin",null),c([p({type:[B6],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||xze(t)).map(n=>B6.fromJSON(n,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],rn.prototype,"uniqueValueGroups",null),c([p({type:[Vw],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],rn.prototype,"uniqueValueInfos",null),rn=Jb=c([R(Mce)],rn);const fD=rn,Nk={key:"type",base:vd,typeMap:{heatmap:Sce,simple:jv,"unique-value":fD,"class-breaks":Hue,"dot-density":eze,dictionary:X7e,"pie-chart":ize},errorContext:"renderer"},Sze={key:"type",base:vd,typeMap:{simple:jv,"unique-value":fD,"class-breaks":Hue,heatmap:Sce},errorContext:"renderer",validate:$ze};function $ze(e){switch(e.type){case"simple":return Tze(e);case"unique-value":return Mze(e);case"class-breaks":return Cze(e);case"heatmap":return e}}function Tze(e){if(e.symbol)return e;ie.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function Mze(e){const t=e.uniqueValueInfos,r=t==null?void 0:t.filter(({symbol:n,label:i},s)=>(n||ie.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${s}] ${i}) without a symbol from web scene.`),!!n));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=r),e}function Cze(e){const t=e.classBreakInfos,r=t==null?void 0:t.filter(({symbol:n,label:i},s)=>(n||ie.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${s}] ${i}) without a symbol from web scene.`),!!n));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=r),e}function b2t(e,t){return U_(e,null,t)}const Eze=wv({types:Nk});function U_(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r!=null&&r.messages&&r.messages.push(new Da("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):Eze(e,t,r):null}let kze=class Cce{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(uA),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new Cce,n=this._originStores[$t.DEFAULTS];n&&n.forEach((i,s)=>{r.set(s,W(i),$t.DEFAULTS)});for(let i=$t.SERVICE;i<uA;i++){const s=this._originStores[i];s&&s.forEach((o,a)=>{t&&t.has(a)||r.set(a,W(o),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=$t.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),s!==r}return!1}delete(t,r=$t.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let s=r-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,s);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n==null?void 0:n.get(t),s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),s!==i}originOf(t){return this._propertyOriginMap.get(t)||$t.DEFAULTS}forEach(t){this._values.forEach(t)}};const Ece=e=>{let t=class extends e{constructor(...r){super(...r);const n=hs(this),i=n.store,s=new kze;n.store=s,mre(n,i,s)}read(r,n){gre(this,r,n)}getAtOrigin(r,n){const i=qO(this),s=Ap(n);if(typeof r=="string")return i.get(r,s);const o={};return r.forEach(a=>{o[a]=i.get(a,s)}),o}originOf(r){return BM(this.originIdOf(r))}originIdOf(r){return qO(this).originOf(r)}revert(r,n){const i=qO(this),s=Ap(n),o=hs(this);let a;a=typeof r=="string"?r==="*"?i.keys(s):[r]:r,a.forEach(l=>{o.invalidate(l),i.revert(l,s),o.commit(l)})}};return t=c([R("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function qO(e){return hs(e).store}let Kq=class extends Ece(Be){};Kq=c([R("esri.core.ReadOnlyMultiOriginJSONSupport")],Kq);const Ize=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){return HO(this).delete(r,Ap(n))}write(r,n){return wre(this,r=r||{},n),r}setAtOrigin(r,n,i){hs(this).setAtOrigin(r,n,Ap(i))}removeOrigin(r){const n=HO(this),i=Ap(r),s=n.keys(i);for(const o of s)n.originOf(o)===i&&n.set(o,n.get(o,i),$t.USER)}updateOrigin(r,n){const i=HO(this),s=Ap(n),o=ks(this,r);for(let a=s+1;a<uA;++a)i.delete(r,a);i.set(r,o,s)}toJSON(r){return this.write({},r)}};return t=c([R("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function HO(e){return hs(e).store}const Fk=e=>{let t=class extends Ize(Ece(e)){constructor(...r){super(...r)}};return t=c([R("esri.core.MultiOriginJSONSupport")],t),t};let G6=class extends Fk(Be){};G6=c([R("esri.core.MultiOriginJSONSupport")],G6);const Si=(e=>e)(["operational-layers","basemap","ground"]);var W6;let Ff=W6=class extends ae{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new W6({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([p({type:String,json:{write:!0}})],Ff.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],Ff.prototype,"name",void 0),c([p({type:["boolean","date","number","string"],json:{write:!0}})],Ff.prototype,"returnType",void 0),c([p({type:String,json:{write:!0}})],Ff.prototype,"title",void 0),Ff=W6=c([R("esri.form.ExpressionInfo")],Ff);const Oze=Ff;let Df=class extends ae{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([p({type:String,json:{write:!0}})],Df.prototype,"description",void 0),c([p({type:String,json:{write:!0}})],Df.prototype,"label",void 0),c([p()],Df.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],Df.prototype,"visibilityExpression",void 0),Df=c([R("esri.form.elements.Element")],Df);const Hm=Df;var q6;let qT=q6=class extends ae{constructor(e){super(e),this.type=null}clone(){return new q6({type:this.type})}};c([p({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],qT.prototype,"type",void 0),qT=q6=c([R("esri.form.elements.inputs.AttachmentInput")],qT);const Pze=qT;var H6;let zf=H6=class extends Hm{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new H6({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};c([p({type:String,json:{write:!0}})],zf.prototype,"attachmentKeyword",void 0),c([p({type:String,json:{write:!0}})],zf.prototype,"editableExpression",void 0),c([p({type:Pze,json:{read:{source:"inputType"},write:{target:"inputType"}}})],zf.prototype,"input",void 0),c([p({type:["attachment"],json:{read:!1,write:!0}})],zf.prototype,"type",void 0),zf=H6=c([R("esri.form.elements.AttachmentElement")],zf);const Xq=zf;let HT=class extends ae{constructor(t){super(t),this.type=null}};c([p()],HT.prototype,"type",void 0),HT=c([R("esri.form.elements.inputs.Input")],HT);const bd=HT;let Kb=class extends bd{constructor(t){super(t),this.maxLength=null,this.minLength=0}};c([p({type:Number,json:{write:!0}})],Kb.prototype,"maxLength",void 0),c([p({type:Number,json:{write:!0}})],Kb.prototype,"minLength",void 0),Kb=c([R("esri.form.elements.inputs.TextInput")],Kb);const mD=Kb;var Z6;let ZT=Z6=class extends mD{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new Z6({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["barcode-scanner"],json:{read:!1,write:!0}})],ZT.prototype,"type",void 0),ZT=Z6=c([R("esri.form.elements.inputs.BarcodeScannerInput")],ZT);const Aze=ZT;var Y6;let wg=Y6=class extends bd{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Y6({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([p({type:String,json:{write:!0}})],wg.prototype,"noValueOptionLabel",void 0),c([p({type:Boolean,json:{write:!0}})],wg.prototype,"showNoValueOption",void 0),c([p({type:["combo-box"],json:{read:!1,write:!0}})],wg.prototype,"type",void 0),wg=Y6=c([R("esri.form.elements.inputs.ComboBoxInput")],wg);const Rze=wg;var J6;function Qq(e){return e??null}function eH(e){return e??null}let lu=J6=class extends bd{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return Qq(t.max)}writeMax(e,t){t.max=eH(e)}readMin(e,t){return Qq(t.min)}writeMin(e,t){t.min=eH(e)}clone(){return new J6({max:this.max,min:this.min})}};c([p({type:String,json:{type:String,write:!0}})],lu.prototype,"max",void 0),c([ue("max")],lu.prototype,"readMax",null),c([ye("max")],lu.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],lu.prototype,"min",void 0),c([ue("min")],lu.prototype,"readMin",null),c([ye("min")],lu.prototype,"writeMin",null),c([p({type:["date-picker"],json:{read:!1,write:!0}})],lu.prototype,"type",void 0),lu=J6=c([R("esri.form.elements.inputs.DatePickerInput")],lu);const Lze=lu;var K6;function ZO(e){return e??null}function YO(e){return e??null}let Hs=K6=class extends bd{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return ZO(t.max)}writeMax(e,t){t.max=YO(e)}readMin(e,t){return ZO(t.min)}writeMin(e,t){t.min=YO(e)}readTimeResolution(e,t){return ZO(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=YO(e)}clone(){return new K6({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([p({type:Boolean,json:{write:!0}})],Hs.prototype,"includeTimeOffset",void 0),c([p({type:String,json:{type:String,write:!0}})],Hs.prototype,"max",void 0),c([ue("max")],Hs.prototype,"readMax",null),c([ye("max")],Hs.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],Hs.prototype,"min",void 0),c([ue("min")],Hs.prototype,"readMin",null),c([ye("min")],Hs.prototype,"writeMin",null),c([p({type:String,json:{type:String,write:!0}})],Hs.prototype,"timeResolution",void 0),c([ue("timeResolution")],Hs.prototype,"readTimeResolution",null),c([ye("timeResolution")],Hs.prototype,"writeTimeResolution",null),c([p({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Hs.prototype,"type",void 0),Hs=K6=c([R("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Hs);const jze=Hs;var X6;function tH(e){return e!=null?new Date(e):null}function rH(e){return e?e.getTime():null}let yl=X6=class extends bd{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return tH(t.max)}writeMax(e,t){t.max=rH(e)}readMin(e,t){return tH(t.min)}writeMin(e,t){t.min=rH(e)}clone(){return new X6({includeTime:this.includeTime,max:this.max,min:this.min})}};c([p({type:Boolean,json:{write:!0}})],yl.prototype,"includeTime",void 0),c([p({type:Date,json:{type:Number,write:!0}})],yl.prototype,"max",void 0),c([ue("max")],yl.prototype,"readMax",null),c([ye("max")],yl.prototype,"writeMax",null),c([p({type:Date,json:{type:Number,write:!0}})],yl.prototype,"min",void 0),c([ue("min")],yl.prototype,"readMin",null),c([ye("min")],yl.prototype,"writeMin",null),c([p({type:["datetime-picker"],json:{read:!1,write:!0}})],yl.prototype,"type",void 0),yl=X6=c([R("esri.form.elements.inputs.DateTimePickerInput")],yl);const Nze=yl;var Q6;let _g=Q6=class extends bd{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new Q6({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([p({type:String,json:{write:!0}})],_g.prototype,"noValueOptionLabel",void 0),c([p({type:Boolean,json:{write:!0}})],_g.prototype,"showNoValueOption",void 0),c([p({type:["radio-buttons"],json:{read:!1,write:!0}})],_g.prototype,"type",void 0),_g=Q6=c([R("esri.form.elements.inputs.RadioButtonsInput")],_g);const Fze=_g;var ej;let xg=ej=class extends bd{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new ej({offValue:this.offValue,onValue:this.onValue})}};c([p({type:[String,Number],json:{write:!0}})],xg.prototype,"offValue",void 0),c([p({type:[String,Number],json:{write:!0}})],xg.prototype,"onValue",void 0),c([p({type:["switch"],json:{read:!1,write:!0}})],xg.prototype,"type",void 0),xg=ej=c([R("esri.form.elements.inputs.SwitchInput")],xg);const Dze=xg;var tj;let YT=tj=class extends mD{constructor(e){super(e),this.type="text-area"}clone(){return new tj({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["text-area"],json:{read:!1,write:!0}})],YT.prototype,"type",void 0),YT=tj=c([R("esri.form.elements.inputs.TextAreaInput")],YT);const zze=YT;var rj;let JT=rj=class extends mD{constructor(e){super(e),this.type="text-box"}clone(){return new rj({maxLength:this.maxLength,minLength:this.minLength})}};c([p({type:["text-box"],json:{read:!1,write:!0}})],JT.prototype,"type",void 0),JT=rj=c([R("esri.form.elements.inputs.TextBoxInput")],JT);const Vze=JT;var nj;function JO(e){return e??null}function KO(e){return e??null}let To=nj=class extends bd{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return JO(t.max)}writeMax(e,t){t.max=KO(e)}readMin(e,t){return JO(t.min)}writeMin(e,t){t.min=KO(e)}readTimeResolution(e,t){return JO(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=KO(e)}clone(){return new nj({max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([p({type:String,json:{type:String,write:!0}})],To.prototype,"max",void 0),c([ue("max")],To.prototype,"readMax",null),c([ye("max")],To.prototype,"writeMax",null),c([p({type:String,json:{type:String,write:!0}})],To.prototype,"min",void 0),c([ue("min")],To.prototype,"readMin",null),c([ye("min")],To.prototype,"writeMin",null),c([p({type:String,json:{type:String,write:!0}})],To.prototype,"timeResolution",void 0),c([ue("timeResolution")],To.prototype,"readTimeResolution",null),c([ye("timeResolution")],To.prototype,"writeTimeResolution",null),c([p({type:["time-picker"],json:{read:!1,write:!0}})],To.prototype,"type",void 0),To=nj=c([R("esri.form.elements.inputs.TimePickerInput")],To);const Bze=To,Uze={base:bd,key:"type",typeMap:{"barcode-scanner":Aze,"combo-box":Rze,"date-picker":Lze,"datetime-picker":Nze,"datetimeoffset-picker":jze,"radio-buttons":Fze,switch:Dze,"text-area":zze,"text-box":Vze,"time-picker":Bze}};var ij;let oa=ij=class extends Hm{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new ij({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([p({types:bae,json:{read:{reader:Sk},write:!0}})],oa.prototype,"domain",void 0),c([p({type:Boolean,json:{write:!0}})],oa.prototype,"editable",null),c([p({type:String,json:{write:!0}})],oa.prototype,"editableExpression",void 0),c([p({type:String,json:{write:!0}})],oa.prototype,"fieldName",void 0),c([p({type:String,json:{write:!0}})],oa.prototype,"hint",void 0),c([p({types:Uze,json:{read:{source:"inputType"},write:{target:"inputType"}}})],oa.prototype,"input",void 0),c([p({type:String,json:{write:!0}})],oa.prototype,"requiredExpression",void 0),c([p({type:String,json:{read:!1,write:!0}})],oa.prototype,"type",void 0),c([p({type:String,json:{write:!0}})],oa.prototype,"valueExpression",void 0),oa=ij=c([R("esri.form.elements.FieldElement")],oa);const nH=oa;var sj;let Tc=sj=class extends Hm{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new sj({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:W(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([p({type:Number,json:{write:!0}})],Tc.prototype,"displayCount",void 0),c([p({type:["list"],json:{write:!0}})],Tc.prototype,"displayType",void 0),c([p({type:String,json:{write:!0}})],Tc.prototype,"editableExpression",void 0),c([p({type:[xF],json:{write:!0}})],Tc.prototype,"orderByFields",void 0),c([p({type:Number,json:{write:!0}})],Tc.prototype,"relationshipId",void 0),c([p({type:["relationship"],json:{read:!1,write:!0}})],Tc.prototype,"type",void 0),Tc=sj=c([R("esri.form.elements.RelationshipElement")],Tc);const iH=Tc;var oj;let Sg=oj=class extends Hm{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new oj({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};c([p({type:String,json:{write:!0}})],Sg.prototype,"text",void 0),c([p({type:String,json:{write:!0}})],Sg.prototype,"textFormat",void 0),c([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Sg.prototype,"type",void 0),Sg=oj=c([R("esri.form.elements.TextElement")],Sg);const sH=Sg;function kce(e){return{typesWithGroup:{base:Hm,key:"type",typeMap:{attachment:Xq,field:nH,group:e,relationship:iH,text:sH}},typesWithoutGroup:{base:Hm,key:"type",typeMap:{attachment:Xq,field:nH,relationship:iH,text:sH}}}}function Ice(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function Oce(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function Pce(e,t,r=!0){return e?e.map(n=>Nu(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var aj;let yu=aj=class extends Hm{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return Pce(e,XO,!1)}readElements(e,t){return Ice(t.formElements,XO,!1)}writeElements(e,t){t.formElements=Oce(e,XO,!1)}clone(){return new aj({description:this.description,elements:W(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([p({json:{write:!0}})],yu.prototype,"elements",void 0),c([tr("elements")],yu.prototype,"castElements",null),c([ue("elements",["formElements"])],yu.prototype,"readElements",null),c([ye("elements")],yu.prototype,"writeElements",null),c([p({type:["collapsed","expanded"],json:{write:!0}})],yu.prototype,"initialState",void 0),c([p({type:String,json:{read:!1,write:!0}})],yu.prototype,"type",void 0),yu=aj=c([R("esri.form.elements.GroupElement")],yu);const XO=kce(yu),Gze=yu,Wze=e=>e.type==="field",qze=e=>e.type==="group",Hze=e=>e.type==="text";var lj;const QO=kce(Gze);let gl=lj=class extends ae{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return Pce(e,QO)}readElements(e,t){return Ice(t.formElements,QO)}writeElements(e,t){t.formElements=Oce(e,QO)}clone(){return new lj({description:this.description,expressionInfos:W(this.expressionInfos),elements:W(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const r=new Set,{description:n,elements:i,expressionInfos:s,title:o}=this;if(Bw(r,e,n),Bw(r,e,o),!i)return[];const a=Zze(i,s).map(l=>fs(r,e,l));await Promise.all(a);for(const l of i)Ace(r,{fieldsIndex:e,relationships:t},l);return Array.from(r).sort()}};function Ace(e,t,r){var i;const{fieldsIndex:n}=t;if(!n||n.fields.length!==e.size)switch(Bw(e,n,r.label),Bw(e,n,r.description),r.type){case"field":Rs(e,n,r.fieldName);break;case"group":r.elements.forEach(s=>Ace(e,t,s));break;case"relationship":if(t.relationships){const s=t.relationships.find(o=>o.id===r.relationshipId);s&&Rs(e,n,s.keyField)}Wm(e,n,(i=r.orderByFields)==null?void 0:i.map(s=>s.field));break;case"text":Bw(e,n,r.text)}}function Zze(e,t){if(!t||t.length===0)return[];const r=Rce(e),n=[];for(const i of t)r.has(i.name)&&n.push(i.expression);return n}function Rce(e){const t=new Set;for(const r of e)if(CB(t,r.visibilityExpression),!Hze(r)){if(qze(r))ZM(t,Rce(r.elements));else if(CB(t,r.editableExpression),Wze(r)){const{requiredExpression:n,valueExpression:i}=r;ZM(t,[n,i])}}return t}function Bw(e,t,r){Wm(e,t,koe(r))}c([p({type:String,json:{write:!0}})],gl.prototype,"description",void 0),c([p({json:{write:!0}})],gl.prototype,"elements",void 0),c([tr("elements")],gl.prototype,"castElements",null),c([ue("elements",["formElements"])],gl.prototype,"readElements",null),c([ye("elements")],gl.prototype,"writeElements",null),c([p({type:[Oze],json:{write:!0}})],gl.prototype,"expressionInfos",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],gl.prototype,"preserveFieldValuesWhenHidden",void 0),c([p({type:String,json:{write:!0}})],gl.prototype,"title",void 0),gl=lj=c([R("esri.form.FormTemplate")],gl);const Yze=gl;function oH(e,t,r){if(e.hasM==null||e.hasZ)for(const n of t)for(const i of n)i.length>2&&(i[2]*=r)}function Jze(e,t,r){if(!e&&!t||!r)return;const n=m3(r);aH(e,r,n),aH(t,r,n)}function aH(e,t,r){if(e)for(const n of e)Kze(n.geometry,t,r)}function Kze(e,t,r){if(!(e!=null&&e.spatialReference)||jn(e.spatialReference,t))return;const n=m3(e.spatialReference)/r;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)oH(e,e.rings,n);else if("paths"in e)oH(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=n)}}function lH(e,t,r){if(!(r!=null&&r.features)||!r.hasZ)return;const n=Hie(r.geometryType,t,e.outSpatialReference);if(n!=null)for(const i of r.features)n(i.geometry)}var uj;const cj=new kt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let mi=uj=class extends ae{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var i;const r=Qe.fromJSON(t.spatialReference),n=[];for(let s=0;s<e.length;s++){const o=e[s],a=Uo.fromJSON(o),l=(i=o.geometry)==null?void 0:i.spatialReference;a.geometry==null||l||(a.geometry.spatialReference=r);const u=o.aggregateGeometries,d=a.aggregateGeometries;if(u&&d!=null)for(const h in d){const f=d[h],y=u[h],g=y==null?void 0:y.spatialReference;f==null||g||(f.spatialReference=r)}n.push(a)}return n}writeGeometryType(e,t,r,n){if(e)return void cj.write(e,t,r,n);const{features:i}=this;if(i){for(const s of i)if((s==null?void 0:s.geometry)!=null)return void cj.write(s.geometry.type,t,r,n)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=dh(e);return n&&!r&&t.spatialReference&&(n.spatialReference=Qe.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const n of r)if(n&&n.geometry!=null&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new uj(this.cloneProperties())}cloneProperties(){return W({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const i=e==null?void 0:e[r];n.geometry=(i==null?void 0:i.toJSON())||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=u=>Math.round((u-n)/t),o=u=>Math.round((i-u)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let u=0,d=a.length;u<d;u++)l!=null&&l(a[u].geometry)||(a.splice(u,1),u--,d--);return this.transform=e,this}unquantize(){var f,y;const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,o]}=r,a=g=>g*s+n,l=g=>i-g*o;let u=null,d=null;if(this.hasZ&&((f=r==null?void 0:r.scale)==null?void 0:f[2])!=null){const{translate:[,,g],scale:[,,v]}=r;u=b=>b*v+g}if(this.hasM&&((y=r==null?void 0:r.scale)==null?void 0:y[3])!=null){const{translate:[,,,g],scale:[,,,v]}=r;d=b=>b==null?b:b*v+g}const h=this._getHydrationFunction(e,a,l,u,d);for(const{geometry:g}of t)g!=null&&h&&h(g);return this.transform=null,this}_quantizePoints(e,t,r){let n,i;const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];if(o>0){const u=t(l[0]),d=r(l[1]);u===n&&d===i||(s.push([u-n,d-i]),n=u,i=d)}else n=t(l[0]),i=r(l[1]),s.push([n,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return e==="point"?n=>(n.x=t(n.x),n.y=r(n.y),n):e==="polyline"||e==="polygon"?n=>{const i=h0(n)?n.rings:n.paths,s=[];for(let o=0,a=i.length;o<a;o++){const l=i[o],u=this._quantizePoints(l,t,r);u&&s.push(u)}return s.length>0?(h0(n)?n.rings=s:n.paths=s,n):null}:e==="multipoint"?n=>{const i=this._quantizePoints(n.points,t,r);return i&&i.length>0?(n.points=i,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,r,n,i){return e==="point"?s=>{s.x=t(s.x),s.y=r(s.y),n&&(s.z=n(s.z))}:e==="polyline"||e==="polygon"?s=>{const o=h0(s)?s.rings:s.paths;let a,l;for(let u=0,d=o.length;u<d;u++){const h=o[u];for(let f=0,y=h.length;f<y;f++){const g=h[f];f>0?(a+=g[0],l+=g[1]):(a=g[0],l=g[1]),g[0]=t(a),g[1]=r(l)}}if(n&&i)for(let u=0,d=o.length;u<d;u++){const h=o[u];for(let f=0,y=h.length;f<y;f++){const g=h[f];g[2]=n(g[2]),g[3]=i(g[3])}}else if(n)for(let u=0,d=o.length;u<d;u++){const h=o[u];for(let f=0,y=h.length;f<y;f++){const g=h[f];g[2]=n(g[2])}}else if(i)for(let u=0,d=o.length;u<d;u++){const h=o[u];for(let f=0,y=h.length;f<y;f++){const g=h[f];g[2]=i(g[2])}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=r(s.ymin),s.xmax=t(s.xmax),s.ymax=r(s.ymax),n&&s.zmax!=null&&s.zmin!=null&&(s.zmax=n(s.zmax),s.zmin=n(s.zmin)),i&&s.mmax!=null&&s.mmin!=null&&(s.mmax=i(s.mmax),s.mmin=i(s.mmin))}:e==="multipoint"?s=>{const o=s.points;let a,l;for(let u=0,d=o.length;u<d;u++){const h=o[u];u>0?(a+=h[0],l+=h[1]):(a=h[0],l=h[1]),h[0]=t(a),h[1]=r(l)}if(n&&i)for(let u=0,d=o.length;u<d;u++){const h=o[u];h[2]=n(h[2]),h[3]=i(h[3])}else if(n)for(let u=0,d=o.length;u<d;u++){const h=o[u];h[2]=n(h[2])}else if(i)for(let u=0,d=o.length;u<d;u++){const h=o[u];h[2]=i(h[2])}}:null}};c([p({type:String,json:{write:!0}})],mi.prototype,"displayFieldName",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"exceededTransferLimit",void 0),c([p({type:[Uo],json:{write:!0}})],mi.prototype,"features",void 0),c([ue("features")],mi.prototype,"readFeatures",null),c([p({type:[AF],json:{write:!0}})],mi.prototype,"fields",void 0),c([p({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:cj.read}}})],mi.prototype,"geometryType",void 0),c([ye("geometryType")],mi.prototype,"writeGeometryType",null),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"hasM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],mi.prototype,"hasZ",void 0),c([p({types:oy,json:{write:!0}})],mi.prototype,"queryGeometry",void 0),c([ue("queryGeometry")],mi.prototype,"readQueryGeometry",null),c([p({type:Qe,json:{write:!0}})],mi.prototype,"spatialReference",void 0),c([ye("spatialReference")],mi.prototype,"writeSpatialReference",null),c([p({json:{write:!0}})],mi.prototype,"transform",void 0),mi=uj=c([R("esri.rest.support.FeatureSet")],mi),mi.prototype.toJSON.isDefaultToJSON=!0;const Lce=mi;let Xze=0,Fc=class extends Ba.LoadableMixin(Bx(Ce)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var r;const t=(r=this.layer)==null?void 0:r.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);lH(t,this.layer.spatialReference,n);const i=Lce.fromJSON(n);if(!this._requiresClientGraphicMapping())return i;const s=this.layer.objectIdField;for(const o of i.features){const a=o.attributes[s],l=this._idToClientGraphic.get(a);l&&(o.geometry=l.geometry)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new q("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return lH(t,this.layer.spatialReference,n),n}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(n=>({count:n.count,extent:Rt.fromJSON(n.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async _applyEdits(t){if(!this._connection)throw new q("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let n=null;const i=[],s=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const o=d=>"objectId"in d&&d.objectId!=null?d.objectId:"attributes"in d&&d.attributes[r]!=null?d.attributes[r]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const d of t.deleteFeatures){const h=o(d);h!=null&&i.push(h)}const a=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const d of t.updateFeatures)if(s.push(this._serializeFeature(d)),a){const h=o(d);h!=null&&a.set(h,d)}}Jze(n?n.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:u}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:s,deletes:i});return this.fullExtent=l,n&&n.finish(u.uidToObjectId),this._updateClientGraphicIds(a,u),this._createEditsResult(u)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const n=[];for(const{geometry:i}of t)i==null||i.type!=="mesh"||i.hasExtent||i.loaded||n.push(i.load({signal:r}));n.length&&await Promise.all(n)}_updateClientGraphicIds(t,r){if(this._idToClientGraphic){if(t)for(const n of r.updateResults){if(!n.success)continue;const i=t.get(n.objectId);i!=null&&this._addIdToClientGraphic(i)}for(const n of r.deleteResults)n.success&&this._idToClientGraphic.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new q("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,n=new Array(t.length);let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=this._serializeFeature(a);i||a.geometry==null||(i=a.geometry.type),n[o]=l,r.set(`${l.uid}`,a)}const s=this;return{features:n,inferredGeometryType:i,finish(o){const a=s.sourceJSON.objectIdField;for(const l in o){const u=o[l],d=r.get(l);d&&(d.attributes||(d.attributes={}),u===-1?delete d.attributes[a]:d.attributes[a]=u,s._addIdToClientGraphic(d))}}}}_addIdToClientGraphic(t){var i;if(!this._idToClientGraphic)return;const r=this.sourceJSON.objectIdField,n=(i=t.attributes)==null?void 0:i[r];n!=null&&this._idToClientGraphic.set(n,t)}get _layerOrSourceGeometryType(){var t,r;return((t=this.layer)==null?void 0:t.geometryType)??((r=this.sourceJSON)==null?void 0:r.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,n=this._geometryForSerialization(t),i=(Xze++).toString();return n?{uid:i,geometry:n.toJSON(),attributes:r}:{uid:i,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return r==null?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?Va.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await Tke("MemorySourceWorker",{strategy:J("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:r,spatialReference:n,objectIdField:i,hasM:s,hasZ:o,timeInfo:a,dateFieldsTimeZone:l}=this.layer,u=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const d=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",g=>{ie.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const h={features:d.features,fields:r==null?void 0:r.map(g=>g.toJSON()),geometryType:uU.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||o,objectIdField:i,spatialReference:u?null:n&&n.toJSON(),timeInfo:(a==null?void 0:a.toJSON())??null,dateFieldsTimeZone:l},f=await this._connection.invoke("load",h,{signal:t});for(const g of f.warnings)ie.getLogger(this.layer).warn("#load()",`${g.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:g});f.featureErrors.length&&ie.getLogger(this.layer).warn("#load()",`Encountered ${f.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:f.featureErrors});const y=f.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(y.geometryType=uU.toJSON(d.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),d.finish(f.assignedObjectIds)}};c([N9({Type:Uo,ensureType:Xr(Uo)})],Fc.prototype,"itemType",void 0),c([p()],Fc.prototype,"type",void 0),c([p({constructOnly:!0})],Fc.prototype,"layer",void 0),c([p({readOnly:!0})],Fc.prototype,"_workerGeometryType",null),c([p()],Fc.prototype,"sourceJSON",void 0),Fc=c([R("esri.layers.graphics.sources.MemorySource")],Fc);function Qze(e){return"portalItem"in e}const eVe=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):Qze(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([p({type:String})],t.prototype,"apiKey",null),t=c([R("esri.layers.mixins.APIKeyMixin")],t),t},tVe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Pv(this.url);if(r!=null&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",HRe(r,ie.getLogger(this)))}};return c([p()],t.prototype,"title",null),c([p({type:String})],t.prototype,"url",null),t=c([R("esri.layers.mixins.ArcGISService")],t),t};var uH,cH,jce={exports:{}};cH=function(){function e(i,s){function o(){this.constructor=i}o.prototype=s.prototype,i.prototype=new o}function t(i,s,o,a){var l=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=s,l.found=o,l.location=a,l.name="SyntaxError",l}function r(i,s,o){return o=o||" ",i.length>s?i:(s-=i.length,i+(o+=o.repeat(s)).slice(0,s))}function n(i,s){var o,a={},l=(s=s!==void 0?s:{}).grammarSource,u={start:ho},d=ho,h="none",f=")",y=",",g="(",v="%",b="px",_="cm",x="mm",S="in",$="pt",C="pc",k="deg",E="rad",P="grad",T="turn",M="#",O=".",j="e",N=/^[ \t\n\r]/,L=/^[a-z\-]/,z=/^[0-9a-fA-F]/,B=/^[+\-]/,U=/^[0-9]/,F=Nt("none"),D=Me("none",!1),K=Me(")",!1),le=Me(",",!1),he=Nt("whitespace"),Ue=De([" ","	",`
`,"\r"],!1,!1),fe=Nt("function"),Ge=Me("(",!1),se=Nt("identifier"),we=De([["a","z"],"-"],!1,!1),de=Nt("percentage"),Y=Me("%",!1),ce=Nt("length"),oe=Me("px",!1),X=Me("cm",!1),$e=Me("mm",!1),Pe=Me("in",!1),dt=Me("pt",!1),We=Me("pc",!1),Ye=Nt("angle"),ot=Me("deg",!1),Ht=Me("rad",!1),Tt=Me("grad",!1),Lt=Me("turn",!1),Zt=Nt("number"),Ae=Nt("color"),Or=Me("#",!1),Yt=De([["0","9"],["a","f"],["A","F"]],!1,!1),st=De(["+","-"],!1,!1),Le=De([["0","9"]],!1,!1),Wt=Me(".",!1),ur=Me("e",!1),Dt=function(){return[]},Ot=function(V,re){return{type:"function",name:V,parameters:re||[]}},Jt=function(V,re){return re.length>0?mye(V,re,3):[V]},br=function(V){return{type:"quantity",value:V.value,unit:V.unit}},Pt=function(V){return{type:"color",colorType:V.type,value:V.value}},xe=function(V){return V},Te=function(){return Vs()},ut=function(V){return{value:V,unit:"%"}},be=function(V){return{value:V,unit:"px"}},Fe=function(V){return{value:V,unit:"cm"}},ct=function(V){return{value:V,unit:"mm"}},yt=function(V){return{value:V,unit:"in"}},qt=function(V){return{value:V,unit:"pt"}},cr=function(V){return{value:V,unit:"pc"}},pt=function(V){return{value:V,unit:"deg"}},Pr=function(V){return{value:V,unit:"rad"}},Wr=function(V){return{value:V,unit:"grad"}},qr=function(V){return{value:V,unit:"turn"}},Cn=function(V){return{value:V,unit:null}},Qn=function(){return{type:"hex",value:Vs()}},gs=function(V){return{type:"function",value:V}},ei=function(){return{type:"named",value:Vs()}},Re=function(){return parseFloat(Vs())},G=0,je=0,Mt=[{line:1,column:1}],mt=0,Kt=[],_e=0;if("startRule"in s){if(!(s.startRule in u))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');d=u[s.startRule]}function Vs(){return i.substring(je,G)}function Me(V,re){return{type:"literal",text:V,ignoreCase:re}}function De(V,re,pe){return{type:"class",parts:V,inverted:re,ignoreCase:pe}}function jt(){return{type:"end"}}function Nt(V){return{type:"other",description:V}}function zt(V){var re,pe=Mt[V];if(pe)return pe;for(re=V-1;!Mt[re];)re--;for(pe={line:(pe=Mt[re]).line,column:pe.column};re<V;)i.charCodeAt(re)===10?(pe.line++,pe.column=1):pe.column++,re++;return Mt[V]=pe,pe}function Ar(V,re,pe){var Ct=zt(V),Wn=zt(re);return{source:l,start:{offset:V,line:Ct.line,column:Ct.column},end:{offset:re,line:Wn.line,column:Wn.column}}}function Ie(V){G<mt||(G>mt&&(mt=G,Kt=[]),Kt.push(V))}function Rr(V,re,pe){return new t(t.buildMessage(V,re),V,re,pe)}function ho(){var V;return(V=Xu())===a&&(V=ti()),V}function Xu(){var V,re;return _e++,V=G,Xt(),i.substr(G,4)===h?(re=h,G+=4):(re=a,_e===0&&Ie(D)),re!==a?(Xt(),je=V,V=Dt()):(G=V,V=a),_e--,V===a&&_e===0&&Ie(F),V}function ti(){var V,re;if(V=[],(re=Bs())!==a)for(;re!==a;)V.push(re),re=Bs();else V=a;return V}function Bs(){var V,re,pe,Ct;return V=G,Xt(),(re=Fh())!==a?(Xt(),(pe=Je())===a&&(pe=null),Xt(),i.charCodeAt(G)===41?(Ct=f,G++):(Ct=a,_e===0&&Ie(K)),Ct!==a?(Xt(),je=V,V=Ot(re,pe)):(G=V,V=a)):(G=V,V=a),V}function Je(){var V,re,pe,Ct,Wn,wn,Ho,bS;if(V=G,(re=fo())!==a){for(pe=[],Ct=G,Wn=Xt(),i.charCodeAt(G)===44?(wn=y,G++):(wn=a,_e===0&&Ie(le)),wn===a&&(wn=null),Ho=Xt(),(bS=fo())!==a?Ct=Wn=[Wn,wn,Ho,bS]:(G=Ct,Ct=a);Ct!==a;)pe.push(Ct),Ct=G,Wn=Xt(),i.charCodeAt(G)===44?(wn=y,G++):(wn=a,_e===0&&Ie(le)),wn===a&&(wn=null),Ho=Xt(),(bS=fo())!==a?Ct=Wn=[Wn,wn,Ho,bS]:(G=Ct,Ct=a);je=V,V=Jt(re,pe)}else G=V,V=a;return V}function fo(){var V,re;return V=G,(re=gS())===a&&(re=Dh())===a&&(re=vS())===a&&(re=Qu()),re!==a&&(je=V,re=br(re)),(V=re)===a&&(V=G,(re=r5())!==a&&(je=V,re=Pt(re)),V=re),V}function Xt(){var V,re;for(_e++,V=[],N.test(i.charAt(G))?(re=i.charAt(G),G++):(re=a,_e===0&&Ie(Ue));re!==a;)V.push(re),N.test(i.charAt(G))?(re=i.charAt(G),G++):(re=a,_e===0&&Ie(Ue));return _e--,re=a,_e===0&&Ie(he),V}function Fh(){var V,re,pe;return _e++,V=G,(re=Qv())!==a?(i.charCodeAt(G)===40?(pe=g,G++):(pe=a,_e===0&&Ie(Ge)),pe!==a?(je=V,V=xe(re)):(G=V,V=a)):(G=V,V=a),_e--,V===a&&(re=a,_e===0&&Ie(fe)),V}function Qv(){var V,re,pe;if(_e++,V=G,re=[],L.test(i.charAt(G))?(pe=i.charAt(G),G++):(pe=a,_e===0&&Ie(we)),pe!==a)for(;pe!==a;)re.push(pe),L.test(i.charAt(G))?(pe=i.charAt(G),G++):(pe=a,_e===0&&Ie(we));else re=a;return re!==a&&(je=V,re=Te()),_e--,(V=re)===a&&(re=a,_e===0&&Ie(se)),V}function gS(){var V,re,pe;return _e++,V=G,Xt(),(re=Gn())!==a?(i.charCodeAt(G)===37?(pe=v,G++):(pe=a,_e===0&&Ie(Y)),pe!==a?(je=V,V=ut(re)):(G=V,V=a)):(G=V,V=a),_e--,V===a&&_e===0&&Ie(de),V}function Dh(){var V,re,pe;return _e++,V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===b?(pe=b,G+=2):(pe=a,_e===0&&Ie(oe)),pe!==a?(je=V,V=be(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===_?(pe=_,G+=2):(pe=a,_e===0&&Ie(X)),pe!==a?(je=V,V=Fe(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===x?(pe=x,G+=2):(pe=a,_e===0&&Ie($e)),pe!==a?(je=V,V=ct(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===S?(pe=S,G+=2):(pe=a,_e===0&&Ie(Pe)),pe!==a?(je=V,V=yt(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===$?(pe=$,G+=2):(pe=a,_e===0&&Ie(dt)),pe!==a?(je=V,V=qt(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,Xt(),(re=Gn())!==a?(i.substr(G,2)===C?(pe=C,G+=2):(pe=a,_e===0&&Ie(We)),pe!==a?(je=V,V=cr(re)):(G=V,V=a)):(G=V,V=a)))))),_e--,V===a&&_e===0&&Ie(ce),V}function vS(){var V,re,pe;return _e++,V=G,(re=Gn())!==a?(i.substr(G,3)===k?(pe=k,G+=3):(pe=a,_e===0&&Ie(ot)),pe!==a?(je=V,V=pt(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,(re=Gn())!==a?(i.substr(G,3)===E?(pe=E,G+=3):(pe=a,_e===0&&Ie(Ht)),pe!==a?(je=V,V=Pr(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,(re=Gn())!==a?(i.substr(G,4)===P?(pe=P,G+=4):(pe=a,_e===0&&Ie(Tt)),pe!==a?(je=V,V=Wr(re)):(G=V,V=a)):(G=V,V=a),V===a&&(V=G,(re=Gn())!==a?(i.substr(G,4)===T?(pe=T,G+=4):(pe=a,_e===0&&Ie(Lt)),pe!==a?(je=V,V=qr(re)):(G=V,V=a)):(G=V,V=a)))),_e--,V===a&&(re=a,_e===0&&Ie(Ye)),V}function Qu(){var V,re;return _e++,V=G,Xt(),(re=Gn())!==a?(je=V,V=Cn(re)):(G=V,V=a),_e--,V===a&&_e===0&&Ie(Zt),V}function r5(){var V,re,pe,Ct;if(_e++,V=G,i.charCodeAt(G)===35?(re=M,G++):(re=a,_e===0&&Ie(Or)),re!==a){if(pe=[],z.test(i.charAt(G))?(Ct=i.charAt(G),G++):(Ct=a,_e===0&&Ie(Yt)),Ct!==a)for(;Ct!==a;)pe.push(Ct),z.test(i.charAt(G))?(Ct=i.charAt(G),G++):(Ct=a,_e===0&&Ie(Yt));else pe=a;pe!==a?(je=V,V=Qn()):(G=V,V=a)}else G=V,V=a;return V===a&&(V=G,(re=Bs())!==a&&(je=V,re=gs(re)),(V=re)===a&&(V=G,(re=Qv())!==a&&(je=V,re=ei()),V=re)),_e--,V===a&&(re=a,_e===0&&Ie(Ae)),V}function Gn(){var V,re,pe,Ct,Wn,wn,Ho;for(V=G,B.test(i.charAt(G))?(i.charAt(G),G++):_e===0&&Ie(st),re=G,pe=[],U.test(i.charAt(G))?(Ct=i.charAt(G),G++):(Ct=a,_e===0&&Ie(Le));Ct!==a;)pe.push(Ct),U.test(i.charAt(G))?(Ct=i.charAt(G),G++):(Ct=a,_e===0&&Ie(Le));if(i.charCodeAt(G)===46?(Ct=O,G++):(Ct=a,_e===0&&Ie(Wt)),Ct!==a){if(Wn=[],U.test(i.charAt(G))?(wn=i.charAt(G),G++):(wn=a,_e===0&&Ie(Le)),wn!==a)for(;wn!==a;)Wn.push(wn),U.test(i.charAt(G))?(wn=i.charAt(G),G++):(wn=a,_e===0&&Ie(Le));else Wn=a;Wn!==a?re=pe=[pe,Ct,Wn]:(G=re,re=a)}else G=re,re=a;if(re===a)if(re=[],U.test(i.charAt(G))?(pe=i.charAt(G),G++):(pe=a,_e===0&&Ie(Le)),pe!==a)for(;pe!==a;)re.push(pe),U.test(i.charAt(G))?(pe=i.charAt(G),G++):(pe=a,_e===0&&Ie(Le));else re=a;if(re!==a){if(pe=G,i.charCodeAt(G)===101?(Ct=j,G++):(Ct=a,_e===0&&Ie(ur)),Ct!==a){if(B.test(i.charAt(G))?(Wn=i.charAt(G),G++):(Wn=a,_e===0&&Ie(st)),Wn===a&&(Wn=null),wn=[],U.test(i.charAt(G))?(Ho=i.charAt(G),G++):(Ho=a,_e===0&&Ie(Le)),Ho!==a)for(;Ho!==a;)wn.push(Ho),U.test(i.charAt(G))?(Ho=i.charAt(G),G++):(Ho=a,_e===0&&Ie(Le));else wn=a;wn!==a?pe=Ct=[Ct,Wn,wn]:(G=pe,pe=a)}else G=pe,pe=a;pe===a&&(pe=null),je=V,V=Re()}else G=V,V=a;return V}function e1(V,re){return V.map(function(pe){return pe[re]})}function mye(V,re,pe){return[V].concat(e1(re,pe))}if((o=d())!==a&&G===i.length)return o;throw o!==a&&G<i.length&&Ie(jt()),Rr(Kt,mt<i.length?i.charAt(mt):null,mt<i.length?Ar(mt,mt+1):Ar(mt,mt))}return e(t,Error),t.prototype.format=function(i){var s="Error: "+this.message;if(this.location){var o,a=null;for(o=0;o<i.length;o++)if(i[o].source===this.location.source){a=i[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,u=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(l):l,d=this.location.source+":"+u.line+":"+u.column;if(a){var h=this.location.end,f=r("",u.line.toString().length," "),y=a[l.line-1],g=(l.line===h.line?h.column:y.length+1)-l.column||1;s+=`
 --> `+d+`
`+f+` |
`+u.line+" | "+y+`
`+f+" | "+r("",l.column-1," ")+r("",g,"^")}else s+=`
 at `+d}return s},t.buildMessage=function(i,s){var o={literal:function(y){return'"'+l(y.text)+'"'},class:function(y){var g=y.parts.map(function(v){return Array.isArray(v)?u(v[0])+"-"+u(v[1]):u(v)});return"["+(y.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function a(y){return y.charCodeAt(0).toString(16).toUpperCase()}function l(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function u(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+a(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+a(g)})}function d(y){return o[y.type](y)}function h(y){var g,v,b=y.map(d);if(b.sort(),b.length>0){for(g=1,v=1;g<b.length;g++)b[g-1]!==b[g]&&(b[v]=b[g],v++);b.length=v}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function f(y){return y?'"'+l(y)+'"':"end of input"}return"Expected "+h(i)+" but "+f(s)+" found."},{SyntaxError:t,parse:n}},(uH=jce).exports&&(uH.exports=cH());var rVe=jce.exports;function Nce(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=dH(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new q("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:dH(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!RPe(t[r].effects,t[r+1].effects))throw new q("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});LPe(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function dH(e){let t;if(!e)return[];try{t=rVe.parse(e)}catch(r){throw new q("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>nVe(r))}function nVe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return iVe(e);case"opacity":return sVe(e);case"hue-rotate":return oVe(e);case"blur":return aVe(e);case"drop-shadow":return lVe(e);case"bloom":return uVe(e)}}catch(t){throw t.details.filter=e,t}throw new q("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function iVe(e){let t=1;return Nv(e.parameters,1),e.parameters.length===1&&(t=Sl(e.parameters[0])),new wR(e.name,t)}function sVe(e){let t=1;return Nv(e.parameters,1),e.parameters.length===1&&(t=Sl(e.parameters[0])),new toe(t)}function oVe(e){let t=0;return Nv(e.parameters,1),e.parameters.length===1&&(t=mVe(e.parameters[0])),new Qse(t)}function aVe(e){let t=0;return Nv(e.parameters,1),e.parameters.length===1&&(t=vD(e.parameters[0]),nS(t,e.parameters[0])),new Zse(t)}function lVe(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new q("effect:type-error","Accepts only one color",{});r=yVe(n)}else{const i=vD(n);if(Object.isFrozen(t))throw new q("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&nS(i,n)}if(t.length<2||t.length>3)throw new q("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Kse(t[0],t[1],t[2]||0,r||Fce("black"))}function uVe(e){let t=1,r=0,n=0;return Nv(e.parameters,3),e.parameters[0]&&(t=Sl(e.parameters[0])),e.parameters[1]&&(r=vD(e.parameters[1]),nS(r,e.parameters[1])),e.parameters[2]&&(n=Sl(e.parameters[2])),new qse(t,r,n)}function Nv(e,t){if(e.length>t)throw new q("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function Dk(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in gD)return"<length>";if(e.unit in yD)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function nS(e,t){if(e<0)throw new q("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function cVe(e){if(e.type!=="quantity"||e.unit!==null)throw new q("effect:type-error",`Expected <double>, Actual: ${Dk(e)}`,{term:e})}function dVe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new q("effect:type-error",`Expected <double> or <percentage>, Actual: ${Dk(e)}`,{term:e})}const yD={deg:1,grad:.9,rad:180/Math.PI,turn:360};function pVe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&yD[e.unit]!=null))throw new q("effect:type-error",`Expected <angle>, Actual: ${Dk(e)}`,{term:e})}const gD={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function hVe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&gD[e.unit]!=null))throw new q("effect:type-error",`Expected <length>, Actual: ${Dk(e)}`,{term:e})}function Sl(e){dVe(e);const t=e.value;return nS(t,e),e.unit==="%"?.01*t:t}function fVe(e){return cVe(e),nS(e.value,e),e.value}function mVe(e){return pVe(e),e.value*yD[e.unit]||0}function vD(e){return hVe(e),e.value*gD[e.unit]||0}function yVe(e){switch(e.colorType){case"hex":return COe(e.value);case"named":return Fce(e.value);case"function":return bVe(e.value)}}function Fce(e){if(!Fse(e))throw new q("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return MOe(e)}const gVe=/^rgba?/i,vVe=/^hsla?/i;function bVe(e){if(Nv(e.parameters,4),gVe.test(e.name))return[Sl(e.parameters[0]),Sl(e.parameters[1]),Sl(e.parameters[2]),e.parameters[3]?Sl(e.parameters[3]):1];if(vVe.test(e.name))return Dse(fVe(e.parameters[0]),Sl(e.parameters[1]),Sl(e.parameters[2]),e.parameters[3]?Sl(e.parameters[3]):1);throw new q("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function G_(e,t,r){var n;try{return _Ve(e)}catch(i){(n=r==null?void 0:r.messages)==null||n.push(i)}return null}function W_(e,t,r,n){try{const i=wVe(e);ps(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function wVe(e){const t=Nce(e);return t?jPe(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function _Ve(e){if(!e||e.length===0)return null;if(xVe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:pH(r.value)});return t}return pH(e)}function xVe(e){const t=e[0];return!!t&&"scale"in t}function pH(e){if(!(e!=null&&e.length))return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[ac(r,"amount")];break;case"blur":n=[ac(r,"radius","pt")];break;case"hue-rotate":n=[ac(r,"angle","deg")];break;case"drop-shadow":n=[ac(r,"xoffset","pt"),ac(r,"yoffset","pt"),ac(r,"blurRadius","pt"),SVe(r,"color")];break;case"bloom":n=[ac(r,"strength"),ac(r,"radius","pt"),ac(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;Nce(i),t.push(i)}return t.join(" ")}function ac(e,t,r){if(e[t]==null)throw new q("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function SVe(e,t){if(e[t]==null)throw new q("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const $Ve={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},hH={read:{reader:G_},write:{allowNull:!0,writer:W_}},TVe={json:{read:!1,write:!1,origins:{"web-map":hH,"portal-item":hH}}},zk=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([p($Ve)],t.prototype,"blendMode",void 0),c([p(TVe)],t.prototype,"effect",void 0),t=c([R("esri.layers.mixins.BlendLayer")],t),t},MVe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([p({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([R("esri.layers.mixins.CustomParametersMixin")],t),t},CVe=NNe(),Dce=new Map,zce=new Map;async function M2t(e,t,r){if(!e||!r)return!1;if(!t)return!0;const n=new URL(e).host;let i=Dce.get(n);if(!i){const s=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await yr(s,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return i===t}async function C2t(e,t,r=!1){var s,o,a;if(!e||!t)return!0;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=(s=zce.get(n))==null?void 0:s.entries();if(i){for(const[l,u]of i)if(u.name===t){const d=!((o=u.stack)!=null&&o.hasForwardEdits());if(!d&&r){const[{deleteForwardEdits:h},{default:f}]=await Promise.all([Q(()=>import("./deleteForwardEdits-wzTCra9G.js"),[],import.meta.url),Q(()=>import("./DeleteForwardEditsParameters-uocJbDXw.js"),[],import.meta.url)]),y=await h(n,l,new f({sessionId:CVe,moment:u.moment}));return y.success&&((a=u.stack)==null||a.clearForwardEdits()),y.success}return d}}return!0}function EVe(e,t){var i;if(!e)return!1;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=(i=zce.get(r))==null?void 0:i.entries();if(n){for(const[s,o]of n)if(o.name===t)return o.lockType==="edit"}return!1}const bD=new Za.EventEmitter;function kVe(e){return bD.on("apply-edits",new WeakRef(e))}function IVe(e){return bD.on("update-moment",new WeakRef(e))}function E2t(e,t,r=null,n=!1){const i=zo();return n=t==null||n,bD.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:r,mayReceiveServiceEdits:n,result:i.promise}),i}const Vce=Symbol();function k2t(e){return e!=null&&typeof e=="object"&&Vce in e}function I1(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function eP(e,t,r){const n=new URL(e).host,i=Dce.get(n),s=o=>!o||o===i;return s(t)&&s(r)||t===r}const OVe=e=>{var t;let r=class extends e{constructor(...n){super(...n),this[t]=!0,this._applyEditsHandler=i=>{const{serviceUrl:s,layerId:o,gdbVersion:a,mayReceiveServiceEdits:l,result:u}=i,d=s===this.url,h=o!=null&&this.layerId!=null&&o===this.layerId,f=I1(this),y=I1(this)&&eP(s,a,this.gdbVersion);if(!d||f&&!y||!h&&!l)return;const g=u.then(v=>{var x;if(this.lastEditsEventDate=new Date,h&&(v.addedFeatures.length||v.updatedFeatures.length||v.deletedFeatures.length||v.addedAttachments.length||v.updatedAttachments.length||v.deletedAttachments.length))return this.emit("edits",W(v)),v;const b=(x=v.editedFeatures)==null?void 0:x.find(({layerId:S})=>S===this.layerId);if(b){const{adds:S,updates:$,deletes:C}=b.editedFeatures,k={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:S?S.map(({attributes:E})=>({objectId:this.objectIdField&&E[this.objectIdField],globalId:this.globalIdField&&E[this.globalIdField]})):[],deletedFeatures:C?C.map(({attributes:E})=>({objectId:this.objectIdField&&E[this.objectIdField],globalId:this.globalIdField&&E[this.globalIdField]})):[],updatedFeatures:$?$.map(({current:{attributes:E}})=>({objectId:this.objectIdField&&E[this.objectIdField],globalId:this.globalIdField&&E[this.globalIdField]})):[],editedFeatures:W(v.editedFeatures),exceededTransferLimit:!1,historicMoment:W(v.historicMoment)};return this.emit("edits",k),k}const _={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:W(v.editedFeatures),exceededTransferLimit:!1,historicMoment:W(v.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(s,a,_.historicMoment)&&this.emit("edits",_),_}).then(v=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(s,a,v.historicMoment)&&(this.historicMoment=v.historicMoment),v));this.emit("apply-edits",{result:g})},this._updateMomentHandler=i=>{const{serviceUrl:s,gdbVersion:o,moment:a}=i,l=s===this.url,u=I1(this),d=I1(this)&&eP(s,o,this.gdbVersion),h=I1(this)&&!eP(s,this.gdbVersion,null);l&&u&&d&&h&&"historicMoment"in this&&this.historicMoment!==a&&(this.historicMoment=a)},this.when().then(()=>{this.addHandles(kVe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(IVe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(n,i,s){return"historicMoment"in this&&this.historicMoment!==s&&EVe(n,i)}};return t=Vce,c([p()],r.prototype,"lastEditsEventDate",void 0),r=c([R("esri.layers.mixins.EditBusLayer")],r),r};var dj;const tP=new kt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),rP=new kt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let uu=dj=class extends ae{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:i,objectIds:s,units:o,distance:a}=this;return new cd({geometry:W(r),objectIds:W(s),spatialRelationship:n,timeExtent:W(i),where:t,units:o,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:i,units:s,distance:o}=this;return new dj({geometry:W(t),objectIds:W(i),spatialRelationship:r,timeExtent:W(n),where:e,units:s,distance:o})}};c([p({type:String,json:{write:!0}})],uu.prototype,"where",void 0),c([p({types:oy,json:{write:!0}})],uu.prototype,"geometry",void 0),c([p({type:tP.apiValues,json:{name:"spatialRel",read:{reader:tP.read},write:{allowNull:!1,writer:tP.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],uu.prototype,"spatialRelationship",void 0),c([p({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],uu.prototype,"distance",void 0),c([p({type:[Number],json:{write:!0}})],uu.prototype,"objectIds",void 0),c([p({type:rP.apiValues,json:{read:rP.read,write:{writer:rP.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],uu.prototype,"units",void 0),c([p({type:Vu,json:{write:!0}})],uu.prototype,"timeExtent",void 0),uu=dj=c([R("esri.layers.support.FeatureFilter")],uu);const PVe=uu;var pj;const fH={read:{reader:G_},write:{writer:W_,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},mH={read:{reader:G_},write:{writer:W_,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},yH={name:"showExcludedLabels",default:!0};let Vf=pj=class extends ae{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var n,i;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const s=Object.keys(r.filter);if(s.length>1||s[0]!=="where")return(n=t.messages)==null||n.push(new q("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new q("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new pj({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([p({type:PVe,json:{write:{allowNull:!0,writer(e,t,r,n){const i=e==null?void 0:e.write({},n);i&&Object.keys(i).length!==0?ps(r,i,t):ps(r,null,t)}}}})],Vf.prototype,"filter",void 0),c([p({json:{read:G_,write:{writer:W_,allowNull:!0},origins:{"web-map":fH,"portal-item":fH}}})],Vf.prototype,"includedEffect",void 0),c([p({json:{read:G_,write:{writer:W_,allowNull:!0},origins:{"web-map":mH,"portal-item":mH}}})],Vf.prototype,"excludedEffect",void 0),c([p({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":yH,"portal-item":yH}}})],Vf.prototype,"excludedLabelsVisible",void 0),Vf=pj=c([R("esri.layers.support.FeatureEffect")],Vf);const AVe=Vf,gH={write:{allowNull:!0}},RVe={type:AVe,json:{origins:{"web-map":gH,"portal-item":gH}}},LVe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([p(RVe)],t.prototype,"featureEffect",void 0),t=c([R("esri.layers.mixins.FeatureEffectLayer")],t),t};var hj;let Xb=hj=class extends ae{constructor(e){super(e)}async collectRequiredFields(e,t){return fs(e,t,this.expression)}clone(){return new hj({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};c([p({type:String,json:{write:!0}})],Xb.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],Xb.prototype,"title",void 0),Xb=hj=c([R("esri.symbols.support.FeatureExpressionInfo")],Xb);const vH=Xb;function I2t(e){return 1/(iD[e]||1)}function jVe(){const e=Object.keys(iD);return e.sort(),e}const NVe=jVe();var fj;const U2=ys()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),bH=new kt({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Mc=fj=class extends ae{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new fj({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&eSe(this.featureExpressionInfo,e.featureExpressionInfo)}};c([p({type:vH,json:{write:!0}})],Mc.prototype,"featureExpressionInfo",void 0),c([ue("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Mc.prototype,"readFeatureExpressionInfo",null),c([ye("featureExpressionInfo",{featureExpressionInfo:{type:vH},"featureExpression.value":{type:[0]}})],Mc.prototype,"writeFeatureExpressionInfo",null),c([p({type:U2.apiValues,nonNullable:!0,json:{type:U2.jsonValues,read:U2.read,write:{writer:U2.write,isRequired:!0}}})],Mc.prototype,"mode",null),c([p({type:Number,json:{write:!0}})],Mc.prototype,"offset",void 0),c([p({type:NVe,json:{type:String,read:bH.read,write:bH.write}})],Mc.prototype,"unit",null),Mc=fj=c([R("esri.symbols.support.ElevationInfo")],Mc);const Bce=Mc,FVe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Si}}},wD={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},_D={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Si}}},Uce={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Um}}},Gce={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Si}}},DVe={value:null,type:Bce,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Si}}};function O2t(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Wce={write:{enabled:!0,layerContainerTypes:Si},read:!0},mj={type:Number,json:{origins:{"web-document":Wce,"portal-item":{write:!0}}}},zVe={...mj,json:{...mj.json,origins:{"web-document":{...Wce,write:{enabled:!0,layerContainerTypes:Si,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>{var n;return r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(n=t.layerDefinition)!=null&&n.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?O_(t.layerDefinition.drawingInfo.transparency):void 0:O_(t.drawingInfo.transparency)}}}},P2t={type:Rt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Rt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=Qe.fromJSON(t.spatialReference)),r}}}},read:!1}},VVe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},BVe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:Si}}},name:"layerDefinition.minScale",write:!0}},UVe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:Si}}},name:"layerDefinition.maxScale",write:!0}},qce={json:{write:{ignoreOrigin:!0,layerContainerTypes:Si},origins:{"web-map":{read:!1,write:!1}}}};let Cc=class extends Fr(ae){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};c([p()],Cc.prototype,"creatorField",void 0),c([p()],Cc.prototype,"creationDateField",void 0),c([p()],Cc.prototype,"editorField",void 0),c([p()],Cc.prototype,"editDateField",void 0),c([p()],Cc.prototype,"realm",void 0),c([p(S3("dateFieldsTimeReference",!0))],Cc.prototype,"timeZone",void 0),Cc=c([R("esri.layers.support.EditFieldsInfo")],Cc);const GVe=Cc;let gu=class extends Fr(ae){constructor(t){super(t)}};c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"name",void 0),c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"fields",void 0),c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"isAscending",void 0),c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"indexType",void 0),c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"isUnique",void 0),c([p({constructOnly:!0,json:{write:!0}})],gu.prototype,"description",void 0),gu=c([R("esri.layers.support.FeatureIndex")],gu);async function WVe(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=Hce(e));const n=qVe(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=n;let s=null;for(;;){const o=await e.source.queryFeaturesJSON(t,r);if(s==null?s=o:s.features=s.features.concat(o.features),s.exceededTransferLimit=o.exceededTransferLimit,!i||!o.exceededTransferLimit)break;t.start+=n}return s}function qVe(e){return Hce(e)*HVe(e)}function HVe(e){return e.capabilities.query.maxRecordCount||2e3}function Hce(e){return e.capabilities.query.supportsMaxRecordCountFactor?cd.MAX_MAX_RECORD_COUNT_FACTOR:1}var yj;let yi=yj=class extends ae{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new yj(W({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([p({type:[String],json:{write:!0}})],yi.prototype,"attachmentTypes",void 0),c([p({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],yi.prototype,"attachmentsWhere",void 0),c([p({type:Boolean,json:{write:!0}})],yi.prototype,"cacheHint",void 0),c([p({type:[String],json:{write:!0}})],yi.prototype,"keywords",void 0),c([p({type:[Number],json:{write:!0}})],yi.prototype,"globalIds",void 0),c([p({json:{write:!0}})],yi.prototype,"name",void 0),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],yi.prototype,"num",void 0),c([p({type:[Number],json:{write:!0}})],yi.prototype,"objectIds",void 0),c([p({type:Boolean,json:{default:!1,write:!0}})],yi.prototype,"returnMetadata",void 0),c([p({type:[Number],json:{write:!0}})],yi.prototype,"size",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],yi.prototype,"start",void 0),c([ye("start"),ye("num")],yi.prototype,"writeStart",null),c([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],yi.prototype,"where",void 0),yi=yj=c([R("esri.rest.support.AttachmentQuery")],yi),yi.from=Xr(yi);const ZVe=yi;var gj;let hn=gj=class extends ae{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new gj(W({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([p({type:Boolean,json:{write:!0}})],hn.prototype,"cacheHint",void 0),c([p({type:xl,json:{write:!0}})],hn.prototype,"dynamicDataSource",void 0),c([p({type:String,json:{write:!0}})],hn.prototype,"gdbVersion",void 0),c([p({type:Number,json:{write:!0}})],hn.prototype,"geometryPrecision",void 0),c([p({type:Date})],hn.prototype,"historicMoment",void 0),c([ye("historicMoment")],hn.prototype,"_writeHistoricMoment",null),c([p({type:Number,json:{write:!0}})],hn.prototype,"maxAllowableOffset",void 0),c([p({json:{write:!0}})],hn.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],hn.prototype,"orderByFields",void 0),c([p({type:[String],json:{write:!0}})],hn.prototype,"outFields",void 0),c([p({type:Qe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],hn.prototype,"outSpatialReference",void 0),c([p({json:{write:!0}})],hn.prototype,"relationshipId",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],hn.prototype,"start",void 0),c([ye("start"),ye("num")],hn.prototype,"writeStart",null),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],hn.prototype,"num",void 0),c([p({json:{write:!0}})],hn.prototype,"returnGeometry",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],hn.prototype,"returnM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],hn.prototype,"returnZ",void 0),c([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],hn.prototype,"where",void 0),hn=gj=c([R("esri.rest.support.RelationshipQuery")],hn),hn.from=Xr(hn);const xD=hn,L2t=Object.freeze(Object.defineProperty({__proto__:null,default:xD},Symbol.toStringTag,{value:"Module"})),vj=new kt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function YVe(e,t,r,n){const i=await Nh(e);if(await SD(e,t,n),!i.addAttachment)throw new q(n,"Layer source does not support addAttachment capability");return i.addAttachment(t,r)}function SD(e,t,r){var s,o;const{attributes:n}=t,{objectIdField:i}=e;return(o=(s=e.capabilities)==null?void 0:s.data)!=null&&o.supportsAttachment?t?n?i&&n[i]?Promise.resolve():Promise.reject(new q(r,`feature is missing the identifying attribute ${i}`)):Promise.reject(new q(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new q(r,"A feature is required to add/delete/update attachments")):Promise.reject(new q(r,"this layer doesn't support attachments"))}async function JVe(e,t,r,n,i){const s=await Nh(e);if(await SD(e,t,i),!s.updateAttachment)throw new q(i,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,r,n)}async function KVe(e,t,r){const{applyEdits:n}=await Q(()=>import("./editingSupport-Bla1QMYf.js"),__vite__mapDeps([221,222]),import.meta.url),i=await e.load();let s=r;return i.type==="feature"&&i.infoFor3D&&t.deleteFeatures!=null&&i.globalIdField!=null&&(s={...s,globalIdToObjectId:await mBe(i,t.deleteFeatures,i.globalIdField)}),n(i,i.source,t,r)}async function XVe(e,t,r){const{uploadAssets:n}=await Q(()=>import("./editingSupport-Bla1QMYf.js"),__vite__mapDeps([221,222]),import.meta.url),i=await e.load();return n(i,i.source,t,r)}async function QVe(e,t,r,n){const i=await Nh(e);if(await SD(e,t,n),!i.deleteAttachments)throw new q(n,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,r)}async function eBe(e,t,r){const n=(await e.load({signal:t==null?void 0:t.signal})).source;if(!n.fetchRecomputedExtents)throw new q(r,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function tBe(e,t,r,n){var y,g;t=ZVe.from(t),await e.load();const i=e.source,s=e.capabilities;if(!((y=s==null?void 0:s.data)!=null&&y.supportsAttachment))throw new q(n,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:u,size:d,start:h,where:f}=t;if(!((g=s==null?void 0:s.operations)!=null&&g.supportsQueryAttachments)&&((o==null?void 0:o.length)>0||(l==null?void 0:l.length)>0||(d==null?void 0:d.length)>0||u||h||f))throw new q(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a!=null&&a.length||l!=null&&l.length||f))throw new q(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new q(n,"Layer source does not support queryAttachments capability",t);return i.queryAttachments(t)}async function rBe(e,t,r,n){const i=await Nh(e);if(!i.queryObjectIds)throw new q(n,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(cd.from(t)??e.createQuery(),r)}async function nBe(e,t,r,n){const i=await Nh(e);if(!i.queryFeatureCount)throw new q(n,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(cd.from(t)??e.createQuery(),r)}async function iBe(e,t,r,n){const i=await Nh(e);if(!i.queryExtent)throw new q(n,"Layer source does not support queryExtent capability");return i.queryExtent(cd.from(t)??e.createQuery(),r)}async function sBe(e,t,r,n){const i=await Nh(e);if(!i.queryRelatedFeatures)throw new q(n,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(xD.from(t),r)}async function oBe(e,t,r,n){const i=await Nh(e);if(!i.queryRelatedFeaturesCount)throw new q(n,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(xD.from(t),r)}async function aBe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:r,updates:n}=await t.refresh();if(n!=null&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await foe(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function lBe(e){var o,a;const t=new cd,r=(o=e.capabilities)==null?void 0:o.data,n=(a=e.capabilities)==null?void 0:a.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),r&&(r.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),r.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:i,timeExtent:s}=e;return t.timeExtent=i!=null&&s!=null?s.offset(-i.value,i.unit):s||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Zce(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeGlobalID")return n.name}}function Yce(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeOID")return n.name}}function uBe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function cBe(e,t){const{subtypes:r,subtypeField:n}=e;if(!t||!(r!=null&&r.length)||!n)return null;const i=t.attributes[n];return i==null?null:r.find(s=>s.code===i)}async function Nh(e){return(await e.load()).source}async function dBe(e,t){if(!St||St.findCredential(e))return;let r;try{const n=await Nse(e,t);n&&(r=await St.checkSignInStatus(`${n}/sharing`))}catch{}if(r)try{const n=t!=null?t.signal:null;await St.getCredential(e,{signal:n})}catch{}}async function pBe(e,t,r){var i;const n=(i=e.parsedUrl)==null?void 0:i.path;n&&e.authenticationTriggerEvent===t&&await dBe(n,r)}function hBe(e){return!KT(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const nP=wv({types:hae});function $D(e,t){var r;if(e.defaultSymbol)return(r=e.types)!=null&&r.length?new fD({defaultSymbol:nP(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(n=>({id:n.id,symbol:nP(n.symbol,n,t)}))}):new jv({symbol:nP(e.defaultSymbol,e,t)})}function fBe(e){var n,i,s;let t=(n=e.sourceJSON)==null?void 0:n.cacheMaxAge;if(!t)return!1;const r=(s=(i=e.editingInfo)==null?void 0:i.lastEditDate)==null?void 0:s.getTime();return r==null||(t*=1e3,Date.now()-r<t)}async function mBe(e,t,r){if(t==null)return null;const n=[],{objectIdField:i}=e;if(t.forEach(u=>{let d=null;if("attributes"in u){const{attributes:h}=u;d={globalId:h[r],objectId:h[i]!=null&&h[i]!==-1?h[i]:null}}else d={globalId:u.globalId,objectId:u.objectId!=null&&u.objectId!==-1?u.objectId:null};d.globalId!=null&&(d.objectId!=null&&d.objectId!==-1||n.push(d.globalId))}),n.length===0)return null;const s=e.createQuery();s.where=n.map(u=>`${r}='${u}'`).join(" OR "),s.returnGeometry=!1,s.outFields=[i,r],s.cacheHint=!1;const o=await M3e(WVe(e,s));if(!o.ok)return null;const a=new Map,l=o.value.features;for(const u of l){const d=u.attributes[r],h=u.attributes[i];d!=null&&h!=null&&h!==-1&&a.set(d,h)}return a}function yBe(e,t,r){if(!t||!r||!e)return null;const n=r.getAttribute(t);return n==null?null:e.find(i=>{const{id:s}=i;return s!=null&&s.toString()===n.toString()})??null}function KT(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||gBe(e)}function gBe(e){var t,r;return!!((r=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&r.toLowerCase().split(",").map(n=>n.trim()).includes("map"))}let $g=class extends Fr(ae){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([p({type:String,json:{read:{source:"shapeAreaFieldName"}}})],$g.prototype,"shapeAreaField",void 0),c([p({type:String,json:{read:{source:"shapeLengthFieldName"}}})],$g.prototype,"shapeLengthField",void 0),c([p({type:String,json:{read:e=>bMe.read(e)||wMe.read(e)}})],$g.prototype,"units",void 0),$g=c([R("esri.layers.support.GeometryFieldsInfo")],$g);const vBe=$g;var bj;let Tg=bj=class extends ae{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Ce}clone(){return new bj({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([p({type:String,json:{write:!0}})],Tg.prototype,"floorField",void 0),c([p({json:{read:!1,write:!1}})],Tg.prototype,"viewAllMode",void 0),c([p({json:{read:!1,write:!1}})],Tg.prototype,"viewAllLevelIds",void 0),Tg=bj=c([R("esri.layers.support.LayerFloorInfo")],Tg);const bBe=Tg,wH=new kt({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),_H=new kt({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let aa=class extends Fr(ae){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([p({json:{read:wH.read,write:wH.write}})],aa.prototype,"cardinality",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"composite",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"id",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"keyField",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"keyFieldInRelationshipTable",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"name",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"relatedTableId",void 0),c([p({json:{read:!0,write:!0}})],aa.prototype,"relationshipTableId",void 0),c([p({json:{read:_H.read,write:_H.write}})],aa.prototype,"role",void 0),aa=c([R("esri.layers.support.Relationship")],aa);const wBe=aa;function Xe(e,t,r){return!!Jce(e,t,r)}function Qb(e,t,r){return Jce(e,t,r)}function Jce(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const _Be={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function xBe(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(n=>n.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function iS(e,t){var n;const r=(n=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:n.map(i=>i.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}function Kce(e,t){return{analytics:SBe(e),attachment:$Be(e),data:TBe(e),metadata:MBe(e),operations:CBe(e.capabilities,e,t),query:EBe(e,t),queryRelated:kBe(e),queryTopFeatures:IBe(e),editing:OBe(e)}}function SBe(e){return{supportsCacheHint:iS(e.advancedQueryCapabilities,"queryAnalytics")}}function $Be(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:iS(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:Xe(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const i=_Be[n.name];i&&(r[i]=!!n.isEnabled)}),r}function TBe(e){return{isVersioned:Xe(e,"isDataVersioned",!1),supportsAttachment:Xe(e,"hasAttachments",!1),supportsM:Xe(e,"hasM",!1),supportsZ:Xe(e,"hasZ",!1)}}function MBe(e){return{supportsAdvancedFieldProperties:Xe(e,"supportsFieldDescriptionProperty",!1)}}function CBe(e,t,r){const n=e?e.toLowerCase().split(",").map(f=>f.trim()):[],i=r?Pv(r):null,s=n.includes(i!=null&&i.serverType==="MapServer"?"data":"query"),o=n.includes("editing")&&!t.datesInUnknownTimezone;let a=o&&n.includes("create"),l=o&&n.includes("delete"),u=o&&n.includes("update");const d=n.includes("changetracking"),h=t.advancedQueryCapabilities;return o&&!(a||l||u)&&(a=l=u=!0),{supportsCalculate:Xe(t,"supportsCalculate",!1),supportsTruncate:Xe(t,"supportsTruncate",!1),supportsValidateSql:Xe(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:d,supportsQuery:s,supportsQueryAnalytics:Xe(h,"supportsQueryAnalytic",!1),supportsQueryAttachments:Xe(h,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Xe(h,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Xe(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:Xe(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Xe(t,"supportsAsyncConvert3D",!1)}}function EBe(e,t){const r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,s=e.currentVersion,o=t==null?void 0:t.includes("MapServer"),a=!o||s>=J("mapserver-pbf-version-support"),l=Rae(t),u=new Set((e.supportedQueryFormats??"").split(",").map(d=>d.toLowerCase().trim()));return{maxRecordCount:Qb(e,"maxRecordCount",void 0),maxRecordCountFactor:Qb(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:Qb(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:xBe(r),supportsCacheHint:Xe(r,"supportsQueryWithCacheHint",!1)||iS(r,"query"),supportsCentroid:Xe(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsDefaultSpatialReference:Xe(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:Xe(r,"supportsDisjointSpatialRel",!1),supportsDistance:Xe(r,"supportsQueryWithDistance",!1),supportsDistinct:Xe(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Xe(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&u.has("pbf"),supportsFullTextSearch:Xe(r,"supportsFullTextSearch",!1),supportsGeometryProperties:Xe(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:Xe(r,"supportsHavingClause",!1),supportsHistoricMoment:Xe(i,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:Xe(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:Xe(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Xe(r,"supportsPagination",!1),supportsPercentileStatistics:Xe(r,"supportsPercentileStatistics",!1),supportsQuantization:Xe(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Xe(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:Xe(n,"allowAnonymousToQuery",!0),supportsQueryByOthers:Xe(n,"allowOthersToQuery",!0),supportsQueryGeometry:Xe(e,"supportsReturningQueryGeometry",!1),supportsResultType:Xe(r,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:Xe(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:Xe(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Xe(e,"useStandardizedQueries",!1),supportsStatistics:Xe(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:Xe(r,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:Qb(e,"tileMaxRecordCount",void 0)}}function kBe(e){const t=e.advancedQueryCapabilities,r=Xe(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Xe(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:iS(t,"queryRelated")}}function IBe(e){return{supportsCacheHint:iS(e.advancedQueryCapabilities,"queryTopFilter")}}function OBe(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Xe(e,"allowGeometryUpdates",!0),supportsGlobalId:Xe(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Xe(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Xe(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Xe(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Xe(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Xe(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Xe(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Xe(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Xe(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Xe(r,"supportsAsyncApplyEdits",!1),zDefault:Qb(e,"zDefault",void 0)}}function F2t(e){var t;return{operations:{supportsAppend:Xe(e,"supportsAppend",!1),supportsExportClip:Xe(e,"supportsExportClip",!1),supportsExportFrameset:Xe(e,"supportsExportFrameset",!1),supportsMensuration:Xe(e,"supportsMensuration",!1),supportsUpdate:Xe(e,"supportsUpdate",!1)},query:{supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1}}}let Ec=class extends Fr(ae){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const r={};for(const n of Object.keys(t))r[n]=Sk(t[n]);return r}writeDomains(t,r){var i;if(!t)return;const n={};for(const s of Object.keys(t))t[s]&&(n[s]=(i=t[s])==null?void 0:i.toJSON());r.domains=n}};c([p({type:Number,json:{write:!0}})],Ec.prototype,"code",void 0),c([p({type:Object,json:{write:!0}})],Ec.prototype,"defaultValues",void 0),c([p({json:{write:!0}})],Ec.prototype,"domains",void 0),c([ue("domains")],Ec.prototype,"readDomains",null),c([ye("domains")],Ec.prototype,"writeDomains",null),c([p({type:String,json:{write:!0}})],Ec.prototype,"name",void 0),Ec=c([R("esri.layers.support.Subtype")],Ec);const PBe=Ec,ABe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(Ce.ofType(gu)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=Qe.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:i,operations:s,editing:o}=r;if(!i.supportsQueryByOthers||!i.supportsQueryByAnonymous||s.supportsEditing&&!(o.supportsUpdateByOthers&&o.supportsUpdateByAnonymous&&o.supportsDeleteByOthers&&o.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(fBe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const n=this.editFieldsInfo;return(n!=null&&n.creatorField||n!=null&&n.editorField)&&(r!=null&&r.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(r,n){return Kce(n,this.url)}readEditingInfo(r,n){const{editingInfo:i}=n;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const n=W(r),{operations:i,editing:s}=n;return KT(this)?(this.userHasUpdateItemPrivileges&&(i.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(i.supportsAdd=i.supportsDelete=i.supportsEditing=i.supportsQuery=i.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&i.supportsEditing&&(i.supportsAdd=i.supportsDelete=i.supportsUpdate=s.supportsGeometryUpdate=!0),n)}readGlobalIdFieldFromService(r,n){return Zce(n)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||KT(this))return!1;const{operations:n,editing:i}=r;return n.supportsEditing&&!(n.supportsAdd&&n.supportsDelete&&n.supportsUpdate&&i.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:n,editing:i}=r;return KT(this)?!n.supportsQuery:!(n.supportsAdd&&n.supportsDelete&&n.supportsEditing&&n.supportsQuery&&n.supportsUpdate&&i.supportsDeleteByOthers&&i.supportsGeometryUpdate&&i.supportsUpdateByOthers)}readIsTableFromService(r,n){return n.type==="Table"}readMaxScale(r,n){return n.effectiveMaxScale||r||0}readMinScale(r,n){return n.effectiveMinScale||r||0}readObjectIdFieldFromService(r,n){return Yce(n)}readServiceDefinitionExpression(r,n){return n.definitionQuery||n.definitionExpression}set url(r){if(r==null)return void this._set("url",r);const n=ZRe({layer:this,url:r,nonStandardUrlAllowed:!0,logger:ie.getLogger(this)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(r,n,i,s){YRe(this,r,null,n,s)}readVersion(r,n){return uBe(n)}};return c([p({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),c([p({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),c([p({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),c([ue("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),c([p(S3("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),c([p({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),c([p({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),c([p({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),c([p({readOnly:!0,type:GVe})],t.prototype,"editFieldsInfo",void 0),c([p({readOnly:!0})],t.prototype,"editingInfo",void 0),c([ue("editingInfo")],t.prototype,"readEditingInfo",null),c([p({readOnly:!0})],t.prototype,"effectiveCapabilities",null),c([p((()=>{const r=W(DVe),n=r.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),c([p({type:bBe,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Si}}}}})],t.prototype,"floorInfo",void 0),c([p({type:Rt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),c([p()],t.prototype,"gdbVersion",void 0),c([p({readOnly:!0,type:vBe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),c([p({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:vj.read}}}})],t.prototype,"geometryType",void 0),c([p({type:String})],t.prototype,"globalIdField",void 0),c([ue("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),c([p({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),c([p({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),c([p({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),c([p({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),c([p({readOnly:!0,type:yk})],t.prototype,"heightModelInfo",void 0),c([p({type:Date})],t.prototype,"historicMoment",void 0),c([p({type:Ce.ofType(gu),readOnly:!0})],t.prototype,"indexes",void 0),c([p({readOnly:!0})],t.prototype,"isTable",void 0),c([ue("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),c([p({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),c([p(UVe)],t.prototype,"maxScale",void 0),c([ue("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),c([p(BVe)],t.prototype,"minScale",void 0),c([ue("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),c([p({type:String})],t.prototype,"objectIdField",void 0),c([ue("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),c([p(S3("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),c([p({type:[wBe],readOnly:!0})],t.prototype,"relationships",void 0),c([p({type:Boolean})],t.prototype,"returnM",void 0),c([p({type:Boolean})],t.prototype,"returnZ",void 0),c([p({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),c([p({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),c([ue("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),c([p({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),c([p()],t.prototype,"sourceJSON",void 0),c([p({type:Qe,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),c([p({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),c([p({type:[PBe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),c([p({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),c([p(Uce)],t.prototype,"url",null),c([ye("url")],t.prototype,"writeUrl",null),c([p({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),c([ue("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=c([R("esri.layers.mixins.FeatureLayerBase")],t),t};let Mg=class extends Fr(ae){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};c([p({type:String,json:{write:!0}})],Mg.prototype,"expression",void 0),c([p({type:String,json:{write:!0}})],Mg.prototype,"title",void 0),c([p({type:String,json:{write:!0}})],Mg.prototype,"returnType",void 0),Mg=c([R("esri.layers.support.ExpressionInfo")],Mg);const TD=Mg;var wj;let kc=wj=class extends ae{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new wj({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:W(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};c([p({type:Boolean,json:{write:!0}})],kc.prototype,"isAutoGenerated",void 0),c([p({type:String,json:{write:!0}})],kc.prototype,"name",void 0),c([p({type:String,json:{write:!0}})],kc.prototype,"alias",void 0),c([p({type:String,json:{write:!0}})],kc.prototype,"onStatisticField",void 0),c([p({type:TD,json:{write:!0}})],kc.prototype,"onStatisticExpression",void 0),c([p({type:String,json:{write:!0}})],kc.prototype,"statisticType",void 0),kc=wj=c([R("esri.layers.support.AggregateField")],kc);const Zm=kc;let rh=class extends ae{constructor(){super(...arguments),this.type=null}};c([p({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],rh.prototype,"type",void 0),rh=c([R("esri.layers.support.FeatureReduction")],rh);const MD="__begin__",CD="__end__",RBe=new RegExp(MD,"ig"),LBe=new RegExp(CD,"ig"),xH=new RegExp("^"+MD,"i"),SH=new RegExp(CD+"$","i"),Q3='"',jBe=Q3+" + ",NBe=" + "+Q3;function FBe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function DBe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function ED(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=FBe(e.labelExpression),t.type="conventional"),t}function zBe(e){const t=ED(e);if(!t)return null;switch(t.type){case"conventional":return _j(t.expression);case"arcade":return t.expression}return null}function VBe(e){const t=ED(e);if(!t)return null;switch(t.type){case"conventional":return UBe(t.expression);case"arcade":return Xce(t.expression)}return null}function _j(e){let t;return e?(t=LE(e,r=>MD+'$feature["'+r+'"]'+CD),t=xH.test(t)?t.replace(xH,""):Q3+t,t=SH.test(t)?t.replace(SH,""):t+Q3,t=t.replaceAll(RBe,jBe).replaceAll(LBe,NBe)):t='""',t}const BBe=/^\s*\{([^}]+)\}\s*$/i;function UBe(e){const t=e==null?void 0:e.match(BBe);return(t==null?void 0:t[1].trim())||null}const GBe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,WBe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,qBe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function Xce(e){if(!e)return null;let t=GBe.exec(e)||WBe.exec(e);return t?t[1]||t[3]:(t=qBe.exec(e),t?t[2]:null)}var xj;let dp=xj=class extends ae{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?_j(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=_j(this.value)),e!=null&&(t[r]=e)}clone(){return new xj({expression:this.expression,title:this.title,value:this.value})}};c([p({type:String,json:{write:{writerEnsuresNonNull:!0}}})],dp.prototype,"expression",void 0),c([ue("expression",["expression","value"])],dp.prototype,"readExpression",null),c([ye("expression")],dp.prototype,"writeExpression",null),c([p({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],dp.prototype,"title",void 0),c([p({json:{read:!1,write:!1}})],dp.prototype,"value",void 0),dp=xj=c([R("esri.layers.support.LabelExpressionInfo")],dp);const Qce=dp;var Sj;const G2=new kt({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function W2(e,t,r){return{enabled:!jse(r==null?void 0:r.layer)}}function ede(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function HBe(e){return(e==null?void 0:e.type)==="map-image"}function tde(e){var t,r;return!!HBe(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function ZBe(e){return ede(e)||tde(e==null?void 0:e.layer)}let kn=Sj=class extends ae{static evaluateWhere(e,t){const r=(n,i,s)=>{switch(i){case"=":return n==s;case"<>":return n!=s;case">":return n>s;case">=":return n>=s;case"<":return n<s;case"<=":return n<=s}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return r(t[n[0]],n[1],n[2]);if(n.length===7){const i=r(t[n[0]],n[1],n[2]),s=n[3],o=r(t[n[4]],n[5],n[6]);switch(s){case"AND":return i&&o;case"OR":return i||o}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=dDe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=DBe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=Xce(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,n){if(e==null&&this.labelExpression!=null&&ede(n))e=new Qce({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(n);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return ED(this)}getLabelExpressionArcade(){return zBe(this)}getLabelExpressionSingleField(){return VBe(this)}hash(){return JSON.stringify(this)}clone(){return new Sj({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:W(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:W(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([p({type:String,json:{write:!0}})],kn.prototype,"name",void 0),c([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:W2}}}}})],kn.prototype,"allowOverrun",void 0),c([p({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:W2}}}}})],kn.prototype,"deconflictionStrategy",void 0),c([p({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&tde(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],kn.prototype,"labelExpression",void 0),c([ue("labelExpression")],kn.prototype,"readLabelExpression",null),c([ye("labelExpression")],kn.prototype,"writeLabelExpression",null),c([p({type:Qce,json:{write:{overridePolicy:(e,t,r)=>ZBe(r)?{allowNull:!0}:{enabled:!1}}}})],kn.prototype,"labelExpressionInfo",void 0),c([ye("labelExpressionInfo")],kn.prototype,"writeLabelExpressionInfo",null),c([p({type:G2.apiValues,json:{type:G2.jsonValues,read:G2.read,write:G2.write}})],kn.prototype,"labelPlacement",void 0),c([p({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],kn.prototype,"labelPosition",void 0),c([p({type:Number})],kn.prototype,"maxScale",void 0),c([ye("maxScale")],kn.prototype,"writeMaxScale",null),c([p({type:Number})],kn.prototype,"minScale",void 0),c([ye("minScale")],kn.prototype,"writeMinScale",null),c([p({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:W2}}}}})],kn.prototype,"repeatLabel",void 0),c([p({type:Number,cast:Bt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:W2}}}}})],kn.prototype,"repeatLabelDistance",void 0),c([p({types:eRe,json:{origins:{"web-scene":{types:tRe,write:Oq,default:null}},write:Oq,default:null}})],kn.prototype,"symbol",void 0),c([p({type:Boolean,json:{write:!0}})],kn.prototype,"useCodedValues",void 0),c([p({type:String,json:{write:!0}})],kn.prototype,"where",void 0),kn=Sj=c([R("esri.layers.support.LabelClass")],kn);const Vk=kn;var $j;let ts=$j=class extends rh{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=Bt("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());ps(r,n,t)}readRenderer(e,t,r){var i;const n=(i=t.drawingInfo)==null?void 0:i.renderer;return n?U_(n,t,r)??void 0:$D(t,r)}clone(){return new $j({fields:W(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:W(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:W(this.popupTemplate),renderer:W(this.renderer),binType:W(this.binType),size:this.size})}};c([Ze({binning:"binning"})],ts.prototype,"type",void 0),c([Ze({geohash:"geohash",square:"square"}),p({type:["geohash","square"]})],ts.prototype,"binType",void 0),c([p({type:Number,json:{write:!0}})],ts.prototype,"fixedBinLevel",void 0),c([p({type:[Vk],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ts.prototype,"labelingInfo",void 0),c([p(_D)],ts.prototype,"labelsVisible",void 0),c([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ts.prototype,"maxScale",void 0),c([p(wD)],ts.prototype,"popupEnabled",void 0),c([p({type:Ph,json:{name:"popupInfo",write:!0}})],ts.prototype,"popupTemplate",void 0),c([p({type:Number,cast:e=>e==="auto"?e:Bt(e)})],ts.prototype,"size",void 0),c([p({type:[Zm],json:{write:!0}})],ts.prototype,"fields",void 0),c([ye("fields")],ts.prototype,"writeFields",null),c([p({types:Nk,json:{write:{target:"drawingInfo.renderer"}}})],ts.prototype,"renderer",void 0),c([ue("renderer",["drawingInfo.renderer"])],ts.prototype,"readRenderer",null),ts=$j=c([R("esri.layers.support.FeatureReductionBinning")],ts);const rde=ts;var Tj;function $H(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let Zn=Tj=class extends ae{constructor(e){super(e),this.type="cluster",this.clusterRadius=Bt("80px"),this.clusterMinSize=Bt("12px"),this.clusterMaxSize=Bt("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,r){var i,s;const n=(i=t.drawingInfo)==null?void 0:i.renderer;return(s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated?null:n?$H(n)?null:U_(n,t,r)??void 0:$D(t,r)}readSymbol(e,t,r){var i,s;const n=(i=t.drawingInfo)==null?void 0:i.renderer;if((s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated)return null;if(n&&$H(n)){const o=U_(n,t,r);return o==null?void 0:o.symbol}return null}writeSymbol(e,t,r,n){var s,o;const i=(o=(s=this.renderer)==null?void 0:s.authoringInfo)==null?void 0:o.isAutoGenerated;if(!this.renderer||i){const a=new jv({symbol:e});t.drawingInfo={renderer:a.write({},n)}}}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());ps(r,n,t)}readFields(e,t,r){return e.filter(n=>!n.isAutoGenerated).map(n=>Zm.fromJSON(n))}clone(){return new Tj({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:W(this.labelingInfo),labelsVisible:this.labelsVisible,fields:W(this.fields),maxScale:this.maxScale,renderer:W(this.renderer),symbol:W(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:W(this.popupTemplate)})}};c([p({type:["cluster"],readOnly:!0,json:{write:!0}})],Zn.prototype,"type",void 0),c([p({type:Number,cast:e=>e==="auto"?e:Bt(e),json:{write:!0}})],Zn.prototype,"clusterRadius",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],Zn.prototype,"clusterMinSize",void 0),c([p({type:Number,cast:Bt,json:{write:!0}})],Zn.prototype,"clusterMaxSize",void 0),c([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Zn.prototype,"maxScale",void 0),c([p(wD)],Zn.prototype,"popupEnabled",void 0),c([p({type:Ph,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Zn.prototype,"popupTemplate",void 0),c([p({types:Nk,json:{write:{target:"drawingInfo.renderer"}}})],Zn.prototype,"renderer",void 0),c([ue("renderer",["drawingInfo.renderer"])],Zn.prototype,"readRenderer",null),c([p({types:XAe})],Zn.prototype,"symbol",void 0),c([ue("symbol",["drawingInfo.renderer"])],Zn.prototype,"readSymbol",null),c([ye("symbol")],Zn.prototype,"writeSymbol",null),c([p({type:[Vk],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Zn.prototype,"labelingInfo",void 0),c([p(_D)],Zn.prototype,"labelsVisible",void 0),c([p({type:[Zm],json:{write:!0}})],Zn.prototype,"fields",void 0),c([ye("fields")],Zn.prototype,"writeFields",null),c([ue("fields")],Zn.prototype,"readFields",null),Zn=Tj=c([R("esri.layers.support.FeatureReductionCluster")],Zn);const nde=Zn;var Mj;let XT=Mj=class extends rh{constructor(e){super(e),this.type="selection"}clone(){return new Mj}};c([p({type:["selection"]})],XT.prototype,"type",void 0),XT=Mj=c([R("esri.layers.support.FeatureReductionSelection")],XT);const TH=XT,MH={key:"type",base:rh,typeMap:{cluster:nde,binning:rde}},YBe={types:{key:"type",base:rh,typeMap:{selection:TH,cluster:nde,binning:rde}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:MH},"portal-item":{types:MH},"web-scene":{types:{key:"type",base:rh,typeMap:{selection:TH}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Si}}}}},Fy={Base64:0,Hex:1,String:2,Raw:3},E0=8,ide=(1<<E0)-1;function Fp(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function JBe(e){const t=[];for(let r=0,n=e.length*E0;r<n;r+=E0)t[r>>5]|=(e.charCodeAt(r/E0)&ide)<<r%32;return t}function KBe(e){const t=[];for(let r=0,n=32*e.length;r<n;r+=E0)t.push(String.fromCharCode(e[r>>5]>>>r%32&ide));return t.join("")}function XBe(e){const t="0123456789abcdef",r=[];for(let n=0,i=4*e.length;n<i;n++)r.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return r.join("")}function QBe(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let i=0,s=4*e.length;i<s;i+=3){const o=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let a=0;a<4;a++)8*i+6*a>32*e.length?n.push(t):n.push(r.charAt(o>>6*(3-a)&63))}return n.join("")}function eUe(e,t){return e<<t|e>>>32-t}function Bk(e,t,r,n,i,s){return Fp(eUe(Fp(Fp(t,e),Fp(n,s)),i),r)}function qi(e,t,r,n,i,s,o){return Bk(t&r|~t&n,e,t,i,s,o)}function Hi(e,t,r,n,i,s,o){return Bk(t&n|r&~n,e,t,i,s,o)}function Zi(e,t,r,n,i,s,o){return Bk(t^r^n,e,t,i,s,o)}function Yi(e,t,r,n,i,s,o){return Bk(r^(t|~n),e,t,i,s,o)}function tUe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let o=0;o<e.length;o+=16){const a=r,l=n,u=i,d=s;r=qi(r,n,i,s,e[o],7,-680876936),s=qi(s,r,n,i,e[o+1],12,-389564586),i=qi(i,s,r,n,e[o+2],17,606105819),n=qi(n,i,s,r,e[o+3],22,-1044525330),r=qi(r,n,i,s,e[o+4],7,-176418897),s=qi(s,r,n,i,e[o+5],12,1200080426),i=qi(i,s,r,n,e[o+6],17,-1473231341),n=qi(n,i,s,r,e[o+7],22,-45705983),r=qi(r,n,i,s,e[o+8],7,1770035416),s=qi(s,r,n,i,e[o+9],12,-1958414417),i=qi(i,s,r,n,e[o+10],17,-42063),n=qi(n,i,s,r,e[o+11],22,-1990404162),r=qi(r,n,i,s,e[o+12],7,1804603682),s=qi(s,r,n,i,e[o+13],12,-40341101),i=qi(i,s,r,n,e[o+14],17,-1502002290),n=qi(n,i,s,r,e[o+15],22,1236535329),r=Hi(r,n,i,s,e[o+1],5,-165796510),s=Hi(s,r,n,i,e[o+6],9,-1069501632),i=Hi(i,s,r,n,e[o+11],14,643717713),n=Hi(n,i,s,r,e[o],20,-373897302),r=Hi(r,n,i,s,e[o+5],5,-701558691),s=Hi(s,r,n,i,e[o+10],9,38016083),i=Hi(i,s,r,n,e[o+15],14,-660478335),n=Hi(n,i,s,r,e[o+4],20,-405537848),r=Hi(r,n,i,s,e[o+9],5,568446438),s=Hi(s,r,n,i,e[o+14],9,-1019803690),i=Hi(i,s,r,n,e[o+3],14,-187363961),n=Hi(n,i,s,r,e[o+8],20,1163531501),r=Hi(r,n,i,s,e[o+13],5,-1444681467),s=Hi(s,r,n,i,e[o+2],9,-51403784),i=Hi(i,s,r,n,e[o+7],14,1735328473),n=Hi(n,i,s,r,e[o+12],20,-1926607734),r=Zi(r,n,i,s,e[o+5],4,-378558),s=Zi(s,r,n,i,e[o+8],11,-2022574463),i=Zi(i,s,r,n,e[o+11],16,1839030562),n=Zi(n,i,s,r,e[o+14],23,-35309556),r=Zi(r,n,i,s,e[o+1],4,-1530992060),s=Zi(s,r,n,i,e[o+4],11,1272893353),i=Zi(i,s,r,n,e[o+7],16,-155497632),n=Zi(n,i,s,r,e[o+10],23,-1094730640),r=Zi(r,n,i,s,e[o+13],4,681279174),s=Zi(s,r,n,i,e[o],11,-358537222),i=Zi(i,s,r,n,e[o+3],16,-722521979),n=Zi(n,i,s,r,e[o+6],23,76029189),r=Zi(r,n,i,s,e[o+9],4,-640364487),s=Zi(s,r,n,i,e[o+12],11,-421815835),i=Zi(i,s,r,n,e[o+15],16,530742520),n=Zi(n,i,s,r,e[o+2],23,-995338651),r=Yi(r,n,i,s,e[o],6,-198630844),s=Yi(s,r,n,i,e[o+7],10,1126891415),i=Yi(i,s,r,n,e[o+14],15,-1416354905),n=Yi(n,i,s,r,e[o+5],21,-57434055),r=Yi(r,n,i,s,e[o+12],6,1700485571),s=Yi(s,r,n,i,e[o+3],10,-1894986606),i=Yi(i,s,r,n,e[o+10],15,-1051523),n=Yi(n,i,s,r,e[o+1],21,-2054922799),r=Yi(r,n,i,s,e[o+8],6,1873313359),s=Yi(s,r,n,i,e[o+15],10,-30611744),i=Yi(i,s,r,n,e[o+6],15,-1560198380),n=Yi(n,i,s,r,e[o+13],21,1309151649),r=Yi(r,n,i,s,e[o+4],6,-145523070),s=Yi(s,r,n,i,e[o+11],10,-1120210379),i=Yi(i,s,r,n,e[o+2],15,718787259),n=Yi(n,i,s,r,e[o+9],21,-343485551),r=Fp(r,a),n=Fp(n,l),i=Fp(i,u),s=Fp(s,d)}return[r,n,i,s]}function sde(e,t=Fy.Hex){const r=t||Fy.Base64,n=tUe(JBe(e),e.length*E0);switch(r){case Fy.Raw:return n;case Fy.Hex:return XBe(n);case Fy.String:return KBe(n);case Fy.Base64:return QBe(n)}}const rUe=()=>ie.getLogger("esri.views.2d.layers.support.clusterUtils");J.add("esri-cluster-arcade-enabled",!0);const nUe=J("esri-cluster-arcade-enabled"),iUe=new Set(["simple-line","simple-fill","picture-fill"]);function CH(e,t){let r=t.clone();if(!sUe(r))return r;if(t.getSymbols().some(n=>iUe.has(n.type))&&(r=new jv({symbol:new Zu})),r.authoringInfo||(r.authoringInfo=new nD),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const n=(r.visualVariables||[]).filter(i=>i.valueExpression!=="$view.scale");n.forEach(i=>{i.type==="rotation"?i.field?i.field=Hh(e,i.field,"avg_angle","number"):i.valueExpression&&(i.field=O1(e,i.valueExpression,"avg_angle","number"),i.valueExpression=null):i.normalizationField?(i.field=Hh(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Hh(e,i.field,"avg","number"):i.valueExpression&&(i.field=O1(e,i.valueExpression,"avg","number"),i.valueExpression=null)}),r.visualVariables=n}switch(r.type){case"simple":break;case"pie-chart":for(const n of r.attributes)n.field?n.field=Hh(e,n.field,"sum","number"):n.valueExpression&&(n.field=O1(e,n.valueExpression,"sum","number"),n.valueExpression=null);break;case"unique-value":r.field?r.field=Hh(e,r.field,"mode","string"):r.valueExpression&&(r.field=O1(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=Hh(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=Hh(e,r.field,"avg","number"):r.valueExpression&&(r.field=O1(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const sUe=e=>{const t=r=>rUe().error(new q("Unsupported-renderer",r,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!nUe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function oUe(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=r,i="field",s=t.toLowerCase()+",norm:"+i+","+n.toLowerCase();return"cluster_avg_"+sde(s)}}}function O1(e,t,r,n){const i=sde(t),s=r==="mode"?`cluster_type_${i}`:r==="sum"?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some(o=>o.name===s)||e.push(new Zm({name:s,isAutoGenerated:!0,onStatisticExpression:new TD({expression:t,returnType:n}),statisticType:r})),s}function Hh(e,t,r,n,i){if(t==="cluster_count"||e.some(o=>o.name===t))return t;const s=oUe(r,t,i);return e.some(o=>o.name===s)||(r==="avg_norm"?e.push(new Zm({name:s,isAutoGenerated:!0,onStatisticExpression:new TD({expression:`$feature.${t} / $feature.${i}`,returnType:n}),statisticType:"avg"})):e.push(new Zm({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),s}const aUe=e=>{let t=class extends e{constructor(...r){super(...r),this.addHandles(Se(()=>this.renderer,()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},Ni))}set featureReduction(r){const n=this._normalizeFeatureReduction(r);this._set("featureReduction",n)}set renderer(r){}_withClusterVariable(r,n,i){const s=r.clone();return"visualVariables"in s&&(s.visualVariables||(s.visualVariables=[]),s.visualVariables.some(o=>o.type==="size")||s.visualVariables.push(new oD({field:"cluster_count",stops:[new LT({value:1}),new LT({useMinValue:!0,size:n}),new LT({useMaxValue:!0,size:i})]}))),s}_normalizeFeatureReduction(r){var h;if((r==null?void 0:r.type)!=="cluster")return r;const n=r.clone(),i=[new Zm({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(n.fields??[]).filter(f=>!f.isAutoGenerated),o=r.renderer&&!((h=r.renderer.authoringInfo)!=null&&h.isAutoGenerated),{clusterMinSize:a,clusterMaxSize:l}=n;if(o){n.fields=[...i,...s];const f=this._withClusterVariable(n.renderer,a,l);return n.effectiveFeatureRenderer=f,n.effectiveClusterRenderer=f,n}if(r.symbol){if(n.fields=[...i,...s],n.renderer=null,!this.renderer)return n.effectiveFeatureRenderer=null,n.effectiveClusterRenderer=null,n;const f=CH(i,this.renderer),y=this._withClusterVariable(f,a,l),g="visualVariables"in y&&y.visualVariables?y.visualVariables:[],v=new jv({symbol:r.symbol,visualVariables:g});return n.fields=[...i,...s],n.effectiveFeatureRenderer=y,n.effectiveClusterRenderer=v,n}if(!this.renderer)return r;const u=CH(i,this.renderer);n.fields=[...i,...s],n.renderer=u;const d=this._withClusterVariable(u,a,l);return n.effectiveFeatureRenderer=d,n.effectiveClusterRenderer=d,n}};return c([p(YBe)],t.prototype,"featureReduction",null),t=c([R("esri.layers.mixins.FeatureReductionLayer")],t),t},EH={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},kH={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},IH={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},lUe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":EH,"web-map/basemap":kH,"web-map/tables":IH,"link-chart/operational-layers":{...EH,LinkChartLayer:!0},"link-chart/basemap":kH,"link-chart/tables":IH,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},kD=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,n,i){var s;return((s=i==null?void 0:i.portalItem)==null?void 0:s.type)==="Group Layer"?void 0:r}writeListMode(r,n,i,s){(s&&s.layerContainerType==="ground"||r&&bre(this,i,{},s))&&(n[i]=r)}writeOperationalLayerType(r,n,i,s){r&&(s==null?void 0:s.layerContainerType)!=="tables"&&(n.layerType=r)}writeTitle(r,n){n.title=r??"Layer"}readTimeExtent(r){return r?Vu.fromArray(r):null}writeTimeExtent(r,n,i,s){r&&s.layerContainerType!=="tables"&&(r.isEmpty?s!=null&&s.messages&&s.messages.push(new q("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[i]=r.toArray())}read(r,n){n&&(n.layer=this),z$e(this,r,i=>super.read(r,i),n)}write(r,n){var o,a;if(!this.persistenceEnabled&&!(n!=null&&n.ignorePersistenceEnabled))return null;if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,u=lUe[l];let d=!!(u!=null&&u[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(d=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&l==="web-map/operational-layers"&&(d=!1),!d)return(o=n.messages)==null||o.push(new q("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),s=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof q&&l.name==="web-document-write:property-required").length;return HE(i==null?void 0:i.url)?((a=n==null?void 0:n.messages)==null||a.push(new q("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:i}beforeSave(){}};return c([p({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([ue("id",["id"])],t.prototype,"readId",null),c([p(qce)],t.prototype,"listMode",void 0),c([ye("listMode")],t.prototype,"writeListMode",null),c([p({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Si}}}}})],t.prototype,"operationalLayerType",void 0),c([ye("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([p(mj)],t.prototype,"opacity",void 0),c([p({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([ye("title"),ye(["web-scene"],"title")],t.prototype,"writeTitle",null),c([p({type:Vu,json:{origins:{"web-scene":{write:{layerContainerTypes:Si}}}}})],t.prototype,"visibilityTimeExtent",void 0),c([ue("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),c([ye(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[mr,GE]]}})],t.prototype,"writeTimeExtent",null),c([p({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:Si}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=c([R("esri.layers.mixins.OperationalLayer")],t),t};var Cj;const q2=new kt({asc:"ascending",desc:"descending"});let Cg=Cj=class extends ae{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new Cj({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([p({type:String,json:{write:!0}})],Cg.prototype,"field",void 0),c([p({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Cg.prototype,"valueExpression",void 0),c([p({type:q2.apiValues,json:{type:q2.jsonValues,read:q2.read,write:q2.write}})],Cg.prototype,"order",void 0),Cg=Cj=c([R("esri.layers.support.OrderByInfo")],Cg);const ode=Cg;function uUe(e,t,r){if(!e)return null;const n=e.find(s=>!!s.field);if(!n)return null;const i=new ode;return i.read(n,r),[i]}function cUe(e,t,r,n){const i=e.find(s=>!!s.field);i&&ps(r,[i.toJSON()],t)}const dUe={type:[ode],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:uUe},write:{writer:cUe}}},pUe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([p(dUe)],t.prototype,"orderBy",void 0),t=c([R("esri.layers.mixins.OrderedLayer")],t),t};async function hUe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return qg(e);const r=Qe.WGS84;return await oF(t,r),Eh(e,r)}function fUe(e,t){if(!ade(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function ade(e,t){var r;return!!((r=e.typeKeywords)!=null&&r.includes(t))}function B2t(e){return ade(e,yUe.HOSTED_SERVICE)}function mUe(e,t){const r=e.typeKeywords;if(r){const n=r.indexOf(t);n>-1&&r.splice(n,1)}}function U2t(e,t,r){r?fUe(e,t):mUe(e,t)}async function G2t(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return hUe(r)}const yUe={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function OH(e){var l;const{portal:t,isOrgItem:r,itemControl:n}=e,i=(l=t.user)==null?void 0:l.privileges;let s=!i||i.includes("features:user:edit"),o=!!r&&!!(i!=null&&i.includes("features:user:fullEdit"));const a=n==="update"||n==="admin";return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}const ID=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=jr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new S0({id:n.itemId,portal:i==null?void 0:i.portal})}writePortalItem(r,n){r!=null&&r.id&&(n.itemId=r.id)}async loadFromPortal(r,n){var i;if((i=this.portalItem)!=null&&i.id)try{const{load:s}=await Q(()=>import("./layersLoader-RhejfXN-.js"),__vite__mapDeps([223,130,128,129,127,224]),import.meta.url);return _r(n),await s({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap},n)}catch(s){throw ms(s)||ie.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${s}`),s}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(ga(n),!0)))}async setUserPrivileges(r,n){if(!Ft.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:i,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(i){ga(i)}}async _fetchUserPrivileges(r,n){let i=this.portalItem;if(!r||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(n);const s=r===i.id;if(s&&i.portal.user)return OH(i);let o,a;if(s)o=i.portal.url;else try{o=await Nse(this.url,n)}catch(h){ga(h)}if(!o||!hTe(o,i.portal.url))return this._fetchFallbackUserPrivileges(n);try{const h=n!=null?n.signal:null;a=await(St==null?void 0:St.getCredential(`${o}/sharing`,{prompt:!1,signal:h}))}catch(h){ga(h)}const l=!0,u=!1,d=!1;if(!a)return{features:{edit:l,fullEdit:u},content:{updateItem:d}};try{if(s?await i.reload():(i=new S0({id:r,portal:{url:o}}),await i.load(n)),i.portal.user)return OH(i)}catch(h){ga(h)}return{features:{edit:l,fullEdit:u},content:{updateItem:d}}}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(i){ga(i)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?St==null?void 0:St.findCredential(this.url):null;if(!n)return!0;const i=H2.credential===n?H2.user:await this._fetchEditingUser(r);return H2.credential=n,H2.user=i,(i==null?void 0:i.privileges)==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var d,h;const n=(h=(d=this.portalItem)==null?void 0:d.portal)==null?void 0:h.user;if(n)return n;const i=St==null?void 0:St.findServerInfo(this.url??"");if(!(i!=null&&i.owningSystemUrl))return null;const s=`${i.owningSystemUrl}/sharing/rest`,o=ui.getDefault();if(o&&o.loaded&&Oa(o.restUrl)===Oa(s))return o.user;const a=`${s}/community/self`,l=r!=null?r.signal:null,u=await QE(yr(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return u.ok?hF.fromJSON(u.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){var o;const i=n==null?void 0:n.portal,s=((o=this.portalItem)==null?void 0:o.id)&&(this.portalItem.portal||ui.getDefault());return i&&s&&!Tre(s.restUrl,i.restUrl)?(n.messages&&n.messages.push(new q("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return c([p({type:S0})],t.prototype,"portalItem",null),c([ue("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([ye("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([p({clonable:!1})],t.prototype,"resourceReferences",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),c([p({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=c([R("esri.layers.mixins.PortalLayer")],t),t},H2={credential:null,user:null};let ew=class extends Be{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};c([p()],ew.prototype,"updating",void 0),c([p()],ew.prototype,"status",void 0),ew=c([R("esri.layers.support.PublishingInfo")],ew);const gUe=ew,vUe=Symbol(),bUe=e=>{var t;let r=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const n=this._get("publishingInfo");if(n)return n;const i=new gUe;return this._checkPublishingStatus(i),i}_checkPublishingStatus(n){let o=0;const a=async u=>{let d;n.updating=!0;try{d=await this.fetchPublishingStatus()}catch{d="unavailable"}d!=="published"&&d!=="unavailable"||(n.status==="publishing"&&this.refresh(),l.remove()),n.status=d,n.updating=!1,l.removed||(o=setTimeout(a,u,u+125))},l={removed:!1,remove(){this.removed=!0,clearTimeout(o)}};this.when().catch(()=>l.remove()),a(250),this.addHandles(l)}};return t=vUe,c([p({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=c([R("esri.layers.mixins.PublishableLayer")],r),r},Dp=new Ce,Uw=new WeakMap;function wUe(e){xUe(e)&&Dp.push(new WeakRef(e))}function _Ue(e){const t=Dp.find(r=>r.deref()===e);t&&Dp.remove(t)}function xUe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function lde(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:lde(t,e%t):0}let iP=0,Z2=0;function SUe(){const e=Date.now();let t=!1;for(const r of Dp){const n=r.deref();n?n.refreshInterval&&e-(Uw.get(n)??0)+5>=6e4*n.refreshInterval&&(Uw.set(n,e),n.refresh(e)):t=!0}if(t)for(let r=Dp.length-1;r>=0;r--)Dp.at(r).deref()||Dp.removeAt(r)}Ite(()=>{const e=Date.now();let t=0;for(const r of Dp){const n=r.deref();n&&(t=lde(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?Uw.get(n)||Uw.set(n,e):Uw.delete(n))}if(t!==Z2){if(Z2=t,clearInterval(iP),Z2===0)return void(iP=0);iP=setInterval(SUe,Z2)}});const PH=.1,ude=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=DE(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||wUe(this)},()=>{})}destroy(){_Ue(this)}castRefreshInterval(r){return r>=PH?r:r<=0?0:PH}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){dA(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{ie.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return c([p({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Si}}}}})],t.prototype,"refreshInterval",void 0),c([tr("refreshInterval")],t.prototype,"castRefreshInterval",null),c([p({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([p({readOnly:!0})],t.prototype,"refreshParameters",null),t=c([R("esri.layers.mixins.RefreshableLayer")],t),t},Uk=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&$Ue(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return c([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([p({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([p({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([R("esri.layers.mixins.ScaleRangeLayer")],t),t};function $Ue(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const cde=ys()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let tw=class extends Fr(ae){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return aoe(this.value,this.unit,"milliseconds")}};c([Ze(cde,{nonNullable:!0})],tw.prototype,"unit",void 0),c([p({type:Number,json:{write:!0},nonNullable:!0})],tw.prototype,"value",void 0),tw=c([R("esri.TimeInterval")],tw);const eC=tw;function AH(e,t){return eC.fromJSON({value:e,unit:t})}let Ii=class extends Fr(ae){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&r.timeExtent.length===2?Vu.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){(t==null?void 0:t.start)!=null&&t.end!=null?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?AH(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?AH(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=(t==null?void 0:t.toJSON().value)??null,r.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};c([p({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Ii.prototype,"cumulative",void 0),c([p({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Ii.prototype,"endField",void 0),c([p({type:Vu,json:{write:{enabled:!0,allowNull:!0}}})],Ii.prototype,"fullTimeExtent",void 0),c([ue("fullTimeExtent",["timeExtent"])],Ii.prototype,"readFullTimeExtent",null),c([ye("fullTimeExtent")],Ii.prototype,"writeFullTimeExtent",null),c([p({type:Boolean,json:{write:!0}})],Ii.prototype,"hasLiveData",void 0),c([p({type:eC,json:{write:{enabled:!0,allowNull:!0}}})],Ii.prototype,"interval",void 0),c([ue("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Ii.prototype,"readInterval",null),c([ye("interval")],Ii.prototype,"writeInterval",null),c([p({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Ii.prototype,"startField",void 0),c([p(S3("timeReference",!0))],Ii.prototype,"timeZone",void 0),c([p({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Ii.prototype,"trackIdField",void 0),c([p({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Ii.prototype,"useTime",void 0),c([p({type:[Date],json:{read:!1}})],Ii.prototype,"stops",void 0),Ii=c([R("esri.layers.support.TimeInfo")],Ii);const dde=Ii,TUe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Si}}},pde=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const i=n.timeInfo.exportOptions;if(!i)return null;const s=i.timeOffset,o=cde.fromJSON(i.timeOffsetUnits);return s&&o?new eC({value:s,unit:o}):null}set timeInfo(r){woe(r,this.fieldsIndex),this._set("timeInfo",r)}};return c([p({type:Vu,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([p({type:eC})],t.prototype,"timeOffset",void 0),c([ue("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([p({value:null,type:dde,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([p(TUe)],t.prototype,"useViewTime",void 0),t=c([R("esri.layers.mixins.TemporalLayer")],t),t},RH=new kt({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let pp=class extends Fr(ae){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([p({json:{write:!0}})],pp.prototype,"name",void 0),c([p({json:{write:!0}})],pp.prototype,"description",void 0),c([p({json:{read:RH.read,write:RH.write}})],pp.prototype,"drawingTool",void 0),c([p({json:{write:!0}})],pp.prototype,"prototype",void 0),c([p({json:{write:!0}})],pp.prototype,"thumbnail",void 0),pp=c([R("esri.layers.support.FeatureTemplate")],pp);const OD=pp;let Ic=class extends Fr(ae){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const n of Object.keys(t))r[n]=Sk(t[n]);return r}writeDomains(t,r){var i;const n={};for(const s of Object.keys(t))t[s]&&(n[s]=(i=t[s])==null?void 0:i.toJSON());r.domains=n}};c([p({json:{write:!0}})],Ic.prototype,"id",void 0),c([p({json:{write:!0}})],Ic.prototype,"name",void 0),c([p({json:{write:!0}})],Ic.prototype,"domains",void 0),c([ue("domains")],Ic.prototype,"readDomains",null),c([ye("domains")],Ic.prototype,"writeDomains",null),c([p({type:[OD],json:{write:!0}})],Ic.prototype,"templates",void 0),Ic=c([R("esri.layers.support.FeatureType")],Ic);const hde=Ic;function MUe(){return{fields:{type:[AF],value:null,set:function(e){if(e&&J("big-integer-warning-enabled")){const t=e.filter(r=>r.type==="big-integer"||r.type==="oid"&&(r.length||0)>=8);if(t.length){const r=t.map(n=>`'${n.name}'`).join(", ");ie.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${r}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return Zue.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const r of e)((t=this.fieldsIndex)==null?void 0:t.has(r))||ie.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${r} found in outFields`,{layer:this,outFields:e});return gk(this.fieldsIndex,e)}}}}const sP=()=>ie.getLogger("esri.layers.support.labelingInfo"),CUe=/\[([^[\]]+)\]/gi;function oP(e,t,r){return e?e.map(n=>{var s;const i=new Vk;if(i.read(n,r),i.labelExpression){const o=t.fields||((s=t.layerDefinition)==null?void 0:s.fields)||this.fields;i.labelExpression=i.labelExpression.replaceAll(CUe,(a,l)=>`[${EUe(l,o)}]`)}return i}):null}function EUe(e,t){if(!t)return e;const r=e.toLowerCase();for(let n=0;n<t.length;n++){const i=t[n].name;if(i.toLowerCase()===r)return i}return e}const kUe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function J2t(e,t){const r=[];for(const n of e){const i=n.labelPlacement,s=kUe[t];if(!n.symbol)return sP().warn("No ILabelClass symbol specified."),[];if(!s)return sP().error(new q("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(s.includes(i))r.push(n);else{const o=s[0];i&&sP().warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${o}`);const a=n.clone();a.labelPlacement=o,r.push(a)}}return r}const Eg=[];function IUe(e,t){if(Rae(e.url??""))return!0;const{wkid:r}=t;for(const n of Eg){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}Eg.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),Eg.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Eg.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Eg.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Eg.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function OUe(e,t,r){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const i=await QE(n.populateFromStyle());if(_r(r),i.ok===!1){const s=i.error;t!=null&&t.messages&&t.messages.push(new Da("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}var Ej;let kg=Ej=class extends ae{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new Ej({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};c([p({type:[String],json:{write:!0}})],kg.prototype,"groupByFields",void 0),c([p({type:Number,json:{write:!0}})],kg.prototype,"topCount",void 0),c([p({type:[String],json:{write:!0}})],kg.prototype,"orderByFields",void 0),kg=Ej=c([R("esri.rest.support.TopFilter")],kg);const PUe=kg;var kj;const LH=new kt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),jH=new kt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Zr=kj=class extends ae{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new kj(W({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};c([p({type:Boolean,json:{write:!0}})],Zr.prototype,"cacheHint",void 0),c([p({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Zr.prototype,"distance",void 0),c([p({types:oy,json:{read:dh,write:!0}})],Zr.prototype,"geometry",void 0),c([p({type:Number,json:{write:!0}})],Zr.prototype,"geometryPrecision",void 0),c([p({type:Number,json:{write:!0}})],Zr.prototype,"maxAllowableOffset",void 0),c([p({type:Number,json:{read:{source:"resultRecordCount"}}})],Zr.prototype,"num",void 0),c([p({json:{write:!0}})],Zr.prototype,"objectIds",void 0),c([p({type:[String],json:{write:!0}})],Zr.prototype,"orderByFields",void 0),c([p({type:[String],json:{write:!0}})],Zr.prototype,"outFields",void 0),c([p({type:Qe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Zr.prototype,"outSpatialReference",void 0),c([p({type:String,json:{write:!0}})],Zr.prototype,"resultType",void 0),c([p({json:{write:!0}})],Zr.prototype,"returnGeometry",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Zr.prototype,"returnM",void 0),c([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Zr.prototype,"returnZ",void 0),c([p({type:Number,json:{read:{source:"resultOffset"}}})],Zr.prototype,"start",void 0),c([ye("start"),ye("num")],Zr.prototype,"writeStart",null),c([p({type:String,json:{read:{source:"spatialRel",reader:LH.read},write:{target:"spatialRel",writer:LH.write}}})],Zr.prototype,"spatialRelationship",void 0),c([p({type:Vu,json:{write:!0}})],Zr.prototype,"timeExtent",void 0),c([p({type:PUe,json:{write:!0}})],Zr.prototype,"topFilter",void 0),c([p({type:String,json:{read:jH.read,write:{writer:jH.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null&&this.distance>0}}}}})],Zr.prototype,"units",void 0),c([p({type:String,json:{write:!0}})],Zr.prototype,"where",void 0),Zr=kj=c([R("esri.rest.support.TopFeaturesQuery")],Zr),Zr.from=Xr(Zr);const Y2=Zr;function AUe({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:i},s){if(!r)return null;const o=NUe({editFieldsInfo:t,fields:r,objectIdField:n},s);if(!o.length)return null;const a=zUe({titleBase:i,fields:r,displayField:e}),l=DUe();return new Ph({title:a,content:l,fieldInfos:o})}const RUe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):I4e(e,t);function LUe(e,t){const r=e;return t&&(e=e.filter(n=>!t.includes(n.type))),e===r&&(e=e.slice()),e.sort(jUe),e}function jUe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:NH(e)?-1:NH(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function NUe(e,t){const r=t==null?void 0:t.visibleFieldNames;return LUe(e.fields??[],(t==null?void 0:t.ignoreFieldTypes)||VUe).map(n=>new wF({fieldName:n.name,isEditable:k4e(n,e),label:n.alias,format:FUe(n),visible:RUe(n,{...e,visibleFieldNames:r})}))}function FUe(e){switch(e.type){case"small-integer":case"integer":case"single":return new oT({digitSeparator:!0,places:0});case"double":return new oT({digitSeparator:!0,places:2});case"string":return tAe(e.name)?new oT({digitSeparator:!0,places:0}):void 0;default:return}}function DUe(){return[new A_,new P_]}function zUe(e){const t=b4e(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function NH(e){var r;return(e.name&&e.name.toLowerCase())==="name"?!0:((r=e.alias)==null?void 0:r.toLowerCase())==="name"}const VUe=["geometry","blob","raster","guid","xml"];var Cu;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(Cu||(Cu={}));const vs="FeatureLayer";function J2(e,t){return new q("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function FH(e){return e&&e instanceof Ce}const aP=MUe();function lP(e,t,r){const n=!!(r!=null&&r.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let ze=class extends ABe(aUe(LVe(bUe(OVe(zk(pUe(pde(Uk(ude(tVe(kD(ID(Fk(MVe(eVe(Fr(Gx))))))))))))))))){constructor(...t){super(...t),this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Qe.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=DE(async(r,n,i)=>{const{save:s,saveAs:o}=await Q(()=>import("./featureLayerUtils-Dy8n4c9J.js"),__vite__mapDeps([225,226,227,228,224,229,130]),import.meta.url);switch(r){case Cu.SAVE:return s(this,n);case Cu.SAVE_AS:return o(this,i,n)}})}destroy(){var t;(t=this.source)==null||t.destroy()}normalizeCtorArgs(t,r){return typeof t=="string"?{url:t,...r}:t}load(t){var i;const r=t!=null?t.signal:null;if((i=this.portalItem)!=null&&i.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(r).then(s=>this.initLayerProperties(s))),Promise.resolve(this);const n=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(ga).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstValidLayerId(r);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new q("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(r))}).then(()=>pBe(this,"load",t));return this.addResolvingPromise(n),Promise.resolve(this)}readCapabilities(t,r){return r=r.layerDefinition||r,Kce(r,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var t;return!(this.loaded&&!((t=this.capabilities)!=null&&t.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,r){return this._readEditingEnabled(r,!1)}readEditingEnabledFromWebMap(t,r,n){return this._readEditingEnabled(r,!0,n)}writeEditingEnabled(t,r){this._writeEditingEnabled(t,r,!1)}writeEditingEnabledToWebMap(t,r,n,i){this._writeEditingEnabled(t,r,!0,i)}get effectiveEditingEnabled(){return hBe(this)}readIsTable(t,r){return(r=(r==null?void 0:r.layerDefinition)??r).type==="Table"||!r.geometryType}writeIsTable(t,r,n,i){i!=null&&i.writeLayerSchema&&ps(n,t?"Table":"Feature Layer",r)}readGlobalIdField(t,r){return Zce(r.layerDefinition||r)}readObjectIdField(t,r){return Yce(r.layerDefinition||r)}get parsedUrl(){const t=$i(this.url);return t!=null&&(this.dynamicDataSource!=null?t.path=Z0(t.path,"dynamicLayer"):this.layerId!=null&&(t.path=Z0(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){HG(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,r,n){var s;r=r.layerDefinition||r;const i=(s=r.drawingInfo)==null?void 0:s.renderer;if(i){const o=U_(i,r,n)??void 0;return o||ie.getLogger(this).error("Failed to create renderer",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:n}),o}return $D(r,n)}set source(t){const r=this._get("source");r!==t&&(FH(r)&&this._resetMemorySource(r),FH(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof Ce?new Fc({layer:this,items:t}):t:null}readSource(t,r){const n=Lce.fromJSON(r.featureSet);return new Fc({layer:this,items:(n==null?void 0:n.features)??[]})}readTemplates(t,r){const n=r.editFieldsInfo,i=n==null?void 0:n.creatorField,s=n==null?void 0:n.editorField;return t=t==null?void 0:t.map(o=>OD.fromJSON(o)),this._fixTemplates(t,i),this._fixTemplates(t,s),t}readTitle(t,r){var s,o,a;const n=((s=r.layerDefinition)==null?void 0:s.name)??r.name,i=r.title||((o=r.layerDefinition)==null?void 0:o.title);if(n){const l=(a=this.portalItem)==null?void 0:a.title;if(this.sublayerTitleMode==="item-title")return this.url?qRe(this.url,n):n;let u=n;if(!u&&this.url){const d=Pv(this.url);d!=null&&(u=d.title)}return u?(this.sublayerTitleMode==="item-title-and-service-name"&&l&&l!==u&&(u=l+" - "+u),LF(u)):void 0}if(this.sublayerTitleMode==="item-title"&&i)return i}readTitleFromWebMap(t,r){var n;return r.title||((n=r.layerDefinition)==null?void 0:n.name)}readTypeIdField(t,r){let n=(r=r.layerDefinition||r).typeIdField;if(n&&r.fields){n=n.toLowerCase();const i=r.fields.find(s=>s.name.toLowerCase()===n);i&&(n=i.name)}return n}readTypes(t,r){t=(r=r.layerDefinition||r).types;const n=r.editFieldsInfo,i=n==null?void 0:n.creatorField,s=n==null?void 0:n.editorField;return t==null?void 0:t.map(o=>(o=hde.fromJSON(o),this._fixTemplates(o.templates,i),this._fixTemplates(o.templates,s),o))}readVisible(t,r){var n;return((n=r.layerDefinition)==null?void 0:n.defaultVisibility)!=null?!!r.layerDefinition.defaultVisibility:r.visibility!=null?!!r.visibility:void 0}async addAttachment(t,r){return YVe(this,t,r,vs)}async updateAttachment(t,r,n){return JVe(this,t,r,n,vs)}async applyEdits(t,r){return KVe(this,t,r)}async uploadAssets(t,r){return XVe(this,t,r)}on(t,r){return super.on(t,r)}createPopupTemplate(t){return AUe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:r}=await $te(Q(()=>import("./FeatureLayerSource-CoBdvGE-.js"),__vite__mapDeps([230,37,43,231,222,40,86,39,87,221,24,22,232,233,51,49,50,12,11,15,122,234,14]),import.meta.url),t);return new r({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=lBe(this);t.dynamicDataSource=this.dynamicDataSource;const r=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,n=r4e(this.definitionExpression,r);return t.where=n||"1=1",t}async deleteAttachments(t,r){return QVe(this,t,r,vs)}async fetchRecomputedExtents(t){return eBe(this,t,vs)}getFeatureType(t){return yBe(this.types,this.typeIdField,t)}getFieldDomain(t,r){var o;const n=r==null?void 0:r.feature,i=cBe(this,n);if(i){const a=(o=i.domains)==null?void 0:o[t];return(a==null?void 0:a.type)==="inherited"?this._getLayerDomain(t):a}const s=this.getFeatureType(n);if(s){const a=s.domains&&s.domains[t];if(a&&a.type!=="inherited")return a}return this._getLayerDomain(t)}getField(t){return this.fieldsIndex.get(t)}async queryAttachments(t,r){return tBe(this,t,r,vs)}async queryFeatures(t,r){const n=await this.load(),i=await n.source.queryFeatures(cd.from(t)??n.createQuery(),r);if(i!=null&&i.features)for(const s of i.features)s.layer=s.sourceLayer=n;return i}async queryObjectIds(t,r){return rBe(this,t,r,vs)}async queryFeatureCount(t,r){return nBe(this,t,r,vs)}async queryExtent(t,r){return iBe(this,t,r,vs)}async queryRelatedFeatures(t,r){return sBe(this,t,r,vs)}async queryRelatedFeaturesCount(t,r){return oBe(this,t,r,vs)}async queryTopFeatures(t,r){var o;const{source:n,capabilities:i}=await this.load();if(!n.queryTopFeatures||!((o=i==null?void 0:i.query)!=null&&o.supportsTopFeaturesQuery))throw new q(vs,"Layer source does not support queryTopFeatures capability");const s=await n.queryTopFeatures(Y2.from(t),r);if(s!=null&&s.features)for(const a of s.features)a.layer=a.sourceLayer=this;return s}async queryTopObjectIds(t,r){const{source:n,capabilities:i}=await this.load();if(!n.queryTopObjectIds||!(i!=null&&i.query.supportsTopFeaturesQuery))throw new q(vs,"Layer source does not support queryTopObjectIds capability");return n.queryTopObjectIds(Y2.from(t),r)}async queryTopFeaturesExtent(t,r){var s;const{source:n,capabilities:i}=await this.load();if(!n.queryTopExtents||!((s=i==null?void 0:i.query)!=null&&s.supportsTopFeaturesQuery))throw new q(vs,"Layer source does not support queryTopExtents capability");return n.queryTopExtents(Y2.from(t),r)}async queryTopFeatureCount(t,r){var s;const{source:n,capabilities:i}=await this.load();if(!n.queryTopCount||!((s=i==null?void 0:i.query)!=null&&s.supportsTopFeaturesQuery))throw new q(vs,"Layer source does not support queryFeatureCount capability");return n.queryTopCount(Y2.from(t),r)}read(t,r){const n=t.featureCollection;if((n||t.type==="Feature Collection")&&(this.resourceInfo=t),n){const i=n.layers;i&&i.length===1&&(super.read(i[0],r),n.showLegend!=null&&super.read({showLegend:n.showLegend},r))}super.read(t,r),r&&r.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,r){r={...r,origin:(r==null?void 0:r.origin)??void 0,writeLayerSchema:(r==null?void 0:r.writeLayerSchema)??this._hasMemorySource()};const{origin:n,layerContainerType:i,messages:s}=r;if(this.dynamicDataSource)return s==null||s.push(J2(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((n==="web-map"||n==="web-scene")&&i!=="tables")return s==null||s.push(J2(this,`a table source can only be written to tables, not ${i}`)),null;if(this._hasMemorySource())return s==null||s.push(J2(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(n==="web-map"||n==="web-scene")&&i==="tables")return s==null||s.push(J2(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,r)}clone(){if(this._hasMemorySource())throw new q(vs,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){var r;return!!this.loaded&&(((r=this.source)==null?void 0:r.type)==="memory"||IUe(this,t))}async save(t){return this._debouncedSaveOperations(Cu.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(Cu.SAVE_AS,r,t)}_readEditingEnabled(t,r,n){var s;let i=(s=t.layerDefinition)==null?void 0:s.capabilities;return i?this._hasEditingCapability(i):(i=t.capabilities,r&&(n==null?void 0:n.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(r=>r.trim()).includes("editing")}_writeEditingEnabled(t,r,n,i){var s,o;if(!t){const a=(o=(s=this.capabilities)==null?void 0:s.operations)!=null&&o.supportsSync?"Query,Sync":"Query";ps("layerDefinition.capabilities",a,r),n&&!(i!=null&&i.writeLayerSchema)&&(r.capabilities=a)}}_getLayerDomain(t){const r=this.fieldsIndex.get(t);return r?r.domain:null}_fetchFirstValidLayerId(t){return yr(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(r=>{const n=r.data;if(n)return this.findFirstValidLayerId(n)})}async initLayerProperties(t){var r;return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(r=this.portalItem)==null?void 0:r.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),HG(this.renderer,this.fieldsIndex),woe(this.timeInfo,this.fieldsIndex),OUe(this,{origin:"service"})}async hasDataChanged(){return aBe(this)}async fetchPublishingStatus(){const t=this.source;return t!=null&&t.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){var r,n;const t=((r=this.parsedUrl)==null?void 0:r.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||(n=this.fields)!=null&&n.some(i=>i.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,r){t&&t.forEach(n=>{var s;const i=(s=n.prototype)==null?void 0:s.attributes;i&&r&&delete i[r]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new q("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new q("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(r=>{r.layer=this,r.sourceLayer=this}),this.addHandles([t.on("after-add",r=>{r.item.layer=this,r.item.sourceLayer=this}),t.on("after-remove",r=>{r.item.layer=null,r.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(r=>{r.layer=null,r.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};c([ue("service","capabilities")],ze.prototype,"readCapabilities",null),c([p({json:{origins:{"web-scene":{write:!1}},write:!0}})],ze.prototype,"charts",void 0),c([p({readOnly:!0})],ze.prototype,"createQueryVersion",null),c([p({json:{read:{source:"layerDefinition.copyrightText"}}})],ze.prototype,"copyright",void 0),c([p({json:{read:{source:"layerDefinition.displayField"}}})],ze.prototype,"displayField",void 0),c([p({types:xm,readOnly:!0})],ze.prototype,"defaultSymbol",void 0),c([p({type:xl})],ze.prototype,"dynamicDataSource",void 0),c([p({type:Boolean})],ze.prototype,"editingEnabled",null),c([ue(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ze.prototype,"readEditingEnabled",null),c([ue("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ze.prototype,"readEditingEnabledFromWebMap",null),c([ye(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ze.prototype,"writeEditingEnabled",null),c([ye("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ze.prototype,"writeEditingEnabledToWebMap",null),c([p({readOnly:!0})],ze.prototype,"effectiveEditingEnabled",null),c([p({...aP.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:lP}}}}})],ze.prototype,"fields",void 0),c([p(aP.fieldsIndex)],ze.prototype,"fieldsIndex",void 0),c([p({type:Yze,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ze.prototype,"formTemplate",void 0),c([p({json:{read:{source:"layerDefinition.extent"}}})],ze.prototype,"fullExtent",void 0),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:lP,writer(e,t,r){const n=e?vj.toJSON(e):null;n&&ps(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:vj.read}}})],ze.prototype,"geometryType",void 0),c([p({json:{read:{source:"layerDefinition.hasM"}}})],ze.prototype,"hasM",void 0),c([p({json:{read:{source:"layerDefinition.hasZ"}}})],ze.prototype,"hasZ",void 0),c([p(VVe)],ze.prototype,"id",void 0),c([p({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ze.prototype,"infoFor3D",void 0),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ze.prototype,"isTable",void 0),c([ue("service","isTable",["type","geometryType"]),ue("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ze.prototype,"readIsTable",null),c([ye("web-map","isTable")],ze.prototype,"writeIsTable",null),c([p(_D)],ze.prototype,"labelsVisible",void 0),c([p({type:[Vk],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:oP,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:oP,write:{enabled:!0,layerContainerTypes:Si}}},name:"layerDefinition.drawingInfo.labelingInfo",read:oP,write:!0}})],ze.prototype,"labelingInfo",void 0),c([p((()=>{const e=W(zVe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,n){ps(n,hk(t),r)}}},e})())],ze.prototype,"opacity",void 0),c([p(Gce)],ze.prototype,"legendEnabled",void 0),c([p({type:["show","hide"],json:(()=>{const e=W(qce.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],ze.prototype,"listMode",void 0),c([ue("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ze.prototype,"readGlobalIdField",null),c([p({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:lP}}}}})],ze.prototype,"objectIdField",void 0),c([ue("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ze.prototype,"readObjectIdField",null),c([p({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ze.prototype,"operationalLayerType",void 0),c([p(aP.outFields)],ze.prototype,"outFields",void 0),c([p({readOnly:!0})],ze.prototype,"parsedUrl",null),c([p({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ze.prototype,"path",void 0),c([p(wD)],ze.prototype,"popupEnabled",void 0),c([p({type:Ph,json:{name:"popupInfo",write:!0}})],ze.prototype,"popupTemplate",void 0),c([p({readOnly:!0})],ze.prototype,"defaultPopupTemplate",null),c([p({types:Nk,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Sze,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Si,overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],ze.prototype,"renderer",null),c([ue("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ue("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ze.prototype,"readRenderer",null),c([p()],ze.prototype,"resourceInfo",void 0),c([p((()=>{const e=W(FVe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],ze.prototype,"screenSizePerspectiveEnabled",void 0),c([p({clonable:!1})],ze.prototype,"source",null),c([tr("source")],ze.prototype,"castSource",null),c([ue("portal-item","source",["featureSet"]),ue("web-map","source",["featureSet"])],ze.prototype,"readSource",null),c([p({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],ze.prototype,"spatialReference",void 0),c([p({type:Number})],ze.prototype,"subtypeCode",void 0),c([p({type:[OD]})],ze.prototype,"templates",void 0),c([ue("templates",["editFieldsInfo","creatorField","editorField","templates"])],ze.prototype,"readTemplates",null),c([p({type:dde})],ze.prototype,"timeInfo",void 0),c([p()],ze.prototype,"title",void 0),c([ue("service","title",["name"]),ue("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ze.prototype,"readTitle",null),c([ue("web-map","title",["layerDefinition.name","title"])],ze.prototype,"readTitleFromWebMap",null),c([p({type:String})],ze.prototype,"sublayerTitleMode",void 0),c([p({json:{read:!1}})],ze.prototype,"type",void 0),c([p({type:String})],ze.prototype,"typeIdField",void 0),c([ue("service","typeIdField"),ue("typeIdField",["layerDefinition.typeIdField"])],ze.prototype,"readTypeIdField",null),c([p({type:[hde]})],ze.prototype,"types",void 0),c([ue("service","types",["types"]),ue("types",["layerDefinition.types"])],ze.prototype,"readTypes",null),c([p({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ze.prototype,"visible",void 0),c([ue("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ze.prototype,"readVisible",null),ze=c([R("esri.layers.FeatureLayer")],ze);const fde=ze,BUe=Object.freeze(Object.defineProperty({__proto__:null,default:fde},Symbol.toStringTag,{value:"Module"}));let Oc=class extends eD(Za.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var r,n;if(!((r=this.view)!=null&&r.ready))throw new q("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((n=this.view)==null?void 0:n.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};c([p()],Oc.prototype,"_goingHomeController",void 0),c([p({readOnly:!0})],Oc.prototype,"state",null),c([p()],Oc.prototype,"view",null),c([p({type:Aa})],Oc.prototype,"viewpoint",null),c([p()],Oc.prototype,"go",null),c([p()],Oc.prototype,"cancelGo",null),Oc=c([R("esri.widgets.Home.HomeViewModel")],Oc);const mde=Oc;function PD(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,n=Array.isArray(e)?e:UUe(e);r.push(...n)}}function UUe(e){return e.split(",").map(t=>t.trim())}const GUe={base:"esri-home"};let la=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new mde,this._go=()=>{const{viewModel:n}=this;n.state==="going-home"?n.cancelGo():n.go()}}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url),loader:()=>Q(()=>import("./calcite-loader-Dz1MhhTy.js"),__vite__mapDeps([235,219,210,215,216]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var o;const{messagesCommon:t,messages:r,icon:n}=this,i=(o=this.viewModel)==null?void 0:o.state,s=i==="going-home";return ee("div",{class:this.classes(GUe.base,lt.widget)},ee("calcite-button",{class:lt.widgetButton,disabled:i==="disabled",iconStart:s?void 0:n,kind:"neutral",label:r.widgetLabel,onclick:this._go,scale:s?"s":"m",title:i==="going-home"?t.cancel:r.title},s?ee("calcite-loader",{inline:!0,label:""}):null))}};c([p()],la.prototype,"goToOverride",null),c([p()],la.prototype,"icon",null),c([p()],la.prototype,"label",null),c([p(),Fs("esri/widgets/Home/t9n/Home")],la.prototype,"messages",void 0),c([p(),Fs("esri/t9n/common")],la.prototype,"messagesCommon",void 0),c([p()],la.prototype,"uiStrings",void 0),c([p()],la.prototype,"view",null),c([p({type:mde}),PD("go")],la.prototype,"viewModel",void 0),c([p()],la.prototype,"viewpoint",null),la=c([R("esri.widgets.Home")],la);const WUe=la;var Eu;(function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"})(Eu||(Eu={}));function qUe(e){return yde(e)||M9(e)||C9(e)}function yde(e){return uh(e)||VA(e)}const HUe=12;let td=class Zs{constructor(t){const r=Zs.checkUnsupported(t);if(r!=null)throw r;const n=t;this.spatialReference=n.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Rx(this.spatialReference),this.origin=[n.origin.x,n.origin.y],this.pixelSize=n.size[0],this.dpi=n.dpi;const i=n.lods.reduce((u,d)=>(d.level<u.minLod.level&&(u.minLod=d),u.max=Math.max(u.max,d.level),u),{minLod:n.lods[0],max:-1/0}),s=i.minLod,o=2**s.level;let a=s.resolution*o,l=s.scale*o;this.levels=new Array(i.max+1);for(let u=0;u<this.levels.length;u++)this.levels[u]={resolution:a,scale:l,tileSize:[a*n.size[0],a*n.size[1]]},a/=2,l/=2}clone(){return new Zs(this.toTileInfo())}toTileInfo(){return new kw({dpi:this.dpi,origin:new nt({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,r)=>new ba({level:r,scale:t.scale,resolution:t.resolution}))})}getExtent(t,r,n,i){const s=this.levels[t],o=s.tileSize[0],a=s.tileSize[1];i[0]=this.origin[0]+n*o,i[2]=this.origin[0]+(n+1)*o,i[3]=this.origin[1]-r*a,i[1]=this.origin[1]-(r+1)*a}convertExtentToRadians(t,r){this._isWebMercator?(r[0]=rU(t[0]),r[1]=nU(t[1]),r[2]=rU(t[2]),r[3]=nU(t[3])):this._isGCS&&(r[0]=Rp(t[0]),r[1]=Rp(t[1]),r[2]=Rp(t[2]),r[3]=Rp(t[3]))}getExtentGeometry(t,r,n,i=new Rt){return this.getExtent(t,r,n,Wl),i.spatialReference=this.spatialReference,i.xmin=Wl[0],i.ymin=Wl[1],i.xmax=Wl[2],i.ymax=Wl[3],i.zmin=void 0,i.zmax=void 0,i}ensureMaxLod(t){if(t==null)return!1;let r=!1;for(;this.levels.length<=t;){const{resolution:n,scale:i}=this.levels[this.levels.length-1],s=n/2*this.pixelSize;this.levels.push({resolution:n/2,scale:i/2,tileSize:[s,s]}),r=!0}return r}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const r=this.levels[0].scale;return t>=r?0:Math.log(r/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,r=1/0){if(Zs.checkUnsupported(t))return!1;const n=new Zs(t);if(!n.spatialReference.equals(this.spatialReference)||n.pixelSize!==this.pixelSize)return!1;const i=Math.min(this.levels.length-1,n.levels.length-1,r),s=this.levels[i].resolution;let o=.5*s;return!Xp(n.origin[0],this.origin[0],o)||!Xp(n.origin[1],this.origin[1],o)?!1:(o=.5*s/2**i/this.pixelSize*HUe,Xp(s,n.levels[i].resolution,o))}rootTilesInExtent(t,r=null,n=1/0){const i=new Array,s=this.levels[0].tileSize;if(t==null||s[0]===0||s[1]===0)return i;Zs.computeRowColExtent(t,s,this.origin,Wl);let o=Wl[1],a=Wl[3],l=Wl[0],u=Wl[2];const d=u-l,h=a-o;if(d*h>n){const f=Math.floor(Math.sqrt(n));h>f&&(o=o+Math.floor(.5*h)-Math.floor(.5*f),a=o+f),d>f&&(l=l+Math.floor(.5*d)-Math.floor(.5*f),u=l+f)}for(let f=o;f<a;f++)for(let y=l;y<u;y++)i.push([0,f,y]);return r!=null&&(r[0]=this.origin[0]+l*s[0],r[1]=this.origin[1]-a*s[1],r[2]=this.origin[0]+u*s[0],r[3]=this.origin[1]-o*s[1]),i}static computeRowColExtent(t,r,n,i){const s=.001*(t[2]-t[0]+(t[3]-t[1]));i[0]=Math.max(0,Math.floor((t[0]+s-n[0])/r[0])),i[2]=Math.max(0,Math.ceil((t[2]-s-n[0])/r[0])),i[1]=Math.max(0,Math.floor((n[1]-t[3]+s)/r[1])),i[3]=Math.max(0,Math.ceil((n[1]-t[1]-s)/r[1]))}static isPowerOfTwo(t){const r=t.lods,n=r[0].resolution*2**r[0].level;return!r.some(i=>!I$e(i.resolution,n/2**i.level))}static hasGapInLevels(t){const r=t.lods.map(n=>n.level);r.sort((n,i)=>n-i);for(let n=1;n<r.length;n++)if(r[n]!==r[0]+n)return!0;return!1}static tileSizeSupported(t){const r=t.size[1];return r===t.size[0]&&!(r&r-1)&&r>=128&&r<=512}static hasOriginPerLODs(t){const r=t.origin;return t.lods.some(n=>n.origin!=null&&(n.origin[0]!==r.x||n.origin[1]!==r.y))}static getMissingTileInfoError(){return new q("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?AD():t.lods.length<1?new q("tilingscheme:generic","Tiling scheme must have at least one level"):Zs.isPowerOfTwo(t)?Zs.hasGapInLevels(t)?new q("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):Zs.tileSizeSupported(t)?Zs.hasOriginPerLODs(t)?new q("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new q("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new q("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,r){const n=t[2]-t[0],i=t[3]-t[1],s=zl(r),o=1.2*Math.max(n,i),a=256,l=o/a,u=l*s*(96/.0254),d=new Zs(new kw({size:[a,a],origin:new nt({x:t[0]-.5*(o-n),y:t[3]+.5*(o-i)}),lods:[new ba({level:0,resolution:l,scale:u})],spatialReference:r}));return d.ensureMaxLod(20),d}static makeWebMercatorAuxiliarySphere(t){const r=new Zs(Zs.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}static makeGCSWithTileSize(t,r=256,n=16){const i=256/r,s=new Zs(new kw({size:[r,r],origin:new nt({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new ba({level:0,resolution:.703125*i,scale:295497598570834e-6*i})]}));return s.ensureMaxLod(n),s}get test(){}};function AD(){return new q("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}td.WebMercatorAuxiliarySphereTileInfo=new kw({size:[256,256],origin:new nt({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:Qe.WebMercator}),spatialReference:Qe.WebMercator,lods:[new ba({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),td.WebMercatorAuxiliarySphere=td.makeWebMercatorAuxiliarySphere(19);const Wl=wi(),DH=64;O$e(CA/10);const ZUe=wi();td.WebMercatorAuxiliarySphere.getExtent(0,0,0,ZUe);wi([-180,-90,180,90]);const Dy=Ha(),YUe=Ha(),lc=Ha(),uc=Ha();function JUe(e,t,r=0){const n=e.extent;if(n==null)return!1;if(r===0)return r3e(n,t);const i=Math.min(n[2]-n[0],n[3]-n[1]);return i3e(n,t,r*i)}function K2(e,t,r,n){rre(Dy,r),Dy[n]=t[n];const i=xw(Dy,Dy,t),s=xw(YUe,e,t),o=r3(s,i),a=r3(i,i);let l;l=o<=0?t:a<=o?r:ire(Dy,t,f9(i,i,o/a));const u=xw(Dy,e,l);return Math.PI/2-Math.atan(u[2]/Math.sqrt(u[0]*u[0]+u[1]*u[1]))}function KUe(e,t,r){const n=e.extent;if(n==null)return 0;lc[0]=n[0],lc[1]=n[1],lc[2]=r,uc[0]=n[2],uc[1]=n[3],uc[2]=r;let i=1/0,s=1/0;return t[0]<lc[0]?i=K2(t,lc,uc,0):t[0]>uc[0]&&(i=K2(t,uc,lc,0)),t[1]<lc[1]?s=K2(t,lc,uc,1):t[1]>uc[1]&&(s=K2(t,uc,lc,1)),Math.min(i,s)}function XUe(e,t,r,n){if(e==null)return AD();const i=e.spatialReference;if(i.isGeographic&&!yde(i))return new q("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const s=td.checkUnsupported(e);return s??(r==null?new q("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):QUe(e,r)||(t==null||i.equals(t)||t.isWGS84&&i.isWebMercator?null:new q("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function QUe(e,t){const r=e.lods,n=r[0].resolution*2**r[0].level,i=[n*e.size[0],n*e.size[1]],s=[e.origin.x,e.origin.y],o=t3e(t),a=wi();td.computeRowColExtent(o,i,s,a);const l=(a[2]-a[0])*(a[3]-a[1]);if(l>DH){const u=r[0].scale*2**r[0].level;let d=Math.max((o[3]-o[1])/e.size[1],(o[2]-o[0])/e.size[0])*u/n;const h=Math.floor(Math.log(d)/Math.log(10));return d=Math.ceil(d/10**h)*10**h,new q("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+d.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:d,requiredNumRootTiles:l,allowedNumRootTiles:DH})}return null}const eGe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:XUe,isInsideExtent:JUe,tiltToExtentEdge:KUe},Symbol.toStringTag,{value:"Module"}));function tGe(){return!0}function rGe(){return 0}function nGe(e,t,r,n){if(e==null)return AD();const i=(e==null?void 0:e.lods.length)-1,s=e.spatialReference;if(s.isWebMercator){if(!td.makeWebMercatorAuxiliarySphere(i).compatibleWith(e,n))return new q("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!qUe(s))return new q("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!td.makeGCSWithTileSize(e.spatialReference,e.size[0],i).compatibleWith(e,n))return e.spatialReference.isWGS84?new q("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new q("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new q("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const iGe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:nGe,isInsideExtent:tGe,tiltToExtentEdge:rGe},Symbol.toStringTag,{value:"Module"})),sGe={[dd.Global]:iGe,[dd.Local]:eGe};function Ij(e,t,r,n,i){return sGe[n].checkIfTileInfoSupportedForViewSR(e,r,t,i)}function oGe(e,t,r){const n=dOe(e);if(n!=null){if(!Ce.isCollection(n))return{tileInfo:n.tileInfo,fullExtent:n.fullExtent};{const i=n.find(s=>Ij(s.tileInfo,s.fullExtent,t,r)==null);if(i)return{tileInfo:i.tileInfo,fullExtent:i.fullExtent}}}return{tileInfo:null,fullExtent:null}}Eu.NORTH,Eu.EAST,Eu.SOUTH,Eu.WEST;Eu.NORTH_EAST,Eu.SOUTH_EAST,Eu.SOUTH_WEST,Eu.NORTH_WEST;function aGe(e,t){return e!=null&&(t==null||(t===dd.Local?!e.isGeographic||e.isWGS84||e.wkid===xa.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===xa.CGCS2000||e.wkid===xa.GCSMARS2000||e.wkid===xa.GCSMARS2000_SPHERE||e.wkid===xa.GCSMOON2000))}async function lGe(e,t={}){const{basemap:r,view:n}=e;await r.load(t),cGe(r),await pGe(r,n,t),_r(t)}async function uGe(e,t={}){var a,l;const{basemap:r,view:n}=e;_r(t);const i=(a=r.baseLayers.find(u=>u.type==="unknown"))==null?void 0:a.loadError;if(i!=null)throw i;if(!n||"spatialReferenceLocked"in n&&!n.spatialReferenceLocked||(await r.load(t),_r(t),r.baseLayers.length===0))return;const s=r.baseLayers.at(0);if(!cOe(s))return;if(r.spatialReference){if(n.spatialReference.equals(r.spatialReference))return;zH()}await s.load(t),_r(t);const o=(("supportedSpatialReferences"in s?s.supportedSpatialReferences:null)||["tileInfo"in s?(l=s.tileInfo)==null?void 0:l.spatialReference:null]).filter(zi);o.length!==0&&o.every(u=>!n.spatialReference.equals(u))&&zH()}function zH(){throw new q("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function cGe(e){if(e.baseLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(r=>!aOe(r)).map(r=>dGe(r));if(t.length)throw t[0]}function dGe(e){return new q("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function pGe(e,t,r){if(e.baseLayers.length===0)return;const n=e.baseLayers.at(0);if(Lse(n)){try{await n.load(r)}catch(i){const s="basemap-compatibility:unknown-error",o="Unknown basemap compatibility error",{name:a=s,message:l=o,details:u}=i;throw new q(a,l,u)}hGe(n,t)}}function hGe(e,t){var a;const r=t.state.viewingMode;if(!r)return;let n,i;if((e==null?void 0:e.type)==="wmts"){const l=oGe(e,t.spatialReference,r);if(l.tileInfo==null)throw new q("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");n=l.tileInfo,i=l.fullExtent}else n=e.tileInfo,i=e.fullExtent;if(n==null)return;if(!aGe(n.spatialReference,r))throw new q(`basemapgalleryitem:spatial-reference-unsupported-${bW(r)}`,`Basemap spatial reference is unsupported in ${bW(r)} mode`);const s=(e==null?void 0:e.type)==="vector-tile"?n.getCompatibleForVTL(256):null;if(r===dd.Global){let l=Ij(n,i,null,r);if(l&&(e==null?void 0:e.type)==="vector-tile"&&i!=null&&s&&!Ij(s,i,null,r)&&(l=null),l){const u=n.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new q(`basemapgalleryitem:tiling-scheme-unsupported-${u}-global`,"Basemap tiling scheme is unsupported in global mode",{error:l})}}else if(td.checkUnsupported(n))throw new q("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const o=(a=t.basemapTerrain)==null?void 0:a.tilingScheme;if(o&&!o.compatibleWith(n)&&((e==null?void 0:e.type)!=="vector-tile"||!s||!o.compatibleWith(s)))throw new q("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let cu=class extends yd(Be){constructor(t){super(t),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const t=()=>this.refresh();this.addHandles([Se(()=>{var r;return(r=this.basemap)==null?void 0:r.loadStatus},t),Se(()=>this.compatibilityFunction,t),Se(()=>{var r;return this.view&&"basemapTerrain"in this.view&&((r=this.view.basemapTerrain)==null?void 0:r.tilingScheme)},t),Se(()=>{var r;return(r=this.view)==null?void 0:r.ready},t),Se(()=>{var r;return(r=this.view)==null?void 0:r.spatialReference},t)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return WPe(this.view,this.basemap)}set basemap(t){t&&t.load().catch(()=>{}),this._set("basemap",t)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var i;this._cancelRefresh(),this._set("state","loading");const t=(i=this.basemap)==null?void 0:i.loadStatus;if(t!=="loaded"&&t!=="failed")return;if(!this.compatibilityFunction)return void(t==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const r=new AbortController,{signal:n}=r;this.compatibilityFunction(this,{signal:n}).then(()=>Q0(()=>!this._spatialReferenceTask.updating,n)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(s=>{ms(s)||(this._set("state","error"),this._set("error",s))}),this._refreshController=r}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};c([p({readOnly:!0})],cu.prototype,"_spatialReferenceTask",null),c([p()],cu.prototype,"basemap",null),c([p()],cu.prototype,"compatibilityFunction",void 0),c([p({readOnly:!0})],cu.prototype,"error",void 0),c([p({readOnly:!0})],cu.prototype,"spatialReference",null),c([p({readOnly:!0})],cu.prototype,"state",void 0),c([p()],cu.prototype,"view",void 0),cu=c([R("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],cu);const gde=cu,vde=Ce.ofType(eh);let rw=class extends Be{constructor(t){super(t),this.basemaps=new vde}destroy(){this.basemaps.forEach(t=>t.destroy())}get state(){return"ready"}refresh(){}};c([p({type:vde})],rw.prototype,"basemaps",void 0),c([p({readOnly:!0})],rw.prototype,"state",null),rw=c([R("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],rw);const bde=rw,wde=Ce.ofType(eh);let du=class extends Ba.LoadableMixin(Bx(bde)){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new wde,this.filterFunction=null,this.portal=ui.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(Se(()=>{var t,r,n;return[this.filterFunction,this.loadStatus,(t=this.portal)==null?void 0:t.basemapGalleryGroupQuery,(r=this.portal)==null?void 0:r.basemapGalleryGroupQuery3D,(n=this.portal)==null?void 0:n.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),Cr))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(t=>t.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,r=new AbortController;this._lastPortalBasemapFetchController=r,this.notifyChange("state");try{const n=await t.fetchBasemaps(this._toQueryString(this.query),{signal:r.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(n)}catch(n){if(ms(n))throw n;ie.getLogger(this).warn(new q("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:n})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(t){return t&&typeof t!="string"?Object.keys(t).map(r=>`${r}:${t[r]}`).join(" AND "):t}async _updateBasemaps(t=[]){let r=await this._filterBasemaps(t);r=this.updateBasemapsCallback?await this.updateBasemapsCallback(r):r,this.basemaps.removeAll(),this.basemaps.addMany(r)}async _filterBasemaps(t){if(!this.filterFunction)return t;const r=t.map(this.filterFunction),n=await Promise.all(r);return t.filter((i,s)=>n[s])}};c([p({readOnly:!0,type:wde})],du.prototype,"basemaps",void 0),c([p()],du.prototype,"filterFunction",void 0),c([p({type:ui})],du.prototype,"portal",void 0),c([p()],du.prototype,"query",void 0),c([p({readOnly:!0})],du.prototype,"state",null),c([p()],du.prototype,"updateBasemapsCallback",void 0),c([p()],du.prototype,"viewType",void 0),du=c([R("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],du);const nw=du,_de=Ce.ofType(gde);function fGe(e){return e&&e.declaredClass==="esri.portal.Portal"}function mGe(e){return e&&!(e instanceof nw)&&(!!e.portal||!!e.query)}function yGe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let ua=class extends Ba{constructor(t){super(t),this._loadingProjectionEngine=!1,this.items=new _de,this.source=new nw,this.view=null}initialize(){const t=()=>this._recreateItems();this.addHandles([Se(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),Ns(()=>{var r;return(r=this.source)==null?void 0:r.basemaps},"change",t,{onListenerAdd:t}),Vo(()=>this.view,()=>{var r;this.source instanceof nw&&(this.source.viewType=(r=this.view)==null?void 0:r.type)},{once:!0})])}destroy(){var r;const t=this.source.basemaps.find(n=>n===this.activeBasemap);t&&this.source.basemaps.remove(t),(r=this.source)==null||r.destroy()}get activeBasemap(){var t,r;return((r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap)??null}set activeBasemap(t){var s,o;const r=this.view;if(!(r!=null&&r.map))return;const n=typeof t=="string"?eh.fromId(t):t;if(!n||!r.ready)return r.map.basemap=n,void this._clearOverride("activeBasemap");const i=n.spatialReference||((o=(s=this.items)==null?void 0:s.find(a=>this.basemapEquals(n,a.basemap)))==null?void 0:o.spatialReference);if(i&&"spatialReferenceLocked"in r&&!r.spatialReferenceLocked){const a=r.spatialReference;if(i!=null&&!jn(a,i)&&!Nl(r.spatialReference,i)&&!md())return this._override("activeBasemap",n),this._loadingProjectionEngine=!0,void ud().then(()=>{this._get("activeBasemap")===t&&(r.map.basemap=t,r.spatialReference=i,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});r.map.basemap=n,this._clearOverride("activeBasemap"),i==null||jn(r.spatialReference,i)||(r.spatialReference=i)}else r.map.basemap=n,this._clearOverride("activeBasemap")}get activeBasemapIndex(){const{state:t,activeBasemap:r}=this;return t!=="ready"?-1:this._findBasemapIndex(r)}get compatibilityFunction(){var t;return((t=this.view)==null?void 0:t.type)==="3d"?lGe:uGe}set compatibilityFunction(t){this._overrideIfSome("compatibilityFunction",t)}castSource(t){return Array.isArray(t)||Ce.isCollection(t)?new bde({basemaps:Array.isArray(t)?new Ce(t):t}):fGe(t)?new nw({portal:t}):mGe(t)?new nw(t):yGe(t)?t:null}get state(){var t;return(t=this.view)!=null&&t.ready&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(t,r){return GPe(t,r)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(t){return this.addResolvingPromise(Ba.isLoadable(this.source)?this.source.load(t):null),Promise.resolve(this)}_findBasemapIndex(t){const{items:r}=this,n=r.findIndex(i=>i.basemap===t);return n===-1?r.findIndex(i=>this.basemapEquals(i.basemap,t)):n}_recreateItems(){var o;const t=((o=this.source)==null?void 0:o.basemaps)??[],{view:r,compatibilityFunction:n}=this,i=new Map(this.items.map(a=>[a.basemap,a])),s=t.map(a=>{const l=i.get(a);return l?(i.delete(a),l):new gde({basemap:a,compatibilityFunction:n,view:r})});this.items.removeAll(),this.items.addMany(s),i.forEach(a=>a.destroy())}_updateItems(){for(const t of this.items)t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}};c([p()],ua.prototype,"_loadingProjectionEngine",void 0),c([p()],ua.prototype,"activeBasemap",null),c([p({readOnly:!0})],ua.prototype,"activeBasemapIndex",null),c([p()],ua.prototype,"compatibilityFunction",null),c([p({readOnly:!0,type:_de})],ua.prototype,"items",void 0),c([p()],ua.prototype,"source",void 0),c([tr("source")],ua.prototype,"castSource",null),c([p({readOnly:!0})],ua.prototype,"state",null),c([p()],ua.prototype,"view",void 0),ua=c([R("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],ua);const gGe=ua,yo="esri-basemap-gallery",go={base:yo,sourceLoading:`${yo}--source-loading`,layoutGrid:`${yo}--grid`,narrowItems:`${yo}--narrow-items`,loader:`${yo}__loader`,item:`${yo}__item`,itemContainer:`${yo}__item-container`,itemContent:`${yo}__item-content`,itemTitle:`${yo}__item-title`,itemTagsContainer:`${yo}__item-tags-container`,itemThumbnail:`${yo}__item-thumbnail`,selectedItem:`${yo}__item--selected`,itemError:`${yo}__item--error`};function vGe({level:e,class:t,...r},n){const i=xde(e);return ee(`h${i}`,{...r,"aria-level":String(i),class:wse(lt.heading,t),role:"heading"},n)}function xde(e){return za(Math.ceil(e),1,6)}function i$t(e,t=1){return xde(e+t)}const uP={small:200,default:280,wide:420};let rs=class extends Ya{constructor(t,r){super(t,r),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new gGe,this._focusBasemapItemEnabled=!1,this._container=null,this._width=0,this._onContainerCreated=n=>{this._container=n}}initialize(){this.addHandles([n5e(()=>this._container,({contentRect:t})=>{this._width=t.width}),Vo(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0})])}loadDependencies(){return jh({scrim:()=>Q(()=>import("./calcite-scrim-B14S3LW6.js"),__vite__mapDeps([236,237,215,210,216,217,219]),import.meta.url),chip:()=>Q(()=>import("./calcite-chip-CwJ7mvgD.js"),__vite__mapDeps([238,210,214,217,215,216,211,213,218]),import.meta.url)})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(t){this.viewModel.activeBasemap=t}get icon(){return"basemap"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get source(){return this.viewModel.source}set source(t){this.viewModel.source=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.source.state==="loading",r=this.disabled||this.viewModel.state==="disabled",n=this.viewModel.items,i={[go.sourceLoading]:t,[lt.disabled]:r},s=this._width;s<=uP.small||s>=uP.wide?i[go.layoutGrid]=!0:s<uP.default&&(i[go.narrowItems]=!0);const o=t?ee("div",{class:go.loader,key:"loader"}):null,a=t?null:n.length>0?ee("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:go.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},n.map((l,u)=>this._renderBasemapGalleryItem(l,u)).toArray()):ee("div",{class:lt.empty,key:"empty-message"},ee(vGe,{level:this.headingLevel},this.messages.noBasemaps));return ee("div",{afterCreate:this._onContainerCreated,class:this.classes(go.base,lt.widget,lt.panel,i),key:"container"},this._width===0?null:[o,a])}_getRoundRobinIndex(t,r){return(t+r)%r}_handleKeyDown(t){const{key:r}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(r))return;t.preventDefault();const{items:n,activeBasemapIndex:i}=this.viewModel,s=r==="ArrowUp"||r==="ArrowLeft"?this._getRoundRobinIndex(Math.max(i-1,-1),n.length):this._getRoundRobinIndex(i+1,n.length),o=n.at(s);(o==null?void 0:o.state)==="ready"&&(this.viewModel.activeBasemap=o.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(t){this._focusBasemapItemEnabled&&t.tabIndex===0&&(t.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(t){const r=t.currentTarget["data-item"];r.state==="ready"&&(this.viewModel.activeBasemap=r.basemap)}_renderBasemapGalleryItem(t,r){var v,b;const n=YPe(t.basemap)||er("esri/themes/base/images/basemap-toggle-64.svg"),i=t.basemap.title,s=(v=t.basemap.portalItem)==null?void 0:v.snippet,o=((b=t.error)==null?void 0:b.message)||s||i,{viewModel:{state:a,activeBasemapIndex:l}}=this,u=this.disabled||a==="disabled",d=l===r,h=d||l===-1&&r===0?0:-1,f=a==="loading",y={[go.selectedItem]:d,[go.itemError]:t.state==="error"},g=`basemapgallery-item-${t.uid}`;return ee("li",{afterUpdate:this._focusBasemapItem,"aria-checked":d.toString(),"aria-disabled":u.toString(),"aria-labelledby":g,bind:this,class:this.classes(go.item,y),"data-item":t,key:t.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:h,title:o},ee("img",{alt:"",class:go.itemThumbnail,src:n}),ee("div",{class:go.itemContent,key:"content"},ee("div",{class:go.itemTitle,key:"title"},ee("span",{id:g},i)),VPe(t.basemap)?this._renderTags(t.basemap):null),t.state==="loading"||d&&f?ee("calcite-scrim",null,ee("span",{"aria-hidden":"true",class:lt.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(t){return ee("div",{class:go.itemTagsContainer,key:"tag"},this._render3DTag(),BPe(t)?this._renderBetaTag():null)}_render3DTag(){const{messages:t}=this;return ee("calcite-chip",{key:"tag-3d",scale:"s",value:t.tag3D},this.messages.tag3D)}_renderBetaTag(){const{messages:t}=this;return ee("calcite-chip",{appearance:"outline-fill",key:"tag-beta",scale:"s",value:t.tagBeta},this.messages.tagBeta)}};c([p()],rs.prototype,"activeBasemap",null),c([p()],rs.prototype,"disabled",void 0),c([p()],rs.prototype,"headingLevel",void 0),c([p()],rs.prototype,"icon",null),c([p()],rs.prototype,"label",null),c([p(),Fs("esri/widgets/BasemapGallery/t9n/BasemapGallery")],rs.prototype,"messages",void 0),c([p()],rs.prototype,"source",null),c([p()],rs.prototype,"view",null),c([p()],rs.prototype,"viewModel",void 0),c([p()],rs.prototype,"_focusBasemapItemEnabled",void 0),c([p()],rs.prototype,"_container",void 0),c([p()],rs.prototype,"_width",void 0),c([J3()],rs.prototype,"_handleClick",null),rs=c([R("esri.widgets.BasemapGallery")],rs);const bGe=rs;let Pc=class extends Be{constructor(t){super(t),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this)}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){var t;return((t=this.view)==null?void 0:t.container)??null}set element(t){this._override("element",t)}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const t=this._getVendorInfo(this.element);return this._addFullscreenListeners(t),this._vendorInfo=t,!!t}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),this.state==="active"?this._addStyle():this._removeStyle()}_errorHandler(t){ie.getLogger(this).error("fullscreen request failed",t)}_getVendorInfo(t){if(t)return t.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:t.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:t.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:void 0}_enterFullscreen(){if(this.state==="feature-unsupported")return void ie.getLogger(this).warn("The fullscreen API is not supported in this browser.");const{element:t}=this;t&&(this._vendorInfo&&t[this._vendorInfo.enterName].call(t),this.notifyChange("state"))}_addStyle(){const{element:t}=this;t&&t.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:t}=this;t&&t.removeAttribute("style")}_exitFullscreen(){if(this.state==="feature-unsupported")return;const{element:t}=this;t&&(this._vendorInfo&&document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(t){t&&(document.addEventListener(t.changeEventName,this._stateHandler),document.addEventListener(t.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:t}=this;t&&(document.removeEventListener(t.changeEventName,this._stateHandler),document.removeEventListener(t.errorEventName,this._errorHandler))}};c([p()],Pc.prototype,"element",null),c([p({readOnly:!0})],Pc.prototype,"state",null),c([p()],Pc.prototype,"view",void 0),c([p()],Pc.prototype,"enter",null),c([p()],Pc.prototype,"exit",null),c([p()],Pc.prototype,"toggle",null),Pc=c([R("esri.widgets.Fullscreen.FullscreenViewModel")],Pc);const Sde=Pc,wGe={base:"esri-fullscreen"};let pu=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new Sde,this._toggle=()=>{this.viewModel.toggle()}}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url)})}get element(){return this.viewModel.element}set element(t){this.viewModel.element=t}get fullscreenTitle(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return t==="active"?this.messages.exit:t==="ready"?this.messages.enter:""}get icon(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return t==="ready"||t==="disabled"||t==="feature-unsupported"?"zoom-out-fixed":"zoom-in-fixed"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var s;const{fullscreenTitle:t,icon:r}=this,n=(s=this.viewModel)==null?void 0:s.state,i=n==="feature-unsupported";return ee("div",{class:this.classes(wGe.base,lt.widget)},!i&&ee("calcite-button",{class:lt.widgetButton,disabled:n==="disabled",iconStart:r,kind:"neutral",label:t,onclick:this._toggle,title:t}))}};c([p()],pu.prototype,"element",null),c([p({readOnly:!0})],pu.prototype,"fullscreenTitle",null),c([p()],pu.prototype,"icon",null),c([p()],pu.prototype,"label",null),c([p(),Fs("esri/widgets/Fullscreen/t9n/Fullscreen")],pu.prototype,"messages",void 0),c([p()],pu.prototype,"view",null),c([p({type:Sde})],pu.prototype,"viewModel",void 0),pu=c([R("esri.widgets.Fullscreen")],pu);const _Ge=pu;let Ac=class extends zk(Uk(Gx)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Sm,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,r){return super.on(t,r)}graphicChanged(t){this.emit("graphic-update",t)}};c([p({type:Bce})],Ac.prototype,"elevationInfo",void 0),c([p($R(Sm,"graphics"))],Ac.prototype,"graphics",void 0),c([p({type:["show","hide"]})],Ac.prototype,"listMode",void 0),c([p()],Ac.prototype,"screenSizePerspectiveEnabled",void 0),c([p({readOnly:!0})],Ac.prototype,"type",void 0),c([p({constructOnly:!0})],Ac.prototype,"internal",void 0),Ac=c([R("esri.layers.GraphicsLayer")],Ac);const xGe=Ac;let hp=class extends Be{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(Ns(()=>{var t;return(t=this.view)==null?void 0:t.ui},"expand",t=>{const{target:r}=t;r&&r!==this&&r.expanded&&r.group&&r.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){var i;const r=!!t;this._set("expanded",r);const n=(i=this.view)==null?void 0:i.ui;n&&n.emit("expand",{target:this}),this._viewpointHandleChange(r)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&Vo(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?Vo(()=>{var r;return(r=this.view)==null?void 0:r.stationary},()=>{var r;return(r=this._viewpointHandle)==null?void 0:r.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;const{autoCollapse:r,view:n}=this;if(!n||!r)return;const i=E3e(()=>n.type==="3d"?n.camera:n.viewpoint,()=>this._collapse());this.addHandles(i,t),this._viewpointHandle=i}_collapse(){this.expanded=!1}};c([p({value:!1})],hp.prototype,"autoCollapse",null),c([p({value:!1})],hp.prototype,"expanded",null),c([p()],hp.prototype,"group",void 0),c([p({readOnly:!0})],hp.prototype,"state",null),c([p({value:null})],hp.prototype,"view",null),hp=c([R("esri.widgets.Expand.ExpandViewModel")],hp);const $de=hp;function Gw(e){return e&&typeof e.render=="function"}function SGe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const Jo="esri-expand",vo={base:Jo,toggle:`${Jo}__toggle`,popoverContent:`${Jo}__popover-content`,panel:`${Jo}__panel`,panelContent:`${Jo}__panel-content`,sheet:`${Jo}__sheet`,panelIconNumber:`${Jo}__panel-icon-number`,contentContainer:`${Jo}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${Jo}__icon--expanded`,iconNumber:`${Jo}__icon-number`,content:`${Jo}__content`,contentExpanded:`${Jo}__content--expanded`},VH="chevrons-left",BH="chevrons-right";let fn=class extends Ya{constructor(t,r){super(t,r),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new $de,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=n=>{n.target===this._popoverEl&&(this.viewModel.expanded=n.target.open)},this._handleSheetClose=n=>{this.viewModel.expanded=n.target.open},this._handlePanelClose=n=>{this.viewModel.expanded=!n.target.closed},this._handleKeyDown=n=>{this.viewModel.expanded&&n.key==="Escape"&&!this._willCloseOnEsc(n)&&n.preventDefault()},this._storeToggleButtonEl=n=>{this._toggleButtonEl=n},this._storePopoverEl=n=>{this._popoverEl=n}}loadDependencies(){return jh({button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url),icon:()=>Q(()=>import("./calcite-icon-DyBoIbok.js"),__vite__mapDeps([220,218,210,216]),import.meta.url),panel:()=>Q(()=>import("./calcite-panel-C98_65K2.js"),__vite__mapDeps([239,240,210,211,214,216,241,215,242,213,217,218,219,243,244,245,246,247,237]),import.meta.url),popover:()=>Q(()=>import("./calcite-popover-CV1UAoSs.js"),__vite__mapDeps([248,243,244,210,245,246,247,215,216,217,214,213,242,211,218,219]),import.meta.url),sheet:()=>Q(()=>import("./calcite-sheet-2qtJjNIs.js"),__vite__mapDeps([249,210,246,214,216,247,219,215,237,217]),import.meta.url)})}get expandTitle(){const{expanded:t,messagesCommon:r,collapseTooltip:n,expandTooltip:i}=this;return(t?n||(r==null?void 0:r.collapse):i||(r==null?void 0:r.expand))??""}get _displaySheet(){var t;switch(this.mode){case"drawer":return!0;case"auto":return((t=this.viewModel.view)==null?void 0:t.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return BH}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return Gw(this.content)?this.content.icon:VH}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){var t;return(Gw(this.content)?this.content.label:null)??((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:t,_toggleButtonEl:r,viewModel:{expanded:n},label:i,placement:s}=this;return ee("div",{class:this.classes(vo.base,lt.widget)},this._renderToggle(),t?ee("calcite-sheet",{class:vo.sheet,heightScale:"l",label:i,onkeydown:this._handleKeyDown,open:n,position:"block-end",onCalciteSheetClose:this._handleSheetClose},ee("calcite-panel",{class:vo.panel,closable:!0,closed:!n,heading:i,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},ee("div",{class:vo.panelContent},this._renderContent()))):r?ee("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,label:i,onkeydown:this._handleKeyDown,open:n,overlayPositioning:"fixed",placement:s??this._getPlacement(),referenceElement:r,onCalcitePopoverClose:this._handlePopoverClose},ee("div",{class:vo.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:t,view:r}=this,n=t&&r?r.ui.getPosition(t):null;if(!n||n==="manual")return"auto";const[i,s]=n.split("-");return`${s==="right"?"left":"right"}-${i==="bottom"?"end":"start"}`}_willCloseOnEsc(t){const{closeOnEsc:r}=this;return typeof r=="function"?r(t):r}_renderBadgeNumber(){const{expanded:t,iconNumber:r}=this;return r&&!t?ee("span",{class:vo.iconNumber,key:"expand__icon-number"},r):null}_renderToggleButton(){const{expanded:t,expandTitle:r,expandIcon:n,collapseIcon:i}=this,s=t?i:n,o=s===VH||s===BH;return ee("calcite-button",{afterCreate:this._storeToggleButtonEl,afterUpdate:this._storeToggleButtonEl,class:lt.widgetButton,kind:"neutral",label:r,onclick:this.toggle,scale:"s",title:r},s?ee("calcite-icon",{class:this.classes(vo.icon,o&&vo.iconFlip),icon:s,scale:"s"}):null)}_renderToggle(){return ee("div",{class:vo.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:t}=this;return typeof t=="string"?ee("div",{class:vo.contentContainer,innerHTML:t,key:"content__string"}):Gw(t)?ee("div",{class:vo.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?ee("div",{afterCreate:this._attachToNode,bind:t,class:vo.contentContainer,key:"content__html-element"}):SGe(t)?ee("div",{afterCreate:this._attachToNode,bind:t.domNode,class:vo.contentContainer,key:"content__node"}):null}_attachToNode(t){const r=this;t.appendChild(r)}};c([p({readOnly:!0})],fn.prototype,"expandTitle",null),c([p()],fn.prototype,"_toggleButtonEl",void 0),c([p()],fn.prototype,"_displaySheet",null),c([p()],fn.prototype,"autoCollapse",null),c([p()],fn.prototype,"closeOnEsc",void 0),c([p()],fn.prototype,"collapseIcon",null),c([p()],fn.prototype,"collapseTooltip",void 0),c([p()],fn.prototype,"content",void 0),c([p()],fn.prototype,"expanded",null),c([p()],fn.prototype,"expandIcon",null),c([p()],fn.prototype,"expandTooltip",void 0),c([p()],fn.prototype,"group",null),c([p()],fn.prototype,"icon",null),c([p()],fn.prototype,"iconNumber",void 0),c([p()],fn.prototype,"label",null),c([p(),Fs("esri/widgets/Expand/t9n/Expand")],fn.prototype,"messages",void 0),c([p(),Fs("esri/t9n/common")],fn.prototype,"messagesCommon",void 0),c([p()],fn.prototype,"mode",void 0),c([p()],fn.prototype,"placement",void 0),c([p()],fn.prototype,"view",null),c([p({type:$de})],fn.prototype,"viewModel",void 0),fn=c([R("esri.widgets.Expand")],fn);const UH=fn,Vr="esri-search",Sr={base:Vr,hasMultipleSources:`${Vr}--multiple-sources`,isLoading:`${Vr}--loading`,isSearching:`${Vr}--searching`,showSuggestions:`${Vr}--show-suggestions`,showSources:`${Vr}--sources`,showWarning:`${Vr}--warning`,container:`${Vr}__container`,input:`${Vr}__input`,inputContainer:`${Vr}__input-container`,form:`${Vr}__form`,submitButton:`${Vr}__submit-button`,sourcesButton:`${Vr}__sources-button`,sourcesButtonDown:`${Vr}__sources-button--down`,sourcesButtonUp:`${Vr}__sources-button--up`,clearButton:`${Vr}__clear-button`,sourceName:`${Vr}__source-name`,suggestionsMenu:`${Vr}__suggestions-menu`,suggestionList:`${Vr}__suggestions-list`,suggestionListCurrentLocation:`${Vr}__suggestions-list--current-location`,sourcesMenu:`${Vr}__sources-menu`,source:`${Vr}__source`,warningMenu:`${Vr}__warning-menu`,warningMenuBody:`${Vr}__warning-body`,warningMenuHeader:`${Vr}__warning-header`,warningMenuText:`${Vr}__warning-text`,noValueText:`${Vr}__no-value-text`},Zh="esri-search-result-renderer",Yh={base:Zh,showMoreResults:`${Zh}__more-results--show-more-results`,moreResults:`${Zh}__more-results`,moreResultsList:`${Zh}__more-results-list`,moreResultsHeader:`${Zh}__more-results-header`,moreResultsItem:`${Zh}__more-results-item`,moreResultsListHeader:`${Zh}__more-results-list-header`},Tde=96;function GH(e,t){const r=e.extent,n=e.width,i=zl(r==null?void 0:r.spatialReference);return r&&n?r.width/n*i*Ure*Tde:0}function $Ge(e,t){return e/(zl(t)*Ure*Tde)}function TGe(e,t){const r=e.extent,n=e.width-(e.padding?e.padding.left+e.padding.right:0),i=$Ge(t,r.spatialReference);return r.clone().expand(i*n/r.width)}function d$t(e,t,r){return MGe(e,t)&&CGe(e,r)}function MGe(e,t){return t===0||Xp(e,t)||e<t}function CGe(e,t){return t===0||Xp(e,t)||e>t}function WH(e){var t;switch(e==null?void 0:e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}async function EGe(e,t){var i,s;if(e.hasZ||t.type==="2d")return e;const r=(i=t.map)==null?void 0:i.ground;if(!(r!=null&&r.layers.length))return e;const{geometry:n}=await r.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache});return n}function Oj(e,t,r){return Mde(e.center,t,r)}function RD(e,t,r){switch(e==null?void 0:e.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return Mde(e,t,r);default:return null}}function Mde(e,t,r){const n=e.hasZ?e.z:void 0;if(t!=null&&t.map)return(r!=null?TGe(t,r):t.extent).clone().centerAt(e).set({zmax:n,zmin:n});const{x:i,y:s,spatialReference:o}=e;return new Rt({xmin:i-.25,ymin:s-.25,xmax:i+.25,ymax:s+.25,spatialReference:o,zmin:n,zmax:n})}function kGe(e){return e&&typeof e.highlight=="function"}function IGe(e,t,r){return e==null||e>=r&&(t===0||e<=t)}function p$t(e,t){if(t&&e){const{minScale:r,maxScale:n}=e;if(OGe(r,n))return IGe(t,r,n)}return!0}function OGe(e,t){return e!=null&&e>0||t!=null&&t>0}function h$t(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}let Dn=class extends yd(ae){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};c([p()],Dn.prototype,"autoNavigate",void 0),c([p()],Dn.prototype,"filter",void 0),c([p()],Dn.prototype,"getResults",void 0),c([p()],Dn.prototype,"getSuggestions",void 0),c([p()],Dn.prototype,"maxResults",void 0),c([p()],Dn.prototype,"maxSuggestions",void 0),c([p()],Dn.prototype,"minSuggestCharacters",void 0),c([p()],Dn.prototype,"outFields",void 0),c([p()],Dn.prototype,"placeholder",void 0),c([p()],Dn.prototype,"popupEnabled",void 0),c([p()],Dn.prototype,"popupTemplate",void 0),c([p()],Dn.prototype,"prefix",void 0),c([p()],Dn.prototype,"resultGraphicEnabled",void 0),c([p()],Dn.prototype,"resultSymbol",void 0),c([p()],Dn.prototype,"suggestionsEnabled",void 0),c([p()],Dn.prototype,"suffix",void 0),c([p()],Dn.prototype,"withinViewEnabled",void 0),c([p()],Dn.prototype,"zoomScale",void 0),Dn=c([R("esri.widgets.Search.SearchSource")],Dn);const LD=Dn,PGe=/https?:\/\/services.*\.arcgis\.com/i,AGe=/(?:\{([^}]+)\})/g,k0=()=>ie.getLogger("esri.widgets.Search.support.layerSearchUtils");function RGe(e,t){const{exactMatch:r=!1,location:n,maxResults:i,spatialReference:s,source:o,sourceIndex:a,suggestResult:l,view:u}=e,{layer:d,filter:h,zoomScale:f}=o,y=u==null?void 0:u.scale,g=Cde(o,u),v=t==null?void 0:t.signal;return kde(d).then(()=>{const b=d.popupTemplate;return b?b.getRequiredFields(d.fieldsIndex):null}).then(b=>{var O,j,N,L;const{objectIdField:_,returnZ:x}=d,S=Lde(o);if(!jD(d,S))throw k0().error("invalid-field: displayField is invalid."),new q("getResults():invalid-field","displayField is invalid.");const $=b!=null&&b.length?b:[S],C=o.outFields||$,k=Ede(C);if(C.includes(_)||k||C.push(_),(O=d.floorInfo)!=null&&O.floorField&&C.push(d.floorInfo.floorField),!(k||tC(d,C)))throw k0().error("invalid-field: outField is invalid."),new q("getResults():invalid-field","outField is invalid.");const E=d.createQuery(),{orderByFields:P}=o;if(P&&(E.orderByFields=P),s){E.outSpatialReference=s;const z=1/zl(s);z&&(E.maxAllowableOffset=z)}const T=d.geometryType==="mesh"||d.geometryType==="multipatch",M=((N=(j=d.capabilities)==null?void 0:j.data)==null?void 0:N.supportsZ)&&!T;if(E.returnZ=M&&x!==!1,E.returnGeometry=!0,E.multipatchOption=T?"xyFootprint":null,C&&(E.outFields=C),n)E.geometry=n;else if(l.key)E.objectIds=[l.key];else{const z=o.searchFields||[S];if(!tC(d,z))throw k0().error("invalid-field: search field is invalid."),new q("getResults():invalid-field","search field is invalid.");if(Rde(d)&&(E.num=i),g&&(E.geometry=g),!((L=l.text)==null?void 0:L.trim()))return[];const U=l.text,{prefix:F="",suffix:D=""}=o,K=jde(`${F}${U}${D}`);Ade(d)&&Ode(d,z)&&!r&&U&&(E.fullText=Pde({text:U,searchFields:z}));const le=Nde({searchTerm:K,layer:d,searchFields:z,filter:h,exactMatch:r,query:E,type:"search"});if(E.where=le,!Ide(E))return[]}return d.queryFeatures(E,{signal:v}).then(z=>HGe(z,u,o,a,S,y,f))})}function LGe(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a,exactMatch:l}=e,{layer:u,filter:d}=r,h=t==null?void 0:t.signal,f=Cde(r,i);return kde(u).then(()=>{if(!Rde(u))return[];const y=Lde(r),g=r.searchFields||[y],v=[];r.suggestionTemplate?r.suggestionTemplate.replaceAll(AGe,(M,O)=>(v.push(O),M)):v.push(y);const b=Ede(v);v.includes(u.objectIdField)||b||v.push(u.objectIdField);const _=jD(u,y),x=b||tC(u,v),S=tC(u,g);if(!_)throw k0().error("invalid-field: displayField is invalid."),new q("getSuggestions():invalid-field","displayField is invalid.");if(!x)throw k0().error("invalid-field: outField is invalid."),new q("getSuggestions():invalid-field","outField is invalid.");if(!S)throw k0().error("invalid-field: search field is invalid."),new q("getSuggestions():invalid-field","search field is invalid.");const $=u.createQuery(),{orderByFields:C}=r;if(C&&($.orderByFields=C),$.outSpatialReference=n,$.returnGeometry=!1,$.num=o,$.outFields=v,f&&($.geometry=f),!s.trim())return[];const{prefix:k="",suffix:E=""}=r,P=jde(`${k}${s}${E}`);Ade(u)&&Ode(u,g)&&!l&&s&&($.fullText=Pde({text:s,searchFields:g}));const T=Nde({searchTerm:P,layer:u,searchFields:g,filter:d,exactMatch:l,query:$,type:"suggest"});return $.where=T,Ide($)?u.queryFeatures($,{signal:h}).then(M=>GGe(M,r,a,y)):[]})}function Cde(e,t){const{filter:r,withinViewEnabled:n}=e,i=t==null?void 0:t.extent;return(r==null?void 0:r.geometry)??(n&&i?i:void 0)}function Ede(e){return e&&e.includes("*")}async function kde(e){e&&await e.load()}function Ide(e){return!(!e.fullText&&!e.where)}function Ode(e,t){const r=e==null?void 0:e.indexes;return!r||!(t!=null&&t.length)?!1:r.filter(n=>n.indexType==="FullText").some(n=>{var s;const i=((s=n.fields)==null?void 0:s.split(",").map(o=>o.trim().toLowerCase()))||[];return t.every(o=>i.includes(o.toLowerCase()))})}function Pde({text:e,searchFields:t}){return e.trim().split(" ").filter(r=>!!r.trim()).map(r=>new wae({onFields:t,searchTerm:r,searchType:"prefix"}))}function Ade(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsFullTextSearch)??!1}function Rde(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsPagination)??!1}function jGe(e){var t,r,n;return((n=(r=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:r.find(i=>i.type==="string"))==null?void 0:n.name)??""}function Lde(e){return e.displayField||e.layer.displayField||jGe(e.layer)}function tC(e,t){return!(!e||!(t!=null&&t.length))&&t.every(r=>jD(e,r))}function jD(e,t){return!!e.getField(t)}function NGe(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function FGe({codedValues:e},t,r){return b_(e??[],n=>{const i=n.name,s=r?i:i.toLowerCase();return(r?t:t.toLowerCase())===s?n.code.toString():null})??null}function jde(e){return e.replaceAll("'","''")}function P1(e,t){const r=t==null?void 0:t.where;return r?`(${e}) AND (${r})`:e}function DGe({currentTerm:e,field:t,filter:r,exactMatch:n,url:i,type:s}){const o=t==null?void 0:t.type,a=t==null?void 0:t.name;if(o==="string"||o==="date"||o==="global-id"){const l=PGe.test(i??""),u=l&&NGe(e)?"N":"";return P1(n&&s==="search"?`${a} = ${u}'${e}'`:l?`${a} LIKE ${u}${`'${e}%'`}`:`${`LOWER(${a})`} LIKE ${u}${`'${e.toLowerCase()}%'`}`,r)}if(o==="oid"||o==="small-integer"||o==="integer"||o==="single"||o==="double"){const l=Number(e);return isNaN(l)?null:P1(`${a} = ${l}`,r)}return P1(`${a} = ${e}`,r)}function zGe(e,t){return e?` OR (${t})`:`(${t})`}function Nde({searchTerm:e,layer:t,searchFields:r,filter:n,exactMatch:i,query:s,type:o}){const{definitionExpression:a,url:l}=t;let u="";return!s.fullText&&e&&r&&r.forEach(d=>{const h=t.getField(d),f=typeof t.getFieldDomain=="function"&&t.getFieldDomain(d),y=(f&&f.type==="coded-value"?FGe(f,e,i):null)||e||null;if(y!==null){const g=DGe({currentTerm:y,field:h,filter:n,exactMatch:i,url:l,type:o});g&&(u+=zGe(u,g))}}),a&&u?`(${a}) AND (${u})`:a||u}function VGe(e,t){let r=null;const{codedValues:n}=e;return n&&n.length&&n.some(i=>i.code===t&&(r=i.name,!0)),r}function BGe(e,t){return e[t]??e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function Fde(e,t,r){const n=e.sourceLayer,{attributes:i}=e,s=typeof n.getFieldDomain=="function"&&n.getFieldDomain(r);if(t)return eF(t,i);if(r&&i){const o=n.getField(r),a=BGe(i,r);return a==null?"":s&&s.type==="coded-value"?VGe(s,a)??"":(o==null?void 0:o.type)==="date"?fh(new Date(a)):typeof a=="number"?a.toString():typeof a!="string"?"":a.trim()}return""}function UGe(e,t,r,n){const i=e.sourceLayer,{attributes:s}=e,{objectIdField:o}=i,a=o?s[o]:null;return{text:Fde(e,t.suggestionTemplate,n),key:a,sourceIndex:r}}function GGe(e,t,r,n){return e.features.map(i=>UGe(i,t,r,n))}function WGe(e){return e!=null&&e.minScale!=null&&e.maxScale!=null}function qGe(e,t,r,n,i,s,o){const a=e.clone(),l=e.sourceLayer,u=l==null?void 0:l.objectIdField,d=u?e.attributes[u]:null,h=Fde(e,r.searchTemplate,i);s!=null&&WGe(l)&&(l.minScale&&l.minScale<s?s=l.minScale:l.maxScale&&l.maxScale>s&&(s=l.maxScale));const f=a.geometry?RD(a.geometry,t??void 0,s??void 0):void 0,y=typeof o=="number"&&f?Oj(W(f),t??void 0,o):f,g=e.clone();return y!=null&&(g.geometry=Va.fromExtent(y)),{extent:y,target:g,feature:a,key:d,name:h,sourceIndex:n}}function HGe(e,t,r,n,i,s,o){return e.features.map(a=>qGe(a,t,r,n,i,s,o))}var Pj;let vl=Pj=class extends LD{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>RGe({source:this,...t},r),this.getSuggestions=(t,r)=>LGe({source:this,...t},r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new Pj({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?W(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?W(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return((t=(e=this.layer.fieldsIndex)==null?void 0:e.fields.find(r=>r.type==="string"))==null?void 0:t.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const n=e.getField(r);return(n==null?void 0:n.alias)||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};c([p({json:{read:{source:"field.name"},write:{target:"field.name"}}})],vl.prototype,"displayField",void 0),c([p({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],vl.prototype,"exactMatch",void 0),c([p({value:null})],vl.prototype,"layer",null),c([p()],vl.prototype,"name",null),c([p({type:[String],json:{write:!0}})],vl.prototype,"orderByFields",void 0),c([p()],vl.prototype,"searchFields",void 0),c([p()],vl.prototype,"searchTemplate",void 0),c([p()],vl.prototype,"suggestionTemplate",void 0),vl=Pj=c([R("esri.widgets.Search.LayerSearchSource")],vl);const Ig=vl;function ZGe(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function YGe(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let fp=class extends ae{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};c([p({type:String,json:{write:!0}})],fp.prototype,"address",void 0),c([p({type:Object,json:{write:!0}})],fp.prototype,"attributes",void 0),c([p({type:Rt,json:{write:!0}})],fp.prototype,"extent",void 0),c([p({type:nt,json:{write:!0}})],fp.prototype,"location",void 0),c([p({type:Number,json:{write:!0}})],fp.prototype,"score",void 0),fp=c([R("esri.rest.support.AddressCandidate")],fp);const Dde=fp,ND={type:String,json:{read:{source:"token"},write:{target:"token"}}};let Oi=class extends ae{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};c([p({type:Object,json:{write:!0}})],Oi.prototype,"address",void 0),c([p(ND)],Oi.prototype,"apiKey",void 0),c([p({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Oi.prototype,"categories",void 0),c([p({type:String,json:{write:!0}})],Oi.prototype,"countryCode",void 0),c([p({type:Boolean,json:{write:!0}})],Oi.prototype,"forStorage",void 0),c([p({type:nt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Oi.prototype,"location",void 0),c([p({type:String,json:{write:!0}})],Oi.prototype,"locationType",void 0),c([p({type:String,json:{write:!0}})],Oi.prototype,"magicKey",void 0),c([p({type:Number,json:{write:!0}})],Oi.prototype,"maxLocations",void 0),c([p({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],Oi.prototype,"outFields",void 0),c([p({type:Qe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Oi.prototype,"outSpatialReference",void 0),c([p({type:Rt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],Oi.prototype,"searchExtent",void 0),Oi=c([R("esri.rest.support.AddressToLocationsParameters")],Oi),Oi.from=Xr(Oi);const zde=Oi;async function JGe(e,t,r){t=zde.from(t);const n=Jx(e),{address:i,...s}=t.toJSON(),o={...i,...s,f:"json"},a=Ck({...n.query,...o}),l=Mk(a,r),u=`${n.path}/findAddressCandidates`;return yr(u,l).then(KGe)}function KGe({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(n=>{if(!n)return;const{extent:i,location:s}=n,o=!i||YGe(i);return ZGe(s)&&o?(i&&(i.spatialReference=r),s&&(s.spatialReference=r),Dde.fromJSON(n)):void 0}):[]}let Rc=class extends ae{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};c([p(ND)],Rc.prototype,"apiKey",void 0),c([p({type:nt,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,n=r!==void 0;t.location=n?r:null}}}})],Rc.prototype,"location",void 0),c([p({type:String,json:{write:!0}})],Rc.prototype,"locationType",void 0),c([p({type:Qe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Rc.prototype,"outSpatialReference",void 0),Rc=c([R("esri.rest.support.LocationToAddressParameters")],Rc),Rc.from=Xr(Rc);const Vde=Rc;async function XGe(e,t,r){t=Vde.from(t);const n=Jx(e),i={...t.toJSON(),f:"json"},s=Ck({...n.query,...i}),o=Mk(s,r),a=`${n.path}/reverseGeocode`;return yr(a,o).then(QGe)}function QGe({data:e}){if(!e)return;const{address:t,location:r}=e,n=(t==null?void 0:t.Match_addr)||"";return Dde.fromJSON({address:n,attributes:t||{},location:r,score:100})}let Og=class extends ae{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};c([p({type:Boolean,json:{write:!0}})],Og.prototype,"isCollection",void 0),c([p({type:String,json:{write:!0}})],Og.prototype,"magicKey",void 0),c([p({type:String,json:{write:!0}})],Og.prototype,"text",void 0),Og=c([R("esri.rest.support.SuggestionCandidate")],Og);const eWe=Og;let Mo=class extends ae{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};c([p(ND)],Mo.prototype,"apiKey",void 0),c([p({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Mo.prototype,"categories",void 0),c([p({type:String,json:{write:!0}})],Mo.prototype,"countryCode",void 0),c([p({type:nt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Mo.prototype,"location",void 0),c([p({type:Number,json:{write:!0}})],Mo.prototype,"maxSuggestions",void 0),c([p({type:Qe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Mo.prototype,"outSpatialReference",void 0),c([p({type:Rt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],Mo.prototype,"searchExtent",void 0),c([p({type:String,json:{write:!0}})],Mo.prototype,"text",void 0),Mo=c([R("esri.rest.support.SuggestLocationsParameters")],Mo),Mo.from=Xr(Mo);const Bde=Mo;async function tWe(e,t,r){const n=Jx(e),i={...(t=Bde.from(t)).toJSON(),f:"json"},s=Ck({...n.query,...i}),o=Mk(s,r),a=`${n.path}/suggest`;return yr(a,o).then(rWe)}function rWe(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(n=>new eWe(n)):[]}const nWe="Single Line Input",iWe=3e5;function sWe(e,t){return e.location?cWe(e,t):dWe(e,t)}function Ude(e,t){var n;if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=iWe?(n=e==null?void 0:e.extent)==null?void 0:n.center:null}async function oWe(e,t){const{source:r,spatialReference:n,view:i,suggestTerm:s,maxSuggestions:o,sourceIndex:a}=e,l=new Bde,{apiKey:u,url:d}=r,h=Gde(r,i),f=t==null?void 0:t.signal;if(!d)return null;u&&(l.apiKey=u),r.categories&&(l.categories=r.categories),n&&(l.outSpatialReference=n);const y=Ude(i,r);if(y&&(l.location=y),!s.trim())return null;const{prefix:g="",suffix:v=""}=r,b=`${g}${s}${v}`;return l.text=b,h&&(l.searchExtent=h),l.maxSuggestions=o,r.countryCode&&(l.countryCode=r.countryCode),tWe(d,l,{signal:f}).then(_=>hWe(_,a))}function aWe(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function lWe(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function qH(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const uWe="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function cWe(e,t){const{source:r,spatialReference:n,location:i,sourceIndex:s,view:o}=e,{apiKey:a,url:l,zoomScale:u,defaultZoomScale:d}=r;if(l==null)return[];const h=o==null?void 0:o.scale,f=t==null?void 0:t.signal,y=new Vde({location:i});a&&(y.apiKey=a),n&&(y.outSpatialReference=n);try{return Wde([await XGe(l,y,{signal:f})],{sourceIndex:s,scale:h,view:o,zoomScale:u,defaultZoomScale:d})}catch{return[]}}function Gde(e,t){const{filter:r,withinViewEnabled:n}=e,i=t==null?void 0:t.scale,s=t==null?void 0:t.extent,o=r==null?void 0:r.geometry;return(o?RD(o,t??void 0,i):void 0)||(n&&s?s:void 0)}async function dWe(e,t){var E;const{source:r,suggestResult:n,spatialReference:i,view:s,maxResults:o,sourceIndex:a}=e,l=r==null?void 0:r.zoomScale,u=r==null?void 0:r.defaultZoomScale;if(!((E=n.text)==null?void 0:E.trim()))return null;const h=!n.key&&r.prefix?r.prefix:"",f=!n.key&&r.suffix?r.suffix:"",y=`${h}${n.text}${f}`,g=new zde,{apiKey:v,url:b}=r,_=s==null?void 0:s.scale,x=Gde(r,s),S=t==null?void 0:t.signal;if(v&&(g.apiKey=v),!b)return null;r.categories&&(g.categories=r.categories),r.locationType&&(g.locationType=r.locationType),i&&(g.outSpatialReference=i);const $=Ude(s,r);$&&(g.location=$),g.maxLocations=o,x&&(g.searchExtent=x),r.countryCode&&(g.countryCode=r.countryCode);const{key:C}=n,k=`${C}`;return C&&(g.magicKey=k),g.address={},g.address[r.singleLineFieldName||nWe]=y,r.outFields&&(g.outFields=r.outFields),JGe(b,g,{signal:S}).then(P=>Wde(P,{key:k,scale:_,sourceIndex:a,view:s,zoomScale:l,defaultZoomScale:u}))}function pWe(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function hWe(e,t){return e.map(r=>pWe(r,t))}function fWe(e,t){const{key:r,scale:n,sourceIndex:i,view:s,zoomScale:o,defaultZoomScale:a}=t,{attributes:l,extent:u,location:d,address:h}=e,f=new Uo({geometry:d,attributes:l}),y=u||d,g=y?RD(y,s??void 0,n??void 0):void 0,v=g?typeof o=="number"?Oj(g,s??void 0,o):typeof a=="number"&&(y==null?void 0:y.type)==="point"?Oj(g,s??void 0,a):g:null,b=d?`${d.x},${d.y}`:"",_=h||b,x=f.clone();return v!=null&&(x.geometry=Va.fromExtent(v)),{extent:v,feature:f,target:x,key:r,name:_,sourceIndex:i}}function Wde(e,t){return e.filter(Boolean).map(r=>fWe(r,t))}var Aj;let ns=Aj=class extends LD{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>sWe({source:this,...t},r),this.getSuggestions=(t,r)=>oWe({source:this,...t},r)}clone(){return new Aj({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?W(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?W(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};c([p()],ns.prototype,"apiKey",void 0),c([p()],ns.prototype,"categories",void 0),c([p()],ns.prototype,"countryCode",void 0),c([p({json:{write:!0}})],ns.prototype,"defaultZoomScale",void 0),c([p()],ns.prototype,"localSearchDisabled",void 0),c([p()],ns.prototype,"locationType",void 0),c([p({json:{write:!0}})],ns.prototype,"name",void 0),c([p({json:{write:!0}})],ns.prototype,"placeholder",void 0),c([p()],ns.prototype,"searchTemplate",void 0),c([p({json:{write:!0}})],ns.prototype,"singleLineFieldName",void 0),c([p({json:{read:{source:"suggest"},write:{target:"suggest"}}})],ns.prototype,"suggestionsEnabled",void 0),c([p({json:{write:!0}})],ns.prototype,"url",void 0),c([p({json:{write:!0}})],ns.prototype,"zoomScale",void 0),ns=Aj=c([R("esri.widgets.Search.LocatorSearchSource")],ns);const qde=ns;let Bf=class extends ae{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(i=>i.toJSON()),r=this.geometries[0],n={};return n.outSR=h3(this.outSpatialReference),n.inSR=h3(r.spatialReference),n.geometries=JSON.stringify({geometryType:jx(r),geometries:t}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};c([p()],Bf.prototype,"geometries",void 0),c([p({json:{read:{source:"outSR"}}})],Bf.prototype,"outSpatialReference",void 0),c([p()],Bf.prototype,"transformation",void 0),c([p()],Bf.prototype,"transformForward",void 0),Bf=c([R("esri.rest.support.ProjectParameters")],Bf);const Hde=Bf,mWe=Xr(Hde);async function yWe(e,t,r){t=mWe(t);const n=Jx(e),i={...n.query,f:"json",...t.toJSON()},s=t.outSpatialReference,o=jx(t.geometries[0]),a=Mk(i,r);return yr(n.path+"/project",a).then(({data:{geometries:l}})=>tle(l,o,s))}const Zde=()=>ie.getLogger("esri.widgets.support.geolocationUtils"),gWe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function vWe(){const e=J("esri-geolocation");return e||Zde().warn("geolocation-unsupported","Geolocation unsupported."),e}function bWe(){const e=window.isSecureContext;return e||Zde().warn("insecure-context","Geolocation requires a secure origin."),e}function HH(){return vWe()&&bWe()}function wWe(e){return e||(e=gWe),new Promise((r,n)=>{setTimeout(()=>n(new q("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,n,e??void 0)})}function _We(e,t){const{position:r,view:n}=e,i=xWe(r),s=i==null?void 0:i.coords;if(!s)throw new q("geometry-service:no-coords","Geolocation has no coordinates");return $We(SWe(s),n,t)}function xWe(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function SWe({longitude:e,latitude:t,altitude:r}){return new nt({longitude:e,latitude:t,z:r||void 0,spatialReference:{wkid:4326}})}function $We(e,t,r){if(!t)return Promise.resolve(e);const n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(Lu(e)):TWe(r).then(i=>{if(!i)throw new q("geometry-service:missing-url","Geometry service URL is missing");const s=new Hde({geometries:[e],outSpatialReference:n});return yWe(i,s,r).then(o=>o[0])})}function TWe(e){if(Ft.geometryServiceUrl)return Promise.resolve(Ft.geometryServiceUrl);const t=ui.getDefault();return t.load(e).catch(()=>{}).then(()=>{var r,n;return(n=(r=t.helperServices)==null?void 0:r.geometry)==null?void 0:n.url})}function Ji(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const MWe=()=>rF("esri/widgets/Search/t9n/Search"),ZH="highlight",QT=Ce.ofType({key:e=>e.layer?"layer":"locator",base:LD,typeMap:{layer:Ig,locator:qde}}),YH=Qe.WGS84,CWe="esri/images/search/search-symbol-32.png",EWe=/<[\s\S]*?>/g,Pg=-1;let wt=class extends eD(Za.EventedMixin(Be)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new QT,this.defaultSymbols={point:new Ov({url:er(CWe),size:24,width:24,height:24}),polyline:new co({color:[130,130,130,1],width:2}),polygon:new gd({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=ui.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new QT,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const r=await MWe();this.messages=r,this.defaultPopupTemplate=new Ph({title:r.searchResult,content:"{Match_addr}"})};t(),this.addHandles([Se(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),Cr),U9(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:Pg}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:r,includeDefaultSources:n}=this,i=typeof n=="function"?n.call(null,{sources:t,defaultSources:r}):n?r.concat(t):t,s=this._get("allSources")||new QT;return s.removeAll(),s.addMany(i.filter(Boolean)),s}get locationEnabled(){return this._get("locationEnabled")||HH()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const r=HH();if(t&&!r){const n=new q("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});ie.getLogger(this).error(n)}this._override("locationEnabled",!!t&&r)}get placeholder(){const{allSources:t,activeSourceIndex:r,allPlaceholder:n}=this;if(r===Pg)return n??"";const i=t.at(r);return(i==null?void 0:i.placeholder)??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:t,resultGraphic:r}=this;t&&r&&t.graphics.remove(r),this._set("resultGraphic",null)}search(t,r){this.emit("search-start"),this.clearGraphics();const n=this._createSuggestionForSearch(t),i=(async()=>{var s;try{await this.when();const o=await this._getResultsFromSources(n,r);if((s=r==null?void 0:r.signal)!=null&&s.aborted)return null;const a={activeSourceIndex:this.activeSourceIndex,searchTerm:n.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(a,o,n);const l=this._getFirstResult(a.results),u=n.location&&l?l.name:n.text,d=u==null?void 0:u.replace(EWe,"");return this._set("searchTerm",d),(n.key&&typeof n.sourceIndex=="number"||n.location)&&this._set("selectedSuggestion",n),this._set("results",a.results),this._set("resultCount",a.results.reduce((h,f)=>{var y;return h+(((y=f.results)==null?void 0:y.length)??0)},0)),this.emit("search-complete",a),await this._selectFirstResult(l),a}finally{this._clearSearching()}})();return this._searching=i,i}async searchNearby(t){if(!this.locationEnabled){const n=new q("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw ie.getLogger(this).error(n),n}const r=(async()=>{try{const n=await wWe(),i=await _We({position:n,view:this.view},t);return await this.search(i,t)}finally{this._clearSearching()}})();return this._searching=r,r}async select(t){if(this.clearGraphics(),!t){const M=new q("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw ie.getLogger(this).error(M),M}const{view:r}=this,n=Ji(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),i=n!=null?this.allSources.at(n):null;if(!i){const M=new q("select:missing-source","Cannot select without a source.",{source:i});throw ie.getLogger(this).error(M),M}const s=i instanceof Ig?this._getLayerSourcePopupTemplate(i):i.popupTemplate,o=i.resultSymbol||this._getDefaultSymbol(t),a=Ji(i,"resultGraphicEnabled")?i.resultGraphicEnabled:this.resultGraphicEnabled,l=Ji(i,"autoNavigate")?i.autoNavigate:this.autoNavigate,u=Ji(i,"popupEnabled")?i.popupEnabled:this.popupEnabled,d=u?s||this.popupTemplate||this.defaultPopupTemplate:null,{feature:h}=t;if(!h){const M=new q("select:missing-feature","Cannot select without a feature.",{feature:h});throw ie.getLogger(this).error(M),M}const{attributes:f,geometry:y,layer:g,sourceLayer:v}=h,b=y?WH(y):null,_={layerViewQuery:this._getLayerView(h),elevationQuery:r&&b!=null?EGe(b,r):Promise.resolve(b)},x=await rm(_),S=x.layerViewQuery.value,$=x.elevationQuery.value;o instanceof dy&&(o.text=t.name);const C=r&&l?t.target||t.extent:null;await(C!=null?this._goToSearchResult(C):Promise.resolve());const E=S?h:new Uo({geometry:y,symbol:o,attributes:f,layer:g,sourceLayer:v,popupTemplate:d}),P=r==null?void 0:r.popup,T=P&&u&&E.getEffectivePopupTemplate(P.defaultPopupTemplateEnabled);return T&&await r.openPopup({features:[E],location:$}),S&&kGe(S)&&!T&&this._highlightFeature({graphic:E,layerView:S}),!S&&a&&r&&r.graphics.push(E),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",E),this.emit("select-result",{result:t,source:i,sourceIndex:n}),t}async suggest(t,r,n){const i=t||this.searchTerm;this.emit("suggest-start",{searchTerm:i}),await this._suggestTimer(r,n);const s=await this._suggestImmediate(i,n);return this._set("suggestions",s==null?void 0:s.results),this._set("suggestionCount",(s==null?void 0:s.results.reduce((o,a)=>{var l;return o+(((l=a.results)==null?void 0:l.length)??0)},0))??null),this.emit("suggest-complete",s),s}async when(){await Q0(()=>!this.updating)}async _update(){const{portal:t,view:r}=this;if(this.includeDefaultSources){const n=this._updatingPromise=rm([t==null?void 0:t.load(),r==null?void 0:r.when()]);if(this.destroyed||(await n,n!==this._updatingPromise))return}await Q0(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var r,n;const t=(n=(r=this.portal)==null?void 0:r.helperServices)==null?void 0:n.geocode;return t?t.map(i=>{var l;if(i.placefinding===!1)return;const s=Ft.apiKey&&qH(i.url)?{url:uWe}:null,o=qde.fromJSON({...i,...s}),a=o.url;if(qH(a)||lWe(a)||aWe(a)){const u=o.outFields??["Addr_type","Match_addr","StAddr","City"],d=(o.placeholder||((l=this.messages)==null?void 0:l.placeholder))??"",h=typeof o.defaultZoomScale=="number"?o.defaultZoomScale:2500;o.singleLineFieldName="SingleLine",o.outFields=u,o.placeholder=d,o.defaultZoomScale=h}return o.singleLineFieldName?o:void 0}).filter(zi):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,r){var i;const n=(i=this.view)==null?void 0:i.map;return t.map(s=>{const o=n.findLayerById(s.id);if(!o)return;const a=this._getLayerJSON(s),l=Ig.fromJSON(a);return l.placeholder=r,this._getLayer(o,a).then(u=>{l.layer=u}),l}).filter(zi).toArray()}_getTableSources(t,r){var i;const n=(i=this.view)==null?void 0:i.map;return t.map(s=>{if(!s.id)return;const o=n.findTableById(s.id);if(!o)return;const a=this._getLayerJSON(s),l=Ig.fromJSON(a);return l.placeholder=r,this._getLayer(o,a).then(u=>{l.layer=u}),l}).filter(zi).toArray()}_convertApplicationProperties(){var a,l,u;const t=(a=this.view)==null?void 0:a.map,r=(u=(l=t==null?void 0:t.applicationProperties)==null?void 0:l.viewing)==null?void 0:u.search;if(!r)return[];const{enabled:n,hintText:i,layers:s,tables:o}=r;return n?[...this._getLayerSources(s,i),...this._getTableSources(o,i)]:[]}async _getSubLayer(t,r){var s;if(await t.load(),!t.allSublayers)throw new Error;const n=t.allSublayers.find(o=>o.id===r.subLayer);if(!n)throw new Error;const i=await((s=n.createFeatureLayer)==null?void 0:s.call(n));if(!i)throw new Error;return this._createdFeatureLayers.push(i),i}async _getBuildingSubLayer(t,r){await t.load();const n=t.allSublayers.find(i=>i.id===r.subLayer);if((n==null?void 0:n.type)!=="building-component")throw new Error;if(await n.load(),n.associatedLayer==null)throw new Error;return await n.associatedLayer.load(),n}async _getLayer(t,r){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return await this._getSubLayer(t,r)}catch{const i=new q("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return ie.getLogger(this).error(i),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,r):null}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:r}=this;this._destroyFeatureLayers(),t.removeAll(),r&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var s;const t=(s=this.view)==null?void 0:s.popup,{resultGraphic:r}=this;if(!t||!r)return;const n="selectedFeature"in t,i=n?t.selectedFeature:null;n&&i&&i===r&&t.close()}_suggestTimer(t,r){const n=t??this.suggestionDelay;return i9(n,null,r==null?void 0:r.signal)}_createLocationForSearch(t){return t instanceof Uo&&t.geometry?WH(t.geometry):t instanceof nt?t:Array.isArray(t)&&t.length===2?new nt({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&Ji(t,"key")&&Ji(t,"text")&&Ji(t,"sourceIndex"))return t;const r=this._createLocationForSearch(t),n=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:i,selectedResult:s}=this,o=!t&&i&&s,a=o&&i.key===s.key&&i.sourceIndex===s.sourceIndex,l=o&&i.location;return a||l?i:{location:r,text:r?"":n,sourceIndex:null,key:null}}_getFirstResult(t){return b_(t,({results:r})=>r==null?void 0:r[0])??null}async _selectFirstResult(t){return this.autoSelect&&t?this.select(t):null}async _suggestImmediate(t,r){var s;await this.when();const n=await this._getSuggestionsFromSources(t,r);if((s=r==null?void 0:r.signal)!=null&&s.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,n),i}_formatSourceResponse(t,r,n){const i=(r==null?void 0:r.value)||[],s=r==null?void 0:r.error,o=this.allSources.at(n);if(s){const a={sourceIndex:n,source:o,error:s};t.errors.push(a),ie.getLogger(this).error(s),t.numErrors++}else{const a={sourceIndex:n,source:o,results:i};t.results.push(a),t.numResults+=i.length}}_formatResponse(t,r,n){if(r)if(t.activeSourceIndex===Pg){const i=n&&Ji(n,"sourceIndex")&&n.sourceIndex!==-1?n.sourceIndex:void 0;r.forEach((s,o)=>{const a=i!==void 0?i:o;this._formatSourceResponse(t,s,a)})}else this._formatSourceResponse(t,r[0],t.activeSourceIndex)}async _getResultsFromSources(t,r){const{allSources:n}=this,i=!t.location&&Ji(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,s=[];if(!n.length){const o=new q("search:no-sources-defined","At least one source is required.",{allSources:n});throw ie.getLogger(this).error(o),o}return i===Pg?n.forEach((o,a)=>{s.push(this._getResultsFromSource(t,a,r))}):s.push(this._getResultsFromSource(t,i,r)),rm(s)}async _getSuggestionsFromSources(t,r){const{allSources:n,activeSourceIndex:i}=this,s=[];if(!n.length){const o=new q("suggest:no-sources-defined","At least one source is required.",{allSources:n});throw ie.getLogger(this).error(o),o}return i===Pg?n.forEach((o,a)=>{s.push(this._getSuggestionsFromSource(t,a,r))}):s.push(this._getSuggestionsFromSource(t,i,r)),rm(s)}async _getResultsFromSource(t,r,n){var d,h;const i=r!=null?this.allSources.at(r):null;if(!i)return null;const{location:s=null}=t,o=((d=this.view)==null?void 0:d.spatialReference)||YH,a=Ji(i,"maxResults")?i.maxResults:this.maxResults,l=!!(i instanceof Ig&&Ji(i,"exactMatch"))&&i.exactMatch,{view:u}=this;return(h=i.getResults)==null?void 0:h.call(i,{view:u,sourceIndex:r,location:s,suggestResult:t,spatialReference:o,exactMatch:l,maxResults:a},n)}async _getSuggestionsFromSource(t,r,n){var l,u;const i=this.allSources.at(r);if(!i)return null;t??(t="");const s=Ji(i,"suggestionsEnabled")?i.suggestionsEnabled:this.suggestionsEnabled,o=t==null?void 0:t.length,a=Ji(i,"minSuggestCharacters")?i.minSuggestCharacters:this.minSuggestCharacters;if(s&&t.trim()&&o>=a){const d=((l=this.view)==null?void 0:l.spatialReference)||YH,h=Ji(i,"maxSuggestions")?i.maxSuggestions:this.maxSuggestions,{view:f}=this,y=!!(i instanceof Ig&&Ji(i,"exactMatch"))&&i.exactMatch;return(u=i.getSuggestions)==null?void 0:u.call(i,{view:f,sourceIndex:r,suggestTerm:t,spatialReference:d,maxSuggestions:h,exactMatch:y},n)}return null}_getLayerSourcePopupTemplate(t){const{layer:r}=t;if(r)return Ji(t,"popupTemplate")?t.popupTemplate:r.popupTemplate}_getSourceIndexOfResult(t){return b_(this.results??[],({results:r,sourceIndex:n})=>(r==null?void 0:r.includes(t))?n:null)??null}async _goToSearchResult(t){this._abortGoTo();const r=new AbortController;this._gotoController=r;const n={target:{target:t},options:{signal:r.signal}};t||(n.options.animate=!1),await this.callGoTo(n),this._gotoController=null}_getDefaultSymbol(t){var i;const{defaultSymbols:r}=this,n=(i=t.feature)==null?void 0:i.geometry;if(n==null)return null;switch(n.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this.removeHandles(ZH)}async _getLayerView(t){var i,s;const{view:r}=this;if(!t||!r||((i=t.layer)==null?void 0:i.type)==="building-component"||((s=t.layer)==null?void 0:s.type)==="subtype-sublayer")return null;const{layer:n}=t;return n?(await r.when(),r.whenLayerView(n)):null}_highlightFeature(t){const{graphic:r,layerView:n}=t,{attributes:i,layer:s}=r,{objectIdField:o}=s,a=(o&&(i==null?void 0:i[o]))??null,l=n.highlight(a??r);this.addHandles(l,ZH)}_setResultFloor(t){var s,o,a;const{view:r}=this,n=(s=t.feature)==null?void 0:s.attributes,i=(o=t.feature)==null?void 0:o.sourceLayer;if(i&&"floorInfo"in i&&((a=i==null?void 0:i.floorInfo)!=null&&a.floorField)&&n){const l=n[i.floorInfo.floorField];r==null||r.emit("select-result-floor",l)}}};wt.ALL_INDEX=Pg,c([p()],wt.prototype,"_searching",void 0),c([p()],wt.prototype,"_updatingPromise",void 0),c([p({readOnly:!0,value:null})],wt.prototype,"activeSource",null),c([p()],wt.prototype,"activeSourceIndex",null),c([p()],wt.prototype,"allPlaceholder",null),c([p({readOnly:!0})],wt.prototype,"allSources",null),c([p()],wt.prototype,"autoNavigate",void 0),c([p()],wt.prototype,"autoSelect",void 0),c([p()],wt.prototype,"defaultPopupTemplate",void 0),c([p({readOnly:!0})],wt.prototype,"defaultSources",void 0),c([p()],wt.prototype,"defaultSymbols",void 0),c([p()],wt.prototype,"includeDefaultSources",void 0),c([p()],wt.prototype,"locationEnabled",null),c([p()],wt.prototype,"maxInputLength",void 0),c([p()],wt.prototype,"maxResults",void 0),c([p()],wt.prototype,"maxSuggestions",void 0),c([p()],wt.prototype,"messages",void 0),c([p()],wt.prototype,"minSuggestCharacters",void 0),c([p({readOnly:!0})],wt.prototype,"placeholder",null),c([p()],wt.prototype,"popupEnabled",void 0),c([p({type:Ph})],wt.prototype,"popupTemplate",void 0),c([p({type:ui})],wt.prototype,"portal",void 0),c([p()],wt.prototype,"resultCount",void 0),c([p()],wt.prototype,"resultGraphicEnabled",void 0),c([p({readOnly:!0})],wt.prototype,"resultGraphic",void 0),c([p({readOnly:!0})],wt.prototype,"results",void 0),c([p({readOnly:!0})],wt.prototype,"selectedSuggestion",void 0),c([p()],wt.prototype,"searchAllEnabled",void 0),c([p({readOnly:!0})],wt.prototype,"selectedResult",void 0),c([p()],wt.prototype,"searchTerm",null),c([p({type:QT})],wt.prototype,"sources",void 0),c([p({readOnly:!0})],wt.prototype,"state",null),c([p()],wt.prototype,"suggestionDelay",void 0),c([p()],wt.prototype,"suggestionCount",void 0),c([p({readOnly:!0})],wt.prototype,"suggestions",void 0),c([p()],wt.prototype,"suggestionsEnabled",void 0),c([p({readOnly:!0})],wt.prototype,"updating",null),c([p()],wt.prototype,"view",void 0),c([p()],wt.prototype,"clear",null),wt=c([R("esri.widgets.Search.SearchViewModel")],wt);const Qg=wt;let mp=class extends Ya{constructor(t,r){super(t,r),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[Yh.showMoreResults]:this.showMoreResultsOpen};return ee("div",{class:this.classes(Yh.base,lt.widget)},ee("div",{class:this.classes(Yh.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return ee("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var n;const t=(n=this.viewModel)==null?void 0:n.selectedResult,r=(t==null?void 0:t.name)||"";return ee("div",{class:Yh.moreResultsItem,key:"esri-search-renderer__result-name"},r)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const r=t.results;if((t.resultCount??0)<2)return null;const n=r==null?void 0:r.map(i=>this._renderMoreResultsList(i));return ee("div",{class:Yh.moreResultsList,key:"esri-search-renderer__more-results-container"},n)}_renderMoreResultsButton(){const{messages:t,viewModel:r}=this;return r?(r.resultCount??0)<2?null:ee("div",{class:Yh.moreResultsItem,key:"esri-search-renderer__more-results-button"},ee("a",{bind:this,class:lt.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,r){return ee("div",{class:Yh.moreResultsListHeader,key:`esri-search-result-renderer__header-${r}`},t)}_renderMoreResultsList(t){var h,f,y;const{results:r}=t,n=(r==null?void 0:r.length)??0,i=n>0,s=(h=this.viewModel)==null?void 0:h.selectedResult,o=n===1&&r[0]===s,a=this._getSourceName(t.source,t.sourceIndex),l=(((y=(f=this.viewModel)==null?void 0:f.results)==null?void 0:y.length)??0)>1&&!o?this._renderMoreResultsHeader(a,t.sourceIndex):null,u=i&&r.map((g,v)=>this._renderMoreResultsListItem(g,v)),d=i&&!o?ee("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},u):null;return i?ee("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},l,d):null}_renderMoreResultsListItem(t,r){var i;const n=(i=this.viewModel)==null?void 0:i.selectedResult;return t!==n?ee("li",{key:`esri-search-result-renderer__list-item-${r}`},ee("a",{bind:this,class:lt.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var n,i;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const r=(i=(n=this.viewModel)==null?void 0:n.view)==null?void 0:i.popup;r&&"reposition"in r&&r.reposition()}_selectResultClick(t){var n;t.preventDefault();const r=t.currentTarget["data-result"];(n=this.viewModel)==null||n.select(r)}_getSourceName(t,r){return r===Qg.ALL_INDEX?this.messages.all:t.name}};c([p(),Fs("esri/widgets/Search/t9n/Search")],mp.prototype,"messages",void 0),c([p()],mp.prototype,"showMoreResultsOpen",void 0),c([p()],mp.prototype,"viewModel",void 0),c([J3()],mp.prototype,"_showMoreResultsClick",null),c([J3()],mp.prototype,"_selectResultClick",null),mp=c([R("esri.widgets.Search.SearchResultRenderer")],mp);const kWe=mp,jd={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"},IWe=/<[a-z/][\s\S]*>/i,OWe=(e,t)=>{const r=Kxe(t).split(/\s/),n=new RegExp(`(${r.join("|")})`,"gi");return e.replace(n,i=>`<strong>${i}</strong>`)};let xt=class extends Ya{constructor(t,r){super(t,r),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new kWe,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new Qg,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=n=>{var s;const i=n.relatedTarget;i&&((s=this._container)!=null&&s.contains(i))||this._clearActiveMenu()},this.addHandles([Se(()=>this.searchTerm,n=>{var i,s;(n&&this.activeMenu==="warning"||!n&&!((s=(i=this.viewModel)==null?void 0:i.selectedSuggestion)!=null&&s.location))&&this._clearActiveMenu()}),Ns(()=>{var n;return(n=this.viewModel)==null?void 0:n.allSources},"change",()=>this._watchSourceChanges()),Se(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),Cr),Se(()=>{var n;return(n=this.viewModel)==null?void 0:n.defaultPopupTemplate},n=>{n&&(n.content=this._renderSearchResultsContent.bind(this))},Cr)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=jr(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){var t;return(t=this.viewModel)==null?void 0:t.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"search"}set icon(t){this._overrideIfSome("icon",t)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){var t;return(t=this.viewModel)==null?void 0:t.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this.viewModel.clear()}focus(){var t;(t=this._inputNode)==null||t.focus(),this.emit("search-focus")}blur(){var t;(t=this._inputNode)==null||t.blur(),this.emit("search-blur")}async search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const r=new AbortController,{signal:n}=r;this._searchController=r;try{const i=await this.viewModel.search(t,{signal:n});return this._searchController!==r?void 0:(this.activeMenu=i!=null&&i.numResults?"none":"warning",this._searchController=null,i)}catch{return this._searchController!==r?void 0:(this._clearActiveMenu(),void(this._searchController=null))}}async suggest(t){this._cancelSuggest();const r=new AbortController,{signal:n}=r;this._suggestController=r;try{const i=await this.viewModel.suggest(t,null,{signal:n});return this._suggestController!==r?void 0:(this._suggestController=null,i!=null&&i.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),i)}catch{return this._suggestController!==r||(this._suggestController=null),null}}render(){const{state:t}=this.viewModel,r={[lt.disabled]:t==="disabled",[lt.widgetDisabled]:this.disabled};return ee("div",{class:this.classes(Sr.base,lt.widget,r)},t==="loading"?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:t,disabled:r}=this;return ee("button",{"aria-label":t.searchButtonTitle,bind:this,class:this.classes(Sr.submitButton,lt.widgetButton),disabled:r,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle,type:"button"},ee("span",{"aria-hidden":"true",class:jd.search}))}_renderWarningMenu(){return ee("div",{class:this.classes(lt.menu,Sr.warningMenu),key:"esri-search__error-menu"},ee("div",{class:Sr.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:t,activeMenu:r,sourceMenuId:n,sourceMenuButtonId:i,disabled:s}=this,{activeSourceIndex:o,allSources:a}=this.viewModel;return a.length>1?ee("button",{afterCreate:v2,"aria-controls":n,"aria-expanded":(r==="source").toString(),"aria-haspopup":"true","aria-label":t.searchIn,bind:this,class:this.classes(Sr.sourcesButton,lt.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:s,id:i,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:t.searchIn,type:"button"},ee("span",{"aria-hidden":"true",class:this.classes(jd.downArrow,Sr.sourcesButtonDown)}),ee("span",{"aria-hidden":"true",class:this.classes(jd.upArrow,Sr.sourcesButtonUp)}),ee("span",{class:Sr.sourceName},this._getSourceName(o))):null}_renderSourcesList(){const{allSources:t,searchAllEnabled:r}=this.viewModel,{_activeMenuItemIndex:n,activeMenu:i,sourceMenuId:s,sourceMenuButtonId:o}=this,a=i==="source"&&n>-1?this._buildId("source-item",n):null;return t.length>1?ee("ul",{afterCreate:v2,"aria-activedescendant":a,"aria-labelledby":o,bind:this,class:lt.menuList,"data-node-ref":"_sourceListNode",id:s,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},r?this._renderSource(Qg.ALL_INDEX):null,t.map((l,u)=>this._renderSource(u)).toArray()):null}_renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?ee("div",{class:this.classes(lt.menu,Sr.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:t,messagesCommon:r,disabled:n}=this;return ee("div",{class:lt.loader,key:"base-loader",tabIndex:n?-1:void 0},ee("span",{"aria-hidden":"true",class:lt.loaderAnimation}),ee("span",{class:jd.fontFallbackText},t.searchButtonTitle),ee("span",{class:lt.loaderText},r.loading))}_renderContainer(){const{allSources:t,state:r}=this.viewModel,{activeMenu:n}=this,i={[Sr.hasMultipleSources]:t.length>1,[Sr.isLoading]:r==="loading",[Sr.isSearching]:r==="searching",[Sr.showWarning]:n==="warning",[Sr.showSources]:n==="source",[Sr.showSuggestions]:n==="suggestion"};return ee("div",{afterCreate:s=>{this._container=s,s.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:s=>{s.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(i,Sr.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?ee("button",{bind:this,class:this.classes(Sr.clearButton,lt.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},ee("span",{"aria-hidden":"true",class:jd.close})):null}_renderLocationGroup(){const{messages:t,locationEnabled:r,displayedSearchTerm:n}=this,i=r&&!n,s=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return i?ee("ul",{class:this.classes(lt.menuList,Sr.suggestionList,Sr.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},ee("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),bind:this,class:this.classes(lt.menuItem,s?lt.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},ee("span",{"aria-hidden":"true",class:jd.locateCircled})," ",t.useCurrentLocation)):null}_renderInput(){const{activeMenu:t,locationEnabled:r,displayedSearchTerm:n,messages:i,suggestionsMenuId:s,inputId:o,_activeMenuItemIndex:a,disabled:l}=this,{maxInputLength:u,placeholder:d,searchTerm:h,suggestionCount:f}=this.viewModel,y=!(!(r&&!n)&&!f),g=t==="suggestion"&&a>-1?this._buildId("suggestion-item",a):null;return ee("input",{afterCreate:v2,"aria-activedescendant":g,"aria-autocomplete":"list","aria-controls":y?s:null,"aria-expanded":(y&&t==="suggestion").toString(),"aria-haspopup":"listbox","aria-label":i.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(lt.input,Sr.input),"data-node-ref":"_inputNode",disabled:l,id:o,maxlength:u,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:d,role:"combobox",title:h?"":d,type:"text",value:h})}_renderForm(){return ee("form",{bind:this,class:Sr.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(t){const{sourceIndex:r}=t,{results:n}=t;return(n==null?void 0:n.length)?ee("ul",{class:this.classes(lt.menuList,Sr.suggestionList),key:`esri-search__suggestion-list-${r}`,role:"group"},n==null?void 0:n.map(s=>this._renderSuggestion(s,this._menuItemCount++))):null}_renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(r=>[this._renderSuggestionHeader(r),this._renderSuggestList(r)]):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:r,suggestionsMenuId:n,inputId:i}=this,{suggestionCount:s}=this.viewModel,o=r&&!t||s;return this._menuItemCount=0,o?ee("div",{afterCreate:v2,"aria-labelledby":i,bind:this,class:this.classes(lt.menu,Sr.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:n,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return ee("div",{class:Sr.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(t){var a;const{allSources:r,activeSourceIndex:n}=this.viewModel,{sourceIndex:i}=t,s=(a=t.results)==null?void 0:a.length,o=r.length>1&&n===Qg.ALL_INDEX;return s&&o?ee("div",{class:lt.menuHeader,key:`esri-search__suggestion-header-${i}`},this._getSourceName(i)):null}_renderSuggestion(t,r){const{_activeMenuItemIndex:n,viewModel:{searchTerm:i}}=this;if(!i)return;const s=this.activeMenu==="suggestion"&&n===r;return ee("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===r).toString(),bind:this,class:this.classes(lt.menuItem,s?lt.menuItemFocus:null),"data-suggestion":t,id:this._buildId("suggestion-item",r),innerHTML:this._getSuggestResultHTML(t.text,i),key:`esri-search__suggestion_${r}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(t){const{activeSourceIndex:r,searchAllEnabled:n}=this.viewModel,i={[lt.menuItemActive]:t===r,[lt.menuItemFocus]:this.activeMenu==="source"&&t===(n?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},s=n?t+1:t;return ee("li",{"aria-checked":(t===r).toString(),bind:this,class:this.classes(Sr.source,lt.menuItem,i),"data-source-index":t,id:this._buildId("source-item",s),key:`esri-search__source-${t}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(t))}_renderNoResultsWarning(t){const{messages:r}=this,n=t?eF(r.noResultsFoundForValue,{value:`"${t}"`}):r.noResultsFound;return ee("div",{key:"esri-search__no_results"},ee("div",{class:Sr.warningMenuHeader},r.noResults),ee("div",{class:Sr.warningMenuText},n))}_renderEmptySearchWarning(){const{messages:t}=this;return ee("div",{key:"esri-search__empty-search"},ee("span",{"aria-hidden":"true",class:jd.noticeTriangle}),ee("span",{class:Sr.noValueText},t.emptyValue))}_renderLocateWarning(){const{messages:t}=this;return ee("div",{key:"esri-search__locate-error"},ee("span",{"aria-hidden":"true",class:jd.noticeTriangle}),ee("span",{class:Sr.noValueText},t.locateError))}_renderWarning(){var i;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:n}=this;return r?this._renderLocateWarning():(i=n.selectedSuggestion)!=null&&i.location||t?this._renderNoResultsWarning(t):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,r){return`${this.id}-${t}${r===void 0?"":`-${r}`}`}_watchSourceChanges(){const{viewModel:{allSources:t}}=this,r="sources";this.removeHandles(r),t.forEach(n=>this.addHandles(Se(()=>n.name,()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var r;const t=this.activeMenu==="source";this.activeMenu=t?"none":"source",this.renderNow(),this.activeMenu==="source"&&((r=this._sourceListNode)==null||r.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const r=JH(t.currentTarget);r&&(this._focus(),this.search(r))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;this._searchController=t,(async()=>{try{const n=await this.viewModel.searchNearby({signal:r});this.activeMenu=n!=null&&n.numResults?"none":"warning"}catch{this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var n;if(!t)return;const r=PWe(t);r!=null&&(this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(n=this._sourceMenuButtonNode)==null||n.focus())}_cancelSuggest(){this._suggestController=Lm(this._suggestController)}_cancelSearch(){this._searchController=Lm(this._searchController),this._locateFailed=!1}_handleInputKeyup(t){var s;const{key:r}=t;if(t.ctrlKey||t.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||t.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const n=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(s=this._suggestionListNode)==null?void 0:s.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),n)return t.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,i,this._suggestionListNode);const o=i[this._activeMenuItemIndex];if(r==="Enter"&&o){const a=JH(o);return void(a?(this._focus(),this.search(a)):AWe(o)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(t,r,n){const i=this._activeMenuItemIndex;t==="Home"&&(this._activeMenuItemIndex=0),t==="End"&&(this._activeMenuItemIndex=r.length-1),t==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?r.length-1:this._activeMenuItemIndex-1),t==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===r.length-1?0:this._activeMenuItemIndex+1),i!==this._activeMenuItemIndex&&n&&l5e(r[this._activeMenuItemIndex],n)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const r=t.target;this.viewModel.searchTerm!==r.value&&(this.viewModel.searchTerm=r.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){var n;const{key:r}=t;if(xse(r)){t.preventDefault();const i=(n=this._sourceListNode)==null?void 0:n.getElementsByTagName("li"),s=i==null?void 0:i[this._activeMenuItemIndex];this._setSourceFromMenuItem(s)}else r!=="ArrowUp"&&r!=="ArrowDown"&&r!=="End"&&r!=="Home"||t.preventDefault()}_handleSourceMenuKeyup(t){var s,o,a;const{key:r}=t,n=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";if(n&&t.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((s=this._sourceMenuButtonNode)==null?void 0:s.focus());const i=(o=this._sourceListNode)==null?void 0:o.getElementsByTagName("li");return i&&i.length!==0&&n?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,i,(a=this._sourceListNode)==null?void 0:a.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(t){const{messages:r}=this,n=this.viewModel,{allSources:i}=n,s=i.at(t);return t===Qg.ALL_INDEX?r.all:s&&s.name||r.untitledSource}_getSuggestResultHTML(t,r){return t?IWe.test(t)?t:OWe(t,r):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function JH(e){return e==null?void 0:e["data-suggestion"]}function PWe(e){return e==null?void 0:e["data-source-index"]}function AWe(e){return!!(e!=null&&e["data-current-location-item"])}c([p()],xt.prototype,"_activeMenuItemIndex",void 0),c([p()],xt.prototype,"displayedSearchTerm",null),c([p({readOnly:!0})],xt.prototype,"inputId",null),c([p({readOnly:!0})],xt.prototype,"suggestionsMenuId",null),c([p({readOnly:!0})],xt.prototype,"sourceMenuId",null),c([p({readOnly:!0})],xt.prototype,"sourceMenuButtonId",null),c([p()],xt.prototype,"activeMenu",void 0),c([p({readOnly:!0})],xt.prototype,"activeSource",null),c([p()],xt.prototype,"activeSourceIndex",null),c([p()],xt.prototype,"allPlaceholder",null),c([p({readOnly:!0})],xt.prototype,"allSources",null),c([p()],xt.prototype,"autoNavigate",null),c([p()],xt.prototype,"autoSelect",null),c([p({readOnly:!0})],xt.prototype,"defaultSources",null),c([p()],xt.prototype,"disabled",void 0),c([p()],xt.prototype,"goToOverride",null),c([p()],xt.prototype,"icon",null),c([p()],xt.prototype,"includeDefaultSources",null),c([p()],xt.prototype,"label",null),c([p()],xt.prototype,"locationEnabled",null),c([p()],xt.prototype,"maxResults",null),c([p()],xt.prototype,"maxSuggestions",null),c([p(),Fs("esri/widgets/Search/t9n/Search")],xt.prototype,"messages",void 0),c([p(),Fs("esri/t9n/common")],xt.prototype,"messagesCommon",void 0),c([p()],xt.prototype,"minSuggestCharacters",null),c([p()],xt.prototype,"popupEnabled",null),c([p()],xt.prototype,"popupTemplate",null),c([p()],xt.prototype,"portal",null),c([p()],xt.prototype,"resultGraphic",null),c([p()],xt.prototype,"resultGraphicEnabled",null),c([p({readOnly:!0})],xt.prototype,"results",null),c([p()],xt.prototype,"searchAllEnabled",null),c([p()],xt.prototype,"searchTerm",null),c([p({readOnly:!0})],xt.prototype,"selectedResult",null),c([p()],xt.prototype,"sources",null),c([p({readOnly:!0})],xt.prototype,"suggestions",null),c([p()],xt.prototype,"suggestionsEnabled",null),c([p()],xt.prototype,"view",null),c([PD(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),p({type:Qg})],xt.prototype,"viewModel",void 0),xt=c([R("esri.widgets.Search")],xt);const RWe=xt,KH=I.createContext();function LWe(e){return ar("MuiGrid",e)}const jWe=[0,1,2,3,4,5,6,7,8,9,10],NWe=["column-reverse","column","row-reverse","row"],FWe=["nowrap","wrap-reverse","wrap"],A1=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],q_=lr("MuiGrid",["root","container","item","zeroMinWidth",...jWe.map(e=>`spacing-xs-${e}`),...NWe.map(e=>`direction-xs-${e}`),...FWe.map(e=>`wrap-xs-${e}`),...A1.map(e=>`grid-xs-${e}`),...A1.map(e=>`grid-sm-${e}`),...A1.map(e=>`grid-md-${e}`),...A1.map(e=>`grid-lg-${e}`),...A1.map(e=>`grid-xl-${e}`)]);function DWe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let s={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=mm({values:t.columns,breakpoints:e.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return n;const l=`${Math.round(r/a*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const h=`calc(${l} + ${d})`;u={flexBasis:h,maxWidth:h}}}s={flexBasis:l,flexGrow:0,maxWidth:l,...u}}return e.breakpoints.values[i]===0?Object.assign(n,s):n[e.breakpoints.up(i)]=s,n},{})}function zWe({theme:e,ownerState:t}){const r=mm({values:t.direction,breakpoints:e.breakpoints.values});return uo({theme:e},r,n=>{const i={flexDirection:n};return n.startsWith("column")&&(i[`& > .${q_.item}`]={maxWidth:"none"}),i})}function Yde({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,s)=>e[i]-e[s]);return n.slice(0,n.indexOf(r))}function VWe({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const s=mm({values:n,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Yde({breakpoints:e.breakpoints.values,values:s})),i=uo({theme:e},s,(a,l)=>{const u=e.spacing(a);return u!=="0px"?{marginTop:e.spacing(-a),[`& > .${q_.item}`]:{paddingTop:u}}:o!=null&&o.includes(l)?{}:{marginTop:0,[`& > .${q_.item}`]:{paddingTop:0}}})}return i}function BWe({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const s=mm({values:n,breakpoints:e.breakpoints.values});let o;typeof s=="object"&&(o=Yde({breakpoints:e.breakpoints.values,values:s})),i=uo({theme:e},s,(a,l)=>{const u=e.spacing(a);if(u!=="0px"){const d=e.spacing(-a);return{width:`calc(100% + ${u})`,marginLeft:d,[`& > .${q_.item}`]:{paddingLeft:u}}}return o!=null&&o.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${q_.item}`]:{paddingLeft:0}}})}return i}function UWe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const s=e[i];Number(s)>0&&n.push(r[`spacing-${i}-${String(s)}`])}),n}const GWe=Ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:u}=r;let d=[];n&&(d=UWe(o,u,t));const h=[];return u.forEach(f=>{const y=r[f];y&&h.push(t[`grid-${f}-${String(y)}`])}),[t.root,n&&t.container,s&&t.item,l&&t.zeroMinWidth,...d,i!=="row"&&t[`direction-xs-${String(i)}`],a!=="wrap"&&t[`wrap-xs-${String(a)}`],...h]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),zWe,VWe,BWe,DWe);function WWe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const s=`spacing-${n}-${String(i)}`;r.push(s)}}),r}const qWe=e=>{const{classes:t,container:r,direction:n,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=e;let u=[];r&&(u=WWe(s,l));const d=[];l.forEach(f=>{const y=e[f];y&&d.push(`grid-${f}-${String(y)}`)});const h={root:["root",r&&"container",i&&"item",a&&"zeroMinWidth",...u,n!=="row"&&`direction-xs-${String(n)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...d]};return vr(h,LWe,t)},ke=I.forwardRef(function(t,r){const n=Oee({props:t,name:"MuiGrid"}),{breakpoints:i}=Mh(),s=mE(n),{className:o,columns:a,columnSpacing:l,component:u="div",container:d=!1,direction:h="row",item:f=!1,rowSpacing:y,spacing:g=0,wrap:v="wrap",zeroMinWidth:b=!1,..._}=s,x=y||g,S=l||g,$=I.useContext(KH),C=d?a||12:$,k={},E={..._};i.keys.forEach(M=>{_[M]!=null&&(k[M]=_[M],delete E[M])});const P={...s,columns:C,container:d,direction:h,item:f,rowSpacing:x,columnSpacing:S,wrap:v,zeroMinWidth:b,spacing:g,...k,breakpoints:i.keys},T=qWe(P);return w.jsx(KH.Provider,{value:C,children:w.jsx(GWe,{ownerState:P,className:qe(T.root,o),as:u,ref:r,...E})})}),HWe={BingMapsLayer:async()=>(await Q(async()=>{const{default:e}=await import("./BingMapsLayer-DaNds4Ry.js");return{default:e}},[],import.meta.url)).default,BuildingSceneLayer:async()=>(await Q(async()=>{const{default:e}=await import("./BuildingSceneLayer-Nsly0m9E.js");return{default:e}},__vite__mapDeps([250,251,252,226,227,224,253,254,229,255,103,40,41,101,92,39,87,90,33,104,105,106,68,91,86,42,169,129,256]),import.meta.url)).default,CSVLayer:async()=>(await Q(async()=>{const{default:e}=await import("./CSVLayer-BAuw2UtZ.js");return{default:e}},__vite__mapDeps([257,24,22]),import.meta.url)).default,CatalogLayer:async()=>(await Q(async()=>{const{default:e}=await import("./CatalogLayer-PhG8mc1d.js");return{default:e}},__vite__mapDeps([258,3,4,230,37,43,231,222,40,86,39,87,221,24,22,232,233,51,49,50,12,11,15,122,234,14]),import.meta.url)).default,DimensionLayer:async()=>(await Q(async()=>{const{default:e}=await import("./DimensionLayer-kWRH_DeW.js");return{default:e}},__vite__mapDeps([259,260]),import.meta.url)).default,ElevationLayer:async()=>(await Q(async()=>{const{default:e}=await import("./ElevationLayer-FkGC1Pfk.js");return{default:e}},__vite__mapDeps([123,124,125,126,52]),import.meta.url)).default,FeatureLayer:async()=>(await Q(async()=>{const{default:e}=await Promise.resolve().then(()=>BUe);return{default:e}},void 0,import.meta.url)).default,GeoJSONLayer:async()=>(await Q(async()=>{const{default:e}=await import("./GeoJSONLayer-DbgF1j9d.js");return{default:e}},__vite__mapDeps([261,24,22]),import.meta.url)).default,GeoRSSLayer:async()=>(await Q(async()=>{const{default:e}=await import("./GeoRSSLayer-By30Pikr.js");return{default:e}},[],import.meta.url)).default,GroupLayer:async()=>(await Q(async()=>{const{default:e}=await Promise.resolve().then(()=>KWe);return{default:e}},void 0,import.meta.url)).default,ImageryLayer:async()=>(await Q(async()=>{const{default:e}=await import("./ImageryLayer-CnZkQXIb.js");return{default:e}},__vite__mapDeps([262,263,186,94,95,96,119,4,122,51,49,50,12,11,15,117,233]),import.meta.url)).default,ImageryTileLayer:async()=>(await Q(async()=>{const{default:e}=await import("./ImageryTileLayer-C6Ga0r50.js");return{default:e}},__vite__mapDeps([264,263,186,94,95,96,119,4,188,98,97,126,52]),import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await Q(async()=>{const{default:e}=await import("./IntegratedMesh3DTilesLayer-DPgZzafp.js");return{default:e}},__vite__mapDeps([265,256]),import.meta.url)).default,IntegratedMeshLayer:async()=>(await Q(async()=>{const{default:e}=await import("./IntegratedMeshLayer-B57yelGW.js");return{default:e}},__vite__mapDeps([266,267,227,268,252,226,224,253,254,229,255,256]),import.meta.url)).default,KMLLayer:async()=>(await Q(async()=>{const{default:e}=await import("./KMLLayer-CTPlLzgQ.js");return{default:e}},__vite__mapDeps([269,190]),import.meta.url)).default,KnowledgeGraphLayer:async()=>(await Q(async()=>{const{default:e}=await import("./KnowledgeGraphLayer-CbSpz1fH.js");return{default:e}},__vite__mapDeps([270,271,13,14,11,12,15,16,17,18,8,19,20,21,22,1,2,3,4,24,272,273]),import.meta.url)).default,LineOfSightLayer:async()=>(await Q(async()=>{const{default:e}=await import("./LineOfSightLayer-aM-88Etc.js");return{default:e}},__vite__mapDeps([274,260,267,227,268,256]),import.meta.url)).default,LinkChartLayer:async()=>(await Q(async()=>{const{default:e}=await import("./LinkChartLayer-OZY9HNG2.js");return{default:e}},__vite__mapDeps([275,14,11,12,15,271,13,16,17,18,8,19,20,21,22,1,2,3,4,24,272,273]),import.meta.url)).default,MapImageLayer:async()=>(await Q(async()=>{const{default:e}=await import("./MapImageLayer-xRffXSX-.js");return{default:e}},__vite__mapDeps([276,277,232,222,233,51,49,50,12,11,15,122,234,14,168,193,167]),import.meta.url)).default,MapNotesLayer:async()=>(await Q(async()=>{const{default:e}=await import("./MapNotesLayer-BHtEJCHy.js");return{default:e}},__vite__mapDeps([278,57]),import.meta.url)).default,MediaLayer:async()=>(await Q(async()=>{const{default:e}=await import("./MediaLayer-m9OocZSx.js");return{default:e}},__vite__mapDeps([279,196,154,39,149,268,16,17]),import.meta.url)).default,OGCFeatureLayer:async()=>(await Q(async()=>{const{default:e}=await import("./OGCFeatureLayer-BBvSJBmW.js");return{default:e}},__vite__mapDeps([280,82,14,11,12,15,54,10,24,22,55]),import.meta.url)).default,OpenStreetMapLayer:async()=>(await Q(async()=>{const{default:e}=await import("./OpenStreetMapLayer-CoeTfKWj.js");return{default:e}},__vite__mapDeps([281,282]),import.meta.url)).default,OrientedImageryLayer:async()=>(await Q(async()=>{const{default:e}=await import("./OrientedImageryLayer-IxFwKmfm.js");return{default:e}},[],import.meta.url)).default,PointCloudLayer:async()=>(await Q(async()=>{const{default:e}=await import("./PointCloudLayer-C7M57Q2B.js");return{default:e}},__vite__mapDeps([283,252,226,227,224,253,254,229,89,256]),import.meta.url)).default,RouteLayer:async()=>(await Q(async()=>{const{default:e}=await import("./RouteLayer-Do-2lqaA.js");return{default:e}},__vite__mapDeps([284,226,227,200]),import.meta.url)).default,SceneLayer:async()=>(await Q(async()=>{const{default:e}=await import("./SceneLayer-v3DL8eJx.js");return{default:e}},__vite__mapDeps([285,286,231,222,40,86,39,87,149,287,37,43,79,46,32,92,31,45,41,42,27,44,47,38,288,252,226,227,224,253,254,229,129,251,255,267,268,256,103,101,90,33,104,105,106,68,91,169]),import.meta.url)).default,StreamLayer:async()=>(await Q(async()=>{const{default:e}=await import("./StreamLayer-Co4wFQ5g.js");return{default:e}},[],import.meta.url)).default,SubtypeGroupLayer:async()=>(await Q(async()=>{const{default:e}=await import("./SubtypeGroupLayer-BB_FNksE.js");return{default:e}},[],import.meta.url)).default,TileLayer:async()=>(await Q(async()=>{const{default:e}=await import("./TileLayer-Cl-RQGcK.js");return{default:e}},__vite__mapDeps([289,124,125,126,52,277,232,222,233,51,49,50,12,11,15,122,234,14,168]),import.meta.url)).default,UnknownLayer:async()=>(await Q(async()=>{const{default:e}=await import("./UnknownLayer-CMLbEjKF.js");return{default:e}},[],import.meta.url)).default,UnsupportedLayer:async()=>(await Q(async()=>{const{default:e}=await import("./UnsupportedLayer-DUymPO1g.js");return{default:e}},[],import.meta.url)).default,VectorTileLayer:async()=>(await Q(async()=>{const{default:e}=await import("./VectorTileLayer-D4YIGWs-.js");return{default:e}},__vite__mapDeps([290,124,125,126,52,224,115,113,63,111,73,34,35,60]),import.meta.url)).default,VideoLayer:async()=>(await Q(async()=>{const{default:e}=await import("./VideoLayer-KQUQDKmF.js");return{default:e}},__vite__mapDeps([291,205,39,41]),import.meta.url)).default,VoxelLayer:async()=>(await Q(async()=>{const{default:e}=await import("./VoxelLayer-Btrvg4rf.js");return{default:e}},__vite__mapDeps([292,252,226,227,224,253,254,229,267,268,86,39,87]),import.meta.url)).default,WFSLayer:async()=>(await Q(async()=>{const{default:e}=await import("./WFSLayer-C57iMh94.js");return{default:e}},__vite__mapDeps([293,24,22,108,54,10,11,12,109]),import.meta.url)).default,WMSLayer:async()=>(await Q(async()=>{const{default:e}=await Promise.resolve().then(()=>rHe);return{default:e}},void 0,import.meta.url)).default,WMTSLayer:async()=>(await Q(async()=>{const{default:e}=await import("./WMTSLayer-CIgnFt5C.js");return{default:e}},__vite__mapDeps([294,282,125,109]),import.meta.url)).default,WebTileLayer:async()=>(await Q(async()=>{const{default:e}=await import("./WebTileLayer-C8xWjEQc.js").then(t=>t.W);return{default:e}},[],import.meta.url)).default},ZWe=Symbol("WebScene");async function YWe(e){const t=[];for(const r of e.allLayers)if("beforeSave"in r&&typeof r.beforeSave=="function"){const n=r.beforeSave();n&&t.push(n)}await Promise.allSettled(t)}const JWe=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function $$t(e,t,r){let n=(e.messages??[]).filter(({type:i})=>i==="error").map(({name:i,message:s,details:o})=>new q(i,s,o));if(e.blockedRelativeUrls&&(n=n.concat(e.blockedRelativeUrls.map(i=>new q("url:unsupported",`Relative url '${i}' is not supported`)))),r){const{ignoreUnsupported:i,supplementalUnsupportedErrors:s=[],requiredPropertyChecksDisabled:o}=r;i&&(n=n.filter(({name:a})=>!(JWe.has(a)||s.includes(a)))),o&&(n=n.filter(a=>a.name!=="web-document-write:property-required"))}if(n.length>0)throw new q(t.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:n})}let Pi=class extends zk(Uk(kD(ID(doe(coe(Fk(Gx))))))){constructor(t){super(t),this.allLayers=new Vm({getCollections:()=>[this.layers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=ooe(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._debouncedSaveOperations=DE(async(r,n,i)=>{const{save:s,saveAs:o}=await Q(()=>import("./groupLayerUtils-DsnIgNvL.js"),__vite__mapDeps([295,228,226,227,224,229,253,254]),import.meta.url);switch(r){case Cu.SAVE:return s(this,n);case Cu.SAVE_AS:return o(this,i,n)}})}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([Se(()=>{let t=this.parent;for(;t&&"parent"in t&&t.parent;)t=t.parent;return t&&ZWe in t},t=>{const r="prevent-adding-tables";this.removeHandles(r),t&&(this.tables.removeAll(),this.addHandles(Ns(()=>this.tables,"before-add",n=>{n.preventDefault(),ie.getLogger(this).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")}),r))},Io),Se(()=>this.visible,this._onVisibilityChange.bind(this),Ni)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf("portalItem")===$t.USER}_writeLayers(t,r,n,i){const s=[];if(!t)return s;t.forEach(o=>{const a=gR(o,i.webmap?i.webmap.getLayerJSONFromResourceInfo(o):null,i);a!=null&&a.layerType&&s.push(a)}),r.layers=s}set portalItem(t){this._set("portalItem",t)}readPortalItem(t,r,n){const{itemId:i,layerType:s}=r;if(s==="GroupLayer"&&i)return new S0({id:i,portal:n==null?void 0:n.portal})}writePortalItem(t,r){t!=null&&t.id&&(r.itemId=t.id)}set visibilityMode(t){const r=this._get("visibilityMode")!==t;this._set("visibilityMode",t),r&&this._enforceVisibility(t,this.visible)}async beforeSave(){return YWe(this)}load(t){const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service"],layerModuleTypeMap:HWe},t).catch(n=>{if(ga(n),this.sourceIsPortalItem)throw n});return this.addResolvingPromise(r),Promise.resolve(this)}async loadAll(){return pF(this,t=>{t(this.layers,this.tables)})}async save(t){return this._debouncedSaveOperations(Cu.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(Cu.SAVE_AS,r,t)}layerAdded(t){t.visible&&this.visibilityMode==="exclusive"?this._turnOffOtherLayers(t):this.visibilityMode==="inherited"&&(t.visible=this.visible),this.hasHandles(t.uid)?console.error(`Layer read to Grouplayer: uid=${t.uid}`):this.addHandles(Se(()=>t.visible,r=>this._onChildVisibilityChange(t,r),Ni),t.uid)}layerRemoved(t){this.removeHandles(t.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(t){this.layers.forEach(r=>{r!==t&&(r.visible=!1)})}_enforceVisibility(t,r){if(!hs(this).initialized)return;const n=this.layers;let i=n.find(s=>s.visible);switch(t){case"exclusive":n.length&&!i&&(i=n.at(0),i.visible=!0),this._turnOffOtherLayers(i);break;case"inherited":n.forEach(s=>{s.visible=r})}}_onVisibilityChange(t){this.visibilityMode==="inherited"&&this.layers.forEach(r=>{r.visible=t})}_onChildVisibilityChange(t,r){switch(this.visibilityMode){case"exclusive":r?this._turnOffOtherLayers(t):this._isAnyLayerVisible()||(t.visible=!0);break;case"inherited":t.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some(t=>t.visible)}};c([p({readOnly:!0,dependsOn:[]})],Pi.prototype,"allLayers",void 0),c([p({readOnly:!0})],Pi.prototype,"allTables",void 0),c([p({json:{read:!0,write:!0}})],Pi.prototype,"blendMode",void 0),c([p()],Pi.prototype,"fullExtent",void 0),c([p({readOnly:!0})],Pi.prototype,"sourceIsPortalItem",null),c([p({json:{read:!1,write:{ignoreOrigin:!0}}})],Pi.prototype,"layers",void 0),c([ye("layers")],Pi.prototype,"_writeLayers",null),c([p({type:["GroupLayer"]})],Pi.prototype,"operationalLayerType",void 0),c([p({json:{origins:{"web-map":{read:!1,write:{overridePolicy(e,t,r){return{enabled:(e==null?void 0:e.type)==="Group Layer"&&(r==null?void 0:r.initiator)!==this}}}},"web-scene":{read:!1,write:!1}}}})],Pi.prototype,"portalItem",null),c([ue("web-map","portalItem",["itemId"])],Pi.prototype,"readPortalItem",null),c([ye("web-map","portalItem",{itemId:{type:String}})],Pi.prototype,"writePortalItem",null),c([p()],Pi.prototype,"spatialReference",void 0),c([p({json:{read:!1},readOnly:!0,value:"group"})],Pi.prototype,"type",void 0),c([p({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,t,r)=>{e!=="inherited"&&(t[r]=e)}}}}})],Pi.prototype,"visibilityMode",null),Pi=c([R("esri.layers.GroupLayer")],Pi);const Jde=Pi,KWe=Object.freeze(Object.defineProperty({__proto__:null,default:Jde},Symbol.toStringTag,{value:"Module"}));var FD={},Kde={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Kde);var DD=Kde.exports,cP={};const XWe=bye(x_e);var XH;function zD(){return XH||(XH=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=XWe}(cP)),cP}var QWe=DD;Object.defineProperty(FD,"__esModule",{value:!0});var Rj=FD.default=void 0,eqe=QWe(zD()),tqe=w;Rj=FD.default=(0,eqe.default)((0,tqe.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var VD={},rqe=DD;Object.defineProperty(VD,"__esModule",{value:!0});var Lj=VD.default=void 0,nqe=rqe(zD()),iqe=w;Lj=VD.default=(0,nqe.default)((0,iqe.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Xde={};function sqe(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}}return t.default=e,t}var Qde=sqe,cc={},dP,QH;function oqe(){if(QH)return dP;QH=1;function e(t){return t&&t.__esModule?t:{default:t}}return dP=e,dP}var X2,eZ;function aqe(){if(eZ)return X2;eZ=1;function e(){return X2=e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}return X2=e,X2}var pP,tZ;function lqe(){if(tZ)return pP;tZ=1;function e(t,r){if(t==null)return{};var n={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(r.indexOf(s)>=0)&&(n[s]=t[s]);return n}return pP=e,pP}var hP,rZ;function uqe(){if(rZ)return hP;rZ=1;var e=lqe();function t(r,n){if(r==null)return{};var i=e(r,n),s,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)s=a[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(i[s]=r[s])}return i}return hP=t,hP}var fP,nZ;function cqe(){if(nZ)return fP;nZ=1;function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}return fP=e,fP}var mP,iZ;function dqe(){if(iZ)return mP;iZ=1;function e(r,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function t(r,n,i){return n&&e(r.prototype,n),i&&e(r,i),r}return mP=t,mP}var R1,sZ;function pqe(){if(sZ)return R1;sZ=1;function e(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(i){return typeof i}:e=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e(r)}function t(r){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?R1=t=function(i){return e(i)}:R1=t=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":e(i)},t(r)}return R1=t,R1}var yP,oZ;function hqe(){if(oZ)return yP;oZ=1;function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return yP=e,yP}var gP,aZ;function fqe(){if(aZ)return gP;aZ=1;var e=pqe(),t=hqe();function r(n,i){return i&&(e(i)==="object"||typeof i=="function")?i:t(n)}return gP=r,gP}var Q2,lZ;function mqe(){if(lZ)return Q2;lZ=1;function e(t){return Q2=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(t)}return Q2=e,Q2}var e$,uZ;function yqe(){if(uZ)return e$;uZ=1;function e(t,r){return e$=e=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},e(t,r)}return e$=e,e$}var vP,cZ;function gqe(){if(cZ)return vP;cZ=1;var e=yqe();function t(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&e(r,n)}return vP=t,vP}var bP,dZ;function epe(){if(dZ)return bP;dZ=1;var e=function(){};return bP=e,bP}var wP={},_P,pZ;function Gk(){if(pZ)return _P;pZ=1;function e(t){return t&&t.__esModule?t:{default:t}}return _P=e,_P}var L1={},hZ;function vqe(){if(hZ)return L1;hZ=1;var e=Gk();Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=void 0;var t=e(I);e(epe());var r=function(s){s.index;var o=s.children;t.default.Children.count(o)},n=r;return L1.default=n,L1}var t$={},j1={},fZ;function tpe(){if(fZ)return j1;fZ=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.default=void 0;var e={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return j1.default=e,j1}var mZ;function bqe(){if(mZ)return t$;mZ=1;var e=Gk();Object.defineProperty(t$,"__esModule",{value:!0}),t$.default=n;var t=e(I),r=e(tpe());function n(i){var s=i.children,o=i.startIndex,a=i.startX,l=i.pageX,u=i.viewLength,d=i.resistance,h=t.default.Children.count(s)-1,f=o+(a-l)/u,y;return d?f<0?f=Math.exp(f*r.default.RESISTANCE_COEF)-1:f>h&&(f=h+1-Math.exp((h-f)*r.default.RESISTANCE_COEF)):f<0?(f=0,y=(f-o)*u+l):f>h&&(f=h,y=(f-o)*u+l),{index:f,startX:y}}return t$}var N1={},yZ;function wqe(){if(yZ)return N1;yZ=1;var e=Gk();Object.defineProperty(N1,"__esModule",{value:!0}),N1.default=void 0;var t=e(I),r=function(s,o){var a=!1,l=function(g){return g?g.key:"empty"};if(s.children.length&&o.children.length){var u=t.default.Children.map(s.children,l),d=u[s.index];if(d!=null){var h=t.default.Children.map(o.children,l),f=h[o.index];d===f&&(a=!0)}}return a},n=r;return N1.default=n,N1}var F1={},gZ;function _qe(){if(gZ)return F1;gZ=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.default=void 0;function e(r,n){var i=r%n;return i<0?i+n:i}var t=e;return F1.default=t,F1}var vZ;function xqe(){return vZ||(vZ=1,function(e){var t=Gk();Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return o.default}});var r=t(vqe()),n=t(bqe()),i=t(tpe()),s=t(wqe()),o=t(_qe())}(wP)),wP}var bZ;function Sqe(){if(bZ)return cc;bZ=1;var e=Qde,t=oqe();Object.defineProperty(cc,"__esModule",{value:!0}),cc.getDomTreeShapes=_,cc.findNativeHandler=S,cc.default=cc.SwipeableViewsContext=void 0;var r=t(aqe()),n=t(uqe()),i=t(cqe()),s=t(dqe()),o=t(fqe()),a=t(mqe()),l=t(gqe()),u=e(I);t(tee),t(epe());var d=xqe();function h(E,P,T,M){return E.addEventListener(P,T,M),{remove:function(){E.removeEventListener(P,T,M)}}}var f={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},y={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(P){return"translate(".concat(-P,"%, 0)")},"x-reverse":function(P){return"translate(".concat(P,"%, 0)")},y:function(P){return"translate(0, ".concat(-P,"%)")},"y-reverse":function(P){return"translate(0, ".concat(P,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function g(E,P){var T=P.duration,M=P.easeFunction,O=P.delay;return"".concat(E," ").concat(T," ").concat(M," ").concat(O)}function v(E,P){var T=y.rotationMatrix[P];return{pageX:T.x[0]*E.pageX+T.x[1]*E.pageY,pageY:T.y[0]*E.pageX+T.y[1]*E.pageY}}function b(E){return E.touches=[{pageX:E.pageX,pageY:E.pageY}],E}function _(E,P){for(var T=[];E&&E!==P&&E!==document.body&&!E.hasAttribute("data-swipeable");){var M=window.getComputedStyle(E);M.getPropertyValue("position")==="absolute"||M.getPropertyValue("overflow-x")==="hidden"?T=[]:(E.clientWidth>0&&E.scrollWidth>E.clientWidth||E.clientHeight>0&&E.scrollHeight>E.clientHeight)&&T.push({element:E,scrollWidth:E.scrollWidth,scrollHeight:E.scrollHeight,clientWidth:E.clientWidth,clientHeight:E.clientHeight,scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}),E=E.parentNode}return T}var x=null;function S(E){var P=E.domTreeShapes,T=E.pageX,M=E.startX,O=E.axis;return P.some(function(j){var N=T>=M;(O==="x"||O==="y")&&(N=!N);var L=Math.round(j[y.scrollPosition[O]]),z=L>0,B=L+j[y.clientLength[O]]<j[y.scrollLength[O]];return N&&B||!N&&z?(x=j.element,!0):!1})}var $=u.createContext();cc.SwipeableViewsContext=$;var C=function(E){(0,l.default)(P,E);function P(T){var M;return(0,i.default)(this,P),M=(0,o.default)(this,(0,a.default)(P).call(this,T)),M.rootNode=null,M.containerNode=null,M.ignoreNextScrollEvents=!1,M.viewLength=0,M.startX=0,M.lastX=0,M.vx=0,M.startY=0,M.isSwiping=void 0,M.started=!1,M.startIndex=0,M.transitionListener=null,M.touchMoveListener=null,M.activeSlide=null,M.indexCurrent=null,M.firstRenderTimeout=null,M.setRootNode=function(O){M.rootNode=O},M.setContainerNode=function(O){M.containerNode=O},M.setActiveSlide=function(O){M.activeSlide=O,M.updateHeight()},M.handleSwipeStart=function(O){var j=M.props.axis,N=v(O.touches[0],j);M.viewLength=M.rootNode.getBoundingClientRect()[y.length[j]],M.startX=N.pageX,M.lastX=N.pageX,M.vx=0,M.startY=N.pageY,M.isSwiping=void 0,M.started=!0;var L=window.getComputedStyle(M.containerNode),z=L.getPropertyValue("-webkit-transform")||L.getPropertyValue("transform");if(z&&z!=="none"){var B=z.split("(")[1].split(")")[0].split(","),U=window.getComputedStyle(M.rootNode),F=v({pageX:parseInt(B[4],10),pageY:parseInt(B[5],10)},j);M.startIndex=-F.pageX/(M.viewLength-parseInt(U.paddingLeft,10)-parseInt(U.paddingRight,10))||0}},M.handleSwipeMove=function(O){if(!M.started){M.handleTouchStart(O);return}if(!(x!==null&&x!==M.rootNode)){var j=M.props,N=j.axis,L=j.children,z=j.ignoreNativeScroll,B=j.onSwitching,U=j.resistance,F=v(O.touches[0],N);if(M.isSwiping===void 0){var D=Math.abs(F.pageX-M.startX),K=Math.abs(F.pageY-M.startY),le=D>K&&D>d.constant.UNCERTAINTY_THRESHOLD;if(!U&&(N==="y"||N==="y-reverse")&&(M.indexCurrent===0&&M.startX<F.pageX||M.indexCurrent===u.Children.count(M.props.children)-1&&M.startX>F.pageX)){M.isSwiping=!1;return}if(D>K&&O.preventDefault(),le===!0||K>d.constant.UNCERTAINTY_THRESHOLD){M.isSwiping=le,M.startX=F.pageX;return}}if(M.isSwiping===!0){O.preventDefault(),M.vx=M.vx*.5+(F.pageX-M.lastX)*.5,M.lastX=F.pageX;var he=(0,d.computeIndex)({children:L,resistance:U,pageX:F.pageX,startIndex:M.startIndex,startX:M.startX,viewLength:M.viewLength}),Ue=he.index,fe=he.startX;if(x===null&&!z){var Ge=_(O.target,M.rootNode),se=S({domTreeShapes:Ge,startX:M.startX,pageX:F.pageX,axis:N});if(se)return}fe?M.startX=fe:x===null&&(x=M.rootNode),M.setIndexCurrent(Ue);var we=function(){B&&B(Ue,"move")};(M.state.displaySameSlide||!M.state.isDragging)&&M.setState({displaySameSlide:!1,isDragging:!0},we),we()}}},M.handleSwipeEnd=function(){if(x=null,!!M.started&&(M.started=!1,M.isSwiping===!0)){var O=M.state.indexLatest,j=M.indexCurrent,N=O-j,L;Math.abs(M.vx)>M.props.threshold?M.vx>0?L=Math.floor(j):L=Math.ceil(j):Math.abs(N)>M.props.hysteresis?L=N>0?Math.floor(j):Math.ceil(j):L=O;var z=u.Children.count(M.props.children)-1;L<0?L=0:L>z&&(L=z),M.setIndexCurrent(L),M.setState({indexLatest:L,isDragging:!1},function(){M.props.onSwitching&&M.props.onSwitching(L,"end"),M.props.onChangeIndex&&L!==O&&M.props.onChangeIndex(L,O,{reason:"swipe"}),j===O&&M.handleTransitionEnd()})}},M.handleTouchStart=function(O){M.props.onTouchStart&&M.props.onTouchStart(O),M.handleSwipeStart(O)},M.handleTouchEnd=function(O){M.props.onTouchEnd&&M.props.onTouchEnd(O),M.handleSwipeEnd(O)},M.handleMouseDown=function(O){M.props.onMouseDown&&M.props.onMouseDown(O),O.persist(),M.handleSwipeStart(b(O))},M.handleMouseUp=function(O){M.props.onMouseUp&&M.props.onMouseUp(O),M.handleSwipeEnd(b(O))},M.handleMouseLeave=function(O){M.props.onMouseLeave&&M.props.onMouseLeave(O),M.started&&M.handleSwipeEnd(b(O))},M.handleMouseMove=function(O){M.props.onMouseMove&&M.props.onMouseMove(O),M.started&&M.handleSwipeMove(b(O))},M.handleScroll=function(O){if(M.props.onScroll&&M.props.onScroll(O),O.target===M.rootNode){if(M.ignoreNextScrollEvents){M.ignoreNextScrollEvents=!1;return}var j=M.state.indexLatest,N=Math.ceil(O.target.scrollLeft/O.target.clientWidth)+j;M.ignoreNextScrollEvents=!0,O.target.scrollLeft=0,M.props.onChangeIndex&&N!==j&&M.props.onChangeIndex(N,j,{reason:"focus"})}},M.updateHeight=function(){if(M.activeSlide!==null){var O=M.activeSlide.children[0];O!==void 0&&O.offsetHeight!==void 0&&M.state.heightLatest!==O.offsetHeight&&M.setState({heightLatest:O.offsetHeight})}},M.state={indexLatest:T.index,isDragging:!1,renderOnlyActive:!T.disableLazyLoading,heightLatest:0,displaySameSlide:!0},M.setIndexCurrent(T.index),M}return(0,s.default)(P,[{key:"componentDidMount",value:function(){var M=this;this.transitionListener=h(this.containerNode,"transitionend",function(O){O.target===M.containerNode&&M.handleTransitionEnd()}),this.touchMoveListener=h(this.rootNode,"touchmove",function(O){M.props.disabled||M.handleSwipeMove(O)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){M.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(M){var O=M.index;typeof O=="number"&&O!==this.props.index&&(this.setIndexCurrent(O),this.setState({displaySameSlide:(0,d.getDisplaySameSlide)(this.props,M),indexLatest:O}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var M=this;return{slideUpdateHeight:function(){M.updateHeight()}}}},{key:"setIndexCurrent",value:function(M){if(!this.props.animateTransitions&&this.indexCurrent!==M&&this.handleTransitionEnd(),this.indexCurrent=M,this.containerNode){var O=this.props.axis,j=y.transform[O](M*100);this.containerNode.style.WebkitTransform=j,this.containerNode.style.transform=j}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var M=this,O=this.props;O.action;var j=O.animateHeight,N=O.animateTransitions,L=O.axis,z=O.children,B=O.containerStyle,U=O.disabled;O.disableLazyLoading;var F=O.enableMouseEvents;O.hysteresis,O.ignoreNativeScroll,O.index,O.onChangeIndex,O.onSwitching,O.onTransitionEnd,O.resistance;var D=O.slideStyle,K=O.slideClassName,le=O.springConfig,he=O.style;O.threshold;var Ue=(0,n.default)(O,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),fe=this.state,Ge=fe.displaySameSlide,se=fe.heightLatest,we=fe.indexLatest,de=fe.isDragging,Y=fe.renderOnlyActive,ce=U?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},oe=!U&&F?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},X=(0,r.default)({},f.slide,D),$e,Pe;if(de||!N||Ge)$e="all 0s ease 0s",Pe="all 0s ease 0s";else if($e=g("transform",le),Pe=g("-webkit-transform",le),se!==0){var dt=", ".concat(g("height",le));$e+=dt,Pe+=dt}var We={height:null,WebkitFlexDirection:y.flexDirection[L],flexDirection:y.flexDirection[L],WebkitTransition:Pe,transition:$e};if(!Y){var Ye=y.transform[L](this.indexCurrent*100);We.WebkitTransform=Ye,We.transform=Ye}return j&&(We.height=se),u.createElement($.Provider,{value:this.getSwipeableViewsContext()},u.createElement("div",(0,r.default)({ref:this.setRootNode,style:(0,r.default)({},y.root[L],he)},Ue,ce,oe,{onScroll:this.handleScroll}),u.createElement("div",{ref:this.setContainerNode,style:(0,r.default)({},We,f.container,B),className:"react-swipeable-view-container"},u.Children.map(z,function(ot,Ht){if(Y&&Ht!==we)return null;var Tt,Lt=!0;return Ht===we&&(Lt=!1,j&&(Tt=M.setActiveSlide,X.overflowY="hidden")),u.createElement("div",{ref:Tt,style:X,className:K,"aria-hidden":Lt,"data-swipeable":"true"},ot)}))))}}]),P}(u.Component);C.displayName="ReactSwipableView",C.propTypes={},C.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var k=C;return cc.default=k,cc}(function(e){var t=Qde;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"SwipeableViewsContext",{enumerable:!0,get:function(){return r.SwipeableViewsContext}});var r=t(Sqe())})(Xde);const rpe=Nn(Xde);function $qe(e){return ar("MuiLinearProgress",e)}lr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const jj=4,Nj=$h`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Tqe=typeof Nj!="string"?yv`
        animation: ${Nj} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Fj=$h`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Mqe=typeof Fj!="string"?yv`
        animation: ${Fj} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Dj=$h`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Cqe=typeof Dj!="string"?yv`
        animation: ${Dj} 3s infinite linear;
      `:null,Eqe=e=>{const{classes:t,variant:r,color:n}=e,i={root:["root",`color${Ee(n)}`,r],dashed:["dashed",`dashedColor${Ee(n)}`],bar1:["bar",`barColor${Ee(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar",r!=="buffer"&&`barColor${Ee(n)}`,r==="buffer"&&`color${Ee(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return vr(i,$qe,t)},BD=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Sx(e.palette[t].main,.62):xx(e.palette[t].main,.5),kqe=Ne("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Ee(r.color)}`],t[r.variant]]}})(Ut(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:BD(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Iqe=Ne("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${Ee(r.color)}`]]}})(Ut(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>{const r=BD(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),Cqe||{animation:`${Dj} 3s infinite linear`}),Oqe=Ne("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${Ee(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(Ut(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${jj}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${jj}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Tqe||{animation:`${Nj} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Pqe=Ne("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${Ee(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(Ut(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:BD(e,t),transition:`transform .${jj}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Mqe||{animation:`${Fj} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Aqe=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate",...u}=n,d={...n,color:s,variant:l},h=Eqe(d),f=kE(),y={},g={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){y["aria-valuenow"]=Math.round(o),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let v=o-100;f&&(v=-v),g.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;f&&(v=-v),g.bar2.transform=`translateX(${v}%)`}return w.jsxs(kqe,{className:qe(h.root,i),ownerState:d,role:"progressbar",...y,ref:r,...u,children:[l==="buffer"?w.jsx(Iqe,{className:h.dashed,ownerState:d}):null,w.jsx(Oqe,{className:h.bar1,ownerState:d,style:g.bar1}),l==="determinate"?null:w.jsx(Pqe,{className:h.bar2,ownerState:d,style:g.bar2})]})});function Rqe(e){return ar("MuiMobileStepper",e)}lr("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);const Lqe=e=>{const{classes:t,position:r}=e,n={root:["root",`position${Ee(r)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return vr(n,Rqe,t)},jqe=Ne(Bi,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${Ee(r.position)}`]]}})(Ut(({theme:e})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(e.vars||e).palette.background.default,padding:8,variants:[{props:({position:t})=>t==="top"||t==="bottom",style:{position:"fixed",left:0,right:0,zIndex:(e.vars||e).zIndex.mobileStepper}},{props:{position:"top"},style:{top:0}},{props:{position:"bottom"},style:{bottom:0}}]}))),Nqe=Ne("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(e,t)=>t.dots})({variants:[{props:{variant:"dots"},style:{display:"flex",flexDirection:"row"}}]}),Fqe=Ne("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:e=>Pee(e)&&e!=="dotActive",overridesResolver:(e,t)=>{const{dotActive:r}=e;return[t.dot,r&&t.dotActive]}})(Ut(({theme:e})=>({variants:[{props:{variant:"dots"},style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"}},{props:{variant:"dots",dotActive:!0},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}))),Dqe=Ne(Aqe,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(e,t)=>t.progress})({variants:[{props:{variant:"progress"},style:{width:"50%"}}]}),rC=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiMobileStepper"}),{activeStep:i=0,backButton:s,className:o,LinearProgressProps:a,nextButton:l,position:u="bottom",steps:d,variant:h="dots",...f}=n,y={...n,activeStep:i,position:u,variant:h};let g;h==="progress"&&(d===1?g=100:g=Math.ceil(i/(d-1)*100));const v=Lqe(y);return w.jsxs(jqe,{square:!0,elevation:0,className:qe(v.root,o),ref:r,ownerState:y,...f,children:[s,h==="text"&&w.jsxs(I.Fragment,{children:[i+1," / ",d]}),h==="dots"&&w.jsx(Nqe,{ownerState:y,className:v.dots,children:[...new Array(d)].map((b,_)=>w.jsx(Fqe,{className:qe(v.dot,_===i&&v.dotActive),ownerState:y,dotActive:_===i},_))}),h==="progress"&&w.jsx(Dqe,{ownerState:y,className:v.progress,variant:"determinate",value:g,...a}),l]})}),zqe=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function zj(e){return e!=null&&zqe.some(([t,r])=>e>=t&&e<=r)}const Vqe={visible:"visibleSublayers"};let Dc=class extends Be{constructor(t){super(t),this.scale=0}set layer(t){this._get("layer")!==t&&(this._set("layer",t),this.removeHandles("layer"),t&&this.addHandles([t.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),t.on("wms-sublayer-update",r=>this.notifyChange(Vqe[r.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:t})=>t).map(({name:t})=>t).join()}get version(){this.commitProperty("layers");const t=this.layer;return t&&t.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:t,scale:r}=this,n=t==null?void 0:t.sublayers,i=[],s=o=>{const{minScale:a,maxScale:l,sublayers:u,visible:d}=o;d&&(r===0||(a===0||r<=a)&&(l===0||r>=l))&&(u?u.forEach(s):i.push(o))};return n==null||n.forEach(s),i}toJSON(){const{layer:t,layers:r}=this,{imageFormat:n,imageTransparency:i,version:s}=t;return{format:n,request:"GetMap",service:"WMS",styles:"",transparent:i?"TRUE":"FALSE",version:s,layers:r}}};c([p()],Dc.prototype,"layer",null),c([p({readOnly:!0})],Dc.prototype,"layers",null),c([p({type:Number})],Dc.prototype,"scale",void 0),c([p({readOnly:!0})],Dc.prototype,"version",null),c([p({readOnly:!0})],Dc.prototype,"visibleSublayers",null),Dc=c([R("esri.layers.support.ExportWMSImageParameters")],Dc);async function Bqe(e,t,r){let n;try{n=await createImageBitmap(e)}catch(i){throw new q("request:server",`Unable to load ${t}`,{url:t,error:i})}return _r(r),n}async function C$t(e,t,r,n,i){let s;try{s=await createImageBitmap(e)}catch(o){throw new q("request:server",`Unable to load tile ${t}/${r}/${n}`,{error:o,level:t,row:r,col:n})}return _r(i),s}var eM;let Uqe=0,mn=eM=class extends yd(G6){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([Ns(()=>this.sublayers,"after-add",({item:t})=>{t.parent=this,t.layer=this.layer},Ni),Ns(()=>this.sublayers,"after-remove",({item:t})=>{t.layer=t.parent=null},Ni),Se(()=>this.sublayers,(t,r)=>{if(r)for(const n of r)n.layer=n.parent=null;if(t)for(const n of t)n.parent=this,n.layer=this.layer},Ni),Se(()=>this.layer,t=>{if(this.sublayers)for(const r of this.sublayers)r.layer=t},Ni)])}get id(){return this._get("id")??Uqe++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return Xr(Ce.ofType(eM),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){var t,r,n;const e=new eM;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=((t=this.fullExtents)==null?void 0:t.map(i=>i.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=(r=this.sublayers)==null?void 0:r.map(i=>i.clone())),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=(n=this.spatialReferences)==null?void 0:n.map(i=>i)),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const r=this.layer;this._get(e)!==t&&(this._set(e,t),r&&r.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};c([p()],mn.prototype,"description",void 0),c([p({readOnly:!0})],mn.prototype,"dimensions",void 0),c([p({type:Rt,json:{name:"extent"}})],mn.prototype,"fullExtent",void 0),c([p()],mn.prototype,"fullExtents",void 0),c([p({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],mn.prototype,"id",null),c([p({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],mn.prototype,"legendUrl",void 0),c([ue("legendUrl",["legendUrl","legendURL"])],mn.prototype,"readLegendUrl",null),c([p({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],mn.prototype,"legendEnabled",void 0),c([p()],mn.prototype,"layer",void 0),c([p()],mn.prototype,"maxScale",void 0),c([p()],mn.prototype,"minScale",void 0),c([p({readOnly:!0})],mn.prototype,"effectiveScaleRange",null),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],mn.prototype,"name",void 0),c([p()],mn.prototype,"parent",void 0),c([p({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],mn.prototype,"popupEnabled",void 0),c([p({type:Boolean,json:{write:{ignoreOrigin:!0}}})],mn.prototype,"queryable",void 0),c([p()],mn.prototype,"sublayers",void 0),c([tr("sublayers")],mn.prototype,"castSublayers",null),c([p({type:[Number],json:{read:{source:"spatialReferences"}}})],mn.prototype,"spatialReferences",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],mn.prototype,"title",void 0),c([p({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],mn.prototype,"visible",null),mn=eM=c([R("esri.layers.support.WMSSublayer")],mn);const Vj=mn,wZ={84:4326,83:4269,27:4267};function Gqe(e){if(!e)return null;const t={idCounter:-1};typeof e=="string"&&(e=new DOMParser().parseFromString(e,"text/xml"));const r=e.documentElement;if(r.nodeName==="ServiceExceptionReport"){const D=Array.prototype.slice.call(r.childNodes).map(K=>K.textContent).join(`\r
`);throw new q("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",D)}const n=us("Capability",r),i=us("Service",r),s=n&&us("Request",n);if(!n||!i||!s)return null;const o=us("Layer",n);if(!o)return null;const a=r.nodeName==="WMS_Capabilities"||r.nodeName==="WMT_MS_Capabilities"?r.getAttribute("version"):"1.3.0",l=xu("Title",i,"")||xu("Name",i,""),u=xu("AccessConstraints",i,""),d=/^none$/i.test(u)?"":u,h=xu("Abstract",i,""),f=parseInt(xu("MaxWidth",i,"5000"),10),y=parseInt(xu("MaxHeight",i,"5000"),10),g=xZ(s,"GetMap"),v=_Z(s,"GetMap"),b=iw(o,a,t);if(!b)return null;let _,x=0;const S=Array.prototype.slice.call(n.childNodes),$=b.sublayers??[],C=D=>{D!=null&&$.push(D)};S.forEach(D=>{D.nodeName==="Layer"&&(x===0?_=D:(x===1&&b.name&&(b.name="",C(iw(_,a,t))),C(iw(D,a,t))),x++)});let k=b.sublayers,E=b.extent;const P=b.fullExtents??[];if(k||(k=[]),k.length===0&&k.push(b),!E){const D=new Rt(k[0].extent);b.extent=D.toJSON(),E=b.extent}const T=b.spatialReferences.length>0?b.spatialReferences:npe(b),M=_Z(s,"GetFeatureInfo"),O=M?xZ(s,"GetFeatureInfo"):null,j=ipe(k),N=b.minScale||0,L=b.maxScale||0,z=b.dimensions??[],B=j.reduce((D,K)=>D.concat(K.dimensions??[]),[]),U=z.concat(B).filter(ope);let F=null;if(U.length){const D=U.map(K=>{const{extent:le}=K;return Hqe(le)?le.map(he=>he.getTime()):le==null?void 0:le.map(he=>[he.min.getTime(),he.max.getTime()])}).flat(2).filter(zi);F={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...D),Math.max(...D)]}}return{copyright:d,description:h,dimensions:z,extent:E,fullExtents:P,featureInfoFormats:O,featureInfoUrl:M,mapUrl:v,maxWidth:f,maxHeight:y,maxScale:L,minScale:N,layers:j,spatialReferences:T,supportedImageFormatTypes:g,timeInfo:F,title:l,version:a}}function Wqe(e){const t=e.filter(r=>r.popupEnabled&&r.name&&r.queryable);return t.length?t.map(({name:r})=>r).join():null}function npe(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const r=npe(t);if(r.length>0)return r}return[]}function ipe(e){var r;let t=[];for(const n of e)t.push(n),(r=n.sublayers)!=null&&r.length&&(t=t.concat(ipe(n.sublayers)),delete n.sublayers);return t}function tM(e,t,r){return t.getAttribute(e)??r}function qqe(e,t,r,n){const i=us(e,r);return i?tM(t,i,n):n}function us(e,t){for(let r=0;r<t.childNodes.length;r++){const n=t.childNodes[r];if(spe(n)&&n.nodeName===e)return n}return null}function rM(e,t){if(t==null)return[];const r=[];for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n];spe(i)&&i.nodeName===e&&r.push(i)}return r}function xu(e,t,r){var n;return((n=us(e,t))==null?void 0:n.textContent)??r}function D1(e,t,r){if(!e)return null;const n=parseFloat(e.getAttribute("minx")),i=parseFloat(e.getAttribute("miny")),s=parseFloat(e.getAttribute("maxx")),o=parseFloat(e.getAttribute("maxy"));let a,l,u,d;r?(a=isNaN(i)?-Number.MAX_VALUE:i,l=isNaN(n)?-Number.MAX_VALUE:n,u=isNaN(o)?Number.MAX_VALUE:o,d=isNaN(s)?Number.MAX_VALUE:s):(a=isNaN(n)?-Number.MAX_VALUE:n,l=isNaN(i)?-Number.MAX_VALUE:i,u=isNaN(s)?Number.MAX_VALUE:s,d=isNaN(o)?Number.MAX_VALUE:o);const h=new Qe({wkid:t});return new Rt({xmin:a,ymin:l,xmax:u,ymax:d,spatialReference:h})}function _Z(e,t){const r=us(t,e);if(r){const n=us("DCPType",r);if(n){const i=us("HTTP",n);if(i){const s=us("Get",i);if(s){let o=qqe("OnlineResource","xlink:href",s,null);if(o)return o.indexOf("&")===o.length-1&&(o=o.substring(0,o.length-1)),Yqe(o,["service","request"])}}}}return null}function xZ(e,t){const r=rM("Operation",e);if(!r.length)return rM("Format",us(t,e)).map(({textContent:i})=>i).filter(zi);const n=[];for(const i of r)if(i.getAttribute("name")===t){const s=rM("Format",i);for(const{textContent:o}of s)o!=null&&n.push(o)}return n}function SZ(e,t,r){const n=us(t,e);if(!n)return r;const{textContent:i}=n;if(i==null||i==="")return r;const s=Number(i);return isNaN(s)?r:s}function iw(e,t,r){if(!e)return null;const n={id:r.idCounter++,fullExtents:[],parentLayerId:null,queryable:e.getAttribute("queryable")==="1",spatialReferences:[],sublayers:null},i=us("LatLonBoundingBox",e),s=us("EX_GeographicBoundingBox",e);let o=null;i&&(o=D1(i,4326)),s&&(o=new Rt(0,0,0,0,new Qe({wkid:4326})),o.xmin=parseFloat(xu("westBoundLongitude",s,"0")),o.ymin=parseFloat(xu("southBoundLatitude",s,"0")),o.xmax=parseFloat(xu("eastBoundLongitude",s,"0")),o.ymax=parseFloat(xu("northBoundLatitude",s,"0"))),i||s||(o=new Rt(-180,-90,180,90,new Qe({wkid:4326}))),n.minScale=SZ(e,"MaxScaleDenominator",0),n.maxScale=SZ(e,"MinScaleDenominator",0);const a=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach(l=>{var u;if(l.nodeName==="Name")n.name=l.textContent||"";else if(l.nodeName==="Title")n.title=l.textContent||"";else if(l.nodeName==="Abstract")n.description=l.textContent||"";else if(l.nodeName==="BoundingBox"){const d=l.getAttribute(a);if(d&&d.indexOf("EPSG:")===0){const f=parseInt(d.substring(5),10);f===0||isNaN(f)||o||(o=t==="1.3.0"?D1(l,f,zj(f)):D1(l,f))}const h=d==null?void 0:d.indexOf(":");if(h&&h>-1){let f=parseInt(d.substring(h+1,d.length),10);f===0||isNaN(f)||(f=wZ[f]??f);const y=t==="1.3.0"?D1(l,f,zj(f)):D1(l,f);y&&n.fullExtents&&n.fullExtents.push(y)}}else if(l.nodeName===a)(((u=l.textContent)==null?void 0:u.split(" "))??[]).forEach(d=>{const h=d.includes(":")?parseInt(d.split(":")[1],10):parseInt(d,10);if(h!==0&&!isNaN(h)){const f=wZ[h]??h;n.spatialReferences.includes(f)||n.spatialReferences.push(f)}});else if(l.nodeName!=="Style"||n.legendUrl){if(l.nodeName==="Layer"){const d=iw(l,t,r);d&&(d.parentLayerId=n.id,n.sublayers||(n.sublayers=[]),n.sublayers.push(d))}}else{const d=us("LegendURL",l);if(d){const h=us("OnlineResource",d);h&&(n.legendUrl=h.getAttribute("xlink:href"))}}}),n.extent=o==null?void 0:o.toJSON(),n.dimensions=rM("Dimension",e).filter(l=>l.getAttribute("name")&&l.getAttribute("units")&&l.textContent).map(l=>{const u=l.getAttribute("name"),d=l.getAttribute("units"),h=l.textContent,f=l.getAttribute("unitSymbol")??void 0,y=l.getAttribute("default")??void 0,g=tM("default",l,"0")!=="0",v=tM("nearestValue",l,"0")!=="0",b=tM("current",l,"0")!=="0";return ope({name:u,units:d})?{name:"time",units:"ISO8601",extent:MZ(h),default:MZ(y),multipleValues:g,nearestValue:v,current:b}:Zqe({name:u,units:d})?{name:"elevation",units:d,extent:$Z(h),unitSymbol:f,default:$Z(y),multipleValues:g,nearestValue:v}:{name:u,units:d,extent:TZ(h),unitSymbol:f,default:TZ(y),multipleValues:g,nearestValue:v}}),n}function Hqe(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function spe(e){return e.nodeType===Node.ELEMENT_NODE}function Zqe(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function ope(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function Yqe(e,t){const r=[],n=$i(e);for(const i in n.query)n.query.hasOwnProperty(i)&&(t.includes(i.toLowerCase())||r.push(i+"="+n.query[i]));return n.path+(r.length?"?"+r.join("&"):"")}function $Z(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(n=>{const i=n.split("/");return i.length<2?null:{min:parseFloat(i[0]),max:parseFloat(i[1]),resolution:i.length>=3&&i[2]!=="0"?parseFloat(i[2]):void 0}}).filter(zi):r.map(n=>parseFloat(n))}function TZ(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(n=>{const i=n.split("/");return i.length<2?null:{min:i[0],max:i[1],resolution:i.length>=3&&i[2]!=="0"?i[2]:void 0}}).filter(zi):r}function MZ(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(n=>{const i=n.split("/");return i.length<2?null:{min:xP(i[0]),max:xP(i[1]),resolution:i.length>=3&&i[2]!=="0"?Jqe(i[2]):void 0}}).filter(zi):r.map(n=>xP(n))}function xP(e){return ft.fromISO(e,{zone:_i.utcInstance}).toJSDate()}function Jqe(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,r=e.match(t);return r?{years:zy(r[1]),months:zy(r[2]),days:zy(r[3]),hours:zy(r[4]),minutes:zy(r[5]),seconds:zy(r[6])}:null}function zy(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,r=e.match(t);if(!r)return 0;const n=r[0].replace(",",".");return Number(n)}function SP(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const Kqe="0000-01-01T00:00:00Z",Xqe="9999-12-31T23:59:59Z";function CZ(e){if(!e||e.isAllTime||e.isEmpty)return;const{start:t,end:r}=e;return t&&r&&t.getTime()===r.getTime()?`${SP(t)}`:`${t?SP(t):Kqe}/${r?SP(r):Xqe}`}const EZ=new Set([102100,3857,102113,900913]),Qqe=new Set([3395,54004]);function eHe(e,t){let r=e.wkid;return t==null?r:(r!=null&&t.includes(r)||!e.latestWkid||(r=e.latestWkid),r!=null&&EZ.has(r)?t.find(n=>EZ.has(n))||t.find(n=>Qqe.has(n))||102100:r)}const $P=new kt({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function kZ(e){return e==="text/html"}function IZ(e){return e==="text/plain"}let At=class extends zk(pde(ude(Uk(kD(ID(Fk(Gx))))))){constructor(...t){super(...t),this.allSublayers=new Vm({getCollections:()=>[this.sublayers],getChildrenFunction:r=>r.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([Ns(()=>this.sublayers,"after-add",({item:r})=>{r.parent=r.layer=this},Ni),Ns(()=>this.sublayers,"after-remove",({item:r})=>{r.layer=r.parent=null},Ni),Se(()=>this.sublayers,(r,n)=>{if(n)for(const i of n)i.layer=i.parent=null;if(r)for(const i of r)i.parent=i.layer=this},Ni)])}normalizeCtorArgs(t,r){return typeof t=="string"?{url:t,...r}:t}destroy(){this.allSublayers.destroy()}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},t).catch(ga).then(()=>this._fetchService(r))),Promise.resolve(this)}readFullExtentFromItemOrMap(t,r){const n=r.extent;return n?new Rt({xmin:n[0][0],ymin:n[0][1],xmax:n[1][0],ymax:n[1][1]}):null}writeFullExtent(t,r){r.extent=[[t.xmin,t.ymin],[t.xmax,t.ymax]]}get featureInfoFormat(){return this.featureInfoFormats==null?null:this.featureInfoFormats.find(kZ)??this.featureInfoFormats.find(IZ)??null}set featureInfoFormat(t){t==null?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(kZ(t)||IZ(t))&&this._override("featureInfoFormat",t)}readImageFormat(t,r){const n=r.supportedImageFormatTypes;return n&&n.includes("image/png")?"image/png":n&&n[0]}readSpatialReferenceFromItemOrDocument(t,r){return new Qe(r.spatialReferences[0])}writeSpatialReferences(t,r){var i;const n=(i=this.spatialReference)==null?void 0:i.wkid;t&&n?(r.spatialReferences=t.filter(s=>s!==n),r.spatialReferences.unshift(n)):r.spatialReferences=t}readSublayersFromItemOrMap(t,r,n){return OZ(r.layers,n,r.visibleLayers)}readSublayers(t,r,n){return OZ(r.layers,n)}writeSublayers(t,r,n,i){var a,l;r.layers=[];const s=new Map,o=t.flatten(({sublayers:u})=>u??[]);for(const u of o)if(typeof((a=u.parent)==null?void 0:a.id)=="number"){const d=s.get(u.parent.id);d!=null?d.push(u.id):s.set(u.parent.id,[u.id])}for(const u of o){const d={sublayer:u,...i},h=u.write({parentLayerId:typeof((l=u.parent)==null?void 0:l.id)=="number"?u.parent.id:-1},d);if(s.has(u.id)&&(h.sublayerIds=s.get(u.id)),!u.sublayers&&u.name){const f=u.write({},d);delete f.id,r.layers.push(f)}}r.visibleLayers=o.filter(({visible:u,sublayers:d})=>u&&!d).map(({name:u})=>u).toArray()}set url(t){if(!t)return void this._set("url",t);const{path:r,query:n}=$i(t);for(const s in n)/^(request|service)$/i.test(s)&&delete n[s];const i=Sw(r,n??{});this._set("url",i)}createExportImageParameters(t,r,n,i){const s=(i==null?void 0:i.pixelRatio)??1,o=GH({extent:t,width:r})*s,a=new Dc({layer:this,scale:o}),{xmin:l,ymin:u,xmax:d,ymax:h,spatialReference:f}=t,y=eHe(f,this.spatialReferences),g=this.version==="1.3.0"&&zj(y)?`${u},${l},${h},${d}`:`${l},${u},${d},${h}`,v=a.toJSON(),b=this.version==="1.3.0"?"crs":"srs";return{bbox:g,[b]:y==null||isNaN(y)?void 0:"EPSG:"+y,...v}}async fetchImage(t,r,n,i){const s=this.mapUrl,o=this.createExportImageParameters(t,r,n,i);if(!o.layers){const u=document.createElement("canvas");return u.width=r,u.height=n,u}const a=CZ(i==null?void 0:i.timeExtent),l={responseType:"image",query:this._mixCustomParameters({width:r,height:n,...o,time:a,...this.refreshParameters}),signal:i==null?void 0:i.signal};return yr(s??"",l).then(u=>u.data)}async fetchImageBitmap(t,r,n,i){const s=this.mapUrl??"",o=this.createExportImageParameters(t,r,n,i);if(!o.layers){const d=document.createElement("canvas");return d.width=r,d.height=n,d}const a=CZ(i==null?void 0:i.timeExtent),l={responseType:"blob",query:this._mixCustomParameters({width:r,height:n,...o,time:a,...this.refreshParameters}),signal:i==null?void 0:i.signal},{data:u}=await yr(s,l);return Bqe(u,s,i==null?void 0:i.signal)}fetchFeatureInfo(t,r,n,i,s){const o=GH({extent:t,width:r}),a=new Dc({layer:this,scale:o}),l=Wqe(a.visibleSublayers);if(this.featureInfoUrl==null||l==null)return Promise.resolve([]);if(this.fetchFeatureInfoFunction==null&&this.featureInfoFormat==null)return Promise.resolve([]);const u=this.version==="1.3.0"?{I:i,J:s}:{x:i,y:s},d={query_layers:l,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:r,height:n,...u},h={...this.createExportImageParameters(t,r,n),...d},f=this._mixCustomParameters(h);return this.fetchFeatureInfoFunction!=null?this.fetchFeatureInfoFunction(f):this._defaultFetchFeatureInfoFunction(Sw(this.featureInfoUrl,f))}findSublayerById(t){return this.allSublayers.find(r=>r.id===t)}findSublayerByName(t){return this.allSublayers.find(r=>r.name===t)}serviceSupportsSpatialReference(t){return JRe(this.url)||this.spatialReferences!=null&&this.spatialReferences.some(r=>{const n=r===900913?Qe.WebMercator:new Qe({wkid:r});return jn(n,t)})}_defaultFetchFeatureInfoFunction(t){const r=document.createElement("iframe");r.src=dTe(t),r.style.border="none",r.style.margin="0",r.style.width="100%",r.setAttribute("sandbox","");const n=new Ph({title:this.title,content:r}),i=new Uo({sourceLayer:this,popupTemplate:n});return Promise.resolve([i])}async _fetchService(t){var r;if(!this.resourceInfo&&((r=this.parsedUrl)!=null&&r.path)){const{path:n,query:i}=this.parsedUrl,{data:s}=await yr(n,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...i,...this.customParameters},responseType:"xml",signal:t});this.resourceInfo=Gqe(s)}if(this.parsedUrl){const n=new gm(this.parsedUrl.path),{httpsDomains:i}=Ft.request;n.scheme!=="https"||n.port&&n.port!=="443"||!n.host||i.includes(n.host)||i.push(n.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(t){if(!this.customLayerParameters&&!this.customParameters)return t;const r={...this.customParameters,...this.customLayerParameters};for(const n in r)t[n.toLowerCase()]=r[n];return t}};function tHe(e,t){return e.some(r=>{for(const n in r)if(bre(r,n,null,t))return!0;return!1})}function OZ(e,t,r){e=e??[];const n=new Map;e.every(s=>s.id==null)&&(e=W(e)).forEach((s,o)=>s.id=o);for(const s of e){const o=new Vj;o.read(s,t),r&&!r.includes(o.name)&&(o.visible=!1),n.set(o.id,o)}const i=[];for(const s of e){const o=s.id!=null?n.get(s.id):null;if(o)if(s.parentLayerId!=null&&s.parentLayerId>=0){const a=n.get(s.parentLayerId);if(!a)continue;a.sublayers||(a.sublayers=new Ce),a.sublayers.push(o)}else i.push(o)}return i}c([p({readOnly:!0})],At.prototype,"allSublayers",void 0),c([p({json:{type:Object,write:!0}})],At.prototype,"customParameters",void 0),c([p({json:{type:Object,write:!0}})],At.prototype,"customLayerParameters",void 0),c([p({type:String,json:{write:!0}})],At.prototype,"copyright",void 0),c([p()],At.prototype,"description",void 0),c([p({readOnly:!0})],At.prototype,"dimensions",void 0),c([p({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],At.prototype,"fullExtent",void 0),c([ue(["web-document","portal-item"],"fullExtent",["extent"])],At.prototype,"readFullExtentFromItemOrMap",null),c([ye(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],At.prototype,"writeFullExtent",null),c([p()],At.prototype,"fullExtents",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],At.prototype,"featureInfoFormat",null),c([p({type:[String],readOnly:!0})],At.prototype,"featureInfoFormats",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],At.prototype,"featureInfoUrl",void 0),c([p()],At.prototype,"fetchFeatureInfoFunction",void 0),c([p({type:String,json:{origins:{"web-document":{default:"image/png",type:$P.jsonValues,read:{reader:$P.read,source:"format"},write:{writer:$P.write,target:"format"}}}}})],At.prototype,"imageFormat",void 0),c([ue("imageFormat",["supportedImageFormatTypes"])],At.prototype,"readImageFormat",null),c([p({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],At.prototype,"imageMaxHeight",void 0),c([p({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],At.prototype,"imageMaxWidth",void 0),c([p()],At.prototype,"imageTransparency",void 0),c([p(Gce)],At.prototype,"legendEnabled",void 0),c([p({type:["show","hide","hide-children"]})],At.prototype,"listMode",void 0),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],At.prototype,"mapUrl",void 0),c([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],At.prototype,"isReference",void 0),c([p({type:["WMS"]})],At.prototype,"operationalLayerType",void 0),c([p()],At.prototype,"resourceInfo",void 0),c([p({type:Qe,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],At.prototype,"spatialReference",void 0),c([ue(["web-document","portal-item"],"spatialReference",["spatialReferences"])],At.prototype,"readSpatialReferenceFromItemOrDocument",null),c([p({type:[mr],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],At.prototype,"spatialReferences",void 0),c([ye(["web-document","portal-item"],"spatialReferences")],At.prototype,"writeSpatialReferences",null),c([p({type:Ce.ofType(Vj),json:{write:{target:"layers",overridePolicy(e,t,r){if(tHe(this.allSublayers,r))return{ignoreOrigin:!0}}}}})],At.prototype,"sublayers",void 0),c([ue(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],At.prototype,"readSublayersFromItemOrMap",null),c([ue("service","sublayers",["layers"])],At.prototype,"readSublayers",null),c([ye("sublayers",{layers:{type:[Vj]},visibleLayers:{type:[String]}})],At.prototype,"writeSublayers",null),c([p({json:{read:!1},readOnly:!0,value:"wms"})],At.prototype,"type",void 0),c([p(Uce)],At.prototype,"url",null),c([p({type:String,json:{write:{ignoreOrigin:!0}}})],At.prototype,"version",void 0),At=c([R("esri.layers.WMSLayer")],At);const Bj=At,rHe=Object.freeze(Object.defineProperty({__proto__:null,default:Bj},Symbol.toStringTag,{value:"Module"}));function nHe(e){return ar("MuiCollapse",e)}lr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const iHe=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return vr(n,nHe,r)},sHe=Ne("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Ut(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),oHe=Ne("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),aHe=Ne("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Uj=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:u,in:d,onEnter:h,onEntered:f,onEntering:y,onExit:g,onExited:v,onExiting:b,orientation:_="vertical",style:x,timeout:S=Eee.standard,TransitionComponent:$=Dl,...C}=n,k={...n,orientation:_,collapsedSize:a},E=iHe(k),P=Mh(),T=gee(),M=I.useRef(null),O=I.useRef(),j=typeof a=="number"?`${a}px`:a,N=_==="horizontal",L=N?"width":"height",z=I.useRef(null),B=js(r,z),U=se=>we=>{if(se){const de=z.current;we===void 0?se(de):se(de,we)}},F=()=>M.current?M.current[N?"clientWidth":"clientHeight"]:0,D=U((se,we)=>{M.current&&N&&(M.current.style.position="absolute"),se.style[L]=j,h&&h(se,we)}),K=U((se,we)=>{const de=F();M.current&&N&&(M.current.style.position="");const{duration:Y,easing:ce}=W0({style:x,timeout:S,easing:u},{mode:"enter"});if(S==="auto"){const oe=P.transitions.getAutoHeightDuration(de);se.style.transitionDuration=`${oe}ms`,O.current=oe}else se.style.transitionDuration=typeof Y=="string"?Y:`${Y}ms`;se.style[L]=`${de}px`,se.style.transitionTimingFunction=ce,y&&y(se,we)}),le=U((se,we)=>{se.style[L]="auto",f&&f(se,we)}),he=U(se=>{se.style[L]=`${F()}px`,g&&g(se)}),Ue=U(v),fe=U(se=>{const we=F(),{duration:de,easing:Y}=W0({style:x,timeout:S,easing:u},{mode:"exit"});if(S==="auto"){const ce=P.transitions.getAutoHeightDuration(we);se.style.transitionDuration=`${ce}ms`,O.current=ce}else se.style.transitionDuration=typeof de=="string"?de:`${de}ms`;se.style[L]=j,se.style.transitionTimingFunction=Y,b&&b(se)}),Ge=se=>{S==="auto"&&T.start(O.current||0,se),i&&i(z.current,se)};return w.jsx($,{in:d,onEnter:D,onEntered:le,onEntering:K,onExit:he,onExited:Ue,onExiting:fe,addEndListener:Ge,nodeRef:z,timeout:S==="auto"?null:S,...C,children:(se,we)=>w.jsx(sHe,{as:l,className:qe(E.root,o,{entered:E.entered,exited:!d&&j==="0px"&&E.hidden}[se]),style:{[N?"minWidth":"minHeight"]:j,...x},ref:B,...we,ownerState:{...k,state:se},children:w.jsx(oHe,{ownerState:{...k,state:se},className:E.wrapper,ref:M,children:w.jsx(aHe,{ownerState:{...k,state:se},className:E.wrapperInner,children:s})})})})});Uj&&(Uj.muiSupportAuto=!0);const ape=I.createContext({});function lHe(e){return ar("MuiAccordion",e)}const r$=lr("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),uHe=e=>{const{classes:t,square:r,expanded:n,disabled:i,disableGutters:s}=e;return vr({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!s&&"gutters"],heading:["heading"],region:["region"]},lHe,t)},cHe=Ne(Bi,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${r$.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(Ut(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${r$.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${r$.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),Ut(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${r$.expanded}`]:{margin:"16px 0"}}}]}))),dHe=Ne("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),Jh=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:o=!1,disabled:a=!1,disableGutters:l=!1,expanded:u,onChange:d,square:h=!1,slots:f={},slotProps:y={},TransitionComponent:g,TransitionProps:v,...b}=n,[_,x]=BN({controlled:u,default:o,name:"Accordion",state:"expanded"}),S=I.useCallback(B=>{x(!_),d&&d(B,!_)},[_,d,x]),[$,...C]=I.Children.toArray(i),k=I.useMemo(()=>({expanded:_,disabled:a,disableGutters:l,toggle:S}),[_,a,l,S]),E={...n,square:h,disabled:a,disableGutters:l,expanded:_},P=uHe(E),T={transition:g,...f},M={transition:v,...y},O={slots:T,slotProps:M},[j,N]=G0("heading",{elementType:dHe,externalForwardedProps:O,className:P.heading,ownerState:E}),[L,z]=G0("transition",{elementType:Uj,externalForwardedProps:O,ownerState:E});return w.jsxs(cHe,{className:qe(P.root,s),ref:r,ownerState:E,square:h,...b,children:[w.jsx(j,{...N,children:w.jsx(ape.Provider,{value:k,children:$})}),w.jsx(L,{in:_,timeout:"auto",...z,children:w.jsx("div",{"aria-labelledby":$.props.id,id:$.props["aria-controls"],role:"region",className:P.region,children:C})})]})});function pHe(e){return ar("MuiAccordionDetails",e)}lr("MuiAccordionDetails",["root"]);const hHe=e=>{const{classes:t}=e;return vr({root:["root"]},pHe,t)},fHe=Ne("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(Ut(({theme:e})=>({padding:e.spacing(1,2,2)}))),Kh=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiAccordionDetails"}),{className:i,...s}=n,o=n,a=hHe(o);return w.jsx(fHe,{className:qe(a.root,i),ref:r,ownerState:o,...s})});function mHe(e){return ar("MuiAccordionSummary",e)}const e0=lr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),yHe=e=>{const{classes:t,expanded:r,disabled:n,disableGutters:i}=e;return vr({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},mHe,t)},gHe=Ne(ah,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(Ut(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${e0.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${e0.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${e0.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${e0.expanded}`]:{minHeight:64}}}]}})),vHe=Ne("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(Ut(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${e0.expanded}`]:{margin:"20px 0"}}}]}))),bHe=Ne("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(Ut(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${e0.expanded}`]:{transform:"rotate(180deg)"}}))),Xh=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:o,focusVisibleClassName:a,onClick:l,...u}=n,{disabled:d=!1,disableGutters:h,expanded:f,toggle:y}=I.useContext(ape),g=_=>{y&&y(_),l&&l(_)},v={...n,expanded:f,disabled:d,disableGutters:h},b=yHe(v);return w.jsxs(gHe,{focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":f,className:qe(b.root,s),focusVisibleClassName:qe(b.focusVisible,a),onClick:g,ref:r,ownerState:v,...u,children:[w.jsx(vHe,{className:b.content,ownerState:v,children:i}),o&&w.jsx(bHe,{className:b.expandIconWrapper,ownerState:v,children:o})]})}),wHe=gv(w.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function _He(e){return ar("MuiChip",e)}const Vt=lr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),xHe=e=>{const{classes:t,disabled:r,size:n,color:i,iconColor:s,onDelete:o,clickable:a,variant:l}=e,u={root:["root",l,r&&"disabled",`size${Ee(n)}`,`color${Ee(i)}`,a&&"clickable",a&&`clickableColor${Ee(i)}`,o&&"deletable",o&&`deletableColor${Ee(i)}`,`${l}${Ee(i)}`],label:["label",`label${Ee(n)}`],avatar:["avatar",`avatar${Ee(n)}`,`avatarColor${Ee(i)}`],icon:["icon",`icon${Ee(n)}`,`iconColor${Ee(s)}`],deleteIcon:["deleteIcon",`deleteIcon${Ee(n)}`,`deleteIconColor${Ee(i)}`,`deleteIcon${Ee(l)}Color${Ee(i)}`]};return vr(u,_He,t)},SHe=Ne("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:i,clickable:s,onDelete:o,size:a,variant:l}=r;return[{[`& .${Vt.avatar}`]:t.avatar},{[`& .${Vt.avatar}`]:t[`avatar${Ee(a)}`]},{[`& .${Vt.avatar}`]:t[`avatarColor${Ee(n)}`]},{[`& .${Vt.icon}`]:t.icon},{[`& .${Vt.icon}`]:t[`icon${Ee(a)}`]},{[`& .${Vt.icon}`]:t[`iconColor${Ee(i)}`]},{[`& .${Vt.deleteIcon}`]:t.deleteIcon},{[`& .${Vt.deleteIcon}`]:t[`deleteIcon${Ee(a)}`]},{[`& .${Vt.deleteIcon}`]:t[`deleteIconColor${Ee(n)}`]},{[`& .${Vt.deleteIcon}`]:t[`deleteIcon${Ee(l)}Color${Ee(n)}`]},t.root,t[`size${Ee(a)}`],t[`color${Ee(n)}`],s&&t.clickable,s&&n!=="default"&&t[`clickableColor${Ee(n)})`],o&&t.deletable,o&&n!=="default"&&t[`deletableColor${Ee(n)}`],t[l],t[`${l}${Ee(n)}`]]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Vt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Vt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Vt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Vt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Vt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Vt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Vt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:ln(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ln(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Vt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Vt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(([,r])=>r&&r.main&&r.contrastText).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Vt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].contrastTextChannel} / 0.7)`:ln(e.palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Vt.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Vt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ln(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(([,r])=>r&&r.dark).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Vt.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ln(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ln(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(([,r])=>r&&r.dark).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Vt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Vt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Vt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Vt.avatar}`]:{marginLeft:4},[`& .${Vt.avatarSmall}`]:{marginLeft:2},[`& .${Vt.icon}`]:{marginLeft:4},[`& .${Vt.iconSmall}`]:{marginLeft:2},[`& .${Vt.deleteIcon}`]:{marginRight:5},[`& .${Vt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:ln(e.palette[r].main,.7)}`,[`&.${Vt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette[r].main,e.palette.action.hoverOpacity)},[`&.${Vt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.focusOpacity})`:ln(e.palette[r].main,e.palette.action.focusOpacity)},[`& .${Vt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:ln(e.palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),$He=Ne("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${Ee(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function PZ(e){return e.key==="Backspace"||e.key==="Delete"}const TP=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:d=!1,icon:h,label:f,onClick:y,onDelete:g,onKeyDown:v,onKeyUp:b,size:_="medium",variant:x="filled",tabIndex:S,skipFocusWhenDisabled:$=!1,...C}=n,k=I.useRef(null),E=js(k,r),P=D=>{D.stopPropagation(),g&&g(D)},T=D=>{D.currentTarget===D.target&&PZ(D)&&D.preventDefault(),v&&v(D)},M=D=>{D.currentTarget===D.target&&g&&PZ(D)&&g(D),b&&b(D)},O=o!==!1&&y?!0:o,j=O||g?ah:l||"div",N={...n,component:j,disabled:d,size:_,color:a,iconColor:I.isValidElement(h)&&h.props.color||a,onDelete:!!g,clickable:O,variant:x},L=xHe(N),z=j===ah?{component:l||"div",focusVisibleClassName:L.focusVisible,...g&&{disableRipple:!0}}:{};let B=null;g&&(B=u&&I.isValidElement(u)?I.cloneElement(u,{className:qe(u.props.className,L.deleteIcon),onClick:P}):w.jsx(wHe,{className:qe(L.deleteIcon),onClick:P}));let U=null;i&&I.isValidElement(i)&&(U=I.cloneElement(i,{className:qe(L.avatar,i.props.className)}));let F=null;return h&&I.isValidElement(h)&&(F=I.cloneElement(h,{className:qe(L.icon,h.props.className)})),w.jsxs(SHe,{as:j,className:qe(L.root,s),disabled:O&&d?!0:void 0,onClick:y,onKeyDown:T,onKeyUp:M,ref:E,tabIndex:$&&d?-1:S,ownerState:N,...z,...C,children:[U||F,w.jsx($He,{className:qe(L.label),ownerState:N,children:f}),B]})}),THe=I.createContext(void 0);function MHe(){return I.useContext(THe)}function CHe(e){return ar("MuiButton",e)}const Vy=lr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),EHe=I.createContext({}),kHe=I.createContext(void 0),IHe=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:s,classes:o}=e,a={root:["root",s,`${s}${Ee(t)}`,`size${Ee(i)}`,`${s}Size${Ee(i)}`,`color${Ee(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ee(i)}`],endIcon:["icon","endIcon",`iconSize${Ee(i)}`]},l=vr(a,CHe,o);return{...o,...l}},lpe=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],OHe=Ne(ah,{shouldForwardProp:e=>$x(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Ee(r.color)}`],t[`size${Ee(r.size)}`],t[`${r.variant}Size${Ee(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(Ut(({theme:e})=>{var n,i;const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Vy.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Vy.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Vy.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Vy.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(([,s])=>s&&s.main&&s.dark&&s.contrastText).map(([s])=>({props:{color:s},style:{"--variant-textColor":(e.vars||e).palette[s].main,"--variant-outlinedColor":(e.vars||e).palette[s].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[s].mainChannel} / 0.5)`:ln(e.palette[s].main,.5),"--variant-containedColor":(e.vars||e).palette[s].contrastText,"--variant-containedBg":(e.vars||e).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[s].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette[s].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[s].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette[s].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":e.vars?e.vars.palette.text.primary:(i=(n=e.palette).getContrastText)==null?void 0:i.call(n,t),"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vy.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),PHe=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${Ee(r.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...lpe]}),AHe=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${Ee(r.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...lpe]}),zp=I.forwardRef(function(t,r){const n=I.useContext(EHe),i=I.useContext(kHe),s=y_(n,t),o=xr({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:d,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:y=!1,endIcon:g,focusVisibleClassName:v,fullWidth:b=!1,size:_="medium",startIcon:x,type:S,variant:$="text",...C}=o,k={...o,color:l,component:u,disabled:h,disableElevation:f,disableFocusRipple:y,fullWidth:b,size:_,type:S,variant:$},E=IHe(k),P=x&&w.jsx(PHe,{className:E.startIcon,ownerState:k,children:x}),T=g&&w.jsx(AHe,{className:E.endIcon,ownerState:k,children:g}),M=i||"";return w.jsxs(OHe,{ownerState:k,className:qe(n.className,E.root,d,M),component:u,disabled:h,focusRipple:!y,focusVisibleClassName:qe(E.focusVisible,v),ref:r,type:S,...C,classes:E,children:[P,a,T]})});function RHe(e){return ar("PrivateSwitchBase",e)}lr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const LHe=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${Ee(i)}`],input:["input"]};return vr(s,RHe,t)},jHe=Ne(ah)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),NHe=Ne("input",{shouldForwardProp:$x})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),FHe=I.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:f,inputProps:y,inputRef:g,name:v,onBlur:b,onChange:_,onFocus:x,readOnly:S,required:$=!1,tabIndex:C,type:k,value:E,...P}=t,[T,M]=BN({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),O=MHe(),j=D=>{x&&x(D),O&&O.onFocus&&O.onFocus(D)},N=D=>{b&&b(D),O&&O.onBlur&&O.onBlur(D)},L=D=>{if(D.nativeEvent.defaultPrevented)return;const K=D.target.checked;M(K),_&&_(D,K)};let z=l;O&&typeof z>"u"&&(z=O.disabled);const B=k==="checkbox"||k==="radio",U={...t,checked:T,disabled:z,disableFocusRipple:u,edge:d},F=LHe(U);return w.jsxs(jHe,{component:"span",className:qe(F.root,o),centerRipple:!0,focusRipple:!u,disabled:z,tabIndex:null,role:void 0,onFocus:j,onBlur:N,ownerState:U,ref:r,...P,children:[w.jsx(NHe,{autoFocus:n,checked:i,defaultChecked:a,className:F.input,disabled:z,id:B?f:void 0,name:v,onChange:L,readOnly:S,ref:g,required:$,ownerState:U,tabIndex:C,type:k,...k==="checkbox"&&E===void 0?{}:{value:E},...y}),T?s:h]})});function DHe(e){return ar("MuiCircularProgress",e)}lr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Nd=44,Gj=$h`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Wj=$h`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,zHe=typeof Gj!="string"?yv`
        animation: ${Gj} 1.4s linear infinite;
      `:null,VHe=typeof Wj!="string"?yv`
        animation: ${Wj} 1.4s ease-in-out infinite;
      `:null,BHe=e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,s={root:["root",r,`color${Ee(n)}`],svg:["svg"],circle:["circle",`circle${Ee(r)}`,i&&"circleDisableShrink"]};return vr(s,DHe,t)},UHe=Ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${Ee(r.color)}`]]}})(Ut(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:zHe||{animation:`${Gj} 1.4s linear infinite`}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),GHe=Ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),WHe=Ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${Ee(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Ut(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:VHe||{animation:`${Wj} 1.4s ease-in-out infinite`}}]}))),qHe=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:d=0,variant:h="indeterminate",...f}=n,y={...n,color:s,disableShrink:o,size:a,thickness:u,value:d,variant:h},g=BHe(y),v={},b={},_={};if(h==="determinate"){const x=2*Math.PI*((Nd-u)/2);v.strokeDasharray=x.toFixed(3),_["aria-valuenow"]=Math.round(d),v.strokeDashoffset=`${((100-d)/100*x).toFixed(3)}px`,b.transform="rotate(-90deg)"}return w.jsx(UHe,{className:qe(g.root,i),style:{width:a,height:a,...b,...l},ownerState:y,ref:r,role:"progressbar",..._,...f,children:w.jsx(GHe,{className:g.svg,ownerState:y,viewBox:`${Nd/2} ${Nd/2} ${Nd} ${Nd}`,children:w.jsx(WHe,{className:g.circle,style:v,ownerState:y,cx:Nd,cy:Nd,r:(Nd-u)/2,fill:"none",strokeWidth:u})})})}),at=Qbe({createStyledComponent:Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Oee({props:e,name:"MuiStack"})});function HHe(e){return ar("MuiSwitch",e)}const Ms=lr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ZHe=e=>{const{classes:t,edge:r,size:n,color:i,checked:s,disabled:o}=e,a={root:["root",r&&`edge${Ee(r)}`,`size${Ee(n)}`],switchBase:["switchBase",`color${Ee(i)}`,s&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=vr(a,HHe,t);return{...t,...l}},YHe=Ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${Ee(r.edge)}`],t[`size${Ee(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ms.thumb}`]:{width:16,height:16},[`& .${Ms.switchBase}`]:{padding:4,[`&.${Ms.checked}`]:{transform:"translateX(16px)"}}}}]}),JHe=Ne(FHe,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Ms.input}`]:t.input},r.color!=="default"&&t[`color${Ee(r.color)}`]]}})(Ut(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ms.checked}`]:{transform:"translateX(20px)"},[`&.${Ms.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ms.checked} + .${Ms.track}`]:{opacity:.5},[`&.${Ms.disabled} + .${Ms.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ms.input}`]:{left:"-100%",width:"300%"}})),Ut(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Ms.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ln(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ms.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Sx(e.palette[t].main,.62):xx(e.palette[t].main,.55)}`}},[`&.${Ms.checked} + .${Ms.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),KHe=Ne("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(Ut(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),XHe=Ne("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(Ut(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),QHe=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiSwitch"}),{className:i,color:s="primary",edge:o=!1,size:a="medium",sx:l,...u}=n,d={...n,color:s,edge:o,size:a},h=ZHe(d),f=w.jsx(XHe,{className:h.thumb,ownerState:d});return w.jsxs(YHe,{className:qe(h.root,i),sx:l,ownerState:d,children:[w.jsx(JHe,{type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:d,...u,classes:{...h,root:h.switchBase}}),w.jsx(KHe,{className:h.track,ownerState:d})]})});function eZe(e){return ar("MuiTab",e)}const Ko=lr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),tZe=e=>{const{classes:t,textColor:r,fullWidth:n,wrapped:i,icon:s,label:o,selected:a,disabled:l}=e,u={root:["root",s&&o&&"labelIcon",`textColor${Ee(r)}`,n&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return vr(u,eZe,t)},rZe=Ne(ah,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${Ee(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${Ko.iconWrapper}`]:t.iconWrapper},{[`& .${Ko.icon}`]:t.icon}]}})(Ut(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="top",style:{[`& > .${Ko.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="bottom",style:{[`& > .${Ko.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="start",style:{[`& > .${Ko.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="end",style:{[`& > .${Ko.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Ko.selected}`]:{opacity:1},[`&.${Ko.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ko.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Ko.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ko.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Ko.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),n$=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:u="top",indicator:d,label:h,onChange:f,onClick:y,onFocus:g,selected:v,selectionFollowsFocus:b,textColor:_="inherit",value:x,wrapped:S=!1,...$}=n,C={...n,disabled:s,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:u,label:!!h,fullWidth:a,textColor:_,wrapped:S},k=tZe(C),E=l&&h&&I.isValidElement(l)?I.cloneElement(l,{className:qe(k.icon,l.props.className)}):l,P=M=>{!v&&f&&f(M,x),y&&y(M)},T=M=>{b&&!v&&f&&f(M,x),g&&g(M)};return w.jsxs(rZe,{focusRipple:!o,className:qe(k.root,i),ref:r,role:"tab","aria-selected":v,disabled:s,onClick:P,onFocus:T,ownerState:C,tabIndex:v?0:-1,...$,children:[u==="top"||u==="start"?w.jsxs(I.Fragment,{children:[E,h]}):w.jsxs(I.Fragment,{children:[h,E]}),d]})}),nZe=gv(w.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),iZe=gv(w.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function sZe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function oZe(e,t,r,n={},i=()=>{}){const{ease:s=sZe,duration:o=300}=n;let a=null;const l=t[e];let u=!1;const d=()=>{u=!0},h=f=>{if(u){i(new Error("Animation cancelled"));return}a===null&&(a=f);const y=Math.min(1,(f-a)/o);if(t[e]=s(y)*(r-l)+l,y>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return l===r?(i(new Error("Element already at target position")),d):(requestAnimationFrame(h),d)}const aZe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function lZe(e){const{onChange:t,...r}=e,n=I.useRef(),i=I.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return U0(()=>{const o=CE(()=>{const l=n.current;s(),l!==n.current&&t(n.current)}),a=Th(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[t]),I.useEffect(()=>{s(),t(n.current)},[t]),w.jsx("div",{style:aZe,ref:i,...r})}function uZe(e){return ar("MuiTabScrollButton",e)}const cZe=lr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),dZe=e=>{const{classes:t,orientation:r,disabled:n}=e;return vr({root:["root",r,n&&"disabled"]},uZe,t)},pZe=Ne(ah,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${cZe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),hZe=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:o={},direction:a,orientation:l,disabled:u,...d}=n,h=kE(),f={isRtl:h,...n},y=dZe(f),g=s.StartScrollButtonIcon??nZe,v=s.EndScrollButtonIcon??iZe,b=LM({elementType:g,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),_=LM({elementType:v,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return w.jsx(pZe,{component:"div",className:qe(y.root,i),ref:r,role:null,ownerState:f,tabIndex:null,...d,style:{...d.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:a==="left"?w.jsx(g,{...b}):w.jsx(v,{..._})})});function fZe(e){return ar("MuiTabs",e)}const MP=lr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),AZ=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,RZ=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,i$=(e,t,r)=>{let n=!1,i=r(e,t);for(;i;){if(i===e.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(e,i);else{i.focus();return}}},mZe=e=>{const{vertical:t,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=e;return vr({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},fZe,l)},yZe=Ne("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${MP.scrollButtons}`]:t.scrollButtons},{[`& .${MP.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(Ut(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${MP.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),gZe=Ne("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),vZe=Ne("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),bZe=Ne("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(Ut(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),wZe=Ne(lZe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),LZ={},_Ze=I.forwardRef(function(t,r){const n=xr({props:t,name:"MuiTabs"}),i=Mh(),s=kE(),{"aria-label":o,"aria-labelledby":a,action:l,centered:u=!1,children:d,className:h,component:f="div",allowScrollButtonsMobile:y=!1,indicatorColor:g="primary",onChange:v,orientation:b="horizontal",ScrollButtonComponent:_=hZe,scrollButtons:x="auto",selectionFollowsFocus:S,slots:$={},slotProps:C={},TabIndicatorProps:k={},TabScrollButtonProps:E={},textColor:P="primary",value:T,variant:M="standard",visibleScrollbar:O=!1,...j}=n,N=M==="scrollable",L=b==="vertical",z=L?"scrollTop":"scrollLeft",B=L?"top":"left",U=L?"bottom":"right",F=L?"clientHeight":"clientWidth",D=L?"height":"width",K={...n,component:f,allowScrollButtonsMobile:y,indicatorColor:g,orientation:b,vertical:L,scrollButtons:x,textColor:P,variant:M,visibleScrollbar:O,fixed:!N,hideScrollbar:N&&!O,scrollableX:N&&!L,scrollableY:N&&L,centered:u&&!N,scrollButtonsHideMobile:!y},le=mZe(K),he=LM({elementType:$.StartScrollButtonIcon,externalSlotProps:C.startScrollButtonIcon,ownerState:K}),Ue=LM({elementType:$.EndScrollButtonIcon,externalSlotProps:C.endScrollButtonIcon,ownerState:K}),[fe,Ge]=I.useState(!1),[se,we]=I.useState(LZ),[de,Y]=I.useState(!1),[ce,oe]=I.useState(!1),[X,$e]=I.useState(!1),[Pe,dt]=I.useState({overflow:"hidden",scrollbarWidth:0}),We=new Map,Ye=I.useRef(null),ot=I.useRef(null),Ht=()=>{const xe=Ye.current;let Te;if(xe){const be=xe.getBoundingClientRect();Te={clientWidth:xe.clientWidth,scrollLeft:xe.scrollLeft,scrollTop:xe.scrollTop,scrollWidth:xe.scrollWidth,top:be.top,bottom:be.bottom,left:be.left,right:be.right}}let ut;if(xe&&T!==!1){const be=ot.current.children;if(be.length>0){const Fe=be[We.get(T)];ut=Fe?Fe.getBoundingClientRect():null}}return{tabsMeta:Te,tabMeta:ut}},Tt=Mu(()=>{const{tabsMeta:xe,tabMeta:Te}=Ht();let ut=0,be;L?(be="top",Te&&xe&&(ut=Te.top-xe.top+xe.scrollTop)):(be=s?"right":"left",Te&&xe&&(ut=(s?-1:1)*(Te[be]-xe[be]+xe.scrollLeft)));const Fe={[be]:ut,[D]:Te?Te[D]:0};if(typeof se[be]!="number"||typeof se[D]!="number")we(Fe);else{const ct=Math.abs(se[be]-Fe[be]),yt=Math.abs(se[D]-Fe[D]);(ct>=1||yt>=1)&&we(Fe)}}),Lt=(xe,{animation:Te=!0}={})=>{Te?oZe(z,Ye.current,xe,{duration:i.transitions.duration.standard}):Ye.current[z]=xe},Zt=xe=>{let Te=Ye.current[z];L?Te+=xe:Te+=xe*(s?-1:1),Lt(Te)},Ae=()=>{const xe=Ye.current[F];let Te=0;const ut=Array.from(ot.current.children);for(let be=0;be<ut.length;be+=1){const Fe=ut[be];if(Te+Fe[F]>xe){be===0&&(Te=xe);break}Te+=Fe[F]}return Te},Or=()=>{Zt(-1*Ae())},Yt=()=>{Zt(Ae())},st=I.useCallback(xe=>{dt({overflow:null,scrollbarWidth:xe})},[]),Le=()=>{const xe={};xe.scrollbarSizeListener=N?w.jsx(wZe,{onChange:st,className:qe(le.scrollableX,le.hideScrollbar)}):null;const ut=N&&(x==="auto"&&(de||ce)||x===!0);return xe.scrollButtonStart=ut?w.jsx(_,{slots:{StartScrollButtonIcon:$.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:he},orientation:b,direction:s?"right":"left",onClick:Or,disabled:!de,...E,className:qe(le.scrollButtons,E.className)}):null,xe.scrollButtonEnd=ut?w.jsx(_,{slots:{EndScrollButtonIcon:$.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ue},orientation:b,direction:s?"left":"right",onClick:Yt,disabled:!ce,...E,className:qe(le.scrollButtons,E.className)}):null,xe},Wt=Mu(xe=>{const{tabsMeta:Te,tabMeta:ut}=Ht();if(!(!ut||!Te)){if(ut[B]<Te[B]){const be=Te[z]+(ut[B]-Te[B]);Lt(be,{animation:xe})}else if(ut[U]>Te[U]){const be=Te[z]+(ut[U]-Te[U]);Lt(be,{animation:xe})}}}),ur=Mu(()=>{N&&x!==!1&&$e(!X)});I.useEffect(()=>{const xe=CE(()=>{Ye.current&&Tt()});let Te;const ut=ct=>{ct.forEach(yt=>{yt.removedNodes.forEach(qt=>{Te==null||Te.unobserve(qt)}),yt.addedNodes.forEach(qt=>{Te==null||Te.observe(qt)})}),xe(),ur()},be=Th(Ye.current);be.addEventListener("resize",xe);let Fe;return typeof ResizeObserver<"u"&&(Te=new ResizeObserver(xe),Array.from(ot.current.children).forEach(ct=>{Te.observe(ct)})),typeof MutationObserver<"u"&&(Fe=new MutationObserver(ut),Fe.observe(ot.current,{childList:!0})),()=>{xe.clear(),be.removeEventListener("resize",xe),Fe==null||Fe.disconnect(),Te==null||Te.disconnect()}},[Tt,ur]),I.useEffect(()=>{const xe=Array.from(ot.current.children),Te=xe.length;if(typeof IntersectionObserver<"u"&&Te>0&&N&&x!==!1){const ut=xe[0],be=xe[Te-1],Fe={root:Ye.current,threshold:.99},ct=pt=>{Y(!pt[0].isIntersecting)},yt=new IntersectionObserver(ct,Fe);yt.observe(ut);const qt=pt=>{oe(!pt[0].isIntersecting)},cr=new IntersectionObserver(qt,Fe);return cr.observe(be),()=>{yt.disconnect(),cr.disconnect()}}},[N,x,X,d==null?void 0:d.length]),I.useEffect(()=>{Ge(!0)},[]),I.useEffect(()=>{Tt()}),I.useEffect(()=>{Wt(LZ!==se)},[Wt,se]),I.useImperativeHandle(l,()=>({updateIndicator:Tt,updateScrollButtons:ur}),[Tt,ur]);const Dt=w.jsx(bZe,{...k,className:qe(le.indicator,k.className),ownerState:K,style:{...se,...k.style}});let Ot=0;const Jt=I.Children.map(d,xe=>{if(!I.isValidElement(xe))return null;const Te=xe.props.value===void 0?Ot:xe.props.value;We.set(Te,Ot);const ut=Te===T;return Ot+=1,I.cloneElement(xe,{fullWidth:M==="fullWidth",indicator:ut&&!fe&&Dt,selected:ut,selectionFollowsFocus:S,onChange:v,textColor:P,value:Te,...Ot===1&&T===!1&&!xe.props.tabIndex?{tabIndex:0}:{}})}),br=xe=>{const Te=ot.current,ut=Pu(Te).activeElement;if(ut.getAttribute("role")!=="tab")return;let Fe=b==="horizontal"?"ArrowLeft":"ArrowUp",ct=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&s&&(Fe="ArrowRight",ct="ArrowLeft"),xe.key){case Fe:xe.preventDefault(),i$(Te,ut,RZ);break;case ct:xe.preventDefault(),i$(Te,ut,AZ);break;case"Home":xe.preventDefault(),i$(Te,null,AZ);break;case"End":xe.preventDefault(),i$(Te,null,RZ);break}},Pt=Le();return w.jsxs(yZe,{className:qe(le.root,h),ownerState:K,ref:r,as:f,...j,children:[Pt.scrollButtonStart,Pt.scrollbarSizeListener,w.jsxs(gZe,{className:le.scroller,ownerState:K,style:{overflow:Pe.overflow,[L?`margin${s?"Left":"Right"}`:"marginBottom"]:O?void 0:-Pe.scrollbarWidth},ref:Ye,children:[w.jsx(vZe,{"aria-label":o,"aria-labelledby":a,"aria-orientation":b==="vertical"?"vertical":null,className:le.flexContainer,ownerState:K,onKeyDown:br,ref:ot,role:"tablist",children:Jt}),fe&&Dt]}),Pt.scrollButtonEnd]})});var UD=oS(),_t=e=>sS(e,UD),GD=oS();_t.write=e=>sS(e,GD);var Wk=oS();_t.onStart=e=>sS(e,Wk);var WD=oS();_t.onFrame=e=>sS(e,WD);var qD=oS();_t.onFinish=e=>sS(e,qD);var I0=[];_t.setTimeout=(e,t)=>{const r=_t.now()+t,n=()=>{const s=I0.findIndex(o=>o.cancel==n);~s&&I0.splice(s,1),Bp-=~s?1:0},i={time:r,handler:e,cancel:n};return I0.splice(upe(r),0,i),Bp+=1,cpe(),i};var upe=e=>~(~I0.findIndex(t=>t.time>e)||~I0.length);_t.cancel=e=>{Wk.delete(e),WD.delete(e),qD.delete(e),UD.delete(e),GD.delete(e)};_t.sync=e=>{qj=!0,_t.batchedUpdates(e),qj=!1};_t.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...i){t=i,_t.onStart(r)}return n.handler=e,n.cancel=()=>{Wk.delete(r),t=null},n};var HD=typeof window<"u"?window.requestAnimationFrame:()=>{};_t.use=e=>HD=e;_t.now=typeof performance<"u"?()=>performance.now():Date.now;_t.batchedUpdates=e=>e();_t.catch=console.error;_t.frameLoop="always";_t.advance=()=>{_t.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ppe()};var Vp=-1,Bp=0,qj=!1;function sS(e,t){qj?(t.delete(e),e(0)):(t.add(e),cpe())}function cpe(){Vp<0&&(Vp=0,_t.frameLoop!=="demand"&&HD(dpe))}function xZe(){Vp=-1}function dpe(){~Vp&&(HD(dpe),_t.batchedUpdates(ppe))}function ppe(){const e=Vp;Vp=_t.now();const t=upe(Vp);if(t&&(hpe(I0.splice(0,t),r=>r.handler()),Bp-=t),!Bp){xZe();return}Wk.flush(),UD.flush(e?Math.min(64,Vp-e):16.667),WD.flush(),GD.flush(),qD.flush()}function oS(){let e=new Set,t=e;return{add(r){Bp+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return Bp-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,Bp-=t.size,hpe(t,n=>n(r)&&e.add(n)),Bp+=e.size,t=e)}}}function hpe(e,t){e.forEach(r=>{try{t(r)}catch(n){_t.catch(n)}})}var SZe=Object.defineProperty,$Ze=(e,t)=>{for(var r in t)SZe(e,r,{get:t[r],enumerable:!0})},Fl={};$Ze(Fl,{assign:()=>MZe,colors:()=>nh,createStringInterpolator:()=>YD,skipAnimation:()=>mpe,to:()=>fpe,willAdvance:()=>JD});function Hj(){}var TZe=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),me={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function zc(e,t){if(me.arr(e)){if(!me.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var vt=(e,t)=>e.forEach(t);function Uu(e,t,r){if(me.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(const n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var Is=e=>me.und(e)?[]:me.arr(e)?e:[e];function Ww(e,t){if(e.size){const r=Array.from(e);e.clear(),vt(r,t)}}var sw=(e,...t)=>Ww(e,r=>r(...t)),ZD=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YD,fpe,nh=null,mpe=!1,JD=Hj,MZe=e=>{e.to&&(fpe=e.to),e.now&&(_t.now=e.now),e.colors!==void 0&&(nh=e.colors),e.skipAnimation!=null&&(mpe=e.skipAnimation),e.createStringInterpolator&&(YD=e.createStringInterpolator),e.requestAnimationFrame&&_t.use(e.requestAnimationFrame),e.batchedUpdates&&(_t.batchedUpdates=e.batchedUpdates),e.willAdvance&&(JD=e.willAdvance),e.frameLoop&&(_t.frameLoop=e.frameLoop)},qw=new Set,$a=[],CP=[],nC=0,qk={get idle(){return!qw.size&&!$a.length},start(e){nC>e.priority?(qw.add(e),_t.onStart(CZe)):(ype(e),_t(Zj))},advance:Zj,sort(e){if(nC)_t.onFrame(()=>qk.sort(e));else{const t=$a.indexOf(e);~t&&($a.splice(t,1),gpe(e))}},clear(){$a=[],qw.clear()}};function CZe(){qw.forEach(ype),qw.clear(),_t(Zj)}function ype(e){$a.includes(e)||gpe(e)}function gpe(e){$a.splice(EZe($a,t=>t.priority>e.priority),0,e)}function Zj(e){const t=CP;for(let r=0;r<$a.length;r++){const n=$a[r];nC=n.priority,n.idle||(JD(n),n.advance(e),n.idle||t.push(n))}return nC=0,CP=$a,CP.length=0,$a=t,$a.length>0}function EZe(e,t){const r=e.findIndex(t);return r<0?e.length:r}var kZe=(e,t,r)=>Math.min(Math.max(r,e),t),IZe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},kl="[-+]?\\d*\\.?\\d+",iC=kl+"%";function Hk(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var OZe=new RegExp("rgb"+Hk(kl,kl,kl)),PZe=new RegExp("rgba"+Hk(kl,kl,kl,kl)),AZe=new RegExp("hsl"+Hk(kl,iC,iC)),RZe=new RegExp("hsla"+Hk(kl,iC,iC,kl)),LZe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,jZe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,NZe=/^#([0-9a-fA-F]{6})$/,FZe=/^#([0-9a-fA-F]{8})$/;function DZe(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=NZe.exec(e))?parseInt(t[1]+"ff",16)>>>0:nh&&nh[e]!==void 0?nh[e]:(t=OZe.exec(e))?(By(t[1])<<24|By(t[2])<<16|By(t[3])<<8|255)>>>0:(t=PZe.exec(e))?(By(t[1])<<24|By(t[2])<<16|By(t[3])<<8|FZ(t[4]))>>>0:(t=LZe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=FZe.exec(e))?parseInt(t[1],16)>>>0:(t=jZe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=AZe.exec(e))?(jZ(NZ(t[1]),s$(t[2]),s$(t[3]))|255)>>>0:(t=RZe.exec(e))?(jZ(NZ(t[1]),s$(t[2]),s$(t[3]))|FZ(t[4]))>>>0:null}function EP(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function jZ(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,s=EP(i,n,e+1/3),o=EP(i,n,e),a=EP(i,n,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function By(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function NZ(e){return(parseFloat(e)%360+360)%360/360}function FZ(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function s$(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function DZ(e){let t=DZe(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,n=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var H_=(e,t,r)=>{if(me.fun(e))return e;if(me.arr(e))return H_({range:e,output:t,extrapolate:r});if(me.str(e.output[0]))return YD(e);const n=e,i=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{const d=VZe(u,s);return zZe(u,s[d],s[d+1],i[d],i[d+1],l,o,a,n.map)}};function zZe(e,t,r,n,i,s,o,a,l){let u=l?l(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>r){if(a==="identity")return u;a==="clamp"&&(u=r)}return n===i?n:t===r?e<=t?n:i:(t===-1/0?u=-u:r===1/0?u=u-t:u=(u-t)/(r-t),u=s(u),n===-1/0?u=-u:i===1/0?u=u+n:u=u*(i-n)+n,u)}function VZe(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var BZe=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*e,i=t==="end"?Math.floor(n):Math.ceil(n);return kZe(0,1,i/e)},sC=1.70158,o$=sC*1.525,zZ=sC+1,VZ=2*Math.PI/3,BZ=2*Math.PI/4.5,a$=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,UZe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>zZ*e*e*e-sC*e*e,easeOutBack:e=>1+zZ*Math.pow(e-1,3)+sC*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((o$+1)*2*e-o$)/2:(Math.pow(2*e-2,2)*((o$+1)*(e*2-2)+o$)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*VZ),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*VZ)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*BZ))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*BZ)/2+1,easeInBounce:e=>1-a$(1-e),easeOutBounce:a$,easeInOutBounce:e=>e<.5?(1-a$(1-2*e))/2:(1+a$(2*e-1))/2,steps:BZe},Z_=Symbol.for("FluidValue.get"),av=Symbol.for("FluidValue.observers"),wa=e=>!!(e&&e[Z_]),Js=e=>e&&e[Z_]?e[Z_]():e,UZ=e=>e[av]||null;function GZe(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Y_(e,t){const r=e[av];r&&r.forEach(n=>{GZe(n,t)})}var vpe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");WZe(this,e)}},WZe=(e,t)=>bpe(e,Z_,t);function Fv(e,t){if(e[Z_]){let r=e[av];r||bpe(e,av,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function J_(e,t){const r=e[av];if(r&&r.has(t)){const n=r.size-1;n?r.delete(t):e[av]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var bpe=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),nM=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,qZe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,GZ=new RegExp(`(${nM.source})(%|[a-z]+)`,"i"),HZe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Zk=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wpe=e=>{const[t,r]=ZZe(e);if(!t||ZD())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||e}else{if(r&&Zk.test(r))return wpe(r);if(r)return r}return e},ZZe=e=>{const t=Zk.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]},kP,YZe=(e,t,r,n,i)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,_pe=e=>{kP||(kP=nh?new RegExp(`(${Object.keys(nh).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Js(s).replace(Zk,wpe).replace(qZe,DZ).replace(kP,DZ)),r=t.map(s=>s.match(nM).map(Number)),i=r[0].map((s,o)=>r.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>H_({...e,output:s}));return s=>{var l;const o=!GZ.test(t[0])&&((l=t.find(u=>GZ.test(u)))==null?void 0:l.replace(nM,""));let a=0;return t[0].replace(nM,()=>`${i[a++](s)}${o||""}`).replace(HZe,YZe)}},KD="react-spring: ",xpe=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${KD}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},JZe=xpe(console.warn);function KZe(){JZe(`${KD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var XZe=xpe(console.warn);function QZe(){XZe(`${KD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Yk(e){return me.str(e)&&(e[0]=="#"||/\d/.test(e)||!ZD()&&Zk.test(e)||e in(nh||{}))}var am=ZD()?I.useEffect:I.useLayoutEffect,eYe=()=>{const e=I.useRef(!1);return am(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function XD(){const e=I.useState()[1],t=eYe();return()=>{t.current&&e(Math.random())}}function tYe(e,t){const[r]=I.useState(()=>({inputs:t,result:e()})),n=I.useRef(),i=n.current;let s=i;return s?t&&s.inputs&&rYe(t,s.inputs)||(s={inputs:t,result:e()}):s=r,I.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function rYe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var QD=e=>I.useEffect(e,nYe),nYe=[];function Yj(e){const t=I.useRef();return I.useEffect(()=>{t.current=e}),t.current}var K_=Symbol.for("Animated:node"),iYe=e=>!!e&&e[K_]===e,vu=e=>e&&e[K_],e7=(e,t)=>TZe(e,K_,t),Jk=e=>e&&e[K_]&&e[K_].getPayload(),Spe=class{constructor(){e7(this,this)}getPayload(){return this.payload||[]}},aS=class extends Spe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,me.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new aS(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return me.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,me.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},X_=class extends aS{constructor(e){super(0),this._string=null,this._toString=H_({output:[e,e]})}static create(e){return new X_(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(me.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=H_({output:[this.getValue(),e]})),this._value=0,super.reset()}},oC={dependencies:null},Kk=class extends Spe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Uu(this.source,(r,n)=>{iYe(r)?t[n]=r.getValue(e):wa(r)?t[n]=Js(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&vt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Uu(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){oC.dependencies&&wa(e)&&oC.dependencies.add(e);const t=Jk(e);t&&vt(t,r=>this.add(r))}},$pe=class extends Kk{constructor(e){super(e)}static create(e){return new $pe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,n)=>r.setValue(e[n])).some(Boolean):(super.setValue(e.map(sYe)),!0)}};function sYe(e){return(Yk(e)?X_:aS).create(e)}function Jj(e){const t=vu(e);return t?t.constructor:me.arr(e)?$pe:Yk(e)?X_:aS}var WZ=(e,t)=>{const r=!me.fun(e)||e.prototype&&e.prototype.isReactComponent;return I.forwardRef((n,i)=>{const s=I.useRef(null),o=r&&I.useCallback(g=>{s.current=lYe(i,g)},[i]),[a,l]=aYe(n,t),u=XD(),d=()=>{const g=s.current;if(r&&!g)return;(g?t.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},h=new oYe(d,l),f=I.useRef();am(()=>(f.current=h,vt(l,g=>Fv(g,h)),()=>{f.current&&(vt(f.current.deps,g=>J_(g,f.current)),_t.cancel(f.current.update))})),I.useEffect(d,[]),QD(()=>()=>{const g=f.current;vt(g.deps,v=>J_(v,g))});const y=t.getComponentProps(a.getValue());return I.createElement(e,{...y,ref:o})})},oYe=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&_t.write(this.update)}};function aYe(e,t){const r=new Set;return oC.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Kk(e),oC.dependencies=null,[e,r]}function lYe(e,t){return e&&(me.fun(e)?e(t):e.current=t),t}var qZ=Symbol.for("AnimatedComponent"),uYe=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=i=>new Kk(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},s=o=>{const a=HZ(o)||"Anonymous";return me.str(o)?o=s[o]||(s[o]=WZ(o,i)):o=o[qZ]||(o[qZ]=WZ(o,i)),o.displayName=`Animated(${a})`,o};return Uu(e,(o,a)=>{me.arr(e)&&(a=HZ(o)),s[a]=s(o)}),{animated:s}},HZ=e=>me.str(e)?e:e&&me.str(e.displayName)?e.displayName:me.fun(e)&&e.name||null;function Ks(e,...t){return me.fun(e)?e(...t):e}var Hw=(e,t)=>e===!0||!!(t&&e&&(me.fun(e)?e(t):Is(e).includes(t))),Tpe=(e,t)=>me.obj(e)?t&&e[t]:e,Mpe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,cYe=e=>e,Xk=(e,t=cYe)=>{let r=dYe;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const n={};for(const i of r){const s=t(e[i],i);me.und(s)||(n[i]=s)}return n},dYe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],pYe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function hYe(e){const t={};let r=0;if(Uu(e,(n,i)=>{pYe[i]||(t[i]=n,r++)}),r)return t}function t7(e){const t=hYe(e);if(t){const r={to:t};return Uu(e,(n,i)=>i in t||(r[i]=n)),r}return{...e}}function Q_(e){return e=Js(e),me.arr(e)?e.map(Q_):Yk(e)?Fl.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Cpe(e){for(const t in e)return!0;return!1}function Kj(e){return me.fun(e)||me.arr(e)&&me.obj(e[0])}function Xj(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function Epe(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var r7={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Qj={...r7.default,mass:1,damping:1,easing:UZe.linear,clamp:!1},fYe=class{constructor(){this.velocity=0,Object.assign(this,Qj)}};function mYe(e,t,r){r&&(r={...r},ZZ(r,t),t={...r,...t}),ZZ(e,t),Object.assign(e,t);for(const o in Qj)e[o]==null&&(e[o]=Qj[o]);let{frequency:n,damping:i}=e;const{mass:s}=e;return me.und(n)||(n<.01&&(n=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/n,2)*s,e.friction=4*Math.PI*i*s/n),e}function ZZ(e,t){if(!me.und(t.decay))e.duration=void 0;else{const r=!me.und(t.tension)||!me.und(t.friction);(r||!me.und(t.frequency)||!me.und(t.damping)||!me.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var YZ=[],yYe=class{constructor(){this.changed=!1,this.values=YZ,this.toValues=null,this.fromValues=YZ,this.config=new fYe,this.immediate=!1}};function kpe(e,{key:t,props:r,defaultProps:n,state:i,actions:s}){return new Promise((o,a)=>{let l,u,d=Hw(r.cancel??(n==null?void 0:n.cancel),t);if(d)y();else{me.und(r.pause)||(i.paused=Hw(r.pause,t));let g=n==null?void 0:n.pause;g!==!0&&(g=i.paused||Hw(g,t)),l=Ks(r.delay||0,t),g?(i.resumeQueue.add(f),s.pause()):(s.resume(),f())}function h(){i.resumeQueue.add(f),i.timeouts.delete(u),u.cancel(),l=u.time-_t.now()}function f(){l>0&&!Fl.skipAnimation?(i.delayed=!0,u=_t.setTimeout(y,l),i.pauseQueue.add(h),i.timeouts.add(u)):y()}function y(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),e<=(i.cancelId||0)&&(d=!0);try{s.start({...r,callId:e,cancel:d},o)}catch(g){a(g)}}})}var n7=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?O0(e.get()):t.every(r=>r.noop)?Ipe(e.get()):Tl(e.get(),t.every(r=>r.finished)),Ipe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Tl=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),O0=e=>({value:e,cancelled:!0,finished:!1});function Ope(e,t,r,n){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:l}=r;return!s&&e===a&&!t.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=e;const u=Xk(t,(b,_)=>_==="onRest"?void 0:b);let d,h;const f=new Promise((b,_)=>(d=b,h=_)),y=b=>{const _=i<=(r.cancelId||0)&&O0(n)||i!==r.asyncId&&Tl(n,!1);if(_)throw b.result=_,h(b),b},g=(b,_)=>{const x=new JZ,S=new KZ;return(async()=>{if(Fl.skipAnimation)throw ex(r),S.result=Tl(n,!1),h(S),S;y(x);const $=me.obj(b)?{...b}:{..._,to:b};$.parentId=i,Uu(u,(k,E)=>{me.und($[E])&&($[E]=k)});const C=await n.start($);return y(x),r.paused&&await new Promise(k=>{r.resumeQueue.add(k)}),C})()};let v;if(Fl.skipAnimation)return ex(r),Tl(n,!1);try{let b;me.arr(e)?b=(async _=>{for(const x of _)await g(x)})(e):b=Promise.resolve(e(g,n.stop.bind(n))),await Promise.all([b.then(d),f]),v=Tl(n.get(),!0,!1)}catch(b){if(b instanceof JZ)v=b.result;else if(b instanceof KZ)v=b.result;else throw b}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?a:void 0,r.promise=s?l:void 0)}return me.fun(o)&&_t.batchedUpdates(()=>{o(v,n,n.item)}),v})()}function ex(e,t){Ww(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var JZ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},KZ=class extends Error{constructor(){super("SkipAnimationSignal")}},e8=e=>e instanceof i7,gYe=1,i7=class extends vpe{constructor(){super(...arguments),this.id=gYe++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vu(this);return e&&e.getValue()}to(...e){return Fl.to(this,e)}interpolate(...e){return KZe(),Fl.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Y_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||qk.sort(this),Y_(this,{type:"priority",parent:this,priority:e})}},Ym=Symbol.for("SpringPhase"),Ppe=1,t8=2,r8=4,IP=e=>(e[Ym]&Ppe)>0,Fd=e=>(e[Ym]&t8)>0,z1=e=>(e[Ym]&r8)>0,XZ=(e,t)=>t?e[Ym]|=t8|Ppe:e[Ym]&=~t8,QZ=(e,t)=>t?e[Ym]|=r8:e[Ym]&=~r8,vYe=class extends i7{constructor(e,t){if(super(),this.animation=new yYe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!me.und(e)||!me.und(t)){const r=me.obj(e)?{...e}:{...t,from:e};me.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Fd(this)||this._state.asyncTo)||z1(this)}get goal(){return Js(this.animation.to)}get velocity(){const e=vu(this);return e instanceof aS?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return IP(this)}get isAnimating(){return Fd(this)}get isPaused(){return z1(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,o=Jk(n.to);!o&&wa(n.to)&&(i=Is(Js(n.to))),n.values.forEach((u,d)=>{if(u.done)return;const h=u.constructor==X_?1:o?o[d].lastPosition:i[d];let f=n.immediate,y=h;if(!f){if(y=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=e;const v=n.fromValues[d],b=u.v0!=null?u.v0:u.v0=me.arr(s.velocity)?s.velocity[d]:s.velocity;let _;const x=s.precision||(v==h?.005:Math.min(1,Math.abs(h-v)*.001));if(me.und(s.duration))if(s.decay){const S=s.decay===!0?.998:s.decay,$=Math.exp(-(1-S)*g);y=v+b/(1-S)*(1-$),f=Math.abs(u.lastPosition-y)<=x,_=b*$}else{_=u.lastVelocity==null?b:u.lastVelocity;const S=s.restVelocity||x/10,$=s.clamp?0:s.bounce,C=!me.und($),k=v==h?u.v0>0:v<h;let E,P=!1;const T=1,M=Math.ceil(e/T);for(let O=0;O<M&&(E=Math.abs(_)>S,!(!E&&(f=Math.abs(h-y)<=x,f)));++O){C&&(P=y==h||y>h==k,P&&(_=-_*$,y=h));const j=-s.tension*1e-6*(y-h),N=-s.friction*.001*_,L=(j+N)/s.mass;_=_+L*T,y=y+_*T}}else{let S=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=e)),S=(s.progress||0)+g/this._memoizedDuration,S=S>1?1:S<0?0:S,u.durationProgress=S),y=v+s.easing(S)*(h-v),_=(y-u.lastPosition)/e,f=S==1}u.lastVelocity=_,Number.isNaN(y)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[d].done&&(f=!1),f?u.done=!0:t=!1,u.setValue(y,s.round)&&(r=!0)});const a=vu(this),l=a.getValue();if(t){const u=Js(n.to);(l!==u||r)&&!s.decay?(a.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(e){return _t.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Fd(this)){const{to:e,config:t}=this.animation;_t.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return me.und(e)?(r=this.queue||[],this.queue=[]):r=[me.obj(e)?e:{...t,to:e}],Promise.all(r.map(n=>this._update(n))).then(n=>n7(this,n))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),ex(this._state,e&&this._lastCallId),_t.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:n}=e;r=me.obj(r)?r[t]:r,(r==null||Kj(r))&&(r=void 0),n=me.obj(n)?n[t]:n,n==null&&(n=void 0);const i={to:r,from:n};return IP(this)||(e.reverse&&([r,n]=[n,r]),n=Js(n),me.und(n)?vu(this)||this._set(r):this._set(n)),i}_update({...e},t){const{key:r,defaultProps:n}=this;e.default&&Object.assign(n,Xk(e,(o,a)=>/^on/.test(a)?Tpe(o,r):o)),tY(this,e,"onProps"),B1(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return kpe(++this._lastCallId,{key:r,props:e,defaultProps:n,state:s,actions:{pause:()=>{z1(this)||(QZ(this,!0),sw(s.pauseQueue),B1(this,"onPause",Tl(this,V1(this,this.animation.to)),this))},resume:()=>{z1(this)&&(QZ(this,!1),Fd(this)&&this._resume(),sw(s.resumeQueue),B1(this,"onResume",Tl(this,V1(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=Ape(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(O0(this));const n=!me.und(e.to),i=!me.und(e.from);if(n||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(O0(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:d=l,from:h=u}=e;i&&!n&&(!t.default||me.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const f=!zc(h,u);f&&(a.from=h),h=Js(h);const y=!zc(d,l);y&&this._focus(d);const g=Kj(t.to),{config:v}=a,{decay:b,velocity:_}=v;(n||i)&&(v.velocity=0),t.config&&!g&&mYe(v,Ks(t.config,s),t.config!==o.config?Ks(o.config,s):void 0);let x=vu(this);if(!x||me.und(d))return r(Tl(this,!0));const S=me.und(t.reset)?i&&!t.default:!me.und(h)&&Hw(t.reset,s),$=S?h:this.get(),C=Q_(d),k=me.num(C)||me.arr(C)||Yk(C),E=!g&&(!k||Hw(o.immediate||t.immediate,s));if(y){const O=Jj(d);if(O!==x.constructor)if(E)x=this._set(C);else throw Error(`Cannot animate between ${x.constructor.name} and ${O.name}, as the "to" prop suggests`)}const P=x.constructor;let T=wa(d),M=!1;if(!T){const O=S||!IP(this)&&f;(y||O)&&(M=zc(Q_($),C),T=!M),(!zc(a.immediate,E)&&!E||!zc(v.decay,b)||!zc(v.velocity,_))&&(T=!0)}if(M&&Fd(this)&&(a.changed&&!S?T=!0:T||this._stop(l)),!g&&((T||wa(l))&&(a.values=x.getPayload(),a.toValues=wa(d)?null:P==X_?[1]:Is(C)),a.immediate!=E&&(a.immediate=E,!E&&!S&&this._set(l)),T)){const{onRest:O}=a;vt(wYe,N=>tY(this,t,N));const j=Tl(this,V1(this,l));sw(this._pendingCalls,j),this._pendingCalls.add(r),a.changed&&_t.batchedUpdates(()=>{var N;a.changed=!S,O==null||O(j,this),S?Ks(o.onRest,j):(N=a.onStart)==null||N.call(a,j,this)})}S&&this._set($),g?r(Ope(t.to,t,this._state,this)):T?this._start():Fd(this)&&!y?this._pendingCalls.add(r):r(Ipe($))}_focus(e){const t=this.animation;e!==t.to&&(UZ(this)&&this._detach(),t.to=e,UZ(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;wa(t)&&(Fv(t,this),e8(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;wa(e)&&J_(e,this)}_set(e,t=!0){const r=Js(e);if(!me.und(r)){const n=vu(this);if(!n||!zc(r,n.getValue())){const i=Jj(r);!n||n.constructor!=i?e7(this,i.create(r)):n.setValue(r),n&&_t.batchedUpdates(()=>{this._onChange(r,t)})}}return vu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,B1(this,"onStart",Tl(this,V1(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ks(this.animation.onChange,e,this)),Ks(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vu(this).reset(Js(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Fd(this)||(XZ(this,!0),z1(this)||this._resume())}_resume(){Fl.skipAnimation?this.finish():qk.start(this)}_stop(e,t){if(Fd(this)){XZ(this,!1);const r=this.animation;vt(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Y_(this,{type:"idle",parent:this});const n=t?O0(this.get()):Tl(this.get(),V1(this,e??r.to));sw(this._pendingCalls,n),r.changed&&(r.changed=!1,B1(this,"onRest",n,this))}}};function V1(e,t){const r=Q_(t),n=Q_(e.get());return zc(n,r)}function Ape(e,t=e.loop,r=e.to){const n=Ks(t);if(n){const i=n!==!0&&t7(n),s=(i||e).reverse,o=!i||i.reset;return tx({...e,loop:t,default:!1,pause:void 0,to:!s||Kj(r)?r:void 0,from:o?e.from:void 0,reset:o,...i})}}function tx(e){const{to:t,from:r}=e=t7(e),n=new Set;return me.obj(t)&&eY(t,n),me.obj(r)&&eY(r,n),e.keys=n.size?Array.from(n):null,e}function bYe(e){const t=tx(e);return me.und(t.default)&&(t.default=Xk(t)),t}function eY(e,t){Uu(e,(r,n)=>r!=null&&t.add(n))}var wYe=["onStart","onRest","onChange","onPause","onResume"];function tY(e,t,r){e.animation[r]=t[r]!==Mpe(t,r)?Tpe(t[r],e.key):void 0}function B1(e,t,...r){var n,i,s,o;(i=(n=e.animation)[t])==null||i.call(n,...r),(o=(s=e.defaultProps)[t])==null||o.call(s,...r)}var _Ye=["onStart","onChange","onRest"],xYe=1,Rpe=class{constructor(e,t){this.id=xYe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];me.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(tx(e)),this}start(e){let{queue:t}=this;return e?t=Is(e).map(tx):this.queue=[],this._flush?this._flush(this,t):(Dpe(this,t),n8(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;vt(Is(t),n=>r[n].stop(!!e))}else ex(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(me.und(e))this.start({pause:!0});else{const t=this.springs;vt(Is(e),r=>t[r].pause())}return this}resume(e){if(me.und(e))this.start({pause:!1});else{const t=this.springs;vt(Is(e),r=>t[r].resume())}return this}each(e){Uu(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Ww(e,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!n&&this._started,o=i||s&&r.size?this.get():null;i&&t.size&&Ww(t,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Ww(r,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;_t.onFrame(this._onFrame)}};function n8(e,t){return Promise.all(t.map(r=>Lpe(e,r))).then(r=>n7(e,r))}async function Lpe(e,t,r){const{keys:n,to:i,from:s,loop:o,onRest:a,onResolve:l}=t,u=me.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const d=me.arr(i)||me.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):vt(_Ye,v=>{const b=t[v];if(me.fun(b)){const _=e._events[v];t[v]=({finished:x,cancelled:S})=>{const $=_.get(b);$?(x||($.finished=!1),S&&($.cancelled=!0)):_.set(b,{value:null,finished:x||!1,cancelled:S||!1})},u&&(u[v]=t[v])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,sw(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const f=(n||Object.keys(e.springs)).map(v=>e.springs[v].start(t)),y=t.cancel===!0||Mpe(t,"cancel")===!0;(d||y&&h.asyncId)&&f.push(kpe(++e._lastAsyncId,{props:t,state:h,actions:{pause:Hj,resume:Hj,start(v,b){y?(ex(h,e._lastAsyncId),b(O0(e))):(v.onRest=a,b(Ope(d,v,h,e)))}}})),h.paused&&await new Promise(v=>{h.resumeQueue.add(v)});const g=n7(e,await Promise.all(f));if(o&&g.finished&&!(r&&g.noop)){const v=Ape(t,o,i);if(v)return Dpe(e,[v]),Lpe(e,v,!0)}return l&&_t.batchedUpdates(()=>l(g,e,e.item)),g}function i8(e,t){const r={...e.springs};return t&&vt(Is(t),n=>{me.und(n.keys)&&(n=tx(n)),me.obj(n.to)||(n={...n,to:void 0}),Fpe(r,n,i=>Npe(i))}),jpe(e,r),r}function jpe(e,t){Uu(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,Fv(r,e))})}function Npe(e,t){const r=new vYe;return r.key=e,t&&Fv(r,t),r}function Fpe(e,t,r){t.keys&&vt(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function Dpe(e,t){vt(t,r=>{Fpe(e.springs,r,n=>Npe(n,e))})}var lS=({children:e,...t})=>{const r=I.useContext(aC),n=t.pause||!!r.pause,i=t.immediate||!!r.immediate;t=tYe(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=aC;return I.createElement(s,{value:t},e)},aC=SYe(lS,{});lS.Provider=aC.Provider;lS.Consumer=aC.Consumer;function SYe(e,t){return Object.assign(e,I.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var zpe=()=>{const e=[],t=function(n){QZe();const i=[];return vt(e,(s,o)=>{if(me.und(n))i.push(s.start());else{const a=r(n,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){const i=e.indexOf(n);~i&&e.splice(i,1)},t.pause=function(){return vt(e,n=>n.pause(...arguments)),this},t.resume=function(){return vt(e,n=>n.resume(...arguments)),this},t.set=function(n){vt(e,(i,s)=>{const o=me.fun(n)?n(s,i):n;o&&i.set(o)})},t.start=function(n){const i=[];return vt(e,(s,o)=>{if(me.und(n))i.push(s.start());else{const a=this._getProps(n,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return vt(e,n=>n.stop(...arguments)),this},t.update=function(n){return vt(e,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return me.fun(n)?n(s,i):n};return t._getProps=r,t};function $Ye(e,t,r){const n=me.fun(t)&&t;n&&!r&&(r=[]);const i=I.useMemo(()=>n||arguments.length==3?zpe():void 0,[]),s=I.useRef(0),o=XD(),a=I.useMemo(()=>({ctrls:[],queue:[],flush(_,x){const S=i8(_,x);return s.current>0&&!a.queue.length&&!Object.keys(S).some(C=>!_.springs[C])?n8(_,x):new Promise(C=>{jpe(_,S),a.queue.push(()=>{C(n8(_,x))}),o()})}}),[]),l=I.useRef([...a.ctrls]),u=[],d=Yj(e)||0;I.useMemo(()=>{vt(l.current.slice(e,d),_=>{Xj(_,i),_.stop(!0)}),l.current.length=e,h(d,e)},[e]),I.useMemo(()=>{h(0,Math.min(d,e))},r);function h(_,x){for(let S=_;S<x;S++){const $=l.current[S]||(l.current[S]=new Rpe(null,a.flush)),C=n?n(S,$):t[S];C&&(u[S]=bYe(C))}}const f=l.current.map((_,x)=>i8(_,u[x])),y=I.useContext(lS),g=Yj(y),v=y!==g&&Cpe(y);am(()=>{s.current++,a.ctrls=l.current;const{queue:_}=a;_.length&&(a.queue=[],vt(_,x=>x())),vt(l.current,(x,S)=>{i==null||i.add(x),v&&x.start({default:y});const $=u[S];$&&(Epe(x,$.ref),x.ref?x.queue.push($):x.start($))})}),QD(()=>()=>{vt(a.ctrls,_=>_.stop(!0))});const b=f.map(_=>({..._}));return i?[b,i]:b}function Yu(e,t){const r=me.fun(e),[[n],i]=$Ye(1,r?e:[e],r?[]:t);return r||arguments.length==2?[n,i]:n}function Qk(e,t,r){const n=me.fun(t)&&t,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:d,config:h}=n?n():t,f=I.useMemo(()=>n||arguments.length==3?zpe():void 0,[]),y=Is(e),g=[],v=I.useRef(null),b=i?null:v.current;am(()=>{v.current=g}),QD(()=>(vt(g,L=>{f==null||f.add(L.ctrl),L.ctrl.ref=f}),()=>{vt(v.current,L=>{L.expired&&clearTimeout(L.expirationId),Xj(L.ctrl,f),L.ctrl.stop(!0)})}));const _=MYe(y,n?n():t,b),x=i&&v.current||[];am(()=>vt(x,({ctrl:L,item:z,key:B})=>{Xj(L,f),Ks(u,z,B)}));const S=[];if(b&&vt(b,(L,z)=>{L.expired?(clearTimeout(L.expirationId),x.push(L)):(z=S[z]=_.indexOf(L.key),~z&&(g[z]=L))}),vt(y,(L,z)=>{g[z]||(g[z]={key:_[z],item:L,phase:"mount",ctrl:new Rpe},g[z].ctrl.item=L)}),S.length){let L=-1;const{leave:z}=n?n():t;vt(S,(B,U)=>{const F=b[U];~B?(L=g.indexOf(F),g[L]={...F,item:y[B]}):z&&g.splice(++L,0,F)})}me.fun(s)&&g.sort((L,z)=>s(L.item,z.item));let $=-o;const C=XD(),k=Xk(t),E=new Map,P=I.useRef(new Map),T=I.useRef(!1);vt(g,(L,z)=>{const B=L.key,U=L.phase,F=n?n():t;let D,K;const le=Ks(F.delay||0,B);if(U=="mount")D=F.enter,K="enter";else{const Ge=_.indexOf(B)<0;if(U!="leave")if(Ge)D=F.leave,K="leave";else if(D=F.update)K="update";else return;else if(!Ge)D=F.enter,K="enter";else return}if(D=Ks(D,L.item,z),D=me.obj(D)?t7(D):{to:D},!D.config){const Ge=h||k.config;D.config=Ks(Ge,L.item,z,K)}$+=o;const he={...k,delay:le+$,ref:d,immediate:F.immediate,reset:!1,...D};if(K=="enter"&&me.und(he.from)){const Ge=n?n():t,se=me.und(Ge.initial)||b?Ge.from:Ge.initial;he.from=Ks(se,L.item,z)}const{onResolve:Ue}=he;he.onResolve=Ge=>{Ks(Ue,Ge);const se=v.current,we=se.find(de=>de.key===B);if(we&&!(Ge.cancelled&&we.phase!="update")&&we.ctrl.idle){const de=se.every(Y=>Y.ctrl.idle);if(we.phase=="leave"){const Y=Ks(a,we.item);if(Y!==!1){const ce=Y===!0?0:Y;if(we.expired=!0,!de&&ce>0){ce<=2147483647&&(we.expirationId=setTimeout(C,ce));return}}}de&&se.some(Y=>Y.expired)&&(P.current.delete(we),l&&(T.current=!0),C())}};const fe=i8(L.ctrl,he);K==="leave"&&l?P.current.set(L,{phase:K,springs:fe,payload:he}):E.set(L,{phase:K,springs:fe,payload:he})});const M=I.useContext(lS),O=Yj(M),j=M!==O&&Cpe(M);am(()=>{j&&vt(g,L=>{L.ctrl.start({default:M})})},[M]),vt(E,(L,z)=>{if(P.current.size){const B=g.findIndex(U=>U.key===z.key);g.splice(B,1)}}),am(()=>{vt(P.current.size?P.current:E,({phase:L,payload:z},B)=>{const{ctrl:U}=B;B.phase=L,f==null||f.add(U),j&&L=="enter"&&U.start({default:M}),z&&(Epe(U,z.ref),(U.ref||f)&&!T.current?U.update(z):(U.start(z),T.current&&(T.current=!1)))})},i?void 0:r);const N=L=>I.createElement(I.Fragment,null,g.map((z,B)=>{const{springs:U}=E.get(z)||z.ctrl,F=L({...U},z.item,z,B);return F&&F.type?I.createElement(F.type,{...F.props,key:me.str(z.key)||me.num(z.key)?z.key:z.ctrl.id,ref:F.ref}):F}));return f?[N,f]:N}var TYe=1;function MYe(e,{key:t,keys:r=t},n){if(r===null){const i=new Set;return e.map(s=>{const o=n&&n.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):TYe++})}return me.und(r)?e:me.fun(r)?e.map(r):Is(r)}var Vpe=class extends i7{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=H_(...t);const r=this._get(),n=Jj(r);e7(this,n.create(r))}advance(e){const t=this._get(),r=this.get();zc(t,r)||(vu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&rY(this._active)&&OP(this)}_get(){const e=me.arr(this.source)?this.source.map(Js):Is(Js(this.source));return this.calc(...e)}_start(){this.idle&&!rY(this._active)&&(this.idle=!1,vt(Jk(this),e=>{e.done=!1}),Fl.skipAnimation?(_t.batchedUpdates(()=>this.advance()),OP(this)):qk.start(this))}_attach(){let e=1;vt(Is(this.source),t=>{wa(t)&&Fv(t,this),e8(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){vt(Is(this.source),e=>{wa(e)&&J_(e,this)}),this._active.clear(),OP(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Is(this.source).reduce((t,r)=>Math.max(t,(e8(r)?r.priority:0)+1),0))}};function CYe(e){return e.idle!==!1}function rY(e){return!e.size||Array.from(e).every(CYe)}function OP(e){e.idle||(e.idle=!0,vt(Jk(e),t=>{t.done=!0}),Y_(e,{type:"idle",parent:e}))}var s8=(e,...t)=>new Vpe(e,t);Fl.assign({createStringInterpolator:_pe,to:(e,t)=>new Vpe(e,t)});var Bpe=/^--/;function EYe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Bpe.test(e)&&!(Zw.hasOwnProperty(e)&&Zw[e])?t+"px":(""+t).trim()}var nY={};function kYe(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:n,style:i,children:s,scrollTop:o,scrollLeft:a,viewBox:l,...u}=t,d=Object.values(u),h=Object.keys(u).map(f=>r||e.hasAttribute(f)?f:nY[f]||(nY[f]=f.replace(/([A-Z])/g,y=>"-"+y.toLowerCase())));s!==void 0&&(e.textContent=s);for(const f in i)if(i.hasOwnProperty(f)){const y=EYe(f,i[f]);Bpe.test(f)?e.style.setProperty(f,y):e.style[f]=y}h.forEach((f,y)=>{e.setAttribute(f,d[y])}),n!==void 0&&(e.className=n),o!==void 0&&(e.scrollTop=o),a!==void 0&&(e.scrollLeft=a),l!==void 0&&e.setAttribute("viewBox",l)}var Zw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IYe=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),OYe=["Webkit","Ms","Moz","O"];Zw=Object.keys(Zw).reduce((e,t)=>(OYe.forEach(r=>e[IYe(r,t)]=e[t]),e),Zw);var PYe=/^(matrix|translate|scale|rotate|skew)/,AYe=/^(translate)/,RYe=/^(rotate|skew)/,PP=(e,t)=>me.num(e)&&e!==0?e+t:e,iM=(e,t)=>me.arr(e)?e.every(r=>iM(r,t)):me.num(e)?e===t:parseFloat(e)===t,LYe=class extends Kk{constructor({x:e,y:t,z:r,...n}){const i=[],s=[];(e||t||r)&&(i.push([e||0,t||0,r||0]),s.push(o=>[`translate3d(${o.map(a=>PP(a,"px")).join(",")})`,iM(o,0)])),Uu(n,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(PYe.test(a)){if(delete n[a],me.und(o))return;const l=AYe.test(a)?"px":RYe.test(a)?"deg":"";i.push(Is(o)),s.push(a==="rotate3d"?([u,d,h,f])=>[`rotate3d(${u},${d},${h},${PP(f,l)})`,iM(f,0)]:u=>[`${a}(${u.map(d=>PP(d,l)).join(",")})`,iM(u,a.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new jYe(i,s)),super(n)}},jYe=class extends vpe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return vt(this.inputs,(r,n)=>{const i=Js(r[0]),[s,o]=this.transforms[n](me.arr(i)?i:r.map(Js));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&vt(this.inputs,t=>vt(t,r=>wa(r)&&Fv(r,this)))}observerRemoved(e){e==0&&vt(this.inputs,t=>vt(t,r=>wa(r)&&J_(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Y_(this,e)}},NYe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Fl.assign({batchedUpdates:GC.unstable_batchedUpdates,createStringInterpolator:_pe,colors:IZe});var FYe=uYe(NYe,{applyAnimatedValues:kYe,createAnimatedStyle:e=>new LYe(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),vn=FYe.animated;function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}var DYe={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},iY=function(e,t){return"translate("+e+"px, "+t+"px)"},Upe=I.memo(function(e){var t,r=e.position,n=e.anchor,i=e.children,s=cn(),o=Ka(),a=o.animate,l=o.config,u=Xfe(),d=u[0],h=u[1],f=I.useRef(!1),y=void 0,g=!1,v=h.width>0&&h.height>0,b=Math.round(r[0]),_=Math.round(r[1]);v&&(n==="top"?(b-=h.width/2,_-=h.height+14):n==="right"?(b+=14,_-=h.height/2):n==="bottom"?(b-=h.width/2,_+=14):n==="left"?(b-=h.width+14,_-=h.height/2):n==="center"&&(b-=h.width/2,_-=h.height/2),y={transform:iY(b,_)},f.current||(g=!0),f.current=[b,_]);var x=Yu({to:y,config:l,immediate:!a||g}),S=Jm({},DYe,s.tooltip.wrapper,{transform:(t=x.transform)!=null?t:iY(b,_),opacity:x.transform?1:0});return w.jsx(vn.div,{ref:d,style:S,children:i})});Upe.displayName="TooltipWrapper";var Gpe=I.memo(function(e){var t=e.size,r=t===void 0?12:t,n=e.color,i=e.style;return w.jsx("span",{style:Jm({display:"block",width:r,height:r,background:n},i===void 0?{}:i)})}),Wpe=I.memo(function(e){var t,r=e.id,n=e.value,i=e.format,s=e.enableChip,o=s!==void 0&&s,a=e.color,l=e.renderContent,u=cn(),d=ux(i);if(typeof l=="function")t=l();else{var h=n;d!==void 0&&h!==void 0&&(h=d(h)),t=w.jsxs("div",{style:u.tooltip.basic,children:[o&&w.jsx(Gpe,{color:a,style:u.tooltip.chip}),h!==void 0?w.jsxs("span",{children:[r,": ",w.jsx("strong",{children:""+h})]}):r]})}return w.jsx("div",{style:u.tooltip.container,children:t})}),zYe={width:"100%",borderCollapse:"collapse"},qpe=I.memo(function(e){var t,r=e.title,n=e.rows,i=n===void 0?[]:n,s=e.renderContent,o=cn();return i.length?(t=typeof s=="function"?s():w.jsxs("div",{children:[r&&r,w.jsx("table",{style:Jm({},zYe,o.tooltip.table),children:w.jsx("tbody",{children:i.map(function(a,l){return w.jsx("tr",{children:a.map(function(u,d){return w.jsx("td",{style:o.tooltip.tableCell,children:u},d)})},l)})})})]}),w.jsx("div",{style:o.tooltip.container,children:t})):null});qpe.displayName="TableTooltip";var o8=I.memo(function(e){var t=e.x0,r=e.x1,n=e.y0,i=e.y1,s=cn(),o=Ka(),a=o.animate,l=o.config,u=I.useMemo(function(){return Jm({},s.crosshair.line,{pointerEvents:"none"})},[s.crosshair.line]),d=Yu({x1:t,x2:r,y1:n,y2:i,config:l,immediate:!a});return w.jsx(vn.line,Jm({},d,{fill:"none",style:u}))});o8.displayName="CrosshairLine";var a8=I.memo(function(e){var t,r,n=e.width,i=e.height,s=e.type,o=e.x,a=e.y;return s==="cross"?(t={x0:o,x1:o,y0:0,y1:i},r={x0:0,x1:n,y0:a,y1:a}):s==="top-left"?(t={x0:o,x1:o,y0:0,y1:a},r={x0:0,x1:o,y0:a,y1:a}):s==="top"?t={x0:o,x1:o,y0:0,y1:a}:s==="top-right"?(t={x0:o,x1:o,y0:0,y1:a},r={x0:o,x1:n,y0:a,y1:a}):s==="right"?r={x0:o,x1:n,y0:a,y1:a}:s==="bottom-right"?(t={x0:o,x1:o,y0:a,y1:i},r={x0:o,x1:n,y0:a,y1:a}):s==="bottom"?t={x0:o,x1:o,y0:a,y1:i}:s==="bottom-left"?(t={x0:o,x1:o,y0:a,y1:i},r={x0:0,x1:o,y0:a,y1:a}):s==="left"?r={x0:0,x1:o,y0:a,y1:a}:s==="x"?t={x0:o,x1:o,y0:0,y1:i}:s==="y"&&(r={x0:0,x1:n,y0:a,y1:a}),w.jsxs(w.Fragment,{children:[t&&w.jsx(o8,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),r&&w.jsx(o8,{x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1})]})});a8.displayName="Crosshair";var Hpe=I.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),l8={isVisible:!1,position:[null,null],content:null,anchor:null},Zpe=I.createContext(l8),VYe=function(e){var t=I.useState(l8),r=t[0],n=t[1],i=I.useCallback(function(a,l,u){var d=l[0],h=l[1];u===void 0&&(u="top"),n({isVisible:!0,position:[d,h],anchor:u,content:a})},[n]),s=I.useCallback(function(a,l,u){u===void 0&&(u="top");var d=e.current.getBoundingClientRect(),h=e.current.offsetWidth,f=h===d.width?1:h/d.width,y="touches"in l?l.touches[0]:l,g=y.clientX,v=y.clientY,b=(g-d.left)*f,_=(v-d.top)*f;u!=="left"&&u!=="right"||(u=b<d.width/2?"right":"left"),n({isVisible:!0,position:[b,_],anchor:u,content:a})},[e,n]),o=I.useCallback(function(){n(l8)},[n]);return{actions:I.useMemo(function(){return{showTooltipAt:i,showTooltipFromEvent:s,hideTooltip:o}},[i,s,o]),state:r}},Dv=function(){var e=I.useContext(Hpe);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},BYe=function(){var e=I.useContext(Zpe);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},UYe=function(e){return e.isVisible},GYe=function(){var e=BYe();return UYe(e)?w.jsx(Upe,{position:e.position,anchor:e.anchor,children:e.content}):null},WYe=function(e){var t=e.container,r=e.children,n=VYe(t),i=n.actions,s=n.state;return w.jsx(Hpe.Provider,{value:i,children:w.jsx(Zpe.Provider,{value:s,children:r})})};function qYe(){this.__data__=[],this.size=0}var HYe=qYe;function ZYe(e,t){return e===t||e!==e&&t!==t}var uS=ZYe,YYe=uS;function JYe(e,t){for(var r=e.length;r--;)if(YYe(e[r][0],t))return r;return-1}var eI=JYe,KYe=eI,XYe=Array.prototype,QYe=XYe.splice;function eJe(e){var t=this.__data__,r=KYe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():QYe.call(t,r,1),--this.size,!0}var tJe=eJe,rJe=eI;function nJe(e){var t=this.__data__,r=rJe(t,e);return r<0?void 0:t[r][1]}var iJe=nJe,sJe=eI;function oJe(e){return sJe(this.__data__,e)>-1}var aJe=oJe,lJe=eI;function uJe(e,t){var r=this.__data__,n=lJe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var cJe=uJe,dJe=HYe,pJe=tJe,hJe=iJe,fJe=aJe,mJe=cJe;function zv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zv.prototype.clear=dJe;zv.prototype.delete=pJe;zv.prototype.get=hJe;zv.prototype.has=fJe;zv.prototype.set=mJe;var tI=zv,yJe=tI;function gJe(){this.__data__=new yJe,this.size=0}var vJe=gJe;function bJe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var wJe=bJe;function _Je(e){return this.__data__.get(e)}var xJe=_Je;function SJe(e){return this.__data__.has(e)}var $Je=SJe,TJe=typeof wS=="object"&&wS&&wS.Object===Object&&wS,Ype=TJe,MJe=Ype,CJe=typeof self=="object"&&self&&self.Object===Object&&self,EJe=MJe||CJe||Function("return this")(),Ju=EJe,kJe=Ju,IJe=kJe.Symbol,Vv=IJe,sY=Vv,Jpe=Object.prototype,OJe=Jpe.hasOwnProperty,PJe=Jpe.toString,U1=sY?sY.toStringTag:void 0;function AJe(e){var t=OJe.call(e,U1),r=e[U1];try{e[U1]=void 0;var n=!0}catch{}var i=PJe.call(e);return n&&(t?e[U1]=r:delete e[U1]),i}var RJe=AJe,LJe=Object.prototype,jJe=LJe.toString;function NJe(e){return jJe.call(e)}var FJe=NJe,oY=Vv,DJe=RJe,zJe=FJe,VJe="[object Null]",BJe="[object Undefined]",aY=oY?oY.toStringTag:void 0;function UJe(e){return e==null?e===void 0?BJe:VJe:aY&&aY in Object(e)?DJe(e):zJe(e)}var wd=UJe;function GJe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ku=GJe,WJe=wd,qJe=Ku,HJe="[object AsyncFunction]",ZJe="[object Function]",YJe="[object GeneratorFunction]",JJe="[object Proxy]";function KJe(e){if(!qJe(e))return!1;var t=WJe(e);return t==ZJe||t==YJe||t==HJe||t==JJe}var rI=KJe;const s7=Nn(rI);var XJe=Ju,QJe=XJe["__core-js_shared__"],eKe=QJe,AP=eKe,lY=function(){var e=/[^.]+$/.exec(AP&&AP.keys&&AP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tKe(e){return!!lY&&lY in e}var rKe=tKe,nKe=Function.prototype,iKe=nKe.toString;function sKe(e){if(e!=null){try{return iKe.call(e)}catch{}try{return e+""}catch{}}return""}var Kpe=sKe,oKe=rI,aKe=rKe,lKe=Ku,uKe=Kpe,cKe=/[\\^$.*+?()[\]{}|]/g,dKe=/^\[object .+?Constructor\]$/,pKe=Function.prototype,hKe=Object.prototype,fKe=pKe.toString,mKe=hKe.hasOwnProperty,yKe=RegExp("^"+fKe.call(mKe).replace(cKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gKe(e){if(!lKe(e)||aKe(e))return!1;var t=oKe(e)?yKe:dKe;return t.test(uKe(e))}var vKe=gKe;function bKe(e,t){return e==null?void 0:e[t]}var wKe=bKe,_Ke=vKe,xKe=wKe;function SKe(e,t){var r=xKe(e,t);return _Ke(r)?r:void 0}var fy=SKe,$Ke=fy,TKe=Ju,MKe=$Ke(TKe,"Map"),o7=MKe,CKe=fy,EKe=CKe(Object,"create"),nI=EKe,uY=nI;function kKe(){this.__data__=uY?uY(null):{},this.size=0}var IKe=kKe;function OKe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PKe=OKe,AKe=nI,RKe="__lodash_hash_undefined__",LKe=Object.prototype,jKe=LKe.hasOwnProperty;function NKe(e){var t=this.__data__;if(AKe){var r=t[e];return r===RKe?void 0:r}return jKe.call(t,e)?t[e]:void 0}var FKe=NKe,DKe=nI,zKe=Object.prototype,VKe=zKe.hasOwnProperty;function BKe(e){var t=this.__data__;return DKe?t[e]!==void 0:VKe.call(t,e)}var UKe=BKe,GKe=nI,WKe="__lodash_hash_undefined__";function qKe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=GKe&&t===void 0?WKe:t,this}var HKe=qKe,ZKe=IKe,YKe=PKe,JKe=FKe,KKe=UKe,XKe=HKe;function Bv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bv.prototype.clear=ZKe;Bv.prototype.delete=YKe;Bv.prototype.get=JKe;Bv.prototype.has=KKe;Bv.prototype.set=XKe;var QKe=Bv,cY=QKe,eXe=tI,tXe=o7;function rXe(){this.size=0,this.__data__={hash:new cY,map:new(tXe||eXe),string:new cY}}var nXe=rXe;function iXe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sXe=iXe,oXe=sXe;function aXe(e,t){var r=e.__data__;return oXe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var iI=aXe,lXe=iI;function uXe(e){var t=lXe(this,e).delete(e);return this.size-=t?1:0,t}var cXe=uXe,dXe=iI;function pXe(e){return dXe(this,e).get(e)}var hXe=pXe,fXe=iI;function mXe(e){return fXe(this,e).has(e)}var yXe=mXe,gXe=iI;function vXe(e,t){var r=gXe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bXe=vXe,wXe=nXe,_Xe=cXe,xXe=hXe,SXe=yXe,$Xe=bXe;function Uv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uv.prototype.clear=wXe;Uv.prototype.delete=_Xe;Uv.prototype.get=xXe;Uv.prototype.has=SXe;Uv.prototype.set=$Xe;var a7=Uv,TXe=tI,MXe=o7,CXe=a7,EXe=200;function kXe(e,t){var r=this.__data__;if(r instanceof TXe){var n=r.__data__;if(!MXe||n.length<EXe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new CXe(n)}return r.set(e,t),this.size=r.size,this}var IXe=kXe,OXe=tI,PXe=vJe,AXe=wJe,RXe=xJe,LXe=$Je,jXe=IXe;function Gv(e){var t=this.__data__=new OXe(e);this.size=t.size}Gv.prototype.clear=PXe;Gv.prototype.delete=AXe;Gv.prototype.get=RXe;Gv.prototype.has=LXe;Gv.prototype.set=jXe;var sI=Gv,NXe=fy,FXe=function(){try{var e=NXe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Xpe=FXe,dY=Xpe;function DXe(e,t,r){t=="__proto__"&&dY?dY(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var l7=DXe,zXe=l7,VXe=uS;function BXe(e,t,r){(r!==void 0&&!VXe(e[t],r)||r===void 0&&!(t in e))&&zXe(e,t,r)}var Qpe=BXe;function UXe(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++i];if(r(s[l],l,s)===!1)break}return t}}var GXe=UXe,WXe=GXe,qXe=WXe(),ehe=qXe,lC={exports:{}};lC.exports;(function(e,t){var r=Ju,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=a?a(h):new u.constructor(h);return u.copy(f),f}e.exports=l})(lC,lC.exports);var the=lC.exports,HXe=Ju,ZXe=HXe.Uint8Array,rhe=ZXe,pY=rhe;function YXe(e){var t=new e.constructor(e.byteLength);return new pY(t).set(new pY(e)),t}var u7=YXe,JXe=u7;function KXe(e,t){var r=t?JXe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var nhe=KXe;function XXe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ihe=XXe,QXe=Ku,hY=Object.create,eQe=function(){function e(){}return function(t){if(!QXe(t))return{};if(hY)return hY(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),tQe=eQe;function rQe(e,t){return function(r){return e(t(r))}}var she=rQe,nQe=she,iQe=nQe(Object.getPrototypeOf,Object),c7=iQe,sQe=Object.prototype;function oQe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||sQe;return e===r}var d7=oQe,aQe=tQe,lQe=c7,uQe=d7;function cQe(e){return typeof e.constructor=="function"&&!uQe(e)?aQe(lQe(e)):{}}var ohe=cQe;function dQe(e){return e!=null&&typeof e=="object"}var Ja=dQe,pQe=wd,hQe=Ja,fQe="[object Arguments]";function mQe(e){return hQe(e)&&pQe(e)==fQe}var yQe=mQe,fY=yQe,gQe=Ja,ahe=Object.prototype,vQe=ahe.hasOwnProperty,bQe=ahe.propertyIsEnumerable,wQe=fY(function(){return arguments}())?fY:function(e){return gQe(e)&&vQe.call(e,"callee")&&!bQe.call(e,"callee")},oI=wQe,_Qe=Array.isArray,po=_Qe,xQe=9007199254740991;function SQe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xQe}var p7=SQe,$Qe=rI,TQe=p7;function MQe(e){return e!=null&&TQe(e.length)&&!$Qe(e)}var Wv=MQe,CQe=Wv,EQe=Ja;function kQe(e){return EQe(e)&&CQe(e)}var lhe=kQe,uC={exports:{}};function IQe(){return!1}var OQe=IQe;uC.exports;(function(e,t){var r=Ju,n=OQe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||n;e.exports=u})(uC,uC.exports);var aI=uC.exports,PQe=wd,AQe=c7,RQe=Ja,LQe="[object Object]",jQe=Function.prototype,NQe=Object.prototype,uhe=jQe.toString,FQe=NQe.hasOwnProperty,DQe=uhe.call(Object);function zQe(e){if(!RQe(e)||PQe(e)!=LQe)return!1;var t=AQe(e);if(t===null)return!0;var r=FQe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uhe.call(r)==DQe}var h7=zQe;const f7=Nn(h7);var VQe=wd,BQe=p7,UQe=Ja,GQe="[object Arguments]",WQe="[object Array]",qQe="[object Boolean]",HQe="[object Date]",ZQe="[object Error]",YQe="[object Function]",JQe="[object Map]",KQe="[object Number]",XQe="[object Object]",QQe="[object RegExp]",eet="[object Set]",tet="[object String]",ret="[object WeakMap]",net="[object ArrayBuffer]",iet="[object DataView]",set="[object Float32Array]",oet="[object Float64Array]",aet="[object Int8Array]",uet="[object Int16Array]",cet="[object Int32Array]",det="[object Uint8Array]",pet="[object Uint8ClampedArray]",het="[object Uint16Array]",fet="[object Uint32Array]",on={};on[set]=on[oet]=on[aet]=on[uet]=on[cet]=on[det]=on[pet]=on[het]=on[fet]=!0;on[GQe]=on[WQe]=on[net]=on[qQe]=on[iet]=on[HQe]=on[ZQe]=on[YQe]=on[JQe]=on[KQe]=on[XQe]=on[QQe]=on[eet]=on[tet]=on[ret]=!1;function met(e){return UQe(e)&&BQe(e.length)&&!!on[VQe(e)]}var yet=met;function get(e){return function(t){return e(t)}}var qv=get,cC={exports:{}};cC.exports;(function(e,t){var r=Ype,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(cC,cC.exports);var lI=cC.exports,vet=yet,bet=qv,mY=lI,yY=mY&&mY.isTypedArray,wet=yY?bet(yY):vet,m7=wet;function _et(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var che=_et,xet=l7,$et=uS,Tet=Object.prototype,Met=Tet.hasOwnProperty;function Cet(e,t,r){var n=e[t];(!(Met.call(e,t)&&$et(n,r))||r===void 0&&!(t in e))&&xet(e,t,r)}var y7=Cet,Eet=y7,ket=l7;function Iet(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(r[a],e[a],a,r,e):void 0;l===void 0&&(l=e[a]),i?ket(r,a,l):Eet(r,a,l)}return r}var Hv=Iet;function Oet(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Pet=Oet,Aet=9007199254740991,Ret=/^(?:0|[1-9]\d*)$/;function Let(e,t){var r=typeof e;return t=t??Aet,!!t&&(r=="number"||r!="symbol"&&Ret.test(e))&&e>-1&&e%1==0&&e<t}var uI=Let,jet=Pet,Net=oI,Fet=po,Det=aI,zet=uI,Vet=m7,Bet=Object.prototype,Uet=Bet.hasOwnProperty;function Get(e,t){var r=Fet(e),n=!r&&Net(e),i=!r&&!n&&Det(e),s=!r&&!n&&!i&&Vet(e),o=r||n||i||s,a=o?jet(e.length,String):[],l=a.length;for(var u in e)(t||Uet.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zet(u,l)))&&a.push(u);return a}var dhe=Get;function Wet(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var qet=Wet,Het=Ku,Zet=d7,Yet=qet,Jet=Object.prototype,Ket=Jet.hasOwnProperty;function Xet(e){if(!Het(e))return Yet(e);var t=Zet(e),r=[];for(var n in e)n=="constructor"&&(t||!Ket.call(e,n))||r.push(n);return r}var Qet=Xet,ett=dhe,ttt=Qet,rtt=Wv;function ntt(e){return rtt(e)?ett(e,!0):ttt(e)}var cS=ntt,itt=Hv,stt=cS;function ott(e){return itt(e,stt(e))}var att=ott,gY=Qpe,ltt=the,utt=nhe,ctt=ihe,dtt=ohe,vY=oI,bY=po,ptt=lhe,htt=aI,ftt=rI,mtt=Ku,ytt=h7,gtt=m7,wY=che,vtt=att;function btt(e,t,r,n,i,s,o){var a=wY(e,r),l=wY(t,r),u=o.get(l);if(u){gY(e,r,u);return}var d=s?s(a,l,r+"",e,t,o):void 0,h=d===void 0;if(h){var f=bY(l),y=!f&&htt(l),g=!f&&!y&&gtt(l);d=l,f||y||g?bY(a)?d=a:ptt(a)?d=ctt(a):y?(h=!1,d=ltt(l,!0)):g?(h=!1,d=utt(l,!0)):d=[]:ytt(l)||vY(l)?(d=a,vY(a)?d=vtt(a):(!mtt(a)||ftt(a))&&(d=dtt(l))):h=!1}h&&(o.set(l,d),i(d,l,n,s,o),o.delete(l)),gY(e,r,d)}var wtt=btt,_tt=sI,xtt=Qpe,Stt=ehe,$tt=wtt,Ttt=Ku,Mtt=cS,Ctt=che;function phe(e,t,r,n,i){e!==t&&Stt(t,function(s,o){if(i||(i=new _tt),Ttt(s))$tt(e,t,o,r,phe,n,i);else{var a=n?n(Ctt(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),xtt(e,o,a)}},Mtt)}var Ett=phe;function ktt(e){return e}var cI=ktt;function Itt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ott=Itt,Ptt=Ott,_Y=Math.max;function Att(e,t,r){return t=_Y(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=_Y(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),Ptt(e,this,a)}}var hhe=Att;function Rtt(e){return function(){return e}}var Ltt=Rtt,jtt=Ltt,xY=Xpe,Ntt=cI,Ftt=xY?function(e,t){return xY(e,"toString",{configurable:!0,enumerable:!1,value:jtt(t),writable:!0})}:Ntt,Dtt=Ftt,ztt=800,Vtt=16,Btt=Date.now;function Utt(e){var t=0,r=0;return function(){var n=Btt(),i=Vtt-(n-r);if(r=n,i>0){if(++t>=ztt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Gtt=Utt,Wtt=Dtt,qtt=Gtt,Htt=qtt(Wtt),fhe=Htt,Ztt=cI,Ytt=hhe,Jtt=fhe;function Ktt(e,t){return Jtt(Ytt(e,t,Ztt),e+"")}var g7=Ktt,Xtt=uS,Qtt=Wv,ert=uI,trt=Ku;function rrt(e,t,r){if(!trt(r))return!1;var n=typeof t;return(n=="number"?Qtt(r)&&ert(t,r.length):n=="string"&&t in r)?Xtt(r[t],e):!1}var mhe=rrt,nrt=g7,irt=mhe;function srt(e){return nrt(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&irt(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,s)}return t})}var ort=srt,art=Ett,lrt=ort,urt=lrt(function(e,t,r){art(e,t,r)}),crt=urt;const drt=Nn(crt);var prt=wd,hrt=Ja,frt="[object Symbol]";function mrt(e){return typeof e=="symbol"||hrt(e)&&prt(e)==frt}var dI=mrt,yrt=po,grt=dI,vrt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,brt=/^\w*$/;function wrt(e,t){if(yrt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||grt(e)?!0:brt.test(e)||!vrt.test(e)||t!=null&&e in Object(t)}var v7=wrt,yhe=a7,_rt="Expected a function";function b7(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_rt);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(b7.Cache||yhe),r}b7.Cache=yhe;var xrt=b7,Srt=xrt,$rt=500;function Trt(e){var t=Srt(e,function(n){return r.size===$rt&&r.clear(),n}),r=t.cache;return t}var Mrt=Trt,Crt=Mrt,Ert=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,krt=/\\(\\)?/g,Irt=Crt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ert,function(r,n,i,s){t.push(i?s.replace(krt,"$1"):n||r)}),t}),Ort=Irt;function Prt(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var pI=Prt,SY=Vv,Art=pI,Rrt=po,Lrt=dI,jrt=1/0,$Y=SY?SY.prototype:void 0,TY=$Y?$Y.toString:void 0;function ghe(e){if(typeof e=="string")return e;if(Rrt(e))return Art(e,ghe)+"";if(Lrt(e))return TY?TY.call(e):"";var t=e+"";return t=="0"&&1/e==-jrt?"-0":t}var Nrt=ghe,Frt=Nrt;function Drt(e){return e==null?"":Frt(e)}var vhe=Drt,zrt=po,Vrt=v7,Brt=Ort,Urt=vhe;function Grt(e,t){return zrt(e)?e:Vrt(e,t)?[e]:Brt(Urt(e))}var Zv=Grt,Wrt=dI,qrt=1/0;function Hrt(e){if(typeof e=="string"||Wrt(e))return e;var t=e+"";return t=="0"&&1/e==-qrt?"-0":t}var Yv=Hrt,Zrt=Zv,Yrt=Yv;function Jrt(e,t){t=Zrt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Yrt(t[r++])];return r&&r==n?e:void 0}var dS=Jrt,Krt=dS;function Xrt(e,t,r){var n=e==null?void 0:Krt(e,t);return n===void 0?r:n}var bhe=Xrt;const Gu=Nn(bhe);var Qrt=y7,ent=Zv,tnt=uI,MY=Ku,rnt=Yv;function nnt(e,t,r,n){if(!MY(e))return e;t=ent(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=rnt(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var d=a[l];u=n?n(d,l,a):void 0,u===void 0&&(u=MY(d)?d:tnt(t[i+1])?[]:{})}Qrt(a,l,u),a=a[l]}return e}var whe=nnt,int=whe;function snt(e,t,r){return e==null?e:int(e,t,r)}var ont=snt;const ow=Nn(ont);function hI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function w7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jv(){}var Km=.7,lv=1/Km,P0="\\s*([+-]?\\d+)\\s*",rx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ant=/^#([0-9a-f]{3,8})$/,lnt=new RegExp(`^rgb\\(${P0},${P0},${P0}\\)$`),unt=new RegExp(`^rgb\\(${ju},${ju},${ju}\\)$`),cnt=new RegExp(`^rgba\\(${P0},${P0},${P0},${rx}\\)$`),dnt=new RegExp(`^rgba\\(${ju},${ju},${ju},${rx}\\)$`),pnt=new RegExp(`^hsl\\(${rx},${ju},${ju}\\)$`),hnt=new RegExp(`^hsla\\(${rx},${ju},${ju},${rx}\\)$`),CY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hI(Jv,nx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EY,formatHex:EY,formatHex8:fnt,formatHsl:mnt,formatRgb:kY,toString:kY});function EY(){return this.rgb().formatHex()}function fnt(){return this.rgb().formatHex8()}function mnt(){return xhe(this).formatHsl()}function kY(){return this.rgb().formatRgb()}function nx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ant.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IY(t):r===3?new cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?l$(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?l$(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lnt.exec(e))?new cs(t[1],t[2],t[3],1):(t=unt.exec(e))?new cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cnt.exec(e))?l$(t[1],t[2],t[3],t[4]):(t=dnt.exec(e))?l$(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pnt.exec(e))?AY(t[1],t[2]/100,t[3]/100,1):(t=hnt.exec(e))?AY(t[1],t[2]/100,t[3]/100,t[4]):CY.hasOwnProperty(e)?IY(CY[e]):e==="transparent"?new cs(NaN,NaN,NaN,0):null}function IY(e){return new cs(e>>16&255,e>>8&255,e&255,1)}function l$(e,t,r,n){return n<=0&&(e=t=r=NaN),new cs(e,t,r,n)}function _he(e){return e instanceof Jv||(e=nx(e)),e?(e=e.rgb(),new cs(e.r,e.g,e.b,e.opacity)):new cs}function uv(e,t,r,n){return arguments.length===1?_he(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hI(cs,uv,w7(Jv,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Km:Math.pow(Km,e),new cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cs(Tm(this.r),Tm(this.g),Tm(this.b),dC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OY,formatHex:OY,formatHex8:ynt,formatRgb:PY,toString:PY}));function OY(){return`#${lm(this.r)}${lm(this.g)}${lm(this.b)}`}function ynt(){return`#${lm(this.r)}${lm(this.g)}${lm(this.b)}${lm((isNaN(this.opacity)?1:this.opacity)*255)}`}function PY(){const e=dC(this.opacity);return`${e===1?"rgb(":"rgba("}${Tm(this.r)}, ${Tm(this.g)}, ${Tm(this.b)}${e===1?")":`, ${e})`}`}function dC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lm(e){return e=Tm(e),(e<16?"0":"")+e.toString(16)}function AY(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ml(e,t,r,n)}function xhe(e){if(e instanceof Ml)return new Ml(e.h,e.s,e.l,e.opacity);if(e instanceof Jv||(e=nx(e)),!e)return new Ml;if(e instanceof Ml)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ml(o,a,l,e.opacity)}function gnt(e,t,r,n){return arguments.length===1?xhe(e):new Ml(e,t,r,n??1)}function Ml(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hI(Ml,gnt,w7(Jv,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new Ml(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Km:Math.pow(Km,e),new Ml(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new cs(RP(e>=240?e-240:e+120,i,n),RP(e,i,n),RP(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ml(RY(this.h),u$(this.s),u$(this.l),dC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dC(this.opacity);return`${e===1?"hsl(":"hsla("}${RY(this.h)}, ${u$(this.s)*100}%, ${u$(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RY(e){return e=(e||0)%360,e<0?e+360:e}function u$(e){return Math.max(0,Math.min(1,e||0))}function RP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vnt=Math.PI/180,bnt=180/Math.PI;var She=-.14861,_7=1.78277,x7=-.29227,fI=-.90649,ix=1.97294,LY=ix*fI,jY=ix*_7,NY=_7*x7-fI*She;function wnt(e){if(e instanceof Mm)return new Mm(e.h,e.s,e.l,e.opacity);e instanceof cs||(e=_he(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(NY*n+LY*t-jY*r)/(NY+LY-jY),s=n-i,o=(ix*(r-i)-x7*s)/fI,a=Math.sqrt(o*o+s*s)/(ix*i*(1-i)),l=a?Math.atan2(o,s)*bnt-120:NaN;return new Mm(l<0?l+360:l,a,i,e.opacity)}function Wu(e,t,r,n){return arguments.length===1?wnt(e):new Mm(e,t,r,n??1)}function Mm(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hI(Mm,Wu,w7(Jv,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new Mm(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Km:Math.pow(Km,e),new Mm(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*vnt,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new cs(255*(t+r*(She*n+_7*i)),255*(t+r*(x7*n+fI*i)),255*(t+r*(ix*n)),this.opacity)}}));function _nt(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}function xnt(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1],o=n>0?e[n-1]:2*i-s,a=n<t-1?e[n+2]:2*s-i;return _nt((r-n/t)*t,o,i,s,a)}}const mI=e=>()=>e;function $he(e,t){return function(r){return e+r*t}}function Snt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $nt(e,t){var r=t-e;return r?$he(e,r>180||r<-180?r-360*Math.round(r/360):r):mI(isNaN(e)?t:e)}function Tnt(e){return(e=+e)==1?A0:function(t,r){return r-t?Snt(t,r,e):mI(isNaN(t)?r:t)}}function A0(e,t){var r=t-e;return r?$he(e,r):mI(isNaN(e)?t:e)}const FY=function e(t){var r=Tnt(t);function n(i,s){var o=r((i=uv(i)).r,(s=uv(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),u=A0(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Mnt(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),s=new Array(r),o,a;for(o=0;o<r;++o)a=uv(t[o]),n[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return n=e(n),i=e(i),s=e(s),a.opacity=1,function(l){return a.r=n(l),a.g=i(l),a.b=s(l),a+""}}}var Cnt=Mnt(xnt);function Ent(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function knt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Int(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=S7(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function Ont(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Pnt(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=S7(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var u8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LP=new RegExp(u8.source,"g");function Ant(e){return function(){return e}}function Rnt(e){return function(t){return e(t)+""}}function The(e,t){var r=u8.lastIndex=LP.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=u8.exec(e))&&(i=LP.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:pC(n,i)})),r=LP.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Rnt(l[0].x):Ant(t):(t=l.length,function(u){for(var d=0,h;d<t;++d)a[(h=l[d]).i]=h.x(u);return a.join("")})}function S7(e,t){var r=typeof t,n;return t==null||r==="boolean"?mI(t):(r==="number"?pC:r==="string"?(n=nx(t))?(t=n,FY):The:t instanceof nx?FY:t instanceof Date?Ont:knt(t)?Ent:Array.isArray(t)?Int:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pnt:pC)(e,t)}function Lnt(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Mhe(e){return function t(r){r=+r;function n(i,s){var o=e((i=Wu(i)).h,(s=Wu(s)).h),a=A0(i.s,s.s),l=A0(i.l,s.l),u=A0(i.opacity,s.opacity);return function(d){return i.h=o(d),i.s=a(d),i.l=l(Math.pow(d,r)),i.opacity=u(d),i+""}}return n.gamma=t,n}(1)}Mhe($nt);var $7=Mhe(A0),jnt=wd,Nnt=po,Fnt=Ja,Dnt="[object String]";function znt(e){return typeof e=="string"||!Nnt(e)&&Fnt(e)&&jnt(e)==Dnt}var Vnt=znt;const Bnt=Nn(Vnt);function Unt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Che=Unt;const rt=Nn(Che);function sM(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gnt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T7(e){let t,r,n;e.length!==2?(t=sM,r=(a,l)=>sM(e(a),l),n=(a,l)=>e(a)-l):(t=e===sM||e===Gnt?e:Wnt,r=e,n=e);function i(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const h=u+d>>>1;r(a[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(a,l,u=0,d=a.length){if(u<d){if(t(l,l)!==0)return d;do{const h=u+d>>>1;r(a[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function o(a,l,u=0,d=a.length){const h=i(a,l,u,d-1);return h>u&&n(a[h-1],l)>-n(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function Wnt(){return 0}function qnt(e){return e===null?NaN:+e}const Hnt=T7(sM),Znt=Hnt.right;T7(qnt).center;class DY extends Map{constructor(t,r=Knt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(zY(this,t))}has(t){return super.has(zY(this,t))}set(t,r){return super.set(Ynt(this,t),r)}delete(t){return super.delete(Jnt(this,t))}}function zY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ynt({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Jnt({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Knt(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Xnt=Math.sqrt(50),Qnt=Math.sqrt(10),eit=Math.sqrt(2);function hC(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Xnt?10:s>=Qnt?5:s>=eit?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=r&&r<2?hC(e,t,r*2):[a,l,u]}function c8(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?hC(t,e,r):hC(e,t,r);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(n)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function d8(e,t,r){return t=+t,e=+e,r=+r,hC(e,t,r)[2]}function p8(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?d8(t,e,r):d8(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function tit(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function my(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const VY=Symbol("implicit");function um(){var e=new DY,t=[],r=[],n=VY;function i(s){let o=e.get(s);if(o===void 0){if(n!==VY)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new DY;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return um(t,r).unknown(n)},my.apply(i,arguments),i}function M7(){var e=um().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,a=!1,l=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,y=i<n,g=y?i:n,v=y?n:i;s=(v-g)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),g+=(v-g-s*(f-l))*d,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var b=tit(f).map(function(_){return g+s*_});return r(y?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,a=!0,h()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,h()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return M7(t(),[n,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},my.apply(h(),arguments)}function Ehe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ehe(t())},e}function rit(){return Ehe(M7.apply(null,arguments).paddingInner(1))}function nit(e){return function(){return e}}function iit(e){return+e}var BY=[0,1];function t0(e){return e}function h8(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nit(isNaN(t)?NaN:.5)}function sit(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function oit(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=h8(i,n),s=r(o,s)):(n=h8(n,i),s=r(s,o)),function(a){return s(n(a))}}function ait(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=h8(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(a){var l=Znt(e,a,1,n)-1;return s[l](i[l](a))}}function yI(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function C7(){var e=BY,t=BY,r=S7,n,i,s,o=t0,a,l,u;function d(){var f=Math.min(e.length,t.length);return o!==t0&&(o=sit(e[0],e[f-1])),a=f>2?ait:oit,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=a(t,e.map(n),pC)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,iit),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=Lnt,d()},h.clamp=function(f){return arguments.length?(o=f?!0:t0,d()):o!==t0},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,y){return n=f,i=y,d()}}function khe(){return C7()(t0,t0)}function lit(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cv(e){return e=fC(Math.abs(e)),e?e[1]:NaN}function uit(e,t){return function(r,n){for(var i=r.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function cit(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dit=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sx(e){if(!(t=dit.exec(e)))throw new Error("invalid format: "+e);var t;return new E7({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sx.prototype=E7.prototype;function E7(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}E7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pit(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ihe;function hit(e,t){var r=fC(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(Ihe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fC(e,Math.max(0,t+s-1))[0]}function UY(e,t){var r=fC(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GY={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:lit,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return UY(e*100,t)},r:UY,s:hit,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function WY(e){return e}var qY=Array.prototype.map,HY=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fit(e){var t=e.grouping===void 0||e.thousands===void 0?WY:uit(qY.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?WY:cit(qY.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=sx(h);var f=h.fill,y=h.align,g=h.sign,v=h.symbol,b=h.zero,_=h.width,x=h.comma,S=h.precision,$=h.trim,C=h.type;C==="n"?(x=!0,C="g"):GY[C]||(S===void 0&&(S=12),$=!0,C="g"),(b||f==="0"&&y==="=")&&(b=!0,f="0",y="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=v==="$"?n:/[%p]/.test(C)?o:"",P=GY[C],T=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(O){var j=k,N=E,L,z,B;if(C==="c")N=P(O)+N,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),S),$&&(O=pit(O)),U&&+O==0&&g!=="+"&&(U=!1),j=(U?g==="("?g:a:g==="-"||g==="("?"":g)+j,N=(C==="s"?HY[8+Ihe/3]:"")+N+(U&&g==="("?")":""),T){for(L=-1,z=O.length;++L<z;)if(B=O.charCodeAt(L),48>B||B>57){N=(B===46?i+O.slice(L+1):O.slice(L))+N,O=O.slice(0,L);break}}}x&&!b&&(O=t(O,1/0));var F=j.length+O.length+N.length,D=F<_?new Array(_-F+1).join(f):"";switch(x&&b&&(O=t(D+O,D.length?_-N.length:1/0),D=""),y){case"<":O=j+O+N+D;break;case"=":O=j+D+O+N;break;case"^":O=D.slice(0,F=D.length>>1)+j+O+N+D.slice(F);break;default:O=D+j+O+N;break}return s(O)}return M.toString=function(){return h+""},M}function d(h,f){var y=u((h=sx(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(cv(f)/3)))*3,v=Math.pow(10,-g),b=HY[8+g/3];return function(_){return y(v*_)+b}}return{format:u,formatPrefix:d}}var c$,pS,Ohe;mit({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function mit(e){return c$=fit(e),pS=c$.format,Ohe=c$.formatPrefix,c$}function yit(e){return Math.max(0,-cv(Math.abs(e)))}function git(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cv(t)/3)))*3-cv(Math.abs(e)))}function vit(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cv(t)-cv(e))+1}function bit(e,t,r,n){var i=p8(e,t,r),s;switch(n=sx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=git(i,o))&&(n.precision=s),Ohe(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=vit(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=yit(i))&&(n.precision=s-(n.type==="%")*2);break}}return pS(n)}function Phe(e){var t=e.domain;return e.ticks=function(r){var n=t();return c8(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return bit(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],a=n[s],l,u,d=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);d-- >0;){if(u=d8(o,a,r),u===l)return n[i]=o,n[s]=a,t(n);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Ahe(){var e=khe();return e.copy=function(){return yI(e,Ahe())},my.apply(e,arguments),Phe(e)}function Rhe(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function ZY(e){return Math.log(e)}function YY(e){return Math.exp(e)}function wit(e){return-Math.log(-e)}function _it(e){return-Math.exp(-e)}function xit(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sit(e){return e===10?xit:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $it(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JY(e){return(t,r)=>-e(-t,r)}function Tit(e){const t=e(ZY,YY),r=t.domain;let n=10,i,s;function o(){return i=$it(n),s=Sit(n),r()[0]<0?(i=JY(i),s=JY(s),e(wit,_it)):e(ZY,YY),t}return t.base=function(a){return arguments.length?(n=+a,o()):n},t.domain=function(a){return arguments.length?(r(a),o()):r()},t.ticks=a=>{const l=r();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),y=i(d),g,v;const b=a==null?10:+a;let _=[];if(!(n%1)&&y-f<b){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(g=1;g<n;++g)if(v=f<0?g/s(-f):g*s(f),!(v<u)){if(v>d)break;_.push(v)}}else for(;f<=y;++f)for(g=n-1;g>=1;--g)if(v=f>0?g/s(-f):g*s(f),!(v<u)){if(v>d)break;_.push(v)}_.length*2<b&&(_=c8(u,d,b))}else _=c8(f,y,Math.min(y-f,b)).map(s);return h?_.reverse():_},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=sx(l)).precision==null&&(l.trim=!0),l=pS(l)),a===1/0)return l;const u=Math.max(1,n*a/t.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?l(d):""}},t.nice=()=>r(Rhe(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function Lhe(){const e=Tit(C7()).domain([1,10]);return e.copy=()=>yI(e,Lhe()).base(e.base()),my.apply(e,arguments),e}function KY(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XY(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mit(e){var t=1,r=e(KY(t),XY(t));return r.constant=function(n){return arguments.length?e(KY(t=+n),XY(t)):t},Phe(r)}function jhe(){var e=Mit(C7());return e.copy=function(){return yI(e,jhe()).constant(e.constant())},my.apply(e,arguments)}const jP=new Date,NP=new Date;function di(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>di(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(jP.setTime(+s),NP.setTime(+o),e(jP),e(NP),Math.floor(r(jP,NP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const mC=di(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?di(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mC);mC.range;const Zc=1e3,Ea=Zc*60,Yc=Ea*60,pd=Yc*24,k7=pd*7,QY=pd*30,FP=pd*365,cm=di(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getUTCSeconds());cm.range;const I7=di(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc)},(e,t)=>{e.setTime(+e+t*Ea)},(e,t)=>(t-e)/Ea,e=>e.getMinutes());I7.range;const O7=di(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ea)},(e,t)=>(t-e)/Ea,e=>e.getUTCMinutes());O7.range;const P7=di(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zc-e.getMinutes()*Ea)},(e,t)=>{e.setTime(+e+t*Yc)},(e,t)=>(t-e)/Yc,e=>e.getHours());P7.range;const A7=di(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yc)},(e,t)=>(t-e)/Yc,e=>e.getUTCHours());A7.range;const R7=di(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ea)/pd,e=>e.getDate()-1);R7.range;const Nhe=di(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pd,e=>e.getUTCDate()-1);Nhe.range;const Fhe=di(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pd,e=>Math.floor(e/pd));Fhe.range;function yy(e){return di(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ea)/k7)}const L7=yy(0),Cit=yy(1),Eit=yy(2),kit=yy(3),Iit=yy(4),Oit=yy(5),Pit=yy(6);L7.range;Cit.range;Eit.range;kit.range;Iit.range;Oit.range;Pit.range;function gy(e){return di(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/k7)}const j7=gy(0),Ait=gy(1),Rit=gy(2),Lit=gy(3),jit=gy(4),Nit=gy(5),Fit=gy(6);j7.range;Ait.range;Rit.range;Lit.range;jit.range;Nit.range;Fit.range;const N7=di(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N7.range;const F7=di(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());F7.range;const gI=di(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gI.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:di(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gI.range;const vI=di(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vI.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:di(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vI.range;function Dhe(e,t,r,n,i,s){const o=[[cm,1,Zc],[cm,5,5*Zc],[cm,15,15*Zc],[cm,30,30*Zc],[s,1,Ea],[s,5,5*Ea],[s,15,15*Ea],[s,30,30*Ea],[i,1,Yc],[i,3,3*Yc],[i,6,6*Yc],[i,12,12*Yc],[n,1,pd],[n,2,2*pd],[r,1,k7],[t,1,QY],[t,3,3*QY],[e,1,FP]];function a(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const y=h&&typeof h.range=="function"?h:l(u,d,h),g=y?y.range(u,+d+1):[];return f?g.reverse():g}function l(u,d,h){const f=Math.abs(d-u)/h,y=T7(([,,b])=>b).right(o,f);if(y===o.length)return e.every(p8(u/FP,d/FP,h));if(y===0)return mC.every(Math.max(p8(u,d,h),1));const[g,v]=o[f/o[y-1][2]<o[y][2]/f?y-1:y];return g.every(v)}return[a,l]}const[Dit,zit]=Dhe(vI,F7,j7,Fhe,A7,O7),[Vit,Bit]=Dhe(gI,N7,L7,R7,P7,I7);var DP=new Date,zP=new Date;function Xn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},i.range=function(s,o,a){var l=[],u;if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=function(s){return Xn(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},r&&(i.count=function(s,o){return DP.setTime(+s),zP.setTime(+o),e(DP),e(zP),Math.floor(r(DP,zP))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?function(o){return n(o)%s===0}:function(o){return i.count(0,o)%s===0}):i}),i}var ox=Xn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});ox.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):ox};ox.range;var yC=1e3,Xm=6e4,gC=36e5,zhe=864e5,Vhe=6048e5,f8=Xn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*yC)},function(e,t){return(t-e)/yC},function(e){return e.getUTCSeconds()});f8.range;var Bhe=Xn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*yC)},function(e,t){e.setTime(+e+t*Xm)},function(e,t){return(t-e)/Xm},function(e){return e.getMinutes()});Bhe.range;var Uhe=Xn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*yC-e.getMinutes()*Xm)},function(e,t){e.setTime(+e+t*gC)},function(e,t){return(t-e)/gC},function(e){return e.getHours()});Uhe.range;var D7=Xn(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xm)/zhe},function(e){return e.getDate()-1});D7.range;function vy(e){return Xn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xm)/Vhe})}var vC=vy(0),ax=vy(1),Ghe=vy(2),Whe=vy(3),Qm=vy(4),qhe=vy(5),Hhe=vy(6);vC.range;ax.range;Ghe.range;Whe.range;Qm.range;qhe.range;Hhe.range;var Zhe=Xn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});Zhe.range;var vh=Xn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});vh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};vh.range;var Yhe=Xn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Xm)},function(e,t){return(t-e)/Xm},function(e){return e.getUTCMinutes()});Yhe.range;var Jhe=Xn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*gC)},function(e,t){return(t-e)/gC},function(e){return e.getUTCHours()});Jhe.range;var z7=Xn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/zhe},function(e){return e.getUTCDate()-1});z7.range;function by(e){return Xn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Vhe})}var bC=by(0),lx=by(1),Khe=by(2),Xhe=by(3),ey=by(4),Qhe=by(5),efe=by(6);bC.range;lx.range;Khe.range;Xhe.range;ey.range;Qhe.range;efe.range;var tfe=Xn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});tfe.range;var bh=Xn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});bh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};bh.range;function VP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function BP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Uit(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=W1(i),d=q1(i),h=W1(s),f=q1(s),y=W1(o),g=q1(o),v=W1(a),b=q1(a),_=W1(l),x=q1(l),S={a:U,A:F,b:D,B:K,c:null,d:sJ,e:sJ,f:pst,g:xst,G:$st,H:ust,I:cst,j:dst,L:rfe,m:hst,M:fst,p:le,q:he,Q:lJ,s:uJ,S:mst,u:yst,U:gst,V:vst,w:bst,W:wst,x:null,X:null,y:_st,Y:Sst,Z:Tst,"%":aJ},$={a:Ue,A:fe,b:Ge,B:se,c:null,d:oJ,e:oJ,f:kst,g:Dst,G:Vst,H:Mst,I:Cst,j:Est,L:ife,m:Ist,M:Ost,p:we,q:de,Q:lJ,s:uJ,S:Pst,u:Ast,U:Rst,V:Lst,w:jst,W:Nst,x:null,X:null,y:Fst,Y:zst,Z:Bst,"%":aJ},C={a:M,A:O,b:j,B:N,c:L,d:nJ,e:nJ,f:sst,g:rJ,G:tJ,H:iJ,I:iJ,j:tst,L:ist,m:est,M:rst,p:T,q:Qit,Q:ast,s:lst,S:nst,u:Zit,U:Yit,V:Jit,w:Hit,W:Kit,x:z,X:B,y:rJ,Y:tJ,Z:Xit,"%":ost};S.x=k(r,S),S.X=k(n,S),S.c=k(t,S),$.x=k(r,$),$.X=k(n,$),$.c=k(t,$);function k(Y,ce){return function(oe){var X=[],$e=-1,Pe=0,dt=Y.length,We,Ye,ot;for(oe instanceof Date||(oe=new Date(+oe));++$e<dt;)Y.charCodeAt($e)===37&&(X.push(Y.slice(Pe,$e)),(Ye=eJ[We=Y.charAt(++$e)])!=null?We=Y.charAt(++$e):Ye=We==="e"?" ":"0",(ot=ce[We])&&(We=ot(oe,Ye)),X.push(We),Pe=$e+1);return X.push(Y.slice(Pe,$e)),X.join("")}}function E(Y,ce){return function(oe){var X=G1(1900,void 0,1),$e=P(X,Y,oe+="",0),Pe,dt;if($e!=oe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ce&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Pe=BP(G1(X.y,0,1)),dt=Pe.getUTCDay(),Pe=dt>4||dt===0?lx.ceil(Pe):lx(Pe),Pe=z7.offset(Pe,(X.V-1)*7),X.y=Pe.getUTCFullYear(),X.m=Pe.getUTCMonth(),X.d=Pe.getUTCDate()+(X.w+6)%7):(Pe=VP(G1(X.y,0,1)),dt=Pe.getDay(),Pe=dt>4||dt===0?ax.ceil(Pe):ax(Pe),Pe=D7.offset(Pe,(X.V-1)*7),X.y=Pe.getFullYear(),X.m=Pe.getMonth(),X.d=Pe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),dt="Z"in X?BP(G1(X.y,0,1)).getUTCDay():VP(G1(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(dt+5)%7:X.w+X.U*7-(dt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,BP(X)):VP(X)}}function P(Y,ce,oe,X){for(var $e=0,Pe=ce.length,dt=oe.length,We,Ye;$e<Pe;){if(X>=dt)return-1;if(We=ce.charCodeAt($e++),We===37){if(We=ce.charAt($e++),Ye=C[We in eJ?ce.charAt($e++):We],!Ye||(X=Ye(Y,oe,X))<0)return-1}else if(We!=oe.charCodeAt(X++))return-1}return X}function T(Y,ce,oe){var X=u.exec(ce.slice(oe));return X?(Y.p=d.get(X[0].toLowerCase()),oe+X[0].length):-1}function M(Y,ce,oe){var X=y.exec(ce.slice(oe));return X?(Y.w=g.get(X[0].toLowerCase()),oe+X[0].length):-1}function O(Y,ce,oe){var X=h.exec(ce.slice(oe));return X?(Y.w=f.get(X[0].toLowerCase()),oe+X[0].length):-1}function j(Y,ce,oe){var X=_.exec(ce.slice(oe));return X?(Y.m=x.get(X[0].toLowerCase()),oe+X[0].length):-1}function N(Y,ce,oe){var X=v.exec(ce.slice(oe));return X?(Y.m=b.get(X[0].toLowerCase()),oe+X[0].length):-1}function L(Y,ce,oe){return P(Y,t,ce,oe)}function z(Y,ce,oe){return P(Y,r,ce,oe)}function B(Y,ce,oe){return P(Y,n,ce,oe)}function U(Y){return o[Y.getDay()]}function F(Y){return s[Y.getDay()]}function D(Y){return l[Y.getMonth()]}function K(Y){return a[Y.getMonth()]}function le(Y){return i[+(Y.getHours()>=12)]}function he(Y){return 1+~~(Y.getMonth()/3)}function Ue(Y){return o[Y.getUTCDay()]}function fe(Y){return s[Y.getUTCDay()]}function Ge(Y){return l[Y.getUTCMonth()]}function se(Y){return a[Y.getUTCMonth()]}function we(Y){return i[+(Y.getUTCHours()>=12)]}function de(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ce=k(Y+="",S);return ce.toString=function(){return Y},ce},parse:function(Y){var ce=E(Y+="",!1);return ce.toString=function(){return Y},ce},utcFormat:function(Y){var ce=k(Y+="",$);return ce.toString=function(){return Y},ce},utcParse:function(Y){var ce=E(Y+="",!0);return ce.toString=function(){return Y},ce}}}var eJ={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,Git=/^%/,Wit=/[\\^$*+?|[\]().{}]/g;function or(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function qit(e){return e.replace(Wit,"\\$&")}function W1(e){return new RegExp("^(?:"+e.map(qit).join("|")+")","i")}function q1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Hit(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Zit(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Yit(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Jit(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Kit(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=Ci.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rJ(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Xit(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qit(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function est(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nJ(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tst(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function iJ(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rst(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nst(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ist(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sst(e,t,r){var n=Ci.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ost(e,t,r){var n=Git.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ast(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lst(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sJ(e,t){return or(e.getDate(),t,2)}function ust(e,t){return or(e.getHours(),t,2)}function cst(e,t){return or(e.getHours()%12||12,t,2)}function dst(e,t){return or(1+D7.count(vh(e),e),t,3)}function rfe(e,t){return or(e.getMilliseconds(),t,3)}function pst(e,t){return rfe(e,t)+"000"}function hst(e,t){return or(e.getMonth()+1,t,2)}function fst(e,t){return or(e.getMinutes(),t,2)}function mst(e,t){return or(e.getSeconds(),t,2)}function yst(e){var t=e.getDay();return t===0?7:t}function gst(e,t){return or(vC.count(vh(e)-1,e),t,2)}function nfe(e){var t=e.getDay();return t>=4||t===0?Qm(e):Qm.ceil(e)}function vst(e,t){return e=nfe(e),or(Qm.count(vh(e),e)+(vh(e).getDay()===4),t,2)}function bst(e){return e.getDay()}function wst(e,t){return or(ax.count(vh(e)-1,e),t,2)}function _st(e,t){return or(e.getFullYear()%100,t,2)}function xst(e,t){return e=nfe(e),or(e.getFullYear()%100,t,2)}function Sst(e,t){return or(e.getFullYear()%1e4,t,4)}function $st(e,t){var r=e.getDay();return e=r>=4||r===0?Qm(e):Qm.ceil(e),or(e.getFullYear()%1e4,t,4)}function Tst(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+or(t/60|0,"0",2)+or(t%60,"0",2)}function oJ(e,t){return or(e.getUTCDate(),t,2)}function Mst(e,t){return or(e.getUTCHours(),t,2)}function Cst(e,t){return or(e.getUTCHours()%12||12,t,2)}function Est(e,t){return or(1+z7.count(bh(e),e),t,3)}function ife(e,t){return or(e.getUTCMilliseconds(),t,3)}function kst(e,t){return ife(e,t)+"000"}function Ist(e,t){return or(e.getUTCMonth()+1,t,2)}function Ost(e,t){return or(e.getUTCMinutes(),t,2)}function Pst(e,t){return or(e.getUTCSeconds(),t,2)}function Ast(e){var t=e.getUTCDay();return t===0?7:t}function Rst(e,t){return or(bC.count(bh(e)-1,e),t,2)}function sfe(e){var t=e.getUTCDay();return t>=4||t===0?ey(e):ey.ceil(e)}function Lst(e,t){return e=sfe(e),or(ey.count(bh(e),e)+(bh(e).getUTCDay()===4),t,2)}function jst(e){return e.getUTCDay()}function Nst(e,t){return or(lx.count(bh(e)-1,e),t,2)}function Fst(e,t){return or(e.getUTCFullYear()%100,t,2)}function Dst(e,t){return e=sfe(e),or(e.getUTCFullYear()%100,t,2)}function zst(e,t){return or(e.getUTCFullYear()%1e4,t,4)}function Vst(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ey(e):ey.ceil(e),or(e.getUTCFullYear()%1e4,t,4)}function Bst(){return"+0000"}function aJ(){return"%"}function lJ(e){return+e}function uJ(e){return Math.floor(+e/1e3)}var Uy,bI,ofe,afe,lfe;Ust({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ust(e){return Uy=Uit(e),bI=Uy.format,ofe=Uy.parse,afe=Uy.utcFormat,lfe=Uy.utcParse,Uy}function Gst(e){return new Date(e)}function Wst(e){return e instanceof Date?+e:+new Date(+e)}function V7(e,t,r,n,i,s,o,a,l,u){var d=khe(),h=d.invert,f=d.domain,y=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),x=u("%b %d"),S=u("%B"),$=u("%Y");function C(k){return(l(k)<k?y:a(k)<k?g:o(k)<k?v:s(k)<k?b:n(k)<k?i(k)<k?_:x:r(k)<k?S:$)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,Wst)):f().map(Gst)},d.ticks=function(k){var E=f();return e(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?C:u(E)},d.nice=function(k){var E=f();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?f(Rhe(E,k)):d},d.copy=function(){return yI(d,V7(e,t,r,n,i,s,o,a,l,u))},d}function qst(){return my.apply(V7(Vit,Bit,gI,N7,L7,R7,P7,I7,cm,bI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hst(){return my.apply(V7(Dit,zit,vI,F7,j7,Nhe,A7,O7,cm,afe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function It(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const ufe=It("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cfe=It("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dfe=It("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pfe=It("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hfe=It("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ffe=It("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),mfe=It("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),yfe=It("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),B7=It("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Zst=It("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Gr=e=>Cnt(e[e.length-1]);var wI=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(It);const Yst=Gr(wI);var _I=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(It);const Jst=Gr(_I);var xI=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(It);const Kst=Gr(xI);var SI=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(It);const Xst=Gr(SI);var $I=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(It);const Qst=Gr($I);var TI=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(It);const eot=Gr(TI);var MI=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(It);const tot=Gr(MI);var CI=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(It);const rot=Gr(CI);var EI=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(It);const not=Gr(EI);var kI=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(It);const iot=Gr(kI);var II=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(It);const sot=Gr(II);var OI=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(It);const oot=Gr(OI);var PI=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(It);const aot=Gr(PI);var AI=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(It);const lot=Gr(AI);var RI=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(It);const uot=Gr(RI);var LI=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(It);const cot=Gr(LI);var jI=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(It);const dot=Gr(jI);var NI=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(It);const pot=Gr(NI);var FI=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(It);const hot=Gr(FI);var DI=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(It);const fot=Gr(DI);var zI=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(It);const mot=Gr(zI);var VI=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(It);const yot=Gr(VI);var BI=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(It);const got=Gr(BI);var UI=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(It);const vot=Gr(UI);var GI=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(It);const bot=Gr(GI);var WI=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(It);const wot=Gr(WI);var qI=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(It);const _ot=Gr(qI);function xot(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Sot=$7(Wu(300,.5,0),Wu(-240,.5,1));var $ot=$7(Wu(-100,.75,.35),Wu(80,1.5,.8)),Tot=$7(Wu(260,.75,.35),Wu(80,1.5,.8)),d$=Wu();function Mot(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return d$.h=360*e-100,d$.s=1.5-1.5*t,d$.l=.8-.9*t,d$+""}var p$=uv(),Cot=Math.PI/3,Eot=Math.PI*2/3;function kot(e){var t;return e=(.5-e)*Math.PI,p$.r=255*(t=Math.sin(e))*t,p$.g=255*(t=Math.sin(e+Cot))*t,p$.b=255*(t=Math.sin(e+Eot))*t,p$+""}function Iot(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function HI(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const Oot=HI(It("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pot=HI(It("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Aot=HI(It("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Rot=HI(It("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Lot="__lodash_hash_undefined__";function jot(e){return this.__data__.set(e,Lot),this}var Not=jot;function Fot(e){return this.__data__.has(e)}var Dot=Fot,zot=a7,Vot=Not,Bot=Dot;function wC(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zot;++t<r;)this.add(e[t])}wC.prototype.add=wC.prototype.push=Vot;wC.prototype.has=Bot;var U7=wC;function Uot(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var Got=Uot;function Wot(e){return e!==e}var qot=Wot;function Hot(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Zot=Hot,Yot=Got,Jot=qot,Kot=Zot;function Xot(e,t,r){return t===t?Kot(e,t,r):Yot(e,Jot,r)}var Qot=Xot,eat=Qot;function tat(e,t){var r=e==null?0:e.length;return!!r&&eat(e,t,0)>-1}var gfe=tat;function rat(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var vfe=rat;function nat(e,t){return e.has(t)}var G7=nat,iat=U7,sat=gfe,oat=vfe,aat=pI,lat=qv,uat=G7,cat=200;function dat(e,t,r,n){var i=-1,s=sat,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;r&&(t=aat(t,lat(r))),n?(s=oat,o=!1):t.length>=cat&&(s=uat,o=!1,t=new iat(t));e:for(;++i<a;){var d=e[i],h=r==null?d:r(d);if(d=n||d!==0?d:0,o&&h===h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(d)}else s(t,h,n)||l.push(d)}return l}var pat=dat,hat=pat,fat=g7,mat=lhe,yat=fat(function(e,t){return mat(e)?hat(e,t):[]}),gat=yat;const bfe=Nn(gat);function An(e){return function(){return e}}const cJ=1e-12,m8=Math.PI,y8=2*m8,Uf=1e-6,vat=y8-Uf;function wfe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bat(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wfe;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let wat=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wfe:bat(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-t,u=i-r,d=o-t,h=a-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Uf)if(!(Math.abs(h*l-u*d)>Uf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-o,g=i-a,v=l*l+u*u,b=y*y+g*g,_=Math.sqrt(v),x=Math.sqrt(f),S=s*Math.tan((m8-Math.acos((v+f-b)/(2*_*x)))/2),$=S/x,C=S/_;Math.abs($-1)>Uf&&this._append`L${t+$*d},${r+$*h}`,this._append`A${s},${s},0,0,${+(h*y>d*g)},${this._x1=t+C*l},${this._y1=r+C*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),u=t+a,d=r+l,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Uf||Math.abs(this._y1-d)>Uf)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%y8+y8),f>vat?this._append`A${n},${n},0,1,${h},${t-a},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>Uf&&this._append`A${n},${n},0,${+(f>=m8)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function _fe(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wat(t)}function W7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xfe(e){this._context=e}xfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q7(e){return new xfe(e)}function Sfe(e){return e[0]}function $fe(e){return e[1]}function Tfe(e,t){var r=An(!0),n=null,i=q7,s=null,o=_fe(a);e=typeof e=="function"?e:e===void 0?Sfe:An(e),t=typeof t=="function"?t:t===void 0?$fe:An(t);function a(l){var u,d=(l=W7(l)).length,h,f=!1,y;for(n==null&&(s=i(y=o())),u=0;u<=d;++u)!(u<d&&r(h=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(h,u,l),+t(h,u,l));if(y)return s=null,y+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:An(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:An(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:An(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}function _at(e,t,r){var n=null,i=An(!0),s=null,o=q7,a=null,l=_fe(u);e=typeof e=="function"?e:e===void 0?Sfe:An(+e),t=typeof t=="function"?t:An(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$fe:An(+r);function u(h){var f,y,g,v=(h=W7(h)).length,b,_=!1,x,S=new Array(v),$=new Array(v);for(s==null&&(a=o(x=l())),f=0;f<=v;++f){if(!(f<v&&i(b=h[f],f,h))===_)if(_=!_)y=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=f-1;g>=y;--g)a.point(S[g],$[g]);a.lineEnd(),a.areaEnd()}_&&(S[f]=+e(b,f,h),$[f]=+t(b,f,h),a.point(n?+n(b,f,h):S[f],r?+r(b,f,h):$[f]))}if(x)return a=null,x+""||null}function d(){return Tfe().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:An(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:An(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:An(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:An(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:An(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:An(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:An(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),u):s},u}function wh(){}function _C(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ZI(e){this._context=e}ZI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_C(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xat(e){return new ZI(e)}function Mfe(e){this._context=e}Mfe.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_C(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sat(e){return new Mfe(e)}function Cfe(e){this._context=e}Cfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_C(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $at(e){return new Cfe(e)}function Efe(e,t){this._basis=new ZI(e),this._beta=t}Efe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,o=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Tat=function e(t){function r(n){return t===1?new ZI(n):new Efe(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function xC(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function H7(e,t){this._context=e,this._k=(1-t)/6}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xC(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:xC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Mat=function e(t){function r(n){return new H7(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Z7(e,t){this._context=e,this._k=(1-t)/6}Z7.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:xC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Cat=function e(t){function r(n){return new Z7(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Y7(e,t){this._context=e,this._k=(1-t)/6}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xC(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Eat=function e(t){function r(n){return new Y7(n,t)}return r.tension=function(n){return e(+n)},r}(0);function J7(e,t,r){var n=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>cJ){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>cJ){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/d,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,i,s,o,e._x2,e._y2)}function kfe(e,t){this._context=e,this._alpha=t}kfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:J7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kat=function e(t){function r(n){return t?new kfe(n,t):new H7(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function Ife(e,t){this._context=e,this._alpha=t}Ife.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:J7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Iat=function e(t){function r(n){return t?new Ife(n,t):new Z7(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function Ofe(e,t){this._context=e,this._alpha=t}Ofe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:J7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oat=function e(t){function r(n){return t?new Ofe(n,t):new Y7(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function Pfe(e){this._context=e}Pfe.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Pat(e){return new Pfe(e)}function dJ(e){return e<0?-1:1}function pJ(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(dJ(s)+dJ(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function hJ(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function UP(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-n)/3;e._context.bezierCurveTo(n+a,i+a*t,s-a,o-a*r,s,o)}function SC(e){this._context=e}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:UP(this,this._t0,hJ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,UP(this,hJ(this,r=pJ(this,e,t)),r);break;default:UP(this,this._t0,r=pJ(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Afe(e){this._context=new Rfe(e)}(Afe.prototype=Object.create(SC.prototype)).point=function(e,t){SC.prototype.point.call(this,t,e)};function Rfe(e){this._context=e}Rfe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Aat(e){return new SC(e)}function Rat(e){return new Afe(e)}function Lfe(e){this._context=e}Lfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fJ(e),i=fJ(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fJ(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Lat(e){return new Lfe(e)}function YI(e,t){this._context=e,this._t=t}YI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jat(e){return new YI(e,.5)}function Nat(e){return new YI(e,0)}function Fat(e){return new YI(e,1)}function mJ(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,a=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function yJ(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Dat(e,t){return e[t]}function zat(e){const t=[];return t.key=e,t}function Vat(){var e=An([]),t=yJ,r=mJ,n=Dat;function i(s){var o=Array.from(e.apply(this,arguments),zat),a,l=o.length,u=-1,d;for(const h of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+n(h,o[a].key,u,s)]).data=h;for(a=0,d=W7(t(o));a<l;++a)o[d[a]].index=a;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:An(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:An(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?yJ:typeof s=="function"?s:An(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??mJ,i):r},i}function Bat(e,t){if((l=e.length)>0)for(var r,n=0,i,s,o,a,l,u=e[t[0]].length;n<u;++n)for(o=a=0,r=0;r<l;++r)(s=(i=e[t[r]][n])[1]-i[0])>0?(i[0]=o,i[1]=o+=s):s<0?(i[1]=a,i[0]=a+=s):(i[0]=0,i[1]=s)}var Uat=dS,Gat=whe,Wat=Zv;function qat(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=Uat(e,o);r(a,o)&&Gat(s,Wat(o,e),a)}return s}var Hat=qat;function Zat(e,t){return e!=null&&t in Object(e)}var Yat=Zat,Jat=Zv,Kat=oI,Xat=po,Qat=uI,elt=p7,tlt=Yv;function rlt(e,t,r){t=Jat(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=tlt(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&elt(i)&&Qat(o,i)&&(Xat(e)||Kat(e)))}var nlt=rlt,ilt=Yat,slt=nlt;function olt(e,t){return e!=null&&slt(e,t,ilt)}var jfe=olt,alt=Hat,llt=jfe;function ult(e,t){return alt(e,t,function(r,n){return llt(e,n)})}var clt=ult;function dlt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var K7=dlt,gJ=Vv,plt=oI,hlt=po,vJ=gJ?gJ.isConcatSpreadable:void 0;function flt(e){return hlt(e)||plt(e)||!!(vJ&&e&&e[vJ])}var mlt=flt,ylt=K7,glt=mlt;function Nfe(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=glt),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?Nfe(a,t-1,r,n,i):ylt(i,a):n||(i[i.length]=a)}return i}var Ffe=Nfe,vlt=Ffe;function blt(e){var t=e==null?0:e.length;return t?vlt(e,1):[]}var wlt=blt,_lt=wlt,xlt=hhe,Slt=fhe;function $lt(e){return Slt(xlt(e,void 0,_lt),e+"")}var Dfe=$lt,Tlt=clt,Mlt=Dfe,Clt=Mlt(function(e,t){return e==null?{}:Tlt(e,t)}),Elt=Clt;const klt=Nn(Elt);function Ilt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Olt=Ilt,Plt=U7,Alt=Olt,Rlt=G7,Llt=1,jlt=2;function Nlt(e,t,r,n,i,s){var o=r&Llt,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,y=r&jlt?new Plt:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var g=e[h],v=t[h];if(n)var b=o?n(v,g,h,t,e,s):n(g,v,h,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(y){if(!Alt(t,function(_,x){if(!Rlt(y,x)&&(g===_||i(g,_,r,n,s)))return y.push(x)})){f=!1;break}}else if(!(g===v||i(g,v,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}var zfe=Nlt;function Flt(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Dlt=Flt;function zlt(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var X7=zlt,bJ=Vv,wJ=rhe,Vlt=uS,Blt=zfe,Ult=Dlt,Glt=X7,Wlt=1,qlt=2,Hlt="[object Boolean]",Zlt="[object Date]",Ylt="[object Error]",Jlt="[object Map]",Klt="[object Number]",Xlt="[object RegExp]",Qlt="[object Set]",eut="[object String]",tut="[object Symbol]",rut="[object ArrayBuffer]",nut="[object DataView]",_J=bJ?bJ.prototype:void 0,GP=_J?_J.valueOf:void 0;function iut(e,t,r,n,i,s,o){switch(r){case nut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rut:return!(e.byteLength!=t.byteLength||!s(new wJ(e),new wJ(t)));case Hlt:case Zlt:case Klt:return Vlt(+e,+t);case Ylt:return e.name==t.name&&e.message==t.message;case Xlt:case eut:return e==t+"";case Jlt:var a=Ult;case Qlt:var l=n&Wlt;if(a||(a=Glt),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=qlt,o.set(e,t);var d=Blt(a(e),a(t),n,i,s,o);return o.delete(e),d;case tut:if(GP)return GP.call(e)==GP.call(t)}return!1}var sut=iut,out=K7,aut=po;function lut(e,t,r){var n=t(e);return aut(e)?n:out(n,r(e))}var Vfe=lut;function uut(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var Bfe=uut;function cut(){return[]}var Ufe=cut,dut=Bfe,put=Ufe,hut=Object.prototype,fut=hut.propertyIsEnumerable,xJ=Object.getOwnPropertySymbols,mut=xJ?function(e){return e==null?[]:(e=Object(e),dut(xJ(e),function(t){return fut.call(e,t)}))}:put,Q7=mut,yut=she,gut=yut(Object.keys,Object),vut=gut,but=d7,wut=vut,_ut=Object.prototype,xut=_ut.hasOwnProperty;function Sut(e){if(!but(e))return wut(e);var t=[];for(var r in Object(e))xut.call(e,r)&&r!="constructor"&&t.push(r);return t}var $ut=Sut,Tut=dhe,Mut=$ut,Cut=Wv;function Eut(e){return Cut(e)?Tut(e):Mut(e)}var hS=Eut,kut=Vfe,Iut=Q7,Out=hS;function Put(e){return kut(e,Out,Iut)}var Gfe=Put,SJ=Gfe,Aut=1,Rut=Object.prototype,Lut=Rut.hasOwnProperty;function jut(e,t,r,n,i,s){var o=r&Aut,a=SJ(e),l=a.length,u=SJ(t),d=u.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in t:Lut.call(t,f)))return!1}var y=s.get(e),g=s.get(t);if(y&&g)return y==t&&g==e;var v=!0;s.set(e,t),s.set(t,e);for(var b=o;++h<l;){f=a[h];var _=e[f],x=t[f];if(n)var S=o?n(x,_,f,t,e,s):n(_,x,f,e,t,s);if(!(S===void 0?_===x||i(_,x,r,n,s):S)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var $=e.constructor,C=t.constructor;$!=C&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof C=="function"&&C instanceof C)&&(v=!1)}return s.delete(e),s.delete(t),v}var Nut=jut,Fut=fy,Dut=Ju,zut=Fut(Dut,"DataView"),Vut=zut,But=fy,Uut=Ju,Gut=But(Uut,"Promise"),Wut=Gut,qut=fy,Hut=Ju,Zut=qut(Hut,"Set"),Wfe=Zut,Yut=fy,Jut=Ju,Kut=Yut(Jut,"WeakMap"),Xut=Kut,g8=Vut,v8=o7,b8=Wut,w8=Wfe,_8=Xut,qfe=wd,Kv=Kpe,$J="[object Map]",Qut="[object Object]",TJ="[object Promise]",MJ="[object Set]",CJ="[object WeakMap]",EJ="[object DataView]",ect=Kv(g8),tct=Kv(v8),rct=Kv(b8),nct=Kv(w8),ict=Kv(_8),Gf=qfe;(g8&&Gf(new g8(new ArrayBuffer(1)))!=EJ||v8&&Gf(new v8)!=$J||b8&&Gf(b8.resolve())!=TJ||w8&&Gf(new w8)!=MJ||_8&&Gf(new _8)!=CJ)&&(Gf=function(e){var t=qfe(e),r=t==Qut?e.constructor:void 0,n=r?Kv(r):"";if(n)switch(n){case ect:return EJ;case tct:return $J;case rct:return TJ;case nct:return MJ;case ict:return CJ}return t});var JI=Gf,WP=sI,sct=zfe,oct=sut,act=Nut,kJ=JI,IJ=po,OJ=aI,lct=m7,uct=1,PJ="[object Arguments]",AJ="[object Array]",h$="[object Object]",cct=Object.prototype,RJ=cct.hasOwnProperty;function dct(e,t,r,n,i,s){var o=IJ(e),a=IJ(t),l=o?AJ:kJ(e),u=a?AJ:kJ(t);l=l==PJ?h$:l,u=u==PJ?h$:u;var d=l==h$,h=u==h$,f=l==u;if(f&&OJ(e)){if(!OJ(t))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new WP),o||lct(e)?sct(e,t,r,n,i,s):oct(e,t,l,r,n,i,s);if(!(r&uct)){var y=d&&RJ.call(e,"__wrapped__"),g=h&&RJ.call(t,"__wrapped__");if(y||g){var v=y?e.value():e,b=g?t.value():t;return s||(s=new WP),i(v,b,r,n,s)}}return f?(s||(s=new WP),act(e,t,r,n,i,s)):!1}var pct=dct,hct=pct,LJ=Ja;function Hfe(e,t,r,n,i){return e===t?!0:e==null||t==null||!LJ(e)&&!LJ(t)?e!==e&&t!==t:hct(e,t,r,n,Hfe,i)}var ez=Hfe,fct=ez;function mct(e,t){return fct(e,t)}var yct=mct;const gct=Nn(yct);var vct={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(this,arguments)}function x8(e,t){return x8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},x8(e,t)}function KI(e,t){if(e==null)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var bct=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],wct=function(e,t){return La({},t,e)},_ct=function(e,t){var r=drt({},e,t);return bct.forEach(function(n){ow(r,n,wct(Gu(r,n),r.text))}),r},Zfe=I.createContext(),Yfe=function(e){var t=e.children,r=e.animate,n=r===void 0||r,i=e.config,s=i===void 0?"default":i,o=I.useMemo(function(){var a=Bnt(s)?r7[s]:s;return{animate:n,config:a}},[n,s]);return w.jsx(Zfe.Provider,{value:o,children:t})},jJ={animate:te.bool,motionConfig:te.oneOfType([te.oneOf(Object.keys(r7)),te.shape({mass:te.number,tension:te.number,friction:te.number,clamp:te.bool,precision:te.number,velocity:te.number,duration:te.number,easing:te.func})])};Yfe.propTypes={children:te.node.isRequired,animate:jJ.animate,config:jJ.motionConfig};var Ka=function(){return I.useContext(Zfe)},tz=function(e){var t=Ka(),r=t.animate,n=t.config,i=function(a){var l=I.useRef();return I.useEffect(function(){l.current=a},[a]),l.current}(e),s=I.useMemo(function(){return The(i,e)},[i,e]),o=Yu({from:{value:0},to:{value:1},reset:!0,config:n,immediate:!r}).value;return s8(o,s)},xct={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:rt(wI),PRGn:rt(_I),PiYG:rt(xI),PuOr:rt(SI),RdBu:rt($I),RdGy:rt(TI),RdYlBu:rt(MI),RdYlGn:rt(CI),spectral:rt(EI),blues:rt(VI),greens:rt(BI),greys:rt(UI),oranges:rt(qI),purples:rt(GI),reds:rt(WI),BuGn:rt(kI),BuPu:rt(II),GnBu:rt(OI),OrRd:rt(PI),PuBuGn:rt(AI),PuBu:rt(RI),PuRd:rt(LI),RdPu:rt(jI),YlGnBu:rt(NI),YlGn:rt(FI),YlOrBr:rt(DI),YlOrRd:rt(zI)},Sct=Object.keys(xct);rt(wI),rt(_I),rt(xI),rt(SI),rt($I),rt(TI),rt(MI),rt(CI),rt(EI),rt(VI),rt(BI),rt(UI),rt(qI),rt(GI),rt(WI),rt(kI),rt(II),rt(OI),rt(PI),rt(AI),rt(RI),rt(LI),rt(jI),rt(NI),rt(FI),rt(DI),rt(zI);te.oneOfType([te.oneOf(Sct),te.func,te.arrayOf(te.string)]);var S8={basis:xat,basisClosed:Sat,basisOpen:$at,bundle:Tat,cardinal:Mat,cardinalClosed:Cat,cardinalOpen:Eat,catmullRom:kat,catmullRomClosed:Iat,catmullRomOpen:Oat,linear:q7,linearClosed:Pat,monotoneX:Aat,monotoneY:Rat,natural:Lat,step:jat,stepAfter:Fat,stepBefore:Nat},rz=Object.keys(S8);rz.filter(function(e){return e.endsWith("Closed")});bfe(rz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");bfe(rz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var Jfe=function(e){if(!S8[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return S8[e]};te.shape({top:te.number,right:te.number,bottom:te.number,left:te.number}).isRequired;var $ct=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];te.oneOf($ct);um(B7);var Kfe={top:0,right:0,bottom:0,left:0},XI=function(e,t,r){return r===void 0&&(r={}),I.useMemo(function(){var n=La({},Kfe,r);return{margin:n,innerWidth:e-n.left-n.right,innerHeight:t-n.top-n.bottom,outerWidth:e,outerHeight:t}},[e,t,r.top,r.right,r.bottom,r.left])},Xfe=function(){var e=I.useRef(null),t=I.useState({left:0,top:0,width:0,height:0}),r=t[0],n=t[1],i=I.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(s){var o=s[0];return n(o.contentRect)})})[0];return I.useEffect(function(){return e.current&&i!==null&&i.observe(e.current),function(){i!==null&&i.disconnect()}},[]),[e,r]},Tct=function(e){return I.useMemo(function(){return _ct(vct,e)},[e])},Mct=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?bI(e.slice("5")):pS(e):function(t){return""+t}},ux=function(e){return I.useMemo(function(){return Mct(e)},[e])},Qfe=I.createContext(),Cct={},eme=function(e){var t=e.theme,r=t===void 0?Cct:t,n=e.children,i=Tct(r);return w.jsx(Qfe.Provider,{value:i,children:n})};eme.propTypes={children:te.node.isRequired,theme:te.object};var cn=function(){return I.useContext(Qfe)},Ect=["outlineWidth","outlineColor","outlineOpacity"],nz=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,KI(e,Ect)},tme=function(e){var t=e.children,r=e.condition,n=e.wrapper;return r?I.cloneElement(n,{},t):t};tme.propTypes={children:te.node.isRequired,condition:te.bool.isRequired,wrapper:te.element.isRequired};var kct={position:"relative"},QI=function(e){var t=e.children,r=e.theme,n=e.renderWrapper,i=n===void 0||n,s=e.isInteractive,o=s===void 0||s,a=e.animate,l=e.motionConfig,u=I.useRef(null);return w.jsx(eme,{theme:r,children:w.jsx(Yfe,{animate:a,config:l,children:w.jsx(WYe,{container:u,children:w.jsxs(tme,{condition:i,wrapper:w.jsx("div",{style:kct,ref:u}),children:[t,o&&w.jsx(GYe,{})]})})})})};QI.propTypes={children:te.element.isRequired,isInteractive:te.bool,renderWrapper:te.bool,theme:te.object,animate:te.bool,motionConfig:te.string};te.func.isRequired,te.bool,te.bool,te.object.isRequired,te.bool.isRequired,te.string;var fS=function(e){var t=e.children,r=Xfe(),n=r[0],i=r[1],s=i.width>0&&i.height>0;return w.jsx("div",{ref:n,style:{width:"100%",height:"100%"},children:s&&t({width:i.width,height:i.height})})};fS.propTypes={children:te.func.isRequired};var Ict=["id","colors"],rme=function(e){var t=e.id,r=e.colors,n=KI(e,Ict);return w.jsx("linearGradient",La({id:t,x1:0,x2:0,y1:0,y2:1},n,{children:r.map(function(i){var s=i.offset,o=i.color,a=i.opacity;return w.jsx("stop",{offset:s+"%",stopColor:o,stopOpacity:a!==void 0?a:1},s)})}))};rme.propTypes={id:te.string.isRequired,colors:te.arrayOf(te.shape({offset:te.number.isRequired,color:te.string.isRequired,opacity:te.number})).isRequired,gradientTransform:te.string};var nme={linearGradient:rme},H1={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},$8=I.memo(function(e){var t=e.id,r=e.background,n=r===void 0?H1.background:r,i=e.color,s=i===void 0?H1.color:i,o=e.size,a=o===void 0?H1.size:o,l=e.padding,u=l===void 0?H1.padding:l,d=e.stagger,h=d===void 0?H1.stagger:d,f=a+u,y=a/2,g=u/2;return h===!0&&(f=2*a+2*u),w.jsxs("pattern",{id:t,width:f,height:f,patternUnits:"userSpaceOnUse",children:[w.jsx("rect",{width:f,height:f,fill:n}),w.jsx("circle",{cx:g+y,cy:g+y,r:y,fill:s}),h&&w.jsx("circle",{cx:1.5*u+a+y,cy:1.5*u+a+y,r:y,fill:s})]})});$8.displayName="PatternDots",$8.propTypes={id:te.string.isRequired,color:te.string.isRequired,background:te.string.isRequired,size:te.number.isRequired,padding:te.number.isRequired,stagger:te.bool.isRequired};var cx=function(e){return e*Math.PI/180},Oct=function(e){return 180*e/Math.PI},Pct=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},Act=function(e){var t=e%360;return t<0&&(t+=360),t},Rct={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Z1={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},T8=I.memo(function(e){var t=e.id,r=e.spacing,n=r===void 0?Z1.spacing:r,i=e.rotation,s=i===void 0?Z1.rotation:i,o=e.background,a=o===void 0?Z1.background:o,l=e.color,u=l===void 0?Z1.color:l,d=e.lineWidth,h=d===void 0?Z1.lineWidth:d,f=Math.round(s)%360,y=Math.abs(n);f>180?f-=360:f>90?f-=180:f<-180?f+=360:f<-90&&(f+=180);var g,v=y,b=y;return f===0?g=`
                M 0 0 L `+v+` 0
                M 0 `+b+" L "+v+" "+b+`
            `:f===90?g=`
                M 0 0 L 0 `+b+`
                M `+v+" 0 L "+v+" "+b+`
            `:(v=Math.abs(y/Math.sin(cx(f))),b=y/Math.sin(cx(90-f)),g=f>0?`
                    M 0 `+-b+" L "+2*v+" "+b+`
                    M `+-v+" "+-b+" L "+v+" "+b+`
                    M `+-v+" 0 L "+v+" "+2*b+`
                `:`
                    M `+-v+" "+b+" L "+v+" "+-b+`
                    M `+-v+" "+2*b+" L "+2*v+" "+-b+`
                    M 0 `+2*b+" L "+2*v+` 0
                `),w.jsxs("pattern",{id:t,width:v,height:b,patternUnits:"userSpaceOnUse",children:[w.jsx("rect",{width:v,height:b,fill:a,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),w.jsx("path",{d:g,strokeWidth:h,stroke:u,strokeLinecap:"square"})]})});T8.displayName="PatternLines",T8.propTypes={id:te.string.isRequired,spacing:te.number.isRequired,rotation:te.number.isRequired,background:te.string.isRequired,color:te.string.isRequired,lineWidth:te.number.isRequired};var Y1={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},M8=I.memo(function(e){var t=e.id,r=e.color,n=r===void 0?Y1.color:r,i=e.background,s=i===void 0?Y1.background:i,o=e.size,a=o===void 0?Y1.size:o,l=e.padding,u=l===void 0?Y1.padding:l,d=e.stagger,h=d===void 0?Y1.stagger:d,f=a+u,y=u/2;return h===!0&&(f=2*a+2*u),w.jsxs("pattern",{id:t,width:f,height:f,patternUnits:"userSpaceOnUse",children:[w.jsx("rect",{width:f,height:f,fill:s}),w.jsx("rect",{x:y,y,width:a,height:a,fill:n}),h&&w.jsx("rect",{x:1.5*u+a,y:1.5*u+a,width:a,height:a,fill:n})]})});M8.displayName="PatternSquares",M8.propTypes={id:te.string.isRequired,color:te.string.isRequired,background:te.string.isRequired,size:te.number.isRequired,padding:te.number.isRequired,stagger:te.bool.isRequired};var ime={patternDots:$8,patternLines:T8,patternSquares:M8},Lct=["type"],C8=La({},nme,ime),sme=function(e){var t=e.defs;return!t||t.length<1?null:w.jsx("defs",{"aria-hidden":!0,children:t.map(function(r){var n=r.type,i=KI(r,Lct);return C8[n]?I.createElement(C8[n],La({key:i.id},i)):null})})};sme.propTypes={defs:te.arrayOf(te.shape({type:te.oneOf(Object.keys(C8)).isRequired,id:te.string.isRequired}))};var jct=I.memo(sme),iz=function(e){var t=e.width,r=e.height,n=e.margin,i=e.defs,s=e.children,o=e.role,a=e.ariaLabel,l=e.ariaLabelledBy,u=e.ariaDescribedBy,d=e.isFocusable,h=cn();return w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,role:o,"aria-label":a,"aria-labelledby":l,"aria-describedby":u,focusable:d,tabIndex:d?0:void 0,children:[w.jsx(jct,{defs:i}),w.jsx("rect",{width:t,height:r,fill:h.background}),w.jsx("g",{transform:"translate("+n.left+","+n.top+")",children:s})]})};iz.propTypes={width:te.number.isRequired,height:te.number.isRequired,margin:te.shape({top:te.number.isRequired,left:te.number.isRequired}).isRequired,defs:te.array,children:te.oneOfType([te.arrayOf(te.node),te.node]).isRequired,role:te.string,isFocusable:te.bool,ariaLabel:te.string,ariaLabelledBy:te.string,ariaDescribedBy:te.string};var ome=function(e){var t=e.size,r=e.color,n=e.borderWidth,i=e.borderColor;return w.jsx("circle",{r:t/2,fill:r,stroke:i,strokeWidth:n,style:{pointerEvents:"none"}})};ome.propTypes={size:te.number.isRequired,color:te.string.isRequired,borderWidth:te.number.isRequired,borderColor:te.string.isRequired};var Nct=I.memo(ome),ame=function(e){var t=e.x,r=e.y,n=e.symbol,i=n===void 0?Nct:n,s=e.size,o=e.datum,a=e.color,l=e.borderWidth,u=e.borderColor,d=e.label,h=e.labelTextAnchor,f=h===void 0?"middle":h,y=e.labelYOffset,g=y===void 0?-12:y,v=cn(),b=Ka(),_=b.animate,x=b.config,S=Yu({transform:"translate("+t+", "+r+")",config:x,immediate:!_});return w.jsxs(vn.g,{transform:S.transform,style:{pointerEvents:"none"},children:[I.createElement(i,{size:s,color:a,datum:o,borderWidth:l,borderColor:u}),d&&w.jsx("text",{textAnchor:f,y:g,style:nz(v.dots.text),children:d})]})};ame.propTypes={x:te.number.isRequired,y:te.number.isRequired,datum:te.object.isRequired,size:te.number.isRequired,color:te.string.isRequired,borderWidth:te.number.isRequired,borderColor:te.string.isRequired,symbol:te.oneOfType([te.func,te.object]),label:te.oneOfType([te.string,te.number]),labelTextAnchor:te.oneOf(["start","middle","end"]),labelYOffset:te.number};var Fct=I.memo(ame),lme=function(e){var t=e.width,r=e.height,n=e.axis,i=e.scale,s=e.value,o=e.lineStyle,a=e.textStyle,l=e.legend,u=e.legendPosition,d=u===void 0?"top-right":u,h=e.legendOffsetX,f=h===void 0?14:h,y=e.legendOffsetY,g=y===void 0?14:y,v=e.legendOrientation,b=v===void 0?"horizontal":v,_=cn(),x=0,S=0,$=0,C=0;n==="y"?($=i(s),S=t):(x=i(s),C=r);var k=null;if(l){var E=function(P){var T=P.axis,M=P.width,O=P.height,j=P.position,N=P.offsetX,L=P.offsetY,z=P.orientation,B=0,U=0,F=z==="vertical"?-90:0,D="start";if(T==="x")switch(j){case"top-left":B=-N,U=L,D="end";break;case"top":U=-L,D=z==="horizontal"?"middle":"start";break;case"top-right":B=N,U=L,D=z==="horizontal"?"start":"end";break;case"right":B=N,U=O/2,D=z==="horizontal"?"start":"middle";break;case"bottom-right":B=N,U=O-L,D="start";break;case"bottom":U=O+L,D=z==="horizontal"?"middle":"end";break;case"bottom-left":U=O-L,B=-N,D=z==="horizontal"?"end":"start";break;case"left":B=-N,U=O/2,D=z==="horizontal"?"end":"middle"}else switch(j){case"top-left":B=N,U=-L,D="start";break;case"top":B=M/2,U=-L,D=z==="horizontal"?"middle":"start";break;case"top-right":B=M-N,U=-L,D=z==="horizontal"?"end":"start";break;case"right":B=M+N,D=z==="horizontal"?"start":"middle";break;case"bottom-right":B=M-N,U=L,D="end";break;case"bottom":B=M/2,U=L,D=z==="horizontal"?"middle":"end";break;case"bottom-left":B=N,U=L,D=z==="horizontal"?"start":"end";break;case"left":B=-N,D=z==="horizontal"?"end":"middle"}return{x:B,y:U,rotation:F,textAnchor:D}}({axis:n,width:t,height:r,position:d,offsetX:f,offsetY:g,orientation:b});k=w.jsx("text",{transform:"translate("+E.x+", "+E.y+") rotate("+E.rotation+")",textAnchor:E.textAnchor,dominantBaseline:"central",style:a,children:l})}return w.jsxs("g",{transform:"translate("+x+", "+$+")",children:[w.jsx("line",{x1:0,x2:S,y1:0,y2:C,stroke:_.markers.lineColor,strokeWidth:_.markers.lineStrokeWidth,style:o}),k]})};lme.propTypes={width:te.number.isRequired,height:te.number.isRequired,axis:te.oneOf(["x","y"]).isRequired,scale:te.func.isRequired,value:te.oneOfType([te.number,te.string,te.instanceOf(Date)]).isRequired,lineStyle:te.object,textStyle:te.object,legend:te.string,legendPosition:te.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:te.number.isRequired,legendOffsetY:te.number.isRequired,legendOrientation:te.oneOf(["horizontal","vertical"]).isRequired};var Dct=I.memo(lme),ume=function(e){var t=e.markers,r=e.width,n=e.height,i=e.xScale,s=e.yScale;return t&&t.length!==0?t.map(function(o,a){return w.jsx(Dct,La({},o,{width:r,height:n,scale:o.axis==="y"?s:i}),a)}):null};ume.propTypes={width:te.number.isRequired,height:te.number.isRequired,xScale:te.func.isRequired,yScale:te.func.isRequired,markers:te.arrayOf(te.shape({axis:te.oneOf(["x","y"]).isRequired,value:te.oneOfType([te.number,te.string,te.instanceOf(Date)]).isRequired,lineStyle:te.object,textStyle:te.object}))};var cme=I.memo(ume),zct=["theme","renderWrapper","animate","motionConfig"],dme=function(e){return function(t){var r,n;function i(){return t.apply(this,arguments)||this}return n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,x8(r,n),i.prototype.render=function(){var s=this.props,o=s.theme,a=s.renderWrapper,l=s.animate,u=s.motionConfig,d=KI(s,zct);return w.jsx(QI,{theme:o,renderWrapper:a,isInteractive:d.isInteractive,animate:l,motionConfig:u,children:w.jsx(e,La({},d))})},i}(I.Component)},Vct=function(e,t){var r=s7(e)?e:function(n){return Gu(n,e)};return r},pme=function(e){return s7(e)?e:function(t){return Gu(t,e)}},qP=function(e){return I.useMemo(function(){return pme(e)},[e])},Bct=function(e,t,r,n){var i=r-e,s=n-t;return i*=i,s*=s,Math.sqrt(i+s)},hme=function(e,t,r,n,i,s){return e<=i&&i<=e+r&&t<=s&&s<=t+n},Yw=function(e,t){var r,n="touches"in t?t.touches[0]:t,i=n.clientX,s=n.clientY,o=e.getBoundingClientRect(),a=(r=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===o.width?1:r.width/o.width;return[(i-o.left)*a,(s-o.top)*a]},Uct=Object.keys(nme),Gct=Object.keys(ime),Wct=function(e,t,r){if(e==="*")return!0;if(s7(e))return e(t);if(f7(e)){var n=r?Gu(t,r):t;return gct(klt(n,Object.keys(e)),e)}return!1},fme=function(e,t,r,n){var i=n===void 0?{}:n,s=i.dataKey,o=i.colorKey,a=o===void 0?"color":o,l=i.targetKey,u=l===void 0?"fill":l,d=[],h={};return e.length&&t.length&&(d=[].concat(e),t.forEach(function(f){for(var y=function(){var v=r[g],b=v.id,_=v.match;if(Wct(_,f,s)){var x=e.find(function(M){return M.id===b});if(x){if(Gct.includes(x.type))if(x.background==="inherit"||x.color==="inherit"){var S=Gu(f,a),$=x.background,C=x.color,k=b;x.background==="inherit"&&(k=k+".bg."+S,$=S),x.color==="inherit"&&(k=k+".fg."+S,C=S),ow(f,u,"url(#"+k+")"),h[k]||(d.push(La({},x,{id:k,background:$,color:C})),h[k]=1)}else ow(f,u,"url(#"+b+")");else if(Uct.includes(x.type))if(x.colors.map(function(M){return M.color}).includes("inherit")){var E=Gu(f,a),P=b,T=La({},x,{colors:x.colors.map(function(M,O){return M.color!=="inherit"?M:(P=P+"."+O+"."+E,La({},M,{color:M.color==="inherit"?E:M.color}))})});T.id=P,ow(f,u,"url(#"+P+")"),h[P]||(d.push(T),h[P]=1)}else ow(f,u,"url(#"+b+")")}return"break"}},g=0;g<r.length&&y()!=="break";g++);})),d};function qct(){}var Hct=qct,HP=Wfe,Zct=Hct,Yct=X7,Jct=1/0,Kct=HP&&1/Yct(new HP([,-0]))[1]==Jct?function(e){return new HP(e)}:Zct,Xct=Kct,Qct=U7,edt=gfe,tdt=vfe,rdt=G7,ndt=Xct,idt=X7,sdt=200;function odt(e,t,r){var n=-1,i=edt,s=e.length,o=!0,a=[],l=a;if(r)o=!1,i=tdt;else if(s>=sdt){var u=t?null:ndt(e);if(u)return idt(u);o=!1,i=rdt,l=new Qct}else l=t?[]:a;e:for(;++n<s;){var d=e[n],h=t?t(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),a.push(d)}else i(l,h,r)||(l!==a&&l.push(h),a.push(d))}return a}var mme=odt,adt=mme;function ldt(e){return e&&e.length?adt(e):[]}var udt=ldt;const NJ=Nn(udt);var cdt=sI,ddt=ez,pdt=1,hdt=2;function fdt(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var l=a[0],u=e[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var h=new cdt;if(n)var f=n(u,d,l,e,t,h);if(!(f===void 0?ddt(d,u,pdt|hdt,n,h):f))return!1}}return!0}var mdt=fdt,ydt=Ku;function gdt(e){return e===e&&!ydt(e)}var yme=gdt,vdt=yme,bdt=hS;function wdt(e){for(var t=bdt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,vdt(i)]}return t}var _dt=wdt;function xdt(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var gme=xdt,Sdt=mdt,$dt=_dt,Tdt=gme;function Mdt(e){var t=$dt(e);return t.length==1&&t[0][2]?Tdt(t[0][0],t[0][1]):function(r){return r===e||Sdt(r,e,t)}}var Cdt=Mdt,Edt=ez,kdt=bhe,Idt=jfe,Odt=v7,Pdt=yme,Adt=gme,Rdt=Yv,Ldt=1,jdt=2;function Ndt(e,t){return Odt(e)&&Pdt(t)?Adt(Rdt(e),t):function(r){var n=kdt(r,e);return n===void 0&&n===t?Idt(r,e):Edt(t,n,Ldt|jdt)}}var Fdt=Ndt;function Ddt(e){return function(t){return t==null?void 0:t[e]}}var zdt=Ddt,Vdt=dS;function Bdt(e){return function(t){return Vdt(t,e)}}var Udt=Bdt,Gdt=zdt,Wdt=Udt,qdt=v7,Hdt=Yv;function Zdt(e){return qdt(e)?Gdt(Hdt(e)):Wdt(e)}var Ydt=Zdt,Jdt=Cdt,Kdt=Fdt,Xdt=cI,Qdt=po,ept=Ydt;function tpt(e){return typeof e=="function"?e:e==null?Xdt:typeof e=="object"?Qdt(e)?Kdt(e[0],e[1]):Jdt(e):ept(e)}var sz=tpt,rpt=sz,npt=mme;function ipt(e,t){return e&&e.length?npt(e,rpt(t)):[]}var spt=ipt;const E8=Nn(spt);var opt=ehe,apt=hS;function lpt(e,t){return e&&opt(e,t,apt)}var upt=lpt,cpt=Wv;function dpt(e,t){return function(r,n){if(r==null)return r;if(!cpt(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var ppt=dpt,hpt=upt,fpt=ppt,mpt=fpt(hpt),vme=mpt,ypt=vme,gpt=Wv;function vpt(e,t){var r=-1,n=gpt(e)?Array(e.length):[];return ypt(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var bpt=vpt;function wpt(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _pt=wpt,FJ=dI;function xpt(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=FJ(e),o=t!==void 0,a=t===null,l=t===t,u=FJ(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!l)return-1}return 0}var Spt=xpt,$pt=Spt;function Tpt(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var l=$pt(i[n],s[n]);if(l){if(n>=a)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Mpt=Tpt,ZP=pI,Cpt=dS,Ept=sz,kpt=bpt,Ipt=_pt,Opt=qv,Ppt=Mpt,Apt=cI,Rpt=po;function Lpt(e,t,r){t.length?t=ZP(t,function(s){return Rpt(s)?function(o){return Cpt(o,s.length===1?s[0]:s)}:s}):t=[Apt];var n=-1;t=ZP(t,Opt(Ept));var i=kpt(e,function(s,o,a){var l=ZP(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return Ipt(i,function(s,o){return Ppt(s,o,r)})}var jpt=Lpt,Npt=Ffe,Fpt=jpt,Dpt=g7,DJ=mhe,zpt=Dpt(function(e,t){if(e==null)return[];var r=t.length;return r>1&&DJ(e,t[0],t[1])?t=[]:r>2&&DJ(t[0],t[1],t[2])&&(t=[t[0]]),Fpt(e,Npt(t,1),[])}),Vpt=zpt;const Bpt=Nn(Vpt);var Upt=wd,Gpt=Ja,Wpt="[object Date]";function qpt(e){return Gpt(e)&&Upt(e)==Wpt}var Hpt=qpt,Zpt=Hpt,Ypt=qv,zJ=lI,VJ=zJ&&zJ.isDate,Jpt=VJ?Ypt(VJ):Zpt,Kpt=Jpt;const Xpt=Nn(Kpt);function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}var Gy=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],Qpt={millisecond:[],second:Gy.slice(0,1),minute:Gy.slice(0,2),hour:Gy.slice(0,3),day:Gy.slice(0,4),month:Gy.slice(0,5),year:Gy.slice(0,6)},eht=function(e){return function(t){return Qpt[e].forEach(function(r){r(t)}),t}},bme=function(e){var t=e.format,r=t===void 0?"native":t,n=e.precision,i=n===void 0?"millisecond":n,s=e.useUTC,o=s===void 0||s,a=eht(i);return function(l){if(l===void 0)return l;if(r==="native"||l instanceof Date)return a(l);var u=o?lfe(r):ofe(r);return a(u(l))}},tht=function(e,t,r,n){var i,s,o,a,l=e.min,u=l===void 0?0:l,d=e.max,h=d===void 0?"auto":d,f=e.stacked,y=f!==void 0&&f,g=e.reverse,v=g!==void 0&&g,b=e.clamp,_=b!==void 0&&b,x=e.nice,S=x!==void 0&&x;u==="auto"?i=y===!0?(s=t.minStacked)!=null?s:0:t.min:i=u,h==="auto"?o=y===!0?(a=t.maxStacked)!=null?a:0:t.max:o=h;var $=Ahe().rangeRound(n==="x"?[0,r]:[r,0]).domain(v?[o,i]:[i,o]).clamp(_);return S===!0?$.nice():typeof S=="number"&&$.nice(S),rht($,y)},rht=function(e,t){t===void 0&&(t=!1);var r=e;return r.type="linear",r.stacked=t,r},nht=function(e,t,r){var n=rit().range([0,r]).domain(t.all);return n.type="point",n},iht=function(e,t,r,n){var i=e.round,s=i===void 0||i,o=M7().range(n==="x"?[0,r]:[r,0]).domain(t.all).round(s);return sht(o)},sht=function(e){var t=e;return t.type="band",t},oht=function(e,t,r){var n,i,s=e.format,o=s===void 0?"native":s,a=e.precision,l=a===void 0?"millisecond":a,u=e.min,d=u===void 0?"auto":u,h=e.max,f=h===void 0?"auto":h,y=e.useUTC,g=y===void 0||y,v=e.nice,b=v!==void 0&&v,_=bme({format:o,precision:l,useUTC:g});n=d==="auto"?_(t.min):o!=="native"?_(d):d,i=f==="auto"?_(t.max):o!=="native"?_(f):f;var x=g?Hst():qst();x.range([0,r]),n&&i&&x.domain([n,i]),b===!0?x.nice():typeof b!="object"&&typeof b!="number"||x.nice(b);var S=x;return S.type="time",S.useUTC=g,S},aht=function(e,t,r,n){var i,s=e.base,o=s===void 0?10:s,a=e.min,l=a===void 0?"auto":a,u=e.max,d=u===void 0?"auto":u;if(t.all.some(function(v){return v===0}))throw new Error("a log scale domain must not include or cross zero");var h,f,y=!1;if(t.all.filter(function(v){return v!=null}).forEach(function(v){y||(i===void 0?i=Math.sign(v):Math.sign(v)!==i&&(y=!0))}),y)throw new Error("a log scale domain must be strictly-positive or strictly-negative");h=l==="auto"?t.min:l,f=d==="auto"?t.max:d;var g=Lhe().domain([h,f]).rangeRound(n==="x"?[0,r]:[r,0]).base(o).nice();return g.type="log",g},lht=function(e,t,r,n){var i,s,o=e.constant,a=o===void 0?1:o,l=e.min,u=l===void 0?"auto":l,d=e.max,h=d===void 0?"auto":d,f=e.reverse,y=f!==void 0&&f;i=u==="auto"?t.min:u,s=h==="auto"?t.max:h;var g=jhe().constant(a).rangeRound(n==="x"?[0,r]:[r,0]).nice();y===!0?g.domain([s,i]):g.domain([i,s]);var v=g;return v.type="symlog",v},uht=function(e){return e==="x"?"y":"x"},cht=function(e,t){return e===t},dht=function(e,t){return e.getTime()===t.getTime()};function dx(e,t,r,n){switch(e.type){case"linear":return tht(e,t,r,n);case"point":return nht(e,t,r);case"band":return iht(e,t,r,n);case"time":return oht(e,t,r);case"log":return aht(e,t,r,n);case"symlog":return lht(e,t,r,n);default:throw new Error("invalid scale spec")}}var BJ=function(e,t,r){var n;if("stacked"in r&&r.stacked){var i=e.data[t==="x"?"xStacked":"yStacked"];return i==null?null:r(i)}return(n=r(e.data[t]))!=null?n:null},pht=function(e,t,r,n,i){var s=e.map(function(d){return function(h){return Kf({},h,{data:h.data.map(function(f){return{data:Kf({},f)}})})}(d)}),o=hht(s,t,r);"stacked"in t&&t.stacked===!0&&fht(o,s),"stacked"in r&&r.stacked===!0&&mht(o,s);var a=dx(t,o.x,n,"x"),l=dx(r,o.y,i,"y"),u=s.map(function(d){return Kf({},d,{data:d.data.map(function(h){return Kf({},h,{position:{x:BJ(h,"x",a),y:BJ(h,"y",l)}})})})});return Kf({},o,{series:u,xScale:a,yScale:l})},hht=function(e,t,r){return{x:UJ(e,"x",t),y:UJ(e,"y",r)}},UJ=function(e,t,r,n){var i={},s=i.getValue,o=s===void 0?function(g){return g.data[t]}:s,a=i.setValue,l=a===void 0?function(g,v){g.data[t]=v}:a;if(r.type==="linear")e.forEach(function(g){g.data.forEach(function(v){var b=o(v);b&&l(v,parseFloat(String(b)))})});else if(r.type==="time"&&r.format!=="native"){var u=bme(r);e.forEach(function(g){g.data.forEach(function(v){var b=o(v);b&&l(v,u(b))})})}var d=[];switch(e.forEach(function(g){g.data.forEach(function(v){d.push(o(v))})}),r.type){case"linear":var h=Bpt(NJ(d).filter(function(g){return g!==null}),function(g){return g});return{all:h,min:Math.min.apply(Math,h),max:Math.max.apply(Math,h)};case"time":var f=E8(d,function(g){return g.getTime()}).slice(0).sort(function(g,v){return v.getTime()-g.getTime()}).reverse();return{all:f,min:f[0],max:rt(f)};default:var y=NJ(d);return{all:y,min:y[0],max:rt(y)}}},wme=function(e,t,r){var n=uht(e),i=[];t[n].all.forEach(function(s){var o=Xpt(s)?dht:cht,a=[];r.forEach(function(l){var u=l.data.find(function(y){return o(y.data[n],s)}),d=null,h=null;if(u!==void 0){if((d=u.data[e])!==null){var f=rt(a);f===void 0?h=d:f!==null&&(h=f+d)}u.data[e==="x"?"xStacked":"yStacked"]=h}a.push(h),h!==null&&i.push(h)})}),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},fht=function(e,t){return wme("x",e,t)},mht=function(e,t){return wme("y",e,t)},_me=function(e){var t=e.bandwidth();if(t===0)return e;var r=t/2;return e.round()&&(r=Math.round(r)),function(n){var i;return((i=e(n))!=null?i:0)+r}},xme={millisecond:[ox,ox],second:[f8,f8],minute:[Bhe,Yhe],hour:[Uhe,Jhe],day:[Xn(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),Xn(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[vC,bC],sunday:[vC,bC],monday:[ax,lx],tuesday:[Ghe,Khe],wednesday:[Whe,Xhe],thursday:[Qm,ey],friday:[qhe,Qhe],saturday:[Hhe,efe],month:[Zhe,tfe],year:[vh,bh]},yht=Object.keys(xme),ght=new RegExp("^every\\s*(\\d+)?\\s*("+yht.join("|")+")s?$","i"),Sme=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var r=t.match(ght);if(r){var n=r[1],i=r[2],s=xme[i][e.useUTC?1:0];if(i==="day"){var o,a,l=e.domain(),u=l[0],d=l[1],h=new Date(d);return h.setDate(h.getDate()+1),(o=(a=s.every(Number(n??1)))==null?void 0:a.range(u,h))!=null?o:[]}if(n===void 0)return e.ticks(s);var f=s.every(Number(n));if(f)return e.ticks(f)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(y=t)=="number"&&isFinite(y)&&Math.floor(y)===y)return e.ticks(t)}var y;return e.domain()};function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(this,arguments)}var $me=function(e){var t,r=e.axis,n=e.scale,i=e.ticksPosition,s=e.tickValues,o=e.tickSize,a=e.tickPadding,l=e.tickRotation,u=e.truncateTickAt,d=e.engine,h=d===void 0?"svg":d,f=Sme(n,s),y=Rct[h],g="bandwidth"in n?_me(n):n,v={lineX:0,lineY:0},b={textX:0,textY:0},_=typeof document=="object"&&document.dir==="rtl",x=y.align.center,S=y.baseline.center;return r==="x"?(t=function($){var C;return{x:(C=g($))!=null?C:0,y:0}},v.lineY=o*(i==="after"?1:-1),b.textY=(o+a)*(i==="after"?1:-1),S=i==="after"?y.baseline.top:y.baseline.bottom,l===0?x=y.align.center:i==="after"&&l<0||i==="before"&&l>0?(x=y.align[_?"left":"right"],S=y.baseline.center):(i==="after"&&l>0||i==="before"&&l<0)&&(x=y.align[_?"right":"left"],S=y.baseline.center)):(t=function($){var C;return{x:0,y:(C=g($))!=null?C:0}},v.lineX=o*(i==="after"?1:-1),b.textX=(o+a)*(i==="after"?1:-1),x=i==="after"?y.align.left:y.align.right),{ticks:f.map(function($){var C=typeof $=="string"?function(k){var E=String(k).length;return u&&u>0&&E>u?""+String(k).slice(0,u).concat("..."):""+k}($):$;return ja({key:$ instanceof Date?""+$.valueOf():""+$,value:C},t($),v,b)}),textAlign:x,textBaseline:S}},Tme=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var r=bI(e);return function(n){return r(n instanceof Date?n:new Date(n))}}return pS(e)},k8=function(e){var t,r=e.width,n=e.height,i=e.scale,s=e.axis,o=e.values,a=(t=o,(Array.isArray(t)?o:void 0)||Sme(i,o)),l="bandwidth"in i?_me(i):i,u=s==="x"?a.map(function(d){var h,f;return{key:d instanceof Date?""+d.valueOf():""+d,x1:(h=l(d))!=null?h:0,x2:(f=l(d))!=null?f:0,y1:0,y2:n}}):a.map(function(d){var h,f;return{key:d instanceof Date?""+d.valueOf():""+d,x1:0,x2:r,y1:(h=l(d))!=null?h:0,y2:(f=l(d))!=null?f:0}});return u},vht=I.memo(function(e){var t,r=e.value,n=e.format,i=e.lineX,s=e.lineY,o=e.onClick,a=e.textBaseline,l=e.textAnchor,u=e.animatedProps,d=cn(),h=d.axis.ticks.line,f=d.axis.ticks.text,y=(t=n==null?void 0:n(r))!=null?t:r,g=I.useMemo(function(){var v={opacity:u.opacity};return o?{style:ja({},v,{cursor:"pointer"}),onClick:function(b){return o(b,y)}}:{style:v}},[u.opacity,o,y]);return w.jsxs(vn.g,ja({transform:u.transform},g,{children:[w.jsx("line",{x1:0,x2:i,y1:0,y2:s,style:h}),f.outlineWidth>0&&w.jsx(vn.text,{dominantBaseline:a,textAnchor:l,transform:u.textTransform,style:f,strokeWidth:2*f.outlineWidth,stroke:f.outlineColor,strokeLinejoin:"round",children:""+y}),w.jsx(vn.text,{dominantBaseline:a,textAnchor:l,transform:u.textTransform,style:nz(f),children:""+y})]}))}),bht=function(e){var t=e.axis,r=e.scale,n=e.x,i=n===void 0?0:n,s=e.y,o=s===void 0?0:s,a=e.length,l=e.ticksPosition,u=e.tickValues,d=e.tickSize,h=d===void 0?5:d,f=e.tickPadding,y=f===void 0?5:f,g=e.tickRotation,v=g===void 0?0:g,b=e.format,_=e.renderTick,x=_===void 0?vht:_,S=e.truncateTickAt,$=e.legend,C=e.legendPosition,k=C===void 0?"end":C,E=e.legendOffset,P=E===void 0?0:E,T=e.onClick,M=e.ariaHidden,O=cn(),j=O.axis.legend.text,N=I.useMemo(function(){return Tme(b,r)},[b,r]),L=$me({axis:t,scale:r,ticksPosition:l,tickValues:u,tickSize:h,tickPadding:y,tickRotation:v,truncateTickAt:S}),z=L.ticks,B=L.textAlign,U=L.textBaseline,F=null;if($!==void 0){var D,K=0,le=0,he=0;t==="y"?(he=-90,K=P,k==="start"?(D="start",le=a):k==="middle"?(D="middle",le=a/2):k==="end"&&(D="end")):(le=P,k==="start"?D="start":k==="middle"?(D="middle",K=a/2):k==="end"&&(D="end",K=a)),F=w.jsxs(w.Fragment,{children:[j.outlineWidth>0&&w.jsx("text",{transform:"translate("+K+", "+le+") rotate("+he+")",textAnchor:D,style:ja({dominantBaseline:"central"},j),strokeWidth:2*j.outlineWidth,stroke:j.outlineColor,strokeLinejoin:"round",children:$}),w.jsx("text",{transform:"translate("+K+", "+le+") rotate("+he+")",textAnchor:D,style:ja({dominantBaseline:"central"},j),children:$})]})}var Ue=Ka(),fe=Ue.animate,Ge=Ue.config,se=Yu({transform:"translate("+i+","+o+")",lineX2:t==="x"?a:0,lineY2:t==="x"?0:a,config:Ge,immediate:!fe}),we=I.useCallback(function(ce){return{opacity:1,transform:"translate("+ce.x+","+ce.y+")",textTransform:"translate("+ce.textX+","+ce.textY+") rotate("+v+")"}},[v]),de=I.useCallback(function(ce){return{opacity:0,transform:"translate("+ce.x+","+ce.y+")",textTransform:"translate("+ce.textX+","+ce.textY+") rotate("+v+")"}},[v]),Y=Qk(z,{keys:function(ce){return ce.key},initial:we,from:de,enter:we,update:we,leave:{opacity:0},config:Ge,immediate:!fe});return w.jsxs(vn.g,{transform:se.transform,"aria-hidden":M,children:[Y(function(ce,oe,X,$e){return I.createElement(x,ja({tickIndex:$e,format:N,rotate:v,textBaseline:U,textAnchor:B,truncateTickAt:S,animatedProps:ce},oe,T?{onClick:T}:{}))}),w.jsx(vn.line,{style:O.axis.domain.line,x1:0,x2:se.lineX2,y1:0,y2:se.lineY2}),F]})},wht=I.memo(bht),Mme=["top","right","bottom","left"],Cme=I.memo(function(e){var t=e.xScale,r=e.yScale,n=e.width,i=e.height,s={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return w.jsx(w.Fragment,{children:Mme.map(function(o){var a=s[o];if(!a)return null;var l=o==="top"||o==="bottom";return w.jsx(wht,ja({},a,{axis:l?"x":"y",x:o==="right"?n:0,y:o==="bottom"?i:0,scale:l?t:r,length:l?n:i,ticksPosition:o==="top"||o==="left"?"before":"after",truncateTickAt:a.truncateTickAt}),o)})})}),_ht=I.memo(function(e){var t=e.animatedProps,r=cn();return w.jsx(vn.line,ja({},t,r.grid.line))}),GJ=I.memo(function(e){var t=e.lines,r=Ka(),n=r.animate,i=r.config,s=Qk(t,{keys:function(o){return o.key},initial:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},from:function(o){return{opacity:0,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},enter:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},update:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},leave:{opacity:0},config:i,immediate:!n});return w.jsx("g",{children:s(function(o,a){return I.createElement(_ht,ja({},a,{key:a.key,animatedProps:o}))})})}),Eme=I.memo(function(e){var t=e.width,r=e.height,n=e.xScale,i=e.yScale,s=e.xValues,o=e.yValues,a=I.useMemo(function(){return!!n&&k8({width:t,height:r,scale:n,axis:"x",values:s})},[n,s,t,r]),l=I.useMemo(function(){return!!i&&k8({width:t,height:r,scale:i,axis:"y",values:o})},[r,t,i,o]);return w.jsxs(w.Fragment,{children:[a&&w.jsx(GJ,{lines:a}),l&&w.jsx(GJ,{lines:l})]})}),xht=function(e,t){var r,n=t.axis,i=t.scale,s=t.x,o=s===void 0?0:s,a=t.y,l=a===void 0?0:a,u=t.length,d=t.ticksPosition,h=t.tickValues,f=t.tickSize,y=f===void 0?5:f,g=t.tickPadding,v=g===void 0?5:g,b=t.tickRotation,_=b===void 0?0:b,x=t.format,S=t.legend,$=t.legendPosition,C=$===void 0?"end":$,k=t.legendOffset,E=k===void 0?0:k,P=t.theme,T=$me({axis:n,scale:i,ticksPosition:d,tickValues:h,tickSize:y,tickPadding:v,tickRotation:_,engine:"canvas"}),M=T.ticks,O=T.textAlign,j=T.textBaseline;e.save(),e.translate(o,l),e.textAlign=O,e.textBaseline=j;var N=P.axis.ticks.text;e.font=(N.fontWeight?N.fontWeight+" ":"")+N.fontSize+"px "+N.fontFamily,((r=P.axis.domain.line.strokeWidth)!=null?r:0)>0&&(e.lineWidth=Number(P.axis.domain.line.strokeWidth),e.lineCap="square",P.axis.domain.line.stroke&&(e.strokeStyle=P.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(n==="x"?u:0,n==="x"?0:u),e.stroke());var L=typeof x=="function"?x:function(D){return""+D};if(M.forEach(function(D){var K;((K=P.axis.ticks.line.strokeWidth)!=null?K:0)>0&&(e.lineWidth=Number(P.axis.ticks.line.strokeWidth),e.lineCap="square",P.axis.ticks.line.stroke&&(e.strokeStyle=P.axis.ticks.line.stroke),e.beginPath(),e.moveTo(D.x,D.y),e.lineTo(D.x+D.lineX,D.y+D.lineY),e.stroke());var le=L(D.value);e.save(),e.translate(D.x+D.textX,D.y+D.textY),e.rotate(cx(_)),N.outlineWidth>0&&(e.strokeStyle=N.outlineColor,e.lineWidth=2*N.outlineWidth,e.lineJoin="round",e.strokeText(""+le,0,0)),P.axis.ticks.text.fill&&(e.fillStyle=N.fill),e.fillText(""+le,0,0),e.restore()}),S!==void 0){var z=0,B=0,U=0,F="center";n==="y"?(U=-90,z=E,C==="start"?(F="start",B=u):C==="middle"?(F="center",B=u/2):C==="end"&&(F="end")):(B=E,C==="start"?F="start":C==="middle"?(F="center",z=u/2):C==="end"&&(F="end",z=u)),e.translate(z,B),e.rotate(cx(U)),e.font=(P.axis.legend.text.fontWeight?P.axis.legend.text.fontWeight+" ":"")+P.axis.legend.text.fontSize+"px "+P.axis.legend.text.fontFamily,P.axis.legend.text.fill&&(e.fillStyle=P.axis.legend.text.fill),e.textAlign=F,e.textBaseline="middle",e.fillText(S,0,0)}e.restore()},kme=function(e,t){var r=t.xScale,n=t.yScale,i=t.width,s=t.height,o=t.top,a=t.right,l=t.bottom,u=t.left,d=t.theme,h={top:o,right:a,bottom:l,left:u};Mme.forEach(function(f){var y=h[f];if(!y)return null;var g=f==="top"||f==="bottom",v=f==="top"||f==="left"?"before":"after",b=g?r:n,_=Tme(y.format,b);xht(e,ja({},y,{axis:g?"x":"y",x:f==="right"?i:0,y:f==="bottom"?s:0,scale:b,format:_,length:g?i:s,ticksPosition:v,theme:d}))})},$C=function(e,t){var r=t.width,n=t.height,i=t.scale,s=t.axis,o=t.values;k8({width:r,height:n,scale:i,axis:s,values:o}).forEach(function(a){e.beginPath(),e.moveTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.stroke()})},Sht=vme;function $ht(e,t){var r=[];return Sht(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}var Tht=$ht,Mht=Bfe,Cht=Tht,Eht=sz,kht=po;function Iht(e,t){var r=kht(e)?Mht:Cht;return r(e,Eht(t))}var Oht=Iht;const Pht=Nn(Oht);var Aht=wd,Rht=Ja,Lht="[object Number]";function jht(e){return typeof e=="number"||Rht(e)&&Aht(e)==Lht}var Nht=jht;const WJ=Nn(Nht);function Fht(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Dht=Fht,zht=Hv,Vht=hS;function Bht(e,t){return e&&zht(t,Vht(t),e)}var Uht=Bht,Ght=Hv,Wht=cS;function qht(e,t){return e&&Ght(t,Wht(t),e)}var Hht=qht,Zht=Hv,Yht=Q7;function Jht(e,t){return Zht(e,Yht(e),t)}var Kht=Jht,Xht=K7,Qht=c7,eft=Q7,tft=Ufe,rft=Object.getOwnPropertySymbols,nft=rft?function(e){for(var t=[];e;)Xht(t,eft(e)),e=Qht(e);return t}:tft,Ime=nft,ift=Hv,sft=Ime;function oft(e,t){return ift(e,sft(e),t)}var aft=oft,lft=Vfe,uft=Ime,cft=cS;function dft(e){return lft(e,cft,uft)}var Ome=dft,pft=Object.prototype,hft=pft.hasOwnProperty;function fft(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&hft.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var mft=fft,yft=u7;function gft(e,t){var r=t?yft(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var vft=gft,bft=/\w*$/;function wft(e){var t=new e.constructor(e.source,bft.exec(e));return t.lastIndex=e.lastIndex,t}var _ft=wft,qJ=Vv,HJ=qJ?qJ.prototype:void 0,ZJ=HJ?HJ.valueOf:void 0;function xft(e){return ZJ?Object(ZJ.call(e)):{}}var Sft=xft,$ft=u7,Tft=vft,Mft=_ft,Cft=Sft,Eft=nhe,kft="[object Boolean]",Ift="[object Date]",Oft="[object Map]",Pft="[object Number]",Aft="[object RegExp]",Rft="[object Set]",Lft="[object String]",jft="[object Symbol]",Nft="[object ArrayBuffer]",Fft="[object DataView]",Dft="[object Float32Array]",zft="[object Float64Array]",Vft="[object Int8Array]",Bft="[object Int16Array]",Uft="[object Int32Array]",Gft="[object Uint8Array]",Wft="[object Uint8ClampedArray]",qft="[object Uint16Array]",Hft="[object Uint32Array]";function Zft(e,t,r){var n=e.constructor;switch(t){case Nft:return $ft(e);case kft:case Ift:return new n(+e);case Fft:return Tft(e,r);case Dft:case zft:case Vft:case Bft:case Uft:case Gft:case Wft:case qft:case Hft:return Eft(e,r);case Oft:return new n;case Pft:case Lft:return new n(e);case Aft:return Mft(e);case Rft:return new n;case jft:return Cft(e)}}var Yft=Zft,Jft=JI,Kft=Ja,Xft="[object Map]";function Qft(e){return Kft(e)&&Jft(e)==Xft}var emt=Qft,tmt=emt,rmt=qv,YJ=lI,JJ=YJ&&YJ.isMap,nmt=JJ?rmt(JJ):tmt,imt=nmt,smt=JI,omt=Ja,amt="[object Set]";function lmt(e){return omt(e)&&smt(e)==amt}var umt=lmt,cmt=umt,dmt=qv,KJ=lI,XJ=KJ&&KJ.isSet,pmt=XJ?dmt(XJ):cmt,hmt=pmt,fmt=sI,mmt=Dht,ymt=y7,gmt=Uht,vmt=Hht,bmt=the,wmt=ihe,_mt=Kht,xmt=aft,Smt=Gfe,$mt=Ome,Tmt=JI,Mmt=mft,Cmt=Yft,Emt=ohe,kmt=po,Imt=aI,Omt=imt,Pmt=Ku,Amt=hmt,Rmt=hS,Lmt=cS,jmt=1,Nmt=2,Fmt=4,Pme="[object Arguments]",Dmt="[object Array]",zmt="[object Boolean]",Vmt="[object Date]",Bmt="[object Error]",Ame="[object Function]",Umt="[object GeneratorFunction]",Gmt="[object Map]",Wmt="[object Number]",Rme="[object Object]",qmt="[object RegExp]",Hmt="[object Set]",Zmt="[object String]",Ymt="[object Symbol]",Jmt="[object WeakMap]",Kmt="[object ArrayBuffer]",Xmt="[object DataView]",Qmt="[object Float32Array]",eyt="[object Float64Array]",tyt="[object Int8Array]",ryt="[object Int16Array]",nyt="[object Int32Array]",iyt="[object Uint8Array]",syt="[object Uint8ClampedArray]",oyt="[object Uint16Array]",ayt="[object Uint32Array]",Jr={};Jr[Pme]=Jr[Dmt]=Jr[Kmt]=Jr[Xmt]=Jr[zmt]=Jr[Vmt]=Jr[Qmt]=Jr[eyt]=Jr[tyt]=Jr[ryt]=Jr[nyt]=Jr[Gmt]=Jr[Wmt]=Jr[Rme]=Jr[qmt]=Jr[Hmt]=Jr[Zmt]=Jr[Ymt]=Jr[iyt]=Jr[syt]=Jr[oyt]=Jr[ayt]=!0;Jr[Bmt]=Jr[Ame]=Jr[Jmt]=!1;function oM(e,t,r,n,i,s){var o,a=t&jmt,l=t&Nmt,u=t&Fmt;if(r&&(o=i?r(e,n,i,s):r(e)),o!==void 0)return o;if(!Pmt(e))return e;var d=kmt(e);if(d){if(o=Mmt(e),!a)return wmt(e,o)}else{var h=Tmt(e),f=h==Ame||h==Umt;if(Imt(e))return bmt(e,a);if(h==Rme||h==Pme||f&&!i){if(o=l||f?{}:Emt(e),!a)return l?xmt(e,vmt(o,e)):_mt(e,gmt(o,e))}else{if(!Jr[h])return i?e:{};o=Cmt(e,h,a)}}s||(s=new fmt);var y=s.get(e);if(y)return y;s.set(e,o),Amt(e)?e.forEach(function(b){o.add(oM(b,t,r,b,e,s))}):Omt(e)&&e.forEach(function(b,_){o.set(_,oM(b,t,r,_,e,s))});var g=u?l?$mt:Smt:l?Lmt:Rmt,v=d?void 0:g(e);return mmt(v||e,function(b,_){v&&(_=b,b=e[_]),ymt(o,_,oM(b,t,r,_,e,s))}),o}var lyt=oM;function uyt(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var cyt=uyt,dyt=dS,pyt=cyt;function hyt(e,t){return t.length<2?e:dyt(e,pyt(t,0,-1))}var fyt=hyt,myt=Zv,yyt=Che,gyt=fyt,vyt=Yv;function byt(e,t){return t=myt(t,e),e=gyt(e,t),e==null||delete e[vyt(yyt(t))]}var wyt=byt,_yt=h7;function xyt(e){return _yt(e)?void 0:e}var Syt=xyt,$yt=pI,Tyt=lyt,Myt=wyt,Cyt=Zv,Eyt=Hv,kyt=Syt,Iyt=Dfe,Oyt=Ome,Pyt=1,Ayt=2,Ryt=4,Lyt=Iyt(function(e,t){var r={};if(e==null)return r;var n=!1;t=$yt(t,function(s){return s=Cyt(s,e),n||(n=s.length>1),s}),Eyt(e,Oyt(e),r),n&&(r=Tyt(r,Pyt|Ayt|Ryt,kyt));for(var i=t.length;i--;)Myt(r,t[i]);return r}),jyt=Lyt;const Lme=Nn(jyt);function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}var I8={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},Nyt=function(e){var t=typeof e;return I.isValidElement(e)||t==="string"||t==="function"||t==="object"},Fyt=function(e){var t=typeof e;return t==="string"||t==="function"},px=function(e){return e.type==="circle"},O8=function(e){return e.type==="dot"},hx=function(e){return e.type==="rect"},Dyt=function(e){var t=e.data,r=e.annotations,n=e.getPosition,i=e.getDimensions;return r.reduce(function(s,o){var a=o.offset||0;return[].concat(s,Pht(t,o.match).map(function(l){var u=n(l),d=i(l);return(px(o)||hx(o))&&(d.size=d.size+2*a,d.width=d.width+2*a,d.height=d.height+2*a),qu({},Lme(o,["match","offset"]),u,d,{size:o.size||d.size,datum:l})}))},[])},zyt=function(e,t,r,n){var i=Math.atan2(n-t,r-e);return Act(Oct(i))},jme=function(e){var t,r,n=e.x,i=e.y,s=e.noteX,o=e.noteY,a=e.noteWidth,l=a===void 0?I8.noteWidth:a,u=e.noteTextOffset,d=u===void 0?I8.noteTextOffset:u;if(WJ(s))t=n+s;else{if(s.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=s.abs}if(WJ(o))r=i+o;else{if(o.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");r=o.abs}var h=n,f=i,y=zyt(n,i,t,r);if(px(e)){var g=Pct(cx(y),e.size/2);h+=g.x,f+=g.y}if(hx(e)){var v=Math.round((y+90)/45)%8;v===0&&(f-=e.height/2),v===1&&(h+=e.width/2,f-=e.height/2),v===2&&(h+=e.width/2),v===3&&(h+=e.width/2,f+=e.height/2),v===4&&(f+=e.height/2),v===5&&(h-=e.width/2,f+=e.height/2),v===6&&(h-=e.width/2),v===7&&(h-=e.width/2,f-=e.height/2)}var b=t,_=t;return(y+90)%360>180?(b-=l,_-=l):_+=l,{points:[[h,f],[t,r],[_,r]],text:[b,r-d],angle:y+90}},Nme=function(e){var t=e.data,r=e.annotations,n=e.getPosition,i=e.getDimensions;return I.useMemo(function(){return Dyt({data:t,annotations:r,getPosition:n,getDimensions:i})},[t,r,n,i])},Vyt=function(e){var t=e.annotations;return I.useMemo(function(){return t.map(function(r){return qu({},r,{computed:jme(qu({},r))})})},[t])},Byt=function(e){return I.useMemo(function(){return jme(e)},[e])},Uyt=function(e){var t=e.datum,r=e.x,n=e.y,i=e.note,s=cn(),o=Ka(),a=o.animate,l=o.config,u=Yu({x:r,y:n,config:l,immediate:!a});return typeof i=="function"?I.createElement(i,{x:r,y:n,datum:t}):w.jsxs(w.Fragment,{children:[s.annotations.text.outlineWidth>0&&w.jsx(vn.text,{x:u.x,y:u.y,style:qu({},s.annotations.text,{strokeLinejoin:"round",strokeWidth:2*s.annotations.text.outlineWidth,stroke:s.annotations.text.outlineColor}),children:i}),w.jsx(vn.text,{x:u.x,y:u.y,style:Lme(s.annotations.text,["outlineWidth","outlineColor"]),children:i})]})},QJ=function(e){var t=e.points,r=e.isOutline,n=r!==void 0&&r,i=cn(),s=I.useMemo(function(){var l=t[0];return t.slice(1).reduce(function(u,d){return u+" L"+d[0]+","+d[1]},"M"+l[0]+","+l[1])},[t]),o=tz(s);if(n&&i.annotations.link.outlineWidth<=0)return null;var a=qu({},i.annotations.link);return n&&(a.strokeLinecap="square",a.strokeWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,a.stroke=i.annotations.link.outlineColor,a.opacity=i.annotations.link.outlineOpacity),w.jsx(vn.path,{fill:"none",d:o,style:a})},Gyt=function(e){var t=e.x,r=e.y,n=e.size,i=cn(),s=Ka(),o=s.animate,a=s.config,l=Yu({x:t,y:r,radius:n/2,config:a,immediate:!o});return w.jsxs(w.Fragment,{children:[i.annotations.outline.outlineWidth>0&&w.jsx(vn.circle,{cx:l.x,cy:l.y,r:l.radius,style:qu({},i.annotations.outline,{fill:"none",strokeWidth:i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),w.jsx(vn.circle,{cx:l.x,cy:l.y,r:l.radius,style:i.annotations.outline})]})},Wyt=function(e){var t=e.x,r=e.y,n=e.size,i=n===void 0?I8.dotSize:n,s=cn(),o=Ka(),a=o.animate,l=o.config,u=Yu({x:t,y:r,radius:i/2,config:l,immediate:!a});return w.jsxs(w.Fragment,{children:[s.annotations.outline.outlineWidth>0&&w.jsx(vn.circle,{cx:u.x,cy:u.y,r:u.radius,style:qu({},s.annotations.outline,{fill:"none",strokeWidth:2*s.annotations.outline.outlineWidth,stroke:s.annotations.outline.outlineColor,opacity:s.annotations.outline.outlineOpacity})}),w.jsx(vn.circle,{cx:u.x,cy:u.y,r:u.radius,style:s.annotations.symbol})]})},qyt=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,s=e.borderRadius,o=s===void 0?6:s,a=cn(),l=Ka(),u=l.animate,d=l.config,h=Yu({x:t-n/2,y:r-i/2,width:n,height:i,config:d,immediate:!u});return w.jsxs(w.Fragment,{children:[a.annotations.outline.outlineWidth>0&&w.jsx(vn.rect,{x:h.x,y:h.y,rx:o,ry:o,width:h.width,height:h.height,style:qu({},a.annotations.outline,{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor,opacity:a.annotations.outline.outlineOpacity})}),w.jsx(vn.rect,{x:h.x,y:h.y,rx:o,ry:o,width:h.width,height:h.height,style:a.annotations.outline})]})},Hyt=function(e){var t=e.datum,r=e.x,n=e.y,i=e.note,s=Byt(e);if(!Nyt(i))throw new Error("note should be a valid react element");return w.jsxs(w.Fragment,{children:[w.jsx(QJ,{points:s.points,isOutline:!0}),px(e)&&w.jsx(Gyt,{x:r,y:n,size:e.size}),O8(e)&&w.jsx(Wyt,{x:r,y:n,size:e.size}),hx(e)&&w.jsx(qyt,{x:r,y:n,width:e.width,height:e.height,borderRadius:e.borderRadius}),w.jsx(QJ,{points:s.points}),w.jsx(Uyt,{datum:t,x:s.text[0],y:s.text[1],note:i})]})},eK=function(e,t){t.forEach(function(r,n){var i=r[0],s=r[1];n===0?e.moveTo(i,s):e.lineTo(i,s)})},Zyt=function(e,t){var r=t.annotations,n=t.theme;r.length!==0&&(e.save(),r.forEach(function(i){if(!Fyt(i.note))throw new Error("note is invalid for canvas implementation");n.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=n.annotations.link.outlineColor,e.lineWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,e.beginPath(),eK(e,i.computed.points),e.stroke(),e.lineCap="butt"),px(i)&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.arc(i.x,i.y,i.size/2,0,2*Math.PI),e.stroke()),O8(i)&&n.annotations.symbol.outlineWidth>0&&(e.strokeStyle=n.annotations.symbol.outlineColor,e.lineWidth=2*n.annotations.symbol.outlineWidth,e.beginPath(),e.arc(i.x,i.y,i.size/2,0,2*Math.PI),e.stroke()),hx(i)&&n.annotations.outline.outlineWidth>0&&(e.strokeStyle=n.annotations.outline.outlineColor,e.lineWidth=n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,e.beginPath(),e.rect(i.x-i.width/2,i.y-i.height/2,i.width,i.height),e.stroke()),e.strokeStyle=n.annotations.link.stroke,e.lineWidth=n.annotations.link.strokeWidth,e.beginPath(),eK(e,i.computed.points),e.stroke(),px(i)&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.arc(i.x,i.y,i.size/2,0,2*Math.PI),e.stroke()),O8(i)&&(e.fillStyle=n.annotations.symbol.fill,e.beginPath(),e.arc(i.x,i.y,i.size/2,0,2*Math.PI),e.fill()),hx(i)&&(e.strokeStyle=n.annotations.outline.stroke,e.lineWidth=n.annotations.outline.strokeWidth,e.beginPath(),e.rect(i.x-i.width/2,i.y-i.height/2,i.width,i.height),e.stroke()),typeof i.note=="function"?i.note(e,{datum:i.datum,x:i.computed.text[0],y:i.computed.text[1],theme:n}):(e.font=n.annotations.text.fontSize+"px "+n.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=n.annotations.text.fill,e.strokeStyle=n.annotations.text.outlineColor,e.lineWidth=2*n.annotations.text.outlineWidth,n.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(i.note,i.computed.text[0],i.computed.text[1]),e.lineJoin="miter"),e.fillText(i.note,i.computed.text[0],i.computed.text[1]))}),e.restore())};function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TC.apply(this,arguments)}function tK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yyt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(i,s){if(i){if(typeof i=="string")return tK(i,s);var o=Object.prototype.toString.call(i).slice(8,-1);return o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set"?Array.from(i):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?tK(i,s):void 0}}(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fme={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:ufe,accent:cfe,dark2:dfe,paired:pfe,pastel1:hfe,pastel2:ffe,set1:mfe,set2:yfe,set3:B7,tableau10:Zst},Jyt=Object.keys(Fme),Dme={brown_blueGreen:wI,purpleRed_green:_I,pink_yellowGreen:xI,purple_orange:SI,red_blue:$I,red_grey:TI,red_yellow_blue:MI,red_yellow_green:CI,spectral:EI},Kyt=Object.keys(Dme),Xyt={brown_blueGreen:Yst,purpleRed_green:Jst,pink_yellowGreen:Kst,purple_orange:Xst,red_blue:Qst,red_grey:eot,red_yellow_blue:tot,red_yellow_green:rot,spectral:not},zme={blues:VI,greens:BI,greys:UI,oranges:qI,purples:GI,reds:WI,blue_green:kI,blue_purple:II,green_blue:OI,orange_red:PI,purple_blue_green:AI,purple_blue:RI,purple_red:LI,red_purple:jI,yellow_green_blue:NI,yellow_green:FI,yellow_orange_brown:DI,yellow_orange_red:zI},Qyt=Object.keys(zme),egt={blues:yot,greens:got,greys:vot,oranges:_ot,purples:bot,reds:wot,turbo:Iot,viridis:Oot,inferno:Aot,magma:Pot,plasma:Rot,cividis:xot,warm:$ot,cool:Tot,cubehelixDefault:Sot,blue_green:iot,blue_purple:sot,green_blue:oot,orange_red:aot,purple_blue_green:lot,purple_blue:uot,purple_red:cot,red_purple:dot,yellow_green_blue:pot,yellow_green:hot,yellow_orange_brown:fot,yellow_orange_red:mot},YP=TC({},Fme,Dme,zme),tgt=function(e){return Jyt.includes(e)},rgt=function(e){return Kyt.includes(e)},ngt=function(e){return Qyt.includes(e)},igt={rainbow:Mot,sinebow:kot};TC({},Xyt,egt,igt);var sgt=function(e,t){if(typeof e=="function")return e;if(f7(e)){if(function(l){return l.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var r=Gu(t,e.theme);if(r===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return r}}if(function(l){return l.from!==void 0}(e)){var n=function(l){return Gu(l,e.from)};if(Array.isArray(e.modifiers)){for(var i,s=[],o=function(){var l=i.value,u=l[0],d=l[1];if(u==="brighter")s.push(function(h){return h.brighter(d)});else if(u==="darker")s.push(function(h){return h.darker(d)});else{if(u!=="opacity")throw new Error("Invalid color modifier: '"+u+"', must be one of: 'brighter', 'darker', 'opacity'");s.push(function(h){return h.opacity=d,h})}},a=Yyt(e.modifiers);!(i=a()).done;)o();return s.length===0?n:function(l){return s.reduce(function(u,d){return d(u)},uv(n(l))).toString()}}return n}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},dv=function(e,t){return I.useMemo(function(){return sgt(e,t)},[e,t])};te.oneOfType([te.string,te.func,te.shape({theme:te.string.isRequired}),te.shape({from:te.string.isRequired,modifiers:te.arrayOf(te.array)})]);var ogt=function(e,t){if(typeof e=="function")return e;var r=typeof t=="function"?t:function(h){return Gu(h,t)};if(Array.isArray(e)){var n=um(e),i=function(h){return n(r(h))};return i.scale=n,i}if(f7(e)){if(function(h){return h.datum!==void 0}(e))return function(h){return Gu(h,e.datum)};if(function(h){return h.scheme!==void 0}(e)){if(tgt(e.scheme)){var s=um(YP[e.scheme]),o=function(h){return s(r(h))};return o.scale=s,o}if(rgt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var a=um(YP[e.scheme][e.size||11]),l=function(h){return a(r(h))};return l.scale=a,l}if(ngt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var u=um(YP[e.scheme][e.size||9]),d=function(h){return u(r(h))};return d.scale=u,d}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},Vme=function(e,t){return I.useMemo(function(){return ogt(e,t)},[e,t])},agt=function(e){var t=e.x,r=e.y,n=e.size,i=e.fill,s=e.opacity,o=s===void 0?1:s,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return w.jsx("circle",{r:n/2,cx:t+n/2,cy:r+n/2,fill:i,opacity:o,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})},lgt=function(e){var t=e.x,r=e.y,n=e.size,i=e.fill,s=e.opacity,o=s===void 0?1:s,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return w.jsx("g",{transform:"translate("+t+","+r+")",children:w.jsx("path",{d:`
                    M`+n/2+` 0
                    L`+.8*n+" "+n/2+`
                    L`+n/2+" "+n+`
                    L`+.2*n+" "+n/2+`
                    L`+n/2+` 0
                `,fill:i,opacity:o,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})},ugt=function(e){var t=e.x,r=e.y,n=e.size,i=e.fill,s=e.opacity,o=s===void 0?1:s,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return w.jsx("rect",{x:t,y:r,fill:i,opacity:o,strokeWidth:l,stroke:u===void 0?"transparent":u,width:n,height:n,style:{pointerEvents:"none"}})},cgt=function(e){var t=e.x,r=e.y,n=e.size,i=e.fill,s=e.opacity,o=s===void 0?1:s,a=e.borderWidth,l=a===void 0?0:a,u=e.borderColor;return w.jsx("g",{transform:"translate("+t+","+r+")",children:w.jsx("path",{d:`
                M`+n/2+` 0
                L`+n+" "+n+`
                L0 `+n+`
                L`+n/2+` 0
            `,fill:i,opacity:o,strokeWidth:l,stroke:u===void 0?"transparent":u,style:{pointerEvents:"none"}})})};function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}var dgt={top:0,right:0,bottom:0,left:0},oz=function(e){var t,r=e.direction,n=e.itemsSpacing,i=e.padding,s=e.itemCount,o=e.itemWidth,a=e.itemHeight;if(typeof i!="number"&&(typeof(t=i)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var l=typeof i=="number"?{top:i,right:i,bottom:i,left:i}:dm({},dgt,i),u=l.left+l.right,d=l.top+l.bottom,h=o+u,f=a+d,y=(s-1)*n;return r==="row"?h=o*s+y+u:r==="column"&&(f=a*s+y+d),{width:h,height:f,padding:l}},Bme=function(e){var t=e.anchor,r=e.translateX,n=e.translateY,i=e.containerWidth,s=e.containerHeight,o=e.width,a=e.height,l=r,u=n;switch(t){case"top":l+=(i-o)/2;break;case"top-right":l+=i-o;break;case"right":l+=i-o,u+=(s-a)/2;break;case"bottom-right":l+=i-o,u+=s-a;break;case"bottom":l+=(i-o)/2,u+=s-a;break;case"bottom-left":u+=s-a;break;case"left":u+=(s-a)/2;break;case"center":l+=(i-o)/2,u+=(s-a)/2}return{x:l,y:u}},Ume=function(e){var t,r,n,i,s,o,a=e.direction,l=e.justify,u=e.symbolSize,d=e.symbolSpacing,h=e.width,f=e.height;switch(a){case"left-to-right":t=0,r=(f-u)/2,i=f/2,o="central",l?(n=h,s="end"):(n=u+d,s="start");break;case"right-to-left":t=h-u,r=(f-u)/2,i=f/2,o="central",l?(n=0,s="start"):(n=h-u-d,s="end");break;case"top-to-bottom":t=(h-u)/2,r=0,n=h/2,s="middle",l?(i=f,o="alphabetic"):(i=u+d,o="text-before-edge");break;case"bottom-to-top":t=(h-u)/2,r=f-u,n=h/2,s="middle",l?(i=0,o="text-before-edge"):(i=f-u-d,o="alphabetic")}return{symbolX:t,symbolY:r,labelX:n,labelY:i,labelAnchor:s,labelAlignment:o}},pgt={circle:agt,diamond:lgt,square:ugt,triangle:cgt},hgt=function(e){var t,r,n,i,s,o,a,l,u,d,h,f=e.x,y=e.y,g=e.width,v=e.height,b=e.data,_=e.direction,x=_===void 0?"left-to-right":_,S=e.justify,$=S!==void 0&&S,C=e.textColor,k=e.background,E=k===void 0?"transparent":k,P=e.opacity,T=P===void 0?1:P,M=e.symbolShape,O=M===void 0?"square":M,j=e.symbolSize,N=j===void 0?16:j,L=e.symbolSpacing,z=L===void 0?8:L,B=e.symbolBorderWidth,U=B===void 0?0:B,F=e.symbolBorderColor,D=F===void 0?"transparent":F,K=e.onClick,le=e.onMouseEnter,he=e.onMouseLeave,Ue=e.toggleSerie,fe=e.effects,Ge=I.useState({}),se=Ge[0],we=Ge[1],de=cn(),Y=I.useCallback(function(Tt){if(fe){var Lt=fe.filter(function(Zt){return Zt.on==="hover"}).reduce(function(Zt,Ae){return dm({},Zt,Ae.style)},{});we(Lt)}le==null||le(b,Tt)},[le,b,fe]),ce=I.useCallback(function(Tt){if(fe){var Lt=fe.filter(function(Zt){return Zt.on!=="hover"}).reduce(function(Zt,Ae){return dm({},Zt,Ae.style)},{});we(Lt)}he==null||he(b,Tt)},[he,b,fe]),oe=Ume({direction:x,justify:$,symbolSize:(t=se.symbolSize)!=null?t:N,symbolSpacing:z,width:g,height:v}),X=oe.symbolX,$e=oe.symbolY,Pe=oe.labelX,dt=oe.labelY,We=oe.labelAnchor,Ye=oe.labelAlignment,ot=[K,le,he,Ue].some(function(Tt){return Tt!==void 0}),Ht=typeof O=="function"?O:pgt[O];return w.jsxs("g",{transform:"translate("+f+","+y+")",style:{opacity:(r=se.itemOpacity)!=null?r:T},children:[w.jsx("rect",{width:g,height:v,fill:(n=se.itemBackground)!=null?n:E,style:{cursor:ot?"pointer":"auto"},onClick:function(Tt){K==null||K(b,Tt),Ue==null||Ue(b.id)},onMouseEnter:Y,onMouseLeave:ce}),I.createElement(Ht,dm({id:b.id,x:X,y:$e,size:(i=se.symbolSize)!=null?i:N,fill:(s=(o=b.fill)!=null?o:b.color)!=null?s:"black",borderWidth:(a=se.symbolBorderWidth)!=null?a:U,borderColor:(l=se.symbolBorderColor)!=null?l:D},b.hidden?de.legends.hidden.symbol:void 0)),w.jsx("text",{textAnchor:We,style:dm({},nz(de.legends.text),{fill:(u=(d=(h=se.itemTextColor)!=null?h:C)!=null?d:de.legends.text.fill)!=null?u:"black",dominantBaseline:Ye,pointerEvents:"none",userSelect:"none"},b.hidden?de.legends.hidden.text:void 0),x:Pe,y:dt,children:b.label})]})},fgt=function(e){var t=e.data,r=e.x,n=e.y,i=e.direction,s=e.padding,o=s===void 0?0:s,a=e.justify,l=e.effects,u=e.itemWidth,d=e.itemHeight,h=e.itemDirection,f=h===void 0?"left-to-right":h,y=e.itemsSpacing,g=y===void 0?0:y,v=e.itemTextColor,b=e.itemBackground,_=b===void 0?"transparent":b,x=e.itemOpacity,S=x===void 0?1:x,$=e.symbolShape,C=e.symbolSize,k=e.symbolSpacing,E=e.symbolBorderWidth,P=e.symbolBorderColor,T=e.onClick,M=e.onMouseEnter,O=e.onMouseLeave,j=e.toggleSerie,N=oz({itemCount:t.length,itemWidth:u,itemHeight:d,itemsSpacing:g,direction:i,padding:o}).padding,L=i==="row"?u+g:0,z=i==="column"?d+g:0;return w.jsx("g",{transform:"translate("+r+","+n+")",children:t.map(function(B,U){return w.jsx(hgt,{data:B,x:U*L+N.left,y:U*z+N.top,width:u,height:d,direction:f,justify:a,effects:l,textColor:v,background:_,opacity:S,symbolShape:$,symbolSize:C,symbolSpacing:k,symbolBorderWidth:E,symbolBorderColor:P,onClick:T,onMouseEnter:M,onMouseLeave:O,toggleSerie:j},U)})})},Gme=function(e){var t=e.data,r=e.containerWidth,n=e.containerHeight,i=e.translateX,s=i===void 0?0:i,o=e.translateY,a=o===void 0?0:o,l=e.anchor,u=e.direction,d=e.padding,h=d===void 0?0:d,f=e.justify,y=e.itemsSpacing,g=y===void 0?0:y,v=e.itemWidth,b=e.itemHeight,_=e.itemDirection,x=e.itemTextColor,S=e.itemBackground,$=e.itemOpacity,C=e.symbolShape,k=e.symbolSize,E=e.symbolSpacing,P=e.symbolBorderWidth,T=e.symbolBorderColor,M=e.onClick,O=e.onMouseEnter,j=e.onMouseLeave,N=e.toggleSerie,L=e.effects,z=oz({itemCount:t.length,itemsSpacing:g,itemWidth:v,itemHeight:b,direction:u,padding:h}),B=z.width,U=z.height,F=Bme({anchor:l,translateX:s,translateY:a,containerWidth:r,containerHeight:n,width:B,height:U}),D=F.x,K=F.y;return w.jsx(fgt,{data:t,x:D,y:K,direction:u,padding:h,justify:f,effects:L,itemsSpacing:g,itemWidth:v,itemHeight:b,itemDirection:_,itemTextColor:x,itemBackground:S,itemOpacity:$,symbolShape:C,symbolSize:k,symbolSpacing:E,symbolBorderWidth:P,symbolBorderColor:T,onClick:M,onMouseEnter:O,onMouseLeave:j,toggleSerie:typeof N=="boolean"?void 0:N})},mgt={start:"left",middle:"center",end:"right"},Wme=function(e,t){var r=t.data,n=t.containerWidth,i=t.containerHeight,s=t.translateX,o=s===void 0?0:s,a=t.translateY,l=a===void 0?0:a,u=t.anchor,d=t.direction,h=t.padding,f=h===void 0?0:h,y=t.justify,g=y!==void 0&&y,v=t.itemsSpacing,b=v===void 0?0:v,_=t.itemWidth,x=t.itemHeight,S=t.itemDirection,$=S===void 0?"left-to-right":S,C=t.itemTextColor,k=t.symbolSize,E=k===void 0?16:k,P=t.symbolSpacing,T=P===void 0?8:P,M=t.theme,O=oz({itemCount:r.length,itemWidth:_,itemHeight:x,itemsSpacing:b,direction:d,padding:f}),j=O.width,N=O.height,L=O.padding,z=Bme({anchor:u,translateX:o,translateY:l,containerWidth:n,containerHeight:i,width:j,height:N}),B=z.x,U=z.y,F=d==="row"?_+b:0,D=d==="column"?x+b:0;e.save(),e.translate(B,U),e.font=M.legends.text.fontSize+"px "+(M.legends.text.fontFamily||"sans-serif"),r.forEach(function(K,le){var he,Ue,fe=le*F+L.left,Ge=le*D+L.top,se=Ume({direction:$,justify:g,symbolSize:E,symbolSpacing:T,width:_,height:x}),we=se.symbolX,de=se.symbolY,Y=se.labelX,ce=se.labelY,oe=se.labelAnchor,X=se.labelAlignment;e.fillStyle=(he=K.color)!=null?he:"black",e.fillRect(fe+we,Ge+de,E,E),e.textAlign=mgt[oe],X==="central"&&(e.textBaseline="middle"),e.fillStyle=(Ue=C??M.legends.text.fill)!=null?Ue:"black",e.fillText(String(K.label),fe+Y,Ge+ce)}),e.restore()};function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Er.apply(this,arguments)}function Xv(e,t){if(e==null)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var rK,ygt=function(e){var t=e.bars,r=e.annotations,n=Nme({data:t,annotations:r,getPosition:function(i){return{x:i.x+i.width/2,y:i.y+i.height/2}},getDimensions:function(i){var s=i.height,o=i.width;return{width:o,height:s,size:Math.max(o,s)}}});return w.jsx(w.Fragment,{children:n.map(function(i,s){return w.jsx(Hyt,Er({},i),s)})})},ggt=function(e){var t=e.width,r=e.height,n=e.legends,i=e.toggleSerie;return w.jsx(w.Fragment,{children:n.map(function(s,o){var a,l=s[0],u=s[1];return w.jsx(Gme,Er({},l,{containerWidth:t,containerHeight:r,data:(a=l.data)!=null?a:u,toggleSerie:l.toggleSerie&&l.dataFrom==="keys"?i:void 0}),o)})})},vgt=["data"],bgt=function(e){var t,r=e.bar,n=r.data,i=Xv(r,vgt),s=e.style,o=s.borderColor,a=s.color,l=s.height,u=s.labelColor,d=s.labelOpacity,h=s.labelX,f=s.labelY,y=s.transform,g=s.width,v=e.borderRadius,b=e.borderWidth,_=e.label,x=e.shouldRenderLabel,S=e.isInteractive,$=e.onClick,C=e.onMouseEnter,k=e.onMouseLeave,E=e.tooltip,P=e.isFocusable,T=e.ariaLabel,M=e.ariaLabelledBy,O=e.ariaDescribedBy,j=cn(),N=Dv(),L=N.showTooltipFromEvent,z=N.showTooltipAt,B=N.hideTooltip,U=I.useMemo(function(){return function(){return I.createElement(E,Er({},i,n))}},[E,i,n]),F=I.useCallback(function(fe){$==null||$(Er({color:i.color},n),fe)},[i,n,$]),D=I.useCallback(function(fe){return L(U(),fe)},[L,U]),K=I.useCallback(function(fe){C==null||C(n,fe),L(U(),fe)},[n,C,L,U]),le=I.useCallback(function(fe){k==null||k(n,fe),B()},[n,B,k]),he=I.useCallback(function(){z(U(),[i.absX+i.width/2,i.absY])},[z,U,i]),Ue=I.useCallback(function(){B()},[B]);return w.jsxs(vn.g,{transform:y,children:[w.jsx(vn.rect,{width:s8(g,function(fe){return Math.max(fe,0)}),height:s8(l,function(fe){return Math.max(fe,0)}),rx:v,ry:v,fill:(t=n.fill)!=null?t:a,strokeWidth:b,stroke:o,focusable:P,tabIndex:P?0:void 0,"aria-label":T?T(n):void 0,"aria-labelledby":M?M(n):void 0,"aria-describedby":O?O(n):void 0,onMouseEnter:S?K:void 0,onMouseMove:S?D:void 0,onMouseLeave:S?le:void 0,onClick:S?F:void 0,onFocus:S&&P?he:void 0,onBlur:S&&P?Ue:void 0}),x&&w.jsx(vn.text,{x:h,y:f,textAnchor:"middle",dominantBaseline:"central",fillOpacity:d,style:Er({},j.labels.text,{pointerEvents:"none",fill:u}),children:_})]})},wgt=["color","label"],_gt=function(e){var t=e.color,r=e.label,n=Xv(e,wgt);return w.jsx(Wpe,{id:r,value:n.formattedValue,enableChip:!0,color:t})},Ur={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:_gt,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},sn=Er({},Ur,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:bgt,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),Ei=Er({},Ur,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(rK=window.devicePixelRatio)!=null?rK:1}),qme=function(e,t,r,n,i,s){return dx(n,{all:e.map(t),min:0,max:0},i,s).padding(r)},Hme=function(e,t){return e.map(function(r){return Er({},t.reduce(function(n,i){return n[i]=null,n},{}),r)})},e5=function(e){return Object.keys(e).reduce(function(t,r){return e[r]&&(t[r]=e[r]),t},{})},t5=function(e){return[e,Number(e)]},xgt=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],az=function(e,t){return e>t},Zme=function(e,t){return e<t},Yme=function(e,t){return Array.from(" ".repeat(t-e),function(r,n){return e+n})},Sgt=function(e){return az(e,0)?0:e},$gt=function(e,t,r,n){var i=e.data,s=e.formatValue,o=e.getColor,a=e.getIndex,l=e.getTooltipLabel,u=e.innerPadding,d=u===void 0?0:u,h=e.keys,f=e.xScale,y=e.yScale,g=e.margin,v=r?Zme:az,b=i.map(e5),_=[];return h.forEach(function(x,S){return Yme(0,f.domain().length).forEach(function($){var C,k,E,P=t5(i[$][x]),T=P[0],M=P[1],O=a(i[$]),j=((C=f(O))!=null?C:0)+t*S+d*S,N=v(k=M,0)?(E=y(k))!=null?E:0:n,L=function(B,U){var F;return v(B,0)?n-U:((F=y(B))!=null?F:0)-n}(M,N),z={id:x,value:T===null?T:M,formattedValue:s(M),hidden:!1,index:$,indexValue:O,data:b[$]};_.push({key:x+"."+z.indexValue,index:_.length,data:z,x:j,y:N,absX:g.left+j,absY:g.top+N,width:t,height:L,color:o(z),label:l(z)})})}),_},Tgt=function(e,t,r,n){var i=e.data,s=e.formatValue,o=e.getIndex,a=e.getColor,l=e.getTooltipLabel,u=e.keys,d=e.innerPadding,h=d===void 0?0:d,f=e.xScale,y=e.yScale,g=e.margin,v=r?Zme:az,b=i.map(e5),_=[];return u.forEach(function(x,S){return Yme(0,y.domain().length).forEach(function($){var C,k,E,P=t5(i[$][x]),T=P[0],M=P[1],O=o(i[$]),j=v(k=M,0)?n:(E=f(k))!=null?E:0,N=((C=y(O))!=null?C:0)+t*S+h*S,L=function(B,U){var F;return v(B,0)?((F=f(B))!=null?F:0)-n:n-U}(M,j),z={id:x,value:T===null?T:M,formattedValue:s(M),hidden:!1,index:$,indexValue:O,data:b[$]};_.push({key:x+"."+z.indexValue,index:_.length,data:z,x:j,y:N,absX:g.left+j,absY:g.top+N,width:L,height:t,color:a(z),label:l(z)})})}),_},Mgt=function(e){var t,r,n=e.layout,i=e.minValue,s=e.maxValue,o=e.reverse,a=e.width,l=e.height,u=e.padding,d=u===void 0?0:u,h=e.innerPadding,f=h===void 0?0:h,y=e.valueScale,g=e.indexScale,v=e.hiddenIds,b=v===void 0?[]:v,_=Xv(e,xgt),x=_.keys.filter(function(K){return!b.includes(K)}),S=Hme(_.data,x),$=n==="vertical"?["y","x",a]:["x","y",l],C=$[0],k=$[1],E=$[2],P=qme(S,_.getIndex,d,g,E,k),T=Er({max:s,min:i,reverse:o},y),M=T.min==="auto"?Sgt:function(K){return K},O=S.reduce(function(K,le){return[].concat(K,x.map(function(he){return le[he]}))},[]).filter(Boolean),j=M(Math.min.apply(Math,O)),N=(r=Math.max.apply(Math,O),isFinite(r)?r:0),L=dx(T,{all:O,min:j,max:N},C==="x"?a:l,C),z=n==="vertical"?[P,L]:[L,P],B=z[0],U=z[1],F=(P.bandwidth()-f*(x.length-1))/x.length,D=[Er({},_,{data:S,keys:x,innerPadding:f,xScale:B,yScale:U}),F,T.reverse,(t=L(0))!=null?t:0];return{xScale:B,yScale:U,bars:F>0?n==="vertical"?$gt.apply(void 0,D):Tgt.apply(void 0,D):[]}},Cgt=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],Egt=function e(t){var r;return t.some(Array.isArray)?e((r=[]).concat.apply(r,t)):t},kgt=function(e,t,r){var n=e.formatValue,i=e.getColor,s=e.getIndex,o=e.getTooltipLabel,a=e.innerPadding,l=e.stackedData,u=e.xScale,d=e.yScale,h=e.margin,f=[];return l.forEach(function(y){return u.domain().forEach(function(g,v){var b,_,x=y[v],S=(b=u(s(x.data)))!=null?b:0,$=((_=function(M){return d(M[r?0:1])}(x))!=null?_:0)+.5*a,C=function(M,O){var j;return((j=d(M[r?1:0]))!=null?j:0)-O}(x,$)-a,k=t5(x.data[y.key]),E=k[0],P=k[1],T={id:y.key,value:E===null?E:P,formattedValue:n(P),hidden:!1,index:v,indexValue:g,data:e5(x.data)};f.push({key:y.key+"."+g,index:f.length,data:T,x:S,y:$,absX:h.left+S,absY:h.top+$,width:t,height:C,color:i(T),label:o(T)})})}),f},Igt=function(e,t,r){var n=e.formatValue,i=e.getColor,s=e.getIndex,o=e.getTooltipLabel,a=e.innerPadding,l=e.stackedData,u=e.xScale,d=e.yScale,h=e.margin,f=[];return l.forEach(function(y){return d.domain().forEach(function(g,v){var b,_,x=y[v],S=(b=d(s(x.data)))!=null?b:0,$=((_=function(M){return u(M[r?1:0])}(x))!=null?_:0)+.5*a,C=function(M,O){var j;return((j=u(M[r?0:1]))!=null?j:0)-O}(x,$)-a,k=t5(x.data[y.key]),E=k[0],P=k[1],T={id:y.key,value:E===null?E:P,formattedValue:n(P),hidden:!1,index:v,indexValue:g,data:e5(x.data)};f.push({key:y.key+"."+g,index:f.length,data:T,x:$,y:S,absX:h.left+$,absY:h.top+S,width:C,height:t,color:i(T),label:o(T)})})}),f},Ogt=function(e){var t,r=e.data,n=e.layout,i=e.minValue,s=e.maxValue,o=e.reverse,a=e.width,l=e.height,u=e.padding,d=u===void 0?0:u,h=e.valueScale,f=e.indexScale,y=e.hiddenIds,g=y===void 0?[]:y,v=Xv(e,Cgt),b=v.keys.filter(function(F){return!g.includes(F)}),_=Vat().keys(b).offset(Bat)(Hme(r,b)),x=n==="vertical"?["y","x",a]:["x","y",l],S=x[0],$=x[1],C=x[2],k=qme(r,v.getIndex,d,f,C,$),E=Er({max:s,min:i,reverse:o},h),P=(t=Egt(_),h.type==="log"?t.filter(function(F){return F!==0}):t),T=Math.min.apply(Math,P),M=Math.max.apply(Math,P),O=dx(E,{all:P,min:T,max:M},S==="x"?a:l,S),j=n==="vertical"?[k,O]:[O,k],N=j[0],L=j[1],z=v.innerPadding>0?v.innerPadding:0,B=k.bandwidth(),U=[Er({},v,{innerPadding:z,stackedData:_,xScale:N,yScale:L}),B,E.reverse];return{xScale:N,yScale:L,bars:B>0?n==="vertical"?kgt.apply(void 0,U):Igt.apply(void 0,U):[]}},Pgt=function(e){var t=e.bars,r=e.direction,n=e.from,i=e.groupMode,s=e.layout,o=e.legendLabel,a=e.reverse,l=pme(o??(n==="indexes"?"indexValue":"id"));return n==="indexes"?function(u,d,h){var f=E8(u.map(function(y){var g,v;return{id:(g=y.data.indexValue)!=null?g:"",label:h(y.data),hidden:y.data.hidden,color:(v=y.color)!=null?v:"#000"}}),function(y){return y.id});return d==="horizontal"&&f.reverse(),f}(t,s,l):function(u,d,h,f,y,g){var v=E8(u.map(function(b){var _;return{id:b.data.id,label:g(b.data),hidden:b.data.hidden,color:(_=b.color)!=null?_:"#000"}}),function(b){return b.id});return(d==="vertical"&&f==="stacked"&&h==="column"&&y!==!0||d==="horizontal"&&f==="stacked"&&y===!0)&&v.reverse(),v}(t,s,r,i,a,l)},nK=function(e,t,r){var n=e.get(t)||0;e.set(t,n+r)},Agt=function(e,t,r){var n=e.get(t)||0;e.set(t,n+(r>0?r:0))},Rgt=function(e,t,r){var n=e.get(t)||0;e.set(t,Math.max(n,Number(r)))},Lgt=function(e,t){var r=e.get(t)||0;e.set(t,r+1)},Jme=function(e){var t=e.indexBy,r=t===void 0?Ur.indexBy:t,n=e.keys,i=n===void 0?Ur.keys:n,s=e.label,o=s===void 0?Ur.label:s,a=e.tooltipLabel,l=a===void 0?Ur.tooltipLabel:a,u=e.valueFormat,d=e.colors,h=d===void 0?Ur.colors:d,f=e.colorBy,y=f===void 0?Ur.colorBy:f,g=e.borderColor,v=g===void 0?Ur.borderColor:g,b=e.labelTextColor,_=b===void 0?Ur.labelTextColor:b,x=e.groupMode,S=x===void 0?Ur.groupMode:x,$=e.layout,C=$===void 0?Ur.layout:$,k=e.reverse,E=k===void 0?Ur.reverse:k,P=e.data,T=e.minValue,M=T===void 0?Ur.minValue:T,O=e.maxValue,j=O===void 0?Ur.maxValue:O,N=e.margin,L=e.width,z=e.height,B=e.padding,U=B===void 0?Ur.padding:B,F=e.innerPadding,D=F===void 0?Ur.innerPadding:F,K=e.valueScale,le=K===void 0?Ur.valueScale:K,he=e.indexScale,Ue=he===void 0?Ur.indexScale:he,fe=e.initialHiddenIds,Ge=fe===void 0?Ur.initialHiddenIds:fe,se=e.enableLabel,we=se===void 0?Ur.enableLabel:se,de=e.labelSkipWidth,Y=de===void 0?Ur.labelSkipWidth:de,ce=e.labelSkipHeight,oe=ce===void 0?Ur.labelSkipHeight:ce,X=e.legends,$e=X===void 0?Ur.legends:X,Pe=e.legendLabel,dt=e.totalsOffset,We=dt===void 0?Ur.totalsOffset:dt,Ye=I.useState(Ge??[]),ot=Ye[0],Ht=Ye[1],Tt=I.useCallback(function(be){Ht(function(Fe){return Fe.indexOf(be)>-1?Fe.filter(function(ct){return ct!==be}):[].concat(Fe,[be])})},[]),Lt=qP(r),Zt=qP(o),Ae=qP(l),Or=ux(u),Yt=cn(),st=Vme(h,y),Le=dv(v,Yt),Wt=dv(_,Yt),ur=(S==="grouped"?Mgt:Ogt)({layout:C,reverse:E,data:P,getIndex:Lt,keys:i,minValue:M,maxValue:j,width:L,height:z,getColor:st,padding:U,innerPadding:D,valueScale:le,indexScale:Ue,hiddenIds:ot,formatValue:Or,getTooltipLabel:Ae,margin:N}),Dt=ur.bars,Ot=ur.xScale,Jt=ur.yScale,br=I.useMemo(function(){return Dt.filter(function(be){return be.data.value!==null}).map(function(be,Fe){return Er({},be,{index:Fe})})},[Dt]),Pt=I.useCallback(function(be){var Fe=be.width,ct=be.height;return!!we&&!(Y>0&&Fe<Y)&&!(oe>0&&ct<oe)},[we,Y,oe]),xe=I.useMemo(function(){return i.map(function(be){var Fe=Dt.find(function(ct){return ct.data.id===be});return Er({},Fe,{data:Er({id:be},Fe==null?void 0:Fe.data,{hidden:ot.includes(be)})})})},[ot,i,Dt]),Te=I.useMemo(function(){return $e.map(function(be){return[be,Pgt({bars:be.dataFrom==="keys"?xe:Dt,direction:be.direction,from:be.dataFrom,groupMode:S,layout:C,legendLabel:Pe,reverse:E})]})},[$e,xe,Dt,S,C,Pe,E]),ut=I.useMemo(function(){return function(be,Fe,ct,yt,qt,cr,pt){yt===void 0&&(yt=Ur.layout),qt===void 0&&(qt=Ur.groupMode);var Pr=[];if(be.length===0)return Pr;var Wr=new Map,qr=be[0].width,Cn=be[0].height;if(qt==="stacked"){var Qn=new Map;be.forEach(function(Re){var G=Re.data,je=G.indexValue,Mt=G.value;nK(Wr,je,Number(Mt)),Agt(Qn,je,Number(Mt))}),Qn.forEach(function(Re,G){var je,Mt,mt,Kt=Wr.get(G)||0;yt==="vertical"?(je=Fe(G),Mt=ct(Re),mt=ct(Re/2)):(je=Fe(Re),Mt=ct(G),mt=Fe(Re/2)),je+=yt==="vertical"?qr/2:cr,Mt+=yt==="vertical"?-cr:Cn/2,Pr.push({key:"total_"+G,x:je,y:Mt,value:Kt,formattedValue:pt(Kt),animationOffset:mt})})}else if(qt==="grouped"){var gs=new Map,ei=new Map;be.forEach(function(Re){var G=Re.data,je=G.indexValue,Mt=G.value;nK(Wr,je,Number(Mt)),Rgt(gs,je,Number(Mt)),Lgt(ei,je)}),gs.forEach(function(Re,G){var je,Mt,mt,Kt=Wr.get(G)||0,_e=ei.get(G);yt==="vertical"?(je=Fe(G),Mt=ct(Re),mt=ct(Re/2)):(je=Fe(Re),Mt=ct(G),mt=Fe(Re/2)),je+=yt==="vertical"?_e*qr/2:cr,Mt+=yt==="vertical"?-cr:_e*Cn/2,Pr.push({key:"total_"+G,x:je,y:Mt,value:Kt,formattedValue:pt(Kt),animationOffset:mt})})}return Pr}(Dt,Ot,Jt,C,S,We,Or)},[Dt,Ot,Jt,C,S,We,Or]);return{bars:Dt,barsWithValue:br,xScale:Ot,yScale:Jt,getIndex:Lt,getLabel:Zt,getTooltipLabel:Ae,formatValue:Or,getColor:st,getBorderColor:Le,getLabelColor:Wt,shouldRenderBarLabel:Pt,hiddenIds:ot,toggleSerie:Tt,legendsWithData:Te,barTotals:ut}},jgt=function(e){var t=e.data,r=e.springConfig,n=e.animate,i=e.layout,s=i===void 0?sn.layout:i,o=cn();return Qk(t,{keys:function(a){return a.key},from:function(a){return{x:s==="vertical"?a.x:a.animationOffset,y:s==="vertical"?a.animationOffset:a.y,labelOpacity:0}},enter:function(a){return{x:a.x,y:a.y,labelOpacity:1}},update:function(a){return{x:a.x,y:a.y,labelOpacity:1}},leave:function(a){return{x:s==="vertical"?a.x:a.animationOffset,y:s==="vertical"?a.animationOffset:a.y,labelOpacity:0}},config:r,immediate:!n,initial:n?void 0:null})(function(a,l){return w.jsx(vn.text,{x:a.x,y:a.y,fillOpacity:a.labelOpacity,style:Er({},o.labels.text,{pointerEvents:"none",fill:o.text.fill}),fontWeight:"bold",fontSize:o.labels.text.fontSize,fontFamily:o.labels.text.fontFamily,textAnchor:s==="vertical"?"middle":"start",alignmentBaseline:s==="vertical"?"alphabetic":"middle",children:l.formattedValue},l.key)})},Ngt=["isInteractive","animate","motionConfig","theme","renderWrapper"],Fgt=function(e){var t=e.data,r=e.indexBy,n=e.keys,i=e.margin,s=e.width,o=e.height,a=e.groupMode,l=e.layout,u=e.reverse,d=e.minValue,h=e.maxValue,f=e.valueScale,y=e.indexScale,g=e.padding,v=e.innerPadding,b=e.axisTop,_=e.axisRight,x=e.axisBottom,S=x===void 0?sn.axisBottom:x,$=e.axisLeft,C=$===void 0?sn.axisLeft:$,k=e.enableGridX,E=k===void 0?sn.enableGridX:k,P=e.enableGridY,T=P===void 0?sn.enableGridY:P,M=e.gridXValues,O=e.gridYValues,j=e.layers,N=j===void 0?sn.layers:j,L=e.barComponent,z=L===void 0?sn.barComponent:L,B=e.enableLabel,U=B===void 0?sn.enableLabel:B,F=e.label,D=e.labelSkipWidth,K=D===void 0?sn.labelSkipWidth:D,le=e.labelSkipHeight,he=le===void 0?sn.labelSkipHeight:le,Ue=e.labelTextColor,fe=e.markers,Ge=fe===void 0?sn.markers:fe,se=e.colorBy,we=e.colors,de=e.defs,Y=de===void 0?sn.defs:de,ce=e.fill,oe=ce===void 0?sn.fill:ce,X=e.borderRadius,$e=X===void 0?sn.borderRadius:X,Pe=e.borderWidth,dt=Pe===void 0?sn.borderWidth:Pe,We=e.borderColor,Ye=e.annotations,ot=Ye===void 0?sn.annotations:Ye,Ht=e.legendLabel,Tt=e.tooltipLabel,Lt=e.valueFormat,Zt=e.isInteractive,Ae=Zt===void 0?sn.isInteractive:Zt,Or=e.tooltip,Yt=Or===void 0?sn.tooltip:Or,st=e.onClick,Le=e.onMouseEnter,Wt=e.onMouseLeave,ur=e.legends,Dt=e.role,Ot=Dt===void 0?sn.role:Dt,Jt=e.ariaLabel,br=e.ariaLabelledBy,Pt=e.ariaDescribedBy,xe=e.isFocusable,Te=xe===void 0?sn.isFocusable:xe,ut=e.barAriaLabel,be=e.barAriaLabelledBy,Fe=e.barAriaDescribedBy,ct=e.initialHiddenIds,yt=e.enableTotals,qt=yt===void 0?sn.enableTotals:yt,cr=e.totalsOffset,pt=cr===void 0?sn.totalsOffset:cr,Pr=Ka(),Wr=Pr.animate,qr=Pr.config,Cn=XI(s,o,i),Qn=Cn.outerWidth,gs=Cn.outerHeight,ei=Cn.margin,Re=Cn.innerWidth,G=Cn.innerHeight,je=Jme({indexBy:r,label:F,tooltipLabel:Tt,valueFormat:Lt,colors:we,colorBy:se,borderColor:We,labelTextColor:Ue,groupMode:a,layout:l,reverse:u,data:t,keys:n,minValue:d,maxValue:h,margin:ei,width:Re,height:G,padding:g,innerPadding:v,valueScale:f,indexScale:y,enableLabel:U,labelSkipWidth:K,labelSkipHeight:he,legends:ur,legendLabel:Ht,initialHiddenIds:ct,totalsOffset:pt}),Mt=je.bars,mt=je.barsWithValue,Kt=je.xScale,_e=je.yScale,Vs=je.getLabel,Me=je.getTooltipLabel,De=je.getBorderColor,jt=je.getLabelColor,Nt=je.shouldRenderBarLabel,zt=je.toggleSerie,Ar=je.legendsWithData,Ie=je.barTotals,Rr=Qk(mt,{keys:function(Je){return Je.key},from:function(Je){return Er({borderColor:De(Je),color:Je.color,height:0,labelColor:jt(Je),labelOpacity:0,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+(Je.y+Je.height)+")",width:Je.width},l==="vertical"?{}:{height:Je.height,transform:"translate("+Je.x+", "+Je.y+")",width:0})},enter:function(Je){return{borderColor:De(Je),color:Je.color,height:Je.height,labelColor:jt(Je),labelOpacity:1,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+Je.y+")",width:Je.width}},update:function(Je){return{borderColor:De(Je),color:Je.color,height:Je.height,labelColor:jt(Je),labelOpacity:1,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+Je.y+")",width:Je.width}},leave:function(Je){return Er({borderColor:De(Je),color:Je.color,height:0,labelColor:jt(Je),labelOpacity:0,labelX:Je.width/2,labelY:0,transform:"translate("+Je.x+", "+(Je.y+Je.height)+")",width:Je.width},l==="vertical"?{}:{labelX:0,labelY:Je.height/2,height:Je.height,transform:"translate("+Je.x+", "+Je.y+")",width:0})},config:qr,immediate:!Wr,initial:Wr?void 0:null}),ho=I.useMemo(function(){return{borderRadius:$e,borderWidth:dt,enableLabel:U,isInteractive:Ae,labelSkipWidth:K,labelSkipHeight:he,onClick:st,onMouseEnter:Le,onMouseLeave:Wt,getTooltipLabel:Me,tooltip:Yt,isFocusable:Te,ariaLabel:ut,ariaLabelledBy:be,ariaDescribedBy:Fe}},[$e,dt,U,Me,Ae,he,K,st,Le,Wt,Yt,Te,ut,be,Fe]),Xu=fme(Y,Mt,oe,{dataKey:"data",targetKey:"data.fill"}),ti={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};N.includes("annotations")&&(ti.annotations=w.jsx(ygt,{bars:Mt,annotations:ot},"annotations")),N.includes("axes")&&(ti.axes=w.jsx(Cme,{xScale:Kt,yScale:_e,width:Re,height:G,top:b,right:_,bottom:S,left:C},"axes")),N.includes("bars")&&(ti.bars=w.jsx(I.Fragment,{children:Rr(function(Je,fo){return I.createElement(z,Er({},ho,{bar:fo,style:Je,shouldRenderLabel:Nt(fo),label:Vs(fo.data)}))})},"bars")),N.includes("grid")&&(ti.grid=w.jsx(Eme,{width:Re,height:G,xScale:E?Kt:null,yScale:T?_e:null,xValues:M,yValues:O},"grid")),N.includes("legends")&&(ti.legends=w.jsx(ggt,{width:Re,height:G,legends:Ar,toggleSerie:zt},"legends")),N.includes("markers")&&(ti.markers=w.jsx(cme,{markers:Ge,width:Re,height:G,xScale:Kt,yScale:_e},"markers")),N.includes("totals")&&qt&&(ti.totals=w.jsx(jgt,{data:Ie,springConfig:qr,animate:Wr,layout:l},"totals"));var Bs=I.useMemo(function(){return Er({},ho,{margin:ei,width:s,height:o,innerWidth:Re,innerHeight:G,bars:Mt,legendData:Ar,enableLabel:U,xScale:Kt,yScale:_e,tooltip:Yt,getTooltipLabel:Me,onClick:st,onMouseEnter:Le,onMouseLeave:Wt})},[ho,ei,s,o,Re,G,Mt,Ar,U,Kt,_e,Yt,Me,st,Le,Wt]);return w.jsx(iz,{width:Qn,height:gs,margin:ei,defs:Xu,role:Ot,ariaLabel:Jt,ariaLabelledBy:br,ariaDescribedBy:Pt,isFocusable:Te,children:N.map(function(Je,fo){var Xt;return typeof Je=="function"?w.jsx(I.Fragment,{children:I.createElement(Je,Bs)},fo):(Xt=ti==null?void 0:ti[Je])!=null?Xt:null})})},Dgt=function(e){var t=e.isInteractive,r=t===void 0?sn.isInteractive:t,n=e.animate,i=n===void 0?sn.animate:n,s=e.motionConfig,o=s===void 0?sn.motionConfig:s,a=e.theme,l=e.renderWrapper,u=Xv(e,Ngt);return w.jsx(QI,{animate:i,isInteractive:r,motionConfig:o,renderWrapper:l,theme:a,children:w.jsx(Fgt,Er({isInteractive:r},u))})},zgt=["isInteractive","renderWrapper","theme"],JP=function(e,t,r,n){return e.find(function(i){return hme(i.x+t.left,i.y+t.top,i.width,i.height,r,n)})},Vgt=function(e){var t=e.data,r=e.indexBy,n=e.keys,i=e.margin,s=e.width,o=e.height,a=e.groupMode,l=e.layout,u=e.reverse,d=e.minValue,h=e.maxValue,f=e.valueScale,y=e.indexScale,g=e.padding,v=e.innerPadding,b=e.axisTop,_=e.axisRight,x=e.axisBottom,S=x===void 0?Ei.axisBottom:x,$=e.axisLeft,C=$===void 0?Ei.axisLeft:$,k=e.enableGridX,E=k===void 0?Ei.enableGridX:k,P=e.enableGridY,T=P===void 0?Ei.enableGridY:P,M=e.gridXValues,O=e.gridYValues,j=e.layers,N=j===void 0?Ei.layers:j,L=e.renderBar,z=L===void 0?function(Me,De){var jt=De.bar,Nt=jt.color,zt=jt.height,Ar=jt.width,Ie=jt.x,Rr=jt.y,ho=De.borderColor,Xu=De.borderRadius,ti=De.borderWidth,Bs=De.label,Je=De.labelColor,fo=De.shouldRenderLabel;if(Me.fillStyle=Nt,ti>0&&(Me.strokeStyle=ho,Me.lineWidth=ti),Me.beginPath(),Xu>0){var Xt=Math.min(Xu,zt);Me.moveTo(Ie+Xt,Rr),Me.lineTo(Ie+Ar-Xt,Rr),Me.quadraticCurveTo(Ie+Ar,Rr,Ie+Ar,Rr+Xt),Me.lineTo(Ie+Ar,Rr+zt-Xt),Me.quadraticCurveTo(Ie+Ar,Rr+zt,Ie+Ar-Xt,Rr+zt),Me.lineTo(Ie+Xt,Rr+zt),Me.quadraticCurveTo(Ie,Rr+zt,Ie,Rr+zt-Xt),Me.lineTo(Ie,Rr+Xt),Me.quadraticCurveTo(Ie,Rr,Ie+Xt,Rr),Me.closePath()}else Me.rect(Ie,Rr,Ar,zt);Me.fill(),ti>0&&Me.stroke(),fo&&(Me.textBaseline="middle",Me.textAlign="center",Me.fillStyle=Je,Me.fillText(Bs,Ie+Ar/2,Rr+zt/2))}:L,B=e.enableLabel,U=B===void 0?Ei.enableLabel:B,F=e.label,D=e.labelSkipWidth,K=D===void 0?Ei.labelSkipWidth:D,le=e.labelSkipHeight,he=le===void 0?Ei.labelSkipHeight:le,Ue=e.labelTextColor,fe=e.colorBy,Ge=e.colors,se=e.borderRadius,we=se===void 0?Ei.borderRadius:se,de=e.borderWidth,Y=de===void 0?Ei.borderWidth:de,ce=e.borderColor,oe=e.annotations,X=oe===void 0?Ei.annotations:oe,$e=e.legendLabel,Pe=e.tooltipLabel,dt=e.valueFormat,We=e.isInteractive,Ye=We===void 0?Ei.isInteractive:We,ot=e.tooltip,Ht=ot===void 0?Ei.tooltip:ot,Tt=e.onClick,Lt=e.onMouseEnter,Zt=e.onMouseLeave,Ae=e.legends,Or=e.pixelRatio,Yt=Or===void 0?Ei.pixelRatio:Or,st=e.canvasRef,Le=e.enableTotals,Wt=Le===void 0?Ei.enableTotals:Le,ur=e.totalsOffset,Dt=ur===void 0?Ei.totalsOffset:ur,Ot=I.useRef(null),Jt=cn(),br=XI(s,o,i),Pt=br.margin,xe=br.innerWidth,Te=br.innerHeight,ut=br.outerWidth,be=br.outerHeight,Fe=Jme({indexBy:r,label:F,tooltipLabel:Pe,valueFormat:dt,colors:Ge,colorBy:fe,borderColor:ce,labelTextColor:Ue,groupMode:a,layout:l,reverse:u,data:t,keys:n,minValue:d,maxValue:h,margin:Pt,width:xe,height:Te,padding:g,innerPadding:v,valueScale:f,indexScale:y,enableLabel:U,labelSkipWidth:K,labelSkipHeight:he,legends:Ae,legendLabel:$e,totalsOffset:Dt}),ct=Fe.bars,yt=Fe.barsWithValue,qt=Fe.xScale,cr=Fe.yScale,pt=Fe.getLabel,Pr=Fe.getTooltipLabel,Wr=Fe.getBorderColor,qr=Fe.getLabelColor,Cn=Fe.shouldRenderBarLabel,Qn=Fe.legendsWithData,gs=Fe.barTotals,ei=Dv(),Re=ei.showTooltipFromEvent,G=ei.hideTooltip,je=Vyt({annotations:Nme({data:ct,annotations:X,getPosition:function(Me){return{x:Me.x,y:Me.y}},getDimensions:function(Me){var De=Me.width,jt=Me.height;return{width:De,height:jt,size:Math.max(De,jt)}}})}),Mt=I.useMemo(function(){return{borderRadius:we,borderWidth:Y,isInteractive:Ye,isFocusable:!1,labelSkipWidth:K,labelSkipHeight:he,margin:Pt,width:s,height:o,innerWidth:xe,innerHeight:Te,bars:ct,legendData:Qn,enableLabel:U,xScale:qt,yScale:cr,tooltip:Ht,getTooltipLabel:Pr,onClick:Tt,onMouseEnter:Lt,onMouseLeave:Zt}},[we,Y,Ye,K,he,Pt,s,o,xe,Te,ct,Qn,U,qt,cr,Ht,Pr,Tt,Lt,Zt]),mt=ux(dt);I.useEffect(function(){var Me,De=(Me=Ot.current)==null?void 0:Me.getContext("2d");Ot.current&&De&&(Ot.current.width=ut*Yt,Ot.current.height=be*Yt,De.scale(Yt,Yt),De.fillStyle=Jt.background,De.fillRect(0,0,ut,be),De.translate(Pt.left,Pt.top),N.forEach(function(jt){jt==="grid"?typeof Jt.grid.line.strokeWidth=="number"&&Jt.grid.line.strokeWidth>0&&(De.lineWidth=Jt.grid.line.strokeWidth,De.strokeStyle=Jt.grid.line.stroke,E&&$C(De,{width:xe,height:Te,scale:qt,axis:"x",values:M}),T&&$C(De,{width:xe,height:Te,scale:cr,axis:"y",values:O})):jt==="axes"?kme(De,{xScale:qt,yScale:cr,width:xe,height:Te,top:b,right:_,bottom:S,left:C,theme:Jt}):jt==="bars"?yt.forEach(function(Nt){z(De,{bar:Nt,borderColor:Wr(Nt),borderRadius:we,borderWidth:Y,label:pt(Nt.data),labelColor:qr(Nt),shouldRenderLabel:Cn(Nt)})}):jt==="legends"?Qn.forEach(function(Nt){var zt=Nt[0],Ar=Nt[1];Wme(De,Er({},zt,{data:Ar,containerWidth:xe,containerHeight:Te,theme:Jt}))}):jt==="annotations"?Zyt(De,{annotations:je,theme:Jt}):jt==="totals"&&Wt?function(Nt,zt,Ar,Ie){Ie===void 0&&(Ie=Ei.layout),Nt.fillStyle=Ar.text.fill,Nt.font="bold "+Ar.labels.text.fontSize+"px "+Ar.labels.text.fontFamily,Nt.textBaseline=Ie==="vertical"?"alphabetic":"middle",Nt.textAlign=Ie==="vertical"?"center":"start",zt.forEach(function(Rr){Nt.fillText(Rr.formattedValue,Rr.x,Rr.y)})}(De,gs,Jt,l):typeof jt=="function"&&jt(De,Mt)}),De.save())},[S,C,_,b,yt,we,Y,je,E,T,Wr,pt,qr,M,O,a,o,Te,xe,Mt,N,l,Qn,Pt.left,Pt.top,be,ut,Yt,z,qt,cr,u,Cn,Jt,s,gs,Wt,mt]);var Kt=I.useCallback(function(Me){if(ct&&Ot.current){var De=Yw(Ot.current,Me),jt=De[0],Nt=De[1],zt=JP(ct,Pt,jt,Nt);zt!==void 0?(Re(I.createElement(Ht,Er({},zt.data,{color:zt.color,label:zt.label,value:Number(zt.data.value)})),Me),Me.type==="mouseenter"&&(Lt==null||Lt(zt.data,Me))):G()}},[G,Pt,Lt,ct,Re,Ht]),_e=I.useCallback(function(Me){if(ct&&Ot.current){G();var De=Yw(Ot.current,Me),jt=De[0],Nt=De[1],zt=JP(ct,Pt,jt,Nt);zt&&(Zt==null||Zt(zt.data,Me))}},[G,Pt,Zt,ct]),Vs=I.useCallback(function(Me){if(ct&&Ot.current){var De=Yw(Ot.current,Me),jt=De[0],Nt=De[1],zt=JP(ct,Pt,jt,Nt);zt!==void 0&&(Tt==null||Tt(Er({},zt.data,{color:zt.color}),Me))}},[Pt,Tt,ct]);return w.jsx("canvas",{ref:function(Me){Ot.current=Me,st&&"current"in st&&(st.current=Me)},width:ut*Yt,height:be*Yt,style:{width:ut,height:be,cursor:Ye?"auto":"normal"},onMouseEnter:Ye?Kt:void 0,onMouseMove:Ye?Kt:void 0,onMouseLeave:Ye?_e:void 0,onClick:Ye?Vs:void 0})},Bgt=I.forwardRef(function(e,t){var r=e.isInteractive,n=e.renderWrapper,i=e.theme,s=Xv(e,zgt);return w.jsx(QI,{isInteractive:r,renderWrapper:n,theme:i,animate:!1,children:w.jsx(Vgt,Er({},s,{canvasRef:t}))})}),R0=function(e){return w.jsx(fS,{children:function(t){var r=t.width,n=t.height;return w.jsx(Dgt,Er({width:r,height:n},e))}})};I.forwardRef(function(e,t){return w.jsx(fS,{children:function(r){var n=r.width,i=r.height;return w.jsx(Bgt,Er({width:n,height:i},e,{ref:t}))}})});var Ugt=vhe,Ggt=0;function Wgt(e){var t=++Ggt;return Ugt(e)+t}var qgt=Wgt;const Hgt=Nn(qgt),rd=11102230246251565e-32,Ki=134217729,Zgt=(3+8*rd)*rd;function KP(e,t,r,n,i){let s,o,a,l,u=t[0],d=n[0],h=0,f=0;d>u==d>-u?(s=u,u=t[++h]):(s=d,d=n[++f]);let y=0;if(h<e&&f<r)for(d>u==d>-u?(o=u+s,a=s-(o-u),u=t[++h]):(o=d+s,a=s-(o-d),d=n[++f]),s=o,a!==0&&(i[y++]=a);h<e&&f<r;)d>u==d>-u?(o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++h]):(o=s+d,l=o-s,a=s-(o-l)+(d-l),d=n[++f]),s=o,a!==0&&(i[y++]=a);for(;h<e;)o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++h],s=o,a!==0&&(i[y++]=a);for(;f<r;)o=s+d,l=o-s,a=s-(o-l)+(d-l),d=n[++f],s=o,a!==0&&(i[y++]=a);return(s!==0||y===0)&&(i[y++]=s),y}function Ygt(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function mS(e){return new Float64Array(e)}const Jgt=(3+16*rd)*rd,Kgt=(2+12*rd)*rd,Xgt=(9+64*rd)*rd*rd,Wy=mS(4),iK=mS(8),sK=mS(12),oK=mS(16),bs=mS(4);function Qgt(e,t,r,n,i,s,o){let a,l,u,d,h,f,y,g,v,b,_,x,S,$,C,k,E,P;const T=e-i,M=r-i,O=t-s,j=n-s;$=T*j,f=Ki*T,y=f-(f-T),g=T-y,f=Ki*j,v=f-(f-j),b=j-v,C=g*b-($-y*v-g*v-y*b),k=O*M,f=Ki*O,y=f-(f-O),g=O-y,f=Ki*M,v=f-(f-M),b=M-v,E=g*b-(k-y*v-g*v-y*b),_=C-E,h=C-_,Wy[0]=C-(_+h)+(h-E),x=$+_,h=x-$,S=$-(x-h)+(_-h),_=S-k,h=S-_,Wy[1]=S-(_+h)+(h-k),P=x+_,h=P-x,Wy[2]=x-(P-h)+(_-h),Wy[3]=P;let N=Ygt(4,Wy),L=Kgt*o;if(N>=L||-N>=L||(h=e-T,a=e-(T+h)+(h-i),h=r-M,u=r-(M+h)+(h-i),h=t-O,l=t-(O+h)+(h-s),h=n-j,d=n-(j+h)+(h-s),a===0&&l===0&&u===0&&d===0)||(L=Xgt*o+Zgt*Math.abs(N),N+=T*d+j*a-(O*u+M*l),N>=L||-N>=L))return N;$=a*j,f=Ki*a,y=f-(f-a),g=a-y,f=Ki*j,v=f-(f-j),b=j-v,C=g*b-($-y*v-g*v-y*b),k=l*M,f=Ki*l,y=f-(f-l),g=l-y,f=Ki*M,v=f-(f-M),b=M-v,E=g*b-(k-y*v-g*v-y*b),_=C-E,h=C-_,bs[0]=C-(_+h)+(h-E),x=$+_,h=x-$,S=$-(x-h)+(_-h),_=S-k,h=S-_,bs[1]=S-(_+h)+(h-k),P=x+_,h=P-x,bs[2]=x-(P-h)+(_-h),bs[3]=P;const z=KP(4,Wy,4,bs,iK);$=T*d,f=Ki*T,y=f-(f-T),g=T-y,f=Ki*d,v=f-(f-d),b=d-v,C=g*b-($-y*v-g*v-y*b),k=O*u,f=Ki*O,y=f-(f-O),g=O-y,f=Ki*u,v=f-(f-u),b=u-v,E=g*b-(k-y*v-g*v-y*b),_=C-E,h=C-_,bs[0]=C-(_+h)+(h-E),x=$+_,h=x-$,S=$-(x-h)+(_-h),_=S-k,h=S-_,bs[1]=S-(_+h)+(h-k),P=x+_,h=P-x,bs[2]=x-(P-h)+(_-h),bs[3]=P;const B=KP(z,iK,4,bs,sK);$=a*d,f=Ki*a,y=f-(f-a),g=a-y,f=Ki*d,v=f-(f-d),b=d-v,C=g*b-($-y*v-g*v-y*b),k=l*u,f=Ki*l,y=f-(f-l),g=l-y,f=Ki*u,v=f-(f-u),b=u-v,E=g*b-(k-y*v-g*v-y*b),_=C-E,h=C-_,bs[0]=C-(_+h)+(h-E),x=$+_,h=x-$,S=$-(x-h)+(_-h),_=S-k,h=S-_,bs[1]=S-(_+h)+(h-k),P=x+_,h=P-x,bs[2]=x-(P-h)+(_-h),bs[3]=P;const U=KP(B,sK,4,bs,oK);return oK[U-1]}function f$(e,t,r,n,i,s){const o=(t-s)*(r-i),a=(e-i)*(n-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=Jgt*u?l:-Qgt(e,t,r,n,i,s,u)}const aK=Math.pow(2,-52),m$=new Uint32Array(512);class MC{static from(t,r=i0t,n=s0t){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=r(a),s[2*o+1]=n(a)}return new MC(s)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:n,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,l=1/0,u=-1/0,d=-1/0;for(let T=0;T<o;T++){const M=t[2*T],O=t[2*T+1];M<a&&(a=M),O<l&&(l=O),M>u&&(u=M),O>d&&(d=O),this._ids[T]=T}const h=(a+u)/2,f=(l+d)/2;let y,g,v;for(let T=0,M=1/0;T<o;T++){const O=XP(h,f,t[2*T],t[2*T+1]);O<M&&(y=T,M=O)}const b=t[2*y],_=t[2*y+1];for(let T=0,M=1/0;T<o;T++){if(T===y)continue;const O=XP(b,_,t[2*T],t[2*T+1]);O<M&&O>0&&(g=T,M=O)}let x=t[2*g],S=t[2*g+1],$=1/0;for(let T=0;T<o;T++){if(T===y||T===g)continue;const M=r0t(b,_,x,S,t[2*T],t[2*T+1]);M<$&&(v=T,$=M)}let C=t[2*v],k=t[2*v+1];if($===1/0){for(let O=0;O<o;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];r0(this._ids,this._dists,0,o-1);const T=new Uint32Array(o);let M=0;for(let O=0,j=-1/0;O<o;O++){const N=this._ids[O],L=this._dists[N];L>j&&(T[M++]=N,j=L)}this.hull=T.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(f$(b,_,x,S,C,k)<0){const T=g,M=x,O=S;g=v,x=C,S=k,v=T,C=M,k=O}const E=n0t(b,_,x,S,C,k);this._cx=E.x,this._cy=E.y;for(let T=0;T<o;T++)this._dists[T]=XP(t[2*T],t[2*T+1],E.x,E.y);r0(this._ids,this._dists,0,o-1),this._hullStart=y;let P=3;n[y]=r[v]=g,n[g]=r[y]=v,n[v]=r[g]=y,i[y]=0,i[g]=1,i[v]=2,s.fill(-1),s[this._hashKey(b,_)]=y,s[this._hashKey(x,S)]=g,s[this._hashKey(C,k)]=v,this.trianglesLen=0,this._addTriangle(y,g,v,-1,-1,-1);for(let T=0,M,O;T<this._ids.length;T++){const j=this._ids[T],N=t[2*j],L=t[2*j+1];if(T>0&&Math.abs(N-M)<=aK&&Math.abs(L-O)<=aK||(M=N,O=L,j===y||j===g||j===v))continue;let z=0;for(let K=0,le=this._hashKey(N,L);K<this._hashSize&&(z=s[(le+K)%this._hashSize],!(z!==-1&&z!==n[z]));K++);z=r[z];let B=z,U;for(;U=n[B],f$(N,L,t[2*B],t[2*B+1],t[2*U],t[2*U+1])>=0;)if(B=U,B===z){B=-1;break}if(B===-1)continue;let F=this._addTriangle(B,j,n[B],-1,-1,i[B]);i[j]=this._legalize(F+2),i[B]=F,P++;let D=n[B];for(;U=n[D],f$(N,L,t[2*D],t[2*D+1],t[2*U],t[2*U+1])<0;)F=this._addTriangle(D,j,U,i[j],-1,i[D]),i[j]=this._legalize(F+2),n[D]=D,P--,D=U;if(B===z)for(;U=r[B],f$(N,L,t[2*U],t[2*U+1],t[2*B],t[2*B+1])<0;)F=this._addTriangle(U,j,B,-1,i[B],i[U]),this._legalize(F+2),i[U]=F,n[B]=B,P--,B=U;this._hullStart=r[j]=B,n[B]=r[D]=j,n[j]=D,s[this._hashKey(N,L)]=j,s[this._hashKey(t[2*B],t[2*B+1])]=B}this.hull=new Uint32Array(P);for(let T=0,M=this._hullStart;T<P;T++)this.hull[T]=M,M=n[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(e0t(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:n,coords:i}=this;let s=0,o=0;for(;;){const a=n[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(s===0)break;t=m$[--s];continue}const u=a-a%3,d=l+(t+1)%3,h=u+(a+2)%3,f=r[o],y=r[t],g=r[d],v=r[h];if(t0t(i[2*f],i[2*f+1],i[2*y],i[2*y+1],i[2*g],i[2*g+1],i[2*v],i[2*v+1])){r[t]=v,r[a]=f;const _=n[h];if(_===-1){let S=this._hullStart;do{if(this._hullTri[S]===h){this._hullTri[S]=t;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(t,_),this._link(a,n[o]),this._link(o,h);const x=u+(a+1)%3;s<m$.length&&(m$[s++]=x)}else{if(s===0)break;t=m$[--s]}}return o}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=r,this._triangles[a+2]=n,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function e0t(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function XP(e,t,r,n){const i=e-r,s=t-n;return i*i+s*s}function t0t(e,t,r,n,i,s,o,a){const l=e-o,u=t-a,d=r-o,h=n-a,f=i-o,y=s-a,g=l*l+u*u,v=d*d+h*h,b=f*f+y*y;return l*(h*b-v*y)-u*(d*b-v*f)+g*(d*y-h*f)<0}function r0t(e,t,r,n,i,s){const o=r-e,a=n-t,l=i-e,u=s-t,d=o*o+a*a,h=l*l+u*u,f=.5/(o*u-a*l),y=(u*d-a*h)*f,g=(o*h-l*d)*f;return y*y+g*g}function n0t(e,t,r,n,i,s){const o=r-e,a=n-t,l=i-e,u=s-t,d=o*o+a*a,h=l*l+u*u,f=.5/(o*u-a*l),y=e+(u*d-a*h)*f,g=t+(o*h-l*d)*f;return{x:y,y:g}}function r0(e,t,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=r&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=r+n>>1;let s=r+1,o=n;J1(e,i,s),t[e[r]]>t[e[n]]&&J1(e,r,n),t[e[s]]>t[e[n]]&&J1(e,s,n),t[e[r]]>t[e[s]]&&J1(e,r,s);const a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;J1(e,s,o)}e[r+1]=e[o],e[o]=a,n-s+1>=o-r?(r0(e,t,s,n),r0(e,t,r,o-1)):(r0(e,t,r,o-1),r0(e,t,s,n))}}function J1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function i0t(e){return e[0]}function s0t(e){return e[1]}const lK=1e-6;class pm{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;const i=t+n,s=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>lK||Math.abs(this._y1-s)>lK)&&(this._+="L"+i+","+s),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,r,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class P8{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}}class o0t{constructor(t,[r,n,i,s]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((s=+s)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=r,this.ymax=s,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:n},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let v=0,b=0,_=n.length,x,S;v<_;v+=3,b+=2){const $=n[v]*2,C=n[v+1]*2,k=n[v+2]*2,E=t[$],P=t[$+1],T=t[C],M=t[C+1],O=t[k],j=t[k+1],N=T-E,L=M-P,z=O-E,B=j-P,U=(N*B-L*z)*2;if(Math.abs(U)<1e-9){if(s===void 0){s=o=0;for(const D of r)s+=t[D*2],o+=t[D*2+1];s/=r.length,o/=r.length}const F=1e9*Math.sign((s-E)*B-(o-P)*z);x=(E+O)/2-F*B,S=(P+j)/2+F*z}else{const F=1/U,D=N*N+L*L,K=z*z+B*B;x=E+(B*D-L*K)*F,S=P+(N*K-z*D)*F}a[b]=x,a[b+1]=S}let l=r[r.length-1],u,d=l*4,h,f=t[2*l],y,g=t[2*l+1];i.fill(0);for(let v=0;v<r.length;++v)l=r[v],u=d,h=f,y=g,d=l*4,f=t[2*l],g=t[2*l+1],i[u+2]=i[d]=y-g,i[u+3]=i[d+1]=f-h}render(t){const r=t==null?t=new pm:void 0,{delaunay:{halfedges:n,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let d=0,h=n.length;d<h;++d){const f=n[d];if(f<d)continue;const y=Math.floor(d/3)*2,g=Math.floor(f/3)*2,v=o[y],b=o[y+1],_=o[g],x=o[g+1];this._renderSegment(v,b,_,x,t)}let l,u=s[s.length-1];for(let d=0;d<s.length;++d){l=u,u=s[d];const h=Math.floor(i[u]/3)*2,f=o[h],y=o[h+1],g=l*4,v=this._project(f,y,a[g+2],a[g+3]);v&&this._renderSegment(f,y,v[0],v[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new pm:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const n=r==null?r=new pm:void 0,i=this._clip(t);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&r.lineTo(i[o],i[o+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){const i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(t){const r=new P8;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,i,s){let o;const a=this._regioncode(t,r),l=this._regioncode(n,i);a===0&&l===0?(s.moveTo(t,r),s.lineTo(n,i)):(o=this._clipSegment(t,r,n,i,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){const r=this._clip(t);if(r)for(const n of this.delaunay.neighbors(t)){const i=this._clip(n);if(i){e:for(let s=0,o=r.length;s<o;s+=2)for(let a=0,l=i.length;a<l;a+=2)if(r[s]===i[a]&&r[s+1]===i[a+1]&&r[(s+2)%o]===i[(a+l-2)%l]&&r[(s+3)%o]===i[(a+l-1)%l]){yield n;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:n,halfedges:i,triangles:s}}=this,o=n[t];if(o===-1)return null;const a=[];let l=o;do{const u=Math.floor(l/3);if(a.push(r[u*2],r[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:n}=this,i=t*4;return this._simplify(n[i]||n[i+1]?this._clipInfinite(t,r,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,r))}_clipFinite(t,r){const n=r.length;let i=null,s,o,a=r[n-2],l=r[n-1],u,d=this._regioncode(a,l),h,f=0;for(let y=0;y<n;y+=2)if(s=a,o=l,a=r[y],l=r[y+1],u=d,d=this._regioncode(a,l),u===0&&d===0)h=f,f=0,i?i.push(a,l):i=[a,l];else{let g,v,b,_,x;if(u===0){if((g=this._clipSegment(s,o,a,l,u,d))===null)continue;[v,b,_,x]=g}else{if((g=this._clipSegment(a,l,s,o,d,u))===null)continue;[_,x,v,b]=g,h=f,f=this._edgecode(v,b),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(v,b):i=[v,b]}h=f,f=this._edgecode(_,x),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(_,x):i=[_,x]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(t,h,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,r,n,i,s,o){const a=s<o;for(a&&([t,r,n,i,s,o]=[n,i,t,r,o,s]);;){if(s===0&&o===0)return a?[n,i,t,r]:[t,r,n,i];if(s&o)return null;let l,u,d=s||o;d&8?(l=t+(n-t)*(this.ymax-r)/(i-r),u=this.ymax):d&4?(l=t+(n-t)*(this.ymin-r)/(i-r),u=this.ymin):d&2?(u=r+(i-r)*(this.xmax-t)/(n-t),l=this.xmax):(u=r+(i-r)*(this.xmin-t)/(n-t),l=this.xmin),s?(t=l,r=u,s=this._regioncode(t,r)):(n=l,i=u,o=this._regioncode(n,i))}}_clipInfinite(t,r,n,i,s,o){let a=Array.from(r),l;if((l=this._project(a[0],a[1],n,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,d=a.length,h,f=this._edgecode(a[d-2],a[d-1]);u<d;u+=2)h=f,f=this._edgecode(a[u],a[u+1]),h&&f&&(u=this._edge(t,h,f,a,u),d=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,r,n,i,s){for(;r!==n;){let o,a;switch(r){case 5:r=4;continue;case 4:r=6,o=this.xmax,a=this.ymin;break;case 6:r=2;continue;case 2:r=10,o=this.xmax,a=this.ymax;break;case 10:r=8;continue;case 8:r=9,o=this.xmin,a=this.ymax;break;case 9:r=1;continue;case 1:r=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,r,n,i){let s=1/0,o,a,l;if(i<0){if(r<=this.ymin)return null;(o=(this.ymin-r)/i)<s&&(l=this.ymin,a=t+(s=o)*n)}else if(i>0){if(r>=this.ymax)return null;(o=(this.ymax-r)/i)<s&&(l=this.ymax,a=t+(s=o)*n)}if(n>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/n)<s&&(a=this.xmax,l=r+(s=o)*i)}else if(n<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/n)<s&&(a=this.xmin,l=r+(s=o)*i)}return[a,l]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){const n=(r+2)%t.length,i=(r+4)%t.length;(t[r]===t[n]&&t[n]===t[i]||t[r+1]===t[n+1]&&t[n+1]===t[i+1])&&(t.splice(n,2),r-=2)}t.length||(t=null)}return t}}const a0t=2*Math.PI,qy=Math.pow;function l0t(e){return e[0]}function u0t(e){return e[1]}function c0t(e){const{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){const i=2*t[n],s=2*t[n+1],o=2*t[n+2];if((r[o]-r[i])*(r[s+1]-r[i+1])-(r[s]-r[i])*(r[o+1]-r[i+1])>1e-10)return!1}return!0}function d0t(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class lz{static from(t,r=l0t,n=u0t,i){return new lz("length"in t?p0t(t,r,n,i):Float64Array.from(h0t(t,r,n,i)))}constructor(t){this._delaunator=new MC(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&c0t(t)){this.collinear=Int32Array.from({length:r.length/2},(f,y)=>y).sort((f,y)=>r[2*f]-r[2*y]||r[2*f+1]-r[2*y+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],d=[r[2*l],r[2*l+1],r[2*u],r[2*u+1]],h=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let f=0,y=r.length/2;f<y;++f){const g=d0t(r[2*f],r[2*f+1],h);r[2*f]=g[0],r[2*f+1]=g[1]}this._delaunator=new MC(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=n.length;l<u;++l){const d=s[l%3===2?l-2:l+1];(n[l]===-1||o[d]===-1)&&(o[d]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new o0t(this,t)}*neighbors(t){const{inedges:r,hull:n,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const h=a.indexOf(t);h>0&&(yield a[h-1]),h<a.length-1&&(yield a[h+1]);return}const l=r[t];if(l===-1)return;let u=l,d=-1;do{if(yield d=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const h=n[(i[t]+1)%n.length];h!==d&&(yield h);return}}while(u!==l)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const i=n;let s;for(;(s=this._step(n,t,r))>=0&&s!==n&&s!==i;)n=s;return s}_step(t,r,n){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let d=t,h=qy(r-u[t*2],2)+qy(n-u[t*2+1],2);const f=i[t];let y=f;do{let g=l[y];const v=qy(r-u[g*2],2)+qy(n-u[g*2+1],2);if(v<h&&(h=v,d=g),y=y%3===2?y-2:y+1,l[y]!==t)break;if(y=a[y],y===-1){if(y=s[(o[t]+1)%s.length],y!==g&&qy(r-u[y*2],2)+qy(n-u[y*2+1],2)<h)return y;break}}while(y!==f);return d}render(t){const r=t==null?t=new pm:void 0,{points:n,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l<o)continue;const u=s[o]*2,d=s[l]*2;t.moveTo(n[u],n[u+1]),t.lineTo(n[d],n[d+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;const n=t==null?t=new pm:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],l=i[s+1];t.moveTo(a+r,l),t.arc(a,l,r,0,a0t)}return n&&n.value()}renderHull(t){const r=t==null?t=new pm:void 0,{hull:n,points:i}=this,s=n[0]*2,o=n.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const l=2*n[a];t.lineTo(i[l],i[l+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new P8;return this.renderHull(t),t.value()}renderTriangle(t,r){const n=r==null?r=new pm:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,l=s[t+2]*2;return r.moveTo(i[o],i[o+1]),r.lineTo(i[a],i[a+1]),r.lineTo(i[l],i[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new P8;return this.renderTriangle(t,r),r.value()}}function p0t(e,t,r,n){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(n,a,o,e),s[o*2+1]=r.call(n,a,o,e)}return s}function*h0t(e,t,r,n){let i=0;for(const s of e)yield t.call(n,s,i,e),yield r.call(n,s,i,e),++i}var uz=function(e){return[e.x,e.y]},yS=Kfe,Kme="cursor",Xme="top",f0t=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?uz:r,i=e.margin,s=i===void 0?yS:i;return t.map(function(o){var a=n(o),l=a[0],u=a[1];return[l+s.left,u+s.top]})},m0t=function(e){var t=e.points,r=e.width,n=e.height,i=e.margin,s=i===void 0?yS:i,o=e.debug,a=lz.from(t),l=o?a.voronoi([0,0,s.left+r+s.right,s.top+n+s.bottom]):void 0;return{points:t,delaunay:a,voronoi:l}},Qme=function(e){var t=e.points,r=e.getNodePosition,n=r===void 0?uz:r,i=e.width,s=e.height,o=e.margin,a=o===void 0?yS:o,l=e.debug;return I.useMemo(function(){return m0t({points:f0t({points:t,margin:a,getNodePosition:n}),width:i,height:s,margin:a,debug:l})},[t,i,s,a,l])},y0t=function(e){var t=e.elementRef,r=e.nodes,n=e.getNodePosition,i=n===void 0?uz:n,s=e.delaunay,o=e.setCurrent,a=e.margin,l=a===void 0?yS:a,u=e.detectionRadius,d=u===void 0?1/0:u,h=e.isInteractive,f=h===void 0||h,y=e.onMouseEnter,g=e.onMouseMove,v=e.onMouseLeave,b=e.onClick,_=e.onTouchStart,x=e.onTouchMove,S=e.onTouchEnd,$=e.enableTouchCrosshair,C=$!==void 0&&$,k=e.tooltip,E=e.tooltipPosition,P=E===void 0?Kme:E,T=e.tooltipAnchor,M=T===void 0?Xme:T,O=I.useState(null),j=O[0],N=O[1],L=I.useRef(null);I.useEffect(function(){L.current=j},[L,j]);var z=I.useCallback(function(de){if(!t.current)return null;var Y=Yw(t.current,de),ce=Y[0],oe=Y[1],X=s.find(ce,oe),$e=X!==void 0?r[X]:null;if($e&&d!==1/0){var Pe=i($e),dt=Pe[0],We=Pe[1];Bct(ce,oe,dt+l.left,We+l.top)>d&&(X=null,$e=null)}return X===null||$e===null?null:[X,$e]},[t,s,r,i,l,d]),B=Dv(),U=B.showTooltipAt,F=B.showTooltipFromEvent,D=B.hideTooltip,K=I.useMemo(function(){if(k)return P==="cursor"?function(de,Y){F(k(de),Y,M)}:function(de){var Y=i(de),ce=Y[0],oe=Y[1];U(k(de),[ce+l.left,oe+l.top],M)}},[U,F,k,P,M,i,l]),le=I.useCallback(function(de){var Y=z(de);if(N(Y),o==null||o(Y?Y[1]:null),Y){var ce=Y[1];K==null||K(ce,de),y==null||y(Y[1],de)}},[z,N,o,K,y]),he=I.useCallback(function(de){var Y=z(de);if(N(Y),Y){var ce=Y[0],oe=Y[1];if(o==null||o(oe),K==null||K(oe,de),L.current){var X=L.current,$e=X[0],Pe=X[1];ce!==$e?v==null||v(Pe,de):g==null||g(oe,de)}else y==null||y(oe,de)}else o==null||o(null),D==null||D(),L.current&&(v==null||v(L.current[1],de))},[z,N,L,y,g,v,K,D]),Ue=I.useCallback(function(de){N(null),o==null||o(null),D(),v&&L.current&&v(L.current[1],de)},[N,o,L,D,v]),fe=I.useCallback(function(de){var Y=z(de);N(Y),Y&&(b==null||b(Y[1],de))},[z,N,b]),Ge=I.useCallback(function(de){var Y=z(de);C&&(N(Y),o==null||o(Y?Y[1]:null)),Y&&(_==null||_(Y[1],de))},[z,N,o,C,_]),se=I.useCallback(function(de){var Y=z(de);C&&(N(Y),o==null||o(Y?Y[1]:null)),Y&&(x==null||x(Y[1],de))},[z,N,o,C,x]),we=I.useCallback(function(de){C&&(N(null),o==null||o(null)),S&&L.current&&S(L.current[1],de)},[C,N,o,S,L]);return{current:j,handleMouseEnter:f?le:void 0,handleMouseMove:f?he:void 0,handleMouseLeave:f?Ue:void 0,handleClick:f?fe:void 0,handleTouchStart:f?Ge:void 0,handleTouchMove:f?se:void 0,handleTouchEnd:f?we:void 0}},g0t=function(e){var t=e.nodes,r=e.width,n=e.height,i=e.margin,s=i===void 0?yS:i,o=e.getNodePosition,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,h=e.onClick,f=e.onTouchStart,y=e.onTouchMove,g=e.onTouchEnd,v=e.enableTouchCrosshair,b=v!==void 0&&v,_=e.detectionRadius,x=_===void 0?1/0:_,S=e.tooltip,$=e.tooltipPosition,C=$===void 0?Kme:$,k=e.tooltipAnchor,E=k===void 0?Xme:k,P=e.debug,T=I.useRef(null),M=Qme({points:t,getNodePosition:o,width:r,height:n,margin:s,debug:P}),O=M.delaunay,j=M.voronoi,N=y0t({elementRef:T,nodes:t,delaunay:O,margin:s,detectionRadius:x,setCurrent:a,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:h,onTouchStart:f,onTouchMove:y,onTouchEnd:g,enableTouchCrosshair:b,tooltip:S,tooltipPosition:C,tooltipAnchor:E}),L=N.current,z=N.handleMouseEnter,B=N.handleMouseMove,U=N.handleMouseLeave,F=N.handleClick,D=N.handleTouchStart,K=N.handleTouchMove,le=N.handleTouchEnd,he=I.useMemo(function(){if(P&&j)return j.render()},[P,j]);return w.jsxs("g",{ref:T,transform:"translate("+-s.left+","+-s.top+")",children:[P&&j&&w.jsxs(w.Fragment,{children:[w.jsx("path",{d:he,stroke:"red",strokeWidth:1,opacity:.75}),x<1/0&&w.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:O.renderPoints(void 0,x)}),L&&w.jsx("path",{fill:"pink",opacity:.35,d:j.renderCell(L[0])})]}),w.jsx("rect",{"data-ref":"mesh-interceptor",width:s.left+r+s.right,height:s.top+n+s.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:z,onMouseMove:B,onMouseLeave:U,onTouchStart:D,onTouchMove:K,onTouchEnd:le,onClick:F})]})},v0t=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},b0t=function(e,t,r){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(r,e),e.fillStyle="pink",e.fill(),e.restore()};function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(this,arguments)}var cz=I.memo(function(e){var t=e.point;return w.jsx(Wpe,{id:w.jsxs("span",{children:["x: ",w.jsx("strong",{children:t.data.xFormatted}),", y:"," ",w.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),eye=I.memo(function(e){var t=e.slice,r=e.axis,n=cn(),i=r==="x"?"y":"x";return w.jsx(qpe,{rows:t.points.map(function(s){return[w.jsx(Gpe,{color:s.serieColor,style:n.tooltip.chip},"chip"),s.serieId,w.jsx("span",{style:n.tooltip.tableCellValue,children:s.data[i+"Formatted"]},"value")]})})}),tye={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:cz,enableSlices:!1,debugSlices:!1,sliceTooltip:eye,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Dd=Ls({},tye,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});Ls({},tye,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var w0t=function(e){var t=e.curve;return I.useMemo(function(){return Tfe().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y(function(r){return r.y}).curve(Jfe(t))},[t])},_0t=function(e){var t=e.curve,r=e.yScale,n=e.areaBaselineValue;return I.useMemo(function(){return _at().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y1(function(i){return i.y}).curve(Jfe(t)).y0(r(n))},[t,r,n])},x0t=function(e){var t=e.componentId,r=e.enableSlices,n=e.points,i=e.width,s=e.height;return I.useMemo(function(){if(r===!1)return[];if(r==="x"){var o=new Map;return n.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(o.has(l.x)?o.get(l.x).push(l):o.set(l.x,[l]))}),Array.from(o.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,d){var h,f,y=l[0],g=l[1],v=d[u-1],b=d[u+1];return h=v?y-(y-v[0])/2:y,f=b?y-h+(b[0]-y)/2:i-h,{id:"slice:"+t+":"+y,x0:h,x:y,y0:0,y:0,width:f,height:s,points:g.reverse()}})}if(r==="y"){var a=new Map;return n.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(a.has(l.y)?a.get(l.y).push(l):a.set(l.y,[l]))}),Array.from(a.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,d){var h,f,y=l[0],g=l[1],v=d[u-1],b=d[u+1];return h=v?y-(y-v[0])/2:y,f=b?y-h+(b[0]-y)/2:s-h,{id:y,x0:0,x:0,y0:h,y,width:i,height:f,points:g.reverse()}})}},[t,r,s,n,i])},S0t="line",rye=function(e){var t=e.data,r=e.xScale,n=r===void 0?Dd.xScale:r,i=e.xFormat,s=e.yScale,o=s===void 0?Dd.yScale:s,a=e.yFormat,l=e.width,u=e.height,d=e.colors,h=d===void 0?Dd.colors:d,f=e.curve,y=f===void 0?Dd.curve:f,g=e.areaBaselineValue,v=g===void 0?Dd.areaBaselineValue:g,b=e.pointColor,_=b===void 0?Dd.pointColor:b,x=e.pointBorderColor,S=x===void 0?Dd.pointBorderColor:x,$=e.enableSlices,C=$===void 0?Dd.enableSlicesTooltip:$,k=I.useState(Hgt(S0t))[0],E=ux(i),P=ux(a),T=Vme(h,"id"),M=cn(),O=dv(_,M),j=dv(S,M),N=I.useState([]),L=N[0],z=N[1],B=I.useMemo(function(){return pht(t.filter(function(se){return L.indexOf(se.id)===-1}),n,o,l,u)},[t,L,n,o,l,u]),U=B.xScale,F=B.yScale,D=B.series,K=I.useMemo(function(){var se=t.map(function(de){return{id:de.id,label:de.id,color:T(de)}}),we=se.map(function(de){return Ls({},D.find(function(Y){return Y.id===de.id}),{color:de.color})}).filter(function(de){return!!de.id});return{legendData:se.map(function(de){return Ls({},de,{hidden:!we.find(function(Y){return Y.id===de.id})})}).reverse(),series:we}},[t,D,T]),le=K.legendData,he=K.series,Ue=I.useCallback(function(se){z(function(we){return we.indexOf(se)>-1?we.filter(function(de){return de!==se}):[].concat(we,[se])})},[]),fe=function(se){var we=se.series,de=se.getPointColor,Y=se.getPointBorderColor,ce=se.formatX,oe=se.formatY;return I.useMemo(function(){return we.reduce(function(X,$e){return[].concat(X,$e.data.filter(function(Pe){return Pe.position.x!==null&&Pe.position.y!==null}).map(function(Pe,dt){var We={id:$e.id+"."+dt,index:X.length+dt,serieId:$e.id,serieColor:$e.color,x:Pe.position.x,y:Pe.position.y};return We.color=de($e),We.borderColor=Y(We),We.data=Ls({},Pe.data,{xFormatted:ce(Pe.data.x),yFormatted:oe(Pe.data.y)}),We}))},[])},[we,de,Y,ce,oe])}({series:he,getPointColor:O,getPointBorderColor:j,formatX:E,formatY:P}),Ge=x0t({componentId:k,enableSlices:C,points:fe,width:l,height:u});return{legendData:le,toggleSerie:Ue,lineGenerator:w0t({curve:y}),areaGenerator:_0t({curve:y,yScale:F,areaBaselineValue:v}),getColor:T,series:he,xScale:U,yScale:F,slices:Ge,points:fe}},$0t=function(e){var t=e.areaBlendMode,r=e.areaOpacity,n=e.color,i=e.fill,s=e.path,o=Ka(),a=o.animate,l=o.config,u=tz(s),d=Yu({color:n,config:l,immediate:!a});return w.jsx(vn.path,{d:u,fill:i||d.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:t}})},T0t=I.memo(function(e){var t=e.areaGenerator,r=e.areaOpacity,n=e.areaBlendMode,i=e.lines.slice(0).reverse();return w.jsx("g",{children:i.map(function(s){return w.jsx($0t,Ls({path:t(s.data.map(function(o){return o.position}))},Ls({areaOpacity:r,areaBlendMode:n},s)),s.id)})})}),M0t=I.memo(function(e){var t=e.lineGenerator,r=e.points,n=e.color,i=e.thickness,s=I.useMemo(function(){return t(r)},[t,r]),o=tz(s);return w.jsx(vn.path,{d:o,fill:"none",strokeWidth:i,stroke:n})}),C0t=I.memo(function(e){var t=e.lines,r=e.lineGenerator,n=e.lineWidth;return t.slice(0).reverse().map(function(i){var s=i.id,o=i.data,a=i.color;return w.jsx(M0t,{id:s,points:o.map(function(l){return l.position}),lineGenerator:r,color:a,thickness:n},s)})}),E0t=I.memo(function(e){var t=e.slice,r=e.slices,n=e.axis,i=e.debug,s=e.tooltip,o=e.isCurrent,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,h=e.onClick,f=e.onTouchStart,y=e.onTouchMove,g=e.onTouchEnd,v=Dv(),b=v.showTooltipFromEvent,_=v.hideTooltip,x=I.useCallback(function(T){b(I.createElement(s,{slice:t,axis:n}),T,"right"),a(t),l&&l(t,T)},[b,s,t,n,a,l]),S=I.useCallback(function(T){b(I.createElement(s,{slice:t,axis:n}),T,"right"),u&&u(t,T)},[b,s,t,n,u]),$=I.useCallback(function(T){_(),a(null),d&&d(t,T)},[_,a,d,t]),C=I.useCallback(function(T){h&&h(t,T)},[t,h]),k=I.useCallback(function(T){b(I.createElement(s,{slice:t,axis:n}),T,"right"),a(t),f&&f(t,T)},[n,f,a,b,t,s]),E=I.useCallback(function(T){var M=T.touches[0],O=document.elementFromPoint(M.clientX,M.clientY),j=O==null?void 0:O.getAttribute("data-ref");if(j){var N=r.find(function(L){return L.id===j});N&&(b(I.createElement(s,{slice:N,axis:n}),T,"right"),a(N))}y&&y(t,T)},[n,y,a,b,t,r,s]),P=I.useCallback(function(T){_(),a(null),g&&g(t,T)},[_,a,g,t]);return w.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:o&&i?.35:0,onMouseEnter:x,onMouseMove:S,onMouseLeave:$,onClick:C,onTouchStart:k,onTouchMove:E,onTouchEnd:P,"data-ref":t.id})}),k0t=I.memo(function(e){var t=e.slices,r=e.axis,n=e.debug,i=e.height,s=e.tooltip,o=e.current,a=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,h=e.onClick,f=e.onTouchStart,y=e.onTouchMove,g=e.onTouchEnd;return t.map(function(v){return w.jsx(E0t,{slice:v,slices:t,axis:r,debug:n,height:i,tooltip:s,setCurrent:a,isCurrent:o!==null&&o.id===v.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:h,onTouchStart:f,onTouchMove:y,onTouchEnd:g},v.id)})}),I0t=I.memo(function(e){var t=e.points,r=e.symbol,n=e.size,i=e.borderWidth,s=e.enableLabel,o=e.label,a=e.labelYOffset,l=cn(),u=Vct(o),d=t.slice(0).reverse().map(function(h){return{id:h.id,x:h.x,y:h.y,datum:h.data,fill:h.color,stroke:h.borderColor,label:s?u(h):null}});return w.jsx("g",{children:d.map(function(h){return w.jsx(Fct,{x:h.x,y:h.y,datum:h.datum,symbol:r,size:n,color:h.fill,borderWidth:i,borderColor:h.stroke,label:h.label,labelYOffset:a,theme:l},h.id)})})}),O0t=I.memo(function(e){var t=e.points,r=e.width,n=e.height,i=e.margin,s=e.setCurrent,o=e.onMouseEnter,a=e.onMouseMove,l=e.onMouseLeave,u=e.onClick,d=e.onTouchStart,h=e.onTouchMove,f=e.onTouchEnd,y=e.tooltip,g=e.debug,v=e.enableTouchCrosshair,b=Dv(),_=b.showTooltipAt,x=b.hideTooltip,S=I.useCallback(function(M,O){_(I.createElement(y,{point:M}),[M.x+i.left,M.y+i.top],"top"),o&&o(M,O)},[_,y,o,i]),$=I.useCallback(function(M,O){_(I.createElement(y,{point:M}),[M.x+i.left,M.y+i.top],"top"),a&&a(M,O)},[_,y,i.left,i.top,a]),C=I.useCallback(function(M,O){x(),l&&l(M,O)},[x,l]),k=I.useCallback(function(M,O){u&&u(M,O)},[u]),E=I.useCallback(function(M,O){_(I.createElement(y,{point:M}),[M.x+i.left,M.y+i.top],"top"),d&&d(M,O)},[i.left,i.top,d,_,y]),P=I.useCallback(function(M,O){_(I.createElement(y,{point:M}),[M.x+i.left,M.y+i.top],"top"),h&&h(M,O)},[i.left,i.top,h,_,y]),T=I.useCallback(function(M,O){x(),f&&f(M,O)},[f,x]);return w.jsx(g0t,{nodes:t,width:r,height:n,setCurrent:s,onMouseEnter:S,onMouseMove:$,onMouseLeave:C,onClick:k,onTouchStart:E,onTouchMove:P,onTouchEnd:T,enableTouchCrosshair:v,debug:g})}),P0t=dme(function(e){var t=e.data,r=e.xScale,n=r===void 0?{type:"point"}:r,i=e.xFormat,s=e.yScale,o=s===void 0?{type:"linear",min:0,max:"auto"}:s,a=e.yFormat,l=e.layers,u=l===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:l,d=e.curve,h=d===void 0?"linear":d,f=e.areaBaselineValue,y=f===void 0?0:f,g=e.colors,v=g===void 0?{scheme:"nivo"}:g,b=e.margin,_=e.width,x=e.height,S=e.axisTop,$=e.axisRight,C=e.axisBottom,k=C===void 0?{}:C,E=e.axisLeft,P=E===void 0?{}:E,T=e.enableGridX,M=T===void 0||T,O=e.enableGridY,j=O===void 0||O,N=e.gridXValues,L=e.gridYValues,z=e.lineWidth,B=z===void 0?2:z,U=e.enableArea,F=U!==void 0&&U,D=e.areaOpacity,K=D===void 0?.2:D,le=e.areaBlendMode,he=le===void 0?"normal":le,Ue=e.enablePoints,fe=Ue===void 0||Ue,Ge=e.pointSymbol,se=e.pointSize,we=se===void 0?6:se,de=e.pointColor,Y=de===void 0?{from:"color"}:de,ce=e.pointBorderWidth,oe=ce===void 0?0:ce,X=e.pointBorderColor,$e=X===void 0?{theme:"background"}:X,Pe=e.enablePointLabel,dt=Pe!==void 0&&Pe,We=e.pointLabel,Ye=We===void 0?"data.yFormatted":We,ot=e.pointLabelYOffset,Ht=e.defs,Tt=Ht===void 0?[]:Ht,Lt=e.fill,Zt=Lt===void 0?[]:Lt,Ae=e.markers,Or=e.legends,Yt=Or===void 0?[]:Or,st=e.isInteractive,Le=st===void 0||st,Wt=e.useMesh,ur=Wt!==void 0&&Wt,Dt=e.debugMesh,Ot=Dt!==void 0&&Dt,Jt=e.onMouseEnter,br=e.onMouseMove,Pt=e.onMouseLeave,xe=e.onClick,Te=e.onTouchStart,ut=e.onTouchMove,be=e.onTouchEnd,Fe=e.tooltip,ct=Fe===void 0?cz:Fe,yt=e.enableSlices,qt=yt!==void 0&&yt,cr=e.debugSlices,pt=cr!==void 0&&cr,Pr=e.sliceTooltip,Wr=Pr===void 0?eye:Pr,qr=e.enableCrosshair,Cn=qr===void 0||qr,Qn=e.crosshairType,gs=Qn===void 0?"bottom-left":Qn,ei=e.enableTouchCrosshair,Re=ei!==void 0&&ei,G=e.role,je=G===void 0?"img":G,Mt=XI(_,x,b),mt=Mt.margin,Kt=Mt.innerWidth,_e=Mt.innerHeight,Vs=Mt.outerWidth,Me=Mt.outerHeight,De=rye({data:t,xScale:n,xFormat:i,yScale:o,yFormat:a,width:Kt,height:_e,colors:v,curve:h,areaBaselineValue:y,pointColor:Y,pointBorderColor:$e,enableSlices:qt}),jt=De.legendData,Nt=De.toggleSerie,zt=De.lineGenerator,Ar=De.areaGenerator,Ie=De.series,Rr=De.xScale,ho=De.yScale,Xu=De.slices,ti=De.points,Bs=cn(),Je=dv(Y,Bs),fo=dv($e,Bs),Xt=I.useState(null),Fh=Xt[0],Qv=Xt[1],gS=I.useState(null),Dh=gS[0],vS=gS[1],Qu={grid:w.jsx(Eme,{theme:Bs,width:Kt,height:_e,xScale:M?Rr:null,yScale:j?ho:null,xValues:N,yValues:L},"grid"),markers:w.jsx(cme,{markers:Ae,width:Kt,height:_e,xScale:Rr,yScale:ho,theme:Bs},"markers"),axes:w.jsx(Cme,{xScale:Rr,yScale:ho,width:Kt,height:_e,theme:Bs,top:S,right:$,bottom:k,left:P},"axes"),areas:null,lines:w.jsx(C0t,{lines:Ie,lineGenerator:zt,lineWidth:B},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Yt.map(function(Gn,e1){return w.jsx(Gme,Ls({},Gn,{containerWidth:Kt,containerHeight:_e,data:Gn.data||jt,theme:Bs,toggleSerie:Gn.toggleSerie?Nt:void 0}),"legend."+e1)})},r5=fme(Tt,Ie,Zt);return F&&(Qu.areas=w.jsx(T0t,{areaGenerator:Ar,areaOpacity:K,areaBlendMode:he,lines:Ie},"areas")),Le&&qt!==!1&&(Qu.slices=w.jsx(k0t,{slices:Xu,axis:qt,debug:pt,height:_e,tooltip:Wr,current:Dh,setCurrent:vS,onMouseEnter:Jt,onMouseMove:br,onMouseLeave:Pt,onClick:xe,onTouchStart:Te,onTouchMove:ut,onTouchEnd:be},"slices")),fe&&(Qu.points=w.jsx(I0t,{points:ti,symbol:Ge,size:we,color:Je,borderWidth:oe,borderColor:fo,enableLabel:dt,label:Ye,labelYOffset:ot},"points")),Le&&Cn&&(Fh!==null&&(Qu.crosshair=w.jsx(a8,{width:Kt,height:_e,x:Fh.x,y:Fh.y,type:gs},"crosshair")),Dh!==null&&(Qu.crosshair=w.jsx(a8,{width:Kt,height:_e,x:Dh.x,y:Dh.y,type:qt},"crosshair"))),Le&&ur&&qt===!1&&(Qu.mesh=w.jsx(O0t,{points:ti,width:Kt,height:_e,margin:mt,current:Fh,setCurrent:Qv,onMouseEnter:Jt,onMouseMove:br,onMouseLeave:Pt,onClick:xe,onTouchStart:Te,onTouchMove:ut,onTouchEnd:be,tooltip:ct,enableTouchCrosshair:Re,debug:Ot},"mesh")),w.jsx(iz,{defs:r5,width:Vs,height:Me,margin:mt,role:je,children:u.map(function(Gn,e1){return typeof Gn=="function"?w.jsx(I.Fragment,{children:Gn(Ls({},e,{innerWidth:Kt,innerHeight:_e,series:Ie,slices:Xu,points:ti,xScale:Rr,yScale:ho,lineGenerator:zt,areaGenerator:Ar,currentPoint:Fh,setCurrentPoint:Qv,currentSlice:Dh,setCurrentSlice:vS}))},e1):Qu[Gn]})})}),nye=function(e){return w.jsx(fS,{children:function(t){var r=t.width,n=t.height;return w.jsx(P0t,Ls({width:r,height:n},e))}})},A0t=dme(function(e){var t=I.useRef(null),r=e.width,n=e.height,i=e.margin,s=e.pixelRatio,o=s===void 0?typeof window<"u"&&window.devicePixelRatio||1:s,a=e.data,l=e.xScale,u=l===void 0?{type:"point"}:l,d=e.xFormat,h=e.yScale,f=h===void 0?{type:"linear",min:0,max:"auto"}:h,y=e.yFormat,g=e.curve,v=g===void 0?"linear":g,b=e.layers,_=b===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:b,x=e.colors,S=x===void 0?{scheme:"nivo"}:x,$=e.lineWidth,C=$===void 0?2:$,k=e.enableArea,E=k!==void 0&&k,P=e.areaBaselineValue,T=P===void 0?0:P,M=e.areaOpacity,O=M===void 0?.2:M,j=e.enablePoints,N=j===void 0||j,L=e.pointSize,z=L===void 0?6:L,B=e.pointColor,U=B===void 0?{from:"color"}:B,F=e.pointBorderWidth,D=F===void 0?0:F,K=e.pointBorderColor,le=K===void 0?{theme:"background"}:K,he=e.enableGridX,Ue=he===void 0||he,fe=e.gridXValues,Ge=e.enableGridY,se=Ge===void 0||Ge,we=e.gridYValues,de=e.axisTop,Y=e.axisRight,ce=e.axisBottom,oe=ce===void 0?{}:ce,X=e.axisLeft,$e=X===void 0?{}:X,Pe=e.legends,dt=Pe===void 0?[]:Pe,We=e.isInteractive,Ye=We===void 0||We,ot=e.debugMesh,Ht=ot!==void 0&&ot,Tt=e.onMouseLeave,Lt=e.onClick,Zt=e.tooltip,Ae=Zt===void 0?cz:Zt,Or=e.canvasRef,Yt=XI(r,n,i),st=Yt.margin,Le=Yt.innerWidth,Wt=Yt.innerHeight,ur=Yt.outerWidth,Dt=Yt.outerHeight,Ot=cn(),Jt=I.useState(null),br=Jt[0],Pt=Jt[1],xe=rye({data:a,xScale:u,xFormat:d,yScale:f,yFormat:y,width:Le,height:Wt,colors:S,curve:v,areaBaselineValue:T,pointColor:U,pointBorderColor:le}),Te=xe.lineGenerator,ut=xe.areaGenerator,be=xe.series,Fe=xe.xScale,ct=xe.yScale,yt=xe.points,qt=Qme({points:yt,width:Le,height:Wt,debug:Ht}),cr=qt.delaunay,pt=qt.voronoi;I.useEffect(function(){Or&&(Or.current=t.current),t.current.width=ur*o,t.current.height=Dt*o;var Re=t.current.getContext("2d");Re.scale(o,o),Re.fillStyle=Ot.background,Re.fillRect(0,0,ur,Dt),Re.translate(st.left,st.top),_.forEach(function(G){if(typeof G=="function"&&G({ctx:Re,innerWidth:Le,innerHeight:Wt,series:be,points:yt,xScale:Fe,yScale:ct,lineWidth:C,lineGenerator:Te,areaGenerator:ut,currentPoint:br,setCurrentPoint:Pt}),G==="grid"&&Ot.grid.line.strokeWidth>0&&(Re.lineWidth=Ot.grid.line.strokeWidth,Re.strokeStyle=Ot.grid.line.stroke,Ue&&$C(Re,{width:Le,height:Wt,scale:Fe,axis:"x",values:fe}),se&&$C(Re,{width:Le,height:Wt,scale:ct,axis:"y",values:we})),G==="axes"&&kme(Re,{xScale:Fe,yScale:ct,width:Le,height:Wt,top:de,right:Y,bottom:oe,left:$e,theme:Ot}),G==="areas"&&E===!0){Re.save(),Re.globalAlpha=O,ut.context(Re);for(var je=be.length-1;je>=0;je--)Re.fillStyle=be[je].color,Re.beginPath(),ut(be[je].data.map(function(mt){return mt.position})),Re.fill();Re.restore()}if(G==="lines"&&(Te.context(Re),be.forEach(function(mt){Re.strokeStyle=mt.color,Re.lineWidth=C,Re.beginPath(),Te(mt.data.map(function(Kt){return Kt.position})),Re.stroke()})),G==="points"&&N===!0&&z>0&&yt.forEach(function(mt){Re.fillStyle=mt.color,Re.beginPath(),Re.arc(mt.x,mt.y,z/2,0,2*Math.PI),Re.fill(),D>0&&(Re.strokeStyle=mt.borderColor,Re.lineWidth=D,Re.stroke())}),G==="mesh"&&Ht===!0&&(v0t(Re,pt),br&&b0t(Re,pt,br.index)),G==="legends"){var Mt=be.map(function(mt){return{id:mt.id,label:mt.id,color:mt.color}}).reverse();dt.forEach(function(mt){Wme(Re,Ls({},mt,{data:mt.data||Mt,containerWidth:Le,containerHeight:Wt,theme:Ot}))})}})},[t,ur,Dt,_,Ot,Te,be,Fe,ct,Ue,fe,se,we,de,Y,oe,$e,dt,yt,N,z,br]);var Pr=I.useCallback(function(Re){var G=Yw(t.current,Re),je=G[0],Mt=G[1];if(!hme(st.left,st.top,Le,Wt,je,Mt))return null;var mt=cr.find(je-st.left,Mt-st.top);return yt[mt]},[t,st,Le,Wt,cr]),Wr=Dv(),qr=Wr.showTooltipFromEvent,Cn=Wr.hideTooltip,Qn=I.useCallback(function(Re){var G=Pr(Re);Pt(G),G?qr(I.createElement(Ae,{point:G}),Re):Cn()},[Pr,Pt,qr,Cn,Ae]),gs=I.useCallback(function(Re){Cn(),Pt(null),br&&Tt&&Tt(br,Re)},[Cn,Pt,Tt]),ei=I.useCallback(function(Re){if(Lt){var G=Pr(Re);G&&Lt(G,Re)}},[Pr,Lt]);return w.jsx("canvas",{ref:t,width:ur*o,height:Dt*o,style:{width:ur,height:Dt,cursor:Ye?"auto":"normal"},onMouseEnter:Ye?Qn:void 0,onMouseMove:Ye?Qn:void 0,onMouseLeave:Ye?gs:void 0,onClick:Ye?ei:void 0})}),R0t=I.forwardRef(function(e,t){return w.jsx(A0t,Ls({},e,{canvasRef:t}))});I.forwardRef(function(e,t){return w.jsx(fS,{children:function(r){var n=r.width,i=r.height;return w.jsx(R0t,Ls({width:n,height:i},e,{ref:t}))}})});const pr=Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"})),L0t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999,bgcolor:"rgb(26,26,30)",color:"white",justifyContent:"center",display:"flex"},j0t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999,bgcolor:"rgb(240,240,240)",color:"black",justifyContent:"center",display:"flex"};function N0t(){var ce;const{viewObj:e,setViewObj:t,token:r,apiUrl:n,checked:i,setAoi:s,loading:o,setLoading:a}=I.useContext(Ga);I.useState(!1);const[l,u]=I.useState([]),[d,h]=I.useState([]),[f,y]=I.useState(null),[g,v]=I.useState(null),[b,_]=I.useState([]),[x,S]=I.useState(null),[$,C]=I.useState(null),[k,E]=I.useState(null),[P,T]=I.useState([]),[M,O]=I.useState([]),[j,N]=to.useState(0),L=b.length,[z,B]=to.useState(0),U=P.length;I.useEffect(()=>{if(b.length>0){let oe=b[j].species,X=Object.keys(oe).map($e=>({name:$e,species:oe[$e].species,image:oe[$e].image,iucn:oe[$e].iucn}));O(X)}},[b,j]);const F=()=>{N(oe=>oe+1)},D=oe=>{B(oe)},K=()=>{N(oe=>oe-1)},le=()=>{B(oe=>oe+1)},he=()=>{B(oe=>oe-1)},Ue=I.useRef(null);let[fe,Ge]=I.useState(!1),[se,we]=I.useState(!1);const de=()=>Ge(!1),Y=()=>we(!1);return I.useEffect(()=>{if(Ue.current&&r){const X=new poe({basemap:"gray"}),$e=new fde({url:"https://data-gis.unep-wcmc.org/server/rest/services/ProtectedSites/The_World_Database_of_Protected_Areas/MapServer/1",title:"Protected Planet",definitionExpression:"iso3 in ('PHL','IDN', 'IND')"}),Pe=new Bj({url:"https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms",title:"Geoportal PH",sublayers:[{name:"geoportal:nipas_20221027",title:"National Integrated Protected Area System"}]}),dt=new Bj({url:"https://geo.ejatlas.org/geoserver/wms",title:"Geoportal IN",sublayers:[{name:"geonode:Protected_Area_India_Final",title:"National Park and Wildlife Sanctuary India"}]}),We=new Jde({id:"groupLayer",title:"Protected Area Polygons",visible:!1,layers:[dt,Pe,$e]});X.add(We);let Ye=new xGe({title:"Area of Interest",listMode:"hide"});X.add(Ye);const ot=new _Fe({container:Ue.current,map:X,zoom:2,center:[78,34],constraints:{minZoom:2},popup:{defaultPopupTemplateEnabled:!0,dockEnabled:!0,autoOpenEnabled:!0,dockOptions:{breakpoint:!1,position:"top-right"}}});ot.when(()=>{t(ot)});let Ht=new WUe({view:ot});ot.ui.add(Ht,"top-left");let Tt=new bGe({view:ot}),Lt=new _Ge({view:ot});ot.ui.add(Lt,"top-right"),document.addEventListener("fullscreenchange",function(){});const Zt=new UH({view:ot,content:Tt,expandTooltip:"Basemap Gallery"});ot.ui.add(Zt,"top-left");var oe=document.createElement("div");oe.className="esri-icon-dashboard esri-widget--button esri-widget esri-interactive",oe.title="Charts and Graphs",oe.addEventListener("click",async st=>{a(!0);let Le=Ye.graphics._items[0].geometry.rings,ur=await(await fetch(n+"/open-api/get_landtype_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})})).json(),Dt=Object.keys(ur).map(pt=>({species:pt,density:ur[pt].toFixed(2)}));u(Dt);let Jt=await(await fetch(n+"/open-api/get_landtype_area",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})})).json();console.log(Jt);let br=Object.keys(Jt).map(pt=>({species:pt,area:Jt[pt].toFixed(2)}));h(br);let Te=(await(await fetch(n+"/open-api/get_esa_image",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})})).json()).image;y(Te);let be=await(await fetch(n+"/open-api/get-bird-biodiversity",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})})).json();v(be);let Fe=Object.keys(be.taxonomy.Birds).map(pt=>({name:pt,speciesCount:be.taxonomy.Birds[pt].speciesCount,image:be.taxonomy.Birds[pt].image,species:be.taxonomy.Birds[pt].species,endangeredCount:be.taxonomy.Birds[pt].endangeredCount}));_(Fe);let ct=await fetch(n+"/open-api/get-soil",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})});try{let pt=await ct.json();S(pt)}catch{}let yt=await fetch(n+"/open-api/get-risk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})});try{let pt=await yt.json();C(pt)}catch{}let qt=await fetch(n+"/open-api/get-forest-loss",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})});try{let pt=await qt.json();if(pt.groups.length>0){let Pr=[{id:"Forest Lost",color:"hsl(109, 70%, 50%)",data:pt.groups.map(Wr=>({x:Wr.year,y:Wr.sum}))}];E(Pr)}}catch{}let cr=await fetch(n+"/open-api/get-forest-loss-timelapse",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({polygonMatrix:[Le]})});try{let pt=await cr.json();if(Object.keys(pt).length>0){let Pr=Object.keys(pt).map(Wr=>({label:Wr,imgPath:pt[Wr]}));T(Pr)}}catch{}we(!0),a(!1)}),ot.ui.add(oe,"top-left");let Ae=document.createElement("input");Ae.type="file",Ae.accept=".geojson",Ae.id="file-input",Ae.name="files[]",Ae.addEventListener("change",async st=>{const Le=st.target.files[0];if(Le&&Le.name.endsWith(".geojson")){const Wt=new FileReader;Wt.onload=async ur=>{Ye.removeAll();const Dt=JSON.parse(ur.target.result),Ot=Dt.type,Jt=Dt.coordinates;let br;Ot==="Point"?br={type:"point",longitude:Jt[0],latitude:Jt[1]}:Ot==="Polygon"&&(br=new Va({rings:Jt[0],spatialReference:{wkid:4326}})),s(br);const Pt=new Uo({geometry:br,symbol:{type:"simple-fill",color:[19,135,8,.2],outline:{color:"white",width:1}}});ot.goTo(Pt.geometry);async function xe(){const yt=$e.createQuery();return yt.geometry=Pt.geometry,yt.spatialRelationship="intersects",yt.returnGeometry=!0,(await $e.queryFeatures(yt)).features.length>0}async function Te(){const yt=Lu(Pt.geometry),{xmin:qt,ymin:cr,xmax:pt,ymax:Pr,spatialReference:{wkid:Wr}}=yt.extent,qr={minx:qt,miny:cr,maxx:pt,maxy:Pr},je=`https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms?service=WMS&request=GetMap&layers=geoportal:nipas_20221027&bbox=${qr.minx},${qr.miny},${qr.maxx},${qr.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,mt=await(await fetch(je)).blob();return new Promise((Kt,_e)=>{const Vs=URL.createObjectURL(mt),Me=document.createElement("img");Me.src=Vs,Me.onload=()=>{const De=document.createElement("canvas"),jt=De.getContext("2d");De.width=Me.width,De.height=Me.height,jt.drawImage(Me,0,0);const Ar=jt.getImageData(0,0,De.width,De.height).data.filter(Ie=>Ie!=0).length>0;Kt(Ar)}})}async function ut(){const yt=Lu(Pt.geometry),{xmin:qt,ymin:cr,xmax:pt,ymax:Pr,spatialReference:{wkid:Wr}}=yt.extent,qr={minx:qt,miny:cr,maxx:pt,maxy:Pr},je=`https://geo.ejatlas.org/geoserver/wms?service=WMS&request=GetMap&layers=geonode:Protected_Area_India_Final&bbox=${qr.minx},${qr.miny},${qr.maxx},${qr.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,mt=await(await fetch(je)).blob();return new Promise((Kt,_e)=>{const Vs=URL.createObjectURL(mt),Me=document.createElement("img");Me.src=Vs,Me.onload=()=>{const De=document.createElement("canvas"),jt=De.getContext("2d");De.width=Me.width,De.height=Me.height,jt.drawImage(Me,0,0);const Ar=jt.getImageData(0,0,De.width,De.height).data.filter(Ie=>Ie!=0).length>0;Kt(Ar)}})}const be=xe(),Fe=Te(),ct=ut();try{(await Promise.all([be,Fe,ct])).includes(!0)&&Ge(!0)}catch(yt){console.error("Error:",yt)}Ye.add(Pt)},Wt.readAsText(Le)}else alert("Please upload a valid GeoJSON file.")});let Or=new UH({expandIcon:"map",view:ot,content:Ae,expandTooltip:"Upload AOI"});ot.ui.add(Or,"top-left");const Yt=new RWe({view:ot,includeDefaultSources:!1,locationEnabled:!1});ot.ui.add(Yt,"bottom-right")}},[Ue,r,n]),w.jsxs(w.Fragment,{children:[w.jsx("div",{id:"mapDiv",ref:Ue,style:{display:i?"none":"",height:"75vh"}}),w.jsx(iA,{open:fe,onClose:de,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:9999},children:w.jsx(Ln,{sx:L0t,children:w.jsx("div",{style:{height:"100px",zIndex:9999,overflowY:"scroll"},id:"modelWidget",children:"The uploaded polygon intersects with a Protected Area"})})}),w.jsx(iA,{open:se,onClose:Y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:9999},children:w.jsx(Ln,{sx:j0t,children:w.jsxs("div",{style:{height:"600px",width:"90vw",zIndex:9999,overflowY:"scroll"},id:"modelWidget",children:[w.jsx(Ke,{variant:"h4",children:"Density of Biomass"}),w.jsx(Ke,{variant:"subtitle",children:"Value of each land type (per hectare)"}),w.jsx(R0,{data:l,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Density (Mg/ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}}),w.jsx(Ke,{variant:"h4",children:"Landtype Area"}),w.jsx(Ke,{variant:"subtitle",children:"Area of each land type (in hectare)"}),w.jsx(R0,{data:d,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}}),w.jsx(Ke,{variant:"h4",children:"ESA Image"}),f&&w.jsx("img",{style:{display:"block",margin:"auto"},src:f}),g&&w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Biodiversity"}),w.jsx(Ke,{variant:"subtitle",children:"Details of bird species in the area"}),w.jsx(Ln,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"rgb(240,240,240)",marginTop:"5px",width:"95%",position:"relative"},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsx(Ke,{variant:"h6",children:"Endangered Count"})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),w.jsx("span",{children:g.endangeredCount.NOT_EVALUATED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),w.jsx("span",{children:g.endangeredCount.DATA_DEFICIENT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),w.jsx("span",{children:g.endangeredCount.LEAST_CONCERN})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),w.jsx("span",{children:g.endangeredCount.NEAR_THREATENED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),w.jsx("span",{children:g.endangeredCount.VULNERABLE})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),w.jsx("span",{children:g.endangeredCount.ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),w.jsx("span",{children:g.endangeredCount.CRITICALLY_ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),w.jsx("span",{children:g.endangeredCount.EXTINCT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),w.jsx("span",{children:g.endangeredCount.EXTINCT_IN_THE_WILD})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsx(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:w.jsx(Ke,{variant:"h6",children:"Taxonomy"})})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Total Species"}),w.jsx("span",{children:g.speciesCount})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsxs(Ln,{sx:{flexGrow:1},children:[w.jsx(Bi,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"rgba(0,0,0,0)"},children:w.jsx(Ke,{style:{color:"green",backgroundColor:"rgba(0,0,0,0)"},children:b[j].name})}),w.jsx(Ln,{sx:{width:"100%",p:2},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx(Ke,{variant:"h6",children:"Species Count"}),w.jsx(Ke,{variant:"h6",children:b[j].speciesCount})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsx("img",{style:{display:"block",margin:"auto",width:"300px"},src:b[j].image})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Species"}),w.jsx(at,{direction:"row",spacing:1,style:{height:"100%"},useFlexGap:!0,flexWrap:"wrap",children:M.map(oe=>w.jsxs(w.Fragment,{children:[w.jsxs("span",{children:[oe.name," (",oe.iucn,")"]}),w.jsx("span",{children:"|"})]}))})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsx(Ke,{variant:"h6",children:"Endangered Count"})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),w.jsx("span",{children:b[j].endangeredCount.NOT_EVALUATED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),w.jsx("span",{children:b[j].endangeredCount.DATA_DEFICIENT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),w.jsx("span",{children:b[j].endangeredCount.LEAST_CONCERN})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),w.jsx("span",{children:b[j].endangeredCount.NEAR_THREATENED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),w.jsx("span",{children:b[j].endangeredCount.VULNERABLE})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),w.jsx("span",{children:b[j].endangeredCount.ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),w.jsx("span",{children:b[j].endangeredCount.CRITICALLY_ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),w.jsx("span",{children:b[j].endangeredCount.EXTINCT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),w.jsx("span",{children:b[j].endangeredCount.EXTINCT_IN_THE_WILD})]})})})]})}),w.jsx(rC,{variant:"text",steps:L,position:"static",activeStep:j,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:w.jsxs(zp,{size:"small",onClick:F,disabled:j===L-1,children:["Next",w.jsx(Lj,{})]}),backButton:w.jsxs(zp,{size:"small",onClick:K,disabled:j===0,children:[w.jsx(Rj,{}),"Back"]})})]})})})]})})]}),x&&w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Soil"}),w.jsx(Ke,{variant:"subtitle",children:"Area of each soil type (in hectare)"}),w.jsx("img",{style:{display:"block",margin:"auto",width:"400px"},src:x.image}),w.jsx(R0,{data:x.soilClasses,keys:["areaHa"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#61cdbb"],defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"areaHa"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Soil Type",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}),$&&w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Risks"}),w.jsx(Ke,{variant:"subtitle",children:"Natural Hazards in the Area"}),w.jsx(Ln,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"rgb(240,240,240)",marginTop:"5px",width:"95%",position:"relative"},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsxs(ke,{item:!0,xs:12,children:[w.jsxs(pr,{children:[w.jsx(Ke,{variant:"h6",children:"Area Image"}),w.jsx("img",{style:{width:"300px",display:"block",margin:"auto"},src:$.gerrymandering.convexHullImage})]}),w.jsxs(pr,{children:[w.jsx(Ke,{variant:"h6",children:"Firms"}),$.firms.risk.map(oe=>w.jsx(ke,{item:!0,xs:12,children:w.jsx(pr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Ha"}),w.jsx("span",{children:oe.burnedHa})]}),w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Percent"}),w.jsx("span",{children:oe.burnedPercent})]}),w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Years Back"}),w.jsx("span",{children:oe.yearsBack})]})]})})}))]})]}),w.jsx(ke,{item:!0,xs:12,children:w.jsxs(pr,{children:[w.jsx(Ke,{variant:"h6",children:"Historical"}),Object.keys($.historical).map(oe=>w.jsx(ke,{item:!0,xs:12,children:w.jsxs(pr,{children:[w.jsx(Ke,{children:oe}),w.jsxs(at,{direction:"row",spacing:1,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Events"}),w.jsx("span",{children:$.historical[oe].paEvents})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Average Overlap"}),w.jsxs("span",{children:[$.historical[oe].paAvgOverlap.toFixed(2)," ","ha"]})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Max Overlap"}),w.jsxs("span",{children:[$.historical[oe].paMaxOverlap.toFixed(2)," ","ha"]})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Events in 50 km buffer"}),w.jsx("span",{children:$.historical[oe].buffer50kmEvents})]})]})]})}))]})})]})})]}),k&&w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Forest Loss"}),w.jsx(Ke,{variant:"subtitle",children:"Forest loss over the years (in ha)"}),w.jsx(nye,{data:k,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Year",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0})]}),P.length>0&&w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Forest Loss Timelapse"}),w.jsx(Ke,{variant:"subtitle",children:"Forest loss visualization over the years"}),w.jsxs(Ln,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[w.jsx(Bi,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:w.jsxs(Ke,{variant:"h6",children:["Year ",(ce=P[z])==null?void 0:ce.label]})}),w.jsx(rpe,{axis:"x",index:z,onChangeIndex:D,enableMouseEvents:!0,children:P.map((oe,X)=>w.jsx("div",{children:w.jsx(Ln,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:oe.imgPath,alt:oe.label})},oe.label))}),w.jsx(rC,{variant:"text",steps:U,position:"static",activeStep:z,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:w.jsxs(zp,{size:"small",onClick:le,disabled:z===U-1,children:["Next",w.jsx(Lj,{})]}),backButton:w.jsxs(zp,{size:"small",onClick:he,disabled:z===0,children:[w.jsx(Rj,{}),"Back"]})})]})]})]})})})]})}var dz={},F0t=DD;Object.defineProperty(dz,"__esModule",{value:!0});var yp=dz.default=void 0,D0t=F0t(zD()),z0t=w;yp=dz.default=(0,D0t.default)((0,z0t.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function uK(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function V0t(e){return e?{backgroundImage:`url(${e})`}:{}}function I$t({action:e,feature:t}){const r=t==null?void 0:t.attributes,n="image"in e?e.image:void 0;return n&&r?eF(n,r):n??""}const ca="esri-layer-list",sl=`${ca}__item`,$r={base:ca,actionMenu:`${ca}__action-menu`,actionGroup:`${ca}__action-group`,filterNoResults:`${ca}__filter-no-results`,item:sl,itemActive:`${sl}--active`,itemContent:`${sl}-content`,itemContentBottom:`${sl}-content-bottom`,itemMessage:`${sl}-message`,itemInvisible:`${sl}--invisible`,itemActionIcon:`${sl}-action-icon`,itemActionImage:`${sl}-action-image`,itemTemporaryIcon:`${sl}-temporary-icon`,itemTableIcon:`${sl}-table-icon`,itemCatalogIcon:`${sl}-catalog-icon`,statusIndicator:`${ca}__status-indicator`,publishing:`${ca}__publishing`,updating:`${ca}__updating`,connectionStatus:`${ca}__connection-status`,connectionStatusConnected:`${ca}__connection-status--connected`,visibleToggle:`${ca}__visible-toggle`,visibleIcon:`${ca}__visible-icon`};var A8;let gp=A8=class extends Wx{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new A8({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};c([p()],gp.prototype,"displayValueEnabled",void 0),c([p()],gp.prototype,"max",void 0),c([p()],gp.prototype,"min",void 0),c([p()],gp.prototype,"step",void 0),c([p()],gp.prototype,"value",void 0),gp=A8=c([R("esri.support.actions.ActionSlider")],gp);const B0t=gp,iye={hide:"hide",hideChildren:"hide-children"},U0t=10,G0t=2;function W0t({exclusive:e,visible:t,visibilityAppearance:r}){const n=r==="checkbox";return t?e?"circle-f":n?"check-square-f":"view-visible":e?"circle":n?"square":"view-hide"}function q0t({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function H0t(e){return(e==null?void 0:e.listMode)===iye.hideChildren}function CC(e){return(e==null?void 0:e.listMode)??void 0}function Z0t(e){if(!e)return"inherited";const t=X0t(pz(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function sye(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function Y0t(e){const t=(e!=null&&e.layer&&pz(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(Q0t(t)??!0)}function J0t(e){return CC(e)!==iye.hide}function oye(e,t){e==null||e.sort((r,n)=>{const i="uid"in r?t.indexOf(r.uid):-1,s="uid"in n?t.indexOf(n.uid):-1;return i>s?-1:i<s?1:0})}function K0t(e,t){const r=e==null?void 0:e.layer;if(!r)return;const n=sye(r);if(!n)return;let i;n==="layers"&&"layers"in r?i=r.layers:n==="sublayers"&&"sublayers"in r&&(i=r.sublayers),oye(i,t)}function cK(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function pz(e){return e!=null&&"layer"in e&&e.layer!=null}function X0t(e){const t=aye(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function Q0t(e){const t=aye(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function aye(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function ql(e){return e==null?void 0:e["data-item"]}function dK(e){return e==null?void 0:e.getAttribute("data-layer-type")}function evt({children:e,error:t,incompatible:r}){return!!(e!=null&&e.filter(n=>!n.hidden).length)&&!t&&!r}let Ai=class extends yd(Ya){constructor(t,r){super(t,r),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([Se(()=>this._canCreateLegend,()=>this._createLegend(),Cr),Se(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),Cr)])}destroy(){this._legend=jr(this._legend)}get _canCreateLegend(){const{content:t,listItem:r}=this;if(!r)return!1;const n="legend";return t===n||t!=null&&!!Array.isArray(t)&&t.includes(n)}get _legendOptions(){const{listItem:t,_legendLayerInfo:r}=this,n=t==null?void 0:t.view;return r&&n?{view:n,layerInfos:[r]}:{}}get _legendLayerInfo(){var o;const t=(o=this.listItem)==null?void 0:o.layer;if(!t||t.type==="subtype-sublayer")return null;const r=pz(t)?t:null,n=t==null?void 0:t.parent,i=n!=null&&"type"in n&&n.type==="map-image"?r==null?void 0:r.source:null,s="";return i&&n?{layer:n,title:s,sublayerIds:[i.mapLayerId]}:{layer:t,title:s}}get disabled(){var i;const{listItem:t,_legend:r,content:n}=this;return!t||!(Array.isArray(n)&&n.length>1)&&!!r&&(!((i=r.activeLayerInfos)!=null&&i.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,r=this._getFirstWidget();return this._get("icon")??(!t&&r?r.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return ee("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:r,disabled:n,open:i}=this;return t&&!n&&i?t==="legend"&&r?ee("div",{key:"legend-widget"},r.render()):typeof t=="string"?ee("div",{innerHTML:t,key:t}):Gw(t)?ee("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?ee("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:r}=this;return r?Array.isArray(t)?t.map(n=>this._renderContent(n)):this._renderContent(t):null}async _createLegend(){if(jr(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await Q(()=>import("./Legend-DUw0KgB2.js"),__vite__mapDeps([296,172,140,193,167,168,95,63,119,118,2,120,121]),import.meta.url),r=new t(this._legendOptions);this._legend=r}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:Gw(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(r=>this._getWidget(r)).find(r=>r):this._getWidget(t)}};c([p()],Ai.prototype,"_legend",void 0),c([p()],Ai.prototype,"_canCreateLegend",null),c([p()],Ai.prototype,"_legendOptions",null),c([p()],Ai.prototype,"_legendLayerInfo",null),c([p()],Ai.prototype,"className",void 0),c([p()],Ai.prototype,"content",void 0),c([p()],Ai.prototype,"disabled",null),c([p()],Ai.prototype,"flowEnabled",void 0),c([p()],Ai.prototype,"icon",null),c([p()],Ai.prototype,"image",void 0),c([p()],Ai.prototype,"listItem",void 0),c([p()],Ai.prototype,"open",void 0),c([p()],Ai.prototype,"title",null),c([p()],Ai.prototype,"visible",void 0),Ai=c([R("esri.widgets.LayerList.ListItemPanel")],Ai);const lye=Ai;var aw;const tvt=Ce.ofType({key:"type",defaultKeyValue:"button",base:Wx,typeMap:{button:joe,toggle:Noe,slider:B0t}}),uye=Ce.ofType(tvt),QP="layer",y$="child-list-mode",rvt="hide";let Mr=aw=class extends yd(Be){constructor(e){super(e),this.actionsSections=new uye,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(Ce.ofType(aw)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([Se(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),Cr),Se(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),Cr),Se(()=>this.view,e=>this._updateChildrenView(e),Cr),Se(()=>this.panel,e=>this._setListItemOnPanel(e),Cr)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const r=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(n=>n.layer===r)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new lye(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=ks(this,"layer.layer");return(!e||e&&ks(this,"layer.layer.loaded"))&&ks(this,"layer.title")||ks(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var r;const{layer:e,checkPublishStatusEnabled:t}=this;return t&&e&&"publishingInfo"in e&&((r=e.publishingInfo)==null?void 0:r.status)==="publishing"}get updating(){const{layerView:e,connectionStatus:t,layer:r,publishing:n}=this;return!n&&!t&&(e?e.updating:(r==null?void 0:r.loadStatus)==="loading"||!1)}get visible(){var e;return(e=this.layer)==null?void 0:e.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!0}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return Z0t(this.layer)}clone(){return new aw({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){const t=this.children;t&&t.forEach(r=>r.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(r=>r.view=e)}_createChildren(e){const{listModeDisabled:t,children:r}=this,n=e.filter(i=>!r.some(s=>s.layer===i));r.addMany(this._createChildItems(n,t))}_destroyChildren(e){const{children:t}=this,r=t.filter(n=>!e.includes(n.layer));t.destroyMany(r)}_sortChildren(e){this.children.sort((t,r)=>e.indexOf(r.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(y$),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(y$),this.listModeDisabled||this.addHandles(e.toArray().map(t=>Se(()=>t.listMode,()=>this._compileChildren(e))),y$)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(r=>CC(r)!==rvt);t!=null&&t.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),QP)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.map(r=>t||J0t(r)?new aw({layer:r,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(zi).reverse()}_watchLayerProperties(e){if(this.removeHandles(QP),this.removeHandles(y$),!e)return;if((!this.listModeDisabled&&CC(e))==="hide-children")return void this.children.destroyAll();const t=sye(e);t&&this.addHandles(Se(()=>e[t],r=>{e.hasOwnProperty(t)&&this._initializeChildLayers(r)},Cr),QP)}};c([p({type:uye})],Mr.prototype,"actionsSections",void 0),c([p()],Mr.prototype,"actionsOpen",void 0),c([p()],Mr.prototype,"checkPublishStatusEnabled",void 0),c([p({type:Ce})],Mr.prototype,"children",void 0),c([p()],Mr.prototype,"childrenSortable",void 0),c([p({readOnly:!0})],Mr.prototype,"connectionStatus",null),c([p({readOnly:!0})],Mr.prototype,"error",null),c([p()],Mr.prototype,"hidden",void 0),c([p({readOnly:!0})],Mr.prototype,"incompatible",null),c([p()],Mr.prototype,"layer",void 0),c([p({readOnly:!0})],Mr.prototype,"layerView",null),c([p()],Mr.prototype,"listItemCreatedFunction",void 0),c([p({nonNullable:!0})],Mr.prototype,"listModeDisabled",void 0),c([p()],Mr.prototype,"open",void 0),c([p({type:lye})],Mr.prototype,"panel",void 0),c([tr("panel")],Mr.prototype,"castPanel",null),c([p()],Mr.prototype,"parent",void 0),c([p({value:!0})],Mr.prototype,"sortable",null),c([p()],Mr.prototype,"title",null),c([p({readOnly:!0})],Mr.prototype,"publishing",null),c([p({readOnly:!0})],Mr.prototype,"updating",null),c([p()],Mr.prototype,"view",void 0),c([p()],Mr.prototype,"visible",null),c([p({readOnly:!0})],Mr.prototype,"visibleAtCurrentScale",null),c([p({readOnly:!0})],Mr.prototype,"visibleAtCurrentTimeExtent",null),c([p({readOnly:!0})],Mr.prototype,"visibilityMode",null),Mr=aw=c([R("esri.widgets.LayerList.ListItem")],Mr);const hz=Mr,ol={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},nvt="hide",cye=Ce.ofType(hz);let hu=class extends Za.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new cye,this.view=null}initialize(){this.addHandles([Se(()=>{var e;return((e=this.view)==null?void 0:e.ready)===!0},()=>this._viewHandles(),Cr),Se(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList())],ol.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e!=null&&e.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(e=>e.children).length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,r,n){var f,y;const i=e==null?void 0:e.layer;if(!i||i.type==="subtype-sublayer"||i.type==="sublayer")return;const s=(y=(f=this.view)==null?void 0:f.map)==null?void 0:y.layers,o=t?cK(t):s,a=r?cK(r):s;if(!o||!a)return;const{operationalItems:l}=this,u=(t==null?void 0:t.children)||l,d=(r==null?void 0:r.children)||l,h=a.length-n;e.parent=r||null,u.remove(e),o.remove(i),d.includes(e)||d.add(e,h),a.includes(i)||a.add(i,h),this._compileList()}_createLayerViewHandles(e){this.removeHandles(ol.layerViews),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),ol.layerViews)}_createMapLayerHandles(e){this.removeHandles(ol.mapLayers),this._compileList(),e&&this.addHandles(e.on("change",()=>this._compileList()),ol.mapLayers)}_createListItem(e){const{view:t,listItemCreatedFunction:r,checkPublishStatusEnabled:n,listModeDisabled:i}=this;return new hz({checkPublishStatusEnabled:n,listModeDisabled:i,layer:e,listItemCreatedFunction:r,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter(t=>CC(t)!==nvt):void 0}_watchLayersListMode(e){this.removeHandles(ol.layerListMode),e&&!this.listModeDisabled&&this.addHandles(Se(()=>e.filter(t=>"listMode"in t).map(t=>t.listMode).toArray(),()=>this._compileList()),ol.layerListMode)}_compileList(){var r,n;const e=(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.layers;this._watchLayersListMode(e);const t=this._getViewableLayers(e);t!=null&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach(r=>{t.some(n=>n.layer===r)||t.add(this._createListItem(r))})}_removeItems(e){const{operationalItems:t}=this,r=[];t.forEach(n=>{n&&e&&e.includes(n.layer)||r.push(n)}),t.destroyMany(r)}_sortItems(e){const{operationalItems:t}=this;t.sort((r,n)=>{const i=e.indexOf(r.layer),s=e.indexOf(n.layer);return i>s?-1:i<s?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([ol.mapLayers,ol.layerViews,ol.viewLayers]),e!=null&&e.ready?this.addHandles([Se(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},t=>this._createMapLayerHandles(t),Cr),Se(()=>{var t;return(t=this.view)==null?void 0:t.allLayerViews},t=>this._createLayerViewHandles(t),Cr)],ol.viewLayers):this._removeAllItems()}};c([p()],hu.prototype,"checkPublishStatusEnabled",void 0),c([p()],hu.prototype,"listItemCreatedFunction",void 0),c([p({nonNullable:!0})],hu.prototype,"listModeDisabled",void 0),c([p({type:cye})],hu.prototype,"operationalItems",void 0),c([p({readOnly:!0})],hu.prototype,"state",null),c([p()],hu.prototype,"totalItems",null),c([p()],hu.prototype,"view",void 0),hu=c([R("esri.widgets.LayerList.LayerListViewModel")],hu);const dye=hu;let da=class extends Be{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};c([p({type:Boolean,nonNullable:!0})],da.prototype,"catalogLayerList",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"closeButton",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"collapseButton",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"errors",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"filter",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"flow",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"heading",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"statusIndicators",void 0),c([p({type:Boolean,nonNullable:!0})],da.prototype,"temporaryLayerIndicators",void 0),da=c([R("esri.widgets.LayerList.LayerListVisibleElements")],da);const pye=da,ivt=Ce.ofType(hz);let Et=class extends yd(Ya){constructor(e,t){super(e,t),this._activeItem=null,this._tooltipReferenceMap=new Fw,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusTableListFlowItem=!1,this._focusCatalogFlowItem=!1,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=G0t,this.minFilterItems=U0t,this.openCatalogItem=null,this.openTableListItem=null,this.selectedItems=new ivt,this.selectionMode="none",this.tableList=null,this.viewModel=new dye,this.visibilityAppearance="default",this.visibleElements=new pye,this._canMove=({dragEl:r,fromEl:n,toEl:i},s)=>{var $,C,k;const o=s==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,a=ql(r);if(!(a!=null&&a.sortable))return!1;const l=ql(n),u=dK(n),d=ql(i),h=dK(i),f=!!u&&!!h&&u===h,y={selected:a,from:l,to:d},g=n.group,v=i.group,b=(($=l==null?void 0:l.layer)==null?void 0:$.type)??"",_=((C=d==null?void 0:d.layer)==null?void 0:C.type)??"",x=new Set(["map-image","catalog","knowledge-graph"]);return g&&v&&typeof o=="function"?o.call(null,y):f&&!x.has(b)&&!x.has(_)&&((k=a==null?void 0:a.layer)==null?void 0:k.type)!=="sublayer"},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=r=>{if(this.visibilityAppearance!=="default")return;const n=Array.from(r.composedPath()).find(i=>{var s;return(s=i.classList)==null?void 0:s.contains($r.item)});this._activeItem=ql(n)},this._onCalciteListOrderChange=r=>{const{_lastDragDetail:n}=this,{toEl:i,fromEl:s,dragEl:o,newIndex:a}=r;if(s&&i&&!((n==null?void 0:n.newIndex)===a&&(n==null?void 0:n.dragEl)===o&&(n==null?void 0:n.toEl)===i&&(n==null?void 0:n.fromEl)===s))if(this._lastDragDetail=r,s!==i)this._moveLayerFromChildList({toEl:i,fromEl:s,dragEl:o,newIndex:a});else{const l=Array.from(s.children).filter(u=>u==null?void 0:u.matches("calcite-list-item")).map(u=>u.value);this._sortLayers(s,l)}}}initialize(){this.addHandles([Se(()=>this.openCatalogItem,e=>e?this._createCatalog():this._destroyCatalog()),Se(()=>this.openTableListItem,e=>e?this._createTableList():this._destroyTableList())])}loadDependencies(){return jh({action:()=>Q(()=>import("./calcite-action-pC2G6ZNI.js"),__vite__mapDeps([297,242,210,211,214,215,216,213,217,218,219]),import.meta.url),"action-group":()=>Q(()=>import("./calcite-action-group-UNxJSHQR.js"),__vite__mapDeps([298,299,300,216,214,215,210,217,241,242,211,213,218,219,243,244,245,246,247]),import.meta.url),"action-menu":()=>Q(()=>import("./calcite-action-menu-DWIJRP_d.js"),__vite__mapDeps([301,241,210,215,216,214,242,211,213,217,218,219,243,244,245,246,247]),import.meta.url),button:()=>Q(()=>import("./calcite-button-v1Y6CU6F.js"),__vite__mapDeps([208,209,210,211,212,213,214,215,216,217,218,219]),import.meta.url),flow:()=>Q(()=>import("./calcite-flow-DkYIkaxH.js"),__vite__mapDeps([302,216,214]),import.meta.url),"flow-item":()=>Q(()=>import("./calcite-flow-item-qdHM_6dn.js"),__vite__mapDeps([303,210,211,214,215,216,217,240,241,242,213,218,219,243,244,245,246,247,237]),import.meta.url),icon:()=>Q(()=>import("./calcite-icon-DyBoIbok.js"),__vite__mapDeps([220,218,210,216]),import.meta.url),list:()=>Q(()=>import("./calcite-list-DBRZQOXN.js"),__vite__mapDeps([304,210,211,216,305,306,214,217,215,245,218,307,209,212,213,219,237]),import.meta.url),"list-item":()=>Q(()=>import("./calcite-list-item-Ct-805ss.js"),__vite__mapDeps([308,210,211,215,216,217,214,306,305,242,213,218,219]),import.meta.url),notice:()=>Q(()=>import("./calcite-notice-YTgQbPe6.js"),__vite__mapDeps([309,300,216,210,214,215,217,247,213,218]),import.meta.url),tooltip:()=>Q(()=>import("./calcite-tooltip-B9x_7Gwx.js"),__vite__mapDeps([310,210,244,245,247]),import.meta.url)})}destroy(){this._destroyTableList(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(e=>e.children.filter(t=>t.layer.type!=="catalog-dynamic-group")).length}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get icon(){return"layers"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get multipleSelectionEnabled(){return sb(ie.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode==="multiple"}set multipleSelectionEnabled(e){sb(ie.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=e?"multiple":this.selectionEnabled?"single":"none"}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get selectionEnabled(){return sb(ie.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.selectionMode!=="none"&&this.dragEnabled}set selectionEnabled(e){sb(ie.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=e,this.selectionMode=e?this.multipleSelectionEnabled?"multiple":"single":"none"}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){var n,i;const e=(n=this.viewModel)==null?void 0:n.state,t={[lt.hidden]:e==="loading",[lt.disabled]:e==="disabled"},r=(i=this.operationalItems)==null?void 0:i.filter(s=>!s.hidden&&(this.visibleElements.errors||!s.error));return ee("div",{class:this.classes($r.base,lt.widget,lt.panel,t)},r!=null&&r.length?[this._renderItemTooltips(r),this._renderItems(r)]:this._renderNoItems())}_renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:r}=this;return e?ee("calcite-tooltip",{key:`tooltip-${e.layer.uid}`,referenceElement:t.get(e.layer.uid)},r.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){var t;return e.incompatible?this._renderItemTooltip(e):(t=e.children)==null?void 0:t.filter(r=>!r.hidden).toArray().map(r=>this._renderItemTooltipNodes(r))}_renderItemTooltips(e){return e==null?void 0:e.toArray().map(t=>this._renderItemTooltipNodes(t))}_renderNoItemsMessage(){return ee("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return ee("div",{class:$r.itemMessage,key:"esri-layer-list__no-items"},ee("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}_destroyCatalog(){var e;(e=this.catalogLayerList)==null||e.destroy(),this._set("catalogLayerList",null)}_destroyTableList(){var e;(e=this.tableList)==null||e.destroy(),this._set("tableList",null)}async _createCatalog(){var d;this._destroyCatalog();const{default:e}=await Q(()=>import("./CatalogLayerList-QR5_toMZ.js"),[],import.meta.url),{headingLevel:t,catalogOptions:r,view:n,filterPlaceholder:i,listItemCreatedFunction:s,minFilterItems:o,selectionMode:a,visibilityAppearance:l}=this,u=(d=this.openCatalogItem)==null?void 0:d.layer;this._set("catalogLayerList",new e({headingLevel:t,view:n,filterPlaceholder:i,listItemCreatedFunction:s,minFilterItems:o,selectionMode:a,visibilityAppearance:l,...r,catalogLayer:u}))}_getTableListParams(e){const t=e==null?void 0:e.layer;return(t==null?void 0:t.type)==="knowledge-graph"?{...this.knowledgeGraphOptions,tables:t==null?void 0:t.tables}:null}async _createTableList(){var s;this._destroyTableList();const{default:e}=await Q(()=>import("./TableList-Dga3edME.js"),[],import.meta.url),t=this._getTableListParams(this.openTableListItem);if(!((s=t==null?void 0:t.tables)!=null&&s.length))return;const{headingLevel:r,selectionMode:n,dragEnabled:i}=this;this._set("tableList",new e({headingLevel:r,selectionMode:n,dragEnabled:i,...t}))}_renderCatalogFlowItem(){var n;const{openCatalogItem:e,messages:t}=this;if(!e)return null;const r=this._getLayerTitle(e);return ee("calcite-flow-item",{afterCreate:this._focusCatalogFlowItemNode,afterUpdate:this._focusCatalogFlowItemNode,bind:this,description:r,heading:t.catalogLayers,headingLevel:this.headingLevel,key:`flow-catalog-${e.uid}`,onCalciteFlowItemBack:i=>{i.preventDefault(),this.openCatalogItem=null,this._focusRootFlowItem=!0}},(n=this.catalogLayerList)==null?void 0:n.render())}_renderTableListFlowItem(){var n;const{openTableListItem:e,messages:t}=this;if(!e)return null;const r=this._getLayerTitle(e);return ee("calcite-flow-item",{afterCreate:this._focusTableListFlowItemNode,afterUpdate:this._focusTableListFlowItemNode,bind:this,description:r,heading:t.tables,headingLevel:this.headingLevel,key:`flow-table-list-${e.uid}`,onCalciteFlowItemBack:i=>{i.preventDefault(),this.openTableListItem=null,this._focusRootFlowItem=!0}},(n=this.tableList)==null?void 0:n.render())}_renderPanelFlowItems(e){return e?e.flatten(t=>t.children).filter(({hidden:t,panel:r})=>!t&&(r==null?void 0:r.open)&&!r.disabled&&r.flowEnabled).toArray().map(({title:t,panel:r})=>{const n=()=>this._handlePanelFlowItemBack(r);return ee("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:t,heading:r.title,headingLevel:this.headingLevel,key:`flow-panel-${r.uid}`,onCalciteFlowItemBack:i=>{i.preventDefault(),n()}},r.render(),ee("calcite-button",{appearance:"transparent",onclick:n,slot:"footer-actions",width:"full"},this.messagesCommon.back))}):[]}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusCatalogFlowItemNode(e){this._focusCatalogFlowItem&&(this._focusCatalogFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusTableListFlowItemNode(e){this._focusTableListFlowItem&&(this._focusTableListFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame(()=>e==null?void 0:e.setFocus()))}_renderItems(e){const{visible:t,collapsed:r,_filterEnabled:n,_rootGroupUid:i,visibleElements:{closeButton:s,collapseButton:o,heading:a,flow:l},_dragEnabled:u,selectionMode:d,filterText:h,filterPlaceholder:f,messages:y}=this,g=[ee("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:s,closed:!t,collapsed:r,collapsible:o,heading:a?y.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:()=>this.visible=!1},ee("calcite-list",{afterCreate:v=>{v.addEventListener("focusin",this._setActiveItem),v.addEventListener("focusout",this._clearActiveItem)},afterRemoved:v=>{v.removeEventListener("focusin",this._setActiveItem),v.removeEventListener("focusout",this._clearActiveItem)},canPull:v=>this._canMove(v,"pull"),canPut:v=>this._canMove(v,"put"),"data-layer-type":i,dragEnabled:u,filterEnabled:n,filterPlaceholder:f,filterText:n?h:"",group:i,key:"root-list",label:y.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:d,onCalciteListChange:v=>this._handleCalciteListChange(v),onCalciteListDragEnd:v=>this._handleCalciteListDragEnd(v.detail),onCalciteListFilter:v=>{var b;return this.filterText=((b=v.target)==null?void 0:b.filterText)??""},onCalciteListOrderChange:v=>this._onCalciteListOrderChange(v.detail)},e==null?void 0:e.toArray().map(v=>this._renderItem(v)),e!=null&&e.length&&n?ee("div",{class:$r.filterNoResults,slot:"filter-no-results"},ee("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(e),this._renderTableListFlowItem(),this._renderCatalogFlowItem()];return t?l?ee("calcite-flow",{key:"root-flow"},g):g:null}_renderChildList(e,t=[]){var d,h,f,y;const{_dragEnabled:r,_rootGroupUid:n,viewModel:{listModeDisabled:i},messages:s,selectionMode:o}=this,{children:a}=e,l=((d=e.layer)==null?void 0:d.type)!=="catalog-dynamic-group"&&evt(e),u=!(!i&&H0t(e.layer))&&!l&&r&&((h=e.layer)==null?void 0:h.type)==="group";return l||u?ee("calcite-list",{canPull:g=>this._canMove(g,"pull"),canPut:g=>this._canMove(g,"put"),"data-item":e,"data-layer-type":n,dragEnabled:!!r&&e.childrenSortable&&Y0t(e),group:`${n}-${e.layer.uid}`,key:`child-list-${e.layer.uid}`,selectionAppearance:"border",selectionMode:o},a==null?void 0:a.filter(g=>!g.hidden).toArray().map(g=>this._renderItem(g,e,[...t,e.title])),(y=(f=this._getTableListParams(e))==null?void 0:f.tables)!=null&&y.length?ee("calcite-list-item",{class:$r.item,"data-layer-id":e.layer.id,dragDisabled:!0,key:`list-item-table-list-tables-${e.layer.uid}`,title:s.tables,onCalciteListItemSelect:()=>{this.openTableListItem=e,this._focusTableListFlowItem=!0}},ee("div",{class:$r.itemContent,slot:"content"},s.tables),ee("calcite-icon",{class:$r.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),ee("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null):null}_renderItemMessage(e){return e.error?ee("div",{class:$r.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},ee("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},ee("div",{slot:"message"},this.messages.layerError))):e.incompatible?ee("div",{class:$r.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},ee("calcite-notice",{afterCreate:t=>this._setTooltipReference(t,e),afterRemoved:()=>this._removeTooltipReference(e),bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},ee("div",{slot:"message"},this.messages.layerIncompatible))):null}_getLayerTitle(e){return e.title||this.messages.untitledLayer}_renderItem(e,t,r){var S,$,C,k;const{_activeItem:n,_selectedDragItemLayerUid:i,selectionMode:s,selectedItems:o,messages:a,visibleElements:l}=this,u=this._getLayerTitle(e),d=e.visibleAtCurrentTimeExtent?e.visibleAtCurrentScale?u:`${u} (${a.layerInvisibleAtScale})`:`${u} (${a.layerInvisibleAtTime})`,h=this._filterActions(e.actionsSections),f=this._countActions(h),y=(($=(S=e.parent)==null?void 0:S.layer)==null?void 0:$.type)==="catalog",g=((C=e.layer)==null?void 0:C.type)==="catalog-footprint",v=((k=e.layer)==null?void 0:k.type)==="catalog-dynamic-group",b=g?ee("calcite-icon",{class:$r.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null,_=v?ee("calcite-icon",{class:$r.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null,x=l.catalogLayerList&&v?ee("calcite-action",{appearance:"transparent",disabled:!e.layer.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>{this.openCatalogItem=t,this._focusCatalogFlowItem=!0},scale:"s",slot:"actions-end",text:u}):null;return ee("calcite-list-item",{afterCreate:E=>this._focusSelectedDragEl(E,e),afterUpdate:E=>this._focusSelectedDragEl(E,e),class:this.classes($r.item,{[$r.itemActive]:n===e}),"data-item":e,"data-layer-id":e.layer.id,dragDisabled:!e.sortable||y,dragSelected:e.layer.uid===i,id:e.layer.uid,key:`list-item-${e.layer.uid}`,label:u,metadata:{parentTitles:r,title:u},open:e.open,selected:s!=="none"&&o.includes(e),title:d,value:e.layer.uid,onCalciteListItemDragHandleChange:E=>this._handleCalciteListItemDragHandleChange(E,e),onCalciteListItemSelect:E=>this._handleCalciteListItemSelect(E,e,t),onCalciteListItemToggle:E=>this._handleCalciteListItemToggle(E,e)},b,_,ee("div",{class:this.classes({[$r.itemContent]:!0,[$r.itemInvisible]:!e.visibleAtCurrentScale||!e.visibleAtCurrentTimeExtent}),slot:"content"},u),this._renderItemStatus(e,t),this._renderItemToggle(e,t),x,this._renderItemTemporaryIcon(e),this._renderChildList(e,r),this._renderItemMessage(e),this._renderPanel(e.panel),this._renderPanelAction(e.panel),f>1?this._renderActionsSections(e,h):f===1?this._renderAction({item:e,action:this._getSingleAction(h),textEnabled:!1}):null)}_renderItemStatus(e,t){const{visibleElements:r}=this;if(!r.statusIndicators)return null;const{connectionStatus:n,publishing:i,updating:s}=e,o=s&&!t,a=!!n;return ee("calcite-icon",{class:this.classes({[$r.statusIndicator]:!0,[$r.publishing]:i,[$r.updating]:o,[$r.connectionStatus]:a,[$r.connectionStatusConnected]:a&&n==="connected"}),icon:q0t({connectionStatus:n,publishing:i}),key:"layer-item-status",scale:"s",slot:"actions-end"})}_renderItemTemporaryIcon(e){return this.visibleElements.temporaryLayerIndicators&&"persistenceEnabled"in e.layer&&!e.layer.persistenceEnabled?ee("calcite-icon",{class:$r.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}_renderItemToggle(e,t){const{messages:r,visibilityAppearance:n}=this,{visible:i}=e,s=t==null?void 0:t.visibilityMode;if(s==="inherited")return null;const o=W0t({visible:i,exclusive:s==="exclusive",visibilityAppearance:n}),a=n==="checkbox",l=r.layerVisibility;return ee("calcite-action",{appearance:"transparent",class:$r.visibleToggle,icon:a?o:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(e,t),scale:"s",slot:a?"actions-start":"actions-end",text:l,title:l},a?null:ee("calcite-icon",{class:this.classes({[$r.visibleIcon]:s!=="exclusive"&&i}),icon:o,scale:"s"}))}_renderPanel(e){return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:ee("div",{class:$r.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}_renderPanelAction(e){if(!(e!=null&&e.visible))return null;const{open:t,title:r,disabled:n}=e;return ee("calcite-action",{active:t,appearance:"transparent",disabled:n,icon:uK(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:r??"",title:r??void 0},this._renderFallbackIcon(e))}_renderActionsSections(e,t){const r=this.messagesCommon.options;return ee("calcite-action-menu",{appearance:"transparent",class:$r.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:n=>e.actionsOpen=n.target.open},ee("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:r,title:r}),t.toArray().map((n,i)=>this._renderActionSection(e,n,i)))}_renderActionSection(e,t,r){return ee("calcite-action-group",{class:$r.actionGroup,key:`action-section-${r}`},t.toArray().map(n=>this._renderAction({item:e,action:n,textEnabled:!0})))}_renderFallbackIcon(e){const{className:t,icon:r}=e;if(r)return null;const n="image"in e?e.image:void 0,i={[$r.itemActionIcon]:!!t,[$r.itemActionImage]:!!n};return t&&(i[t]=!0),n||t?ee("span",{"aria-hidden":"true",class:this.classes($r.itemActionIcon,i),key:"icon",styles:V0t(n)}):null}_renderAction(e){const{item:t,action:r,textEnabled:n}=e;if(!r)return null;const{active:i,disabled:s,title:o,type:a,indicator:l}=r;return ee("calcite-action",{active:a==="toggle"&&r.value,appearance:"transparent",disabled:s,icon:uK(r),indicator:l,key:`action-${r.uid}`,loading:i,onclick:()=>this._triggerAction(t,r),scale:"s",slot:n?void 0:"actions-end",text:o??"",textEnabled:n,title:o??void 0},this._renderFallbackIcon(r))}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.layer.uid,e)}_removeTooltipReference(e){this._tooltipReferenceMap.delete(e.layer.uid)}_moveLayerFromChildList({toEl:e,fromEl:t,dragEl:r,newIndex:n}){const i=ql(r),s=ql(e),o=ql(t);this.viewModel.moveListItem(i,o,s,n)}_handleCalciteListDragEnd(e){const{fromEl:t,dragEl:r,oldIndex:n}=e;t.insertBefore(r,t.children[n])}_sortLayers(e,t){var r,n;if(e)if(e.group===this._rootGroupUid)oye((n=(r=this.view)==null?void 0:r.map)==null?void 0:n.layers,t);else{const i=ql(e);if(!i)return;K0t(i,t)}}_getSingleAction(e){return e.reduce(t=>t).find(t=>t&&(t.type==="button"||t.type==="toggle"))}_filterActions(e){return e.map(t=>t.filter(r=>r.visible))}_countActions(e){return e.reduce((t,r)=>t+r.length,0)}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.triggerAction(t,e))}_handleCalciteListChange(e){const{selectionMode:t,selectedItems:r}=this;if(t==="none")return;const n=e.target.selectedItems.map(i=>ql(i)).filter(Boolean);r.removeAll(),r.addMany(n)}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.open}_focusSelectedDragEl(e,t){this._selectedDragItemLayerUid===t.layer.uid&&requestAnimationFrame(()=>e==null?void 0:e.setFocus())}_handleCalciteListItemDragHandleChange(e,t){e.stopPropagation();const r=e.target.dragSelected;this._selectedDragItemLayerUid=r?t.layer.uid:null}_handleCalciteListItemSelect(e,t,r){ql(e.target)===t&&this.selectionMode==="none"&&(r==null?void 0:r.visibilityMode)!=="inherited"&&this._toggleVisibility(t,r)}_togglePanel(e){e.open=!e.open,e.open&&(this._focusPanelFlowItem=!0)}_toggleVisibility(e,t){if(!e)return;(t==null?void 0:t.visibilityMode)==="exclusive"&&e.visible||(e.visible=!e.visible)}};c([p()],Et.prototype,"_activeItem",void 0),c([p()],Et.prototype,"_tooltipReferenceMap",void 0),c([p()],Et.prototype,"_focusRootFlowItem",void 0),c([p()],Et.prototype,"_focusPanelFlowItem",void 0),c([p()],Et.prototype,"_focusTableListFlowItem",void 0),c([p()],Et.prototype,"_focusCatalogFlowItem",void 0),c([p()],Et.prototype,"_totalItems",null),c([p()],Et.prototype,"_dragEnabled",null),c([p()],Et.prototype,"_filterEnabled",null),c([p({readOnly:!0})],Et.prototype,"catalogLayerList",void 0),c([p()],Et.prototype,"catalogOptions",void 0),c([p()],Et.prototype,"collapsed",void 0),c([p()],Et.prototype,"dragEnabled",void 0),c([p()],Et.prototype,"filterPlaceholder",void 0),c([p()],Et.prototype,"filterText",void 0),c([p()],Et.prototype,"headingLevel",void 0),c([p()],Et.prototype,"icon",null),c([p()],Et.prototype,"knowledgeGraphOptions",void 0),c([p()],Et.prototype,"label",null),c([p()],Et.prototype,"listItemCanGiveFunction",void 0),c([p()],Et.prototype,"listItemCanReceiveFunction",void 0),c([p()],Et.prototype,"listItemCreatedFunction",null),c([p(),Fs("esri/widgets/LayerList/t9n/LayerList")],Et.prototype,"messages",void 0),c([p(),Fs("esri/t9n/common")],Et.prototype,"messagesCommon",void 0),c([p()],Et.prototype,"minDragEnabledItems",void 0),c([p()],Et.prototype,"minFilterItems",void 0),c([p()],Et.prototype,"multipleSelectionEnabled",null),c([p()],Et.prototype,"openCatalogItem",void 0),c([p()],Et.prototype,"openTableListItem",void 0),c([p()],Et.prototype,"operationalItems",null),c([p()],Et.prototype,"selectionEnabled",null),c([p()],Et.prototype,"selectedItems",void 0),c([p()],Et.prototype,"selectionMode",void 0),c([p({readOnly:!0})],Et.prototype,"tableList",void 0),c([p()],Et.prototype,"view",null),c([PD("trigger-action"),p({type:dye})],Et.prototype,"viewModel",void 0),c([p()],Et.prototype,"visibilityAppearance",void 0),c([p({type:pye,nonNullable:!0})],Et.prototype,"visibleElements",void 0),Et=c([R("esri.widgets.LayerList")],Et);const svt=Et,K1=Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function ovt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState(null),o=async a=>{n(!0);let l=a.rings,u=await fetch(t+"/open-api/get-risk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})});try{let d=await u.json();s(d)}catch{}n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Risks"}),w.jsx(Ke,{variant:"subtitle",children:"Natural Hazards in the Area"}),w.jsx(Ln,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsxs(ke,{item:!0,xs:12,children:[w.jsxs(K1,{children:[w.jsx(Ke,{variant:"h6",children:"Area Image"}),w.jsx("img",{style:{width:"300px",display:"block",margin:"auto"},src:i.gerrymandering.convexHullImage})]}),w.jsxs(K1,{children:[w.jsx(Ke,{variant:"h6",children:"Firms"}),i.firms.risk.map(a=>w.jsx(ke,{item:!0,xs:12,children:w.jsx(K1,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Ha"}),w.jsx("span",{children:a.burnedHa})]}),w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Percent"}),w.jsx("span",{children:a.burnedPercent})]}),w.jsxs(ke,{item:!0,xs:4,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Years Back"}),w.jsx("span",{children:a.yearsBack})]})]})})}))]})]}),w.jsx(ke,{item:!0,xs:12,children:w.jsxs(K1,{children:[w.jsx(Ke,{variant:"h6",children:"Historical"}),Object.keys(i.historical).map(a=>w.jsx(ke,{item:!0,xs:12,children:w.jsxs(K1,{children:[w.jsx(Ke,{children:a}),w.jsxs(at,{direction:"row",spacing:1,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Events"}),w.jsx("span",{children:i.historical[a].paEvents})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Average Overlap"}),w.jsxs("span",{children:[i.historical[a].paAvgOverlap.toFixed(2)," ha"]})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Max Overlap"}),w.jsxs("span",{children:[i.historical[a].paMaxOverlap.toFixed(2)," ha"]})]}),w.jsxs(ke,{item:!0,xs:3,children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Events in 50 km buffer"}),w.jsx("span",{children:i.historical[a].buffer50kmEvents})]})]})]})}))]})})]})})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function avt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState(null),o=async a=>{n(!0);let l=a.rings,u=await fetch(t+"/open-api/get-soil",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})});try{let d=await u.json();s(d)}catch{}n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs("div",{style:{height:"400px"},children:[w.jsx(Ke,{variant:"h4",children:"Soil"}),w.jsx(Ke,{variant:"subtitle",children:"Area of each soil type (in hectare)"}),w.jsx("img",{style:{display:"block",margin:"auto",width:"400px"},src:i.image}),w.jsx(R0,{data:i.soilClasses,keys:["areaHa"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#61cdbb"],defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"areaHa"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Soil Type",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}):w.jsx(w.Fragment,{})}const hye=gv(w.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),fye=gv(w.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Hr=Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function lvt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState(null),[o,a]=I.useState([]),[l,u]=I.useState([]),[d,h]=to.useState(0),f=l.length,y=()=>{h(b=>b+1)},g=()=>{h(b=>b-1)};I.useEffect(()=>{if(l.length>0){let b=l[d].species,_=Object.keys(b).map(x=>({name:x,species:b[x].species,image:b[x].image,iucn:b[x].iucn}));a(_)}},[l,d]);const v=async b=>{n(!0);let _=b.rings,S=await(await fetch(t+"/open-api/get-bird-biodiversity",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[_]})})).json();s(S);let $=Object.keys(S.taxonomy.Birds).map(C=>({name:C,speciesCount:S.taxonomy.Birds[C].speciesCount,image:S.taxonomy.Birds[C].image,species:S.taxonomy.Birds[C].species,endangeredCount:S.taxonomy.Birds[C].endangeredCount}));u($),n(!1)};return I.useEffect(()=>{r&&v(r)},[r]),i?w.jsxs(w.Fragment,{children:[w.jsx(Ke,{variant:"h4",children:"Biodiversity"}),w.jsx(Ke,{variant:"subtitle",children:"Details of bird species in the area"}),w.jsx(Ln,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsx(Ke,{variant:"h6",children:"Endangered Count"})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),w.jsx("span",{children:i.endangeredCount.NOT_EVALUATED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),w.jsx("span",{children:i.endangeredCount.DATA_DEFICIENT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),w.jsx("span",{children:i.endangeredCount.LEAST_CONCERN})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),w.jsx("span",{children:i.endangeredCount.NEAR_THREATENED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),w.jsx("span",{children:i.endangeredCount.VULNERABLE})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),w.jsx("span",{children:i.endangeredCount.ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),w.jsx("span",{children:i.endangeredCount.CRITICALLY_ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),w.jsx("span",{children:i.endangeredCount.EXTINCT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),w.jsx("span",{children:i.endangeredCount.EXTINCT_IN_THE_WILD})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsx(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:w.jsx(Ke,{variant:"h6",children:"Taxonomy"})})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Total Species"}),w.jsx("span",{children:i.speciesCount})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsxs(Ln,{sx:{flexGrow:1},children:[w.jsx(Bi,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"rgba(0,0,0,0)"},children:w.jsx(Ke,{style:{color:"green",backgroundColor:"rgba(0,0,0,0)"},children:l[d].name})}),w.jsx(Ln,{sx:{width:"100%",p:2},children:w.jsxs(ke,{spacing:1,container:!0,children:[w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx(Ke,{variant:"h6",children:"Species Count"}),w.jsx(Ke,{variant:"h6",children:l[d].speciesCount})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsx("img",{style:{display:"block",margin:"auto",width:"300px"},src:l[d].image})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Species"}),w.jsx(at,{direction:"row",spacing:1,style:{height:"100%"},useFlexGap:!0,flexWrap:"wrap",children:o.map(b=>w.jsxs(w.Fragment,{children:[w.jsxs("span",{children:[b.name," (",b.iucn,")"]}),w.jsx("span",{children:"|"})]}))})]})})}),w.jsx(ke,{item:!0,xs:12,children:w.jsx(Hr,{children:w.jsx(Ke,{variant:"h6",children:"Endangered Count"})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),w.jsx("span",{children:l[d].endangeredCount.NOT_EVALUATED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),w.jsx("span",{children:l[d].endangeredCount.DATA_DEFICIENT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),w.jsx("span",{children:l[d].endangeredCount.LEAST_CONCERN})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),w.jsx("span",{children:l[d].endangeredCount.NEAR_THREATENED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),w.jsx("span",{children:l[d].endangeredCount.VULNERABLE})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),w.jsx("span",{children:l[d].endangeredCount.ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),w.jsx("span",{children:l[d].endangeredCount.CRITICALLY_ENDANGERED})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),w.jsx("span",{children:l[d].endangeredCount.EXTINCT})]})})}),w.jsx(ke,{item:!0,xs:6,children:w.jsx(Hr,{children:w.jsxs(at,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[w.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),w.jsx("span",{children:l[d].endangeredCount.EXTINCT_IN_THE_WILD})]})})})]})}),w.jsx(rC,{variant:"text",steps:f,position:"static",activeStep:d,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:w.jsxs(zp,{size:"small",onClick:y,disabled:d===f-1,children:["Next",w.jsx(fye,{})]}),backButton:w.jsxs(zp,{size:"small",onClick:g,disabled:d===0,children:[w.jsx(hye,{}),"Back"]})})]})})})]})})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function uvt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState(null),o=async a=>{n(!0);let l=a.rings,u=await fetch(t+"/open-api/get-forest-loss",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})});try{let d=await u.json();if(d.groups.length>0){let h=[{id:"Forest Lost",color:"hsl(109, 70%, 50%)",data:d.groups.map(f=>({x:f.year,y:f.sum}))}];s(h)}}catch{}n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs("div",{style:{height:"400px"},children:[w.jsx(Ke,{variant:"h4",children:"Forest Loss"}),w.jsx(Ke,{variant:"subtitle",children:"Forest loss over the years (in ha)"}),w.jsx(nye,{data:i,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Year",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function cvt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState([]),o=async a=>{n(!0);let l=a.rings,d=await(await fetch(t+"/open-api/get_landtype_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})})).json(),h=Object.keys(d).map(f=>({species:f,density:d[f].toFixed(2)}));s(h),n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs("div",{style:{height:"400px"},children:[w.jsx(Ke,{variant:"h4",children:"Density of Biomass"}),w.jsx(Ke,{variant:"subtitle",children:"Value of each land type (per hectare)"}),w.jsx(R0,{data:i,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Density (Mg/ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function dvt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState([]),o=async a=>{n(!0);let l=a.rings,d=await(await fetch(t+"/open-api/get_landtype_area",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})})).json();console.log(d);let h=Object.keys(d).map(f=>({species:f,area:d[f].toFixed(2)}));s(h),n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs("div",{style:{height:"400px",marginTop:"100px"},children:[w.jsx(Ke,{variant:"h4",children:"Landtype Area"}),w.jsx(Ke,{variant:"subtitle",children:"Area of each land type (in hectare)"}),w.jsx(R0,{data:i,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Landtype",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"}})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function pvt(){const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState([]),o=async a=>{n(!0);let l=a.rings,h=(await(await fetch(t+"/open-api/get_esa_image",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[l]})})).json()).image;s(h),n(!1)};return I.useEffect(()=>{r&&o(r)},[r]),i?w.jsxs("div",{style:{display:"block",margin:"auto",marginTop:"100px"},children:[w.jsx(Ke,{variant:"h4",children:"ESA Image"}),w.jsx("img",{style:{display:"block",margin:"auto"},src:i})]}):w.jsx(w.Fragment,{})}Ne(Bi)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function hvt(){var y;const{token:e,apiUrl:t,aoi:r,setLoading:n}=I.useContext(Ga),[i,s]=I.useState([]),[o,a]=to.useState(0),l=i.length,u=g=>{a(g)},d=()=>{a(g=>g+1)},h=()=>{a(g=>g-1)},f=async g=>{n(!0);let v=g.rings,b=await fetch(t+"/open-api/get-forest-loss-timelapse",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[v]})});try{let _=await b.json();if(Object.keys(_).length>0){let x=Object.keys(_).map(S=>({label:S,imgPath:_[S]}));s(x)}}catch{}n(!1)};return I.useEffect(()=>{r&&f(r)},[r]),i.length>0?w.jsxs("div",{style:{marginTop:"100px"},children:[w.jsx(Ke,{variant:"h4",children:"Forest Loss Timelapse"}),w.jsx(Ke,{variant:"subtitle",children:"Forest loss visualization over the years"}),w.jsxs(Ln,{sx:{maxWidth:400,flexGrow:1,marginLeft:"auto",marginRight:"auto"},children:[w.jsx(Bi,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:"auto",pl:2,bgcolor:"rgba(0,0,0,0)"},children:w.jsxs(Ke,{variant:"h6",children:["Year ",(y=i[o])==null?void 0:y.label]})}),w.jsx(rpe,{axis:"x",index:o,onChangeIndex:u,enableMouseEvents:!0,children:i.map((g,v)=>w.jsx("div",{children:w.jsx(Ln,{component:"img",sx:{display:"block",maxWidth:400,overflow:"hidden"},src:g.imgPath,alt:g.label})},g.label))}),w.jsx(rC,{variant:"text",steps:l,position:"static",activeStep:o,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:w.jsxs(zp,{size:"small",onClick:d,disabled:o===l-1,children:["Next",w.jsx(fye,{})]}),backButton:w.jsxs(zp,{size:"small",onClick:h,disabled:o===0,children:[w.jsx(hye,{}),"Back"]})})]})]}):w.jsx(w.Fragment,{})}function g$(e){const{children:t,value:r,index:n,...i}=e;return w.jsx("div",{role:"tabpanel",hidden:r!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...i,children:r===n&&w.jsx(Ln,{sx:{p:3},children:t})})}function v$(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function fvt(){const{checked:e}=I.useContext(Ga),[t,r]=I.useState(0),n=(i,s)=>{r(s)};return w.jsxs(Ln,{sx:{display:e?"":"none",width:"100%"},children:[w.jsx(Ln,{sx:{borderBottom:1,borderColor:"divider"},children:w.jsxs(_Ze,{value:t,onChange:n,"aria-label":"basic tabs example",children:[w.jsx(n$,{label:"Additional",...v$(0)}),w.jsx(n$,{label:"Conservative",...v$(1)}),w.jsx(n$,{label:"Durable",...v$(2)}),w.jsx(n$,{label:"Beyond Carbon",...v$(3)})]})}),w.jsx(g$,{value:t,index:0,children:w.jsxs(at,{direction:"column",spacing:2,children:[w.jsx(uvt,{}),w.jsx(hvt,{})]})}),w.jsx(g$,{value:t,index:1,children:w.jsxs(at,{direction:"column",spacing:2,children:[w.jsx(cvt,{}),w.jsx(v_,{}),w.jsx(dvt,{}),w.jsx(pvt,{})]})}),w.jsx(g$,{value:t,index:2,children:w.jsx(ovt,{})}),w.jsx(g$,{value:t,index:3,children:w.jsxs(at,{direction:"column",spacing:2,children:[w.jsx(lvt,{}),w.jsx(avt,{})]})})]})}const pK=300;function mvt(){const{viewObj:e,setViewObj:t,token:r,setToken:n,apiUrl:i,clientId:s,clientSecret:o,checked:a,setChecked:l,loading:u}=I.useContext(Ga);Mh();const d=I.useRef();I.useState(null);const h=f=>{l(f.target.checked)};return I.useEffect(()=>{fetch(i+"/open-api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({clientId:s,clientSecret:o})}).then(f=>f.json()).then(f=>{n(f.token)})},[]),I.useMemo(()=>{e&&new svt({container:d.current,view:e,listItemCreatedFunction:function(f){const y=f.item;if(y.layer.title=="Protected Area Polygons"){const g=document.createElement("input");g.type="range",g.min="0",g.max="1",g.step="0.01",g.value=y.layer.opacity,g.addEventListener("input",function(){y.layer.opacity=parseFloat(g.value)});const v=document.createElement("div");v.classList.add("esri-widget"),v.appendChild(document.createTextNode("Opacity: ")),v.appendChild(g),y.panel={content:v,icon:"sliders-horizontal",open:!1}}}})},[e]),r?w.jsxs(Ln,{sx:{display:"flex"},children:[w.jsx(Lee,{}),w.jsx(B_e,{position:"fixed",sx:{zIndex:f=>f.zIndex.drawer+1},children:w.jsx(j5,{children:w.jsx(Ke,{variant:"h6",noWrap:!0,component:"div",children:"KenEco Pre Feasibility"})})}),w.jsxs(F_e,{variant:"permanent",sx:{width:pK,flexShrink:0,"& .MuiDrawer-paper":{width:pK,boxSizing:"border-box"}},children:[w.jsx(j5,{}),w.jsx(Ln,{sx:{overflow:"auto"},children:w.jsxs(at,{direction:"column",spacing:1,children:[w.jsx(TP,{label:"Categories",variant:"filled"}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Geography"}),w.jsx(Kh,{children:w.jsx(xd,{children:["Elevation"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel2-content",id:"panel2-header",children:"Carbon"}),w.jsx(Kh,{children:w.jsx(xd,{children:["AGB Stock","SOC Stock","Ground Truth Model"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Forest"}),w.jsx(Kh,{children:w.jsx(xd,{children:["Forest Loss","ARR/REDD+ Potential"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Soil"}),w.jsx(Kh,{children:w.jsx(xd,{children:["Soil Class"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Land Cover"}),w.jsx(Kh,{children:w.jsx(xd,{children:["MODIS","ESA WorldCover","GLCLU","WWF Ecoregions"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Risk"}),w.jsx(Kh,{children:w.jsx(xd,{children:["Fires","Floods","Droughts","Storms","Landslides","Extreme Temperatures","Volcanic Activity","Mass Movement (dry)"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsxs(Jh,{children:[w.jsx(Xh,{expandIcon:w.jsx(yp,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Biodiversity"}),w.jsx(Kh,{children:w.jsx(xd,{children:["Birds"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})})]}),w.jsx(v_,{}),w.jsx(TP,{label:"Map Layers",variant:"filled"}),w.jsx("div",{ref:d}),w.jsx(v_,{}),w.jsx(TP,{label:"Tools",variant:"filled"}),w.jsx(xd,{children:["Carbon Calculator","Ground Truth","Project Details"].map((f,y)=>w.jsx($d,{disablePadding:!0,children:w.jsx(Sd,{children:w.jsx(Td,{primary:f})})},f))})]})})]}),w.jsxs(Ln,{component:"main",sx:{flexGrow:1,p:0},children:[w.jsx(j5,{}),w.jsxs(Ln,{display:"flex",alignItems:"center",children:[w.jsx(Ke,{variant:"body1",style:{marginRight:"8px"},children:"Map"}),w.jsx(QHe,{checked:a,onChange:h,color:"secondary",sx:{"& .MuiSwitch-track":{backgroundColor:a?"#4caf50":"rgb(245, 100, 50)"}}}),w.jsx(Ke,{variant:"body1",style:{marginLeft:"8px"},children:"Report"})]}),w.jsx(N0t,{}),w.jsx(fvt,{})]}),w.jsx(Ln,{sx:{display:u?"block":"none",position:"absolute",top:"50%",left:"50%",zIndex:9999},children:w.jsx(qHe,{})})]}):w.jsx(w.Fragment,{})}const yvt=IE({palette:{mode:"light",primary:{main:"rgb(19,135,8)"},secondary:{main:"rgb(96,56,20)"},typography:{fontSize:8}}});function gvt(){return w.jsx(w.Fragment,{children:w.jsx(W0e,{children:w.jsxs(Owe,{theme:yvt,children:[w.jsx(Lee,{}),w.jsx(mvt,{})]})})})}AQ(document.getElementById("root")).render(w.jsx(gvt,{}));export{Tne as $,R as A,Wxt as B,zxt as C,Jxt as D,t9e as E,Zxt as F,jn as G,Bxt as H,Uxt as I,$_ as J,X$e as K,lwt as L,Ft as M,xne as N,zi as O,J as P,W as Q,Nce as R,Be as S,RPe as T,yr as U,LPe as V,Fle as W,it as X,$ne as Y,h0 as Z,Q as _,d9e as a,TA as a$,Sne as a0,QG as a1,t_t as a2,Q1t as a3,ote as a4,za as a5,sv as a6,ble as a7,ste as a8,wi as a9,k2t as aA,E2t as aB,zo as aC,mOe as aD,hOe as aE,Dxt as aF,l6e as aG,Ce as aH,Uo as aI,kwt as aJ,Rx as aK,uh as aL,As as aM,CDe as aN,kDe as aO,IDe as aP,jDe as aQ,VDe as aR,nce as aS,tce as aT,rce as aU,zDe as aV,qDe as aW,HDe as aX,r3 as aY,s$e as aZ,M$e as a_,oo as aa,i3 as ab,Du as ac,C2 as ad,abt as ae,ele as af,WMe as ag,om as ah,y1t as ai,iy as aj,Kvt as ak,q8e as al,S0 as am,ui as an,$$t as ao,$i as ap,Pre as aq,nt as ar,Rm as as,v$e as at,tDe as au,rDe as av,nDe as aw,Lce as ax,Jx as ay,cd as az,PE as b,r_t as b$,Ha as b0,Px as b1,WE as b2,ZF as b3,Jvt as b4,_r as b5,rm as b6,Z0 as b7,R1t as b8,Va as b9,gk as bA,$t as bB,Se as bC,Cr as bD,Ph as bE,b2t as bF,jv as bG,jr as bH,md as bI,ud as bJ,Eh as bK,zl as bL,Nl as bM,LA as bN,an as bO,RA as bP,NA as bQ,p3 as bR,Qe as bS,Kie as bT,uLe as bU,St as bV,Sw as bW,TF as bX,eW as bY,ubt as bZ,Hwt as b_,Cl as ba,XE as bb,Rt as bc,W4e as bd,Cwt as be,Ewt as bf,_bt as bg,xbt as bh,fh as bi,Tbt as bj,$bt as bk,hh as bl,Sbt as bm,vze as bn,Cv as bo,xTe as bp,bze as bq,y2t as br,wSt as bs,nW as bt,Nw as bu,vL as bv,v2t as bw,g2t as bx,Ns as by,$wt as bz,Gxt as c,_$e as c$,yh as c0,Ise as c1,r4e as c2,d$t as c3,MT as c4,D_t as c5,yle as c6,WF as c7,JL as c8,N6e as c9,MB as cA,zk as cB,ude as cC,kD as cD,ID as cE,Uk as cF,Fk as cG,VVe as cH,Gce as cI,Uce as cJ,Ui as cK,co as cL,Ov as cM,Zu as cN,gd as cO,Gx as cP,tVe as cQ,MVe as cR,eVe as cS,cre as cT,xw as cU,ire as cV,c$e as cW,rre as cX,Vx as cY,Q2e as cZ,e$e as c_,gle as ca,ule as cb,Vm as cc,qM as cd,oA as ce,H8e as cf,Uee as cg,Fr as ch,ae as ci,ga as cj,WRe as ck,P1t as cl,awt as cm,OUe as cn,Ze as co,eMe as cp,k9 as cq,I9 as cr,tMe as cs,ZE as ct,YE as cu,kt as cv,Ax as cw,yd as cx,ue as cy,kw as cz,HWe as d,Pvt as d$,DVe as d0,Fte as d1,jE as d2,fF as d3,Ux as d4,I_ as d5,Ap as d6,jo as d7,eOe as d8,HE as d9,S3 as dA,mr as dB,AF as dC,dy as dD,fde as dE,rbt as dF,Yke as dG,obt as dH,ebt as dI,ps as dJ,Da as dK,xGe as dL,aU as dM,_a as dN,cRe as dO,Zue as dP,JE as dQ,Vre as dR,y4e as dS,Coe as dT,H4e as dU,Owt as dV,G4e as dW,Iwt as dX,Ao as dY,ba as dZ,tr as d_,tOe as da,sde as db,I1t as dc,iwt as dd,BM as de,o9 as df,ye as dg,Za as dh,e_t as di,sbt as dj,XTe as dk,t2t as dl,s2t as dm,DG as dn,q4e as dp,Gm as dq,ROe as dr,o2t as ds,pde as dt,GH as du,h3 as dv,Bqe as dw,Vu as dx,pF as dy,IUe as dz,Pv as e,eT as e$,Gxe as e0,m1t as e1,W6e as e2,_1t as e3,O6e as e4,d$e as e5,nU as e6,D2e as e7,Use as e8,_Pe as e9,j2e as eA,ure as eB,f9 as eC,Hde as eD,yWe as eE,dTe as eF,N1t as eG,Y2 as eH,lH as eI,dh as eJ,Tke as eK,xvt as eL,OSt as eM,i_t as eN,wDe as eO,Jwt as eP,n_t as eQ,Ixt as eR,fd as eS,Ch as eT,qg as eU,Lu as eV,Hxt as eW,Vxt as eX,H1t as eY,er as eZ,eIe as e_,VA as ea,M9 as eb,C9 as ec,Bse as ed,C$t as ee,S_ as ef,Rae as eg,L_t as eh,bv as ei,Svt as ej,gTe as ek,H0 as el,S9 as em,Nxe as en,oF as eo,y3e as ep,Mwt as eq,No as er,Kxe as es,Mk as et,Ck as eu,BE as ev,P4e as ew,z9 as ex,jx as ey,O$e as ez,mUe as f,mj as f$,V1t as f0,L1t as f1,Ba as f2,DE as f3,pBe as f4,Jze as f5,C2t as f6,EVe as f7,M2t as f8,CVe as f9,A6e as fA,L6e as fB,mle as fC,PVe as fD,Tx as fE,Fi as fF,Dc as fG,oIe as fH,Ih as fI,iG as fJ,Ibt as fK,Obt as fL,Z as fM,YOe as fN,Cke as fO,mk as fP,Rp as fQ,Um as fR,pUe as fS,aUe as fT,LVe as fU,HG as fV,woe as fW,AUe as fX,_D as fY,Vk as fZ,oP as f_,zxe as fa,i9 as fb,xl as fc,$te as fd,Hie as fe,n9 as ff,F6e as fg,$B as fh,fO as fi,Cx as fj,dA as fk,Ni as fl,d1t as fm,JW as fn,Lm as fo,kTe as fp,v9 as fq,$n as fr,Fvt as fs,Vo as ft,Ix as fu,gi as fv,P9 as fw,RMe as fx,t3e as fy,nre as fz,cB as g,Yxt as g$,wD as g0,Nk as g1,Sze as g2,FVe as g3,OD as g4,MUe as g5,Q0 as g6,Xr as g7,jvt as g8,uU as g9,lDe as gA,ABe as gB,OVe as gC,hBe as gD,qRe as gE,YVe as gF,JVe as gG,KVe as gH,QVe as gI,eBe as gJ,tBe as gK,rBe as gL,nBe as gM,iBe as gN,sBe as gO,oBe as gP,aBe as gQ,dde as gR,zVe as gS,Wg as gT,iR as gU,Ivt as gV,p$e as gW,xD as gX,JSt as gY,wce as gZ,Ua as g_,hde as ga,gm as gb,STe as gc,Fu as gd,Oa as ge,LE as gf,k_ as gg,wPe as gh,b1t as gi,n$e as gj,GOe as gk,Xo as gl,U_ as gm,$D as gn,Cu as go,Bce as gp,UVe as gq,BVe as gr,wv as gs,lBe as gt,Yze as gu,vd as gv,fD as gw,Hue as gx,cDe as gy,uDe as gz,Xle as h,hz as h$,Wxe as h0,V2e as h1,B2e as h2,U2e as h3,sPe as h4,N2e as h5,oPe as h6,m3 as h7,RSt as h8,jSt as h9,sre as hA,WM as hB,Fw as hC,ode as hD,VE as hE,kse as hF,yBe as hG,_re as hH,Tre as hI,Ovt as hJ,r1t as hK,ld as hL,Ia as hM,Bn as hN,iIe as hO,_De as hP,B2t as hQ,Kce as hR,a9 as hS,og as hT,hs as hU,ZVe as hV,J2t as hW,bBe as hX,wBe as hY,ww as hZ,T3 as h_,LSt as ha,E7e as hb,C7e as hc,p_t as hd,fbt as he,pH as hf,z2e as hg,Ra as hh,yk as hi,LF as hj,ZRe as hk,YRe as hl,uwt as hm,K2e as hn,T$e as ho,C$e as hp,U6e as hq,UDe as hr,KTe as hs,Uie as ht,jk as hu,iMe as hv,dd as hw,h9 as hx,r$e as hy,X2e as hz,cue as i,ibt as i$,CC as i0,U0t as i1,ql as i2,jh as i3,ee as i4,lt as i5,evt as i6,H0t as i7,q0t as i8,zse as i9,Xvt as iA,Kae as iB,hle as iC,j_ as iD,jF as iE,ZL as iF,Uae as iG,Yx as iH,l1t as iI,N5 as iJ,Bt as iK,$A as iL,A$e as iM,va as iN,Io as iO,Jie as iP,eSe as iQ,MF as iR,Zwt as iS,qwt as iT,zj as iU,A as iV,z1t as iW,Mx as iX,ZMe as iY,HMe as iZ,Y1t as i_,uK as ia,V0t as ib,Fs as ic,PD as id,W0t as ie,Ya as ig,ft as ih,Lk as ii,xv as ij,_i as ik,Bo as il,n3e as im,QE as io,s3e as ip,v1t as iq,Lv as ir,are as is,KOe as it,g3 as iu,w1t as iv,lre as iw,o$e as ix,Dvt as iy,PSe as iz,yUe as j,_Ne as j$,B3 as j0,vSt as j1,bSt as j2,gSt as j3,p$t as j4,Bx as j5,_m as j6,h$t as j7,eF as j8,INe as j9,TUe as jA,Kee as jB,Xee as jC,Cvt as jD,KE as jE,V$ as jF,cbt as jG,Zre as jH,OMe as jI,FMe as jJ,Lx as jK,W1t as jL,lAe as jM,eC as jN,m2t as jO,vwt as jP,mBe as jQ,rh as jR,TH as jS,O_ as jT,w$e as jU,Jee as jV,Cre as jW,E1t as jX,Bre as jY,UB as jZ,Pse as j_,qxe as ja,k1t as jb,K$e as jc,qE as jd,j1t as je,Gw as jf,Wx as jg,joe as jh,Noe as ji,B0t as jj,ks as jk,G0t as jl,dK as jm,sb as jn,oy as jo,$Ge as jp,Wm as jq,XN as jr,QN as js,foe as jt,ph as ju,$Ve as jv,TVe as jw,RVe as jx,YBe as jy,dUe as jz,fUe as k,XOe as k$,F1t as k0,bn as k1,F2t as k2,I2t as k3,M3e as k4,Cte as k5,i1t as k6,n1t as k7,USe as k8,BSe as k9,Ste as kA,gwt as kB,ys as kC,xm as kD,M0 as kE,PFe as kF,e2t as kG,wne as kH,J1t as kI,_te as kJ,gn as kK,TB as kL,gDe as kM,_St as kN,FE as kO,IAe as kP,Fy as kQ,mRe as kR,D6e as kS,ISt as kT,kSt as kU,Hf as kV,Es as kW,Rvt as kX,Lvt as kY,Avt as kZ,mTe as k_,kvt as ka,Uxe as kb,nbt as kc,$3 as kd,GT as ke,Tvt as kf,Jae as kg,FLe as kh,FF as ki,Tk as kj,SG as kk,ESt as kl,cD as km,a_t as kn,s_t as ko,CSt as kp,xDe as kq,R6e as kr,TLe as ks,wLe as kt,Zx as ku,g1t as kv,p9 as kw,gF as kx,sy as ky,O1t as kz,G2t as l,ab as l$,UOe as l0,WOe as l1,ISe as l2,Yee as l3,O2t as l4,G6 as l5,W5e as l6,Doe as l7,P2t as l8,a8e as l9,cwt as lA,ale as lB,cle as lC,h6e as lD,z_t as lE,x6e as lF,$0 as lG,V_t as lH,F_ as lI,nje as lJ,lze as lK,aze as lL,Rv as lM,nD as lN,TFe as lO,MFe as lP,Lue as lQ,HFe as lR,Vue as lS,X3 as lT,Oue as lU,Vw as lV,h_t as lW,f_t as lX,m_t as lY,ND as lZ,H2e as l_,HRe as la,B3e as lb,D1t as lc,i5e as ld,wse as le,oD as lf,kNe as lg,owt as lh,LFe as li,rF as lj,U9 as lk,J3 as ll,vGe as lm,i$t as ln,nne as lo,OAe as lp,Ywt as lq,_9 as lr,aPe as ls,iPe as lt,i$e as lu,nPe as lv,Bee as lw,Qp as lx,Aa as ly,kk as lz,ade as m,Xc as m$,dwt as m0,ore as m1,p4e as m2,u4e as m3,FBe as m4,zu as m5,Bm as m6,q1t as m7,KSt as m8,_u as m9,I6e as mA,FSt as mB,P6 as mC,NSt as mD,QSt as mE,YSt as mF,qSt as mG,WSt as mH,HSt as mI,ZSt as mJ,Nq as mK,Dq as mL,Fq as mM,USt as mN,GSt as mO,wk as mP,tbt as mQ,VSt as mR,BSt as mS,cce as mT,PSt as mU,zSt as mV,P7e as mW,XSt as mX,DSt as mY,I7e as mZ,dD as m_,ai as ma,iD as mb,i2t as mc,Xp as md,AVe as me,Twt as mf,wwt as mg,xwt as mh,_wt as mi,Swt as mj,Rs as mk,Pwt as ml,pB as mm,bwt as mn,DLe as mo,eNe as mp,_vt as mq,GA as mr,VMe as ms,O7e as mt,Z1t as mu,lbt as mv,a3e as mw,K1t as mx,GMe as my,X1t as mz,Sm as n,ASt as n0,Ule as n1,q0 as n2,Axt as n3,A1t as n4,wMe as n5,bMe as n6,B1t as n7,fRe as n8,y2e as n9,d2t as nA,c2t as nB,WW as nC,lje as nD,uje as nE,$$e as nF,OTe as nG,Mvt as nH,Kwt as nI,Xwt as nJ,SPe as nK,xPe as nL,cLe as nM,Vxe as nN,Qwt as nO,Pbt as nP,Rbt as nQ,mSt as nR,L2t as nS,BUe as nT,KWe as nU,BA as na,tAe as nb,Mbt as nc,v2 as nd,Nbt as ne,jd as nf,wF as ng,iAe as nh,Eae as ni,nAe as nj,j3 as nk,F3 as nl,A_ as nm,Nvt as nn,SGe as no,Qxt as np,Nx as nq,et as nr,eD as ns,WH as nt,kGe as nu,I$t as nv,CA as nw,vbt as nx,Ure as ny,D3e as nz,s8e as o,qxt as p,oxt as q,lxt as r,q as s,gr as t,U2t as u,ms as v,gh as w,ie as x,c as y,p as z};
