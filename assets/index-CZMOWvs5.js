const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./statsWorker-B8J3p4uG.js","./utils-DfLTre6B.js","./utils-Ufyp9rLN.js","./utils-Bf0v6Hgr.js","./ClassBreaksDefinition-CDTU0gMr.js","./geometryEngineWorker-BXer3TFn.js","./geometryEngineJSON-aD2mQICC.js","./json-Wa8cmqdu.js","./CSVSourceWorker-BvarMGdf.js","./date-M6n_RqpC.js","./OptimizedFeature-7juV2tZm.js","./OptimizedGeometry-vU5jWBvU.js","./FeatureStore-7_6qdbWD.js","./featureConversionUtils-COHlYDiR.js","./OptimizedFeatureSet-Blu9Ckm7.js","./BoundsStore-BDqSItyw.js","./PooledRBush-BjgMpdYG.js","./timeSupport-REBZ15ko.js","./QueryEngine-BGr7CZXA.js","./WhereClause-DwFkYRNf.js","./TimeOnly-lx5afeOV.js","./QueryEngineCapabilities-CTDe3LlQ.js","./number-B2J2j-Zm.js","./clientSideDefaults-CaQoQMR7.js","./EdgeProcessingWorker-BB6YyOM3.js","./InterleavedLayout-sDqPYMnU.js","./BufferView-DpHsgmrh.js","./types-D0PSWh4d.js","./Util-ByDSkt4J.js","./edgeProcessing-Co-hqCFa.js","./deduplicate-BjAww7cN.js","./Indices-DSkpGIBh.js","./VertexAttribute-BlT9lbVY.js","./enums-BlUEVwJR.js","./VertexElementDescriptor-BOD-G50G.js","./ElevationSamplerWorker-5zqyD2PH.js","./MeshLocalVertexSpace-BfPpK4t7.js","./vertexSpaceConversion-Ch89w09n.js","./mat3f64-q3fE-ZOt.js","./mat4f64-CSKppSlJ.js","./spatialReferenceEllipsoidUtils-vK7HjIif.js","./computeTranslationToOriginAndRotation-CGKia4VS.js","./meshVertexSpaceUtils-CtkRxfbd.js","./vec3-B1CLISOL.js","./projection-C2qNhU5K.js","./DoubleArray-CLCMKNyg.js","./vec4-C1IX6-CA.js","./FeatureServiceSnappingSourceWorker-CzhsHqku.js","./pbfQueryUtils-CfQsJ35N.js","./pbf-BN2opk6A.js","./query-D4ixwqqF.js","./ByteSizeUnit-BsxeN7wM.js","./GeoJSONSourceWorker-B-3CP5A9.js","./geojson-PcKAObCz.js","./sourceUtils-B6t6JKo5.js","./MemorySourceWorker-C1WPTSti.js","./objectIdUtils-4dd1rf9p.js","./PBFDecoderWorker-Bh5tAGYJ.js","./FeaturePipelineWorker-ttYu-4If.js","./definitions-Y_v3njP4.js","./AttributeStore-Cix2EMyn.js","./LabelMetric-BkfJajTJ.js","./enums-BRXbslMp.js","./Texture-BNqYbkZC.js","./Program-Dci1WHRn.js","./BoundingBox-La1dlKbX.js","./UpdateTracking2D-Cqhv4pJ_.js","./BindType-BmZEZMMh.js","./highlightReasons-6HfXfqS3.js","./CIMSymbolHelper-DMX6bCJ1.js","./BidiEngine-BwB1Df7c.js","./fontUtils-B58ofaX7.js","./GeometryUtils-C9bkbodH.js","./Rect-CUzevAry.js","./tileUtils-B7X19rIS.js","./MeshWriterRegistry-DFKhyFHe.js","./PieChartMeshWriter-BgLr7llm.js","./TurboLine-DeqAbJii.js","./earcut-DsX5Kk6p.js","./constants-D5zmR9t2.js","./grouping-BA9tAw2X.js","./ogcFeatureUtils-Bd_n3z68.js","./CircularArray-CujHzHWW.js","./createConnection-BkSSEHC2.js","./PointCloudWorker-CUOr9vfy.js","./quat-BaQ_xvy-.js","./quatf64-Bdb9ZJJK.js","./vec3f32-nZdmKIgz.js","./PointCloudUniqueValueRenderer-BYf_5i22.js","./I3SBinaryReader-CifVTEe1.js","./orientedBoundingBox-0Vuw9E0V.js","./plane-BO9y5tFp.js","./RasterWorker-B2n8puWT.js","./dataUtils-DeuhDYRB.js","./pixelRangeUtils-DR2RxTkt.js","./RasterSymbolizer-N762Wncp.js","./PolynomialTransform-g1AW21Bb.js","./rasterProjectionHelper-DBbfN6rx.js","./SceneLayerSnappingSourceWorker-D-KL3MSZ.js","./lineSegment-BV26gLxM.js","./sphere-B4lpgMzL.js","./SceneLayerWorker-BrVJe3i5.js","./I3SUtil-CNn2-mTh.js","./floatRGBA-DRh2b-Yg.js","./NormalAttribute.glsl-BoUdkISM.js","./interfaces-B8ge7Jg9.js","./WFSSourceWorker-DyDjQMbL.js","./wfsUtils-n-wKQ4hp.js","./xmlUtils-CtUoQO7q.js","./WorkerTileHandler-3dt20xhy.js","./enums-BRzLM11V.js","./config-MDUrh2eL.js","./StyleDefinition-BK3ROBTO.js","./SourceLayerData-EcAUKjk_.js","./StyleRepository-CqxLOo8W.js","./Popup-D1zFtzig.js","./AttachmentInfo-Bj1g2klJ.js","./symbolUtils-CO7UQefX.js","./utils-DD3_7FZE.js","./webStyleSymbolUtils-BkYTy7P7.js","./devEnvironmentUtils-D6qIi8Ky.js","./executeQueryJSON-BHBxnDNr.js","./ElevationLayer-C7CzeeqU.js","./ArcGISCachedService-B5Uf8SFA.js","./TileInfoTilemapCache-BDKIEEYV.js","./TilemapCache-CxCWyI4N.js","./layersCreator-C8AiMP4K.js","./portalLayers-CIRNlJl7.js","./associatedFeatureServiceUtils-DHysePe0.js","./fetchService-1nTJdgJg.js","./arcgisLayers-BvBxeAmD.js","./arcadeUtils-P8TEGqDf.js","./ImmutableArray-BPVd6ESQ.js","./webglDeps-wXQpGyaN.js","./NestedMap-DgiGbX8E.js","./ProgramTemplate-Bv8YUfJC.js","./mapViewDeps-Z1UN4pUy.js","./SDFHelper-DPZMv1S-.js","./Container-kuV5opsD.js","./EffectView-D_G_5s5s.js","./WGLContainer-CynuD454.js","./MagnifierPrograms-DAl7K3dt.js","./testSVGPremultipliedAlpha-BOYzfSav.js","./RenderingContext-ofelUJdT.js","./renderState-C37QfRey.js","./basicInterfaces-DngWxyLO.js","./doublePrecisionUtils-B0owpBza.js","./CIMResourceManager-CfwHcv4r.js","./imageUtils-BrCTQ8YG.js","./rasterizingUtils-B0n5MqgP.js","./utils-CMtpgGFh.js","./FeatureCommandQueue-pRciuTsZ.js","./GraphicsView2D-BneW3oMW.js","./normalizeUtilsSync-zBOTXYOT.js","./GraphicContainer-CAGTJ1is.js","./AGraphicContainer-CfjgHNn3.js","./TechniqueInstance-DgHXBTEu.js","./TileContainer-CSylk0J7.js","./requestImageUtils-Dxcar6CY.js","./TileLayerView2D-ShkYiipe.js","./imageUtils-CEhqiSKL.js","./Bitmap-Dl7xxPwA.js","./LayerView-3bDxIRhk.js","./HighlightGraphicContainer-C-npNgPG.js","./RefreshableLayerView-B-lpRSFA.js","./drapedUtils-Cy2u4wH9.js","./floorFilterUtils-DZ5C6FQv.js","./sublayerUtils-tDeM7ZHh.js","./popupUtils-C7bi7Omt.js","./FeatureLayerView2D-Co4Te1vF.js","./timeSupport-B1HJUlJW.js","./featureReductionUtils-Caulfaw_.js","./HighlightCounter-D8g_DSqc.js","./BaseDynamicLayerView2D-Cd30-hPT.js","./BitmapContainer-C11g4PIn.js","./ExportStrategy-B1nssqri.js","./CatalogLayerView2D-BSQ82f8m.js","./CatalogDynamicGroupLayerView2D-DS1moRMK.js","./CatalogFootprintLayerView2D-D54qLPCh.js","./GeoRSSLayerView2D-CQrAho8j.js","./GraphicsLayerView2D-xrobpTjD.js","./GroupLayerView2D-BQg0NQDa.js","./ImageryLayerView2D-1hf9hu0W.js","./RasterVFDisplayObject-DCiffyqH.js","./ImageryTileLayerView2D-BRDkrsVy.js","./multidimensionalUtils-kPs_Znt2.js","./rasterUtils-DkPb4gKI.js","./RawBlockCache-DITMH_GX.js","./KMLLayerView2D-n90aOjDe.js","./kmlUtils-DHAhTOy4.js","./KnowledgeGraphLayerView2D-DxXCmxx5.js","./MapImageLayerView2D-C4W_0FNb.js","./ExportImageParameters-x8dOCLOQ.js","./MapNotesLayerView2D-DBy6_7RD.js","./MediaLayerView2D-DYsXbP_Z.js","./perspectiveUtils-DKaVmm31.js","./OverlayContainer-CwHeUFAm.js","./OGCFeatureLayerView2D-BV_kgL0C.js","./RouteLayerView2D-m1LaZECy.js","./Stop-BW9P6wfS.js","./StreamLayerView2D-BKYkBiES.js","./SubtypeGroupLayerView2D-BajnkfMo.js","./VectorTileLayerView2D-8gdedYA0.js","./VideoLayerView2D-Bmc7SDLS.js","./TelemetryDisplay-nBZMclMQ.js","./WMSLayerView2D-Dw3CaBga.js","./WMTSLayerView2D-Cn9zhLl_.js","./calcite-button-BaGuGBwL.js","./form-UGb99O58.js","./dom-zRC_73pe.js","./interactive-BQb48KNo.js","./label-CAAoefW_.js","./component-CVleUxfT.js","./loadable-DhJG8WiP.js","./locale-CJM4Q_tO.js","./observers-Cn7b0bqS.js","./t9n-CghhupWO.js","./icon-BOus3eR2.js","./loader-CI_ifm_H.js","./calcite-icon-CptXRCQG.js","./editingSupport-Bkt9_FFn.js","./infoFor3D-DsOdlPuA.js","./layersLoader-BEXNXH6C.js","./jsonContext-D3-FgJ7s.js","./featureLayerUtils-BvVdWXsh.js","./originUtils-D69mHv66.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./utils-bFa1lzco.js","./saveAPIKeyUtils-CmSJFoHP.js","./FeatureLayerSource-m173WX0T.js","./MeshTransform-zyWLEq2A.js","./QueryTask-70DwuXYb.js","./executeForIds-CJFBOZ_N.js","./executeQueryPBF-0JKNYhtl.js","./calcite-loader-CXBc8qyN.js","./calcite-scrim-CkV06y79.js","./scrim-bjvo-TMv.js","./calcite-chip-BNvLP-0a.js","./calcite-panel-zMt-Ein3.js","./panel-DcGMnkro.js","./action-menu-C0phVi6I.js","./action-M4d6uMKT.js","./popover-DW94Z6hH.js","./FloatingArrow-Bvb8Bygc.js","./debounce-BE9q2DI6.js","./focusTrapComponent-BVF_sMFd.js","./openCloseComponent-C5JNdOUL.js","./calcite-popover-DU9G0I3W.js","./calcite-sheet-CUOkdEQ3.js","./BuildingSceneLayer-DuOEeSun.js","./capabilities-CAweHQni.js","./SceneService-Cr6NRptK.js","./resourceUtils-CpmotOvo.js","./resourceUtils-CLgz0WY2.js","./I3SLayerDefinitions-DjM2rqMI.js","./elevationInfoUtils-o9r2jjZJ.js","./CSVLayer-B2q8M0LY.js","./CatalogLayer-CnkJeD2q.js","./DimensionLayer-CHTC6pz7.js","./Analysis-CIjRR8qN.js","./GeoJSONLayer-DgxiAHKp.js","./ImageryLayer-DzSbqQa9.js","./fetchRasterInfo-BEqXIZr6.js","./ImageryTileLayer-DzwdJY6l.js","./IntegratedMesh3DTilesLayer-CLUyDxlV.js","./IntegratedMeshLayer-DHCvOdyn.js","./persistable-CXhySnrP.js","./resourceExtension-oLcPEsrj.js","./KMLLayer-MrAk1I9n.js","./KnowledgeGraphLayer-CT4bFj7W.js","./KnowledgeGraphSublayer-Y4y4PFRo.js","./knowledgeGraphService-CB1bm5_0.js","./GraphQueryStreaming-Do3oJesu.js","./LineOfSightLayer-CLUqNa0V.js","./LinkChartLayer-CnJY5NpO.js","./MapImageLayer-CCBn0B_F.js","./SublayersOwner-BxQRPJpC.js","./MapNotesLayer-C8O8vcDj.js","./MediaLayer-abCXM-xF.js","./OGCFeatureLayer-BeZZfMyz.js","./OpenStreetMapLayer-BBSyyuYS.js","./WebTileLayer-dV68hX6i.js","./PointCloudLayer-C0VUBSTZ.js","./RouteLayer-CW90mE7a.js","./SceneLayer-Dl3sN7kj.js","./Mesh-CYVrjrCz.js","./MeshVertexAttributes-BN3-5Asy.js","./uploadAssetErrors-BGX-R3Y6.js","./TileLayer-V3MCrN3V.js","./VectorTileLayer-CBthf4Bb.js","./VideoLayer-By5ha83s.js","./VoxelLayer-BdgKpTTo.js","./WFSLayer-DdxvFkSs.js","./WMTSLayer-BeEOW_H4.js","./groupLayerUtils-BiDXOG8D.js","./Legend-BeLncTUe.js","./calcite-action-Qvo-py0l.js","./calcite-action-group-Cml91WZ3.js","./action-group-DJrIKM6l.js","./conditionalSlot-D2A6rz83.js","./calcite-action-menu-HEfjYm0s.js","./calcite-flow-BUhjdadJ.js","./calcite-flow-item-I5Gslk4H.js","./calcite-list-BJpr9WXn.js","./resources4-VzuD1qlP.js","./utils3-CxSm0Ful.js","./input2-RObny3TV.js","./calcite-list-item-Zy_k_P-6.js","./calcite-notice-hQEkO-nW.js","./calcite-tooltip-CuMp_i4m.js"])))=>i.map(i=>d[i]);
var Zye=Object.defineProperty;var Xye=(e,t,r)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pv=(e,t,r)=>Xye(e,typeof t!="symbol"?t+"":t,r);function Qye(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(i,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function an(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vX(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var bX={exports:{}},a$={},wX={exports:{}},kr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3=Symbol.for("react.element"),eme=Symbol.for("react.portal"),tme=Symbol.for("react.fragment"),rme=Symbol.for("react.strict_mode"),ime=Symbol.for("react.profiler"),nme=Symbol.for("react.provider"),sme=Symbol.for("react.context"),ome=Symbol.for("react.forward_ref"),ame=Symbol.for("react.suspense"),lme=Symbol.for("react.memo"),ume=Symbol.for("react.lazy"),sB=Symbol.iterator;function cme(e){return e===null||typeof e!="object"?null:(e=sB&&e[sB]||e["@@iterator"],typeof e=="function"?e:null)}var xX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_X=Object.assign,SX={};function Bg(e,t,r){this.props=e,this.context=t,this.refs=SX,this.updater=r||xX}Bg.prototype.isReactComponent={};Bg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $X(){}$X.prototype=Bg.prototype;function bR(e,t,r){this.props=e,this.context=t,this.refs=SX,this.updater=r||xX}var wR=bR.prototype=new $X;wR.constructor=bR;_X(wR,Bg.prototype);wR.isPureReactComponent=!0;var oB=Array.isArray,MX=Object.prototype.hasOwnProperty,xR={current:null},TX={key:!0,ref:!0,__self:!0,__source:!0};function kX(e,t,r){var i,n={},o=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)MX.call(t,i)&&!TX.hasOwnProperty(i)&&(n[i]=t[i]);var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){for(var m=Array(f),v=0;v<f;v++)m[v]=arguments[v+2];n.children=m}if(e&&e.defaultProps)for(i in f=e.defaultProps,f)n[i]===void 0&&(n[i]=f[i]);return{$$typeof:U3,type:e,key:o,ref:u,props:n,_owner:xR.current}}function hme(e,t){return{$$typeof:U3,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _R(e){return typeof e=="object"&&e!==null&&e.$$typeof===U3}function dme(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aB=/\/+/g;function FM(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dme(""+e.key):t.toString(36)}function D5(e,t,r,i,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case U3:case eme:u=!0}}if(u)return u=e,n=n(u),e=i===""?"."+FM(u,0):i,oB(n)?(r="",e!=null&&(r=e.replace(aB,"$&/")+"/"),D5(n,t,r,"",function(v){return v})):n!=null&&(_R(n)&&(n=hme(n,r+(!n.key||u&&u.key===n.key?"":(""+n.key).replace(aB,"$&/")+"/")+e)),t.push(n)),1;if(u=0,i=i===""?".":i+":",oB(e))for(var f=0;f<e.length;f++){o=e[f];var m=i+FM(o,f);u+=D5(o,t,r,m,n)}else if(m=cme(e),typeof m=="function")for(e=m.call(e),f=0;!(o=e.next()).done;)o=o.value,m=i+FM(o,f++),u+=D5(o,t,r,m,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Hx(e,t,r){if(e==null)return e;var i=[],n=0;return D5(e,i,"","",function(o){return t.call(r,o,n++)}),i}function pme(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var po={current:null},z5={transition:null},fme={ReactCurrentDispatcher:po,ReactCurrentBatchConfig:z5,ReactCurrentOwner:xR};function CX(){throw Error("act(...) is not supported in production builds of React.")}kr.Children={map:Hx,forEach:function(e,t,r){Hx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hx(e,function(){t++}),t},toArray:function(e){return Hx(e,function(t){return t})||[]},only:function(e){if(!_R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kr.Component=Bg;kr.Fragment=tme;kr.Profiler=ime;kr.PureComponent=bR;kr.StrictMode=rme;kr.Suspense=ame;kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fme;kr.act=CX;kr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_X({},e.props),n=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=xR.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(m in t)MX.call(t,m)&&!TX.hasOwnProperty(m)&&(i[m]=t[m]===void 0&&f!==void 0?f[m]:t[m])}var m=arguments.length-2;if(m===1)i.children=r;else if(1<m){f=Array(m);for(var v=0;v<m;v++)f[v]=arguments[v+2];i.children=f}return{$$typeof:U3,type:e.type,key:n,ref:o,props:i,_owner:u}};kr.createContext=function(e){return e={$$typeof:sme,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nme,_context:e},e.Consumer=e};kr.createElement=kX;kr.createFactory=function(e){var t=kX.bind(null,e);return t.type=e,t};kr.createRef=function(){return{current:null}};kr.forwardRef=function(e){return{$$typeof:ome,render:e}};kr.isValidElement=_R;kr.lazy=function(e){return{$$typeof:ume,_payload:{_status:-1,_result:e},_init:pme}};kr.memo=function(e,t){return{$$typeof:lme,type:e,compare:t===void 0?null:t}};kr.startTransition=function(e){var t=z5.transition;z5.transition={};try{e()}finally{z5.transition=t}};kr.unstable_act=CX;kr.useCallback=function(e,t){return po.current.useCallback(e,t)};kr.useContext=function(e){return po.current.useContext(e)};kr.useDebugValue=function(){};kr.useDeferredValue=function(e){return po.current.useDeferredValue(e)};kr.useEffect=function(e,t){return po.current.useEffect(e,t)};kr.useId=function(){return po.current.useId()};kr.useImperativeHandle=function(e,t,r){return po.current.useImperativeHandle(e,t,r)};kr.useInsertionEffect=function(e,t){return po.current.useInsertionEffect(e,t)};kr.useLayoutEffect=function(e,t){return po.current.useLayoutEffect(e,t)};kr.useMemo=function(e,t){return po.current.useMemo(e,t)};kr.useReducer=function(e,t,r){return po.current.useReducer(e,t,r)};kr.useRef=function(e){return po.current.useRef(e)};kr.useState=function(e){return po.current.useState(e)};kr.useSyncExternalStore=function(e,t,r){return po.current.useSyncExternalStore(e,t,r)};kr.useTransition=function(){return po.current.useTransition()};kr.version="18.3.1";wX.exports=kr;var W=wX.exports;const ia=an(W),AC=Qye({__proto__:null,default:ia},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yme=W,mme=Symbol.for("react.element"),gme=Symbol.for("react.fragment"),vme=Object.prototype.hasOwnProperty,bme=yme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wme={key:!0,ref:!0,__self:!0,__source:!0};function EX(e,t,r){var i,n={},o=null,u=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)vme.call(t,i)&&!wme.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:mme,type:e,key:o,ref:u,props:n,_owner:bme.current}}a$.Fragment=gme;a$.jsx=EX;a$.jsxs=EX;bX.exports=a$;var L=bX.exports,IX={exports:{}},ga={},PX={exports:{}},OX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,ce){var Ee=he.length;he.push(ce);e:for(;0<Ee;){var ze=Ee-1>>>1,Ye=he[ze];if(0<n(Ye,ce))he[ze]=ce,he[Ee]=Ye,Ee=ze;else break e}}function r(he){return he.length===0?null:he[0]}function i(he){if(he.length===0)return null;var ce=he[0],Ee=he.pop();if(Ee!==ce){he[0]=Ee;e:for(var ze=0,Ye=he.length,vt=Ye>>>1;ze<vt;){var tt=2*(ze+1)-1,yt=he[tt],De=tt+1,ot=he[De];if(0>n(yt,Ee))De<Ye&&0>n(ot,yt)?(he[ze]=ot,he[De]=Ee,ze=De):(he[ze]=yt,he[tt]=Ee,ze=tt);else if(De<Ye&&0>n(ot,Ee))he[ze]=ot,he[De]=Ee,ze=De;else break e}}return ce}function n(he,ce){var Ee=he.sortIndex-ce.sortIndex;return Ee!==0?Ee:he.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],v=[],_=1,$=null,T=3,I=!1,O=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(he){for(var ce=r(v);ce!==null;){if(ce.callback===null)i(v);else if(ce.startTime<=he)i(v),ce.sortIndex=ce.expirationTime,t(m,ce);else break;ce=r(v)}}function G(he){if(A=!1,B(he),!O)if(r(m)!==null)O=!0,ye(H);else{var ce=r(v);ce!==null&&ge(G,ce.startTime-he)}}function H(he,ce){O=!1,A&&(A=!1,F(re),re=-1),I=!0;var Ee=T;try{for(B(ce),$=r(m);$!==null&&(!($.expirationTime>ce)||he&&!ie());){var ze=$.callback;if(typeof ze=="function"){$.callback=null,T=$.priorityLevel;var Ye=ze($.expirationTime<=ce);ce=e.unstable_now(),typeof Ye=="function"?$.callback=Ye:$===r(m)&&i(m),B(ce)}else i(m);$=r(m)}if($!==null)var vt=!0;else{var tt=r(v);tt!==null&&ge(G,tt.startTime-ce),vt=!1}return vt}finally{$=null,T=Ee,I=!1}}var J=!1,Z=null,re=-1,q=5,X=-1;function ie(){return!(e.unstable_now()-X<q)}function le(){if(Z!==null){var he=e.unstable_now();X=he;var ce=!0;try{ce=Z(!0,he)}finally{ce?ue():(J=!1,Z=null)}}else J=!1}var ue;if(typeof z=="function")ue=function(){z(le)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,pe=ne.port2;ne.port1.onmessage=le,ue=function(){pe.postMessage(null)}}else ue=function(){N(le,0)};function ye(he){Z=he,J||(J=!0,ue())}function ge(he,ce){re=N(function(){he(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){O||I||(O=!0,ye(H))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(he){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var Ee=T;T=ce;try{return he()}finally{T=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,ce){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Ee=T;T=he;try{return ce()}finally{T=Ee}},e.unstable_scheduleCallback=function(he,ce,Ee){var ze=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ze+Ee:ze):Ee=ze,he){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ee+Ye,he={id:_++,callback:ce,priorityLevel:he,startTime:Ee,expirationTime:Ye,sortIndex:-1},Ee>ze?(he.sortIndex=Ee,t(v,he),r(m)===null&&he===r(v)&&(A?(F(re),re=-1):A=!0,ge(G,Ee-ze))):(he.sortIndex=Ye,t(m,he),O||I||(O=!0,ye(H))),he},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(he){var ce=T;return function(){var Ee=T;T=ce;try{return he.apply(this,arguments)}finally{T=Ee}}}})(OX);PX.exports=OX;var xme=PX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _me=W,ha=xme;function Qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AX=new Set,$w={};function $1(e,t){og(e,t),og(e+"Capture",t)}function og(e,t){for($w[e]=t,e=0;e<t.length;e++)AX.add(t[e])}var Mh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jC=Object.prototype.hasOwnProperty,Sme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lB={},uB={};function $me(e){return jC.call(uB,e)?!0:jC.call(lB,e)?!1:Sme.test(e)?uB[e]=!0:(lB[e]=!0,!1)}function Mme(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tme(e,t,r,i){if(t===null||typeof t>"u"||Mme(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fo(e,t,r,i,n,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fs[e]=new fo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fs[t]=new fo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fs[e]=new fo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fs[e]=new fo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fs[e]=new fo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fs[e]=new fo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fs[e]=new fo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fs[e]=new fo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fs[e]=new fo(e,5,!1,e.toLowerCase(),null,!1,!1)});var SR=/[\-:]([a-z])/g;function $R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(SR,$R);fs[t]=new fo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(SR,$R);fs[t]=new fo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(SR,$R);fs[t]=new fo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fs[e]=new fo(e,1,!1,e.toLowerCase(),null,!1,!1)});fs.xlinkHref=new fo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fs[e]=new fo(e,1,!1,e.toLowerCase(),null,!0,!0)});function MR(e,t,r,i){var n=fs.hasOwnProperty(t)?fs[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tme(t,r,n,i)&&(r=null),i||n===null?$me(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Rh=_me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wx=Symbol.for("react.element"),im=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),jX=Symbol.for("react.provider"),RX=Symbol.for("react.context"),kR=Symbol.for("react.forward_ref"),LC=Symbol.for("react.suspense"),NC=Symbol.for("react.suspense_list"),CR=Symbol.for("react.memo"),Dd=Symbol.for("react.lazy"),LX=Symbol.for("react.offscreen"),cB=Symbol.iterator;function Ov(e){return e===null||typeof e!="object"?null:(e=cB&&e[cB]||e["@@iterator"],typeof e=="function"?e:null)}var Yi=Object.assign,DM;function Sb(e){if(DM===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);DM=t&&t[1]||""}return`
`+DM+e}var zM=!1;function BM(e,t){if(!e||zM)return"";zM=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var i=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){i=v}e.call(t.prototype)}else{try{throw Error()}catch(v){i=v}e()}}catch(v){if(v&&i&&typeof v.stack=="string"){for(var n=v.stack.split(`
`),o=i.stack.split(`
`),u=n.length-1,f=o.length-1;1<=u&&0<=f&&n[u]!==o[f];)f--;for(;1<=u&&0<=f;u--,f--)if(n[u]!==o[f]){if(u!==1||f!==1)do if(u--,f--,0>f||n[u]!==o[f]){var m=`
`+n[u].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=u&&0<=f);break}}}finally{zM=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sb(e):""}function kme(e){switch(e.tag){case 5:return Sb(e.type);case 16:return Sb("Lazy");case 13:return Sb("Suspense");case 19:return Sb("SuspenseList");case 0:case 2:case 15:return e=BM(e.type,!1),e;case 11:return e=BM(e.type.render,!1),e;case 1:return e=BM(e.type,!0),e;default:return""}}function FC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nm:return"Fragment";case im:return"Portal";case RC:return"Profiler";case TR:return"StrictMode";case LC:return"Suspense";case NC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RX:return(e.displayName||"Context")+".Consumer";case jX:return(e._context.displayName||"Context")+".Provider";case kR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case CR:return t=e.displayName||null,t!==null?t:FC(e.type)||"Memo";case Dd:t=e._payload,e=e._init;try{return FC(e(t))}catch{}}return null}function Cme(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FC(t);case 8:return t===TR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NX(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eme(e){var t=NX(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){i=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jx(e){e._valueTracker||(e._valueTracker=Eme(e))}function FX(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=NX(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function E9(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function DC(e,t){var r=t.checked;return Yi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hB(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Tp(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DX(e,t){t=t.checked,t!=null&&MR(e,"checked",t,!1)}function zC(e,t){DX(e,t);var r=Tp(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?BC(e,t.type,r):t.hasOwnProperty("defaultValue")&&BC(e,t.type,Tp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dB(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function BC(e,t,r){(t!=="number"||E9(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $b=Array.isArray;function km(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Tp(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function VC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return Yi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pB(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Qe(92));if($b(r)){if(1<r.length)throw Error(Qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tp(r)}}function zX(e,t){var r=Tp(t.value),i=Tp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function fB(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BX(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BX(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kx,VX=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kx=Kx||document.createElement("div"),Kx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mw(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var R2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ime=["Webkit","ms","Moz","O"];Object.keys(R2).forEach(function(e){Ime.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),R2[t]=R2[e]})});function UX(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||R2.hasOwnProperty(e)&&R2[e]?(""+t).trim():t+"px"}function GX(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=UX(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var Pme=Yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GC(e,t){if(t){if(Pme[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qe(62))}}function qC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HC=null;function ER(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var WC=null,Cm=null,Em=null;function yB(e){if(e=H3(e)){if(typeof WC!="function")throw Error(Qe(280));var t=e.stateNode;t&&(t=d$(t),WC(e.stateNode,e.type,t))}}function qX(e){Cm?Em?Em.push(e):Em=[e]:Cm=e}function HX(){if(Cm){var e=Cm,t=Em;if(Em=Cm=null,yB(e),t)for(e=0;e<t.length;e++)yB(t[e])}}function WX(e,t){return e(t)}function JX(){}var VM=!1;function KX(e,t,r){if(VM)return e(t,r);VM=!0;try{return WX(e,t,r)}finally{VM=!1,(Cm!==null||Em!==null)&&(JX(),HX())}}function Tw(e,t){var r=e.stateNode;if(r===null)return null;var i=d$(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Qe(231,t,typeof r));return r}var JC=!1;if(Mh)try{var Av={};Object.defineProperty(Av,"passive",{get:function(){JC=!0}}),window.addEventListener("test",Av,Av),window.removeEventListener("test",Av,Av)}catch{JC=!1}function Ome(e,t,r,i,n,o,u,f,m){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(_){this.onError(_)}}var L2=!1,I9=null,P9=!1,KC=null,Ame={onError:function(e){L2=!0,I9=e}};function jme(e,t,r,i,n,o,u,f,m){L2=!1,I9=null,Ome.apply(Ame,arguments)}function Rme(e,t,r,i,n,o,u,f,m){if(jme.apply(this,arguments),L2){if(L2){var v=I9;L2=!1,I9=null}else throw Error(Qe(198));P9||(P9=!0,KC=v)}}function M1(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function YX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mB(e){if(M1(e)!==e)throw Error(Qe(188))}function Lme(e){var t=e.alternate;if(!t){if(t=M1(e),t===null)throw Error(Qe(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var o=n.alternate;if(o===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return mB(n),e;if(o===i)return mB(n),t;o=o.sibling}throw Error(Qe(188))}if(r.return!==i.return)r=n,i=o;else{for(var u=!1,f=n.child;f;){if(f===r){u=!0,r=n,i=o;break}if(f===i){u=!0,i=n,r=o;break}f=f.sibling}if(!u){for(f=o.child;f;){if(f===r){u=!0,r=o,i=n;break}if(f===i){u=!0,i=o,r=n;break}f=f.sibling}if(!u)throw Error(Qe(189))}}if(r.alternate!==i)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?e:t}function ZX(e){return e=Lme(e),e!==null?XX(e):null}function XX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XX(e);if(t!==null)return t;e=e.sibling}return null}var QX=ha.unstable_scheduleCallback,gB=ha.unstable_cancelCallback,Nme=ha.unstable_shouldYield,Fme=ha.unstable_requestPaint,dn=ha.unstable_now,Dme=ha.unstable_getCurrentPriorityLevel,IR=ha.unstable_ImmediatePriority,eQ=ha.unstable_UserBlockingPriority,O9=ha.unstable_NormalPriority,zme=ha.unstable_LowPriority,tQ=ha.unstable_IdlePriority,l$=null,ec=null;function Bme(e){if(ec&&typeof ec.onCommitFiberRoot=="function")try{ec.onCommitFiberRoot(l$,e,void 0,(e.current.flags&128)===128)}catch{}}var tu=Math.clz32?Math.clz32:Gme,Vme=Math.log,Ume=Math.LN2;function Gme(e){return e>>>=0,e===0?32:31-(Vme(e)/Ume|0)|0}var Yx=64,Zx=4194304;function Mb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function A9(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,o=e.pingedLanes,u=r&268435455;if(u!==0){var f=u&~n;f!==0?i=Mb(f):(o&=u,o!==0&&(i=Mb(o)))}else u=r&~n,u!==0?i=Mb(u):o!==0&&(i=Mb(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-tu(t),n=1<<r,i|=e[r],t&=~n;return i}function qme(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hme(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-tu(o),f=1<<u,m=n[u];m===-1?(!(f&r)||f&i)&&(n[u]=qme(f,t)):m<=t&&(e.expiredLanes|=f),o&=~f}}function YC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rQ(){var e=Yx;return Yx<<=1,!(Yx&4194240)&&(Yx=64),e}function UM(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function G3(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tu(t),e[t]=r}function Wme(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-tu(r),o=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~o}}function PR(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-tu(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var ni=0;function iQ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nQ,OR,sQ,oQ,aQ,ZC=!1,Xx=[],hp=null,dp=null,pp=null,kw=new Map,Cw=new Map,Jd=[],Jme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vB(e,t){switch(e){case"focusin":case"focusout":hp=null;break;case"dragenter":case"dragleave":dp=null;break;case"mouseover":case"mouseout":pp=null;break;case"pointerover":case"pointerout":kw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cw.delete(t.pointerId)}}function jv(e,t,r,i,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[n]},t!==null&&(t=H3(t),t!==null&&OR(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Kme(e,t,r,i,n){switch(t){case"focusin":return hp=jv(hp,e,t,r,i,n),!0;case"dragenter":return dp=jv(dp,e,t,r,i,n),!0;case"mouseover":return pp=jv(pp,e,t,r,i,n),!0;case"pointerover":var o=n.pointerId;return kw.set(o,jv(kw.get(o)||null,e,t,r,i,n)),!0;case"gotpointercapture":return o=n.pointerId,Cw.set(o,jv(Cw.get(o)||null,e,t,r,i,n)),!0}return!1}function lQ(e){var t=g0(e.target);if(t!==null){var r=M1(t);if(r!==null){if(t=r.tag,t===13){if(t=YX(r),t!==null){e.blockedOn=t,aQ(e.priority,function(){sQ(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B5(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=XC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);HC=i,r.target.dispatchEvent(i),HC=null}else return t=H3(r),t!==null&&OR(t),e.blockedOn=r,!1;t.shift()}return!0}function bB(e,t,r){B5(e)&&r.delete(t)}function Yme(){ZC=!1,hp!==null&&B5(hp)&&(hp=null),dp!==null&&B5(dp)&&(dp=null),pp!==null&&B5(pp)&&(pp=null),kw.forEach(bB),Cw.forEach(bB)}function Rv(e,t){e.blockedOn===t&&(e.blockedOn=null,ZC||(ZC=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,Yme)))}function Ew(e){function t(n){return Rv(n,e)}if(0<Xx.length){Rv(Xx[0],e);for(var r=1;r<Xx.length;r++){var i=Xx[r];i.blockedOn===e&&(i.blockedOn=null)}}for(hp!==null&&Rv(hp,e),dp!==null&&Rv(dp,e),pp!==null&&Rv(pp,e),kw.forEach(t),Cw.forEach(t),r=0;r<Jd.length;r++)i=Jd[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Jd.length&&(r=Jd[0],r.blockedOn===null);)lQ(r),r.blockedOn===null&&Jd.shift()}var Im=Rh.ReactCurrentBatchConfig,j9=!0;function Zme(e,t,r,i){var n=ni,o=Im.transition;Im.transition=null;try{ni=1,AR(e,t,r,i)}finally{ni=n,Im.transition=o}}function Xme(e,t,r,i){var n=ni,o=Im.transition;Im.transition=null;try{ni=4,AR(e,t,r,i)}finally{ni=n,Im.transition=o}}function AR(e,t,r,i){if(j9){var n=XC(e,t,r,i);if(n===null)QM(e,t,i,R9,r),vB(e,i);else if(Kme(n,e,t,r,i))i.stopPropagation();else if(vB(e,i),t&4&&-1<Jme.indexOf(e)){for(;n!==null;){var o=H3(n);if(o!==null&&nQ(o),o=XC(e,t,r,i),o===null&&QM(e,t,i,R9,r),o===n)break;n=o}n!==null&&i.stopPropagation()}else QM(e,t,i,null,r)}}var R9=null;function XC(e,t,r,i){if(R9=null,e=ER(i),e=g0(e),e!==null)if(t=M1(e),t===null)e=null;else if(r=t.tag,r===13){if(e=YX(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return R9=e,null}function uQ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dme()){case IR:return 1;case eQ:return 4;case O9:case zme:return 16;case tQ:return 536870912;default:return 16}default:return 16}}var Qd=null,jR=null,V5=null;function cQ(){if(V5)return V5;var e,t=jR,r=t.length,i,n="value"in Qd?Qd.value:Qd.textContent,o=n.length;for(e=0;e<r&&t[e]===n[e];e++);var u=r-e;for(i=1;i<=u&&t[r-i]===n[o-i];i++);return V5=n.slice(e,1<i?1-i:void 0)}function U5(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qx(){return!0}function wB(){return!1}function va(e){function t(r,i,n,o,u){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(o):o[f]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qx:wB,this.isPropagationStopped=wB,this}return Yi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qx)},persist:function(){},isPersistent:Qx}),t}var Vg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RR=va(Vg),q3=Yi({},Vg,{view:0,detail:0}),Qme=va(q3),GM,qM,Lv,u$=Yi({},q3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lv&&(Lv&&e.type==="mousemove"?(GM=e.screenX-Lv.screenX,qM=e.screenY-Lv.screenY):qM=GM=0,Lv=e),GM)},movementY:function(e){return"movementY"in e?e.movementY:qM}}),xB=va(u$),ege=Yi({},u$,{dataTransfer:0}),tge=va(ege),rge=Yi({},q3,{relatedTarget:0}),HM=va(rge),ige=Yi({},Vg,{animationName:0,elapsedTime:0,pseudoElement:0}),nge=va(ige),sge=Yi({},Vg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oge=va(sge),age=Yi({},Vg,{data:0}),_B=va(age),lge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cge[e])?!!t[e]:!1}function LR(){return hge}var dge=Yi({},q3,{key:function(e){if(e.key){var t=lge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=U5(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LR,charCode:function(e){return e.type==="keypress"?U5(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?U5(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pge=va(dge),fge=Yi({},u$,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SB=va(fge),yge=Yi({},q3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LR}),mge=va(yge),gge=Yi({},Vg,{propertyName:0,elapsedTime:0,pseudoElement:0}),vge=va(gge),bge=Yi({},u$,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wge=va(bge),xge=[9,13,27,32],NR=Mh&&"CompositionEvent"in window,N2=null;Mh&&"documentMode"in document&&(N2=document.documentMode);var _ge=Mh&&"TextEvent"in window&&!N2,hQ=Mh&&(!NR||N2&&8<N2&&11>=N2),$B=" ",MB=!1;function dQ(e,t){switch(e){case"keyup":return xge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pQ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sm=!1;function Sge(e,t){switch(e){case"compositionend":return pQ(t);case"keypress":return t.which!==32?null:(MB=!0,$B);case"textInput":return e=t.data,e===$B&&MB?null:e;default:return null}}function $ge(e,t){if(sm)return e==="compositionend"||!NR&&dQ(e,t)?(e=cQ(),V5=jR=Qd=null,sm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hQ&&t.locale!=="ko"?null:t.data;default:return null}}var Mge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mge[e.type]:t==="textarea"}function fQ(e,t,r,i){qX(i),t=L9(t,"onChange"),0<t.length&&(r=new RR("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var F2=null,Iw=null;function Tge(e){MQ(e,0)}function c$(e){var t=lm(e);if(FX(t))return e}function kge(e,t){if(e==="change")return t}var yQ=!1;if(Mh){var WM;if(Mh){var JM="oninput"in document;if(!JM){var kB=document.createElement("div");kB.setAttribute("oninput","return;"),JM=typeof kB.oninput=="function"}WM=JM}else WM=!1;yQ=WM&&(!document.documentMode||9<document.documentMode)}function CB(){F2&&(F2.detachEvent("onpropertychange",mQ),Iw=F2=null)}function mQ(e){if(e.propertyName==="value"&&c$(Iw)){var t=[];fQ(t,Iw,e,ER(e)),KX(Tge,t)}}function Cge(e,t,r){e==="focusin"?(CB(),F2=t,Iw=r,F2.attachEvent("onpropertychange",mQ)):e==="focusout"&&CB()}function Ege(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return c$(Iw)}function Ige(e,t){if(e==="click")return c$(t)}function Pge(e,t){if(e==="input"||e==="change")return c$(t)}function Oge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var au=typeof Object.is=="function"?Object.is:Oge;function Pw(e,t){if(au(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!jC.call(t,n)||!au(e[n],t[n]))return!1}return!0}function EB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function IB(e,t){var r=EB(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=EB(r)}}function gQ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gQ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vQ(){for(var e=window,t=E9();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=E9(e.document)}return t}function FR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Age(e){var t=vQ(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gQ(r.ownerDocument.documentElement,r)){if(i!==null&&FR(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,o=Math.min(i.start,n);i=i.end===void 0?o:Math.min(i.end,n),!e.extend&&o>i&&(n=i,i=o,o=n),n=IB(r,o);var u=IB(r,i);n&&u&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jge=Mh&&"documentMode"in document&&11>=document.documentMode,om=null,QC=null,D2=null,eE=!1;function PB(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eE||om==null||om!==E9(i)||(i=om,"selectionStart"in i&&FR(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),D2&&Pw(D2,i)||(D2=i,i=L9(QC,"onSelect"),0<i.length&&(t=new RR("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=om)))}function e_(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var am={animationend:e_("Animation","AnimationEnd"),animationiteration:e_("Animation","AnimationIteration"),animationstart:e_("Animation","AnimationStart"),transitionend:e_("Transition","TransitionEnd")},KM={},bQ={};Mh&&(bQ=document.createElement("div").style,"AnimationEvent"in window||(delete am.animationend.animation,delete am.animationiteration.animation,delete am.animationstart.animation),"TransitionEvent"in window||delete am.transitionend.transition);function h$(e){if(KM[e])return KM[e];if(!am[e])return e;var t=am[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bQ)return KM[e]=t[r];return e}var wQ=h$("animationend"),xQ=h$("animationiteration"),_Q=h$("animationstart"),SQ=h$("transitionend"),$Q=new Map,OB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vp(e,t){$Q.set(e,t),$1(t,[e])}for(var YM=0;YM<OB.length;YM++){var ZM=OB[YM],Rge=ZM.toLowerCase(),Lge=ZM[0].toUpperCase()+ZM.slice(1);Vp(Rge,"on"+Lge)}Vp(wQ,"onAnimationEnd");Vp(xQ,"onAnimationIteration");Vp(_Q,"onAnimationStart");Vp("dblclick","onDoubleClick");Vp("focusin","onFocus");Vp("focusout","onBlur");Vp(SQ,"onTransitionEnd");og("onMouseEnter",["mouseout","mouseover"]);og("onMouseLeave",["mouseout","mouseover"]);og("onPointerEnter",["pointerout","pointerover"]);og("onPointerLeave",["pointerout","pointerover"]);$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nge=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tb));function AB(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Rme(i,t,void 0,e),e.currentTarget=null}function MQ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var u=i.length-1;0<=u;u--){var f=i[u],m=f.instance,v=f.currentTarget;if(f=f.listener,m!==o&&n.isPropagationStopped())break e;AB(n,f,v),o=m}else for(u=0;u<i.length;u++){if(f=i[u],m=f.instance,v=f.currentTarget,f=f.listener,m!==o&&n.isPropagationStopped())break e;AB(n,f,v),o=m}}}if(P9)throw e=KC,P9=!1,KC=null,e}function Si(e,t){var r=t[sE];r===void 0&&(r=t[sE]=new Set);var i=e+"__bubble";r.has(i)||(TQ(t,e,2,!1),r.add(i))}function XM(e,t,r){var i=0;t&&(i|=4),TQ(r,e,i,t)}var t_="_reactListening"+Math.random().toString(36).slice(2);function Ow(e){if(!e[t_]){e[t_]=!0,AX.forEach(function(r){r!=="selectionchange"&&(Nge.has(r)||XM(r,!1,e),XM(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[t_]||(t[t_]=!0,XM("selectionchange",!1,t))}}function TQ(e,t,r,i){switch(uQ(t)){case 1:var n=Zme;break;case 4:n=Xme;break;default:n=AR}r=n.bind(null,t,r,e),n=void 0,!JC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function QM(e,t,r,i,n){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var f=i.stateNode.containerInfo;if(f===n||f.nodeType===8&&f.parentNode===n)break;if(u===4)for(u=i.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===n||m.nodeType===8&&m.parentNode===n))return;u=u.return}for(;f!==null;){if(u=g0(f),u===null)return;if(m=u.tag,m===5||m===6){i=o=u;continue e}f=f.parentNode}}i=i.return}KX(function(){var v=o,_=ER(r),$=[];e:{var T=$Q.get(e);if(T!==void 0){var I=RR,O=e;switch(e){case"keypress":if(U5(r)===0)break e;case"keydown":case"keyup":I=pge;break;case"focusin":O="focus",I=HM;break;case"focusout":O="blur",I=HM;break;case"beforeblur":case"afterblur":I=HM;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=xB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=tge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=mge;break;case wQ:case xQ:case _Q:I=nge;break;case SQ:I=vge;break;case"scroll":I=Qme;break;case"wheel":I=wge;break;case"copy":case"cut":case"paste":I=oge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=SB}var A=(t&4)!==0,N=!A&&e==="scroll",F=A?T!==null?T+"Capture":null:T;A=[];for(var z=v,B;z!==null;){B=z;var G=B.stateNode;if(B.tag===5&&G!==null&&(B=G,F!==null&&(G=Tw(z,F),G!=null&&A.push(Aw(z,G,B)))),N)break;z=z.return}0<A.length&&(T=new I(T,O,null,r,_),$.push({event:T,listeners:A}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",T&&r!==HC&&(O=r.relatedTarget||r.fromElement)&&(g0(O)||O[Th]))break e;if((I||T)&&(T=_.window===_?_:(T=_.ownerDocument)?T.defaultView||T.parentWindow:window,I?(O=r.relatedTarget||r.toElement,I=v,O=O?g0(O):null,O!==null&&(N=M1(O),O!==N||O.tag!==5&&O.tag!==6)&&(O=null)):(I=null,O=v),I!==O)){if(A=xB,G="onMouseLeave",F="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(A=SB,G="onPointerLeave",F="onPointerEnter",z="pointer"),N=I==null?T:lm(I),B=O==null?T:lm(O),T=new A(G,z+"leave",I,r,_),T.target=N,T.relatedTarget=B,G=null,g0(_)===v&&(A=new A(F,z+"enter",O,r,_),A.target=B,A.relatedTarget=N,G=A),N=G,I&&O)t:{for(A=I,F=O,z=0,B=A;B;B=G1(B))z++;for(B=0,G=F;G;G=G1(G))B++;for(;0<z-B;)A=G1(A),z--;for(;0<B-z;)F=G1(F),B--;for(;z--;){if(A===F||F!==null&&A===F.alternate)break t;A=G1(A),F=G1(F)}A=null}else A=null;I!==null&&jB($,T,I,A,!1),O!==null&&N!==null&&jB($,N,O,A,!0)}}e:{if(T=v?lm(v):window,I=T.nodeName&&T.nodeName.toLowerCase(),I==="select"||I==="input"&&T.type==="file")var H=kge;else if(TB(T))if(yQ)H=Pge;else{H=Ege;var J=Cge}else(I=T.nodeName)&&I.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(H=Ige);if(H&&(H=H(e,v))){fQ($,H,r,_);break e}J&&J(e,T,v),e==="focusout"&&(J=T._wrapperState)&&J.controlled&&T.type==="number"&&BC(T,"number",T.value)}switch(J=v?lm(v):window,e){case"focusin":(TB(J)||J.contentEditable==="true")&&(om=J,QC=v,D2=null);break;case"focusout":D2=QC=om=null;break;case"mousedown":eE=!0;break;case"contextmenu":case"mouseup":case"dragend":eE=!1,PB($,r,_);break;case"selectionchange":if(jge)break;case"keydown":case"keyup":PB($,r,_)}var Z;if(NR)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else sm?dQ(e,r)&&(re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(re="onCompositionStart");re&&(hQ&&r.locale!=="ko"&&(sm||re!=="onCompositionStart"?re==="onCompositionEnd"&&sm&&(Z=cQ()):(Qd=_,jR="value"in Qd?Qd.value:Qd.textContent,sm=!0)),J=L9(v,re),0<J.length&&(re=new _B(re,e,null,r,_),$.push({event:re,listeners:J}),Z?re.data=Z:(Z=pQ(r),Z!==null&&(re.data=Z)))),(Z=_ge?Sge(e,r):$ge(e,r))&&(v=L9(v,"onBeforeInput"),0<v.length&&(_=new _B("onBeforeInput","beforeinput",null,r,_),$.push({event:_,listeners:v}),_.data=Z))}MQ($,t)})}function Aw(e,t,r){return{instance:e,listener:t,currentTarget:r}}function L9(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=Tw(e,r),o!=null&&i.unshift(Aw(e,o,n)),o=Tw(e,t),o!=null&&i.push(Aw(e,o,n))),e=e.return}return i}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jB(e,t,r,i,n){for(var o=t._reactName,u=[];r!==null&&r!==i;){var f=r,m=f.alternate,v=f.stateNode;if(m!==null&&m===i)break;f.tag===5&&v!==null&&(f=v,n?(m=Tw(r,o),m!=null&&u.unshift(Aw(r,m,f))):n||(m=Tw(r,o),m!=null&&u.push(Aw(r,m,f)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var Fge=/\r\n?/g,Dge=/\u0000|\uFFFD/g;function RB(e){return(typeof e=="string"?e:""+e).replace(Fge,`
`).replace(Dge,"")}function r_(e,t,r){if(t=RB(t),RB(e)!==t&&r)throw Error(Qe(425))}function N9(){}var tE=null,rE=null;function iE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nE=typeof setTimeout=="function"?setTimeout:void 0,zge=typeof clearTimeout=="function"?clearTimeout:void 0,LB=typeof Promise=="function"?Promise:void 0,Bge=typeof queueMicrotask=="function"?queueMicrotask:typeof LB<"u"?function(e){return LB.resolve(null).then(e).catch(Vge)}:nE;function Vge(e){setTimeout(function(){throw e})}function eT(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),Ew(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);Ew(t)}function fp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ug=Math.random().toString(36).slice(2),Ku="__reactFiber$"+Ug,jw="__reactProps$"+Ug,Th="__reactContainer$"+Ug,sE="__reactEvents$"+Ug,Uge="__reactListeners$"+Ug,Gge="__reactHandles$"+Ug;function g0(e){var t=e[Ku];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Th]||r[Ku]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NB(e);e!==null;){if(r=e[Ku])return r;e=NB(e)}return t}e=r,r=e.parentNode}return null}function H3(e){return e=e[Ku]||e[Th],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qe(33))}function d$(e){return e[jw]||null}var oE=[],um=-1;function Up(e){return{current:e}}function Ii(e){0>um||(e.current=oE[um],oE[um]=null,um--)}function wi(e,t){um++,oE[um]=e.current,e.current=t}var kp={},Fs=Up(kp),Po=Up(!1),W0=kp;function ag(e,t){var r=e.type.contextTypes;if(!r)return kp;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in r)n[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Oo(e){return e=e.childContextTypes,e!=null}function F9(){Ii(Po),Ii(Fs)}function FB(e,t,r){if(Fs.current!==kp)throw Error(Qe(168));wi(Fs,t),wi(Po,r)}function kQ(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(Qe(108,Cme(e)||"Unknown",n));return Yi({},r,i)}function D9(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kp,W0=Fs.current,wi(Fs,e),wi(Po,Po.current),!0}function DB(e,t,r){var i=e.stateNode;if(!i)throw Error(Qe(169));r?(e=kQ(e,t,W0),i.__reactInternalMemoizedMergedChildContext=e,Ii(Po),Ii(Fs),wi(Fs,e)):Ii(Po),wi(Po,r)}var lh=null,p$=!1,tT=!1;function CQ(e){lh===null?lh=[e]:lh.push(e)}function qge(e){p$=!0,CQ(e)}function Gp(){if(!tT&&lh!==null){tT=!0;var e=0,t=ni;try{var r=lh;for(ni=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}lh=null,p$=!1}catch(n){throw lh!==null&&(lh=lh.slice(e+1)),QX(IR,Gp),n}finally{ni=t,tT=!1}}return null}var cm=[],hm=0,z9=null,B9=0,Ba=[],Va=0,J0=null,dh=1,ph="";function bf(e,t){cm[hm++]=B9,cm[hm++]=z9,z9=e,B9=t}function EQ(e,t,r){Ba[Va++]=dh,Ba[Va++]=ph,Ba[Va++]=J0,J0=e;var i=dh;e=ph;var n=32-tu(i)-1;i&=~(1<<n),r+=1;var o=32-tu(t)+n;if(30<o){var u=n-n%5;o=(i&(1<<u)-1).toString(32),i>>=u,n-=u,dh=1<<32-tu(t)+n|r<<n|i,ph=o+e}else dh=1<<o|r<<n|i,ph=e}function DR(e){e.return!==null&&(bf(e,1),EQ(e,1,0))}function zR(e){for(;e===z9;)z9=cm[--hm],cm[hm]=null,B9=cm[--hm],cm[hm]=null;for(;e===J0;)J0=Ba[--Va],Ba[Va]=null,ph=Ba[--Va],Ba[Va]=null,dh=Ba[--Va],Ba[Va]=null}var oa=null,na=null,Di=!1,Yl=null;function IQ(e,t){var r=Xa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zB(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oa=e,na=fp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oa=e,na=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=J0!==null?{id:dh,overflow:ph}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,oa=e,na=null,!0):!1;default:return!1}}function aE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lE(e){if(Di){var t=na;if(t){var r=t;if(!zB(e,t)){if(aE(e))throw Error(Qe(418));t=fp(r.nextSibling);var i=oa;t&&zB(e,t)?IQ(i,r):(e.flags=e.flags&-4097|2,Di=!1,oa=e)}}else{if(aE(e))throw Error(Qe(418));e.flags=e.flags&-4097|2,Di=!1,oa=e}}}function BB(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oa=e}function i_(e){if(e!==oa)return!1;if(!Di)return BB(e),Di=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iE(e.type,e.memoizedProps)),t&&(t=na)){if(aE(e))throw PQ(),Error(Qe(418));for(;t;)IQ(e,t),t=fp(t.nextSibling)}if(BB(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){na=fp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}na=null}}else na=oa?fp(e.stateNode.nextSibling):null;return!0}function PQ(){for(var e=na;e;)e=fp(e.nextSibling)}function lg(){na=oa=null,Di=!1}function BR(e){Yl===null?Yl=[e]:Yl.push(e)}var Hge=Rh.ReactCurrentBatchConfig;function Nv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var i=r.stateNode}if(!i)throw Error(Qe(147,e));var n=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var f=n.refs;u===null?delete f[o]:f[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,e))}return e}function n_(e,t){throw e=Object.prototype.toString.call(t),Error(Qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VB(e){var t=e._init;return t(e._payload)}function OQ(e){function t(F,z){if(e){var B=F.deletions;B===null?(F.deletions=[z],F.flags|=16):B.push(z)}}function r(F,z){if(!e)return null;for(;z!==null;)t(F,z),z=z.sibling;return null}function i(F,z){for(F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function n(F,z){return F=vp(F,z),F.index=0,F.sibling=null,F}function o(F,z,B){return F.index=B,e?(B=F.alternate,B!==null?(B=B.index,B<z?(F.flags|=2,z):B):(F.flags|=2,z)):(F.flags|=1048576,z)}function u(F){return e&&F.alternate===null&&(F.flags|=2),F}function f(F,z,B,G){return z===null||z.tag!==6?(z=lT(B,F.mode,G),z.return=F,z):(z=n(z,B),z.return=F,z)}function m(F,z,B,G){var H=B.type;return H===nm?_(F,z,B.props.children,G,B.key):z!==null&&(z.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Dd&&VB(H)===z.type)?(G=n(z,B.props),G.ref=Nv(F,z,B),G.return=F,G):(G=Y5(B.type,B.key,B.props,null,F.mode,G),G.ref=Nv(F,z,B),G.return=F,G)}function v(F,z,B,G){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=uT(B,F.mode,G),z.return=F,z):(z=n(z,B.children||[]),z.return=F,z)}function _(F,z,B,G,H){return z===null||z.tag!==7?(z=j0(B,F.mode,G,H),z.return=F,z):(z=n(z,B),z.return=F,z)}function $(F,z,B){if(typeof z=="string"&&z!==""||typeof z=="number")return z=lT(""+z,F.mode,B),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Wx:return B=Y5(z.type,z.key,z.props,null,F.mode,B),B.ref=Nv(F,null,z),B.return=F,B;case im:return z=uT(z,F.mode,B),z.return=F,z;case Dd:var G=z._init;return $(F,G(z._payload),B)}if($b(z)||Ov(z))return z=j0(z,F.mode,B,null),z.return=F,z;n_(F,z)}return null}function T(F,z,B,G){var H=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return H!==null?null:f(F,z,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Wx:return B.key===H?m(F,z,B,G):null;case im:return B.key===H?v(F,z,B,G):null;case Dd:return H=B._init,T(F,z,H(B._payload),G)}if($b(B)||Ov(B))return H!==null?null:_(F,z,B,G,null);n_(F,B)}return null}function I(F,z,B,G,H){if(typeof G=="string"&&G!==""||typeof G=="number")return F=F.get(B)||null,f(z,F,""+G,H);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Wx:return F=F.get(G.key===null?B:G.key)||null,m(z,F,G,H);case im:return F=F.get(G.key===null?B:G.key)||null,v(z,F,G,H);case Dd:var J=G._init;return I(F,z,B,J(G._payload),H)}if($b(G)||Ov(G))return F=F.get(B)||null,_(z,F,G,H,null);n_(z,G)}return null}function O(F,z,B,G){for(var H=null,J=null,Z=z,re=z=0,q=null;Z!==null&&re<B.length;re++){Z.index>re?(q=Z,Z=null):q=Z.sibling;var X=T(F,Z,B[re],G);if(X===null){Z===null&&(Z=q);break}e&&Z&&X.alternate===null&&t(F,Z),z=o(X,z,re),J===null?H=X:J.sibling=X,J=X,Z=q}if(re===B.length)return r(F,Z),Di&&bf(F,re),H;if(Z===null){for(;re<B.length;re++)Z=$(F,B[re],G),Z!==null&&(z=o(Z,z,re),J===null?H=Z:J.sibling=Z,J=Z);return Di&&bf(F,re),H}for(Z=i(F,Z);re<B.length;re++)q=I(Z,F,re,B[re],G),q!==null&&(e&&q.alternate!==null&&Z.delete(q.key===null?re:q.key),z=o(q,z,re),J===null?H=q:J.sibling=q,J=q);return e&&Z.forEach(function(ie){return t(F,ie)}),Di&&bf(F,re),H}function A(F,z,B,G){var H=Ov(B);if(typeof H!="function")throw Error(Qe(150));if(B=H.call(B),B==null)throw Error(Qe(151));for(var J=H=null,Z=z,re=z=0,q=null,X=B.next();Z!==null&&!X.done;re++,X=B.next()){Z.index>re?(q=Z,Z=null):q=Z.sibling;var ie=T(F,Z,X.value,G);if(ie===null){Z===null&&(Z=q);break}e&&Z&&ie.alternate===null&&t(F,Z),z=o(ie,z,re),J===null?H=ie:J.sibling=ie,J=ie,Z=q}if(X.done)return r(F,Z),Di&&bf(F,re),H;if(Z===null){for(;!X.done;re++,X=B.next())X=$(F,X.value,G),X!==null&&(z=o(X,z,re),J===null?H=X:J.sibling=X,J=X);return Di&&bf(F,re),H}for(Z=i(F,Z);!X.done;re++,X=B.next())X=I(Z,F,re,X.value,G),X!==null&&(e&&X.alternate!==null&&Z.delete(X.key===null?re:X.key),z=o(X,z,re),J===null?H=X:J.sibling=X,J=X);return e&&Z.forEach(function(le){return t(F,le)}),Di&&bf(F,re),H}function N(F,z,B,G){if(typeof B=="object"&&B!==null&&B.type===nm&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Wx:e:{for(var H=B.key,J=z;J!==null;){if(J.key===H){if(H=B.type,H===nm){if(J.tag===7){r(F,J.sibling),z=n(J,B.props.children),z.return=F,F=z;break e}}else if(J.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Dd&&VB(H)===J.type){r(F,J.sibling),z=n(J,B.props),z.ref=Nv(F,J,B),z.return=F,F=z;break e}r(F,J);break}else t(F,J);J=J.sibling}B.type===nm?(z=j0(B.props.children,F.mode,G,B.key),z.return=F,F=z):(G=Y5(B.type,B.key,B.props,null,F.mode,G),G.ref=Nv(F,z,B),G.return=F,F=G)}return u(F);case im:e:{for(J=B.key;z!==null;){if(z.key===J)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){r(F,z.sibling),z=n(z,B.children||[]),z.return=F,F=z;break e}else{r(F,z);break}else t(F,z);z=z.sibling}z=uT(B,F.mode,G),z.return=F,F=z}return u(F);case Dd:return J=B._init,N(F,z,J(B._payload),G)}if($b(B))return O(F,z,B,G);if(Ov(B))return A(F,z,B,G);n_(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,z!==null&&z.tag===6?(r(F,z.sibling),z=n(z,B),z.return=F,F=z):(r(F,z),z=lT(B,F.mode,G),z.return=F,F=z),u(F)):r(F,z)}return N}var ug=OQ(!0),AQ=OQ(!1),V9=Up(null),U9=null,dm=null,VR=null;function UR(){VR=dm=U9=null}function GR(e){var t=V9.current;Ii(V9),e._currentValue=t}function uE(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Pm(e,t){U9=e,VR=dm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Io=!0),e.firstContext=null)}function hl(e){var t=e._currentValue;if(VR!==e)if(e={context:e,memoizedValue:t,next:null},dm===null){if(U9===null)throw Error(Qe(308));dm=e,U9.dependencies={lanes:0,firstContext:e}}else dm=dm.next=e;return t}var v0=null;function qR(e){v0===null?v0=[e]:v0.push(e)}function jQ(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,qR(t)):(r.next=n.next,n.next=r),t.interleaved=r,kh(e,i)}function kh(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zd=!1;function HR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RQ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yp(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Nr&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,kh(e,r)}return n=i.interleaved,n===null?(t.next=t,qR(i)):(t.next=n.next,n.next=t),i.interleaved=t,kh(e,r)}function G5(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,PR(e,r)}}function UB(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?n=o=u:o=o.next=u,r=r.next}while(r!==null);o===null?n=o=t:o=o.next=t}else n=o=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function G9(e,t,r,i){var n=e.updateQueue;zd=!1;var o=n.firstBaseUpdate,u=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var m=f,v=m.next;m.next=null,u===null?o=v:u.next=v,u=m;var _=e.alternate;_!==null&&(_=_.updateQueue,f=_.lastBaseUpdate,f!==u&&(f===null?_.firstBaseUpdate=v:f.next=v,_.lastBaseUpdate=m))}if(o!==null){var $=n.baseState;u=0,_=v=m=null,f=o;do{var T=f.lane,I=f.eventTime;if((i&T)===T){_!==null&&(_=_.next={eventTime:I,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var O=e,A=f;switch(T=t,I=r,A.tag){case 1:if(O=A.payload,typeof O=="function"){$=O.call(I,$,T);break e}$=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=A.payload,T=typeof O=="function"?O.call(I,$,T):O,T==null)break e;$=Yi({},$,T);break e;case 2:zd=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,T=n.effects,T===null?n.effects=[f]:T.push(f))}else I={eventTime:I,lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},_===null?(v=_=I,m=$):_=_.next=I,u|=T;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;T=f,f=T.next,T.next=null,n.lastBaseUpdate=T,n.shared.pending=null}}while(!0);if(_===null&&(m=$),n.baseState=m,n.firstBaseUpdate=v,n.lastBaseUpdate=_,t=n.shared.interleaved,t!==null){n=t;do u|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);Y0|=u,e.lanes=u,e.memoizedState=$}}function GB(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(Qe(191,n));n.call(i)}}}var W3={},tc=Up(W3),Rw=Up(W3),Lw=Up(W3);function b0(e){if(e===W3)throw Error(Qe(174));return e}function WR(e,t){switch(wi(Lw,t),wi(Rw,e),wi(tc,W3),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:UC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=UC(t,e)}Ii(tc),wi(tc,t)}function cg(){Ii(tc),Ii(Rw),Ii(Lw)}function LQ(e){b0(Lw.current);var t=b0(tc.current),r=UC(t,e.type);t!==r&&(wi(Rw,e),wi(tc,r))}function JR(e){Rw.current===e&&(Ii(tc),Ii(Rw))}var Wi=Up(0);function q9(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rT=[];function KR(){for(var e=0;e<rT.length;e++)rT[e]._workInProgressVersionPrimary=null;rT.length=0}var q5=Rh.ReactCurrentDispatcher,iT=Rh.ReactCurrentBatchConfig,K0=0,Ji=null,On=null,qn=null,H9=!1,z2=!1,Nw=0,Wge=0;function ms(){throw Error(Qe(321))}function YR(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!au(e[r],t[r]))return!1;return!0}function ZR(e,t,r,i,n,o){if(K0=o,Ji=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q5.current=e===null||e.memoizedState===null?Zge:Xge,e=r(i,n),z2){o=0;do{if(z2=!1,Nw=0,25<=o)throw Error(Qe(301));o+=1,qn=On=null,t.updateQueue=null,q5.current=Qge,e=r(i,n)}while(z2)}if(q5.current=W9,t=On!==null&&On.next!==null,K0=0,qn=On=Ji=null,H9=!1,t)throw Error(Qe(300));return e}function XR(){var e=Nw!==0;return Nw=0,e}function zu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Ji.memoizedState=qn=e:qn=qn.next=e,qn}function dl(){if(On===null){var e=Ji.alternate;e=e!==null?e.memoizedState:null}else e=On.next;var t=qn===null?Ji.memoizedState:qn.next;if(t!==null)qn=t,On=e;else{if(e===null)throw Error(Qe(310));On=e,e={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},qn===null?Ji.memoizedState=qn=e:qn=qn.next=e}return qn}function Fw(e,t){return typeof t=="function"?t(e):t}function nT(e){var t=dl(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var i=On,n=i.baseQueue,o=r.pending;if(o!==null){if(n!==null){var u=n.next;n.next=o.next,o.next=u}i.baseQueue=n=o,r.pending=null}if(n!==null){o=n.next,i=i.baseState;var f=u=null,m=null,v=o;do{var _=v.lane;if((K0&_)===_)m!==null&&(m=m.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),i=v.hasEagerState?v.eagerState:e(i,v.action);else{var $={lane:_,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};m===null?(f=m=$,u=i):m=m.next=$,Ji.lanes|=_,Y0|=_}v=v.next}while(v!==null&&v!==o);m===null?u=i:m.next=f,au(i,t.memoizedState)||(Io=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=m,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do o=n.lane,Ji.lanes|=o,Y0|=o,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sT(e){var t=dl(),r=t.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,o=t.memoizedState;if(n!==null){r.pending=null;var u=n=n.next;do o=e(o,u.action),u=u.next;while(u!==n);au(o,t.memoizedState)||(Io=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,i]}function NQ(){}function FQ(e,t){var r=Ji,i=dl(),n=t(),o=!au(i.memoizedState,n);if(o&&(i.memoizedState=n,Io=!0),i=i.queue,QR(BQ.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||qn!==null&&qn.memoizedState.tag&1){if(r.flags|=2048,Dw(9,zQ.bind(null,r,i,n,t),void 0,null),Kn===null)throw Error(Qe(349));K0&30||DQ(r,t,n)}return n}function DQ(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ji.updateQueue,t===null?(t={lastEffect:null,stores:null},Ji.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zQ(e,t,r,i){t.value=r,t.getSnapshot=i,VQ(t)&&UQ(e)}function BQ(e,t,r){return r(function(){VQ(t)&&UQ(e)})}function VQ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!au(e,r)}catch{return!0}}function UQ(e){var t=kh(e,1);t!==null&&ru(t,e,1,-1)}function qB(e){var t=zu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fw,lastRenderedState:e},t.queue=e,e=e.dispatch=Yge.bind(null,Ji,e),[t.memoizedState,e]}function Dw(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ji.updateQueue,t===null?(t={lastEffect:null,stores:null},Ji.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function GQ(){return dl().memoizedState}function H5(e,t,r,i){var n=zu();Ji.flags|=e,n.memoizedState=Dw(1|t,r,void 0,i===void 0?null:i)}function f$(e,t,r,i){var n=dl();i=i===void 0?null:i;var o=void 0;if(On!==null){var u=On.memoizedState;if(o=u.destroy,i!==null&&YR(i,u.deps)){n.memoizedState=Dw(t,r,o,i);return}}Ji.flags|=e,n.memoizedState=Dw(1|t,r,o,i)}function HB(e,t){return H5(8390656,8,e,t)}function QR(e,t){return f$(2048,8,e,t)}function qQ(e,t){return f$(4,2,e,t)}function HQ(e,t){return f$(4,4,e,t)}function WQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JQ(e,t,r){return r=r!=null?r.concat([e]):null,f$(4,4,WQ.bind(null,t,e),r)}function eL(){}function KQ(e,t){var r=dl();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&YR(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function YQ(e,t){var r=dl();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&YR(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function ZQ(e,t,r){return K0&21?(au(r,t)||(r=rQ(),Ji.lanes|=r,Y0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Io=!0),e.memoizedState=r)}function Jge(e,t){var r=ni;ni=r!==0&&4>r?r:4,e(!0);var i=iT.transition;iT.transition={};try{e(!1),t()}finally{ni=r,iT.transition=i}}function XQ(){return dl().memoizedState}function Kge(e,t,r){var i=gp(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},QQ(e))eee(t,r);else if(r=jQ(e,t,r,i),r!==null){var n=no();ru(r,e,i,n),tee(r,t,i)}}function Yge(e,t,r){var i=gp(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(QQ(e))eee(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,f=o(u,r);if(n.hasEagerState=!0,n.eagerState=f,au(f,u)){var m=t.interleaved;m===null?(n.next=n,qR(t)):(n.next=m.next,m.next=n),t.interleaved=n;return}}catch{}finally{}r=jQ(e,t,n,i),r!==null&&(n=no(),ru(r,e,i,n),tee(r,t,i))}}function QQ(e){var t=e.alternate;return e===Ji||t!==null&&t===Ji}function eee(e,t){z2=H9=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tee(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,PR(e,r)}}var W9={readContext:hl,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Zge={readContext:hl,useCallback:function(e,t){return zu().memoizedState=[e,t===void 0?null:t],e},useContext:hl,useEffect:HB,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,H5(4194308,4,WQ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return H5(4194308,4,e,t)},useInsertionEffect:function(e,t){return H5(4,2,e,t)},useMemo:function(e,t){var r=zu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=zu();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Kge.bind(null,Ji,e),[i.memoizedState,e]},useRef:function(e){var t=zu();return e={current:e},t.memoizedState=e},useState:qB,useDebugValue:eL,useDeferredValue:function(e){return zu().memoizedState=e},useTransition:function(){var e=qB(!1),t=e[0];return e=Jge.bind(null,e[1]),zu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ji,n=zu();if(Di){if(r===void 0)throw Error(Qe(407));r=r()}else{if(r=t(),Kn===null)throw Error(Qe(349));K0&30||DQ(i,t,r)}n.memoizedState=r;var o={value:r,getSnapshot:t};return n.queue=o,HB(BQ.bind(null,i,o,e),[e]),i.flags|=2048,Dw(9,zQ.bind(null,i,o,r,t),void 0,null),r},useId:function(){var e=zu(),t=Kn.identifierPrefix;if(Di){var r=ph,i=dh;r=(i&~(1<<32-tu(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nw++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Wge++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xge={readContext:hl,useCallback:KQ,useContext:hl,useEffect:QR,useImperativeHandle:JQ,useInsertionEffect:qQ,useLayoutEffect:HQ,useMemo:YQ,useReducer:nT,useRef:GQ,useState:function(){return nT(Fw)},useDebugValue:eL,useDeferredValue:function(e){var t=dl();return ZQ(t,On.memoizedState,e)},useTransition:function(){var e=nT(Fw)[0],t=dl().memoizedState;return[e,t]},useMutableSource:NQ,useSyncExternalStore:FQ,useId:XQ,unstable_isNewReconciler:!1},Qge={readContext:hl,useCallback:KQ,useContext:hl,useEffect:QR,useImperativeHandle:JQ,useInsertionEffect:qQ,useLayoutEffect:HQ,useMemo:YQ,useReducer:sT,useRef:GQ,useState:function(){return sT(Fw)},useDebugValue:eL,useDeferredValue:function(e){var t=dl();return On===null?t.memoizedState=e:ZQ(t,On.memoizedState,e)},useTransition:function(){var e=sT(Fw)[0],t=dl().memoizedState;return[e,t]},useMutableSource:NQ,useSyncExternalStore:FQ,useId:XQ,unstable_isNewReconciler:!1};function ql(e,t){if(e&&e.defaultProps){t=Yi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cE(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Yi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var y$={isMounted:function(e){return(e=e._reactInternals)?M1(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=no(),n=gp(e),o=gh(i,n);o.payload=t,r!=null&&(o.callback=r),t=yp(e,o,n),t!==null&&(ru(t,e,n,i),G5(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=no(),n=gp(e),o=gh(i,n);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=yp(e,o,n),t!==null&&(ru(t,e,n,i),G5(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=no(),i=gp(e),n=gh(r,i);n.tag=2,t!=null&&(n.callback=t),t=yp(e,n,i),t!==null&&(ru(t,e,i,r),G5(t,e,i))}};function WB(e,t,r,i,n,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,u):t.prototype&&t.prototype.isPureReactComponent?!Pw(r,i)||!Pw(n,o):!0}function ree(e,t,r){var i=!1,n=kp,o=t.contextType;return typeof o=="object"&&o!==null?o=hl(o):(n=Oo(t)?W0:Fs.current,i=t.contextTypes,o=(i=i!=null)?ag(e,n):kp),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=y$,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function JB(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&y$.enqueueReplaceState(t,t.state,null)}function hE(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},HR(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=hl(o):(o=Oo(t)?W0:Fs.current,n.context=ag(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cE(e,t,o,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&y$.enqueueReplaceState(n,n.state,null),G9(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function hg(e,t){try{var r="",i=t;do r+=kme(i),i=i.return;while(i);var n=r}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function oT(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eve=typeof WeakMap=="function"?WeakMap:Map;function iee(e,t,r){r=gh(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){K9||(K9=!0,_E=i),dE(e,t)},r}function nee(e,t,r){r=gh(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){dE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dE(e,t),typeof i!="function"&&(mp===null?mp=new Set([this]):mp.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function KB(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new eve;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=fve.bind(null,e,t,r),t.then(e,e))}function YB(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZB(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gh(-1,1),t.tag=2,yp(r,t,1))),r.lanes|=1),e)}var tve=Rh.ReactCurrentOwner,Io=!1;function eo(e,t,r,i){t.child=e===null?AQ(t,null,r,i):ug(t,e.child,r,i)}function XB(e,t,r,i,n){r=r.render;var o=t.ref;return Pm(t,n),i=ZR(e,t,r,i,o,n),r=XR(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ch(e,t,n)):(Di&&r&&DR(t),t.flags|=1,eo(e,t,i,n),t.child)}function QB(e,t,r,i,n){if(e===null){var o=r.type;return typeof o=="function"&&!lL(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,see(e,t,o,i,n)):(e=Y5(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var u=o.memoizedProps;if(r=r.compare,r=r!==null?r:Pw,r(u,i)&&e.ref===t.ref)return Ch(e,t,n)}return t.flags|=1,e=vp(o,i),e.ref=t.ref,e.return=t,t.child=e}function see(e,t,r,i,n){if(e!==null){var o=e.memoizedProps;if(Pw(o,i)&&e.ref===t.ref)if(Io=!1,t.pendingProps=i=o,(e.lanes&n)!==0)e.flags&131072&&(Io=!0);else return t.lanes=e.lanes,Ch(e,t,n)}return pE(e,t,r,i,n)}function oee(e,t,r){var i=t.pendingProps,n=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(fm,Qo),Qo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wi(fm,Qo),Qo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,wi(fm,Qo),Qo|=i}else o!==null?(i=o.baseLanes|r,t.memoizedState=null):i=r,wi(fm,Qo),Qo|=i;return eo(e,t,n,r),t.child}function aee(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pE(e,t,r,i,n){var o=Oo(r)?W0:Fs.current;return o=ag(t,o),Pm(t,n),r=ZR(e,t,r,i,o,n),i=XR(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ch(e,t,n)):(Di&&i&&DR(t),t.flags|=1,eo(e,t,r,n),t.child)}function eV(e,t,r,i,n){if(Oo(r)){var o=!0;D9(t)}else o=!1;if(Pm(t,n),t.stateNode===null)W5(e,t),ree(t,r,i),hE(t,r,i,n),i=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var m=u.context,v=r.contextType;typeof v=="object"&&v!==null?v=hl(v):(v=Oo(r)?W0:Fs.current,v=ag(t,v));var _=r.getDerivedStateFromProps,$=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";$||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==i||m!==v)&&JB(t,u,i,v),zd=!1;var T=t.memoizedState;u.state=T,G9(t,i,u,n),m=t.memoizedState,f!==i||T!==m||Po.current||zd?(typeof _=="function"&&(cE(t,r,_,i),m=t.memoizedState),(f=zd||WB(t,r,f,i,T,m,v))?($||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=m),u.props=i,u.state=m,u.context=v,i=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,RQ(e,t),f=t.memoizedProps,v=t.type===t.elementType?f:ql(t.type,f),u.props=v,$=t.pendingProps,T=u.context,m=r.contextType,typeof m=="object"&&m!==null?m=hl(m):(m=Oo(r)?W0:Fs.current,m=ag(t,m));var I=r.getDerivedStateFromProps;(_=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==$||T!==m)&&JB(t,u,i,m),zd=!1,T=t.memoizedState,u.state=T,G9(t,i,u,n);var O=t.memoizedState;f!==$||T!==O||Po.current||zd?(typeof I=="function"&&(cE(t,r,I,i),O=t.memoizedState),(v=zd||WB(t,r,v,i,T,O,m)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,O,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,O,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=O),u.props=i,u.state=O,u.context=m,i=v):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),i=!1)}return fE(e,t,r,i,o,n)}function fE(e,t,r,i,n,o){aee(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return n&&DB(t,r,!1),Ch(e,t,o);i=t.stateNode,tve.current=t;var f=u&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=ug(t,e.child,null,o),t.child=ug(t,null,f,o)):eo(e,t,f,o),t.memoizedState=i.state,n&&DB(t,r,!0),t.child}function lee(e){var t=e.stateNode;t.pendingContext?FB(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FB(e,t.context,!1),WR(e,t.containerInfo)}function tV(e,t,r,i,n){return lg(),BR(n),t.flags|=256,eo(e,t,r,i),t.child}var yE={dehydrated:null,treeContext:null,retryLane:0};function mE(e){return{baseLanes:e,cachePool:null,transitions:null}}function uee(e,t,r){var i=t.pendingProps,n=Wi.current,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(n&2)!==0),f?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),wi(Wi,n&1),e===null)return lE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,o?(i=t.mode,o=t.child,u={mode:"hidden",children:u},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=v$(u,i,0,null),e=j0(e,i,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=mE(r),t.memoizedState=yE,e):tL(t,u));if(n=e.memoizedState,n!==null&&(f=n.dehydrated,f!==null))return rve(e,t,u,i,f,n,r);if(o){o=i.fallback,u=t.mode,n=e.child,f=n.sibling;var m={mode:"hidden",children:i.children};return!(u&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=m,t.deletions=null):(i=vp(n,m),i.subtreeFlags=n.subtreeFlags&14680064),f!==null?o=vp(f,o):(o=j0(o,u,r,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,u=e.child.memoizedState,u=u===null?mE(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~r,t.memoizedState=yE,i}return o=e.child,e=o.sibling,i=vp(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function tL(e,t){return t=v$({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function s_(e,t,r,i){return i!==null&&BR(i),ug(t,e.child,null,r),e=tL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rve(e,t,r,i,n,o,u){if(r)return t.flags&256?(t.flags&=-257,i=oT(Error(Qe(422))),s_(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,n=t.mode,i=v$({mode:"visible",children:i.children},n,0,null),o=j0(o,n,u,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&ug(t,e.child,null,u),t.child.memoizedState=mE(u),t.memoizedState=yE,o);if(!(t.mode&1))return s_(e,t,u,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var f=i.dgst;return i=f,o=Error(Qe(419)),i=oT(o,i,void 0),s_(e,t,u,i)}if(f=(u&e.childLanes)!==0,Io||f){if(i=Kn,i!==null){switch(u&-u){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|u)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,kh(e,n),ru(i,e,n,-1))}return aL(),i=oT(Error(Qe(421))),s_(e,t,u,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=yve.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,na=fp(n.nextSibling),oa=t,Di=!0,Yl=null,e!==null&&(Ba[Va++]=dh,Ba[Va++]=ph,Ba[Va++]=J0,dh=e.id,ph=e.overflow,J0=t),t=tL(t,i.children),t.flags|=4096,t)}function rV(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),uE(e.return,t,r)}function aT(e,t,r,i,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=n)}function cee(e,t,r){var i=t.pendingProps,n=i.revealOrder,o=i.tail;if(eo(e,t,i.children,r),i=Wi.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rV(e,r,t);else if(e.tag===19)rV(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(wi(Wi,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&q9(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),aT(t,!1,n,r,o);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&q9(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}aT(t,!0,r,null,o);break;case"together":aT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function W5(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ch(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Y0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qe(153));if(t.child!==null){for(e=t.child,r=vp(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vp(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ive(e,t,r){switch(t.tag){case 3:lee(t),lg();break;case 5:LQ(t);break;case 1:Oo(t.type)&&D9(t);break;case 4:WR(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;wi(V9,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(wi(Wi,Wi.current&1),t.flags|=128,null):r&t.child.childLanes?uee(e,t,r):(wi(Wi,Wi.current&1),e=Ch(e,t,r),e!==null?e.sibling:null);wi(Wi,Wi.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return cee(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),wi(Wi,Wi.current),i)break;return null;case 22:case 23:return t.lanes=0,oee(e,t,r)}return Ch(e,t,r)}var hee,gE,dee,pee;hee=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gE=function(){};dee=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,b0(tc.current);var o=null;switch(r){case"input":n=DC(e,n),i=DC(e,i),o=[];break;case"select":n=Yi({},n,{value:void 0}),i=Yi({},i,{value:void 0}),o=[];break;case"textarea":n=VC(e,n),i=VC(e,i),o=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=N9)}GC(r,i);var u;r=null;for(v in n)if(!i.hasOwnProperty(v)&&n.hasOwnProperty(v)&&n[v]!=null)if(v==="style"){var f=n[v];for(u in f)f.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&($w.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in i){var m=i[v];if(f=n!=null?n[v]:void 0,i.hasOwnProperty(v)&&m!==f&&(m!=null||f!=null))if(v==="style")if(f){for(u in f)!f.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in m)m.hasOwnProperty(u)&&f[u]!==m[u]&&(r||(r={}),r[u]=m[u])}else r||(o||(o=[]),o.push(v,r)),r=m;else v==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(o=o||[]).push(v,m)):v==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(v,""+m):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&($w.hasOwnProperty(v)?(m!=null&&v==="onScroll"&&Si("scroll",e),o||f===m||(o=[])):(o=o||[]).push(v,m))}r&&(o=o||[]).push("style",r);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};pee=function(e,t,r,i){r!==i&&(t.flags|=4)};function Fv(e,t){if(!Di)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function nve(e,t,r){var i=t.pendingProps;switch(zR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:return Oo(t.type)&&F9(),gs(t),null;case 3:return i=t.stateNode,cg(),Ii(Po),Ii(Fs),KR(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(i_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yl!==null&&(ME(Yl),Yl=null))),gE(e,t),gs(t),null;case 5:JR(t);var n=b0(Lw.current);if(r=t.type,e!==null&&t.stateNode!=null)dee(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Qe(166));return gs(t),null}if(e=b0(tc.current),i_(t)){i=t.stateNode,r=t.type;var o=t.memoizedProps;switch(i[Ku]=t,i[jw]=o,e=(t.mode&1)!==0,r){case"dialog":Si("cancel",i),Si("close",i);break;case"iframe":case"object":case"embed":Si("load",i);break;case"video":case"audio":for(n=0;n<Tb.length;n++)Si(Tb[n],i);break;case"source":Si("error",i);break;case"img":case"image":case"link":Si("error",i),Si("load",i);break;case"details":Si("toggle",i);break;case"input":hB(i,o),Si("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Si("invalid",i);break;case"textarea":pB(i,o),Si("invalid",i)}GC(r,o),n=null;for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];u==="children"?typeof f=="string"?i.textContent!==f&&(o.suppressHydrationWarning!==!0&&r_(i.textContent,f,e),n=["children",f]):typeof f=="number"&&i.textContent!==""+f&&(o.suppressHydrationWarning!==!0&&r_(i.textContent,f,e),n=["children",""+f]):$w.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Si("scroll",i)}switch(r){case"input":Jx(i),dB(i,o,!0);break;case"textarea":Jx(i),fB(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=N9)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BX(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(r,{is:i.is}):(e=u.createElement(r),r==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,r),e[Ku]=t,e[jw]=i,hee(e,t,!1,!1),t.stateNode=e;e:{switch(u=qC(r,i),r){case"dialog":Si("cancel",e),Si("close",e),n=i;break;case"iframe":case"object":case"embed":Si("load",e),n=i;break;case"video":case"audio":for(n=0;n<Tb.length;n++)Si(Tb[n],e);n=i;break;case"source":Si("error",e),n=i;break;case"img":case"image":case"link":Si("error",e),Si("load",e),n=i;break;case"details":Si("toggle",e),n=i;break;case"input":hB(e,i),n=DC(e,i),Si("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=Yi({},i,{value:void 0}),Si("invalid",e);break;case"textarea":pB(e,i),n=VC(e,i),Si("invalid",e);break;default:n=i}GC(r,n),f=n;for(o in f)if(f.hasOwnProperty(o)){var m=f[o];o==="style"?GX(e,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&VX(e,m)):o==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Mw(e,m):typeof m=="number"&&Mw(e,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($w.hasOwnProperty(o)?m!=null&&o==="onScroll"&&Si("scroll",e):m!=null&&MR(e,o,m,u))}switch(r){case"input":Jx(e),dB(e,i,!1);break;case"textarea":Jx(e),fB(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Tp(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?km(e,!!i.multiple,o,!1):i.defaultValue!=null&&km(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=N9)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&t.stateNode!=null)pee(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Qe(166));if(r=b0(Lw.current),b0(tc.current),i_(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ku]=t,(o=i.nodeValue!==r)&&(e=oa,e!==null))switch(e.tag){case 3:r_(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&r_(i.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ku]=t,t.stateNode=i}return gs(t),null;case 13:if(Ii(Wi),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Di&&na!==null&&t.mode&1&&!(t.flags&128))PQ(),lg(),t.flags|=98560,o=!1;else if(o=i_(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(Qe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Qe(317));o[Ku]=t}else lg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gs(t),o=!1}else Yl!==null&&(ME(Yl),Yl=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Wi.current&1?jn===0&&(jn=3):aL())),t.updateQueue!==null&&(t.flags|=4),gs(t),null);case 4:return cg(),gE(e,t),e===null&&Ow(t.stateNode.containerInfo),gs(t),null;case 10:return GR(t.type._context),gs(t),null;case 17:return Oo(t.type)&&F9(),gs(t),null;case 19:if(Ii(Wi),o=t.memoizedState,o===null)return gs(t),null;if(i=(t.flags&128)!==0,u=o.rendering,u===null)if(i)Fv(o,!1);else{if(jn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=q9(e),u!==null){for(t.flags|=128,Fv(o,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)o=r,e=i,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wi(Wi,Wi.current&1|2),t.child}e=e.sibling}o.tail!==null&&dn()>dg&&(t.flags|=128,i=!0,Fv(o,!1),t.lanes=4194304)}else{if(!i)if(e=q9(u),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Di)return gs(t),null}else 2*dn()-o.renderingStartTime>dg&&r!==1073741824&&(t.flags|=128,i=!0,Fv(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(r=o.last,r!==null?r.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dn(),t.sibling=null,r=Wi.current,wi(Wi,i?r&1|2:r&1),t):(gs(t),null);case 22:case 23:return oL(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Qo&1073741824&&(gs(t),t.subtreeFlags&6&&(t.flags|=8192)):gs(t),null;case 24:return null;case 25:return null}throw Error(Qe(156,t.tag))}function sve(e,t){switch(zR(t),t.tag){case 1:return Oo(t.type)&&F9(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cg(),Ii(Po),Ii(Fs),KR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JR(t),null;case 13:if(Ii(Wi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qe(340));lg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ii(Wi),null;case 4:return cg(),null;case 10:return GR(t.type._context),null;case 22:case 23:return oL(),null;case 24:return null;default:return null}}var o_=!1,Ps=!1,ove=typeof WeakSet=="function"?WeakSet:Set,_t=null;function pm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){sn(e,t,i)}else r.current=null}function vE(e,t,r){try{r()}catch(i){sn(e,t,i)}}var iV=!1;function ave(e,t){if(tE=j9,e=vQ(),FR(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var u=0,f=-1,m=-1,v=0,_=0,$=e,T=null;t:for(;;){for(var I;$!==r||n!==0&&$.nodeType!==3||(f=u+n),$!==o||i!==0&&$.nodeType!==3||(m=u+i),$.nodeType===3&&(u+=$.nodeValue.length),(I=$.firstChild)!==null;)T=$,$=I;for(;;){if($===e)break t;if(T===r&&++v===n&&(f=u),T===o&&++_===i&&(m=u),(I=$.nextSibling)!==null)break;$=T,T=$.parentNode}$=I}r=f===-1||m===-1?null:{start:f,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(rE={focusedElem:e,selectionRange:r},j9=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){t=_t;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var A=O.memoizedProps,N=O.memoizedState,F=t.stateNode,z=F.getSnapshotBeforeUpdate(t.elementType===t.type?A:ql(t.type,A),N);F.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(G){sn(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}return O=iV,iV=!1,O}function B2(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&vE(t,r,o)}n=n.next}while(n!==i)}}function m$(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function bE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fee(e){var t=e.alternate;t!==null&&(e.alternate=null,fee(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ku],delete t[jw],delete t[sE],delete t[Uge],delete t[Gge])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yee(e){return e.tag===5||e.tag===3||e.tag===4}function nV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yee(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wE(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=N9));else if(i!==4&&(e=e.child,e!==null))for(wE(e,t,r),e=e.sibling;e!==null;)wE(e,t,r),e=e.sibling}function xE(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(xE(e,t,r),e=e.sibling;e!==null;)xE(e,t,r),e=e.sibling}var as=null,Wl=!1;function qh(e,t,r){for(r=r.child;r!==null;)mee(e,t,r),r=r.sibling}function mee(e,t,r){if(ec&&typeof ec.onCommitFiberUnmount=="function")try{ec.onCommitFiberUnmount(l$,r)}catch{}switch(r.tag){case 5:Ps||pm(r,t);case 6:var i=as,n=Wl;as=null,qh(e,t,r),as=i,Wl=n,as!==null&&(Wl?(e=as,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):as.removeChild(r.stateNode));break;case 18:as!==null&&(Wl?(e=as,r=r.stateNode,e.nodeType===8?eT(e.parentNode,r):e.nodeType===1&&eT(e,r),Ew(e)):eT(as,r.stateNode));break;case 4:i=as,n=Wl,as=r.stateNode.containerInfo,Wl=!0,qh(e,t,r),as=i,Wl=n;break;case 0:case 11:case 14:case 15:if(!Ps&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var o=n,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&vE(r,t,u),n=n.next}while(n!==i)}qh(e,t,r);break;case 1:if(!Ps&&(pm(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(f){sn(r,t,f)}qh(e,t,r);break;case 21:qh(e,t,r);break;case 22:r.mode&1?(Ps=(i=Ps)||r.memoizedState!==null,qh(e,t,r),Ps=i):qh(e,t,r);break;default:qh(e,t,r)}}function sV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ove),t.forEach(function(i){var n=mve.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function $l(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var o=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:as=f.stateNode,Wl=!1;break e;case 3:as=f.stateNode.containerInfo,Wl=!0;break e;case 4:as=f.stateNode.containerInfo,Wl=!0;break e}f=f.return}if(as===null)throw Error(Qe(160));mee(o,u,n),as=null,Wl=!1;var m=n.alternate;m!==null&&(m.return=null),n.return=null}catch(v){sn(n,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gee(t,e),t=t.sibling}function gee(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($l(t,e),pu(e),i&4){try{B2(3,e,e.return),m$(3,e)}catch(A){sn(e,e.return,A)}try{B2(5,e,e.return)}catch(A){sn(e,e.return,A)}}break;case 1:$l(t,e),pu(e),i&512&&r!==null&&pm(r,r.return);break;case 5:if($l(t,e),pu(e),i&512&&r!==null&&pm(r,r.return),e.flags&32){var n=e.stateNode;try{Mw(n,"")}catch(A){sn(e,e.return,A)}}if(i&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,u=r!==null?r.memoizedProps:o,f=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{f==="input"&&o.type==="radio"&&o.name!=null&&DX(n,o),qC(f,u);var v=qC(f,o);for(u=0;u<m.length;u+=2){var _=m[u],$=m[u+1];_==="style"?GX(n,$):_==="dangerouslySetInnerHTML"?VX(n,$):_==="children"?Mw(n,$):MR(n,_,$,v)}switch(f){case"input":zC(n,o);break;case"textarea":zX(n,o);break;case"select":var T=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?km(n,!!o.multiple,I,!1):T!==!!o.multiple&&(o.defaultValue!=null?km(n,!!o.multiple,o.defaultValue,!0):km(n,!!o.multiple,o.multiple?[]:"",!1))}n[jw]=o}catch(A){sn(e,e.return,A)}}break;case 6:if($l(t,e),pu(e),i&4){if(e.stateNode===null)throw Error(Qe(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(A){sn(e,e.return,A)}}break;case 3:if($l(t,e),pu(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Ew(t.containerInfo)}catch(A){sn(e,e.return,A)}break;case 4:$l(t,e),pu(e);break;case 13:$l(t,e),pu(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(nL=dn())),i&4&&sV(e);break;case 22:if(_=r!==null&&r.memoizedState!==null,e.mode&1?(Ps=(v=Ps)||_,$l(t,e),Ps=v):$l(t,e),pu(e),i&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!_&&e.mode&1)for(_t=e,_=e.child;_!==null;){for($=_t=_;_t!==null;){switch(T=_t,I=T.child,T.tag){case 0:case 11:case 14:case 15:B2(4,T,T.return);break;case 1:pm(T,T.return);var O=T.stateNode;if(typeof O.componentWillUnmount=="function"){i=T,r=T.return;try{t=i,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(A){sn(i,r,A)}}break;case 5:pm(T,T.return);break;case 22:if(T.memoizedState!==null){aV($);continue}}I!==null?(I.return=T,_t=I):aV($)}_=_.sibling}e:for(_=null,$=e;;){if($.tag===5){if(_===null){_=$;try{n=$.stateNode,v?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(f=$.stateNode,m=$.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,f.style.display=UX("display",u))}catch(A){sn(e,e.return,A)}}}else if($.tag===6){if(_===null)try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(A){sn(e,e.return,A)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;_===$&&(_=null),$=$.return}_===$&&(_=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:$l(t,e),pu(e),i&4&&sV(e);break;case 21:break;default:$l(t,e),pu(e)}}function pu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yee(r)){var i=r;break e}r=r.return}throw Error(Qe(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Mw(n,""),i.flags&=-33);var o=nV(e);xE(e,o,n);break;case 3:case 4:var u=i.stateNode.containerInfo,f=nV(e);wE(e,f,u);break;default:throw Error(Qe(161))}}catch(m){sn(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lve(e,t,r){_t=e,vee(e)}function vee(e,t,r){for(var i=(e.mode&1)!==0;_t!==null;){var n=_t,o=n.child;if(n.tag===22&&i){var u=n.memoizedState!==null||o_;if(!u){var f=n.alternate,m=f!==null&&f.memoizedState!==null||Ps;f=o_;var v=Ps;if(o_=u,(Ps=m)&&!v)for(_t=n;_t!==null;)u=_t,m=u.child,u.tag===22&&u.memoizedState!==null?lV(n):m!==null?(m.return=u,_t=m):lV(n);for(;o!==null;)_t=o,vee(o),o=o.sibling;_t=n,o_=f,Ps=v}oV(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,_t=o):oV(e)}}function oV(e){for(;_t!==null;){var t=_t;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ps||m$(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ps)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:ql(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&GB(t,o,i);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}GB(t,u,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var _=v.memoizedState;if(_!==null){var $=_.dehydrated;$!==null&&Ew($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Ps||t.flags&512&&bE(t)}catch(T){sn(t,t.return,T)}}if(t===e){_t=null;break}if(r=t.sibling,r!==null){r.return=t.return,_t=r;break}_t=t.return}}function aV(e){for(;_t!==null;){var t=_t;if(t===e){_t=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_t=r;break}_t=t.return}}function lV(e){for(;_t!==null;){var t=_t;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{m$(4,t)}catch(m){sn(t,r,m)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(m){sn(t,n,m)}}var o=t.return;try{bE(t)}catch(m){sn(t,o,m)}break;case 5:var u=t.return;try{bE(t)}catch(m){sn(t,u,m)}}}catch(m){sn(t,t.return,m)}if(t===e){_t=null;break}var f=t.sibling;if(f!==null){f.return=t.return,_t=f;break}_t=t.return}}var uve=Math.ceil,J9=Rh.ReactCurrentDispatcher,rL=Rh.ReactCurrentOwner,il=Rh.ReactCurrentBatchConfig,Nr=0,Kn=null,_n=null,ds=0,Qo=0,fm=Up(0),jn=0,zw=null,Y0=0,g$=0,iL=0,V2=null,ko=null,nL=0,dg=1/0,rh=null,K9=!1,_E=null,mp=null,a_=!1,ep=null,Y9=0,U2=0,SE=null,J5=-1,K5=0;function no(){return Nr&6?dn():J5!==-1?J5:J5=dn()}function gp(e){return e.mode&1?Nr&2&&ds!==0?ds&-ds:Hge.transition!==null?(K5===0&&(K5=rQ()),K5):(e=ni,e!==0||(e=window.event,e=e===void 0?16:uQ(e.type)),e):1}function ru(e,t,r,i){if(50<U2)throw U2=0,SE=null,Error(Qe(185));G3(e,r,i),(!(Nr&2)||e!==Kn)&&(e===Kn&&(!(Nr&2)&&(g$|=r),jn===4&&Kd(e,ds)),Ao(e,i),r===1&&Nr===0&&!(t.mode&1)&&(dg=dn()+500,p$&&Gp()))}function Ao(e,t){var r=e.callbackNode;Hme(e,t);var i=A9(e,e===Kn?ds:0);if(i===0)r!==null&&gB(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&gB(r),t===1)e.tag===0?qge(uV.bind(null,e)):CQ(uV.bind(null,e)),Bge(function(){!(Nr&6)&&Gp()}),r=null;else{switch(iQ(i)){case 1:r=IR;break;case 4:r=eQ;break;case 16:r=O9;break;case 536870912:r=tQ;break;default:r=O9}r=Tee(r,bee.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bee(e,t){if(J5=-1,K5=0,Nr&6)throw Error(Qe(327));var r=e.callbackNode;if(Om()&&e.callbackNode!==r)return null;var i=A9(e,e===Kn?ds:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Z9(e,i);else{t=i;var n=Nr;Nr|=2;var o=xee();(Kn!==e||ds!==t)&&(rh=null,dg=dn()+500,A0(e,t));do try{dve();break}catch(f){wee(e,f)}while(!0);UR(),J9.current=o,Nr=n,_n!==null?t=0:(Kn=null,ds=0,t=jn)}if(t!==0){if(t===2&&(n=YC(e),n!==0&&(i=n,t=$E(e,n))),t===1)throw r=zw,A0(e,0),Kd(e,i),Ao(e,dn()),r;if(t===6)Kd(e,i);else{if(n=e.current.alternate,!(i&30)&&!cve(n)&&(t=Z9(e,i),t===2&&(o=YC(e),o!==0&&(i=o,t=$E(e,o))),t===1))throw r=zw,A0(e,0),Kd(e,i),Ao(e,dn()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(Qe(345));case 2:wf(e,ko,rh);break;case 3:if(Kd(e,i),(i&130023424)===i&&(t=nL+500-dn(),10<t)){if(A9(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){no(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=nE(wf.bind(null,e,ko,rh),t);break}wf(e,ko,rh);break;case 4:if(Kd(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var u=31-tu(i);o=1<<u,u=t[u],u>n&&(n=u),i&=~o}if(i=n,i=dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*uve(i/1960))-i,10<i){e.timeoutHandle=nE(wf.bind(null,e,ko,rh),i);break}wf(e,ko,rh);break;case 5:wf(e,ko,rh);break;default:throw Error(Qe(329))}}}return Ao(e,dn()),e.callbackNode===r?bee.bind(null,e):null}function $E(e,t){var r=V2;return e.current.memoizedState.isDehydrated&&(A0(e,t).flags|=256),e=Z9(e,t),e!==2&&(t=ko,ko=r,t!==null&&ME(t)),e}function ME(e){ko===null?ko=e:ko.push.apply(ko,e)}function cve(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],o=n.getSnapshot;n=n.value;try{if(!au(o(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kd(e,t){for(t&=~iL,t&=~g$,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tu(t),i=1<<r;e[r]=-1,t&=~i}}function uV(e){if(Nr&6)throw Error(Qe(327));Om();var t=A9(e,0);if(!(t&1))return Ao(e,dn()),null;var r=Z9(e,t);if(e.tag!==0&&r===2){var i=YC(e);i!==0&&(t=i,r=$E(e,i))}if(r===1)throw r=zw,A0(e,0),Kd(e,t),Ao(e,dn()),r;if(r===6)throw Error(Qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wf(e,ko,rh),Ao(e,dn()),null}function sL(e,t){var r=Nr;Nr|=1;try{return e(t)}finally{Nr=r,Nr===0&&(dg=dn()+500,p$&&Gp())}}function Z0(e){ep!==null&&ep.tag===0&&!(Nr&6)&&Om();var t=Nr;Nr|=1;var r=il.transition,i=ni;try{if(il.transition=null,ni=1,e)return e()}finally{ni=i,il.transition=r,Nr=t,!(Nr&6)&&Gp()}}function oL(){Qo=fm.current,Ii(fm)}function A0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zge(r)),_n!==null)for(r=_n.return;r!==null;){var i=r;switch(zR(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&F9();break;case 3:cg(),Ii(Po),Ii(Fs),KR();break;case 5:JR(i);break;case 4:cg();break;case 13:Ii(Wi);break;case 19:Ii(Wi);break;case 10:GR(i.type._context);break;case 22:case 23:oL()}r=r.return}if(Kn=e,_n=e=vp(e.current,null),ds=Qo=t,jn=0,zw=null,iL=g$=Y0=0,ko=V2=null,v0!==null){for(t=0;t<v0.length;t++)if(r=v0[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,o=r.pending;if(o!==null){var u=o.next;o.next=n,i.next=u}r.pending=i}v0=null}return e}function wee(e,t){do{var r=_n;try{if(UR(),q5.current=W9,H9){for(var i=Ji.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}H9=!1}if(K0=0,qn=On=Ji=null,z2=!1,Nw=0,rL.current=null,r===null||r.return===null){jn=1,zw=t,_n=null;break}e:{var o=e,u=r.return,f=r,m=t;if(t=ds,f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var v=m,_=f,$=_.tag;if(!(_.mode&1)&&($===0||$===11||$===15)){var T=_.alternate;T?(_.updateQueue=T.updateQueue,_.memoizedState=T.memoizedState,_.lanes=T.lanes):(_.updateQueue=null,_.memoizedState=null)}var I=YB(u);if(I!==null){I.flags&=-257,ZB(I,u,f,o,t),I.mode&1&&KB(o,v,t),t=I,m=v;var O=t.updateQueue;if(O===null){var A=new Set;A.add(m),t.updateQueue=A}else O.add(m);break e}else{if(!(t&1)){KB(o,v,t),aL();break e}m=Error(Qe(426))}}else if(Di&&f.mode&1){var N=YB(u);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ZB(N,u,f,o,t),BR(hg(m,f));break e}}o=m=hg(m,f),jn!==4&&(jn=2),V2===null?V2=[o]:V2.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var F=iee(o,m,t);UB(o,F);break e;case 1:f=m;var z=o.type,B=o.stateNode;if(!(o.flags&128)&&(typeof z.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(mp===null||!mp.has(B)))){o.flags|=65536,t&=-t,o.lanes|=t;var G=nee(o,f,t);UB(o,G);break e}}o=o.return}while(o!==null)}See(r)}catch(H){t=H,_n===r&&r!==null&&(_n=r=r.return);continue}break}while(!0)}function xee(){var e=J9.current;return J9.current=W9,e===null?W9:e}function aL(){(jn===0||jn===3||jn===2)&&(jn=4),Kn===null||!(Y0&268435455)&&!(g$&268435455)||Kd(Kn,ds)}function Z9(e,t){var r=Nr;Nr|=2;var i=xee();(Kn!==e||ds!==t)&&(rh=null,A0(e,t));do try{hve();break}catch(n){wee(e,n)}while(!0);if(UR(),Nr=r,J9.current=i,_n!==null)throw Error(Qe(261));return Kn=null,ds=0,jn}function hve(){for(;_n!==null;)_ee(_n)}function dve(){for(;_n!==null&&!Nme();)_ee(_n)}function _ee(e){var t=Mee(e.alternate,e,Qo);e.memoizedProps=e.pendingProps,t===null?See(e):_n=t,rL.current=null}function See(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sve(r,t),r!==null){r.flags&=32767,_n=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jn=6,_n=null;return}}else if(r=nve(r,t,Qo),r!==null){_n=r;return}if(t=t.sibling,t!==null){_n=t;return}_n=t=e}while(t!==null);jn===0&&(jn=5)}function wf(e,t,r){var i=ni,n=il.transition;try{il.transition=null,ni=1,pve(e,t,r,i)}finally{il.transition=n,ni=i}return null}function pve(e,t,r,i){do Om();while(ep!==null);if(Nr&6)throw Error(Qe(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Qe(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Wme(e,o),e===Kn&&(_n=Kn=null,ds=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||a_||(a_=!0,Tee(O9,function(){return Om(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=il.transition,il.transition=null;var u=ni;ni=1;var f=Nr;Nr|=4,rL.current=null,ave(e,r),gee(r,e),Age(rE),j9=!!tE,rE=tE=null,e.current=r,lve(r),Fme(),Nr=f,ni=u,il.transition=o}else e.current=r;if(a_&&(a_=!1,ep=e,Y9=n),o=e.pendingLanes,o===0&&(mp=null),Bme(r.stateNode),Ao(e,dn()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(K9)throw K9=!1,e=_E,_E=null,e;return Y9&1&&e.tag!==0&&Om(),o=e.pendingLanes,o&1?e===SE?U2++:(U2=0,SE=e):U2=0,Gp(),null}function Om(){if(ep!==null){var e=iQ(Y9),t=il.transition,r=ni;try{if(il.transition=null,ni=16>e?16:e,ep===null)var i=!1;else{if(e=ep,ep=null,Y9=0,Nr&6)throw Error(Qe(331));var n=Nr;for(Nr|=4,_t=e.current;_t!==null;){var o=_t,u=o.child;if(_t.flags&16){var f=o.deletions;if(f!==null){for(var m=0;m<f.length;m++){var v=f[m];for(_t=v;_t!==null;){var _=_t;switch(_.tag){case 0:case 11:case 15:B2(8,_,o)}var $=_.child;if($!==null)$.return=_,_t=$;else for(;_t!==null;){_=_t;var T=_.sibling,I=_.return;if(fee(_),_===v){_t=null;break}if(T!==null){T.return=I,_t=T;break}_t=I}}}var O=o.alternate;if(O!==null){var A=O.child;if(A!==null){O.child=null;do{var N=A.sibling;A.sibling=null,A=N}while(A!==null)}}_t=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,_t=u;else e:for(;_t!==null;){if(o=_t,o.flags&2048)switch(o.tag){case 0:case 11:case 15:B2(9,o,o.return)}var F=o.sibling;if(F!==null){F.return=o.return,_t=F;break e}_t=o.return}}var z=e.current;for(_t=z;_t!==null;){u=_t;var B=u.child;if(u.subtreeFlags&2064&&B!==null)B.return=u,_t=B;else e:for(u=z;_t!==null;){if(f=_t,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:m$(9,f)}}catch(H){sn(f,f.return,H)}if(f===u){_t=null;break e}var G=f.sibling;if(G!==null){G.return=f.return,_t=G;break e}_t=f.return}}if(Nr=n,Gp(),ec&&typeof ec.onPostCommitFiberRoot=="function")try{ec.onPostCommitFiberRoot(l$,e)}catch{}i=!0}return i}finally{ni=r,il.transition=t}}return!1}function cV(e,t,r){t=hg(r,t),t=iee(e,t,1),e=yp(e,t,1),t=no(),e!==null&&(G3(e,1,t),Ao(e,t))}function sn(e,t,r){if(e.tag===3)cV(e,e,r);else for(;t!==null;){if(t.tag===3){cV(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mp===null||!mp.has(i))){e=hg(r,e),e=nee(t,e,1),t=yp(t,e,1),e=no(),t!==null&&(G3(t,1,e),Ao(t,e));break}}t=t.return}}function fve(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=no(),e.pingedLanes|=e.suspendedLanes&r,Kn===e&&(ds&r)===r&&(jn===4||jn===3&&(ds&130023424)===ds&&500>dn()-nL?A0(e,0):iL|=r),Ao(e,t)}function $ee(e,t){t===0&&(e.mode&1?(t=Zx,Zx<<=1,!(Zx&130023424)&&(Zx=4194304)):t=1);var r=no();e=kh(e,t),e!==null&&(G3(e,t,r),Ao(e,r))}function yve(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$ee(e,r)}function mve(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Qe(314))}i!==null&&i.delete(t),$ee(e,r)}var Mee;Mee=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Po.current)Io=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Io=!1,ive(e,t,r);Io=!!(e.flags&131072)}else Io=!1,Di&&t.flags&1048576&&EQ(t,B9,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;W5(e,t),e=t.pendingProps;var n=ag(t,Fs.current);Pm(t,r),n=ZR(null,t,i,e,n,r);var o=XR();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(i)?(o=!0,D9(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,HR(t),n.updater=y$,t.stateNode=n,n._reactInternals=t,hE(t,i,e,r),t=fE(null,t,i,!0,o,r)):(t.tag=0,Di&&o&&DR(t),eo(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(W5(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=vve(i),e=ql(i,e),n){case 0:t=pE(null,t,i,e,r);break e;case 1:t=eV(null,t,i,e,r);break e;case 11:t=XB(null,t,i,e,r);break e;case 14:t=QB(null,t,i,ql(i.type,e),r);break e}throw Error(Qe(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ql(i,n),pE(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ql(i,n),eV(e,t,i,n,r);case 3:e:{if(lee(t),e===null)throw Error(Qe(387));i=t.pendingProps,o=t.memoizedState,n=o.element,RQ(e,t),G9(t,i,null,r);var u=t.memoizedState;if(i=u.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=hg(Error(Qe(423)),t),t=tV(e,t,i,r,n);break e}else if(i!==n){n=hg(Error(Qe(424)),t),t=tV(e,t,i,r,n);break e}else for(na=fp(t.stateNode.containerInfo.firstChild),oa=t,Di=!0,Yl=null,r=AQ(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lg(),i===n){t=Ch(e,t,r);break e}eo(e,t,i,r)}t=t.child}return t;case 5:return LQ(t),e===null&&lE(t),i=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,u=n.children,iE(i,n)?u=null:o!==null&&iE(i,o)&&(t.flags|=32),aee(e,t),eo(e,t,u,r),t.child;case 6:return e===null&&lE(t),null;case 13:return uee(e,t,r);case 4:return WR(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ug(t,null,i,r):eo(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ql(i,n),XB(e,t,i,n,r);case 7:return eo(e,t,t.pendingProps,r),t.child;case 8:return eo(e,t,t.pendingProps.children,r),t.child;case 12:return eo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,o=t.memoizedProps,u=n.value,wi(V9,i._currentValue),i._currentValue=u,o!==null)if(au(o.value,u)){if(o.children===n.children&&!Po.current){t=Ch(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){u=o.child;for(var m=f.firstContext;m!==null;){if(m.context===i){if(o.tag===1){m=gh(-1,r&-r),m.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var _=v.pending;_===null?m.next=m:(m.next=_.next,_.next=m),v.pending=m}}o.lanes|=r,m=o.alternate,m!==null&&(m.lanes|=r),uE(o.return,r,t),f.lanes|=r;break}m=m.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(Qe(341));u.lanes|=r,f=u.alternate,f!==null&&(f.lanes|=r),uE(u,r,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}eo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,Pm(t,r),n=hl(n),i=i(n),t.flags|=1,eo(e,t,i,r),t.child;case 14:return i=t.type,n=ql(i,t.pendingProps),n=ql(i.type,n),QB(e,t,i,n,r);case 15:return see(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:ql(i,n),W5(e,t),t.tag=1,Oo(i)?(e=!0,D9(t)):e=!1,Pm(t,r),ree(t,i,n),hE(t,i,n,r),fE(null,t,i,!0,e,r);case 19:return cee(e,t,r);case 22:return oee(e,t,r)}throw Error(Qe(156,t.tag))};function Tee(e,t){return QX(e,t)}function gve(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(e,t,r,i){return new gve(e,t,r,i)}function lL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vve(e){if(typeof e=="function")return lL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kR)return 11;if(e===CR)return 14}return 2}function vp(e,t){var r=e.alternate;return r===null?(r=Xa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Y5(e,t,r,i,n,o){var u=2;if(i=e,typeof e=="function")lL(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case nm:return j0(r.children,n,o,t);case TR:u=8,n|=8;break;case RC:return e=Xa(12,r,t,n|2),e.elementType=RC,e.lanes=o,e;case LC:return e=Xa(13,r,t,n),e.elementType=LC,e.lanes=o,e;case NC:return e=Xa(19,r,t,n),e.elementType=NC,e.lanes=o,e;case LX:return v$(r,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jX:u=10;break e;case RX:u=9;break e;case kR:u=11;break e;case CR:u=14;break e;case Dd:u=16,i=null;break e}throw Error(Qe(130,e==null?e:typeof e,""))}return t=Xa(u,r,t,n),t.elementType=e,t.type=i,t.lanes=o,t}function j0(e,t,r,i){return e=Xa(7,e,i,t),e.lanes=r,e}function v$(e,t,r,i){return e=Xa(22,e,i,t),e.elementType=LX,e.lanes=r,e.stateNode={isHidden:!1},e}function lT(e,t,r){return e=Xa(6,e,null,t),e.lanes=r,e}function uT(e,t,r){return t=Xa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bve(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=UM(0),this.expirationTimes=UM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=UM(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function uL(e,t,r,i,n,o,u,f,m){return e=new bve(e,t,r,f,m),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Xa(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},HR(o),e}function wve(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:im,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function kee(e){if(!e)return kp;e=e._reactInternals;e:{if(M1(e)!==e||e.tag!==1)throw Error(Qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qe(171))}if(e.tag===1){var r=e.type;if(Oo(r))return kQ(e,r,t)}return t}function Cee(e,t,r,i,n,o,u,f,m){return e=uL(r,i,!0,e,n,o,u,f,m),e.context=kee(null),r=e.current,i=no(),n=gp(r),o=gh(i,n),o.callback=t??null,yp(r,o,n),e.current.lanes=n,G3(e,n,i),Ao(e,i),e}function b$(e,t,r,i){var n=t.current,o=no(),u=gp(n);return r=kee(r),t.context===null?t.context=r:t.pendingContext=r,t=gh(o,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=yp(n,t,u),e!==null&&(ru(e,n,u,o),G5(e,n,u)),u}function X9(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cL(e,t){hV(e,t),(e=e.alternate)&&hV(e,t)}function xve(){return null}var Eee=typeof reportError=="function"?reportError:function(e){console.error(e)};function hL(e){this._internalRoot=e}w$.prototype.render=hL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qe(409));b$(e,t,null,null)};w$.prototype.unmount=hL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Z0(function(){b$(null,e,null,null)}),t[Th]=null}};function w$(e){this._internalRoot=e}w$.prototype.unstable_scheduleHydration=function(e){if(e){var t=oQ();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jd.length&&t!==0&&t<Jd[r].priority;r++);Jd.splice(r,0,e),r===0&&lQ(e)}};function dL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dV(){}function _ve(e,t,r,i,n){if(n){if(typeof i=="function"){var o=i;i=function(){var v=X9(u);o.call(v)}}var u=Cee(t,i,e,0,null,!1,!1,"",dV);return e._reactRootContainer=u,e[Th]=u.current,Ow(e.nodeType===8?e.parentNode:e),Z0(),u}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var f=i;i=function(){var v=X9(m);f.call(v)}}var m=uL(e,0,!1,null,null,!1,!1,"",dV);return e._reactRootContainer=m,e[Th]=m.current,Ow(e.nodeType===8?e.parentNode:e),Z0(function(){b$(t,m,r,i)}),m}function _$(e,t,r,i,n){var o=r._reactRootContainer;if(o){var u=o;if(typeof n=="function"){var f=n;n=function(){var m=X9(u);f.call(m)}}b$(t,u,e,n)}else u=_ve(r,t,e,n,i);return X9(u)}nQ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mb(t.pendingLanes);r!==0&&(PR(t,r|1),Ao(t,dn()),!(Nr&6)&&(dg=dn()+500,Gp()))}break;case 13:Z0(function(){var i=kh(e,1);if(i!==null){var n=no();ru(i,e,1,n)}}),cL(e,1)}};OR=function(e){if(e.tag===13){var t=kh(e,134217728);if(t!==null){var r=no();ru(t,e,134217728,r)}cL(e,134217728)}};sQ=function(e){if(e.tag===13){var t=gp(e),r=kh(e,t);if(r!==null){var i=no();ru(r,e,t,i)}cL(e,t)}};oQ=function(){return ni};aQ=function(e,t){var r=ni;try{return ni=e,t()}finally{ni=r}};WC=function(e,t,r){switch(t){case"input":if(zC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=d$(i);if(!n)throw Error(Qe(90));FX(i),zC(i,n)}}}break;case"textarea":zX(e,r);break;case"select":t=r.value,t!=null&&km(e,!!r.multiple,t,!1)}};WX=sL;JX=Z0;var Sve={usingClientEntryPoint:!1,Events:[H3,lm,d$,qX,HX,sL]},Dv={findFiberByHostInstance:g0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$ve={bundleType:Dv.bundleType,version:Dv.version,rendererPackageName:Dv.rendererPackageName,rendererConfig:Dv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZX(e),e===null?null:e.stateNode},findFiberByHostInstance:Dv.findFiberByHostInstance||xve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{l$=l_.inject($ve),ec=l_}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sve;ga.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dL(t))throw Error(Qe(200));return wve(e,t,null,r)};ga.createRoot=function(e,t){if(!dL(e))throw Error(Qe(299));var r=!1,i="",n=Eee;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=uL(e,1,!1,null,null,r,!1,i,n),e[Th]=t.current,Ow(e.nodeType===8?e.parentNode:e),new hL(t)};ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qe(188)):(e=Object.keys(e).join(","),Error(Qe(268,e)));return e=ZX(t),e=e===null?null:e.stateNode,e};ga.flushSync=function(e){return Z0(e)};ga.hydrate=function(e,t,r){if(!x$(t))throw Error(Qe(200));return _$(null,e,t,!0,r)};ga.hydrateRoot=function(e,t,r){if(!dL(e))throw Error(Qe(405));var i=r!=null&&r.hydratedSources||null,n=!1,o="",u=Eee;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=Cee(t,null,e,1,r??null,n,!1,o,u),e[Th]=t.current,Ow(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new w$(t)};ga.render=function(e,t,r){if(!x$(t))throw Error(Qe(200));return _$(null,e,t,!1,r)};ga.unmountComponentAtNode=function(e){if(!x$(e))throw Error(Qe(40));return e._reactRootContainer?(Z0(function(){_$(null,null,e,!1,function(){e._reactRootContainer=null,e[Th]=null})}),!0):!1};ga.unstable_batchedUpdates=sL;ga.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!x$(r))throw Error(Qe(200));if(e==null||e._reactInternals===void 0)throw Error(Qe(38));return _$(e,t,r,!1,i)};ga.version="18.3.1-next-f1338f8080-20240426";function Iee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iee)}catch(e){console.error(e)}}Iee(),IX.exports=ga;var S$=IX.exports;const u_=an(S$);var Pee,pV=S$;Pee=pV.createRoot,pV.hydrateRoot;const ln=W.createContext(),Mve=e=>{let[t,r]=W.useState(null),[i,n]=W.useState(null),[o,u]=W.useState("https://stage-api.arkadiahrestores.earth"),[f,m]=W.useState("09RRQQPFU0AYTS31"),[v,_]=W.useState("$2a$10$5gw/4fQeV8.5gh7Sa2jIAO7f99NzB/J2MD2B.cdfgWMIwvoj990hq"),[$,T]=W.useState(null),[I,O]=W.useState(!1);const[A,N]=W.useState(!1);let[F,z]=W.useState(null),[B,G]=W.useState(0),[H,J]=W.useState(!1);return L.jsx(ln.Provider,{value:{viewObj:t,setViewObj:r,protectedAreaFlorian:$,setProtectedAreaFlorian:T,token:i,setToken:n,apiUrl:o,setApiUrl:u,clientId:f,setClientId:m,clientSecret:v,setClientSecret:_,checked:I,setChecked:O,aoi:F,setAoi:z,loading:A,setLoading:N,area:B,setArea:G,projectPassed:H,setProjectPassed:J},children:e.children})};function X0(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const iu="$$material";function Q9(){return Q9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Q9.apply(null,arguments)}function Oee(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Tve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kve=Oee(function(e){return Tve.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Cve=!1;function Eve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Ive(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Pve=function(){function e(r){var i=this;this._insertTag=function(n){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(n,o),i.tags.push(n)},this.isSpeedy=r.speedy===void 0?!Cve:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ive(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Eve(n);try{o.insertRule(i,o.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var n;return(n=i.parentNode)==null?void 0:n.removeChild(i)}),this.tags=[],this.ctr=0},e}(),$s="-ms-",e4="-moz-",Gr="-webkit-",Aee="comm",pL="rule",fL="decl",Ove="@import",jee="@keyframes",Ave="@layer",jve=Math.abs,$$=String.fromCharCode,Rve=Object.assign;function Lve(e,t){return ls(e,0)^45?(((t<<2^ls(e,0))<<2^ls(e,1))<<2^ls(e,2))<<2^ls(e,3):0}function Ree(e){return e.trim()}function Nve(e,t){return(e=t.exec(e))?e[0]:e}function qr(e,t,r){return e.replace(t,r)}function TE(e,t){return e.indexOf(t)}function ls(e,t){return e.charCodeAt(t)|0}function Bw(e,t,r){return e.slice(t,r)}function qu(e){return e.length}function yL(e){return e.length}function c_(e,t){return t.push(e),e}function Fve(e,t){return e.map(t).join("")}var M$=1,pg=1,Lee=0,Lo=0,xn=0,Gg="";function T$(e,t,r,i,n,o,u){return{value:e,root:t,parent:r,type:i,props:n,children:o,line:M$,column:pg,length:u,return:""}}function zv(e,t){return Rve(T$("",null,null,"",null,null,0),e,{length:-e.length},t)}function Dve(){return xn}function zve(){return xn=Lo>0?ls(Gg,--Lo):0,pg--,xn===10&&(pg=1,M$--),xn}function aa(){return xn=Lo<Lee?ls(Gg,Lo++):0,pg++,xn===10&&(pg=1,M$++),xn}function rc(){return ls(Gg,Lo)}function Z5(){return Lo}function J3(e,t){return Bw(Gg,e,t)}function Vw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Nee(e){return M$=pg=1,Lee=qu(Gg=e),Lo=0,[]}function Fee(e){return Gg="",e}function X5(e){return Ree(J3(Lo-1,kE(e===91?e+2:e===40?e+1:e)))}function Bve(e){for(;(xn=rc())&&xn<33;)aa();return Vw(e)>2||Vw(xn)>3?"":" "}function Vve(e,t){for(;--t&&aa()&&!(xn<48||xn>102||xn>57&&xn<65||xn>70&&xn<97););return J3(e,Z5()+(t<6&&rc()==32&&aa()==32))}function kE(e){for(;aa();)switch(xn){case e:return Lo;case 34:case 39:e!==34&&e!==39&&kE(xn);break;case 40:e===41&&kE(e);break;case 92:aa();break}return Lo}function Uve(e,t){for(;aa()&&e+xn!==57;)if(e+xn===84&&rc()===47)break;return"/*"+J3(t,Lo-1)+"*"+$$(e===47?e:aa())}function Gve(e){for(;!Vw(rc());)aa();return J3(e,Lo)}function qve(e){return Fee(Q5("",null,null,null,[""],e=Nee(e),0,[0],e))}function Q5(e,t,r,i,n,o,u,f,m){for(var v=0,_=0,$=u,T=0,I=0,O=0,A=1,N=1,F=1,z=0,B="",G=n,H=o,J=i,Z=B;N;)switch(O=z,z=aa()){case 40:if(O!=108&&ls(Z,$-1)==58){TE(Z+=qr(X5(z),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:Z+=X5(z);break;case 9:case 10:case 13:case 32:Z+=Bve(O);break;case 92:Z+=Vve(Z5()-1,7);continue;case 47:switch(rc()){case 42:case 47:c_(Hve(Uve(aa(),Z5()),t,r),m);break;default:Z+="/"}break;case 123*A:f[v++]=qu(Z)*F;case 125*A:case 59:case 0:switch(z){case 0:case 125:N=0;case 59+_:F==-1&&(Z=qr(Z,/\f/g,"")),I>0&&qu(Z)-$&&c_(I>32?yV(Z+";",i,r,$-1):yV(qr(Z," ","")+";",i,r,$-2),m);break;case 59:Z+=";";default:if(c_(J=fV(Z,t,r,v,_,n,f,B,G=[],H=[],$),o),z===123)if(_===0)Q5(Z,t,J,J,G,o,$,f,H);else switch(T===99&&ls(Z,3)===110?100:T){case 100:case 108:case 109:case 115:Q5(e,J,J,i&&c_(fV(e,J,J,0,0,n,f,B,n,G=[],$),H),n,H,$,f,i?G:H);break;default:Q5(Z,J,J,J,[""],H,0,f,H)}}v=_=I=0,A=F=1,B=Z="",$=u;break;case 58:$=1+qu(Z),I=O;default:if(A<1){if(z==123)--A;else if(z==125&&A++==0&&zve()==125)continue}switch(Z+=$$(z),z*A){case 38:F=_>0?1:(Z+="\f",-1);break;case 44:f[v++]=(qu(Z)-1)*F,F=1;break;case 64:rc()===45&&(Z+=X5(aa())),T=rc(),_=$=qu(B=Z+=Gve(Z5())),z++;break;case 45:O===45&&qu(Z)==2&&(A=0)}}return o}function fV(e,t,r,i,n,o,u,f,m,v,_){for(var $=n-1,T=n===0?o:[""],I=yL(T),O=0,A=0,N=0;O<i;++O)for(var F=0,z=Bw(e,$+1,$=jve(A=u[O])),B=e;F<I;++F)(B=Ree(A>0?T[F]+" "+z:qr(z,/&\f/g,T[F])))&&(m[N++]=B);return T$(e,t,r,n===0?pL:f,m,v,_)}function Hve(e,t,r){return T$(e,t,r,Aee,$$(Dve()),Bw(e,2,-2),0)}function yV(e,t,r,i){return T$(e,t,r,fL,Bw(e,0,i),Bw(e,i+1,-1),i)}function Am(e,t){for(var r="",i=yL(e),n=0;n<i;n++)r+=t(e[n],n,e,t)||"";return r}function Wve(e,t,r,i){switch(e.type){case Ave:if(e.children.length)break;case Ove:case fL:return e.return=e.return||e.value;case Aee:return"";case jee:return e.return=e.value+"{"+Am(e.children,i)+"}";case pL:e.value=e.props.join(",")}return qu(r=Am(e.children,i))?e.return=e.value+"{"+r+"}":""}function Jve(e){var t=yL(e);return function(r,i,n,o){for(var u="",f=0;f<t;f++)u+=e[f](r,i,n,o)||"";return u}}function Kve(e){return function(t){t.root||(t=t.return)&&e(t)}}var Yve=function(t,r,i){for(var n=0,o=0;n=o,o=rc(),n===38&&o===12&&(r[i]=1),!Vw(o);)aa();return J3(t,Lo)},Zve=function(t,r){var i=-1,n=44;do switch(Vw(n)){case 0:n===38&&rc()===12&&(r[i]=1),t[i]+=Yve(Lo-1,r,i);break;case 2:t[i]+=X5(n);break;case 4:if(n===44){t[++i]=rc()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=$$(n)}while(n=aa());return t},Xve=function(t,r){return Fee(Zve(Nee(t),r))},mV=new WeakMap,Qve=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,n=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!mV.get(i))&&!n){mV.set(t,!0);for(var o=[],u=Xve(r,o),f=i.props,m=0,v=0;m<u.length;m++)for(var _=0;_<f.length;_++,v++)t.props[v]=o[m]?u[m].replace(/&\f/g,f[_]):f[_]+" "+u[m]}}},ebe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Dee(e,t){switch(Lve(e,t)){case 5103:return Gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Gr+e+e4+e+$s+e+e;case 6828:case 4268:return Gr+e+$s+e+e;case 6165:return Gr+e+$s+"flex-"+e+e;case 5187:return Gr+e+qr(e,/(\w+).+(:[^]+)/,Gr+"box-$1$2"+$s+"flex-$1$2")+e;case 5443:return Gr+e+$s+"flex-item-"+qr(e,/flex-|-self/,"")+e;case 4675:return Gr+e+$s+"flex-line-pack"+qr(e,/align-content|flex-|-self/,"")+e;case 5548:return Gr+e+$s+qr(e,"shrink","negative")+e;case 5292:return Gr+e+$s+qr(e,"basis","preferred-size")+e;case 6060:return Gr+"box-"+qr(e,"-grow","")+Gr+e+$s+qr(e,"grow","positive")+e;case 4554:return Gr+qr(e,/([^-])(transform)/g,"$1"+Gr+"$2")+e;case 6187:return qr(qr(qr(e,/(zoom-|grab)/,Gr+"$1"),/(image-set)/,Gr+"$1"),e,"")+e;case 5495:case 3959:return qr(e,/(image-set\([^]*)/,Gr+"$1$`$1");case 4968:return qr(qr(e,/(.+:)(flex-)?(.*)/,Gr+"box-pack:$3"+$s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gr+e+e;case 4095:case 3583:case 4068:case 2532:return qr(e,/(.+)-inline(.+)/,Gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qu(e)-1-t>6)switch(ls(e,t+1)){case 109:if(ls(e,t+4)!==45)break;case 102:return qr(e,/(.+:)(.+)-([^]+)/,"$1"+Gr+"$2-$3$1"+e4+(ls(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~TE(e,"stretch")?Dee(qr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ls(e,t+1)!==115)break;case 6444:switch(ls(e,qu(e)-3-(~TE(e,"!important")&&10))){case 107:return qr(e,":",":"+Gr)+e;case 101:return qr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gr+(ls(e,14)===45?"inline-":"")+"box$3$1"+Gr+"$2$3$1"+$s+"$2box$3")+e}break;case 5936:switch(ls(e,t+11)){case 114:return Gr+e+$s+qr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Gr+e+$s+qr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Gr+e+$s+qr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Gr+e+$s+e+e}return e}var tbe=function(t,r,i,n){if(t.length>-1&&!t.return)switch(t.type){case fL:t.return=Dee(t.value,t.length);break;case jee:return Am([zv(t,{value:qr(t.value,"@","@"+Gr)})],n);case pL:if(t.length)return Fve(t.props,function(o){switch(Nve(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Am([zv(t,{props:[qr(o,/:(read-\w+)/,":"+e4+"$1")]})],n);case"::placeholder":return Am([zv(t,{props:[qr(o,/:(plac\w+)/,":"+Gr+"input-$1")]}),zv(t,{props:[qr(o,/:(plac\w+)/,":"+e4+"$1")]}),zv(t,{props:[qr(o,/:(plac\w+)/,$s+"input-$1")]})],n)}return""})}},rbe=[tbe],ibe=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var N=A.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var n=t.stylisPlugins||rbe,o={},u,f=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(A){for(var N=A.getAttribute("data-emotion").split(" "),F=1;F<N.length;F++)o[N[F]]=!0;f.push(A)});var m,v=[Qve,ebe];{var _,$=[Wve,Kve(function(A){_.insert(A)})],T=Jve(v.concat(n,$)),I=function(N){return Am(qve(N),T)};m=function(N,F,z,B){_=z,I(N?N+"{"+F.styles+"}":F.styles),B&&(O.inserted[F.name]=!0)}}var O={key:r,sheet:new Pve({key:r,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:m};return O.sheet.hydrate(f),O},zee={exports:{}},si={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=typeof Symbol=="function"&&Symbol.for,mL=Qn?Symbol.for("react.element"):60103,gL=Qn?Symbol.for("react.portal"):60106,k$=Qn?Symbol.for("react.fragment"):60107,C$=Qn?Symbol.for("react.strict_mode"):60108,E$=Qn?Symbol.for("react.profiler"):60114,I$=Qn?Symbol.for("react.provider"):60109,P$=Qn?Symbol.for("react.context"):60110,vL=Qn?Symbol.for("react.async_mode"):60111,O$=Qn?Symbol.for("react.concurrent_mode"):60111,A$=Qn?Symbol.for("react.forward_ref"):60112,j$=Qn?Symbol.for("react.suspense"):60113,nbe=Qn?Symbol.for("react.suspense_list"):60120,R$=Qn?Symbol.for("react.memo"):60115,L$=Qn?Symbol.for("react.lazy"):60116,sbe=Qn?Symbol.for("react.block"):60121,obe=Qn?Symbol.for("react.fundamental"):60117,abe=Qn?Symbol.for("react.responder"):60118,lbe=Qn?Symbol.for("react.scope"):60119;function ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mL:switch(e=e.type,e){case vL:case O$:case k$:case E$:case C$:case j$:return e;default:switch(e=e&&e.$$typeof,e){case P$:case A$:case L$:case R$:case I$:return e;default:return t}}case gL:return t}}}function Bee(e){return ba(e)===O$}si.AsyncMode=vL;si.ConcurrentMode=O$;si.ContextConsumer=P$;si.ContextProvider=I$;si.Element=mL;si.ForwardRef=A$;si.Fragment=k$;si.Lazy=L$;si.Memo=R$;si.Portal=gL;si.Profiler=E$;si.StrictMode=C$;si.Suspense=j$;si.isAsyncMode=function(e){return Bee(e)||ba(e)===vL};si.isConcurrentMode=Bee;si.isContextConsumer=function(e){return ba(e)===P$};si.isContextProvider=function(e){return ba(e)===I$};si.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mL};si.isForwardRef=function(e){return ba(e)===A$};si.isFragment=function(e){return ba(e)===k$};si.isLazy=function(e){return ba(e)===L$};si.isMemo=function(e){return ba(e)===R$};si.isPortal=function(e){return ba(e)===gL};si.isProfiler=function(e){return ba(e)===E$};si.isStrictMode=function(e){return ba(e)===C$};si.isSuspense=function(e){return ba(e)===j$};si.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===k$||e===O$||e===E$||e===C$||e===j$||e===nbe||typeof e=="object"&&e!==null&&(e.$$typeof===L$||e.$$typeof===R$||e.$$typeof===I$||e.$$typeof===P$||e.$$typeof===A$||e.$$typeof===obe||e.$$typeof===abe||e.$$typeof===lbe||e.$$typeof===sbe)};si.typeOf=ba;zee.exports=si;var ube=zee.exports,Vee=ube,cbe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hbe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Uee={};Uee[Vee.ForwardRef]=cbe;Uee[Vee.Memo]=hbe;var dbe=!0;function pbe(e,t,r){var i="";return r.split(" ").forEach(function(n){e[n]!==void 0?t.push(e[n]+";"):i+=n+" "}),i}var Gee=function(t,r,i){var n=t.key+"-"+r.name;(i===!1||dbe===!1)&&t.registered[n]===void 0&&(t.registered[n]=r.styles)},qee=function(t,r,i){Gee(t,r,i);var n=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+n:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function fbe(e){for(var t=0,r,i=0,n=e.length;n>=4;++i,n-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(n){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ybe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mbe=!1,gbe=/[A-Z]|^ms/g,vbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Hee=function(t){return t.charCodeAt(1)===45},gV=function(t){return t!=null&&typeof t!="boolean"},cT=Oee(function(e){return Hee(e)?e:e.replace(gbe,"-$&").toLowerCase()}),vV=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(vbe,function(i,n,o){return Hu={name:n,styles:o,next:Hu},n})}return ybe[t]!==1&&!Hee(t)&&typeof r=="number"&&r!==0?r+"px":r},bbe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Uw(e,t,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var n=r;if(n.anim===1)return Hu={name:n.name,styles:n.styles,next:Hu},n.name;var o=r;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Hu={name:u.name,styles:u.styles,next:Hu},u=u.next;var f=o.styles+";";return f}return wbe(e,t,r)}case"function":{if(e!==void 0){var m=Hu,v=r(e);return Hu=m,Uw(e,t,v)}break}}var _=r;if(t==null)return _;var $=t[_];return $!==void 0?$:_}function wbe(e,t,r){var i="";if(Array.isArray(r))for(var n=0;n<r.length;n++)i+=Uw(e,t,r[n])+";";else for(var o in r){var u=r[o];if(typeof u!="object"){var f=u;t!=null&&t[f]!==void 0?i+=o+"{"+t[f]+"}":gV(f)&&(i+=cT(o)+":"+vV(o,f)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&mbe)throw new Error(bbe);if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var m=0;m<u.length;m++)gV(u[m])&&(i+=cT(o)+":"+vV(o,u[m])+";");else{var v=Uw(e,t,u);switch(o){case"animation":case"animationName":{i+=cT(o)+":"+v+";";break}default:i+=o+"{"+v+"}"}}}}return i}var bV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hu;function bL(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,n="";Hu=void 0;var o=e[0];if(o==null||o.raw===void 0)i=!1,n+=Uw(r,t,o);else{var u=o;n+=u[0]}for(var f=1;f<e.length;f++)if(n+=Uw(r,t,e[f]),i){var m=o;n+=m[f]}bV.lastIndex=0;for(var v="",_;(_=bV.exec(n))!==null;)v+="-"+_[1];var $=fbe(n)+v;return{name:$,styles:n,next:Hu}}var xbe=function(t){return t()},Wee=AC.useInsertionEffect?AC.useInsertionEffect:!1,_be=Wee||xbe,wV=Wee||W.useLayoutEffect,Jee=W.createContext(typeof HTMLElement<"u"?ibe({key:"css"}):null);Jee.Provider;var Kee=function(t){return W.forwardRef(function(r,i){var n=W.useContext(Jee);return t(r,n,i)})},N$=W.createContext({}),Sbe=Kee(function(e,t){var r=e.styles,i=bL([r],void 0,W.useContext(N$)),n=W.useRef();return wV(function(){var o=t.key+"-global",u=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),f=!1,m=document.querySelector('style[data-emotion="'+o+" "+i.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),m!==null&&(f=!0,m.setAttribute("data-emotion",o),u.hydrate([m])),n.current=[u,f],function(){u.flush()}},[t]),wV(function(){var o=n.current,u=o[0],f=o[1];if(f){o[1]=!1;return}if(i.next!==void 0&&qee(t,i.next,!0),u.tags.length){var m=u.tags[u.tags.length-1].nextElementSibling;u.before=m,u.flush()}t.insert("",i,u,!1)},[t,i.name]),null});function qg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return bL(t)}var qp=function(){var t=qg.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},$be=kve,Mbe=function(t){return t!=="theme"},xV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?$be:Mbe},_V=function(t,r,i){var n;if(r){var o=r.shouldForwardProp;n=t.__emotion_forwardProp&&o?function(u){return t.__emotion_forwardProp(u)&&o(u)}:o}return typeof n!="function"&&i&&(n=t.__emotion_forwardProp),n},Tbe=!1,kbe=function(t){var r=t.cache,i=t.serialized,n=t.isStringTag;return Gee(r,i,n),_be(function(){return qee(r,i,n)}),null},Cbe=function e(t,r){var i=t.__emotion_real===t,n=i&&t.__emotion_base||t,o,u;r!==void 0&&(o=r.label,u=r.target);var f=_V(t,r,i),m=f||xV(n),v=!m("as");return function(){var _=arguments,$=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&$.push("label:"+o+";"),_[0]==null||_[0].raw===void 0)$.push.apply($,_);else{$.push(_[0][0]);for(var T=_.length,I=1;I<T;I++)$.push(_[I],_[0][I])}var O=Kee(function(A,N,F){var z=v&&A.as||n,B="",G=[],H=A;if(A.theme==null){H={};for(var J in A)H[J]=A[J];H.theme=W.useContext(N$)}typeof A.className=="string"?B=pbe(N.registered,G,A.className):A.className!=null&&(B=A.className+" ");var Z=bL($.concat(G),N.registered,H);B+=N.key+"-"+Z.name,u!==void 0&&(B+=" "+u);var re=v&&f===void 0?xV(z):m,q={};for(var X in A)v&&X==="as"||re(X)&&(q[X]=A[X]);return q.className=B,F&&(q.ref=F),W.createElement(W.Fragment,null,W.createElement(kbe,{cache:N,serialized:Z,isStringTag:typeof z=="string"}),W.createElement(z,q))});return O.displayName=o!==void 0?o:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=n,O.__emotion_styles=$,O.__emotion_forwardProp=f,Object.defineProperty(O,"toString",{value:function(){return u===void 0&&Tbe?"NO_COMPONENT_SELECTOR":"."+u}}),O.withComponent=function(A,N){return e(A,Q9({},r,N,{shouldForwardProp:_V(O,N,!0)})).apply(void 0,$)},O}},Ebe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],CE=Cbe.bind();Ebe.forEach(function(e){CE[e]=CE(e)});var Yee={exports:{}},Ibe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pbe=Ibe,Obe=Pbe;function Zee(){}function Xee(){}Xee.resetWarningCache=Zee;var Abe=function(){function e(i,n,o,u,f,m){if(m!==Obe){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xee,resetWarningCache:Zee};return r.PropTypes=r,r};Yee.exports=Abe();var jbe=Yee.exports;const Oe=an(jbe);function Rbe(e){return e==null||Object.keys(e).length===0}function Qee(e){const{styles:t,defaultTheme:r={}}=e,i=typeof t=="function"?n=>t(Rbe(n)?r:n):t;return L.jsx(Sbe,{styles:i})}/**
 * @mui/styled-engine v6.0.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ete(e,t){return CE(e,t)}const Lbe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Yu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tte(e){if(!Yu(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=tte(e[r])}),t}function so(e,t,r={clone:!0}){const i=r.clone?{...e}:e;return Yu(e)&&Yu(t)&&Object.keys(t).forEach(n=>{Yu(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Yu(e[n])?i[n]=so(e[n],t[n],r):r.clone?i[n]=Yu(t[n])?tte(t[n]):t[n]:i[n]=t[n]}),i}const Nbe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,i)=>r.val-i.val),t.reduce((r,i)=>({...r,[i.key]:i.val}),{})};function Fbe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:i=5,...n}=e,o=Nbe(t),u=Object.keys(o);function f(T){return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${r})`}function m(T){return`@media (max-width:${(typeof t[T]=="number"?t[T]:T)-i/100}${r})`}function v(T,I){const O=u.indexOf(I);return`@media (min-width:${typeof t[T]=="number"?t[T]:T}${r}) and (max-width:${(O!==-1&&typeof t[u[O]]=="number"?t[u[O]]:I)-i/100}${r})`}function _(T){return u.indexOf(T)+1<u.length?v(T,u[u.indexOf(T)+1]):f(T)}function $(T){const I=u.indexOf(T);return I===0?f(u[1]):I===u.length-1?m(u[I]):v(T,u[u.indexOf(T)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:f,down:m,between:v,only:_,not:$,unit:r,...n}}function Dbe(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,n)=>{var u,f;const o=/min-width:\s*([0-9.]+)/;return+(((u=i.match(o))==null?void 0:u[1])||0)-+(((f=n.match(o))==null?void 0:f[1])||0)});return r.length?r.reduce((i,n)=>{const o=t[n];return delete i[n],i[n]=o,i},{...t}):t}function zbe(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function Bbe(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,i,n]=r,o=Number.isNaN(+i)?i||0:+i;return e.containerQueries(n).up(o)}function Vbe(e){const t=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function r(o,u){o.up=(...f)=>t(e.breakpoints.up(...f),u),o.down=(...f)=>t(e.breakpoints.down(...f),u),o.between=(...f)=>t(e.breakpoints.between(...f),u),o.only=(...f)=>t(e.breakpoints.only(...f),u),o.not=(...f)=>{const m=t(e.breakpoints.not(...f),u);return m.includes("not all and")?m.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):m}}const i={},n=o=>(r(i,o),i);return r(n),{...e,containerQueries:n}}const Ube={borderRadius:4};function G2(e,t){return t?so(e,t,{clone:!1}):e}const F$={xs:0,sm:600,md:900,lg:1200,xl:1536},SV={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${F$[e]}px)`},Gbe={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:F$[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function No(e,t,r){const i=e.theme||{};if(Array.isArray(t)){const o=i.breakpoints||SV;return t.reduce((u,f,m)=>(u[o.up(o.keys[m])]=r(t[m]),u),{})}if(typeof t=="object"){const o=i.breakpoints||SV;return Object.keys(t).reduce((u,f)=>{if(zbe(o.keys,f)){const m=Bbe(i.containerQueries?i:Gbe,f);m&&(u[m]=r(t[f],f))}else if(Object.keys(o.values||F$).includes(f)){const m=o.up(f);u[m]=r(t[f],f)}else{const m=f;u[m]=t[m]}return u},{})}return r(t)}function rte(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((i,n)=>{const o=e.up(n);return i[o]={},i},{}))||{}}function ite(e,t){return e.reduce((r,i)=>{const n=r[i];return(!n||Object.keys(n).length===0)&&delete r[i],r},t)}function qbe(e,...t){const r=rte(e),i=[r,...t].reduce((n,o)=>so(n,o),{});return ite(Object.keys(r),i)}function Hbe(e,t){if(typeof e!="object")return{};const r={},i=Object.keys(t);return Array.isArray(e)?i.forEach((n,o)=>{o<e.length&&(r[n]=!0)}):i.forEach(n=>{e[n]!=null&&(r[n]=!0)}),r}function R0({values:e,breakpoints:t,base:r}){const i=r||Hbe(e,t),n=Object.keys(i);if(n.length===0)return e;let o;return n.reduce((u,f,m)=>(Array.isArray(e)?(u[f]=e[m]!=null?e[m]:e[o],o=m):typeof e=="object"?(u[f]=e[f]!=null?e[f]:e[o],o=f):u[f]=e,u),{})}function We(e){if(typeof e!="string")throw new Error(X0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function D$(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const i=`vars.${t}`.split(".").reduce((n,o)=>n&&n[o]?n[o]:null,e);if(i!=null)return i}return t.split(".").reduce((i,n)=>i&&i[n]!=null?i[n]:null,e)}function t4(e,t,r,i=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||i:n=D$(e,r)||i,t&&(n=t(n,i,e)),n}function fn(e){const{prop:t,cssProperty:r=e.prop,themeKey:i,transform:n}=e,o=u=>{if(u[t]==null)return null;const f=u[t],m=u.theme,v=D$(m,i)||{};return No(u,f,$=>{let T=t4(v,n,$);return $===T&&typeof $=="string"&&(T=t4(v,n,`${t}${$==="default"?"":We($)}`,$)),r===!1?T:{[r]:T}})};return o.propTypes={},o.filterProps=[t],o}function Wbe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Jbe={m:"margin",p:"padding"},Kbe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$V={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ybe=Wbe(e=>{if(e.length>2)if($V[e])e=$V[e];else return[e];const[t,r]=e.split(""),i=Jbe[t],n=Kbe[r]||"";return Array.isArray(n)?n.map(o=>i+o):[i+n]}),wL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wL,...xL];function K3(e,t,r,i){const n=D$(e,t,!0)??r;return typeof n=="number"||typeof n=="string"?o=>typeof o=="string"?o:typeof n=="string"?`calc(${o} * ${n})`:n*o:Array.isArray(n)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),f=n[u];return o>=0?f:typeof f=="number"?-f:`-${f}`}:typeof n=="function"?n:()=>{}}function z$(e){return K3(e,"spacing",8)}function Q0(e,t){return typeof t=="string"||t==null?t:e(t)}function Zbe(e,t){return r=>e.reduce((i,n)=>(i[n]=Q0(t,r),i),{})}function Xbe(e,t,r,i){if(!t.includes(r))return null;const n=Ybe(r),o=Zbe(n,i),u=e[r];return No(e,u,o)}function nte(e,t){const r=z$(e.theme);return Object.keys(e).map(i=>Xbe(e,t,i,r)).reduce(G2,{})}function en(e){return nte(e,wL)}en.propTypes={};en.filterProps=wL;function tn(e){return nte(e,xL)}tn.propTypes={};tn.filterProps=xL;function ste(e=8,t=z$({spacing:e})){if(e.mui)return e;const r=(...i)=>(i.length===0?[1]:i).map(o=>{const u=t(o);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function B$(...e){const t=e.reduce((i,n)=>(n.filterProps.forEach(o=>{i[o]=n}),i),{}),r=i=>Object.keys(i).reduce((n,o)=>t[o]?G2(n,t[o](i)):n,{});return r.propTypes={},r.filterProps=e.reduce((i,n)=>i.concat(n.filterProps),[]),r}function Ua(e){return typeof e!="number"?e:`${e}px solid`}function gl(e,t){return fn({prop:e,themeKey:"borders",transform:t})}const Qbe=gl("border",Ua),e2e=gl("borderTop",Ua),t2e=gl("borderRight",Ua),r2e=gl("borderBottom",Ua),i2e=gl("borderLeft",Ua),n2e=gl("borderColor"),s2e=gl("borderTopColor"),o2e=gl("borderRightColor"),a2e=gl("borderBottomColor"),l2e=gl("borderLeftColor"),u2e=gl("outline",Ua),c2e=gl("outlineColor"),V$=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=K3(e.theme,"shape.borderRadius",4),r=i=>({borderRadius:Q0(t,i)});return No(e,e.borderRadius,r)}return null};V$.propTypes={};V$.filterProps=["borderRadius"];B$(Qbe,e2e,t2e,r2e,i2e,n2e,s2e,o2e,a2e,l2e,V$,u2e,c2e);const U$=e=>{if(e.gap!==void 0&&e.gap!==null){const t=K3(e.theme,"spacing",8),r=i=>({gap:Q0(t,i)});return No(e,e.gap,r)}return null};U$.propTypes={};U$.filterProps=["gap"];const G$=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=K3(e.theme,"spacing",8),r=i=>({columnGap:Q0(t,i)});return No(e,e.columnGap,r)}return null};G$.propTypes={};G$.filterProps=["columnGap"];const q$=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=K3(e.theme,"spacing",8),r=i=>({rowGap:Q0(t,i)});return No(e,e.rowGap,r)}return null};q$.propTypes={};q$.filterProps=["rowGap"];const h2e=fn({prop:"gridColumn"}),d2e=fn({prop:"gridRow"}),p2e=fn({prop:"gridAutoFlow"}),f2e=fn({prop:"gridAutoColumns"}),y2e=fn({prop:"gridAutoRows"}),m2e=fn({prop:"gridTemplateColumns"}),g2e=fn({prop:"gridTemplateRows"}),v2e=fn({prop:"gridTemplateAreas"}),b2e=fn({prop:"gridArea"});B$(U$,G$,q$,h2e,d2e,p2e,f2e,y2e,m2e,g2e,v2e,b2e);function jm(e,t){return t==="grey"?t:e}const w2e=fn({prop:"color",themeKey:"palette",transform:jm}),x2e=fn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jm}),_2e=fn({prop:"backgroundColor",themeKey:"palette",transform:jm});B$(w2e,x2e,_2e);function ra(e){return e<=1&&e!==0?`${e*100}%`:e}const S2e=fn({prop:"width",transform:ra}),_L=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,o,u,f,m;const i=((u=(o=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:o.values)==null?void 0:u[r])||F$[r];return i?((m=(f=e.theme)==null?void 0:f.breakpoints)==null?void 0:m.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ra(r)}};return No(e,e.maxWidth,t)}return null};_L.filterProps=["maxWidth"];const $2e=fn({prop:"minWidth",transform:ra}),M2e=fn({prop:"height",transform:ra}),T2e=fn({prop:"maxHeight",transform:ra}),k2e=fn({prop:"minHeight",transform:ra});fn({prop:"size",cssProperty:"width",transform:ra});fn({prop:"size",cssProperty:"height",transform:ra});const C2e=fn({prop:"boxSizing"});B$(S2e,_L,$2e,M2e,T2e,k2e,C2e);const Y3={border:{themeKey:"borders",transform:Ua},borderTop:{themeKey:"borders",transform:Ua},borderRight:{themeKey:"borders",transform:Ua},borderBottom:{themeKey:"borders",transform:Ua},borderLeft:{themeKey:"borders",transform:Ua},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ua},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:V$},color:{themeKey:"palette",transform:jm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jm},backgroundColor:{themeKey:"palette",transform:jm},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:U$},rowGap:{style:q$},columnGap:{style:G$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ra},maxWidth:{style:_L},minWidth:{transform:ra},height:{transform:ra},maxHeight:{transform:ra},minHeight:{transform:ra},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function E2e(...e){const t=e.reduce((i,n)=>i.concat(Object.keys(n)),[]),r=new Set(t);return e.every(i=>r.size===Object.keys(i).length)}function I2e(e,t){return typeof e=="function"?e(t):e}function P2e(){function e(r,i,n,o){const u={[r]:i,theme:n},f=o[r];if(!f)return{[r]:i};const{cssProperty:m=r,themeKey:v,transform:_,style:$}=f;if(i==null)return null;if(v==="typography"&&i==="inherit")return{[r]:i};const T=D$(n,v)||{};return $?$(u):No(u,i,O=>{let A=t4(T,_,O);return O===A&&typeof O=="string"&&(A=t4(T,_,`${r}${O==="default"?"":We(O)}`,O)),m===!1?A:{[m]:A}})}function t(r){const{sx:i,theme:n={}}=r||{};if(!i)return null;const o=n.unstable_sxConfig??Y3;function u(f){let m=f;if(typeof f=="function")m=f(n);else if(typeof f!="object")return f;if(!m)return null;const v=rte(n.breakpoints),_=Object.keys(v);let $=v;return Object.keys(m).forEach(T=>{const I=I2e(m[T],n);if(I!=null)if(typeof I=="object")if(o[T])$=G2($,e(T,I,n,o));else{const O=No({theme:n},I,A=>({[T]:A}));E2e(O,I)?$[T]=t({sx:I,theme:n}):$=G2($,O)}else $=G2($,e(T,I,n,o))}),Dbe(n,ite(_,$))}return Array.isArray(i)?i.map(u):u(i)}return t}const T1=P2e();T1.filterProps=["sx"];function O2e(e,t){var i;const r=this;if(r.vars){if(!((i=r.colorSchemes)!=null&&i[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return(n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t}}return r.palette.mode===e?t:{}}function H$(e={},...t){const{breakpoints:r={},palette:i={},spacing:n,shape:o={},...u}=e,f=Fbe(r),m=ste(n);let v=so({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:m,shape:{...Ube,...o}},u);return v=Vbe(v),v.applyStyles=O2e,v=t.reduce((_,$)=>so(_,$),v),v.unstable_sxConfig={...Y3,...u==null?void 0:u.unstable_sxConfig},v.unstable_sx=function($){return T1({sx:$,theme:this})},v}function A2e(e){return Object.keys(e).length===0}function ote(e=null){const t=W.useContext(N$);return!t||A2e(t)?e:t}const j2e=H$();function W$(e=j2e){return ote(e)}function R2e({styles:e,themeId:t,defaultTheme:r={}}){const i=W$(r),n=typeof e=="function"?e(t&&i[t]||i):e;return L.jsx(Qee,{styles:n})}const L2e=e=>{var i;const t={systemProps:{},otherProps:{}},r=((i=e==null?void 0:e.theme)==null?void 0:i.unstable_sxConfig)??Y3;return Object.keys(e).forEach(n=>{r[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function J$(e){const{sx:t,...r}=e,{systemProps:i,otherProps:n}=L2e(r);let o;return Array.isArray(t)?o=[i,...t]:typeof t=="function"?o=(...u)=>{const f=t(...u);return Yu(f)?{...i,...f}:i}:o={...i,...t},{...n,sx:o}}const MV=e=>e,N2e=()=>{let e=MV;return{configure(t){e=t},generate(t){return e(t)},reset(){e=MV}}},SL=N2e();function ate(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=ate(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function gt(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=ate(e))&&(i&&(i+=" "),i+=t);return i}function F2e(e={}){const{themeId:t,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:n}=e,o=ete("div",{shouldForwardProp:f=>f!=="theme"&&f!=="sx"&&f!=="as"})(T1);return W.forwardRef(function(m,v){const _=W$(r),{className:$,component:T="div",...I}=J$(m);return L.jsx(o,{as:T,ref:v,className:gt($,n?n(i):i),theme:t&&_[t]||_,...I})})}const D2e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ar(e,t,r="Mui"){const i=D2e[t];return i?`${r}-${i}`:`${SL.generate(e)}-${t}`}function lr(e,t,r="Mui"){const i={};return t.forEach(n=>{i[n]=ar(e,n,r)}),i}var li={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L=Symbol.for("react.element"),ML=Symbol.for("react.portal"),K$=Symbol.for("react.fragment"),Y$=Symbol.for("react.strict_mode"),Z$=Symbol.for("react.profiler"),X$=Symbol.for("react.provider"),Q$=Symbol.for("react.context"),z2e=Symbol.for("react.server_context"),e7=Symbol.for("react.forward_ref"),t7=Symbol.for("react.suspense"),r7=Symbol.for("react.suspense_list"),i7=Symbol.for("react.memo"),n7=Symbol.for("react.lazy"),B2e=Symbol.for("react.offscreen"),lte;lte=Symbol.for("react.module.reference");function vl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $L:switch(e=e.type,e){case K$:case Z$:case Y$:case t7:case r7:return e;default:switch(e=e&&e.$$typeof,e){case z2e:case Q$:case e7:case n7:case i7:case X$:return e;default:return t}}case ML:return t}}}li.ContextConsumer=Q$;li.ContextProvider=X$;li.Element=$L;li.ForwardRef=e7;li.Fragment=K$;li.Lazy=n7;li.Memo=i7;li.Portal=ML;li.Profiler=Z$;li.StrictMode=Y$;li.Suspense=t7;li.SuspenseList=r7;li.isAsyncMode=function(){return!1};li.isConcurrentMode=function(){return!1};li.isContextConsumer=function(e){return vl(e)===Q$};li.isContextProvider=function(e){return vl(e)===X$};li.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$L};li.isForwardRef=function(e){return vl(e)===e7};li.isFragment=function(e){return vl(e)===K$};li.isLazy=function(e){return vl(e)===n7};li.isMemo=function(e){return vl(e)===i7};li.isPortal=function(e){return vl(e)===ML};li.isProfiler=function(e){return vl(e)===Z$};li.isStrictMode=function(e){return vl(e)===Y$};li.isSuspense=function(e){return vl(e)===t7};li.isSuspenseList=function(e){return vl(e)===r7};li.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===K$||e===Z$||e===Y$||e===t7||e===r7||e===B2e||typeof e=="object"&&e!==null&&(e.$$typeof===n7||e.$$typeof===i7||e.$$typeof===X$||e.$$typeof===Q$||e.$$typeof===e7||e.$$typeof===lte||e.getModuleId!==void 0)};li.typeOf=vl;const V2e=H$();function hT(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function EE(e,t,r){return G2e(t)?r:t[e]||t}const h_=Symbol("mui.processed_props");function d_(e,t,r){if(h_ in e)return e[h_];const i={...e,theme:EE(t,e.theme,r)};return e[h_]=i,i[h_]=i,i}function U2e(e){return e?(t,r)=>r[e]:null}function eS(e,t){var i;const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(n=>eS(n,t));if(Array.isArray(r==null?void 0:r.variants)){const{variants:n,...o}=r;let u=o,f;e:for(let m=0;m<n.length;m+=1){const v=n[m];if(typeof v.props=="function"){if(f??(f={...t,...t.ownerState,ownerState:t.ownerState}),!v.props(f))continue}else for(const _ in v.props)if(t[_]!==v.props[_]&&((i=t.ownerState)==null?void 0:i[_])!==v.props[_])continue e;Array.isArray(u)||(u=[u]),typeof v.style=="function"?(f??(f={...t,...t.ownerState,ownerState:t.ownerState}),u.push(v.style(f))):u.push(v.style)}return u}return r}function ute(e={}){const{themeId:t,defaultTheme:r=V2e,rootShouldForwardProp:i=hT,slotShouldForwardProp:n=hT}=e,o=f=>T1(d_(f,t,r));return o.__mui_systemSx=!0,(f,m={})=>{Lbe(f,J=>J.filter(Z=>!(Z!=null&&Z.__mui_systemSx)));const{name:v,slot:_,skipVariantsResolver:$,skipSx:T,overridesResolver:I=U2e(H2e(_)),...O}=m,A=$!==void 0?$:_&&_!=="Root"&&_!=="root"||!1,N=T||!1;let F,z=hT;_==="Root"||_==="root"?z=i:_?z=n:q2e(f)&&(z=void 0);const B=ete(f,{shouldForwardProp:z,label:F,...O}),G=J=>typeof J=="function"&&J.__emotion_real!==J||Yu(J)?Z=>eS(J,d_(Z,t,r)):J,H=(J,...Z)=>{let re=G(J);const q=Z?Z.map(G):[];v&&I&&q.push(le=>{const ue=EE(t,le.theme,r);if(!ue.components||!ue.components[v]||!ue.components[v].styleOverrides)return null;const ne=ue.components[v].styleOverrides,pe={},ye=d_(le,t,r);for(const ge in ne)pe[ge]=eS(ne[ge],ye);return I(le,pe)}),v&&!A&&q.push(le=>{var pe,ye;const ue=EE(t,le.theme,r),ne=(ye=(pe=ue==null?void 0:ue.components)==null?void 0:pe[v])==null?void 0:ye.variants;return ne?eS({variants:ne},d_(le,t,r)):null}),N||q.push(o);const X=q.length-Z.length;if(Array.isArray(J)&&X>0){const le=new Array(X).fill("");re=[...J,...le],re.raw=[...J.raw,...le]}const ie=B(re,...q);return f.muiName&&(ie.muiName=f.muiName),ie};return B.withConfig&&(H.withConfig=B.withConfig),H}}function G2e(e){for(const t in e)return!1;return!0}function q2e(e){return typeof e=="string"&&e.charCodeAt(0)>96}function H2e(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const W2e=ute();function Gw(e,t){const r={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=i;if(n==="components"||n==="slots")r[n]={...e[n],...r[n]};else if(n==="componentsProps"||n==="slotProps"){const o=e[n],u=t[n];if(!u)r[n]=o||{};else if(!o)r[n]=u;else{r[n]={...u};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const m=f;r[n][m]=Gw(o[m],u[m])}}}else r[n]===void 0&&(r[n]=e[n])}return r}function J2e(e){const{theme:t,name:r,props:i}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?i:Gw(t.components[r].defaultProps,i)}function cte({props:e,name:t,defaultTheme:r,themeId:i}){let n=W$(r);return i&&(n=n[i]||n),J2e({theme:n,name:t,props:e})}const qw=typeof window<"u"?W.useLayoutEffect:W.useEffect;function K2e(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function TL(e,t=0,r=1){return K2e(e,t,r)}function Y2e(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(i=>i+i)),r?`rgb${r.length===4?"a":""}(${r.map((i,n)=>n<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Cp(e){if(e.type)return e;if(e.charAt(0)==="#")return Cp(Y2e(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(X0(9,e));let i=e.substring(t+1,e.length-1),n;if(r==="color"){if(i=i.split(" "),n=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(X0(10,n))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:r,values:i,colorSpace:n}}const Z2e=e=>{const t=Cp(e);return t.values.slice(0,3).map((r,i)=>t.type.includes("hsl")&&i!==0?`${r}%`:r).join(" ")},kb=(e,t)=>{try{return Z2e(e)}catch{return e}};function s7(e){const{type:t,colorSpace:r}=e;let{values:i}=e;return t.includes("rgb")?i=i.map((n,o)=>o<3?parseInt(n,10):n):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${r} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function hte(e){e=Cp(e);const{values:t}=e,r=t[0],i=t[1]/100,n=t[2]/100,o=i*Math.min(n,1-n),u=(v,_=(v+r/30)%12)=>n-o*Math.max(Math.min(_-3,9-_,1),-1);let f="rgb";const m=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(f+="a",m.push(t[3])),s7({type:f,values:m})}function IE(e){e=Cp(e);let t=e.type==="hsl"||e.type==="hsla"?Cp(hte(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function X2e(e,t){const r=IE(e),i=IE(t);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}function Ir(e,t){return e=Cp(e),t=TL(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,s7(e)}function p_(e,t,r){try{return Ir(e,t)}catch{return e}}function Hg(e,t){if(e=Cp(e),t=TL(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return s7(e)}function ci(e,t,r){try{return Hg(e,t)}catch{return e}}function Wg(e,t){if(e=Cp(e),t=TL(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return s7(e)}function hi(e,t,r){try{return Wg(e,t)}catch{return e}}function Q2e(e,t=.15){return IE(e)>.5?Hg(e,t):Wg(e,t)}function f_(e,t,r){try{return Q2e(e,t)}catch{return e}}function r4(...e){return e.reduce((t,r)=>r==null?t:function(...n){t.apply(this,n),r.apply(this,n)},()=>{})}function dte(e,t=166){let r;function i(...n){const o=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(o,t)}return i.clear=()=>{clearTimeout(r)},i}function ewe(e,t){return()=>null}function q2(e,t){var r,i,n;return W.isValidElement(e)&&t.indexOf(e.type.muiName??((n=(i=(r=e.type)==null?void 0:r._payload)==null?void 0:i.value)==null?void 0:n.muiName))!==-1}function vh(e){return e&&e.ownerDocument||document}function Jg(e){return vh(e).defaultView||window}function twe(e,t){return()=>null}function i4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let TV=0;function rwe(e){const[t,r]=W.useState(e),i=e||t;return W.useEffect(()=>{t==null&&(TV+=1,r(`mui-${TV}`))},[t]),i}const kV=AC.useId;function pte(e){if(kV!==void 0){const t=kV();return e??t}return rwe(e)}function iwe(e,t,r,i,n){return null}function o7({controlled:e,default:t,name:r,state:i="value"}){const{current:n}=W.useRef(e!==void 0),[o,u]=W.useState(t),f=n?e:o,m=W.useCallback(v=>{n||u(v)},[]);return[f,m]}function w0(e){const t=W.useRef(e);return qw(()=>{t.current=e}),W.useRef((...r)=>(0,t.current)(...r)).current}function uo(...e){return W.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{i4(r,t)})},e)}const CV={};function fte(e,t){const r=W.useRef(CV);return r.current===CV&&(r.current=e(t)),r}const nwe=[];function swe(e){W.useEffect(e,nwe)}class kL{constructor(){Pv(this,"currentId",null);Pv(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Pv(this,"disposeEffect",()=>this.clear)}static create(){return new kL}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function yte(){const e=fte(kL.create).current;return swe(e.disposeEffect),e}function EV(e){try{return e.matches(":focus-visible")}catch{}return!1}function owe(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function dr(e,t,r=void 0){const i={};for(const n in e){const o=e[n];let u="",f=!0;for(let m=0;m<o.length;m+=1){const v=o[m];v&&(u+=(f===!0?"":" ")+t(v),f=!1,r&&r[v]&&(u+=" "+r[v]))}i[n]=u}return i}function awe(e){return typeof e=="string"}function lwe(e,t,r){return e===void 0||awe(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function mte(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(i=>i.match(/^on[A-Z]/)&&typeof e[i]=="function"&&!t.includes(i)).forEach(i=>{r[i]=e[i]}),r}function IV(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function uwe(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:i,externalForwardedProps:n,className:o}=e;if(!t){const I=gt(r==null?void 0:r.className,o,n==null?void 0:n.className,i==null?void 0:i.className),O={...r==null?void 0:r.style,...n==null?void 0:n.style,...i==null?void 0:i.style},A={...r,...n,...i};return I.length>0&&(A.className=I),Object.keys(O).length>0&&(A.style=O),{props:A,internalRef:void 0}}const u=mte({...n,...i}),f=IV(i),m=IV(n),v=t(u),_=gt(v==null?void 0:v.className,r==null?void 0:r.className,o,n==null?void 0:n.className,i==null?void 0:i.className),$={...v==null?void 0:v.style,...r==null?void 0:r.style,...n==null?void 0:n.style,...i==null?void 0:i.style},T={...v,...r,...m,...f};return _.length>0&&(T.className=_),Object.keys($).length>0&&(T.style=$),{props:T,internalRef:v.ref}}function cwe(e,t,r){return typeof e=="function"?e(t,r):e}function a7(e){return!e||!W.isValidElement(e)?null:e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}const gte=W.createContext(null);function CL(){return W.useContext(gte)}const hwe=typeof Symbol=="function"&&Symbol.for,dwe=hwe?Symbol.for("mui.nested"):"__THEME_NESTED__";function pwe(e,t){return typeof t=="function"?t(e):{...e,...t}}function fwe(e){const{children:t,theme:r}=e,i=CL(),n=W.useMemo(()=>{const o=i===null?{...r}:pwe(i,r);return o!=null&&(o[dwe]=i!==null),o},[r,i]);return L.jsx(gte.Provider,{value:n,children:t})}const vte=W.createContext();function ywe({value:e,...t}){return L.jsx(vte.Provider,{value:e??!0,...t})}const bte=()=>W.useContext(vte)??!1,wte=W.createContext(void 0);function mwe({value:e,children:t}){return L.jsx(wte.Provider,{value:e,children:t})}function gwe(e){const{theme:t,name:r,props:i}=e;if(!t||!t.components||!t.components[r])return i;const n=t.components[r];return n.defaultProps?Gw(n.defaultProps,i):!n.styleOverrides&&!n.variants?Gw(n,i):i}function vwe({props:e,name:t}){const r=W.useContext(wte);return gwe({props:e,name:t,theme:{components:r}})}const PV={};function OV(e,t,r,i=!1){return W.useMemo(()=>{const n=e&&t[e]||t;if(typeof r=="function"){const o=r(n),u=e?{...t,[e]:o}:o;return i?()=>u:u}return e?{...t,[e]:r}:{...t,...r}},[e,t,r,i])}function xte(e){const{children:t,theme:r,themeId:i}=e,n=ote(PV),o=CL()||PV,u=OV(i,n,r),f=OV(i,o,r,!0),m=u.direction==="rtl";return L.jsx(fwe,{theme:f,children:L.jsx(N$.Provider,{value:u,children:L.jsx(ywe,{value:m,children:L.jsx(mwe,{value:u==null?void 0:u.components,children:t})})})})}const EL="mode",IL="color-scheme",bwe="data-color-scheme";function wwe(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=EL,colorSchemeStorageKey:n=IL,attribute:o=bwe,colorSchemeNode:u="document.documentElement",nonce:f}=e||{};let m="",v=o;if(o==="class"&&(v=".%s"),o==="data"&&(v="[data-%s]"),v.startsWith(".")){const $=v.substring(1);m+=`${u}.classList.remove('${$}'.replace('%s', light), '${$}'.replace('%s', dark));
      ${u}.classList.add('${$}'.replace('%s', colorScheme));`}const _=v.match(/\[([^\]]+)\]/);if(_){const[$,T]=_[1].split("=");T||(m+=`${u}.removeAttribute('${$}'.replace('%s', light));
      ${u}.removeAttribute('${$}'.replace('%s', dark));`),m+=`
      ${u}.setAttribute('${$}'.replace('%s', colorScheme), ${T?`${T}.replace('%s', colorScheme)`:'""'});`}else m+=`${u}.setAttribute('${v}', colorScheme);`;return L.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || 'system';
  const dark = localStorage.getItem('${n}-dark') || '${r}';
  const light = localStorage.getItem('${n}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function AV(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function _te(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function xwe(e){return _te(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function dT(e,t){if(typeof window>"u")return;let r;try{r=localStorage.getItem(e)||void 0,r||localStorage.setItem(e,t)}catch{}return r||t}function _we(e){const{defaultMode:t="light",defaultLightColorScheme:r,defaultDarkColorScheme:i,supportedColorSchemes:n=[],modeStorageKey:o=EL,colorSchemeStorageKey:u=IL,storageWindow:f=typeof window>"u"?void 0:window}=e,m=n.join(","),v=n.length>1,[_,$]=W.useState(()=>{const B=dT(o,t),G=dT(`${u}-light`,r),H=dT(`${u}-dark`,i);return{mode:B,systemMode:AV(B),lightColorScheme:G,darkColorScheme:H}}),[,T]=W.useState(!1),I=W.useRef(!1);W.useEffect(()=>{v&&T(!0),I.current=!0},[v]);const O=xwe(_),A=W.useCallback(B=>{$(G=>{if(B===G.mode)return G;const H=B??t;try{localStorage.setItem(o,H)}catch{}return{...G,mode:H,systemMode:AV(H)}})},[o,t]),N=W.useCallback(B=>{B?typeof B=="string"?B&&!m.includes(B)?console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`):$(G=>{const H={...G};return _te(G,J=>{try{localStorage.setItem(`${u}-${J}`,B)}catch{}J==="light"&&(H.lightColorScheme=B),J==="dark"&&(H.darkColorScheme=B)}),H}):$(G=>{const H={...G},J=B.light===null?r:B.light,Z=B.dark===null?i:B.dark;if(J)if(!m.includes(J))console.error(`\`${J}\` does not exist in \`theme.colorSchemes\`.`);else{H.lightColorScheme=J;try{localStorage.setItem(`${u}-light`,J)}catch{}}if(Z)if(!m.includes(Z))console.error(`\`${Z}\` does not exist in \`theme.colorSchemes\`.`);else{H.darkColorScheme=Z;try{localStorage.setItem(`${u}-dark`,Z)}catch{}}return H}):$(G=>{try{localStorage.setItem(`${u}-light`,r),localStorage.setItem(`${u}-dark`,i)}catch{}return{...G,lightColorScheme:r,darkColorScheme:i}})},[m,u,r,i]),F=W.useCallback(B=>{_.mode==="system"&&$(G=>{const H=B!=null&&B.matches?"dark":"light";return G.systemMode===H?G:{...G,systemMode:H}})},[_.mode]),z=W.useRef(F);return z.current=F,W.useEffect(()=>{if(typeof window.matchMedia!="function"||!v)return;const B=(...H)=>z.current(...H),G=window.matchMedia("(prefers-color-scheme: dark)");return G.addListener(B),B(G),()=>{G.removeListener(B)}},[v]),W.useEffect(()=>{if(f&&v){const B=G=>{const H=G.newValue;typeof G.key=="string"&&G.key.startsWith(u)&&(!H||m.match(H))&&(G.key.endsWith("light")&&N({light:H}),G.key.endsWith("dark")&&N({dark:H})),G.key===o&&(!H||["light","dark","system"].includes(H))&&A(H||t)};return f.addEventListener("storage",B),()=>{f.removeEventListener("storage",B)}}},[N,A,o,u,m,t,f,v]),{..._,mode:I.current||!v?_.mode:void 0,systemMode:I.current||!v?_.systemMode:void 0,colorScheme:I.current||!v?O:void 0,setMode:A,setColorScheme:N}}const Swe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function $we(e){const{themeId:t,theme:r={},modeStorageKey:i=EL,colorSchemeStorageKey:n=IL,disableTransitionOnChange:o=!1,defaultColorScheme:u,resolveTheme:f}=e,m={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=W.createContext(void 0),_=()=>W.useContext(v)||m;function $(A){var $e,ft,Be,Er,rr;const{children:N,theme:F,modeStorageKey:z=i,colorSchemeStorageKey:B=n,disableTransitionOnChange:G=o,storageWindow:H=typeof window>"u"?void 0:window,documentNode:J=typeof document>"u"?void 0:document,colorSchemeNode:Z=typeof document>"u"?void 0:document.documentElement,disableNestedContext:re=!1,disableStyleSheetGeneration:q=!1}=A,X=W.useRef(!1),ie=CL(),le=W.useContext(v),ue=!!le&&!re,ne=W.useMemo(()=>F||(typeof r=="function"?r():r),[F]),pe=ne[t],{colorSchemes:ye={},components:ge={},cssVarPrefix:he,...ce}=pe||ne,Ee=Object.keys(ye).filter($t=>!!ye[$t]).join(","),ze=W.useMemo(()=>Ee.split(","),[Ee]),Ye=typeof u=="string"?u:u.light,vt=typeof u=="string"?u:u.dark,tt=ye[Ye]&&ye[vt]?"system":((ft=($e=ye[ce.defaultColorScheme])==null?void 0:$e.palette)==null?void 0:ft.mode)||((Be=ce.palette)==null?void 0:Be.mode),{mode:yt,setMode:De,systemMode:ot,lightColorScheme:He,darkColorScheme:Te,colorScheme:qe,setColorScheme:it}=_we({supportedColorSchemes:ze,defaultLightColorScheme:Ye,defaultDarkColorScheme:vt,modeStorageKey:z,colorSchemeStorageKey:B,defaultMode:tt,storageWindow:H});let Pe=yt,pt=qe;ue&&(Pe=le.mode,pt=le.colorScheme);const mt=pt||ce.defaultColorScheme,Pt=((Er=ce.generateThemeVars)==null?void 0:Er.call(ce))||ce.vars,wt={...ce,components:ge,colorSchemes:ye,cssVarPrefix:he,vars:Pt};if(typeof wt.generateSpacing=="function"&&(wt.spacing=wt.generateSpacing()),mt){const $t=ye[mt];$t&&typeof $t=="object"&&Object.keys($t).forEach(Mt=>{$t[Mt]&&typeof $t[Mt]=="object"?wt[Mt]={...wt[Mt],...$t[Mt]}:wt[Mt]=$t[Mt]})}const bt=ce.colorSchemeSelector;W.useEffect(()=>{if(pt&&Z&&bt&&bt!=="media"){const $t=bt;let Mt=bt;if($t==="class"&&(Mt=".%s"),$t==="data"&&(Mt="[data-%s]"),$t!=null&&$t.startsWith("data-")&&!$t.includes("%s")&&(Mt=`[${$t}="%s"]`),Mt.startsWith("."))Z.classList.remove(...ze.map(Cr=>Mt.substring(1).replace("%s",Cr))),Z.classList.add(Mt.substring(1).replace("%s",pt));else{const Cr=Mt.replace("%s",pt).match(/\[([^\]]+)\]/);if(Cr){const[Vr,Le]=Cr[1].split("=");Le||ze.forEach(ir=>{Z.removeAttribute(Vr.replace(pt,ir))}),Z.setAttribute(Vr,Le?Le.replace(/"|'/g,""):"")}else Z.setAttribute(Mt,pt)}}},[pt,bt,Z,ze]),W.useEffect(()=>{let $t;if(G&&X.current&&J){const Mt=J.createElement("style");Mt.appendChild(J.createTextNode(Swe)),J.head.appendChild(Mt),window.getComputedStyle(J.body),$t=setTimeout(()=>{J.head.removeChild(Mt)},1)}return()=>{clearTimeout($t)}},[pt,G,J]),W.useEffect(()=>(X.current=!0,()=>{X.current=!1}),[]);const ee=W.useMemo(()=>({allColorSchemes:ze,colorScheme:pt,darkColorScheme:Te,lightColorScheme:He,mode:Pe,setColorScheme:it,setMode:De,systemMode:ot}),[ze,pt,Te,He,Pe,it,De,ot]);let at=!0;(q||ce.cssVariables===!1||ue&&(ie==null?void 0:ie.cssVarPrefix)===he)&&(at=!1);const rt=L.jsxs(W.Fragment,{children:[at&&L.jsx(W.Fragment,{children:(((rr=wt.generateStyleSheets)==null?void 0:rr.call(wt))||[]).map(($t,Mt)=>L.jsx(Qee,{styles:$t},Mt))}),L.jsx(xte,{themeId:pe?t:void 0,theme:f?f(wt):wt,children:N})]});return ue?rt:L.jsx(v.Provider,{value:ee,children:rt})}const T=typeof u=="string"?u:u.light,I=typeof u=="string"?u:u.dark;return{CssVarsProvider:$,useColorScheme:_,getInitColorSchemeScript:A=>wwe({colorSchemeStorageKey:n,defaultLightColorScheme:T,defaultDarkColorScheme:I,modeStorageKey:i,...A})}}function Mwe(e=""){function t(...i){if(!i.length)return"";const n=i[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${t(...i.slice(1))})`:`, ${n}`}return(i,...n)=>`var(--${e?`${e}-`:""}${i}${t(...n)})`}const jV=(e,t,r,i=[])=>{let n=e;t.forEach((o,u)=>{u===t.length-1?Array.isArray(n)?n[Number(o)]=r:n&&typeof n=="object"&&(n[o]=r):n&&typeof n=="object"&&(n[o]||(n[o]=i.includes(o)?[]:{}),n=n[o])})},Twe=(e,t,r)=>{function i(n,o=[],u=[]){Object.entries(n).forEach(([f,m])=>{(!r||r&&!r([...o,f]))&&m!=null&&(typeof m=="object"&&Object.keys(m).length>0?i(m,[...o,f],Array.isArray(m)?[...u,f]:u):t([...o,f],m,u))})}i(e)},kwe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>e.includes(i))||e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:`${t}px`:t;function pT(e,t){const{prefix:r,shouldSkipGeneratingVar:i}=t||{},n={},o={},u={};return Twe(e,(f,m,v)=>{if((typeof m=="string"||typeof m=="number")&&(!i||!i(f,m))){const _=`--${r?`${r}-`:""}${f.join("-")}`,$=kwe(f,m);Object.assign(n,{[_]:$}),jV(o,f,`var(${_})`,v),jV(u,f,`var(${_}, ${$})`,v)}},f=>f[0]==="vars"),{css:n,vars:o,varsWithDefaults:u}}function Cwe(e,t={}){const{getSelector:r=N,disableCssColorScheme:i,colorSchemeSelector:n}=t,{colorSchemes:o={},components:u,defaultColorScheme:f="light",...m}=e,{vars:v,css:_,varsWithDefaults:$}=pT(m,t);let T=$;const I={},{[f]:O,...A}=o;if(Object.entries(A||{}).forEach(([B,G])=>{const{vars:H,css:J,varsWithDefaults:Z}=pT(G,t);T=so(T,Z),I[B]={css:J,vars:H}}),O){const{css:B,vars:G,varsWithDefaults:H}=pT(O,t);T=so(T,H),I[f]={css:B,vars:G}}function N(B,G){var J,Z;let H=n;if(n==="class"&&(H=".%s"),n==="data"&&(H="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(H=`[${n}="%s"]`),B){if(H==="media")return e.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${((Z=(J=o[B])==null?void 0:J.palette)==null?void 0:Z.mode)||B})`]:{":root":G}};if(H)return e.defaultColorScheme===B?`:root, ${H.replace("%s",String(B))}`:H.replace("%s",String(B))}return":root"}return{vars:T,generateThemeVars:()=>{let B={...v};return Object.entries(I).forEach(([,{vars:G}])=>{B=so(B,G)}),B},generateStyleSheets:()=>{var re,q;const B=[],G=e.defaultColorScheme||"light";function H(X,ie){Object.keys(ie).length&&B.push(typeof X=="string"?{[X]:{...ie}}:X)}H(r(void 0,{..._}),_);const{[G]:J,...Z}=I;if(J){const{css:X}=J,ie=(q=(re=o[G])==null?void 0:re.palette)==null?void 0:q.mode,le=!i&&ie?{colorScheme:ie,...X}:{...X};H(r(G,{...le}),le)}return Object.entries(Z).forEach(([X,{css:ie}])=>{var ne,pe;const le=(pe=(ne=o[X])==null?void 0:ne.palette)==null?void 0:pe.mode,ue=!i&&le?{colorScheme:le,...ie}:{...ie};H(r(X,{...ue}),ue)}),B}}}function Ewe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}const Iwe=H$(),Pwe=W2e("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Owe(e){return cte({props:e,name:"MuiStack",defaultTheme:Iwe})}function Awe(e,t){const r=W.Children.toArray(e).filter(Boolean);return r.reduce((i,n,o)=>(i.push(n),o<r.length-1&&i.push(W.cloneElement(t,{key:`separator-${o}`})),i),[])}const jwe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Rwe=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...No({theme:t},R0({values:e.direction,breakpoints:t.breakpoints.values}),i=>({flexDirection:i}))};if(e.spacing){const i=z$(t),n=Object.keys(t.breakpoints.values).reduce((m,v)=>((typeof e.spacing=="object"&&e.spacing[v]!=null||typeof e.direction=="object"&&e.direction[v]!=null)&&(m[v]=!0),m),{}),o=R0({values:e.direction,base:n}),u=R0({values:e.spacing,base:n});typeof o=="object"&&Object.keys(o).forEach((m,v,_)=>{if(!o[m]){const T=v>0?o[_[v-1]]:"column";o[m]=T}}),r=so(r,No({theme:t},u,(m,v)=>e.useFlexGap?{gap:Q0(i,m)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${jwe(v?o[v]:e.direction)}`]:Q0(i,m)}}))}return r=qbe(t.breakpoints,r),r};function Lwe(e={}){const{createStyledComponent:t=Pwe,useThemeProps:r=Owe,componentName:i="MuiStack"}=e,n=()=>dr({root:["root"]},m=>ar(i,m),{}),o=t(Rwe);return W.forwardRef(function(m,v){const _=r(m),$=J$(_),{component:T="div",direction:I="column",spacing:O=0,divider:A,children:N,className:F,useFlexGap:z=!1,...B}=$,G={direction:I,spacing:O,useFlexGap:z},H=n();return L.jsx(o,{as:T,ownerState:G,ref:v,className:gt(H.root,F),...B,children:A?Awe(N,A):N})})}const Hw={black:"#000",white:"#fff"},Nwe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},q1={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},H1={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},W1={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},J1={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},K1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},RV={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hw.white,default:Hw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fT={text:{primary:Hw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function LV(e,t,r,i){const n=i.light||i,o=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Wg(e.main,n):t==="dark"&&(e.dark=Hg(e.main,o)))}function Fwe(e="light"){return e==="dark"?{main:W1[200],light:W1[50],dark:W1[400]}:{main:W1[700],light:W1[400],dark:W1[800]}}function Dwe(e="light"){return e==="dark"?{main:q1[200],light:q1[50],dark:q1[400]}:{main:q1[500],light:q1[300],dark:q1[700]}}function zwe(e="light"){return e==="dark"?{main:H1[500],light:H1[300],dark:H1[700]}:{main:H1[700],light:H1[400],dark:H1[800]}}function Bwe(e="light"){return e==="dark"?{main:J1[400],light:J1[300],dark:J1[700]}:{main:J1[700],light:J1[500],dark:J1[900]}}function Vwe(e="light"){return e==="dark"?{main:K1[400],light:K1[300],dark:K1[700]}:{main:K1[800],light:K1[500],dark:K1[900]}}function Uwe(e="light"){return e==="dark"?{main:Bv[400],light:Bv[300],dark:Bv[700]}:{main:"#ed6c02",light:Bv[500],dark:Bv[900]}}function PL(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:i=.2,...n}=e,o=e.primary||Fwe(t),u=e.secondary||Dwe(t),f=e.error||zwe(t),m=e.info||Bwe(t),v=e.success||Vwe(t),_=e.warning||Uwe(t);function $(A){return X2e(A,fT.text.primary)>=r?fT.text.primary:RV.text.primary}const T=({color:A,name:N,mainShade:F=500,lightShade:z=300,darkShade:B=700})=>{if(A={...A},!A.main&&A[F]&&(A.main=A[F]),!A.hasOwnProperty("main"))throw new Error(X0(11,N?` (${N})`:"",F));if(typeof A.main!="string")throw new Error(X0(12,N?` (${N})`:"",JSON.stringify(A.main)));return LV(A,"light",z,i),LV(A,"dark",B,i),A.contrastText||(A.contrastText=$(A.main)),A},I={dark:fT,light:RV};return so({common:{...Hw},mode:t,primary:T({color:o,name:"primary"}),secondary:T({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:f,name:"error"}),warning:T({color:_,name:"warning"}),info:T({color:m,name:"info"}),success:T({color:v,name:"success"}),grey:Nwe,contrastThreshold:r,getContrastText:$,augmentColor:T,tonalOffset:i,...I[t]},n)}function Gwe(e){const t={};return Object.entries(e).forEach(i=>{const[n,o]=i;typeof o=="object"&&(t[n]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function qwe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Hwe(e){return Math.round(e*1e5)/1e5}const NV={textTransform:"uppercase"},FV='"Roboto", "Helvetica", "Arial", sans-serif';function Ste(e,t){const{fontFamily:r=FV,fontSize:i=14,fontWeightLight:n=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:f=700,htmlFontSize:m=16,allVariants:v,pxToRem:_,...$}=typeof t=="function"?t(e):t,T=i/14,I=_||(N=>`${N/m*T}rem`),O=(N,F,z,B,G)=>({fontFamily:r,fontWeight:N,fontSize:I(F),lineHeight:z,...r===FV?{letterSpacing:`${Hwe(B/F)}em`}:{},...G,...v}),A={h1:O(n,96,1.167,-1.5),h2:O(n,60,1.2,-.5),h3:O(o,48,1.167,0),h4:O(o,34,1.235,.25),h5:O(o,24,1.334,0),h6:O(u,20,1.6,.15),subtitle1:O(o,16,1.75,.15),subtitle2:O(u,14,1.57,.1),body1:O(o,16,1.5,.15),body2:O(o,14,1.43,.15),button:O(u,14,1.75,.4,NV),caption:O(o,12,1.66,.4),overline:O(o,12,2.66,1,NV),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return so({htmlFontSize:m,pxToRem:I,fontFamily:r,fontSize:i,fontWeightLight:n,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:f,...A},$,{clone:!1})}const Wwe=.2,Jwe=.14,Kwe=.12;function Ai(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Wwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Jwe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Kwe})`].join(",")}const Ywe=["none",Ai(0,2,1,-1,0,1,1,0,0,1,3,0),Ai(0,3,1,-2,0,2,2,0,0,1,5,0),Ai(0,3,3,-2,0,3,4,0,0,1,8,0),Ai(0,2,4,-1,0,4,5,0,0,1,10,0),Ai(0,3,5,-1,0,5,8,0,0,1,14,0),Ai(0,3,5,-1,0,6,10,0,0,1,18,0),Ai(0,4,5,-2,0,7,10,1,0,2,16,1),Ai(0,5,5,-3,0,8,10,1,0,3,14,2),Ai(0,5,6,-3,0,9,12,1,0,3,16,2),Ai(0,6,6,-3,0,10,14,1,0,4,18,3),Ai(0,6,7,-4,0,11,15,1,0,4,20,3),Ai(0,7,8,-4,0,12,17,2,0,5,22,4),Ai(0,7,8,-4,0,13,19,2,0,5,24,4),Ai(0,7,9,-4,0,14,21,2,0,5,26,4),Ai(0,8,9,-5,0,15,22,2,0,6,28,5),Ai(0,8,10,-5,0,16,24,2,0,6,30,5),Ai(0,8,11,-5,0,17,26,2,0,6,32,5),Ai(0,9,11,-5,0,18,28,2,0,7,34,6),Ai(0,9,12,-6,0,19,29,2,0,7,36,6),Ai(0,10,13,-6,0,20,31,3,0,8,38,7),Ai(0,10,13,-6,0,21,33,3,0,8,40,7),Ai(0,10,14,-6,0,22,35,3,0,8,42,7),Ai(0,11,14,-7,0,23,36,3,0,9,44,8),Ai(0,11,15,-7,0,24,38,3,0,9,46,8)],Zwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$te={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function DV(e){return`${Math.round(e)}ms`}function Xwe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Qwe(e){const t={...Zwe,...e.easing},r={...$te,...e.duration};return{getAutoHeightDuration:Xwe,create:(n=["all"],o={})=>{const{duration:u=r.standard,easing:f=t.easeInOut,delay:m=0,...v}=o;return(Array.isArray(n)?n:[n]).map(_=>`${_} ${typeof u=="string"?u:DV(u)} ${f} ${typeof m=="string"?m:DV(m)}`).join(",")},...e,easing:t,duration:r}}const e3e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function PE(e={},...t){const{breakpoints:r,mixins:i={},spacing:n,palette:o={},transitions:u={},typography:f={},shape:m,...v}=e;if(e.vars)throw new Error(X0(20));const _=PL(o),$=H$(e);let T=so($,{mixins:qwe($.breakpoints,i),palette:_,shadows:Ywe.slice(),typography:Ste(_,f),transitions:Qwe(u),zIndex:{...e3e}});return T=so(T,v),T=t.reduce((I,O)=>so(I,O),T),T.unstable_sxConfig={...Y3,...v==null?void 0:v.unstable_sxConfig},T.unstable_sx=function(O){return T1({sx:O,theme:this})},T}function OE(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const t3e=[...Array(25)].map((e,t)=>{if(t===0)return;const r=OE(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function Mte(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Tte(e){return e==="dark"?t3e:[]}function r3e(e){const{palette:t={mode:"light"},opacity:r,overlays:i,...n}=e,o=PL(t);return{palette:o,opacity:{...Mte(o.mode),...r},overlays:i||Tte(o.mode),...n}}function i3e(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const n3e=e=>[...[...Array(24)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r+1}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],s3e=e=>(t,r)=>{const i=e.colorSchemeSelector;let n=i;if(i==="class"&&(n=".%s"),i==="data"&&(n="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(n=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return n3e(e.cssVarPrefix).forEach(u=>{o[u]=r[u],delete r[u]}),n==="media"?{":root":r,"@media (prefers-color-scheme: dark)":{":root":o}}:n?{[n.replace("%s",t)]:o,[`:root, ${n.replace("%s",t)}`]:r}:{":root":{...r,...o}}}if(n&&n!=="media")return`:root, ${n.replace("%s",String(t))}`}else if(t){if(n==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":r}};if(n)return n.replace("%s",String(t))}return":root"};function o3e(e){return Yu(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function a3e(e={}){const t={...e};function r(i){const n=Object.entries(i);for(let o=0;o<n.length;o++){const[u,f]=n[o];!o3e(f)||u.startsWith("unstable_")?delete i[u]:Yu(f)&&(i[u]={...f},r(i[u]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function l3e(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Re(e,t,r){!e[t]&&r&&(e[t]=r)}function Cb(e){return!e||!e.startsWith("hsl")?e:hte(e)}function _c(e,t){`${t}Channel`in e||(e[`${t}Channel`]=kb(Cb(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function u3e(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const fu=e=>{try{return e()}catch{}},c3e=(e="mui")=>Mwe(e);function yT(e,t,r,i){if(!t)return;t=t===!0?{}:t;const n=i==="dark"?"dark":"light";if(!r){e[i]=r3e({...t,palette:{mode:n,...t==null?void 0:t.palette}});return}const{palette:o,...u}=PE({...r,palette:{mode:n,...t==null?void 0:t.palette}});return e[i]={...t,palette:o,opacity:{...Mte(n),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Tte(n)},u}function h3e(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:i,disableCssColorScheme:n=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=i3e,colorSchemeSelector:f=r.light&&r.dark?"media":void 0,...m}=e,v=Object.keys(r)[0],_=i||(r.light&&v!=="light"?"light":v),$=c3e(o),{[_]:T,light:I,dark:O,...A}=r,N={...A};let F=T;if((_==="dark"&&!("dark"in r)||_==="light"&&!("light"in r))&&(F=!0),!F)throw new Error(X0(21,_));const z=yT(N,F,m,_);I&&!N.light&&yT(N,I,void 0,"light"),O&&!N.dark&&yT(N,O,void 0,"dark");let B={defaultColorScheme:_,...z,cssVarPrefix:o,colorSchemeSelector:f,getCssVar:$,colorSchemes:N,font:{...Gwe(z.typography),...z.font},spacing:u3e(m.spacing)};Object.keys(B.colorSchemes).forEach(re=>{const q=B.colorSchemes[re].palette,X=ie=>{const le=ie.split("-"),ue=le[1],ne=le[2];return $(ie,q[ue][ne])};if(q.mode==="light"&&(Re(q.common,"background","#fff"),Re(q.common,"onBackground","#000")),q.mode==="dark"&&(Re(q.common,"background","#000"),Re(q.common,"onBackground","#fff")),l3e(q,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),q.mode==="light"){Re(q.Alert,"errorColor",ci(q.error.light,.6)),Re(q.Alert,"infoColor",ci(q.info.light,.6)),Re(q.Alert,"successColor",ci(q.success.light,.6)),Re(q.Alert,"warningColor",ci(q.warning.light,.6)),Re(q.Alert,"errorFilledBg",X("palette-error-main")),Re(q.Alert,"infoFilledBg",X("palette-info-main")),Re(q.Alert,"successFilledBg",X("palette-success-main")),Re(q.Alert,"warningFilledBg",X("palette-warning-main")),Re(q.Alert,"errorFilledColor",fu(()=>q.getContrastText(q.error.main))),Re(q.Alert,"infoFilledColor",fu(()=>q.getContrastText(q.info.main))),Re(q.Alert,"successFilledColor",fu(()=>q.getContrastText(q.success.main))),Re(q.Alert,"warningFilledColor",fu(()=>q.getContrastText(q.warning.main))),Re(q.Alert,"errorStandardBg",hi(q.error.light,.9)),Re(q.Alert,"infoStandardBg",hi(q.info.light,.9)),Re(q.Alert,"successStandardBg",hi(q.success.light,.9)),Re(q.Alert,"warningStandardBg",hi(q.warning.light,.9)),Re(q.Alert,"errorIconColor",X("palette-error-main")),Re(q.Alert,"infoIconColor",X("palette-info-main")),Re(q.Alert,"successIconColor",X("palette-success-main")),Re(q.Alert,"warningIconColor",X("palette-warning-main")),Re(q.AppBar,"defaultBg",X("palette-grey-100")),Re(q.Avatar,"defaultBg",X("palette-grey-400")),Re(q.Button,"inheritContainedBg",X("palette-grey-300")),Re(q.Button,"inheritContainedHoverBg",X("palette-grey-A100")),Re(q.Chip,"defaultBorder",X("palette-grey-400")),Re(q.Chip,"defaultAvatarColor",X("palette-grey-700")),Re(q.Chip,"defaultIconColor",X("palette-grey-700")),Re(q.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Re(q.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Re(q.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Re(q.LinearProgress,"primaryBg",hi(q.primary.main,.62)),Re(q.LinearProgress,"secondaryBg",hi(q.secondary.main,.62)),Re(q.LinearProgress,"errorBg",hi(q.error.main,.62)),Re(q.LinearProgress,"infoBg",hi(q.info.main,.62)),Re(q.LinearProgress,"successBg",hi(q.success.main,.62)),Re(q.LinearProgress,"warningBg",hi(q.warning.main,.62)),Re(q.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.11)`),Re(q.Slider,"primaryTrack",hi(q.primary.main,.62)),Re(q.Slider,"secondaryTrack",hi(q.secondary.main,.62)),Re(q.Slider,"errorTrack",hi(q.error.main,.62)),Re(q.Slider,"infoTrack",hi(q.info.main,.62)),Re(q.Slider,"successTrack",hi(q.success.main,.62)),Re(q.Slider,"warningTrack",hi(q.warning.main,.62));const ie=f_(q.background.default,.8);Re(q.SnackbarContent,"bg",ie),Re(q.SnackbarContent,"color",fu(()=>q.getContrastText(ie))),Re(q.SpeedDialAction,"fabHoverBg",f_(q.background.paper,.15)),Re(q.StepConnector,"border",X("palette-grey-400")),Re(q.StepContent,"border",X("palette-grey-400")),Re(q.Switch,"defaultColor",X("palette-common-white")),Re(q.Switch,"defaultDisabledColor",X("palette-grey-100")),Re(q.Switch,"primaryDisabledColor",hi(q.primary.main,.62)),Re(q.Switch,"secondaryDisabledColor",hi(q.secondary.main,.62)),Re(q.Switch,"errorDisabledColor",hi(q.error.main,.62)),Re(q.Switch,"infoDisabledColor",hi(q.info.main,.62)),Re(q.Switch,"successDisabledColor",hi(q.success.main,.62)),Re(q.Switch,"warningDisabledColor",hi(q.warning.main,.62)),Re(q.TableCell,"border",hi(p_(q.divider,1),.88)),Re(q.Tooltip,"bg",p_(q.grey[700],.92))}if(q.mode==="dark"){Re(q.Alert,"errorColor",hi(q.error.light,.6)),Re(q.Alert,"infoColor",hi(q.info.light,.6)),Re(q.Alert,"successColor",hi(q.success.light,.6)),Re(q.Alert,"warningColor",hi(q.warning.light,.6)),Re(q.Alert,"errorFilledBg",X("palette-error-dark")),Re(q.Alert,"infoFilledBg",X("palette-info-dark")),Re(q.Alert,"successFilledBg",X("palette-success-dark")),Re(q.Alert,"warningFilledBg",X("palette-warning-dark")),Re(q.Alert,"errorFilledColor",fu(()=>q.getContrastText(q.error.dark))),Re(q.Alert,"infoFilledColor",fu(()=>q.getContrastText(q.info.dark))),Re(q.Alert,"successFilledColor",fu(()=>q.getContrastText(q.success.dark))),Re(q.Alert,"warningFilledColor",fu(()=>q.getContrastText(q.warning.dark))),Re(q.Alert,"errorStandardBg",ci(q.error.light,.9)),Re(q.Alert,"infoStandardBg",ci(q.info.light,.9)),Re(q.Alert,"successStandardBg",ci(q.success.light,.9)),Re(q.Alert,"warningStandardBg",ci(q.warning.light,.9)),Re(q.Alert,"errorIconColor",X("palette-error-main")),Re(q.Alert,"infoIconColor",X("palette-info-main")),Re(q.Alert,"successIconColor",X("palette-success-main")),Re(q.Alert,"warningIconColor",X("palette-warning-main")),Re(q.AppBar,"defaultBg",X("palette-grey-900")),Re(q.AppBar,"darkBg",X("palette-background-paper")),Re(q.AppBar,"darkColor",X("palette-text-primary")),Re(q.Avatar,"defaultBg",X("palette-grey-600")),Re(q.Button,"inheritContainedBg",X("palette-grey-800")),Re(q.Button,"inheritContainedHoverBg",X("palette-grey-700")),Re(q.Chip,"defaultBorder",X("palette-grey-700")),Re(q.Chip,"defaultAvatarColor",X("palette-grey-300")),Re(q.Chip,"defaultIconColor",X("palette-grey-300")),Re(q.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Re(q.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Re(q.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Re(q.LinearProgress,"primaryBg",ci(q.primary.main,.5)),Re(q.LinearProgress,"secondaryBg",ci(q.secondary.main,.5)),Re(q.LinearProgress,"errorBg",ci(q.error.main,.5)),Re(q.LinearProgress,"infoBg",ci(q.info.main,.5)),Re(q.LinearProgress,"successBg",ci(q.success.main,.5)),Re(q.LinearProgress,"warningBg",ci(q.warning.main,.5)),Re(q.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.13)`),Re(q.Slider,"primaryTrack",ci(q.primary.main,.5)),Re(q.Slider,"secondaryTrack",ci(q.secondary.main,.5)),Re(q.Slider,"errorTrack",ci(q.error.main,.5)),Re(q.Slider,"infoTrack",ci(q.info.main,.5)),Re(q.Slider,"successTrack",ci(q.success.main,.5)),Re(q.Slider,"warningTrack",ci(q.warning.main,.5));const ie=f_(q.background.default,.98);Re(q.SnackbarContent,"bg",ie),Re(q.SnackbarContent,"color",fu(()=>q.getContrastText(ie))),Re(q.SpeedDialAction,"fabHoverBg",f_(q.background.paper,.15)),Re(q.StepConnector,"border",X("palette-grey-600")),Re(q.StepContent,"border",X("palette-grey-600")),Re(q.Switch,"defaultColor",X("palette-grey-300")),Re(q.Switch,"defaultDisabledColor",X("palette-grey-600")),Re(q.Switch,"primaryDisabledColor",ci(q.primary.main,.55)),Re(q.Switch,"secondaryDisabledColor",ci(q.secondary.main,.55)),Re(q.Switch,"errorDisabledColor",ci(q.error.main,.55)),Re(q.Switch,"infoDisabledColor",ci(q.info.main,.55)),Re(q.Switch,"successDisabledColor",ci(q.success.main,.55)),Re(q.Switch,"warningDisabledColor",ci(q.warning.main,.55)),Re(q.TableCell,"border",ci(p_(q.divider,1),.68)),Re(q.Tooltip,"bg",p_(q.grey[700],.92))}_c(q.background,"default"),_c(q.background,"paper"),_c(q.common,"background"),_c(q.common,"onBackground"),_c(q,"divider"),Object.keys(q).forEach(ie=>{const le=q[ie];le&&typeof le=="object"&&(le.main&&Re(q[ie],"mainChannel",kb(Cb(le.main))),le.light&&Re(q[ie],"lightChannel",kb(Cb(le.light))),le.dark&&Re(q[ie],"darkChannel",kb(Cb(le.dark))),le.contrastText&&Re(q[ie],"contrastTextChannel",kb(Cb(le.contrastText))),ie==="text"&&(_c(q[ie],"primary"),_c(q[ie],"secondary")),ie==="action"&&(le.active&&_c(q[ie],"active"),le.selected&&_c(q[ie],"selected")))})}),B=t.reduce((re,q)=>so(re,q),B);const G={prefix:o,disableCssColorScheme:n,shouldSkipGeneratingVar:u,getSelector:s3e(B)},{vars:H,generateThemeVars:J,generateStyleSheets:Z}=Cwe(B,G);return B.vars=H,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([re,q])=>{B[re]=q}),B.generateThemeVars=J,B.generateStyleSheets=Z,B.generateSpacing=function(){return ste(m.spacing,z$(this))},B.getColorSchemeSelector=Ewe(f),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=u,B.unstable_sxConfig={...Y3,...m==null?void 0:m.unstable_sxConfig},B.unstable_sx=function(q){return T1({sx:q,theme:this})},B.toRuntimeSource=a3e,B}function zV(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:PL({...r===!0?{}:r.palette,mode:t})})}function l7(e={},...t){const{palette:r,cssVariables:i=!1,colorSchemes:n=r?void 0:{light:!0},defaultColorScheme:o=r==null?void 0:r.mode,...u}=e,f=o||"light",m=n==null?void 0:n[f],v={...n,...r?{[f]:{...typeof m!="boolean"&&m,palette:r}}:void 0};if(i===!1){if(!("colorSchemes"in e))return PE(e,...t);let _=r;"palette"in e||v[f]&&(v[f]!==!0?_=v[f].palette:f==="dark"&&(_={mode:"dark"}));const $=PE({...e,palette:_},...t);return $.defaultColorScheme=f,$.colorSchemes=v,$.palette.mode==="light"&&($.colorSchemes.light={...v.light!==!0&&v.light,palette:$.palette},zV($,"dark",v.dark)),$.palette.mode==="dark"&&($.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:$.palette},zV($,"light",v.light)),$}return!r&&!("light"in v)&&f==="light"&&(v.light=!0),h3e({...u,colorSchemes:v,defaultColorScheme:f,...typeof i!="boolean"&&i},...t)}const u7=l7();function k1(){const e=W$(u7);return e[iu]||e}function kte({props:e,name:t}){return cte({props:e,name:t,defaultTheme:u7,themeId:iu})}function Cte(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Hp=e=>Cte(e)&&e!=="classes",nt=ute({themeId:iu,defaultTheme:u7,rootShouldForwardProp:Hp});function BV({theme:e,...t}){const r=iu in e?e[iu]:void 0;return L.jsx(xte,{...t,themeId:r?iu:void 0,theme:r||e})}const y_={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:d3e,useColorScheme:I3t,getInitColorSchemeScript:P3t}=$we({themeId:iu,theme:()=>l7({cssVariables:!0}),colorSchemeStorageKey:y_.colorSchemeStorageKey,modeStorageKey:y_.modeStorageKey,defaultColorScheme:{light:y_.defaultLightColorScheme,dark:y_.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Ste(e.palette,e.typography)};return t.unstable_sx=function(i){return T1({sx:i,theme:this})},t}}),p3e=d3e;function f3e({theme:e,...t}){return typeof e=="function"?L.jsx(BV,{theme:e,...t}):"colorSchemes"in(iu in e?e[iu]:e)?L.jsx(p3e,{theme:e,...t}):L.jsx(BV,{theme:e,...t})}function y3e(e){return L.jsx(R2e,{...e,defaultTheme:u7,themeId:iu})}function Ete(e){return function(r){return L.jsx(y3e,{styles:typeof e=="function"?i=>e({theme:i,...r}):e})}}function m3e(){return J$}function br(e){return vwe(e)}const AE=typeof Ete({})=="function",g3e=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),v3e=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Ite=(e,t=!1)=>{var o,u;const r={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([f,m])=>{var _,$;const v=e.getColorSchemeSelector(f);v.startsWith("@")?r[v]={":root":{colorScheme:(_=m.palette)==null?void 0:_.mode}}:r[v.replace(/\s*&/,"")]={colorScheme:($=m.palette)==null?void 0:$.mode}});let i={html:g3e(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...v3e(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...r};const n=(u=(o=e.components)==null?void 0:o.MuiCssBaseline)==null?void 0:u.styleOverrides;return n&&(i=[i,n]),i},tS="mui-ecs",b3e=e=>{const t=Ite(e,!1),r=Array.isArray(t)?t[0]:t;return!e.vars&&r&&(r.html[`:root:has(${tS})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([i,n])=>{var u,f;const o=e.getColorSchemeSelector(i);o.startsWith("@")?r[o]={[`:root:not(:has(.${tS}))`]:{colorScheme:(u=n.palette)==null?void 0:u.mode}}:r[o.replace(/\s*&/,"")]={[`&:not(:has(.${tS}))`]:{colorScheme:(f=n.palette)==null?void 0:f.mode}}}),t},w3e=Ete(AE?({theme:e,enableColorScheme:t})=>Ite(e,t):({theme:e})=>b3e(e));function Pte(e){const t=br({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=t;return L.jsxs(W.Fragment,{children:[AE&&L.jsx(w3e,{enableColorScheme:i}),!AE&&!i&&L.jsx("span",{className:tS,style:{display:"none"}}),r]})}const x3e=lr("MuiBox",["root"]),_3e=l7(),Os=F2e({themeId:iu,defaultTheme:_3e,defaultClassName:x3e.root,generateClassName:SL.generate});function S3e(e){const t=vh(e);return t.body===e?Jg(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function H2(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function VV(e){return parseInt(Jg(e).getComputedStyle(e).paddingRight,10)||0}function $3e(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,i=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||i}function UV(e,t,r,i,n){const o=[t,r,...i];[].forEach.call(e.children,u=>{const f=o.indexOf(u)===-1,m=!$3e(u);f&&m&&H2(u,n)})}function mT(e,t){let r=-1;return e.some((i,n)=>t(i)?(r=n,!0):!1),r}function M3e(e,t){const r=[],i=e.container;if(!t.disableScrollLock){if(S3e(i)){const u=owe(vh(i));r.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${VV(i)+u}px`;const f=vh(i).querySelectorAll(".mui-fixed");[].forEach.call(f,m=>{r.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${VV(m)+u}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=vh(i).body;else{const u=i.parentElement,f=Jg(i);o=(u==null?void 0:u.nodeName)==="HTML"&&f.getComputedStyle(u).overflowY==="scroll"?u:i}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:u,property:f})=>{o?u.style.setProperty(f,o):u.style.removeProperty(f)})}}function T3e(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class k3e{constructor(){this.modals=[],this.containers=[]}add(t,r){let i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&H2(t.modalRef,!1);const n=T3e(r);UV(r,t.mount,t.modalRef,n,!0);const o=mT(this.containers,u=>u.container===r);return o!==-1?(this.containers[o].modals.push(t),i):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:n}),i)}mount(t,r){const i=mT(this.containers,o=>o.modals.indexOf(t)!==-1),n=this.containers[i];n.restore||(n.restore=M3e(n,r))}remove(t,r=!0){const i=this.modals.indexOf(t);if(i===-1)return i;const n=mT(this.containers,u=>u.modals.indexOf(t)!==-1),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&H2(t.modalRef,r),UV(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(n,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&H2(u.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const C3e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function E3e(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function I3e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=i=>e.ownerDocument.querySelector(`input[type="radio"]${i}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function P3e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||I3e(e))}function O3e(e){const t=[],r=[];return Array.from(e.querySelectorAll(C3e)).forEach((i,n)=>{const o=E3e(i);o===-1||!P3e(i)||(o===0?t.push(i):r.push({documentOrder:n,tabIndex:o,node:i}))}),r.sort((i,n)=>i.tabIndex===n.tabIndex?i.documentOrder-n.documentOrder:i.tabIndex-n.tabIndex).map(i=>i.node).concat(t)}function A3e(){return!0}function j3e(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:n=!1,getTabbable:o=O3e,isEnabled:u=A3e,open:f}=e,m=W.useRef(!1),v=W.useRef(null),_=W.useRef(null),$=W.useRef(null),T=W.useRef(null),I=W.useRef(!1),O=W.useRef(null),A=uo(a7(t),O),N=W.useRef(null);W.useEffect(()=>{!f||!O.current||(I.current=!r)},[r,f]),W.useEffect(()=>{if(!f||!O.current)return;const B=vh(O.current);return O.current.contains(B.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),I.current&&O.current.focus()),()=>{n||($.current&&$.current.focus&&(m.current=!0,$.current.focus()),$.current=null)}},[f]),W.useEffect(()=>{if(!f||!O.current)return;const B=vh(O.current),G=Z=>{N.current=Z,!(i||!u()||Z.key!=="Tab")&&B.activeElement===O.current&&Z.shiftKey&&(m.current=!0,_.current&&_.current.focus())},H=()=>{var q,X;const Z=O.current;if(Z===null)return;if(!B.hasFocus()||!u()||m.current){m.current=!1;return}if(Z.contains(B.activeElement)||i&&B.activeElement!==v.current&&B.activeElement!==_.current)return;if(B.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!I.current)return;let re=[];if((B.activeElement===v.current||B.activeElement===_.current)&&(re=o(O.current)),re.length>0){const ie=!!((q=N.current)!=null&&q.shiftKey&&((X=N.current)==null?void 0:X.key)==="Tab"),le=re[0],ue=re[re.length-1];typeof le!="string"&&typeof ue!="string"&&(ie?ue.focus():le.focus())}else Z.focus()};B.addEventListener("focusin",H),B.addEventListener("keydown",G,!0);const J=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(J),B.removeEventListener("focusin",H),B.removeEventListener("keydown",G,!0)}},[r,i,n,u,f,o]);const F=B=>{$.current===null&&($.current=B.relatedTarget),I.current=!0,T.current=B.target;const G=t.props.onFocus;G&&G(B)},z=B=>{$.current===null&&($.current=B.relatedTarget),I.current=!0};return L.jsxs(W.Fragment,{children:[L.jsx("div",{tabIndex:f?0:-1,onFocus:z,ref:v,"data-testid":"sentinelStart"}),W.cloneElement(t,{ref:A,onFocus:F}),L.jsx("div",{tabIndex:f?0:-1,onFocus:z,ref:_,"data-testid":"sentinelEnd"})]})}function R3e(e){return typeof e=="function"?e():e}const L3e=W.forwardRef(function(t,r){const{children:i,container:n,disablePortal:o=!1}=t,[u,f]=W.useState(null),m=uo(a7(i),r);if(qw(()=>{o||f(R3e(n)||document.body)},[n,o]),qw(()=>{if(u&&!o)return i4(r,u),()=>{i4(r,null)}},[r,u,o]),o){if(W.isValidElement(i)){const v={ref:m};return W.cloneElement(i,v)}return L.jsx(W.Fragment,{children:i})}return L.jsx(W.Fragment,{children:u&&S$.createPortal(i,u)})}),GV={theme:void 0};function Xt(e){let t,r;return i=>{let n=t;return(n===void 0||i.theme!==r)&&(GV.theme=i.theme,n=e(GV),t=n,r=i.theme),n}}function e1(e,t){const{className:r,elementType:i,ownerState:n,externalForwardedProps:o,getSlotOwnerState:u,internalForwardedProps:f,...m}=t,{component:v,slots:_={[e]:void 0},slotProps:$={[e]:void 0},...T}=o,I=_[e]||i,O=cwe($[e],n),{props:{component:A,...N},internalRef:F}=uwe({className:r,...m,externalForwardedProps:e==="root"?T:void 0,externalSlotProps:O}),z=uo(F,O==null?void 0:O.ref,t.ref),B=u?u(N):{},G={...n,...B},H=e==="root"?A||v:A,J=lwe(I,{...e==="root"&&!v&&!_[e]&&f,...e!=="root"&&!_[e]&&f,...N,...H&&{as:H},ref:z},G);return Object.keys(B).forEach(Z=>{delete J[Z]}),[I,J]}function Ote(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(e,t)}function Ate(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jE(e,t)}const qV={disabled:!1},n4=ia.createContext(null);var N3e=function(t){return t.scrollTop},Eb="unmounted",xf="exited",_f="entering",gy="entered",RE="exiting",hu=function(e){Ate(t,e);function t(i,n){var o;o=e.call(this,i,n)||this;var u=n,f=u&&!u.isMounting?i.enter:i.appear,m;return o.appearStatus=null,i.in?f?(m=xf,o.appearStatus=_f):m=gy:i.unmountOnExit||i.mountOnEnter?m=Eb:m=xf,o.state={status:m},o.nextCallback=null,o}t.getDerivedStateFromProps=function(n,o){var u=n.in;return u&&o.status===Eb?{status:xf}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var o=null;if(n!==this.props){var u=this.state.status;this.props.in?u!==_f&&u!==gy&&(o=_f):(u===_f||u===gy)&&(o=RE)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,o,u,f;return o=u=f=n,n!=null&&typeof n!="number"&&(o=n.exit,u=n.enter,f=n.appear!==void 0?n.appear:u),{exit:o,enter:u,appear:f}},r.updateStatus=function(n,o){if(n===void 0&&(n=!1),o!==null)if(this.cancelNextCallback(),o===_f){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:u_.findDOMNode(this);u&&N3e(u)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xf&&this.setState({status:Eb})},r.performEnter=function(n){var o=this,u=this.props.enter,f=this.context?this.context.isMounting:n,m=this.props.nodeRef?[f]:[u_.findDOMNode(this),f],v=m[0],_=m[1],$=this.getTimeouts(),T=f?$.appear:$.enter;if(!n&&!u||qV.disabled){this.safeSetState({status:gy},function(){o.props.onEntered(v)});return}this.props.onEnter(v,_),this.safeSetState({status:_f},function(){o.props.onEntering(v,_),o.onTransitionEnd(T,function(){o.safeSetState({status:gy},function(){o.props.onEntered(v,_)})})})},r.performExit=function(){var n=this,o=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:u_.findDOMNode(this);if(!o||qV.disabled){this.safeSetState({status:xf},function(){n.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:RE},function(){n.props.onExiting(f),n.onTransitionEnd(u.exit,function(){n.safeSetState({status:xf},function(){n.props.onExited(f)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,o){o=this.setNextCallback(o),this.setState(n,o)},r.setNextCallback=function(n){var o=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,o.nextCallback=null,n(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(n,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:u_.findDOMNode(this),f=n==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],v=m[0],_=m[1];this.props.addEndListener(v,_)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===Eb)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var f=Ote(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ia.createElement(n4.Provider,{value:null},typeof u=="function"?u(n,f):ia.cloneElement(ia.Children.only(u),f))},t}(ia.Component);hu.contextType=n4;hu.propTypes={};function Y1(){}hu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Y1,onEntering:Y1,onEntered:Y1,onExit:Y1,onExiting:Y1,onExited:Y1};hu.UNMOUNTED=Eb;hu.EXITED=xf;hu.ENTERING=_f;hu.ENTERED=gy;hu.EXITING=RE;function F3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(e,t){var r=function(o){return t&&W.isValidElement(o)?t(o):o},i=Object.create(null);return e&&W.Children.map(e,function(n){return n}).forEach(function(n){i[n.key]=r(n)}),i}function D3e(e,t){e=e||{},t=t||{};function r(_){return _ in t?t[_]:e[_]}var i=Object.create(null),n=[];for(var o in e)o in t?n.length&&(i[o]=n,n=[]):n.push(o);var u,f={};for(var m in t){if(i[m])for(u=0;u<i[m].length;u++){var v=i[m][u];f[i[m][u]]=r(v)}f[m]=r(m)}for(u=0;u<n.length;u++)f[n[u]]=r(n[u]);return f}function x0(e,t,r){return r[t]!=null?r[t]:e.props[t]}function z3e(e,t){return OL(e.children,function(r){return W.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:x0(r,"appear",e),enter:x0(r,"enter",e),exit:x0(r,"exit",e)})})}function B3e(e,t,r){var i=OL(e.children),n=D3e(t,i);return Object.keys(n).forEach(function(o){var u=n[o];if(W.isValidElement(u)){var f=o in t,m=o in i,v=t[o],_=W.isValidElement(v)&&!v.props.in;m&&(!f||_)?n[o]=W.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:x0(u,"exit",e),enter:x0(u,"enter",e)}):!m&&f&&!_?n[o]=W.cloneElement(u,{in:!1}):m&&f&&W.isValidElement(v)&&(n[o]=W.cloneElement(u,{onExited:r.bind(null,u),in:v.props.in,exit:x0(u,"exit",e),enter:x0(u,"enter",e)}))}}),n}var V3e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},U3e={component:"div",childFactory:function(t){return t}},AL=function(e){Ate(t,e);function t(i,n){var o;o=e.call(this,i,n)||this;var u=o.handleExited.bind(F3e(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(n,o){var u=o.children,f=o.handleExited,m=o.firstRender;return{children:m?z3e(n,f):B3e(n,u,f),firstRender:!1}},r.handleExited=function(n,o){var u=OL(this.props.children);n.key in u||(n.props.onExited&&n.props.onExited(o),this.mounted&&this.setState(function(f){var m=Q9({},f.children);return delete m[n.key],{children:m}}))},r.render=function(){var n=this.props,o=n.component,u=n.childFactory,f=Ote(n,["component","childFactory"]),m=this.state.contextValue,v=V3e(this.state.children).map(u);return delete f.appear,delete f.enter,delete f.exit,o===null?ia.createElement(n4.Provider,{value:m},v):ia.createElement(n4.Provider,{value:m},ia.createElement(o,f,v))},t}(ia.Component);AL.propTypes={};AL.defaultProps=U3e;const jte=e=>e.scrollTop;function fg(e,t){const{timeout:r,easing:i,style:n={}}=e;return{duration:n.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:n.transitionTimingFunction??(typeof i=="object"?i[t.mode]:i),delay:n.transitionDelay}}const G3e={entering:{opacity:1},entered:{opacity:1}},q3e=W.forwardRef(function(t,r){const i=k1(),n={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:u=!0,children:f,easing:m,in:v,onEnter:_,onEntered:$,onEntering:T,onExit:I,onExited:O,onExiting:A,style:N,timeout:F=n,TransitionComponent:z=hu,...B}=t,G=W.useRef(null),H=uo(G,a7(f),r),J=ne=>pe=>{if(ne){const ye=G.current;pe===void 0?ne(ye):ne(ye,pe)}},Z=J(T),re=J((ne,pe)=>{jte(ne);const ye=fg({style:N,timeout:F,easing:m},{mode:"enter"});ne.style.webkitTransition=i.transitions.create("opacity",ye),ne.style.transition=i.transitions.create("opacity",ye),_&&_(ne,pe)}),q=J($),X=J(A),ie=J(ne=>{const pe=fg({style:N,timeout:F,easing:m},{mode:"exit"});ne.style.webkitTransition=i.transitions.create("opacity",pe),ne.style.transition=i.transitions.create("opacity",pe),I&&I(ne)}),le=J(O),ue=ne=>{o&&o(G.current,ne)};return L.jsx(z,{appear:u,in:v,nodeRef:G,onEnter:re,onEntered:q,onEntering:Z,onExit:ie,onExited:le,onExiting:X,addEndListener:ue,timeout:F,...B,children:(ne,pe)=>W.cloneElement(f,{style:{opacity:0,visibility:ne==="exited"&&!v?"hidden":void 0,...G3e[ne],...N,...f.props.style},ref:H,...pe})})});function H3e(e){return ar("MuiBackdrop",e)}lr("MuiBackdrop",["root","invisible"]);const W3e=e=>{const{classes:t,invisible:r}=e;return dr({root:["root",r&&"invisible"]},H3e,t)},J3e=nt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),K3e=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiBackdrop"}),{children:n,className:o,component:u="div",invisible:f=!1,open:m,components:v={},componentsProps:_={},slotProps:$={},slots:T={},TransitionComponent:I,transitionDuration:O,...A}=i,N={...i,component:u,invisible:f},F=W3e(N),z={transition:I,root:v.Root,...T},B={..._,...$},G={slots:z,slotProps:B},[H,J]=e1("root",{elementType:J3e,externalForwardedProps:G,className:gt(F.root,o),ownerState:N}),[Z,re]=e1("transition",{elementType:q3e,externalForwardedProps:G,ownerState:N});return delete re.ownerState,L.jsx(Z,{in:m,timeout:O,...A,...re,children:L.jsx(H,{"aria-hidden":!0,...J,classes:F,ref:r,children:n})})});function Y3e(e){return typeof e=="function"?e():e}function Z3e(e){return e?e.props.hasOwnProperty("in"):!1}const X3e=new k3e;function Q3e(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:n=X3e,closeAfterTransition:o=!1,onTransitionEnter:u,onTransitionExited:f,children:m,onClose:v,open:_,rootRef:$}=e,T=W.useRef({}),I=W.useRef(null),O=W.useRef(null),A=uo(O,$),[N,F]=W.useState(!_),z=Z3e(m);let B=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(B=!1);const G=()=>vh(I.current),H=()=>(T.current.modalRef=O.current,T.current.mount=I.current,T.current),J=()=>{n.mount(H(),{disableScrollLock:i}),O.current&&(O.current.scrollTop=0)},Z=w0(()=>{const ye=Y3e(t)||G().body;n.add(H(),ye),O.current&&J()}),re=W.useCallback(()=>n.isTopModal(H()),[n]),q=w0(ye=>{I.current=ye,ye&&(_&&re()?J():O.current&&H2(O.current,B))}),X=W.useCallback(()=>{n.remove(H(),B)},[B,n]);W.useEffect(()=>()=>{X()},[X]),W.useEffect(()=>{_?Z():(!z||!o)&&X()},[_,X,z,o,Z]);const ie=ye=>ge=>{var he;(he=ye.onKeyDown)==null||he.call(ye,ge),!(ge.key!=="Escape"||ge.which===229||!re())&&(r||(ge.stopPropagation(),v&&v(ge,"escapeKeyDown")))},le=ye=>ge=>{var he;(he=ye.onClick)==null||he.call(ye,ge),ge.target===ge.currentTarget&&v&&v(ge,"backdropClick")};return{getRootProps:(ye={})=>{const ge=mte(e);delete ge.onTransitionEnter,delete ge.onTransitionExited;const he={...ge,...ye};return{role:"presentation",...he,onKeyDown:ie(he),ref:A}},getBackdropProps:(ye={})=>{const ge=ye;return{"aria-hidden":!0,...ge,onClick:le(ge),open:_}},getTransitionProps:()=>{const ye=()=>{F(!1),u&&u()},ge=()=>{F(!0),f&&f(),o&&X()};return{onEnter:r4(ye,m==null?void 0:m.props.onEnter),onExited:r4(ge,m==null?void 0:m.props.onExited)}},rootRef:A,portalRef:q,isTopModal:re,exited:N,hasTransition:z}}function exe(e){return ar("MuiModal",e)}lr("MuiModal",["root","hidden","backdrop"]);function txe(e){return ar("MuiSvgIcon",e)}lr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rxe=e=>{const{color:t,fontSize:r,classes:i}=e,n={root:["root",t!=="inherit"&&`color${We(t)}`,`fontSize${We(r)}`]};return dr(n,txe,i)},ixe=nt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${We(r.color)}`],t[`fontSize${We(r.fontSize)}`]]}})(Xt(({theme:e})=>{var t,r,i,n,o,u,f,m,v,_,$,T,I,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(t=e.transitions)==null?void 0:t.create)==null?void 0:n.call(t,"fill",{duration:(i=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:i.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((m=(f=e.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((_=(v=e.typography)==null?void 0:v.pxToRem)==null?void 0:_.call(v,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,A])=>A&&A.main).map(([A])=>{var N,F;return{props:{color:A},style:{color:(F=(N=(e.vars??e).palette)==null?void 0:N[A])==null?void 0:F.main}}}),{props:{color:"action"},style:{color:(T=($=(e.vars??e).palette)==null?void 0:$.action)==null?void 0:T.active}},{props:{color:"disabled"},style:{color:(O=(I=(e.vars??e).palette)==null?void 0:I.action)==null?void 0:O.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),s4=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiSvgIcon"}),{children:n,className:o,color:u="inherit",component:f="svg",fontSize:m="medium",htmlColor:v,inheritViewBox:_=!1,titleAccess:$,viewBox:T="0 0 24 24",...I}=i,O=W.isValidElement(n)&&n.type==="svg",A={...i,color:u,component:f,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:_,viewBox:T,hasSvgAsChild:O},N={};_||(N.viewBox=T);const F=rxe(A);return L.jsxs(ixe,{as:f,className:gt(F.root,o),focusable:"false",color:v,"aria-hidden":$?void 0:!0,role:$?"img":void 0,ref:r,...N,...I,...O&&n.props,ownerState:A,children:[O?n.props.children:n,$?L.jsx("title",{children:$}):null]})});s4&&(s4.muiName="SvgIcon");function Lh(e,t){function r(i,n){return L.jsx(s4,{"data-testid":`${t}Icon`,ref:n,...i,children:e})}return r.muiName=s4.muiName,W.memo(W.forwardRef(r))}const nxe={configure:e=>{SL.configure(e)}},sxe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:We,createChainedFunction:r4,createSvgIcon:Lh,debounce:dte,deprecatedPropType:ewe,isMuiElement:q2,ownerDocument:vh,ownerWindow:Jg,requirePropFactory:twe,setRef:i4,unstable_ClassNameGenerator:nxe,unstable_memoTheme:Xt,unstable_useEnhancedEffect:qw,unstable_useId:pte,unsupportedProp:iwe,useControlled:o7,useEventCallback:w0,useForkRef:uo},Symbol.toStringTag,{value:"Module"})),oxe=e=>{const{open:t,exited:r,classes:i}=e;return dr({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},exe,i)},axe=nt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Xt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),lxe=nt(K3e,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Rte=W.forwardRef(function(t,r){const i=br({name:"MuiModal",props:t}),{BackdropComponent:n=lxe,BackdropProps:o,classes:u,className:f,closeAfterTransition:m=!1,children:v,container:_,component:$,components:T={},componentsProps:I={},disableAutoFocus:O=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:N=!1,disablePortal:F=!1,disableRestoreFocus:z=!1,disableScrollLock:B=!1,hideBackdrop:G=!1,keepMounted:H=!1,onBackdropClick:J,onClose:Z,onTransitionEnter:re,onTransitionExited:q,open:X,slotProps:ie={},slots:le={},theme:ue,...ne}=i,pe={...i,closeAfterTransition:m,disableAutoFocus:O,disableEnforceFocus:A,disableEscapeKeyDown:N,disablePortal:F,disableRestoreFocus:z,disableScrollLock:B,hideBackdrop:G,keepMounted:H},{getRootProps:ye,getBackdropProps:ge,getTransitionProps:he,portalRef:ce,isTopModal:Ee,exited:ze,hasTransition:Ye}=Q3e({...pe,rootRef:r}),vt={...pe,exited:ze},tt=oxe(vt),yt={};if(v.props.tabIndex===void 0&&(yt.tabIndex="-1"),Ye){const{onEnter:Pe,onExited:pt}=he();yt.onEnter=Pe,yt.onExited=pt}const De={slots:{root:T.Root,backdrop:T.Backdrop,...le},slotProps:{...I,...ie}},[ot,He]=e1("root",{elementType:axe,externalForwardedProps:De,getSlotProps:ye,additionalProps:{ref:r,as:$},ownerState:vt,className:gt(f,tt==null?void 0:tt.root,!vt.open&&vt.exited&&(tt==null?void 0:tt.hidden))}),[Te,qe]=e1("backdrop",{elementType:n,externalForwardedProps:De,additionalProps:o,getSlotProps:Pe=>ge({...Pe,onClick:pt=>{J&&J(pt),Pe!=null&&Pe.onClick&&Pe.onClick(pt)}}),className:gt(o==null?void 0:o.className,tt==null?void 0:tt.backdrop),ownerState:vt}),it=uo(o==null?void 0:o.ref,qe.ref);return!H&&!X&&(!Ye||ze)?null:L.jsx(L3e,{ref:ce,container:_,disablePortal:F,children:L.jsxs(ot,{...He,...ne,children:[!G&&n?L.jsx(Te,{...qe,ref:it}):null,L.jsx(j3e,{disableEnforceFocus:A,disableAutoFocus:O,disableRestoreFocus:z,isEnabled:Ee,open:X,children:W.cloneElement(v,yt)})]})})});function uxe(e,t,r){const i=t.getBoundingClientRect(),n=r&&r.getBoundingClientRect(),o=Jg(t);let u;if(t.fakeTransform)u=t.fakeTransform;else{const v=o.getComputedStyle(t);u=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let f=0,m=0;if(u&&u!=="none"&&typeof u=="string"){const v=u.split("(")[1].split(")")[0].split(",");f=parseInt(v[4],10),m=parseInt(v[5],10)}return e==="left"?n?`translateX(${n.right+f-i.left}px)`:`translateX(${o.innerWidth+f-i.left}px)`:e==="right"?n?`translateX(-${i.right-n.left-f}px)`:`translateX(-${i.left+i.width-f}px)`:e==="up"?n?`translateY(${n.bottom+m-i.top}px)`:`translateY(${o.innerHeight+m-i.top}px)`:n?`translateY(-${i.top-n.top+i.height-m}px)`:`translateY(-${i.top+i.height-m}px)`}function cxe(e){return typeof e=="function"?e():e}function m_(e,t,r){const i=cxe(r),n=uxe(e,t,i);n&&(t.style.webkitTransform=n,t.style.transform=n)}const hxe=W.forwardRef(function(t,r){const i=k1(),n={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:u,appear:f=!0,children:m,container:v,direction:_="down",easing:$=n,in:T,onEnter:I,onEntered:O,onEntering:A,onExit:N,onExited:F,onExiting:z,style:B,timeout:G=o,TransitionComponent:H=hu,...J}=t,Z=W.useRef(null),re=uo(a7(m),Z,r),q=he=>ce=>{he&&(ce===void 0?he(Z.current):he(Z.current,ce))},X=q((he,ce)=>{m_(_,he,v),jte(he),I&&I(he,ce)}),ie=q((he,ce)=>{const Ee=fg({timeout:G,style:B,easing:$},{mode:"enter"});he.style.webkitTransition=i.transitions.create("-webkit-transform",{...Ee}),he.style.transition=i.transitions.create("transform",{...Ee}),he.style.webkitTransform="none",he.style.transform="none",A&&A(he,ce)}),le=q(O),ue=q(z),ne=q(he=>{const ce=fg({timeout:G,style:B,easing:$},{mode:"exit"});he.style.webkitTransition=i.transitions.create("-webkit-transform",ce),he.style.transition=i.transitions.create("transform",ce),m_(_,he,v),N&&N(he)}),pe=q(he=>{he.style.webkitTransition="",he.style.transition="",F&&F(he)}),ye=he=>{u&&u(Z.current,he)},ge=W.useCallback(()=>{Z.current&&m_(_,Z.current,v)},[_,v]);return W.useEffect(()=>{if(T||_==="down"||_==="right")return;const he=dte(()=>{Z.current&&m_(_,Z.current,v)}),ce=Jg(Z.current);return ce.addEventListener("resize",he),()=>{he.clear(),ce.removeEventListener("resize",he)}},[_,T,v]),W.useEffect(()=>{T||ge()},[T,ge]),L.jsx(H,{nodeRef:Z,onEnter:X,onEntered:le,onEntering:ie,onExit:ne,onExited:pe,onExiting:ue,addEndListener:ye,appear:f,in:T,timeout:G,...J,children:(he,ce)=>W.cloneElement(m,{ref:re,style:{visibility:he==="exited"&&!T?"hidden":void 0,...B,...m.props.style},...ce})})});function dxe(e){return ar("MuiPaper",e)}lr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pxe=e=>{const{square:t,elevation:r,variant:i,classes:n}=e,o={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${r}`]};return dr(o,dxe,n)},fxe=nt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Xt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),$n=W.forwardRef(function(t,r){var I;const i=br({props:t,name:"MuiPaper"}),n=k1(),{className:o,component:u="div",elevation:f=1,square:m=!1,variant:v="elevation",..._}=i,$={...i,component:u,elevation:f,square:m,variant:v},T=pxe($);return L.jsx(fxe,{as:u,ownerState:$,className:gt(T.root,o),ref:r,..._,style:{...v==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[f],...n.vars&&{"--Paper-overlay":(I=n.vars.overlays)==null?void 0:I[f]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ir("#fff",OE(f))}, ${Ir("#fff",OE(f))})`}},..._.style}})});function yxe(e){return ar("MuiDrawer",e)}lr("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Lte=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},mxe=e=>{const{classes:t,anchor:r,variant:i}=e,n={root:["root"],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${We(r)}`,i!=="temporary"&&`paperAnchorDocked${We(r)}`]};return dr(n,yxe,t)},gxe=nt(Rte,{name:"MuiDrawer",slot:"Root",overridesResolver:Lte})(Xt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),HV=nt("div",{shouldForwardProp:Hp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Lte})({flex:"0 0 auto"}),vxe=nt($n,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${We(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${We(r.anchor)}`]]}})(Xt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Nte={left:"right",right:"left",top:"down",bottom:"up"};function bxe(e){return["left","right"].includes(e)}function wxe({direction:e},t){return e==="rtl"&&bxe(t)?Nte[t]:t}const Fte=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiDrawer"}),n=k1(),o=bte(),u={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:m,children:v,className:_,elevation:$=16,hideBackdrop:T=!1,ModalProps:{BackdropProps:I,...O}={},onClose:A,open:N=!1,PaperProps:F={},SlideProps:z,TransitionComponent:B=hxe,transitionDuration:G=u,variant:H="temporary",...J}=i,Z=W.useRef(!1);W.useEffect(()=>{Z.current=!0},[]);const re=wxe({direction:o?"rtl":"ltr"},f),X={...i,anchor:f,elevation:$,open:N,variant:H,...J},ie=mxe(X),le=L.jsx(vxe,{elevation:H==="temporary"?$:0,square:!0,...F,className:gt(ie.paper,F.className),ownerState:X,children:v});if(H==="permanent")return L.jsx(HV,{className:gt(ie.root,ie.docked,_),ownerState:X,ref:r,...J,children:le});const ue=L.jsx(B,{in:N,direction:Nte[re],timeout:G,appear:Z.current,...z,children:le});return H==="persistent"?L.jsx(HV,{className:gt(ie.root,ie.docked,_),ownerState:X,ref:r,...J,children:ue}):L.jsx(gxe,{BackdropProps:{...m,...I,transitionDuration:G},className:gt(ie.root,ie.modal,_),open:N,ownerState:X,onClose:A,hideBackdrop:T,ref:r,...J,...O,children:ue})});function xxe(e){return ar("MuiAppBar",e)}lr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _xe=e=>{const{color:t,position:r,classes:i}=e,n={root:["root",`color${We(t)}`,`position${We(r)}`]};return dr(n,xxe,i)},WV=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Sxe=nt($n,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${We(r.position)}`],t[`color${We(r.color)}`]]}})(Xt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.contrastText).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?WV(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?WV(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),$xe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiAppBar"}),{className:n,color:o="primary",enableColorOnDark:u=!1,position:f="fixed",...m}=i,v={...i,color:o,position:f,enableColorOnDark:u},_=_xe(v);return L.jsx(Sxe,{square:!0,component:"header",ownerState:v,elevation:4,className:gt(_.root,n,f==="fixed"&&"mui-fixed"),ref:r,...m})});function Mxe(e){return ar("MuiToolbar",e)}lr("MuiToolbar",["root","gutters","regular","dense"]);const Txe=e=>{const{classes:t,disableGutters:r,variant:i}=e;return dr({root:["root",!r&&"gutters",i]},Mxe,t)},kxe=nt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(Xt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),rS=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiToolbar"}),{className:n,component:o="div",disableGutters:u=!1,variant:f="regular",...m}=i,v={...i,component:o,disableGutters:u,variant:f},_=Txe(v);return L.jsx(kxe,{as:o,className:gt(_.root,n),ref:r,ownerState:v,...m})}),bp=W.createContext({});function Cxe(e){return ar("MuiList",e)}lr("MuiList",["root","padding","dense","subheader"]);const Exe=e=>{const{classes:t,disablePadding:r,dense:i,subheader:n}=e;return dr({root:["root",!r&&"padding",i&&"dense",n&&"subheader"]},Cxe,t)},Ixe=nt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),So=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiList"}),{children:n,className:o,component:u="ul",dense:f=!1,disablePadding:m=!1,subheader:v,..._}=i,$=W.useMemo(()=>({dense:f}),[f]),T={...i,component:u,dense:f,disablePadding:m},I=Exe(T);return L.jsx(bp.Provider,{value:$,children:L.jsxs(Ixe,{as:u,className:gt(I.root,o),ref:r,ownerState:T,..._,children:[v,n]})})});function Pxe(e){return ar("MuiTypography",e)}const JV=lr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Oxe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Axe=m3e(),jxe=e=>{const{align:t,gutterBottom:r,noWrap:i,paragraph:n,variant:o,classes:u}=e,f={root:["root",o,e.align!=="inherit"&&`align${We(t)}`,r&&"gutterBottom",i&&"noWrap",n&&"paragraph"]};return dr(f,Pxe,u)},Rxe=nt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${We(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Xt(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,i])=>r!=="inherit"&&i&&typeof i=="object").map(([r,i])=>({props:{variant:r},style:i})),...Object.entries(e.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${We(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),KV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Kt=W.forwardRef(function(t,r){const{color:i,...n}=br({props:t,name:"MuiTypography"}),o=!Oxe[i],u=Axe({...n,...o&&{color:i}}),{align:f="inherit",className:m,component:v,gutterBottom:_=!1,noWrap:$=!1,paragraph:T=!1,variant:I="body1",variantMapping:O=KV,...A}=u,N={...u,align:f,color:i,className:m,component:v,gutterBottom:_,noWrap:$,paragraph:T,variant:I,variantMapping:O},F=v||(T?"p":O[I]||KV[I])||"span",z=jxe(N);return L.jsx(Rxe,{as:F,ref:r,className:gt(z.root,m),...A,ownerState:N,style:{...f!=="inherit"&&{"--Typography-textAlign":f},...A.style}})});function Lxe(e){return ar("MuiDivider",e)}lr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Nxe=e=>{const{absolute:t,children:r,classes:i,flexItem:n,light:o,orientation:u,textAlign:f,variant:m}=e;return dr({root:["root",t&&"absolute",m,o&&"light",u==="vertical"&&"vertical",n&&"flexItem",r&&"withChildren",r&&u==="vertical"&&"withChildrenVertical",f==="right"&&u!=="vertical"&&"textAlignRight",f==="left"&&u!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",u==="vertical"&&"wrapperVertical"]},Lxe,i)},Fxe=nt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Xt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ir(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Dxe=nt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Xt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),o4=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiDivider"}),{absolute:n=!1,children:o,className:u,orientation:f="horizontal",component:m=o||f==="vertical"?"div":"hr",flexItem:v=!1,light:_=!1,role:$=m!=="hr"?"separator":void 0,textAlign:T="center",variant:I="fullWidth",...O}=i,A={...i,absolute:n,component:m,flexItem:v,light:_,orientation:f,role:$,textAlign:T,variant:I},N=Nxe(A);return L.jsx(Fxe,{as:m,className:gt(N.root,u),role:$,ref:r,ownerState:A,"aria-orientation":$==="separator"&&(m!=="hr"||f==="vertical")?f:void 0,...O,children:o?L.jsx(Dxe,{className:N.wrapper,ownerState:A,children:o}):null})});o4&&(o4.muiSkipListHighlight=!0);function YV(e){return typeof e=="string"}function zxe(e){return ar("MuiListItem",e)}lr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);class a4{constructor(){Pv(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new a4}static use(){const t=fte(a4.create).current,[r,i]=W.useState(!1);return t.shouldMount=r,t.setShouldMount=i,W.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=Vxe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function Bxe(){return a4.use()}function Vxe(){let e,t;const r=new Promise((i,n)=>{e=i,t=n});return r.resolve=e,r.reject=t,r}function Uxe(e){const{className:t,classes:r,pulsate:i=!1,rippleX:n,rippleY:o,rippleSize:u,in:f,onExited:m,timeout:v}=e,[_,$]=W.useState(!1),T=gt(t,r.ripple,r.rippleVisible,i&&r.ripplePulsate),I={width:u,height:u,top:-(u/2)+o,left:-(u/2)+n},O=gt(r.child,_&&r.childLeaving,i&&r.childPulsate);return!f&&!_&&$(!0),W.useEffect(()=>{if(!f&&m!=null){const A=setTimeout(m,v);return()=>{clearTimeout(A)}}},[m,f,v]),L.jsx("span",{className:T,style:I,children:L.jsx("span",{className:O})})}const Da=lr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),LE=550,Gxe=80,qxe=qp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Hxe=qp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Wxe=qp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Jxe=nt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Kxe=nt(Uxe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Da.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${qxe};
    animation-duration: ${LE}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Da.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Da.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Da.childLeaving} {
    opacity: 0;
    animation-name: ${Hxe};
    animation-duration: ${LE}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Da.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Wxe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Yxe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTouchRipple"}),{center:n=!1,classes:o={},className:u,...f}=i,[m,v]=W.useState([]),_=W.useRef(0),$=W.useRef(null);W.useEffect(()=>{$.current&&($.current(),$.current=null)},[m]);const T=W.useRef(!1),I=yte(),O=W.useRef(null),A=W.useRef(null),N=W.useCallback(G=>{const{pulsate:H,rippleX:J,rippleY:Z,rippleSize:re,cb:q}=G;v(X=>[...X,L.jsx(Kxe,{classes:{ripple:gt(o.ripple,Da.ripple),rippleVisible:gt(o.rippleVisible,Da.rippleVisible),ripplePulsate:gt(o.ripplePulsate,Da.ripplePulsate),child:gt(o.child,Da.child),childLeaving:gt(o.childLeaving,Da.childLeaving),childPulsate:gt(o.childPulsate,Da.childPulsate)},timeout:LE,pulsate:H,rippleX:J,rippleY:Z,rippleSize:re},_.current)]),_.current+=1,$.current=q},[o]),F=W.useCallback((G={},H={},J=()=>{})=>{const{pulsate:Z=!1,center:re=n||H.pulsate,fakeElement:q=!1}=H;if((G==null?void 0:G.type)==="mousedown"&&T.current){T.current=!1;return}(G==null?void 0:G.type)==="touchstart"&&(T.current=!0);const X=q?null:A.current,ie=X?X.getBoundingClientRect():{width:0,height:0,left:0,top:0};let le,ue,ne;if(re||G===void 0||G.clientX===0&&G.clientY===0||!G.clientX&&!G.touches)le=Math.round(ie.width/2),ue=Math.round(ie.height/2);else{const{clientX:pe,clientY:ye}=G.touches&&G.touches.length>0?G.touches[0]:G;le=Math.round(pe-ie.left),ue=Math.round(ye-ie.top)}if(re)ne=Math.sqrt((2*ie.width**2+ie.height**2)/3),ne%2===0&&(ne+=1);else{const pe=Math.max(Math.abs((X?X.clientWidth:0)-le),le)*2+2,ye=Math.max(Math.abs((X?X.clientHeight:0)-ue),ue)*2+2;ne=Math.sqrt(pe**2+ye**2)}G!=null&&G.touches?O.current===null&&(O.current=()=>{N({pulsate:Z,rippleX:le,rippleY:ue,rippleSize:ne,cb:J})},I.start(Gxe,()=>{O.current&&(O.current(),O.current=null)})):N({pulsate:Z,rippleX:le,rippleY:ue,rippleSize:ne,cb:J})},[n,N,I]),z=W.useCallback(()=>{F({},{pulsate:!0})},[F]),B=W.useCallback((G,H)=>{if(I.clear(),(G==null?void 0:G.type)==="touchend"&&O.current){O.current(),O.current=null,I.start(0,()=>{B(G,H)});return}O.current=null,v(J=>J.length>0?J.slice(1):J),$.current=H},[I]);return W.useImperativeHandle(r,()=>({pulsate:z,start:F,stop:B}),[z,F,B]),L.jsx(Jxe,{className:gt(Da.root,o.root,u),ref:A,...f,children:L.jsx(AL,{component:null,exit:!0,children:m})})});function Zxe(e){return ar("MuiButtonBase",e)}const Xxe=lr("MuiButtonBase",["root","disabled","focusVisible"]),Qxe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:i,classes:n}=e,u=dr({root:["root",t&&"disabled",r&&"focusVisible"]},Zxe,n);return r&&i&&(u.root+=` ${i}`),u},e_e=nt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Xxe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),t1=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiButtonBase"}),{action:n,centerRipple:o=!1,children:u,className:f,component:m="button",disabled:v=!1,disableRipple:_=!1,disableTouchRipple:$=!1,focusRipple:T=!1,focusVisibleClassName:I,LinkComponent:O="a",onBlur:A,onClick:N,onContextMenu:F,onDragLeave:z,onFocus:B,onFocusVisible:G,onKeyDown:H,onKeyUp:J,onMouseDown:Z,onMouseLeave:re,onMouseUp:q,onTouchEnd:X,onTouchMove:ie,onTouchStart:le,tabIndex:ue=0,TouchRippleProps:ne,touchRippleRef:pe,type:ye,...ge}=i,he=W.useRef(null),ce=Bxe(),Ee=uo(ce.ref,pe),[ze,Ye]=W.useState(!1);v&&ze&&Ye(!1),W.useImperativeHandle(n,()=>({focusVisible:()=>{Ye(!0),he.current.focus()}}),[]);const vt=ce.shouldMount&&!_&&!v;W.useEffect(()=>{ze&&T&&!_&&ce.pulsate()},[_,T,ze,ce]);function tt(Be,Er,rr=$){return w0($t=>(Er&&Er($t),rr||ce[Be]($t),!0))}const yt=tt("start",Z),De=tt("stop",F),ot=tt("stop",z),He=tt("stop",q),Te=tt("stop",Be=>{ze&&Be.preventDefault(),re&&re(Be)}),qe=tt("start",le),it=tt("stop",X),Pe=tt("stop",ie),pt=tt("stop",Be=>{EV(Be.target)||Ye(!1),A&&A(Be)},!1),mt=w0(Be=>{he.current||(he.current=Be.currentTarget),EV(Be.target)&&(Ye(!0),G&&G(Be)),B&&B(Be)}),Pt=()=>{const Be=he.current;return m&&m!=="button"&&!(Be.tagName==="A"&&Be.href)},wt=w0(Be=>{T&&!Be.repeat&&ze&&Be.key===" "&&ce.stop(Be,()=>{ce.start(Be)}),Be.target===Be.currentTarget&&Pt()&&Be.key===" "&&Be.preventDefault(),H&&H(Be),Be.target===Be.currentTarget&&Pt()&&Be.key==="Enter"&&!v&&(Be.preventDefault(),N&&N(Be))}),bt=w0(Be=>{T&&Be.key===" "&&ze&&!Be.defaultPrevented&&ce.stop(Be,()=>{ce.pulsate(Be)}),J&&J(Be),N&&Be.target===Be.currentTarget&&Pt()&&Be.key===" "&&!Be.defaultPrevented&&N(Be)});let ee=m;ee==="button"&&(ge.href||ge.to)&&(ee=O);const at={};ee==="button"?(at.type=ye===void 0?"button":ye,at.disabled=v):(!ge.href&&!ge.to&&(at.role="button"),v&&(at["aria-disabled"]=v));const rt=uo(r,he),$e={...i,centerRipple:o,component:m,disabled:v,disableRipple:_,disableTouchRipple:$,focusRipple:T,tabIndex:ue,focusVisible:ze},ft=Qxe($e);return L.jsxs(e_e,{as:ee,className:gt(ft.root,f),ownerState:$e,onBlur:pt,onClick:N,onContextMenu:De,onFocus:mt,onKeyDown:wt,onKeyUp:bt,onMouseDown:yt,onMouseLeave:Te,onMouseUp:He,onDragLeave:ot,onTouchEnd:it,onTouchMove:Pe,onTouchStart:qe,ref:rt,tabIndex:v?-1:ue,type:ye,...at,...ge,children:[u,vt?L.jsx(Yxe,{ref:Ee,center:o,...ne}):null]})});function t_e(e){return ar("MuiListItemButton",e)}const vy=lr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),r_e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},i_e=e=>{const{alignItems:t,classes:r,dense:i,disabled:n,disableGutters:o,divider:u,selected:f}=e,v=dr({root:["root",i&&"dense",!o&&"gutters",u&&"divider",n&&"disabled",t==="flex-start"&&"alignItemsFlexStart",f&&"selected"]},t_e,r);return{...r,...v}},n_e=nt(t1,{shouldForwardProp:e=>Hp(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:r_e})(Xt(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vy.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${vy.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${vy.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${vy.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${vy.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Hh=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:o=!1,component:u="div",children:f,dense:m=!1,disableGutters:v=!1,divider:_=!1,focusVisibleClassName:$,selected:T=!1,className:I,...O}=i,A=W.useContext(bp),N=W.useMemo(()=>({dense:m||A.dense||!1,alignItems:n,disableGutters:v}),[n,A.dense,m,v]),F=W.useRef(null);qw(()=>{o&&F.current&&F.current.focus()},[o]);const z={...i,alignItems:n,dense:N.dense,disableGutters:v,divider:_,selected:T},B=i_e(z),G=uo(F,r);return L.jsx(bp.Provider,{value:N,children:L.jsx(n_e,{ref:G,href:O.href||O.to,component:(O.href||O.to)&&u==="div"?"button":u,focusVisibleClassName:gt(B.focusVisible,$),ownerState:z,className:gt(B.root,I),...O,classes:B,children:f})})});function s_e(e){return ar("MuiListItemSecondaryAction",e)}lr("MuiListItemSecondaryAction",["root","disableGutters"]);const o_e=e=>{const{disableGutters:t,classes:r}=e;return dr({root:["root",t&&"disableGutters"]},s_e,r)},a_e=nt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Dte=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiListItemSecondaryAction"}),{className:n,...o}=i,u=W.useContext(bp),f={...i,disableGutters:u.disableGutters},m=o_e(f);return L.jsx(a_e,{className:gt(m.root,n),ownerState:f,ref:r,...o})});Dte.muiName="ListItemSecondaryAction";const l_e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},u_e=e=>{const{alignItems:t,classes:r,dense:i,disableGutters:n,disablePadding:o,divider:u,hasSecondaryAction:f}=e;return dr({root:["root",i&&"dense",!n&&"gutters",!o&&"padding",u&&"divider",t==="flex-start"&&"alignItemsFlexStart",f&&"secondaryAction"],container:["container"]},zxe,r)},c_e=nt("div",{name:"MuiListItem",slot:"Root",overridesResolver:l_e})(Xt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${vy.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),h_e=nt("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Hr=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiListItem"}),{alignItems:n="center",children:o,className:u,component:f,components:m={},componentsProps:v={},ContainerComponent:_="li",ContainerProps:{className:$,...T}={},dense:I=!1,disableGutters:O=!1,disablePadding:A=!1,divider:N=!1,secondaryAction:F,slotProps:z={},slots:B={},...G}=i,H=W.useContext(bp),J=W.useMemo(()=>({dense:I||H.dense||!1,alignItems:n,disableGutters:O}),[n,H.dense,I,O]),Z=W.useRef(null),re=W.Children.toArray(o),q=re.length&&q2(re[re.length-1],["ListItemSecondaryAction"]),X={...i,alignItems:n,dense:J.dense,disableGutters:O,disablePadding:A,divider:N,hasSecondaryAction:q},ie=u_e(X),le=uo(Z,r),ue=B.root||m.Root||c_e,ne=z.root||v.root||{},pe={className:gt(ie.root,ne.className,u),...G};let ye=f||"li";return q?(ye=!pe.component&&!f?"div":ye,_==="li"&&(ye==="li"?ye="div":pe.component==="li"&&(pe.component="div")),L.jsx(bp.Provider,{value:J,children:L.jsxs(h_e,{as:_,className:gt(ie.container,$),ref:le,ownerState:X,...T,children:[L.jsx(ue,{...ne,...!YV(ue)&&{as:ye,ownerState:{...X,...ne.ownerState}},...pe,children:re}),re.pop()]})})):L.jsx(bp.Provider,{value:J,children:L.jsxs(ue,{...ne,as:ye,ref:le,...!YV(ue)&&{ownerState:{...X,...ne.ownerState}},...pe,children:[re,F&&L.jsx(Dte,{children:F})]})})});function d_e(e){return ar("MuiListItemText",e)}const g_=lr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),p_e=e=>{const{classes:t,inset:r,primary:i,secondary:n,dense:o}=e;return dr({root:["root",r&&"inset",o&&"dense",i&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},d_e,t)},f_e=nt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${g_.primary}`]:t.primary},{[`& .${g_.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${JV.root}:where(& .${g_.primary})`]:{display:"block"},[`.${JV.root}:where(& .${g_.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Ht=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiListItemText"}),{children:n,className:o,disableTypography:u=!1,inset:f=!1,primary:m,primaryTypographyProps:v,secondary:_,secondaryTypographyProps:$,...T}=i,{dense:I}=W.useContext(bp);let O=m??n,A=_;const N={...i,disableTypography:u,inset:f,primary:!!O,secondary:!!A,dense:I},F=p_e(N);return O!=null&&O.type!==Kt&&!u&&(O=L.jsx(Kt,{variant:I?"body2":"body1",className:F.primary,component:v!=null&&v.variant?void 0:"span",...v,children:O})),A!=null&&A.type!==Kt&&!u&&(A=L.jsx(Kt,{variant:"body2",className:F.secondary,color:"textSecondary",...$,children:A})),L.jsxs(f_e,{className:gt(F.root,o),ownerState:N,ref:r,...T,children:[O,A]})}),y_e="modulepreload",m_e=function(e,t){return new URL(e,t).href},ZV={},Ce=function(t,r,i){let n=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));n=Promise.all(r.map(m=>{if(m=m_e(m,i),m in ZV)return;ZV[m]=!0;const v=m.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(!!i)for(let I=o.length-1;I>=0;I--){const O=o[I];if(O.href===m&&(!v||O.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${_}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":y_e,v||(T.as="script"),T.crossOrigin="",T.href=m,f&&T.setAttribute("nonce",f),document.head.appendChild(T),v)return new Promise((I,O)=>{T.addEventListener("load",I),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}return n.then(()=>t()).catch(o=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o})};function b(e,t,r,i){var n,o=arguments.length,u=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,t,r,i);else for(var f=e.length-1;f>=0;f--)(n=e[f])&&(u=(o<3?n(u):o>3?n(t,r,u):n(t,r))||u);return o>3&&u&&Object.defineProperty(t,r,u),u}function O3t(e,t){return function(r,i){t(r,i,e)}}function A3t(e,t,r,i){function n(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function f(_){try{v(i.next(_))}catch($){u($)}}function m(_){try{v(i.throw(_))}catch($){u($)}}function v(_){_.done?o(_.value):n(_.value).then(f,m)}v((i=i.apply(e,[])).next())})}let tp;function ke(e){return typeof tp[e]=="function"?tp[e]=tp[e](globalThis):tp[e]}var cX,hX,dX,pX;tp=(cX=globalThis.dojoConfig)!=null&&cX.has||(hX=globalThis.esriConfig)!=null&&hX.has?{...(dX=globalThis.dojoConfig)==null?void 0:dX.has,...(pX=globalThis.esriConfig)==null?void 0:pX.has}:{},ke.add=(e,t,r,i)=>((i||tp[e]===void 0)&&(tp[e]=t),r&&ke(e)),ke.cache=tp,ke.add("big-integer-warning-enabled",!0),ke.add("esri-deprecation-warnings",!0),ke.add("esri-tests-disable-screenshots",!1),ke.add("esri-tests-use-full-window",!1),ke.add("esri-tests-post-to-influx",!0),(()=>{var t;ke.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ke.add("host-browser",e),ke.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),ke.add("dom",e),ke("host-browser")){const r=navigator,i=r.userAgent,n=r.appVersion,o=parseFloat(n);if(ke.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),ke.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),ke.add("khtml",n.includes("Konqueror")?o:void 0),ke.add("edge",parseFloat(i.split("Edge/")[1])||void 0),ke.add("opr",parseFloat(i.split("OPR/")[1])||void 0),ke.add("webkit",!ke("wp")&&!ke("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),ke.add("chrome",!ke("edge")&&!ke("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),ke.add("android",!ke("wp")&&parseFloat(i.split("Android ")[1])||void 0),ke.add("safari",!n.includes("Safari")||ke("wp")||ke("chrome")||ke("android")||ke("edge")||ke("opr")?void 0:parseFloat(n.split("Version/")[1])),ke.add("mac",n.includes("Macintosh")),!ke("wp")&&/(iPhone|iPod|iPad)/.test(i)){const u=RegExp.$1.replace(/P/,"p"),f=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",m=parseFloat(f.replace(/_/,".").replaceAll("_",""));ke.add(u,m),ke.add("ios",m)}ke("webkit")||(!i.includes("Gecko")||ke("wp")||ke("khtml")||ke("edge")||ke.add("mozilla",o),ke("mozilla")&&ke.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&ke.add("esri-mobile",t),r&&ke.add("esri-iPhone",r),ke.add("esri-geolocation",!!navigator.geolocation)}ke.add("esri-wasm","WebAssembly"in globalThis),ke.add("esri-performance-mode-frames-between-render",20),ke.add("esri-force-performance-mode",!1),ke.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),ke.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),ke.add("esri-atomics","Atomics"in globalThis),ke.add("esri-workers","Worker"in globalThis),ke.add("web-feat:cache","caches"in globalThis),ke.add("esri-workers-arraybuffer-transfer",!ke("safari")||Number(ke("safari"))>=12),ke.add("workers-pool-size",8),ke.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ke.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ke.add("featurelayer-fast-triangulation-enabled",!0),ke.add("featurelayer-animation-enabled",!0),ke.add("featurelayer-snapshot-enabled",!0),ke.add("featurelayer-snapshot-point-min-threshold",8e4),ke.add("featurelayer-snapshot-point-max-threshold",4e5),ke.add("featurelayer-snapshot-point-coverage",.1),ke.add("featurelayer-query-max-depth",4),ke.add("featurelayer-query-pausing-enabled",!1),ke.add("featurelayer-advanced-symbols",!1),ke.add("featurelayer-pbf",!0),ke.add("featurelayer-pbf-statistics",!1),ke.add("feature-layers-workers",!0),ke.add("feature-polyline-generalization-factor",1),ke.add("mapview-transitions-duration",200),ke.add("mapview-essential-goto-duration",200),ke.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ke.add("mapserver-pbf-version-support",10.81),ke.add("mapservice-popup-identify-max-tolerance",20),ke("host-webworker")||ke("host-browser")&&(ke.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ke.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{ke.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ke.add("esri-image-decode",!1,!0,!0)})}return!1}),ke.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const XV=new WeakMap;function g_e(e,t,r=!1){const i=`🛑 DEPRECATED - ${t}`;if(!r)return void e.warn(i);let n=XV.get(e);n||(n=new Set,XV.set(e,n)),n.has(t)||(n.add(t),e.warn(i))}function zte(e,t,r={}){if(ke("esri-deprecation-warnings")){const{moduleName:i}=r;r1(e,`Function: ${(i?i+"::":"")+t+"()"}`,r)}}function Ib(e,t,r={}){if(ke("esri-deprecation-warnings")){const{moduleName:i}=r;r1(e,`Property: ${(i?i+"::":"")+t}`,r)}}function v_e(e,t,r={}){ke("esri-deprecation-warnings")&&r1(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function r1(e,t,r={}){if(ke("esri-deprecation-warnings")){const{replacement:i,version:n,see:o,warnOnce:u}=r;let f=t;i&&(f+=`
	🛠️ Replacement: ${i}`),n&&(f+=`
	⚙️ Version: ${n}`),o&&(f+=`
	🔗 See ${o} for more details.`),g_e(e,f,u)}}function j3t(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function b_e(e,t){for(const r of e)if(r!=null&&t(r))return r}function l4(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Z3=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(l4(t)){const i=this._getOrCreateGroup(r);for(const n of t)eU(n)&&i.push(n)}else eU(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has(v_(t))}remove(t){if(typeof t!="string"&&l4(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(QV(this._getGroup(t)),this._groups.delete(v_(t)),this):this}removeAll(){return this._groups.forEach(QV),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(v_(t),r),r}_getGroup(t){return this._groups.get(v_(t))}};function v_(e){return e||"_default_"}function QV(e){for(const t of e)t instanceof Z3?t.removeAll():t.remove()}function eU(e){return e!=null&&(!!e.remove||e instanceof Z3)}let gT=class Sf{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Sf._m}getInt(){return this._seed=(Sf._a*this._seed+Sf._c)%Sf._m,this._seed}getFloat(){return this.getInt()/(Sf._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/Sf._m*i}};gT._m=2147483647,gT._a=48271,gT._c=0;function L3t(e,t){return t?e.filter((r,i,n)=>n.findIndex(t.bind(null,r))===i):Array.from(new Set(e))}function c7(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function N3t(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let i=0;i<t.length;++i)e[i]!==t[i]&&(e[i]=t[i],r=!0);return r}function tU(e,t,r){let i,n;return r?(i=t.filter(o=>!e.some(u=>r(u,o))),n=e.filter(o=>!t.some(u=>r(u,o)))):(i=t.filter(o=>!e.includes(o)),n=e.filter(o=>!t.includes(o))),{added:i,removed:n}}function F3t(e){return e&&typeof e.length=="number"}let Bte=class{constructor(){this.last=0}};const Vte=new Bte;function NE(e,t,r,i){i=i||Vte;const n=Math.max(0,i.last-10);for(let u=n;u<r;++u)if(e[u]===t)return i.last=u,u;const o=Math.min(n,r);for(let u=0;u<o;++u)if(e[u]===t)return i.last=u,u;return-1}function w_e(e,t,r,i){const n=e.length,o=NE(e,t,n,i);if(o!==-1)return e[o]=e[n-1],e.pop(),t}const Ml=new Set;function x_e(e,t,r=e.length,i=t.length,n,o){if(i===0||r===0)return r;Ml.clear();for(let f=0;f<i;++f)Ml.add(t[f]);n=n||Vte;const u=Math.max(0,n.last-10);for(let f=u;f<r;++f)if(Ml.has(e[f])&&(o==null||o.push(e[f]),Ml.delete(e[f]),e[f]=e[r-1],--r,--f,Ml.size===0||r===0))return Ml.clear(),r;for(let f=0;f<u;++f)if(Ml.has(e[f])&&(o==null||o.push(e[f]),Ml.delete(e[f]),e[f]=e[r-1],--r,--f,Ml.size===0||r===0))return Ml.clear(),r;return Ml.clear(),r}function __e(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function ps(e,t){return e!=null}function Ute(e){return 32+e.length}function jL(){return 16}function z3t(e){if(!e)return 0;let t=qte;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=Ute(i);break;case"number":t+=jL();break;case"boolean":t+=4}}return t}function S_e(e){if(!e)return 0;if(Array.isArray(e))return $_e(e);let t=qte;for(const r in e)e.hasOwnProperty(r)&&(t+=Gte(e[r]));return t}function $_e(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=Hte;for(let i=0;i<t;i++)r+=Gte(e[i]);return r}function Gte(e){switch(typeof e){case"object":return S_e(e);case"string":return Ute(e);case"number":return jL();case"boolean":return 4;default:return 8}}function M_e(e,t){return Hte+e.length*t}const qte=32,Hte=16;function B3t(e){return e instanceof ArrayBuffer}function RL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function Wte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function Jte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function LL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function Kte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function NL(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function Yte(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function h7(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function d7(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function T_e(e){return!("buffer"in e)}function V3t(...e){return e.reduce((t,r)=>t+(r?T_e(r)?M_e(r,jL()):r.byteLength+k_e:0),0)}const k_e=145,U3t=1024;function G3t(e){return d7(e)||h7(e)||NL(e)||LL(e)||RL(e)}function q3t(e){return d7(e)||h7(e)}function H3t(e){return d7(e)?179769e303:h7(e)?3402823e32:Yte(e)?4294967295:Kte(e)?65535:Wte(e)||Jte(e)?255:NL(e)?2147483647:LL(e)?32767:RL(e)?127:256}function C_e(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function ve(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=Qte(e);if(t!=null)return t;if(u4(e))return e.clone();if(Zte(e))return e.map(ve);if(Xte(e))return e.clone();const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=ve(e[i]);return r}function FE(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=Qte(e);if(t!=null)return t;if(Zte(e)){let r=!0;const i=e.map(n=>{const o=FE(n);return n!=null&&o==null&&(r=!1),o});return r?i:null}if(u4(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!Xte(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const n=e[i],o=FE(n);if(n!=null&&o==null)return null;r[i]=o}return r}return null}function u4(e){return typeof e.clone=="function"}function Zte(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function Xte(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function rU(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Qte(e){if(RL(e)||Wte(e)||Jte(e)||LL(e)||Kte(e)||NL(e)||Yte(e)||h7(e)||d7(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,ve(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(ve(r));return t}return null}function FL(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function ere(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&c7(e,t):e instanceof Set?t instanceof Set&&I_e(e,t):e instanceof Map?t instanceof Map&&P_e(e,t):!!rU(e)&&rU(t)&&E_e(e,t))}function E_e(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function I_e(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function P_e(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const n=t.get(r);if(n!==i||n===void 0&&!t.has(r))return!1}return!0}function DL(e,t,r=!1){return rre(e,t,r)}function X3(e,t){if(t!=null)return t[e]||tre(e.split("."),!1,t)}function Ds(e,t,r){const i=e.split("."),n=i.pop(),o=tre(i,!0,r);o&&n&&(o[n]=t)}function iU(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let i=0;i<e.length;i++)if(iU(e[i],r[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(iU(e[r],t[r]))return!0;return!1}return e!==t}function tre(e,t,r){let i=r;for(const n of e){if(i==null)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function rre(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let o=i[n],u=t[n];return o===u?i:o===void 0?(i[n]=ve(u),i):(Array.isArray(u)||Array.isArray(i)?(o=o?Array.isArray(o)?i[n]=o.concat():i[n]=[o]:i[n]=[],u&&(Array.isArray(u)||(u=[u]),r?u.forEach(f=>{o.includes(f)||o.push(f)}):i[n]=u.concat())):u&&typeof u=="object"?i[n]=rre(o,u,r):i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=u),i)},e||{}):e}var fX;const wr={apiKey:void 0,applicationName:"",applicationUrl:(fX=globalThis.location)==null?void 0:fX.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(DL(wr,globalThis.esriConfig,!0),delete wr.has),!wr.assetsPath){{const e="4.30";wr.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}wr.defaultAssetsPath=wr.assetsPath}const O_e=/\{([^}]+)\}/g;function nU(e){return e??""}function p7(e,t){return t?e.replaceAll(O_e,typeof t=="object"?(r,i)=>nU(X3(i,t)):(r,i)=>nU(t(i))):e}function A_e(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t!=null&&t.includes(r)?r:`\\${r}`)}function ire(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let sU;function W3t(e){return sU??(sU=new DOMParser),sU.parseFromString(e||"","text/html").body.innerText||""}function J3t(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const oU={info:0,warn:1,error:2,none:3};let Ne=class Go{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Go._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Go.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Go._loggers.get(t)||new Go({module:t})}_log(t,r,...i){if(this._matchLevel(t)){if(r!=="always"&&!Go._throttlingDisabled){const n=R_e(i),o=this._loggedMessages[t].get(n);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=Go._tickCounter)return;this._loggedMessages[t].set(n,Go._tickCounter),Go._scheduleTickCounterIncrement()}for(const n of wr.log.interceptors)if(n(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;i!=null;){const n=i[t];if(n!=null)return n;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",j_e)}_matchLevel(t){const r=wr.log.level||"warn";return oU[this._parentWithMember("level",r)]<=oU[t]}static _scheduleTickCounterIncrement(){Go._tickCounterScheduled||(Go._tickCounterScheduled=!0,Promise.resolve().then(()=>{Go._tickCounter++,Go._tickCounterScheduled=!1}))}};function j_e(e,t,...r){console[e](`[${t}]`,...r)}function R_e(...e){return ire(JSON.stringify(e,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}Ne._loggers=new Map,Ne._tickCounter=0,Ne._tickCounterScheduled=!1,Ne._throttlingDisabled=!1;function nre(e,t){if(e==null)throw new Error(t??"value is None")}function ai(e){return e==null||e.destroy(),null}function K3t(e){return e==null||e.dispose(),null}function zi(e){return e==null||e.remove(),null}function i1(e){return e==null||e.abort(),null}function Y3t(e){return e==null||e.release(),null}function L_e(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function Ww(e,t){let r;return e.some((i,n)=>(r=t(i,n),r!=null)),r??void 0}const sre=Symbol("Accessor-beforeDestroy"),N_e={remove:()=>{}};function Kr(e){return e?{remove(){e&&(e(),e=void 0)}}:N_e}function F_e(e){e.forEach(t=>t==null?void 0:t.remove())}function Q3(e){return Kr(()=>F_e(e))}function zs(e){return e.__accessor__??null}function D_e(e,t){var r;return((r=e==null?void 0:e.metadata)==null?void 0:r[t])!=null}function iS(e,t,r){return r?c4(e,t,{policy:r,path:""}):c4(e,t,null)}function c4(e,t,r){return t?Object.keys(t).reduce((i,n)=>{const o=n;let u=null,f="merge";if(r&&(u=r.path?`${r.path}.${n}`:n,f=r.policy(u)),f==="replace"||f==="replace-arrays"&&Array.isArray(i[o]))return i[o]=t[o],i;if(i[o]===void 0)return i[o]=ve(t[o]),i;let m=i[o],v=t[o];if(m===v)return i;if(Array.isArray(v)||Array.isArray(i))m=m?Array.isArray(m)?i[o]=m.concat():i[o]=[m]:i[o]=[],v&&(Array.isArray(v)||(v=[v]),v.forEach(_=>{m.includes(_)||m.push(_)}));else if(v&&typeof v=="object")if(r){const _=r.path;r.path=u,i[o]=c4(m,v,r),r.path=_}else i[o]=c4(m,v,null);else i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[o]=v);return i},e||{}):e}function ore(e){return Array.isArray(e)?e:e.split(".")}function aU(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function z_e(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...aU(r));return t}return aU(e)}function are(e,t,r,i){const n=z_e(t);if(n.length!==1){const o=n.map(u=>i(e,u,r));return Q3(o)}return i(e,n[0],r)}function lre(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const i=zs(t);return D_e(i,r)?i.get(r):t[r]}function ure(e,t,r){if(e==null)return e;const i=lre(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:ure(i,t,r+1)}function ex(e,t,r=0){return typeof t!="string"||t.includes(".")?ure(e,ore(t),r):lre(t,e)}function ro(e,t){return ex(e,t)}function lU(e,t){return ex(t,e)!==void 0}var Co;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Co||(Co={}));function tx(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const i in t)t[i]=ve(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function f7(e,t){const r=tx(e);let i=r[t];return i||(i=r[t]={}),i}function B_e(e,t){return iS(e,t,U_e)}const V_e=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function U_e(e){return V_e.test(e)?"replace":"merge"}function G_e(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function q_e(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let C1=class DE{constructor(t,r,i,n=1,o=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=n,this._pool=new Array(o),this._initialSize=o,this._ctor)for(let u=0;u<o;u++)this._pool[u]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(DE.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let n=0;n<i;n++)this._pool[n]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):q_e(r)&&r.acquire(...t),r}release(t){t&&!DE.test.disabled&&(this._releaseFunction?this._releaseFunction(t):G_e(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};C1.test={disabled:!1};let H_e=class{constructor(t,r){this._observers=t,this._observer=r}remove(){__e(this._observers,this._observer)}},cre=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return W_e;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,n=!1;const o=r.length;for(let u=0;u<o;++u){const f=r[u];if(f.destroyed)n=!0;else if(f===t){i=!0;break}}return i||(r.push(t),n&&this._removeDestroyedObservers()),new H_e(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let i=0;for(let n=0;n<r;++n){for(;n+i<r&&t[n+i].destroyed;)++i;if(i>0){if(!(n+i<r))break;t[n]=t[n+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const W_e=Kr();var or;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(or||(or={}));const zE=or.USER+1;function rp(e){switch(e){case"defaults":return or.DEFAULTS;case"service":return or.SERVICE;case"portal-item":return or.PORTAL_ITEM;case"web-scene":return or.WEB_SCENE;case"web-map":return or.WEB_MAP;case"link-chart":return or.LINK_CHART;case"user":return or.USER;default:return null}}function h4(e){switch(e){case or.DEFAULTS:return"defaults";case or.SERVICE:return"service";case or.PORTAL_ITEM:return"portal-item";case or.WEB_SCENE:return"web-scene";case or.WEB_MAP:return"web-map";case or.LINK_CHART:return"link-chart";case or.USER:return"user"}}function J_e(e){return h4(e)}var Yr;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Yr||(Yr={}));const d4={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},Pb=[];let W2=d4;function At(e){W2.onObservableAccessed(e)}let nS=!1,sS=!1;function Eh(e,t,r){if(nS)return zL(e,t,r);hre(e);const i=t.call(r);return dre(),i}function K_e(e,t){return Eh(d4,e,t)}function zL(e,t,r){const i=nS;nS=!0,hre(e);let n=null;try{n=t.call(r)}catch(o){sS&&Ne.getLogger("esri.core.accessorSupport.tracking").error(o)}return dre(),nS=i,n}function hre(e){W2=e,Pb.push(e)}function dre(){const e=Pb.length;if(e>1){const t=Pb.pop();W2=Pb[e-2],t.onTrackingEnd()}else if(e===1){const t=Pb.pop();W2=d4,t.onTrackingEnd()}else W2=d4}function pre(e,t){if(t.flags&Yr.DepTrackingInitialized)return;const r=sS;sS=!1,t.flags&Yr.AutoTracked?zL(t,t.metadata.get,e):fre(e,t),sS=r}const Y_e=[];function fre(e,t){t.flags&Yr.ExplicitlyTracking||(t.flags|=Yr.ExplicitlyTracking,zL(t,()=>{const r=t.metadata.dependsOn||Y_e;for(const i of r)if(typeof i!="string"||i.includes(".")){const n=ore(i);for(let o=0,u=e;o<n.length&&u!=null&&typeof u=="object";++o)u=uU(u,n[o],o!==n.length-1)}else uU(e,i,!1)}),t.flags&=~Yr.ExplicitlyTracking)}function uU(e,t,r){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(i,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const n=zs(e);if(n){const o=n.propertiesByName.get(i);o&&(At(o),pre(e,o))}return r?e[i]:void 0}let cU=class extends cre{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=Yr.Dirty|(r.nonNullable?Yr.NonNullable:0)|(r.hasOwnProperty("value")?Yr.HasDefaultValue:0)|(r.get===void 0?Yr.DepTrackingInitialized:0)|(r.dependsOn===void 0?Yr.AutoTracked:0)}destroy(){this.flags&Yr.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){At(this);const r=t.store,i=this.propertyName,n=this.flags,o=r.get(i);if(n&Yr.Computing||~n&Yr.Dirty&&r.has(i))return o;this.flags|=Yr.Computing;const u=t.host;let f;n&Yr.AutoTracked?f=Eh(this,this.metadata.get,u):(fre(u,this),f=this.metadata.get.call(u)),r.set(i,f,or.COMPUTED);const m=r.get(i);return m===o?this.flags&=~Yr.Dirty:K_e(this.commit,this),this.flags&=~Yr.Computing,m}onObservableAccessed(t){t!==this&&(this._accessed??(this._accessed=new Set),this._accessed.add(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Yr.DepTrackingInitialized,this._accessed!=null&&(this._handles??(this._handles=[]),this._accessed.forEach(t=>{this._handles.push(t.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Yr.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&Yr.Overridden&&(this.flags|=Yr.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onCommitted()}}},Z_e=class yre{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new yre;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ve(i))}),r}get(t){return this._values.get(t)}originOf(){return or.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function b_(e,t,r){return e!==void 0}function hU(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&Yr.NonNullable)||(i.lifecycle,Co.INITIALIZING,!1))}let X_e=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Co.INITIALIZING,this.store=new Z_e,this._origin=or.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const n=new cU(i,r[i]);this.propertiesByName.set(i,n)}this.metadata=r}initialize(){this.lifecycle=Co.CONSTRUCTING}constructed(){this.lifecycle=Co.CONSTRUCTED}destroy(){this.lifecycle=Co.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Co.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);At(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&Yr.HasDefaultValue)return"defaults"}return h4(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(b_(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.propertiesByName.get(t);b_(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const n=this.propertiesByName.get(r);if(!b_(n))return"";const o=new Set,u=Eh({onObservableAccessed:m=>o.add(m),onTrackingEnd:()=>{}},()=>{var m;return(m=n.metadata.get)==null?void 0:m.call(t)});let f=`${i}${t.declaredClass.split(".").pop()}.${r}: ${u}
`;if(o.size===0)return f;i+="  ";for(const m of o)m instanceof cU&&(f+=`${i}${m.propertyName}: undefined
`);return f}setAtOrigin(t,r,i){const n=this.propertiesByName.get(t);if(b_(n))return this._setAtOrigin(n,r,i)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&Yr.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&Yr.Overridden&&(r.flags&=~Yr.Overridden,r.notifyChange())}override(t,r){const i=this.propertiesByName.get(t);if(!hU(i,t,r,this))return;const n=i.metadata.cast;if(n){const o=this._cast(n,r),{valid:u,value:f}=o;if(vT.release(o),!u)return;r=f}i.flags|=Yr.Overridden,this._internalSet(i,r)}set(t,r){const i=this.propertiesByName.get(t);if(!hU(i,t,r,this))return;const n=i.metadata.cast;if(n){const u=this._cast(n,r),{valid:f,value:m}=u;if(vT.release(u),!f)return;r=m}const o=i.metadata.set;o?o.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=rp(t)}getDefaultOrigin(){return h4(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==Co.INITIALIZING?this._origin:or.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const n=this.store,o=t.propertyName;n.has(o,i)&&FL(r,n.get(o))&&~t.flags&Yr.Overridden&&i===n.originOf(o)||(t.invalidate(),n.set(o,r,i),t.commit(),pre(this.host,t))}_cast(t,r){const i=vT.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}},Q_e=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const vT=new C1(Q_e);function e5e(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(X3(i,t)??"").toString())}let mre=class{constructor(t,r,i=void 0){this.name=t,this.details=i,this.message=(r&&e5e(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},be=class gre extends mre{constructor(t,r,i){super(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ve(r)}catch{return"[object]"}}))}}catch(t){throw Ne.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new gre(t.name,t.message,t.details)}};be.prototype.type="error";function p4(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))p4(e,i,t[i]);else{if(t.includes(".")){const n=t.split("."),o=n.splice(-1,1)[0];return void p4(ro(e,n),o,r)}const i=e.__accessor__;i!=null&&t5e(t,i),e[t]=r}}function t5e(e,t){if(ke("esri-unknown-property-errors")&&!r5e(e,t))throw new be("set:unknown-property",i5e(e,t))}function r5e(e,t){return t.metadata[e]!=null}function i5e(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let n5e;function s5e(){return n5e}var dU;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(dU||(dU={}));function o5e(e){e.length=0}let to=class{constructor(t=50,r=50){this._pool=new C1(Array,void 0,o5e,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return bT.acquire()}static release(t){return bT.release(t)}static prune(){bT.prune()}};const bT=new to(100);let vre=class extends C1{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const w_=[];function f4(e){w_.push(e),w_.length===1&&queueMicrotask(()=>{const t=w_.slice();w_.length=0;for(const r of t)r()})}let bre=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var BE;(function(e){const t=(o,u,f,m)=>{let v=u,_=u;const $=f>>>1,T=o[v-1];for(;_<=$;){_=v<<1,_<f&&m(o[_-1],o[_])<0&&++_;const I=o[_-1];if(m(I,T)<=0)break;o[v-1]=I,v=_}o[v-1]=T},r=(o,u)=>o<u?-1:o>u?1:0;function i(o,u,f,m){u===void 0&&(u=0),f===void 0&&(f=o.length),m===void 0&&(m=r);for(let _=f>>>1;_>u;_--)t(o,_,f,m);const v=u+1;for(let _=f-1;_>u;_--){const $=o[u];o[u]=o[_],o[_]=$,t(o,v,_,m)}}function*n(o,u,f,m){u===void 0&&(u=0),f===void 0&&(f=o.length),m===void 0&&(m=r);for(let _=f>>>1;_>u;_--)t(o,_,f,m),yield;const v=u+1;for(let _=f-1;_>u;_--){const $=o[u];o[u]=o[_],o[_]=$,t(o,v,_,m),yield}}e.sort=i,e.iterableSort=n})(BE||(BE={}));const pU=BE,a5e=1.5,l5e=1.1;let y4=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Bte,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>fU(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];t(n)&&r.push(n)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,fU(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=NE(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(NE(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=x_e(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){pU.sort(this.data,0,this.length,t)}iterableSort(t){return pU.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){for(let i=0;i<this.length;++i){const n=this.data[i];if(t.call(r,n,i))return n}}filterInPlace(t,r){let i=0;for(let n=0;n<this._length;++n){const o=this.data[n];t.call(r,o,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=o,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,r){const{data:i,length:n}=this;for(let o=0;o<n;++o)t.call(r,i[o],o,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(r,this.data[n],n,this.data);return i}reduce(t,r){let i=r;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const r=this.length,i=this.data;for(let n=0;n<r;++n)if(i[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function fU(e){e.data.length>a5e*e.length&&(e.data.length=Math.floor(e.length*l5e))}function u5e(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return Kr(()=>e.clearTimeout(i))}}}const Kg=u5e(globalThis);function y7(e){return c5e(e)||wre(e)}function c5e(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function wre(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function rx(e,t,r){if(!y7(e))throw new TypeError("target is not a Evented or EventTarget object");return wre(e)?h5e(e,t,r):e.on(t,r)}function h5e(e,t,r,i){if(Array.isArray(t)){const n=t.slice();for(const o of n)e.addEventListener(o,r,i);return Kr(()=>{for(const o of n)e.removeEventListener(o,r,i)})}return e.addEventListener(t,r,i),Kr(()=>e.removeEventListener(t,r,i))}function xre(e,t,r){if(!y7(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=rx(e,t,n=>{i.remove(),r.call(e,n)});return i}function pn(e="Aborted"){return new be("AbortError",e)}function Zr(e,t="Aborted"){if(Ih(e))throw pn(t)}function m7(e){return e instanceof AbortSignal?e:e==null?void 0:e.signal}function Ih(e){const t=m7(e);return t!=null&&t.aborted}function Ga(e){if(Vs(e))throw e}function yU(e){if(!Vs(e))throw e}function nl(e,t){const r=m7(e);if(r!=null){if(!r.aborted)return xre(r,"abort",()=>t());t()}}function BL(e,t){const r=m7(e);if(r!=null)return Zr(r),xre(r,"abort",()=>t(pn()))}function _re(e,t){return m7(t)==null?e:new Promise((r,i)=>{let n=nl(t,()=>i(pn()));const o=()=>{n=zi(n)};e.then(o,o),e.then(r,i)})}function Vs(e){return(e==null?void 0:e.name)==="AbortError"}async function VE(e){try{return await e}catch(t){if(!Vs(t))throw t;return}}async function _0(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(u=>e[u]),n=await _0(i),o={};return r.map((u,f)=>o[u]=n[f]),o}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(i,n)=>{const o=r[n];return o.status==="fulfilled"?{promise:i,value:o.value}:{promise:i,error:o.reason}}))}async function d5e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function axt(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function VL(e,t=void 0,r){const i=new AbortController;return nl(r,()=>i.abort()),new Promise((n,o)=>{let u=setTimeout(()=>{u=0,n(t)},e);nl(i,()=>{u&&(clearTimeout(u),o(pn()))})})}function p5e(e,t){const r=new AbortController,i=setTimeout(()=>r.abort(),t);return nl(e,()=>{r.abort(),clearTimeout(i)}),{...e,signal:r.signal}}function Wp(e){return e&&typeof e.then=="function"}function mU(e){return Wp(e)?e:Promise.resolve(e)}function g7(e,t=-1){let r,i,n,o,u=null;const f=(...m)=>{if(r){i=m,o&&o.reject(pn()),o=da();const T=o.promise;if(u){const I=u;u=null,I.abort()}return T}if(n=o||da(),o=null,t>0){const T=new AbortController;r=mU(e(...m,T.signal));const I=r;VL(t).then(()=>{r===I&&(o?T.abort():u=T)})}else r=1,r=mU(e(...m));const v=()=>{const T=i;i=n=r=u=null,T!=null&&f(...T)},_=r,$=n;return _.then(v,v),_.then($.resolve,$.reject),$.promise};return f}function da(){let e,t;const r=new Promise((n,o)=>{e=n,t=o}),i=n=>{e(n)};return i.resolve=n=>e(n),i.reject=n=>t(n),i.timeout=(n,o)=>Kg.setTimeout(()=>i.reject(o),n),i.promise=r,i}async function gU(e){await Promise.resolve(),Zr(e)}function lxt(e){return e}function f5e(e){return 1e3*e}function uxt(e){return e}let y5e=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},m5e=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},UE=0;const Vv={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},GE=["prepare","preRender","render","postRender","update","finish"],qE=[],n1=new y4;let g5e=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function v5e(){L0!=null&&(cancelAnimationFrame(L0),L0=requestAnimationFrame(UL))}const m4={frameTasks:n1,willDispatch:!1,clearFrameTasks:b5e,dispatch:$re,executeFrameTasks:w5e,reschedule:v5e};function Yg(e){const t=new m5e(e);return qE.push(t),m4.willDispatch||(m4.willDispatch=!0,f4($re)),t}function yg(e){const t=new y5e(e);return n1.push(t),L0==null&&(UE=performance.now(),L0=requestAnimationFrame(UL)),new g5e(t)}let L0=null;function b5e(e=!1){n1.forAll(t=>{t.removed=!0}),e&&Sre()}function UL(){const e=performance.now();L0=null,L0=n1.length>0?requestAnimationFrame(UL):null,m4.executeFrameTasks(e)}function w5e(e){const t=e-UE;UE=e;const r=1e3/60,i=Math.max(0,t-r);Vv.time=e,Vv.frameDuration=r-i;for(let n=0;n<GE.length;n++){const o=performance.now(),u=GE[n];n1.forAll(f=>{var m;f.paused||f.removed||(n===0&&f.ticks++,f.phases[u]&&(Vv.elapsedFrameTime=performance.now()-e,Vv.deltaTime=f.ticks===0?0:t,(m=f.phases[u])==null||m.call(f,Vv)))}),x5e[n].record(performance.now()-o)}Sre(),_5e.record(performance.now()-e)}const x_=new y4;function Sre(){n1.forAll(e=>{e.removed&&x_.push(e)}),n1.removeUnorderedMany(x_.data,x_.length),x_.clear()}function $re(){for(;qE.length;){const e=qE.shift();e.isActive&&e.callback()}m4.willDispatch=!1}function pxt(e=1,t){const r=da(),i=()=>{Ih(t)?r.reject(pn()):e===0?r():(--e,f4(()=>i()))};return i(),r.promise}const x5e=GE.map(e=>new bre(e)),_5e=new bre("total");function S5e(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function g4(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function vU(e,t){return t!=null&&e.add(t),e}function Mre(e,t){const r=new Set;return g4(r,e),g4(r,t),r}function $5e(e,t){const r=new Set;for(const i of t)e.has(i)&&r.add(i);return r}function fxt(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function yxt(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function M5e(e,t){const r=new Set(e);for(const i of t)r.delete(i);return r}function T5e(e,t){return M5e(Mre(e,t),$5e(e,t))}let k5e=0;function J2(){return++k5e}let v7=class{constructor(t){this._accessed=new Set,this._handles=[],this._observerObject=new C5e(t),bU.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;bU.unregister(this._observerObject),this._accessed.clear(),(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){this._accessed.add(t)}onTrackingEnd(){const t=this._handles,r=this._observerObject;this._accessed.forEach(i=>{t.push(i.observe(r))}),this._accessed.clear()}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},C5e=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=E5e}};const bU=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function E5e(){}let Rm=!1;const v4=[];function Tre(e,t){let r=new v7(o),i=null,n=!1;function o(){if(!r||n)return;if(Rm)return void Ere(o);const f=i;r.clear(),Rm=!0,n=!0,i=Eh(r,e),n=!1,Rm=!1,t(i,f),Ire()}function u(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=Eh(r,e),n=!1,Kr(u)}function kre(e,t){let r=new v7(n),i=null;function n(){t(i,u)}function o(){r&&(r.destroy(),r=null),i=null}function u(){return r?(r.clear(),i=Eh(r,e),i):null}return u(),Kr(o)}function Cre(e){let t=new v7(i),r=!1;function i(){t&&!r&&(Rm?Ere(i):(t.clear(),Rm=!0,r=!0,Eh(t,e),r=!1,Rm=!1,Ire()))}function n(){t&&(t.destroy(),t=null)}return r=!0,Eh(t,e),r=!1,Kr(n)}function Ere(e){v4.includes(e)||v4.unshift(e)}function Ire(){for(;v4.length;)v4.pop()()}var K2;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(K2||(K2={}));let Jw=class{constructor(){this.uid=J2(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,n,o){return this.pool.acquire(K2.Untracked,t,r,i,n,o,FL)}static acquireTracked(t,r,i,n){return this.pool.acquire(K2.Tracked,t,r,i,null,null,n)}notify(t,r){this.type===K2.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,n,o,u,f){this.uid=J2(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=n,this.target=o,this.path=u,this.equals=f}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=J2(),this.removed=!0}};Jw.pool=new vre(Jw);const oS=new to,bh=new Set;let b4;function w4(e){bh.delete(e),bh.add(e),b4||(b4=Yg(O5e))}function I5e(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function P5e(e){for(const t of bh.values())t.target===e&&(t.removed=!0)}function O5e(){let e=10;for(;b4&&e--;){b4=null;const t=A5e(),r=oS.acquire();for(const i of t){const n=i.uid;I5e(i),n===i.uid&&i.removed&&r.push(i)}for(const i of bh)i.removed&&(r.push(i),bh.delete(i));for(const i of r)Jw.pool.release(i);oS.release(r),oS.release(t),HE.forEach(i=>i())}}function A5e(){const e=oS.acquire();e.length=bh.size;let t=0;for(const r of bh)e[t]=r,++t;return bh.clear(),e}const HE=new Set;function j5e(e){return HE.add(e),Kr(()=>HE.delete(e))}function R5e(e,t,r){let i=are(e,t,r,(n,o,u)=>{let f,m,v=kre(()=>ex(n,o),(_,$)=>{var T;((T=n.__accessor__)==null?void 0:T.lifecycle)===Co.DESTROYED||f&&f.uid!==m?i.remove():(f||(f=Jw.acquireUntracked(_,u,$,n,o),m=f.uid),w4(f))});return Kr(()=>{v.remove(),f&&(f.uid!==m||f.removed||(f.removed=!0,w4(f)),f=null),i=v=null})});return i}function L5e(e,t,r){const i=are(e,t,r,(n,o,u)=>{let f=!1;return Tre(()=>ex(n,o),(m,v)=>{n.__accessor__.lifecycle!==Co.DESTROYED?f||(f=!0,FL(v,m)||u.call(n,m,v,o,n),f=!1):i.remove()})});return i}function N5e(e,t,r,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Co.DESTROYED?i?L5e(e,t,r):R5e(e,t,r):Kr()}function F5e(e,t,r){let i,n,o=kre(e,(u,f)=>{i&&i.uid!==n?o.remove():(i||(i=Jw.acquireTracked(u,t,f,r),n=i.uid),w4(i))});return Kr(()=>{o.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,w4(i)),i=null),o=null})}function D5e(e,t,r){let i=!1;return Tre(e,(n,o)=>{i||(i=!0,r(o,n)||t(n,o),i=!1)})}function z5e(e,t,r=!1,i=ere){return r?D5e(e,t,i):F5e(e,t,i)}function wU(e){return S5e(bh,t=>t.oldValue===e)}function b7(e,t){for(const[r,i]of e)if(t(i,r))return!0;return!1}function GL(e,t,r){const i=e.get(t);if(i!==void 0)return i;const n=r();return e.set(t,n),n}function bxt(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const Lm=()=>Ne.getLogger("esri.core.accessorSupport.ensureTypes");function B5e(e){return e==null?e:new Date(e)}function V5e(e){return e==null?e:!!e}function ix(e){return e==null?e:e.toString()}function qa(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function qL(e){return e==null?e:Math.round(parseFloat(e))}function U5e(e){return null}function Pre(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function x4(e,t){return t!=null&&e&&!(t instanceof e)}function Ore(e){return e&&"isCollection"in e}function xU(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function G5e(e,t){if(!(t!=null&&t.constructor)||!Ore(t.constructor))return WE(e,t)?t:new e(t);const r=xU(e.prototype.itemType),i=xU(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(WE(e,t),t):new e(t):t}function WE(e,t){return!!Pre(t)&&(Lm().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+x7(e)+"'"),!0)}function w7(e,t){return t==null?t:Ore(e)?G5e(e,t):x4(e,t)?WE(e,t)?t:new e(t):t}function x7(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const q5e=new WeakMap;function H5e(e){switch(e){case Number:return qa;case Wr:return qL;case Boolean:return V5e;case String:return ix;case Date:return B5e;case _7:return U5e;default:return GL(q5e,e,()=>w7.bind(null,e))}}function xi(e,t){const r=H5e(e);return arguments.length===1?r:r(t)}function Kw(e,t,r){return arguments.length===1?Kw.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function W5e(e,t){return arguments.length===1?Kw(r=>xi(e,r)):Kw(r=>xi(e,r),t)}function Are(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>Are(e,t-1,i)):e(r)}function _4(e,t,r){if(arguments.length===2)return o=>_4(e,t,o);if(!r)return r;r=Are(e,t,r);let i=t,n=r;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(n!==void 0)for(let o=0;o<i;o++)r=[r];return r}function J5e(e,t,r){return arguments.length===2?_4(i=>xi(e,i),t):_4(i=>xi(e,i),t,r)}function jre(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function JE(e,t){if(arguments.length===2)return JE(e).call(null,t);const r=new Set,i=e.filter(f=>typeof f!="function"),n=e.filter(f=>typeof f=="function");for(const f of e)typeof f!="string"&&typeof f!="number"||r.add(f);let o=null,u=null;return(f,m)=>{if(f==null)return f;const v=typeof f,_=v==="string"||v==="number";return _&&(r.has(f)||n.some($=>v==="string"&&$===String||v==="number"&&$===Number))||v==="object"&&n.some($=>!x4(f,$))?f:(_&&i.length?(o||(o=i.map($=>typeof $=="string"?`'${$}'`:`${$}`).join(", ")),Lm().error("Accessor#set",`'${f}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof f=="object"&&n.length?(u||(u=n.map($=>x7($)).join(", ")),Lm().error("Accessor#set",`'${f}' is not a valid value for this property, value must be one of ${u}`)):Lm().error("Accessor#set",`'${f}' is not a valid value for this property`),m&&(m.valid=!1),null)}}function oc(e,t){if(arguments.length===2)return oc(e).call(null,t);const r={},i=[],n=[];for(const m in e.typeMap){const v=e.typeMap[m];r[m]=xi(v),i.push(x7(v)),n.push(m)}const o=()=>`'${i.join("', '")}'`,u=()=>`'${n.join("', '")}'`,f=typeof e.key=="string"?m=>m[e.key]:e.key;return m=>{if(e.base&&!x4(e.base,m)||m==null)return m;const v=f(m)||e.defaultKeyValue,_=r[v];if(!_)return Lm().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${u()})`),null;if(!x4(e.typeMap[v],m))return m;if(typeof e.key=="string"&&!Pre(m)){const $={};for(const T in m)T!==e.key&&($[T]=m[T]);return _($)}return _(m)}}let Wr=class{},_7=class{};const _xt={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function K5e(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Rre(e){switch(e.type){case"native":return xi(e.value);case"array":return Kw(Rre(e.value));case"one-of":return Y5e(e);default:return null}}function Y5e(e){let t=null;return(r,i)=>YE(r,e)?r:(t==null&&(t=KE(e)),Lm().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function KE(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Wr:return"integer";case Date:return"date";case _7:return"null";default:return x7(e.value)}case"array":return`array of ${KE(e.value)}`;case"one-of":{const t=e.values.map(r=>KE(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function YE(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Wr:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case _7:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!YE(r,t.value));case"one-of":return t.values.some(r=>YE(e,r))}}function M(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=f7(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&Ne.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const o=e.aliasOf;if(o){const m=typeof o=="string"?o:o.source,v=typeof o=="string"?null:o.overridable===!0;let _;n.dependsOn=[m],n.get=function(){let $=ro(this,m);if(typeof $=="function"){_||(_=m.split(".").slice(0,-1).join("."));const T=ro(this,_);T&&($=$.bind(T))}return $},n.readOnly||(n.set=v?function($){this._override(r,$)}:function($){p4(this,m,$)})}const u=e.type,f=e.types;n.cast||(u?n.cast=Z5e(u):f&&(Array.isArray(f)?n.cast=Kw(oc(f[0])):n.cast=oc(f))),B_e(n,e),e.range&&(n.cast=X5e(n.cast,e.range))}}function Lre(e,t,r){const i=f7(e,r);i.json||(i.json={});let n=i.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function Z5e(e){let t=0,r=e;if(K5e(e))return Rre(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(jre(i))return t===0?JE(i):_4(JE(i),t);if(t===1)return W5e(i);if(t>1)return J5e(i,t);const n=e;return n.from?n.from:xi(n)}function X5e(e,t){return r=>{let i=+e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function Q5e(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const n=t[i];r[i].forEach(o=>{t[o]=n}),delete t[i]}}}let pl=class extends mre{constructor(t,r,i){super(t,r,i)}};pl.prototype.type="warning";function Nre(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const ZE=()=>Ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function _U(e,t,r){var i,n;e&&(!r&&!t.read||(i=t.read)!=null&&i.reader||((n=t.read)==null?void 0:n.enabled)===!1||rSe(e)&&Ds("read.reader",Zg(e),t))}function Zg(e){var r,i;const t=e.ndimArray??0;if(t>1)return tSe(e);if(t===1)return SU(e);if("type"in e&&Dre(e.type)){const n=(i=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:i.Type,o=SU(typeof n=="function"?{type:n}:{types:n});return(u,f,m)=>{const v=o(u,f,m);return v&&new e.type(v)}}return HL(e)}function HL(e){return"type"in e?eSe(e.type):iSe(e.types)}function eSe(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void ZE().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const o=new e;return o.read(t,i),o}:e.fromJSON}function Fre(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(n=>Fre(e,n,r,i-1)):e(t,void 0,r)}function tSe(e){const t=HL(e),r=Fre.bind(null,t),i=e.ndimArray??0;return(n,o,u)=>{if(n==null)return n;n=r(n,u,i);let f=i,m=n;for(;f>0&&Array.isArray(m);)f--,m=m[0];if(m!==void 0)for(let v=0;v<f;v++)n=[n];return n}}function SU(e){const t=HL(e);return(r,i,n)=>{if(r==null)return r;if(Array.isArray(r)){const u=[];for(const f of r){const m=t(f,void 0,n);m!==void 0&&u.push(m)}return u}const o=t(r,void 0,n);return o!==void 0?[o]:void 0}}function Dre(e){if(!Nre(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?WL(t.Type):zre(t.Type))}function rSe(e){return"types"in e?zre(e.types):WL(e.type)}function WL(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Dre(e))}function zre(e){for(const t in e.typeMap)if(!WL(e.typeMap[t]))return!1;return!0}function iSe(e){let t=null;const r=e.errorContext??"type",i=e.validate;return(n,o,u)=>{if(n==null)return n;const f=typeof n;if(f!=="object")return void ZE().error(`Expected JSON value of type 'object' to deserialize, but got '${f}'`);t||(t=nSe(e));const m=e.key;if(typeof m!="string")return;const v=n[m],_=v?t[v]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!_){const T=`Type '${v||"unknown"}' is not supported`;return u!=null&&u.messages&&n&&u.messages.push(new pl(`${r}:unsupported`,T,{definition:n,context:u})),void ZE().error(T)}const $=new _;return $.read(n,u),i?i($):$}}function nSe(e){var r,i;const t={};for(const n in e.typeMap){const o=e.typeMap[n],u=tx(o.prototype);if(typeof e.key=="function")continue;const f=u[e.key];if(!f)continue;if((r=f.json)!=null&&r.type&&Array.isArray(f.json.type)&&f.json.type.length===1&&typeof f.json.type[0]=="string"){t[f.json.type[0]]=o;continue}const m=(i=f.json)==null?void 0:i.write;if(!(m!=null&&m.writer)){t[n]=o;continue}const v=m.target,_=typeof v=="string"?v:e.key,$={};m.writer(n,$,_),$[_]&&(t[$[_]]=o)}return t}function sSe(e){if(e.json||(e.json={}),MU(e.json),TU(e.json),$U(e.json),e.json.origins)for(const t in e.json.origins)MU(e.json.origins[t]),TU(e.json.origins[t]),$U(e.json.origins[t]);return!0}function $U(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function MU(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function TU(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function kU(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&Nre(e.type))?t.write.writer=lSe:r>1?t.write.writer=uSe(r):t.types?Array.isArray(t.types)?t.write.writer=aSe(t.types[0]):t.write.writer=oSe(t.types):t.write.writer=Yw}function oSe(e){return(t,r,i,n)=>t?Bre(t,e,n)?Yw(t,r,i,n):void 0:Yw(t,r,i,n)}function Bre(e,t,r){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(r!=null&&r.messages){const i=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new be(`${i}:unsupported`,n,{definition:e,context:r})),Ne.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function aSe(e){return(t,r,i,n)=>!t||!Array.isArray(t)?Yw(t,r,i,n):Yw(t.filter(o=>Bre(o,e,n)),r,i,n)}function Yw(e,t,r,i){Ds(r,S4(e,i),t)}function S4(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?$4(e):e}function $4(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function lSe(e,t,r,i){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(o=>S4(o,i)),typeof n.toArray=="function"&&(n=n.toArray())):n=[S4(e,i)],Ds(r,n,t)}function Vre(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>Vre(i,t,r-1)):S4(e,t)}function uSe(e){return(t,r,i,n)=>{let o;if(t===null)o=null;else{o=Vre(t,n,e);let u=e,f=o;for(;u>0&&Array.isArray(f);)u--,f=f[0];if(f!==void 0)for(let m=0;m<u;m++)o=[o]}Ds(i,o,r)}}function cSe(e,t){return JL(e,"any",t==null?void 0:t.origin)}function XE(e,t){return JL(e,"read",t==null?void 0:t.origin)}function Ure(e,t){return JL(e,"write",t==null?void 0:t.origin)}function JL(e,t,r){let i=e==null?void 0:e.json;if(i!=null&&i.origins&&r){let n;n=r==="link-chart"?i.origins[r]&&(t==="any"||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],n&&(t==="any"||t in n)&&(i=n)}return i}function hSe(e){var r;const t=dSe(e);if(e.json.origins)for(const i in e.json.origins){const n=e.json.origins[i],o=n.types?pSe(n):t;_U(o,n,!1),n.types&&!n.write&&((r=e.json.write)!=null&&r.enabled)&&(n.write={...e.json.write}),kU(o,n)}_U(t,e.json,!0),kU(t,e.json)}function dSe(e){return e.json.types?QE(e.json):e.type?Gre(e):QE(e)}function pSe(e){return e.type?Gre(e):QE(e)}function Gre(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!jre(r);)r=r[0],t++;return{type:r,ndimArray:t}}function QE(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function fSe(e){sSe(e)&&(Q5e(e),hSe(e))}const wT=new Set,xT=new Set;function se(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,mSe(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!wT.has(n.initialize)&&(wT.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!xT.has(n.destroy)&&(xT.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);wT.clear(),xT.clear();const o=class extends t{constructor(...f){if(super(...f),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let m=r.length-1;m>=0;m--)r[m].call(this)}}),i.length){let m=!1;const v=this[sre];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!m){m=!0,v.call(this);for(let _=0;_<i.length;_++)i[_].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};o.__accessorMetadata__=tx(t.prototype),o.prototype.declaredClass=e;const u=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:u,configurable:!0}),o}}function ySe(e,t){return t.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i===void 0)return;At(i);const n=r.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i!==void 0)return i.getComputed(r)}}function mSe(e){const t=e.prototype,r=tx(t),i={};for(const n of Object.getOwnPropertyNames(r)){const o=r[n];fSe(o),i[n]={enumerable:!0,configurable:!0,get:ySe(n,o),set(u){const f=this.__accessor__;if(f!==void 0){if(!Object.isFrozen(this))return f.initialized&&o.readOnly?CU("read-only",n):f.lifecycle===Co.CONSTRUCTED&&o.constructOnly?CU("construct-only",n):void f.set(n,u)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:u})}}}Object.defineProperties(e.prototype,i)}const CU=(e,t)=>{Ne.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var qre,Hre;function gSe(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const bu=Symbol("Accessor-Handles"),eI=Symbol("Accessor-Initialized");let St=class Wre{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class u extends o{constructor(...m){super(...m),this.inherited=null,n&&n.apply(this,m)}}tx(u.prototype);for(const f in t){const m=t[f];u.prototype[f]=typeof m=="function"?function(...v){const _=this.inherited;let $;this.inherited=function(...T){if(o.prototype[f])return o.prototype[f].apply(this,T)};try{$=m.apply(this,v)}catch(T){throw this.inherited=_,T}return this.inherited=_,$}:t[f]}for(const f in r){const m=gSe(r[f]);M(m)(u.prototype,f)}return se(i)(u)}constructor(...t){var i;if(this[qre]=null,this[Hre]=!1,this.constructor===Wre)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new X_e(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=((i=this.normalizeCtorArgs)==null?void 0:i.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[eI]=!0}initialize(){}[sre](){this[bu]=ai(this[bu])}destroy(){var t;this.destroyed||(P5e(this),this.__accessor__.destroy(),(t=s5e())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[eI]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===Co.DESTROYED||!1}commitProperty(t){ro(this,t)}get(t){return zte(Ne.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),ro(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return p4(this,t,r),this}watch(t,r,i){return N5e(this,t,r,i)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const n of i)n.remove();return}(this[bu]??(this[bu]=new Z3)).add(t,r)}removeHandles(t){var r;(r=this[bu])==null||r.remove(t)}removeAllHandles(){var t;(t=this[bu])==null||t.removeAll()}removeHandlesReference(t){var r;(r=this[bu])==null||r.removeReference(t)}hasHandles(t){var r;return((r=this[bu])==null?void 0:r.has(t))===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};qre=bu,Hre=eI;const ui=e=>{let t=class extends e{clone(){var m;const r=zs(this);nre(r,"unable to clone instance of non-accessor class");const i=r.metadata,n=r.store,o={},u=new Map;for(const v in i){const _=i[v],$=n==null?void 0:n.originOf(v),T=_.clonable;if(_.readOnly||T===!1||$!==or.USER&&$!==or.DEFAULTS&&$!==or.WEB_MAP&&$!==or.WEB_SCENE)continue;const I=this[v];let O=null;O=typeof T=="function"?T(I):T==="reference"?I:FE(I),I!=null&&O==null||($===or.DEFAULTS?u.set(v,O):o[v]=O)}const f=new(Object.getPrototypeOf(this)).constructor(o);if(u.size){const v=(m=zs(f))==null?void 0:m.store;if(v)for(const[_,$]of u)v.set(_,$,or.DEFAULTS)}return f}};return t=b([se("esri.core.Clonable")],t),t};let tI=class extends ui(St){};tI=b([se("esri.core.Clonable")],tI);let $f=class extends tI{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};b([M({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$f.prototype,"row",void 0),b([M({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$f.prototype,"column",void 0),b([M({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$f.prototype,"rows",void 0),b([M({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$f.prototype,"columns",void 0),$f=b([se("esri.CameraLayout")],$f);const Jre=$f;function bl(){return[0,0,0]}function vSe(e){return[e[0],e[1],e[2]]}function nx(e,t,r){return[e,t,r]}function bSe(e,t=bl()){const r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function wSe(e,t){return new Float64Array(e,t,3)}function Kre(){return bl()}function Yre(){return nx(1,1,1)}function Zre(){return nx(1,0,0)}function Xre(){return nx(0,1,0)}function Qre(){return nx(0,0,1)}const xSe=Kre(),_Se=Yre(),SSe=Zre(),$Se=Xre(),MSe=Qre();Object.freeze(Object.defineProperty({__proto__:null,ONES:_Se,UNIT_X:SSe,UNIT_Y:$Se,UNIT_Z:MSe,ZEROS:xSe,clone:vSe,create:bl,createView:wSe,fromArray:bSe,fromValues:nx,ones:Yre,unitX:Zre,unitY:Xre,unitZ:Qre,zeros:Kre},Symbol.toStringTag,{value:"Module"}));let KL=1e-6;function oo(){return KL}function TSe(e){KL=e}const S7=Math.random,kSe=Math.PI/180,CSe=180/Math.PI;function YL(e){return e*kSe}function ESe(e){return e*CSe}function ISe(e,t){return Math.abs(e-t)<=KL*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:S7,equals:ISe,getEpsilon:oo,setEpsilon:TSe,toDegree:ESe,toRadian:YL},Symbol.toStringTag,{value:"Module"}));function ZL(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function eie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function tie(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function rie(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Y2(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function iie(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function nie(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function PSe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function OSe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function ASe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function jSe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function RSe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function LSe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function NSe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function XL(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function FSe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function sie(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function oie(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function aie(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function DSe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function zSe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function rI(e,t){const r=t[0],i=t[1],n=t[2];let o=r*r+i*i+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function M4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function BSe(e,t,r){const i=t[0],n=t[1],o=t[2],u=r[0],f=r[1],m=r[2];return e[0]=n*m-o*f,e[1]=o*u-i*m,e[2]=i*f-n*u,e}function VSe(e,t,r,i){const n=t[0],o=t[1],u=t[2];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=u+i*(r[2]-u),e}function USe(e,t,r,i,n,o){const u=o*o,f=u*(2*o-3)+1,m=u*(o-2)+o,v=u*(o-1),_=u*(3-2*o);return e[0]=t[0]*f+r[0]*m+i[0]*v+n[0]*_,e[1]=t[1]*f+r[1]*m+i[1]*v+n[1]*_,e[2]=t[2]*f+r[2]*m+i[2]*v+n[2]*_,e}function GSe(e,t,r,i,n,o){const u=1-o,f=u*u,m=o*o,v=f*u,_=3*o*f,$=3*m*u,T=m*o;return e[0]=t[0]*v+r[0]*_+i[0]*$+n[0]*T,e[1]=t[1]*v+r[1]*_+i[1]*$+n[1]*T,e[2]=t[2]*v+r[2]*_+i[2]*$+n[2]*T,e}function qSe(e,t){t=t||1;const r=S7,i=2*r()*Math.PI,n=2*r()-1,o=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(i)*o,e[1]=Math.sin(i)*o,e[2]=n*t,e}function HSe(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12],e[1]=r[1]*i+r[5]*n+r[9]*o+r[13],e[2]=r[2]*i+r[6]*n+r[10]*o+r[14],e}function WSe(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=i*r[0]+n*r[3]+o*r[6],e[1]=i*r[1]+n*r[4]+o*r[7],e[2]=i*r[2]+n*r[5]+o*r[8],e}function JSe(e,t,r){const i=r[0],n=r[1],o=r[2],u=r[3],f=t[0],m=t[1],v=t[2],_=n*v-o*m,$=o*f-i*v,T=i*m-n*f,I=n*T-o*$,O=o*_-i*T,A=i*$-n*_,N=2*u;return e[0]=f+_*N+2*I,e[1]=m+$*N+2*O,e[2]=v+T*N+2*A,e}function KSe(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0],o[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),o[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function YSe(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),o[1]=n[1],o[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function ZSe(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),o[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),o[2]=n[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function XSe(e,t){rI(EU,e),rI(IU,t);const r=M4(EU,IU);return r>1?0:r<-1?Math.PI:Math.acos(r)}const EU=bl(),IU=bl();function QSe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function e9e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function t9e(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],o=t[0],u=t[1],f=t[2],m=oo();return Math.abs(r-o)<=m*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=m*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-f)<=m*Math.max(1,Math.abs(n),Math.abs(f))}function r9e(e,t,r){const i=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];let u=i*i+n*n+o*o;return u>0?(u=1/Math.sqrt(u),e[0]=i*u,e[1]=n*u,e[2]=o*u,e):(e[0]=0,e[1]=0,e[2]=0,e)}const i9e=Y2,n9e=iie,s9e=nie,o9e=sie,a9e=oie,l9e=ZL,u9e=aie;Object.freeze(Object.defineProperty({__proto__:null,abs:ASe,add:rie,angle:XSe,bezier:GSe,ceil:PSe,copy:eie,cross:BSe,direction:r9e,dist:o9e,distance:sie,div:s9e,divide:nie,dot:M4,equals:t9e,exactEquals:e9e,floor:OSe,hermite:USe,inverse:zSe,len:l9e,length:ZL,lerp:VSe,max:LSe,min:RSe,mul:n9e,multiply:iie,negate:DSe,normalize:rI,random:qSe,rotateX:KSe,rotateY:YSe,rotateZ:ZSe,round:NSe,scale:XL,scaleAndAdd:FSe,set:tie,sign:jSe,sqrDist:a9e,sqrLen:u9e,squaredDistance:oie,squaredLength:aie,str:QSe,sub:i9e,subtract:Y2,transformMat3:WSe,transformMat4:HSe,transformQuat:JSe},Symbol.toStringTag,{value:"Module"}));const PU=new Float32Array(1);function Txt(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function fl(e,t,r){return Math.min(Math.max(e,t),r)}function kxt(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function Ob(e,t,r){return e+(t-e)*r}function Cxt(e,t,r,i,n){return Ob(i,n,(e-t)/(r-t))}function ip(e){return e*Math.PI/180}function lie(e){return 180*e/Math.PI}function Ext(e){return Math.acos(fl(e,-1,1))}function uie(e){return Math.asin(fl(e,-1,1))}function wp(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const T4=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function iI(e){return T4.setFloat64(0,e),T4.getBigInt64(0)}function c9e(e){return T4.setBigInt64(0,e),T4.getFloat64(0)}const aS=BigInt("1000000"),h9e=cie(1);function cie(e){const t=iI(e=Math.abs(e)),r=c9e(t<=aS?aS:t-aS);return Math.abs(e-r)}function Ixt(e,t,r=h9e){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&cie(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const i=iI(e),n=iI(t);return i<0!=n<0?!1:!((i<n?n-i:i-n)>aS)}function d9e(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const i=Math.abs(e-t),n=Math.abs(e),o=Math.abs(t);if(e===0||t===0||n<1e-12&&o<1e-12){if(i>.01*r)return!1}else if(i/(n+o)>r)return!1;return!0}function p9e(e){return hie(Math.max(-nI,Math.min(e,nI)))}function hie(e){return PU[0]=e,PU[0]}function Pxt(e,t){const r=ZL(e),i=uie(e[2]/r),n=Math.atan2(e[1]/r,e[0]/r);return tie(t,r,i,n),t}function Oxt(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(wp(t,1)&&wp(r,1)&&wp(i,1))}const nI=hie(34028234663852886e22);let f9e=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,i=!1){return OU(this.range,this.min,this.max,t,r,i)}clamp(t,r=0){return fl(t-r,this.min,this.max)+r}monotonic(t,r,i){return t<r?r:r+sI(this.range,t-r,i)}minimalMonotonic(t,r,i){return OU(this.range,t,t+this.range,r,i)}center(t,r,i){return r=this.monotonic(t,r,i),this.normalize((t+r)/2,i)}diff(t,r,i){return this.monotonic(t,r,i)-t}shortestSignedDiff(t,r){t=this.normalize(t);const i=(r=this.normalize(r))-t,n=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(i)<Math.abs(n)?i:n}contains(t,r,i){return r=this.minimalMonotonic(t,r),(i=this.minimalMonotonic(t,i))>t&&i<r}};function OU(e,t,r,i,n=0,o=!1){return(i-=n)<t?i+=sI(e,t-i):i>r&&(i-=sI(e,i-r)),o&&i===r&&(i=t),i+n}function sI(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const y9e=new f9e(0,360);let m9e=class die{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new die;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ve(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||(i==null?void 0:i.origin)===r?i==null?void 0:i.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??or.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>{var n;return((n=this._values.get(i))==null?void 0:n.origin)===t})}set(t,r,i){if((i=this._normalizeOrigin(i))===or.DEFAULTS){const n=this._values.get(t);if((n==null?void 0:n.origin)!=null&&n.origin>i)return}this._values.set(t,new g9e(r,i))}delete(t,r){var i;(r=this._normalizeOrigin(r))!=null&&((i=this._values.get(t))==null?void 0:i.origin)!==r||this._values.delete(t)}has(t,r){var i;return(r=this._normalizeOrigin(r))!=null?((i=this._values.get(t))==null?void 0:i.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===or.DEFAULTS?t:or.USER}},g9e=class{constructor(t,r){this.value=t,this.origin=r}};function pie(e,t,r){t.keys().forEach(n=>{r.set(n,t.get(n),or.DEFAULTS)});const i=e.metadata;Object.keys(i).forEach(n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),or.DEFAULTS)})}function v9e(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&lU(i,r))return!0}else for(const n of i)if(n===t||n.includes(".")&&n.indexOf(t)===0&&lU(n,r))return!0;return!1}function b9e(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function w9e(e,t,r,i,n){let o=XE(t[r],n);b9e(o)&&(e[r]=!0);for(const u of Object.getOwnPropertyNames(t))o=XE(t[u],n),v9e(o,r,i)&&(e[u]=!0)}function x9e(e,t,r,i){const n=r.metadata,o=cSe(n[t],i),u=o==null?void 0:o.default;if(u===void 0)return;const f=typeof u=="function"?u.call(e,t,i):u;f!==void 0&&r.set(t,f)}const fie={origin:"service"};function yie(e,t,r=fie){if(!t||typeof t!="object")return;const i=zs(e),n=i.metadata,o={};for(const u of Object.getOwnPropertyNames(t))w9e(o,n,u,t,r);i.setDefaultOrigin(r.origin);for(const u of Object.getOwnPropertyNames(o)){const f=XE(n[u],r).read,m=f==null?void 0:f.source;let v;v=m&&typeof m=="string"?ex(t,m):t[u],f!=null&&f.reader&&(v=f.reader.call(e,v,t,r)),v!==void 0&&i.set(u,v)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const u of Object.getOwnPropertyNames(n))o[u]||x9e(e,u,i,r)}i.setDefaultOrigin("user")}function _9e(e,t,r,i=fie){var o;const n={...i,messages:[]};r(n),(o=n.messages)==null||o.forEach(u=>{u.type!=="warning"||e.loaded?i!=null&&i.messages&&i.messages.push(u):e.loadWarnings.push(u)})}function S9e(e,t,r,i,n){var u,f;const o={};return(f=(u=t.write)==null?void 0:u.writer)==null||f.call(e,i,o,r,n),o}function mie(e,t,r,i,n,o){if(!(i!=null&&i.write))return!1;const u=ro(e,r);if(!n&&i.write.overridePolicy){const f=i.write.overridePolicy.call(e,u,r,o??void 0);f!==void 0&&(n=f)}if(n||(n=i.write),!n||n.enabled===!1||n.layerContainerTypes&&(o!=null&&o.layerContainerType)&&!n.layerContainerTypes.includes(o.layerContainerType))return!1;if((u===null&&!n.allowNull&&!n.writerEnsuresNonNull||u===void 0)&&n.isRequired){const f=new be("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return f&&(o!=null&&o.messages)?o.messages.push(f):f&&!o&&Ne.getLogger("esri.core.accessorSupport.write").error(f.name,f.message),!1}return!(u===void 0||u===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===or.DEFAULTS)&&$9e(e,r,o,i,u)||!n.ignoreOrigin&&(o!=null&&o.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<rp(o.origin))}function $9e(e,t,r,i,n){const o=i.default;if(o===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(n);if(typeof o=="function"){if(Array.isArray(n)){const u=o.call(e,t,r??void 0);return c7(u,n)}return!1}return o===n}function gie(e,t,r,i){const n=zs(e),o=n.metadata,u=Ure(o[t],i);return!!u&&mie(e,n,t,u,r,i)}function vie(e,t,r){var o,u;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return iS(t,e.toJSON(r));const i=zs(e),n=i.metadata;for(const f in n){const m=Ure(n[f],r);if(!mie(e,i,f,m,void 0,r))continue;const v=ro(e,f),_=S9e(e,m,m.write&&typeof m.write.target=="string"?m.write.target:f,v,r);Object.keys(_).length>0&&(t=iS(t,_),(u=(o=r==null?void 0:r.resources)==null?void 0:o.pendingOperations)!=null&&u.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>iS(t,_,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:f,oldOrigin:J_e(i.store.originOf(f)),newOrigin:r.origin}))}return t}const sx=e=>{let t=class extends e{constructor(...r){super(...r);const i=zs(this),n=i.store,o=new m9e;i.store=o,pie(i,n,o)}read(r,i){yie(this,r,i)}write(r,i){return vie(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return M9e.call(this,r,i)}};return t=b([se("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function M9e(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function k4(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let Fe=class extends sx(St){};Fe=b([se("esri.core.JSONSupport")],Fe);const T9e=Object.prototype.toString;function k9e(e){const t="__accessorMetadata__"in e?xi(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return C9e.apply(this,r)}}function C9e(e,t,r,i){f7(e,t).cast=i}function E9e(e){return(t,r)=>{f7(t,e).cast=t[r]}}function Ar(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&T9e.call(e[0])==="[object Function]"?k9e(e[0]):e.length===1&&typeof e[0]=="string"?E9e(e[0]):void 0}function Ge(e,t,r){let i,n;return t===void 0||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(o,u)=>{const f=o.constructor.prototype;i.forEach(m=>{const v=Lre(o,m,n);v.read&&typeof v.read=="object"||(v.read={}),v.read.reader=f[u],r&&(v.read.source=(v.read.source||[]).concat(r))})}}function Xe(e,t,r){let i,n;return t===void 0?(n=e,i=[void 0]):typeof t!="string"?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(o,u)=>{const f=o.constructor.prototype;for(const m of i){const v=Lre(o,m,n);v.write&&typeof v.write=="object"||(v.write={}),r&&(v.write.target=r),v.write.writer=f[u]}}}let hr=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=I9e(t),this.apiValues=AU(this._apiToJSON),this.jsonValues=AU(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,n,o)=>{const u=this.toJSON(i);u!==void 0&&Ds(o,u,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function I9e(e){const t={};for(const r in e)t[e[r]]=r;return t}function AU(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Us(){return function(e,t){return new hr(e,{ignoreUnknown:!0,...t})}}let QL=class{constructor(t,r,i,n){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Vi=new QL(6378137,1/298.257223563,3e5,.006694379990137799),ic=new QL(3396190,1/169.8944472236118,23e4),Ep=new QL(1737400,0,0),P9e=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,O9e={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function jU(e){const t=e==null?void 0:e.match(P9e);if(!t)return null;const[,r,i,n]=t;if(!r)return null;let o=null,u=null,f=null;const{devext:m,qaext:v,www:_}=O9e;if(i)if(o=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:u,portalHostname:f}=m);break;case"qa":({customBaseUrl:u,portalHostname:f}=v);break;default:return null}else({customBaseUrl:u,portalHostname:f}=_);else switch(r.toLowerCase()){case"devext":({customBaseUrl:u,portalHostname:f}=m);break;case"qaext":({customBaseUrl:u,portalHostname:f}=v);break;case"www":({customBaseUrl:u,portalHostname:f}=_);break;default:return null}return{customBaseUrl:u,isPortal:!1,portalHostname:f,urlKey:o}}function A9e(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function bie(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function j9e(e){const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer}function R9e(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return btoa(r)}const L9e=()=>Ne.getLogger("esri.core.urlUtils"),Xg=wr.request,RU="esri/config: esriConfig.request.proxyUrl is not set.",wie=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,xie=/^\s*http:/i,N9e=/^\s*https:/i,F9e=/^\s*file:/i,D9e=/:\d+$/,z9e=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,B9e=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),V9e=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let N0=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(B9e);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(V9e),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const __={},U9e=new N0(wr.applicationUrl);let As=U9e;const G9e=q9e();let eN=G9e;const tN=()=>As,Dxt=()=>eN;function q9e(){const e=As.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${As.scheme}://${As.host}${As.port!=null?`:${As.port}`:""}`}${t}`}function Zn(e){if(!e)return null;const t={path:null,query:null},r=new N0(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,i),t.query=rN(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function rN(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const n=i.indexOf("=");let o,u;n<0?(o=decodeURIComponent(i),u=""):(o=decodeURIComponent(i.slice(0,n)),u=decodeURIComponent(i.slice(n+1)));let f=r[o];typeof f=="string"&&(f=r[o]=[f]),Array.isArray(f)?f.push(u):r[o]=u}return r}function Zw(e,t){return e?Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const n=encodeURIComponent(r)+"=",o=t==null?void 0:t[r];return o?n+encodeURIComponent(o(i)):Array.isArray(i)?i.map(u=>k4(u)?n+encodeURIComponent(JSON.stringify(u)):n+encodeURIComponent(u)).join("&"):k4(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function H9e(e=!1){let t,r=Xg.proxyUrl;if(typeof e=="string"){t=Q9e(e);const i=$7(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw L9e().warn(RU),new be("urlUtils:proxy-not-set",RU);return t&&aI()&&(r=aN(r)),Zn(r)}function W9e(e){const t=$7(e);let r,i;if(t){const n=iN(t.proxyUrl);r=n.path,i=n.query?rN(n.query):null}if(r){const n=Zn(e);e=r+"?"+n.path;const o=Zw({...i,...n.query});o&&(e=`${e}?${o}`)}return e}const Uv={path:"",query:""};function iN(e){const t=e.indexOf("?");return t!==-1?(Uv.path=e.slice(0,t),Uv.query=e.slice(t+1)):(Uv.path=e,Uv.query=null),Uv}function _ie(e){return e=(e=E4(e=s4e(e=iN(e).path),!0)).toLowerCase()}function J9e(e){const t={proxyUrl:e.proxyUrl,urlPrefix:_ie(e.urlPrefix)},r=Xg.proxyRules,i=t.urlPrefix;let n=r.length;for(let o=0;o<r.length;o++){const u=r[o].urlPrefix;if(i.indexOf(u)===0){if(i.length===u.length)return-1;n=o;break}u.indexOf(i)===0&&(n=o+1)}return r.splice(n,0,t),n}function $7(e){const t=Xg.proxyRules,r=_ie(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function K9e(e,t){if(!e||!t)return!1;e=C4(e),t=C4(t);const r=jU(e),i=jU(t);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&mg(e,t,!0)}function Sie(e,t){return e=C4(e),t=C4(t),E4(e)===E4(t)}function C4(e){const t=(e=sl(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function oI(e,t=Xg.interceptors){const r=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i);if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function mg(e,t,r=!1){if(!e||!t)return!1;const i=uI(e),n=uI(t);return!(!r&&i.scheme!==n.scheme)&&i.host!=null&&n.host!=null&&i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port}function nN(e){if(typeof e=="string"){if(!la(e))return!0;e=uI(e)}if(mg(e,As))return!0;const t=Xg.trustedServers||[];for(let r=0;r<t.length;r++){const i=Y9e(t[r]);for(let n=0;n<i.length;n++)if(mg(e,i[n]))return!0}return!1}function Y9e(e){return __[e]||(oN(e)||ac(e)?__[e]=[new N0(Ja(e))]:__[e]=[new N0(`http://${e}`),new N0(`https://${e}`)]),__[e]}function Ja(e,t=eN,r){return ac(e)?r!=null&&r.preserveProtocolRelative?e:As.scheme==="http"&&As.authority===ol(e).slice(2)?`http:${e}`:`https:${e}`:oN(e)?e:gg(e[0]==="/"?i4e(t):t,e)}function sN(e,t=eN,r){if(e==null||!la(e))return e;const i=sl(e),n=i.toLowerCase(),o=sl(t).toLowerCase().replace(/\/+$/,""),u=r?sl(r).toLowerCase().replace(/\/+$/,""):null;if(u&&o.indexOf(u)!==0)return e;const f=($,T,I)=>(I=$.indexOf(T,I))===-1?$.length:I;let m=f(n,"/",n.indexOf("//")+2),v=-1;for(;n.slice(0,m+1)===o.slice(0,m)+"/"&&(v=m+1,m!==n.length);)m=f(n,"/",m+1);if(v===-1||u&&v<u.length)return e;e=i.slice(v);const _=o.slice(v-1).replaceAll(/[^/]+/g,"").length;if(_>0)for(let $=0;$<_;$++)e=`../${e}`;else e=`./${e}`;return e}function sl(e){return e=l4e(e=a4e(e=o4e(e=Ja(e=e.trim()))))}function gg(...e){const t=e.filter(ps);if(!(t!=null&&t.length))return;const r=[];if(la(t[0])){const n=t[0],o=n.indexOf("//");o!==-1&&(r.push(n.slice(0,o+1)),t4e(t[0])&&(r[0]+="/"),t[0]=n.slice(o+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((n,o)=>o?n.concat(o.split("/")):n,[]);for(let n=0;n<i.length;n++){const o=i[n];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&n===i.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function ol(e,t=!1){if(e==null||M7(e)||E1(e))return null;let r=e.indexOf("://");if(r===-1&&ac(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=E4(e,!0)),e}function la(e){return ac(e)||oN(e)}function M7(e){return e!=null&&e.slice(0,5)==="blob:"}function E1(e){return e!=null&&e.slice(0,5)==="data:"}function Z9e(e){const t=Xw(e);return t!=null&&t.isBase64?j9e(t.data):null}function zxt(e){return R9e(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const X9e=/^data:(.*?)(;base64)?,(.*)$/;function Xw(e){const t=e.match(X9e);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function $ie(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Bxt(e){return(await fetch(e)).blob()}function Vxt(e){const t=Z9e(e);if(!t)return null;const r=Xw(e);return new Blob([t],{type:r.mediaType})}function ac(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function oN(e){return e!=null&&wie.test(e)}function Q9e(e){return e!=null&&N9e.test(e)||As.scheme==="https"&&ac(e)}function e4e(e){return e!=null&&xie.test(e)||As.scheme==="http"&&ac(e)}function t4e(e){return e!=null&&F9e.test(e)}function aN(e){return ac(e)?`https:${e}`:e.replace(xie,"https:")}function r4e(){return As.scheme==="http"}function aI(){return As.scheme==="https"}function E4(e,t=!1){return ac(e)?e.slice(2):(e=e.replace(wie,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function i4e(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function n4e(e){let t=0;if(la(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Uxt(e,t){if(!e)return"";const r=Zn(e).path.replace(/\/+$/,""),i=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return i;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(n,"")}function s4e(e){return e.endsWith("/")?e:`${e}/`}function Mie(e){return e.replace(/\/+$/,"")}function o4e(e){if(/^https?:\/\//i.test(e)){const t=iN(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function a4e(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function l4e(e){const t=Xg.httpsDomains;if(!e4e(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),D9e.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return r4e()&&i===As.authority&&!z9e.test(e)||(aI()&&i===As.authority||t&&t.some(n=>i===n||i.endsWith(`.${n}`))||aI()&&!$7(e))&&(e=aN(e)),e}function lI(e,t,r){if(!(t&&r&&e&&la(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),o=e.indexOf(":",i+2),u=Math.min(n<0?e.length:n,o<0?e.length:o);return e.slice(i+2,u).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(u)}`}function uI(e){return typeof e=="string"?new N0(Ja(e)):(e.scheme||(e.scheme=As.scheme),e)}function Gxt(e){return c4e.test(e)}function Tie(e,t){const r=Zn(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function u4e(e,t,r){const i=Zn(e),n=i.query||{};return n[t]=String(r),`${i.path}?${Zw(n)}`}function Z2(e,t){if(!t)return e;const r=Zn(e),i=r.query||{};for(const[o,u]of Object.entries(t))u!=null&&(i[o]=u);const n=Zw(i);return n?`${r.path}?${n}`:r.path}function qxt(e){if(e==null)return null;const t=e.match(kie);return t?t[2]:null}function LU(e){if(e==null)return null;const t=e.match(kie);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Hxt(e){return typeof e=="string"?Xw(e)??{data:e}:new Promise((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(Xw(i.result)),i.onerror=n=>r(n)})}const kie=/([^.]*)\.([^/]*)$/,c4e=/(^data:image\/svg|\.svg$)/i,Cie="20240724",Eie="ac51c09e1d17be02f839eb2e22bd05fd7a16c2d3";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const h4e="4.30";let sr,lN=h4e;lN="4.30.9";function Wxt(e){sr=e}function Jxt(e){const t=sr==null?void 0:sr.findCredential(e);return t!=null&&t.token?u4e(e,"token",t.token):e}ke("host-webworker");const d4e=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Iie(e){const t=ol(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!d4e.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function p4e(e,t,r=!1,i){return new Promise((n,o)=>{if(Ih(i))return void o(NU());let u=()=>{v(),o(new Error(`Unable to load ${t}`))},f=()=>{const _=e;v(),n(_)},m=()=>{if(!e)return;const _=e;v(),_.src="",o(NU())};const v=()=>{ke("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",f)),u=null,f=null,e=null,i!=null&&i.removeEventListener("abort",m),m=null,r&&URL.revokeObjectURL(t)};i!=null&&i.addEventListener("abort",m),ke("esri-image-decode")?e.decode().then(f,u):(e.addEventListener("error",u),e.addEventListener("load",f))})}function NU(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Pie="Timeout exceeded";function f4e(){return new Error(Pie)}function Kxt(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===Pie}function y4e(e){wr.request.crossOriginNoCorsDomains||(wr.request.crossOriginNoCorsDomains={});const t=wr.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[ol(r)??""]=0:(t[ol("http://"+r)??""]=0,t[ol("https://"+r)??""]=0)}function m4e(e){const t=wr.request.crossOriginNoCorsDomains;if(t){let r=ol(e);if(r)return r=r.toLowerCase(),!mg(r,tN())&&t[r]<Date.now()-36e5}return!1}async function g4e(e){var n;const t=wr.request.crossOriginNoCorsDomains,r=ol(e);t&&r&&(t[r.toLowerCase()]=Date.now());const i=Zn(e);e=i.path,((n=i.query)==null?void 0:n.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Jr(e,t){var T;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=rN(t.query.toString().replaceAll("+"," ")));const r=E1(e),i=M7(e);i||r||(e=sl(e));const n={url:e,requestOptions:{...t}},o=I=>({data:I,getAllHeaders:vg,getHeader:vg,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),u=oI(e,za.internalInterceptors);if(u){const I=await DU(u,n);if(I!=null)return o(I)}let f=oI(e);if(f){const I=await DU(f,n);if(I!=null)return o(I);f.after||f.error||(f=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(ke("host-webworker")||ke("host-node")))throw nc("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw nc("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||i)throw nc("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await _4e(),I4)return I4.execute(e,t);const m=new AbortController,v=nl(t,()=>m.abort()),_={controller:m,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:f,params:n,redoRequest:!1,useIdentity:za.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},$=await T4e(_).finally(()=>v==null?void 0:v.remove());return(T=f==null?void 0:f.after)==null||T.call(f,$),$}let I4;const za=wr.request,Oie="FormData"in globalThis,v4e=new Set([499,498,403,401]),b4e=new Set(["COM_0056","COM_0057","SB_0008"]),w4e=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],vg=()=>null,P4=Symbol();function x4e(e){const t=ol(e);t&&!Jr._corsServers.includes(t)&&Jr._corsServers.push(t)}function FU(e){const t=ol(e);return!t||t.endsWith(".arcgis.com")||Jr._corsServers.includes(t)||nN(t)}function nc(e,t,r,i){let n="Error";const o={url:r.url,requestOptions:r.requestOptions,getAllHeaders:vg,getHeader:vg,ssl:!1};if(t instanceof be)return t.details?(t.details=ve(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const u=i&&(()=>Array.from(i.headers)),f=i&&(_=>i.headers.get(_)),m=i==null?void 0:i.status,v=t.message;v&&(n=v),u&&f&&(o.getAllHeaders=u,o.getHeader=f),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||m||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=P4 in t?t[P4]:t}return Vs(t)?pn():new be(e,n,o)}async function _4e(){ke("host-webworker")&&!I4&&(I4=await Ce(()=>import("./request-CAVO0H8z.js"),[],import.meta.url))}async function cI(){sr||await Ce(()=>import("./IdentityManager-Bkug18-_.js"),[],import.meta.url)}async function S4e(e){var f;const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let o=null,u=null;if(Oie&&"HTMLFormElement"in globalThis&&(n instanceof FormData?o=n:n instanceof HTMLFormElement&&(o=new FormData(n))),typeof n=="string"&&(u=n),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:za.priority,redirect:"follow",signal:i},(o||u)&&(e.fetchOptions.body=o||u),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(f=r.query)!=null&&f.token||o!=null&&o.get("token")),!e.hasToken&&wr.apiKey&&Iie(t)&&(r.query||(r.query={}),r.query.token=wr.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!Aie(t)&&!Ih(i)){let m;r.authMode==="immediate"?(await cI(),m=await sr.getCredential(t,{signal:i}),e.credential=m):r.authMode==="no-prompt"?(await cI(),m=await sr.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=m):sr&&(m=sr.findCredential(t)),m&&(e.credentialToken=m.token,e.useSSL=!!m.ssl)}}function Aie(e){return w4e.some(t=>t.test(e))}async function $4e(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions??{},n=M7(t)||E1(t),o=r.responseType||"json",u=n?0:r.timeout!=null?r.timeout:za.timeout;let f=!1;if(!n){e.useSSL&&(t=aN(t));let T={...r.query};e.credentialToken&&(T.token=e.credentialToken);let I=Zw(T);ke("esri-url-encodes-apostrophe")&&(I=I.replaceAll("'","%27"));const O=t.length+1+I.length;let A;f=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||O>za.maxUrlLength;const N=r.useProxy||!!$7(t);if(N){const F=H9e(t);A=F.path,!f&&A.length+1+O>za.maxUrlLength&&(f=!0),F.query&&(T={...F.query,...T})}if(i.method==="HEAD"&&(f||N)){if(f)throw O>za.maxUrlLength?nc("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):nc("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(N)throw nc("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(f?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Z2(t,T):(i.body=Zw(T),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Z2(t,T),N&&(e.useProxy=!0,t=`${A}?${t}`),T.token&&Oie&&i.body instanceof FormData&&!A9e(t)&&i.body.set("token",T.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!mg(t,tN())){if(nN(t))e.withCredentials=!0;else if(sr){const F=sr.findServerInfo(t);F!=null&&F.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(i.credentials="include",m4e(t)&&await g4e(f?Z2(t,T):t))}let m,v,_=0,$=!1;u>0&&(_=setTimeout(()=>{$=!0,e.controller.abort()},u));try{if(r.responseType==="native-request-init")v=i,v.url=t;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||f||M4e(r.headers)||!n&&!e.useProxy&&za.proxyUrl&&!FU(t)){if(Jr._beforeFetch&&await Jr._beforeFetch(t,i),m=await fetch(t,i),Jr._afterFetch&&await Jr._afterFetch(m),e.useProxy||x4e(t),r.responseType==="native")v=m;else if(i.method!=="HEAD")if(m.ok){switch(o){case"array-buffer":v=await m.arrayBuffer();break;case"blob":case"image":v=await m.blob();break;default:v=await m.text()}if(_&&(clearTimeout(_),_=0),o==="json"||o==="xml"||o==="document")if(v)switch(o){case"json":v=JSON.parse(v);break;case"xml":v=zU(v,"application/xml");break;case"document":v=zU(v,"text/html")}else v=null;if(v){if(o==="array-buffer"||o==="blob"){const T=m.headers.get("Content-Type");if(T&&/application\/json|text\/plain/i.test(T)&&v[o==="blob"?"size":"byteLength"]<=750)try{const I=await new Response(v).json();I.error&&(v=I)}catch{}}o==="image"&&v instanceof Blob&&(v=await BU(URL.createObjectURL(v),e,!0))}}else{v=await m.text();try{v=JSON.parse(v)}catch{}}}else v=await BU(t,e)}catch(T){if(T.name==="AbortError")throw $?f4e():pn("Request canceled");if(!(!m&&T instanceof TypeError&&za.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||FU(t))throw T;e.redoRequest=!0,J9e({proxyUrl:za.proxyUrl,urlPrefix:ol(t)??""})}finally{_&&clearTimeout(_)}return[m,v]}async function DU(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=nc("request:interceptor",n,t)}if((i instanceof Error||i instanceof be)&&(r=nc("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function M4e(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function zU(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function T4e(e){var o,u;let t,r;await S4e(e);try{do[t,r]=await $4e(e);while(!await k4e(e,t,r))}catch(f){const m=nc("request:server",f,e.params,t);throw m.details.ssl=e.useSSL,(o=e.interceptor)!=null&&o.error&&e.interceptor.error(m),m}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&((u=r.user)!=null&&u.username)&&!nN(i)){const f=ol(i,!0);f&&za.trustedServers.push(f)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&y4e(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&sr){const f=sr.findServerInfo(n.server);let m=f==null?void 0:f.owningSystemUrl;if(m){m=m.replace(/\/?$/,"/sharing");const v=sr.findCredential(m,n.userId);v&&sr._getIdenticalSvcIdx(m,v)===-1&&v.resources.unshift(m)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):vg,getHeader:t?f=>t.headers.get(f):vg,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function k4e(e,t,r){var v;if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let n,o;if(r&&(r.error&&typeof r.error=="object"?n=r.error:r.status==="error"&&Array.isArray(r.messages)&&(n={...r},n[P4]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[P4]=r,n;let u,f=null;n&&(o=Number(n.code),f=n.hasOwnProperty("subcode")?Number(n.subcode):null,u=n.messageCode,u=u==null?void 0:u.toUpperCase());const m=i.authMode;if(o===403&&(f===4||(v=n.message)!=null&&v.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(m!=="no-prompt"||o===498)&&o!==void 0&&v4e.has(o)&&!Aie(e.params.url)&&(o!==403||(!u||!b4e.has(u))&&(f==null||f===2&&e.credentialToken))){await cI();try{const _=await sr.getCredential(e.params.url,{error:nc("request:server",n,e.params),prompt:m!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=_,e.credentialToken=_.token,e.useSSL=e.useSSL||_.ssl,!1}catch(_){if(m==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=_}}if(n)throw n;return!0}function BU(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=za.priority,n.src=e,p4e(n,e,r,i)}Jr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Jr._beforeFetch=void 0,Jr._afterFetch=void 0;function Or(e){if(!wr.assetsPath)throw Ne.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new be("assets:path-not-set","config.assetsPath is not set");return gg(wr.assetsPath,e)}let _T,we=null;function uN(){return!!we}function C4e(){return!!ke("esri-wasm")}function jie(){return _T||(_T=Ce(()=>import("./pe-wasm-ByEZe3TI.js"),[],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Or(`esri/geometry/support/${t}`)})).then(e=>{Lie(e)}),_T)}var hI,Ei,dI;(function(e){function t(o,u,f){we.ensureCache.prepare();const m=c0(f),v=f===m,_=we.ensureFloat64(m),$=we._pe_geog_to_proj(we.getPointer(o),u,_);return $&&Yd(f,u,_,v),$}function r(o,u,f,m){switch(m){case Ei.PE_TRANSFORM_P_TO_G:return i(o,u,f);case Ei.PE_TRANSFORM_G_TO_P:return t(o,u,f)}return 0}function i(o,u,f){return n(o,u,f,0)}function n(o,u,f,m){we.ensureCache.prepare();const v=c0(f),_=f===v,$=we.ensureFloat64(v),T=we._pe_proj_to_geog_center(we.getPointer(o),u,$,m);return T&&Yd(f,u,$,_),T}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n})(hI||(hI={})),function(e){function t(){e.PE_BUFFER_MAX=we.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=we.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=we.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=we.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=we.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=we.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=we.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=we.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=we.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=we.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=we.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=we.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=we.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=we.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=we.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=we.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=we.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=we.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=we.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=we.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=we.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=we.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=we.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=we.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=we.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=we.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=we.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=we.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=we.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=we.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=we.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=we.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ei||(Ei={})),function(e){const t={},r={},i=I=>{if(I){const O=I.getType();switch(O){case Ei.PE_TYPE_GEOGCS:I=we.castObject(I,we.PeGeogcs);break;case Ei.PE_TYPE_PROJCS:I=we.castObject(I,we.PeProjcs);break;case Ei.PE_TYPE_GEOGTRAN:I=we.castObject(I,we.PeGeogtran);break;default:O&Ei.PE_TYPE_UNIT&&(I=we.castObject(I,we.PeUnit))}}return I};function n(){we.PeFactory.prototype.initialize(null)}function o(I){return u(Ei.PE_TYPE_COORDSYS,I)}function u(I,O){let A=null,N=t[I];if(N||(N={},t[I]=N),N.hasOwnProperty(String(O)))A=N[O];else{const F=we.PeFactory.prototype.factoryByType(I,O);we.compare(F,we.NULL)||(A=F,N[O]=A)}return A=i(A),A}function f(I,O){let A=null,N=r[I];if(N||(N={},r[I]=N),N.hasOwnProperty(O))A=N[O];else{const F=we.PeFactory.prototype.fromString(I,O);we.compare(F,we.NULL)||(A=F,N[O]=A)}return A=i(A),A}function m(I){return u(Ei.PE_TYPE_GEOGCS,I)}function v(I){return u(Ei.PE_TYPE_GEOGTRAN,I)}function _(I){return we.PeFactory.prototype.getCode(I)}function $(I){return u(Ei.PE_TYPE_PROJCS,I)}function T(I){return u(Ei.PE_TYPE_UNIT,I)}e.initialize=n,e.coordsys=o,e.factoryByType=u,e.fromString=f,e.geogcs=m,e.geogtran=v,e.getCode=_,e.projcs=$,e.unit=T}(dI||(dI={}));let Rie=null;var O4,pI,fI,yI,A4,mI,j4,R4,gI;function Lie(e){function t(o,u,f){o[u]=f(o[u])}we=e,Ei.init(),O4.init(),A4.init(),j4.init(),R4.init(),Rie=class extends we.PeGCSExtent{destroy(){we.destroy(this)}};const r=[we.PeDatum,we.PeGeogcs,we.PeGeogtran,we.PeObject,we.PeParameter,we.PePrimem,we.PeProjcs,we.PeSpheroid,we.PeUnit];for(const o of r)t(o.prototype,"getName",u=>function(){return u.call(this,new Array(Ei.PE_NAME_MAX))});for(const o of[we.PeGeogtran,we.PeProjcs])t(o.prototype,"getParameters",u=>function(){const f=new Array(Ei.PE_PARM_MAX);let m=u.call(this);for(let v=0;v<f.length;v++){const _=we.getValue(m,"*");f[v]=_?we.wrapPointer(_,we.PeParameter):null,m+=Int32Array.BYTES_PER_ELEMENT}return f});t(we.PeHorizon.prototype,"getCoord",o=>function(){const u=this.getSize();if(!u)return null;const f=[];return Yd(f,u,o.call(this)),f}),t(we.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const u=we._pe_getPeGTlistExtendedGTsSize();return function(){let f=null;const m=o.call(this);if(!we.compare(m,we.NULL)){f=[m];const v=this.getSteps();if(v>1){const _=we.getPointer(m);for(let $=1;$<v;$++)f.push(we.wrapPointer(_+u*$,we.PeGTlistExtendedGTs))}}return f}});const i=we._pe_getPeHorizonSize(),n=o=>function(){let u=this._cache;if(u||(u=new Map,this._cache=u),u.has(o))return u.get(o);let f=null;const m=o.call(this);if(!we.compare(m,we.NULL)){f=[m];const v=m.getNump();if(v>1){const _=we.getPointer(m);for(let $=1;$<v;$++)f.push(we.wrapPointer(_+i*$,we.PeHorizon))}}return u.set(o,f),f};t(we.PeProjcs.prototype,"horizonGcsGenerate",n),t(we.PeProjcs.prototype,"horizonPcsGenerate",n),we.PeObject.prototype.toString=function(o=Ei.PE_STR_OPTS_NONE){we.ensureCache.prepare();const u=we.getPointer(this),f=we.ensureInt8(new Array(Ei.PE_BUFFER_MAX));return we.UTF8ToString(we._pe_object_to_string_ext(u,o,f))}}function Sc(e){if(!e)return;const t=we.getClass(e);if(!t)return;const r=we.getCache(t);if(!r)return;const i=we.getPointer(e);i&&delete r[i]}function S_(e,t){const r=[],i=new Array(t);for(let n=0;n<e;n++)r.push(we.ensureInt8(i));return r}function c0(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function Yd(e,t,r,i=!1){if(i)for(let n=0;n<2*t;n++)e[n]=we.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let o=0;o<t;o++)n&&(e[o]=new Array(2)),e[o][0]=we.getValue(r,"double"),e[o][1]=we.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=we.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=we._pe_getPeGTlistExtendedEntrySize()}function i(n,o,u,f,m,v){let _=null;const $=new we.PeInteger(v);try{const T=we.PeGTlistExtended.prototype.getGTlist(n,o,u,f,m,$);if((v=$.val)&&(_=[T],v>1)){const I=we.getPointer(T);for(let O=1;O<v;O++)_.push(we.wrapPointer(I+t*O,we.PeGTlistExtendedEntry))}}finally{we.destroy($)}return _}e.init=r,e.getGTlist=i})(O4||(O4={})),function(e){function t(r){if(r!=null&&r.length){for(const i of r)Sc(i),i.getEntries().forEach(n=>{Sc(n);const o=n.getGeogtran();Sc(o),o.getParameters().forEach(Sc),[o.getGeogcs1(),o.getGeogcs2()].forEach(u=>{Sc(u);const f=u.getDatum();Sc(f),Sc(f.getSpheroid()),Sc(u.getPrimem()),Sc(u.getUnit())})});we.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(pI||(pI={})),function(e){function t(r,i,n,o,u){we.ensureCache.prepare();const f=c0(n),m=n===f,v=we.ensureFloat64(f);let _=0;o&&(_=we.ensureFloat64(o));const $=we._pe_geog_to_geog(we.getPointer(r),i,v,_,u);return $&&Yd(n,i,v,m),$}e.geogToGeog=t}(fI||(fI={})),function(e){const t=(v,_,$,T,I,O)=>{let A,N;switch(we.ensureCache.prepare(),v){case"dd":A=we._pe_geog_to_dd,N=Ei.PE_DD_MAX;break;case"ddm":A=we._pe_geog_to_ddm,N=Ei.PE_DDM_MAX;break;case"dms":A=we._pe_geog_to_dms,N=Ei.PE_DMS_MAX}let F=0;_&&(F=we.getPointer(_));const z=c0(T),B=we.ensureFloat64(z),G=S_($,N),H=A(F,$,B,I,we.ensureInt32(G));if(H)for(let J=0;J<$;J++)O[J]=we.UTF8ToString(G[J]);return H},r=(v,_,$,T,I)=>{let O;switch(we.ensureCache.prepare(),v){case"dd":O=we._pe_dd_to_geog;break;case"ddm":O=we._pe_ddm_to_geog;break;case"dms":O=we._pe_dms_to_geog}let A=0;_&&(A=we.getPointer(_));const N=T.map(G=>we.ensureString(G)),F=we.ensureInt32(N),z=we.ensureFloat64(new Array(2*$)),B=O(A,$,F,z);return B&&Yd(I,$,z),B};function i(v,_,$,T,I){return t("dms",v,_,$,T,I)}function n(v,_,$,T){return r("dms",v,_,$,T)}function o(v,_,$,T,I){return t("ddm",v,_,$,T,I)}function u(v,_,$,T){return r("ddm",v,_,$,T)}function f(v,_,$,T,I){return t("dd",v,_,$,T,I)}function m(v,_,$,T){return r("dd",v,_,$,T)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=o,e.ddmToGeog=u,e.geogToDd=f,e.ddToGeog=m}(yI||(yI={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=we.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=we.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=we.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=we.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=we.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,o,u,f,m,v,_){we.ensureCache.prepare();let $=0;n&&($=we.getPointer(n));const T=c0(u),I=we.ensureFloat64(T),O=S_(o,Ei.PE_MGRS_MAX),A=we.ensureInt32(O),N=we._pe_geog_to_mgrs_extended($,o,I,f,m,v,A);if(N)for(let F=0;F<o;F++)_[F]=we.UTF8ToString(O[F]);return N}function i(n,o,u,f,m){we.ensureCache.prepare();let v=0;n&&(v=we.getPointer(n));const _=u.map(O=>we.ensureString(O)),$=we.ensureInt32(_),T=we.ensureFloat64(new Array(2*o)),I=we._pe_mgrs_to_geog_extended(v,o,$,f,T);return I&&Yd(m,o,T),I}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(A4||(A4={})),function(e){function t(i,n,o,u,f,m,v){we.ensureCache.prepare();let _=0;i&&(_=we.getPointer(i));const $=c0(o),T=we.ensureFloat64($),I=S_(n,Ei.PE_MGRS_MAX),O=we.ensureInt32(I),A=we._pe_geog_to_usng(_,n,T,u,f,m,O);if(A)for(let N=0;N<n;N++)v[N]=we.UTF8ToString(I[N]);return A}function r(i,n,o,u){we.ensureCache.prepare();let f=0;i&&(f=we.getPointer(i));const m=o.map(T=>we.ensureString(T)),v=we.ensureInt32(m),_=we.ensureFloat64(new Array(2*n)),$=we._pe_usng_to_geog(f,n,v,_);return $&&Yd(u,n,_),$}e.geogToUsng=t,e.usngToGeog=r}(mI||(mI={})),function(e){function t(){e.PE_UTM_OPTS_NONE=we.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=we.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=we.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,o,u,f,m){we.ensureCache.prepare();let v=0;n&&(v=we.getPointer(n));const _=c0(u),$=we.ensureFloat64(_),T=S_(o,Ei.PE_UTM_MAX),I=we.ensureInt32(T),O=we._pe_geog_to_utm(v,o,$,f,I);if(O)for(let A=0;A<o;A++)m[A]=we.UTF8ToString(T[A]);return O}function i(n,o,u,f,m){we.ensureCache.prepare();let v=0;n&&(v=we.getPointer(n));const _=u.map(O=>we.ensureString(O)),$=we.ensureInt32(_),T=we.ensureFloat64(new Array(2*o)),I=we._pe_utm_to_geog(v,o,$,f,T);return I&&Yd(m,o,T),I}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(j4||(j4={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=we.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=we.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=we.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=we.PePCSInfo.prototype.PE_POLE_POINT}function i(n,o=e.PE_PCSINFO_OPTION_DOMAIN){let u=null,f=null;return t.has(n)&&(f=t.get(n),f[o]&&(u=f[o])),u||(u=we.PePCSInfo.prototype.generate(n,o),f||(f=[],t.set(n,f)),f[o]=u),u}e.init=r,e.generate=i}(R4||(R4={})),function(e){function t(){return we.PeVersion.prototype.version_string()}e.versionString=t}(gI||(gI={}));const E4e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return hI},get PeDefs(){return Ei},get PeFactory(){return dI},get PeGCSExtent(){return Rie},get PeGTTransformations(){return fI},get PeGTlistExtended(){return O4},get PeGTlistExtendedEntry(){return pI},get PeNotationDms(){return yI},get PeNotationMgrs(){return A4},get PeNotationUsng(){return mI},get PeNotationUtm(){return j4},get PePCSInfo(){return R4},get PeVersion(){return gI},_init:Lie,get _pe(){return we},isLoaded:uN,isSupported:C4e,load:jie},Symbol.toStringTag,{value:"Module"}));var Ka;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Ka||(Ka={}));let C;const te={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(C=2e3;C<=2045;C++)te[C]=0;for(C=2056;C<=2065;C++)te[C]=0;for(C=2067;C<=2135;C++)te[C]=0;for(C=2137;C<=2154;C++)te[C]=0;for(C=2161;C<=2170;C++)te[C]=0;for(C=2172;C<=2193;C++)te[C]=0;for(C=2195;C<=2198;C++)te[C]=0;for(C=2200;C<=2203;C++)te[C]=0;for(C=2205;C<=2217;C++)te[C]=0;for(C=2222;C<=2224;C++)te[C]=1;for(C=2225;C<=2250;C++)te[C]=2;for(C=2251;C<=2253;C++)te[C]=1;for(C=2257;C<=2264;C++)te[C]=2;for(C=2274;C<=2279;C++)te[C]=2;for(C=2280;C<=2282;C++)te[C]=1;for(C=2283;C<=2289;C++)te[C]=2;for(C=2290;C<=2292;C++)te[C]=0;for(C=2308;C<=2313;C++)te[C]=0;for(C=2315;C<=2491;C++)te[C]=0;for(C=2494;C<=2866;C++)te[C]=0;for(C=2867;C<=2869;C++)te[C]=1;for(C=2870;C<=2888;C++)te[C]=2;for(C=2891;C<=2895;C++)te[C]=2;for(C=2896;C<=2898;C++)te[C]=1;for(C=2902;C<=2908;C++)te[C]=2;for(C=2915;C<=2920;C++)te[C]=2;for(C=2921;C<=2923;C++)te[C]=1;for(C=2924;C<=2930;C++)te[C]=2;for(C=2931;C<=2962;C++)te[C]=0;for(C=2964;C<=2968;C++)te[C]=2;for(C=2969;C<=2973;C++)te[C]=0;for(C=2975;C<=2991;C++)te[C]=0;for(C=2995;C<=3051;C++)te[C]=0;for(C=3054;C<=3079;C++)te[C]=0;for(C=3081;C<=3088;C++)te[C]=0;for(C=3092;C<=3101;C++)te[C]=0;for(C=3106;C<=3138;C++)te[C]=0;for(C=3146;C<=3151;C++)te[C]=0;for(C=3153;C<=3166;C++)te[C]=0;for(C=3168;C<=3172;C++)te[C]=0;for(C=3174;C<=3203;C++)te[C]=0;for(C=3294;C<=3358;C++)te[C]=0;for(C=3367;C<=3403;C++)te[C]=0;for(C=3408;C<=3416;C++)te[C]=0;for(C=3417;C<=3438;C++)te[C]=2;for(C=3441;C<=3446;C++)te[C]=2;for(C=3447;C<=3450;C++)te[C]=0;for(C=3451;C<=3459;C++)te[C]=2;for(C=3460;C<=3478;C++)te[C]=0;for(C=3554;C<=3559;C++)te[C]=0;for(C=3560;C<=3570;C++)te[C]=2;for(C=3571;C<=3581;C++)te[C]=0;for(C=3594;C<=3597;C++)te[C]=0;for(C=3601;C<=3604;C++)te[C]=0;for(C=3637;C<=3639;C++)te[C]=0;for(C=3665;C<=3667;C++)te[C]=0;for(C=3693;C<=3695;C++)te[C]=0;for(C=3701;C<=3727;C++)te[C]=0;for(C=3728;C<=3739;C++)te[C]=2;for(C=3740;C<=3751;C++)te[C]=0;for(C=3753;C<=3760;C++)te[C]=2;for(C=3761;C<=3773;C++)te[C]=0;for(C=3775;C<=3777;C++)te[C]=0;for(C=3779;C<=3781;C++)te[C]=0;for(C=3783;C<=3785;C++)te[C]=0;for(C=3788;C<=3791;C++)te[C]=0;for(C=3797;C<=3802;C++)te[C]=0;for(C=3814;C<=3816;C++)te[C]=0;for(C=3825;C<=3829;C++)te[C]=0;for(C=3832;C<=3841;C++)te[C]=0;for(C=3844;C<=3852;C++)te[C]=0;for(C=3873;C<=3885;C++)te[C]=0;for(C=3890;C<=3893;C++)te[C]=0;for(C=3907;C<=3912;C++)te[C]=0;for(C=3942;C<=3950;C++)te[C]=0;for(C=3968;C<=3970;C++)te[C]=0;for(C=3973;C<=3976;C++)te[C]=0;for(C=3986;C<=3989;C++)te[C]=0;for(C=3994;C<=3997;C++)te[C]=0;for(C=4048;C<=4051;C++)te[C]=0;for(C=4056;C<=4063;C++)te[C]=0;for(C=4093;C<=4096;C++)te[C]=0;for(C=4390;C<=4398;C++)te[C]=0;for(C=4399;C<=4413;C++)te[C]=2;for(C=4418;C<=4433;C++)te[C]=2;for(C=4455;C<=4457;C++)te[C]=2;for(C=4484;C<=4489;C++)te[C]=0;for(C=4491;C<=4554;C++)te[C]=0;for(C=4568;C<=4589;C++)te[C]=0;for(C=4652;C<=4656;C++)te[C]=0;for(C=4766;C<=4800;C++)te[C]=0;for(C=5014;C<=5016;C++)te[C]=0;for(C=5069;C<=5072;C++)te[C]=0;for(C=5105;C<=5130;C++)te[C]=0;for(C=5167;C<=5188;C++)te[C]=0;for(C=5253;C<=5259;C++)te[C]=0;for(C=5269;C<=5275;C++)te[C]=0;for(C=5292;C<=5311;C++)te[C]=0;for(C=5329;C<=5331;C++)te[C]=0;for(C=5343;C<=5349;C++)te[C]=0;for(C=5355;C<=5357;C++)te[C]=0;for(C=5387;C<=5389;C++)te[C]=0;for(C=5459;C<=5463;C++)te[C]=0;for(C=5479;C<=5482;C++)te[C]=0;for(C=5518;C<=5520;C++)te[C]=0;for(C=5530;C<=5539;C++)te[C]=0;for(C=5550;C<=5552;C++)te[C]=0;for(C=5562;C<=5583;C++)te[C]=0;for(C=5623;C<=5625;C++)te[C]=2;for(C=5631;C<=5639;C++)te[C]=0;for(C=5649;C<=5653;C++)te[C]=0;for(C=5663;C<=5680;C++)te[C]=0;for(C=5682;C<=5685;C++)te[C]=0;for(C=5875;C<=5877;C++)te[C]=0;for(C=5896;C<=5899;C++)te[C]=0;for(C=5921;C<=5940;C++)te[C]=0;for(C=6050;C<=6125;C++)te[C]=0;for(C=6244;C<=6275;C++)te[C]=0;for(C=6328;C<=6348;C++)te[C]=0;for(C=6350;C<=6356;C++)te[C]=0;for(C=6366;C<=6372;C++)te[C]=0;for(C=6381;C<=6387;C++)te[C]=0;for(C=6393;C<=6404;C++)te[C]=0;for(C=6480;C<=6483;C++)te[C]=0;for(C=6511;C<=6514;C++)te[C]=0;for(C=6579;C<=6581;C++)te[C]=0;for(C=6619;C<=6624;C++)te[C]=0;for(C=6625;C<=6627;C++)te[C]=2;for(C=6628;C<=6632;C++)te[C]=0;for(C=6634;C<=6637;C++)te[C]=0;for(C=6669;C<=6692;C++)te[C]=0;for(C=6707;C<=6709;C++)te[C]=0;for(C=6720;C<=6723;C++)te[C]=0;for(C=6732;C<=6738;C++)te[C]=0;for(C=6931;C<=6933;C++)te[C]=0;for(C=6956;C<=6959;C++)te[C]=0;for(C=7005;C<=7007;C++)te[C]=0;for(C=7057;C<=7070;C++)te[C]=2;for(C=7074;C<=7082;C++)te[C]=0;for(C=7109;C<=7118;C++)te[C]=0;for(C=7119;C<=7127;C++)te[C]=1;for(C=7374;C<=7376;C++)te[C]=0;for(C=7528;C<=7586;C++)te[C]=0;for(C=7587;C<=7645;C++)te[C]=2;for(C=7692;C<=7696;C++)te[C]=0;for(C=7755;C<=7787;C++)te[C]=0;for(C=7791;C<=7795;C++)te[C]=0;for(C=7799;C<=7801;C++)te[C]=0;for(C=7803;C<=7805;C++)te[C]=0;for(C=7825;C<=7831;C++)te[C]=0;for(C=7845;C<=7859;C++)te[C]=0;for(C=8013;C<=8032;C++)te[C]=0;for(C=8065;C<=8068;C++)te[C]=1;for(C=8518;C<=8529;C++)te[C]=2;for(C=8533;C<=8536;C++)te[C]=2;for(C=8538;C<=8540;C++)te[C]=2;for(C=8677;C<=8679;C++)te[C]=0;for(C=8836;C<=8840;C++)te[C]=0;for(C=8857;C<=8859;C++)te[C]=0;for(C=8908;C<=8910;C++)te[C]=0;for(C=9154;C<=9159;C++)te[C]=0;for(C=9205;C<=9218;C++)te[C]=0;for(C=9271;C<=9273;C++)te[C]=0;for(C=9295;C<=9297;C++)te[C]=0;for(C=9356;C<=9360;C++)te[C]=0;for(C=9404;C<=9407;C++)te[C]=0;for(C=9476;C<=9482;C++)te[C]=0;for(C=9487;C<=9494;C++)te[C]=0;for(C=9697;C<=9699;C++)te[C]=0;for(C=9821;C<=9865;C++)te[C]=0;for(C=10285;C<=10291;C++)te[C]=0;for(C=10314;C<=10317;C++)te[C]=0;for(C=10448;C<=10465;C++)te[C]=0;for(C=10731;C<=10733;C++)te[C]=0;for(C=11114;C<=11118;C++)te[C]=0;for(C=20004;C<=20032;C++)te[C]=0;for(C=20047;C<=20049;C++)te[C]=0;for(C=20062;C<=20092;C++)te[C]=0;for(C=20135;C<=20138;C++)te[C]=0;for(C=20248;C<=20258;C++)te[C]=0;for(C=20348;C<=20358;C++)te[C]=0;for(C=20436;C<=20440;C++)te[C]=0;for(C=20822;C<=20824;C++)te[C]=0;for(C=20904;C<=20932;C++)te[C]=0;for(C=20934;C<=20936;C++)te[C]=0;for(C=21004;C<=21032;C++)te[C]=0;for(C=21035;C<=21037;C++)te[C]=0;for(C=21095;C<=21097;C++)te[C]=0;for(C=21148;C<=21150;C++)te[C]=0;for(C=21207;C<=21264;C++)te[C]=0;for(C=21307;C<=21364;C++)te[C]=0;for(C=21413;C<=21423;C++)te[C]=0;for(C=21453;C<=21463;C++)te[C]=0;for(C=21473;C<=21483;C++)te[C]=0;for(C=21780;C<=21782;C++)te[C]=0;for(C=21891;C<=21894;C++)te[C]=0;for(C=21896;C<=21899;C++)te[C]=0;for(C=22171;C<=22177;C++)te[C]=0;for(C=22181;C<=22187;C++)te[C]=0;for(C=22191;C<=22197;C++)te[C]=0;for(C=22207;C<=22222;C++)te[C]=0;for(C=22229;C<=22232;C++)te[C]=0;for(C=22234;C<=22236;C++)te[C]=0;for(C=22243;C<=22250;C++)te[C]=0;for(C=22262;C<=22265;C++)te[C]=0;for(C=22307;C<=22322;C++)te[C]=0;for(C=22348;C<=22357;C++)te[C]=0;for(C=22407;C<=22422;C++)te[C]=0;for(C=22462;C<=22465;C++)te[C]=0;for(C=22521;C<=22525;C++)te[C]=0;for(C=22607;C<=22622;C++)te[C]=0;for(C=22641;C<=22646;C++)te[C]=0;for(C=22648;C<=22657;C++)te[C]=0;for(C=22707;C<=22722;C++)te[C]=0;for(C=22762;C<=22765;C++)te[C]=0;for(C=22807;C<=22822;C++)te[C]=0;for(C=22991;C<=22994;C++)te[C]=0;for(C=23028;C<=23038;C++)te[C]=0;for(C=23301;C<=23333;C++)te[C]=2;for(C=23830;C<=23853;C++)te[C]=0;for(C=23866;C<=23872;C++)te[C]=0;for(C=23877;C<=23884;C++)te[C]=0;for(C=23886;C<=23894;C++)te[C]=0;for(C=23946;C<=23948;C++)te[C]=0;for(C=24311;C<=24313;C++)te[C]=0;for(C=24342;C<=24347;C++)te[C]=0;for(C=24370;C<=24374;C++)te[C]=10;for(C=24375;C<=24381;C++)te[C]=0;for(C=24718;C<=24721;C++)te[C]=0;for(C=24817;C<=24821;C++)te[C]=0;for(C=24877;C<=24882;C++)te[C]=0;for(C=24891;C<=24893;C++)te[C]=0;for(C=25391;C<=25395;C++)te[C]=0;for(C=25828;C<=25838;C++)te[C]=0;for(C=26191;C<=26195;C++)te[C]=0;for(C=26391;C<=26393;C++)te[C]=0;for(C=26701;C<=26722;C++)te[C]=0;for(C=26729;C<=26799;C++)te[C]=2;for(C=26801;C<=26803;C++)te[C]=2;for(C=26811;C<=26813;C++)te[C]=2;for(C=26847;C<=26870;C++)te[C]=2;for(C=26891;C<=26899;C++)te[C]=0;for(C=26901;C<=26923;C++)te[C]=0;for(C=26929;C<=26946;C++)te[C]=0;for(C=26948;C<=26998;C++)te[C]=0;for(C=27037;C<=27040;C++)te[C]=0;for(C=27205;C<=27232;C++)te[C]=0;for(C=27258;C<=27260;C++)te[C]=0;for(C=27391;C<=27398;C++)te[C]=0;for(C=27561;C<=27564;C++)te[C]=0;for(C=27571;C<=27574;C++)te[C]=0;for(C=27581;C<=27584;C++)te[C]=0;for(C=27591;C<=27594;C++)te[C]=0;for(C=27700;C<=27707;C++)te[C]=0;for(C=28191;C<=28193;C++)te[C]=0;for(C=28348;C<=28358;C++)te[C]=0;for(C=28402;C<=28432;C++)te[C]=0;for(C=28462;C<=28492;C++)te[C]=0;for(C=29118;C<=29122;C++)te[C]=0;for(C=29168;C<=29172;C++)te[C]=0;for(C=29177;C<=29185;C++)te[C]=0;for(C=29187;C<=29195;C++)te[C]=0;for(C=29900;C<=29903;C++)te[C]=0;for(C=30161;C<=30179;C++)te[C]=0;for(C=30491;C<=30494;C++)te[C]=0;for(C=30729;C<=30732;C++)te[C]=0;for(C=31251;C<=31259;C++)te[C]=0;for(C=31265;C<=31268;C++)te[C]=0;for(C=31275;C<=31279;C++)te[C]=0;for(C=31281;C<=31297;C++)te[C]=0;for(C=31461;C<=31469;C++)te[C]=0;for(C=31491;C<=31495;C++)te[C]=0;for(C=31917;C<=31922;C++)te[C]=0;for(C=31965;C<=32e3;C++)te[C]=0;for(C=32001;C<=32003;C++)te[C]=2;for(C=32005;C<=32031;C++)te[C]=2;for(C=32033;C<=32060;C++)te[C]=2;for(C=32064;C<=32067;C++)te[C]=2;for(C=32074;C<=32077;C++)te[C]=2;for(C=32081;C<=32086;C++)te[C]=0;for(C=32107;C<=32130;C++)te[C]=0;for(C=32133;C<=32159;C++)te[C]=0;for(C=32164;C<=32167;C++)te[C]=2;for(C=32180;C<=32199;C++)te[C]=0;for(C=32201;C<=32260;C++)te[C]=0;for(C=32301;C<=32360;C++)te[C]=0;for(C=32401;C<=32460;C++)te[C]=0;for(C=32501;C<=32560;C++)te[C]=0;for(C=32601;C<=32662;C++)te[C]=0;for(C=32664;C<=32667;C++)te[C]=2;for(C=32701;C<=32761;C++)te[C]=0;for(C=53001;C<=53004;C++)te[C]=0;for(C=53008;C<=53019;C++)te[C]=0;for(C=53021;C<=53032;C++)te[C]=0;for(C=53034;C<=53037;C++)te[C]=0;for(C=53042;C<=53046;C++)te[C]=0;for(C=53074;C<=53080;C++)te[C]=0;for(C=54001;C<=54004;C++)te[C]=0;for(C=54008;C<=54019;C++)te[C]=0;for(C=54021;C<=54032;C++)te[C]=0;for(C=54034;C<=54037;C++)te[C]=0;for(C=54042;C<=54046;C++)te[C]=0;for(C=54048;C<=54053;C++)te[C]=0;for(C=54074;C<=54080;C++)te[C]=0;for(C=54098;C<=54101;C++)te[C]=0;for(C=102001;C<=102040;C++)te[C]=0;for(C=102042;C<=102063;C++)te[C]=0;for(C=102065;C<=102067;C++)te[C]=0;for(C=102070;C<=102117;C++)te[C]=0;for(C=102122;C<=102216;C++)te[C]=0;for(C=102221;C<=102377;C++)te[C]=0;for(C=102382;C<=102388;C++)te[C]=0;for(C=102389;C<=102398;C++)te[C]=2;for(C=102399;C<=102444;C++)te[C]=0;for(C=102445;C<=102447;C++)te[C]=2;for(C=102448;C<=102458;C++)te[C]=0;for(C=102459;C<=102468;C++)te[C]=2;for(C=102469;C<=102499;C++)te[C]=0;for(C=102500;C<=102519;C++)te[C]=1;for(C=102520;C<=102524;C++)te[C]=0;for(C=102525;C<=102529;C++)te[C]=2;for(C=102530;C<=102588;C++)te[C]=0;for(C=102590;C<=102598;C++)te[C]=0;for(C=102601;C<=102603;C++)te[C]=0;for(C=102605;C<=102628;C++)te[C]=0;for(C=102629;C<=102646;C++)te[C]=2;for(C=102648;C<=102700;C++)te[C]=2;for(C=102701;C<=102703;C++)te[C]=0;for(C=102707;C<=102730;C++)te[C]=2;for(C=102733;C<=102758;C++)te[C]=2;for(C=102767;C<=102900;C++)te[C]=0;for(C=102901;C<=102933;C++)te[C]=2;for(C=102934;C<=102950;C++)te[C]=13;for(C=102951;C<=102963;C++)te[C]=0;for(C=102965;C<=102969;C++)te[C]=0;for(C=102971;C<=102973;C++)te[C]=0;for(C=102975;C<=102989;C++)te[C]=0;for(C=102990;C<=102992;C++)te[C]=1;for(C=102997;C<=103002;C++)te[C]=0;for(C=103003;C<=103008;C++)te[C]=2;for(C=103009;C<=103011;C++)te[C]=0;for(C=103012;C<=103014;C++)te[C]=2;for(C=103019;C<=103021;C++)te[C]=0;for(C=103022;C<=103024;C++)te[C]=2;for(C=103029;C<=103031;C++)te[C]=0;for(C=103032;C<=103034;C++)te[C]=2;for(C=103065;C<=103068;C++)te[C]=0;for(C=103074;C<=103076;C++)te[C]=0;for(C=103077;C<=103079;C++)te[C]=1;for(C=103080;C<=103082;C++)te[C]=0;for(C=103083;C<=103085;C++)te[C]=2;for(C=103090;C<=103093;C++)te[C]=0;for(C=103097;C<=103099;C++)te[C]=0;for(C=103100;C<=103102;C++)te[C]=2;for(C=103107;C<=103109;C++)te[C]=0;for(C=103110;C<=103112;C++)te[C]=2;for(C=103113;C<=103116;C++)te[C]=0;for(C=103117;C<=103120;C++)te[C]=2;for(C=103153;C<=103157;C++)te[C]=0;for(C=103158;C<=103162;C++)te[C]=2;for(C=103163;C<=103165;C++)te[C]=0;for(C=103166;C<=103168;C++)te[C]=1;for(C=103169;C<=103171;C++)te[C]=2;for(C=103186;C<=103188;C++)te[C]=0;for(C=103189;C<=103191;C++)te[C]=2;for(C=103192;C<=103195;C++)te[C]=0;for(C=103196;C<=103199;C++)te[C]=2;for(C=103200;C<=103224;C++)te[C]=0;for(C=103225;C<=103227;C++)te[C]=1;for(C=103232;C<=103237;C++)te[C]=0;for(C=103238;C<=103243;C++)te[C]=2;for(C=103244;C<=103246;C++)te[C]=0;for(C=103247;C<=103249;C++)te[C]=2;for(C=103254;C<=103256;C++)te[C]=0;for(C=103257;C<=103259;C++)te[C]=2;for(C=103264;C<=103266;C++)te[C]=0;for(C=103267;C<=103269;C++)te[C]=2;for(C=103300;C<=103375;C++)te[C]=0;for(C=103381;C<=103383;C++)te[C]=0;for(C=103384;C<=103386;C++)te[C]=1;for(C=103387;C<=103389;C++)te[C]=0;for(C=103390;C<=103392;C++)te[C]=2;for(C=103397;C<=103399;C++)te[C]=0;for(C=103400;C<=103471;C++)te[C]=2;for(C=103476;C<=103478;C++)te[C]=0;for(C=103479;C<=103481;C++)te[C]=2;for(C=103486;C<=103488;C++)te[C]=0;for(C=103489;C<=103491;C++)te[C]=2;for(C=103492;C<=103495;C++)te[C]=0;for(C=103496;C<=103499;C++)te[C]=2;for(C=103528;C<=103543;C++)te[C]=0;for(C=103544;C<=103548;C++)te[C]=2;for(C=103549;C<=103551;C++)te[C]=0;for(C=103552;C<=103554;C++)te[C]=1;for(C=103555;C<=103557;C++)te[C]=2;for(C=103558;C<=103560;C++)te[C]=0;for(C=103571;C<=103573;C++)te[C]=0;for(C=103574;C<=103576;C++)te[C]=2;for(C=103577;C<=103580;C++)te[C]=0;for(C=103581;C<=103583;C++)te[C]=2;for(C=103595;C<=103694;C++)te[C]=0;for(C=103696;C<=103699;C++)te[C]=0;for(C=103700;C<=103793;C++)te[C]=2;for(C=103794;C<=103890;C++)te[C]=0;for(C=103891;C<=103896;C++)te[C]=2;for(C=103900;C<=103971;C++)te[C]=2;for(C=103972;C<=103977;C++)te[C]=0;for(C=112e3;C<=112101;C++)te[C]=0;const Nie=[102100,102113,3857,3785],I4e=[104905,104971],P4e=[4326,...Nie,...I4e],VU='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',$_=[-20037508342788905e-9,20037508342788905e-9],M_=[-20037508342787e-6,20037508342787e-6],Fie={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$_,origin:M_,dx:1e-5},102100:{wkTemplate:VU,valid:$_,origin:M_,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$_,origin:M_,dx:1e-5},3857:{wkTemplate:VU,valid:$_,origin:M_,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function on(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,i=t.wkid;if(r!=null||i!=null){if(r===i||lc(e)&&lc(t))return!0;const u=e.latestWkid;if(u!=null&&i===u)return!0;const f=t.latestWkid;return f!=null&&r===f}let n,o;return e.wkt2&&t.wkt2?(n=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,o=t.wkt),!(!n||!o)&&n.toUpperCase()===o.toUpperCase()}function jo(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Fie[t]||null}function L4(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function ox(e){if(!sa(e))return!1;const{wkid:t}=e;if(t)return te[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function O4e(e){return!(cN(e)||hN(e))}function Ip(e){return(e==null?void 0:e.wkid)===4326}function Yxt(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function vI(e){return(e==null?void 0:e.wkid)===Ka.CGCS2000}function lc(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&Nie.includes(t)}function A4e(e){return(e==null?void 0:e.wkid)===32662}function T7(e){return e===Ka.GCSMARS2000||e===Ka.GCSMARS2000_SPHERE}function cN(e){return T7(e==null?void 0:e.wkid)}function k7(e){return e===Ka.GCSMOON2000}function hN(e){return k7(e==null?void 0:e.wkid)}function j4e(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&P4e.includes(t)}function sa(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const Die={wkid:4326,wkt:p7(Fie[4326].wkTemplate,{Central_Meridian:"0.0"})},zie={wkid:102100,latestWkid:3857},R4e={wkid:32662};function dN(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const L4e=dN(Vi),pN=dN(ic),fN=dN(Ep),N4e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Vi.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},F4e=pN.wkt.toUpperCase(),D4e=fN.wkt.toUpperCase();function z4e(e){if(e!=null&&sa(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(T7(t))return ic;const i=r==null?void 0:r.toUpperCase();if(r&&i===F4e)return ic;if(k7(t)||i&&i===D4e)return Ep}return Vi}function Zxt(e){return T7(e)?ic:k7(e)?Ep:Vi}function N4(e){return on(e,L4e)}function Pp(e){return N4(e)||on(e,pN)||on(e,fN)}const Bie=39.37,B4e=Vi.radius*Math.PI/200,Vie=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,F0=te,Uie=/UNIT\[([^\]]+)]/i,V4e=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),U4e=Us()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),yu=e=>e*e,Wh=e=>e*e*e,Qw={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:yu(.001)},"square-centimeters":{inBaseUnits:yu(.01)},"square-decimeters":{inBaseUnits:yu(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:yu(1e3)},"square-inches":{inBaseUnits:yu(.0254)},"square-feet":{inBaseUnits:yu(.3048)},"square-yards":{inBaseUnits:yu(.9144)},"square-miles":{inBaseUnits:yu(1609.344)},"square-us-feet":{inBaseUnits:yu(1200/3937)},acres:{inBaseUnits:.0015625*yu(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Wh(.001)},"cubic-centimeters":{inBaseUnits:1e3*Wh(.01)},"cubic-decimeters":{inBaseUnits:1e3*Wh(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Wh(1e3)},"cubic-inches":{inBaseUnits:1e3*Wh(.0254)},"cubic-feet":{inBaseUnits:1e3*Wh(.3048)},"cubic-yards":{inBaseUnits:1e3*Wh(.9144)},"cubic-miles":{inBaseUnits:1e3*Wh(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},G4e=(()=>{const e={};for(const t in Qw)for(const r in Qw[t].units)e[r]=t;return e})();function q4e(e,t,r){return e*Qw[r].units[t].inBaseUnits}function H4e(e,t,r){return e/Qw[r].units[t].inBaseUnits}function bI(e){const t=G4e[e];if(!t)throw new Error("unknown type");return t}function UU(e,t=null){return t=t||bI(e),Qw[t].baseUnit===e}function Ma(e,t,r){if(t===r)return e;const i=bI(t);if(i!==bI(r))throw new Error("incompatible units");const n=UU(t,i)?e:q4e(e,t,i);return UU(r,i)?n:H4e(n,r,i)}function W4e(e,t,r){return Ma(e,t,"meters")/(r*Math.PI/180)}function Gie(e){return U4e.fromJSON(e.toLowerCase())||null}function F4(e){if(e!=null&&!O4e(e))return 1;const t=du(e);return t>1e5?1:t}function J4e(e){return du(e)>=z4e(e).metersPerDegree?"meters":Hie(e)}function du(e,t=Vi.metersPerDegree){return K4e(e,!0)??t}function K4e(e,t=!1){const r=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(r){if(T7(r))return ic.metersPerDegree;if(k7(r))return Ep.metersPerDegree;n=F0.values[F0[r]],!n&&t&&V4e.has(r)&&(n=B4e)}else i&&(Jie(i)?n=GU(Vie.exec(i),n):Wie(i)&&(n=GU(Uie.exec(i),n)));return n}function Xxt(e){return ox(e)?1:du(e)}function GU(e,t){return e!=null&&e[1]?qie(e[1]):t}function qie(e){return parseFloat(e.split(",")[1])}function Hie(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let i=null;if(t)i=F0.units[F0[t]];else if(r){const n=Jie(r)?Vie:Wie(r)?Uie:null;if(n){const o=n.exec(r);o!=null&&o[1]&&(i=Z4e(o[1]))}}return i!=null?Gie(i):null}function Wie(e){return/^GEOCCS/i.test(e)}function Jie(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Y4e=1e-7;function Z4e(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!F0.units.includes(r)){const i=qie(e);r=null;const n=F0.values;for(let o=0;o<n.length;++o)if(Math.abs(i-n[o])<Y4e){r=F0.units[o];break}}return r}const X4e={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Q4e={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},e6e={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},t6e=Us()(X4e),r6e=Us()(Q4e),Qxt=Us()(e6e);var wu;let Pr=wu=class extends Fe{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return wu.WebMercator;if(e.wkid===4326)return wu.WGS84}const t=new wu;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Ip(this)}get isWebMercator(){return lc(this)}get isGeographic(){return ox(this)}get isWrappable(){return j4e(this)}get metersPerUnit(){return du(this)}get unit(){return Hie(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===wu.WGS84)return new wu(Die);if(this===wu.WebMercator)return new wu(zie);const e=new wu;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ve(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return on(this,e)}toJSON(e){return this.write(void 0,e)}};Pr.GCS_NAD_1927=null,Pr.WGS84=null,Pr.WebMercator=null,Pr.PlateCarree=null,b([M({readOnly:!0})],Pr.prototype,"isWGS84",null),b([M({readOnly:!0})],Pr.prototype,"isWebMercator",null),b([M({readOnly:!0})],Pr.prototype,"isGeographic",null),b([M({readOnly:!0})],Pr.prototype,"isWrappable",null),b([M({type:Wr,json:{write:!0}})],Pr.prototype,"latestWkid",void 0),b([M({readOnly:!0})],Pr.prototype,"metersPerUnit",null),b([M({readOnly:!0})],Pr.prototype,"unit",null),b([M({type:Wr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Pr.prototype,"wkid",void 0),b([M({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Pr.prototype,"wkt",void 0),b([Xe("wkt"),Xe("web-scene","wkt")],Pr.prototype,"writeWkt",null),b([M({type:String,json:{write:!1}})],Pr.prototype,"wkt2",void 0),b([M({type:Wr,json:{write:!0}})],Pr.prototype,"vcsWkid",void 0),b([M({type:Wr,json:{write:!0}})],Pr.prototype,"latestVcsWkid",void 0),b([M()],Pr.prototype,"imageCoordinateSystem",void 0),Pr=wu=b([se("esri.geometry.SpatialReference")],Pr),Pr.prototype.toJSON.isDefaultToJSON=!0,Pr.GCS_NAD_1927=new Pr({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Pr.WGS84=new Pr(Die),Pr.WebMercator=new Pr(zie),Pr.PlateCarree=new Pr(R4e),Object.freeze&&(Object.freeze(Pr.GCS_NAD_1927),Object.freeze(Pr.WGS84),Object.freeze(Pr.WebMercator),Object.freeze(Pr.PlateCarree));const It=Pr;let xu=class extends Fe{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=It.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof It)return t;if(t!=null){const i=new It;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};b([M()],xu.prototype,"type",void 0),b([M({readOnly:!0})],xu.prototype,"cache",null),b([M({readOnly:!0})],xu.prototype,"extent",null),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xu.prototype,"hasM",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xu.prototype,"hasZ",void 0),b([M({type:It,json:{write:!0},value:It.WGS84})],xu.prototype,"spatialReference",void 0),b([Ge("spatialReference")],xu.prototype,"readSpatialReference",null),xu=b([se("esri.geometry.Geometry")],xu);const Nh=xu,i6e=57.29577951308232,n6e=.017453292519943;function qU(e){return e*i6e}function HU(e){return e*n6e}function WU(e){return e/Vi.radius}function JU(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Vi.radius))}function wI(e){return e.wkid!=null||e.wkt!=null}const ST=[0,0];function D4(e,t,r,i,n){const o=e,u=n;if(u.spatialReference=r,"x"in o&&"x"in u)[u.x,u.y]=t(o.x,o.y,ST,i);else if("xmin"in o&&"xmin"in u)[u.xmin,u.ymin]=t(o.xmin,o.ymin,ST,i),[u.xmax,u.ymax]=t(o.xmax,o.ymax,ST,i);else if("paths"in o&&"paths"in u||"rings"in o&&"rings"in u){const f="paths"in o?o.paths:o.rings,m=[];let v;for(let _=0;_<f.length;_++){const $=f[_];v=[],m.push(v);for(let T=0;T<$.length;T++)v.push(t($[T][0],$[T][1],[0,0],i)),$[T].length>2&&v[T].push($[T][2]),$[T].length>3&&v[T].push($[T][3])}"paths"in u?u.paths=m:u.rings=m}else if("points"in o&&"points"in u){const f=o.points,m=[];for(let v=0;v<f.length;v++)m[v]=t(f[v][0],f[v][1],[0,0],i),f[v].length>2&&m[v].push(f[v][2]),f[v].length>3&&m[v].push(f[v][3]);u.points=m}return n}function lS(e,t){const r=e&&(wI(e)?e:e.spatialReference),i=t&&(wI(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!on(i,r)||lc(i)&&Ip(r)||lc(r)&&Ip(i))}function C7(e,t){if(e==null)return null;const r=e.spatialReference,i=t&&(wI(t)?t:t.spatialReference);return lS(r,i)?on(r,i)?ve(e):lc(i)?D4(e,ym,It.WebMercator,!1,ve(e)):Ip(i)?D4(e,E7,It.WGS84,!1,ve(e)):null:null}function ym(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=HU(t);return r[0]=HU(e)*Vi.radius,r[1]=Vi.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function E7(e,t,r=[0,0],i=!1){const n=qU(e/Vi.radius);return r[0]=i?n:n-360*Math.floor((n+180)/360),r[1]=qU(Math.PI/2-2*Math.atan(Math.exp(-t/Vi.radius))),r}function nu(e,t=!1,r=ve(e)){return D4(e,ym,It.WebMercator,t,r)}function mm(e,t=!1,r=ve(e)){return D4(e,E7,It.WGS84,t,r)}function Kie(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}function s6e(e){var t;return((t=Yie(e,Zie))==null?void 0:t[0])??null}function o6e(e){var t;return((t=Yie(e,Zie))==null?void 0:t[1])??null}function Yie({x:e,y:t,spatialReference:r},i=[0,0]){if(r){if(lc(r))return E7(e,t,i);if(ox(r))return i[0]=e,i[1]=t,i}return null}const Zie=[0,0];var uS;const $T=[0,0];function KU(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ws=uS=class extends Nh{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,n){let o;if(Array.isArray(e))o=e,n=t,e=o[0],t=o[1],r=o[2],i=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,i=o.m,(n=o.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new It(n)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)Ne.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)Ne.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&(n!=null&&n.isWebMercator)){const f=ym(o.longitude,o.latitude,$T);e=f[0],t=f[1]}}}else KU(r)?(n=r,r=null):KU(i)&&(n=i,i=null);const u={x:e,y:t};return u.x==null&&u.y!=null?Ne.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):u.y==null&&u.x!=null&&Ne.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(u.spatialReference=n),r!=null&&(u.z=r),i!=null&&(u.m=i),u}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return o6e(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",ym(r,e,$T)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return s6e(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",ym(e,t,$T)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new uS;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return uS.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:i,m:n,spatialReference:o}=this,{z:u,m:f}=e;let{x:m,y:v,spatialReference:_}=e;if(!o.equals(_))if(o.isWebMercator&&_.isWGS84)[m,v]=ym(m,v),_=o;else{if(!o.isWGS84||!_.isWebMercator)return!1;[m,v]=E7(m,v),_=o}return t===m&&r===v&&i===u&&n===f&&o.wkid===_.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=jo(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let o;return t>i?(o=Math.ceil(Math.abs(t-i)/n),t-=o*n):t<r&&(o=Math.ceil(Math.abs(t-r)/n),t+=o*n),this._set("x",t),this}distance(e){return Kie(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};b([M({readOnly:!0})],Ws.prototype,"cache",null),b([M({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ws.prototype,"hasM",null),b([M({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ws.prototype,"hasZ",null),b([M({type:Number})],Ws.prototype,"latitude",null),b([M({type:Number})],Ws.prototype,"longitude",null),b([M({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ar(e=>isNaN(e)?e:qa(e))],Ws.prototype,"x",void 0),b([Xe("x")],Ws.prototype,"writeX",null),b([Ge("x")],Ws.prototype,"readX",null),b([M({type:Number,json:{write:!0}})],Ws.prototype,"y",void 0),b([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ws.prototype,"z",void 0),b([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ws.prototype,"m",void 0),Ws=uS=b([se("esri.geometry.Point")],Ws),Ws.prototype.toJSON.isDefaultToJSON=!0;const jt=Ws;let _u=class extends ui(Fe){constructor(...t){super(...t),this.position=new jt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new Jre}normalizeCtorArgs(t,r,i,n){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const o={position:t};return r!=null&&(o.heading=r),i!=null&&(o.tilt=i),n!=null&&(o.fov=n),o}return t}writePosition(t,r,i,n){const o=t.clone();o.x=qa(t.x||0),o.y=qa(t.y||0),o.z=t.hasZ?qa(t.z||0):t.z,r[i]=o.write({},n)}readPosition(t,r){const i=new jt;return i.read(t,r),i.x=qa(i.x||0),i.y=qa(i.y||0),i.z=i.hasZ?qa(i.z||0):i.z,i}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};b([M({type:jt,json:{write:{isRequired:!0}}})],_u.prototype,"position",void 0),b([Xe("position")],_u.prototype,"writePosition",null),b([Ge("position")],_u.prototype,"readPosition",null),b([M({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ar(e=>y9e.normalize(qa(e)))],_u.prototype,"heading",void 0),b([M({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ar(e=>fl(qa(e),-180,180))],_u.prototype,"tilt",void 0),b([M({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],_u.prototype,"fov",void 0),b([M({type:Jre,nonNullable:!0,json:{read:!1,write:!1}})],_u.prototype,"layout",void 0),_u=b([se("esri.Camera")],_u);const a6e=_u,MT=[0,0];function ax(e,t){return t!=null&&Xs(e,t.x,t.y,t.z)}function r_t(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!bg(e,r))return!1;return!0}function l6e(e,t){const{xmin:r,ymin:i,zmin:n,xmax:o,ymax:u,zmax:f}=t;return e.hasZ&&t.hasZ?Xs(e,r,i,n)&&Xs(e,r,u,n)&&Xs(e,o,u,n)&&Xs(e,o,i,n)&&Xs(e,r,i,f)&&Xs(e,r,u,f)&&Xs(e,o,u,f)&&Xs(e,o,i,f):Xs(e,r,i)&&Xs(e,r,u)&&Xs(e,o,u)&&Xs(e,o,i)}function bg(e,t){return Xs(e,t[0],t[1])}function u6e(e,t){return Xs(e,t[0],t[1],t[2])}function Xs(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function yN(e,t){return MT[1]=t.y,MT[0]=t.x,c6e(e,MT)}function c6e(e,t){return mN(e.rings,t)}function mN(e,t){if(!e)return!1;if(h6e(e))return YU(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=YU(r,e[i],t);return r}function h6e(e){return!Array.isArray(e[0][0])}function YU(e,t,r){const[i,n]=r;let o=e,u=0;for(let f=0,m=t.length;f<m;f++){u++,u===m&&(u=0);const[v,_]=t[f],[$,T]=t[u];(_<n&&T>=n||T<n&&_>=n)&&v+(n-_)/(T-_)*($-v)<i&&(o=!o)}return o}function d6e(e,t){return ax(e,t)}function p6e(e,t){const r=e.hasZ&&t.hasZ;let i,n,o;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function f6e(e,t){const{points:r,hasZ:i}=t,n=i?u6e:bg;for(const o of r)if(n(e,o))return!0;return!1}const s1=[0,0],o1=[0,0],a1=[0,0],l1=[0,0],y6e=[s1,o1,a1,l1],Xie=[[a1,s1],[s1,o1],[o1,l1],[l1,a1]];function m6e(e,t){return g6e(e,t.rings)}function g6e(e,t){s1[0]=e.xmin,s1[1]=e.ymax,o1[0]=e.xmax,o1[1]=e.ymax,a1[0]=e.xmin,a1[1]=e.ymin,l1[0]=e.xmax,l1[1]=e.ymin;for(const r of y6e)if(mN(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(bg(e,i))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(bg(e,o)||Qie(i,o,Xie))return!0;i=o}}return!1}function v6e(e,t){s1[0]=e.xmin,s1[1]=e.ymax,o1[0]=e.xmax,o1[1]=e.ymax,a1[0]=e.xmin,a1[1]=e.ymin,l1[0]=e.xmax,l1[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let n=i[0];if(bg(e,n))return!0;for(let o=1;o<i.length;o++){const u=i[o];if(bg(e,u)||Qie(n,u,Xie))return!0;n=u}}return!1}const Fn=[0,0];function b6e(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const o=r[n],u=r[n+1];for(let f=t+1;f<e.length;f++)for(let m=0;m<e[f].length-1;m++){const v=e[f][m],_=e[f][m+1];if(xI(o,u,v,_,Fn)&&!(Fn[0]===o[0]&&Fn[1]===o[1]||Fn[0]===v[0]&&Fn[1]===v[1]||Fn[0]===u[0]&&Fn[1]===u[1]||Fn[0]===_[0]&&Fn[1]===_[1]))return!0}}const i=r.length;if(!(i<=4))for(let n=0;n<i-3;n++){let o=i-1;n===0&&(o=i-2);const u=r[n],f=r[n+1];for(let m=n+2;m<o;m++){const v=r[m],_=r[m+1];if(xI(u,f,v,_,Fn)&&!(Fn[0]===u[0]&&Fn[1]===u[1]||Fn[0]===v[0]&&Fn[1]===v[1]||Fn[0]===f[0]&&Fn[1]===f[1]||Fn[0]===_[0]&&Fn[1]===_[1]))return!0}}}return!1}function Qie(e,t,r){for(let i=0;i<r.length;i++)if(xI(e,t,r[i][0],r[i][1]))return!0;return!1}function xI(e,t,r,i,n){const[o,u]=e,[f,m]=t,[v,_]=r,[$,T]=i,I=$-v,O=o-v,A=f-o,N=T-_,F=u-_,z=m-u,B=N*A-I*z;if(B===0)return!1;const G=(I*F-N*O)/B,H=(A*F-z*O)/B;return G>=0&&G<=1&&H>=0&&H<=1&&(n&&(n[0]=o+G*(f-o),n[1]=u+G*(m-u)),!0)}function w6e(e){switch(e){case"esriGeometryEnvelope":case"extent":return p6e;case"esriGeometryMultipoint":case"multipoint":return f6e;case"esriGeometryPoint":case"point":return d6e;case"esriGeometryPolygon":case"polygon":return m6e;case"esriGeometryPolyline":case"polyline":return v6e}}var Ta;function x6e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Jh(e,t,r){return t==null?r:r==null?t:e(t,r)}let Tn=Ta=class extends Nh{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return x6e(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?It.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n??It.WGS84}}static fromBounds(e,t){return new Ta({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Ta({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new jt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Ta;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&lS(t,r)&&(e=t.isWebMercator?nu(e):mm(e,!0)),e.type==="point"?ax(this,e):e.type==="extent"&&l6e(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&lS(t,r)&&(e=t.isWebMercator?nu(e):mm(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!on(t,r)&&lS(t,r)&&(e=t.isWebMercator?nu(e):mm(e,!0)),w6e(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Jh(Math.min,this.zmin,e.zmin),this.zmax=Jh(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Jh(Math.min,this.mmin,e.mmin),this.mmax=Jh(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Jh(Math.max,this.zmin,e.zmin),this.zmax=Jh(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Jh(Math.max,this.mmin,e.mmin),this.mmax=Jh(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=jo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?mm(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=TT(i.x,e).x),this.spatialReference=new It(p7((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,o=this.xmax;return n>=r&&n<=i&&o>=r&&o<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const n=r??jo(i);if(n==null)return this;const o=this._getParts(n).map(m=>m.extent);if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return o;let u=!0,f=!0;return o.forEach(m=>{m.hasZ||(u=!1),m.hasM||(f=!1)}),{rings:o.map(m=>{const v=[[m.xmin,m.ymin],[m.xmin,m.ymax],[m.xmax,m.ymax],[m.xmax,m.ymin],[m.xmin,m.ymin]];if(u){const _=(m.zmax-m.zmin)/2;for(let $=0;$<v.length;$++)v[$].push(_)}if(f){const _=(m.mmax-m.mmin)/2;for(let $=0;$<v.length;$++)v[$].push(_)}return v}),hasZ:u,hasM:f,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:o,spatialReference:u}=this,f=this.width,m=this.xmin,v=this.xmax;let _;e=e||jo(u);const[$,T]=e.valid;_=TT(this.xmin,e);const I=_.x,O=_.frameId;_=TT(this.xmax,e);const A=_.x,N=_.frameId,F=I===A&&f>0;if(f>2*T){const z=new Ta(m<v?I:A,n,T,o,u),B=new Ta($,n,m<v?A:I,o,u),G=new Ta(0,n,T,o,u),H=new Ta($,n,0,o,u),J=[],Z=[];z.contains(G)&&J.push(O),z.contains(H)&&Z.push(O),B.contains(G)&&J.push(N),B.contains(H)&&Z.push(N);for(let re=O+1;re<N;re++)J.push(re),Z.push(re);t.push({extent:z,frameIds:[O]},{extent:B,frameIds:[N]},{extent:G,frameIds:J},{extent:H,frameIds:Z})}else I>A||F?t.push({extent:new Ta(I,n,T,o,u),frameIds:[O]},{extent:new Ta($,n,A,o,u),frameIds:[N]}):t.push({extent:new Ta(I,n,A,o,u),frameIds:[O]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),i&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(n)}return t}};function TT(e,t){const[r,i]=t.valid,n=2*i;let o,u=0;return e>i?(o=Math.ceil(Math.abs(e-i)/n),e-=o*n,u=o):e<r&&(o=Math.ceil(Math.abs(e-r)/n),e+=o*n,u=-o),{x:e,frameId:u}}b([M({readOnly:!0})],Tn.prototype,"cache",null),b([M({readOnly:!0})],Tn.prototype,"center",null),b([M({readOnly:!0})],Tn.prototype,"extent",null),b([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Tn.prototype,"hasM",null),b([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Tn.prototype,"hasZ",null),b([M({readOnly:!0})],Tn.prototype,"height",null),b([M({readOnly:!0})],Tn.prototype,"width",null),b([M({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Tn.prototype,"xmin",void 0),b([M({type:Number,json:{write:!0}})],Tn.prototype,"ymin",void 0),b([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Tn.prototype,"mmin",void 0),b([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Tn.prototype,"zmin",void 0),b([M({type:Number,json:{write:!0}})],Tn.prototype,"xmax",void 0),b([M({type:Number,json:{write:!0}})],Tn.prototype,"ymax",void 0),b([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Tn.prototype,"mmax",void 0),b([M({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Tn.prototype,"zmax",void 0),Tn=Ta=b([se("esri.geometry.Extent")],Tn),Tn.prototype.toJSON.isDefaultToJSON=!0;const mr=Tn;function wg(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?t.length!==4||i||n?t.length===3&&r&&!i?(n=!0,i=!1):t.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var _I;function ZU(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function _6e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ad=_I=class extends Nh{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var n;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):_6e(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=(n=r.points)==null?void 0:n[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new mr,r=this.hasZ,i=this.hasM,n=r?3:2,o=e[0],u=ZU(Math.min),f=ZU(Math.max);let m,v,_,$,[T,I]=o,[O,A]=o;for(let N=0,F=e.length;N<F;N++){const z=e[N],[B,G]=z;if(T=u(T,B),I=u(I,G),O=f(O,B),A=f(A,G),r&&z.length>2){const H=z[2];m=u(m,H),_=f(_,H)}if(i&&z.length>n){const H=z[n];v=u(v,H),$=f($,H)}}return t.xmin=T,t.ymin=I,t.xmax=O,t.ymax=A,t.spatialReference=this.spatialReference,r?(t.zmin=m,t.zmax=_):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=v,t.mmax=$):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ve(this.points)}addPoint(e){return wg(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ve(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new _I(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new jt(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new jt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(wg(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};b([M({readOnly:!0})],ad.prototype,"cache",null),b([M()],ad.prototype,"extent",null),b([M({type:[[Number]],json:{write:{isRequired:!0}}})],ad.prototype,"points",void 0),b([Xe("points")],ad.prototype,"writePoints",null),ad=_I=b([se("esri.geometry.Multipoint")],ad),ad.prototype.toJSON.isDefaultToJSON=!0;const lx=ad;function i_t(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function S6e(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var z4;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(z4||(z4={}));function gN(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function $6e(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function M6e(e,t,r,i){return T6e(e,t,r[i],r[i+1])}function T6e(e,t,r,i){const[n,o]=t,[u,f]=r,[m,v]=i,_=m-u,$=v-f,T=_*_+$*$,I=(n-u)*_+(o-f)*$,O=Math.min(1,Math.max(0,I/T));return e[0]=u+_*O,e[1]=f+$*O,e}function n_t(e,t,r,i,n,o){let u=r,f=i,m=n-u,v=o-f;if(m!==0||v!==0){const _=((e-u)*m+(t-f)*v)/(m*m+v*v);_>1?(u=n,f=o):_>0&&(u+=m*_,f+=v*_)}return m=e-u,v=t-f,m*m+v*v}function ene(e,t){return $6e(e,t,.5)}function s_t(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=gN(e[i],e[i+1]);return r}function tne(e,t=z4.X,r=z4.Y){let i=0;const n=e.length;let o=e[0];for(let u=1;u<n;u++){const f=e[u];i+=(f[t]-o[t])*(f[r]+o[r]),o=f}if(!rne(e)){const u=e[0];i+=(u[t]-o[t])*(u[r]+o[r])}return i>=0}function rne(e){const t=e.length;return t<3||c7(e[0],e[t-1])}function o_t(e){"rings"in e&&(k6e(e),C6e(e))}function k6e(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)rne(r)||(r.push(r[0].slice()),t=!0);return t}function C6e(e){if(!("rings"in e)||e.rings.length===0||tne(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function a_t(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function E6e(e){return e?I6e(e.rings,e.hasZ??!1):null}function I6e(e,t){if(!(e!=null&&e.length))return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,u=e.length;o<u;o++){const f=ine(e[o],t,n);f&&i.push(f)}if(i.sort((o,u)=>{let f=o[2]-u[2];return f===0&&t&&(f=o[4]-u[4]),f}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?P6e(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function ine(e,t,r){let i=0,n=0,o=0,u=0,f=0;const m=e.length?e[0][0]:0,v=e.length?e[0][1]:0,_=e.length&&t?e[0][2]:0;for(let T=0;T<e.length;T++){const I=e[T],O=e[(T+1)%e.length],[A,N,F]=I,z=A-m,B=N-v,[G,H,J]=O,Z=G-m,re=H-v,q=z*re-Z*B;if(u+=q,i+=(z+Z)*q,n+=(B+re)*q,t&&I.length>2&&O.length>2){const X=F-_,ie=J-_,le=z*ie-Z*X;o+=(X+ie)*le,f+=le}A<r[0]&&(r[0]=A),A>r[1]&&(r[1]=A),N<r[2]&&(r[2]=N),N>r[3]&&(r[3]=N),t&&(F<r[4]&&(r[4]=F),F>r[5]&&(r[5]=F))}if(u>0&&(u*=-1),f>0&&(f*=-1),!u)return null;u*=.5,f*=.5;const $=[i/(6*u)+m,n/(6*u)+v,u];return t&&(r[4]===r[5]||f===0?($[3]=(r[4]+r[5])/2,$[4]=0):($[3]=o/(6*f)+_,$[4]=f)),$}function l_t(e,t){let r=0,i=0,n=0;e.nextPoint();const o=e.pathSize?e.x:0,u=e.pathSize?e.y:0;for(let f=0;f<e.pathSize;f++){e.seekInPath(f);const m=[e.x,e.y];e.seekInPath((f+1)%e.pathSize);const v=[e.x,e.y],[_,$]=m,T=_-o,I=$-u,[O,A]=v,N=O-o,F=A-u,z=T*F-N*I;n+=z,r+=(T+N)*z,i+=(I+F)*z,_<t[0]&&(t[0]=_),_>t[1]&&(t[1]=_),$<t[2]&&(t[2]=$),$>t[3]&&(t[3]=$)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+o,i/(6*n)+u,n]):null}function P6e(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,o=0,u=0,f=0;for(let m=0,v=e.length;m<v-1;m++){const _=e[m],$=e[m+1];if(_&&$){r[0]=_[0],r[1]=_[1],i[0]=$[0],i[1]=$[1],t&&_.length>2&&$.length>2&&(r[2]=_[2],i[2]=$[2]);const T=gN(r,i);if(T){n+=T;const I=ene(_,$);o+=T*I[0],u+=T*I[1],t&&I.length>2&&(f+=T*I[2])}}}return n>0?t?[o/n,u/n,f/n]:[o/n,u/n]:e.length?e[0]:null}function O6e(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const i=[],n=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const u=ine(S6e(e),e.hasZ,o);u&&n.push(u)}if(n.sort((u,f)=>{let m=u[2]-f[2];return m===0&&t&&(m=u[4]-f[4]),m}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<o[0]||i[0]>o[1]||i[1]<o[2]||i[1]>o[3]||t&&(i[2]<o[4]||i[2]>o[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const u=e.pathSize?A6e(e):null;if(!u)return null;i[0]=u[0],i[1]=u[1],t&&u.length>2&&(i[2]=u[2])}return i}function A6e(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,o=0,u=0,f=0;if(e.nextPoint()){let m=e.x,v=e.y,_=e.z;for(;e.nextPoint();){const $=e.x,T=e.y,I=e.z;r[0]=m,r[1]=v,i[0]=$,i[1]=T,t&&(r[2]=_,i[2]=I);const O=gN(r,i);if(O){n+=O;const A=ene(r,i);o+=O*A[0],u+=O*A[1],t&&A.length>2&&(f+=O*A[2])}m=$,v=T,_=I}}return n>0?t?[o/n,u/n,f/n]:[o/n,u/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const j6e=1e-6;function u_t(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<j6e){const n=O6e(e);return n?[n[0],n[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)L6e(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const R6e=1/3;function L6e(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,n=r.y;r.nextPoint();let o,u=r.x-i,f=r.y-n,m=0,v=0;for(;r.nextPoint();)m=r.x-i,v=r.y-n,o=.5*R6e*(m*f-v*u),e[0]+=o*(u+m),e[1]+=o*(f+v),u=m,f=v;const _=r.getCurrentRingArea(),$=[i,n];return $[0]-=t[0],$[1]-=t[1],$[0]*=_,$[1]*=_,e[0]+=$[0],e[1]+=$[1],e}function Wn(e=V6e){return[e[0],e[1],e[2],e[3]]}function nne(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function c_t(e,t,r,i,n=Wn()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function N6e(e,t=Wn()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function h_t(e,t){return new mr({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function d_t(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function p_t(e,t,r){if(t!=null)if("length"in t)SI(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else nne(r,e)}function sne(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function one(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function f_t(e){return sne(e)*one(e)}function F6e(e,t){return D6e(e,t[0],t[1])}function D6e(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function z6e(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function y_t(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function B6e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function m_t(e){return e?nne(e,XU):Wn(XU)}function SI(e){return e!=null&&e.length===4}function g_t(e,t){return SI(e)&&SI(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const XU=[1/0,1/0,-1/0,-1/0],V6e=[0,0,0,0];function ane(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function lne(e){return e.points!==void 0}function une(e){return e.x!==void 0&&e.y!==void 0}function cne(e){return e.paths!==void 0}function hne(e){return e.rings!==void 0}function dne(e){function t(r,i){return r==null?i:i==null?r:e(r,i)}return t}const np=dne(Math.min),sp=dne(Math.max);function v_t(e,t){return cne(t)?xg(e,t.paths,!1,!1):hne(t)?xg(e,t.rings,!1,!1):lne(t)?vN(e,t.points,!1,!1,!1,!1):ane(t)?pne(e,t):(une(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function b_t(e){let t,r,i,n;for(e.reset(),t=i=1/0,r=n=-1/0;e.nextPath();){const o=U6e(e);t=Math.min(o[0],t),i=Math.min(o[1],i),r=Math.max(o[2],r),n=Math.max(o[3],n)}return Wn([t,i,r,n])}function U6e(e){let t,r,i,n;for(t=i=1/0,r=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),n=Math.max(e.y,n);return Wn([t,i,r,n])}function w_t(e,t){return cne(t)?xg(e,t.paths,!0,!1):hne(t)?xg(e,t.rings,!0,!1):lne(t)?vN(e,t.points,!0,!1,!0,!1):ane(t)?pne(e,t,!0,!1,!0,!1):(une(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function xg(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let o,u,f,m,[v,_]=t[0][0],[$,T]=t[0][0];for(let I=0;I<t.length;I++){const O=t[I];for(let A=0;A<O.length;A++){const N=O[A],[F,z]=N;if(v=np(v,F),_=np(_,z),$=sp($,F),T=sp(T,z),r&&N.length>2){const B=N[2];o=np(o,B),u=sp(u,B)}if(i&&N.length>n){const B=N[n];f=np(o,B),m=sp(u,B)}}}return r?i?(e[0]=v,e[1]=_,e[2]=o,e[3]=f,e[4]=$,e[5]=T,e[6]=u,e[7]=m,e.length=8,e):(e[0]=v,e[1]=_,e[2]=o,e[3]=$,e[4]=T,e[5]=u,e.length=6,e):i?(e[0]=v,e[1]=_,e[2]=f,e[3]=$,e[4]=T,e[5]=m,e.length=6,e):(e[0]=v,e[1]=_,e[2]=$,e[3]=T,e.length=4,e)}function pne(e,t,r,i,n,o){const u=t.xmin,f=t.xmax,m=t.ymin,v=t.ymax;let _=t.zmin,$=t.zmax,T=t.mmin,I=t.mmax;return n?(_=_||0,$=$||0,o?(T=T||0,I=I||0,e[0]=u,e[1]=m,e[2]=_,e[3]=T,e[4]=f,e[5]=v,e[6]=$,e[7]=I,e):(e[0]=u,e[1]=m,e[2]=_,e[3]=f,e[4]=v,e[5]=$,e)):o?(T=T||0,I=I||0,e[0]=u,e[1]=m,e[2]=T,e[3]=f,e[4]=v,e[5]=I,e):(e[0]=u,e[1]=m,e[2]=f,e[3]=v,e)}function vN(e,t,r,i,n,o){const u=r?3:2,f=i&&o,m=r&&n;if(!t.length||!t[0].length)return null;let v,_,$,T,[I,O]=t[0],[A,N]=t[0];for(let F=0;F<t.length;F++){const z=t[F],[B,G]=z;if(I=np(I,B),O=np(O,G),A=sp(A,B),N=sp(N,G),m&&z.length>2){const H=z[2];v=np(v,H),_=sp(_,H)}if(f&&z.length>u){const H=z[u];$=np(v,H),T=sp(_,H)}}return n?(v=v||0,_=_||0,o?($=$||0,T=T||0,e[0]=I,e[1]=O,e[2]=v,e[3]=$,e[4]=A,e[5]=N,e[6]=_,e[7]=T,e):(e[0]=I,e[1]=O,e[2]=v,e[3]=A,e[4]=N,e[5]=_,e)):o?($=$||0,T=T||0,e[0]=I,e[1]=O,e[2]=$,e[3]=A,e[4]=N,e[5]=T,e):(e[0]=I,e[1]=O,e[2]=A,e[3]=N,e)}function G6e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function q6e(e){return e.points!==void 0}function H6e(e){return e.x!==void 0&&e.y!==void 0}function W6e(e){return e.paths!==void 0}function J6e(e){return e.rings!==void 0}const bN=[];function fne(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function yne(e,t,r,i,n,o){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:o}}function mne(e,t,r,i,n,o){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:o}}function gne(e,t,r,i,n,o,u,f){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:o,zmax:u,mmax:f}}function wN(e,t=!1,r=!1){return t?r?gne(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):yne(e[0],e[1],e[2],e[3],e[4],e[5]):r?mne(e[0],e[1],e[2],e[3],e[4],e[5]):fne(e[0],e[1],e[2],e[3])}function x_t(e){return e?G6e(e)?e:H6e(e)?Y6e(e):J6e(e)?vne(e):W6e(e)?bne(e):q6e(e)?K6e(e):null:null}function K6e(e){const{hasZ:t,hasM:r,points:i}=e;return wN(vN(bN,i,t??!1,r??!1),t,r)}function Y6e(e){const{x:t,y:r,z:i,m:n}=e,o=n!=null;return i!=null?o?gne(t,r,i,n,t,r,i,n):yne(t,r,i,t,r,i):o?mne(t,r,n,t,r,n):fne(t,r,t,r)}function vne(e){const{hasZ:t,hasM:r,rings:i}=e,n=xg(bN,i,t??!1,r??!1);return n?wN(n,t,r):null}function bne(e){const{hasZ:t,hasM:r,paths:i}=e,n=xg(bN,i,t??!1,r??!1);return n?wN(n,t,r):null}var cS;function QU(e){return!Array.isArray(e[0])}let Su=cS=class extends Nh{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let i=!1,n=!1;for(const u of t)u.hasZ&&(i=!0),u.hasM&&(n=!0);const o={rings:t.map(u=>{const f=[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]];if(i&&u.hasZ){const m=u.zmin+.5*(u.zmax-u.zmin);for(let v=0;v<f.length;v++)f[v].push(m)}if(n&&u.hasM){const m=u.mmin+.5*(u.mmax-u.mmin);for(let v=0;v<f.length;v++)f[v].push(m)}return f}),spatialReference:r};return i&&(o.hasZ=!0),n&&(o.hasM=!0),new cS(o)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var u,f;let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||It.WGS84,n.length&&((u=n[0])==null?void 0:u[0])!=null&&typeof n[0][0]=="number"&&(n=[n]),o=(f=n[0])==null?void 0:f[0],o&&(r===void 0&&i===void 0?(r=o.length>2,i=o.length>3):r===void 0?r=i?o.length>3:o.length>2:i===void 0&&(i=r?o.length>3:o.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=E6e(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new jt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=vne(this);if(!t)return null;const r=new mr(t);return r.spatialReference=e,r}get isSelfIntersecting(){return b6e(this.rings)}writeRings(e,t){t.rings=ve(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(QU(e)){const i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new cS;return e.spatialReference=this.spatialReference,e.rings=ve(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([n,o,u,f],[m,v,_,$])=>n===m&&o===v&&(u==null&&_==null||u===_)&&(f==null&&$==null||f===$);for(let n=0;n<this.rings.length;n++){const o=this.rings[n],u=e.rings[n];if(!c7(o,u,i))return!1}return!0}contains(e){if(!e)return!1;const t=C7(e,this.spatialReference);return yN(this,t??e)}isClockwise(e){const t=QU(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return tne(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new jt(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new jt(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new jt(r[0],r[1],r[2],r[3],this.spatialReference):new jt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(wg(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new jt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new jt(n,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(wg(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([M({readOnly:!0})],Su.prototype,"cache",null),b([M({readOnly:!0})],Su.prototype,"centroid",null),b([M({readOnly:!0})],Su.prototype,"extent",null),b([M({readOnly:!0})],Su.prototype,"isSelfIntersecting",null),b([M({type:[[[Number]]],json:{write:{isRequired:!0}}})],Su.prototype,"rings",void 0),b([Xe("rings")],Su.prototype,"writeRings",null),Su=cS=b([se("esri.geometry.Polygon")],Su),Su.prototype.toJSON.isDefaultToJSON=!0;const pa=Su;var $I;function Z6e(e){return!Array.isArray(e[0])}let ld=$I=class extends Nh{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var u,f;let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||It.WGS84,n.length&&((u=n[0])==null?void 0:u[0])!=null&&typeof n[0][0]=="number"&&(n=[n]),o=(f=n[0])==null?void 0:f[0],o&&(r===void 0&&i===void 0?(r=o.length>2,i=!1):r===void 0?r=!i&&o.length>3:i===void 0&&(i=!r&&o.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=bne(this);if(!t)return null;const r=new mr(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=ve(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(Z6e(e)){const i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new $I;return e.spatialReference=this.spatialReference,e.paths=ve(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new jt(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new jt(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new jt(r[0],r[1],r[2],r[3],this.spatialReference):new jt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(wg(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new jt(n,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new jt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(wg(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([M({readOnly:!0})],ld.prototype,"cache",null),b([M({readOnly:!0})],ld.prototype,"extent",null),b([M({type:[[[Number]]],json:{write:{isRequired:!0}}})],ld.prototype,"paths",void 0),b([Xe("paths")],ld.prototype,"writePaths",null),ld=$I=b([se("esri.geometry.Polyline")],ld),ld.prototype.toJSON.isDefaultToJSON=!0;const Qa=ld,X6e=Us()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),eG=Us()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function wne(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function xne(e){return e.points!==void 0}function _ne(e){return e.x!==void 0&&e.y!==void 0}function Sne(e){return e.paths!==void 0}function Nm(e){return e.rings!==void 0}function Op(e){return e==null?null:e instanceof Nh?e:_ne(e)?jt.fromJSON(e):Sne(e)?Qa.fromJSON(e):Nm(e)?pa.fromJSON(e):xne(e)?lx.fromJSON(e):wne(e)?mr.fromJSON(e):null}function ux(e){return e?_ne(e)?"esriGeometryPoint":Sne(e)?"esriGeometryPolyline":Nm(e)?"esriGeometryPolygon":wne(e)?"esriGeometryEnvelope":xne(e)?"esriGeometryMultipoint":null:null}const Q6e={esriGeometryPoint:jt,esriGeometryPolyline:Qa,esriGeometryPolygon:pa,esriGeometryEnvelope:mr,esriGeometryMultipoint:lx};function e$e(e){return e&&Q6e[e]||null}const I1={base:Nh,key:"type",typeMap:{extent:mr,multipoint:lx,point:jt,polyline:Qa,polygon:pa}};oc(I1);var MI;let ud=MI=class extends Fe{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new MI({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};b([M({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:kT}}}}})],ud.prototype,"rotation",void 0),b([Ar("rotation")],ud.prototype,"castRotation",null),b([M({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:kT}}}}})],ud.prototype,"scale",void 0),b([M({types:I1,json:{read:Op,write:!0,origins:{"web-scene":{read:Op,write:{overridePolicy:kT}}}}})],ud.prototype,"targetGeometry",void 0),b([M({type:a6e,json:{write:!0}})],ud.prototype,"camera",void 0),ud=MI=b([se("esri.Viewpoint")],ud);const al=ud;function kT(){return{enabled:!this.camera}}let hS=class $ne{constructor(){this._emitter=new $ne.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){var n;(n=this._listenersMap)==null||n.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,o){var v;let u=(v=this._listenersMap)==null?void 0:v.get(n);if(!u)return!1;const f=this._target||this;let m=!1;for(const _ of u.slice()){const $="deref"in _?_.deref():_;$?$==null||$.call(f,o):m=!0}return m&&(u=u.filter(_=>!("deref"in _)||_.deref()!=null),this._listenersMap.set(n,u)),u.length>0}on(n,o){if(Array.isArray(n)){const f=n.map(m=>this.on(m,o));return Q3(f)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const u=this._listenersMap.get(n)||[];return u.push(o),this._listenersMap.set(n,u),Kr(()=>{var v;const f=(v=this._listenersMap)==null?void 0:v.get(n),m=(f==null?void 0:f.indexOf(o))??-1;m>=0&&f.splice(m,1)})}once(n,o){const u=this.on(n,f=>{u.remove();const m="deref"in o?o.deref():o;m==null||m.call(null,f)});return u}hasEventListener(n){var u;const o=(u=this._listenersMap)==null?void 0:u.get(n);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let n=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,u){return this._emitter.emit(o,u)}on(o,u){return this._emitter.on(o,u)}once(o,u){return this._emitter.once(o,u)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return n=b([se("esri.core.Evented")],n),n};let r=class extends St{constructor(){super(...arguments),this._emitter=new hS.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,n){return this._emitter.emit(i,n)}on(i,n){return this._emitter.on(i,n)}once(i,n){return this._emitter.once(i,n)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=b([se("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(hS||(hS={}));const wl=hS;var Dr;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Dr||(Dr={}));function xN(e){return(t,r)=>{t[r]=e}}let cx=class extends cre{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var uh;let t$e=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},r$e=class{constructor(t,r,i,n,o){this.target=t,this.added=r,this.removed=i,this.start=n,this.deleteCount=o}};const xa=new C1(t$e,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function tG(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function CT(e){return e?e instanceof ih?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function ET(e){if(e!=null&&e.length)return e[0]}function i$e(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let o=0;for(;o<n&&e[r+o]===t[i+o];)o++;return o}function Mne(e,t,r,i){t&&t.forEach((n,o,u)=>{e.push(n),Mne(e,r.call(i,n,o,u),r,i)})}const Kh=new Set,Yh=new Set,Zh=new Set,IT=new Map;let n$e=0,ih=uh=class extends wl.EventedAccessor{static isCollection(e){return e!=null&&e instanceof uh}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new cx,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:n$e++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof uh?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return At(this._observable),this._items}set items(e){this._emitBeforeChanges(Dr.ADD)||(this._splice(0,this.length,CT(e)),this._emitAfterChanges(Dr.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Kr();if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),Kr(()=>{i.removed=!0,r.splice(r.indexOf(i),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,i=this.on(e,n=>{var o;(o=r())==null||o.call(null,n),i.remove()});return i}add(e,t){if(At(this._observable),this._emitBeforeChanges(Dr.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(Dr.ADD),this}addMany(e,t=this._items.length){if(At(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(Dr.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,CT(e)),this._emitAfterChanges(Dr.ADD),this}at(e){if(At(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(At(this._observable),!this.length||this._emitBeforeChanges(Dr.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(Dr.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return At(this._observable),this._createNewInstance({items:this._items.map(ve)})}concat(...e){At(this._observable);const t=e.map(CT);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(At(this._observable),!this.length||this._emitBeforeChanges(Dr.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(Dr.REMOVE)}destroyAll(){this.drain(tG)}destroyMany(e){const t=this.removeMany(e);return t.forEach(tG),t}every(e,t){return At(this._observable),this._items.every(e,t)}filter(e,t){let r;return At(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return At(this._observable),this._items.find(e,t)}findIndex(e,t){return At(this._observable),this._items.findIndex(e,t)}flatten(e,t){At(this._observable);const r=[];return Mne(r,this,e,t),new uh(r)}forEach(e,t){return At(this._observable),this._items.forEach(e,t)}getItemAt(e){return At(this._observable),this._items[e]}getNextIndex(e){At(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return At(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return At(this._observable),this._items.indexOf(e,t)}join(e=","){return At(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return At(this._observable),this._items.lastIndexOf(e,t)}map(e,t){At(this._observable);const r=this._items.map(e,t);return new uh({items:r})}reorder(e,t=this.length-1){At(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(Dr.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(Dr.MOVE)}return e}}pop(){if(At(this._observable),!this.length||this._emitBeforeChanges(Dr.REMOVE))return;const e=ET(this._splice(this.length-1,1));return this._emitAfterChanges(Dr.REMOVE),e}push(...e){return At(this._observable),this._emitBeforeChanges(Dr.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Dr.ADD)),this.length}reduce(e,t){At(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){At(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return At(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(At(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Dr.REMOVE))return;const t=ET(this._splice(e,1));return this._emitAfterChanges(Dr.REMOVE),t}removeMany(e){if(At(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(Dr.REMOVE))return[];const t=e instanceof uh?e.toArray():e,r=this._items,i=[],n=t.length;for(let o=0;o<n;o++){const u=t[o],f=r.indexOf(u);if(f>-1){const m=1+i$e(t,r,o+1,f+1),v=this._splice(f,m);v&&v.length>0&&i.push.apply(i,v),o+=m-1}}return this._emitAfterChanges(Dr.REMOVE),i}reverse(){if(At(this._observable),this._emitBeforeChanges(Dr.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Dr.MOVE),this}shift(){if(At(this._observable),!this.length||this._emitBeforeChanges(Dr.REMOVE))return;const e=ET(this._splice(0,1));return this._emitAfterChanges(Dr.REMOVE),e}slice(e=0,t=this.length){return At(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return At(this._observable),this._items.some(e,t)}sort(e){if(At(this._observable),!this.length||this._emitBeforeChanges(Dr.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Dr.MOVE),this}splice(e,t,...r){At(this._observable);const i=(t?Dr.REMOVE:0)|(r.length?Dr.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return At(this._observable),this._items.slice()}toJSON(){return At(this._observable),this.toArray()}toLocaleString(){return At(this._observable),this._items.toLocaleString()}toString(){return At(this._observable),this._items.toString()}unshift(...e){return At(this._observable),!e.length||this._emitBeforeChanges(Dr.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Dr.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let o,u;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Yg(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(u=i.splice(e,t),this.hasEventListener("before-remove")){const f=xa.acquire();f.target=this,f.cancellable=!0;for(let m=0,v=u.length;m<v;m++)o=u[m],f.reset(o),this.emit("before-remove",f),f.defaultPrevented&&(u.splice(m,1),i.splice(e,0,o),e+=1,m-=1,v-=1);xa.release(f)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const f=xa.acquire();f.target=this,f.cancellable=!1;const m=u.length;for(let v=0;v<m;v++)f.reset(u[v]),this.emit("after-remove",f);xa.release(f)}}if(r!=null&&r.length){if(n){const _=[];for(const $ of r){const T=n.ensureType($);T==null&&$!=null||_.push(T)}r=_}const f=this.hasEventListener("before-add"),m=this.hasEventListener("after-add"),v=e===this.length;if(f||m){const _=xa.acquire();_.target=this,_.cancellable=!0;const $=xa.acquire();$.target=this,$.cancellable=!1;for(const T of r)f?(_.reset(T),this.emit("before-add",_),_.defaultPrevented||(v?i.push(T):i.splice(e++,0,T),this._set("length",i.length),m&&($.reset(T),this.emit("after-add",$)))):(v?i.push(T):i.splice(e++,0,T),this._set("length",i.length),$.reset(T),this.emit("after-add",$));xa.release($),xa.release(_)}else{if(v)for(const _ of r)i.push(_);else i.splice(e,0,...r);this._set("length",i.length)}}if((r!=null&&r.length||u!=null&&u.length)&&this._notifyChangeEvent(r,u),this.hasEventListener("after-splice")){const f=new r$e(this,r,u,e,t);this.emit("after-splice",f)}return u}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=xa.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,xa.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=xa.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),xa.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Kh.clear(),Yh.clear(),Zh.clear();for(const{added:m,removed:v}of r){if(m)if(Zh.size===0&&Yh.size===0)for(const _ of m)Kh.add(_);else for(const _ of m)Yh.has(_)?(Zh.add(_),Yh.delete(_)):Zh.has(_)||Kh.add(_);if(v)if(Zh.size===0&&Kh.size===0)for(const _ of v)Yh.add(_);else for(const _ of v)Kh.has(_)?Kh.delete(_):(Zh.delete(_),Yh.add(_))}const i=to.acquire();Kh.forEach(m=>{i.push(m)});const n=to.acquire();Yh.forEach(m=>{n.push(m)});const o=this._items,u=t.items,f=to.acquire();if(Zh.forEach(m=>{u.indexOf(m)!==o.indexOf(m)&&f.push(m)}),t.listeners&&(i.length||n.length||f.length)){const m={target:this,added:i,removed:n,moved:f},v=t.listeners.length;for(let _=0;_<v;_++){const $=t.listeners[_];$.removed||$.callback.call(this,m)}}to.release(i),to.release(n),to.release(f)}Kh.clear(),Yh.clear(),Zh.clear()}};ih.ofType=e=>{if(!e)return uh;if(IT.has(e))return IT.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const n=e.typeMap[i].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends uh{};return b([xN({Type:e,ensureType:typeof e=="function"?xi(e):oc(e)})],r.prototype,"itemType",void 0),r=b([se(`esri.core.Collection<${t}>`)],r),IT.set(e,r),r},b([M()],ih.prototype,"_updating",void 0),b([M()],ih.prototype,"length",void 0),b([M()],ih.prototype,"items",null),b([M({readOnly:!0})],ih.prototype,"updating",null),ih=uh=b([se("esri.core.Collection")],ih);const ut=ih;function M_t(e,t,r){return _0(e.map((i,n)=>t.apply(r,[i,n])))}async function s$e(e,t,r){return(await _0(e.map((i,n)=>t.apply(r,[i,n])))).map(i=>i.value)}function _N(e){return{ok:!0,value:e}}function SN(e){return{ok:!1,error:e}}function o$e(e){return e!=null&&e.ok===!0?e.value:null}function a$e(e){return e!=null&&e.ok===!1?e.error:null}async function I7(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return _N(await e)}catch(t){return SN(t)}}async function l$e(e){try{return _N(await e)}catch(t){return Ga(t),SN(t)}}function $N(e,t){return new cd(e,t)}let cd=class extends St{get value(){return o$e(this._result)}get error(){return a$e(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=i1(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=t(i),this.promise.then(n=>{this._result=_N(n),this._cleanup()},n=>{this._result=SN(n),this._cleanup()}),this._abortHandle=nl(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=zi(this._abortHandle),this._abortController=null}};b([M()],cd.prototype,"value",null),b([M()],cd.prototype,"error",null),b([M()],cd.prototype,"finished",null),b([M()],cd.prototype,"promise",void 0),b([M()],cd.prototype,"_result",void 0),cd=b([se("esri.core.asyncUtils.ReactiveTask")],cd);let by=class extends ut{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(Cre(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const i of t)i!=null&&(r=this._processCollection(r,i));this.splice(r,this.length)}_createNewInstance(t){return new ut(t)}_processCollection(t,r){if(!r)return t;const i=this.itemFilterFunction??(n=>!!n);for(const n of r)if(n){if(i(n)){const o=this.indexOf(n,t);o>=0?o!==t&&this.reorder(n,t):this.add(n,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(n);if(Array.isArray(o))for(const u of o)t=this._processCollection(t,u);else t=this._processCollection(t,o)}}return t}};b([M()],by.prototype,"getCollections",void 0),b([M()],by.prototype,"getChildrenFunction",void 0),b([M()],by.prototype,"itemFilterFunction",void 0),by=b([se("esri.core.CollectionFlattener")],by);const u1=by;function lt(e,t,r={}){return MN(e,t,r,Tne)}function fa(e,t,r={}){return MN(e,t,r,kne)}function MN(e,t,r={},i){let n=null;const o=r.once?(u,f)=>{i(u)&&(zi(n),t(u,f))}:(u,f)=>{i(u)&&t(u,f)};if(n=z5e(e,o,r.sync,r.equals),r.initial){const u=e();o(u,u)}return n}function co(e,t,r,i={}){let n=null,o=null,u=null;function f(){var _;n&&o&&(o.remove(),(_=i.onListenerRemove)==null||_.call(i,n),n=null,o=null)}function m(_){i.once&&i.once&&zi(u),r(_)}const v=lt(e,(_,$)=>{var T;f(),y7(_)&&(n=_,o=rx(_,t,m),(T=i.onListenerAdd)==null||T.call(i,_))},{sync:i.sync,initial:!0});return u=Kr(()=>{v.remove(),f()}),u}function _g(e,t){return u$e(e,kne,t)}function u$e(e,t,r){if(Ih(r))return Promise.reject(pn());const i=e();if(t!=null&&t(i))return Promise.resolve(i);let n=null;function o(){n=zi(n)}return new Promise((u,f)=>{n=Q3([nl(r,()=>{o(),f(pn())}),MN(e,m=>{o(),u(m)},{sync:!1,once:!0},t??Tne)])})}function Tne(e){return!0}function kne(e){return!!e}function c$e(e,t,r={}){let i=!1;const n=lt(e,(o,u)=>{i||t(o,u)},r);return{remove(){n.remove()},pause(){i=!0},resume(){i=!1}}}const cs={sync:!0},ri={initial:!0},ta={sync:!0,initial:!0};let B4=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new cx,this._items=new Set}get length(){return At(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return At(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(i=>{t(i)||this._items.delete(i)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){At(this._observable),yield*this._items}};const Cne=new FinalizationRegistry(e=>{e.close()});function h$e(e,t){Cne.register(e,t,t)}function d$e(e){Cne.unregister(e)}function Ene(e,t){return new Proxy({},{get:(r,i,n)=>(...o)=>{let u,f;const m=o[o.length-1];return p$e(m)&&(u=m.signal,f=m.transferList,o.pop()),e.apply(t?`${t}.${i.toString()}`:i.toString(),o,{transferList:f,signal:u})}})}function p$e(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const f$e={statsWorker:()=>Ce(()=>import("./statsWorker-B8J3p4uG.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),geometryEngineWorker:()=>Ce(()=>import("./geometryEngineWorker-BXer3TFn.js"),__vite__mapDeps([5,6,7]),import.meta.url),CSVSourceWorker:()=>Ce(()=>import("./CSVSourceWorker-BvarMGdf.js"),__vite__mapDeps([8,9,7,10,11,12,13,14,15,16,17,18,19,20,21,1,2,3,4,22,23]),import.meta.url),EdgeProcessingWorker:()=>Ce(()=>import("./EdgeProcessingWorker-BB6YyOM3.js"),__vite__mapDeps([24,25,26,27,28,29,30,31,32,33,34]),import.meta.url),ElevationSamplerWorker:()=>Ce(()=>import("./ElevationSamplerWorker-5zqyD2PH.js"),__vite__mapDeps([35,16,36,37,38,39,40,41,42,43,44,45,26,46]),import.meta.url),FeatureServiceSnappingSourceWorker:()=>Ce(()=>import("./FeatureServiceSnappingSourceWorker-CzhsHqku.js"),__vite__mapDeps([47,12,13,10,11,14,15,16,17,7,18,19,20,21,1,2,3,4,48,49,50,51]),import.meta.url),GeoJSONSourceWorker:()=>Ce(()=>import("./GeoJSONSourceWorker-B-3CP5A9.js"),__vite__mapDeps([52,13,10,11,14,12,15,16,17,7,18,19,20,21,1,2,3,4,53,9,23,54]),import.meta.url),LercWorker:()=>Ce(()=>import("./LercWorker-DdVOR7hy.js"),[],import.meta.url),MemorySourceWorker:()=>Ce(()=>import("./MemorySourceWorker-C1WPTSti.js"),__vite__mapDeps([55,13,10,11,14,56,12,15,16,17,7,18,19,20,21,1,2,3,4,23,54,9]),import.meta.url),PBFDecoderWorker:()=>Ce(()=>import("./PBFDecoderWorker-Bh5tAGYJ.js"),__vite__mapDeps([57,13,10,11,14,48,49]),import.meta.url),FeaturePipelineWorker:()=>Ce(()=>import("./FeaturePipelineWorker-ttYu-4If.js"),__vite__mapDeps([58,59,60,61,62,63,33,64,34,65,66,67,28,68,20,69,70,71,11,72,73,17,13,10,14,7,74,75,76,77,78,79,80,18,19,21,1,2,3,4,50,48,49,81,53,9,23,54,82,83]),import.meta.url),PointCloudWorker:()=>Ce(()=>import("./PointCloudWorker-CUOr9vfy.js"),__vite__mapDeps([84,85,38,86,87,88,89,32,90,39,40,41,91]),import.meta.url),RasterWorker:()=>Ce(()=>import("./RasterWorker-B2n8puWT.js"),__vite__mapDeps([92,93,94,95,96,97]),import.meta.url),SceneLayerSnappingSourceWorker:()=>Ce(()=>import("./SceneLayerSnappingSourceWorker-D-KL3MSZ.js"),__vite__mapDeps([98,99,100,91,38,39,86,28,29,30,31,25,26,27,32,33,34]),import.meta.url),SceneLayerWorker:()=>Ce(()=>import("./SceneLayerWorker-BrVJe3i5.js"),__vite__mapDeps([101,45,36,43,100,91,38,39,86,102,40,89,32,103,104,105,67,90,85,41]),import.meta.url),WFSSourceWorker:()=>Ce(()=>import("./WFSSourceWorker-DyDjQMbL.js"),__vite__mapDeps([106,13,10,11,14,12,15,16,17,7,18,19,20,21,1,2,3,4,53,9,54,107,108]),import.meta.url),WorkerTileHandler:()=>Ce(()=>import("./WorkerTileHandler-3dt20xhy.js"),__vite__mapDeps([109,110,72,73,111,112,62,49,77,59,113,114,33,34,78,70]),import.meta.url),Lyr3DWorker:()=>Ce(()=>import("./Lyr3DWorker-1CK7N4bU.js"),[],import.meta.url)},Ine="worker:port-closed";var Hn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Hn||(Hn={}));let y$e=0;function Pne(){return y$e++}function m$e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function e3(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function TN(e,t,r,i){if(t.type===Hn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Hn.INVOKE&&t.type!==Hn.RESPONSE)return void e.postMessage(t);let n;if(m$e(r)?(n=rG(r.transferList),t.data=r.result):(n=rG(i),t.data=r),n){if(ke("ff")){for(const o of n)if("byteLength"in o&&o.byteLength>267386880){const u="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Hn.INVOKE:throw u;case Hn.RESPONSE:return void TN(e,{type:Hn.RESPONSE,jobId:t.jobId,error:e3(u)})}}}e.postMessage(t,n)}else e.postMessage(t)}function t3(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function rG(e){if(!(e!=null&&e.length))return null;if(ke("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!g$e(r));return t.length?t:null}function g$e(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function E_t(e){try{return await e}catch(t){const r=(t==null?void 0:t.name)===Ine;if(!(Vs(t)||r))throw t;return}}const{CLOSE:iG,ABORT:nG,INVOKE:sG,RESPONSE:Gv,OPEN_PORT:oG,ON:v$e}=Hn,b$e=2;let w$e=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Hn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Ap=class wy{static connect(t,r){const i=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const o=new wy(i.port1,{channel:i,client:n,schedule:r});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=o),wy.clients.set(o,n),i.port2}static loadWorker(t){const r=f$e[t];return r?r():Promise.resolve(null)}constructor(t,r,i){this._port=t,this._jobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new w$e(n=>this._onInvokeMessage(n)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:iG}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){const n=i==null?void 0:i.signal,o=i==null?void 0:i.transferList;if(!this._port)return Promise.reject(new be(Ine,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const u=Pne();return new Promise((f,m)=>{if(Ih(n))return this._processWork(),void m(pn());const v=nl(n,()=>{const $=this._outJobs.get(u);$&&(this._outJobs.delete(u),this._processWork(),zi($.abortHandle),this._post({type:nG,jobId:u}),m(pn()))}),_={resolve:f,reject:m,abortHandle:v,debugInfo:t};this._outJobs.set(u,_),this._post({type:sG,jobId:u,methodName:t,abortable:n!=null},r,o)})}createInvokeProxy(t){return Ene(this,t)}on(t,r){const i=new MessageChannel;function n(o){r(o.data)}return this._port.postMessage({type:Hn.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",n),i.port1.start(),Kr(()=>{i.port1.postMessage({type:Hn.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:oG,port:t.port2}),t.port1}_processWork(){var u;if(this._outJobs.size>=b$e)return;const t=(u=this._jobQueue)==null?void 0:u.pop();if(!t)return;const{methodName:r,data:i,invokeOptions:n,resolver:o}=t;this.apply(r,i,n).then(f=>o.resolve(f)).catch(f=>o.reject(f))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{zi(t.abortHandle),t.reject(pn(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const i=t3(t);if(i)switch(i.type){case Gv:this._onResponseMessage(i);break;case sG:r?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case nG:this._onAbortMessage(i);break;case iG:this._onCloseMessage();break;case oG:this._onOpenPortMessage(i);break;case v$e:this._onOnMessage(i)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),r.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&wy.clients.get(this)===t&&t.destroy(),wy.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n=[],abortable:o}=t,u=o?new AbortController:null,f=this._inJobs;let m,v=this._client,_=v[r];try{if(!_&&r&&r.includes(".")){const $=r.split(".");for(let T=0;T<$.length-1;T++)v=v[$[T]],_=v[$[T+1]]}if(typeof _!="function")throw new TypeError(`${r} is not a function`);n.push({client:this,signal:u?u.signal:null}),m=_.apply(v,n)}catch($){return void this._post({type:Gv,jobId:i,error:e3($)})}Wp(m)?(f.set(i,{controller:u,promise:m}),m.then($=>{f.has(i)&&(f.delete(i),this._post({type:Gv,jobId:i},$))},$=>{f.has(i)&&(f.delete(i),Vs($)||this._post({type:Gv,jobId:i,error:e3($||{message:`Error encountered at method ${r}`})}))})):this._post({type:Gv,jobId:i},m)}_onOpenPortMessage(t){new wy(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,i=this._client.on(t.eventType,o=>{r.postMessage(o)}),n=rx(t.port,"message",o=>{const u=t3(o);(u==null?void 0:u.type)===Hn.CLOSE&&(n.remove(),i.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,o=this._outJobs;if(!o.has(r))return;const u=o.get(r);o.delete(r),this._processWork(),zi(u.abortHandle),i?u.reject(be.fromJSON(JSON.parse(i))):u.resolve(n)}_post(t,r,i){return TN(this._port,t,r,i)}};Ap.kernelInfo={buildDate:Cie,fullVersion:lN,revision:Eie},Ap.clients=new Map;let x$e=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new B4}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,r){return new Promise((i,n)=>{let o=!0;const u=f=>{Zr(r.signal),o&&(o=!1,f())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let f=0;f<t.length;++f){const m=t[f];Wp(m)?this._clientPromises[f]=m.then(v=>(this._clients[f]=new Ap(v,r,this._ongoingJobsQueue),u(i),this._clients[f]),()=>(u(n),null)):(this._clients[f]=new Ap(m,r,this._ongoingJobsQueue),this._clientPromises[f]=Promise.resolve(this._clients[f]),u(i))}})}broadcast(t,r,i){const n=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const u=this._clientPromises[o];n[o]=u.then(f=>f==null?void 0:f.invoke(t,r,i))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(pn(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(i=>i==null?void 0:i.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,d$e(this)}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){const n=da();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,resolver:n});for(let o=0;o<this._clientPromises.length;o++){const u=this._clients[o];u?u.jobAdded():this._clientPromises[o].then(f=>f==null?void 0:f.jobAdded())}return n.promise}createInvokeProxy(t){return Ene(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>Q3(this._clients.map(i=>i.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let i=r.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(o=>{o&&(r[n]=o.openPort()),--i==0&&t(r)})})}get test(){}};const _$e={async request(e,t){var u,f;const r=e.options,i=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=i==="native"||i==="native-request-init"?"native-request-init":i&&["blob","json","text"].includes(i)&&((u=oI(e.url))!=null&&u.after)?i:"array-buffer";const n=await Jr(e.url,r),o={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch((f=n.requestOptions)==null?void 0:f.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=new TextEncoder().encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=new TextEncoder().encode(o.data).buffer}return{result:o,transferList:[o.data]}}};let X2;var yX,mX;const S$e=((yX=globalThis.esriConfig)==null?void 0:yX.locale)??((mX=globalThis.dojoConfig)==null?void 0:mX.locale);function One(){var e;return S$e??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function ua(){return X2===void 0&&(X2=One()),X2}function $$e(e=ua()){const t=/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const dS=[];function kN(e){return dS.push(e),Kr(()=>dS.splice(dS.indexOf(e),1))}const pS=[];function CN(e){return pS.push(e),Kr(()=>pS.splice(pS.indexOf(e),1))}function M$e(){const e=One();X2!==e&&([...pS].forEach(t=>t(e)),X2=e,[...dS].forEach(t=>t(e)))}var gX;(gX=globalThis.addEventListener)==null||gX.call(globalThis,"languagechange",M$e);const aG=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class P1 extends Error{}class T$e extends P1{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class k$e extends P1{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class C$e extends P1{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class gm extends P1{}class Ane extends P1{constructor(t){super(`Invalid unit ${t}`)}}class Eo extends P1{}class Xh extends P1{constructor(){super("Zone is an abstract class")}}const dt="numeric",lu="short",ca="long",V4={year:dt,month:dt,day:dt},jne={year:dt,month:lu,day:dt},E$e={year:dt,month:lu,day:dt,weekday:lu},Rne={year:dt,month:ca,day:dt},Lne={year:dt,month:ca,day:dt,weekday:ca},Nne={hour:dt,minute:dt},Fne={hour:dt,minute:dt,second:dt},Dne={hour:dt,minute:dt,second:dt,timeZoneName:lu},zne={hour:dt,minute:dt,second:dt,timeZoneName:ca},Bne={hour:dt,minute:dt,hourCycle:"h23"},Vne={hour:dt,minute:dt,second:dt,hourCycle:"h23"},Une={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:lu},Gne={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:ca},qne={year:dt,month:dt,day:dt,hour:dt,minute:dt},Hne={year:dt,month:dt,day:dt,hour:dt,minute:dt,second:dt},Wne={year:dt,month:lu,day:dt,hour:dt,minute:dt},Jne={year:dt,month:lu,day:dt,hour:dt,minute:dt,second:dt},I$e={year:dt,month:lu,day:dt,weekday:lu,hour:dt,minute:dt},Kne={year:dt,month:ca,day:dt,hour:dt,minute:dt,timeZoneName:lu},Yne={year:dt,month:ca,day:dt,hour:dt,minute:dt,second:dt,timeZoneName:lu},Zne={year:dt,month:ca,day:dt,weekday:ca,hour:dt,minute:dt,timeZoneName:ca},Xne={year:dt,month:ca,day:dt,weekday:ca,hour:dt,minute:dt,second:dt,timeZoneName:ca};class Qg{get type(){throw new Xh}get name(){throw new Xh}get ianaName(){return this.name}get isUniversal(){throw new Xh}offsetName(t,r){throw new Xh}formatOffset(t,r){throw new Xh}offset(t){throw new Xh}equals(t){throw new Xh}get isValid(){throw new Xh}}let PT=null;class P7 extends Qg{static get instance(){return PT===null&&(PT=new P7),PT}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return ase(t,r,i)}formatOffset(t,r){return Q2(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let fS={};function P$e(e){return fS[e]||(fS[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),fS[e]}const O$e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function A$e(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,o,u,f,m,v,_]=i;return[u,n,o,f,m,v,_]}function j$e(e,t){const r=e.formatToParts(t),i=[];for(let n=0;n<r.length;n++){const{type:o,value:u}=r[n],f=O$e[o];o==="era"?i[f]=u:Zt(f)||(i[f]=parseInt(u,10))}return i}let T_={};class ya extends Qg{static create(t){return T_[t]||(T_[t]=new ya(t)),T_[t]}static resetCache(){T_={},fS={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ya.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return ase(t,r,i,this.name)}formatOffset(t,r){return Q2(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const i=P$e(this.name);let[n,o,u,f,m,v,_]=i.formatToParts?j$e(i,r):A$e(i,r);f==="BC"&&(n=-Math.abs(n)+1);const T=A7({year:n,month:o,day:u,hour:m===24?0:m,minute:v,second:_,millisecond:0});let I=+r;const O=I%1e3;return I-=O>=0?O:1e3+O,(T-I)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let lG={};function R$e(e,t={}){const r=JSON.stringify([e,t]);let i=lG[r];return i||(i=new Intl.ListFormat(e,t),lG[r]=i),i}let TI={};function kI(e,t={}){const r=JSON.stringify([e,t]);let i=TI[r];return i||(i=new Intl.DateTimeFormat(e,t),TI[r]=i),i}let CI={};function L$e(e,t={}){const r=JSON.stringify([e,t]);let i=CI[r];return i||(i=new Intl.NumberFormat(e,t),CI[r]=i),i}let EI={};function N$e(e,t={}){const{base:r,...i}=t,n=JSON.stringify([e,i]);let o=EI[n];return o||(o=new Intl.RelativeTimeFormat(e,t),EI[n]=o),o}let Ab=null;function F$e(){return Ab||(Ab=new Intl.DateTimeFormat().resolvedOptions().locale,Ab)}let uG={};function D$e(e){let t=uG[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,uG[e]=t}return t}function z$e(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let i,n;try{i=kI(e).resolvedOptions(),n=e}catch{const m=e.substring(0,r);i=kI(m).resolvedOptions(),n=m}const{numberingSystem:o,calendar:u}=i;return[n,o,u]}}function B$e(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function V$e(e){const t=[];for(let r=1;r<=12;r++){const i=qt.utc(2009,r,1);t.push(e(i))}return t}function U$e(e){const t=[];for(let r=1;r<=7;r++){const i=qt.utc(2016,11,13+r);t.push(e(i))}return t}function k_(e,t,r,i){const n=e.listingMode();return n==="error"?null:n==="en"?r(t):i(t)}function G$e(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class q$e{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:o,...u}=i;if(!r||Object.keys(u).length>0){const f={useGrouping:!1,...i};i.padTo>0&&(f.minimumIntegerDigits=i.padTo),this.inf=L$e(t,f)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):ON(t,3);return wn(r,this.padTo)}}}class H$e{constructor(t,r,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const u=-1*(t.offset/60),f=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;t.offset!==0&&ya.create(f).valid?(n=f,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=kI(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class W$e{constructor(t,r,i){this.opts={style:"long",...i},!r&&sse()&&(this.rtf=N$e(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):p7e(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const J$e={firstDay:1,minimalDays:4,weekend:[6,7]};class oi{static fromOpts(t){return oi.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,n,o=!1){const u=t||hn.defaultLocale,f=u||(o?"en-US":F$e()),m=r||hn.defaultNumberingSystem,v=i||hn.defaultOutputCalendar,_=II(n)||hn.defaultWeekSettings;return new oi(f,m,v,_,u)}static resetCache(){Ab=null,TI={},CI={},EI={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:n}={}){return oi.create(t,r,i,n)}constructor(t,r,i,n,o){const[u,f,m]=z$e(t);this.locale=u,this.numberingSystem=r||f||null,this.outputCalendar=i||m||null,this.weekSettings=n,this.intl=B$e(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=G$e(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:oi.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,II(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return k_(this,t,cse,()=>{const i=r?{month:t,day:"numeric"}:{month:t},n=r?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=V$e(o=>this.extract(o,i,"month"))),this.monthsCache[n][t]})}weekdays(t,r=!1){return k_(this,t,pse,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=r?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=U$e(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return k_(this,void 0,()=>fse,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[qt.utc(2016,11,13,9),qt.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return k_(this,t,yse,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[qt.utc(-40,1,1),qt.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,r,i){const n=this.dtFormatter(t,r),o=n.formatToParts(),u=o.find(f=>f.type.toLowerCase()===i);return u?u.value:null}numberFormatter(t={}){return new q$e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new H$e(t,this.intl,r)}relFormatter(t={}){return new W$e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return R$e(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ose()?D$e(this.locale):J$e}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let OT=null;class Jn extends Qg{static get utcInstance(){return OT===null&&(OT=new Jn(0)),OT}static instance(t){return t===0?Jn.utcInstance:new Jn(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Jn(j7(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Q2(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Q2(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Q2(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class K$e extends Qg{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Zd(e,t){if(Zt(e)||e===null)return t;if(e instanceof Qg)return e;if(X$e(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?P7.instance:r==="utc"||r==="gmt"?Jn.utcInstance:Jn.parseSpecifier(r)||ya.create(e)}else return D0(e)?Jn.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new K$e(e)}let cG=()=>Date.now(),hG="system",dG=null,pG=null,fG=null,yG=60,mG,gG=null;class hn{static get now(){return cG}static set now(t){cG=t}static set defaultZone(t){hG=t}static get defaultZone(){return Zd(hG,P7.instance)}static get defaultLocale(){return dG}static set defaultLocale(t){dG=t}static get defaultNumberingSystem(){return pG}static set defaultNumberingSystem(t){pG=t}static get defaultOutputCalendar(){return fG}static set defaultOutputCalendar(t){fG=t}static get defaultWeekSettings(){return gG}static set defaultWeekSettings(t){gG=II(t)}static get twoDigitCutoffYear(){return yG}static set twoDigitCutoffYear(t){yG=t%100}static get throwOnInvalid(){return mG}static set throwOnInvalid(t){mG=t}static resetCaches(){oi.resetCache(),ya.resetCache()}}class Ql{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Qne=[0,31,59,90,120,151,181,212,243,273,304,334],ese=[0,31,60,91,121,152,182,213,244,274,305,335];function el(e,t){return new Ql("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function EN(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function tse(e,t,r){return r+(hx(e)?ese:Qne)[t-1]}function rse(e,t){const r=hx(e)?ese:Qne,i=r.findIndex(o=>o<t),n=t-r[i];return{month:i+1,day:n}}function IN(e,t){return(e-t+7)%7+1}function U4(e,t=4,r=1){const{year:i,month:n,day:o}=e,u=tse(i,n,o),f=IN(EN(i,n,o),r);let m=Math.floor((u-f+14-t)/7),v;return m<1?(v=i-1,m=r3(v,t,r)):m>r3(i,t,r)?(v=i+1,m=1):v=i,{weekYear:v,weekNumber:m,weekday:f,...R7(e)}}function vG(e,t=4,r=1){const{weekYear:i,weekNumber:n,weekday:o}=e,u=IN(EN(i,1,t),r),f=Fm(i);let m=n*7+o-u-7+t,v;m<1?(v=i-1,m+=Fm(v)):m>f?(v=i+1,m-=Fm(i)):v=i;const{month:_,day:$}=rse(v,m);return{year:v,month:_,day:$,...R7(e)}}function AT(e){const{year:t,month:r,day:i}=e,n=tse(t,r,i);return{year:t,ordinal:n,...R7(e)}}function bG(e){const{year:t,ordinal:r}=e,{month:i,day:n}=rse(t,r);return{year:t,month:i,day:n,...R7(e)}}function wG(e,t){if(!Zt(e.localWeekday)||!Zt(e.localWeekNumber)||!Zt(e.localWeekYear)){if(!Zt(e.weekday)||!Zt(e.weekNumber)||!Zt(e.weekYear))throw new gm("Cannot mix locale-based week fields with ISO-based week fields");return Zt(e.localWeekday)||(e.weekday=e.localWeekday),Zt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Zt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Y$e(e,t=4,r=1){const i=O7(e.weekYear),n=tl(e.weekNumber,1,r3(e.weekYear,t,r)),o=tl(e.weekday,1,7);return i?n?o?!1:el("weekday",e.weekday):el("week",e.weekNumber):el("weekYear",e.weekYear)}function Z$e(e){const t=O7(e.year),r=tl(e.ordinal,1,Fm(e.year));return t?r?!1:el("ordinal",e.ordinal):el("year",e.year)}function ise(e){const t=O7(e.year),r=tl(e.month,1,12),i=tl(e.day,1,G4(e.year,e.month));return t?r?i?!1:el("day",e.day):el("month",e.month):el("year",e.year)}function nse(e){const{hour:t,minute:r,second:i,millisecond:n}=e,o=tl(t,0,23)||t===24&&r===0&&i===0&&n===0,u=tl(r,0,59),f=tl(i,0,59),m=tl(n,0,999);return o?u?f?m?!1:el("millisecond",n):el("second",i):el("minute",r):el("hour",t)}function Zt(e){return typeof e>"u"}function D0(e){return typeof e=="number"}function O7(e){return typeof e=="number"&&e%1===0}function X$e(e){return typeof e=="string"}function Q$e(e){return Object.prototype.toString.call(e)==="[object Date]"}function sse(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ose(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function e7e(e){return Array.isArray(e)?e:[e]}function xG(e,t,r){if(e.length!==0)return e.reduce((i,n)=>{const o=[t(n),n];return i&&r(i[0],o[0])===i[0]?i:o},null)[1]}function t7e(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function Sg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function II(e){if(e==null)return null;if(typeof e!="object")throw new Eo("Week settings must be an object");if(!tl(e.firstDay,1,7)||!tl(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!tl(t,1,7)))throw new Eo("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function tl(e,t,r){return O7(e)&&e>=t&&e<=r}function r7e(e,t){return e-t*Math.floor(e/t)}function wn(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Bd(e){if(!(Zt(e)||e===null||e===""))return parseInt(e,10)}function of(e){if(!(Zt(e)||e===null||e===""))return parseFloat(e)}function PN(e){if(!(Zt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function ON(e,t,r=!1){const i=10**t;return(r?Math.trunc:Math.round)(e*i)/i}function hx(e){return e%4===0&&(e%100!==0||e%400===0)}function Fm(e){return hx(e)?366:365}function G4(e,t){const r=r7e(t-1,12)+1,i=e+(t-r)/12;return r===2?hx(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function A7(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function _G(e,t,r){return-IN(EN(e,1,t),r)+t-1}function r3(e,t=4,r=1){const i=_G(e,t,r),n=_G(e+1,t,r);return(Fm(e)-i+n)/7}function PI(e){return e>99?e:e>hn.twoDigitCutoffYear?1900+e:2e3+e}function ase(e,t,r,i=null){const n=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);const u={timeZoneName:t,...o},f=new Intl.DateTimeFormat(r,u).formatToParts(n).find(m=>m.type.toLowerCase()==="timezonename");return f?f.value:null}function j7(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function lse(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Eo(`Invalid unit value ${e}`);return t}function q4(e,t){const r={};for(const i in e)if(Sg(e,i)){const n=e[i];if(n==null)continue;r[t(i)]=lse(n)}return r}function Q2(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${wn(r,2)}:${wn(i,2)}`;case"narrow":return`${n}${r}${i>0?`:${i}`:""}`;case"techie":return`${n}${wn(r,2)}${wn(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function R7(e){return t7e(e,["hour","minute","second","millisecond"])}const i7e=["January","February","March","April","May","June","July","August","September","October","November","December"],use=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n7e=["J","F","M","A","M","J","J","A","S","O","N","D"];function cse(e){switch(e){case"narrow":return[...n7e];case"short":return[...use];case"long":return[...i7e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hse=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dse=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s7e=["M","T","W","T","F","S","S"];function pse(e){switch(e){case"narrow":return[...s7e];case"short":return[...dse];case"long":return[...hse];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const fse=["AM","PM"],o7e=["Before Christ","Anno Domini"],a7e=["BC","AD"],l7e=["B","A"];function yse(e){switch(e){case"narrow":return[...l7e];case"short":return[...a7e];case"long":return[...o7e];default:return null}}function u7e(e){return fse[e.hour<12?0:1]}function c7e(e,t){return pse(t)[e.weekday-1]}function h7e(e,t){return cse(t)[e.month-1]}function d7e(e,t){return yse(t)[e.year<0?0:1]}function p7e(e,t,r="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const $=e==="days";switch(t){case 1:return $?"tomorrow":`next ${n[e][0]}`;case-1:return $?"yesterday":`last ${n[e][0]}`;case 0:return $?"today":`this ${n[e][0]}`}}const u=Object.is(t,-0)||t<0,f=Math.abs(t),m=f===1,v=n[e],_=i?m?v[1]:v[2]||v[1]:m?n[e][0]:e;return u?`${f} ${_} ago`:`in ${f} ${_}`}function SG(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const f7e={D:V4,DD:jne,DDD:Rne,DDDD:Lne,t:Nne,tt:Fne,ttt:Dne,tttt:zne,T:Bne,TT:Vne,TTT:Une,TTTT:Gne,f:qne,ff:Wne,fff:Kne,ffff:Zne,F:Hne,FF:Jne,FFF:Yne,FFFF:Xne};class js{static create(t,r={}){return new js(t,r)}static parseFormat(t){let r=null,i="",n=!1;const o=[];for(let u=0;u<t.length;u++){const f=t.charAt(u);f==="'"?(i.length>0&&o.push({literal:n||/^\s+$/.test(i),val:i}),r=null,i="",n=!n):n||f===r?i+=f:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=f,r=f)}return i.length>0&&o.push({literal:n||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(t){return f7e[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return wn(t,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(I,O)=>this.loc.extract(t,I,O),u=I=>t.isOffsetFixed&&t.offset===0&&I.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,I.format):"",f=()=>i?u7e(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),m=(I,O)=>i?h7e(t,I):o(O?{month:I}:{month:I,day:"numeric"},"month"),v=(I,O)=>i?c7e(t,I):o(O?{weekday:I}:{weekday:I,month:"long",day:"numeric"},"weekday"),_=I=>{const O=js.macroTokenToFormatOpts(I);return O?this.formatWithSystemDefault(t,O):I},$=I=>i?d7e(t,I):o({era:I},"era"),T=I=>{switch(I){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return f();case"d":return n?o({day:"numeric"},"day"):this.num(t.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return v("short",!0);case"cccc":return v("long",!0);case"ccccc":return v("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return v("short",!1);case"EEEE":return v("long",!1);case"EEEEE":return v("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return m("short",!0);case"LLLL":return m("long",!0);case"LLLLL":return m("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(t.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return m("short",!1);case"MMMM":return m("long",!1);case"MMMMM":return m("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(t.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return $("short");case"GG":return $("long");case"GGGGG":return $("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return _(I)}};return SG(js.parseFormat(r),T)}formatDurationFromString(t,r){const i=m=>{switch(m[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=m=>v=>{const _=i(v);return _?this.num(m.get(_),v.length):v},o=js.parseFormat(r),u=o.reduce((m,{literal:v,val:_})=>v?m:m.concat(_),[]),f=t.shiftTo(...u.map(i).filter(m=>m));return SG(o,n(f))}}const mse=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ev(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function tv(...e){return t=>e.reduce(([r,i,n],o)=>{const[u,f,m]=o(t,n);return[{...r,...u},f||i,m]},[{},null,1]).slice(0,2)}function rv(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const n=r.exec(e);if(n)return i(n)}return[null,null]}function gse(...e){return(t,r)=>{const i={};let n;for(n=0;n<e.length;n++)i[e[n]]=Bd(t[r+n]);return[i,null,r+n]}}const vse=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,y7e=`(?:${vse.source}?(?:\\[(${mse.source})\\])?)?`,AN=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bse=RegExp(`${AN.source}${y7e}`),jN=RegExp(`(?:T${bse.source})?`),m7e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,g7e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,v7e=/(\d{4})-?(\d{3})/,b7e=gse("weekYear","weekNumber","weekDay"),w7e=gse("year","ordinal"),x7e=/(\d{4})-(\d\d)-(\d\d)/,wse=RegExp(`${AN.source} ?(?:${vse.source}|(${mse.source}))?`),_7e=RegExp(`(?: ${wse.source})?`);function Dm(e,t,r){const i=e[t];return Zt(i)?r:Bd(i)}function S7e(e,t){return[{year:Dm(e,t),month:Dm(e,t+1,1),day:Dm(e,t+2,1)},null,t+3]}function iv(e,t){return[{hours:Dm(e,t,0),minutes:Dm(e,t+1,0),seconds:Dm(e,t+2,0),milliseconds:PN(e[t+3])},null,t+4]}function dx(e,t){const r=!e[t]&&!e[t+1],i=j7(e[t+1],e[t+2]),n=r?null:Jn.instance(i);return[{},n,t+3]}function px(e,t){const r=e[t]?ya.create(e[t]):null;return[{},r,t+1]}const $7e=RegExp(`^T?${AN.source}$`),M7e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function T7e(e){const[t,r,i,n,o,u,f,m,v]=e,_=t[0]==="-",$=m&&m[0]==="-",T=(I,O=!1)=>I!==void 0&&(O||I&&_)?-I:I;return[{years:T(of(r)),months:T(of(i)),weeks:T(of(n)),days:T(of(o)),hours:T(of(u)),minutes:T(of(f)),seconds:T(of(m),m==="-0"),milliseconds:T(PN(v),$)}]}const k7e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function RN(e,t,r,i,n,o,u){const f={year:t.length===2?PI(Bd(t)):Bd(t),month:use.indexOf(r)+1,day:Bd(i),hour:Bd(n),minute:Bd(o)};return u&&(f.second=Bd(u)),e&&(f.weekday=e.length>3?hse.indexOf(e)+1:dse.indexOf(e)+1),f}const C7e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function E7e(e){const[,t,r,i,n,o,u,f,m,v,_,$]=e,T=RN(t,n,i,r,o,u,f);let I;return m?I=k7e[m]:v?I=0:I=j7(_,$),[T,new Jn(I)]}function I7e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const P7e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,O7e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,A7e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function $G(e){const[,t,r,i,n,o,u,f]=e;return[RN(t,n,i,r,o,u,f),Jn.utcInstance]}function j7e(e){const[,t,r,i,n,o,u,f]=e;return[RN(t,f,r,i,n,o,u),Jn.utcInstance]}const R7e=ev(m7e,jN),L7e=ev(g7e,jN),N7e=ev(v7e,jN),F7e=ev(bse),xse=tv(S7e,iv,dx,px),D7e=tv(b7e,iv,dx,px),z7e=tv(w7e,iv,dx,px),B7e=tv(iv,dx,px);function V7e(e){return rv(e,[R7e,xse],[L7e,D7e],[N7e,z7e],[F7e,B7e])}function U7e(e){return rv(I7e(e),[C7e,E7e])}function G7e(e){return rv(e,[P7e,$G],[O7e,$G],[A7e,j7e])}function q7e(e){return rv(e,[M7e,T7e])}const H7e=tv(iv);function W7e(e){return rv(e,[$7e,H7e])}const J7e=ev(x7e,_7e),K7e=ev(wse),Y7e=tv(iv,dx,px);function Z7e(e){return rv(e,[J7e,xse],[K7e,Y7e])}const MG="Invalid Duration",_se={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},X7e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._se},_a=146097/400,Z1=146097/4800,Q7e={years:{quarters:4,months:12,weeks:_a/7,days:_a,hours:_a*24,minutes:_a*24*60,seconds:_a*24*60*60,milliseconds:_a*24*60*60*1e3},quarters:{months:3,weeks:_a/28,days:_a/4,hours:_a*24/4,minutes:_a*24*60/4,seconds:_a*24*60*60/4,milliseconds:_a*24*60*60*1e3/4},months:{weeks:Z1/7,days:Z1,hours:Z1*24,minutes:Z1*24*60,seconds:Z1*24*60*60,milliseconds:Z1*24*60*60*1e3},..._se},S0=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],e8e=S0.slice(0).reverse();function Qh(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Lr(i)}function Sse(e,t){let r=t.milliseconds??0;for(const i of e8e.slice(1))t[i]&&(r+=t[i]*e[i].milliseconds);return r}function TG(e,t){const r=Sse(e,t)<0?-1:1;S0.reduceRight((i,n)=>{if(Zt(t[n]))return i;if(i){const o=t[i]*r,u=e[n][i],f=Math.floor(o/u);t[n]+=f*r,t[i]-=f*u*r}return n},null),S0.reduce((i,n)=>{if(Zt(t[n]))return i;if(i){const o=t[i]%1;t[i]-=o,t[n]+=o*e[i][n]}return n},null)}function t8e(e){const t={};for(const[r,i]of Object.entries(e))i!==0&&(t[r]=i);return t}class Lr{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let i=r?Q7e:X7e;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||oi.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return Lr.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Eo(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Lr({values:q4(t,Lr.normalizeUnit),loc:oi.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(D0(t))return Lr.fromMillis(t);if(Lr.isDuration(t))return t;if(typeof t=="object")return Lr.fromObject(t);throw new Eo(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=q7e(t);return i?Lr.fromObject(i,r):Lr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=W7e(t);return i?Lr.fromObject(i,r):Lr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Eo("need to specify a reason the Duration is invalid");const i=t instanceof Ql?t:new Ql(t,r);if(hn.throwOnInvalid)throw new C$e(i);return new Lr({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new Ane(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?js.create(this.loc,i).formatDurationFromString(this,t):MG}toHuman(t={}){if(!this.isValid)return MG;const r=S0.map(i=>{const n=this.values[i];return Zt(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=ON(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},qt.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Sse(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Lr.fromDurationLike(t),i={};for(const n of S0)(Sg(r.values,n)||Sg(this.values,n))&&(i[n]=r.get(n)+this.get(n));return Qh(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=Lr.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=lse(t(this.values[i],i));return Qh(this,{values:r},!0)}get(t){return this[Lr.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...q4(t,Lr.normalizeUnit)};return Qh(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:n}={}){const u={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:n,conversionAccuracy:i};return Qh(this,u)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return TG(this.matrix,t),Qh(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=t8e(this.normalize().shiftToAll().toObject());return Qh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(u=>Lr.normalizeUnit(u));const r={},i={},n=this.toObject();let o;for(const u of S0)if(t.indexOf(u)>=0){o=u;let f=0;for(const v in i)f+=this.matrix[v][u]*i[v],i[v]=0;D0(n[u])&&(f+=n[u]);const m=Math.trunc(f);r[u]=m,i[u]=(f*1e3-m*1e3)/1e3}else D0(n[u])&&(i[u]=n[u]);for(const u in i)i[u]!==0&&(r[o]+=u===o?i[u]:i[u]/this.matrix[o][u]);return TG(this.matrix,r),Qh(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Qh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of S0)if(!r(this.values[i],t.values[i]))return!1;return!0}}const X1="Invalid Interval";function r8e(e,t){return!e||!e.isValid?rn.invalid("missing or invalid start"):!t||!t.isValid?rn.invalid("missing or invalid end"):t<e?rn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class rn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Eo("need to specify a reason the Interval is invalid");const i=t instanceof Ql?t:new Ql(t,r);if(hn.throwOnInvalid)throw new k$e(i);return new rn({invalid:i})}static fromDateTimes(t,r){const i=Hv(t),n=Hv(r),o=r8e(i,n);return o??new rn({start:i,end:n})}static after(t,r){const i=Lr.fromDurationLike(r),n=Hv(t);return rn.fromDateTimes(n,n.plus(i))}static before(t,r){const i=Lr.fromDurationLike(r),n=Hv(t);return rn.fromDateTimes(n.minus(i),n)}static fromISO(t,r){const[i,n]=(t||"").split("/",2);if(i&&n){let o,u;try{o=qt.fromISO(i,r),u=o.isValid}catch{u=!1}let f,m;try{f=qt.fromISO(n,r),m=f.isValid}catch{m=!1}if(u&&m)return rn.fromDateTimes(o,f);if(u){const v=Lr.fromISO(n,r);if(v.isValid)return rn.after(o,v)}else if(m){const v=Lr.fromISO(i,r);if(v.isValid)return rn.before(f,v)}}return rn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(t,r);let n;return r!=null&&r.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,r),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?rn.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Hv).filter(u=>this.contains(u)).sort((u,f)=>u.toMillis()-f.toMillis()),i=[];let{s:n}=this,o=0;for(;n<this.e;){const u=r[o]||this.e,f=+u>+this.e?this.e:u;i.push(rn.fromDateTimes(n,f)),n=f,o+=1}return i}splitBy(t){const r=Lr.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,n=1,o;const u=[];for(;i<this.e;){const f=this.start.plus(r.mapUnits(m=>m*n));o=+f>+this.e?this.e:f,u.push(rn.fromDateTimes(i,o)),i=o,n+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:rn.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return rn.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((n,o)=>n.s-o.s).reduce(([n,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[n,o.union(u)]:[n.concat([o]),u]:[n,u],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const n=[],o=t.map(m=>[{time:m.s,type:"s"},{time:m.e,type:"e"}]),u=Array.prototype.concat(...o),f=u.sort((m,v)=>m.time-v.time);for(const m of f)i+=m.type==="s"?1:-1,i===1?r=m.time:(r&&+r!=+m.time&&n.push(rn.fromDateTimes(r,m.time)),r=null);return rn.merge(n)}difference(...t){return rn.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:X1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=V4,r={}){return this.isValid?js.create(this.s.loc.clone(r),t).formatInterval(this):X1}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:X1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:X1}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:X1}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:X1}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Lr.invalid(this.invalidReason)}mapEndpoints(t){return rn.fromDateTimes(t(this.s),t(this.e))}}class C_{static hasDST(t=hn.defaultZone){const r=qt.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ya.isValidZone(t)}static normalizeZone(t){return Zd(t,hn.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||oi.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||oi.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||oi.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||oi.create(r,i,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||oi.create(r,i,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||oi.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||oi.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return oi.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return oi.create(r,null,"gregory").eras(t)}static features(){return{relative:sse(),localeWeek:ose()}}}function kG(e,t){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(Lr.fromMillis(i).as("days"))}function i8e(e,t,r){const i=[["years",(m,v)=>v.year-m.year],["quarters",(m,v)=>v.quarter-m.quarter+(v.year-m.year)*4],["months",(m,v)=>v.month-m.month+(v.year-m.year)*12],["weeks",(m,v)=>{const _=kG(m,v);return(_-_%7)/7}],["days",kG]],n={},o=e;let u,f;for(const[m,v]of i)r.indexOf(m)>=0&&(u=m,n[m]=v(e,t),f=o.plus(n),f>t?(n[m]--,e=o.plus(n),e>t&&(f=e,n[m]--,e=o.plus(n))):e=f);return[e,n,f,u]}function n8e(e,t,r,i){let[n,o,u,f]=i8e(e,t,r);const m=t-n,v=r.filter($=>["hours","minutes","seconds","milliseconds"].indexOf($)>=0);v.length===0&&(u<t&&(u=n.plus({[f]:1})),u!==n&&(o[f]=(o[f]||0)+m/(u-n)));const _=Lr.fromObject(o,i);return v.length>0?Lr.fromMillis(m,i).shiftTo(...v).plus(_):_}const LN={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},CG={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},s8e=LN.hanidec.replace(/[\[|\]]/g,"").split("");function o8e(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(LN.hanidec)!==-1)t+=s8e.indexOf(e[r]);else for(const n in CG){const[o,u]=CG[n];i>=o&&i<=u&&(t+=i-o)}}return parseInt(t,10)}else return t}function Tl({numberingSystem:e},t=""){return new RegExp(`${LN[e||"latn"]}${t}`)}const a8e="missing Intl.DateTimeFormat.formatToParts support";function Ur(e,t=r=>r){return{regex:e,deser:([r])=>t(o8e(r))}}const l8e=" ",$se=`[ ${l8e}]`,Mse=new RegExp($se,"g");function u8e(e){return e.replace(/\./g,"\\.?").replace(Mse,$se)}function EG(e){return e.replace(/\./g,"").replace(Mse," ").toLowerCase()}function kl(e,t){return e===null?null:{regex:RegExp(e.map(u8e).join("|")),deser:([r])=>e.findIndex(i=>EG(r)===EG(i))+t}}function IG(e,t){return{regex:e,deser:([,r,i])=>j7(r,i),groups:t}}function E_(e){return{regex:e,deser:([t])=>t}}function c8e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h8e(e,t){const r=Tl(t),i=Tl(t,"{2}"),n=Tl(t,"{3}"),o=Tl(t,"{4}"),u=Tl(t,"{6}"),f=Tl(t,"{1,2}"),m=Tl(t,"{1,3}"),v=Tl(t,"{1,6}"),_=Tl(t,"{1,9}"),$=Tl(t,"{2,4}"),T=Tl(t,"{4,6}"),I=N=>({regex:RegExp(c8e(N.val)),deser:([F])=>F,literal:!0}),A=(N=>{if(e.literal)return I(N);switch(N.val){case"G":return kl(t.eras("short"),0);case"GG":return kl(t.eras("long"),0);case"y":return Ur(v);case"yy":return Ur($,PI);case"yyyy":return Ur(o);case"yyyyy":return Ur(T);case"yyyyyy":return Ur(u);case"M":return Ur(f);case"MM":return Ur(i);case"MMM":return kl(t.months("short",!0),1);case"MMMM":return kl(t.months("long",!0),1);case"L":return Ur(f);case"LL":return Ur(i);case"LLL":return kl(t.months("short",!1),1);case"LLLL":return kl(t.months("long",!1),1);case"d":return Ur(f);case"dd":return Ur(i);case"o":return Ur(m);case"ooo":return Ur(n);case"HH":return Ur(i);case"H":return Ur(f);case"hh":return Ur(i);case"h":return Ur(f);case"mm":return Ur(i);case"m":return Ur(f);case"q":return Ur(f);case"qq":return Ur(i);case"s":return Ur(f);case"ss":return Ur(i);case"S":return Ur(m);case"SSS":return Ur(n);case"u":return E_(_);case"uu":return E_(f);case"uuu":return Ur(r);case"a":return kl(t.meridiems(),0);case"kkkk":return Ur(o);case"kk":return Ur($,PI);case"W":return Ur(f);case"WW":return Ur(i);case"E":case"c":return Ur(r);case"EEE":return kl(t.weekdays("short",!1),1);case"EEEE":return kl(t.weekdays("long",!1),1);case"ccc":return kl(t.weekdays("short",!0),1);case"cccc":return kl(t.weekdays("long",!0),1);case"Z":case"ZZ":return IG(new RegExp(`([+-]${f.source})(?::(${i.source}))?`),2);case"ZZZ":return IG(new RegExp(`([+-]${f.source})(${i.source})?`),2);case"z":return E_(/[a-z_+-/]{1,256}?/i);case" ":return E_(/[^\S\n\r]/);default:return I(N)}})(e)||{invalidReason:a8e};return A.token=e,A}const d8e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function p8e(e,t,r){const{type:i,value:n}=e;if(i==="literal"){const m=/^\s+$/.test(n);return{literal:!m,val:m?" ":n}}const o=t[i];let u=i;i==="hour"&&(t.hour12!=null?u=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?u="hour12":u="hour24":u=r.hour12?"hour12":"hour24");let f=d8e[u];if(typeof f=="object"&&(f=f[o]),f)return{literal:!1,val:f}}function f8e(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function y8e(e,t,r){const i=e.match(t);if(i){const n={};let o=1;for(const u in r)if(Sg(r,u)){const f=r[u],m=f.groups?f.groups+1:1;!f.literal&&f.token&&(n[f.token.val[0]]=f.deser(i.slice(o,o+m))),o+=m}return[i,n]}else return[i,{}]}function m8e(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return Zt(e.z)||(r=ya.create(e.z)),Zt(e.Z)||(r||(r=new Jn(e.Z)),i=e.Z),Zt(e.q)||(e.M=(e.q-1)*3+1),Zt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Zt(e.u)||(e.S=PN(e.u)),[Object.keys(e).reduce((o,u)=>{const f=t(u);return f&&(o[f]=e[u]),o},{}),r,i]}let jT=null;function g8e(){return jT||(jT=qt.fromMillis(1555555555555)),jT}function v8e(e,t){if(e.literal)return e;const r=js.macroTokenToFormatOpts(e.val),i=Cse(r,t);return i==null||i.includes(void 0)?e:i}function Tse(e,t){return Array.prototype.concat(...e.map(r=>v8e(r,t)))}function kse(e,t,r){const i=Tse(js.parseFormat(r),e),n=i.map(u=>h8e(u,e)),o=n.find(u=>u.invalidReason);if(o)return{input:t,tokens:i,invalidReason:o.invalidReason};{const[u,f]=f8e(n),m=RegExp(u,"i"),[v,_]=y8e(t,m,f),[$,T,I]=_?m8e(_):[null,null,void 0];if(Sg(_,"a")&&Sg(_,"H"))throw new gm("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:m,rawMatches:v,matches:_,result:$,zone:T,specificOffset:I}}}function b8e(e,t,r){const{result:i,zone:n,specificOffset:o,invalidReason:u}=kse(e,t,r);return[i,n,o,u]}function Cse(e,t){if(!e)return null;const i=js.create(t,e).dtFormatter(g8e()),n=i.formatToParts(),o=i.resolvedOptions();return n.map(u=>p8e(u,e,o))}const RT="Invalid DateTime",PG=864e13;function I_(e){return new Ql("unsupported zone",`the zone "${e.name}" is not supported`)}function LT(e){return e.weekData===null&&(e.weekData=U4(e.c)),e.weekData}function NT(e){return e.localWeekData===null&&(e.localWeekData=U4(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function af(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new qt({...r,...t,old:r})}function Ese(e,t,r){let i=e-t*60*1e3;const n=r.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const o=r.offset(i);return n===o?[i,n]:[e-Math.min(n,o)*60*1e3,Math.max(n,o)]}function P_(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function yS(e,t,r){return Ese(A7(e),t,r)}function OG(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:i,month:n,day:Math.min(e.c.day,G4(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},u=Lr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),f=A7(o);let[m,v]=Ese(f,r,e.zone);return u!==0&&(m+=u,v=e.zone.offset(m)),{ts:m,o:v}}function qv(e,t,r,i,n,o){const{setZone:u,zone:f}=r;if(e&&Object.keys(e).length!==0||t){const m=t||f,v=qt.fromObject(e,{...r,zone:m,specificOffset:o});return u?v:v.setZone(f)}else return qt.invalid(new Ql("unparsable",`the input "${n}" can't be parsed as ${i}`))}function O_(e,t,r=!0){return e.isValid?js.create(oi.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function FT(e,t){const r=e.c.year>9999||e.c.year<0;let i="";return r&&e.c.year>=0&&(i+="+"),i+=wn(e.c.year,r?6:4),t?(i+="-",i+=wn(e.c.month),i+="-",i+=wn(e.c.day)):(i+=wn(e.c.month),i+=wn(e.c.day)),i}function AG(e,t,r,i,n,o){let u=wn(e.c.hour);return t?(u+=":",u+=wn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(u+=":")):u+=wn(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(u+=wn(e.c.second),(e.c.millisecond!==0||!i)&&(u+=".",u+=wn(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!o?u+="Z":e.o<0?(u+="-",u+=wn(Math.trunc(-e.o/60)),u+=":",u+=wn(Math.trunc(-e.o%60))):(u+="+",u+=wn(Math.trunc(e.o/60)),u+=":",u+=wn(Math.trunc(e.o%60)))),o&&(u+="["+e.zone.ianaName+"]"),u}const Ise={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},w8e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},x8e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Pse=["year","month","day","hour","minute","second","millisecond"],_8e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],S8e=["year","ordinal","hour","minute","second","millisecond"];function $8e(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Ane(e);return t}function jG(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return $8e(e)}}function RG(e,t){const r=Zd(t.zone,hn.defaultZone),i=oi.fromObject(t),n=hn.now();let o,u;if(Zt(e.year))o=n;else{for(const v of Pse)Zt(e[v])&&(e[v]=Ise[v]);const f=ise(e)||nse(e);if(f)return qt.invalid(f);const m=r.offset(n);[o,u]=yS(e,m,r)}return new qt({ts:o,zone:r,loc:i,o:u})}function LG(e,t,r){const i=Zt(r.round)?!0:r.round,n=(u,f)=>(u=ON(u,i||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(u,f)),o=u=>r.calendary?t.hasSame(e,u)?0:t.startOf(u).diff(e.startOf(u),u).get(u):t.diff(e,u).get(u);if(r.unit)return n(o(r.unit),r.unit);for(const u of r.units){const f=o(u);if(Math.abs(f)>=1)return n(f,u)}return n(e>t?-0:0,r.units[r.units.length-1])}function NG(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class qt{constructor(t){const r=t.zone||hn.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new Ql("invalid input"):null)||(r.isValid?null:I_(r));this.ts=Zt(t.ts)?hn.now():t.ts;let n=null,o=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[n,o]=[t.old.c,t.old.o];else{const f=r.offset(this.ts);n=P_(this.ts,f),i=Number.isNaN(n.year)?new Ql("invalid input"):null,n=i?null:n,o=i?null:f}this._zone=r,this.loc=t.loc||oi.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new qt({})}static local(){const[t,r]=NG(arguments),[i,n,o,u,f,m,v]=r;return RG({year:i,month:n,day:o,hour:u,minute:f,second:m,millisecond:v},t)}static utc(){const[t,r]=NG(arguments),[i,n,o,u,f,m,v]=r;return t.zone=Jn.utcInstance,RG({year:i,month:n,day:o,hour:u,minute:f,second:m,millisecond:v},t)}static fromJSDate(t,r={}){const i=Q$e(t)?t.valueOf():NaN;if(Number.isNaN(i))return qt.invalid("invalid input");const n=Zd(r.zone,hn.defaultZone);return n.isValid?new qt({ts:i,zone:n,loc:oi.fromObject(r)}):qt.invalid(I_(n))}static fromMillis(t,r={}){if(D0(t))return t<-PG||t>PG?qt.invalid("Timestamp out of range"):new qt({ts:t,zone:Zd(r.zone,hn.defaultZone),loc:oi.fromObject(r)});throw new Eo(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(D0(t))return new qt({ts:t*1e3,zone:Zd(r.zone,hn.defaultZone),loc:oi.fromObject(r)});throw new Eo("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=Zd(r.zone,hn.defaultZone);if(!i.isValid)return qt.invalid(I_(i));const n=oi.fromObject(r),o=q4(t,jG),{minDaysInFirstWeek:u,startOfWeek:f}=wG(o,n),m=hn.now(),v=Zt(r.specificOffset)?i.offset(m):r.specificOffset,_=!Zt(o.ordinal),$=!Zt(o.year),T=!Zt(o.month)||!Zt(o.day),I=$||T,O=o.weekYear||o.weekNumber;if((I||_)&&O)throw new gm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(T&&_)throw new gm("Can't mix ordinal dates with month/day");const A=O||o.weekday&&!I;let N,F,z=P_(m,v);A?(N=_8e,F=w8e,z=U4(z,u,f)):_?(N=S8e,F=x8e,z=AT(z)):(N=Pse,F=Ise);let B=!1;for(const X of N){const ie=o[X];Zt(ie)?B?o[X]=F[X]:o[X]=z[X]:B=!0}const G=A?Y$e(o,u,f):_?Z$e(o):ise(o),H=G||nse(o);if(H)return qt.invalid(H);const J=A?vG(o,u,f):_?bG(o):o,[Z,re]=yS(J,v,i),q=new qt({ts:Z,zone:i,o:re,loc:n});return o.weekday&&I&&t.weekday!==q.weekday?qt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${q.toISO()}`):q}static fromISO(t,r={}){const[i,n]=V7e(t);return qv(i,n,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,n]=U7e(t);return qv(i,n,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,n]=G7e(t);return qv(i,n,r,"HTTP",r)}static fromFormat(t,r,i={}){if(Zt(t)||Zt(r))throw new Eo("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:o=null}=i,u=oi.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[f,m,v,_]=b8e(u,t,r);return _?qt.invalid(_):qv(f,m,i,`format ${r}`,t,v)}static fromString(t,r,i={}){return qt.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,n]=Z7e(t);return qv(i,n,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Eo("need to specify a reason the DateTime is invalid");const i=t instanceof Ql?t:new Ql(t,r);if(hn.throwOnInvalid)throw new T$e(i);return new qt({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const i=Cse(t,oi.fromObject(r));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,r={}){return Tse(js.parseFormat(t),oi.fromObject(r)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?LT(this).weekYear:NaN}get weekNumber(){return this.isValid?LT(this).weekNumber:NaN}get weekday(){return this.isValid?LT(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?NT(this).weekday:NaN}get localWeekNumber(){return this.isValid?NT(this).weekNumber:NaN}get localWeekYear(){return this.isValid?NT(this).weekYear:NaN}get ordinal(){return this.isValid?AT(this.c).ordinal:NaN}get monthShort(){return this.isValid?C_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?C_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?C_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?C_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,i=A7(this.c),n=this.zone.offset(i-t),o=this.zone.offset(i+t),u=this.zone.offset(i-n*r),f=this.zone.offset(i-o*r);if(u===f)return[this];const m=i-u*r,v=i-f*r,_=P_(m,u),$=P_(v,f);return _.hour===$.hour&&_.minute===$.minute&&_.second===$.second&&_.millisecond===$.millisecond?[af(this,{ts:m}),af(this,{ts:v})]:[this]}get isInLeapYear(){return hx(this.year)}get daysInMonth(){return G4(this.year,this.month)}get daysInYear(){return this.isValid?Fm(this.year):NaN}get weeksInWeekYear(){return this.isValid?r3(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?r3(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:n}=js.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:n}}toUTC(t=0,r={}){return this.setZone(Jn.instance(t),r)}toLocal(){return this.setZone(hn.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=Zd(t,hn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(r||i){const o=t.offset(this.ts),u=this.toObject();[n]=yS(u,o,t)}return af(this,{ts:n,zone:t})}else return qt.invalid(I_(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return af(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=q4(t,jG),{minDaysInFirstWeek:i,startOfWeek:n}=wG(r,this.loc),o=!Zt(r.weekYear)||!Zt(r.weekNumber)||!Zt(r.weekday),u=!Zt(r.ordinal),f=!Zt(r.year),m=!Zt(r.month)||!Zt(r.day),v=f||m,_=r.weekYear||r.weekNumber;if((v||u)&&_)throw new gm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&u)throw new gm("Can't mix ordinal dates with month/day");let $;o?$=vG({...U4(this.c,i,n),...r},i,n):Zt(r.ordinal)?($={...this.toObject(),...r},Zt(r.day)&&($.day=Math.min(G4($.year,$.month),$.day))):$=bG({...AT(this.c),...r});const[T,I]=yS($,this.o,this.zone);return af(this,{ts:T,o:I})}plus(t){if(!this.isValid)return this;const r=Lr.fromDurationLike(t);return af(this,OG(this,r))}minus(t){if(!this.isValid)return this;const r=Lr.fromDurationLike(t).negate();return af(this,OG(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},n=Lr.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:u}=this;u<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(n==="quarters"){const o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?js.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):RT}toLocaleString(t=V4,r={}){return this.isValid?js.create(this.loc.clone(r),t).formatDateTime(this):RT}toLocaleParts(t={}){return this.isValid?js.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const u=t==="extended";let f=FT(this,u);return f+="T",f+=AG(this,u,r,i,n,o),f}toISODate({format:t="extended"}={}){return this.isValid?FT(this,t==="extended"):null}toISOWeekDate(){return O_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:o=!1,format:u="extended"}={}){return this.isValid?(n?"T":"")+AG(this,u==="extended",r,t,i,o):null}toRFC2822(){return O_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return O_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?FT(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(r||t)&&(i&&(n+=" "),r?n+="z":t&&(n+="ZZ")),O_(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():RT}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return Lr.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=e7e(r).map(Lr.normalizeUnit),u=t.valueOf()>this.valueOf(),f=u?this:t,m=u?t:this,v=n8e(f,m,o,n);return u?v.negate():v}diffNow(t="milliseconds",r={}){return this.diff(qt.now(),t,r)}until(t){return this.isValid?rn.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;const n=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(r,i)<=n&&n<=o.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||qt.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(n=t.unit,o=void 0),LG(r,this.plus(i),{...t,numeric:"always",units:n,unit:o})}toRelativeCalendar(t={}){return this.isValid?LG(t.base||qt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(qt.isDateTime))throw new Eo("min requires all arguments be DateTimes");return xG(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(qt.isDateTime))throw new Eo("max requires all arguments be DateTimes");return xG(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:n=null,numberingSystem:o=null}=i,u=oi.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return kse(u,t,r)}static fromStringExplain(t,r,i={}){return qt.fromFormatExplain(t,r,i)}static get DATE_SHORT(){return V4}static get DATE_MED(){return jne}static get DATE_MED_WITH_WEEKDAY(){return E$e}static get DATE_FULL(){return Rne}static get DATE_HUGE(){return Lne}static get TIME_SIMPLE(){return Nne}static get TIME_WITH_SECONDS(){return Fne}static get TIME_WITH_SHORT_OFFSET(){return Dne}static get TIME_WITH_LONG_OFFSET(){return zne}static get TIME_24_SIMPLE(){return Bne}static get TIME_24_WITH_SECONDS(){return Vne}static get TIME_24_WITH_SHORT_OFFSET(){return Une}static get TIME_24_WITH_LONG_OFFSET(){return Gne}static get DATETIME_SHORT(){return qne}static get DATETIME_SHORT_WITH_SECONDS(){return Hne}static get DATETIME_MED(){return Wne}static get DATETIME_MED_WITH_SECONDS(){return Jne}static get DATETIME_MED_WITH_WEEKDAY(){return I$e}static get DATETIME_FULL(){return Kne}static get DATETIME_FULL_WITH_SECONDS(){return Yne}static get DATETIME_HUGE(){return Zne}static get DATETIME_HUGE_WITH_SECONDS(){return Xne}}function Hv(e){if(qt.isDateTime(e))return e;if(e&&e.valueOf&&D0(e.valueOf()))return qt.fromJSDate(e);if(e&&typeof e=="object")return qt.fromObject(e);throw new Eo(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const uc="system",c1="unknown",jp="UTC",M8e=Intl.DateTimeFormat().resolvedOptions().timeZone,T8e="shortOffset";function k8e(e){return"timeZoneIANA"in e}function C8e(e){return e.startsWith("UTC")}function H4(e,t=!1){return{json:{read:{source:e,reader:(r,i)=>i[e]?mS(i[e]):null},write:!!t&&{allowNull:!0,writer(r,i){i[e]=r?E8e(r):null}}}}}function mS(e,t=uc){return e?k8e(e)?e.timeZoneIANA:I8e(e,t):t}function E8e(e){return{timeZoneIANA:e}}function I8e(e,t=uc){if(!e||!aG.has(e.timeZone))return t;const r=aG.get(e.timeZone);return C8e(e.timeZone)||e.respectsDaylightSaving?r:P8e(r)}function P8e(e){const t=qt.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${Jn.instance(-r).formatOffset(0,"narrow")}`}function O_t(e,t,r,i,n){if(t&&n==="date")return{timeZone:jp,timeZoneName:void 0};const o=i.timeStyle||i.hour,u=r===c1;return{timeZone:u?n==="timestamp-offset"?void 0:e??jp:r,timeZoneName:u&&o?T8e:void 0}}const O8e={year:void 0,month:void 0,day:void 0,weekday:void 0},A8e={hour:void 0,minute:void 0,second:void 0},Ose={timeZone:jp},mu={year:"numeric",month:"numeric",day:"numeric"},Wv={year:"numeric",month:"long",day:"numeric"},Jv={year:"numeric",month:"short",day:"numeric"},Kv={year:"numeric",month:"long",weekday:"long",day:"numeric"},Vd={hour:"numeric",minute:"numeric"},Mf={...Vd,second:"numeric"},Ase={hourCycle:"h23"},Yv={...Vd,...Ase},Zv={...Mf,...Ase},jse={"short-date":mu,"short-date-short-time":{...mu,...Vd},"short-date-short-time-24":{...mu,...Yv},"short-date-long-time":{...mu,...Mf},"short-date-long-time-24":{...mu,...Zv},"short-date-le":mu,"short-date-le-short-time":{...mu,...Vd},"short-date-le-short-time-24":{...mu,...Yv},"short-date-le-long-time":{...mu,...Mf},"short-date-le-long-time-24":{...mu,...Zv},"long-month-day-year":Wv,"long-month-day-year-short-time":{...Wv,...Vd},"long-month-day-year-short-time-24":{...Wv,...Yv},"long-month-day-year-long-time":{...Wv,...Mf},"long-month-day-year-long-time-24":{...Wv,...Zv},"day-short-month-year":Jv,"day-short-month-year-short-time":{...Jv,...Vd},"day-short-month-year-short-time-24":{...Jv,...Yv},"day-short-month-year-long-time":{...Jv,...Mf},"day-short-month-year-long-time-24":{...Jv,...Zv},"long-date":Kv,"long-date-short-time":{...Kv,...Vd},"long-date-short-time-24":{...Kv,...Yv},"long-date-long-time":{...Kv,...Mf},"long-date-long-time-24":{...Kv,...Zv},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Vd,"long-time":Mf},j8e=Us()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Rse={ar:"ar-u-nu-latn-ca-gregory"};let OI=new WeakMap;const L7=jse["short-date-short-time"];function R8e(e){let t=OI.get(e);if(!t){const r=ua(),i=Rse[r]||r,n=NN(e.timeZone??uc),o={...e,timeZone:n};t=new Intl.DateTimeFormat(i,o),OI.set(e,t)}return t}function A_t(e){return jse[e]}function Rp(e,t=L7){return R8e(t).format(e)}function j_t(e,t=L7){return Rp(new Date(e),{...t,...Ose,...A8e})}function R_t(e,t=L7){return Rp(new Date(`1970-01-01T${e}Z`),{...t,...Ose,...O8e})}function L_t(e,t=L7){if(t.timeZone)return Rp(new Date(e),t);const r=qt.fromISO(e,{setZone:!0}),i=ua(),n=Rse[i]??i,o=r.offset===0?jp:t.timeZone,u={...t,timeZone:o};return r.toLocaleString(u,{locale:n})}function NN(e){switch(e){case uc:return M8e;case c1:return jp;default:return e}}CN(()=>{OI=new WeakMap});const L8e={ar:"ar-u-nu-latn"};let gS=new WeakMap,Lse={};function N8e(e){const t=e||Lse;if(!gS.has(t)){const r=ua(),i=L8e[ua()]||r;gS.set(t,new Intl.NumberFormat(i,e))}return gS.get(t)}function N_t(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function W4(e,t){return Object.is(e,-0)&&(e=0),N8e(t).format(e)}CN(()=>{gS=new WeakMap,Lse={}});const Nse=()=>Ne.getLogger("esri.intl.substitute");function FN(e,t,r={}){const{format:i={}}=r;return p7(e,n=>F8e(n,t,i))}function F8e(e,t,r){let i,n;const o=e.indexOf(":");if(o===-1?i=e.trim():(i=e.slice(0,o).trim(),n=e.slice(o+1).trim()),!i)return"";const u=X3(i,t);if(u==null)return"";const f=(n?r==null?void 0:r[n]:null)??(r==null?void 0:r[i]);return f?D8e(u,f):n?z8e(u,n):DN(u)}function D8e(e,t){switch(t.type){case"date":return Rp(e,t.intlOptions);case"number":return W4(e,t.intlOptions);default:return Nse().warn("missing format descriptor for key {key}"),DN(e)}}function z8e(e,t){switch(t.toLowerCase()){case"dateformat":return Rp(e);case"numberformat":return W4(e);default:return Nse().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Rp(e):/^numberformat/i.test(t)?W4(e):DN(e)}}function DN(e){switch(typeof e){case"string":return e;case"number":return W4(e);case"boolean":return""+e;default:return e instanceof Date?Rp(e):""}}const FG=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,B8e={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function DG(e){return e in B8e}const jb=[],zm=new Map;function zG(e){for(const t of zm.keys())Fse(e.pattern,t)&&zm.delete(t)}function V8e(e){return jb.includes(e)||(zG(e),jb.unshift(e)),Kr(()=>{const t=jb.indexOf(e);t>-1&&(jb.splice(t,1),zG(e))})}async function zN(e){const t=ua();zm.has(e)||zm.set(e,G8e(e,t));const r=zm.get(e);return r&&await q8e.add(r),r}function U8e(e){if(!FG.test(e))return null;const t=FG.exec(e);if(t===null)return null;const[,r,i]=t,n=r+(i?"-"+i.toUpperCase():"");return DG(n)?n:DG(r)?r:null}async function G8e(e,t){const r=[];for(const i of jb)if(Fse(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new be("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new be("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function Fse(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}CN(()=>{zm.clear()});const q8e=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=da())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function H8e(e,t,r,i){const n=t.exec(r);if(!n)throw new be("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=n[1]?`${n[1]}/`:"",u=n[2],f=U8e(i),m=`${o}${u}.json`,v=f?`${o}${u}_${f}.json`:m;let _;try{_=await BG(e(v))}catch($){if(v===m)throw new be("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:$});try{_=await BG(e(m))}catch(T){throw new be("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:T})}}return _}async function BG(e){if(VG.fetchBundleAsset!=null)return VG.fetchBundleAsset(e);const t=await Jr(e,{responseType:"text"});return JSON.parse(t.data)}let W8e=class{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let n;n=typeof i=="string"?o=>new URL(o,new URL(i,window.location.href)).href:i instanceof URL?o=>new URL(o,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return H8e(this.getAssetUrl,this.matcher,t,r)}};function J8e(e){return new W8e(e)}const VG={};V8e(J8e({pattern:"esri/",location:Or}));const UG={};function K8e(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((r=e.packages)==null?void 0:r.concat())||[],paths:{...UG.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=UG.baseUrl),t}let Y8e=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...i)=>t[r](...i)})}},vS=class{constructor(){this._dispatcher=new Y8e,this._workerPostMessage({type:Hn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){f4(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,i){this._dispatcher.addEventListener(t,r,i)}removeEventListener(t,r,i){this._dispatcher.removeEventListener(t,r,i)}_workerPostMessage(t){f4(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=t3(t);if(r&&r.type===Hn.OPEN){const{modulePath:i,jobId:n}=r;let o=await Ap.loadWorker(i);o||(o=await import(i));const u=Ap.connect(o);this._workerPostMessage({type:Hn.OPENED,jobId:n,data:u})}}};const AI=()=>Ne.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Z8e}=Hn,X8e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let A_,j_;const GG="Failed to create Worker. Fallback to execute module in main thread";async function Q8e(){if(!ke("esri-workers"))return qG(new vS);if(!A_&&!j_)try{const t=X8e.split("{CONFIGURATION}").join(eMe());A_=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){j_=t||{}}let e;if(A_)try{e=new Worker(A_,{name:"esri-worker-"+tMe++})}catch{AI().warn(GG,j_),e=new vS}else AI().warn(GG,j_),e=new vS;return qG(e)}async function qG(e){return new Promise(t=>{function r(n){const o=t3(n);o&&o.type===Z8e&&(e.removeEventListener("message",r),e.removeEventListener("error",i),t(e))}function i(n){n.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",i),AI().warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new vS).addEventListener("message",r),e.addEventListener("error",i)}e.addEventListener("message",r),e.addEventListener("error",i)})}function eMe(){let e;if(wr.default!=null){const n={...wr};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(wr));e.assetsPath=Ja(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Ja(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=ua(),e.has={"esri-csp-restrictions":ke("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":ke("esri-2d-update-debug"),"esri-2d-log-updating":ke("esri-2d-log-updating"),"featurelayer-pbf":ke("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":ke("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":ke("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":ke("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":ke("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":ke("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":ke("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":ke("featurelayer-snapshot-enabled"),"esri-atomics":ke("esri-atomics"),"esri-shared-array-buffer":ke("esri-shared-array-buffer"),"esri-tiles-debug":ke("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":ke("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":ke("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Ja(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Ja(e.workers.workerPath):e.workers.workerPath=Ja(Or("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=wr.workers.loaderConfig,r=K8e({baseUrl:t==null?void 0:t.baseUrl,locale:ua(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:Cie,fullVersion:lN,revision:Eie}})}let tMe=0;const{ABORT:HG,INVOKE:rMe,OPEN:iMe,OPENED:nMe,RESPONSE:Xv}=Hn;let sMe=class Dse{static async create(t){const r=await Q8e();return new Dse(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",i=>{i.preventDefault(),Ne.getLogger("esri.core.workers.WorkerOwner").error(i)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:i}=r,n=Pne();return new Promise((o,u)=>{const f={resolve:o,reject:u,abortHandle:BL(i,()=>{this._outJobs.delete(n),this._post({type:HG,jobId:n})})};this._outJobs.set(n,f),this._post({type:iMe,jobId:n,modulePath:t})})}_onMessage(t){const r=t3(t);if(r)switch(r.type){case nMe:this._onOpenedMessage(r);break;case Xv:this._onResponseMessage(r);break;case HG:this._onAbortMessage(r);break;case rMe:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,n=r.get(i);n&&(n.controller&&n.controller.abort(),r.delete(i))}_onInvokeMessage(t){const{methodName:r,jobId:i,data:n,abortable:o}=t,u=o?new AbortController:null,f=this._inJobs,m=_$e[r];let v;try{if(typeof m!="function")throw new TypeError(`${r} is not a function`);v=m.call(null,n,{signal:u?u.signal:null})}catch(_){return void this._post({type:Xv,jobId:i,error:e3(_)})}Wp(v)?(f.set(i,{controller:u,promise:v}),v.then(_=>{f.has(i)&&(f.delete(i),this._post({type:Xv,jobId:i},_))},_=>{f.has(i)&&(f.delete(i),_||(_={message:"Error encountered at method"+r}),Vs(_)||this._post({type:Xv,jobId:i,error:e3(_||{message:`Error encountered at method ${r}`})}))})):this._post({type:Xv,jobId:i},v)}_onOpenedMessage(t){const{jobId:r,data:i}=t,n=this._outJobs.get(r);n&&(this._outJobs.delete(r),zi(n.abortHandle),n.resolve(i))}_onResponseMessage(t){const{jobId:r,error:i,data:n}=t,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),zi(o.abortHandle),i?o.reject(be.fromJSON(JSON.parse(i))):o.resolve(n))}_post(t,r,i){return TN(this.worker,t,r,i)}};const WG=ke("host-browser")?Math.min(navigator.hardwareConcurrency-1,ke("workers-pool-size")):0;let $0=ke("esri-mobile")?Math.min(WG,3):WG;$0||($0=ke("safari")&&ke("mac")?7:2);let JG=0;const bS=[];function oMe(){zse()}async function R_(e,t){const r=new x$e,{registryTarget:i,...n}=t;return await r.open(e,n),i&&h$e(i,r),r}async function aMe(e,t={}){if(typeof e!="string")throw new be("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(ke("host-webworker")&&!ke("esri-workers")&&(r="local"),r==="local"){let i=await Ap.loadWorker(e);i||(i=await import(e)),Zr(t.signal);const n=t.client||i;return R_([Ap.connect(i,t.schedule)],{...t,client:n})}if(await zse(),Zr(t.signal),r==="dedicated"){const i=JG++%$0;return R_([await bS[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,$0);if(i<$0){const n=new Array(i);for(let o=0;o<i;++o){const u=JG++%$0;n[o]=bS[u].open(e,t)}return R_(n,t)}}return R_(bS.map(i=>i.open(e,t)),t)}let L_=null;async function zse(){if(L_)return L_;new AbortController;const e=[];for(let t=0;t<$0;t++){const r=sMe.create(t).then(i=>(bS[t]=i,i));e.push(r)}return L_=Promise.all(e),L_}const ed=Vi.radius,Cl=Vi.eccentricitySquared,lMe={a1:ed*Cl,a2:ed*Cl*ed*Cl,a3:ed*Cl*Cl/2,a4:ed*Cl*ed*Cl*2.5,a5:ed*Cl+ed*Cl*Cl/2,a6:1-Cl};1/294.9786982,1/298.257222101,Vi.radius,Vi.flattening,1/298.257222101,Ep.radius,Ep.flattening,1/192.0430107526882,ic.radius,ic.flattening,1/10.2079945799458,1/43.61604095563141,ic.radius;var Se;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(Se||(Se={}));const uMe={[Se.WGS84]:{[Se.CGCS2000]:Ti,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Ti,[Se.SPHERICAL_ECEF]:tw,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:Bm,[Se.PLATE_CARREE]:Vm,[Se.WGS84]:Ti,[Se.WGS84_ECEF]:qm},[Se.CGCS2000]:{[Se.CGCS2000]:Ti,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Ti,[Se.SPHERICAL_ECEF]:tw,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:Bm,[Se.PLATE_CARREE]:Vm,[Se.WGS84]:Ti,[Se.WGS84_ECEF]:qm},[Se.GCSMARS2000]:{[Se.CGCS2000]:null,[Se.GCSMARS2000]:Ti,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Ti,[Se.SPHERICAL_ECEF]:null,[Se.SPHERICAL_MARS_PCPF]:ZG,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:null,[Se.PLATE_CARREE]:null,[Se.WGS84]:null,[Se.WGS84_ECEF]:null},[Se.GCSMOON2000]:{[Se.CGCS2000]:null,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:Ti,[Se.LON_LAT]:Ti,[Se.SPHERICAL_ECEF]:null,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:YG,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:null,[Se.PLATE_CARREE]:null,[Se.WGS84]:null,[Se.WGS84_ECEF]:null},[Se.WEB_MERCATOR]:{[Se.CGCS2000]:ew,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:ew,[Se.SPHERICAL_ECEF]:cMe,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:Ti,[Se.PLATE_CARREE]:pMe,[Se.WGS84]:ew,[Se.WGS84_ECEF]:hMe},[Se.WGS84_ECEF]:{[Se.CGCS2000]:Hm,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Hm,[Se.SPHERICAL_ECEF]:_Me,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:SMe,[Se.PLATE_CARREE]:fMe,[Se.WGS84]:Hm,[Se.WGS84_ECEF]:Ti},[Se.SPHERICAL_ECEF]:{[Se.CGCS2000]:Gm,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Gm,[Se.SPHERICAL_ECEF]:Ti,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:bMe,[Se.PLATE_CARREE]:yMe,[Se.WGS84]:Gm,[Se.WGS84_ECEF]:wMe},[Se.SPHERICAL_MARS_PCPF]:{[Se.CGCS2000]:null,[Se.GCSMARS2000]:QG,[Se.GCSMOON2000]:null,[Se.LON_LAT]:QG,[Se.SPHERICAL_ECEF]:null,[Se.SPHERICAL_MARS_PCPF]:Ti,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:null,[Se.PLATE_CARREE]:null,[Se.WGS84]:null,[Se.WGS84_ECEF]:null},[Se.SPHERICAL_MOON_PCPF]:{[Se.CGCS2000]:null,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:XG,[Se.LON_LAT]:XG,[Se.SPHERICAL_ECEF]:null,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:Ti,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:null,[Se.PLATE_CARREE]:null,[Se.WGS84]:null,[Se.WGS84_ECEF]:null},[Se.UNKNOWN]:{[Se.CGCS2000]:null,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:null,[Se.SPHERICAL_ECEF]:null,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:Ti,[Se.WEB_MERCATOR]:null,[Se.PLATE_CARREE]:null,[Se.WGS84]:null,[Se.WGS84_ECEF]:null},[Se.LON_LAT]:{[Se.CGCS2000]:Ti,[Se.GCSMARS2000]:Ti,[Se.GCSMOON2000]:Ti,[Se.LON_LAT]:Ti,[Se.SPHERICAL_ECEF]:tw,[Se.SPHERICAL_MARS_PCPF]:ZG,[Se.SPHERICAL_MOON_PCPF]:YG,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:Bm,[Se.PLATE_CARREE]:Vm,[Se.WGS84]:Ti,[Se.WGS84_ECEF]:qm},[Se.PLATE_CARREE]:{[Se.CGCS2000]:Um,[Se.GCSMARS2000]:null,[Se.GCSMOON2000]:null,[Se.LON_LAT]:Um,[Se.SPHERICAL_ECEF]:mMe,[Se.SPHERICAL_MARS_PCPF]:null,[Se.SPHERICAL_MOON_PCPF]:null,[Se.UNKNOWN]:null,[Se.WEB_MERCATOR]:gMe,[Se.PLATE_CARREE]:Ti,[Se.WGS84]:Um,[Se.WGS84_ECEF]:vMe}};function Bse(e,t,r=Vse()){return e==null||t==null?null:$Me(e,t,r).projector}function KG(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=du(e,1)),N4(e)?t.spatialReferenceId=Se.SPHERICAL_ECEF:Ip(e)?t.spatialReferenceId=Se.WGS84:lc(e)?t.spatialReferenceId=Se.WEB_MERCATOR:A4e(e)?t.spatialReferenceId=Se.PLATE_CARREE:e.wkt===N4e.wkt?t.spatialReferenceId=Se.WGS84_ECEF:e.wkid===Ka.CGCS2000?t.spatialReferenceId=Se.CGCS2000:e.wkt===pN.wkt?t.spatialReferenceId=Se.SPHERICAL_MARS_PCPF:e.wkt===fN.wkt?t.spatialReferenceId=Se.SPHERICAL_MOON_PCPF:cN(e)?t.spatialReferenceId=Se.GCSMARS2000:hN(e)?t.spatialReferenceId=Se.GCSMOON2000:t.spatialReferenceId=Se.UNKNOWN):Se.UNKNOWN}function Ti(e,t,r,i){e!==r&&(r[i++]=e[t++],r[i++]=e[t++],r[i]=e[t])}function ew(e,t,r,i){r[i]=Mg*(e[t]/z0),r[i+1]=Mg*(Gse-2*Math.atan(Math.exp(-e[t+1]/z0))),r[i+2]=e[t+2]}function cMe(e,t,r,i){const n=e[t]/z0,o=Gse-2*Math.atan(Math.exp(-e[t+1]/z0)),u=z0+e[t+2],f=Math.cos(o)*u;r[i]=Math.cos(n)*f,r[i+1]=Math.sin(n)*f,r[i+2]=Math.sin(o)*u}function hMe(e,t,r,i){ew(e,t,r,i),qm(r,i,r,i)}function dMe(e,t,r,i,n){const o=.4999999*N7,u=fl($g*e[t+1],-o,o),f=Math.sin(u);r[i++]=$g*e[t]*n.radius,r[i++]=n.halfSemiMajorAxis*Math.log((1+f)/(1-f)),r[i]=e[t+2]}function Bm(e,t,r,i){dMe(e,t,r,i,Vi)}function Vm(e,t,r,i){r[i]=e[t]*eq,r[i+1]=e[t+1]*eq,r[i+2]=e[t+2]}function Um(e,t,r,i){r[i]=e[t]*tq,r[i+1]=e[t+1]*tq,r[i+2]=e[t+2]}function pMe(e,t,r,i){ew(e,t,r,i),Vm(r,i,r,i)}function fMe(e,t,r,i){Hm(e,t,r,i),Vm(r,i,r,i)}function yMe(e,t,r,i){Gm(e,t,r,i),Vm(r,i,r,i)}function mMe(e,t,r,i){Um(e,t,r,i),tw(r,i,r,i)}function gMe(e,t,r,i){Um(e,t,r,i),Bm(r,i,r,i)}function vMe(e,t,r,i){Um(e,t,r,i),qm(r,i,r,i)}function BN(e,t,r,i,n){const o=n+e[t+2],u=$g*e[t+1],f=$g*e[t],m=Math.cos(u)*o;r[i]=Math.cos(f)*m,r[i+1]=Math.sin(f)*m,r[i+2]=Math.sin(u)*o}function YG(e,t,r,i){BN(e,t,r,i,Ep.radius)}function ZG(e,t,r,i){BN(e,t,r,i,ic.radius)}function tw(e,t,r,i){BN(e,t,r,i,Vi.radius)}function VN(e,t,r,i,n){const o=e[t],u=e[t+1],f=e[t+2],m=Math.sqrt(o*o+u*u+f*f),v=uie(f/(m===0?1:m)),_=Math.atan2(u,o);r[i++]=Mg*_,r[i++]=Mg*v,r[i]=m-n}function XG(e,t,r,i){VN(e,t,r,i,Ep.radius)}function QG(e,t,r,i){VN(e,t,r,i,ic.radius)}function Gm(e,t,r,i){VN(e,t,r,i,Vi.radius)}function bMe(e,t,r,i){Gm(e,t,r,i),Bm(r,i,r,i)}function wMe(e,t,r,i){Gm(e,t,r,i),qm(r,i,r,i)}function xMe(e,t,r,i,n){const o=$g*e[t],u=$g*e[t+1],f=e[t+2],m=Math.sin(u),v=Math.cos(u),_=n.radius/Math.sqrt(1-n.eccentricitySquared*m*m);r[i++]=(_+f)*v*Math.cos(o),r[i++]=(_+f)*v*Math.sin(o),r[i++]=(_*(1-n.eccentricitySquared)+f)*m}function qm(e,t,r,i){xMe(e,t,r,i,Vi)}function Hm(e,t,r,i){const n=lMe,o=e[t],u=e[t+1],f=e[t+2];let m,v,_,$,T,I,O,A,N,F,z,B,G,H,J,Z,re,q,X,ie,le;m=Math.abs(f),v=o*o+u*u,_=Math.sqrt(v),$=v+f*f,T=Math.sqrt($),ie=Math.atan2(u,o),I=f*f/$,O=v/$,H=n.a2/T,J=n.a3-n.a4/T,O>.3?(A=m/T*(1+O*(n.a1+H+I*J)/T),X=Math.asin(A),F=A*A,N=Math.sqrt(1-F)):(N=_/T*(1-I*(n.a5-H-O*J)/T),X=Math.acos(N),F=1-N*N,A=Math.sqrt(F)),z=1-Vi.eccentricitySquared*F,B=Vi.radius/Math.sqrt(z),G=n.a6*B,H=_-B*N,J=m-G*A,re=N*H+A*J,Z=N*J-A*H,q=Z/(G/z+re),X+=q,le=re+Z*q/2,f<0&&(X=-X),r[i++]=Mg*ie,r[i++]=Mg*X,r[i]=le}function _Me(e,t,r,i){Hm(e,t,r,i),tw(r,i,r,i)}function SMe(e,t,r,i){Hm(e,t,r,i),Bm(r,i,r,i)}function $Me(e,t,r){if(e==null||t==null||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const i=KG(e,r.source),n=KG(t,r.dest);return i===Se.UNKNOWN&&n===Se.UNKNOWN?on(e,t)?r.projector=Ti:r.projector=null:r.projector=uMe[i][n],r}function Vse(){return{source:{spatialReference:null,spatialReferenceId:Se.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Se.UNKNOWN,metersPerUnit:1},projector:Ti}}const B_t={spatialReference:null,spatialReferenceId:Se.UNKNOWN},V_t={spatialReference:null,spatialReferenceId:Se.UNKNOWN},Use=Vse(),$g=ip(1),Mg=lie(1),N7=Math.PI,Gse=.5*N7,z0=Vi.radius,eq=z0*N7/180,tq=180/(z0*N7);function fx(e,t,r,i,n,o,u=1){const f=Bse(t,n,Use);if(f==null)return!1;if(f===Ti){if(e===i&&r===o)return!0;const v=r+3*u;for(let _=r,$=o;_<v;_++,$++)i[$]=e[_];return!0}const m=r+3*u;for(let v=r,_=o;v<m;v+=3,_+=3)f(e,v,i,_);return!0}const U_t=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:fx},Symbol.toStringTag,{value:"Module"}));function rq(e,t,r,i,n,o){return N_[0]=e,N_[1]=t,N_[2]=r,fx(N_,i,0,n,o,0,1)}const N_=bl();let F_=0,DT=class jI{static fromGE(t){const r=new jI;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=F_++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=F_++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=F_++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=F_++}getInverse(){const t=new jI;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},J4=class Rb{static cacheKey(t,r){var i,n,o,u,f,m;return[((i=t.wkid)==null?void 0:i.toString())??"-1",((n=t.wkt)==null?void 0:n.toString())??"",((o=t.wkt2)==null?void 0:o.toString())??"",((u=r.wkid)==null?void 0:u.toString())??"-1",((f=r.wkt)==null?void 0:f.toString())??"",((m=r.wkt2)==null?void 0:m.toString())??""].join()}static fromGE(t){const r=new Rb;let i="";for(const n of t.steps){const o=DT.fromGE(n);r.steps.push(o),i+=o.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=i,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const r of t.steps)r instanceof DT?this.steps.push(r):this.steps.push(new DT({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new Rb;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const i=this.steps[r];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,i){this._cachedProjection[Rb.cacheKey(t,r)]=i}getCachedGeTransformation(t,r){let i="";for(const o of this.steps)i+=o.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);const n=this._cachedProjection[Rb.cacheKey(t,r)];return n===void 0?null:n}};function qse(e,t,r){if(t==null||r==null||r.vcsWkid||on(t,r)||Pp(t)||Pp(r))return null;const i=F4(t)/F4(r);if(i===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>MMe(n,i);case"polyline":case"esriGeometryPolyline":return n=>kMe(n,i);case"polygon":case"esriGeometryPolygon":return n=>TMe(n,i);case"multipoint":case"esriGeometryMultipoint":return n=>CMe(n,i);case"extent":case"esriGeometryEnvelope":return n=>EMe(n,i);default:return null}}function MMe(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function TMe(e,t){if(e)for(const r of e.rings)for(const i of r)i.length>2&&(i[2]*=t)}function kMe(e,t){if(e)for(const r of e.paths)for(const i of r)i.length>2&&(i[2]*=t)}function CMe(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function EMe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let su=null,Lp=null,rw=null,wS={};const UN=new cx;function Fh(){return!!su&&uN()}function Hse(){return!!Fh()||(At(UN),Ph(),!1)}function Wse(e,t){return!e||!t||uu(e,t)||Hse()}function IMe(e,t){return!uu(e,t)&&!Fh()}function Ph(e){return rw==null&&(rw=Promise.all([jie(),Ce(()=>Promise.resolve().then(()=>zWe),[],import.meta.url).then(t=>t.g),Ce(()=>Promise.resolve().then(()=>WWe),void 0,import.meta.url)])),rw.then(([,t,{hydratedAdapter:r}])=>{Zr(e),Lp=r,su=t.default,su._enableProjection(E4e),UN.notify()})}function Jp(e,t,r=null,i=null){return Array.isArray(e)?e.length===0?[]:RI(Lp,e,e[0].spatialReference,t,r,i):RI(Lp,[e],e.spatialReference,t,r,i)[0]}function RI(e,t,r,i,n=null,o=null){if(r==null||i==null)return t;if(uu(r,i,n))return t.map(u=>xS(u,r,i));if(n==null&&N4(r))return t.map(u=>xS(u,r,It.WGS84)).map(u=>i3(u,i));if(n==null&&N4(i))return t.map(u=>i3(u,It.WGS84)).map(u=>xS(u,It.WGS84,i));if(n==null){const u=J4.cacheKey(r,i);wS[u]!==void 0?n=wS[u]:((n=Kse(r,i,void 0))==null&&(n=new J4),wS[u]=n)}if(su==null||e==null)throw new F7;return o!=null?su._project(e,t,r,i,n,o):su._project(e,t,r,i,n)}function PMe(e,t){const r=Jse([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function Jse(e,t){if(!Fh()){for(const r of e)if(r!=null&&!on(r.spatialReference,t)&&sa(r.spatialReference)&&sa(t)&&!uu(r.spatialReference,t))return At(UN),{pending:Ph(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:on(r.spatialReference,t)?r:sa(r.spatialReference)&&sa(t)?i3(r,t):null)}}function Kse(e,t,r=null){if(e==null||t==null)return null;if(su==null||Lp==null)throw new F7;const i=su._getTransformation(Lp,e,t,r,r==null?void 0:r.spatialReference);return i!==null?J4.fromGE(i):null}function OMe(e,t,r=null){if(su==null||Lp==null)throw new F7;const i=su._getTransformationBySuitability(Lp,e,t,r,r==null?void 0:r.spatialReference);if(i!==null){const n=[];for(const o of i)n.push(J4.fromGE(o));return n}return[]}let F7=class extends be{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function AMe(){su=null,Lp=null,rw=null,wS={}}const jMe={get loadPromise(){return rw}};function i3(e,t){try{const r=Jp(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const i=qse(r.type,e.spatialReference,t);return i!=null&&i(r),r}catch(r){if(!(r instanceof F7))throw r;return null}}async function RMe(e,t,r){const i=e.spatialReference;return i!=null&&t!=null&&await GN(i,t,null,r),i3(e,t)}function uu(e,t,r){return!r&&(!!on(e,t)||sa(e)&&sa(t)&&!!Bse(e,t,Use))}function LMe(e,t){if(on(e,t))return!0;if(!sa(e)||!sa(t))return!1;const r=Ip(e)||lc(e)||vI(e),i=Ip(t)||lc(t)||vI(t);return r&&i}async function GN(e,t,r,i){if(Fh())return gU(i);if(Array.isArray(e)){for(const{source:n,dest:o,geographicTransformation:u}of e)if(n&&o&&!uu(n,o,u))return Ph(i)}else if(e&&t&&!uu(e,t,r))return Ph(i);return gU(i)}function xS(e,t,r){return e?"x"in e?Yse(e,t,new jt,r,0):"xmin"in e?eoe(e,t,new mr,r,0):"rings"in e?Qse(e,t,new pa,r,0):"paths"in e?Xse(e,t,new Qa,r,0):"points"in e?Zse(e,t,new lx,r,0):null:null}function NMe(e,t,r=t.spatialReference,i=0){return r!=null&&e.spatialReference!=null&&Yse(e,e.spatialReference,t,r,i)!=null}function Yse(e,t,r,i,n){Is[0]=e.x,Is[1]=e.y;const o=e.z;return Is[2]=o!==void 0?o:n,fx(Is,t,0,Is,i,0,1)?(r.x=Is[0],r.y=Is[1],r.spatialReference=i,o!==void 0||Pp(i)?(r.z=Is[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function FMe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&Zse(e,e.spatialReference,t,r,i)!=null}function Zse(e,t,r,i,n){const{points:o,hasZ:u,hasM:f}=e,m=[],v=o.length,_=[];for(const T of o)_.push(T[0],T[1],u?T[2]:n);if(!fx(_,t,0,_,i,0,v))return null;const $=u||Pp(i);for(let T=0;T<v;++T){const I=3*T,O=_[I],A=_[I+1];$&&f?m.push([O,A,_[I+2],o[T][3]]):$?m.push([O,A,_[I+2]]):f?m.push([O,A,o[T][2]]):m.push([O,A])}return r.points=m,r.spatialReference=i,r.hasZ=u,r.hasM=f,r}function DMe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&Xse(e,e.spatialReference,t,r,i)!=null}function Xse(e,t,r,i,n){const{paths:o,hasZ:u,hasM:f}=e,m=[];if(!toe(o,u??!1,f??!1,t,m,i,n))return null;const v=u||Pp(i);return r.paths=m,r.spatialReference=i,r.hasZ=v,r.hasM=f,r}function zMe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&Qse(e,e.spatialReference,t,r,i)!=null}function Qse(e,t,r,i,n){const{rings:o,hasZ:u,hasM:f}=e,m=[];if(!toe(o,u??!1,f??!1,t,m,i,n))return null;const v=u||Pp(i);return r.rings=m,r.spatialReference=i,r.hasZ=v,r.hasM=f,r}function BMe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&eoe(e,e.spatialReference,t,r,i)!=null}function eoe(e,t,r,i,n){const{xmin:o,ymin:u,xmax:f,ymax:m,hasZ:v,hasM:_}=e,$=v?e.zmin:n;if(!rq(o,u,$,t,Is,i))return null;const T=v||Pp(i);r.xmin=Is[0],r.ymin=Is[1],T&&(r.zmin=Is[2]);const I=v?e.zmax:n;return rq(f,m,I,t,Is,i)?(r.xmax=Is[0],r.ymax=Is[1],T&&(r.zmax=Is[2]),_&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null}function toe(e,t,r,i,n,o,u=0){const f=new Array;for(const _ of e)for(const $ of _)f.push($[0],$[1],t?$[2]:u);if(!fx(f,i,0,f,o,0,f.length/3))return!1;let m=0;n.length=0;const v=t||Pp(o);for(const _ of e){const $=new Array;for(const T of _)v&&r?$.push([f[m++],f[m++],f[m++],T[3]]):v?$.push([f[m++],f[m++],f[m++]]):r?($.push([f[m++],f[m++],T[2]]),m++):($.push([f[m++],f[m++]]),m++);n.push($)}return!0}const Is=bl(),q_t=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:uu,getTransformation:Kse,getTransformations:OMe,initializeProjection:GN,isEqualBaseGCS:LMe,isLoaded:Fh,isLoadedOrLoad:Hse,isLoadedOrLoadFor:Wse,load:Ph,project:Jp,projectExtent:BMe,projectMany:RI,projectMultipoint:FMe,projectOrLoad:PMe,projectOrLoadMany:Jse,projectPoint:NMe,projectPolygon:zMe,projectPolyline:DMe,projectWithZConversion:RMe,projectWithoutEngine:xS,requiresLoad:IMe,test:jMe,tryProjectWithZConversion:i3,unload:AMe},Symbol.toStringTag,{value:"Module"}));var LI;let $u=LI=class extends Fe{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new LI({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};b([M({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],$u.prototype,"cols",void 0),b([M({type:Wr,json:{write:!0}})],$u.prototype,"level",void 0),b([M({type:String,json:{write:!0}})],$u.prototype,"levelValue",void 0),b([M({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],$u.prototype,"origin",void 0),b([M({type:Number,json:{write:!0}})],$u.prototype,"resolution",void 0),b([M({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],$u.prototype,"rows",void 0),b([M({type:Number,json:{write:!0}})],$u.prototype,"scale",void 0),$u=LI=b([se("esri.layers.support.LOD")],$u);const Ha=$u;let VMe=class{constructor(t,r,i,n,o=void 0){this.id=t,this.level=r,this.row=i,this.col=n,this.extent=o}};var hd;const iq=new hr({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let rs=hd=class extends Fe{static create(e={}){const{resolutionFactor:t=1,scales:r,size:i=256,spatialReference:n=It.WebMercator,numLODs:o=24}=e;if(!sa(n)){const $=[];if(r)for(let T=0;T<r.length;T++){const I=r[T];$.push(new Ha({level:T,scale:I,resolution:I}))}else{let T=5e-4;for(let I=o-1;I>=0;I--)$.unshift(new Ha({level:I,scale:T,resolution:T})),T*=2}return new hd({dpi:96,lods:$,origin:new jt(0,0,n),size:[i,i],spatialReference:n})}const u=jo(n),f=e.origin?new jt({x:e.origin.x,y:e.origin.y,spatialReference:n}):new jt(u?{x:u.origin[0],y:u.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),m=96,v=1/(du(n)*39.37*m),_=[];if(r)for(let $=0;$<r.length;$++){const T=r[$],I=T*v;_.push(new Ha({level:$,scale:T,resolution:I}))}else{let $=ox(n)?512/i*5916575275917094e-7:256/i*591657527591555e-6;const T=Math.ceil(o/t);_.push(new Ha({level:0,scale:$,resolution:$*v}));for(let I=1;I<T;I++){const O=$/2**t,A=O*v;_.push(new Ha({level:I,scale:O,resolution:A})),$=O}}return new hd({dpi:m,lods:_,origin:f,size:[i,i],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=jo(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return jt.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const i=[],n=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(o=>{i.push(o.scale),t=o.scale>t?o.scale:t,r=o.scale<r?o.scale:r,n[o.level]=o})),this._set("scales",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),i=r+1;return t[r]/(t[r]/t[i])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let i=0;for(;i<r;i++){const n=t[i],o=t[i+1];if(n<=e)return i;if(o===e)return i+1;if(n>e&&o<e)return i+Math.log(n/e)/Math.log(n/o)}return i}tileAt(e,t,r,i){const n=this.lodAt(e);if(!n)return null;let o,u;if(typeof t=="number")o=t,u=r;else if(on(t.spatialReference,this.spatialReference))o=t.x,u=t.y,i=r;else{const v=C7(t,this.spatialReference);if(v==null)return null;o=v.x,u=v.y,i=r}const f=n.resolution*this.size[0],m=n.resolution*this.size[1];return i||(i=new VMe(null,0,0,0,Wn())),i.level=e,i.row=Math.floor((this.origin.y-u)/m+.001),i.col=Math.floor((o-this.origin.x)/f+.001),this.updateTileInfo(i),i}updateTileInfo(e,t=hd.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===hd.ExtrapolateOptions.POWER_OF_TWO){const u=this.lods[this.lods.length-1];u.level<e.level&&(r=u)}if(!r)return;const i=e.level-r.level,n=r.resolution*this.size[0]/2**i,o=r.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Wn()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:i}=r,n=i*this.size[0],o=i*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*o,e[2]=e[0]+n,e[3]=e[1]+o,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return hd.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const r=[],i=this.lods.length-t;for(let n=0;n<i;n++){const o=n+t,{scale:u,resolution:f}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new Ha({level:n,scale:u,resolution:f}))}return new hd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}};b([M({type:Number,json:{write:!0}})],rs.prototype,"compressionQuality",void 0),b([M({type:Number,json:{write:!0}})],rs.prototype,"dpi",void 0),b([M({type:String,json:{read:iq.read,write:iq.write,origins:{"web-scene":{read:!1,write:!1}}}})],rs.prototype,"format",void 0),b([M({readOnly:!0})],rs.prototype,"isWrappable",null),b([M({type:jt,json:{write:!0}})],rs.prototype,"origin",void 0),b([Ge("origin")],rs.prototype,"readOrigin",null),b([M({type:[Ha],value:null,json:{write:!0}})],rs.prototype,"lods",null),b([M({readOnly:!0})],rs.prototype,"scales",void 0),b([M({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],rs.prototype,"size",void 0),b([Ge("size",["rows","cols"])],rs.prototype,"readSize",null),b([Xe("size",{cols:{type:Wr},rows:{type:Wr}})],rs.prototype,"writeSize",null),b([M({type:It,json:{write:!0}})],rs.prototype,"spatialReference",void 0),rs=hd=b([se("esri.layers.support.TileInfo")],rs),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(rs||(rs={}));const iw=rs,_S={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],i=t[1],n=this.values;return i>=r?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},zT={xsmall:544,small:768,medium:992,large:1200};function UMe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function BT(e,t){return t?_S[e].valueToClassName[t].split(" "):[]}const GMe=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=zT}initialize(){this.addHandles(lt(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),ri))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!UMe(r)){const i=JSON.stringify(zT,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i),r=zT}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=to.acquire(),i=to.acquire();let n,o=!1;for(n in _S){const u=this[n],f=_S[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});u!==f&&(o=!0,this[n]=f,BT(n,u).forEach(m=>i.push(m)),BT(n,f).forEach(m=>r.push(m)))}o&&(this._applyClassNameChanges(r,i),to.release(r),to.release(i))}_applyClassNameChanges(r,i){const n=this.container;n&&(i.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let i;for(i in _S)BT(i,this[i]).forEach(n=>r.classList.remove(n))}};return b([M()],t.prototype,"breakpoints",null),b([M()],t.prototype,"orientation",void 0),b([M()],t.prototype,"widthBreakpoint",void 0),b([M()],t.prototype,"heightBreakpoint",void 0),t=b([se("esri.views.BreakpointsOwner")],t),t};function qN(e){return typeof e=="string"?document.getElementById(e):e??null}function roe(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function nq(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function sq(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let B0=class extends St{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,i={}){return this._installWatch(t,r,i,lt)}addWhen(t,r,i={}){return this._installWatch(t,r,i,fa)}addOnCollectionChange(t,r,{initial:i=!1,final:n=!1}={}){const o=++this._handleId;return this.addHandles([co(t,"after-changes",this._createSyncUpdatingCallback(),cs),co(t,"change",r,{onListenerAdd:i?u=>r({added:u.toArray(),removed:[]}):void 0,onListenerRemove:n?u=>r({added:[],removed:u.toArray()}):void 0})],o),Kr(()=>this.removeHandles(o))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(Kr(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(D_)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const i=()=>this.removeHandles(r);return t.then(i,i),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,i={},n){const o=++this._handleId;i.sync||this._installSyncUpdatingWatch(t,o);const u=n(t,r,i);return this.addHandles(u,o),Kr(()=>this.removeHandles(o))}_installSyncUpdatingWatch(t,r){const i=this._createSyncUpdatingCallback(),n=lt(t,i,{sync:!0,equals:()=>!1});return this.addHandles(n,r),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(D_),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Yg(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(D_))}),D_)}}};b([M({readOnly:!0})],B0.prototype,"updating",void 0),B0=b([se("esri.core.support.UpdatingHandles")],B0);const D_=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.0.3 - Wed Jul 03 2024 17:50:35 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K4=function(){return K4=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},K4.apply(this,arguments)},NI={exports:{}},Zi={},FI={exports:{}},O1={};function ioe(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function qMe(e,t,r){}function HMe(e,t,r){}var WMe=/javascript\s*\:/img;function JMe(e,t){return WMe.test(t)?"":t}O1.whiteList=ioe();O1.getDefaultWhiteList=ioe;O1.onAttr=qMe;O1.onIgnoreAttr=HMe;O1.safeAttrValue=JMe;var KMe={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Qv=KMe;function YMe(e,t){e=Qv.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,n=0,o=0,u="";function f(){if(!i){var _=Qv.trim(e.slice(n,o)),$=_.indexOf(":");if($!==-1){var T=Qv.trim(_.slice(0,$)),I=Qv.trim(_.slice($+1));if(T){var O=t(n,u.length,T,I,_);O&&(u+=O+"; ")}}}n=o+1}for(;o<r;o++){var m=e[o];if(m==="/"&&e[o+1]==="*"){var v=e.indexOf("*/",o+2);if(v===-1)break;o=v+1,n=o+1,i=!1}else m==="("?i=!0:m===")"?i=!1:m===";"?i||f():m===`
`&&f()}return Qv.trim(u)}var ZMe=YMe,z_=O1,XMe=ZMe;function oq(e){return e==null}function QMe(e){var t={};for(var r in e)t[r]=e[r];return t}function noe(e){e=QMe(e||{}),e.whiteList=e.whiteList||z_.whiteList,e.onAttr=e.onAttr||z_.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||z_.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||z_.safeAttrValue,this.options=e}noe.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onAttr,o=r.onIgnoreAttr,u=r.safeAttrValue,f=XMe(e,function(m,v,_,$,T){var I=i[_],O=!1;if(I===!0?O=I:typeof I=="function"?O=I($):I instanceof RegExp&&(O=I.test($)),O!==!0&&(O=!1),$=u(_,$),!!$){var A={position:v,sourcePosition:m,source:T,isWhite:O};if(O){var N=n(_,$,A);return oq(N)?_+":"+$:N}else{var N=o(_,$,A);if(!oq(N))return N}}});return f};var eTe=noe;(function(e,t){var r=O1,i=eTe;function n(u,f){var m=new i(f);return m.process(u)}t=e.exports=n,t.FilterCSS=i;for(var o in r)t[o]=r[o]})(FI,FI.exports);var HN=FI.exports,WN={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},tTe=HN.FilterCSS,rTe=HN.getDefaultWhiteList,Y4=WN;function soe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var ooe=new tTe;function iTe(e,t,r){}function nTe(e,t,r){}function sTe(e,t,r){}function oTe(e,t,r){}function aoe(e){return e.replace(lTe,"&lt;").replace(uTe,"&gt;")}function aTe(e,t,r,i){if(r=poe(r),t==="href"||t==="src"){if(r=Y4.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(B_.lastIndex=0,B_.test(r))return""}else if(t==="style"){if(aq.lastIndex=0,aq.test(r)||(lq.lastIndex=0,lq.test(r)&&(B_.lastIndex=0,B_.test(r))))return"";i!==!1&&(i=i||ooe,r=i.process(r))}return r=foe(r),r}var lTe=/</g,uTe=/>/g,cTe=/"/g,hTe=/&quot;/g,dTe=/&#([a-zA-Z0-9]*);?/gim,pTe=/&colon;?/gim,fTe=/&newline;?/gim,B_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,aq=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,lq=/u\s*r\s*l\s*\(.*/gi;function loe(e){return e.replace(cTe,"&quot;")}function uoe(e){return e.replace(hTe,'"')}function coe(e){return e.replace(dTe,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function hoe(e){return e.replace(pTe,":").replace(fTe," ")}function doe(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Y4.trim(t)}function poe(e){return e=uoe(e),e=coe(e),e=hoe(e),e=doe(e),e}function foe(e){return e=loe(e),e=aoe(e),e}function yTe(){return""}function mTe(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(u){return r?!0:Y4.indexOf(e,u)!==-1}var n=[],o=!1;return{onIgnoreTag:function(u,f,m){if(i(u))if(m.isClosing){var v="[/removed]",_=m.position+v.length;return n.push([o!==!1?o:m.position,_]),o=!1,v}else return o||(o=m.position),"[removed]";else return t(u,f,m)},remove:function(u){var f="",m=0;return Y4.forEach(n,function(v){f+=u.slice(m,v[0]),m=v[1]}),f+=u.slice(m),f}}}function gTe(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("-->",i);if(n===-1)break;r=n+3}return t}function vTe(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}Zi.whiteList=soe();Zi.getDefaultWhiteList=soe;Zi.onTag=iTe;Zi.onIgnoreTag=nTe;Zi.onTagAttr=sTe;Zi.onIgnoreTagAttr=oTe;Zi.safeAttrValue=aTe;Zi.escapeHtml=aoe;Zi.escapeQuote=loe;Zi.unescapeQuote=uoe;Zi.escapeHtmlEntities=coe;Zi.escapeDangerHtml5Entities=hoe;Zi.clearNonPrintableCharacter=doe;Zi.friendlyAttrValue=poe;Zi.escapeAttrValue=foe;Zi.onIgnoreTagStripAll=yTe;Zi.StripTagBody=mTe;Zi.stripCommentTag=gTe;Zi.stripBlankChar=vTe;Zi.cssFilter=ooe;Zi.getDefaultCSSWhiteList=rTe;var D7={},Ud=WN;function bTe(e){var t=Ud.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=Ud.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function wTe(e){return e.slice(0,2)==="</"}function xTe(e,t,r){var i="",n=0,o=!1,u=!1,f=0,m=e.length,v="",_="";e:for(f=0;f<m;f++){var $=e.charAt(f);if(o===!1){if($==="<"){o=f;continue}}else if(u===!1){if($==="<"){i+=r(e.slice(n,f)),o=f,n=f;continue}if($===">"){i+=r(e.slice(n,o)),_=e.slice(o,f+1),v=bTe(_),i+=t(o,i.length,v,_,wTe(_)),n=f+1,o=!1;continue}if($==='"'||$==="'")for(var T=1,I=e.charAt(f-T);I.trim()===""||I==="=";){if(I==="="){u=$;continue e}I=e.charAt(f-++T)}}else if($===u){u=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i}var _Te=/[^a-zA-Z0-9\\_:.-]/gim;function STe(e,t){var r=0,i=0,n=[],o=!1,u=e.length;function f(T,I){if(T=Ud.trim(T),T=T.replace(_Te,"").toLowerCase(),!(T.length<1)){var O=t(T,I||"");O&&n.push(O)}}for(var m=0;m<u;m++){var v=e.charAt(m),_,$;if(o===!1&&v==="="){o=e.slice(r,m),r=m+1,i=e.charAt(r)==='"'||e.charAt(r)==="'"?r:MTe(e,m+1);continue}if(o!==!1&&m===i){if($=e.indexOf(v,m+1),$===-1)break;_=Ud.trim(e.slice(i+1,$)),f(o,_),o=!1,m=$,r=m+1;continue}if(/\s|\n|\t/.test(v))if(e=e.replace(/\s|\n|\t/g," "),o===!1)if($=$Te(e,m),$===-1){_=Ud.trim(e.slice(r,m)),f(_),o=!1,r=m+1;continue}else{m=$-1;continue}else if($=TTe(e,m-1),$===-1){_=Ud.trim(e.slice(r,m)),_=uq(_),f(o,_),o=!1,r=m+1;continue}else continue}return r<e.length&&(o===!1?f(e.slice(r)):f(o,uq(Ud.trim(e.slice(r))))),Ud.trim(n.join(" "))}function $Te(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function MTe(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function TTe(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function kTe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function uq(e){return kTe(e)?e.substr(1,e.length-2):e}D7.parseTag=xTe;D7.parseAttr=STe;var CTe=HN.FilterCSS,Hl=Zi,yoe=D7,ETe=yoe.parseTag,ITe=yoe.parseAttr,SS=WN;function V_(e){return e==null}function PTe(e){var t=SS.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=SS.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=SS.trim(e.slice(0,-1))),{html:e,closing:r}}function OTe(e){var t={};for(var r in e)t[r]=e[r];return t}function ATe(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(i){return i.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function moe(e){e=OTe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Hl.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=ATe(e.whiteList||e.allowList):e.whiteList=Hl.whiteList,e.onTag=e.onTag||Hl.onTag,e.onTagAttr=e.onTagAttr||Hl.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Hl.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Hl.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Hl.safeAttrValue,e.escapeHtml=e.escapeHtml||Hl.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new CTe(e.css))}moe.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onTag,o=r.onIgnoreTag,u=r.onTagAttr,f=r.onIgnoreTagAttr,m=r.safeAttrValue,v=r.escapeHtml,_=t.cssFilter;r.stripBlankChar&&(e=Hl.stripBlankChar(e)),r.allowCommentTag||(e=Hl.stripCommentTag(e));var $=!1;r.stripIgnoreTagBody&&($=Hl.StripTagBody(r.stripIgnoreTagBody,o),o=$.onIgnoreTag);var T=ETe(e,function(I,O,A,N,F){var z={sourcePosition:I,position:O,isClosing:F,isWhite:Object.prototype.hasOwnProperty.call(i,A)},B=n(A,N,z);if(!V_(B))return B;if(z.isWhite){if(z.isClosing)return"</"+A+">";var G=PTe(N),H=i[A],J=ITe(G.html,function(Z,re){var q=SS.indexOf(H,Z)!==-1,X=u(A,Z,re,q);return V_(X)?q?(re=m(A,Z,re,_),re?Z+'="'+re+'"':Z):(X=f(A,Z,re,q),V_(X)?void 0:X):X});return N="<"+A,J&&(N+=" "+J),G.closing&&(N+=" /"),N+=">",N}else return B=o(A,N,z),V_(B)?v(N):B},v);return $&&(T=$.remove(T)),T};var jTe=moe;(function(e,t){var r=Zi,i=D7,n=jTe;function o(f,m){var v=new n(m);return v.process(f)}t=e.exports=o,t.filterXSS=o,t.FilterXSS=n,function(){for(var f in r)t[f]=r[f];for(var m in i)t[m]=i[m]}();function u(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}u()&&(self.filterXSS=e.exports)})(NI,NI.exports);var Q1=NI.exports,RTe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},LTe=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=K4(K4({},Q1.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,"justify-content":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(o,u,f,m){return o==="a"&&u==="href"||(o==="img"||o==="source")&&u==="src"?i.sanitizeUrl(f):Q1.safeAttrValue(o,u,f,m)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;t&&!r?n=t:t&&r?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(o){if(o==="whiteList")n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]);else if(o==="css"){var u=t.css.whiteList;u!=null&&t.css instanceof Object&&Object.keys(u).forEach(function(f){return n.css.whiteList[f]=u[f]})}else n[o]=t[o]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new Q1.FilterXSS(n)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r??{}).isProtocolRequired,n=i===void 0?!0:i,o=this._trim(t.substring(0,t.indexOf(":"))),u=t==="/",f=/^#/.test(t),m=o&&this.allowedProtocols.indexOf(o.toLowerCase())>-1;return u||f||m?Q1.escapeAttrValue(t):!o&&!n?Q1.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,n):Q1.safeAttrValue(t,r,i,n)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(i){return r._entityMap[i]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,n){return r.test(i)?i:"&#x".concat(Number(t.charCodeAt(n)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(n){Array.isArray(i[n])&&Array.isArray(r[n])?r[n]=r[n].concat(i[n]):r[n]=i[n]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var n=!1,o=void 0;if(Array.isArray(t))o=t.reduce(function(f,m){var v=i.validate(m,r);return v.isValid?f.concat([m]):(n=!0,f.concat([v.sanitized]))},[]);else if(RTe(t)){var u=Object.keys(t);o=u.reduce(function(f,m){var v=t[m],_=i.validate(v,r);return _.isValid?f[m]=v:(n=!0,f[m]=_.sanitized),f},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return n?o:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const z7=new Map;function goe(){z7.clear()}function NTe(e){return z7.get(e)}function FTe(e,t){z7.set(e,t)}function VT(e){z7.delete(e)}function voe(...e){const t=to.acquire();for(let i=0;i<e.length;i++){const n=e[i],o=typeof n;if(o==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(o==="object")for(const u in n)n[u]&&t.push(u)}const r=t.join(" ");return to.release(t),r}const DTe=(()=>{const e=new Map,t=new ResizeObserver(i=>{var n;goe();for(const o of i)(n=e.get(o.target))==null||n(o)}),r=(i,n,o)=>(e.set(i,n),t.observe(i,o),Kr(()=>{t.unobserve(i),e.delete(i)}));return(i,n,o)=>{let u=null;return Q3([lt(()=>typeof i=="function"?i():i,f=>{u==null||u.remove(),f&&(u=r(f,n,o))},ta),Kr(()=>u==null?void 0:u.remove())])}})();function zTe(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function J_t(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function U_(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const BTe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],VTe=BTe.reduce((e,t)=>(e[t]=[],e),{}),UTe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],boe=new LTe({whiteList:VTe,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(UTe.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function GTe(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=r.top+r.height,o=i.top+i.height,u=r.top,f=i.top;(n>o||u<f)&&e.scrollIntoView({block:"end"})}function woe(e){return e==="Enter"||e===" "}const xoe="http://www.w3.org/",B7=`${xoe}2000/svg`,_oe=`${xoe}1999/xlink`;let cq=[],JN=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},KN=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Soe=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},qTe=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(KN(e[i],t))return i}return-1},UT=(e,t,r,i)=>{let n=e[t];if(n.vnodeSelector==="")return;let o=n.properties;if(!(o&&(o.key===void 0?o.bind:o.key))){for(let u=0;u<e.length;u++)if(u!==t){let f=e[u];if(KN(f,n))throw new Error(`${r.vnodeSelector} had a ${n.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},HTe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},DI=[],zI=!1,$oe=e=>{(e.children||[]).forEach($oe),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},hq=()=>{zI=!1,DI.forEach($oe),DI.length=0},dq=e=>{DI.push(e),zI||(zI=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(hq,{timeout:16}):setTimeout(hq,16))},pq=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),dq(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),dq(e))},WTe=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,n=Object.keys(t),o=n.length;for(let u=0;u<o;u++){let f=n[u],m=t[f];if(f==="className")throw new Error('Property "className" is not supported, use "class".');if(f==="class")VI(e,m,!0);else if(f==="classes"){let v=Object.keys(m),_=v.length;for(let $=0;$<_;$++){let T=v[$];m[T]&&e.classList.add(T)}}else if(f==="styles"){let v=Object.keys(m),_=v.length;for(let $=0;$<_;$++){let T=v[$],I=m[T];I&&(Soe(I),r.styleApplyer(e,T,I))}}else if(f!=="key"&&m!=null){let v=typeof m;v==="function"?(f.lastIndexOf("on",0)===0&&(i&&(m=i(f,m,e,t)),f==="oninput"&&function(){let _=m;m=function($){_.apply(this,[$]),$.target["oninput-value"]=$.target.value}}()),e[f]=m):r.namespace===B7?f==="href"?e.setAttributeNS(_oe,f,m):e.setAttribute(f,m):v==="string"&&f!=="value"?f==="innerHTML"?e[f]=boe.sanitize(m):BI(e)&&f in e?e[f]=m:e.setAttribute(f,m):e[f]=m}}};function BI(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let Z4,JTe=(e,t,r)=>{if(t)for(let i of t)vm(i,e,void 0,r)},Moe=(e,t,r)=>{JTe(e,t.children,r),t.text&&(e.textContent=t.text),WTe(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},vm=(e,t,r,i)=>{let n,o=0,u=e.vnodeSelector,f=t.ownerDocument;if(u==="")n=e.domNode=f.createTextNode(e.text),r!==void 0?t.insertBefore(n,r):t.appendChild(n);else{for(let m=0;m<=u.length;++m){let v=u.charAt(m);if(m===u.length||v==="."||v==="#"){let _=u.charAt(o-1),$=u.slice(o,m);_==="."?n.classList.add($):_==="#"?n.id=$:($==="svg"&&(i=JN(i,{namespace:B7})),i.namespace!==void 0?n=e.domNode=f.createElementNS(i.namespace,$):(n=e.domNode=e.domNode||f.createElement($),$==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),o=m+1}}Moe(n,e,i)}},VI=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},KTe=(e,t,r,i)=>{if(!r)return;let n=!1,o=Object.keys(r),u=o.length;for(let f=0;f<u;f++){let m=o[f],v=r[m],_=t[m];if(m==="class")_!==v&&(VI(e,_,!1),VI(e,v,!0));else if(m==="classes"){let $=e.classList,T=Object.keys(v),I=T.length;for(let O=0;O<I;O++){let A=T[O],N=!!v[A];N!==!!_[A]&&(n=!0,N?$.add(A):$.remove(A))}}else if(m==="styles"){let $=Object.keys(v),T=$.length;for(let I=0;I<T;I++){let O=$[I],A=v[O];A!==_[O]&&(n=!0,A?(Soe(A),i.styleApplyer(e,O,A)):i.styleApplyer(e,O,""))}}else if(v||typeof _!="string"||(v=""),m!=="value"||BI(e)){if(v!==_){let $=typeof v;$==="function"&&i.eventHandlerInterceptor||(i.namespace===B7?m==="href"?e.setAttributeNS(_oe,m,v):e.setAttribute(m,v):$==="string"?m==="innerHTML"?e[m]=boe.sanitize(v):m==="role"&&v===""?e.removeAttribute(m):BI(e)&&m in e?e[m]=v:e.setAttribute(m,v):e[m]!==v&&(e[m]=v),n=!0)}}else{let $=e[m];$!==v&&(e["oninput-value"]?$===e["oninput-value"]:v!==_)&&(e[m]=v,e["oninput-value"]=void 0),v!==_&&(n=!0)}}return n},YTe=(e,t,r,i,n)=>{if(r===i)return!1;i=i||cq;let o,u=(r=r||cq).length,f=i.length,m=0,v=0,_=!1;for(;v<f;){let $=m<u?r[m]:void 0,T=i[v];if($!==void 0&&KN($,T))_=Z4($,T,n)||_,m++;else{let I=qTe(r,T,m+1);if(I>=0){for(o=m;o<I;o++)pq(r[o]),UT(r,o,e,"removed");_=Z4(r[I],T,n)||_,m=I+1}else vm(T,t,m<u?r[m].domNode:void 0,n),HTe(T),UT(i,v,e,"added")}v++}if(u>m)for(o=m;o<u;o++)pq(r[o]),UT(r,o,e,"removed");return _};Z4=(e,t,r)=>{let i=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let u=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(u,i),t.domNode=u,n=!0,n}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=JN(r,{namespace:B7})),e.text!==t.text&&(o=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,o=YTe(t,i,e.children,t.children,r)||o,o=KTe(i,e.properties,t.properties,r)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};let eb=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,Z4(i,r,t)},domNode:e.domNode});const ZTe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let xy=e=>JN(ZTe,e),op={create:(e,t)=>(t=xy(t),vm(e,document.createElement("div"),void 0,t),eb(e,t)),append:(e,t,r)=>(r=xy(r),vm(t,e,void 0,r),eb(t,r)),insertBefore:(e,t,r)=>(r=xy(r),vm(t,e.parentNode,e,r),eb(t,r)),merge:(e,t,r)=>(r=xy(r),t.domNode=e,Moe(e,t,r),eb(t,r)),replace:(e,t,r)=>(r=xy(r),vm(t,e.parentNode,e,r),e.parentNode.removeChild(e),eb(t,r))},Toe,XTe=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};Toe=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let QTe=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?Toe(r.children,n=>n.domNode===i):void 0}),r},eke=(e,t,r)=>{let i=function(n){r("domEvent",n);let o=t(),u=XTe(n.currentTarget,o.domNode);u.reverse();let f,m=QTe(o.getLastRender(),u);return e.scheduleRender(),m&&(f=m.properties[`on${n.type}`].apply(m.properties.bind||this,arguments)),r("domEventProcessed",n),f};return(n,o,u,f)=>i},fq=e=>{let t,r,i=xy(e),n=i.performanceLogger,o=!0,u=!1,f=[],m=[],v=($,T,I)=>{let O,A=()=>O;i.eventHandlerInterceptor=eke(t,A,n),O=$(T,I(),i),f.push(O),m.push(I)},_=()=>{if(r=void 0,o){o=!1,n("renderStart",void 0);for(let $=0;$<f.length;$++){let T=m[$]();n("rendered",void 0),f[$].update(T),n("patched",void 0)}n("renderDone",void 0),o=!0}};return t={renderNow:_,scheduleRender:()=>{r||u||(r=requestAnimationFrame(_))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),u=!0},resume:()=>{u=!1,o=!0,t.scheduleRender()},append:($,T)=>{v(op.append,$,T)},insertBefore:($,T)=>{v(op.insertBefore,$,T)},merge:($,T)=>{v(op.merge,$,T)},replace:($,T)=>{v(op.replace,$,T)},detach:$=>{for(let T=0;T<m.length;T++)if(m[T]===$)return m.splice(T,1),f.splice(T,1)[0];throw new Error("renderFunction was not found")}},t},dd=class extends St{constructor(){super(...arguments),this.items=new ut,this._watchUpdatingTracking=new B0,this._callbacks=new Map,this._projector=fq(),this._hiddenProjector=fq()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const i of r.added){const n=()=>i.render();this._callbacks.set(i,n),this._projector.append(this.surface,n)}for(const i of r.removed){const n=this._projector.detach(this._callbacks.get(i));this.surface.removeChild(n.domNode),this._callbacks.delete(i)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,i=this._hiddenProjector;let n;const o=()=>(n=t.render(),n);i.append(r,o),i.renderNow();const u={left:0,top:0,right:0,bottom:0};if(n!=null&&n.domNode){const f=n.domNode.getBoundingClientRect();u.left=f.left,u.top=f.top,u.right=f.right,u.bottom=f.bottom}for(i.detach(o);r.firstChild;)r.removeChild(r.firstChild);return u}overlaps(t,r){const i=this.computeBoundingRect(t),n=this.computeBoundingRect(r);return Math.max(i.left,n.left)<=Math.min(i.right,n.right)&&Math.max(i.top,n.top)<=Math.min(i.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const i=!!(r!=null&&r.disableDecorations);if(!this.items.some(o=>o.visible&&!(i&&o.isDecoration)))return;const n=t.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(o=>{i&&o.isDecoration||(n.save(),o.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};b([M({readOnly:!0})],dd.prototype,"surface",void 0),b([M({readOnly:!0})],dd.prototype,"items",void 0),b([M({readOnly:!0})],dd.prototype,"needsRender",null),b([M({readOnly:!0})],dd.prototype,"_watchUpdatingTracking",void 0),b([M({readOnly:!0})],dd.prototype,"updating",null),dd=b([se("esri.views.overlay.ViewOverlay")],dd);const yq=dd,GT=[0,0];function tke(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return GT[0]=r.left+((t==null?void 0:t.pageXOffset)??0),GT[1]=r.top+((t==null?void 0:t.pageYOffset)??0),GT}function mq(e){e&&(roe(e),e.parentNode&&e.parentNode.removeChild(e))}function rke(e){const t=document.createElement("div");return e.appendChild(t),t}const tb=16,G_=750,ike=512,nke=2,ske=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:tb,time:G_},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([lt(()=>this.cursor,i=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",i)}),lt(()=>this.navigating,i=>{const{surface:n}=this;n&&n.setAttribute("data-navigating",i.toString())})])}initialize(){this.addHandles([lt(()=>this.ui,(r,i)=>this._handleUIChange(r,i),ri),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=ai(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(r){const i=this._get("container"),n=qN(r);if(n||typeof r!="string"||Ne.getLogger(this).error("#container",`element with id '${r}' not found`),i===n)return;if(this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(mq(this.root),this._set("root",null)),this.userContent&&(sq(this.userContent,i),mq(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",sq(n,o),n.appendChild(o),this._set("userContent",o);const u=document.createElement("div");u.className="esri-view-root",n.insertBefore(u,n.firstChild),this._set("root",u);const f=document.createElement("div");f.className="esri-view-surface",f.setAttribute("role","application"),f.tabIndex=0,u.appendChild(f),this._set("surface",f);const m=new yq;u.appendChild(m.surface),this._set("overlay",m),this.addHandles(lt(()=>m.needsRender,v=>{v&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=yg({render:()=>{var _;return(_=this.overlay)==null?void 0:_.render()}}):this._overlayRenderTaskHandle=zi(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,i,n){const o=this.position;return r-=o?o[0]:0,i-=o?o[1]:0,n?(n[0]=r,n[1]=i):n=[r,i],n}containerToPage(r,i,n){const o=this.position;return r+=o?o[0]:0,i+=o?o[1]:0,n?(n[0]=r,n[1]=i):n=[r,i],n}_handleUIChange(r,i){this.removeHandles("ui"),i&&i!==r&&i.destroy(),r&&(r.view=this,this.addHandles(lt(()=>this.root,n=>{r.container=n?rke(n):null},ri),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=tb,r.time=G_,this.addHandles([rx(window,"resize",()=>{r.freq=tb,r.time=G_}),yg({prepare:i=>{const n=this._measure(),o=this._freqInfo;if(o.time+=i.deltaTime,n&&(o.freq=tb,this._get("resizing")||this._set("resizing",!0)),o.time<o.freq)return;o.time=0;const u=this._position();o.freq=u||n?tb:Math.min(G_,o.freq*nke),!n&&o.freq>=ike&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,i=r?r.clientWidth:0,n=r?r.clientHeight:0;if(i===0||n===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,u=this.height;return i===o&&n===u?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",i),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:u,width:i,height:n}),!0)}_position(){const r=this.container,i=this.position,n=r&&tke(r);return!!n&&(!i||n[0]!==i[0]||n[1]!==i[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return b([M()],t.prototype,"container",null),b([M({readOnly:!0})],t.prototype,"focused",null),b([M({readOnly:!0})],t.prototype,"height",void 0),b([M()],t.prototype,"messagesCommon",void 0),b([M({type:yq})],t.prototype,"overlay",void 0),b([M({readOnly:!0})],t.prototype,"position",void 0),b([M({readOnly:!0})],t.prototype,"resizing",void 0),b([M({readOnly:!0})],t.prototype,"root",void 0),b([M({value:null,readOnly:!0})],t.prototype,"size",null),b([M({readOnly:!0})],t.prototype,"surface",void 0),b([M({readOnly:!0})],t.prototype,"suspended",void 0),b([M()],t.prototype,"ui",void 0),b([M({readOnly:!0})],t.prototype,"userContent",void 0),b([M({readOnly:!0})],t.prototype,"width",void 0),b([M()],t.prototype,"widthBreakpoint",void 0),t=b([se("esri.views.DOMContainer")],t),t};let oke=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const i in t){const n=t[i],o=new vre(n,void 0,void 0,2,2);this._properties[i]={pool:o,acquired:[]}}this._afterDispatchHandle=j5e(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const i of r.acquired)wU(i)||r.pool.release(i);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),i=this._properties[t];let n=i.pool.acquire();for(i.acquired.push(n);n===r;)i.acquired.push(n),n=i.pool.acquire();return n}_release(){for(const t in this._properties){const r=this._properties[t];let i=0;for(const n of r.acquired)wU(n)?r.acquired[i++]=n:r.pool.release(n);r.acquired.length=i}}};const ake=ke("mac")?"Meta":"Control",lke=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),uke=e=>lke.has(e);let cke=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const i of this.keyModifiers)if(!r.has(i))return!1;return!0}},Ln=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const i of r)this._incomingEventMatches.push(i.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,i){let n;typeof r=="function"?(i=r,n=[]):n=r||[];const o=typeof t=="string"?new cke(t,n):t,u=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},f=_=>{const $=this._incoming[_.match.eventType];if($){const T=$.indexOf(_);$.splice(T,1),u(),this._manager&&this._manager.updateDependencies()}},m=new hke(o,i,{onPause:f,onRemove:f,onResume:_=>{const $=this._incoming[_.match.eventType];$&&!$.includes(_)&&($.push(_),u(),this._manager&&this._manager.updateDependencies())}});let v=this._incoming[o.eventType];return v||(v=[],this._incoming[o.eventType]=v),v.push(m),u(),this._manager&&this._manager.updateDependencies(),m}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new dke(t,{onEmit:(i,n,o,u)=>{var f;(f=this._manager)==null||f.emit(i.eventType,n,o,u)},onRemove:i=>{var n;delete this._outgoing[i.eventType],(n=this._manager)==null||n.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var i;const r=this._incoming[t.type];if(r){for(const n of r)if(n.match.matches(t)&&((i=n.callback)==null||i.call(n,t),t.shouldStopPropagation()))break}}},hke=class{constructor(t,r,i){this.match=t,this._callback=r,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},dke=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,i){this._removed||this._handler.onEmit(this,t,r,i)}remove(){this._removed=!0,this._handler.onRemove(this)}},pke=class extends Ln{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>{this._update(r.data)})}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:i,y:n}=t;r===this._value&&this._x===i&&this._y===n||(this._value=r,this._x=i,this._y=n,this._onChange(r,i,n))}},fke=class{constructor(t,r){this._observable=new cx,this._value=t,this._equalityFunction=r}get value(){return At(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function koe(e,t=ere){return new fke(e,t)}let yke=class extends Ln{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=koe(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},ka=class extends St{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=ake,this._latestPointerType="mouse",this._propertiesPool=new oke({latestPointerLocation:vke},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,i=xp.INTERNAL){if(this._nameToGroup[t]||r.length===0)return;const n={name:t,handlers:r.map(o=>({handler:o,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=n;for(let o=n.handlers.length-1;o>=0;o--){const u=n.handlers[o];this._handlers.push(u),u.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(f,m,v,_,$)=>{this._emitInputEvent(u.priorityIndex+1,f,m,v,$,_)},setPointerCapture:(f,m)=>{this._setPointerCapture(n,u,f,m)},setEventCallback:f=>{u.eventCallback=f},setUninstallCallback:f=>{u.uninstallCallback=f},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(i=>{var n;i.removed=!0,(n=i.uninstallCallback)==null||n.call(i)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Ne.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers&&this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const n=this._handlers[i];n.priorityIndex=i,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const n=this._handlersPriority[i];n.priorityIndex=i;let o=n.handler.hasSideEffects;if(!o){for(const u of n.handler.outgoingEventTypes)if(t.has(u)){o=!0;break}}if(o)for(const u of n.handler.incomingEventMatches){t.add(u.eventType);for(const f of u.keyModifiers)uke(f)||r.add(f)}n.active=o}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,i){this._latestPointerType=t;const n=this._get("latestPointerLocation");if(n==null||n.x!==r||n.y!==i){const o=this._propertiesPool.get("latestPointerLocation");o.x=r,o.y=i,this._set("latestPointerLocation",o)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const o=r;this._pointerCaptures.delete(o.native.pointerId)}this._updateKeyModifiers(t,r);const i=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,n=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,i,n)}_updateKeyModifiers(t,r){if(!r)return;let i=!1;const n=()=>{if(!i){const f=new Set;this._activeKeyModifiers.forEach(m=>{f.add(m)}),this._activeKeyModifiers=f,i=!0}},o=(f,m)=>{m&&!this._activeKeyModifiers.has(f)?(n(),this._activeKeyModifiers.add(f)):!m&&this._activeKeyModifiers.has(f)&&(n(),this._activeKeyModifiers.delete(f))};if(t==="key-down"||t==="key-up"){const f=r.key;this._keyModifiers.has(f)&&o(f,t==="key-down")}const u=r.native;o("Alt",!(!u||!u.altKey)),o("Control",!(!u||!u.ctrlKey)),o("Ctrl",!(!u||!u.ctrlKey)),o("Shift",!(!u||!u.shiftKey)),o("Meta",!(!u||!u.metaKey)),o("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new pke((t,r,i)=>this._setLatestPointer(t,r,i)),this._multiTouchHandler=new yke,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],xp.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,xp.INTERNAL)}_setPointerCapture(t,r,i,n){const o=t.name+"-"+r.priorityIndex,u=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,u),n?(u.add(o),u.size===1&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):u.has(o)&&(u.delete(o),u.size===0&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,i,n){this._emitInputEvent(0,t,r,i,n)}_emitInputEvent(t,r,i,n,o,u){const f=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),m=o!==void 0&&o,v={event:new mke(r,i,f,u||this._activeKeyModifiers,m),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(v):this._doNewPropagation(v)}_doNewPropagation(t){this._currentPropagation={events:new B4,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,i,n;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:o,priorityIndex:u}=t.events.pop(),f=(r=o.data)==null?void 0:r.eventId;if(!(f!=null&&this._stoppedPropagationEventIds.has(f)))for(t.currentHandler=this._handlersPriority[u];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!o.shouldStopPropagation()&&((n=(i=t.currentHandler).eventCallback)==null||n.call(i,o)),o.shouldStopPropagation()){f!=null&&this._stoppedPropagationEventIds.add(f);break}if(o.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:o,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new B4;r.push(t);const i=this._currentPropagation;if(i){for(;i.events.length;)r.push(i.events.pop());i.events=r,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const i of t.handler.incomingEventMatches)for(const n of r.handler.incomingEventMatches){if(i.eventType!==n.eventType)continue;const o=i.keyModifiers.filter(u=>n.keyModifiers.includes(u));if(o.length===i.keyModifiers.length!=(o.length===n.keyModifiers.length))return i.keyModifiers.length>n.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const i of t){let n=0;for(;n<r.length&&this._compareHandlerPriority(i,r[n])>=0;)n++;r.splice(n,0,i)}return r}get debug(){const t=r=>{const i=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=i};return{injectEvent:(r,i)=>{t(()=>{this._onEventReceived(r,i)})},disablePointerCapture:t}}};b([M({readOnly:!0})],ka.prototype,"hasPendingInputs",null),b([M({constructOnly:!0})],ka.prototype,"eventSource",void 0),b([M({constructOnly:!0})],ka.prototype,"recognizers",void 0),b([M()],ka.prototype,"_latestPointerType",void 0),b([M()],ka.prototype,"latestPointerType",null),b([M()],ka.prototype,"multiTouchActive",null),b([M({readOnly:!0})],ka.prototype,"latestPointerLocation",void 0),b([M()],ka.prototype,"_paused",void 0),b([M({readOnly:!0})],ka.prototype,"updating",null),ka=b([se("esri.views.input.InputManager")],ka);let mke=class{constructor(t,r,i,n,o){this.type=t,this.data=r,this.timestamp=i,this.modifiers=n,this.cancelable=o,this._propagationState=Gd.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Gd.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Gd.STOPPED)}async(t){this._propagationState|=Gd.PAUSED;const r=(i,n)=>{this._propagationState&=~Gd.PAUSED;const o=this._resumeCallback;if(this._resumeCallback=null,o&&o(),n)throw i;return i};return(typeof t=="function"?t():t).then(i=>r(i,!1),i=>r(i,!0))}shouldPausePropagation(t){return!!(this._propagationState&Gd.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Gd;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Gd||(Gd={}));const xp={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let gke=class{};const vke=gke;function $c(e){return e!=null&&"open"in e&&"declaredClass"in e}function gq(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const bke=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([lt(()=>[this.ui,this.popup],([r,i],n)=>{const o="popup",u="manual";if(n){const[f,m]=n;f&&$c(m)&&(m.view=null,gq(m)&&f.remove(m,o))}r&&$c(i)&&(i.view=this,gq(i)&&r.add(i,{key:o,position:u,internal:!0}))},ri),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&($c(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),$c(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)}))},xp.WIDGET)]),_g(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Ce(()=>import("./Popup-D1zFtzig.js"),__vite__mapDeps([115,51,116,2,117,118,119,120,121,50,48,49,11,10,14]),import.meta.url)})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if($c(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void Ne.getLogger(this).error(new be("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),$c(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,i){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,i),i)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!$c(this.popup))return this._popupSetupTask=$N(async i=>{const{default:n}=await Ce(()=>import("./Popup-D1zFtzig.js"),__vite__mapDeps([115,51,116,2,117,118,119,120,121,50,48,49,11,10,14]),import.meta.url);if(Zr(i),!this.popup||$c(this.popup))return;const o=this.popup;delete o.open,delete o.close,this.popup=new n(o)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:i},n){const o=[],u=[];let f=!1;const m=p5e(n,ke("popup-view-fetch-timeout")??xke),v=T=>{const I=new wke(T);return u.push(I),o.push(I.promise),I},_=T=>{const I=u.at(-1);return I&&I.layerView===T&&!f?I:v(T)};for(const T of i)"graphic"in T?(_(T.layerView).graphics.push(T.graphic),f=!1):(o.push(T.layerView.fetchPopupFeaturesAtLocation(T.mapPoint,m)),f=!0);u.map(T=>T.resolve(m));const $=d5e(o).then(T=>T.filter(I=>!!I).flat());return{pendingFeatures:o,allGraphicsPromise:$,location:r}}async _getPopupHits(r,i){const{hits:n,location:o}=await this.popupHitTest(r);Zr(i);const u=[];for(const f of n)if("graphic"in f){if(this._isValidPopupGraphic(f.graphic,i)){const m=this._isValidPopupGraphicsLayerView(f.layerView)?f.layerView:void 0;u.push({graphic:f.graphic,layerView:m})}}else this._isValidPopupLocationLayerView(f.layerView)&&u.push({mapPoint:f.mapPoint,layerView:f.layerView});return{hits:u,location:o}}_isValidPopupGraphic(r,i){return r&&!!r.getEffectivePopupTemplate(i==null?void 0:i.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return b([M({cast(r){return!r||$c(r)||typeof r=="object"&&(r.open=i=>(r1(Ne.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(i)),r.close=()=>(r1(Ne.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),r}})],t.prototype,"popup",void 0),b([M()],t.prototype,"popupEnabled",void 0),t=b([se("esri.views.PopupView")],t),t};let wke=class{constructor(t){this.layerView=t,this._resolver=da(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:r,graphics:i,_resolver:n}=this;if(!r)return n.resolve(i),n.promise;let o;return r.fetchPopupFeaturesFromGraphics(i,t).catch(u=>(o=u,null)).then(u=>{u?n.resolve(u):n.reject(o)}),n.promise}};const xke=5e3;function Np(e,t,r=ut){return t||(t=new r),t===e||(t.removeAll(),_ke(e)?t.addMany(e):e&&t.add(e)),t}function Coe(e){return e}function _ke(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var qd;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(qd||(qd={}));let Ske=class{constructor(){this._resolver=da(),this._status=qd.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=qd.RESOLVED,this._cleanUp()},()=>{this._status=qd.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===qd.RESOLVED}isRejected(){return this._status===qd.REJECTED}isFulfilled(){return this._status!==qd.PENDING}abort(){this._resolver.reject(pn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=da(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==i||Vs(n)||this._resolver.reject(n)}),t.resolve()}};const yx=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new Ske,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=b([se("esri.core.Promise")],t),t};let X4=class extends yx(St){};X4=b([se("esri.core.Promise")],X4);const $ke="not-loaded",Mke="loading",Tke="failed",vq="loaded",Eoe=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const n=this.load.bind(this);this.load=o=>{const u=new Promise((f,m)=>{const v=BL(o,m);this.destroyed&&m(new be("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(f,m).finally(()=>{v&&v.remove()})});if(this.loadStatus===$ke){this._set("loadStatus",Mke);const f=this._loadController=new AbortController;n({signal:f.signal})}return i(),u}})),this.when(()=>{this._set("loadStatus",vq),this._loadController=null},i=>{this._set("loadStatus",Tke),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=i1(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===vq}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new be("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return b([M({readOnly:!0})],t.prototype,"loaded",null),b([M({readOnly:!0})],t.prototype,"loadError",void 0),b([M({clonable:!1})],t.prototype,"loadStatus",void 0),b([M({type:[pl],readOnly:!0})],t.prototype,"loadWarnings",null),t=b([se("esri.core.Loadable")],t),t};let Lb=class extends Eoe(X4){};Lb=b([se("esri.core.Loadable")],Lb),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=Eoe,e.isLoadable=t}(Lb||(Lb={}));const yl=Lb;async function YN(e,t){return await e.load(),kke(e,t)}async function kke(e,t){const r=[],i=(...o)=>{for(const u of o)u!=null&&(Array.isArray(u)?i(...u):ut.isCollection(u)?u.forEach(f=>i(f)):yl.isLoadable(u)&&r.push(u))};t(i);let n=null;if(await s$e(r,async o=>{const u=await I7(Cke(o)?o.loadAll():o.load());u.ok!==!1||n||(n=u)}),n)throw n.error;return e}function Cke(e){return"loadAll"in e&&typeof e.loadAll=="function"}let q_;function Eke(e){return q_&&!q_.destroyed||(q_=e()),q_}var UI;const Ike=new hr({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ca=UI=class extends St{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new UI({categories:this.categories?ve(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(u=>Array.isArray(u)?JSON.stringify(u):u));let i="";if(this.extent){const u=C7(this.extent,It.WGS84);u!=null&&(i=`${u.xmin},${u.ymin},${u.xmax},${u.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const o={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(u=>Ike.toJSON(u.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};b([M()],Ca.prototype,"categories",void 0),b([M()],Ca.prototype,"disableExtraQuery",void 0),b([M({type:mr})],Ca.prototype,"extent",void 0),b([M()],Ca.prototype,"filter",void 0),b([M()],Ca.prototype,"num",void 0),b([M()],Ca.prototype,"query",void 0),b([M()],Ca.prototype,"sortField",void 0),b([M()],Ca.prototype,"sortOrder",null),b([M()],Ca.prototype,"start",void 0),Ca=UI=b([se("esri.portal.PortalQueryParams")],Ca);const Zu=Ca;var GI;let gn=GI=class extends Fe{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new be("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new GI({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=xi(Zu,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Zu,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Zu,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(i=>{const n=i.contentCategorySetsGroupQuery;if(n){const o=new Zu({disableExtraQuery:!0,num:1,query:n});return r.queryGroups(o,t)}throw new be("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],o=new Zu({num:1,query:`typekeywords:"${e}"`});return n.queryItems(o,t)}throw new be("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(n=>{const o=n==null?void 0:n.categorySchema;return o!=null&&o.length?o:[]}):[])}};b([M()],gn.prototype,"access",void 0),b([M({type:Date})],gn.prototype,"created",void 0),b([M()],gn.prototype,"description",void 0),b([M()],gn.prototype,"id",void 0),b([M()],gn.prototype,"isInvitationOnly",void 0),b([M({type:Date})],gn.prototype,"modified",void 0),b([M()],gn.prototype,"owner",void 0),b([M()],gn.prototype,"portal",void 0),b([M()],gn.prototype,"snippet",void 0),b([M()],gn.prototype,"sortField",void 0),b([M()],gn.prototype,"sortOrder",void 0),b([M()],gn.prototype,"sourceJSON",void 0),b([M()],gn.prototype,"tags",void 0),b([M()],gn.prototype,"thumbnail",void 0),b([M({readOnly:!0})],gn.prototype,"thumbnailUrl",null),b([M()],gn.prototype,"title",void 0),b([M({readOnly:!0})],gn.prototype,"url",null),gn=GI=b([se("esri.portal.PortalGroup")],gn);const qI=gn;let Tf=class extends St{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};b([M()],Tf.prototype,"nextQueryParams",void 0),b([M()],Tf.prototype,"queryParams",void 0),b([M()],Tf.prototype,"results",void 0),b([M()],Tf.prototype,"total",void 0),Tf=b([se("esri.portal.PortalQueryResult")],Tf);const Pke=Tf;let Oc=class extends Fe{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new be("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};b([M({type:Date})],Oc.prototype,"created",void 0),b([M()],Oc.prototype,"id",void 0),b([M()],Oc.prototype,"portal",void 0),b([M()],Oc.prototype,"title",void 0),b([M({readOnly:!0})],Oc.prototype,"url",null),b([M()],Oc.prototype,"username",void 0),Oc=b([se("esri.portal.PortalFolder")],Oc);const Oke=Oc;var HI;let pi=HI=class extends Fe{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,i=e==null?void 0:e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let o=this.userContentUrl;return i&&(o+="/"+(typeof i=="string"?i:i.id)),this.portal.request(o+"/addItem",n).then(u=>(t.id=u.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.concat();const r=this.userContentUrl+"/deleteItems",i=[],n=e.map(o=>o.id);if(n.length){const o={method:"post",query:{items:n.join(","),permanentDelete:t}},u=await this.portal.request(r,o);for(const f of u.results){const m=e.find($=>f.itemId===$.id),v=f.success;let _=null;v?(m.id=null,m.portal=null):f.error&&(_=new be("portal:delete-item-failed",f.error.message,f.error)),i.push({item:m,success:v,error:_})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const n=Oke.fromJSON(i);return n.portal=this.portal,n}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=qI.fromJSON(r);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await Ce(()=>Promise.resolve().then(()=>Ooe),void 0,import.meta.url),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:i});let o;return n!=null&&n.items?(o=n.items.map(u=>{const f=r.fromJSON(u);return f.portal=this.portal,f}),await Promise.all(o.map(u=>u.load())),{items:o,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new qI({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new be("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new be("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new HI({sourceJSON:e});return t.read(e),t}};b([M()],pi.prototype,"access",void 0),b([M({type:Date})],pi.prototype,"created",void 0),b([M()],pi.prototype,"culture",void 0),b([M()],pi.prototype,"description",void 0),b([M()],pi.prototype,"email",void 0),b([M()],pi.prototype,"favGroupId",void 0),b([M()],pi.prototype,"fullName",void 0),b([M({type:Date})],pi.prototype,"modified",void 0),b([M()],pi.prototype,"orgId",void 0),b([M()],pi.prototype,"portal",void 0),b([M()],pi.prototype,"preferredView",void 0),b([M()],pi.prototype,"privileges",void 0),b([M()],pi.prototype,"region",void 0),b([M()],pi.prototype,"role",void 0),b([M()],pi.prototype,"roleId",void 0),b([M()],pi.prototype,"sourceJSON",void 0),b([M()],pi.prototype,"thumbnail",void 0),b([M({readOnly:!0})],pi.prototype,"thumbnailUrl",null),b([M()],pi.prototype,"units",void 0),b([M({readOnly:!0})],pi.prototype,"userContentUrl",null),b([M({readOnly:!0})],pi.prototype,"url",null),b([M()],pi.prototype,"username",void 0),b([M()],pi.prototype,"userLicenseTypeId",void 0),b([M()],pi.prototype,"userType",void 0),pi=HI=b([se("esri.portal.PortalUser")],pi);const ZN=pi;var qo;let H_;const bq={PortalGroup:()=>Promise.resolve({default:qI}),PortalItem:()=>Ce(()=>Promise.resolve().then(()=>Ooe),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:ZN})};let et=qo=class extends sx(yl){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=wr.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){wq.unregister(this),this.defaultBasemap=ai(this.defaultBasemap),this.defaultDevBasemap=ai(this.defaultDevBasemap),this.defaultVectorBasemap=ai(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=zi(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)wr.request.trustedServers.includes(t)||wr.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=ZN.fromJSON(e),t.portal=this),t}load(e){const t=Ce(()=>Promise.resolve().then(()=>aCe),void 0,import.meta.url).then(({default:r})=>{Zr(e),H_=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var i;if(sr){const n=sr;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==qo.AUTH_MODE_AUTO&&this.authMode!==qo.AUTH_MODE_NO_PROMPT||((i=this._esriIdCredentialCreateHandle)==null||i.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",Ake(new WeakRef(this))),wq.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Ce(async()=>{const{default:r}=await import("./ElevationLayer-C7CzeeqU.js");return{default:r}},__vite__mapDeps([122,123,124,125,51]),import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(e,t);r.unshift(...i)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Ih(e)?Promise.reject(pn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Zu({num:100,sortField:"title"});if(t!=null&&t.length){const i=[];for(const n of t)i.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Ih(e)?Promise.reject(pn()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||ua();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||ua();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Eke(()=>new qo)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:ua().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(i,n)}queryPortal(e,t,r,i){const n=xi(Zu,t),o=u=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then(f=>{const m=n.clone();return m.start=f.nextStart,new Pke({nextQueryParams:m,queryParams:n,total:f.total,results:qo._resultsToTypedArray(u,{portal:this},f,i)})}).then(f=>Promise.all(f.results.map(m=>typeof m.when=="function"?m.when():f)).then(()=>f,m=>(Ga(m),f)));return r&&bq[r]?bq[r]().then(({default:u})=>(Zr(i),o(u))):o()}signIn(){if(this.authMode===qo.AUTH_MODE_ANONYMOUS||this.authMode===qo.AUTH_MODE_NO_PROMPT&&!sr)return Promise.reject(new be("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return sr?sr.getCredential(this.restUrl,{prompt:this.authMode!==qo.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(i=>{const n=qo._resultsToTypedArray(r,{portal:this},i);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():i)).then(()=>n,()=>n)})}request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===qo.AUTH_MODE_ANONYMOUS||this.authMode===qo.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:u="auto",responseType:f="json",signal:m}=t,v={authMode:i,body:n,cacheBust:o,method:u,query:r,responseType:f,timeout:0,signal:m};return t.withCredentials&&(v.withCredentials=!0),Jr(this._normalizeSSL(e),v).then(_=>_.data)}toJSON(){throw new be("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new qo({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new be("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Zu;r.query=e||(wr.apiKey&&Iie(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const i=await this.queryGroups(r,t);if(!i.total)return[];const n=i.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(u=>u.type==="Web Map").map(u=>new H_({portalItem:u})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const i=new Zu({query:r,disableExtraQuery:!0}),n=await this.queryGroups(i,t);if(!n.total)return[];const o=n.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=o.sortField||"name",i.sortOrder=o.sortOrder||"desc";const u=await o.queryItems(i,t);return u.total?u.results.filter(f=>f.type==="Web Scene").map(f=>new H_({portalItem:f})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=H_.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,i){let n;if(r){const o=i!=null?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map(u=>{const f=Object.assign(e?e.fromJSON(u):u,t);return typeof f.load=="function"&&f.load(o),f}))}else n=[];return n}};et.AUTH_MODE_ANONYMOUS="anonymous",et.AUTH_MODE_AUTO="auto",et.AUTH_MODE_IMMEDIATE="immediate",et.AUTH_MODE_NO_PROMPT="no-prompt",b([M()],et.prototype,"access",void 0),b([M()],et.prototype,"allSSL",void 0),b([M()],et.prototype,"authMode",void 0),b([M()],et.prototype,"authorizedCrossOriginDomains",void 0),b([Ge("authorizedCrossOriginDomains")],et.prototype,"readAuthorizedCrossOriginDomains",null),b([M()],et.prototype,"basemapGalleryGroupQuery",void 0),b([M({json:{name:"3DBasemapGalleryGroupQuery"}})],et.prototype,"basemapGalleryGroupQuery3D",void 0),b([M()],et.prototype,"bingKey",void 0),b([M()],et.prototype,"canListApps",void 0),b([M()],et.prototype,"canListData",void 0),b([M()],et.prototype,"canListPreProvisionedItems",void 0),b([M()],et.prototype,"canProvisionDirectPurchase",void 0),b([M()],et.prototype,"canSearchPublic",void 0),b([M()],et.prototype,"canShareBingPublic",void 0),b([M()],et.prototype,"canSharePublic",void 0),b([M()],et.prototype,"canSignInArcGIS",void 0),b([M()],et.prototype,"canSignInIDP",void 0),b([M()],et.prototype,"colorSetsGroupQuery",void 0),b([M()],et.prototype,"commentsEnabled",void 0),b([M({type:Date})],et.prototype,"created",void 0),b([M()],et.prototype,"credential",void 0),b([M()],et.prototype,"culture",void 0),b([M()],et.prototype,"currentVersion",void 0),b([M()],et.prototype,"customBaseUrl",void 0),b([M()],et.prototype,"defaultBasemap",void 0),b([Ge("defaultBasemap")],et.prototype,"readDefaultBasemap",null),b([M()],et.prototype,"defaultDevBasemap",void 0),b([Ge("defaultDevBasemap")],et.prototype,"readDefaultDevBasemap",null),b([M({type:mr})],et.prototype,"defaultExtent",void 0),b([M()],et.prototype,"defaultVectorBasemap",void 0),b([Ge("defaultVectorBasemap")],et.prototype,"readDefaultVectorBasemap",null),b([M()],et.prototype,"description",void 0),b([M()],et.prototype,"devBasemapGalleryGroupQuery",void 0),b([M()],et.prototype,"eueiEnabled",void 0),b([M({readOnly:!0})],et.prototype,"extraQuery",null),b([M()],et.prototype,"featuredGroups",void 0),b([M()],et.prototype,"featuredItemsGroupQuery",void 0),b([M()],et.prototype,"galleryTemplatesGroupQuery",void 0),b([M()],et.prototype,"layoutGroupQuery",void 0),b([M()],et.prototype,"livingAtlasGroupQuery",void 0),b([M()],et.prototype,"hasCategorySchema",void 0),b([M()],et.prototype,"helpBase",void 0),b([M()],et.prototype,"helperServices",void 0),b([M()],et.prototype,"helpMap",void 0),b([M()],et.prototype,"homePageFeaturedContent",void 0),b([M()],et.prototype,"homePageFeaturedContentCount",void 0),b([M()],et.prototype,"httpPort",void 0),b([M()],et.prototype,"httpsPort",void 0),b([M()],et.prototype,"id",void 0),b([M()],et.prototype,"ipCntryCode",void 0),b([M({readOnly:!0})],et.prototype,"isOrganization",null),b([M()],et.prototype,"isPortal",void 0),b([M()],et.prototype,"isReadOnly",void 0),b([M({readOnly:!0})],et.prototype,"itemPageUrl",null),b([M()],et.prototype,"layerTemplatesGroupQuery",void 0),b([M()],et.prototype,"maxTokenExpirationMinutes",void 0),b([M({type:Date})],et.prototype,"modified",void 0),b([M()],et.prototype,"name",void 0),b([M()],et.prototype,"portalHostname",void 0),b([M()],et.prototype,"portalMode",void 0),b([M()],et.prototype,"portalProperties",void 0),b([M()],et.prototype,"region",void 0),b([M()],et.prototype,"recycleBinEnabled",void 0),b([M({readOnly:!0})],et.prototype,"restUrl",null),b([M()],et.prototype,"rotatorPanels",void 0),b([M()],et.prototype,"showHomePageDescription",void 0),b([M()],et.prototype,"sourceJSON",void 0),b([M()],et.prototype,"staticImagesUrl",void 0),b([M({json:{name:"2DStylesGroupQuery"}})],et.prototype,"stylesGroupQuery2d",void 0),b([M({json:{name:"stylesGroupQuery"}})],et.prototype,"stylesGroupQuery3d",void 0),b([M()],et.prototype,"supportsHostedServices",void 0),b([M()],et.prototype,"symbolSetsGroupQuery",void 0),b([M()],et.prototype,"templatesGroupQuery",void 0),b([M()],et.prototype,"thumbnail",void 0),b([M({readOnly:!0})],et.prototype,"thumbnailUrl",null),b([M()],et.prototype,"units",void 0),b([M()],et.prototype,"url",void 0),b([M()],et.prototype,"urlKey",void 0),b([Ge("urlKey")],et.prototype,"readUrlKey",null),b([M()],et.prototype,"user",void 0),b([Ge("user")],et.prototype,"readUser",null),b([M()],et.prototype,"use3dBasemaps",void 0),b([M()],et.prototype,"useStandardizedQuery",void 0),b([M()],et.prototype,"useVectorBasemaps",void 0),b([M()],et.prototype,"vectorBasemapGalleryGroupQuery",void 0),et=qo=b([se("esri.portal.Portal")],et);const Rn=et,wq=new FinalizationRegistry(e=>{e.remove()});function Ake(e){const t=sr;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Ac=class extends St{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:xq(t.path,t.portalItem)}:t}set path(t){t!=null&&la(t)?Ne.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return xq(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const i=this.cdnUrl;if(i==null)throw new be("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:t,query:{token:this.portalItem.apiKey},signal:r==null?void 0:r.signal})}async update(t,r){const{addOrUpdateResources:i}=await Ce(()=>import("./resourceUtils-CLgz0WY2.js"),[],import.meta.url);return await i(this.portalItem,[{resource:this,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"update",r),this}hasPath(){return this.path!=null}};function xq(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&la(e)&&(e=sN(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}b([M()],Ac.prototype,"portalItem",void 0),b([M({type:String,value:null})],Ac.prototype,"path",null),b([Ar("path")],Ac.prototype,"_castPath",null),b([M({type:String,readOnly:!0})],Ac.prototype,"url",null),b([M({type:String,readOnly:!0})],Ac.prototype,"cdnUrl",null),b([M({type:String,readOnly:!0})],Ac.prototype,"itemRelativeUrl",null),Ac=b([se("esri.portal.PortalItemResource")],Ac);const jke=Ac;let Nb=class extends St{constructor(t){super(t),this.created=null,this.rating=null}};b([M()],Nb.prototype,"created",void 0),b([M()],Nb.prototype,"rating",void 0),Nb=b([se("esri.portal.PortalRating")],Nb);const qT=Nb;function nv(e,t){var i;const r=(i=t==null?void 0:t.url)==null?void 0:i.path;if(e&&r&&(e=Ja(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=sN(e,t.portalItem.itemUrl);n!=null&&Rke.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=WI(e,t==null?void 0:t.portal))&&V7.test(e)?QN(e):e}function mx(e,t,r=n3.YES){var n,o;if((e=e&&V7.test(e)?Poe(e):e)==null)return e;!la(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let i=Ja(e);if(t){const u=((n=t.verifyItemRelativeUrls)==null?void 0:n.rootPath)||((o=t.url)==null?void 0:o.path);if(u){const f=WI(u,t.portal),m=WI(i,t.portal);i=sN(m,f,f),i!=null&&i!==m&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=Ioe(i,t==null?void 0:t.portal),la(i)&&(i=sl(i)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!la(i)&&!E1(i)&&r===n3.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function XN(e,t,r){return nv(e,r)}function h1(e,t,r,i){const n=mx(e,i);n!==void 0&&(t[r]=n)}const V7=/\/items\/([^/]+)\/resources\/(.*)/,Rke=/^\.\/resources\//;function Lke(e){const t=(e==null?void 0:e.match(V7))??null;return(t==null?void 0:t[1])??null}function Nke(e){const t=(e==null?void 0:e.match(V7))??null;if(t==null)return null;const r=t[2],i=r.lastIndexOf("/");if(i===-1){const{path:u,extension:f}=LU(r);return{prefix:null,filename:u,extension:f}}const{path:n,extension:o}=LU(r.slice(i+1));return{prefix:r.slice(0,i),filename:n,extension:o}}function Ioe(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?lI(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function WI(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=tN();return mg(i,`${i.scheme}://${r}`)?lI(e,t.portalHostname,r):lI(e,r,t.portalHostname)}function QN(e){if(!e)return e||null;let t=e;return t&&sr&&!sr.findCredential(t)&&(t=bie(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function Poe(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&sr&&!sr.findCredential(t)&&(t=bie(t)),t}var n3;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(n3||(n3={}));const y5t=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return n3},ensureMainOnlineDomain:Ioe,fromCDNUrl:Poe,fromJSON:nv,itemIdFromResourceUrl:Lke,prefixAndFilenameFromResourceUrl:Nke,read:XN,toCDNUrl:QN,toJSON:mx,write:h1},Symbol.toStringTag,{value:"Module"}));var kf;const Fke=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),Dke=new Set(["KML","GeoJson","CSV"]);let Jt=kf=class extends sx(yl){static from(e){return w7(kf,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new mr(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var I;const e=((I=this.type)==null?void 0:I.toLowerCase())||"",t=this.typeKeywords||[],r="esri/images/portal/",i="16";let n,o=!1,u=!1,f=!1,m=!1,v=!1,_=!1,$=!1,T=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(u=t.includes("Table"),f=t.includes("Route Layer"),m=t.includes("Markup"),v=t.includes("Spatiotemporal"),_=t.includes("UtilityNetwork"),n=v&&u?"spatiotemporaltable":u?"table":f?"routelayer":m?"markup":v?"spatiotemporal":_?"utilitynetwork":o?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(v=t.includes("Spatiotemporal"),$=t.includes("Relational"),n=v||$?"mapimages":o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):n=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?n="maps":e==="web scene"?n=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?n="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?n="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?n="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?n="datafiles":e==="360 vr experience"?n="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?n="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?n="addindesktop":e==="pdf"?n="pdf":e==="microsoft word"?n="word":e==="microsoft excel"?n="excel":e==="microsoft powerpoint"?n="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?n="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?n="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?n="layersgray":e==="analysis model"?n="analysismodel":e==="scene package"?n="scenepackage":e==="3dtiles package"?n="3dtileslayerpackage":e==="3dtiles service"?n="3dtileslayer":e==="mobile scene package"?n="mobilescenepackage":e==="tile package"||e==="compact tile package"?n="tilepackage":e==="task file"?n="taskfile":e==="report template"?n="report-template":e==="statistical data collection"?n="statisticaldatacollection":e==="insights workbook"?n="workbook":e==="insights model"?n="insightsmodel":e==="insights page"?n="insightspage":e==="insights theme"?n="insightstheme":e==="hub initiative"?n="hubinitiative":e==="hub page"?n="hubpage":e==="hub site application"?n="hubsite":e==="hub event"?n="hubevent":e==="hub project"?n="hubproject":e==="relational database connection"?n="relationaldatabaseconnection":e==="big data file share"?n="datastorecollection":e==="image collection"?n="imagecollection":e==="desktop style"?n="desktopstyle":e==="style"?n=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?n="dashboard":e==="raster function template"?n="rasterprocessingtemplate":e==="vector tile package"?n="vectortilepackage":e==="ortho mapping project"?n="orthomappingproject":e==="ortho mapping template"?n="orthomappingtemplate":e==="solution"?n="solutions":e==="geopackage"?n="geopackage":e==="deep learning package"?n="deeplearningpackage":e==="real time analytic"?n="realtimeanalytics":e==="big data analytic"?n="bigdataanalytics":e==="feed"?n="feed":e==="excalibur imagery project"?n="excaliburimageryproject":e==="notebook"?n="notebook":e==="storymap"?n="storymap":e==="survey123 add in"?n="survey123addin":e==="mission"?n="mission":e==="mission report"?n="missionreport":e==="mission template"?n="missiontemplate":e==="quickcapture project"?n="quickcaptureproject":e==="pro report"?n="proreport":e==="pro report template"?n="proreporttemplate":e==="urban model"?n="urbanmodel":e==="web experience"?n="experiencebuilder":e==="web experience template"?n="webexperiencetemplate":e==="experience builder widget"?n="experiencebuilderwidget":e==="experience builder widget package"?n="experiencebuilderwidgetpackage":e==="workflow"?n="workflow":e==="kernel gateway connection"?n="kernelgatewayconnection":e==="insights script"?n="insightsscript":e==="hub initiative template"?n="hubinitiativetemplate":e==="storymap theme"?n="storymaptheme":e==="knowledge graph"?n="knowledgegraph":e==="knowledge graph layer"?n="knowledgegraphlayer":e==="knowledge studio project"?n="knowledgestudio":e==="native application"?n="nativeapp":e==="native application installer"?n="nativeappinstaller":e==="web link chart"?n="linkchart":e==="knowledge graph web investigation"?n="investigation":e==="ogcfeatureserver"?n="features":e==="pro project"?n="proproject":e==="insights workbook package"?n="insightsworkbookpackage":e==="apache parquet"?n="apacheparquet":e==="notebook code snippet library"?n="notebookcodesnippets":e==="suitability model"?n="suitabilitymodel":e==="esri classifier definition"?n="classifierdefinition":e==="esri classification schema"?n="classificationschema":e==="insights data engineering workbook"?n="dataengineeringworkbook":e==="insights data engineering model"?n="dataengineeringmodel":e==="deep learning studio project"?n="deeplearningproject":e==="discussion"?n="discussion":e==="allsource project"?n="allsourceproject":e==="api key"?n="apikey":e==="data pipeline"?n="datapipelines":e==="group layer"?(T=t.includes("Map"),n=T?"layergroup2d":"layergroup"):n=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",n?Or(r+n+i+".png"):null}get isLayer(){return this.type!=null&&Fke.has(this.type)}get itemCdnUrl(){return QN(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var r,i,n;const e=(r=this.portal)==null?void 0:r.restUrl;if(!e)return null;const t=this.owner||((n=(i=this.portal)==null?void 0:i.user)==null?void 0:n.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Rn.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(i=>{this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof qT&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new qT({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:ve(this.applicationProxies),avgRating:this.avgRating,categories:ve(this.categories),created:ve(this.created),culture:this.culture,description:this.description,extent:ve(this.extent),groupCategories:ve(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ve(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ve(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ve(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ve(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new kf({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var r;const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]=(r=e[i])==null?void 0:r.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new qT(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},kf)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,r={method:"post"};r.query=this.createPostQuery();for(const i in r.query)r.query[i]===null&&(r.query[i]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new be("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new be("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:i,folder:n,tags:o,title:u}=e||{},f={method:"post",query:{copyPrivateResources:i==="all",folder:typeof n=="string"?n:n==null?void 0:n.id,includeResources:!!i,tags:o==null?void 0:o.join(","),title:u}},{itemId:m}=await t.request(`${r}/copy`,f);return new kf({id:m,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if(typeof t=="string")E1(t)?i.query={data:t}:i.query={url:Ja(t)},r!=null&&(i.query.filename=r);else{const n=new FormData;r!=null?n.append("file",t,r):n.append("file",t),i.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,i).then(()=>this.reload())}):Promise.reject(new be("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await Ce(()=>import("./resourceUtils-CLgz0WY2.js"),[],import.meta.url);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:i}=await Ce(()=>import("./resourceUtils-CLgz0WY2.js"),[],import.meta.url);return e.portalItem=this,await i(this,[{resource:e,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await Ce(()=>import("./resourceUtils-CLgz0WY2.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new be("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await Ce(()=>import("./resourceUtils-CLgz0WY2.js"),[],import.meta.url);return t(this,e)}resourceFromPath(e){return new jke({portalItem:this,path:e})}toJSON(){var r,i;const e=this.extent,t={accessInformation:this.accessInformation,categories:ve(this.categories),created:(r=this.created)==null?void 0:r.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(i=this.modified)==null?void 0:i.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ve(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ve(this.typeKeywords),url:this.url};return C_e(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new kf({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};b([M({type:["private","shared","org","public"]})],Jt.prototype,"access",void 0),b([M()],Jt.prototype,"accessInformation",void 0),b([M({type:String})],Jt.prototype,"apiKey",void 0),b([M({json:{read:{source:"appProxies"}}})],Jt.prototype,"applicationProxies",void 0),b([M()],Jt.prototype,"avgRating",void 0),b([M()],Jt.prototype,"categories",void 0),b([M({type:Date})],Jt.prototype,"created",void 0),b([M()],Jt.prototype,"culture",void 0),b([M()],Jt.prototype,"description",void 0),b([M({readOnly:!0})],Jt.prototype,"displayName",null),b([M({type:mr})],Jt.prototype,"extent",void 0),b([Ge("extent")],Jt.prototype,"readExtent",null),b([M()],Jt.prototype,"groupCategories",void 0),b([M({readOnly:!0})],Jt.prototype,"iconUrl",null),b([M()],Jt.prototype,"id",void 0),b([M({readOnly:!0})],Jt.prototype,"isLayer",null),b([M({type:Boolean,readOnly:!0})],Jt.prototype,"isOrgItem",void 0),b([M()],Jt.prototype,"itemControl",void 0),b([M({readOnly:!0})],Jt.prototype,"itemPageUrl",null),b([M({readOnly:!0})],Jt.prototype,"itemUrl",null),b([M()],Jt.prototype,"licenseInfo",void 0),b([M({type:Date})],Jt.prototype,"modified",void 0),b([M()],Jt.prototype,"name",void 0),b([M()],Jt.prototype,"numComments",void 0),b([M()],Jt.prototype,"numRatings",void 0),b([M()],Jt.prototype,"numViews",void 0),b([M()],Jt.prototype,"owner",void 0),b([M()],Jt.prototype,"ownerFolder",void 0),b([M({type:Rn})],Jt.prototype,"portal",void 0),b([M()],Jt.prototype,"screenshots",void 0),b([M()],Jt.prototype,"size",void 0),b([M()],Jt.prototype,"snippet",void 0),b([M()],Jt.prototype,"sourceJSON",void 0),b([M({type:String})],Jt.prototype,"sourceUrl",void 0),b([M({type:String})],Jt.prototype,"spatialReference",void 0),b([M()],Jt.prototype,"tags",void 0),b([M()],Jt.prototype,"thumbnail",void 0),b([M({readOnly:!0})],Jt.prototype,"thumbnailUrl",null),b([M()],Jt.prototype,"title",void 0),b([M()],Jt.prototype,"type",void 0),b([M()],Jt.prototype,"typeKeywords",void 0),b([M({type:String,json:{read(e,t){var r;if(Dke.has(t.type)){const i=(r=this.portal)==null?void 0:r.restUrl;e||(e=i&&this.id?`${i}/content/items/${this.id}/data`:null)}return e}}})],Jt.prototype,"url",void 0),b([M({readOnly:!0})],Jt.prototype,"userItemUrl",null),Jt=kf=b([se("esri.portal.PortalItem")],Jt);const Wm=Jt,Ooe=Object.freeze(Object.defineProperty({__proto__:null,default:Wm},Symbol.toStringTag,{value:"Module"}));async function zke(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await zN("esri/t9n/basemaps");return r[e]||r[t]}const Tg={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Or("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Or("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Or("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Or("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Or("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Or("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return Or("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Or("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Or("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Or("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Or("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Or("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Or("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Or("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Or("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Or("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},Bke=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let pd=class extends St{constructor(t){super(t),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const t=ua().toLowerCase();switch(t){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const r=$$e(t);return r==="pt"?"pt-BR":r&&Bke.has(r)?r:"global"}};b([M()],pd.prototype,"id",void 0),b([M()],pd.prototype,"language",void 0),b([M()],pd.prototype,"places",void 0),b([M()],pd.prototype,"serviceUrl",void 0),b([M()],pd.prototype,"worldview",void 0),pd=b([se("esri.support.BasemapStyle")],pd);const Vke=pd;function Uke(e){return Aoe(e)||Gke(e)}function g5t(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function Gke(e){return(e==null?void 0:e.type)==="scene"}function qke(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Cf(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function Aoe(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function Hke(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const v5t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function joe(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function U7(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function b5t(e){var t;return((e==null?void 0:e.type)==="feature"||(e==null?void 0:e.type)==="subtype-group")&&((t=e.source)==null?void 0:t.type)==="feature-layer"}function Wke(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const r=e.activeLayer.tileMatrixSets;if(r)return r}return null}async function Roe(e,t){const r=sr==null?void 0:sr.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const n=`${e.substring(0,i)}/rest/info`,o=t!=null?t.signal:null,{data:u}=await Jr(n,{query:{f:"json"},responseType:"json",signal:o});return(u==null?void 0:u.owningSystemUrl)||null}function Jke(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Kke(e){return Jke(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Yke(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Zke(e){return!!Yke(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Xke=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),Qke=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function eCe(e){return e.layerContainerType==="basemap"?Xke:e.layerContainerType==="operational-layers"?Qke:null}function tCe(e,t){if(t.restrictedWebMapWriting){const r=eCe(t);return r==null||r.has(e.type)&&!U7(e)}return!0}function rCe(e,t){var r;if(t)if(U7(e)){const i=X3("featureCollection.layers",t),n=(r=i==null?void 0:i[0])==null?void 0:r.layerDefinition;n&&_q(e,n)}else e.type!=="group"&&_q(e,t)}function _q(e,t){"maxScale"in e&&(t.maxScale=$4(e.maxScale)??void 0),"minScale"in e&&(t.minScale=$4(e.minScale)??void 0)}function iCe(e,t){if(rCe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=$4(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(U7(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function JI(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r!=null&&r.messages&&r.messages.push(new be("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(U7(e)&&!e.isTable)t=e.resourceInfo;else if(tCe(e,r)){const i={};return e.write(i,r)?i:null}return t!=null&&iCe(e,t=ve(t)),t}var Fb;let nCe=0,Ho=Fb=class extends sx(yl){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+nCe++,this.baseLayers=new ut,this.referenceLayers=new ut;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type==="elevation"&&Ne.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=i=>{i.parent=null};this.addHandles([this.baseLayers.on("after-add",i=>t(i.item)),this.referenceLayers.on("after-add",i=>t(i.item)),this.baseLayers.on("after-remove",i=>r(i.item)),this.referenceLayers.on("after-remove",i=>r(i.item))])}initialize(){this.when().catch(e=>{Ne.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=ai(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Np(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(n=>{const o=JI(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&i.push(o)}),this.referenceLayers.forEach(n=>{const o=JI(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&(n.type!=="scene"&&(o.isReference=!0),i.push(o))})),t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",Np(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return YN(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>u4(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>u4(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new Fb({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var r;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(i=>{const n=ve(i);return n.url&&ac(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&ac(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:i}=this;Zr(e);const n=[];if(t){const o=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,o,e)),t.data.id&&!t.data.title){const u=t.data.id;n.push(zke(u).then(f=>{f&&this.read({title:f},t.context)}))}}else r?n.push(this._loadFromItem(r,e)):i&&n.push(this._loadFromStylesService(i,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){var m,v;const i=(m=this.resourceInfo)==null?void 0:m.context,n=((v=this.portalItem)==null?void 0:v.portal)||(i==null?void 0:i.portal)||null,o=oCe[(i==null?void 0:i.origin)||""]??"web-map",{populateOperationalLayers:u}=await Ce(async()=>{const{populateOperationalLayers:_}=await import("./layersCreator-C8AiMP4K.js");return{populateOperationalLayers:_}},__vite__mapDeps([126,127,128,129]),import.meta.url),f=[];if(Zr(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const _={context:{...i,origin:o,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},$=O=>o==="web-scene"&&O.layerType==="ArcGISSceneServiceLayer"||O.isReference,T=u(this.baseLayers,e.baseMapLayers.filter(O=>!$(O)),_);f.push(T);const I=u(this.referenceLayers,e.baseMapLayers.filter($),_);f.push(I)}await Promise.allSettled(f)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),n=Zn(e.itemUrl??"");return this._set("resourceInfo",{data:i.baseMap??{},context:{origin:sCe[e.type||""]??"web-map",portal:e.portal||Rn.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Rn.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,i=(await Jr(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview},signal:t==null?void 0:t.signal})).data,n=Zn(r);return this._set("resourceInfo",{data:i.baseMap??{},context:{origin:"web-map",url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}static fromId(e){const t=Tg[e];return t?t.itemId?new Fb({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Fb.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};b([M({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ut}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],Ho.prototype,"baseLayers",null),b([M({type:String,json:{origins:{"web-scene":{write:!0}}}})],Ho.prototype,"id",void 0),b([M({type:Wm})],Ho.prototype,"portalItem",void 0),b([M()],Ho.prototype,"referenceLayers",null),b([M({readOnly:!0})],Ho.prototype,"resourceInfo",void 0),b([M({type:It})],Ho.prototype,"spatialReference",void 0),b([M({type:Vke})],Ho.prototype,"style",void 0),b([M()],Ho.prototype,"thumbnailUrl",void 0),b([M({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Ho.prototype,"title",void 0),b([Xe("title")],Ho.prototype,"writeTitle",null),Ho=Fb=b([se("esri.Basemap")],Ho);const sCe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},oCe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},_p=Ho,aCe=Object.freeze(Object.defineProperty({__proto__:null,default:_p},Symbol.toStringTag,{value:"Module"})),Q4={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Loe(e){return!!Q4[e]||!!Q4[e.toLowerCase()]}function eF(e){return Q4[e]??Q4[e.toLowerCase()]}function lCe(e){return[...eF(e)]}function HT(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Noe(e,t,r,i=1){const n=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,u=2*r-o;return[Math.round(255*HT(u,o,n+1/3)),Math.round(255*HT(u,o,n)),Math.round(255*HT(u,o,n-1/3)),i]}function uCe(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,o=t?e.length===9:e.length===5;let u=+("0x"+e.substr(1));if(isNaN(u))return null;const f=[0,0,0,1];let m;return o&&(m=u&i,u>>=r,f[3]=n*m/255),m=u&i,u>>=r,f[2]=n*m,m=u&i,u>>=r,f[1]=n*m,m=u&i,u>>=r,f[0]=n*m,f}function W_(e){return fl(qL(e),0,255)}function J_(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function K_(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let $S=class kn{static blendColors(t,r,i,n=new kn){return n.r=Math.round(t.r+(r.r-t.r)*i),n.g=Math.round(t.g+(r.g-t.g)*i),n.b=Math.round(t.b+(r.b-t.b)*i),n.a=t.a+(r.a-t.a)*i,n._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const n=i[2].split(/\s*,\s*/),o=i[1];if(o==="rgb"&&n.length===3||o==="rgba"&&n.length===4){const u=n[0];if(u.charAt(u.length-1)==="%"){const f=n.map(m=>2.56*parseFloat(m));return n.length===4&&(f[3]=parseFloat(n[3])),kn.fromArray(f,r)}return kn.fromArray(n.map(f=>parseFloat(f)),r)}if(o==="hsl"&&n.length===3||o==="hsla"&&n.length===4)return kn.fromArray(Noe(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new kn){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const i=parseInt(t.substring(1,2),16),n=parseInt(t.substring(2,3),16),o=parseInt(t.substring(3,4),16),u=t.length===5?15:parseInt(t.substring(4),16);return kn.fromArray([i+16*i,n+16*n,o+16*o,(u+16*u)/255],r)}case 7:case 9:{const i=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),u=t.length===7?255:parseInt(t.substring(7),16);return kn.fromArray([i,n,o,u/255],r)}default:return null}}static fromArray(t,r=new kn){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=Loe(t)?eF(t):null;return i&&kn.fromArray(i,r)||kn.fromRgb(t,r)||kn.fromHex(t,r)}static fromJSON(t){return t!=null?new kn([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?kn.fromString(t,this):Array.isArray(t)?kn.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof kn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,i=(t==null?void 0:t.digits)??6,n=i===3||i===4,o=i===4||i===8,u=`#${K_(this.r,n)}${K_(this.g,n)}${K_(this.b,n)}${o?K_(Math.round(255*this.a),n):""}`;return r?u.toUpperCase():u}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=kn.AlphaMode.ALWAYS){const r=W_(this.r),i=W_(this.g),n=W_(this.b);return t===kn.AlphaMode.ALWAYS||this.a!==1?[r,i,n,W_(255*this.a)]:[r,i,n]}clone(){return new kn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(J_(this.r,0,255)),this.g=Math.round(J_(this.g,0,255)),this.b=Math.round(J_(this.b,0,255)),this.a=J_(this.a,0,1),this}_set(t,r,i,n){this.r=t,this.g=r,this.b=i,this.a=n}};$S.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}($S||($S={}));const Dt=$S;function w5t(e){}function cCe(e){return()=>e}function Ct(e,t={}){const r=e instanceof hr?e:new hr(e,t),i={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(i.nonNullable=t.nonNullable),M(i)}var KI;let MS=KI=class extends Fe{constructor(e){super(e),this.type="none"}clone(){return new KI({type:this.type})}};b([Ct({none:"none",stayAbove:"stay-above"})],MS.prototype,"type",void 0),MS=KI=b([se("esri.ground.NavigationConstraint")],MS);function G7(e){const t=qL(100*(1-e));return Math.max(0,Math.min(t,100))}function s3(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var YI;let jc=YI=class extends sx(yl){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ut;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type!=="elevation"&&i.type!=="base-elevation"&&Ne.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=i=>{i.parent=null};this.addHandles([this.layers.on("after-add",i=>t(i.item)),this.layers.on("after-remove",i=>r(i.item))])}initialize(){this.when().catch(e=>{Vs(e)||Ne.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)ai(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Np(e,this._get("layers")))}writeLayers(e,t,r,i){const n=[];e&&(i={...i,layerContainerType:"ground"},e.forEach(o=>{if("write"in o){const u={};cCe(o)().write(u,i)&&n.push(u)}else i!=null&&i.messages&&i.messages.push(new be("layer:unsupported",`Layers (${o.title}, ${o.id}) of type '${o.declaredClass}' cannot be persisted in the ground`,{layer:o}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return YN(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Ce(()=>import("./ElevationQuery-DFxzuN3F.js"),[],import.meta.url);Zr(t);const i=new r,n=this.layers.filter(Sq).toArray();return i.queryAll(n,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await Ce(()=>import("./ElevationQuery-DFxzuN3F.js"),[],import.meta.url);Zr(t);const i=new r,n=this.layers.filter(Sq).toArray();return i.createSamplerAll(n,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:ve(this.surfaceColor),navigationConstraint:ve(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new YI({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const i=(t==null?void 0:t.origin)||"web-scene",n=(t==null?void 0:t.portal)||null,o=(t==null?void 0:t.url)||null,{populateOperationalLayers:u}=await Ce(async()=>{const{populateOperationalLayers:m}=await import("./layersCreator-C8AiMP4K.js");return{populateOperationalLayers:m}},__vite__mapDeps([126,127,128,129]),import.meta.url);Zr(r);const f=[];if(e.layers&&Array.isArray(e.layers)){const m={context:{origin:i,url:o,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};f.push(u(this.layers,e.layers,m))}await Promise.allSettled(f)}};function hCe(e){return e&&"createElevationSampler"in e}function Sq(e){return e.type==="elevation"||hCe(e)}b([M({json:{read:!1}})],jc.prototype,"layers",null),b([Xe("layers")],jc.prototype,"writeLayers",null),b([M({readOnly:!0})],jc.prototype,"resourceInfo",void 0),b([M({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Wr,read:{reader:s3,source:"transparency"},write:{writer:(e,t)=>{t.transparency=G7(e)},target:"transparency"}}})],jc.prototype,"opacity",void 0),b([M({type:Dt,json:{type:[Wr],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],jc.prototype,"surfaceColor",void 0),b([M({type:MS,json:{write:!0}})],jc.prototype,"navigationConstraint",void 0),jc=YI=b([se("esri.Ground")],jc);const e6=jc,Y_=new WeakMap;function Foe(e){return!e.destroyed&&(Y_.has(e)||e.addHandles([lt(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||Foe(t))},t=>Y_.set(e,t),ta),Kr(()=>Y_.delete(e))]),Y_.get(e))}function dCe(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function pCe(e){var t,r;return!(!dCe(e)||!((r=(t=Kke(e))==null?void 0:t.operations)!=null&&r.supportsEditing)||"editingEnabled"in e&&!Zke(e)||Foe(e))}const fCe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,yCe="screenUtils.toPt: input not recognized!",Doe=96;function mCe(e){return e?e/72*Doe:0}function ml(e){return e?72*e/Doe:0}function Tr(e){if(typeof e=="string"){const t=e.match(fCe);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",o=i==="px"?ml(r):r;return n?-o:o}return console.warn(yCe),null}return e}function hs(e=0,t=0){return{x:e,y:t}}function x5t(e=0,t=0){return[e,t]}function q7(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function gCe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function vCe(e,t,r,i,n,o,u,f,m,v,_,$,T,I,O,A){const N=new Float32Array(16);return N[0]=e,N[1]=t,N[2]=r,N[3]=i,N[4]=n,N[5]=o,N[6]=u,N[7]=f,N[8]=m,N[9]=v,N[10]=_,N[11]=$,N[12]=T,N[13]=I,N[14]=O,N[15]=A,N}function bCe(e,t){return new Float32Array(e,t,16)}const wCe=q7();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:wCe,clone:gCe,create:q7,createView:bCe,fromValues:vCe},Symbol.toStringTag,{value:"Module"}));function xCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Kp(e,t,r,i,n,o,u,f,m,v,_,$,T,I,O,A,N){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=u,e[6]=f,e[7]=m,e[8]=v,e[9]=_,e[10]=$,e[11]=T,e[12]=I,e[13]=O,e[14]=A,e[15]=N,e}function H7(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Yp(e,t){if(e===t){const r=t[1],i=t[2],n=t[3],o=t[6],u=t[7],f=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=o,e[11]=t[14],e[12]=n,e[13]=u,e[14]=f}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function _Ce(e,t){return zoe(e,t)||H7(e),e}function zoe(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5],m=t[6],v=t[7],_=t[8],$=t[9],T=t[10],I=t[11],O=t[12],A=t[13],N=t[14],F=t[15],z=r*f-i*u,B=r*m-n*u,G=r*v-o*u,H=i*m-n*f,J=i*v-o*f,Z=n*v-o*m,re=_*A-$*O,q=_*N-T*O,X=_*F-I*O,ie=$*N-T*A,le=$*F-I*A,ue=T*F-I*N;let ne=z*ue-B*le+G*ie+H*X-J*q+Z*re;return ne?(ne=1/ne,e[0]=(f*ue-m*le+v*ie)*ne,e[1]=(n*le-i*ue-o*ie)*ne,e[2]=(A*Z-N*J+F*H)*ne,e[3]=(T*J-$*Z-I*H)*ne,e[4]=(m*X-u*ue-v*q)*ne,e[5]=(r*ue-n*X+o*q)*ne,e[6]=(N*G-O*Z-F*B)*ne,e[7]=(_*Z-T*G+I*B)*ne,e[8]=(u*le-f*X+v*re)*ne,e[9]=(i*X-r*le-o*re)*ne,e[10]=(O*J-A*G+F*z)*ne,e[11]=($*G-_*J-I*z)*ne,e[12]=(f*q-u*ie-m*re)*ne,e[13]=(r*ie-i*q+n*re)*ne,e[14]=(A*B-O*H-N*z)*ne,e[15]=(_*H-$*B+T*z)*ne,e):null}function SCe(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5],m=t[6],v=t[7],_=t[8],$=t[9],T=t[10],I=t[11],O=t[12],A=t[13],N=t[14],F=t[15];return e[0]=f*(T*F-I*N)-$*(m*F-v*N)+A*(m*I-v*T),e[1]=-(i*(T*F-I*N)-$*(n*F-o*N)+A*(n*I-o*T)),e[2]=i*(m*F-v*N)-f*(n*F-o*N)+A*(n*v-o*m),e[3]=-(i*(m*I-v*T)-f*(n*I-o*T)+$*(n*v-o*m)),e[4]=-(u*(T*F-I*N)-_*(m*F-v*N)+O*(m*I-v*T)),e[5]=r*(T*F-I*N)-_*(n*F-o*N)+O*(n*I-o*T),e[6]=-(r*(m*F-v*N)-u*(n*F-o*N)+O*(n*v-o*m)),e[7]=r*(m*I-v*T)-u*(n*I-o*T)+_*(n*v-o*m),e[8]=u*($*F-I*A)-_*(f*F-v*A)+O*(f*I-v*$),e[9]=-(r*($*F-I*A)-_*(i*F-o*A)+O*(i*I-o*$)),e[10]=r*(f*F-v*A)-u*(i*F-o*A)+O*(i*v-o*f),e[11]=-(r*(f*I-v*$)-u*(i*I-o*$)+_*(i*v-o*f)),e[12]=-(u*($*N-T*A)-_*(f*N-m*A)+O*(f*T-m*$)),e[13]=r*($*N-T*A)-_*(i*N-n*A)+O*(i*T-n*$),e[14]=-(r*(f*N-m*A)-u*(i*N-n*A)+O*(i*m-n*f)),e[15]=r*(f*T-m*$)-u*(i*T-n*$)+_*(i*m-n*f),e}function $Ce(e){const t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],u=e[5],f=e[6],m=e[7],v=e[8],_=e[9],$=e[10],T=e[11],I=e[12],O=e[13],A=e[14],N=e[15];return(t*u-r*o)*($*N-T*A)-(t*f-i*o)*(_*N-T*O)+(t*m-n*o)*(_*A-$*O)+(r*f-i*u)*(v*N-T*I)-(r*m-n*u)*(v*A-$*I)+(i*m-n*f)*(v*O-_*I)}function Boe(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=t[6],_=t[7],$=t[8],T=t[9],I=t[10],O=t[11],A=t[12],N=t[13],F=t[14],z=t[15];let B=r[0],G=r[1],H=r[2],J=r[3];return e[0]=B*i+G*f+H*$+J*A,e[1]=B*n+G*m+H*T+J*N,e[2]=B*o+G*v+H*I+J*F,e[3]=B*u+G*_+H*O+J*z,B=r[4],G=r[5],H=r[6],J=r[7],e[4]=B*i+G*f+H*$+J*A,e[5]=B*n+G*m+H*T+J*N,e[6]=B*o+G*v+H*I+J*F,e[7]=B*u+G*_+H*O+J*z,B=r[8],G=r[9],H=r[10],J=r[11],e[8]=B*i+G*f+H*$+J*A,e[9]=B*n+G*m+H*T+J*N,e[10]=B*o+G*v+H*I+J*F,e[11]=B*u+G*_+H*O+J*z,B=r[12],G=r[13],H=r[14],J=r[15],e[12]=B*i+G*f+H*$+J*A,e[13]=B*n+G*m+H*T+J*N,e[14]=B*o+G*v+H*I+J*F,e[15]=B*u+G*_+H*O+J*z,e}function MCe(e,t,r){const i=r[0],n=r[1],o=r[2];if(t===e)e[12]=t[0]*i+t[4]*n+t[8]*o+t[12],e[13]=t[1]*i+t[5]*n+t[9]*o+t[13],e[14]=t[2]*i+t[6]*n+t[10]*o+t[14],e[15]=t[3]*i+t[7]*n+t[11]*o+t[15];else{const u=t[0],f=t[1],m=t[2],v=t[3],_=t[4],$=t[5],T=t[6],I=t[7],O=t[8],A=t[9],N=t[10],F=t[11];e[0]=u,e[1]=f,e[2]=m,e[3]=v,e[4]=_,e[5]=$,e[6]=T,e[7]=I,e[8]=O,e[9]=A,e[10]=N,e[11]=F,e[12]=u*i+_*n+O*o+t[12],e[13]=f*i+$*n+A*o+t[13],e[14]=m*i+T*n+N*o+t[14],e[15]=v*i+I*n+F*o+t[15]}return e}function TCe(e,t,r){const i=r[0],n=r[1],o=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function kCe(e,t,r,i){let n,o,u,f,m,v,_,$,T,I,O,A,N,F,z,B,G,H,J,Z,re,q,X,ie,le=i[0],ue=i[1],ne=i[2],pe=Math.sqrt(le*le+ue*ue+ne*ne);return pe<oo()?null:(pe=1/pe,le*=pe,ue*=pe,ne*=pe,n=Math.sin(r),o=Math.cos(r),u=1-o,f=t[0],m=t[1],v=t[2],_=t[3],$=t[4],T=t[5],I=t[6],O=t[7],A=t[8],N=t[9],F=t[10],z=t[11],B=le*le*u+o,G=ue*le*u+ne*n,H=ne*le*u-ue*n,J=le*ue*u-ne*n,Z=ue*ue*u+o,re=ne*ue*u+le*n,q=le*ne*u+ue*n,X=ue*ne*u-le*n,ie=ne*ne*u+o,e[0]=f*B+$*G+A*H,e[1]=m*B+T*G+N*H,e[2]=v*B+I*G+F*H,e[3]=_*B+O*G+z*H,e[4]=f*J+$*Z+A*re,e[5]=m*J+T*Z+N*re,e[6]=v*J+I*Z+F*re,e[7]=_*J+O*Z+z*re,e[8]=f*q+$*X+A*ie,e[9]=m*q+T*X+N*ie,e[10]=v*q+I*X+F*ie,e[11]=_*q+O*X+z*ie,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function CCe(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[4],u=t[5],f=t[6],m=t[7],v=t[8],_=t[9],$=t[10],T=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+v*i,e[5]=u*n+_*i,e[6]=f*n+$*i,e[7]=m*n+T*i,e[8]=v*n-o*i,e[9]=_*n-u*i,e[10]=$*n-f*i,e[11]=T*n-m*i,e}function ECe(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[0],u=t[1],f=t[2],m=t[3],v=t[8],_=t[9],$=t[10],T=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-v*i,e[1]=u*n-_*i,e[2]=f*n-$*i,e[3]=m*n-T*i,e[8]=o*i+v*n,e[9]=u*i+_*n,e[10]=f*i+$*n,e[11]=m*i+T*n,e}function ICe(e,t,r){const i=Math.sin(r),n=Math.cos(r),o=t[0],u=t[1],f=t[2],m=t[3],v=t[4],_=t[5],$=t[6],T=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+v*i,e[1]=u*n+_*i,e[2]=f*n+$*i,e[3]=m*n+T*i,e[4]=v*n-o*i,e[5]=_*n-u*i,e[6]=$*n-f*i,e[7]=T*n-m*i,e}function PCe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function OCe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ACe(e,t,r){if(t===0)return H7(e);let i,n,o,u=r[0],f=r[1],m=r[2],v=Math.sqrt(u*u+f*f+m*m);return v<oo()?null:(v=1/v,u*=v,f*=v,m*=v,i=Math.sin(t),n=Math.cos(t),o=1-n,e[0]=u*u*o+n,e[1]=f*u*o+m*i,e[2]=m*u*o-f*i,e[3]=0,e[4]=u*f*o-m*i,e[5]=f*f*o+n,e[6]=m*f*o+u*i,e[7]=0,e[8]=u*m*o+f*i,e[9]=f*m*o-u*i,e[10]=m*m*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function jCe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function RCe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function LCe(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Voe(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=i+i,m=n+n,v=o+o,_=i*f,$=i*m,T=i*v,I=n*m,O=n*v,A=o*v,N=u*f,F=u*m,z=u*v;return e[0]=1-(I+A),e[1]=$+z,e[2]=T-F,e[3]=0,e[4]=$-z,e[5]=1-(_+A),e[6]=O+N,e[7]=0,e[8]=T+F,e[9]=O-N,e[10]=1-(_+I),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function NCe(e,t){const r=FCe,i=-t[0],n=-t[1],o=-t[2],u=t[3],f=t[4],m=t[5],v=t[6],_=t[7],$=i*i+n*n+o*o+u*u;return $>0?(r[0]=2*(f*u+_*i+m*o-v*n)/$,r[1]=2*(m*u+_*n+v*i-f*o)/$,r[2]=2*(v*u+_*o+f*n-m*i)/$):(r[0]=2*(f*u+_*i+m*o-v*n),r[1]=2*(m*u+_*n+v*i-f*o),r[2]=2*(v*u+_*o+f*n-m*i)),Voe(e,t,r),e}const FCe=bl();function DCe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function zCe(e,t){const r=t[0],i=t[1],n=t[2],o=t[4],u=t[5],f=t[6],m=t[8],v=t[9],_=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(o*o+u*u+f*f),e[2]=Math.sqrt(m*m+v*v+_*_),e}function BCe(e,t){const r=t[0]+t[5]+t[10];let i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function VCe(e,t,r,i){const n=t[0],o=t[1],u=t[2],f=t[3],m=n+n,v=o+o,_=u+u,$=n*m,T=n*v,I=n*_,O=o*v,A=o*_,N=u*_,F=f*m,z=f*v,B=f*_,G=i[0],H=i[1],J=i[2];return e[0]=(1-(O+N))*G,e[1]=(T+B)*G,e[2]=(I-z)*G,e[3]=0,e[4]=(T-B)*H,e[5]=(1-($+N))*H,e[6]=(A+F)*H,e[7]=0,e[8]=(I+z)*J,e[9]=(A-F)*J,e[10]=(1-($+O))*J,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function UCe(e,t,r,i,n){const o=t[0],u=t[1],f=t[2],m=t[3],v=o+o,_=u+u,$=f+f,T=o*v,I=o*_,O=o*$,A=u*_,N=u*$,F=f*$,z=m*v,B=m*_,G=m*$,H=i[0],J=i[1],Z=i[2],re=n[0],q=n[1],X=n[2],ie=(1-(A+F))*H,le=(I+G)*H,ue=(O-B)*H,ne=(I-G)*J,pe=(1-(T+F))*J,ye=(N+z)*J,ge=(O+B)*Z,he=(N-z)*Z,ce=(1-(T+A))*Z;return e[0]=ie,e[1]=le,e[2]=ue,e[3]=0,e[4]=ne,e[5]=pe,e[6]=ye,e[7]=0,e[8]=ge,e[9]=he,e[10]=ce,e[11]=0,e[12]=r[0]+re-(ie*re+ne*q+ge*X),e[13]=r[1]+q-(le*re+pe*q+he*X),e[14]=r[2]+X-(ue*re+ye*q+ce*X),e[15]=1,e}function GCe(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=r+r,f=i+i,m=n+n,v=r*u,_=i*u,$=i*f,T=n*u,I=n*f,O=n*m,A=o*u,N=o*f,F=o*m;return e[0]=1-$-O,e[1]=_+F,e[2]=T-N,e[3]=0,e[4]=_-F,e[5]=1-v-O,e[6]=I+A,e[7]=0,e[8]=T+N,e[9]=I-A,e[10]=1-v-$,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qCe(e,t,r,i,n,o,u){const f=1/(r-t),m=1/(n-i),v=1/(o-u);return e[0]=2*o*f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*m,e[6]=0,e[7]=0,e[8]=(r+t)*f,e[9]=(n+i)*m,e[10]=(u+o)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=u*o*2*v,e[15]=0,e}function HCe(e,t,r,i,n){const o=1/Math.tan(t/2);let u;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(u=1/(i-n),e[10]=(n+i)*u,e[14]=2*n*i*u):(e[10]=-1,e[14]=-2*i),e}function WCe(e,t,r,i){const n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),u=Math.tan(t.leftDegrees*Math.PI/180),f=Math.tan(t.rightDegrees*Math.PI/180),m=2/(u+f),v=2/(n+o);return e[0]=m,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=v,e[6]=0,e[7]=0,e[8]=-(u-f)*m*.5,e[9]=(n-o)*v*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function JCe(e,t,r,i,n,o,u){const f=1/(t-r),m=1/(i-n),v=1/(o-u);return e[0]=-2*f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*m,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*v,e[11]=0,e[12]=(t+r)*f,e[13]=(n+i)*m,e[14]=(u+o)*v,e[15]=1,e}function KCe(e,t,r,i){const n=t[0],o=t[1],u=t[2];let f=n-r[0],m=o-r[1],v=u-r[2];const _=oo();if(Math.abs(f)<_&&Math.abs(m)<_&&Math.abs(v)<_)return void H7(e);let $=1/Math.sqrt(f*f+m*m+v*v);f*=$,m*=$,v*=$;const T=i[0],I=i[1],O=i[2];let A=I*v-O*m,N=O*f-T*v,F=T*m-I*f;$=Math.sqrt(A*A+N*N+F*F),$?($=1/$,A*=$,N*=$,F*=$):(A=0,N=0,F=0);let z=m*F-v*N,B=v*A-f*F,G=f*N-m*A;$=Math.sqrt(z*z+B*B+G*G),$?($=1/$,z*=$,B*=$,G*=$):(z=0,B=0,G=0),e[0]=A,e[1]=z,e[2]=f,e[3]=0,e[4]=N,e[5]=B,e[6]=m,e[7]=0,e[8]=F,e[9]=G,e[10]=v,e[11]=0,e[12]=-(A*n+N*o+F*u),e[13]=-(z*n+B*o+G*u),e[14]=-(f*n+m*o+v*u),e[15]=1}function YCe(e,t,r,i){const n=t[0],o=t[1],u=t[2],f=i[0],m=i[1],v=i[2];let _=n-r[0],$=o-r[1],T=u-r[2],I=_*_+$*$+T*T;I>0&&(I=1/Math.sqrt(I),_*=I,$*=I,T*=I);let O=m*T-v*$,A=v*_-f*T,N=f*$-m*_;return I=O*O+A*A+N*N,I>0&&(I=1/Math.sqrt(I),O*=I,A*=I,N*=I),e[0]=O,e[1]=A,e[2]=N,e[3]=0,e[4]=$*N-T*A,e[5]=T*O-_*N,e[6]=_*A-$*O,e[7]=0,e[8]=_,e[9]=$,e[10]=T,e[11]=0,e[12]=n,e[13]=o,e[14]=u,e[15]=1,e}function ZCe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function XCe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function QCe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Uoe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function eEe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function tEe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function rEe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function iEe(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],o=e[3],u=e[4],f=e[5],m=e[6],v=e[7],_=e[8],$=e[9],T=e[10],I=e[11],O=e[12],A=e[13],N=e[14],F=e[15],z=t[0],B=t[1],G=t[2],H=t[3],J=t[4],Z=t[5],re=t[6],q=t[7],X=t[8],ie=t[9],le=t[10],ue=t[11],ne=t[12],pe=t[13],ye=t[14],ge=t[15],he=oo();return Math.abs(r-z)<=he*Math.max(1,Math.abs(r),Math.abs(z))&&Math.abs(i-B)<=he*Math.max(1,Math.abs(i),Math.abs(B))&&Math.abs(n-G)<=he*Math.max(1,Math.abs(n),Math.abs(G))&&Math.abs(o-H)<=he*Math.max(1,Math.abs(o),Math.abs(H))&&Math.abs(u-J)<=he*Math.max(1,Math.abs(u),Math.abs(J))&&Math.abs(f-Z)<=he*Math.max(1,Math.abs(f),Math.abs(Z))&&Math.abs(m-re)<=he*Math.max(1,Math.abs(m),Math.abs(re))&&Math.abs(v-q)<=he*Math.max(1,Math.abs(v),Math.abs(q))&&Math.abs(_-X)<=he*Math.max(1,Math.abs(_),Math.abs(X))&&Math.abs($-ie)<=he*Math.max(1,Math.abs($),Math.abs(ie))&&Math.abs(T-le)<=he*Math.max(1,Math.abs(T),Math.abs(le))&&Math.abs(I-ue)<=he*Math.max(1,Math.abs(I),Math.abs(ue))&&Math.abs(O-ne)<=he*Math.max(1,Math.abs(O),Math.abs(ne))&&Math.abs(A-pe)<=he*Math.max(1,Math.abs(A),Math.abs(pe))&&Math.abs(N-ye)<=he*Math.max(1,Math.abs(N),Math.abs(ye))&&Math.abs(F-ge)<=he*Math.max(1,Math.abs(F),Math.abs(ge))}function nEe(e){const t=oo(),r=e[0],i=e[1],n=e[2],o=e[4],u=e[5],f=e[6],m=e[8],v=e[9],_=e[10];return Math.abs(1-(r*r+o*o+m*m))<=t&&Math.abs(1-(i*i+u*u+v*v))<=t&&Math.abs(1-(n*n+f*f+_*_))<=t}function sEe(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const oEe=Boe,aEe=Uoe;Object.freeze(Object.defineProperty({__proto__:null,add:QCe,adjoint:SCe,copy:xCe,determinant:$Ce,equals:iEe,exactEquals:rEe,frob:XCe,fromQuat:GCe,fromQuat2:NCe,fromRotation:ACe,fromRotationTranslation:Voe,fromRotationTranslationScale:VCe,fromRotationTranslationScaleOrigin:UCe,fromScaling:OCe,fromTranslation:PCe,fromXRotation:jCe,fromYRotation:RCe,fromZRotation:LCe,frustum:qCe,getRotation:BCe,getScaling:zCe,getTranslation:DCe,hasIdentityRotation:sEe,identity:H7,invert:zoe,invertOrIdentity:_Ce,isOrthoNormal:nEe,lookAt:KCe,mul:oEe,multiply:Boe,multiplyScalar:eEe,multiplyScalarAndAdd:tEe,ortho:JCe,perspective:HCe,perspectiveFromFieldOfView:WCe,rotate:kCe,rotateX:CCe,rotateY:ECe,rotateZ:ICe,scale:TCe,set:Kp,str:ZCe,sub:aEe,subtract:Uoe,targetTo:YCe,translate:MCe,transpose:Yp},Symbol.toStringTag,{value:"Module"}));const lEe=(e,t)=>{const r=Kp(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Yp(r,r)},uEe=(e,t)=>{const r=Kp(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Yp(r,r)},cEe=(e,t)=>{const r=1-t,i=Kp(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Yp(i,i)},hEe=(e,t)=>{const r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),n=Kp(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return Yp(n,n)},dEe=(e,t)=>{const r=1-2*t,i=Kp(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Yp(i,i)},pEe=(e,t)=>{const r=Kp(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Yp(r,r)},fEe=(e,t)=>{const r=1-t,i=Kp(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Yp(i,i)};let Goe=class qoe{constructor(t,r,i){this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}interpolate(t,r,i){this.strength=$o(t.strength,r.strength,i),this.radius=$o(t.radius,r.radius,i),this.threshold=$o(t.threshold,r.threshold,i)}clone(){return new qoe(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:nw(this.radius),strength:this.strength,threshold:this.threshold}}},Hoe=class Woe{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,i){this.radius=Math.round($o(t.radius,r.radius,i))}clone(){return new Woe(this.radius)}toJSON(){return{type:"blur",radius:nw(this.radius)}}},ZI=class Joe{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.amount=$o(t.amount,r.amount,i),this._updateMatrix()}clone(){return new Joe(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||q7();switch(this.type){case"brightness":this._colorMatrix=lEe(t,this.amount);break;case"contrast":this._colorMatrix=uEe(t,this.amount);break;case"grayscale":this._colorMatrix=cEe(t,this.amount);break;case"invert":this._colorMatrix=dEe(t,this.amount);break;case"saturate":this._colorMatrix=pEe(t,this.amount);break;case"sepia":this._colorMatrix=fEe(t,this.amount)}}},Koe=class Yoe{constructor(t,r,i,n){this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=n,this.type="drop-shadow"}interpolate(t,r,i){this.offsetX=$o(t.offsetX,r.offsetX,i),this.offsetY=$o(t.offsetY,r.offsetY,i),this.blurRadius=$o(t.blurRadius,r.blurRadius,i),this.color[0]=Math.round($o(t.color[0],r.color[0],i)),this.color[1]=Math.round($o(t.color[1],r.color[1],i)),this.color[2]=Math.round($o(t.color[2],r.color[2],i)),this.color[3]=$o(t.color[3],r.color[3],i)}clone(){return new Yoe(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:nw(this.offsetX),yoffset:nw(this.offsetY),blurRadius:nw(this.blurRadius),color:t}}},Zoe=class Xoe{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.angle=$o(t.angle,r.angle,i),this._updateMatrix()}clone(){return new Xoe(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||q7();this._colorMatrix=hEe(t,this.angle)}},Qoe=class eae{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,i){this.amount=$o(t.amount,r.amount,i)}clone(){return new eae(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function $o(e,t,r){return e+(t-e)*r}function nw(e){return Math.round(1e3*ml(e))/1e3}function yEe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new ZI(e.type,0);case"saturate":case"brightness":case"contrast":return new ZI(e.type,1);case"opacity":return new Qoe(1);case"hue-rotate":return new Zoe(0);case"blur":return new Hoe(0);case"drop-shadow":return new Koe(0,0,0,[...eF("transparent")]);case"bloom":return new Goe(0,0,1)}}function mEe(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((i,n)=>i.type===r[n].type)}function gEe(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let n=i.length;n<r.length;n++)i.push(yEe(r[n]))}function vEe(e){const t=e[0];return!!t&&"type"in t}function bEe(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}const $q=()=>Ne.getLogger("esri.support.basemapUtils");function wEe(){return{}}function xEe(e){for(const t in e){const r=e[t];ai(r),delete e[t]}}function _Ee(e,t){let r;if(typeof e=="string"){const i=e in Tg,n=!i&&e.includes("/");if(!i&&!n){const o=Object.entries(Tg).filter(([u,f])=>wr.apiKey&&!f.classic||!wr.apiKey&&(f.classic||f.is3d)).map(([u])=>`"${u}"`).sort().join(", ");return $q().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${o}`),null}t&&(r=t[e]),r||(r=i?_p.fromId(e):new _p({style:{id:e}}),t&&(t[e]=r))}else r=xi(_p,e);return r!=null&&r.destroyed&&($q().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function SEe(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(r=>r.type==="scene")}function $Ee(e){var t,r;return!!((r=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&r.some(i=>i.toLowerCase()==="beta"))}function MEe(e){let t=null;const r=XI(e),i=!(r!=null&&r.baseLayers.length);for(const n in Tg){const o=rae(r,tae(Tg[n]),{mustMatchReferences:i});if(o==="equal"){t=n;break}o==="base-layers-equal"&&(t=n)}return t}function TEe(e,t){var r,i;return e===t||((r=e==null?void 0:e.portalItem)==null?void 0:r.id)!=null&&e.portalItem.id===((i=t==null?void 0:t.portalItem)==null?void 0:i.id)?!0:rae(XI(e),XI(t),{mustMatchReferences:!0})==="equal"}function kEe(e,t){var o;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const r=t.baseLayers.at(0);switch(r.loadStatus){case"not-loaded":r.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const i=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(o=r.tileInfo)==null?void 0:o.spatialReference:r.spatialReference]).filter(Boolean),n=e.spatialReference;return n?{spatialReference:i.find(u=>n.equals(u))??i[0]??null,updating:!1}:{spatialReference:i[0],updating:!1}}function XI(e){return e?!e.loaded&&e.resourceInfo?tae(e.resourceInfo.data):{baseLayers:Mq(e.baseLayers),referenceLayers:Mq(e.referenceLayers)}:null}function Mq(e){return(ut.isCollection(e)?e.toArray():e).map(CEe)}function CEe(e){var t,r;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:iae("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(i=>({id:i.id,visible:i.visible})),activeLayerId:e.type==="wmts"?(r=e.activeLayer)==null?void 0:r.id:void 0}}function Tq(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function tae(e){return e?{baseLayers:kq((e.baseMapLayers??[]).filter(t=>!Tq(t))),referenceLayers:kq((e.baseMapLayers??[]).filter(t=>Tq(t)))}:null}function kq(e){return e.map(t=>EEe(t))}function EEe(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:iae(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function rae(e,t,r){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":Cq(e.baseLayers,t.baseLayers)?Cq(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function Cq(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!IEe(e[r],t[r]))return!1;return!0}function IEe(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!bEe(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let r=0;r<e.sublayers.length;r++){const i=e.sublayers.at(r),n=t.sublayers.at(r);if((i==null?void 0:i.id)!==(n==null?void 0:n.id)||(i==null?void 0:i.visible)!==(n==null?void 0:n.visible))return!1}}return!0}function iae(e){return e?sl(e).replace(/^\s*https?:/i,"").toLowerCase():""}function PEe(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const r=MEe(e);return r?Tg[r].thumbnailUrl:Ww(e.baseLayers,OEe)}function OEe(e){var t;return"portalItem"in e?(t=e.portalItem)==null?void 0:t.thumbnailUrl:void 0}function nae(e){return new u1({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function WT(e){for(const t of e.values())t==null||t.destroy();e.clear()}const Eq={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function AEe(e){let t=null;if(typeof e=="string")if(e in Eq){const r=Eq[e];t=new e6({resourceInfo:{data:{layers:[r]}}})}else Ne.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=xi(e6,e);return t}const Iq={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function JT(e,t,r,i=uc){const n=new ya(NN(i)),o=qt.fromJSDate(e,{zone:n}),u=r==="decades"||r==="centuries"?"year":oae(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),o.plus({[u]:t}).toJSDate()}function _5t(e,t,r="milliseconds"){const i=e.getTime(),n=sae(t,r,"milliseconds");return new Date(i+n)}function Pq(e,t,r=uc){const i=new ya(NN(r)),n=qt.fromJSDate(e,{zone:i});if(t==="decades"||t==="centuries"){const u=n.startOf("year"),{year:f}=u,m=f-f%(t==="decades"?10:100);return u.set({year:m}).toJSDate()}const o=oae(t);return n.startOf(o).toJSDate()}function sae(e,t,r){return e===0?0:e*Iq[t]/Iq[r]}function oae(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Ea;let Xo=Ea=class extends Fe{static get allTime(){return Oq}static get empty(){return jEe}static fromArray(e){return new Ea({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Ea.allTime)}get isEmpty(){return this.equals(Ea.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new Ea({end:this.end,start:this.start})}equals(e){var o,u,f,m;if(!e)return!1;const t=((o=this.start)==null?void 0:o.getTime())??this.start,r=((u=this.end)==null?void 0:u.getTime())??this.end,i=((f=e.start)==null?void 0:f.getTime())??e.start,n=((m=e.end)==null?void 0:m.getTime())??e.end;return t===i&&r===n}expandTo(e,t=uc){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=Pq(r,e,t));let i=this.end;if(i){const n=Pq(i,e,t);i=i.getTime()===n.getTime()?n:JT(n,1,e,t)}return new Ea({start:r,end:i})}intersection(e){var f,m,v,_;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Ea.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((f=this.start)==null?void 0:f.getTime())??-1/0,r=((m=this.end)==null?void 0:m.getTime())??1/0,i=((v=e.start)==null?void 0:v.getTime())??-1/0,n=((_=e.end)==null?void 0:_.getTime())??1/0;let o,u;return i>=t&&i<=r?o=i:t>=i&&t<=n&&(o=t),r>=i&&r<=n?u=r:n>=t&&n<=r&&(u=n),o==null||u==null||isNaN(o)||isNaN(u)?Ea.empty:new Ea({start:o===-1/0?null:new Date(o),end:u===1/0?null:new Date(u)})}offset(e,t,r=uc){if(this.isEmpty||this.isAllTime)return this.clone();const i=new Ea,{start:n,end:o}=this;return n!=null&&(i.start=JT(n,e,t,r)),o!=null&&(i.end=JT(o,e,t,r)),i}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Oq.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Ea({start:t,end:r})}};b([M({type:Date,json:{write:{allowNull:!0}}})],Xo.prototype,"end",void 0),b([Ge("end")],Xo.prototype,"readEnd",null),b([Xe("end")],Xo.prototype,"writeEnd",null),b([M({readOnly:!0,json:{read:!1}})],Xo.prototype,"isAllTime",null),b([M({readOnly:!0,json:{read:!1}})],Xo.prototype,"isEmpty",null),b([M({type:Date,json:{write:{allowNull:!0}}})],Xo.prototype,"start",void 0),b([Ge("start")],Xo.prototype,"readStart",null),b([Xe("start")],Xo.prototype,"writeStart",null),Xo=Ea=b([se("esri.TimeExtent")],Xo);const Oq=new Xo,jEe=new Xo({start:void 0,end:void 0}),cc=Xo;let aae=0;const Dh=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+aae++})}};return t=b([se("esri.core.Identifiable")],t),t},tF=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:aae++})}};return t=b([se("esri.core.Identifiable.NumericIdentifiable")],t),t};let Aq=class extends Dh(class{}){};Aq=b([se("esri.core.Identifiable")],Aq);async function REe(e){var i;const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await Ce(async()=>{const{fromItem:n}=await import("./portalLayers-CIRNlJl7.js").then(o=>o.p);return{fromItem:n}},__vite__mapDeps([127,128,129]),import.meta.url);try{return await r(t)}catch(n){const o=t==null?void 0:t.portalItem,u=(o==null?void 0:o.id)||"unset",f=((i=o==null?void 0:o.portal)==null?void 0:i.url)||wr.portalUrl;throw Ne.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+f+"', id: '"+u+"')",n),n}}let LEe=0,un=class extends wl.EventedMixin(Dh(yl)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new mr(-180,-90,180,90,It.WGS84),this.id=Date.now().toString(16)+"-layer-"+LEe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=It.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await Ce(async()=>{const{fromUrl:i}=await import("./arcgisLayers-BvBxeAmD.js");return{fromUrl:i}},__vite__mapDeps([130,128,129]),import.meta.url)).fromUrl(r)}static fromPortalItem(t){return REe(t)}initialize(){this.when().catch(t=>{Vs(t)||Ne.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Zn(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Jr(t,{query:{f:"json"},responseType:"json"})).data;throw new be("layer:no-attribution-data","Layer does not have attribution data")}};b([M({type:String})],un.prototype,"attributionDataUrl",void 0),b([M({type:mr})],un.prototype,"fullExtent",void 0),b([M({readOnly:!0})],un.prototype,"hasAttributionData",null),b([M({type:String,clonable:!1})],un.prototype,"id",void 0),b([M({type:Boolean,nonNullable:!0})],un.prototype,"legendEnabled",void 0),b([M({type:["show","hide","hide-children"]})],un.prototype,"listMode",void 0),b([M({type:Number,range:{min:0,max:1},nonNullable:!0})],un.prototype,"opacity",void 0),b([M({clonable:!1})],un.prototype,"parent",void 0),b([M({readOnly:!0})],un.prototype,"parsedUrl",null),b([M({type:Boolean,readOnly:!0})],un.prototype,"persistenceEnabled",void 0),b([M({type:Boolean})],un.prototype,"popupEnabled",void 0),b([M({type:Boolean})],un.prototype,"attributionVisible",void 0),b([M({type:It})],un.prototype,"spatialReference",void 0),b([M({type:String})],un.prototype,"title",void 0),b([M({readOnly:!0,json:{read:!1}})],un.prototype,"type",void 0),b([M()],un.prototype,"url",void 0),b([M({type:cc})],un.prototype,"visibilityTimeExtent",void 0),b([M({type:Boolean,nonNullable:!0})],un.prototype,"visible",void 0),un=b([se("esri.layers.Layer")],un);const gx=un;function QI(e,t,r){let i,n;if(e)for(let o=0,u=e.length;o<u;o++){if(i=e.at(o),(i==null?void 0:i[t])===r)return i;if((i==null?void 0:i.type)==="group"&&(n=QI(i.layers,t,r),n))return n}}const lae=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new ut;const i=u=>{u.parent&&"remove"in u.parent&&u.parent.remove(u)},n=u=>{u.parent=this,this.layerAdded(u),u.type!=="elevation"&&u.type!=="base-elevation"||Ne.getLogger(this).error(`Layer 'title:${u.title}, id:${u.id}' of type '${u.type}' is not supported as an operational layer and will therefore be ignored.`)},o=u=>{u.parent=null,this.layerRemoved(u)};this.addHandles([this.layers.on("before-add",u=>{if(u.item===this)return u.preventDefault(),void Ne.getLogger(this).error("#add()","Cannot add layer to itself.");i(u.item)}),this.layers.on("after-add",u=>n(u.item)),this.layers.on("after-remove",u=>o(u.item))])}destroy(){const r=this.layers.toArray();for(const i of r)i.destroy();this.layers.destroy()}set layers(r){this._set("layers",Np(r,this._get("layers")))}add(r,i){const n=this.layers;if(i=n.getNextIndex(i),r instanceof gx){const o=r;o.parent===this?this.reorder(o,i):n.add(o,i)}else Wp(r)?r.then(o=>{this.destroyed||this.add(o,i)}):Ne.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,i){const n=this.layers;let o=n.getNextIndex(i);r.slice().forEach(u=>{u.parent!==this?(n.add(u,o),o+=1):this.reorder(u,o)})}findLayerById(r){return QI(this.layers,"id",r)}findLayerByUid(r){return QI(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,i){return this.layers.reorder(r,i)}layerAdded(r){}layerRemoved(r){}};return b([M()],t.prototype,"layers",null),t=b([se("esri.support.LayersMixin")],t),t};function eP(e,t,r){if(e)for(let i=0,n=e.length;i<n;i++){const o=e.at(i);if(o[t]===r)return o;if((o==null?void 0:o.type)==="group"){const u=eP(o.tables,t,r);if(u)return u}}}const uae=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new ut,this.addHandles([this.tables.on("after-add",i=>{const n=i.item;n.parent&&n.parent!==this&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=this,n.type!=="feature"&&Ne.getLogger(this).error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",i=>{i.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const i of r)i.destroy();this.tables.destroy()}set tables(r){this._set("tables",Np(r,this._get("tables")))}findTableById(r){return eP(this.tables,"id",r)}findTableByUid(r){return eP(this.tables,"uid",r)}};return b([M()],t.prototype,"tables",null),t=b([se("esri.support.TablesMixin")],t),t};let Al=class extends uae(lae(wl.EventedMixin(St))){constructor(t){super(t),this.allLayers=new u1({getCollections:()=>{var r,i,n;return[(r=this.basemap)==null?void 0:r.baseLayers,(i=this.ground)==null?void 0:i.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=nae(this),this.basemap=null,this.editableLayers=new u1({getCollections:()=>[this.allLayers],itemFilterFunction:pCe}),this.ground=new e6,this._basemapCache=wEe()}destroy(){xEe(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=ai(this.basemap),ai(this.ground),this._set("ground",null)}castBasemap(t){return _Ee(t,this._basemapCache)}castGround(t){return AEe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};b([M({readOnly:!0,dependsOn:[]})],Al.prototype,"allLayers",void 0),b([M({readOnly:!0})],Al.prototype,"allTables",void 0),b([M({type:_p,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Al.prototype,"basemap",void 0),b([Ar("basemap")],Al.prototype,"castBasemap",null),b([M({readOnly:!0})],Al.prototype,"editableLayers",void 0),b([M({type:e6,nonNullable:!0})],Al.prototype,"ground",void 0),b([Ar("ground")],Al.prototype,"castGround",null),b([M()],Al.prototype,"undoRedo",void 0),Al=b([se("esri.Map")],Al);const cae=Al;let sw=class extends ut{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(ut.ofType(this.itemType.Type))(t):new ut(t)}};function tP(e,t){return{type:e,cast:Coe,set(r){const i=Np(r,this._get(t),e);i.owner=this,this._set(t,i)}}}b([M()],sw.prototype,"owner",null),sw=b([se("esri.core.support.OwningCollection")],sw);var Db;const t6=Us()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),hae=t6.jsonValues.slice();w_e(hae,"orthometric");const ow=Us()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let jl=Db=class extends Fe{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return t6.write(e,t,r)}readHeightModel(e,t,r){return t6.read(e)||(r!=null&&r.messages&&r.messages.push(NEe(e,{context:r})),null)}readHeightUnit(e,t,r){return ow.read(e)||(r!=null&&r.messages&&r.messages.push(jq(e,{context:r})),null)}readHeightUnitService(e,t,r){return Gie(e)||ow.read(e)||(r!=null&&r.messages&&r.messages.push(jq(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Db({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=J4e(t);return new Db({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Db;return t.read(e,{origin:"web-scene"}),t}};function jq(e,t){return new pl("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function NEe(e,t){return new pl("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}b([M({type:t6.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:hae,default:"ellipsoidal"}}}})],jl.prototype,"heightModel",void 0),b([Xe("web-scene","heightModel")],jl.prototype,"writeHeightModel",null),b([Ge(["web-scene","service"],"heightModel")],jl.prototype,"readHeightModel",null),b([M({type:ow.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:ow.jsonValues,write:ow.write}}}})],jl.prototype,"heightUnit",void 0),b([Ge("web-scene","heightUnit")],jl.prototype,"readHeightUnit",null),b([Ge("service","heightUnit")],jl.prototype,"readHeightUnitService",null),b([M({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],jl.prototype,"vertCRS",void 0),b([Ge("service","vertCRS",["vertCRS","ellipsoid","geoid"])],jl.prototype,"readVertCRS",null),jl=Db=b([se("esri.geometry.HeightModelInfo")],jl);const W7=jl;let r6=class extends sw{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(Ne.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};r6=b([se("esri.support.AnalysesCollection")],r6);async function dae(e,t){const{WhereClause:r}=await Ce(()=>import("./WhereClause-DwFkYRNf.js").then(i=>i.W),__vite__mapDeps([19,20]),import.meta.url);return r.create(e,t)}function FEe(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}function C5t(e){return typeof e=="number"}function rF(e){return typeof e=="string"||e instanceof String}const DEe="yyyy-MM-dd",zEe="TT";var aw;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(aw||(aw={}));const BEe=[aw.HMS_MS,aw.HMS,aw.HM,zEe];function Rq(e){if(!e||!rF(e))return null;const t=qt.fromFormat(e,DEe);return t.isValid?t:null}function Lq(e){return e&&rF(e)?Ww(BEe,t=>{const r=qt.fromFormat(e,t);return r.isValid?r:null})??null:null}function Nq(e){if(!e||!rF(e))return null;const t=qt.fromISO(e);return t.isValid?t:null}var kg;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(kg||(kg={}));const VEe=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function UEe(e){return e!=null&&VEe.has(e.type)}function pae(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function fae(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function yae(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function GEe(e,t,r){const i=e==null?void 0:e.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:o}=qEe(e);if(n!=null&&+t<n||o!=null&&+t>o)return kg.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(n=>n==null||n.code!==t))return kg.INVALID_CODED_VALUE}return null}function qEe(e,t){const r=e==null?void 0:e.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,n="range"in r?r.range[1]:r.maxValue,o=UEe(e);return pae(e)||yae(e)||fae(e)?{...HEe(e,n,i),isInteger:o}:{min:i!=null&&typeof i=="number"?i:null,max:n!=null&&typeof n=="number"?n:null,rawMin:i,rawMax:n,isInteger:o}}function HEe(e,t,r){var i,n,o,u,f,m;return pae(e)?{min:(i=Rq(r))==null?void 0:i.toMillis(),max:(n=Rq(t))==null?void 0:n.toMillis(),rawMin:r,rawMax:t}:yae(e)?{min:(o=Lq(r))==null?void 0:o.toMillis(),max:(u=Lq(t))==null?void 0:u.toMillis(),rawMin:r,rawMax:t}:fae(e)?{min:(f=Nq(r))==null?void 0:f.toMillis(),max:(m=Nq(t))==null?void 0:m.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const WEe=()=>Ne.getLogger("esri.support.arcadeOnDemand");let KT;function d1(){return KT||(KT=(async()=>{const e=await Ce(()=>import("./arcadeUtils-P8TEGqDf.js").then(t=>t.aN),__vite__mapDeps([131,20,132,22,13,10,11,14]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),KT}const JEe=(e,t,r)=>mae.create(e,t,r,null,["$feature","$view"],[]),KEe=(e,t,r,i)=>mae.create(e,t,r,i,["$feature","$view"],[]);let mae=class gae{constructor(t,r,i,n,o,u,f){this.services=null,this.script=t,this.evaluate=n;const m=Array.isArray(u)?u:u==null?void 0:u.fields;this.fields=m??[],this._syntaxTree=i,this._arcade=r,this._arcadeFeature=o,this._spatialReference=f,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,i,n,o,u){const{arcade:f,Feature:m,Dictionary:v}=await d1(),_=It.fromJSON(r);let $;try{$=f.parseScript(t,u)}catch(re){return WEe().error(new be("arcade-bad-expression","Failed to parse arcade script",{script:t,error:re})),null}const T=o.reduce((re,q)=>({...re,[q]:null}),{});let I=null;n!=null&&(I=new v(n),I.immutable=!0,T.$config=null);const O=f.scriptUsesGeometryEngine($),A=O&&f.enableGeometrySupport(),N=f.scriptUsesFeatureSet($)&&f.enableFeatureSetSupport(),F=f.scriptIsAsync($),z=F&&f.enableAsyncSupport(),B={vars:T,spatialReference:_,useAsync:!!z};await Promise.all([A,N,z]);const G=new Set;await f.loadDependentModules(G,$,null,F,O);const H=new v;H.immutable=!1,H.setField("scale",0);const J=f.compileScript($,B),Z=(re,q)=>{var ie;const X=(ie=re.$view)==null?void 0:ie.timeZone;return"$view"in re&&re.$view&&(H.setField("scale",typeof re.$view=="object"&&"scale"in re.$view?re.$view.scale:void 0),re.$view=H),I&&(re.$config=I),J({vars:re,spatialReference:_,services:q,timeZone:X})};return new gae(t,f,$,Z,new m,i,_)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const YEe=/^([0-9_])/,ZEe=/[^a-z0-9_\u0080-\uffff]+/gi;function XEe(e){return e==null?null:e.trim().replaceAll(ZEe,"_").replace(YEe,"F$1")||null}const QEe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],eIe=["field","normalizationField"];function Fq(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(Dq(QEe,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)Dq(eIe,i,t)}}function Dq(e,t,r){if(e)for(const i of e){const n=X3(i,t),o=n&&typeof n!="function"&&r.get(n);o&&Ds(i,o.name,t)}}function vae(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const i=t.get(e.startField),n=t.get(e.endField);e.startField=(i==null?void 0:i.name)??null,e.endField=(n==null?void 0:n.name)??null}else{const i=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=(i==null?void 0:i.name)??null,e.endTimeField=(n==null?void 0:n.name)??null}}const YT=new Set;function J7(e,t){return e&&t?(YT.clear(),p1(YT,e,t),Array.from(YT).sort()):[]}function p1(e,t,r){var i;if(r)if((i=t==null?void 0:t.fields)!=null&&i.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)ao(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)n!=null&&e.add(n)}}function ao(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function E5t(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function I5t(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=J7(e,t);return i.length/e.fields.length>=r?["*"]:i}async function Bs(e,t,r){var o;if(!r)return;const{arcadeUtils:i}=await d1(),n=i.extractFieldNames(r,(o=t==null?void 0:t.fields)==null?void 0:o.map(u=>u.name));for(const u of n)ao(e,t,u)}async function bae(e,t,r){if(r&&r!=="1=1"){const i=await dae(r,t);if(!i.isStandardized)throw new be("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});p1(e,t,i.fieldNames)}}function tIe({displayField:e,fields:t}){return e||(t!=null&&t.length?ZT(t,"name-or-title")||ZT(t,"unique-identifier")||ZT(t,"type-or-category")||rIe(t):null)}function rIe(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function ZT(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function P5t(e,t){var i;if(!t)return;const r=(i=t.elevationInfo)==null?void 0:i.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function iIe(e,t,r){r.onStatisticExpression?Bs(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function O5t(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],n=r.popupTemplate;i.push(nIe(e,t,n)),r.fields&&i.push(...r.fields.map(async o=>iIe(e,t.fieldsIndex,o))),await Promise.all(i)}async function nIe(e,t,r){const i=[];r!=null&&r.expressionInfos&&i.push(...r.expressionInfos.map(o=>Bs(e,t.fieldsIndex,o.expression)));const n=r==null?void 0:r.content;if(Array.isArray(n))for(const o of n)o.type==="expression"&&o.expressionInfo&&i.push(Bs(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(i)}async function A5t(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&p1(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&p1(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await bae(e,t.fieldsIndex,r.where))}async function j5t(e,t,r){t&&r&&await Promise.all(r.map(i=>sIe(e,t,i)))}async function sIe(e,t,r){t&&r&&(r.valueExpression?await Bs(e,t.fieldsIndex,r.valueExpression):r.field&&ao(e,t.fieldsIndex,r.field))}function R5t(e){return e?J7(e.fieldsIndex,wae(e)):[]}function oIe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?J7(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const aIe=new Set(["oid","global-id","guid"]),lIe=new Set(["oid","global-id"]),uIe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function cIe(e){const t=new Set;xae(e).forEach(i=>t.add(i)),oIe(e).forEach(i=>t.add(i.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function wae(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:n,editorField:o}=t;return[r,i,n,o].filter(Boolean)}function xae(e){return wae(e).map(t=>t.toLowerCase())}function hIe(e,t){var r;return e.editable&&!aIe.has(e.type)&&!xae(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function dIe(e,t){var i;const r=((i=e.name)==null?void 0:i.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||cIe(t).includes(r)||lIe.has(e.type)||uIe.some(n=>n.test(r)))}async function L5t(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r!=null&&r.length&&await Promise.all(r.map(n=>pIe(e,i,n)))}async function pIe(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if(i.type==="arcade")await Bs(e,t,i.expression);else{const o=i.expression.match(/{[^}]*}/g);o&&o.forEach(u=>{ao(e,t,u.slice(1,-1))})}await bae(e,t,n)}function fIe(e){const t=e.defaultValue;return t!==void 0&&$ae(e,t)?t:e.nullable?null:void 0}function N5t(e){const t=typeof e=="string"?{type:e}:e;return TIe(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function _ae(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function yIe(e){return e===null||_ae(e)}function mIe(e){return e===null||Number.isInteger(e)}function Sae(e){return e!=null&&typeof e=="string"}function gIe(e){return e===null||Sae(e)}function vIe(){return!0}function $ae(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?mIe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?yIe:_ae;break;case"string":case"esriFieldTypeString":r=e.nullable?gIe:Sae;break;default:r=vIe}return arguments.length===1?r:r(t)}const bIe=["integer","small-integer","big-integer"],wIe=["single","double"],xIe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],_Ie=["esriFieldTypeSingle","esriFieldTypeDouble"],SIe=new Set([...bIe,...xIe]),$Ie=new Set([...wIe,..._Ie]),MIe=Mre(SIe,$Ie);function Mae(e){return e!=null&&MIe.has(e.type)}function TIe(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function kIe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function F5t(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function D5t(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function CIe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function zq(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function Bq(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function z5t(e,t){return EIe(e,t)===null}var i6,n6;function B5t(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function EIe(e,t){return e==null||e.nullable&&t===null?null:Mae(e)&&!IIe(e.type,Number(t))?i6.OUT_OF_RANGE:$ae(e,t)?e.domain?GEe(e,t):null:n6.INVALID_TYPE}function IIe(e,t){const r=typeof e=="string"?Tae(e):e;if(!r)return!1;const i=r.min,n=r.max;return r.isInteger?Number.isInteger(t)&&t>=i&&t<=n:t>=i&&t<=n}function Tae(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return PIe;case"esriFieldTypeInteger":case"integer":return OIe;case"esriFieldTypeBigInteger":case"big-integer":return AIe;case"esriFieldTypeSingle":case"single":return jIe;case"esriFieldTypeDouble":case"double":return RIe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(i6||(i6={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(n6||(n6={}));const PIe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},OIe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},AIe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},jIe={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},RIe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function V5t(e,t,r){switch(e){case kg.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case kg.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case n6.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case i6.OUT_OF_RANGE:{const{min:i,max:n}=Tae(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${n}`}}}function U5t(e,t){return!LIe(e,t,null)}function LIe(e,t,r){if(!(t!=null&&t.attributes)||!e)return!0;const i=new Set(Object.keys(t.attributes));let n=!1;for(const o of e)if(!i.has(o)&&(n=!0,r==null))break;return n}function NIe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function kae(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let TS=class extends Fe{constructor(t){super(t),this.type=null}};b([M({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],TS.prototype,"type",void 0),TS=b([se("esri.popup.content.Content")],TS);const Zp=TS;var rP;let Ef=rP=class extends Zp{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new rP({description:this.description,displayType:this.displayType,title:this.title})}};b([M({type:String,json:{write:!0}})],Ef.prototype,"description",void 0),b([M({type:["auto","preview","list"],json:{write:!0}})],Ef.prototype,"displayType",void 0),b([M({type:String,json:{write:!0}})],Ef.prototype,"title",void 0),b([M({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Ef.prototype,"type",void 0),Ef=rP=b([se("esri.popup.content.AttachmentsContent")],Ef);const o3=Ef;var iP;let If=iP=class extends Zp{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new iP({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ve(this.outFields):null})}};b([M()],If.prototype,"creator",void 0),b([M()],If.prototype,"destroyer",void 0),b([M()],If.prototype,"outFields",void 0),b([M({type:["custom"],readOnly:!0})],If.prototype,"type",void 0),If=iP=b([se("esri.popup.content.CustomContent")],If);const FIe=If;var nP;let _y=nP=class extends Fe{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new nP({title:this.title,expression:this.expression})}};b([M({type:String,json:{write:!0}})],_y.prototype,"title",void 0),b([M({type:String,json:{write:!0}})],_y.prototype,"expression",void 0),b([M({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],_y.prototype,"returnType",void 0),_y=nP=b([se("esri.popup.ElementExpressionInfo")],_y);const DIe=_y;var sP;let zb=sP=class extends Zp{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new sP({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};b([M({type:DIe,json:{write:!0}})],zb.prototype,"expressionInfo",void 0),b([M({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],zb.prototype,"type",void 0),zb=sP=b([se("esri.popup.content.ExpressionContent")],zb);const iF=zb;let Sy=class extends ui(Fe){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};b([Ct(j8e)],Sy.prototype,"dateFormat",void 0),b([M({type:Boolean,json:{write:!0}})],Sy.prototype,"digitSeparator",void 0),b([M({type:Wr,json:{write:!0}})],Sy.prototype,"places",void 0),Sy=b([se("esri.popup.support.FieldInfoFormat")],Sy);const kS=Sy;var oP;let Rl=oP=class extends Fe{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new oP({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};b([M({type:String,json:{write:!0}})],Rl.prototype,"fieldName",void 0),b([M({type:kS,json:{write:!0}})],Rl.prototype,"format",void 0),b([M({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Rl.prototype,"isEditable",void 0),b([M({type:String,json:{write:!0}})],Rl.prototype,"label",void 0),b([Ct(new hr({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Rl.prototype,"stringFieldOption",void 0),b([M({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Rl.prototype,"statisticType",void 0),b([M({type:String,json:{write:!0}})],Rl.prototype,"tooltip",void 0),b([M({type:Boolean,json:{write:!0}})],Rl.prototype,"visible",void 0),Rl=oP=b([se("esri.popup.FieldInfo")],Rl);const nF=Rl;var aP;let Rc=aP=class extends Zp{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new aP(ve({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};b([M({type:Object,json:{write:!0}})],Rc.prototype,"attributes",void 0),b([M({type:String,json:{write:!0}})],Rc.prototype,"description",void 0),b([M({type:[nF]})],Rc.prototype,"fieldInfos",void 0),b([Xe("fieldInfos")],Rc.prototype,"writeFieldInfos",null),b([M({type:String,json:{write:!0}})],Rc.prototype,"title",void 0),b([M({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Rc.prototype,"type",void 0),Rc=aP=b([se("esri.popup.content.FieldsContent")],Rc);const a3=Rc;let Pf=class extends Fe{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};b([M({type:String,json:{write:!0}})],Pf.prototype,"altText",void 0),b([M({type:String,json:{write:!0}})],Pf.prototype,"caption",void 0),b([M({type:String,json:{write:!0}})],Pf.prototype,"title",void 0),b([M({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Pf.prototype,"type",void 0),Pf=b([se("esri.popup.content.mixins.MediaInfo")],Pf);const sF=Pf;var lP;let Of=lP=class extends St{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new lP({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};b([M()],Of.prototype,"color",void 0),b([M()],Of.prototype,"fieldName",void 0),b([M()],Of.prototype,"tooltip",void 0),b([M()],Of.prototype,"value",void 0),Of=lP=b([se("esri.popup.content.support.ChartMediaInfoValueSeries")],Of);const zIe=Of;var uP;let fd=uP=class extends Fe{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new uP({colors:ve(this.colors),fields:ve(this.fields),normalizeField:this.normalizeField,series:ve(this.series),tooltipField:this.tooltipField})}};b([M({type:[Dt],json:{type:[[Wr]],write:!0}})],fd.prototype,"colors",void 0),b([M({type:[String],json:{write:!0}})],fd.prototype,"fields",void 0),b([M({type:String,json:{write:!0}})],fd.prototype,"normalizeField",void 0),b([M({type:[zIe],json:{read:!1}})],fd.prototype,"series",void 0),b([M({type:String,json:{write:!0}})],fd.prototype,"tooltipField",void 0),fd=uP=b([se("esri.popup.content.support.ChartMediaInfoValue")],fd);const BIe=fd;let Bb=class extends sF{constructor(t){super(t),this.type=null,this.value=void 0}};b([M({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Bb.prototype,"type",void 0),b([M({type:BIe,json:{write:!0}})],Bb.prototype,"value",void 0),Bb=b([se("esri.popup.content.mixins.ChartMediaInfo")],Bb);const K7=Bb,Y7=Us()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var cP;let CS=cP=class extends K7{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new cP({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([M({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Y7.write}})],CS.prototype,"type",void 0),CS=cP=b([se("esri.popup.content.BarChartMediaInfo")],CS);const Cae=CS;var hP;let ES=hP=class extends K7{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new hP({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([M({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Y7.write}})],ES.prototype,"type",void 0),ES=hP=b([se("esri.popup.content.ColumnChartMediaInfo")],ES);const Eae=ES;var dP;let Vb=dP=class extends Fe{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new dP({linkURL:this.linkURL,sourceURL:this.sourceURL})}};b([M({type:String,json:{write:!0}})],Vb.prototype,"linkURL",void 0),b([M({type:String,json:{write:!0}})],Vb.prototype,"sourceURL",void 0),Vb=dP=b([se("esri.popup.content.support.ImageMediaInfoValue")],Vb);const VIe=Vb;var pP;let $y=pP=class extends sF{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new pP({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};b([M({type:Number,json:{write:!0}})],$y.prototype,"refreshInterval",void 0),b([M({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],$y.prototype,"type",void 0),b([M({type:VIe,json:{write:!0}})],$y.prototype,"value",void 0),$y=pP=b([se("esri.popup.content.ImageMediaInfo")],$y);const Iae=$y;var fP;let IS=fP=class extends K7{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new fP({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([M({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Y7.write}})],IS.prototype,"type",void 0),IS=fP=b([se("esri.popup.content.LineChartMediaInfo")],IS);const Pae=IS;var yP;let PS=yP=class extends K7{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new yP({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};b([M({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Y7.write}})],PS.prototype,"type",void 0),PS=yP=b([se("esri.popup.content.PieChartMediaInfo")],PS);const Oae=PS,Aae={base:sF,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Cae,"column-chart":Eae,"line-chart":Pae,"pie-chart":Oae,image:Iae}};var mP;let Ll=mP=class extends Zp{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Iae.fromJSON(t):t.type==="barchart"?Cae.fromJSON(t):t.type==="columnchart"?Eae.fromJSON(t):t.type==="linechart"?Pae.fromJSON(t):t.type==="piechart"?Oae.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new mP(ve({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};b([M()],Ll.prototype,"activeMediaInfoIndex",void 0),b([M({type:Object,json:{write:!0}})],Ll.prototype,"attributes",void 0),b([M({type:String,json:{write:!0}})],Ll.prototype,"description",void 0),b([M({types:[Aae]})],Ll.prototype,"mediaInfos",void 0),b([Ge("mediaInfos")],Ll.prototype,"readMediaInfos",null),b([Xe("mediaInfos")],Ll.prototype,"writeMediaInfos",null),b([M({type:String,json:{write:!0}})],Ll.prototype,"title",void 0),b([M({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ll.prototype,"type",void 0),Ll=mP=b([se("esri.popup.content.MediaContent")],Ll);const s6=Ll;var gP;let Ub=gP=class extends Fe{constructor(e){super(e),this.field=null,this.order=null}clone(){return new gP({field:this.field,order:this.order})}};b([M({type:String,json:{write:!0}})],Ub.prototype,"field",void 0),b([M({type:["asc","desc"],json:{write:!0}})],Ub.prototype,"order",void 0),Ub=gP=b([se("esri.popup.support.RelatedRecordsInfoFieldOrder")],Ub);const oF=Ub;let Mu=class extends ui(Zp){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};b([M({type:String,json:{write:!0}})],Mu.prototype,"description",void 0),b([M({type:Number,json:{type:Wr,write:!0}})],Mu.prototype,"displayCount",void 0),b([M({type:["list"],json:{write:!0}})],Mu.prototype,"displayType",void 0),b([M({type:[oF],json:{write:!0}})],Mu.prototype,"orderByFields",void 0),b([M({type:Number,json:{type:Wr,write:!0}})],Mu.prototype,"relationshipId",void 0),b([M({type:String,json:{write:!0}})],Mu.prototype,"title",void 0),b([M({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Mu.prototype,"type",void 0),Mu=b([se("esri.popup.content.RelationshipContent")],Mu);const o6=Mu;var vP;let Gb=vP=class extends Zp{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new vP({text:this.text})}};b([M({type:String,json:{write:!0}})],Gb.prototype,"text",void 0),b([M({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Gb.prototype,"type",void 0),Gb=vP=b([se("esri.popup.content.TextContent")],Gb);const a6=Gb,UIe={base:null,key:"type",typeMap:{attachment:o3,media:s6,text:a6,expression:iF,field:a3,relationship:o6}};var bP;let Af=bP=class extends Fe{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new bP({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([M({type:String,json:{write:!0}})],Af.prototype,"name",void 0),b([M({type:String,json:{write:!0}})],Af.prototype,"title",void 0),b([M({type:String,json:{write:!0}})],Af.prototype,"expression",void 0),b([M({type:["string","number"],json:{write:!0}})],Af.prototype,"returnType",void 0),Af=bP=b([se("esri.popup.ExpressionInfo")],Af);const GIe=Af;var wP;let qb=wP=class extends Fe{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new wP({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};b([M({type:Boolean,json:{write:!0}})],qb.prototype,"returnTopmostRaster",void 0),b([M({type:Boolean,json:{write:!0}})],qb.prototype,"showNoDataRecords",void 0),qb=wP=b([se("esri.popup.LayerOptions")],qb);const qIe=qb;var xP;let Hb=xP=class extends Fe{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new xP({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ve(this.orderByFields):null})}};b([M({type:Boolean,json:{write:!0}})],Hb.prototype,"showRelatedRecords",void 0),b([M({type:[oF],json:{write:!0}})],Hb.prototype,"orderByFields",void 0),Hb=xP=b([se("esri.popup.RelatedRecordsInfo")],Hb);const HIe=Hb;var _P;let Ia=_P=class extends Dh(St){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new _P({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};b([M()],Ia.prototype,"active",void 0),b([M()],Ia.prototype,"className",void 0),b([M()],Ia.prototype,"disabled",void 0),b([M()],Ia.prototype,"icon",void 0),b([M()],Ia.prototype,"id",void 0),b([M()],Ia.prototype,"indicator",void 0),b([M()],Ia.prototype,"title",void 0),b([M()],Ia.prototype,"type",void 0),b([M()],Ia.prototype,"visible",void 0),Ia=_P=b([se("esri.support.actions.ActionBase")],Ia);const vx=Ia;var SP;let OS=SP=class extends vx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new SP({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};b([M()],OS.prototype,"image",void 0),OS=SP=b([se("esri.support.actions.ActionButton")],OS);const jae=OS;var $P;let Wb=$P=class extends vx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new $P({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};b([M()],Wb.prototype,"image",void 0),b([M()],Wb.prototype,"value",void 0),Wb=$P=b([se("esri.support.actions.ActionToggle")],Wb);const Rae=Wb,rb="relationships/",Vq="expression/",WIe=ut.ofType({key:"type",defaultKeyValue:"button",base:vx,typeMap:{button:jae,toggle:Rae}}),JIe={base:Zp,key:"type",typeMap:{media:s6,custom:FIe,text:a6,attachments:o3,fields:a3,expression:iF,relationship:o6}},KIe=new Set(["attachments","fields","media","text","expression","relationship"]);let Cn=class extends ui(Fe){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>oc(JIe,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Wp(t)?t:(Ne.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeContent(t,r,i,n){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(o=>KIe.has(o.type)).map(o=>o==null?void 0:o.toJSON(n)),r.popupElements.forEach(o=>{o.type==="attachments"?this._writeAttachmentContent(r):o.type==="media"?this._writeMediaContent(o,r):o.type==="text"?this._writeTextContent(o,r):o.type==="relationship"&&this._writeRelationshipContent(o,r)})):r.description=t}writeFieldInfos(t,r,i,n){const{content:o}=this,u=Array.isArray(o)?o:null;if(t){const f=u?u.filter(v=>v.type==="fields"):[],m=f.length&&f.every(v=>{var _;return(_=v.fieldInfos)==null?void 0:_.length});r.fieldInfos=t.filter(Boolean).map(v=>{const _=v.toJSON(n);return m&&(_.visible=!1),_})}if(u)for(const f of u)f.type==="fields"&&this._writeFieldsContent(f,r)}writeLayerOptions(t,r,i,n){r[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...i,...this._getContentExpressionInfos(this.content,i)]),p1(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=ve(t.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(n=>{const o=r.fieldInfos.find(u=>{var f,m;return((f=u.fieldName)==null?void 0:f.toLowerCase())===((m=n.fieldName)==null?void 0:m.toLowerCase())});o?o.visible=!0:r.fieldInfos.push(n)}):r.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var o,u;const i=((o=t.orderByFields)==null?void 0:o.map(f=>this._toFieldOrderJSON(f,t.relationshipId)))||[],n=[...((u=r.relatedRecordsInfo)==null?void 0:u.orderByFields)||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...(n==null?void 0:n.length)&&{orderByFields:n}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=ve(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){const n={description:!1,mediaInfos:!1};return i.map(o=>o.type==="media"?(o.mediaInfos||!r||n.mediaInfos||(o.mediaInfos=r,n.mediaInfos=!0),s6.fromJSON(o)):o.type==="text"?(o.text||!t||n.description||(o.text=t,n.description=!0),a6.fromJSON(o)):o.type==="attachments"?o3.fromJSON(o):o.type==="fields"?a3.fromJSON(o):o.type==="expression"?iF.fromJSON(o):o.type==="relationship"?o6.fromJSON(o):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:i}=t;if(!(r!=null&&r.startsWith(rb)))return null;const n=r.replace(rb,"").split("/");if(n.length!==2)return null;const o=parseInt(n[0],10),u=n[1];return typeof o=="number"&&u?o6.fromJSON({relationshipId:o,orderByFields:[{field:u,order:i}]}):null}_toFieldOrderJSON(t,r){const{order:i,field:n}=t;return{field:`${rb}${r}/${n}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:n={showRelatedRecords:!1}}){const o=[];t?o.push(new a6({text:t})):o.push(new a3),Array.isArray(r)&&r.length&&o.push(s6.fromJSON({mediaInfos:r})),i&&o.push(o3.fromJSON({displayType:"auto"}));const{showRelatedRecords:u,orderByFields:f}=n;return u&&(f!=null&&f.length)&&f.forEach(m=>{const v=this._toRelationshipContent(m);v&&o.push(v)}),o.length?o:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((n,o)=>[...n,...this._getMediaInfoFields(o)],[])]}return r==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:r,title:i,value:n}=t,o=n||{},{fields:u,normalizeField:f,tooltipField:m,sourceURL:v,linkURL:_}=o,$=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(v),...this._extractFieldNames(_),...u??[]];return f&&$.push(f),m&&$.push(m),$}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((i,n)=>[...i,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,r,i){i&&await Promise.all(i.map(n=>Bs(t,r,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(rb)||r.startsWith(Vq))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:r,title:i,type:n}=t,o=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(o)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return kae(t).filter(r=>!(r.indexOf(rb)===0||r.indexOf(Vq)===0))}};b([M({type:WIe})],Cn.prototype,"actions",void 0),b([M()],Cn.prototype,"content",void 0),b([Ar("content")],Cn.prototype,"castContent",null),b([Ge("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Cn.prototype,"readContent",null),b([Xe("content",{popupElements:{type:ut.ofType(UIe)},showAttachments:{type:Boolean},mediaInfos:{type:ut.ofType(Aae)},description:{type:String},relatedRecordsInfo:{type:HIe}})],Cn.prototype,"writeContent",null),b([M({type:[GIe],json:{write:!0}})],Cn.prototype,"expressionInfos",void 0),b([M({type:[nF]})],Cn.prototype,"fieldInfos",void 0),b([Xe("fieldInfos")],Cn.prototype,"writeFieldInfos",null),b([M({type:qIe})],Cn.prototype,"layerOptions",void 0),b([Xe("layerOptions")],Cn.prototype,"writeLayerOptions",null),b([M({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Cn.prototype,"lastEditInfoEnabled",void 0),b([M()],Cn.prototype,"outFields",void 0),b([M()],Cn.prototype,"overwriteActions",void 0),b([M()],Cn.prototype,"returnGeometry",void 0),b([M({json:{type:String}})],Cn.prototype,"title",void 0),b([Xe("title")],Cn.prototype,"writeTitle",null),Cn=b([se("esri.PopupTemplate")],Cn);const Xp=Cn,Uq=new hr({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let YIe=0,My=class extends Fe{constructor(t){super(t),this.id="sym"+YIe++,this.type=null,this.color=new Dt([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};b([M({type:Uq.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Uq.write}}})],My.prototype,"type",void 0),b([M({type:Dt,json:{write:{allowNull:!0}}})],My.prototype,"color",void 0),b([Ge("color")],My.prototype,"readColor",null),My=b([se("esri.symbols.Symbol")],My);const ys=My;var MP;let yd=MP=class extends ys{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const n=i.map(o=>{const u=o.valueExpressionInfo;return u?Bs(e,t,u.expression):null});await Promise.all(n)}}}clone(){return new MP({data:ve(this.data)})}hash(){return ire(JSON.stringify(this.data)).toString()}};b([M({json:{write:!1}})],yd.prototype,"color",void 0),b([M({json:{write:!0}})],yd.prototype,"data",void 0),b([Ge("data",["symbol"])],yd.prototype,"readData",null),b([Xe("data",{})],yd.prototype,"writeData",null),b([Ct({CIMSymbolReference:"cim"},{readOnly:!0})],yd.prototype,"type",void 0),yd=MP=b([se("esri.symbols.CIMSymbol")],yd);const Qp=yd;let Ty=class extends Fe{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};b([M({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Ty.prototype,"enabled",void 0),b([Xe("enabled")],Ty.prototype,"writeEnabled",null),b([M({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Ty.prototype,"type",void 0),Ty=b([se("esri.symbols.Symbol3DLayer")],Ty);const mc=Ty;function ZIe(e,t){const r=t.transparency!=null?s3(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new Dt([i[0]||0,i[1]||0,i[2]||0,r]):null}function XIe(e,t){t.color=e.toJSON().slice(0,3);const r=G7(e.a);r!==0&&(t.transparency=r)}const ef={type:Dt,json:{type:[Wr],default:null,read:{source:["color","transparency"],reader:ZIe},write:{target:{color:{type:[Wr]},transparency:{type:Wr}},writer:XIe}}},hc={type:Number,cast:Tr,json:{write:!0}};let jf=class extends Fe{constructor(t){super(t),this.color=new Dt([0,0,0,1]),this.extensionLength=0,this.size=ml(1)}clone(){}cloneProperties(){return{color:ve(this.color),size:this.size,extensionLength:this.extensionLength}}};b([M({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],jf.prototype,"type",void 0),b([M(ef)],jf.prototype,"color",void 0),b([M({...hc,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],jf.prototype,"extensionLength",void 0),b([M(hc)],jf.prototype,"size",void 0),jf=b([se("esri.symbols.edges.Edges3D")],jf);const aF=jf;var TP;let AS=TP=class extends aF{constructor(e){super(e),this.type="sketch"}clone(){return new TP(this.cloneProperties())}};b([Ct({sketch:"sketch"},{readOnly:!0})],AS.prototype,"type",void 0),AS=TP=b([se("esri.symbols.edges.SketchEdges3D")],AS);const QIe=AS;var kP;let jS=kP=class extends aF{constructor(e){super(e),this.type="solid"}clone(){return new kP(this.cloneProperties())}};b([Ct({solid:"solid"},{readOnly:!0})],jS.prototype,"type",void 0),jS=kP=b([se("esri.symbols.edges.SolidEdges3D")],jS);const Lae=jS,Nae={types:{key:"type",base:aF,typeMap:{solid:Lae,sketch:QIe}},json:{write:!0}};var CP;let ll=CP=class extends Fe{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new CP(e)}};b([M(ef)],ll.prototype,"color",void 0),ll=CP=b([se("esri.symbols.support.Symbol3DMaterial")],ll);var EP;let md=EP=class extends mc{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new EP({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};b([Ct({Extrude:"extrude"},{readOnly:!0})],md.prototype,"type",void 0),b([M({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],md.prototype,"size",void 0),b([M({type:ll,json:{write:!0}})],md.prototype,"material",void 0),b([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],md.prototype,"castShadows",void 0),b([M(Nae)],md.prototype,"edges",void 0),md=EP=b([se("esri.symbols.ExtrudeSymbol3DLayer")],md);const Fae=md;let Jb=class extends ys{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};b([Ct({esriSLS:"simple-line"},{readOnly:!0})],Jb.prototype,"type",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Jb.prototype,"width",void 0),Jb=b([se("esri.symbols.LineSymbol")],Jb);const ePe=Jb,tPe=["begin","end","begin-end"],Dae=["arrow","circle","square","diamond","cross","x"];var IP;let Tu=IP=class extends Fe{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=(i==null?void 0:i.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){(i==null?void 0:i.origin)==="web-map"||(t[r]=e)}clone(){return new IP({color:ve(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};b([M({type:["begin","end","begin-end"],json:{write:!0}})],Tu.prototype,"placement",void 0),b([Ct({"line-marker":"line-marker"},{readOnly:!0}),M({json:{origins:{"web-map":{write:!1}}}})],Tu.prototype,"type",void 0),b([M({type:Dae})],Tu.prototype,"style",void 0),b([Xe("style")],Tu.prototype,"writeStyle",null),b([M({type:Dt,value:null,json:{write:{allowNull:!0}}})],Tu.prototype,"color",null),b([Ge("color")],Tu.prototype,"readColor",null),b([Xe("color")],Tu.prototype,"writeColor",null),Tu=IP=b([se("esri.symbols.LineSymbolMarker")],Tu);const rPe=Tu;var PP;const XT=new hr({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Lc=PP=class extends ePe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,o){if(e&&typeof e!="string")return e;const u={};return e!=null&&(u.style=e),t!=null&&(u.color=t),r!=null&&(u.width=Tr(r)),i!=null&&(u.cap=i),n!=null&&(u.join=n),o!=null&&(u.miterLimit=Tr(o)),u}clone(){var e;return new PP({color:ve(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};b([Ct({esriSLS:"simple-line"},{readOnly:!0})],Lc.prototype,"type",void 0),b([M({type:XT.apiValues,json:{read:XT.read,write:XT.write}})],Lc.prototype,"style",void 0),b([M({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],Lc.prototype,"cap",void 0),b([M({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],Lc.prototype,"join",void 0),b([M({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":rPe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lc.prototype,"marker",void 0),b([M({type:Number,json:{read:!1,write:!1}})],Lc.prototype,"miterLimit",void 0),Lc=PP=b([se("esri.symbols.SimpleLineSymbol")],Lc);const Fo=Lc;let Kb=class extends ys{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};b([M({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Fo}},json:{default:null,write:!0}})],Kb.prototype,"outline",void 0),b([M({type:["simple-fill","picture-fill"],readOnly:!0})],Kb.prototype,"type",void 0),Kb=b([se("esri.symbols.FillSymbol")],Kb);const zae=Kb;let RS=class extends Fe{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};b([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],RS.prototype,"type",void 0),RS=b([se("esri.symbols.patterns.LinePattern3D")],RS);const Bae=RS,iPe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var OP;const nPe=Us()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Yb=OP=class extends Bae{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new OP(e)}};b([M({type:["style"]})],Yb.prototype,"type",void 0),b([Ct(nPe),M({type:iPe})],Yb.prototype,"style",void 0),Yb=OP=b([se("esri.symbols.patterns.LineStylePattern3D")],Yb);const lF=Yb;let LS=class extends Fe{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};b([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],LS.prototype,"type",void 0),LS=b([se("esri.symbols.patterns.Pattern3D")],LS);const Vae=LS,sPe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var AP;let Zb=AP=class extends Vae{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new AP({style:this.style})}};b([M({type:["style"]})],Zb.prototype,"type",void 0),b([M({type:sPe,json:{read:!0,write:!0}})],Zb.prototype,"style",void 0),Zb=AP=b([se("esri.symbols.patterns.StylePattern3D")],Zb);const Uae=Zb,oPe={types:{key:"type",base:Vae,typeMap:{style:Uae}},json:{write:!0}},Gae={types:{key:"type",base:Bae,typeMap:{style:lF}},json:{write:!0}},lw=new Dt("white");new Dt("black");const aPe=new Dt([255,255,255,0]);function lPe(e){return e.r===0&&e.g===0&&e.b===0}var jP;let uw=jP=class extends ll{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new jP(e)}};b([Ct({multiply:"multiply",replace:"replace",tint:"tint"})],uw.prototype,"colorMixMode",void 0),uw=jP=b([se("esri.symbols.support.Symbol3DFillMaterial")],uw);function uF(e=pPe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function cF(e,t,r,i,n,o,u=uF()){return u[0]=e,u[1]=t,u[2]=r,u[3]=i,u[4]=n,u[5]=o,u}function iSt(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new mr(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function nSt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function sSt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function oSt(e,t,r=0,i=t.length/3){let n=e[0],o=e[1],u=e[2],f=e[3],m=e[4],v=e[5];for(let _=0;_<i;_++)n=Math.min(n,t[r+3*_]),o=Math.min(o,t[r+3*_+1]),u=Math.min(u,t[r+3*_+2]),f=Math.max(f,t[r+3*_]),m=Math.max(m,t[r+3*_+1]),v=Math.max(v,t[r+3*_+2]);e[0]=n,e[1]=o,e[2]=u,e[3]=f,e[4]=m,e[5]=v}function uPe(e){return e[0]>=e[3]?0:e[3]-e[0]}function cPe(e){return e[1]>=e[4]?0:e[4]-e[1]}function hPe(e){return e[2]>=e[5]?0:e[5]-e[2]}function aSt(e,t=[0,0,0]){return t[0]=uPe(e),t[1]=cPe(e),t[2]=hPe(e),t}function lSt(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function uSt(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function dPe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function cSt(e){return e?dPe(e,qq):uF(qq)}function hSt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function dSt(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function Gq(e){return e.length===6}function pSt(e,t,r){if(e==null||t==null)return e===t;if(!Gq(e)||!Gq(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const qq=[1/0,1/0,1/0,-1/0,-1/0,-1/0],pPe=[0,0,0,0,0,0];uF();const fPe=cF(-.5,-.5,-.5,.5,.5,.5),yPe=cF(-.5,-.5,0,.5,.5,1),mPe=cF(-.5,-.5,0,.5,.5,.5);function fSt(e){switch(e){case"sphere":case"cube":case"diamond":return fPe;case"cylinder":case"cone":case"inverted-cone":return yPe;case"tetrahedron":return mPe;default:return}}const hF=["butt","square","round"],gPe=[...hF,"none"],qae=["miter","bevel","round"];var RP;let Rf=RP=class extends Fe{constructor(e){super(e),this.color=new Dt([0,0,0,1]),this.size=ml(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new RP(e)}};b([M(ef)],Rf.prototype,"color",void 0),b([M(hc)],Rf.prototype,"size",void 0),b([M(Gae)],Rf.prototype,"pattern",void 0),b([M({type:hF,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Rf.prototype,"patternCap",void 0),Rf=RP=b([se("esri.symbols.support.Symbol3DOutline")],Rf);var NS;let Nc=NS=class extends mc{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new NS(e)}static fromSimpleFillSymbol(e){var i,n,o;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new lF({style:e.outline.style}):null,r={size:((i=e.outline)==null?void 0:i.width)??0,color:(((n=e.outline)==null?void 0:n.color)??lw).clone(),pattern:t};return t&&((o=e.outline)!=null&&o.cap)&&(r.patternCap=e.outline.cap),new NS({material:new uw({color:(e.color??aPe).clone()}),pattern:e.style&&e.style!=="solid"?new Uae({style:e.style}):null,outline:r})}};b([Ct({Fill:"fill"},{readOnly:!0})],Nc.prototype,"type",void 0),b([M({type:uw,json:{write:!0}})],Nc.prototype,"material",void 0),b([M(oPe)],Nc.prototype,"pattern",void 0),b([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Nc.prototype,"castShadows",void 0),b([M({type:Rf,json:{write:!0}})],Nc.prototype,"outline",void 0),b([M(Nae)],Nc.prototype,"edges",void 0),Nc=NS=b([se("esri.symbols.FillSymbol3DLayer")],Nc);const A1=Nc,vPe=["none","underline","line-through"],bPe=["normal","italic","oblique"],wPe=["normal","lighter","bold","bolder"],Hae={type:Number,cast:e=>{const t=qa(e);return t===0?1:fl(t,.1,4)},nonNullable:!0},xPe=["left","right","center"],_Pe=["baseline","top","middle","bottom"],Wae={type:xPe,nonNullable:!0},Jae={type:_Pe,nonNullable:!0},ySt=8;var LP;let Fc=LP=class extends Fe{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Tr(e)}clone(){return new LP({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};b([M({type:vPe,json:{default:"none",write:!0}})],Fc.prototype,"decoration",void 0),b([M({type:String,json:{write:!0}})],Fc.prototype,"family",void 0),b([M({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Fc.prototype,"size",void 0),b([Ar("size")],Fc.prototype,"castSize",null),b([M({type:bPe,json:{default:"normal",write:!0}})],Fc.prototype,"style",void 0),b([M({type:wPe,json:{default:"normal",write:!0}})],Fc.prototype,"weight",void 0),Fc=LP=b([se("esri.symbols.Font")],Fc);const Z7=Fc;var NP;const SPe=Us()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Lf=NP=class extends Fe{constructor(e){super(e)}readHref(e,t,r){return e?nv(e,r):t.dataURI}writeHref(e,t,r,i){e&&(E1(e)?t.dataURI=e:(t.href=mx(e,i),la(t.href)&&(t.href=sl(t.href))))}clone(){return new NP({href:this.href,primitive:this.primitive})}};b([M({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Lf.prototype,"href",void 0),b([Ge("href")],Lf.prototype,"readHref",null),b([Xe("href",{href:{type:String},dataURI:{type:String}})],Lf.prototype,"writeHref",null),b([Ct(SPe)],Lf.prototype,"primitive",void 0),Lf=NP=b([se("esri.symbols.support.IconSymbol3DLayerResource")],Lf);const mSt="circle";var FP;let bm=FP=class extends St{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new FP({x:this.x,y:this.y})}};b([M({type:Number})],bm.prototype,"x",void 0),b([M({type:Number})],bm.prototype,"y",void 0),bm=FP=b([se("esri.symbols.support.Symbol3DAnchorPosition2D")],bm);var DP;let Xb=DP=class extends Fe{constructor(e){super(e),this.color=new Dt([0,0,0,1]),this.size=ml(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new DP(e)}};b([M(ef)],Xb.prototype,"color",void 0),b([M(hc)],Xb.prototype,"size",void 0),Xb=DP=b([se("esri.symbols.support.Symbol3DIconOutline")],Xb);var ky;const Kae="esri.symbols.IconSymbol3DLayer";let ku=ky=class extends mc{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new ky({anchor:this.anchor,anchorPosition:ve(this.anchorPosition),enabled:this.enabled,material:ve(this.material),outline:ve(this.outline),resource:ve(this.resource),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||lw,r=Hq(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||lw).clone()}:null;return new ky({size:e.size,resource:{primitive:MPe(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||lPe(e.color)?lw:e.color,r=Hq(e);return new ky({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new ky({resource:{href:$ie({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};b([M({type:ll,json:{write:!0}})],ku.prototype,"material",void 0),b([M({type:Lf,json:{write:!0}})],ku.prototype,"resource",void 0),b([Ct({Icon:"icon"},{readOnly:!0})],ku.prototype,"type",void 0),b([M(hc)],ku.prototype,"size",void 0),b([Ct({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),M({json:{default:"center"}})],ku.prototype,"anchor",void 0),b([M({type:bm,json:{type:[Number],read:{reader:e=>new bm({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ku.prototype,"anchorPosition",void 0),b([M({type:Xb,json:{write:!0}})],ku.prototype,"outline",void 0),ku=ky=b([se(Kae)],ku);const M0=ku;function Hq(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=Wq(e.xoffset),n=Wq(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function Wq(e){return isFinite(e)?e:0}const $Pe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function MPe(e){return $Pe[e]||(Ne.getLogger(Kae).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let Nf=class extends ui(Fe){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};b([M({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Nf.prototype,"type",void 0),b([M({type:tPe,json:{default:"begin-end",write:!0}})],Nf.prototype,"placement",void 0),b([M({type:Dae,json:{default:"arrow",write:!0}})],Nf.prototype,"style",void 0),b([M({type:Dt,json:{type:[Wr],default:null,write:!0}})],Nf.prototype,"color",void 0),Nf=b([se("esri.symbols.LineStyleMarker3D")],Nf);const zP=Nf;var FS;let Cu=FS=class extends mc{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ml(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new FS(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??ml(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new lF({style:e.style}):null,material:new ll({color:(e.color||lw).clone()}),marker:e.marker?new zP({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new FS(t)}};b([M({type:ll,json:{write:!0}})],Cu.prototype,"material",void 0),b([Ct({Line:"line"},{readOnly:!0})],Cu.prototype,"type",void 0),b([M({type:qae,json:{write:!0,default:"miter"}})],Cu.prototype,"join",void 0),b([M({type:hF,json:{write:!0,default:"butt"}})],Cu.prototype,"cap",void 0),b([M(hc)],Cu.prototype,"size",void 0),b([M(Gae)],Cu.prototype,"pattern",void 0),b([M({types:{key:"type",base:zP,typeMap:{style:zP}},json:{write:!0}})],Cu.prototype,"marker",void 0),Cu=FS=b([se("esri.symbols.LineSymbol3DLayer")],Cu);const sv=Cu;var BP;const TPe=Us()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Qb=BP=class extends Fe{clone(){return new BP({href:this.href,primitive:this.primitive})}};b([M({type:String,json:{read:XN,write:h1}})],Qb.prototype,"href",void 0),b([Ct(TPe)],Qb.prototype,"primitive",void 0),Qb=BP=b([se("esri.symbols.support.ObjectSymbol3DLayerResource")],Qb);const vSt="sphere";var VP;let h0=VP=class extends St{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new VP({x:this.x,y:this.y,z:this.z})}};b([M({type:Number})],h0.prototype,"x",void 0),b([M({type:Number})],h0.prototype,"y",void 0),b([M({type:Number})],h0.prototype,"z",void 0),h0=VP=b([se("esri.symbols.support.Symbol3DAnchorPosition3D")],h0);var UP;let Ms=UP=class extends mc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new UP({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};b([M({type:ll,json:{write:!0}})],Ms.prototype,"material",void 0),b([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ms.prototype,"castShadows",void 0),b([M({type:Qb,json:{write:!0}})],Ms.prototype,"resource",void 0),b([Ct({Object:"object"},{readOnly:!0})],Ms.prototype,"type",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"width",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"height",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"depth",void 0),b([Ct({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),M({json:{default:"origin"}})],Ms.prototype,"anchor",void 0),b([M({type:h0,json:{type:[Number],read:{reader:e=>new h0({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Ms.prototype,"anchorPosition",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"heading",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"tilt",void 0),b([M({type:Number,json:{write:!0}})],Ms.prototype,"roll",void 0),b([M({readOnly:!0})],Ms.prototype,"isPrimitive",null),Ms=UP=b([se("esri.symbols.ObjectSymbol3DLayer")],Ms);const dF=Ms;var GP;let Js=GP=class extends mc{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new GP({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};b([M({type:ll,json:{write:!0}})],Js.prototype,"material",void 0),b([M({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Js.prototype,"castShadows",void 0),b([Ct({Path:"path"},{readOnly:!0})],Js.prototype,"type",void 0),b([M({type:["circle","quad"],json:{write:!0,default:"circle"}})],Js.prototype,"profile",void 0),b([M({type:qae,json:{write:!0,default:"miter"}})],Js.prototype,"join",void 0),b([M({type:gPe,json:{write:!0,default:"butt"}})],Js.prototype,"cap",void 0),b([M({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Js.prototype,"width",void 0),b([Ge("width",["width","size","height"])],Js.prototype,"readWidth",null),b([M({type:Number,json:{write:!0}})],Js.prototype,"height",void 0),b([Ge("height",["height","size","width"])],Js.prototype,"readHeight",null),b([M({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Js.prototype,"anchor",void 0),b([M({type:["heading","all"],json:{write:!0,default:"all"}})],Js.prototype,"profileRotation",void 0),Js=GP=b([se("esri.symbols.PathSymbol3DLayer")],Js);const pF=Js;var qP;let wm=qP=class extends Fe{constructor(){super(...arguments),this.color=new Dt([0,0,0,1]),this.size=0}clone(){const e={color:ve(this.color),size:this.size};return new qP(e)}};b([M(ef)],wm.prototype,"color",void 0),b([M(hc)],wm.prototype,"size",void 0),wm=qP=b([se("esri.symbols.support.Symbol3DHalo")],wm);let cw=class extends ui(Fe){constructor(t){super(t),this.color=null}};b([M(ef)],cw.prototype,"color",void 0),cw=b([se("esri.symbols.support.Symbol3DTextBackground")],cw);var DS;let vo=DS=class extends mc{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new DS({enabled:this.enabled,font:this.font&&ve(this.font),halo:this.halo&&ve(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ve(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new DS({font:e.font!=null?e.font.clone():new Z7,halo:kPe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ll({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new cw({color:e.backgroundColor.clone()}):null})}};function kPe(e,t){return e&&t!=null&&t>0?new wm({color:ve(e),size:t}):null}b([M({type:Z7,json:{write:!0}})],vo.prototype,"font",null),b([Xe("font")],vo.prototype,"writeFont",null),b([M({type:wm,json:{write:!0}})],vo.prototype,"halo",void 0),b([M({...Wae,json:{default:"center",write:!0}})],vo.prototype,"horizontalAlignment",void 0),b([M({...Hae,json:{default:1,write:!0}})],vo.prototype,"lineHeight",void 0),b([M({type:ll,json:{write:!0}})],vo.prototype,"material",void 0),b([M({type:cw,json:{write:!0}})],vo.prototype,"background",void 0),b([M(hc)],vo.prototype,"size",null),b([M({type:String,json:{write:!0}})],vo.prototype,"text",void 0),b([Ct({Text:"text"},{readOnly:!0})],vo.prototype,"type",void 0),b([M({...Jae,json:{default:"baseline",write:!0}})],vo.prototype,"verticalAlignment",void 0),vo=DS=b([se("esri.symbols.TextSymbol3DLayer")],vo);const ov=vo;var HP;let gd=HP=class extends mc{constructor(e){super(e),this.color=WP.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new HP({color:ve(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};b([M({type:Dt,nonNullable:!0,json:{type:[Wr],write:(e,t,r)=>t[r]=e.toArray(Dt.AlphaMode.UNLESS_OPAQUE),default:()=>WP.clone(),defaultEquals:e=>e.toCss(!0)===WP.toCss(!0)}})],gd.prototype,"color",void 0),b([Ct({Water:"water"},{readOnly:!0})],gd.prototype,"type",void 0),b([M({type:["small","medium","large"],json:{write:!0,default:"medium"}})],gd.prototype,"waterbodySize",void 0),b([M({type:Number,json:{write:!0,default:null}})],gd.prototype,"waveDirection",void 0),b([M({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],gd.prototype,"waveStrength",void 0),gd=HP=b([se("esri.symbols.WaterSymbol3DLayer")],gd);const Yae=gd,WP=new Dt([0,119,190]);var JP;let Ff=JP=class extends St{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new JP({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};b([M({type:String})],Ff.prototype,"name",void 0),b([M({type:String})],Ff.prototype,"styleUrl",void 0),b([M({type:String})],Ff.prototype,"styleName",void 0),b([M({type:Rn})],Ff.prototype,"portal",void 0),Ff=JP=b([se("esri.symbols.support.StyleOrigin")],Ff);const KP=Ff;var YP;let hw=YP=class extends St{constructor(){super(...arguments),this.url=""}clone(){return new YP({url:this.url})}};b([M({type:String})],hw.prototype,"url",void 0),hw=YP=b([se("esri.symbols.support.Thumbnail")],hw);const Zae={icon:M0,object:dF,line:sv,path:pF,fill:A1,extrude:Fae,text:ov,water:Yae},CPe=ut.ofType({base:mc,key:"type",typeMap:Zae,errorContext:"symbol-layer"});let Eu=class extends ys{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r==null?void 0:r.type,n=i||ut;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&Ne.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Np(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const n=nv(t.styleUrl,i);return new KP({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new KP({portal:(i==null?void 0:i.portal)||Rn.getDefault(),styleName:t.styleName,name:t.name});i!=null&&i.messages&&i.messages.push(new pl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,n){if(t.styleUrl&&t.name){let o=mx(t.styleUrl,n);la(o)&&(o=sl(o)),r.styleOrigin={styleUrl:o,name:t.name}}else t.styleName&&t.name&&(t.portal&&(n!=null&&n.portal)&&!Sie(t.portal.restUrl,n.portal.restUrl)?n!=null&&n.messages&&n.messages.push(new pl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof mc||t&&Zae[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};b([M({json:{read:!1,write:!1}})],Eu.prototype,"color",null),b([M({type:CPe,nonNullable:!0,json:{write:!0}}),Ar(Coe)],Eu.prototype,"symbolLayers",null),b([M({type:KP})],Eu.prototype,"styleOrigin",void 0),b([Ge("styleOrigin")],Eu.prototype,"readStyleOrigin",null),b([Xe("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Eu.prototype,"writeStyleOrigin",null),b([M({type:hw,json:{read:!1}})],Eu.prototype,"thumbnail",void 0),b([M({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Eu.prototype,"type",void 0),Eu=b([se("esri.symbols.Symbol3D")],Eu);const av=Eu;let e2=class extends Fe{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};b([M({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],e2.prototype,"type",void 0),b([M({readOnly:!0})],e2.prototype,"visible",void 0),e2=b([se("esri.symbols.callouts.Callout3D")],e2);const Xae=e2;var ZP;let zS=ZP=class extends Fe{constructor(e){super(e),this.color=new Dt("white")}clone(){return new ZP({color:ve(this.color)})}};b([M(ef)],zS.prototype,"color",void 0),zS=ZP=b([se("esri.symbols.callouts.LineCallout3DBorder")],zS);const EPe=zS;var XP;let vd=XP=class extends Xae{constructor(e){super(e),this.type="line",this.color=new Dt([0,0,0,1]),this.size=ml(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new XP({color:ve(this.color),size:this.size,border:ve(this.border)})}};b([Ct({line:"line"})],vd.prototype,"type",void 0),b([M(ef)],vd.prototype,"color",void 0),b([M(hc)],vd.prototype,"size",void 0),b([M({type:EPe,json:{write:!0}})],vd.prototype,"border",void 0),b([M({readOnly:!0})],vd.prototype,"visible",null),vd=XP=b([se("esri.symbols.callouts.LineCallout3D")],vd);const Qae=vd;function fF(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function ele(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!fF(e)}const tle={types:{key:"type",base:Xae,typeMap:{line:Qae}},json:{write:!0}};var QP;let Cy=QP=class extends Fe{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new QP({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};b([M(hc)],Cy.prototype,"screenLength",void 0),b([M({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Cy.prototype,"minWorldLength",void 0),b([M({type:Number,json:{write:!0}})],Cy.prototype,"maxWorldLength",void 0),Cy=QP=b([se("esri.symbols.support.Symbol3DVerticalOffset")],Cy);const yF=Cy;var BS;const rle=ut.ofType({base:null,key:"type",typeMap:{text:ov}});let bd=BS=class extends av{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new rle,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return ele(this)}hasVisibleVerticalOffset(){return fF(this)}clone(){return new BS({styleOrigin:ve(this.styleOrigin),symbolLayers:ve(this.symbolLayers),thumbnail:ve(this.thumbnail),callout:ve(this.callout),verticalOffset:ve(this.verticalOffset)})}static fromTextSymbol(e){return new BS({symbolLayers:new ut([ov.fromTextSymbol(e)])})}};b([M({type:yF,json:{write:!0}})],bd.prototype,"verticalOffset",void 0),b([M(tle)],bd.prototype,"callout",void 0),b([M({json:{read:!1,write:!1}})],bd.prototype,"styleOrigin",void 0),b([M({type:rle})],bd.prototype,"symbolLayers",void 0),b([Ct({LabelSymbol3D:"label-3d"},{readOnly:!0})],bd.prototype,"type",void 0),bd=BS=b([se("esri.symbols.LabelSymbol3D")],bd);const X7=bd;var VS;const ile=ut.ofType({base:null,key:"type",typeMap:{line:sv,path:pF}}),IPe=ut.ofType({base:null,key:"type",typeMap:{line:sv,path:pF}});let t2=VS=class extends av{constructor(e){super(e),this.symbolLayers=new ile,this.type="line-3d"}clone(){return new VS({styleOrigin:ve(this.styleOrigin),symbolLayers:ve(this.symbolLayers),thumbnail:ve(this.thumbnail)})}static fromSimpleLineSymbol(e){return new VS({symbolLayers:new ut([sv.fromSimpleLineSymbol(e)])})}};b([M({type:ile,json:{type:IPe}})],t2.prototype,"symbolLayers",void 0),b([Ct({LineSymbol3D:"line-3d"},{readOnly:!0})],t2.prototype,"type",void 0),t2=VS=b([se("esri.symbols.LineSymbol3D")],t2);const j1=t2;let wd=class extends ys{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};b([M({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],wd.prototype,"angle",void 0),b([M({type:["simple-marker","picture-marker"],readOnly:!0})],wd.prototype,"type",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],wd.prototype,"xoffset",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],wd.prototype,"yoffset",void 0),b([M({type:Number,cast:e=>e==="auto"?e:Tr(e),json:{write:!0}})],wd.prototype,"size",void 0),wd=b([se("esri.symbols.MarkerSymbol")],wd);const nle=wd;var US;const sle=ut.ofType({base:null,key:"type",typeMap:{fill:A1}});let r2=US=class extends av{constructor(e){super(e),this.symbolLayers=new sle,this.type="mesh-3d"}clone(){return new US({styleOrigin:ve(this.styleOrigin),symbolLayers:ve(this.symbolLayers),thumbnail:ve(this.thumbnail)})}static fromSimpleFillSymbol(e){return new US({symbolLayers:new ut([A1.fromSimpleFillSymbol(e)])})}};b([M({type:sle})],r2.prototype,"symbolLayers",void 0),b([Ct({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],r2.prototype,"type",void 0),r2=US=b([se("esri.symbols.MeshSymbol3D")],r2);const bx=r2;function PPe(e,t,r){return t.imageData?$ie({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):ole(t.url,r)}function ole(e,t){if(!la(e)){const r=APe(t);if(r)return gg(r,"images",e)}return nv(e,t)}function OPe(e,t,r,i){if(E1(e)){const n=Xw(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&h1(r.url,t,"url",i)}else h1(e,t,"url",i)}const ale={json:{read:{source:["imageData","url"],reader:PPe},write:{writer(e,t,r,i){OPe(e,t,this.source,i)}}}},lle={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=ole(t.url,r)),i}}}};function APe(e){var n,o;if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r==null?void 0:r.type;return i==="feature"||i==="stream"?(n=r.parsedUrl)==null?void 0:n.path:i==="map-image"||i==="tile"?(o=e.url)==null?void 0:o.path:null}var eO;let Pa=eO=class extends zae{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=Tr(r)),i!=null&&(n.height=Tr(i)),n}clone(){const e=new eO({color:ve(this.color),height:this.height,outline:ve(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ve(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};b([Ct({esriPFS:"picture-fill"},{readOnly:!0})],Pa.prototype,"type",void 0),b([M(ale)],Pa.prototype,"url",void 0),b([M({type:Number,json:{write:!0}})],Pa.prototype,"xscale",void 0),b([M({type:Number,json:{write:!0}})],Pa.prototype,"yscale",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Pa.prototype,"width",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Pa.prototype,"height",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Pa.prototype,"xoffset",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Pa.prototype,"yoffset",void 0),b([M(lle)],Pa.prototype,"source",void 0),Pa=eO=b([se("esri.symbols.PictureFillSymbol")],Pa);const mF=Pa;var tO;let Nl=tO=class extends nle{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=Tr(t)),r!=null&&(i.height=Tr(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new tO({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ve(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};b([M({json:{write:!1}})],Nl.prototype,"color",void 0),b([Ct({esriPMS:"picture-marker"},{readOnly:!0})],Nl.prototype,"type",void 0),b([M(ale)],Nl.prototype,"url",void 0),b([M(lle)],Nl.prototype,"source",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Nl.prototype,"height",void 0),b([Ge("height",["height","size"])],Nl.prototype,"readHeight",null),b([M({type:Number,cast:Tr,json:{write:!0}})],Nl.prototype,"width",void 0),b([M({json:{write:!1}})],Nl.prototype,"size",void 0),Nl=tO=b([se("esri.symbols.PictureMarkerSymbol")],Nl);const lv=Nl;var Df;const ule=ut.ofType({base:null,key:"type",typeMap:{icon:M0,object:dF,text:ov}});let zf=Df=class extends av{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new ule,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return ele(this)}hasVisibleVerticalOffset(){return fF(this)}clone(){return new Df({verticalOffset:ve(this.verticalOffset),callout:ve(this.callout),styleOrigin:ve(this.styleOrigin),symbolLayers:ve(this.symbolLayers),thumbnail:ve(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Df({symbolLayers:new ut([M0.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Df({symbolLayers:new ut([M0.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var i,n;if(((n=(i=e.data)==null?void 0:i.symbol)==null?void 0:n.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Df(r!=null&&r.callout?{symbolLayers:new ut([M0.fromCIMSymbol(e)]),callout:new Qae({size:.5,color:new Dt([0,0,0])}),verticalOffset:new yF({screenLength:40})}:{symbolLayers:new ut([M0.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Df({symbolLayers:new ut([ov.fromTextSymbol(e)])})}};b([M({type:yF,json:{write:!0}})],zf.prototype,"verticalOffset",void 0),b([M(tle)],zf.prototype,"callout",void 0),b([M({type:ule,json:{origins:{"web-scene":{write:!0}}}})],zf.prototype,"symbolLayers",void 0),b([Ct({PointSymbol3D:"point-3d"},{readOnly:!0})],zf.prototype,"type",void 0),zf=Df=b([se("esri.symbols.PointSymbol3D")],zf);const fh=zf;var i2;const cle=ut.ofType({base:null,key:"type",typeMap:{extrude:Fae,fill:A1,icon:M0,line:sv,object:dF,text:ov,water:Yae}});let n2=i2=class extends av{constructor(e){super(e),this.symbolLayers=new cle,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&r1(Ne.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&r1(Ne.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(co(()=>this.symbolLayers,"after-add",({item:t})=>e(t),cs))}clone(){return new i2({styleOrigin:ve(this.styleOrigin),symbolLayers:ve(this.symbolLayers),thumbnail:ve(this.thumbnail)})}static fromJSON(e){var r;const t=new i2;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new i2({symbolLayers:new ut([A1.fromSimpleFillSymbol(e)])})}};b([M({type:cle,json:{write:!0}})],n2.prototype,"symbolLayers",void 0),b([Ct({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],n2.prototype,"type",void 0),n2=i2=b([se("esri.symbols.PolygonSymbol3D")],n2);const tf=n2;var rO;const QT=new hr({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Bf=rO=class extends zae{constructor(...e){super(...e),this.color=new Dt([0,0,0,.25]),this.outline=new Fo,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new rO({color:ve(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};b([M()],Bf.prototype,"color",void 0),b([M()],Bf.prototype,"outline",void 0),b([Ct({esriSFS:"simple-fill"},{readOnly:!0})],Bf.prototype,"type",void 0),b([M({type:QT.apiValues,json:{read:QT.read,write:QT.write}})],Bf.prototype,"style",void 0),Bf=rO=b([se("esri.symbols.SimpleFillSymbol")],Bf);const zh=Bf;var iO;const ek=new hr({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Iu=iO=class extends nle{constructor(...e){super(...e),this.color=new Dt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Fo}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=Tr(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new iO({angle:this.angle,color:ve(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};b([M()],Iu.prototype,"color",void 0),b([Xe("color")],Iu.prototype,"writeColor",null),b([Ct({esriSMS:"simple-marker"},{readOnly:!0})],Iu.prototype,"type",void 0),b([M()],Iu.prototype,"size",void 0),b([M({type:ek.apiValues,json:{read:ek.read,write:ek.write}})],Iu.prototype,"style",void 0),b([M({type:String,json:{write:!0}})],Iu.prototype,"path",null),b([M({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Fo}},json:{default:null,write:!0}})],Iu.prototype,"outline",void 0),Iu=iO=b([se("esri.symbols.SimpleMarkerSymbol")],Iu);const gc=Iu;var nO;let $i=nO=class extends ys{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Z7,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return Tr(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new nO({angle:this.angle,backgroundColor:ve(this.backgroundColor),borderLineColor:ve(this.borderLineColor),borderLineSize:this.borderLineSize,color:ve(this.color),font:this.font&&this.font.clone(),haloColor:ve(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};b([M({type:Dt,json:{write:!0}})],$i.prototype,"backgroundColor",void 0),b([M({type:Dt,json:{write:!0}})],$i.prototype,"borderLineColor",void 0),b([M({type:Number,json:{write:!0},cast:Tr})],$i.prototype,"borderLineSize",void 0),b([M({type:Z7,json:{write:!0}})],$i.prototype,"font",void 0),b([M({...Wae,json:{write:!0}})],$i.prototype,"horizontalAlignment",void 0),b([M({type:Boolean,json:{write:!0}})],$i.prototype,"kerning",void 0),b([M({type:Dt,json:{write:!0}})],$i.prototype,"haloColor",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],$i.prototype,"haloSize",void 0),b([M({type:Boolean,json:{write:!0}})],$i.prototype,"rightToLeft",void 0),b([M({type:Boolean,json:{write:!0}})],$i.prototype,"rotated",void 0),b([M({type:String,json:{write:!0}})],$i.prototype,"text",void 0),b([Ct({esriTS:"text"},{readOnly:!0})],$i.prototype,"type",void 0),b([M({...Jae,json:{write:!0}})],$i.prototype,"verticalAlignment",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],$i.prototype,"xoffset",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],$i.prototype,"yoffset",void 0),b([M({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],$i.prototype,"angle",void 0),b([M({type:Number,json:{write:!0}})],$i.prototype,"width",void 0),b([M({type:Number})],$i.prototype,"lineWidth",void 0),b([Xe("lineWidth")],$i.prototype,"writeLineWidth",null),b([Ar("lineWidth")],$i.prototype,"castLineWidth",null),b([M(Hae)],$i.prototype,"lineHeight",void 0),b([Xe("lineHeight")],$i.prototype,"writeLineHeight",null),$i=nO=b([se("esri.symbols.TextSymbol")],$i);const R1=$i;var sO;let Fl=sO=class extends ys{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Rn.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new sO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,i=r?this._fetchCacheKey:null;if(r!=null){const f=i&&r.get(i);if(f)return f.clone()}const{resolveWebStyleSymbol:n}=await Ce(()=>import("./webStyleSymbolUtils-BkYTy7P7.js"),__vite__mapDeps([119,120]),import.meta.url);Zr(t);const o=n(this,{portal:this.portal},e,t);o.catch(f=>{Ne.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",f)});const u=await o;return e==="webRef"&&u.type==="point-3d"||e==="cimRef"&&u.type==="cim"?(r!=null&&r.set(i,u.clone()),u):null}};b([M({json:{write:!1}})],Fl.prototype,"color",void 0),b([M({type:String,json:{write:!0}})],Fl.prototype,"styleName",void 0),b([M({type:Rn,json:{write:!1}})],Fl.prototype,"portal",void 0),b([M({type:String,json:{read:XN,write:h1}})],Fl.prototype,"styleUrl",void 0),b([M({type:hw,json:{read:!1}})],Fl.prototype,"thumbnail",void 0),b([M({type:String,json:{write:!0}})],Fl.prototype,"name",void 0),b([Ct({styleSymbolReference:"web-style"},{readOnly:!0})],Fl.prototype,"type",void 0),b([M()],Fl.prototype,"_fetchCacheKey",null),Fl=sO=b([se("esri.symbols.WebStyleSymbol")],Fl);const L1=Fl;function SSt(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Jq(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const V0={base:ys,key:"type",typeMap:{"simple-fill":zh,"picture-fill":mF,"picture-marker":lv,"simple-line":Fo,"simple-marker":gc,text:R1,"label-3d":X7,"line-3d":j1,"mesh-3d":bx,"point-3d":fh,"polygon-3d":tf,"web-style":L1,cim:Qp},errorContext:"symbol"},$St={base:ys,key:"type",typeMap:{"picture-marker":lv,"simple-marker":gc,"point-3d":fh,cim:Qp},errorContext:"symbol"},MSt={base:ys,key:"type",typeMap:{"simple-line":Fo,"line-3d":j1,cim:Qp},errorContext:"symbol"},TSt={base:ys,key:"type",typeMap:{"simple-fill":zh,"picture-fill":mF,"polygon-3d":tf,cim:Qp},errorContext:"symbol"},jPe={base:ys,key:"type",typeMap:{"picture-marker":lv,"simple-marker":gc,text:R1,"web-style":L1,cim:Qp},errorContext:"symbol"},RPe=Zg({types:V0}),hle={base:ys,key:"type",typeMap:{"simple-fill":zh,"picture-fill":mF,"picture-marker":lv,"simple-line":Fo,"simple-marker":gc,text:R1,"line-3d":j1,"mesh-3d":bx,"point-3d":fh,"polygon-3d":tf,"web-style":L1,cim:Qp},errorContext:"symbol"},LPe={base:ys,key:"type",typeMap:{text:R1,"label-3d":X7},errorContext:"symbol"},Kq={base:ys,key:"type",typeMap:{"line-3d":j1,"mesh-3d":bx,"point-3d":fh,"polygon-3d":tf,"web-style":L1,cim:Qp},errorContext:"symbol"},NPe={base:ys,key:"type",typeMap:{"label-3d":X7},errorContext:"symbol"},dle=oc(V0);var oO;function FPe(e){if(!e)return null;const t={};for(const r in e){const i=Op(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function DPe(e){if(e==null)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let Ks=oO=class extends ui(Fe){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:J2(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&v_e(Ne.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new oO({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:DPe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:k4(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(n.action=i),e==="attributes"&&(n.attributeName=i),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([fa(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),fa(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};b([M({value:null,json:{read:FPe}})],Ks.prototype,"aggregateGeometries",null),b([M({value:null})],Ks.prototype,"attributes",null),b([M({value:null,types:I1,json:{read:Op}})],Ks.prototype,"geometry",null),b([M({type:Boolean})],Ks.prototype,"isAggregate",void 0),b([M({clonable:"reference"})],Ks.prototype,"layer",void 0),b([M({clonable:"reference"})],Ks.prototype,"origin",void 0),b([M({type:Xp})],Ks.prototype,"popupTemplate",void 0),b([M({clonable:"reference"})],Ks.prototype,"sourceLayer",void 0),b([M({value:null,types:V0})],Ks.prototype,"symbol",null),b([M({type:Boolean,value:!0})],Ks.prototype,"visible",null),Ks=oO=b([se("esri.Graphic")],Ks),function(e){e.generateUID=J2}(Ks||(Ks={}));const ma=Ks;let U0=class extends sw{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};b([xN({Type:ma,ensureType:xi(ma)})],U0.prototype,"itemType",void 0),U0=b([se("esri.support.GraphicsCollection")],U0);let xd=class extends St{constructor(t){super(t),this.view=null,this.baseLayerViews=new ut,this.referenceLayerViews=new ut,this._loadingHandle=lt(()=>{var r,i;return(i=(r=this.view)==null?void 0:r.map)==null?void 0:i.basemap},r=>{r&&r.load().catch(()=>{})},ri)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){var r,i,n;if((r=this.view)!=null&&r.suspended)return!1;const t=(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(o=>o.updating)||this.referenceLayerViews.some(o=>o.updating))}};b([M({constructOnly:!0})],xd.prototype,"view",void 0),b([M({readOnly:!0})],xd.prototype,"baseLayerViews",void 0),b([M({readOnly:!0})],xd.prototype,"referenceLayerViews",void 0),b([M({readOnly:!0})],xd.prototype,"suspended",null),b([M({type:Boolean,readOnly:!0})],xd.prototype,"updating",null),xd=b([se("esri.views.BasemapView")],xd);function zPe(e){return"tryRecycleWith"in e}function BPe(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let VPe=class{constructor(t,r,i){this.layer=t,this.view=r,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=da(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,nl(this._controller.signal,()=>{const n=new be("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(n)})}tryRecycle(t){if(!this.done||!this.layerView||!zPe(this.layerView))return null;const r=this.layer.type,i=this._controller.signal;for(let n=0;n<t.length;n++){const o=t[n];if(o.type!==r)continue;const u=this.layerView.tryRecycleWith(o,{signal:i});if(u){t.splice(n,1),this.layer=o;const f=this.layerView,m=f.view;return this.promise=Promise.race([u.then(()=>(Zr(this._controller.signal),o.emit("layerview-destroy",{view:m,layerView:f}),m.emit("layerview-destroy",{view:m,layerView:f}),o.emit("layerview-create",{view:m,layerView:f}),m.emit("layerview-create",{view:m,layerView:f}),f)),new Promise((v,_)=>nl(this._controller.signal,()=>_(pn())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var n,o;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:i}=this;this._map=i.map;try{let u,f;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),GPe(r))u=await r.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new be("layer:view-not-supported","No layerview implementation was found");const _=await this.layerViewImporter.importLayerView(r);Zr(t),u="default"in _?new _.default({layer:r,view:i}):new _({layer:r,view:i})}const m=()=>{f=zi(f),u.destroyed||u.destroy(),u.layer=null,u.parent=null,u.view=null,this.done=!0};f=nl(t,m),Zr(t);try{await u.when()}catch(_){throw m(),_}if(!((o=(n=this._map)==null?void 0:n.allLayers)==null?void 0:o.includes(r)))return m(),void this._deferred.reject(new be("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=u,r.emit("layerview-create",{view:i,layerView:u}),i.emit("layerview-create",{layer:r,layerView:u}),this.done=!0,this._deferred.resolve(u)}catch(u){r.emit("layerview-create-error",{view:i,error:u}),i.emit("layerview-create-error",{layer:r,error:u}),this.done=!0,this._deferred.reject(new be("layerview:create-error","layerview creation failed",{layer:r,error:u}))}}},Oa=class extends St{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new B0,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var i;const r=(i=this.view.map)==null?void 0:i.allLayers;if(r)for(const n of r)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=da(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Yg(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var m,v,_;if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const i=new Set,n=[],o=this.view.ready,u=$=>{if($!=null){for(const T of $)if(T){i.add(T);const I=this._layerLayerViewInfoMap.get(T);I&&o?I.start():I||this._recyclingInfoMap.has(T)||n.push(T),"layers"in T&&T.layers&&u(T.layers)}}};for(const $ of this._rootCollectionNames)u(ro(this,$));for(const[$,T]of this._layerLayerViewInfoMap)if(!i.has($)){this._layerLayerViewInfoMap.delete(T.layer);const I=T.tryRecycle(n);I?(this.notifyChange("updating"),this._recyclingInfoMap.set(T.layer,T),I.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),this._layerLayerViewInfoMap.set(T.layer,T),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),T.destroy(),this._reschedule()})):T.destroy()}for(const[$,T]of this._recyclingInfoMap)i.has($)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(T.layer),T.destroy());for(const $ of n)this._createLayerView($);this._refreshCollections();const f=[(m=r==null?void 0:r.ground)==null?void 0:m.layers,(v=r==null?void 0:r.basemap)==null?void 0:v.baseLayers,(_=r==null?void 0:r.basemap)==null?void 0:_.referenceLayers,r==null?void 0:r.layers].filter($=>!!$);i.forEach($=>"layers"in $&&f.push($.layers)),this.addHandles(f.map($=>this._watchUpdatingTracking.addOnCollectionChange(()=>$,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([co(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),lt(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),ta)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),WT(this._recyclingInfoMap),WT(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(pn()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||b7(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(WT(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new be("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){var o;this.commitProperty("updatingRemaining");const i=this._layerLayerViewInfoMap.get(t);if(!(i!=null&&i.done))return!0;const n=i.layerView;return!(!n||!r||n.parent===r)||!!(i.done&&n&&"layers"in t&&((o=t.layers)!=null&&o.length))&&t.layers.some(u=>this.isCreatingLayerViewsForLayer(u,n))}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(ro(this,t),ro(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,i){if(!t||!r)return void(r&&r.removeAll());let n=0;for(const o of t){const u=this._layerLayerViewInfoMap.get(o);if(!(u!=null&&u.layerView))continue;const f=u.layerView;f.layer=o,f.parent=i,r.at(n)!==f&&r.splice(n,0,f),"layers"in o&&BPe(f)&&this._populateLayerViewsOwners(o.layers,f.layerViews,f),n+=1}n<r.length&&r.splice(n,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new VPe(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),i=>{i&&(Vs(i)||i.name==="cancelled:layerview-create")||Ne.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:i}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};b([M()],Oa.prototype,"_workPromise",void 0),b([M({readOnly:!0})],Oa.prototype,"_watchUpdatingTracking",void 0),b([M({readOnly:!0})],Oa.prototype,"_layersToLayerViews",null),b([M({readOnly:!0})],Oa.prototype,"_rootCollectionNames",null),b([M()],Oa.prototype,"layerViewImporter",void 0),b([M()],Oa.prototype,"supportsGround",void 0),b([M({readOnly:!0})],Oa.prototype,"updating",null),b([M({readOnly:!0})],Oa.prototype,"updatingRemaining",null),b([M({constructOnly:!0})],Oa.prototype,"view",void 0),Oa=b([se("esri.views.LayerViewManager")],Oa);const UPe=Oa;function GPe(e){return"createLayerView"in e&&e.createLayerView!=null}let Wo=class extends St{constructor(t){super(t),this.factor=1.5,this.offset=hs(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};b([M({type:Number})],Wo.prototype,"factor",void 0),b([M({nonNullable:!0})],Wo.prototype,"offset",void 0),b([M()],Wo.prototype,"position",void 0),b([M({type:Number,range:{min:0}})],Wo.prototype,"size",void 0),b([M()],Wo.prototype,"maskUrl",void 0),b([M()],Wo.prototype,"maskEnabled",void 0),b([M()],Wo.prototype,"overlayUrl",void 0),b([M()],Wo.prototype,"overlayEnabled",void 0),b([M({readOnly:!0})],Wo.prototype,"version",null),b([M({type:Boolean})],Wo.prototype,"visible",void 0),Wo=b([se("esri.views.Magnifier")],Wo);const ple=Wo;let dw=class{constructor(t){this._observable=new cx,this._map=new Map(t)}get size(){return At(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return At(this._observable),this._map.entries()}forEach(t,r){At(this._observable),this._map.forEach((i,n)=>t.call(r,i,n,this),r)}get(t){return At(this._observable),this._map.get(t)}has(t){return At(this._observable),this._map.has(t)}keys(){return At(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return At(this._observable),this._map.values()}[Symbol.iterator](){return At(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var aO;let s2=aO=class extends Fe{constructor(e){super(e),this.name=null,this.code=null}clone(){return new aO({name:this.name,code:this.code})}};b([M({type:String,json:{write:!0}})],s2.prototype,"name",void 0),b([M({type:[String,Number],json:{write:!0}})],s2.prototype,"code",void 0),s2=aO=b([se("esri.layers.support.CodedValue")],s2);const qPe=new hr({inherited:"inherited",codedValue:"coded-value",range:"range"});let o2=class extends Fe{constructor(t){super(t),this.name=null,this.type=null}};b([M({type:String,json:{write:!0}})],o2.prototype,"name",void 0),b([Ct(qPe)],o2.prototype,"type",void 0),o2=b([se("esri.layers.support.Domain")],o2);const Q7=o2;var lO;let a2=lO=class extends Q7{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(i=>(String(i.code)===r&&(t=i.name),!!t))}return t}clone(){return new lO({codedValues:ve(this.codedValues),name:this.name})}};b([M({type:[s2],json:{write:!0}})],a2.prototype,"codedValues",void 0),b([Ct({codedValue:"coded-value"})],a2.prototype,"type",void 0),a2=lO=b([se("esri.layers.support.CodedValueDomain")],a2);const fle=a2;var uO;let GS=uO=class extends Q7{constructor(e){super(e),this.type="inherited"}clone(){return new uO}};b([Ct({inherited:"inherited"})],GS.prototype,"type",void 0),GS=uO=b([se("esri.layers.support.InheritedDomain")],GS);const yle=GS;var cO;let Ey=cO=class extends Q7{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new cO({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};b([M({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],Ey.prototype,"maxValue",void 0),b([M({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[0]}},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],Ey.prototype,"minValue",void 0),b([Ct({range:"range"})],Ey.prototype,"type",void 0),Ey=cO=b([se("esri.layers.support.RangeDomain")],Ey);const mle=Ey,gle={key:"type",base:Q7,typeMap:{range:mle,"coded-value":fle,inherited:yle}};function e8(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return mle.fromJSON(e);case"codedValue":return fle.fromJSON(e);case"inherited":return yle.fromJSON(e)}return null}const HPe=new hr({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var hO;const WPe=new hr({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Ts=hO=class extends Fe{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?WPe.fromJSON(r.fieldValueType):null}clone(){var e;return new hO({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};b([M({type:String,json:{write:!0}})],Ts.prototype,"alias",void 0),b([M({type:[String,Number],json:{write:{allowNull:!0}}})],Ts.prototype,"defaultValue",void 0),b([M()],Ts.prototype,"description",void 0),b([Ge("description")],Ts.prototype,"readDescription",null),b([M({types:gle,json:{read:{reader:e8},write:!0}})],Ts.prototype,"domain",void 0),b([M({type:Boolean,json:{write:!0}})],Ts.prototype,"editable",void 0),b([M({type:Wr,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Ts.prototype,"length",void 0),b([M({type:String,json:{write:!0}})],Ts.prototype,"name",void 0),b([M({type:Boolean,json:{write:!0}})],Ts.prototype,"nullable",void 0),b([Ct(HPe)],Ts.prototype,"type",void 0),b([M()],Ts.prototype,"valueType",void 0),b([Ge("valueType",["description"])],Ts.prototype,"readValueType",null),b([M({type:Boolean,json:{read:!1}})],Ts.prototype,"visible",void 0),Ts=hO=b([se("esri.layers.support.Field")],Ts);const gF=Ts;var dO;let Iy=dO=class extends Fe{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new dO({mapLayerId:e,gdbVersion:t})}};b([Ct({mapLayer:"map-layer"})],Iy.prototype,"type",void 0),b([M({type:Wr,json:{write:!0}})],Iy.prototype,"mapLayerId",void 0),b([M({type:String,json:{write:!0}})],Iy.prototype,"gdbVersion",void 0),Iy=dO=b([se("esri.layers.support.source.MapLayerSource")],Iy);var pO;let Dc=pO=class extends Fe{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:i,geometryType:n}=this,o={workspaceId:e,query:t,oidFields:r,spatialReference:(i==null?void 0:i.clone())??void 0,geometryType:n};return new pO(o)}};b([Ct({queryTable:"query-table"})],Dc.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Dc.prototype,"workspaceId",void 0),b([M({type:String,json:{write:!0}})],Dc.prototype,"query",void 0),b([M({type:String,json:{write:!0}})],Dc.prototype,"oidFields",void 0),b([M({type:It,json:{write:!0}})],Dc.prototype,"spatialReference",void 0),b([Ct(X6e)],Dc.prototype,"geometryType",void 0),Dc=pO=b([se("esri.layers.support.source.QueryTableDataSource")],Dc);var fO;let Py=fO=class extends Fe{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new fO({workspaceId:e,dataSourceName:t})}};b([Ct({raster:"raster"})],Py.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Py.prototype,"dataSourceName",void 0),b([M({type:String,json:{write:!0}})],Py.prototype,"workspaceId",void 0),Py=fO=b([se("esri.layers.support.source.RasterDataSource")],Py);var yO;let Vf=yO=class extends Fe{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new yO({workspaceId:e,gdbVersion:t,dataSourceName:r})}};b([Ct({table:"table"})],Vf.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Vf.prototype,"workspaceId",void 0),b([M({type:String,json:{write:!0}})],Vf.prototype,"gdbVersion",void 0),b([M({type:String,json:{write:!0}})],Vf.prototype,"dataSourceName",void 0),Vf=yO=b([se("esri.layers.support.source.TableDataSource")],Vf);var mO,gO;const JPe=Us()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Jo=mO=class extends Fe{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return Yq()(e,t,r)}castLeftTableSource(e){return oc(vO(),e)}readRightTableSource(e,t,r){return Yq()(e,t,r)}castRightTableSource(e){return oc(vO(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:i,joinType:n}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:(r==null?void 0:r.clone())??void 0,rightTableSource:(i==null?void 0:i.clone())??void 0,joinType:n};return new mO(o)}};b([Ct({joinTable:"join-table"})],Jo.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Jo.prototype,"leftTableKey",void 0),b([M({type:String,json:{write:!0}})],Jo.prototype,"rightTableKey",void 0),b([M({json:{write:!0}})],Jo.prototype,"leftTableSource",void 0),b([Ge("leftTableSource")],Jo.prototype,"readLeftTableSource",null),b([Ar("leftTableSource")],Jo.prototype,"castLeftTableSource",null),b([M({json:{write:!0}})],Jo.prototype,"rightTableSource",void 0),b([Ge("rightTableSource")],Jo.prototype,"readRightTableSource",null),b([Ar("rightTableSource")],Jo.prototype,"castRightTableSource",null),b([Ct(JPe)],Jo.prototype,"joinType",void 0),Jo=mO=b([se("esri.layers.support.source.JoinTableDataSource")],Jo);let tk=null;function Yq(){return tk||(tk=Zg({types:vO()})),tk}let rk=null;function vO(){return rk||(rk={key:"type",base:null,typeMap:{"data-layer":Jl,"map-layer":Iy}}),rk}const KPe={key:"type",base:null,typeMap:{"join-table":Jo,"query-table":Dc,raster:Py,table:Vf}};let Jl=gO=class extends Fe{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new gO({fields:e,dataSource:t})}};b([Ct({dataLayer:"data-layer"})],Jl.prototype,"type",void 0),b([M({type:[gF],json:{write:!0}})],Jl.prototype,"fields",void 0),b([M({types:KPe,json:{write:!0}})],Jl.prototype,"dataSource",void 0),Jl=gO=b([se("esri.layers.support.source.DataLayerSource")],Jl),Jl.from=xi(Jl);let Uf=class extends ui(Fe){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};b([M({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Uf.prototype,"onFields",void 0),b([M({type:String,json:{write:!0}})],Uf.prototype,"operator",void 0),b([M({type:String,json:{write:!0}})],Uf.prototype,"searchTerm",void 0),b([M({type:String,json:{write:!0}})],Uf.prototype,"searchType",void 0),Uf=b([se("esri.rest.support.FullTextSearch")],Uf);const vle=Uf;var bO;const Zq=new hr({upperLeft:"upper-left",lowerLeft:"lower-left"});let Gf=bO=class extends Fe{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new bO(ve({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};b([M({type:mr,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Gf.prototype,"extent",void 0),b([M({type:["view","edit"],json:{write:!0}})],Gf.prototype,"mode",void 0),b([M({type:String,json:{read:Zq.read,write:Zq.write}})],Gf.prototype,"originPosition",void 0),b([M({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Gf.prototype,"tolerance",void 0),Gf=bO=b([se("esri.rest.support.QuantizationParameters")],Gf);const ble=Gf,YPe=new hr({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var wO;const Xq=new hr({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Dl=wO=class extends Fe{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=ve(e))}clone(){return new wO({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:ve(this.statisticParameters)})}};b([M({type:Number,json:{write:!0}})],Dl.prototype,"maxPointCount",void 0),b([M({type:Number,json:{write:!0}})],Dl.prototype,"maxRecordCount",void 0),b([M({type:Number,json:{write:!0}})],Dl.prototype,"maxVertexCount",void 0),b([M({type:String,json:{write:!0}})],Dl.prototype,"onStatisticField",void 0),b([M({type:String,json:{write:!0}})],Dl.prototype,"outStatisticFieldName",void 0),b([M({type:String,json:{read:{source:"statisticType",reader:Xq.read},write:{target:"statisticType",writer:Xq.write}}})],Dl.prototype,"statisticType",void 0),b([M({type:Object})],Dl.prototype,"statisticParameters",void 0),b([Xe("statisticParameters")],Dl.prototype,"writeStatisticParameters",null),Dl=wO=b([se("esri.rest.support.StatisticDefinition")],Dl);const ZPe=Dl;var qS;const XPe=new hr({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Lt=qS=class extends Fe{static from(e){return w7(qS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const i in e){const n=e[i];Array.isArray(n)?r[i]=n.map(o=>o instanceof Date?o.getTime():o):n instanceof Date?r[i]=n.getTime():r[i]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new qS(ve({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Lt.MAX_MAX_RECORD_COUNT_FACTOR=5,b([M({json:{write:!0}})],Lt.prototype,"aggregateIds",void 0),b([M({type:Boolean,json:{write:!0}})],Lt.prototype,"cacheHint",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"compactGeometryEnabled",void 0),b([M({json:{write:!0}})],Lt.prototype,"datumTransformation",void 0),b([Ar("datumTransformation")],Lt.prototype,"castDatumTransformation",null),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"defaultSpatialReferenceEnabled",void 0),b([M({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Lt.prototype,"distance",void 0),b([M({type:Jl,json:{write:!0}})],Lt.prototype,"dynamicDataSource",void 0),b([M({type:String,json:{write:!0}})],Lt.prototype,"formatOf3DObjects",void 0),b([M({type:[vle],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Lt.prototype,"fullText",void 0),b([M({type:String,json:{write:!0}})],Lt.prototype,"gdbVersion",void 0),b([M({types:I1,json:{read:Op,write:!0}})],Lt.prototype,"geometry",void 0),b([M({type:Number,json:{write:!0}})],Lt.prototype,"geometryPrecision",void 0),b([M({type:[String],json:{write:!0}})],Lt.prototype,"groupByFieldsForStatistics",void 0),b([M({type:String,json:{write:!0}})],Lt.prototype,"having",void 0),b([M({type:Date})],Lt.prototype,"historicMoment",void 0),b([Xe("historicMoment")],Lt.prototype,"writeHistoricMoment",null),b([M({type:Number,json:{write:!0}})],Lt.prototype,"maxAllowableOffset",void 0),b([M({type:Number,cast:e=>e<1?1:e>Lt.MAX_MAX_RECORD_COUNT_FACTOR?Lt.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Lt.prototype,"maxRecordCountFactor",void 0),b([M({type:["xyFootprint"],json:{write:!0}})],Lt.prototype,"multipatchOption",void 0),b([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Lt.prototype,"num",void 0),b([M({json:{write:!0}})],Lt.prototype,"objectIds",void 0),b([M({type:[String],json:{write:!0}})],Lt.prototype,"orderByFields",void 0),b([M({type:[String],json:{write:!0}})],Lt.prototype,"outFields",void 0),b([M({type:It,json:{name:"outSR",write:!0}})],Lt.prototype,"outSpatialReference",void 0),b([M({type:[ZPe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Lt.prototype,"outStatistics",void 0),b([M({json:{write:!0}})],Lt.prototype,"parameterValues",void 0),b([Xe("parameterValues")],Lt.prototype,"writeParameterValues",null),b([M({type:jt,json:{write:!0}})],Lt.prototype,"pixelSize",void 0),b([M({type:ble,json:{write:!0}})],Lt.prototype,"quantizationParameters",void 0),b([M({type:[Object],json:{write:!0}})],Lt.prototype,"rangeValues",void 0),b([M({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Lt.prototype,"relationParameter",void 0),b([M({type:String,json:{write:!0}})],Lt.prototype,"resultType",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"returnCentroid",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"returnDistinctValues",void 0),b([M({type:Boolean,json:{default:!0,write:!0}})],Lt.prototype,"returnExceededLimitFeatures",void 0),b([M({type:Boolean,json:{write:!0}})],Lt.prototype,"returnGeometry",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"returnQueryGeometry",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"returnM",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Lt.prototype,"returnZ",void 0),b([M({type:It,json:{write:!0}})],Lt.prototype,"sourceSpatialReference",void 0),b([Ct(YPe,{ignoreUnknown:!1,name:"spatialRel"})],Lt.prototype,"spatialRelationship",void 0),b([M({type:Number,json:{read:{source:"resultOffset"}}})],Lt.prototype,"start",void 0),b([Xe("start"),Xe("num")],Lt.prototype,"writeStart",null),b([M({type:String,json:{write:!0}})],Lt.prototype,"sqlFormat",void 0),b([M({type:String,json:{write:!0}})],Lt.prototype,"text",void 0),b([M({type:cc,json:{write:!0}})],Lt.prototype,"timeExtent",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Lt.prototype,"timeReferenceUnknownClient",void 0),b([Ct(XPe,{ignoreUnknown:!1}),M({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Lt.prototype,"units",void 0),b([M({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Lt.prototype,"where",void 0),b([Xe("where")],Lt.prototype,"writeWhere",null),Lt=qS=b([se("esri.rest.support.Query")],Lt);const Oh=Lt;function Z_(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let zc=class extends wl.EventedAccessor{constructor(t){super(t),this._selectionMap=new dw,this._sources=new ut,this._trashCan=[],this._layerEditHandles=new ut,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([lt(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),co(()=>this.sources,"change",r=>{const i=this._selectionMap;for(const n of r.removed)i.delete(n);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new ut;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(r=>"sublayers"in r&&r.sublayers?r.sublayers:null).forEach(r=>{(Z_(r)&&!qke(r)||Cf(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(zi)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[r,i]=t;return{layer:r,selection:[...i.selection]}})}get count(){let t=0;for(const r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){Np(t,this._sources)}async getSelectedFeatures(t,r={},i="layerView"){const{view:n,selections:o}=this,u=(t!==void 0?o.filter(f=>t.includes(f.layer)):o).filter(f=>f.selection.length>0).map(async f=>{const{layer:m,selection:v}=f,_=Cf(m)?m.parent:m;if(_==null||!eH(_))return null;if(i==="layer")return tH(_,v,r);if(Qq(_))return null;const $=await n.whenLayerView(_).catch(()=>null);return $?tH($,v,r):null});return(await Promise.all(u)).filter(f=>f!=null)}updateSelection(t){const r=new Map;for(const[o,u]of this._selectionMap)r.set(o,[...u.selection]);let i=!1;const n=t.current.concat(t.added);for(const o of n){const u=o.sourceLayer,f=o.getObjectId();if(this.sources.includes(u)&&(Z_(u)||Cf(u))&&f!==null){const m=GL(r,u,()=>[]);m.includes(f)||(m.push(f),i=!0)}}for(const o of t.removed){const u=o.sourceLayer,f=o.getObjectId();if(this.sources.includes(u)&&(Z_(u)||Cf(u))&&f!==null){const m=r.get(u),v=m==null?void 0:m.indexOf(f);v!==void 0&&v>=0&&(m==null||m.splice(v,1),i=!0)}}if(i){const{_selectionMap:o,_trashCan:u}=this,f=[];for(const[m,v]of r){const _=o.get(m);_!==void 0&&u.push(_),o.set(m,{selection:v}),f.push({layer:m,selection:v,...tU(_!==void 0?_.selection:[],v)})}this._onSelectionChange(f)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){const r=this._selectionMap.get(t);return r==null?void 0:r.selection}appendToSelection(t,r){const i=this._selectionMap.get(t),n=i!==void 0?[...i.selection]:[];for(const o of r)n.includes(o)||n.push(o);this._setSelection(t,n)}removeFromSelection(t,r){const i=this._selectionMap.get(t);if(!i)return;const n=[];for(const o of i.selection)r.includes(o)||n.push(o);this._setSelection(t,n)}toggleInSelection(t,r){const i=this._selectionMap.get(t);if(!i||i.selection.length===0)return void this._setSelection(t,r);const n=new Set(i.selection),o=new Set(r),u=T5e(n,o);this._setSelection(t,Array.from(u))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const r=[];for(const[i,n]of this._selectionMap.entries())r.push({layer:i,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var u;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const f=this._trashCan.pop();(u=f==null?void 0:f.highlightHandle)==null||u.remove()}const{sources:t,view:r,_selectionMap:i,showHighlight:n}=this,o=this._vizTaskId;for(const f of t){const m=i.get(f),v=Cf(f)?f.parent:f;if(v!=null&&eH(v)){if(Qq(v))continue;r.whenLayerView(v).then(_=>{var $;($=m==null?void 0:m.highlightHandle)==null||$.remove(),m!=null&&n&&o===this._vizTaskId&&"highlight"in _&&typeof _.highlight=="function"&&m.selection.length>0&&(m.highlightHandle=_.highlight(m.selection,"selection"))}).catch(()=>{var _;(_=m==null?void 0:m.highlightHandle)==null||_.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(zi);for(const t of this.sources){const r=Cf(t)?t.parent:t;if(r!=null&&Z_(r)){const i=r.on("edits",n=>{this._handleEditChanges(n,t)});this._layerEditHandles.push(i)}}}_handleEditChanges(t,r){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){const i=t.deletedFeatures.filter(n=>n.error==null).map(n=>n.objectId).filter(ps);this.removeFromSelection(r,i)}}_setSelection(t,r){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const i=this._selectionMap.get(t);if(i===void 0||!eOe(i,{selection:r})){i!==void 0&&this._trashCan.push(i),this._selectionMap.set(t,{selection:[...r]});const n={layer:t,selection:[...r],...tU(i!==void 0?i.selection:[],r)};this._onSelectionChange([n])}}};b([M({readOnly:!0,nonNullable:!0})],zc.prototype,"selections",null),b([M({readOnly:!0,nonNullable:!0})],zc.prototype,"count",null),b([M({constructOnly:!0,nonNullable:!0})],zc.prototype,"view",void 0),b([M({readOnly:!0,nonNullable:!0})],zc.prototype,"hasSelection",null),b([M()],zc.prototype,"showHighlight",void 0),b([M()],zc.prototype,"sources",null),zc=b([se("esri.views.SelectionManager")],zc);const Qq=e=>{var t;return Cf(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},QPe=e=>e.layer!==void 0,eH=e=>(e==null?void 0:e.when)!==void 0,eOe=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const r=[...e.selection],i=[...t.selection];if(r.length!==i.length)return!1;r.sort(),i.sort();for(let n=0;n<r.length;n++)if(r[n]!==i[n])return!1}return!0},tH=async(e,t,r={})=>{let i;if(QPe(e)){const n=e;i=n===void 0?null:await n.queryFeatures(new Oh({...r,objectIds:t})).then(o=>({data:o,layer:e.layer}))}else{const n=e;i=n===void 0?null:await n.queryFeatures(new Oh({...r,objectIds:t})).then(o=>({data:o,layer:n}))}return i},tOe=zc;let l2=class extends ui(St){constructor(t){super(t),this.accentColor=new Dt([255,127,0]),this.textColor=new Dt([255,255,255])}};b([M({type:Dt,nonNullable:!0})],l2.prototype,"accentColor",void 0),b([M({type:Dt,nonNullable:!0})],l2.prototype,"textColor",void 0),l2=b([se("esri.views.Theme")],l2);const xO=l2;var rH;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(rH||(rH={}));const wle=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],xle={};function _le(e){return!!xle[e]}function rOe(e){for(const t of e)if(!_le(t))return!1;return!0}wle.forEach(e=>{xle[e]=!0});let iOe=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:i},n)=>{var o;return(o=this.inputManager)==null?void 0:o.installHandlers(n,[r],i)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var i;return(i=this.inputManager)==null?void 0:i.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,i,n){const o=Array.isArray(t)?t:t.split(",");if(!rOe(o))return o.some(_le)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let u,f;Array.isArray(r)?f=r:(u=r,f=[]),typeof i=="function"?u=i:n=i,n=n??xp.DEFAULT;const m=this._createUniqueGroupName(),v=new nOe(this.view,o,f,u);this._handlers.set(m,{handler:v,priority:n});for(const _ of o){const $=this._handlerCounts.get(_)||0;this._handlerCounts.set(_,$+1)}return this.inputManager&&this.inputManager.installHandlers(m,[v],n),Kr(()=>this._removeHandler(m,o))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const i of r){const n=this._handlerCounts.get(i);n===void 0||(n===1?this._handlerCounts.delete(i):this._handlerCounts.set(i,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},nOe=class extends Ln{constructor(t,r,i,n){super(!0),this._latestDragStart=void 0,this.view=t;for(const o of r)switch(o){case"click":this.registerIncoming("click",i,u=>n(aOe(t,u)));break;case"double-click":this.registerIncoming("double-click",i,u=>n(lOe(t,u)));break;case"immediate-click":this.registerIncoming("immediate-click",i,u=>n(uOe(t,u)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,u=>n(cOe(t,u)));break;case"hold":this.registerIncoming("hold",i,u=>n(hOe(t,u)));break;case"drag":this.registerIncoming("drag",i,u=>{const f=this._wrapDrag(u);f&&n(f)});break;case"key-down":this.registerIncoming("key-down",i,u=>n(dOe(u)));break;case"key-up":this.registerIncoming("key-up",i,u=>n(pOe(u)));break;case"pointer-down":this.registerIncoming("pointer-down",i,u=>n(ib(u,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,u=>n(ib(u,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,u=>n(ib(u,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,u=>n(fOe(u)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,u=>n(yOe(u)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,u=>n(ib(u,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,u=>n(ib(u,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,u=>{n(mOe(u))});break;case"focus":this.registerIncoming("focus",i,u=>{n(sOe(u))});break;case"blur":this.registerIncoming("blur",i,u=>{n(oOe(u))})}}_wrapDrag(t){const r=t.data,{x:i,y:n}=r.center,{action:o,pointerType:u,button:f}=r;if(o==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const m=r.pointer.native,v=r.buttons,{cancelable:_,timestamp:$}=t,T={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return o==="end"&&(this._latestDragStart=void 0),{type:"drag",action:o,x:i,y:n,origin:T,pointerType:u,button:f,buttons:v,radius:r.radius,angle:lie(r.angle),native:m,timestamp:$,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:I=>t.async(I),preventDefault:()=>t.preventDefault()}}};function sOe(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function oOe(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function aOe(e,t){const{pointerType:r,button:i,buttons:n,x:o,y:u,native:f,eventId:m}=t.data,{cancelable:v,timestamp:_}=t;return{type:"click",pointerType:r,button:i,buttons:n,x:o,y:u,native:f,timestamp:_,screenPoint:hs(o,u),mapPoint:wx(e,o,u),eventId:m,cancelable:v,stopPropagation:()=>t.stopPropagation(),async:$=>t.async($),preventDefault:()=>t.preventDefault()}}function lOe(e,t){const{pointerType:r,button:i,buttons:n,x:o,y:u,native:f,eventId:m}=t.data,{cancelable:v,timestamp:_}=t;return{type:"double-click",pointerType:r,button:i,buttons:n,x:o,y:u,native:f,timestamp:_,mapPoint:wx(e,o,u),eventId:m,cancelable:v,stopPropagation:()=>t.stopPropagation(),async:$=>t.async($),preventDefault:()=>t.preventDefault()}}function uOe(e,t){const{pointerType:r,button:i,buttons:n,x:o,y:u,native:f,eventId:m}=t.data,v=f.pointerId,{cancelable:_,timestamp:$}=t;return{type:"immediate-click",pointerId:v,pointerType:r,button:i,buttons:n,x:o,y:u,native:f,timestamp:$,mapPoint:wx(e,o,u),eventId:m,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:T=>t.async(T),preventDefault:()=>t.preventDefault()}}function cOe(e,t){const{pointerType:r,button:i,buttons:n,x:o,y:u,native:f,eventId:m}=t.data,v=f.pointerId,{cancelable:_,timestamp:$}=t;return{type:"immediate-double-click",pointerId:v,pointerType:r,button:i,buttons:n,x:o,y:u,native:f,timestamp:$,mapPoint:wx(e,o,u),eventId:m,cancelable:_,stopPropagation:()=>t.stopPropagation(),async:T=>t.async(T),preventDefault:()=>t.preventDefault()}}function hOe(e,t){const{pointerType:r,button:i,buttons:n,x:o,y:u,native:f}=t.data,{cancelable:m,timestamp:v}=t;return{type:"hold",pointerType:r,button:i,buttons:n,x:o,y:u,native:f,timestamp:v,mapPoint:wx(e,o,u),cancelable:m,stopPropagation:()=>t.stopPropagation(),async:_=>t.async(_),preventDefault:()=>t.preventDefault()}}function wx(e,t,r){return e.toMap(hs(t,r),{exclude:[]})}function dOe(e){const{key:t,repeat:r,native:i}=e.data,{cancelable:n,timestamp:o}=e;return{type:"key-down",key:t,repeat:r,native:i,timestamp:o,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:u=>e.async(u),preventDefault:()=>e.preventDefault()}}function pOe(e){const{key:t,native:r}=e.data,{cancelable:i,timestamp:n}=e;return{type:"key-up",key:t,native:r,timestamp:n,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:o=>e.async(o),preventDefault:()=>e.preventDefault()}}function ib(e,t){const{x:r,y:i,button:n,buttons:o,native:u,eventId:f}=e.data,m=u.pointerId,v=u.pointerType,{cancelable:_,timestamp:$}=e;return{type:t,x:r,y:i,pointerId:m,pointerType:v,button:n,buttons:o,native:u,timestamp:$,eventId:f,cancelable:_,stopPropagation:()=>e.stopPropagation(),async:T=>e.async(T),preventDefault:()=>e.preventDefault()}}function fOe(e){const{x:t,y:r,buttons:i,native:n,eventId:o}=e.data.currentEvent,{button:u}=e.data.startEvent,f=e.data.startEvent.native.pointerId,m=e.data.startEvent.native.pointerType,v=e.data.action,_={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:$,timestamp:T}=e;return{type:"pointer-drag",x:t,y:r,pointerId:f,pointerType:m,button:u,buttons:i,action:v,origin:_,native:n,timestamp:T,eventId:o,cancelable:$,stopPropagation:()=>e.stopPropagation(),async:I=>e.async(I),preventDefault:()=>e.preventDefault()}}function yOe(e){const{cancelable:t,data:r,timestamp:i}=e,{x:n,y:o,deltaY:u,native:f}=r;return{type:"mouse-wheel",x:n,y:o,deltaY:u,native:f,timestamp:i,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}function mOe(e){const{action:t,state:r,device:i}=e.data,{cancelable:n,timestamp:o}=e,{buttons:u,axes:f}=r;return{type:"gamepad",device:i,timestamp:o,action:t,buttons:u,axes:f,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}var l3,iH,nH;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(l3||(l3={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(iH||(iH={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(nH||(nH={}));function gOe(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return Ne.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function _O(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(l3.USER)&&e.getEditableFlag(l3.MANAGER)}function Pu(e){return hs(e.x,e.y)}function Sle(e,t){var i;const r=(i=e instanceof HTMLElement?e:e.surface)==null?void 0:i.getBoundingClientRect();return r?hs(t.clientX-r.left,t.clientY-r.top):hs(0,0)}function $le(e,t){return t instanceof Event?Sle(e,t):Pu(t)}function Mle(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let vOe=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":oH(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!aH(t))break;const n=Pu(t),o=ey(n,t.pointerType,r.forEachTool);if(o==null)break;const u=o.manipulator,f=o.tool;u==null||f==null||!u.interactive||u.grabbable&&u.grabbableForEvent(t)||!u.grabbing||u.dragging||this._releaseManipulatorBeforeDragging(u,t,r),u!=null&&f!=null&&u.interactive&&u.grabbable&&u.grabbableForEvent(t)&&!u.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:u,tool:f,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(o.tool)),u.grabbing=!0,u.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),i());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!aH(t))break;const n=this._grabbedManipulators.get(t.pointerId),o=n==null?void 0:n.manipulator,u=n==null?void 0:n.tool;if(o==null||u==null)break;const f=Pu(t);f.x=fl(f.x,0,r.view.width),f.y=fl(f.y,0,r.view.height);const m=n.start,v=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(o.dragging=!0,v?o.events.emit("drag",{action:"update",start:m,screenPoint:f}):o.events.emit("drag",{action:"start",start:m,screenPoint:f,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:u,manipulator:o,start:m}));break;case"end":o.dragging=!1,v&&o.events.emit("drag",{action:"end",start:m,screenPoint:f}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}i();break}case"immediate-click":{const n=Pu(t),o=ey(n,t.pointerType,r.forEachTool);if(bOe(t)||r.forEachTool(v=>{if((o==null||o.tool!==v||v.automaticManipulatorSelection)&&v.manipulators){let _=!1;v.manipulators.forEach(({manipulator:$})=>{$.selected&&($.selected=!1,_=!0)}),_&&v.onManipulatorSelectionChanged&&v.onManipulatorSelectionChanged()}}),o==null)break;const{manipulator:u,tool:f}=o;if(!u.interactive)break;u.selectable&&f.automaticManipulatorSelection&&(u.selected=!u.selected,f.onManipulatorSelectionChanged&&f.onManipulatorSelectionChanged());const m=t.native.shiftKey;u.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:m,stopPropagation:i}),ik(u,i);break}case"click":{const n=Pu(t),o=ey(n,t.pointerType,r.forEachTool),u=o==null?void 0:o.manipulator;if(u==null||!u.interactive)break;const f=t.native.shiftKey;u.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f}),i();break}case"double-click":{const n=Pu(t),o=ey(n,t.pointerType,r.forEachTool),u=o!=null?o.manipulator:null;if(u==null||!u.interactive)break;const f=t.native.shiftKey;u.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f,stopPropagation:i}),ik(u,i);break}case"immediate-double-click":{const n=Pu(t),o=ey(n,t.pointerType,r.forEachTool),u=o!=null?o.manipulator:null;if(u==null||!u.interactive)break;const f=t.native.shiftKey;u.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:f,stopPropagation:i}),ik(u,i);break}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:Pu(r)}),this._grabbedManipulators.forEach(({manipulator:n},o)=>{n===t&&this._grabbedManipulators.delete(o)}),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(t,r){var n;const i=(n=this._grabbedManipulators.get(t.pointerId))==null?void 0:n.manipulator;i!=null&&i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Pu(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=sH(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=sH(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,i=new Set;this._grabbedManipulators.forEach(({tool:n})=>{r.add(n)}),this._hoveredManipulators.forEach(({tool:n})=>{i.add(n)}),t(n=>{n.hasGrabbedManipulators=r.has(n),n.hasHoveredManipulators=i.has(n);const o=this._grabbedManipulators.values(),u=b_e(o,({tool:f})=>f===n);n.firstGrabbedManipulator=u!=null?u.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:i},n=!0,o){const u=(f,m)=>f===t&&(o==null||o===m);this._grabbedManipulators.forEach(({tool:f,manipulator:m,pointerType:v},_)=>{u(f,m)&&(this._grabbedManipulators.delete(_),m.grabbing=!1,m.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:v}))}),this._draggedManipulators.forEach(({tool:f,manipulator:m},v)=>{u(f,m)&&(this._draggedManipulators.delete(v),m.dragging=!1,m.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:f,manipulator:m},v)=>{u(f,m)&&(this._hoveredManipulators.delete(v),m.hovering=!1)}),this._afterManipulatorRelease(i),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,i)=>{this._updateHoveredStateForPointerAtScreenPosition(hs(r.x,r.y),i,r.pointerType,t)})}handleHoverEvent(t,r){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!oH(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Pu(t),t.pointerId,t.pointerType,r)}_updateHoveredStateForPointerAtScreenPosition(t,r,i,n){var f;let o=ey(t,i,n);const u=(f=this._hoveredManipulators.get(r))==null?void 0:f.manipulator;o==null||o.manipulator.interactive||(o=null),o!=null&&u===o.manipulator||(u!=null&&(u.hovering=!1),o!=null?(o.manipulator.hovering=!0,this._hoveredManipulators.set(r,o)):this._hoveredManipulators.delete(r),this._onFocusChange(n))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function sH(e){let t=null;return b7(e,({manipulator:r})=>!(r==null||!r.interactive)&&(r.grabbing&&r.grabCursor?(t=r.grabCursor,!0):!!r.cursor&&(t=r.cursor,!0))),t}function ey(e,t,r){let i=null;return r(n=>{if(n.manipulators==null||!_O(n))return!1;const o=n.manipulators.intersect(e,t);return o!=null&&(i={tool:n,manipulator:o},!0)}),i}function oH(e){return e==="mouse"}function aH(e){return e.pointerType!=="mouse"||e.button===0}function bOe(e){return!!e.native.shiftKey}function ik(e,t){e!=null&&e.consumesClicks&&t()}const lH="attached",nk="tools",wOe=1e3;let Ou=class extends St{constructor(t){super(t),this._updatingHandles=new B0,this._clock=Kg,this._manipulatorState=new vOe,this.tools=new ut,this.cursor=null,this._interacting=!1,this._interactingTimeout=wOe,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const i of this.tools.items)if(r(i))return}}initialize(){this.addHandles([this.view.on(wle,t=>{this._handleInputEvent(t)},xp.TOOL),...gOe(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void Ne.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r!=null&&r.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const i of this.tools){this._updateToolEditableFlag(i);const n=_O(i);this.activeTool!=null&&n||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!n)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=zi(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([lt(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(i=>i.onElevationChange(r)))],lH):this.addHandles(lt(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(lH),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:i})=>t(i,r))})}_handleInputEvent(t){let r=!1;const i={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(n=>{!r&&n.visible&&n.handleInputEvent(i)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(nk),this._forEachTool(t=>{if(t instanceof St){const r=lt(()=>[t.cursor,t.visible,t.editable],()=>{_O(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,nk)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],nk)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,l3.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){}};b([M({constructOnly:!0,nonNullable:!0})],Ou.prototype,"view",void 0),b([M({value:null})],Ou.prototype,"activeTool",null),b([M({readOnly:!0,type:ut})],Ou.prototype,"tools",void 0),b([M({readOnly:!0})],Ou.prototype,"cursor",void 0),b([M({readOnly:!0})],Ou.prototype,"updating",null),b([M()],Ou.prototype,"_interacting",void 0),b([M({readOnly:!0})],Ou.prototype,"interacting",null),Ou=b([se("esri.views.ToolViewManager")],Ou);let Oy=class extends St{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":xOe.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return _Oe[this.deviceType]}};b([M({nonNullable:!0,readOnly:!0})],Oy.prototype,"nativeIndex",void 0),b([M({type:String,readOnly:!0})],Oy.prototype,"deviceType",null),b([M({type:Number,readOnly:!0})],Oy.prototype,"axisThreshold",null),Oy=b([se("esri.views.input.gamepad.GamepadInputDevice")],Oy);const vF=Oy,xOe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),_Oe={standard:.15,spacemouse:.025,unknown:0};let u2=class extends St{constructor(...t){super(...t),this.devices=new ut,this.enabledFocusMode="document"}};b([M({type:ut.ofType(vF),readOnly:!0})],u2.prototype,"devices",void 0),b([M({type:["document","view","none"]})],u2.prototype,"enabledFocusMode",void 0),u2=b([se("esri.views.input.gamepad.GamepadSettings")],u2);const SOe=u2;let HS=class extends St{constructor(){super(...arguments),this.gamepad=new SOe}};b([M({readOnly:!0})],HS.prototype,"gamepad",void 0),HS=b([se("esri.views.input.Input")],HS);const $Oe=HS,Tle=()=>wr.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;let _d=class extends St{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};b([M({type:Boolean,nonNullable:!0})],_d.prototype,"enabled",void 0),b([M({type:vF})],_d.prototype,"device",void 0),b([M({type:["pan","zoom"],nonNullable:!0})],_d.prototype,"mode",void 0),b([M({type:["forward-down","forward-up"],nonNullable:!0})],_d.prototype,"tiltDirection",void 0),b([M({type:Number,nonNullable:!0})],_d.prototype,"velocityFactor",void 0),_d=b([se("esri.views.navigation.gamepad.GamepadSettings")],_d);const kle=_d;let qf=class extends St{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new kle,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!Tle()}};b([M({type:Boolean})],qf.prototype,"browserTouchPanEnabled",void 0),b([M({type:kle,nonNullable:!0})],qf.prototype,"gamepad",void 0),b([M({type:Boolean})],qf.prototype,"momentumEnabled",void 0),b([M({type:Boolean})],qf.prototype,"mouseWheelZoomEnabled",void 0),qf=b([se("esri.views.navigation.Navigation")],qf);const Cle=qf,Ele={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},Ile=Object.values(Ele),Ple=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${Ile.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),MOe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${Ile.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),TOe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function HSt(e){return Ple.test(e)}function uv(e){if(e==null)return null;const t=Zn(e),r=(t==null?void 0:t.path.match(Ple))||(t==null?void 0:t.path.match(MOe));if(!r)return null;const[,i,n,o,u]=r,f=n.indexOf("/");return{title:bF(f!==-1?n.slice(f+1):n),serverType:Ele[o.toLowerCase()],sublayer:u!=null&&u!==""?parseInt(u,10):null,url:{path:i}}}function kOe(e){const t=Zn(e).path.match(TOe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function bF(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function COe(e,t){const r=[];if(e){const i=uv(e);i!=null&&i.title&&r.push(i.title)}if(t){const i=bF(t);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Ole(e){let t=ol(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function EOe(e,t){return e&&Mie(Tie(e,t))}function IOe(e){let{url:t}=e;if(!t)return{url:t};t=Tie(t,e.logger);const r=Zn(t),i=uv(r.path);let n;if(i!=null)i.sublayer!=null&&e.layer.layerId==null&&(n=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const o=kOe(r.path);o!=null&&(t=o.serviceUrl,n=o.sublayerId)}return{url:Mie(t),layerId:n}}function POe(e,t,r,i,n){h1(t,i,"url",n),i.url&&e.layerId!=null&&(i.url=gg(i.url,r,e.layerId.toString()))}function OOe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(i||n||o)}var uH;function AOe(e){var i;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?uv(e.url):void 0;return!(((i=e.spatialReference)==null?void 0:i.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&Ale(e)&&e.heightModelInfo?e.heightModelInfo:jOe(e)?W7.deriveUnitFromSR(LOe,e.spatialReference):null}function Ale(e){return"heightModelInfo"in e}function jle(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function jOe(e){return jle(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Rle(e)}function ROe(e){return e.layers!=null||Rle(e)||jle(e)||Ale(e)}function Rle(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(uH||(uH={}));const LOe=new W7({heightModel:"gravity-related-height"});var Ah;function cH(e){return e===Ah.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Ah||(Ah={}));let SO,sk=null;async function NOe(e){sk||(sk=Ce(()=>import("./geometryServiceUtils-sD0o7sa-.js"),[],import.meta.url).then(t=>SO=t)),await sk,Zr(e)}async function Lle(e,t,r,i){if(!e)return null;const n=e.spatialReference;return Fh()||uu(n,t)?Jp(e,t):SO?SO.projectGeometry(e,t,r,i):(await Promise.race([NOe(i),Ph(i)]),Lle(e,t,r,i))}let ei=class extends St{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=i1(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var i,n,o,u;const t=(i=this.map)==null?void 0:i.call(this),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(n=t==null?void 0:t.basemap)==null?void 0:n.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(o=t==null?void 0:t.ground)==null?void 0:o.layers},{parent:t==null?void 0:t.basemap,layers:(u=t==null?void 0:t.basemap)==null?void 0:u.referenceLayers}),r}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;let i=null;for(const o of t){const u=this._getSupportedSpatialReferences(o);if(u.length>0){const f=this._narrowDownSpatialReferenceCandidates(i,u);f!=null&&(i=f)}if(i!=null&&i.length===1)break}if(r&&(i==null||i.length!==1))return{updating:!0};const n=this._pickSpatialReferenceCandidate(i);return{spatialReference:(n==null?void 0:n.spatialReference)??null,viewingMode:(n==null?void 0:n.viewingMode)??null,updating:!1}}get _tileInfoTask(){var i,n,o,u,f,m,v;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:r}=this._collectLayers([{parent:(n=(i=this.map)==null?void 0:i.call(this))==null?void 0:n.basemap,layers:(f=(u=(o=this.map)==null?void 0:o.call(this))==null?void 0:u.basemap)==null?void 0:f.baseLayers},{layers:(v=(m=this.map)==null?void 0:m.call(this))==null?void 0:v.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const _=t[0].tileInfo;return{tileInfo:_!=null&&_.spatialReference.equals(this.spatialReference)?_:null,updating:!1}}return{updating:r}}get _heightModelInfoTask(){var i,n,o;if(!this.required.heightModelInfo||this.suspended&&((i=this._get("_heightModelInfoTask"))!=null&&i.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:r}=this._allLayers;for(const u of t)if(ROe(u)){const f=AOe(u);if(f)return{heightModelInfo:f,vcsWkid:(n=u.spatialReference)==null?void 0:n.vcsWkid,latestVcsWkid:(o=u.spatialReference)==null?void 0:o.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,r=t.updating,i=[];for(const n of t.layers){const o="fullExtents"in n&&n.fullExtents||(n.fullExtent!=null?[n.fullExtent]:[]),u=this.requiresExtentInSpatialReference?null:o[0],f=o.find(m=>m.spatialReference.equals(this.spatialReference))??u;if(f)return{candidates:[{extent:f,layer:n}],updating:!1};if(this._getSupportedSpatialReferences(n).length>0)for(const m of o)i.push({extent:m,layer:n})}return{candidates:i,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(t),n=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=i1(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:n.clone(),task:$N(async o=>{try{const u=await Lle(i.extent,n,"portalItem"in i.layer?i.layer.portalItem:void 0,o);this._projectExtentTask={...this._projectExtentTask,task:null,output:u}}catch{if(Ih(o))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const i=new Array;for(const n of t)for(const o of r){if(!n.spatialReference.equals(o.spatialReference))continue;const u=DOe(n.viewingMode,o.viewingMode);if(u!==!1){i.push({spatialReference:n.spatialReference,viewingMode:u});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:i})=>i.equals(r))&&(t=t.filter(({spatialReference:i})=>i.equals(r))),t.length>1&&t.some(({viewingMode:i})=>i!==Ah.Local)&&(t=t.filter(({viewingMode:i})=>i!==Ah.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const i=[];for(const n of r){const o=this.getSpatialReferenceSupport(n,t);if(o!=null){const u=o.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:f,viewingMode:m}of u)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!f.equals(this.userSpatialReference)||i.push({spatialReference:f,viewingMode:m})}}return i}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:i})=>r.equals(i.spatialReference))||t[0]}_collectLayers(t){var i;if(this._loadMaybe((i=this.map)==null?void 0:i.call(this))!=="loaded")return{layers:[],updating:!0};const r=new FOe;for(const n of t)if(this._collectCollection(n,r),r.preloading===this.sourcePreloadCount)break;return{layers:r.layers,updating:r.updating}}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const i of t.layers){switch(this._loadMaybe(i)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":r.updating||r.layers.push(i),"layers"in i&&this._collectCollection({layers:i.layers},r)}if(r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{Vs(r)||console.log(r)}),"loading"):t.loadStatus:"loaded"}};b([M()],ei.prototype,"required",void 0),b([M({constructOnly:!0})],ei.prototype,"map",void 0),b([M({constructOnly:!0})],ei.prototype,"getSpatialReferenceSupport",void 0),b([M()],ei.prototype,"defaultSpatialReference",void 0),b([M()],ei.prototype,"userSpatialReference",void 0),b([M()],ei.prototype,"sourcePreloadCount",void 0),b([M()],ei.prototype,"priorityCollection",void 0),b([M()],ei.prototype,"requiresExtentInSpatialReference",void 0),b([M()],ei.prototype,"suspended",void 0),b([M({readOnly:!0})],ei.prototype,"ready",null),b([M({readOnly:!0})],ei.prototype,"heightModelInfoReady",null),b([M({readOnly:!0})],ei.prototype,"spatialReference",null),b([M({readOnly:!0})],ei.prototype,"extent",null),b([M({readOnly:!0})],ei.prototype,"heightModelInfo",null),b([M({readOnly:!0})],ei.prototype,"vcsWkid",null),b([M({readOnly:!0})],ei.prototype,"latestVcsWkid",null),b([M({readOnly:!0})],ei.prototype,"viewingMode",null),b([M({readOnly:!0})],ei.prototype,"tileInfo",null),b([M({readOnly:!0})],ei.prototype,"mapCollections",null),b([M({readOnly:!0})],ei.prototype,"_allLayers",null),b([M({readOnly:!0})],ei.prototype,"_spatialReferenceTask",null),b([M({readOnly:!0})],ei.prototype,"_tileInfoTask",null),b([M({readOnly:!0})],ei.prototype,"_heightModelInfoTask",null),b([M({readOnly:!0})],ei.prototype,"_extentCandidatesTask",null),b([M()],ei.prototype,"_extentTask",null),b([M()],ei.prototype,"_projectExtentTask",void 0),ei=b([se("esri.views.support.DefaultsFromMap")],ei);let FOe=class{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}};function DOe(e,t){return e!=null?t!=null?e===t&&e:e:t}var c2;let kt=c2=class extends wl.EventedMixin(yx(St)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Z3,this.updatingHandles=new B0,this.allLayerViews=new u1({getCollections:()=>{var t,r,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:BOe}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new U0,this.analyses=new r6,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ut,this.magnifier=new ple,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new $Oe,this.navigation=new Cle,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new iOe(this),this.persistableViewModels=new ut,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add(lt(()=>this.preconditionsReady,t=>{var i,n;const r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,c2.views.add(this)):(this._lockedSpatialReference=null,c2.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)(i=this.toolViewManager)==null||i.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(o){return void queueMicrotask(()=>{this.fatalError=new be("startup-error",null,o)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},cs))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,_g(()=>this.ready)))),this.basemapView=new xd({view:this}),this.layerViewManager=new UPe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Ou({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new tOe({view:this}),this.addHandles([lt(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},ta),lt(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},cs),lt(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},ta)])}_setupSpatialReferenceLogger(){let e=null;this.addHandles([lt(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var i;const r=((i=this.map)==null?void 0:i.allLayers.length)>0;if(t&&!this.spatialReference&&r){if(e!=null)return;const n=Kr(()=>e=i1(e));e=$N(async o=>{try{await VL(this.spatialReferenceWarningDelay,null,o)}catch{return}finally{e=null}Ne.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(n,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){var e,t;this.destroyed||(c2.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=ai(this.graphics),this.analyses=ai(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),ai(this.analysisViewManager),this.toolViewManager=ai(this.toolViewManager),this.layerViewManager=ai(this.layerViewManager),this.selectionManager=ai(this.selectionManager),this.basemapView=ai(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=ai(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Ne.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new ei({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||yl.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(Ne.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),yl.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get spatialReference(){var t,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)){const i=e.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return e}set spatialReference(e){const t=!on(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??uc}set timeZone(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));this._userTimeZone=e,e===uc||e===c1||t.has(e.toLowerCase())||r.has(e.toLowerCase())||Ne.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new xO}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}importLayerView(e){throw new be("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&Ne.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(fa(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};kt.views=new ut,b([M()],kt.prototype,"_userSpatialReference",void 0),b([M()],kt.prototype,"activeTool",null),b([M({readOnly:!0})],kt.prototype,"allLayerViews",void 0),b([M()],kt.prototype,"groundView",void 0),b([M()],kt.prototype,"animation",null),b([M()],kt.prototype,"basemapView",void 0),b([M()],kt.prototype,"center",null),b([M({readOnly:!0})],kt.prototype,"_defaultsFromMapSettings",null),b([M()],kt.prototype,"defaultsFromMap",null),b([M()],kt.prototype,"fatalError",void 0),b([M({type:mr})],kt.prototype,"extent",null),b([M(tP(U0,"graphics"))],kt.prototype,"graphics",void 0),b([M(tP(r6,"analyses"))],kt.prototype,"analyses",void 0),b([M({readOnly:!0,type:W7})],kt.prototype,"heightModelInfo",null),b([M({readOnly:!0})],kt.prototype,"interacting",null),b([M({readOnly:!0})],kt.prototype,"navigating",null),b([M({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],kt.prototype,"preconditionsReady",null),b([M({readOnly:!0})],kt.prototype,"typeSpecificPreconditionsReady",void 0),b([M({type:ut,readOnly:!0})],kt.prototype,"layerViews",void 0),b([M()],kt.prototype,"resolution",null),b([M({type:ple})],kt.prototype,"magnifier",void 0),b([M({value:null,type:cae})],kt.prototype,"map",null),b([M()],kt.prototype,"padding",void 0),b([M({readOnly:!0})],kt.prototype,"ready",void 0),b([M({type:It})],kt.prototype,"spatialReference",null),b([M()],kt.prototype,"spatialReferenceWarningDelay",void 0),b([M()],kt.prototype,"stationary",null),b([M({readOnly:!0})],kt.prototype,"supportsGround",void 0),b([M({type:cc})],kt.prototype,"timeExtent",void 0),b([M({type:String,nonNullable:!0})],kt.prototype,"timeZone",null),b([M()],kt.prototype,"tools",null),b([M()],kt.prototype,"toolViewManager",void 0),b([M({readOnly:!0})],kt.prototype,"type",void 0),b([M({type:Number})],kt.prototype,"scale",void 0),b([M({readOnly:!0})],kt.prototype,"updating",void 0),b([M({readOnly:!0})],kt.prototype,"initialExtentRequired",void 0),b([M({readOnly:!0})],kt.prototype,"initialExtent",null),b([M()],kt.prototype,"cursor",null),b([M({readOnly:!0})],kt.prototype,"input",void 0),b([M({type:Cle,nonNullable:!0})],kt.prototype,"navigation",void 0),b([M()],kt.prototype,"layerViewManager",void 0),b([M()],kt.prototype,"analysisViewManager",void 0),b([M()],kt.prototype,"selectionManager",void 0),b([M()],kt.prototype,"width",void 0),b([M()],kt.prototype,"height",void 0),b([M({readOnly:!0})],kt.prototype,"resizing",void 0),b([M({value:null,readOnly:!0})],kt.prototype,"size",null),b([M({readOnly:!0})],kt.prototype,"suspended",void 0),b([M({readOnly:!0})],kt.prototype,"viewEvents",void 0),b([M({readOnly:!0})],kt.prototype,"persistableViewModels",void 0),b([M()],kt.prototype,"_isValid",void 0),b([M()],kt.prototype,"_readyCycleForced",void 0),b([M()],kt.prototype,"_lockedSpatialReference",void 0),b([M()],kt.prototype,"_userTimeZone",void 0),b([M()],kt.prototype,"_lockedTimeZone",void 0),b([M({type:xO})],kt.prototype,"theme",void 0),b([M({readOnly:!0,type:xO})],kt.prototype,"effectiveTheme",null),kt=c2=b([se("esri.views.View")],kt);const zOe=kt;function BOe(e){return e.layerViews}function Ki(){return[0,0]}function VOe(e){return[e[0],e[1]]}function xx(e,t){return[e,t]}function UOe(e,t=Ki()){const r=Math.min(2,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function GOe(e,t){return new Float64Array(e,t,2)}function Nle(){return Ki()}function Fle(){return xx(1,1)}function Dle(){return xx(1,0)}function zle(){return xx(0,1)}const qOe=Nle(),HOe=Fle(),WOe=Dle(),JOe=zle();Object.freeze(Object.defineProperty({__proto__:null,ONES:HOe,UNIT_X:WOe,UNIT_Y:JOe,ZEROS:qOe,clone:VOe,create:Ki,createView:GOe,fromArray:UOe,fromValues:xx,ones:Fle,unitX:Dle,unitY:zle,zeros:Nle},Symbol.toStringTag,{value:"Module"}));let Sd=class extends X4{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=da(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new be("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,r){r||(r=Wp(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};b([M({readOnly:!0})],Sd.prototype,"done",null),b([M({readOnly:!0,type:String})],Sd.prototype,"state",void 0),b([M()],Sd.prototype,"target",void 0),Sd=b([se("esri.views.ViewAnimation")],Sd),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Sd||(Sd={}));const $O=Sd;function Jm(e,t){return e[0]=t[0],e[1]=t[1],e}function Gn(e,t,r){return e[0]=t,e[1]=r,e}function Ble(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function u3(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Vle(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function Ule(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function KOe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function YOe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ZOe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function XOe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function QOe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function _x(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function eAe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function t8(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function l6(e,t){const r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function u6(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function Gle(e){const t=e[0],r=e[1];return t*t+r*r}function qle(e,t){return e[0]=-t[0],e[1]=-t[1],e}function tAe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function MO(e,t){const r=t[0],i=t[1];let n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function Hle(e,t){return e[0]*t[0]+e[1]*t[1]}function Wle(e,t,r){const i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function rAe(e,t,r,i){const n=t[0],o=t[1];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e}function iAe(e,t){t=t||1;const r=2*S7()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function nAe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n,e[1]=r[1]*i+r[3]*n,e}function Wu(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[2]*n+r[4],e[1]=r[1]*i+r[3]*n+r[5],e}function sAe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[3]*n+r[6],e[1]=r[1]*i+r[4]*n+r[7],e}function oAe(e,t,r){const i=t[0],n=t[1];return e[0]=r[0]*i+r[4]*n+r[12],e[1]=r[1]*i+r[5]*n+r[13],e}function aAe(e,t,r,i){const n=t[0]-r[0],o=t[1]-r[1],u=Math.sin(i),f=Math.cos(i);return e[0]=n*f-o*u+r[0],e[1]=n*u+o*f+r[1],e}function lAe(e,t){const r=e[0],i=e[1],n=t[0],o=t[1];let u=r*r+i*i;u>0&&(u=1/Math.sqrt(u));let f=n*n+o*o;f>0&&(f=1/Math.sqrt(f));const m=(r*n+i*o)*u*f;return m>1?0:m<-1?Math.PI:Math.acos(m)}function uAe(e){return"vec2("+e[0]+", "+e[1]+")"}function cAe(e,t){return e[0]===t[0]&&e[1]===t[1]}function hAe(e,t){const r=e[0],i=e[1],n=t[0],o=t[1],u=oo();return Math.abs(r-n)<=u*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-o)<=u*Math.max(1,Math.abs(i),Math.abs(o))}function dAe(e,t,r,i,n){let o=t[0]-r[0],u=t[1]-r[1];const f=(i[0]*o+i[1]*u)*(n-1);return o=i[0]*f,u=i[1]*f,e[0]=t[0]+o,e[1]=t[1]+u,e}const pAe=u6,wF=u3,fAe=Vle,yAe=Ule,mAe=t8,gAe=l6,vAe=Gle;Object.freeze(Object.defineProperty({__proto__:null,add:Ble,angle:lAe,ceil:KOe,copy:Jm,cross:Wle,dist:mAe,distance:t8,div:yAe,divide:Ule,dot:Hle,equals:hAe,exactEquals:cAe,floor:YOe,inverse:tAe,len:pAe,length:u6,lerp:rAe,max:XOe,min:ZOe,mul:fAe,multiply:Vle,negate:qle,normalize:MO,projectAndScale:dAe,random:iAe,rotate:aAe,round:QOe,scale:_x,scaleAndAdd:eAe,set:Gn,sqrDist:gAe,sqrLen:vAe,squaredDistance:l6,squaredLength:Gle,str:uAe,sub:wF,subtract:u3,transformMat2:nAe,transformMat2d:Wu,transformMat3:sAe,transformMat4:oAe},Symbol.toStringTag,{value:"Module"}));function bAe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function wAe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function xAe(e,t,r,i,n,o,u){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=u,e}function xF(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5];let m=r*o-i*n;return m?(m=1/m,e[0]=o*m,e[1]=-i*m,e[2]=-n*m,e[3]=r*m,e[4]=(n*f-o*u)*m,e[5]=(i*u-r*f)*m,e):null}function _Ae(e){return e[0]*e[3]-e[1]*e[2]}function Jle(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=r[0],_=r[1],$=r[2],T=r[3],I=r[4],O=r[5];return e[0]=i*v+o*_,e[1]=n*v+u*_,e[2]=i*$+o*T,e[3]=n*$+u*T,e[4]=i*I+o*O+f,e[5]=n*I+u*O+m,e}function r8(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=Math.sin(r),_=Math.cos(r);return e[0]=i*_+o*v,e[1]=n*_+u*v,e[2]=i*-v+o*_,e[3]=n*-v+u*_,e[4]=f,e[5]=m,e}function _F(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=r[0],_=r[1];return e[0]=i*v,e[1]=n*v,e[2]=o*_,e[3]=u*_,e[4]=f,e[5]=m,e}function c3(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=r[0],_=r[1];return e[0]=i,e[1]=n,e[2]=o,e[3]=u,e[4]=i*v+o*_+f,e[5]=n*v+u*_+m,e}function Kle(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function Yle(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function SF(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function SAe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function $Ae(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function MAe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function Zle(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function TAe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function kAe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function CAe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function EAe(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],u=e[4],f=e[5],m=t[0],v=t[1],_=t[2],$=t[3],T=t[4],I=t[5],O=oo();return Math.abs(r-m)<=O*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(i-v)<=O*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(n-_)<=O*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(o-$)<=O*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(u-T)<=O*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(f-I)<=O*Math.max(1,Math.abs(f),Math.abs(I))}const IAe=Jle,PAe=Zle;Object.freeze(Object.defineProperty({__proto__:null,add:MAe,copy:bAe,determinant:_Ae,equals:EAe,exactEquals:CAe,frob:$Ae,fromRotation:Kle,fromScaling:Yle,fromTranslation:SF,identity:wAe,invert:xF,mul:IAe,multiply:Jle,multiplyScalar:TAe,multiplyScalarAndAdd:kAe,rotate:r8,scale:_F,set:xAe,str:SAe,sub:PAe,subtract:Zle,translate:c3},Symbol.toStringTag,{value:"Module"}));function wh(){return[1,0,0,1,0,0]}function OAe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function AAe(e,t,r,i,n,o){return[e,t,r,i,n,o]}function jAe(e,t){return new Float64Array(e,t,6)}const RAe=wh();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:RAe,clone:OAe,create:wh,createView:jAe,fromValues:AAe},Symbol.toStringTag,{value:"Module"}));const X_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Qa({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:It.WebMercator}),minus180Line:new Qa({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:It.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Qa({paths:[[[180,-180],[180,180]]],spatialReference:It.WGS84}),minus180Line:new Qa({paths:[[[-180,-180],[-180,180]]],spatialReference:It.WGS84})}};function T0(e,t){return Math.ceil((e-t)/(2*t))}function Xle(e,t){const r=pw(e);for(const i of r)for(const n of i)n[0]+=t;return e}function pw(e){return Nm(e)?e.rings:e.paths}function i8(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Sx(e){return typeof e=="string"?Zn(e):ve(e)}function n8(e,t,r){const i={};for(const n in e){if(n==="declaredClass")continue;const o=e[n];if(o!=null&&typeof o!="function")if(Array.isArray(o))i[n]=o.map(u=>n8(u));else if(typeof o=="object")if(o.toJSON){const u=o.toJSON(r==null?void 0:r[n]);i[n]=JSON.stringify(u)}else i[n]=JSON.stringify(o);else i[n]=o}return i}async function LAe(e,t,r,i){const n=Sx(e),o=t[0].spatialReference,u={...i,responseType:"json",query:{...n.query,f:"json",sr:L4(o),target:JSON.stringify({geometryType:ux(t[0]),geometries:t}),cutter:JSON.stringify(r)}},f=await Jr(n.path+"/cut",u),{cutIndexes:m,geometries:v=[]}=f.data;return{cutIndexes:m,geometries:v.map(_=>{const $=Op(_);return $.spatialReference=o,$})}}function NAe(e){return{geometryType:ux(e[0]),geometries:e.map(t=>t.toJSON())}}function Qle(e,t,r){const i=e$e(t);return e.map(n=>{const o=i.fromJSON(n);return o.spatialReference=r,o})}async function FAe(e,t,r){const i=typeof e=="string"?Zn(e):e,n=t[0].spatialReference,o=ux(t[0]),u={...r,query:{...i.query,f:"json",sr:L4(n),geometries:JSON.stringify(NAe(t))}},{data:f}=await Jr(i.path+"/simplify",u);return Qle(f.geometries,o,n)}const eue=()=>Ne.getLogger("esri.geometry.support.normalizeUtils");function DAe(e){return e.type==="polygon"}function zAe(e){return e[0].type==="polygon"}function BAe(e){return e[0].type==="polyline"}function hH(e){const t=[];let r=0,i=0;for(let n=0;n<e.length;n++){const o=e[n];let u=null;for(let f=0;f<o.length;f++)u=o[f],t.push(u),f===0?(r=u[0],i=r):(r=Math.min(r,u[0]),i=Math.max(i,u[0]));u&&t.push([(r+i)/2,0])}return t}function VAe(e,t){if(!(e instanceof Qa||e instanceof pa)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw eue().error(n),new be(n)}const r=pw(e),i=[];for(const n of r){const o=[];i.push(o),o.push([n[0][0],n[0][1]]);for(let u=0;u<n.length-1;u++){const f=n[u][0],m=n[u][1],v=n[u+1][0],_=n[u+1][1],$=Math.sqrt((v-f)*(v-f)+(_-m)*(_-m)),T=(_-m)/$,I=(v-f)/$,O=$/t;if(O>1){for(let z=1;z<=O-1;z++){const B=z*t,G=I*B+f,H=T*B+m;o.push([G,H])}const A=($+Math.floor(O-1)*t)/2,N=I*A+f,F=T*A+m;o.push([N,F])}o.push([v,_])}}return DAe(e)?new pa({rings:i,spatialReference:e.spatialReference}):new Qa({paths:i,spatialReference:e.spatialReference})}function dH(e,t,r){if(t){const i=VAe(e,1e6);e=mm(i,!0)}return r&&(e=Xle(e,r)),e}function pH(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const n=T0(i,t);e[0]=i+n*(-2*t)}else if(i<r){const n=T0(i,r);e[0]=i+n*(-2*r)}}else{const i=e.x;if(i>t){const n=T0(i,t);e=e.clone().offset(n*(-2*t),0)}else if(i<r){const n=T0(i,r);e=e.clone().offset(n*(-2*r),0)}}return e}function UAe(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const n=t.cutIndexes[i],o=t.geometries[i],u=pw(o);for(let f=0;f<u.length;f++){const m=u[f];m.some(v=>{if(v[0]<180)return!0;{let _=0;for(let T=0;T<m.length;T++){const I=m[T][0];_=I>_?I:_}_=Number(_.toFixed(9));const $=-360*T0(_,180);for(let T=0;T<m.length;T++){const I=o.getPoint(f,T);o.setPoint(f,T,I.clone().offset($,0))}return!0}})}if(n===r){if(zAe(e))for(const f of pw(o))e[n]=e[n].addRing(f);else if(BAe(e))for(const f of pw(o))e[n]=e[n].addPath(f)}else r=n,e[n]=o}return e}async function GAe(e,t,r){if(!Array.isArray(e))return GAe([e],t);t&&typeof t!="string"&&eue().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:(t==null?void 0:t.url)??wr.geometryServiceUrl;let n,o,u,f,m,v,_,$,T=0;const I=[],O=[];for(const G of e)if(G!=null)if(n||(n=G.spatialReference,o=jo(n),u=n.isWebMercator,v=u?102100:4326,f=X_[v].maxX,m=X_[v].minX,_=X_[v].plus180Line,$=X_[v].minus180Line),o)if(G.type==="mesh")O.push(G);else if(G.type==="point")O.push(pH(G.clone(),f,m));else if(G.type==="multipoint"){const H=G.clone();H.points=H.points.map(J=>pH(J,f,m)),O.push(H)}else if(G.type==="extent"){const H=G.clone()._normalize(!1,!1,o);O.push(H.rings?new pa(H):H)}else if(G.extent){const H=G.extent,J=T0(H.xmin,m)*(2*f);let Z=J===0?G.clone():Xle(G.clone(),J);H.offset(J,0);let{xmin:re,xmax:q}=H;re=Number(re.toFixed(9)),q=Number(q.toFixed(9)),H.intersects(_)&&q!==f?(T=q>T?q:T,Z=dH(Z,u),I.push(Z),O.push("cut")):H.intersects($)&&re!==m?(T=q*(2*f)>T?q*(2*f):T,Z=dH(Z,u,360),I.push(Z),O.push("cut")):O.push(Z)}else O.push(G.clone());else O.push(G);else O.push(G);let A=T0(T,f),N=-90;const F=A,z=new Qa;for(;A>0;){const G=360*A-180;z.addPath([[G,N],[G,-1*N]]),N*=-1,A--}if(I.length>0&&F>0){const G=UAe(I,await LAe(i,I,z,r)),H=[],J=[];for(let q=0;q<O.length;q++){const X=O[q];if(X!=="cut")J.push(X);else{const ie=G.shift(),le=e[q];le!=null&&le.type==="polygon"&&le.rings&&le.rings.length>1&&ie.rings.length>=le.rings.length?(H.push(ie),J.push("simplify")):J.push(u?nu(ie):ie)}}if(!H.length)return J;const Z=await FAe(i,H,r),re=[];for(let q=0;q<J.length;q++){const X=J[q];X!=="simplify"?re.push(X):re.push(u?nu(Z.shift()):Z.shift())}return re}const B=[];for(let G=0;G<O.length;G++){const H=O[G];if(H!=="cut")B.push(H);else{const J=I.shift();B.push(u===!0?nu(J):J)}}return B}function qAe(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&jo(e.spatialReference);if(!r)return t;const[i,n]=r.valid,o=2*n,{width:u}=t;let f,{xmin:m,xmax:v}=t;if([m,v]=[v,m],e.type==="extent"||u===0||u<=n||u>o||m<i||v>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;f=hH(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;f=hH(e.paths);break;case"multipoint":f=e.points}const _=t.clone();for(let $=0;$<f.length;$++){let T=f[$][0];T<0?(T+=n,v=Math.max(T,v)):(T-=n,m=Math.min(T,m))}return _.xmin=m,_.xmax=v,_.width<u?(_.xmin-=n,_.xmax-=n,_):t}function $F(e,t,r){const i=jo(r);if(i==null)return e;const[n,o]=i.valid,u=2*o;let f=0,m=0;t>o?f=Math.ceil(Math.abs(t-o)/u):t<n&&(f=-Math.ceil(Math.abs(t-n)/u)),e>o?m=Math.ceil(Math.abs(e-o)/u):e<n&&(m=-Math.ceil(Math.abs(e-n)/u));let v=e+(f-m)*u;const _=v-t;return _>o?v-=u:_<n&&(v+=u),v}function YSt(e,t){const r=jo(t);if(r){const[i,n]=r.valid,o=n-i;if(e<i)for(;e<i;)e+=o;if(e>n)for(;e>n;)e-=o}return e}const tue=96,rue=39.37,HAe=180/Math.PI;function iue(e){return e.wkid?e:e.spatialReference||It.WGS84}function MF(e,t){return t.type?Gn(e,t.x,t.y):Jm(e,t)}function nue(e){return du(e)}function s8(e,t,r=0){let i=e.width,n=e.height;if(r!==0){const f=ip(r),m=Math.abs(Math.cos(f)),v=Math.abs(Math.sin(f));i=e.width*m+e.height*v,n=e.width*v+e.height*m}const o=Math.max(1,t[0]),u=Math.max(1,t[1]);return Math.max(i/o,n/u)*eje(e.spatialReference)}async function h2(e,t,r,i){var f,m;let n,o;if(!e||Array.isArray(e)&&!e.length)return null;if(ut.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const v=e.every(T=>"attributes"in T),_=e.some(T=>!T.geometry);let $=e;if(v&&_&&t&&t.allLayerViews){const T=new Map;for(const N of e){const F=N.layer,z=T.get(F)||[],B=N.attributes[F.objectIdField];B!=null&&z.push(B),T.set(F,z)}const I=[];T.forEach((N,F)=>{const z=t.allLayerViews.find(B=>B.layer.id===F.id);if(z&&"queryFeatures"in z){const B=F.createQuery();B.objectIds=N,B.returnGeometry=!0,I.push(z.queryFeatures(B))}});const O=await Promise.all(I),A=[];for(const N of O)if(N&&N.features&&N.features.length)for(const F of N.features)F.geometry!=null&&A.push(F.geometry);$=A}for(const T of $)i=await h2(T,t,r,i);return i}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new jt(e);else if(e instanceof Nh)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const v=e.layer,_=t.allLayerViews.find($=>$.layer.id===v.id);if(_&&"queryFeatures"in _){const $=v.createQuery();$.objectIds=[e.attributes[v.objectIdField]],$.returnGeometry=!0;const T=await _.queryFeatures($);n=(m=(f=T==null?void 0:T.features)==null?void 0:f[0])==null?void 0:m.geometry}}}if(n==null)return null;switch(n.type){case"point":o=new mr({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":o=qAe(n);break;default:o=n.extent}if(!o)return null;Fh()||uu(o.spatialReference,r)||await Ph();const u=Jp(o,r);if(!u)return null;if(i){const v=u.center,_=v.clone();_.x=$F(v.x,i.center.x,r),_.x!==v.x&&u.centerAt(_),i=i.union(u)}else i=u;return i}function WAe(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const r=e.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(e)&&e.length&&e.every(r=>"layer"in r)){let r=0,i=0;for(const n of e){const o=n.layer;o!=null&&o.minScale&&o.maxScale&&(r=o.minScale<r?o.minScale:r,i=o.maxScale>i?o.maxScale:i)}return r&&i?{min:r,max:i}:null}}}function fH(e,t){return on(iue(e),t)?e:Jp(e,t)}async function JAe(e,t){var N;if(!e||!t)return new al({targetGeometry:new jt,scale:0,rotation:0});let r=t.spatialReference;const{constraints:i,padding:n,viewpoint:o,size:u}=t,f=[n?u[0]-n.left-n.right:u[0],n?u[1]-n.top-n.bottom:u[1]];let m=null;e instanceof al?m=e:e.viewpoint?m=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(m=e.target);let v=null;m!=null&&m.targetGeometry?v=m.targetGeometry:e instanceof mr?v=e:e instanceof Nh?v=await h2(e,t,r):e&&(v=await h2(e.center,t,r)||await h2(e.target,t,r)||await h2(e,t,r)),!v&&(o!=null&&o.targetGeometry)?v=o.targetGeometry:!v&&t.extent&&(v=t.extent),r||(r=iue(t.spatialReference||t.extent||v)),Fh()||on(v.spatialReference,r)||uu(v.spatialReference,r)||await Ph();const _=fH(v,r),$="center"in _?_.center:_;t.pickClosestTarget!==!1&&$.type==="point"&&((N=o.targetGeometry)==null?void 0:N.type)==="point"&&($.x=$F($.x,o.targetGeometry.x,$.spatialReference));let T=0;m?T=m.rotation:e.hasOwnProperty("rotation")?T=e.rotation:o&&(T=o.rotation);let I=0;I=(m==null?void 0:m.targetGeometry)!=null&&m.targetGeometry.type==="point"?m.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&i&&i.effectiveLODs?i.zoomToScale(e.zoom):Array.isArray(v)||v.type==="point"||v.type==="extent"&&v.width===0&&v.height===0?o.scale:s8(fH(v.extent,r),f,T);const O=WAe(e.target??e);O&&(O.min&&O.min<I?I=O.min:O.max&&O.max>I&&(I=O.max));let A=new al({targetGeometry:$,scale:I,rotation:T});return i&&(A=i.fit(A),i.constrainByGeometry(A),i.rotationEnabled||(A.rotation=o.rotation)),A}function Rs(e,t){const r=e.targetGeometry,i=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function KAe(e,t,r){return r?Gn(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):_x(e,t,.5)}const YAe=function(){const e=Ki();return function(t,r,i){const n=r.targetGeometry;MF(e,n);const o=.5*cv(r);return t.xmin=e[0]-o*i[0],t.ymin=e[1]-o*i[1],t.xmax=e[0]+o*i[0],t.ymax=e[1]+o*i[1],t.spatialReference=n.spatialReference,t}}();function ZAe(e,t,r,i,n){var o;return TO(e,t,r.center),e.scale=s8(r,i),(o=n==null?void 0:n.constraints)==null||o.constrain(e),e}function XAe(e,t,r,i){return CF(e,t,r,i),xF(e,e)}const sue=function(){const e=Ki();return function(t,r,i){return wF(t,tje(t,r),KAe(e,r,i))}}(),QAe=function(){const e=wh(),t=Ki();return function(r,i,n,o){const u=cv(i),f=TF(i);return Gn(t,u,u),Yle(e,t),r8(e,e,f),c3(e,e,sue(t,n,o)),c3(e,e,[0,o.top-o.bottom]),Gn(r,e[4],e[5])}}();function cv(e){var t;return e.scale*oue((t=e.targetGeometry)==null?void 0:t.spatialReference)}function oue(e){return e!=null&&sa(e)?1/(nue(e)*rue*tue):1}function TF(e){return YL(e.rotation)||0}function eje(e){return sa(e)?nue(e)*rue*tue:1}function tje(e,t){return _x(e,t,.5)}const kF=function(){const e=Ki(),t=Ki(),r=Ki();return function(i,n,o,u,f,m){return qle(e,n),_x(t,o,.5*m),Gn(r,1/u*m,-1/u*m),SF(i,t),f&&r8(i,i,f),_F(i,i,r),c3(i,i,e),i}}(),CF=function(){const e=Ki();return function(t,r,i,n){const o=cv(r),u=TF(r);return MF(e,r.targetGeometry),kF(t,e,i,o,u,n)}}(),rje=function(){const e=Ki();return function(t,r,i,n){const o=cv(r);return MF(e,r.targetGeometry),kF(t,e,i,o,0,n)}}();function aue(e){const t=jo(e);return t?t.valid[1]-t.valid[0]:0}function ije(e,t){return Math.round(aue(e)/t)}const nje=function(){const e=Ki(),t=Ki(),r=[0,0,0];return function(i,n,o){u3(e,i,n),MO(e,e),u3(t,i,o),MO(t,t),Wle(r,e,t);let u=Math.acos(Hle(e,t)/(u6(e)*u6(t)))*HAe;return r[2]<0&&(u=-u),isNaN(u)&&(u=0),u}}(),sje=function(){const e=Ki();return function(t,r,i,n){const o=t.targetGeometry;return Rs(t,r),QAe(e,r,i,n),o.x+=e[0],o.y+=e[1],t}}(),TO=function(e,t,r){Rs(e,t);const i=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e},oje=function(){const e=Ki();return function(t,r,i,n,o){o||(o="center"),wF(e,i,n),_x(e,e,.5);const u=e[0],f=e[1];switch(o){case"center":Gn(e,0,0);break;case"left":Gn(e,-u,0);break;case"top":Gn(e,0,f);break;case"right":Gn(e,u,0);break;case"bottom":Gn(e,0,-f);break;case"top-left":Gn(e,-u,f);break;case"bottom-left":Gn(e,-u,-f);break;case"top-right":Gn(e,u,f);break;case"bottom-right":Gn(e,u,-f)}return o8(t,r,e),t}}();function ZSt(e,t,r){return Rs(e,t),e.rotation+=r,e}function aje(e,t,r){return Rs(e,t),e.rotation=r,e}const lje=function(){const e=Ki();return function(t,r,i,n,o){return Rs(t,r),isNaN(i)||i===0||(uue(e,n,r,o),t.scale=r.scale*i,cue(e,e,t,o),o8(t,t,Gn(e,e[0]-n[0],n[1]-e[1]))),t}}();function yH(e,t,r){return Rs(e,t),e.scale=r,e}const lue=function(){const e=Ki();return function(t,r,i,n,o,u){return Rs(t,r),isNaN(i)||i===0||(uue(e,o,r,u),t.scale=r.scale*i,t.rotation+=n,cue(e,e,t,u),o8(t,t,Gn(e,e[0]-o[0],o[1]-e[1]))),t}}(),XSt=function(){const e=Ki(),t=Ki();return function(r,i,n,o,u,f,m){return sue(t,f,m),Ble(e,u,t),o?lue(r,i,n,o,e,f):lje(r,i,n,e,f)}}(),uue=function(){const e=wh();return function(t,r,i,n){return Wu(t,r,XAe(e,i,n,1))}}(),cue=function(){const e=wh();return function(t,r,i,n){return Wu(t,r,CF(e,i,n,1))}}(),o8=function(){const e=Ki(),t=wh();return function(r,i,n){Rs(r,i);const o=cv(i),u=r.targetGeometry;return Kle(t,TF(i)),_F(t,t,xx(o,o)),Wu(e,n,t),u.x+=e[0],u.y+=e[1],r}}();function hue(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function uje(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function cje(e,t,r,i,n,o){const u=new Float32Array(6);return u[0]=e,u[1]=t,u[2]=r,u[3]=i,u[4]=n,u[5]=o,u}function hje(e,t){return new Float32Array(e,t,6)}function due(e,t,r,i){const n=t[i],o=t[i+1];e[i]=r[0]*n+r[2]*o+r[4],e[i+1]=r[1]*n+r[3]*o+r[5]}function dje(e,t,r,i=0,n=0,o=2){const u=n||t.length/o;for(let f=i;f<u;f++)due(e,t,r,f*o)}Object.freeze(Object.defineProperty({__proto__:null,clone:uje,create:hue,createView:hje,fromValues:cje,transform:due,transformMany:dje},Symbol.toStringTag,{value:"Module"}));function pje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function fje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function pue(e,t,r,i,n,o,u,f,m,v){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=u,e[6]=f,e[7]=m,e[8]=v,e}function fue(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function yje(e,t){if(e===t){const r=t[1],i=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function mje(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5],m=t[6],v=t[7],_=t[8],$=_*u-f*v,T=-_*o+f*m,I=v*o-u*m;let O=r*$+i*T+n*I;return O?(O=1/O,e[0]=$*O,e[1]=(-_*i+n*v)*O,e[2]=(f*i-n*u)*O,e[3]=T*O,e[4]=(_*r-n*m)*O,e[5]=(-f*r+n*o)*O,e[6]=I*O,e[7]=(-v*r+i*m)*O,e[8]=(u*r-i*o)*O,e):null}function gje(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5],m=t[6],v=t[7],_=t[8];return e[0]=u*_-f*v,e[1]=n*v-i*_,e[2]=i*f-n*u,e[3]=f*m-o*_,e[4]=r*_-n*m,e[5]=n*o-r*f,e[6]=o*v-u*m,e[7]=i*m-r*v,e[8]=r*u-i*o,e}function vje(e){const t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],u=e[5],f=e[6],m=e[7],v=e[8];return t*(v*o-u*m)+r*(-v*n+u*f)+i*(m*n-o*f)}function EF(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=t[6],_=t[7],$=t[8],T=r[0],I=r[1],O=r[2],A=r[3],N=r[4],F=r[5],z=r[6],B=r[7],G=r[8];return e[0]=T*i+I*u+O*v,e[1]=T*n+I*f+O*_,e[2]=T*o+I*m+O*$,e[3]=A*i+N*u+F*v,e[4]=A*n+N*f+F*_,e[5]=A*o+N*m+F*$,e[6]=z*i+B*u+G*v,e[7]=z*n+B*f+G*_,e[8]=z*o+B*m+G*$,e}function kO(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=t[6],_=t[7],$=t[8],T=r[0],I=r[1];return e[0]=i,e[1]=n,e[2]=o,e[3]=u,e[4]=f,e[5]=m,e[6]=T*i+I*u+v,e[7]=T*n+I*f+_,e[8]=T*o+I*m+$,e}function yue(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3],f=t[4],m=t[5],v=t[6],_=t[7],$=t[8],T=Math.sin(r),I=Math.cos(r);return e[0]=I*i+T*u,e[1]=I*n+T*f,e[2]=I*o+T*m,e[3]=I*u-T*i,e[4]=I*f-T*n,e[5]=I*m-T*o,e[6]=v,e[7]=_,e[8]=$,e}function bje(e,t,r){const i=r[0],n=r[1],o=r[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function wje(e,t,r){const i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function xje(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function _je(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Sje(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function $je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Mje(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=r+r,f=i+i,m=n+n,v=r*u,_=i*u,$=i*f,T=n*u,I=n*f,O=n*m,A=o*u,N=o*f,F=o*m;return e[0]=1-$-O,e[3]=_-F,e[6]=T+N,e[1]=_+F,e[4]=1-v-O,e[7]=I-A,e[2]=T-N,e[5]=I+A,e[8]=1-v-$,e}function Tje(e,t){const r=t[0],i=t[1],n=t[2],o=t[4],u=t[5],f=t[6],m=t[8],v=t[9],_=t[10],$=_*u-f*v,T=-_*o+f*m,I=v*o-u*m,O=r*$+i*T+n*I;if(!O)return null;const A=1/O;return e[0]=$*A,e[1]=(-_*i+n*v)*A,e[2]=(f*i-n*u)*A,e[3]=T*A,e[4]=(_*r-n*m)*A,e[5]=(-f*r+n*o)*A,e[6]=I*A,e[7]=(-v*r+i*m)*A,e[8]=(u*r-i*o)*A,e}function kje(e,t){const r=t[0],i=t[1],n=t[2],o=t[3],u=t[4],f=t[5],m=t[6],v=t[7],_=t[8],$=t[9],T=t[10],I=t[11],O=t[12],A=t[13],N=t[14],F=t[15],z=r*f-i*u,B=r*m-n*u,G=r*v-o*u,H=i*m-n*f,J=i*v-o*f,Z=n*v-o*m,re=_*A-$*O,q=_*N-T*O,X=_*F-I*O,ie=$*N-T*A,le=$*F-I*A,ue=T*F-I*N;let ne=z*ue-B*le+G*ie+H*X-J*q+Z*re;return ne?(ne=1/ne,e[0]=(f*ue-m*le+v*ie)*ne,e[1]=(m*X-u*ue-v*q)*ne,e[2]=(u*le-f*X+v*re)*ne,e[3]=(n*le-i*ue-o*ie)*ne,e[4]=(r*ue-n*X+o*q)*ne,e[5]=(i*X-r*le-o*re)*ne,e[6]=(A*Z-N*J+F*H)*ne,e[7]=(N*G-O*Z-F*B)*ne,e[8]=(O*J-A*G+F*z)*ne,e):null}function Cje(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Eje(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ije(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Pje(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function mue(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function Oje(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Aje(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function jje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Rje(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],u=e[4],f=e[5],m=e[6],v=e[7],_=e[8],$=t[0],T=t[1],I=t[2],O=t[3],A=t[4],N=t[5],F=t[6],z=t[7],B=t[8],G=oo();return Math.abs(r-$)<=G*Math.max(1,Math.abs(r),Math.abs($))&&Math.abs(i-T)<=G*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(n-I)<=G*Math.max(1,Math.abs(n),Math.abs(I))&&Math.abs(o-O)<=G*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(u-A)<=G*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(f-N)<=G*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(m-F)<=G*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(v-z)<=G*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(_-B)<=G*Math.max(1,Math.abs(_),Math.abs(B))}function Lje(e){const t=oo(),r=e[0],i=e[1],n=e[2],o=e[3],u=e[4],f=e[5],m=e[6],v=e[7],_=e[8];return Math.abs(1-(r*r+o*o+m*m))<=t&&Math.abs(1-(i*i+u*u+v*v))<=t&&Math.abs(1-(n*n+f*f+_*_))<=t}const Nje=EF,Fje=mue;Object.freeze(Object.defineProperty({__proto__:null,add:Pje,adjoint:gje,copy:fje,determinant:vje,equals:Rje,exactEquals:jje,frob:Ije,fromMat2d:$je,fromMat4:pje,fromQuat:Mje,fromRotation:_je,fromScaling:Sje,fromTranslation:xje,identity:fue,invert:mje,isOrthoNormal:Lje,mul:Nje,multiply:EF,multiplyScalar:Oje,multiplyScalarAndAdd:Aje,normalFromMat4:kje,normalFromMat4Legacy:Tje,projection:Cje,rotate:yue,scale:bje,scaleByVec2:wje,set:pue,str:Eje,sub:Fje,subtract:mue,translate:kO,transpose:yje},Symbol.toStringTag,{value:"Module"}));function WS(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function Dje(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function zje(e,t,r,i,n,o,u,f,m){const v=new Float32Array(9);return v[0]=e,v[1]=t,v[2]=r,v[3]=i,v[4]=n,v[5]=o,v[6]=u,v[7]=f,v[8]=m,v}function Bje(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:Dje,create:WS,createView:Bje,fromValues:zje},Symbol.toStringTag,{value:"Module"}));function gue(){return new Float32Array(2)}function Vje(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Cg(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function Uje(e,t){return new Float32Array(e,t,2)}function vue(){return gue()}function bue(){return Cg(1,1)}function wue(){return Cg(1,0)}function xue(){return Cg(0,1)}const Gje=vue(),qje=bue(),Hje=wue(),Wje=xue();Object.freeze(Object.defineProperty({__proto__:null,ONES:qje,UNIT_X:Hje,UNIT_Y:Wje,ZEROS:Gje,clone:Vje,create:gue,createView:Uje,fromValues:Cg,ones:bue,unitX:wue,unitY:xue,zeros:vue},Symbol.toStringTag,{value:"Module"}));function Jje(e){return e instanceof Float32Array&&e.length>=2}function Kje(e){return Array.isArray(e)&&e.length>=2}function ok(e){return Jje(e)||Kje(e)}var CO;const Mc=[0,0];let $d=CO=class extends Fe{constructor(e){super(e),this._viewpoint2D={center:Ki(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new mr,this.id=0,this.inverseTransform=wh(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=wh(),this.transformNoRotation=wh(),this.displayMat3=WS(),this.displayViewMat3=WS(),this.viewMat3=WS(),this.viewMat2d=hue(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Rs(r,e.viewpoint),this._set("size",Jm(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new CO({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return ok(t)?Wu(e,t,this.inverseTransform):(Mc[0]=t,Mc[1]=r,Wu(e,Mc,this.inverseTransform))}toScreen(e,t,r){return ok(t)?Wu(e,t,this.transform):(Mc[0]=t,Mc[1]=r,Wu(e,Mc,this.transform))}toScreenNoRotation(e,t,r){return ok(t)?Wu(e,t,this.transformNoRotation):(Mc[0]=t,Mc[1]=r,Wu(e,Mc,this.transformNoRotation))}wrapMapCoordinate(e,t){Jm(e,t);const[r]=t,[i]=this.center,{extent:n,spatialReference:o}=this;let{xmin:u,xmax:f}=n;if(o.isWrappable){const m=aue(o)/2;u=Math.max(u,i-m),f=Math.min(f,i+m)}return(r<u||r>f)&&(e[0]=$F(r,i,o)),e}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,n=this._get("size");return kF(e,r,n,t,0,i),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,o=this._get("size"),u=new al({targetGeometry:new jt(e[0],e[1],t),scale:r,rotation:i});if(this._set("viewpoint",u),!o||!t||!r)return;this.resolution=cv(u),this.rotation=i,this.scale=r,this.spatialReference=t,Jm(this.center,e);const f=o[0]!==0?2/o[0]:0,m=o[1]!==0?-2/o[1]:0;pue(this.displayMat3,f,0,0,0,m,0,-1,1,1);const v=fue(this.viewMat3),_=Cg(o[0]/2,o[1]/2),$=Cg(-o[0]/2,-o[1]/2),T=YL(i);kO(v,v,_),yue(v,v,T),kO(v,v,$),EF(this.displayViewMat3,this.displayMat3,v);const I=SF(this.viewMat2d,_);return r8(I,I,T),c3(I,I,$),YAe(this.extent,u,o),CF(this.transform,u,o,n),xF(this.inverseTransform,this.transform),rje(this.transformNoRotation,u,o,n),this.worldScreenWidth=ije(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};b([M({readOnly:!0})],$d.prototype,"id",void 0),b([M({value:1,json:{write:!0}})],$d.prototype,"pixelRatio",null),b([M({json:{write:!0}})],$d.prototype,"size",null),b([M()],$d.prototype,"spatialReference",void 0),b([M({type:al,json:{write:!0}})],$d.prototype,"viewpoint",null),$d=CO=b([se("esri.views.2d.ViewState")],$d);const mH=$d;var EO,IO;let ch=EO=class extends St{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new EO({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};b([M()],ch.prototype,"left",void 0),b([M()],ch.prototype,"top",void 0),b([M()],ch.prototype,"right",void 0),b([M()],ch.prototype,"bottom",void 0),ch=EO=b([se("esri.views.2d.PaddedViewState.Padding")],ch);let Ay=IO=class extends mH{constructor(...e){super(...e),this.paddedViewState=new mH,this._updateContent=(()=>{const t=Ki();return()=>{const r=this._get("size"),i=this._get("padding");if(!r||!i)return;const n=this.paddedViewState;Gn(t,i.left+i.right,i.top+i.bottom),u3(t,r,t),Jm(n.size,t);const o=n.viewpoint;o&&(this.viewpoint=o)}})(),this.addHandles(lt(()=>[this.size,this.padding],()=>this._updateContent(),cs)),this.padding=new ch,this.size=[0,0]}set padding(e){this._set("padding",e||new ch)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;const t=this._viewpoint2D;if(this._get("padding")){const r=e.clone();sje(r,e,this._get("size"),this._get("padding"));const i=r.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=r.rotation,t.scale=r.scale,t.spatialReference=i.spatialReference}else{const r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}}clone(){return new IO({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};b([M()],Ay.prototype,"paddedViewState",void 0),b([M({type:ch})],Ay.prototype,"padding",null),b([M()],Ay.prototype,"viewpoint",null),Ay=IO=b([se("esri.views.2d.PaddedViewState")],Ay);const IF=Ay;function d0(e,t,r,i){const n=3*e,o=3*(r-e)-n,u=1-n-o,f=3*t,m=3*(i-t)-f,v=1-f-m;function _(O){return((u*O+o)*O+n)*O}function $(O){return((v*O+m)*O+f)*O}function T(O){return(3*u*O+2*o)*O+n}function I(O,A){let N,F,z,B,G,H;for(z=O,H=0;H<8;H++){if(B=_(z)-O,Math.abs(B)<A)return z;if(G=T(z),Math.abs(G)<1e-6)break;z-=B/G}if(N=0,F=1,z=O,z<N)return N;if(z>F)return F;for(;N<F;){if(B=_(z),Math.abs(B-O)<A)return z;O>B?N=z:F=z,z=.5*(F-N)+N}return z}return function(O,A=1e-6){return $(I(O,A))}}const Yje=/^cubic-bezier\((.*)\)/,Bu={};function Zje(e){let t=Bu[e]||null;if(!t){const r=Yje.exec(e);if(r){const i=r[1].split(",").map(n=>parseFloat(n.trim()));i.length!==4||i.some(n=>isNaN(n))||(t=d0.apply(d0,i))}}return t}Bu.ease=d0(.25,.1,.25,1),Bu.linear=d0(0,0,1,1),Bu.easeIn=Bu["ease-in"]=d0(.42,0,1,1),Bu.easeOut=Bu["ease-out"]=d0(0,0,.58,1),Bu.easeInOut=Bu["ease-in-out"]=d0(.42,0,.58,1);let gH=class{constructor(t){this._view=t,this.viewpoint=new al({targetGeometry:new jt,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return oue(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotateAtZoom(t){return this.size/2}compareTo(t,r){r.pan=Kie(this.center,t.center);let i=Math.abs(t.rotation-this.rotation);i=i>=180?360-i:i,r.rotate=ip(i),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,i){const{pan:n,rotate:o,zoom:u,zoomOffset:f}=i,{center:m}=this;m.spatialReference=t.center.spatialReference,m.x=Ob(t.center.x,r.center.x,n),m.y=Ob(t.center.y,r.center.y,n),this.viewpoint.scale=Ob(t.scale,r.scale+f,u);let v=t.rotation;const _=r.rotation;Math.abs(_-v)>=180&&(v+=360*(v<_?1:-1)),this.viewpoint.rotation=Ob(v,_,o)}copyFrom(t){Rs(this.viewpoint,t.viewpoint),this._view=t.view}};const _ue=e=>e*e,Xje=e=>1-_ue(1-e),Qje=e=>2**(10*(e-1)),eRe=e=>1-Qje(1-e);function tRe(e){const t=2*(e-Math.sqrt((e-1)*e)),r=t/2/e;return i=>i<r?e*i*i:t*i-t+1}function rRe(e,t){return(r,i)=>r<t?t*e(r/t,i):1-e((1-r)/(1-t),i)*(1-t)}const vH=rRe(tRe(1),.5);let iRe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const h3={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},Sue={...h3,maxDuration:4e3};let nRe=class $ue{constructor(t){this._createCamera=t,this.compared=new iRe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:h3.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new $ue(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,i){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=i.desiredScreenFlow!=null?i.desiredScreenFlow:h3.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>oo()}get hasFov(){return Math.abs(this.compared.fov)>oo()}get hasRotate(){return this.compared.rotate>oo()}},sRe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},oRe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,r)=>t+r.time,0)}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),t*=this.time;let i=0,n=0;const o=this.definition,u=this.segments.reduce((f,m)=>f||m.definition.hasZoom,!1);for(let f=0;f<this.segments.length;f++){const m=this.segments[f],v=m.definition;if(t<=m.time||f===this.segments.length-1){if(this.segmentInterpolateComponentsAt(m,m.time===0?0:t/m.time,r),o.hasPan&&!isNaN(r.pan)&&isFinite(o.compared.pan)?r.pan=(i+v.compared.pan*r.pan)/o.compared.pan:r.pan=1,o.hasRotate&&!isNaN(r.rotate)&&isFinite(o.compared.rotate)?r.rotate=(n+v.compared.rotate*r.rotate)/o.compared.rotate:r.rotate=1,u&&!isNaN(r.zoom)&&isFinite(v.compared.targetZoom)){const{sourceZoom:_,targetZoom:$}=v.compared,T=r.zoom*($-_)+_,I=this.segments[0].definition.compared.sourceZoom,O=this.segments[this.segments.length-1].definition.compared.targetZoom,A=Math.abs($-I)>Math.abs(_-I)?$:_;r.zoomOffset=A-O,r.zoom=(T-I)/(A-I)}else r.zoom=1;return r}t-=m.time,i+=v.compared.pan,n+=v.compared.rotate}}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i)}},ak=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,r=t.compared,i=r.sourceZoom,n=r.targetZoom;this._zoomSign=i>n?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(i);const o=(t.source.pixelsPerRotateAtZoom(i)+t.target.pixelsPerRotateAtZoom(n))/2;this._rotatePixels=r.rotate*o}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:i,hasPan:n,hasRotate:o}=this.definition;let u=0,f=0;i&&(n&&(u=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),o&&(f=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const m=this.definition.desiredPixelFlow;if(i&&n&&o){const v=u+f+u*f;this._zoomPixelFlow=u*f/v*m,this._panPixelFlow=f/v*m,this._rotatePixelFlow=u/v*m}else if(i&&n){const v=1+u;this._zoomPixelFlow=u/v*m,this._panPixelFlow=1/v*m}else if(i&&o){const v=1+f;this._zoomPixelFlow=f/v*m,this._rotatePixelFlow=1/v*m}else if(n&&o){const v=this._panPixelsAtSource/this._rotatePixels,_=1+v;this._panPixelFlow=v/_*m,this._rotatePixelFlow=1/_*m}else n?this._panPixelFlow=m:i?this._zoomPixelFlow=m:o&&(this._rotatePixelFlow=m);this._time=this.rotateTime??this.zoomTime??this.panTime??this.fovTime??0}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:null}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:null}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/aRe:null}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const r=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(r*(r/i)**-t-r)/(i-r)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:r,segmentEnd:i}=this.definition;return r+t*(i-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}};const aRe=ip(90);function lRe(e,t,r){const i=t-e.compared.sourceZoom,n=e.halfWindowPanAtZoom(i);return-e.halfWindowSize*(r.ascensionFactor*Math.LN2*e.compared.pan+n)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*n)}function uRe(e,t,r){const i=1/t,n=Math.log(e.compared.sourceZoom*i),o=1/e.desiredPixelFlow,u=1/Math.LN2,f=t-e.compared.sourceZoom,m=1/f,v=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(f))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*o*u*m*v-e.halfWindowSize*n*o*u*m+e.halfWindowSize*n*o*u*v/(f*f)}function cRe(e,t,r){const i=t-e.compared.sourceZoom,n=1/i,o=1/t,u=Math.log(e.compared.sourceZoom*o),f=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(i))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*o*f+2*n*u+2*o-2*u*f/(i*i)-f/(t*t))/(e.desiredPixelFlow*Math.LN2)}function hRe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function dRe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function pRe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function fRe(e,t,r){return-e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function yRe(e,t,r){return e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function mRe(e,t,r){return-2*e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function gRe(e,t,r){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function vRe(e,t,r){const i=Math.log(t/e.compared.targetZoom),n=1/e.desiredPixelFlow,o=1/Math.LN2,u=-t+e.compared.targetZoom,f=1/u,m=(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*i*n*o*f+e.halfWindowSize*i*n*o*m/(u*u)+e.halfWindowSize*n*o*f*m/t}function bRe(e,t,r){const i=t-e.compared.targetZoom,n=1/i,o=1/t,u=Math.log(t/e.compared.targetZoom),f=(e.halfWindowPanAtZoom(t)+r.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*o*f-2*n*u+2*o+2*u*f/(i*i)-f/(t*t))/(e.desiredPixelFlow*Math.LN2)}function wRe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function xRe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function _Re(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function SRe(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const r=Math.LN2*e.compared.pan,i=t,n=e.halfWindowPanAtZoom(i),o=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*n);return e.compared.sourceZoom<=e.compared.targetZoom?o*(r-n):o*(r+n)}function $Re(e,t){let r=MRe(e,t);const i={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},n=i.ascensionFactor===0,o=i.descensionFactor===0,u=n?hRe:lRe,f=n?dRe:uRe,m=n?pRe:cRe,v=o?wRe:gRe,_=o?xRe:vRe,$=o?_Re:bRe,T=G=>u(e,G,i)+fRe(e,G,i)+v(e,G,i),I=G=>f(e,G,i)+yRe(e,G,i)+_(e,G,i),O=G=>m(e,G,i)+mRe(e,G,i)+$(e,G,i);let A=T(r);const N=SRe(e);let F;const z=t.maximumIterations||20,B=t.maximumDistance!=null?t.maximumDistance:1/0;for(F=0;F<z;F++){const G=t.desiredSlope??1e-6;let H=I(r);Math.abs(H)>G&&(H+=G);const J=H/O(r);if(isNaN(J)||r>=B&&J<0){if(!isFinite(B))return null;r=B,A=T(r);break}if(r-=J,r<e.compared.sourceZoom||r<e.compared.targetZoom)return null;const Z=T(r);if(Math.abs(Z-A)/A<=.005)break;A=Z}return A>N*(1-.3)||r<e.compared.sourceZoom||r<e.compared.targetZoom?null:r}function MRe(e,t){const r=Math.max(e.compared.sourceZoom,e.compared.targetZoom),i=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return i<r?t.maximumDistance!=null?r+(t.maximumDistance-r)/2:1.5*r:t.maximumDistance?Math.min(t.maximumDistance,i):i}let TRe=class extends oRe{constructor(t,r){super(),this._preallocSegments=[new ak,new ak,new ak],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const i=r!=null&&r.apex?$Re(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,r==null?void 0:r.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i),t===this._ascensionSegment?i.zoom=Xje(i.zoom):t===this._descensionSegment&&(i.zoom=_ue(i.zoom))}_updateWithApex(t,r){const[i,n,o]=this._preallocSegments,u=(r==null?void 0:r.ascensionFactor)??.5,f=Math.min(1-u,(r==null?void 0:r.ascensionFactor)!=null&&r.descensionFactor!=null?r.descensionFactor:.5),m=1-u-f;i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*u,i.definition.compared.rotate=this.definition.compared.rotate*u,i.definition.segmentEnd=u,i.update(),this._ascensionSegment=i,this.segments.push(i),m>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=t,n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*m,n.definition.compared.rotate=this.definition.compared.rotate*m,n.definition.segmentStart=i.definition.segmentEnd,n.definition.segmentEnd=i.definition.segmentEnd+m,n.update(),this.segments.push(n)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=t,o.definition.compared.pan=this.definition.compared.pan*f,o.definition.compared.rotate=this.definition.compared.rotate*f,o.definition.segmentStart=u+m,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const kRe=new sRe;let CRe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=vH,this.definition=new nRe(t),this.path=new TRe}update(t,r,i){this.definition.update(t,r,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings(f5e(isFinite(this.path.time)?this.path.time:0),i),this._easing=i.easing??(this._time>=1e3?vH:eRe)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const i=this.path.interpolateComponentsAt(t,kRe);r.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(t){const r=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(i-r)}_applyTimeSettings(t,r){const i=r.speedFactor!=null?r.speedFactor:1,n=r.minDuration??h3.minDuration/i,o=r.maxDuration??h3.maxDuration/i;return t=r.duration!=null?r.duration:Math.min(Math.max(t/i,n),o)}};const bH=2e3,ERe=64;let IRe=class{constructor(t){this._view=t,this._animation=new CRe(()=>new gH(this._view)),this._current=new gH(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,i={}){Rs(this._current.viewpoint,t),Rs(this._source.viewpoint,t),Rs(this._target.viewpoint,r),this._animation.update(this._source,this._target,i)}applyRatio(t,r){this._animation.cameraAt(r,this._current),Rs(t,this._current.viewpoint)}},jy=class extends St{constructor(t){super(t),this._animation=null,this._destinationViewState=new IF,this.updateFunction=null,this.easing=Bu.ease,this.viewpoint=new al({targetGeometry:new jt,scale:0,rotation:0}),this._updateTask=yg({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new IRe(t.view)}destroy(){this._updateTask=zi(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,i){this.stop();const n=this.viewpoint;Rs(n,r);const o=(typeof(i==null?void 0:i.easing)=="string"?Zje(i.easing):i==null?void 0:i.easing)||this.easing,u=t.target;this._transition.update(this.viewpoint,u,{apex:{maximumDistance:Math.min(Math.min(r.scale,u.scale)*ERe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:i==null?void 0:i.duration,maxDuration:(i==null?void 0:i.animationMode)==="auto"?1/0:(i==null?void 0:i.maxDuration)??Sue.maxDuration,speedFactor:i==null?void 0:i.speedFactor,easing:typeof o=="function"?m=>o(m):void 0}),(i==null?void 0:i.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=u,PRe(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,u,{duration:0}));const f=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(f,f),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const i=new $O({target:t.clone()}),n=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var i,n;const r=this.animation;if(r&&r.state!==$O.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(i=this.animation)==null||i.update(this.viewpoint);else{const o=performance.now()-this._startTime,u=this._transition.duration,f=u>0?o/u:1,m=f>=1;this._transition.applyRatio(this.viewpoint,f),m&&((n=this.animation)==null||n.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function PRe(e,t,r,i){if((t==null?void 0:t.duration)!=null)return!0;const{time:n,isLinear:o}=e,u=(t==null?void 0:t.speedFactor)||1,f=(t==null?void 0:t.maxDuration)??Sue.maxDuration/u;if(ke("esri-goto-debug")&&(console.log("speed factor:",u),console.log("adjusted duration:		",n),console.log("adjusted max duration:	",f),console.log("is linear:",o)),n>f)return ke("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${f/1e3}s`),!1;if(o){const v=Ki(),_=hs(...i.toScreen(v,...r.center)),$=hs(...r.toScreen(v,...i.center)),T=$!=null&&$.x>-(1.5-.5)*r.size[0]&&$.x<(1.5+.5)*r.size[0]&&$.y>-(1.5-.5)*r.size[1]&&$.y<(1.5+.5)*r.size[1],I=_!=null&&_.x>-(1.5-.5)*i.size[0]&&_.x<(1.5+.5)*i.size[0]&&_.y>-(1.5-.5)*i.size[1]&&_.y<(1.5+.5)*i.size[1];if(ke("esri-goto-debug")&&(console.log(`dest is within ${1.5} screens at start view:`,T),console.log(`start is within ${1.5} screens at dest view:`,I)),n>bH/u&&!T&&!I)return ke("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...
  - shorter than ${bH/1e3/u}s, or
  - shorter than ${f/1e3}s and the destination is close enough to the starting screen, or
  - shorter than ${f/1e3}s and the start point is close enough to the destination screen`),!1}return!0}b([M()],jy.prototype,"easing",void 0),b([M()],jy.prototype,"view",void 0),b([M()],jy.prototype,"viewpoint",void 0),jy=b([se("esri.views.2d.AnimationManager")],jy);const ORe=jy;let ARe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation&&!("then"in this.view.animation.target)&&(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=()=>{var u,f;if(this._updateRequested=!1,(u=this.view)==null?void 0:u.destroyed)return;const{allLayerViews:r,graphicsView:i,labelManager:n,state:{id:o}}=this.view;r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),i!=null&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((f=this._frameTaskHandle)==null||f.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new IF,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=lt(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=yg(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var n;if(!t.attached)return void this.requestUpdate();const r=this.view.state,i=t.lastUpdateId;i!=null&&(this.stationary||t.moving)||(t.moving=!0),i!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((n=t.layerViews)==null||n.forEach(this._updateLayerView,this))}},JS=class extends St{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void Ne.getLogger(this).error("#goTo()","target cannot be null or undefined");const i=new $O;this.view.animation=i,await _g(()=>this.view.ready,r);const n={...r,animate:(r==null?void 0:r.animate)??!Tle(),animationMode:(r==null?void 0:r.animationMode)??"auto"},{extent:o,spatialReference:u,size:f,viewpoint:m,constraints:v,padding:_,allLayerViews:$}=this.view,T=JAe(t,{extent:o,spatialReference:u,size:f,viewpoint:m,constraints:v,padding:_,allLayerViews:$,pickClosestTarget:(r==null?void 0:r.pickClosestTarget)??!0});return i==null||i.update(T),this._gotoTask={},n.animate?this._gotoAnimated(T,n):this._gotoImmediate(T,n)}_gotoImmediate(t,r){const i=this._gotoTask,n=this.view.animation,o=t.then(u=>{if(Zr(r),i!==this._gotoTask)throw new be("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=u,n.finish()});return this._cancellableGoTo(i,n,o,r)}_gotoAnimated(t,r){const i=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const o=t.then(u=>{if(Zr(r),i!==this._gotoTask)throw new be("view:goto-interrupted","Goto was interrupted");return n.update(u),this.view.animationManager.animate(n,this.view.viewpoint,r),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,n,o,r)}_cancellableGoTo(t,r,i,n){const o=()=>t===this._gotoTask;return _re(i,n).finally(()=>{o()&&(r.done||r.stop())})}};b([M({constructOnly:!0})],JS.prototype,"view",void 0),JS=b([se("esri.views.2d.GoToManager")],JS);function vi(){return Promise.all([Ce(()=>import("./webglDeps-wXQpGyaN.js"),__vite__mapDeps([133,64,63,33,134,135]),import.meta.url),Ce(()=>import("./mapViewDeps-Z1UN4pUy.js"),__vite__mapDeps([136,71,69,70,11,72,62,59,73,65,137,103,76,33,66,67,28,63,64,61,34,68,77,78,79,138,139,140,135,87,112,111,13,10,14,110,133,134,141,82,142,60,20,17,7,143,144,145,105,146,147,148,149,49,150,80,151,75,152,153,154,155,156,157,158]),import.meta.url)])}const nb=()=>vi().then(()=>Ce(()=>import("./TileLayerView2D-ShkYiipe.js"),__vite__mapDeps([159,72,69,70,71,11,62,59,73,65,103,139,138,68,33,63,140,61,64,34,135,87,112,111,78,13,10,14,110,141,82,142,60,66,67,28,20,17,7,49,151,79,76,77,144,145,105,152,153,160,161,157,162,163,155,156,164,165,166,167,168]),import.meta.url)),ty=()=>vi().then(()=>Ce(()=>import("./FeatureLayerView2D-Co4Te1vF.js").then(e=>e.F),__vite__mapDeps([169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),wH={"base-dynamic":()=>vi().then(()=>Ce(()=>import("./BaseDynamicLayerView2D-Cd30-hPT.js"),__vite__mapDeps([173,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,175,161,164]),import.meta.url)),"base-tile":nb,"bing-maps":nb,catalog:()=>vi().then(()=>Ce(()=>import("./CatalogLayerView2D-BSQ82f8m.js"),__vite__mapDeps([176,162,138,139,68,59,33,63]),import.meta.url)),"catalog-dynamic-group":()=>vi().then(()=>Ce(()=>import("./CatalogDynamicGroupLayerView2D-DS1moRMK.js"),__vite__mapDeps([177,162,138,139,68,59,33,63]),import.meta.url)),"catalog-footprint":()=>vi().then(()=>Ce(()=>import("./CatalogFootprintLayerView2D-D54qLPCh.js"),__vite__mapDeps([178,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),csv:ty,"geo-rss":()=>vi().then(()=>Ce(()=>import("./GeoRSSLayerView2D-CQrAho8j.js"),__vite__mapDeps([179,162,138,139,68,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),feature:ty,geojson:ty,graphics:()=>vi().then(()=>Ce(()=>import("./GraphicsLayerView2D-xrobpTjD.js"),__vite__mapDeps([180,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153,172]),import.meta.url)),group:()=>vi().then(()=>Ce(()=>import("./GroupLayerView2D-BQg0NQDa.js"),__vite__mapDeps([181,162,138,139,68,59,33,63]),import.meta.url)),imagery:()=>vi().then(()=>Ce(()=>import("./ImageryLayerView2D-1hf9hu0W.js"),__vite__mapDeps([182,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,152,69,70,71,72,73,60,66,67,28,20,17,7,151,79,153,163,155,156,157,174,161,175,97,170,168,164]),import.meta.url)),"imagery-tile":()=>vi().then(()=>Ce(()=>import("./ImageryTileLayerView2D-BRDkrsVy.js"),__vite__mapDeps([184,185,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,186,157,187,97,170,168,164]),import.meta.url)),kml:()=>vi().then(()=>Ce(()=>import("./KMLLayerView2D-n90aOjDe.js"),__vite__mapDeps([188,189,161,138,139,68,59,33,63,174,140,61,62,64,34,65,135,87,112,111,78,13,10,11,14,162,154,155,156,66,67,28,157,151,69,70,71,72,73,79,152,60,20,17,7,153,97,143,133,134,144,145,105,142,103,146,186]),import.meta.url)),"knowledge-graph":()=>vi().then(()=>Ce(()=>import("./KnowledgeGraphLayerView2D-DxXCmxx5.js"),__vite__mapDeps([190,162,138,139,68,59,33,63]),import.meta.url)),"link-chart":()=>vi().then(()=>Ce(()=>import("./KnowledgeGraphLayerView2D-DxXCmxx5.js"),__vite__mapDeps([190,162,138,139,68,59,33,63]),import.meta.url)),"knowledge-graph-sublayer":ty,"map-image":()=>vi().then(()=>Ce(()=>import("./MapImageLayerView2D-C4W_0FNb.js"),__vite__mapDeps([191,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,152,69,70,71,72,73,60,66,67,28,20,17,7,151,79,153,163,155,156,157,175,161,192,166,167,170,164,165,168]),import.meta.url)),"map-notes":()=>vi().then(()=>Ce(()=>import("./MapNotesLayerView2D-DBy6_7RD.js"),__vite__mapDeps([193,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),media:()=>vi().then(()=>Ce(()=>import("./MediaLayerView2D-DYsXbP_Z.js"),__vite__mapDeps([194,195,153,38,72,69,70,71,11,62,59,73,65,103,139,138,68,33,63,140,61,64,34,135,87,112,111,78,13,10,14,110,141,82,142,60,66,67,28,20,17,7,49,151,79,76,77,144,145,105,152,150,80,196,162]),import.meta.url)),"ogc-feature":()=>vi().then(()=>Ce(()=>import("./OGCFeatureLayerView2D-BV_kgL0C.js"),__vite__mapDeps([197,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),"open-street-map":nb,"oriented-imagery":ty,route:()=>vi().then(()=>Ce(()=>import("./RouteLayerView2D-m1LaZECy.js"),__vite__mapDeps([198,199,68,162,138,139,59,33,63,154,155,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,13,10,11,14,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),stream:()=>vi().then(()=>Ce(()=>import("./StreamLayerView2D-BKYkBiES.js"),__vite__mapDeps([200,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),"subtype-group":()=>vi().then(()=>Ce(()=>import("./SubtypeGroupLayerView2D-BajnkfMo.js"),__vite__mapDeps([201,169,139,13,10,11,14,170,68,162,138,59,33,63,156,66,67,28,64,61,62,34,65,157,140,135,87,112,111,78,82,74,171,69,70,71,72,73,137,103,151,79,172,166,168,164]),import.meta.url)),tile:nb,"vector-tile":()=>vi().then(()=>Ce(()=>import("./VectorTileLayerView2D-8gdedYA0.js"),__vite__mapDeps([202,110,73,33,63,49,149,103,79,72,64,135,111,140,59,61,62,34,65,87,138,139,68,112,78,13,10,11,14,157,16,113,114,162]),import.meta.url)),video:()=>vi().then(()=>Ce(()=>import("./VideoLayerView2D-Bmc7SDLS.js"),__vite__mapDeps([203,204,196,87,140,59,61,62,63,33,64,34,65,135,138,139,68,112,111,78,13,10,11,14,162,154,155,156,66,67,28,157,151,69,70,71,72,73,79,152,60,20,17,7,153]),import.meta.url)),wcs:()=>vi().then(()=>Ce(()=>import("./ImageryTileLayerView2D-BRDkrsVy.js"),__vite__mapDeps([184,185,183,64,63,33,135,34,93,94,140,59,61,62,65,87,138,139,68,112,111,78,13,10,11,14,162,186,157,187,97,170,168,164]),import.meta.url)),"web-tile":nb,wfs:ty,wms:()=>vi().then(()=>Ce(()=>import("./WMSLayerView2D-Dw3CaBga.js"),__vite__mapDeps([205,174,140,59,61,62,63,33,64,34,65,135,87,138,139,68,112,111,78,13,10,11,14,162,175,161,164,170]),import.meta.url)),wmts:()=>vi().then(()=>Ce(()=>import("./WMTSLayerView2D-Cn9zhLl_.js"),__vite__mapDeps([206,160,161,138,139,68,59,33,63,140,61,62,64,34,65,135,87,112,111,78,13,10,11,14,157,162,164]),import.meta.url)),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function jRe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new be(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const xH={hasLayerViewModule:e=>wH[e.type]!=null,importLayerView:e=>{const t=wH[e.type];if(t==null)throw jRe(e);return t(e)}};function RRe(e,t){const{spatialReference:r}=t,i=[t.x,t.y];let n=Number.POSITIVE_INFINITY,o=0,u=0;const f=[0,0],m=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const v of m)for(let _=0;_<v.length-1;_++){M6e(f,i,v,_);const $=t8(i,f);$<n&&(n=$,o=f[0],u=f[1])}return{coordinate:new jt({x:o,y:u,spatialReference:r}),distance:n}}var PO;let p0=PO=class extends tF(St){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Jp(this.geometry,this.spatialReference)}catch(e){return Ne.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?ax(this.normalizedGeometry,r):yN(this.normalizedGeometry,r))return e;const{coordinate:i}=RRe(this.normalizedGeometry,r);return i&&(e.targetGeometry=i),e}clone(){var e,t;return new PO({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};b([M({constructOnly:!0})],p0.prototype,"geometry",void 0),b([M({readOnly:!0})],p0.prototype,"normalizedGeometry",null),b([M({constructOnly:!0})],p0.prototype,"spatialReference",void 0),p0=PO=b([se("esri.views.2d.constraints.GeometryConstraint")],p0);var OO;let d2=OO=class extends tF(St){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new OO({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};b([M()],d2.prototype,"enabled",void 0),b([M()],d2.prototype,"rotationEnabled",void 0),d2=OO=b([se("esri.views.2d.constraints.RotationConstraint")],d2);const Mue=d2;var AO;let bo=AO=class extends tF(St){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:i,minZoom:n,maxZoom:o}=this,u=-1,f=-1,m=!1,v=!1;if(r!==0&&i!==0&&r<i&&([r,i]=[i,r]),!(t!=null&&t.length))return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",i);t=t.map(_=>_.clone()),t.sort((_,$)=>$.scale-_.scale),t.forEach((_,$)=>_.level=$);for(const _ of t)!m&&r>0&&r>=_.scale&&(u=_.level,m=!0),!v&&i>0&&i>=_.scale&&(f=e?e.level:-1,v=!0),e=_;n===-1&&(n=r===0?0:u),o===-1&&(o=i===0?t.length-1:f),n=Math.max(n,0),n=Math.min(n,t.length-1),o=Math.max(o,0),o=Math.min(o,t.length-1),n>o&&([n,o]=[o,n]),r=t[n].scale,i=t[o].scale,t.splice(0,n),t.splice(o-n+1,t.length),t.forEach((_,$)=>{this._lodByScale[_.scale]=_,this._scales[$]=_.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",o),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",i)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,i=this.effectiveMaxScale,n=e.targetGeometry,o=t&&t.targetGeometry,u=i!==0&&e.scale<i,f=r!==0&&e.scale>r;if(u||f){const m=f?r:i;if(t&&o){const v=(m-t.scale)/(e.scale-t.scale);n.x=o.x+(n.x-o.x)*v,n.y=o.y+(n.y-o.y)*v}e.scale=m}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.floor(e),i=Math.ceil(e);return t[r]+(e-r)*(t[i]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,i;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(r=t[n],i=t[n+1],i===e)return n+this.effectiveMinZoom+1;if(r>e&&i<e)return n+this.effectiveMinZoom+1-(e-i)/(r-i)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new AO({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};b([M({readOnly:!0})],bo.prototype,"effectiveLODs",void 0),b([M({readOnly:!0})],bo.prototype,"effectiveMinZoom",void 0),b([M({readOnly:!0})],bo.prototype,"effectiveMaxZoom",void 0),b([M({readOnly:!0})],bo.prototype,"effectiveMinScale",void 0),b([M({readOnly:!0})],bo.prototype,"effectiveMaxScale",void 0),b([M()],bo.prototype,"lods",void 0),b([M()],bo.prototype,"minZoom",void 0),b([M()],bo.prototype,"maxZoom",void 0),b([M()],bo.prototype,"minScale",void 0),b([M()],bo.prototype,"maxScale",void 0),b([M()],bo.prototype,"snapToZoom",void 0),bo=AO=b([se("esri.views.2d.constraints.ZoomConstraint")],bo);const Tue=bo,LRe={base:null,key:"type",typeMap:{extent:mr,polygon:pa}};let Xi=class extends St{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ut}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,i;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(i=this._geometry)==null?void 0:i.uid}`}get _geometry(){var r,i;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((r=this.view)==null?void 0:r.constraintsInfo.spatialReference)===t.spatialReference?t:new p0({geometry:this.geometry,spatialReference:(i=this.view)==null?void 0:i.constraintsInfo.spatialReference})}get _rotation(){return new Mue({rotationEnabled:this.rotationEnabled})}get _zoom(){var m;const t=this._get("_zoom"),r=this.lods||((m=this.view)==null?void 0:m.constraintsInfo.lods),i=this.minZoom,n=this.maxZoom,o=this.minScale,u=this.maxScale,f=this.snapToZoom;return t&&t.lods===r&&t.minZoom===i&&t.maxZoom===n&&t.minScale===o&&t.maxScale===u&&t.snapToZoom===f?t:new Tue({lods:r,minZoom:i,maxZoom:n,minScale:o,maxScale:u,snapToZoom:f})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(i=>i.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>{var i;return(i=r.applyPanConstraint)==null?void 0:i.call(r,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};b([M({readOnly:!0})],Xi.prototype,"effectiveLODs",null),b([M({readOnly:!0})],Xi.prototype,"effectiveMinScale",null),b([M({readOnly:!0})],Xi.prototype,"effectiveMaxScale",null),b([M({readOnly:!0})],Xi.prototype,"effectiveMinZoom",null),b([M({readOnly:!0})],Xi.prototype,"effectiveMaxZoom",null),b([M({types:LRe,value:null})],Xi.prototype,"geometry",null),b([M({type:[Ha]})],Xi.prototype,"lods",void 0),b([M()],Xi.prototype,"minScale",void 0),b([M()],Xi.prototype,"maxScale",void 0),b([M()],Xi.prototype,"minZoom",void 0),b([M()],Xi.prototype,"maxZoom",void 0),b([M()],Xi.prototype,"rotationEnabled",void 0),b([M()],Xi.prototype,"snapToZoom",void 0),b([M({type:ut})],Xi.prototype,"customConstraints",void 0),b([M()],Xi.prototype,"view",void 0),b([M({readOnly:!0})],Xi.prototype,"version",null),b([M({type:p0,readOnly:!0})],Xi.prototype,"_geometry",null),b([M({type:Mue})],Xi.prototype,"_rotation",null),b([M({readOnly:!0,type:Tue})],Xi.prototype,"_zoom",null),Xi=b([se("esri.views.2d.MapViewConstraints")],Xi);const kue=Xi;let Fp=class Hf{static getId(t,r,i,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${i}/${n}`}constructor(t,r,i,n){this.set(t,r,i,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,i=63&this.level;return(3&this.world)<<30|r<<22|t<<8|i}acquire(t,r,i,n){this.set(t,r,i,n)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){const r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Hf(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,i,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[o,u,f,m]=t.split("/");this.level=parseFloat(o),this.row=parseFloat(u),this.col=parseFloat(f),this.world=parseFloat(m)}else this.level=+t,this.row=+r,this.col=+i,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Hf(this.level-1,this.row>>1,this.col>>1,this.world)}getNeighborId(t,r){return`${this.level}/${this.row+r}/${this.col+t}/${this.world}`}getChildKeys(){const t=this.level+1,r=this.row<<1,i=this.col<<1,n=this.world;return[new Hf(t,r,i,n),new Hf(t,r,i+1,n),new Hf(t,r+1,i,n),new Hf(t,r+1,i+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Fp.pool=new C1(Fp,null,null,25,50);function td(e,t){return[e,t]}function lf(e,t,r){return e[0]=t,e[1]=r,e}function NRe(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}const El=new Fp("0/0/0/0");let FRe=class Cue{static create(t,r,i=null){const n=jo(t.spatialReference),o=r.origin||td(t.origin.x,t.origin.y),u=td(t.size[0]*r.resolution,t.size[1]*r.resolution),f=td(-1/0,-1/0),m=td(1/0,1/0),v=td(1/0,1/0);i!=null&&(lf(f,Math.max(0,Math.floor((i.xmin-o[0])/u[0])),Math.max(0,Math.floor((o[1]-i.ymax)/u[1]))),lf(m,Math.max(0,Math.floor((i.xmax-o[0])/u[0])),Math.max(0,Math.floor((o[1]-i.ymin)/u[1]))),lf(v,m[0]-f[0]+1,m[1]-f[1]+1));const{cols:_,rows:$}=r;let T,I,O,A;return!i&&_&&$&&(lf(f,_[0],$[0]),lf(m,_[1],$[1]),lf(v,_[1]-_[0]+1,$[1]-$[0]+1)),t.isWrappable?(T=td(Math.ceil(Math.round((n.valid[1]-n.valid[0])/r.resolution)/t.size[0]),v[1]),I=td(Math.floor((n.origin[0]-o[0])/u[0]),f[1]),O=td(T[0]+I[0]-1,m[1]),A=!0):(I=f,O=m,T=v,A=!1),new Cue(r.level,r.resolution,r.scale,o,f,m,v,u,I,O,T,A)}constructor(t,r,i,n,o,u,f,m,v,_,$,T){this.level=t,this.resolution=r,this.scale=i,this.origin=n,this.first=o,this.last=u,this.size=f,this.norm=m,this.worldStart=v,this.worldEnd=_,this.worldSize=$,this.wrap=T}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,i=!1){El.set(r);const n=i?El.col:this.denormalizeCol(El.col,El.world),o=El.row;return NRe(t,this.getXForColumn(n),this.getYForRow(o+1),this.getXForColumn(n+1),this.getYForRow(o)),t}getTileCoords(t,r,i=!1){El.set(r);const n=i?El.col:this.denormalizeCol(El.col,El.world);return Array.isArray(t)?lf(t,this.getXForColumn(n),this.getYForRow(El.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(El.row)),t}},d3=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:r,colFrom:i,colTo:n}of this.spans)for(let o=i;o<=n;o++){const u=t.getWorldForColumn(o);yield new Fp(t.level,r,t.normalizeCol(o),u)}}forEach(t,r){const{spans:i,lodInfo:n}=this,{level:o}=n;if(i.length!==0)for(const{row:u,colFrom:f,colTo:m}of i)for(let v=f;v<=m;v++)t.call(r,o,u,n.normalizeCol(v),n.getWorldForColumn(v))}};d3.pool=new C1(d3);let lk=class{constructor(t,r,i){this.row=t,this.colFrom=r,this.colTo=i}};const _i=new Fp("0/0/0/0");let DRe=class Eue{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[i,n]=t,[o,u]=r,f=o-i,m=u-n,v=m!==0?f/m:0,_=(Math.ceil(n)-n)*v,$=(Math.floor(n)-n)*v;return new Eue(i,Math.floor(n),Math.ceil(u),v,f<0?_:$,f<0?$:_,f<0?o:i,f<0?i:o)}constructor(t,r,i,n,o,u,f,m){this.x=t,this.ymin=r,this.ymax=i,this.invM=n,this.leftAdjust=o,this.rightAdjust=u,this.leftBound=f,this.rightBound=m}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const zo=[[0,0],[0,0],[0,0],[0,0]],zRe=1e-6;let BRe=class{constructor(t,r=null,i=t.lods[0].level,n=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const o=t.lods.filter(f=>f.level>=i&&f.level<=n);this.minScale=o[0].scale,this.maxScale=o[o.length-1].scale;const u=this._lodInfos=o.map(f=>FRe.create(t,f,r));o.forEach((f,m)=>{this._infoByLevel[f.level]=u[m],this._infoByScale[f.scale]=u[m],this.scales[m]=f.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,i=!1){_i.set(r);const n=this._infoByLevel[_i.level];return n?n.getTileBounds(t,_i,i):t}getTileCoords(t,r,i=!1){_i.set(r);const n=this._infoByLevel[_i.level];return n?n.getTileCoords(t,_i,i):t}getTileCoverage(t,r=192,i=!0,n="closest"){if(!i&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const o=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),u=d3.pool.acquire(o),f=this._wrap;let m,v,_,$=1/0,T=-1/0;const I=u.spans;zo[0][0]=zo[0][1]=zo[1][1]=zo[3][0]=-r,zo[1][0]=zo[2][0]=t.size[0]+r,zo[2][1]=zo[3][1]=t.size[1]+r;for(const F of zo)t.toMap(F,F),F[0]=o.getColumnForX(F[0]),F[1]=o.getRowForY(F[1]);const O=[];let A=3;for(let F=0;F<4;F++){if(zo[F][1]===zo[A][1]){A=F;continue}const z=DRe.create(zo[F],zo[A]);$=Math.min(z.ymin,$),T=Math.max(z.ymax,T),O[z.ymin]===void 0&&(O[z.ymin]=[]),O[z.ymin].push(z),A=F}if($==null||T==null||T-$>100)return null;let N=[];for(m=$;m<T;){O[m]!=null&&(N=N.concat(O[m])),v=1/0,_=-1/0;for(let F=N.length-1;F>=0;F--){const z=N[F];v=Math.min(v,z.getLeftCol()),_=Math.max(_,z.getRightCol())}if(v=Math.floor(v),_=Math.floor(_),m>=o.first[1]&&m<=o.last[1])if(f)if(o.size[0]<o.worldSize[0]){const F=Math.floor(_/o.worldSize[0]);for(let z=Math.floor(v/o.worldSize[0]);z<=F;z++)I.push(new lk(m,Math.max(o.getFirstColumnForWorld(z),v),Math.min(o.getLastColumnForWorld(z),_)))}else I.push(new lk(m,v,_));else v>o.last[0]||_<o.first[0]||(v=Math.max(v,o.first[0]),_=Math.min(_,o.last[0]),I.push(new lk(m,v,_)));m+=1;for(let F=N.length-1;F>=0;F--){const z=N[F];z.ymax>=m?z.incrRow():N.splice(F,1)}}return u}getTileParentId(t){_i.set(t);const r=this._infoByLevel[_i.level],i=this._lodInfos.indexOf(r)-1;return i<0?null:(this._getTileIdAtLOD(_i,this._lodInfos[i],_i),_i.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){_i.set(r);const i=this._infoByLevel[_i.level],n=t.lodInfo;if(n.resolution>i.resolution){this._getTileIdAtLOD(_i,n,_i);const u=n.denormalizeCol(_i.col,_i.world);for(const f of t.spans)if(f.row===_i.row&&f.colFrom<=u&&f.colTo>=u)return!0}if(n.resolution<i.resolution){const[u,f,m,v]=t.spans.reduce((A,N)=>(A[0]=Math.min(A[0],N.row),A[1]=Math.max(A[1],N.row),A[2]=Math.min(A[2],N.colFrom),A[3]=Math.max(A[3],N.colTo),A),[1/0,-1/0,1/0,-1/0]),_=i.denormalizeCol(_i.col,_i.world),$=n.getColumnForX(i.getXForColumn(_)),T=n.getRowForY(i.getYForRow(_i.row)),I=n.getColumnForX(i.getXForColumn(_+1))-1,O=n.getRowForY(i.getYForRow(_i.row+1))-1;return!($>v||I<m||T>f||O<u)}const o=n.denormalizeCol(_i.col,_i.world);return t.spans.some(u=>u.row===_i.row&&u.colFrom<=o&&u.colTo>=o)}normalizeBounds(t,r,i){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const n=jo(this.tileInfo.spatialReference),o=-i*(n.valid[1]-n.valid[0]);t[0]+=o,t[2]+=o}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let i=1;i<r.length-1;i++)if(t>r[i]+zRe)return this._infoByScale[r[i-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((i,n)=>Math.abs(n-t)<Math.abs(i-t)?n:i,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=r.length-1;i>=0;i--)if(t<r[i])return i===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[i]].level+(r[i]-t)/(r[i]-r[i+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,i){const n=this._infoByLevel[i.level];return t.set(i),r.resolution<n.resolution?null:(r.resolution===n.resolution||(t.level=r.level,t.col=Math.floor(i.col*n.resolution/r.resolution+.01),t.row=Math.floor(i.row*n.resolution/r.resolution+.01)),t)}},VRe=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},URe=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new dw,this._controllers=new dw,this._processingItems=new dw,this._pausedSignal=koe(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new B4(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=zi(this._schedule),this._task=zi(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,i)=>t(i))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const i=this.get(t);if(i)return i;const n=new AbortController;let o=null;r&&(o=nl(r,()=>n.abort()));const u=()=>{const _=this._processingItems.get(t);_&&_.controller.abort(),f(),v.reject(pn())},f=()=>{m.remove(),o!=null&&o.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},m=BL(n.signal,u),v=da();return this._deferreds.set(t,v),this._controllers.set(t,n),v.promise.then(f,f),this._queue.push(t),this._scheduleNext(),v.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var r;const t=this._queue.popLast();return t&&((r=this._deferreds.get(t))==null||r.reject(pn("Removed from queue")),this._removeItem(t)),t}reset(){const t=[];this._processingItems.forEach(r=>t.push(r)),this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Yg(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const i=new AbortController,n=new VRe(t,i);this._processingItems.set(t,n);try{r=this.process(t,i.signal)}catch(o){this._processError(n,o)}Wp(r)?(n.promise=r,r.then(o=>this._processResult(n,o),o=>this._processError(n,o))):this._processResult(n,r)}get test(){}};function GRe(e,t){return e.length=0,t.forEach(r=>e.push(r)),e}const uk=new Set,Q_=[],ry=new Map,_H=[0,0];let Md=class extends St{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:r,strategy:i}=this;this._queue=new URe({concurrency:t,process:(n,o)=>{const u=this._keyToItem.get(n);return r(u,{signal:o})},peeker:i==="scale-first"?n=>this._peekByScaleFirst(n):n=>this._peekByCenterFirst(n)})}destroy(){this.clear(),this._queue=ai(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const r=typeof t=="string"?t:t.id;return this.has(r)&&this._queue.isOngoing(r)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const i=this._queue.push(r),n=()=>{this._keyToItem.delete(r)};return this._keyToItem.set(r,t),i.then(n,n),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;t.forEach(_=>{const $=this._keyToItem.get(_),T=this.tileInfoView.getTileScale($.key);ry.has(T)||(ry.set(T,[]),i=Math.max(T,i),n=Math.min(T,n)),ry.get(T).push($.key),uk.add(T)});let o=this.state.scale;ry.has(o)||(GRe(Q_,uk),Q_.sort((_,$)=>_-$),o=Q_.reduce((_,$)=>Math.abs($-o)<Math.abs(_-o)?$:_,Q_[0])),o=Math.min(o,i),o=Math.max(o,n);const u=ry.get(o),f=r.getClosestInfoForScale(o),m=f.getColumnForX(this.state.center[0]),v=f.getRowForY(this.state.center[1]);return u.sort((_,$)=>{const T=f.denormalizeCol(_.col,_.world),I=f.denormalizeCol($.col,$.world);return Math.sqrt((m-T)*(m-T)+(v-_.row)*(v-_.row))-Math.sqrt((m-I)*(m-I)+(v-$.row)*(v-$.row))}),uk.clear(),ry.clear(),u[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const r=this.tileInfoView,i=this.state.center;let n,o=Number.POSITIVE_INFINITY;return t.forEach(u=>{const f=this._keyToItem.get(u);r.getTileCoords(_H,f.key);const m=t8(_H,i);m<o&&(o=m,n=f.key)}),n.id}};b([M({constructOnly:!0})],Md.prototype,"concurrency",void 0),b([M({constructOnly:!0})],Md.prototype,"process",void 0),b([M()],Md.prototype,"state",void 0),b([M({constructOnly:!0})],Md.prototype,"strategy",void 0),b([M({constructOnly:!0})],Md.prototype,"tileInfoView",void 0),Md=b([se("esri.views.2d.tiling.TileQueue")],Md);const g9t=Md;let qRe=class{constructor(t,r,i){this.maxSize=t,this._tileInfoView=r,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const i=r.key.level,n=this._tileKeysPerLevel[i];SH(this._tilePerId,t);for(let o=0;o<n.length;o++)if(n[o].id===t){n.splice(o,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,i=r.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const n=r.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(r)}prune(t,r,i){let n=this._tilePerId.size;if(n<=this.maxSize)return;let o=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&o>=0;)o!==t&&(n=this._pruneAroundCenterTile(n,r,i,o)),o--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,r,i,t))}_pruneAroundCenterTile(t,r,i,n){const o=this._tileKeysPerLevel[n];if(!o||o.length===0)return t;const{size:u,origin:f}=this._tileInfoView.tileInfo,m=i*u[0],v=i*u[1],_=[0,0],$=[0,0];for(o.sort((T,I)=>(_[0]=f.x+m*(T.col+.5),_[1]=f.y-v*(T.row+.5),$[0]=f.x+m*(I.col+.5),$[1]=f.y-v*(I.row+.5),l6(_,r)-l6($,r)));o.length>0;){const T=o.pop();if(this._removeTile(T.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),SH(this._tilePerId,t)}};function SH(e,t){e.delete(t)}const uf=new Fp(0,0,0,0),Tc=new Map,cf=[],ck=[];let b9t=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new qRe(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){var F,z;const{resampling:r,tileIndex:i}=this,{scale:n,center:o,resolution:u}=t.state,{minScale:f,maxScale:m}=this.tileInfoView,v=!t.stationary&&n>this._previousScale;if(this._previousScale=n,!r&&(n>f||n<m))return this.tiles.length=0,void this.clear();const _=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!_)return this.tiles.length=0,void this.clear();const{spans:$,lodInfo:T}=_,{level:I}=T;this.tiles.length=0,i.forEach(B=>B.visible=!0);let O=0,A=0;if($.length>0)for(const{row:B,colFrom:G,colTo:H}of $)for(let J=G;J<=H;J++){O++;const Z=uf.set(I,B,T.normalizeCol(J),T.getWorldForColumn(J)).id;let re=i.get(Z);if(re)re.isReady?(Tc.set(Z,re),A++):v||this._addParentTile(Z,Tc);else{if((F=this._tileCache)!=null&&F.has(Z)){if(re=this._tileCache.pop(Z),this.tileIndex.set(Z,re),re.isReady){Tc.set(Z,re),A++;continue}}else re=this.acquireTile(uf),this.tileIndex.set(Z,re);v||this._addParentTile(Z,Tc)}}const N=A===O;for(const[B,G]of i){if(Tc.has(B))continue;uf.set(B);const H=this.tileInfoView.intersects(_,uf),J=this.cachePolicy==="purge"?uf.level!==I:uf.level>I;!H||!v&&N?!J&&H||cf.push(G):G.isReady?J&&this.cachePolicy==="purge"&&this._hasReadyAncestor(uf,I)?cf.push(G):ck.push(G):J&&cf.push(G)}for(const B of ck)B.isReady&&Tc.set(B.key.id,B);for(const B of cf)this._tileCache?this._tileCache.add(B):this.releaseTile(B),i.delete(B.key.id);for(const B of Tc.values())this.tiles.push(B);for(const B of i.values())Tc.has(B.key.id)||(B.visible=!1);(z=this._tileCache)==null||z.prune(I,o,u),d3.pool.release(_),ck.length=0,cf.length=0,Tc.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){var r;for(const i of this.tileIndex.values())this.tiles.includes(i)?t(i):cf.push(i);for(const i of cf)this.releaseTile(i),this.tileIndex.delete(i.key.id);(r=this._tileCache)==null||r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){var o;let i=t,n=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(n=this.tileIndex.get(i),n==null?void 0:n.isReady){r.has(n.key.id)||r.set(n.key.id,n);break}}else if((o=this._tileCache)!=null&&o.has(i)&&(n=this._tileCache.pop(i),this.tileIndex.set(i,n),n==null?void 0:n.isReady)){r.has(n.key.id)||r.set(n.key.id,n);break}}_hasReadyAncestor(t,r){const i=Wn();this.tileInfoView.getTileBounds(i,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=r&&n.key.level<t.level){const o=Wn();if(this.tileInfoView.getTileBounds(o,n.key,!0),B6e(o,i))return!0}return!1}},Ys=class extends St{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([lt(()=>{var r;return(r=this.constraints)==null?void 0:r.version},r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},cs)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new jt({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(n){return void Ne.getLogger(this).error(new be("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:n}))}const i=this.viewpoint;TO(i,i,r),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void Ne.getLogger(this).error(new be("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(n){return void Ne.getLogger(this).error(new be("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const i=this.viewpoint;ZAe(i,i,r,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;aje(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const i=this._get("extent");return void(i&&(this._set("extent",void 0),this._set("center",i.center)))}const r=this.viewpoint;yH(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var o;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,i;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?i=new be("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(i=new be("mapview:invalid-viewpoint","geometry not defined"))}catch(u){i=new be("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:u})}if(i)return void Ne.getLogger(this).error(i);this._scaleBeforeChangingSpatialReference=null;const n=new al({targetGeometry:new jt,scale:0,rotation:0});Rs(n,r),(o=this.constraints)==null||o.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var n,o;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const u=this._get("extent");return void(u&&(this._set("extent",void 0),this._set("center",u.center)))}const r=((n=this.constraints)==null?void 0:n.zoomToScale(t))??0;if(!r)return void this._set("zoom",-1);const i=this.viewpoint;yH(i,i,r),this.viewpoint=i,this._set("zoom",((o=this.constraints)==null?void 0:o.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:i}=this,n=this._get("center"),o=this._get("extent"),u=this._get("scale"),f=this._get("rotation"),m=this._get("viewpoint"),v=this._get("zoom"),_=v!=null&&i!=null&&i.zoomToScale(v)||void 0;let $,T,I;const O=m==null?void 0:m.rotation,A=m==null?void 0:m.targetGeometry;(A==null?void 0:A.type)==="extent"?$=A:(A==null?void 0:A.type)==="point"&&(T=A,I=m==null?void 0:m.scale);const N=o??$;return{center:n??T??(N==null?void 0:N.center),rotation:f??O,scale:(u??_??I??(N&&s8(N,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,i,n){var u;const o=t.targetGeometry;try{this._project(t,i)}catch(f){Ne.getLogger(this).warn(new pl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:i,error:f})),t.targetGeometry=n||new jt({x:0,y:0,spatialReference:i})}(u=this.constraints)==null||u.fit(t),this._set("state",new IF({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:i,rotation:n,scale:o}=this.state.paddedViewState,u=new jt({x:t,y:r,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",u),this._set("zoom",-1),this._set("rotation",n),this._set("scale",o),this._set("state",null)}changeSpatialReference(t){var m;const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const v=r.viewpoint.clone();v.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=v}const i=r.clone(),[n,o]=r.center;let u=null;try{u=this._project(new jt({x:n,y:o,spatialReference:r.spatialReference}),t)}catch(v){uN()||Ne.getLogger(this).warn(new pl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:u==null?void 0:u.toJSON(),spatialReference:t,error:v}))}u||(u=new jt({x:0,y:0,spatialReference:t}));const f=TO(new al({targetGeometry:new jt,scale:0,rotation:0}),r.viewpoint,u);i.viewpoint=f;try{const _=[r.size[0]/2,r.size[1]/2],$=[_[0]+20,_[1]],T=r.toMap([0,0],$),{x:I,y:O}=this._project(new jt({x:T[0],y:T[1],spatialReference:r.spatialReference}),t);T[0]=I,T[1]=O,i.toScreen(T,T);const A=nje(_,T,$),N=Math.hypot(T[0]-_[0],T[1]-_[1])/20;!Number.isFinite(N)||Math.abs(N)>4?(f.rotation=0,f.targetGeometry=new jt({x:0,y:0,spatialReference:t})):(f.scale*=N,f.scale>ke("mapview-srswitch-adjust-rotation-scale-threshold")?f.rotation=0:f.rotation+=Number.isFinite(A)?A:0)}catch{}(m=this._get("constraints"))==null||m.constrain(f,void 0),this._get("state").viewpoint=f}resize(t,r){var u;if(!this.ready)return;const i=this.state;let n=this.state.paddedViewState.viewpoint;const o=this.state.paddedViewState.size.concat();i.size=[t,r],oje(n,n,o,this.state.paddedViewState.size,this.resizeAlign),n=((u=this.constraints)==null?void 0:u.constrain(n,void 0))??n,this.state.viewpoint=n}toMap(t){if(!this.ready)return null;const r=[0,0],[i,n]=this.state.toMap(r,[t.x,t.y]),o=this.state.spatialReference;return new jt({x:i,y:n,spatialReference:o})}toScreen(t,r){if(!this.ready)return null;const i=this._project(t,this.state.spatialReference),n=[i.x,i.y];return(r==null?void 0:r.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),hs(n[0],n[1])}_project(t,r){var o;const i=(t==null?void 0:t.targetGeometry)||t;if(!r)return t;if(!i)return null;if(r.imageCoordinateSystem||(o=i.spatialReference)!=null&&o.imageCoordinateSystem||on(r,i.spatialReference))return t;const n=Jp(i,r);if(!n)throw new be("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:r});return HRe(t)?(t.targetGeometry=n,t):n}};function HRe(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}b([M({type:jt})],Ys.prototype,"center",null),b([M()],Ys.prototype,"constraints",void 0),b([M({type:mr})],Ys.prototype,"extent",null),b([M({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Ys.prototype,"padding",null),b([M()],Ys.prototype,"ready",void 0),b([M()],Ys.prototype,"resizeAlign",void 0),b([M({readOnly:!0})],Ys.prototype,"resolution",null),b([M({type:Number})],Ys.prototype,"rotation",null),b([M({type:Number})],Ys.prototype,"scale",null),b([M({readOnly:!0})],Ys.prototype,"state",void 0),b([M({type:al})],Ys.prototype,"viewpoint",null),b([M()],Ys.prototype,"zoom",null),Ys=b([se("esri.views.2d.ViewStateManager")],Ys);function PF(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let $H=class extends Ln{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,i=>this._handleDoubleClick(i,r))}_handleDoubleClick(t,r){PF(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},WRe=class extends Ln{constructor(t,r,i){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",i,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:i}=r;if(i!==this.pointerType)return;t.stopPropagation();const{action:n,delta:o}=r,{view:u}=this,{mapViewNavigation:f}=u;switch(n){case"begin":{const{scale:m}=u;this._startScale=m,this._currentScale=m,this._previousDelta=o,f.begin();break}case"update":{if(this._previousDelta.y===o.y)return;this._previousDelta=o;const m=1.015**o.y,v=this._startScale*m,_=v/this._currentScale;f.setViewpointImmediate(_),this._currentScale=v;break}case"end":{const{constraints:m}=u,{effectiveLODs:v,snapToZoom:_}=m;if(!_||!v)return void f.end();const $=m.snapScale(this._currentScale),T=(o.y>0?Math.max($,m.snapToPreviousScale(this._startScale)):Math.min($,m.snapToNextScale(this._startScale)))/this._currentScale;f.zoom(T).then(()=>{f.end()});break}}}},a8=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,i=r.pointers.size;switch(r.action){case"start":this._currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,i;this._startEvent=t,(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,i;(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,i;(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},JRe=class extends Ln{constructor(t,r,i){super(!0),this.view=t,this.pointerAction=r,this.registerIncoming("drag",i,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new a8({start:(r,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation()},update:(r,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation()},end:(r,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation()},condition:(r,i)=>r===1&&PF(i.data,this.pointerAction)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},KRe=class extends Ln{constructor(t,r,i){super(!0),this._view=t,this.pointerAction=r;const n=this._view.mapViewNavigation;this._dragEventSeparator=new a8({start:(o,u)=>{n.rotate.begin(this._view,u.data),u.stopPropagation()},update:(o,u)=>{n.rotate.update(this._view,u.data),u.stopPropagation()},end:(o,u)=>{n.rotate.end(),u.stopPropagation()},condition:(o,u)=>o===1&&PF(u.data,this.pointerAction)}),this.registerIncoming("drag",i,o=>this._dragEventSeparator.handle(o))}};function Il(e){let t=e*e;return e<0&&(t*=-1),t}function YRe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function ZRe(e,t,r){const i=r,n=e.state,o=e.device,u=t.tiltDirection==="forward-down"?1:-1,f=1;return o.deviceType==="standard"?(i.translation[0]=Il(n.axes[0]),i.translation[1]=Il(n.axes[1]),i.translation[2]=Il(n.buttons[7])-Il(n.buttons[6]),i.heading=Il(n.axes[2]),i.tilt=Il(n.axes[3])):o.deviceType==="spacemouse"&&(i.translation[0]=1.2*Il(n.axes[0]),i.translation[1]=1.2*Il(n.axes[1]),i.translation[2]=2*-Il(n.axes[2]),i.heading=1.2*Il(n.axes[5]),i.tilt=1.2*Il(n.axes[3])),i.tilt*=u,XL(i.translation,i.translation,f),i}function XRe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let QRe=class extends Ln{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new Z3,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([lt(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=yg({update:i=>this._frameUpdate(i.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},ri)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,YRe(this._transformation)):(this._currentDevice=t.data.device,ZRe(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const r=this._transformation;if(XRe(r))return;const i=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,o=tLe*n*t;o8(i,i,[r.translation[0]*o,-r.translation[1]*o]);const u=1+r.translation[2]*rLe*t,f=this._view.constraints.rotationEnabled?-r.heading*eLe*t:0,m=this._view.size,v=[m[0]/2,m[1]];lue(i,i,u,f,v,m);const _=this._view.constraints.constrain(i,this._view.viewpoint);this._view.viewpoint=_}};const eLe=.06,tLe=.7,rLe=6e-4;function Iue(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),Kr(()=>document.removeEventListener("visibilitychange",t))}let iLe=class extends Ln{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const o=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(o==null)return;n.stopPropagation(),n.preventDefault();const u=n.type==="key-down";if(this._pressedKeys[u?"add":"delete"](o),u){if(this._direction===o)return;this._direction=o,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const f=this._timeout===void 0,m=this._pressedKeys.size>0;f||m?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=Iue(n=>n?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},nLe=class extends Ln{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._pressed=!1,this._keyToDirection={[r.clockwiseOption1]:"clockwise",[r.clockwiseOption2]:"clockwise",[r.counterClockwiseOption1]:"counterClockwise",[r.counterClockwiseOption2]:"counterClockwise",[r.resetOption1]:"reset",[r.resetOption2]:"reset"},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",i,n=>this._handleKeyUp(n)),this.registerIncoming("blur",i,()=>this._handleStop()),this._visibilityHandle=Iue(n=>n?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection[t.data.key];if(this._pressed=n!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var xm;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(xm||(xm={}));let sLe=class extends Ln{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",i,n=>this._handleKeyDown(n)),r.zoomIn.forEach(n=>this._keysToZoomAction[n]=xm.IN),r.zoomOut.forEach(n=>this._keysToZoomAction[n]=xm.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:o}=this.view;let u=null;switch(n){case xm.IN:u=o.zoomIn();break;case xm.OUT:u=o.zoomOut();break;default:return}o.begin(),u.then(()=>o.end()),t.stopPropagation()}};const oLe=.6;let aLe=class extends Ln{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,i=>this._handleMouseWheel(i))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:i,y:n,deltaY:o}=t.data,u=1/oLe**(1/60*o),f=r.zoom(u,[i,n]);f&&(this._canZoom=!1,f.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},lLe=class extends Ln{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new a8({start:(i,n)=>{r.pinch.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{r.pinch.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{r.pinch.end(this.view),n.stopPropagation()},condition:i=>i>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function MH(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>hLe(r,e.axisThreshold))}:{buttons:[],axes:[]}}function uLe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function cLe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function hLe(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let dLe=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=o=>{this._connectGamepad(o.gamepad)},this._onDisconnectGamepad=o=>{const u=o.gamepad,f=u.index,m=this._inputDevices[f];m&&(this._emitGamepadEvent(u,MH(m),!1),this._inputDevices.splice(f,1),this._latestUpdate.splice(f,1),this._input.gamepad.devices.remove(m),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(TH(o=>this._connectGamepad(o)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new vF(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=yg({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),i=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;TH(n=>{const o=this._inputDevices[n.index];if(!o)return;const u=this._latestUpdate[n.index],f=MH(o),m=i||cLe(f);u&&(u.timestamp===n.timestamp||!u.active&&m||uLe(u.state,f))||this._emitGamepadEvent(n,f,!m)})}_emitGamepadEvent(t,r,i){const n=this._latestUpdate[t.index],o=n&&n.active;if(!o&&!i)return;const u=!o&&i?"start":o&&i?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:i},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:u})}};function pLe(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function TH(e){const t=window.navigator.getGamepads();for(let r=0;r<t.length;r++){const i=t[r];pLe(i)&&e(i)}}const kH=ke("edge"),fLe=ke("chrome"),yLe=ke("ff"),mLe=ke("safari"),CH="esri-view-surface",iy={touchNone:`${CH}--touch-none`,touchPan:`${CH}--touch-pan`};let Pue=class Oue{constructor(t,r){this._input=r,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new dLe(t,this._input),this._gamepadSource.onEvent=i=>this._callback("gamepad",i)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=ai(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const i=this._active[r];this._element.removeEventListener(hk[r],i),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&hk[r]){const i=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(hk[r],i),this._active[r]=i}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,r){r?this._setPointerCatpureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?iy.touchNone:iy.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?iy.touchPan:iy.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(iy.touchNone),this._element.classList.remove(iy.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const i=Sle(this._element,t);return Oue.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),r.x=i.x,r.y=i.y,r}_handleKey(t,r){const{key:i}=r;i&&t==="key-up"&&this._keyDownState.delete(i);const n={native:r,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,i)}_handleMouseWheel(t,r){let i=r.deltaY;switch(r.deltaMode){case 0:kH&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}kH?i*=.7:fLe||mLe?i*=.6:yLe&&(i*=1.375);const n=100,o=Math.abs(i);o>n&&(i=i/o*200/(1+Math.exp(-.02*(o-n))));const u=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:i});this._callback(t,u)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const i={native:r};r.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};Pue.test={disableSubpixelCoordinates:!1};const hk={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let gLe=class extends Ln{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};const us={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function c6(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function vLe(e,t){const r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)}function bLe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:hs()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[B,G]=e,[H,J]=[G.x-B.x,G.y-B.y];return t.radius=Math.sqrt(H*H+J*J)/2,t.center.x=(B.x+G.x)/2,t.center.y=(B.y+G.y)/2,t}let r=0,i=0;for(let B=0;B<e.length;B++)r+=e[B].x,i+=e[B].y;r/=e.length,i/=e.length;const n=e.map(B=>B.x-r),o=e.map(B=>B.y-i);let u=0,f=0,m=0,v=0,_=0,$=0,T=0;for(let B=0;B<n.length;B++){const G=n[B],H=o[B],J=G*G,Z=H*H;u+=J,f+=Z,m+=G*H,v+=J*G,_+=Z*H,$+=G*Z,T+=H*J}const I=.5*(v+$),O=.5*(_+T),A=u*f-m*m,N=(I*f-O*m)/A,F=(u*O-m*I)/A,z=hs(N+r,F+i);return{radius:Math.sqrt(N*N+F*F+(u+f)/e.length),center:z}}function G0(e){const{native:t}=e,{pointerId:r,button:i,pointerType:n}=t;return n==="mouse"?`${r}:${i}`:`${n}`}let wLe=class extends Ln{constructor(t=us.maximumDoubleClickDelay,r=us.maximumDoubleClickDistance,i=us.maximumDoubleTouchDelay,n=us.maximumDoubleTouchDistance,o=Kg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=o,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=hs(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new a8({start:(u,f)=>this._dragStart(u,f),update:(u,f)=>this._dragUpdate(f),end:(u,f)=>this._dragEnd(f)}),this.registerIncoming("drag",u=>this._dragEventSeparator.handle(u)),this.registerIncoming("pointer-down",u=>this._handlePointerDown(u)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=zi(t.doubleTapTimeout)})}get hasPendingInputs(){return b7(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=zi(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:n}=r,{center:o}=i;this._dragStartCenter=o;const u=dk("begin",hs(0,0),i);this._doubleTapDrag.emit(u,void 0,n),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,o=dk("update",hs(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(o,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:n}=r,o=dk("end",hs(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(o,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,i=G0(r),n=this._pointerState.get(i),{pointerType:o}=r.native;if(n){const u=o==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),c6(n.event.data,r)>u?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:i}=r.native,n=G0(r),o=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,u=this._clock.setTimeout(()=>this._clearPointerDown(n),o);this._pointerState.set(n,{event:t,doubleTapTimeout:u}),this.refreshHasPendingInputs()}};function dk(e,t,r){const{button:i,buttons:n,pointer:o,pointers:u,pointerType:f,timestamp:m}=r;return{action:e,delta:t,button:i,buttons:n,pointer:o,pointers:u,pointerType:f,timestamp:m}}let xLe=class extends Ln{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,i,n){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:n,pointers:_Le(this._activePointerMap),pointer:r,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const r=t.native.pointerId,i=e5(this._activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,n);const o=KS(n,Aue(this._activePointerMap));n.initialAngle=o,n.lastAngle=o,this._updatePointerAngles(i)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,i=this._activePointerMap.get(r);i?i.event=t:this._addPointer(t)}_removePointer(t){const r=e5(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=e5(this._activePointerMap);this._activePointerMap.forEach(i=>{i.initialAngle=KS(i,r)-t,i.lastAngle=KS(i,r)-t})}_emitEvent(t,r,i){const n=e5(this._activePointerMap);this._drag.emit(this._createPayload(t,r,n,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,i=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,i=r.currentEvent,n=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this._isCurrentDragSuppressed&&this._emitEvent("update",i,n)):(this._addPointer(i),this._emitEvent("added",i,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",i,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function Aue(e){const t=[];return e.forEach(r=>{t.push(hs(r.event.x,r.event.y))}),bLe(t)}function e5(e){const t=Aue(e);let r=0;return e.forEach(i=>{let n=KS(i,t),o=n-i.lastAngle;for(;o>Math.PI;)o-=2*Math.PI;for(;o<-Math.PI;)o+=2*Math.PI;n=i.lastAngle+o,i.lastAngle=n;const u=n-i.initialAngle;r+=u}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function _Le(e){const t=new Map;return e.forEach((r,i)=>t.set(i,r.event)),t}function KS(e,t){const r=e.event,i=r.x-t.center.x,n=r.y-t.center.y;return Math.atan2(n,i)}var EH;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(EH||(EH={}));let SLe=class extends Ln{constructor(t=us.maximumDoubleClickDelay,r=us.maximumDoubleClickDistance,i=us.maximumDoubleTouchDelay,n=us.maximumDoubleTouchDistance,o=Kg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=G0(r);if(!this._pointerState.has(i)){const n={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(i,n),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,i=G0(r),n=this._pointerState.get(i);if(n&&n.downButton===r.native.button){const o=n.immediateDoubleClick,u=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;o?(o.timeoutHandle.remove(),c6(o,t.data)>u?this._startImmediateDoubleClick(t,n):(this._immediateDoubleClick.emit(t.data,void 0,o.modifiers),this._removeState(r))):c6(n,t.data)>u?this._removeState(r):this._startImmediateDoubleClick(t,n)}}_startImmediateDoubleClick(t,r){const i=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_removeState(t){const r=G0(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},$Le=class extends Ln{constructor(t=us.maximumClickDelay,r=us.movementUntilMouseDrag,i=us.movementUntilPenDrag,n=us.movementUntilTouchDrag,o=us.holdDelay,u=Kg){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=i,this._movementUntilTouchDrag=n,this._holdDelay=o,this._clock=u,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",f=>{this._handlePointerLoss(f,"pointer-up")}),this.registerIncoming("pointer-capture-lost",f=>{this._handlePointerLoss(f,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",f=>{this._handlePointerLoss(f,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=zi(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=r.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const u=this._pointerState.get(i);if(u){if(!u.isDragging){const f=u.previousEvent;this._pointerHold.emit(f,void 0,t.modifiers),u.holdEmitted=!0}u.holdTimeout=null}},this._holdDelay));const o={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const r=t.data,i=r.native.pointerId,n=this._pointerState.get(i);n&&(n.isDragging?this._pointerDrag.emit(t5("update",n,r),void 0,n.modifiers):vLe(r,n.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),n.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,i=r.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(t5("start",n,r)):this._pointerDrag.emit(t5("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const i=t.data,n=i.native.pointerId,o=this._pointerState.get(n);o&&(o.holdTimeout!=null&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging?this._pointerDrag.emit(t5("end",o,r==="pointer-up"?i:o.previousEvent),void 0,o.modifiers):r==="pointer-up"&&o.downButton===i.native.button&&t.timestamp-o.startTimestamp<=this._maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(n),this.stopCapturingPointer(i.native),this._pointerState.size===0&&this._moveHandle.pause())}};function t5(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}let MLe=class extends Ln{constructor(t=us.maximumDoubleClickDelay,r=us.maximumDoubleClickDistance,i=us.maximumDoubleTouchDelay,n=us.maximumDoubleTouchDistance,o=Kg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=n,this._clock=o,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=zi(t.doubleClickTimer))}get hasPendingInputs(){return b7(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,r){const i=this._pointerState.get(t);i&&(i.doubleClickTimer=zi(i.doubleClickTimer),r&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const r=t.data,{pointerType:i}=r.native,n=TLe(r);if(!this._pointerState.has(n))return void this._startClick(t);const o=this._pointerState.get(n),{data:u,modifiers:f}=o.event,m=i==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;c6(u,r)>m?(this._clearDoubleClickTimer(n,!0),this._startClick(t)):(this._clearDoubleClickTimer(n,!1),o.pointerDownCount===2&&this._doubleClick.emit(u,void 0,f))}_handlePointerDown(t){const r=G0(t.data),i=this._pointerState.get(r);i&&(i.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:i}}=r,n=G0(r),o=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,u=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),o);this._pointerState.set(n,{event:t,doubleClickTimer:u,pointerDownCount:1}),this.refreshHasPendingInputs()}};function TLe(e){const{pointerId:t,pointerType:r,button:i}=e.native;return r==="mouse"?`${t}:${i}`:`${r}`}const r5={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Wf=class extends St{initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this.addHandles([fa(()=>!t(),()=>this._disconnect()),fa(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var r;return((r=this._inputManager)==null?void 0:r.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=ai(this._inputManager)}_connect(){const t=this.view.surface,r=new Pue(t,this.view.input),i=[new SLe,new $Le,new MLe,new xLe(this.view.navigation),new wLe],n=new ka({eventSource:r,recognizers:i});n.installHandlers("prevent-context-menu",[new gLe],xp.INTERNAL),n.installHandlers("navigation",[new lLe(this.view),new QRe(this.view),new aLe(this.view),new $H(this.view),new $H(this.view,[r5.counter]),new JRe(this.view,"primary"),new iLe(this.view,r5.pan),new sLe(this.view,r5.zoom),new nLe(this.view,r5.rotate),new KRe(this.view,"secondary"),new WRe(this.view,"touch")],xp.INTERNAL),this.view.viewEvents.connect(n),this._source=r,this._inputManager=n,lt(()=>{var o,u;return(u=(o=this.view)==null?void 0:o.navigation)==null?void 0:u.browserTouchPanEnabled},o=>{this._source&&(this._source.browserTouchPanningEnabled=!o)},ri)}get test(){}};b([M()],Wf.prototype,"view",void 0),b([M()],Wf.prototype,"latestPointerType",null),b([M()],Wf.prototype,"latestPointerLocation",null),b([M()],Wf.prototype,"multiTouchActive",null),Wf=b([se("esri.views.2d.input.MapViewInputManager")],Wf);const kLe=Wf;var B9t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jue(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var IH,PH,OH,Rue={exports:{}};IH=Rue,PH=function(){function e(n,o,u,f,m){t(n,o,u||0,f||n.length-1,m||i)}function t(n,o,u,f,m){for(;f>u;){if(f-u>600){var v=f-u+1,_=o-u+1,$=Math.log(v),T=.5*Math.exp(2*$/3),I=.5*Math.sqrt($*T*(v-T)/v)*(_-v/2<0?-1:1);t(n,o,Math.max(u,Math.floor(o-_*T/v+I)),Math.min(f,Math.floor(o+(v-_)*T/v+I)),m)}var O=n[o],A=u,N=f;for(r(n,u,o),m(n[f],O)>0&&r(n,u,f);A<N;){for(r(n,A,N),A++,N--;m(n[A],O)<0;)A++;for(;m(n[N],O)>0;)N--}m(n[u],O)===0?r(n,u,N):r(n,++N,f),N<=o&&(u=N+1),o<=N&&(f=N-1)}}function r(n,o,u){var f=n[o];n[o]=n[u],n[u]=f}function i(n,o){return n<o?-1:n>o?1:0}return e},(OH=PH())!==void 0&&(IH.exports=OH);const CLe=jue(Rue.exports);function h6(e,t){if(!(this instanceof h6))return new h6(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function ELe(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return-1}function ny(e,t){p2(e,0,e.children.length,t,e)}function p2(e,t,r,i,n){n||(n=Ry(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,u=t;u<r;u++)o=e.children[u],f2(n,e.leaf?i(o):o);return n}function f2(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function AH(e,t){return e.minX-t.minX}function jH(e,t){return e.minY-t.minY}function pk(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function i5(e){return e.maxX-e.minX+(e.maxY-e.minY)}function ILe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function PLe(e,t){var r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,n-r)*Math.max(0,o-i)}function fk(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function n5(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Ry(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function RH(e,t,r,i,n){for(var o,u=[t,r];u.length;)(r=u.pop())-(t=u.pop())<=i||(o=t+Math.ceil((r-t)/i/2)*i,CLe(e,o,t,r,n),u.push(t,o,o,r))}h6.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],i=this.toBBox;if(!n5(e,t))return r;for(var n,o,u,f,m=[];t;){for(n=0,o=t.children.length;n<o;n++)u=t.children[n],n5(e,f=t.leaf?i(u):u)&&(t.leaf?r.push(u):fk(e,f)?this._all(u,r):m.push(u));t=m.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!n5(e,t))return!1;for(var i,n,o,u,f=[];t;){for(i=0,n=t.children.length;i<n;i++)if(o=t.children[i],n5(e,u=t.leaf?r(o):o)){if(t.leaf||fk(e,u))return!0;f.push(o)}t=f.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Ry([]),this},remove:function(e,t){if(e==null)return this;for(var r,i,n,o,u=this.data,f=this.toBBox(e),m=[],v=[];u||m.length;){if(u||(u=m.pop(),i=m[m.length-1],r=v.pop(),o=!0),u.leaf&&(n=ELe(e,u.children,t))!==-1)return u.children.splice(n,1),m.push(u),this._condense(m),this;o||u.leaf||!fk(u,f)?i?(r++,u=i.children[r],o=!1):u=null:(m.push(u),v.push(r),r=0,i=u,u=u.children[0])}return this},toBBox:function(e){return e},compareMinX:AH,compareMinY:jH,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var n,o=r-t+1,u=this._maxEntries;if(o<=u)return ny(n=Ry(e.slice(t,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(o)/Math.log(u)),u=Math.ceil(o/Math.pow(u,i-1))),(n=Ry([])).leaf=!1,n.height=i;var f,m,v,_,$=Math.ceil(o/u),T=$*Math.ceil(Math.sqrt(u));for(RH(e,t,r,T,this.compareMinX),f=t;f<=r;f+=T)for(RH(e,f,v=Math.min(f+T-1,r),$,this.compareMinY),m=f;m<=v;m+=$)_=Math.min(m+$-1,v),n.children.push(this._build(e,m,_,i-1));return ny(n,this.toBBox),n},_chooseSubtree:function(e,t,r,i){for(var n,o,u,f,m,v,_,$;i.push(t),!t.leaf&&i.length-1!==r;){for(_=$=1/0,n=0,o=t.children.length;n<o;n++)m=pk(u=t.children[n]),(v=ILe(e,u)-m)<$?($=v,_=m<_?m:_,f=u):v===$&&m<_&&(_=m,f=u);t=f||t.children[0]}return t},_insert:function(e,t,r){var i=this.toBBox,n=r?e:i(e),o=[],u=this._chooseSubtree(n,this.data,t,o);for(u.children.push(e),f2(u,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},_split:function(e,t){var r=e[t],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var o=this._chooseSplitIndex(r,n,i),u=Ry(r.children.splice(o,r.children.length-o));u.height=r.height,u.leaf=r.leaf,ny(r,this.toBBox),ny(u,this.toBBox),t?e[t-1].children.push(u):this._splitRoot(r,u)},_splitRoot:function(e,t){this.data=Ry([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ny(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var i,n,o,u,f,m,v,_;for(m=v=1/0,i=t;i<=r-t;i++)u=PLe(n=p2(e,0,i,this.toBBox),o=p2(e,i,r,this.toBBox)),f=pk(n)+pk(o),u<m?(m=u,_=i,v=f<v?f:v):u===m&&f<v&&(v=f,_=i);return _},_chooseSplitAxis:function(e,t,r){var i=e.leaf?this.compareMinX:AH,n=e.leaf?this.compareMinY:jH;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,n)&&e.children.sort(i)},_allDistMargin:function(e,t,r,i){e.children.sort(i);var n,o,u=this.toBBox,f=p2(e,0,t,u),m=p2(e,r-t,r,u),v=i5(f)+i5(m);for(n=t;n<r-t;n++)o=e.children[n],f2(f,e.leaf?u(o):o),v+=i5(f);for(n=r-t-1;n>=t;n--)o=e.children[n],f2(m,e.leaf?u(o):o),v+=i5(m);return v},_adjustParentBBoxes:function(e,t,r){for(var i=r;i>=0;i--)f2(t[i],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():ny(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let LH=class Lue{constructor(t,r){this.key=new Fp(0,0,0,0),this.bounds=Wn(),this.objectIds=new Set,this.key.set(r);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=t.zoomToScale(i.level-1),this.maxScale=t.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return mr.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return{$view:{scale:this.scale,timeZone:t}}}createChildTiles(){const t=this.key.getChildKeys(),r=to.acquire();for(let i=0;i<t.length;i++)r[i]=new Lue(this.tileInfoView,t[i]);return r}getQuantizationParameters(){return ble.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const hf={added:[],removed:[]},yk=new Set,OLe=new Fp(0,0,0,0);function ALe(e,t){const r=jo(t);if(!r)return null;const[i,n]=r.valid;return e[2]>n?[Wn([e[0],e[1],n,e[3]]),Wn([i,e[1],i+e[2]-n,e[3]])]:e[0]<i?[Wn([i,e[1],e[2],e[3]]),Wn([n-(i-e[0]),e[1],n,e[3]])]:null}let jLe=class extends wl{constructor(t){super(),this._tiles=new Map,this._index=h6(9,ke("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||sne(t)===0||one(t)===0)return[];const r=ALe(t,this.tileScheme.spatialReference);return r!=null?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const n=new LH(this.tileScheme,i);this._tiles.set(i,n),this._index.insert(n),r.added.push(n)}for(const i of t.removed)if(this.has(i)){const n=this.get(i);this._tiles.delete(i),this._index.remove(n),r.removed.push(n)}this.tiles.length=0,this._tiles.forEach(i=>this.tiles.push(i)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:i,lodInfo:n}=r,{level:o}=n;if(i.length>0)for(const{row:u,colFrom:f,colTo:m}of i)for(let v=f;v<=m;v++){const _=OLe.set(o,u,n.normalizeCol(v),n.getWorldForColumn(v)).id;if(yk.add(_),!this.has(_)){const $=new LH(this.tileScheme,_);this._tiles.set(_,$),this._index.insert($),this.tiles.push($),hf.added.push($)}}for(let u=this.tiles.length-1;u>=0;u--){const f=this.tiles[u];yk.has(f.id)||(this._tiles.delete(f.id),this.tiles.splice(u,1),this._index.remove(f),hf.removed.push(f))}(hf.added.length||hf.removed.length)&&this.emit("update",hf),d3.pool.release(r),yk.clear(),hf.added.length=0,hf.removed.length=0}},Td=class extends St{constructor(){super(...arguments),this.color=new Dt([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25,this.multiHighlightEnabled=!1}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.multiHighlightEnabled===t.multiHighlightEnabled}};b([M({type:Dt})],Td.prototype,"color",void 0),b([M({type:Dt})],Td.prototype,"haloColor",void 0),b([M()],Td.prototype,"haloOpacity",void 0),b([M()],Td.prototype,"fillOpacity",void 0),b([M()],Td.prototype,"multiHighlightEnabled",void 0),Td=b([se("esri.views.2d.support.HighlightOptions")],Td);const Nue=Td,s5=e=>parseFloat(e)/100;function RLe(e,t,r){const i=typeof e.left=="string"?s5(e.left)*t:e.left,n=typeof e.right=="string"?s5(e.right)*t:e.right,o=typeof e.top=="string"?s5(e.top)*r:e.top,u=typeof e.bottom=="string"?s5(e.bottom)*r:e.bottom,f=o;return{xmin:i,xmax:Math.max(t-n,i),ymin:f,ymax:Math.max(r-u,o)}}function LLe(e,t,r,i){switch(t.type){case"rect":{const{width:n,height:o}=e,{xmin:u,xmax:f,ymin:m,ymax:v}=RLe(t,n,o),{x:_,y:$}=r;return _>u&&_<f&&$>m&&$<v}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||mN(t.path,[r.x,r.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?yN(t.geometry,i):ax(t.geometry,i))}}async function NLe(e,t,r){const i=Mle(t)?$le(e,t):t;if(!e.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let n=new Set;const o=new Set;let u=!1,f=null,m=null;r!=null&&r.include?FH(r.include,NH(e,T=>{n.add(T),mk(T,I=>o.add(I))},(T,I)=>{o.add(T),n.add(I)},T=>{f||(f=new Set),f.add(T)},T=>n.add(T),()=>u=!0)):(u=!0,n=new Set(e.allLayerViews),n.forEach(T=>{mk(T,I=>o.add(I))})),r!=null&&r.exclude&&FH(r.exclude,NH(e,T=>{n.delete(T),mk(T,I=>o.delete(I))},T=>o.delete(T),T=>{m||(m=new Set),m.add(T)}));const v=e.toMap(i),_=e.allLayerViews.filter(T=>!T.suspended&&n.has(T)&&T.clips.every(I=>LLe(e,I,i,v))).reverse();let $=[...u?e.graphicsView.hitTest(v).map(T=>({type:"graphic",graphic:T,layer:null,mapPoint:v})):[],...await Promise.all(_.map(T=>T.hitTest(v,i)).toArray())].filter(ps).flat().filter(ps);return $=$.filter(T=>{var I;return T.type!=="graphic"||((I=T.layer)==null?void 0:I.type)!=="subtype-group"||o.has(T.graphic.layer)}),f&&($=$.filter(T=>!("graphic"in T)||!T.graphic||(f==null?void 0:f.has(jO(T.graphic))))),m&&($=$.filter(T=>!("graphic"in T)||!T.graphic||!(m!=null&&m.has(jO(T.graphic))))),{screenPoint:i,results:$}}function NH(e,t,r,i,n,o){return u=>{if(u instanceof ma){if(u.layer===e)o==null||o();else{const f=e.allLayerViews.find(m=>m.layer===u.layer);f&&(n==null||n(f))}i(jO(u))}else if(!("layer"in u&&"element"in u))if(u.type==="subtype-sublayer"){const f=e.allLayerViews.find(m=>m.layer===u.parent);f&&r(u,f)}else{const f=e.allLayerViews.find(m=>m.layer===u);f&&t(f)}}}function FH(e,t){if(e)if(l4(e))for(const r of e)if(l4(r))for(const i of r)t(i);else t(r);else t(e)}function jO(e){var r,i;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((i=e.sourceLayer)==null?void 0:i.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function mk({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}function FLe(e,t,r){const{ctx:i,canvas:n}=Fue(e,r),o=i.getImageData(0,0,e.width,e.height),u=BLe(n,t);return Due(n),{dataUrl:u,data:o}}function DLe(e,t){const{ctx:r,canvas:i}=Fue(e,t),n=r.getImageData(0,0,e.width,e.height);return Due(i),n}function Fue(e,t){const r=zLe();t.premultipliedAlpha&&HLe(e),r.width=e.width,r.height=e.height;const i=r.getContext("2d",{willReadFrequently:!0});return i.putImageData(e,0,0),t.flipY&&qLe(i),{ctx:i,canvas:r}}function Due(e){e.width=0,e.height=0}function zLe(){return gk==null&&(gk=document.createElement("canvas")),gk}let gk=null;function BLe(e,t){const r=WLe[t.format],i=t.quality/100;return e.toDataURL(r,i)}function VLe(e,t){const r=GLe(e),i=KLe[r];return{format:r,quality:fl(t??i,0,100)}}function ULe(e,t){return t/Math.max(e[0],e[1])}function G9t(e,t,r,i=0,n=0,o=e.width-i,u=e.height-n,f=!1){const{data:m}=e,{width:v,height:_,data:$}=t,T=o/v,I=u/_,O=Math.ceil(T/2),A=Math.ceil(I/2),N=e.width;for(let F=0;F<_;F++)for(let z=0;z<v;z++){const B=4*(z+(f?_-F-1:F)*v);let G=0,H=0,J=0,Z=0,re=0,q=0;const X=(F+.5)*I;for(let ie=Math.floor(F*I);ie<(F+1)*I;ie++){const le=Math.abs(X-(ie+.5))/A,ue=(z+.5)*T,ne=le*le;for(let pe=Math.floor(z*T);pe<(z+1)*T;pe++){const ye=Math.abs(ue-(pe+.5))/O,ge=Math.sqrt(ne+ye*ye);if(ge>=1)continue;let he=2*ge*ge*ge-3*ge*ge+1;const ce=4*(i+pe+(n+ie)*N);q+=he*m[ce+3],H+=he,J+=he*m[ce],Z+=he*m[ce+1],re+=he*m[ce+2],G+=he}}$[B]=J/G,$[B+1]=Z/G,$[B+2]=re/G,$[B+3]=q/H}return t}function GLe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return JLe}}function qLe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function HLe(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const n=t[i+3];if(n!==255&&n>0){const o=255/n;t[i]=t[i]*o,t[i+1]=t[i+1]*o,t[i+2]=t[i+2]*o}}}const WLe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},DH=98,JLe="png",KLe={png:100,jpg:DH,jpeg:DH},zue={flipY:!0,premultipliedAlpha:!0};async function YLe(e,t){const r=await Bue(e,t),{format:i,quality:n}=VLe(t==null?void 0:t.format,t==null?void 0:t.quality);return FLe(r,{format:i,quality:n,rotation:0,disableDecorations:!1},zue)}async function ZLe(e,t){const r=await Bue(e,t);return DLe(r,zue)}function Bue(e,t){const r=eNe(t||{},QLe(e.stage,e.size),e.size,e.padding),i=XLe(t,e.allLayerViews);return e.stage.takeScreenshot(r,i,e.backgroundColor,t==null?void 0:t.rotation)}function XLe(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(i=>{const n=t.find(o=>o.layer.id===i.id);n!=null&&n.container&&r.push(n.container)}),r}function QLe(e,t){return Math.min(4,ULe(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function eNe(e,t,r,i){e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0});let n=null;e.width!=null&&e.height!=null?n=[e.width,e.height]:e.width==null&&e.height!=null?n=[e.height,e.height]:e.width!=null&&e.height==null?n=[e.width,e.width]:e.width==null&&e.height==null&&(n=null);const o=r[0]-(i.left+i.right),u=r[1]-(i.top+i.bottom);let f,m,v=e.area||{x:0,y:0,width:o,height:u};if(n){const _=o/u,$=n[0]/n[1];if($>_){const T=v.width/$;v={x:v.x,y:Math.round(v.y+(v.height-T)/2),width:v.width,height:Math.round(T)}}else{const T=v.height*$;v={x:Math.round(v.x+(v.width-T)/2),y:v.y,width:Math.round(T),height:v.height}}}else n=[v.width,v.height];return n[0]>v.width?(f=Math.min(n[0]/v.width,t),m=n[0]/v.width/f):(f=1,m=n[0]/v.width),{cropArea:{x:Math.round((v.x+i.left)*f),y:Math.round((v.y+i.top)*f),width:Math.round(v.width*f),height:Math.round(v.height*f)},outputScale:m,resolutionScale:f}}const zH=160;let y2=class extends St{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=zH&&this.clear()},zH))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};b([M()],y2.prototype,"_timer",void 0),b([M()],y2.prototype,"stationary",null),y2=b([se("esri.views.2d.support.StationaryManager")],y2);const tNe=e=>e.includes("Brush");let Vue=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),tNe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function BH(e,t={}){return e.getContext("webgl2",t)||null}let vk;function rNe(){return vk||(vk=sNe()),vk}let iNe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}};function nNe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let r=BH(t,{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=BH(t),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;e.available=!0,e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return i&&(e.supportsHighPrecisionFragment=i.precision>0),r}function sNe(){const e=new iNe,t=nNe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function oNe(e){const t=rNe();return t.available?e==="3d"&&t.majorPerformanceCaveat?new be("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new be("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new be("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new be("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function aNe(e){return e&&"nodeType"in e}function lNe(e){return e&&typeof e.render=="function"}const VH={component:"esri-component"};let Jf=class extends St{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,r;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((r=this.node)==null?void 0:r.id)}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(VH.component),r&&r.classList.remove(VH.component),this._set("node",t))}castNode(t){var r;return(r=this.widget)==null||r.destroy(),t?typeof t=="string"||aNe(t)?(this._set("widget",null),qN(t)):(lNe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};b([M()],Jf.prototype,"id",null),b([M()],Jf.prototype,"node",null),b([Ar("node")],Jf.prototype,"castNode",null),b([M({readOnly:!0})],Jf.prototype,"widget",void 0),Jf=b([se("esri.views.ui.Component")],Jf);const YS=Jf,Uue="calcite-mode-";function uNe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function cNe(){return uNe().startsWith("dark")}function hNe(){return`${Uue}${cNe()?"dark":"light"}`}function dNe(e){pNe(e),e.classList.add(hNe())}function pNe(e){Array.from(e.classList).forEach(t=>{t.startsWith(Uue)&&e.classList.remove(t)})}const fNe={left:0,top:0,bottom:0,right:0},Gue={bottom:30,top:15,right:15,left:15},kc="esri-ui",mo={ui:kc,corner:`${kc}-corner`,innerContainer:`${kc}-inner-container`,manualContainer:`${kc}-manual-container`,cornerContainer:`${kc}-corner-container`,topLeft:`${kc}-top-left`,topRight:`${kc}-top-right`,bottomLeft:`${kc}-bottom-left`,bottomRight:`${kc}-bottom-right`};function yNe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function o5(e){return e===0?"0":`${e}px`}function bk(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function wk(e,{top:t,bottom:r,left:i,right:n}){e.style.top=t,e.style.bottom=r,e.style.left=i,e.style.right=n}let Au=class extends wl.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=ua(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&wk(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&wk(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([lt(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,ri),lt(()=>this.padding,this._applyUIPadding,ri),lt(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},ri),kN(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(mo.ui),dNe(t),this._attachContainers(t)),r&&(r.classList.remove(mo.ui),wk(r,{top:"",bottom:"",left:"",right:""}),roe(r)),this._set("container",t))}get height(){var o;const t=((o=this.view)==null?void 0:o.height)??0;if(t===0)return t;const r=this._getViewPadding(),{top:i,bottom:n}=r;return Math.max(t-i-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...Gue,...t}}get width(){var o;const t=((o=this.view)==null?void 0:o.width)??0;if(t===0)return t;const r=this._getViewPadding(),{left:i,right:n}=r;return Math.max(t-i-n,0)}add(t,r){let i,n,o;if(Array.isArray(t))return void t.forEach(f=>this.add(f,r));const u=bk(t);u&&({index:i,position:r,component:t,key:n}=u),r&&typeof r=="object"&&({index:i,key:n,position:r,internal:o}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,i,n,o)}remove(t,r){var n,o;if(!t)return;if(Array.isArray(t))return t.map(u=>this.remove(u,r));const i=this._find(t);if(i){if(this._componentMap.has(i)&&((n=this._componentMap.get(i))==null?void 0:n.key)!==r)return;const u=this._components.indexOf(i),f=i.node.parentNode;return f==null||f.removeChild(i.node),this._componentMap.delete(i),(o=i.widget)==null||o.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(u,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const o of t)this.empty(o,r);return}const i=this._positionNameToContainerLookup[t??"manual"],n=Array.prototype.slice.call(i.children).map(o=>this._findByNode(o)).filter(o=>{var u;return o==null?!1:!(((u=this._componentMap.get(o))==null?void 0:u.internal)??!1)||r.removeInternal});for(const o of n)this.remove(o)}move(t,r){if(Array.isArray(t)&&t.forEach(u=>this.move(u,r)),!t)return;let i;const n=bk(t)||bk(r);if(n&&(i=n.index,r=n.position,t=n.component||t),r&&!this._isValidPosition(r))return;const o=this.remove(t);o&&this.add(o,{position:r,index:i})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(i=>this._getComponentsAtPosition(i,r)):this._getComponentsAtPosition(t,r):this._components.filter(i=>{var n;return r.includeInternal||!((n=this._componentMap.get(i))!=null&&n.internal)}).map(({widget:i,node:n})=>i??n)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,i,n,o){t instanceof YS||(t=new YS({node:t}));const{widget:u}=t;u!=null&&u instanceof St&&u.addHandles(Kr(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:i}),this._components.push(t),this._componentMap.set(t,{key:n,internal:o})}_find(t){return t?t instanceof YS?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??fNe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(mo.innerContainer,mo.cornerContainer);const r=document.createElement("div");r.classList.add(mo.innerContainer,mo.manualContainer);const i=document.createElement("div");i.classList.add(mo.topLeft,mo.corner),t.appendChild(i);const n=document.createElement("div");n.classList.add(mo.topRight,mo.corner),t.appendChild(n);const o=document.createElement("div");o.classList.add(mo.bottomLeft,mo.corner),t.appendChild(o);const u=document.createElement("div");u.classList.add(mo.bottomRight,mo.corner),t.appendChild(u),this._innerContainer=t,this._manualContainer=r;const f=zTe();this._cornerNameToContainerLookup={"top-left":i,"top-right":n,"bottom-left":o,"bottom-right":u,"top-leading":f?n:i,"top-trailing":f?i:n,"bottom-leading":f?u:o,"bottom-trailing":f?o:u},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const r=t.position??"manual",{component:i,index:n}=t,o=this._positionNameToContainerLookup[r],u=n!=null&&n>-1;if(yNe(i.widget)&&i.widget.startup(),!u)return void o.appendChild(i.node);const f=Array.from(o.children);if(n===0)return void(o.firstChild?nq(i.node,o.firstChild):o.appendChild(i.node));n>=f.length?o.appendChild(i.node):nq(i.node,f[n])}_toPixelPosition(t){return{top:o5(t.top),left:o5(t.left),right:o5(t.right),bottom:o5(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const i=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(i.children).map(n=>this._findByNode(n)).filter(ps).filter(n=>{var o;return r.includeInternal||!((o=this._componentMap.get(n))!=null&&o.internal)}).map(({widget:n,node:o})=>n??o)}};b([M()],Au.prototype,"_locale",void 0),b([M()],Au.prototype,"container",null),b([M()],Au.prototype,"height",null),b([M({value:Gue})],Au.prototype,"padding",null),b([Ar("padding")],Au.prototype,"castPadding",null),b([M()],Au.prototype,"view",void 0),b([M()],Au.prototype,"width",null),Au=b([se("esri.views.ui.UI")],Au);const mNe=Au,gNe="randomUUID"in crypto;function OF(){if(gNe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function Y9t(){return`{${OF().toUpperCase()}}`}function vNe(){return`{${OF()}}`}const bNe={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},wNe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},xNe=e=>({...wNe,...e}),_Ne=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},SNe=(e,t)=>e.find(t),UH=(e,t,r=!1)=>{let i=e;return t.forEach((n,o)=>{const u=i!=null&&i.children?SNe(i.children,f=>f.domNode===n):void 0;r&&!u&&o!==t.length-1||(i=u)}),i},$Ne=e=>{let t;const r={...bNe,...e},i=xNe(r),n=i.performanceLogger;let o,u=!0,f=!1;const m=[],v=[],_=(T,I,O)=>{var F;let A;i.eventHandlerInterceptor=(z,B,G,H)=>function(J){let Z;n("domEvent",J);const re=_Ne(J.currentTarget,A.domNode),q=re.some(ie=>{var le;return customElements.get((le=ie==null?void 0:ie.tagName)==null?void 0:le.toLowerCase())});if(J.eventPhase===Event.CAPTURING_PHASE||!q)re.reverse(),Z=UH(A.getLastRender(),re);else{const ie=J.composedPath(),le=ie.slice(ie.indexOf(J.currentTarget),ie.indexOf(A.domNode)).reverse();Z=UH(A.getLastRender(),le,!0)}let X;return Z&&(X=r.handleInterceptedEvent(t,Z,this,J)),n("domEventProcessed",J),X},(F=r.postProcessProjectionOptions)==null||F.call(r,i);const N=O();A=T(I,N,i),i.eventHandlerInterceptor=void 0,m.push(A),v.push(O),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(A,N)};let $=()=>{if(o=void 0,u){u=!1,n("renderStart",void 0);for(let T=0;T<m.length;T++){const I=v[T]();n("rendered",void 0),m[T].update(I),n("patched",void 0)}n("renderDone",void 0),u=!0}};return r.modifyDoRenderImplementation&&($=r.modifyDoRenderImplementation($,m,v)),t={renderNow:$,scheduleRender:()=>{o||f||(o=requestAnimationFrame($))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),f=!0},resume:()=>{f=!1,u=!0,t.scheduleRender()},append:(T,I)=>{_(op.append,T,I)},insertBefore:(T,I)=>{_(op.insertBefore,T,I)},merge:(T,I)=>{_(op.merge,T,I)},replace:(T,I)=>{_(op.replace,T,I)},detach:T=>{for(let I=0;I<v.length;I++)if(v[I]===T)return v.splice(I,1),m.splice(I,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const que="calcite-mode-auto",Hue="calcite-mode-dark",MNe="calcite-mode-light",Z9t={autoMode:que,darkMode:Hue,lightMode:MNe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},X9t={filter:250,nextTick:0,resize:150,reposition:100};var Ya={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},TNe=Object.defineProperty,kNe=(e,t)=>{for(var r in t)TNe(e,r,{get:t[r],enumerable:!0})},Wue=new WeakMap,N1=e=>Wue.get(e),CNe=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Wue.set(e,r)},GH=(e,t)=>t in e,$x=(e,t)=>(0,console.error)(e,t),d6=new Map,ENe=[],INe="slot-fb{display:contents}slot-fb[hidden]{display:none}",qH="http://www.w3.org/1999/xlink",Mx=typeof window<"u"?window:{},ou=Mx.document||{head:{}},Q9t=Mx.HTMLElement||class{},Xn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,i)=>e.addEventListener(t,r,i),rel:(e,t,r,i)=>e.removeEventListener(t,r,i),ce:(e,t)=>new CustomEvent(e,t)},PNe=(()=>{let e=!1;try{ou.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),ONe=e=>Promise.resolve(e),ANe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),RO=!1,LO=[],Jue=[],Kue=(e,t)=>r=>{e.push(r),RO||(RO=!0,t&&Xn.$flags$&4?jNe(NO):Xn.raf(NO))},HH=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){$x(r)}e.length=0},NO=()=>{HH(LO),HH(Jue),(RO=LO.length>0)&&Xn.raf(NO)},jNe=e=>ONe().then(e),e4t=Kue(LO,!1),RNe=Kue(Jue,!0),LNe=e=>{const t=new URL(e,Xn.$resourcesUrl$);return t.origin!==Mx.location.origin?t.href:t.pathname},NNe=e=>Xn.$resourcesUrl$=e,WH={},FNe="http://www.w3.org/2000/svg",DNe="http://www.w3.org/1999/xhtml",zNe=e=>e!=null,AF=e=>(e=typeof e,e==="object"||e==="function");function BNe(e){var t,r,i;return(i=(r=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?i:void 0}var VNe={};kNe(VNe,{err:()=>Yue,map:()=>UNe,ok:()=>FO,unwrap:()=>GNe,unwrapErr:()=>qNe});var FO=e=>({isOk:!0,isErr:!1,value:e}),Yue=e=>({isOk:!1,isErr:!0,value:e});function UNe(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then(i=>FO(i)):FO(r)}if(e.isErr){const r=e.value;return Yue(r)}throw"should never get here"}var GNe=e=>{if(e.isOk)return e.value;throw e.value},qNe=e=>{if(e.isErr)return e.value;throw e.value},f1=(e,t="")=>()=>{},Zue=(e,t,...r)=>{let i=null,n=null,o=null,u=!1,f=!1;const m=[],v=$=>{for(let T=0;T<$.length;T++)i=$[T],Array.isArray(i)?v(i):i!=null&&typeof i!="boolean"&&((u=typeof e!="function"&&!AF(i))&&(i=String(i)),u&&f?m[m.length-1].$text$+=i:m.push(u?p6(null,i):i),f=u)};if(v(r),t){t.key&&(n=t.key),t.name&&(o=t.name);{const $=t.className||t.class;$&&(t.class=typeof $!="object"?$:Object.keys($).filter(T=>$[T]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,m,JNe);const _=p6(e,null);return _.$attrs$=t,m.length>0&&(_.$children$=m),_.$key$=n,_.$name$=o,_},p6=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},HNe={},WNe=e=>e&&e.$tag$===HNe,JNe={forEach:(e,t)=>e.map(JH).forEach(t),map:(e,t)=>e.map(JH).map(t).map(KNe)},JH=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),KNe=e=>{if(typeof e.vtag=="function"){const r={...e.vattrs};return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),Zue(e.vtag,r,...e.vchildren||[])}const t=p6(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},YNe=e=>ENe.map(t=>t(e)).find(t=>!!t),ZNe=(e,t)=>e!=null&&!AF(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,XNe=e=>e,t4t=(e,t,r)=>{const i=XNe(e);return{emit:n=>QNe(i,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:n})}},QNe=(e,t,r)=>{const i=Xn.ce(t,r);return e.dispatchEvent(i),i},KH=new WeakMap,eFe=(e,t,r)=>{let i=d6.get(e);ANe&&r?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,d6.set(e,i)},tFe=(e,t,r)=>{var i;const n=Xue(t,r),o=d6.get(n);if(e=e.nodeType===11?e:ou,o)if(typeof o=="string"){e=e.head||e;let u=KH.get(e),f;if(u||KH.set(e,u=new Set),!u.has(n)){{f=ou.createElement("style"),f.innerHTML=o;const m=(i=Xn.$nonce$)!=null?i:BNe(ou);m!=null&&f.setAttribute("nonce",m),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(f,e.querySelector("link"))}t.$flags$&4&&(f.innerHTML+=INe),u&&u.add(n)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return n},rFe=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,i=t.$flags$,n=f1("attachStyles",t.$tagName$),o=tFe(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);i&10&&i&2&&(r["s-sc"]=o,r.classList.add(o+"-h"),i&2&&r.classList.add(o+"-s")),n()},Xue=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),YH=(e,t,r,i,n,o)=>{if(r!==i){let u=GH(e,t),f=t.toLowerCase();if(t==="class"){const m=e.classList,v=ZH(r),_=ZH(i);m.remove(...v.filter($=>$&&!_.includes($))),m.add(..._.filter($=>$&&!v.includes($)))}else if(t==="style"){for(const m in r)(!i||i[m]==null)&&(m.includes("-")?e.style.removeProperty(m):e.style[m]="");for(const m in i)(!r||i[m]!==r[m])&&(m.includes("-")?e.style.setProperty(m,i[m]):e.style[m]=i[m])}else if(t!=="key")if(t==="ref")i&&i(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):GH(Mx,f)?t=f.slice(2):t=f[2]+t.slice(3),r||i){const m=t.endsWith(Que);t=t.replace(nFe,""),r&&Xn.rel(e,t,r,m),i&&Xn.ael(e,t,i,m)}}else{const m=AF(i);if((u||m&&i!==null)&&!n)try{if(e.tagName.includes("-"))e[t]=i;else{const _=i??"";t==="list"?u=!1:(r==null||e[t]!=_)&&(e[t]=_)}}catch{}let v=!1;f!==(f=f.replace(/^xlink\:?/,""))&&(t=f,v=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(v?e.removeAttributeNS(qH,t):e.removeAttribute(t)):(!u||o&4||n)&&!m&&(i=i===!0?"":i,v?e.setAttributeNS(qH,t,i):e.setAttribute(t,i))}}},iFe=/\s/,ZH=e=>e?e.split(iFe):[],Que="Capture",nFe=new RegExp(Que+"$"),ece=(e,t,r)=>{const i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,n=e&&e.$attrs$||WH,o=t.$attrs$||WH;for(const u of XH(Object.keys(n)))u in o||YH(i,u,n[u],void 0,r,t.$flags$);for(const u of XH(Object.keys(o)))YH(i,u,n[u],o[u],r,t.$flags$)};function XH(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Ly,DO,Eg,f6=!1,y6=!1,jF=!1,ea=!1,m6=(e,t,r,i)=>{var n;const o=t.$children$[r];let u=0,f,m,v;if(f6||(jF=!0,o.$tag$==="slot"&&(Ly&&i.classList.add(Ly+"-s"),o.$flags$|=o.$children$?2:1)),o.$text$!==null)f=o.$elm$=ou.createTextNode(o.$text$);else if(o.$flags$&1)f=o.$elm$=ou.createTextNode("");else{if(ea||(ea=o.$tag$==="svg"),f=o.$elm$=ou.createElementNS(ea?FNe:DNe,!f6&&Ya.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),ea&&o.$tag$==="foreignObject"&&(ea=!1),ece(null,o,ea),!!f.getRootNode().querySelector("body")&&Ya.scoped&&zNe(Ly)&&f["s-si"]!==Ly&&f.classList.add(f["s-si"]=Ly),LF(f,i),o.$children$)for(u=0;u<o.$children$.length;++u)m=m6(e,o,u,f),m&&f.appendChild(m);o.$tag$==="svg"?ea=!1:f.tagName==="foreignObject"&&(ea=!0)}return f["s-hn"]=Eg,o.$flags$&3&&(f["s-sr"]=!0,f["s-cr"]=DO,f["s-sn"]=o.$name$||"",f["s-rf"]=(n=o.$attrs$)==null?void 0:n.ref,v=e&&e.$children$&&e.$children$[r],v&&v.$tag$===o.$tag$&&e.$elm$&&p3(e.$elm$,!1)),f},p3=(e,t)=>{Xn.$flags$|=1;const r=Array.from(e.childNodes);if(e["s-sr"]&&Ya.experimentalSlotFixes){let i=e;for(;i=i.nextSibling;)i&&i["s-sn"]===e["s-sn"]&&i["s-sh"]===Eg&&r.push(i)}for(let i=r.length-1;i>=0;i--){const n=r[i];n["s-hn"]!==Eg&&n["s-ol"]&&(Sp(ice(n),n,RF(n)),n["s-ol"].remove(),n["s-ol"]=void 0,n["s-sh"]=void 0,jF=!0),t&&p3(n,t)}Xn.$flags$&=-2},tce=(e,t,r,i,n,o)=>{let u=e["s-cr"]&&e["s-cr"].parentNode||e,f;for(u.shadowRoot&&u.tagName===Eg&&(u=u.shadowRoot);n<=o;++n)i[n]&&(f=m6(null,r,n,e),f&&(i[n].$elm$=f,Sp(u,f,RF(t))))},rce=(e,t,r)=>{for(let i=t;i<=r;++i){const n=e[i];if(n){const o=n.$elm$;oce(n),o&&(y6=!0,o["s-ol"]?o["s-ol"].remove():p3(o,!0),o.remove())}}},sFe=(e,t,r,i,n=!1)=>{let o=0,u=0,f=0,m=0,v=t.length-1,_=t[0],$=t[v],T=i.length-1,I=i[0],O=i[T],A,N;for(;o<=v&&u<=T;)if(_==null)_=t[++o];else if($==null)$=t[--v];else if(I==null)I=i[++u];else if(O==null)O=i[--T];else if(a5(_,I,n))Ny(_,I,n),_=t[++o],I=i[++u];else if(a5($,O,n))Ny($,O,n),$=t[--v],O=i[--T];else if(a5(_,O,n))(_.$tag$==="slot"||O.$tag$==="slot")&&p3(_.$elm$.parentNode,!1),Ny(_,O,n),Sp(e,_.$elm$,$.$elm$.nextSibling),_=t[++o],O=i[--T];else if(a5($,I,n))(_.$tag$==="slot"||O.$tag$==="slot")&&p3($.$elm$.parentNode,!1),Ny($,I,n),Sp(e,$.$elm$,_.$elm$),$=t[--v],I=i[++u];else{for(f=-1,m=o;m<=v;++m)if(t[m]&&t[m].$key$!==null&&t[m].$key$===I.$key$){f=m;break}f>=0?(N=t[f],N.$tag$!==I.$tag$?A=m6(t&&t[u],r,f,e):(Ny(N,I,n),t[f]=void 0,A=N.$elm$),I=i[++u]):(A=m6(t&&t[u],r,u,e),I=i[++u]),A&&Sp(ice(_.$elm$),A,RF(_.$elm$))}o>v?tce(e,i[T+1]==null?null:i[T+1].$elm$,r,i,u,T):u>T&&rce(t,o,v)},a5=(e,t,r=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&r&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:r?!0:e.$key$===t.$key$:!1,RF=e=>e&&e["s-ol"]||e,ice=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Ny=(e,t,r=!1)=>{const i=t.$elm$=e.$elm$,n=e.$children$,o=t.$children$,u=t.$tag$,f=t.$text$;let m;f===null?(ea=u==="svg"?!0:u==="foreignObject"?!1:ea,u==="slot"&&!f6||ece(e,t,ea),n!==null&&o!==null?sFe(i,n,t,o,r):o!==null?(e.$text$!==null&&(i.textContent=""),tce(i,null,t,o,0,o.length-1)):!r&&Ya.updatable&&n!==null&&rce(n,0,n.length-1),ea&&u==="svg"&&(ea=!1)):(m=i["s-cr"])?m.parentNode.textContent=f:e.$text$!==f&&(i.data=f)},nce=e=>{const t=e.childNodes;for(const r of t)if(r.nodeType===1){if(r["s-sr"]){const i=r["s-sn"];r.hidden=!1;for(const n of t)if(n!==r){if(n["s-hn"]!==r["s-hn"]||i!==""){if(n.nodeType===1&&(i===n.getAttribute("slot")||i===n["s-sn"])||n.nodeType===3&&i===n["s-sn"]){r.hidden=!0;break}}else if(n.nodeType===1||n.nodeType===3&&n.textContent.trim()!==""){r.hidden=!0;break}}}nce(r)}},hh=[],sce=e=>{let t,r,i;for(const n of e.childNodes){if(n["s-sr"]&&(t=n["s-cr"])&&t.parentNode){r=t.parentNode.childNodes;const o=n["s-sn"];for(i=r.length-1;i>=0;i--)if(t=r[i],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==n["s-hn"]&&!Ya.experimentalSlotFixes)if(QH(t,o)){let u=hh.find(f=>f.$nodeToRelocate$===t);y6=!0,t["s-sn"]=t["s-sn"]||o,u?(u.$nodeToRelocate$["s-sh"]=n["s-hn"],u.$slotRefNode$=n):(t["s-sh"]=n["s-hn"],hh.push({$slotRefNode$:n,$nodeToRelocate$:t})),t["s-sr"]&&hh.map(f=>{QH(f.$nodeToRelocate$,t["s-sn"])&&(u=hh.find(m=>m.$nodeToRelocate$===t),u&&!f.$slotRefNode$&&(f.$slotRefNode$=u.$slotRefNode$))})}else hh.some(u=>u.$nodeToRelocate$===t)||hh.push({$nodeToRelocate$:t})}n.nodeType===1&&sce(n)}},QH=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",oce=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(oce)},Sp=(e,t,r)=>{const i=e==null?void 0:e.insertBefore(t,r);return LF(t,e),i},ace=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...ace(e.parentElement)),t},LF=(e,t,r=!1)=>{var i;if(e&&t&&e.nodeType===1){const n=new Set(ace(t).filter(Boolean));if(n.size&&((i=e.classList)==null||i.add(...e["s-scs"]=[...n]),e["s-ol"]||r))for(const o of Array.from(e.childNodes))LF(o,e,!0)}},oFe=(e,t,r=!1)=>{var i,n,o,u,f;const m=e.$hostElement$,v=e.$cmpMeta$,_=e.$vnode$||p6(null,null),$=WNe(t)?t:Zue(null,null,t);if(Eg=m.tagName,v.$attrsToReflect$&&($.$attrs$=$.$attrs$||{},v.$attrsToReflect$.map(([T,I])=>$.$attrs$[I]=m[T])),r&&$.$attrs$)for(const T of Object.keys($.$attrs$))m.hasAttribute(T)&&!["key","ref","style","class"].includes(T)&&($.$attrs$[T]=m[T]);$.$tag$=null,$.$flags$|=4,e.$vnode$=$,$.$elm$=_.$elm$=m.shadowRoot||m,Ly=m["s-sc"],f6=(v.$flags$&1)!==0,DO=m["s-cr"],y6=!1,Ny(_,$,r);{if(Xn.$flags$|=1,jF){sce($.$elm$);for(const T of hh){const I=T.$nodeToRelocate$;if(!I["s-ol"]){const O=ou.createTextNode("");O["s-nr"]=I,Sp(I.parentNode,I["s-ol"]=O,I)}}for(const T of hh){const I=T.$nodeToRelocate$,O=T.$slotRefNode$;if(O){const A=O.parentNode;let N=O.nextSibling;{let F=(i=I["s-ol"])==null?void 0:i.previousSibling;for(;F;){let z=(n=F["s-nr"])!=null?n:null;if(z&&z["s-sn"]===I["s-sn"]&&A===z.parentNode){for(z=z.nextSibling;z===I||z!=null&&z["s-sr"];)z=z==null?void 0:z.nextSibling;if(!z||!z["s-nr"]){N=z;break}}F=F.previousSibling}}(!N&&A!==I.parentNode||I.nextSibling!==N)&&I!==N&&(!I["s-hn"]&&I["s-ol"]&&(I["s-hn"]=I["s-ol"].parentNode.nodeName),Sp(A,I,N),I.nodeType===1&&(I.hidden=(o=I["s-ih"])!=null?o:!1)),I&&typeof O["s-rf"]=="function"&&O["s-rf"](I)}else I.nodeType===1&&(r&&(I["s-ih"]=(u=I.hidden)!=null?u:!1),I.hidden=!0)}}y6&&nce($.$elm$),Xn.$flags$&=-2,hh.length=0}if(Ya.experimentalScopedSlotChanges&&v.$flags$&2)for(const T of $.$elm$.childNodes)T["s-hn"]!==Eg&&!T["s-sh"]&&(r&&T["s-ih"]==null&&(T["s-ih"]=(f=T.hidden)!=null?f:!1),T.hidden=!0);DO=void 0},aFe=(e,t)=>{},NF=(e,t)=>(e.$flags$|=16,aFe(e,e.$ancestorComponent$),RNe(()=>lFe(e,t))),lFe=(e,t)=>{const r=e.$hostElement$,i=f1("scheduleUpdate",e.$cmpMeta$.$tagName$),n=r;if(!n)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?o=Km(n,"componentWillLoad"):o=Km(n,"componentWillUpdate"),o=eW(o,()=>Km(n,"componentWillRender")),i(),eW(o,()=>cFe(e,n,t))},eW=(e,t)=>uFe(e)?e.then(t).catch(r=>{console.error(r),t()}):t(),uFe=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",cFe=async(e,t,r)=>{const i=e.$hostElement$,n=f1("update",e.$cmpMeta$.$tagName$);i["s-rc"],r&&rFe(e);const o=f1("render",e.$cmpMeta$.$tagName$);hFe(e,t,i,r),o(),n(),dFe(e)},tW=null,hFe=(e,t,r,i)=>{try{tW=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Ya.hasRenderFn||Ya.reflect)&&(Ya.vdomRender||Ya.reflect)&&(Ya.hydrateServerSide||oFe(e,t,i))}catch(m){$x(m,e.$hostElement$)}return tW=null,null},dFe=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,i=f1("postUpdate",t),n=r;e.$ancestorComponent$,Km(n,"componentDidRender"),e.$flags$&64?(Km(n,"componentDidUpdate"),i()):(e.$flags$|=64,Km(n,"componentDidLoad"),i())},r4t=e=>{{const t=N1(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&NF(t,!1),r}},Km=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(i){$x(i)}},pFe=(e,t)=>N1(e).$instanceValues$.get(t),fFe=(e,t,r,i)=>{const n=N1(e),o=e,u=n.$instanceValues$.get(t),f=n.$flags$,m=o;r=ZNe(r,i.$members$[t][0]);const v=Number.isNaN(u)&&Number.isNaN(r);if(r!==u&&!v){n.$instanceValues$.set(t,r);{if(i.$watchers$&&f&128){const $=i.$watchers$[t];$&&$.map(T=>{try{m[T](r,u,t)}catch(I){$x(I,o)}})}if((f&18)===2){if(m.componentShouldUpdate&&m.componentShouldUpdate(r,u,t)===!1)return;NF(n,!1)}}}},yFe=(e,t,r)=>{var i,n;const o=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const u=Object.entries((i=t.$members$)!=null?i:{});u.map(([f,[m]])=>{(m&31||m&32)&&Object.defineProperty(o,f,{get(){return pFe(this,f)},set(v){fFe(this,f,v,t)},configurable:!0,enumerable:!0})});{const f=new Map;o.attributeChangedCallback=function(m,v,_){Xn.jmp(()=>{var $;const T=f.get(m);if(this.hasOwnProperty(T))_=this[T],delete this[T];else{if(o.hasOwnProperty(T)&&typeof this[T]=="number"&&this[T]==_)return;if(T==null){const I=N1(this),O=I==null?void 0:I.$flags$;if(O&&!(O&8)&&O&128&&_!==v){const N=this,F=($=t.$watchers$)==null?void 0:$[m];F==null||F.forEach(z=>{N[z]!=null&&N[z].call(N,_,v,m)})}return}}this[T]=_===null&&typeof this[T]=="boolean"?!1:_})},e.observedAttributes=Array.from(new Set([...Object.keys((n=t.$watchers$)!=null?n:{}),...u.filter(([m,v])=>v[0]&15).map(([m,v])=>{var _;const $=v[1]||m;return f.set($,m),v[0]&512&&((_=t.$attrsToReflect$)==null||_.push([m,$])),$})]))}}return e},mFe=async(e,t,r,i)=>{let n;if(!(t.$flags$&32)){t.$flags$|=32,r.$lazyBundleId$;{n=e.constructor;const u=e.localName;customElements.whenDefined(u).then(()=>t.$flags$|=128)}if(n&&n.style){let u;typeof n.style=="string"?u=n.style:typeof n.style!="string"&&(t.$modeName$=YNe(e),t.$modeName$&&(u=n.style[t.$modeName$]));const f=Xue(r,t.$modeName$);if(!d6.has(f)){const m=f1("registerStyles",r.$tagName$);eFe(f,u,!!(r.$flags$&1)),m()}}}t.$ancestorComponent$,NF(t,!0)},rW=e=>{},gFe=e=>{if(!(Xn.$flags$&1)){const t=N1(e),r=t.$cmpMeta$,i=f1("connectedCallback",r.$tagName$);t.$flags$&1?(lce(e,t,r.$listeners$),t!=null&&t.$lazyInstance$?rW(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>rW(t.$lazyInstance$))):(t.$flags$|=1,r.$flags$&12&&vFe(e),r.$members$&&Object.entries(r.$members$).map(([n,[o]])=>{if(o&31&&e.hasOwnProperty(n)){const u=e[n];delete e[n],e[n]=u}}),mFe(e,t,r)),i()}},vFe=e=>{const t=e["s-cr"]=ou.createComment("");t["s-cn"]=!0,Sp(e,t,e.firstChild)},bFe=async e=>{if(!(Xn.$flags$&1)){const t=N1(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},i4t=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const i=e.prototype.connectedCallback,n=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){CNe(this,r)},connectedCallback(){const o=N1(this);lce(this,o,r.$listeners$),gFe(this),i&&i.call(this)},disconnectedCallback(){bFe(this),n&&n.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${r.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=r.$tagName$,yFe(e,r)},n4t=(e,t)=>t,lce=(e,t,r,i)=>{r&&r.map(([n,o,u])=>{const f=xFe(e,n),m=wFe(t,u),v=_Fe(n);Xn.ael(f,o,m,v),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Xn.rel(f,o,m,v))})},wFe=(e,t)=>r=>{var i;try{Ya.lazyLoad||e.$hostElement$[t](r)}catch(n){$x(n)}},xFe=(e,t)=>t&4?ou:t&8?Mx:t&16?ou.body:e,_Fe=e=>PNe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const xh=globalThis.calciteConfig,s4t=(xh==null?void 0:xh.focusTrapStack)||[],o4t=(xh==null?void 0:xh.logLevel)||"info",iW="2.12.1",SFe="2024-09-04",$Fe="eae5049";function MFe(){if(xh&&xh.version)return;console.info(`Using Calcite Components ${iW} [Date: ${SFe}, Revision: ${$Fe}]`);const e=xh||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:iW,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */const uce=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function TFe(){return navigator.userAgentData}function a4t(){if(!uce())return"";const e=TFe();return e!=null&&e.brands?e.brands.map(({brand:t,version:r})=>`${t}/${r}`).join(" "):navigator.userAgent}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.12.1
 */function nW(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(Hue)||e.contains(que)&&t?"dark":"light",i=u=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:u}})),n=u=>{o!==u&&i(u),o=u};let o=r();i(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",u=>n(u.matches?"dark":"light")),new MutationObserver(()=>n(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function kFe(){uce()&&(document.readyState==="interactive"?nW():document.addEventListener("DOMContentLoaded",()=>nW(),{once:!0})),MFe()}const CFe=kFe;CFe();let cce;function EFe(){try{LNe(".")}catch{NNe(Ja(Or(cce)))}}function rf(e){var r;const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push((r=e[i])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}cce="components/assets";const hce=Symbol("widget"),dce=Symbol("widget-test-data"),IFe=[],PFe={},g6=new WeakMap;function pce(e,t){let r=t.children;if(r!=null&&r.length)for(let n=0;n<r.length;++n)r[n]=pce(e,r[n]);else r=IFe;const i=t.vnodeSelector;if(v6(i)){const n=t.properties||PFe,o=n.key||i;return{vnodeSelector:"div",properties:{key:o,afterCreate:OFe,afterUpdate:AFe,afterRemoved:fce,parentWidget:e,widgetConstructor:i,widgetProperties:{...n,key:o,children:r}},children:void 0,text:void 0,domNode:null}}return t}function OFe(e,t,r,{parentWidget:i,widgetConstructor:n,widgetProperties:o}){var f;const u=new n(o);u.container=e,g6.set(e,u),(f=u.afterCreate)==null||f.call(u,u,e),i.addHandles(Kr(()=>fce(e))),queueMicrotask(()=>{u[dce].projector.renderNow()})}function AFe(e,t,r,{widgetProperties:i}){var o;const n=g6.get(e);n&&(n.set(i),(o=n.afterUpdate)==null||o.call(n,n,e))}function fce(e){var r;const t=g6.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),g6.delete(e))}function v6(e){return typeof e=="function"&&e[hce]}const sW=new Set;function jFe(e){sW.add(e),e.finally(()=>sW.delete(e))}var yce;const RFe="esri.widgets.Widget";let LFe=0;function mce(e,t){const r=Object.prototype.hasOwnProperty;for(const i in t)r.call(t,i)&&r.call(e,i)&&(e[i]!=null&&t[i]!=null&&typeof e[i]=="object"&&typeof t[i]=="object"?mce(e[i],t[i]):e[i]=t[i]);return e}const NFe=$Ne({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,n,o,u)=>{const f=t==null?void 0:t(i,n,o,u),m=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in o)||m){const v=i[2].toLowerCase()+i.slice(3),_=I=>f==null?void 0:f.call(o,I);o.addEventListener(v,_,m);const $=()=>o.removeEventListener(v,_,m),T=u.afterRemoved;u.afterRemoved=I=>{T==null||T(I),$()}}return f}},handleInterceptedEvent(e,t,r,i){const{eventPhase:n,type:o}=i,u=n===Event.CAPTURING_PHASE;let f=`on${o}${u?"capture":""}`;const m=t.properties;(m&&f in m||(f=`on${o[0].toUpperCase()}${o.slice(1)}${u?"Capture":""}`,m&&f in m))&&(goe(),e.scheduleRender(),m[f].call(m.bind||r,i))}});let xk=!1,En=class extends yx(wl.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=NFe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=g7(async()=>{var m;if((m=this._messageBundleProps)!=null&&m.length){const v=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:_,propertyName:$})=>{if(this.destroyed)return;let T=await zN(_);this.uiStrings&&Object.keys(this.uiStrings)&&(T=mce(ve(T),this.uiStrings)),this[$]=T}));if(this.destroyed)return;for(const _ of v)_.status==="rejected"&&Ne.getLogger(this).error("widget-intl:locale-error",this.declaredClass,_.reason)}await this.loadLocale()}),EFe();const i="esri-widget-uid-"+OF(),n=this.render.bind(this);this._trackingTarget=new v7(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const o=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),u=()=>{var $,T;if(!this._readyForTrueRender||this.destroyed)return null;const m=n()??o(),v=m.properties??(m.properties={});if(v.key??(v.key=i),v6(m.vnodeSelector)){if(!this.visible)return o()}else this.visible?v.styles||(v.styles={}):(v.class="",v.styles={display:"none"}),($=v.styles).display??($.display="");let _=0;return(T=m.children)==null||T.forEach(I=>{var O;v6(I.vnodeSelector)||(I.properties??(I.properties={}),(O=I.properties).key??(O.key=`${this.id}--${_++}`))}),pce(this,m)};this.render=()=>{if(xk)return u();let m=NTe(this)??null;if(m)return m;this._trackingTarget.clear(),xk=!0;try{m=Eh(this._trackingTarget,u)}catch(v){throw Ne.getLogger(this).error(v),v}finally{xk=!1}return m&&FTe(this,m),m};const f=this.beforeFirstRender();f?this._resourcesFetch=f.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),jFe(this._resourcesFetch)}normalizeCtorArgs(t,r){const i={...t};return r&&(i.container=r),i}postInitialize(){}beforeFirstRender(){var r;const t=this.loadDependencies();return(r=this._messageBundleProps)!=null&&r.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(yU):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ai(this._trackingTarget),ai(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,VT(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return qN(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+LFe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(yce=hce,dce)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(VT(this),this._projector.scheduleRender())}own(t){zte(Ne.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(t)}classes(...t){return voe.apply(this,t)}renderNow(){VT(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this.addHandles(lt(()=>this.viewModel,(i,n)=>{n&&this.removeHandles("delegated-events"),i&&y7(i)&&this.addHandles(this._delegatedEventNames.map(o=>rx(i,o,u=>{this.emit(o,u)})),"delegated-events")},ta)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(yU),this.scheduleRender()};this.addHandles([kN(t),lt(()=>this.uiStrings,t),fa(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};En[yce]=!0,b([M()],En.prototype,"_readyForTrueRender",void 0),b([M({value:null})],En.prototype,"container",null),b([Ar("container")],En.prototype,"castContainer",null),b([M()],En.prototype,"icon",null),b([M()],En.prototype,"id",null),b([M()],En.prototype,"label",null),b([M()],En.prototype,"renderable",null),b([M()],En.prototype,"uiStrings",void 0),b([M()],En.prototype,"viewModel",void 0),b([M({value:!0})],En.prototype,"visible",null),b([M()],En.prototype,"key",void 0),b([M()],En.prototype,"children",void 0),b([M()],En.prototype,"afterCreate",void 0),b([M()],En.prototype,"afterUpdate",void 0),b([M()],En.prototype,"afterRemoved",void 0),En=b([se(RFe)],En);const xl=En,FFe=new Map;function DFe(e){return FFe.get(e)}function oW(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function zFe(e,t){return e.length!==t.length||e.some((r,i)=>r.text!==t[i].text)}function sb(e,t,r){!r||!t||e.find(i=>i.layerView===t&&i.text===r)||e.push({text:r,layerView:t})}function BFe(e){return e.type==="bing-maps"}const Cc=[];let Fy=class extends St{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ut,this.view=null,this._allLayerViewsChange=r=>{var n;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=(n=this.view)==null?void 0:n.allLayerViews;i&&(this.addHandles(i.map(o=>lt(()=>{var u;return[o.suspended,(u=o.layer)==null?void 0:u.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(o=>{o.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(o.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),r!=null&&r.removed&&r.removed.forEach(o=>{this._pendingAttributions.delete(o),this._fetchedAttributionData.delete(o)}),this._updateAttributionItems()},this.addHandles([co(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),fa(()=>{var r;return((r=this.view)==null?void 0:r.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t==null?void 0:t.allLayerViews;if(Cc.length=0,!t||!r)return void this._clear();r.forEach(n=>{var f,m;if(n.suspended||!((f=n.layer)!=null&&f.attributionVisible))return;const o=n.layer;if(oW(o,"user"))return void sb(Cc,n,o.copyright);if(o.hasAttributionData){if(this._fetchedAttributionData.has(n)){const v=this._fetchedAttributionData.get(n);return void(v?sb(Cc,n,this._getDynamicAttribution(v,t,o)):oW(o)&&sb(Cc,n,o.copyright))}return void this._fetchAttributionData(n)}const u="portalItem"in o?(m=o.portalItem)==null?void 0:m.accessInformation:void 0;sb(Cc,n,u||o.copyright)});const i=r.find(n=>{var o;return((o=n.layer)==null?void 0:o.type)==="integrated-mesh-3dtiles"});if(this.view&&i){const n=DFe(this.view);if(n){const o=n.getAttributionText();for(let u=0;u<o.length;++u)sb(Cc,i,o[u])}}zFe(this.items,Cc)&&(this.items.removeAll(),this.items.addMany(Cc)),Cc.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await I7(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=r.ok?this._createContributionIndex(r.value,BFe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,r){const i=t.contributors,n={};if(!i)return n;for(let o=0;o<i.length;o++){const u=i[o],f=u.coverageAreas;if(!f)return;for(const m of f){const v=m.bbox,_=m.zoomMin-(r&&m.zoomMin?1:0),$=m.zoomMax-(r&&m.zoomMax?1:0),T=new mr({xmin:v[1],ymin:v[0],xmax:v[3],ymax:v[2],spatialReference:It.WGS84}),I={extent:nu(T),attribution:u.attribution||"",score:m.score!=null?m.score:100,id:o};for(let O=_;O<=$;O++)n[O]??(n[O]=[]),n[O].push(I)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,r,i){var _;const{extent:n,scale:o}=r;let u=((_=i.tileInfo)==null?void 0:_.scaleToZoom(o))??0;if(u=Math.min(t.maxKey??0,Math.round(u)),!n||u==null||u<=-1)return"";const f=t[u],m=C7(n.center.clone().normalize(),r.spatialReference),v=new Set;return f?f.filter($=>{const T=$.id,I=!v.has(T)&&m&&$.extent&&ax($.extent,m);return I&&v.add(T),I}).sort(($,T)=>T.score-$.score||$.objectId-T.objectId).map($=>$.attribution).join(", "):""}};b([M({readOnly:!0,type:ut})],Fy.prototype,"items",void 0),b([M({readOnly:!0})],Fy.prototype,"state",null),b([M()],Fy.prototype,"view",void 0),Fy=b([se("esri.widgets.Attribution.AttributionViewModel")],Fy);const gce=Fy,Bt={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function b6(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:UFe(e[t])}}}function VFe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function UFe(e){return function(t,...r){VFe(t)?woe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function ho(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var GFe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},vce=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];Array.isArray(n)?vce(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=GFe(n)),t.push(n))}},qFe=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var n=[];return vce(r,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function Ie(e,t,...r){return typeof e!="function"||v6(e)?qFe(e,t,...r):e(t,...r)}function c4t(...e){return e}const sy="esri-attribution",oy={base:sy,poweredBy:`${sy}__powered-by`,sources:`${sy}__sources`,open:`${sy}--open`,sourcesOpen:`${sy}__sources--open`,link:`${sy}__link`};let Zs=class extends xl{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(i=>i.forEach(({target:n})=>this._checkSourceTextOverflow(n))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new gce}initialize(){this.addHandles(co(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[oy.open]:this._isOpen};return Ie("div",{bind:this,class:this.classes(oy.base,Bt.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return Ie("div",{class:oy.poweredBy},"Powered by"," ",Ie("a",{class:oy.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,i=r?0:void 0,{attributionText:n}=this,o={[oy.sourcesOpen]:t,[Bt.interactive]:r};return Ie("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(oy.sources,o),innerHTML:n,tabIndex:i})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:i,clientWidth:n,scrollWidth:o}=t,u=o>n,f=this._attributionTextOverflowed!==u;if(this._attributionTextOverflowed=u,f&&(r=!0),this._isOpen){const m=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,m&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};b([M()],Zs.prototype,"_isOpen",void 0),b([M()],Zs.prototype,"_isInteractive",null),b([M()],Zs.prototype,"_attributionTextOverflowed",void 0),b([M()],Zs.prototype,"_prevSourceNodeHeight",void 0),b([M({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Zs.prototype,"attributionText",null),b([M()],Zs.prototype,"icon",null),b([M()],Zs.prototype,"itemDelimiter",void 0),b([M()],Zs.prototype,"label",null),b([M(),ho("esri/widgets/Attribution/t9n/Attribution")],Zs.prototype,"messages",void 0),b([M()],Zs.prototype,"view",null),b([M({type:gce})],Zs.prototype,"viewModel",void 0),b([b6()],Zs.prototype,"_toggleState",null),Zs=b([se("esri.widgets.Attribution")],Zs);const HFe=Zs;function WFe(e){var t,r;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((r=e==null?void 0:e.spatialReference)==null?void 0:r.isGeographic)||!1}const FF=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:i}=this;return nre(i),this.goToOverride?this.goToOverride(i,r):i.goTo(r.target,r.options)}};return b([M()],t.prototype,"goToOverride",void 0),b([M()],t.prototype,"view",void 0),t=b([se("esri.widgets.support.GoTo")],t),t};let Kf=class extends FF(St){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(lt(()=>this.view,this._updateRotationWatcher,ri))}destroy(){this.view=null}get canShowNorth(){return WFe(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,r;(t=this.view)!=null&&t.ready&&(((r=this.view)==null?void 0:r.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:ke("mapview-essential-goto-duration")}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),t&&this.addHandles(t.type==="2d"?lt(()=>t==null?void 0:t.rotation,this._updateForRotation,ri):lt(()=>t==null?void 0:t.camera,this._updateForCamera,ri))}};b([M({readOnly:!0})],Kf.prototype,"canShowNorth",null),b([M({readOnly:!0})],Kf.prototype,"orientation",void 0),b([M({readOnly:!0})],Kf.prototype,"state",null),b([M()],Kf.prototype,"view",void 0),Kf=b([se("esri.widgets.Compass.CompassViewModel")],Kf);const bce=Kf,aW="esri-compass",lW={base:aW,iconContainer:`${aW}__icon-container`};let Bc=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new bce,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-CptXRCQG.js"),__vite__mapDeps([219,217,209,215]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,{messages:i}=this;return Ie("div",{class:this.classes(lW.base,Bt.widget)},Ie("calcite-button",{class:Bt.widgetButton,disabled:r==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},Ie("div",{"aria-hidden":"true",class:lW.iconContainer,title:i.reset},Ie("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};b([M()],Bc.prototype,"goToOverride",null),b([M()],Bc.prototype,"icon",null),b([M()],Bc.prototype,"label",null),b([M(),ho("esri/widgets/Compass/t9n/Compass")],Bc.prototype,"messages",void 0),b([M()],Bc.prototype,"view",null),b([M({type:bce})],Bc.prototype,"viewModel",void 0),Bc=b([se("esri.widgets.Compass")],Bc);const JFe=Bc,uW="esri-navigation-toggle",cW={base:uW,isLayoutHorizontal:`${uW}--horizontal`};let Dy=class extends St{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(fa(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t,r;return(t=this.view)!=null&&t.ready&&((r=this.view)==null?void 0:r.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._setNavigationMode()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_setNavigationMode(){var r;const t=(r=this.view)==null?void 0:r.inputManager;t&&(t.primaryDragAction=this._navigationMode==="pan"?"pan":"rotate")}};b([M({readOnly:!0})],Dy.prototype,"state",null),b([M()],Dy.prototype,"_navigationMode",void 0),b([M()],Dy.prototype,"view",void 0),Dy=b([se("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Dy);const wce=Dy;let Vc=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new wce,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var n;const i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan"?this._rotateButton:this._panButton;i==null||i.setFocus(),this.toggle()}}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var n,o;const t=((n=this.viewModel)==null?void 0:n.state)==="disabled",r=((o=this.viewModel)==null?void 0:o.navigationMode)==="pan",i=this.messages.toggle;return Ie("div",{class:this.classes(cW.base,Bt.widget,{[cW.isLayoutHorizontal]:this.layout==="horizontal"})},Ie("calcite-button",{afterCreate:u=>{this._panButton=u},appearance:r?"outline-fill":"solid",class:Bt.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?void 0:-1,title:i}),Ie("calcite-button",{afterCreate:u=>{this._rotateButton=u},appearance:r?"solid":"outline-fill",class:Bt.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?-1:void 0,title:i}))}};b([M()],Vc.prototype,"icon",null),b([M()],Vc.prototype,"label",null),b([M({value:"vertical"})],Vc.prototype,"layout",null),b([M(),ho("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Vc.prototype,"messages",void 0),b([M()],Vc.prototype,"view",null),b([M({type:wce})],Vc.prototype,"viewModel",void 0),Vc=b([se("esri.widgets.NavigationToggle")],Vc);const KFe=Vc;let Yf=class extends St{get canZoomIn(){var i,n,o;if(!((i=this.view)==null?void 0:i.ready))return!1;const r=(o=(n=this.view)==null?void 0:n.constraints)==null?void 0:o.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){var n;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const i=(n=t.constraints)==null?void 0:n.effectiveMinScale;return i===0||this._scale<i}get _scale(){var r,i,n;const t=(i=(r=this.view)==null?void 0:r.animation)==null?void 0:i.target;return(t&&"then"in t||t==null?void 0:t.scale)??((n=this.view)==null?void 0:n.scale)??0}};b([M({readOnly:!0})],Yf.prototype,"canZoomIn",null),b([M({readOnly:!0})],Yf.prototype,"canZoomOut",null),b([M()],Yf.prototype,"view",void 0),b([M()],Yf.prototype,"_scale",null),Yf=b([se("esri.widgets.Zoom.ZoomConditions2D")],Yf);const YFe=Yf;let zy=class extends St{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};b([M({readOnly:!0})],zy.prototype,"canZoomIn",null),b([M({readOnly:!0})],zy.prototype,"canZoomOut",null),b([M()],zy.prototype,"view",void 0),zy=b([se("esri.widgets.Zoom.ZoomConditions3D")],zy);const ZFe=zy;let kd=class extends St{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new YFe({view:t}):t.type==="3d"&&(this._zoomConditions=new ZFe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():VE(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():VE(t.goTo({zoomFactor:.5}))}};b([M()],kd.prototype,"_zoomConditions",void 0),b([M()],kd.prototype,"canZoomIn",null),b([M()],kd.prototype,"canZoomOut",null),b([M({readOnly:!0})],kd.prototype,"state",null),b([M()],kd.prototype,"view",null),kd=b([se("esri.widgets.Zoom.ZoomViewModel")],kd);const xce=kd,hW={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Uc=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new xce,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[hW.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:i}=this.viewModel,{zoomIn:n,zoomOut:o}=this.messages;return Ie("div",{class:this.classes(hW.base,Bt.widget,t)},Ie("calcite-button",{class:Bt.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),Ie("calcite-button",{class:Bt.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:o,onclick:this.zoomOut,title:o}))}};b([M()],Uc.prototype,"icon",null),b([M()],Uc.prototype,"label",null),b([M({value:"vertical"})],Uc.prototype,"layout",null),b([M(),ho("esri/widgets/Zoom/t9n/Zoom")],Uc.prototype,"messages",void 0),b([M()],Uc.prototype,"view",null),b([M({type:xce})],Uc.prototype,"viewModel",void 0),Uc=b([se("esri.widgets.Zoom")],Uc);const XFe=Uc;function QFe(e){return(e==null?void 0:e.view)!==void 0}let ZS=class extends mNe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(i=>{const n=this._find(i),o=n==null?void 0:n.widget;QFe(o)&&(o.view=r)})},this._componentsWatcher=(r,i)=>{this._removeComponents(i),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([lt(()=>this.components,this._componentsWatcher,ri),lt(()=>this.view,this._updateViewAwareWidgets,ri)])}_add(t,r,i,n,o){let u=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;u=this._createComponent(t)}super._add(u,r,i,n,o)}_removeComponents(t){t.forEach(r=>{const i=this._find(r);i&&(this.remove(i),i.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new YS({id:t,node:r})}_createWidget(t){const r=this.view;switch(t){case"attribution":return new HFe({view:r});case"compass":return new JFe({view:r});case"navigation-toggle":return new KFe({view:r});case"zoom":return new XFe({view:r})}}};b([M()],ZS.prototype,"components",void 0),ZS=b([se("esri.views.ui.DefaultUI")],ZS);const _ce=ZS;let XS=class extends _ce{constructor(t){super(t),this.components=["attribution","zoom"]}};b([M()],XS.prototype,"components",void 0),XS=b([se("esri.views.ui.2d.DefaultUI2D")],XS);const Sce=XS;function dW(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}var zO;let QS=zO=class extends Fe{constructor(e){super(e),this.color=new Dt([0,0,0,1])}clone(){return new zO(ve({color:this.color}))}};b([M({type:Dt,json:{write:!0}})],QS.prototype,"color",void 0),QS=zO=b([se("esri.webmap.background.ColorBackground")],QS);const eDe=QS;let $ce,Mce,Tce,kce,Cce,Ece;async function tDe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:n,Stage:o}]=await Promise.all([Ce(()=>import("./webglDeps-wXQpGyaN.js"),__vite__mapDeps([133,64,63,33,134,135]),import.meta.url),Ce(()=>import("./mapViewDeps-Z1UN4pUy.js"),__vite__mapDeps([136,71,69,70,11,72,62,59,73,65,137,103,76,33,66,67,28,63,64,61,34,68,77,78,79,138,139,140,135,87,112,111,13,10,14,110,133,134,141,82,142,60,20,17,7,143,144,145,105,146,147,148,149,49,150,80,151,75,152,153,154,155,156,157,158]),import.meta.url)]);Mce=e,Tce=t,kce=r,Cce=i,Ece=n,$ce=o}let Ut=class extends GMe(bke(ske(zOe))){constructor(t){super(t),this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new u1({getCollections:()=>{var r,i;return[(r=this.basemapView)==null?void 0:r.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new JS({view:this}),this.graphicsView=null,this.stateManager=new Ys({constraints:new kue({view:this})}),this.stationaryManager=new y2,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new ARe(this),this.floors=new ut,this.highlightOptions=new Nue,this.inputManager=new kLe({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Vue,this.type="2d",this.ui=new Sce,this.test={takeScreenshot:async r=>ZLe(this._getScreenshotView(r),r)},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([lt(()=>this.viewpoint,()=>this.stationaryManager.flip(),cs),this.on("resize",r=>this.stateManager.resize(r.width,r.height))]),oMe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=ai(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new jLe(this.featuresTilingScheme)}get constraintsInfo(){var i,n;const t=(i=this.defaultsFromMap)==null?void 0:i.tileInfo,r=this.spatialReference;return{lods:(n=t==null?void 0:t.spatialReference)!=null&&n.equals(r)?t.lods:null,spatialReference:r}}get state(){return this.stateManager.state}get initialExtentRequired(){var f;if(!this.stateManager)return!1;const{scale:t,constraints:r,center:i,viewpoint:n,extent:o}=this;let u=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((f=this.map.initialViewProperties)!=null&&f.viewpoint))&&!o&&(r!=null&&r.effectiveLODs||(u=-1),(!i||t===0&&u===-1)&&((n==null?void 0:n.targetGeometry)==null||n.targetGeometry.type!=="extent"&&!n.scale))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const r=t.targetGeometry,i=this.spatialReference;return Wse(r.spatialReference,i)}set animation(t){const r=this._get("animation");if(t===r)return;if(r&&r.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",t),this.frameTask.animationInProgress=!0;const i=()=>{var n;this.destroyed||(t===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame()),this.frameTask.animationInProgress=!1)};t.when(i,i)}get background(){return dW(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get constraints(){var t;return(t=this.stateManager)==null?void 0:t.constraints}set constraints(t){t.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=t,r==null||r.destroy()}get extent(){var t;return((t=this.stateManager)==null?void 0:t.extent)??null}set extent(t){this.stateManager.extent=t}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(t){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=r}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var i,n,o,u;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((i=this._magnifierView)!=null&&i.updatingHandles.updating)),r=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(f=>!f.destroyed&&!("layerViews"in f)&&f.updating===!0)||t);if(ke("esri-2d-log-updating")){const f=this.allLayerViews.reduce((m,v)=>({...m,[`${v.layer.id}(${v.layer.type})`]:!v.destroyed&&!("layerViews"in v)&&v.updating}),{});console.log(`Updating MapView: ${r}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(n=this.layerViewManager)==null?void 0:n.updating}
-> labelManager.updating: ${(o=this.labelManager)==null?void 0:o.updating}
-> graphicsView.updating: ${(u=this.graphicsView)==null?void 0:u.updating}
-> allLayerViews: ${JSON.stringify(f)}
-> updatingMagnifier: ${t}
`)}return r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}goTo(t,r){return this.goToManager.goTo(t,r)}async hitTest(t,r){return NLe(this,t,r)}async takeScreenshot(t){return YLe(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const r=Mle(t)?$le(this,t):t;return this.stateManager.toMap(r)}toScreen(t,r){return this.stateManager.toScreen(t,r)}on(t,r,i,n){return this.inputManager&&this.viewEvents.on(t,r,i,n)||super.on(t,r)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t,r,i;return this.map&&"initialViewProperties"in this.map&&((r=(t=this.map)==null?void 0:t.initialViewProperties)==null?void 0:r.spatialReference)||((i=this.defaultsFromMap)==null?void 0:i.spatialReference)||null}getDefaultTimeZone(){return dW(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(t){return xH.hasLayerViewModule(t)}importLayerView(t){return xH.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(Ne.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var v;const r=this.toMap(t),i=await this.hitTest(t),n=this.allLayerViews.toArray().reverse(),o=new globalThis.Map(n.map(_=>[_.layer.uid,_])),u=[];let f=0,m=0;for(;f<i.results.length||m<n.length;){const _=i.results.at(f);if(_&&_.type!=="graphic"){++f;continue}const $=o.get((v=(_==null?void 0:_.layer)??(_==null?void 0:_.graphic.layer))==null?void 0:v.uid);if((!_||$)&&m<n.length&&n.at(m)!==$){const T=n.at(m);"fetchPopupFeaturesAtLocation"in T&&u.push({mapPoint:r,layerView:T}),++m}else _&&(u.push({graphic:_.graphic,layerView:$}),++f)}return{hits:u,location:r}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=oNe(this.type);if(ke("safari")&&ke("safari")<9&&(t=new be("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:ke("safari")})),t!=null)throw Ne.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return tDe()}_getDefaultViewpoint(){var N;const{constraints:t,initialExtent:r,map:i,padding:n,size:o}=this;if(!t)return null;const u=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,f=this.stateManager.getUserStartupOptions(this.size),m=u==null?void 0:u.viewpoint,v=((N=m==null?void 0:m.targetGeometry)==null?void 0:N.extent)??r,_=v==null?void 0:v.center,$=(m==null?void 0:m.rotation)??0,T=(m==null?void 0:m.scale)||v&&s8(v,[o[0]-n.left-n.right,o[1]-n.top-n.bottom]),I=f.center??_,O=f.rotation??$,A=f.scale??T;return I&&A?new al({targetGeometry:I,scale:A,rotation:O}):null}_startup(){var f;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(f=this.defaultsFromMap.extent)==null?void 0:f.center),this.graphics.owner=this;const r=new $ce(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=r,this._magnifierView=new Ece,this._magnifierView.magnifier=this.magnifier;const i=new kce({view:this});this._set("labelManager",i);const n=new ORe({view:this});this._set("animationManager",n);const o=new Cce({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",m=>this.fatalError=m.error),lt(()=>this.stationary,m=>r.stationary=m,ta),lt(()=>this.background,m=>{r.backgroundColor=m==null?void 0:m.color,this._magnifierView.backgroundColor=m==null?void 0:m.color},ta),lt(()=>this.magnifier,m=>this._magnifierView.magnifier=m,ta),lt(()=>this.renderingOptions,m=>r.renderingOptions=m,ta),lt(()=>this.highlightOptions,m=>r.highlightOptions=m,ta),lt(()=>this.state.id,()=>r.state=this.state,ta)],"map-view"),this._updateStageChildren();const u=this._resolveWhenReady;this._resolveWhenReady=[],u.forEach(m=>m(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(r=>{this.stage.addChild(r.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const t=new BRe(iw.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const r=new Mce({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Tce(t)});this._set("graphicsView",r)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var u;const{allLayerViews:r,padding:i,size:n,stage:o}=this;return{allLayerViews:r,backgroundColor:t!=null&&t.ignoreBackground?null:(u=this.background)==null?void 0:u.color,padding:i,size:n,stage:o}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const r of this.allLayerViews)r.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const r of this.allLayerViews)r.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Ut.type="2d",b([M({readOnly:!0})],Ut.prototype,"animationManager",void 0),b([M({constructOnly:!0})],Ut.prototype,"deactivatedWebGLExtensions",void 0),b([M({constructOnly:!0})],Ut.prototype,"debugWebGLExtensions",void 0),b([M({readOnly:!0})],Ut.prototype,"featuresTilingScheme",void 0),b([M({readOnly:!0})],Ut.prototype,"fullOpacity",void 0),b([M()],Ut.prototype,"goToManager",void 0),b([M({readOnly:!0})],Ut.prototype,"graphicsTileStore",null),b([M()],Ut.prototype,"graphicsView",void 0),b([M()],Ut.prototype,"stateManager",void 0),b([M()],Ut.prototype,"constraintsInfo",null),b([M({readOnly:!0})],Ut.prototype,"state",null),b([M()],Ut.prototype,"initialExtentRequired",null),b([M()],Ut.prototype,"labelManager",void 0),b([M({readOnly:!0})],Ut.prototype,"mapViewNavigation",void 0),b([M({constructOnly:!0})],Ut.prototype,"renderCanvas",void 0),b([M()],Ut.prototype,"renderingOptions",void 0),b([M({constructOnly:!0})],Ut.prototype,"supersampleScreenshotsEnabled",void 0),b([M({readOnly:!0})],Ut.prototype,"supportsGround",void 0),b([M()],Ut.prototype,"_defaultsFromMapSettings",null),b([M({readOnly:!0})],Ut.prototype,"typeSpecificPreconditionsReady",null),b([M()],Ut.prototype,"animation",null),b([M({type:eDe})],Ut.prototype,"background",null),b([M()],Ut.prototype,"center",null),b([M({type:kue})],Ut.prototype,"constraints",null),b([M()],Ut.prototype,"extent",null),b([M()],Ut.prototype,"floors",void 0),b([M({type:Nue})],Ut.prototype,"highlightOptions",void 0),b([M({readOnly:!0})],Ut.prototype,"inputManager",void 0),b([M()],Ut.prototype,"map",void 0),b([M()],Ut.prototype,"padding",null),b([M({readOnly:!0})],Ut.prototype,"rendering",null),b([M()],Ut.prototype,"resizeAlign",null),b([M({readOnly:!0})],Ut.prototype,"resolution",null),b([M()],Ut.prototype,"rotation",null),b([M()],Ut.prototype,"scale",null),b([M({constructOnly:!0})],Ut.prototype,"spatialReferenceLocked",void 0),b([M()],Ut.prototype,"stationary",null),b([M({readOnly:!0})],Ut.prototype,"tileInfo",null),b([M({type:Vue,readOnly:!0})],Ut.prototype,"timeline",void 0),b([M({readOnly:!0})],Ut.prototype,"type",void 0),b([M({readOnly:!0})],Ut.prototype,"updating",null),b([M()],Ut.prototype,"viewpoint",null),b([M()],Ut.prototype,"zoom",null),b([M({readOnly:!0})],Ut.prototype,"navigating",null),b([M(),Ar(e=>e instanceof _ce?e:w7(Sce,e))],Ut.prototype,"ui",void 0),Ut=b([se("esri.views.MapView")],Ut);const rDe=Ut;var BO;let m2=BO=class extends Fe{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new BO({minValue:this.minValue,maxValue:this.maxValue})}};b([M({type:Number,json:{write:!0}})],m2.prototype,"minValue",void 0),b([M({type:Number,json:{write:!0}})],m2.prototype,"maxValue",void 0),m2=BO=b([se("esri.renderers.support.AuthoringInfoClassBreakInfo")],m2);var VO;let Hd=VO=class extends Fe{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new VO({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:ve(this.classBreakInfos)})}};b([M({type:String,json:{write:!0}})],Hd.prototype,"field",void 0),b([M({type:String,json:{write:!0}})],Hd.prototype,"normalizationField",void 0),b([M({type:String,json:{write:!0}})],Hd.prototype,"label",void 0),b([M({type:[m2],json:{write:!0}})],Hd.prototype,"classBreakInfos",void 0),Hd=VO=b([se("esri.renderers.support.AuthoringInfoFieldInfo")],Hd);var UO;let By=UO=class extends Fe{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new UO({label:this.label,value:this.value,size:this.size})}};b([M({type:String,json:{write:!0}})],By.prototype,"label",void 0),b([M({type:Number,json:{write:!0}})],By.prototype,"size",void 0),b([M({type:Number,json:{write:!0}})],By.prototype,"value",void 0),By=UO=b([se("esri.renderers.support.AuthoringInfoSizeStop")],By);const iDe=By;var GO;const l5=new hr({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),u5=new hr({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),pW={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},fW=["high-to-low","above-and-below","centered-on","extremes"],yW=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],mW=["seconds","minutes","hours","days","months","years"],nDe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let zn=GO=class extends Fe{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new GO({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:ve(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};b([M({types:pW,json:{write:!0}})],zn.prototype,"endTime",void 0),b([Ar("endTime")],zn.prototype,"castEndTime",null),b([M({type:String,json:{write:!0}})],zn.prototype,"field",void 0),b([M({type:Number,json:{write:!0}})],zn.prototype,"maxSliderValue",void 0),b([M({type:Number,json:{write:!0}})],zn.prototype,"minSliderValue",void 0),b([M({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],zn.prototype,"normalizationField",null),b([M({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],zn.prototype,"referenceSizeScale",null),b([M({type:nDe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],zn.prototype,"referenceSizeSymbolStyle",null),b([M({types:pW,json:{write:!0}})],zn.prototype,"startTime",void 0),b([Ar("startTime")],zn.prototype,"castStartTime",null),b([M({type:[iDe],json:{origins:{"web-scene":{write:!1}},write:!0}})],zn.prototype,"sizeStops",null),b([M({type:l5.apiValues,value:null,json:{type:l5.jsonValues,read:l5.read,write:l5.write}})],zn.prototype,"style",null),b([M({type:yW,value:null,json:{type:yW,origins:{"web-scene":{type:fW,write:{writer:(e,t)=>{fW.includes(e)&&(t.theme=e)}}}},write:!0}})],zn.prototype,"theme",null),b([M({type:u5.apiValues,json:{type:u5.jsonValues,read:u5.read,write:u5.write}})],zn.prototype,"type",void 0),b([M({type:mW,json:{type:mW,write:!0}})],zn.prototype,"units",void 0),zn=GO=b([se("esri.renderers.support.AuthoringInfoVisualVariable")],zn);const sDe=zn;let e9=class extends Fe{constructor(t){super(t),this.type=null}};b([M({readOnly:!0,json:{read:!1,write:!0}})],e9.prototype,"type",void 0),e9=b([se("esri.rest.support.ColorRamp")],e9);const DF=e9;var qO;let Zf=qO=class extends DF{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new qO({fromColor:ve(this.fromColor),toColor:ve(this.toColor),algorithm:this.algorithm})}};b([Ct({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Zf.prototype,"algorithm",void 0),b([M({type:Dt,json:{type:[Wr],write:!0}})],Zf.prototype,"fromColor",void 0),b([M({type:Dt,json:{type:[Wr],write:!0}})],Zf.prototype,"toColor",void 0),b([M({type:["algorithmic"]})],Zf.prototype,"type",void 0),Zf=qO=b([se("esri.rest.support.AlgorithmicColorRamp")],Zf);const zF=Zf;var HO;let g2=HO=class extends DF{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new HO({colorRamps:ve(this.colorRamps)})}};b([M({type:[zF],json:{write:!0}})],g2.prototype,"colorRamps",void 0),b([M({type:["multipart"]})],g2.prototype,"type",void 0),g2=HO=b([se("esri.rest.support.MultipartColorRamp")],g2);const Ice=g2,oDe={key:"type",base:DF,typeMap:{algorithmic:zF,multipart:Ice}};function aDe(e){return e!=null&&e.type?e.type==="algorithmic"?zF.fromJSON(e):e.type==="multipart"?Ice.fromJSON(e):null:null}var WO;const df=new hr({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),c5=new hr({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),gW=new hr({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),vW=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],lDe=["high-to-low","above-and-below","above","below"],uDe=["flow-line","wave-front"],cDe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let qi=WO=class extends Fe{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?aDe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new WO({classificationMethod:this.classificationMethod,colorRamp:ve(this.colorRamp),fadeRatio:ve(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(0),field1:ve(this.field1),field2:ve(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};b([M({type:df.apiValues,value:null,json:{type:df.jsonValues,read:df.read,write:df.write,origins:{"web-document":{default:"manual",type:df.jsonValues,read:df.read,write:df.write}}}})],qi.prototype,"classificationMethod",null),b([M({types:oDe,json:{write:!0}})],qi.prototype,"colorRamp",void 0),b([Ge("colorRamp")],qi.prototype,"readColorRamp",null),b([M({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],qi.prototype,"fadeRatio",void 0),b([M({type:[String],value:null,json:{write:!0}})],qi.prototype,"fields",null),b([M({type:Hd,value:null,json:{write:!0}})],qi.prototype,"field1",null),b([M({type:Hd,value:null,json:{write:!0}})],qi.prototype,"field2",null),b([M({type:uDe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],qi.prototype,"flowTheme",null),b([M({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],qi.prototype,"focus",null),b([M({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],qi.prototype,"isAutoGenerated",void 0),b([M({type:Number,value:null,json:{type:Wr,write:!0}})],qi.prototype,"numClasses",null),b([M({type:vW,json:{type:vW,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],qi.prototype,"lengthUnit",void 0),b([M({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],qi.prototype,"maxSliderValue",void 0),b([M({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],qi.prototype,"minSliderValue",void 0),b([M({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],qi.prototype,"statistics",null),b([M({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],qi.prototype,"standardDeviationInterval",null),b([M({type:c5.apiValues,value:null,json:{type:c5.jsonValues,read:c5.read,write:c5.write,origins:{"web-scene":{type:gW.jsonValues,write:{writer:gW.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],qi.prototype,"type",null),b([M({type:[sDe],json:{write:!0}})],qi.prototype,"visualVariables",void 0),b([M({type:cDe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],qi.prototype,"univariateSymbolStyle",null),b([M({type:lDe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],qi.prototype,"univariateTheme",null),qi=WO=b([se("esri.renderers.support.AuthoringInfo")],qi);const BF=qi,_k=new hr({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let v2=class extends Fe{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};b([M({type:BF,json:{write:!0}})],v2.prototype,"authoringInfo",void 0),b([M({type:_k.apiValues,readOnly:!0,json:{type:_k.jsonValues,read:!1,write:{writer:_k.write,ignoreOrigin:!0}}})],v2.prototype,"type",void 0),v2=b([se("esri.renderers.Renderer")],v2);const Bh=v2;function hDe(e){var t,r;return((r=(t=e.match(dDe))==null?void 0:t[1])==null?void 0:r.replace(/\\'/g,"'"))??null}const dDe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var JO;let Ym=JO=class extends Fe{constructor(){super(...arguments),this.title=null}clone(){return new JO({title:this.title})}};b([M({type:String,json:{write:!0}})],Ym.prototype,"title",void 0),Ym=JO=b([se("esri.renderers.support.LegendOptions")],Ym);var KO;let t9=KO=class extends Ym{constructor(){super(...arguments),this.showLegend=null}clone(){return new KO({title:this.title,showLegend:this.showLegend})}};b([M({type:Boolean,json:{write:!0}})],t9.prototype,"showLegend",void 0),t9=KO=b([se("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],t9);const Pce=t9,Sk=new hr({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let zl=class extends Fe{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(Ne.getLogger(this).error(".field: field must be a string value"),null):ix(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};b([M()],zl.prototype,"index",void 0),b([M({type:Sk.apiValues,readOnly:!0,json:{read:Sk.read,write:Sk.write}})],zl.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],zl.prototype,"field",void 0),b([Ar("field")],zl.prototype,"castField",null),b([M({type:String,json:{write:!0}})],zl.prototype,"valueExpression",void 0),b([M({type:String,json:{write:!0}})],zl.prototype,"valueExpressionTitle",void 0),b([M({readOnly:!0})],zl.prototype,"arcadeRequired",null),b([M({type:Pce,json:{write:!0}})],zl.prototype,"legendOptions",void 0),zl=b([se("esri.renderers.visualVariables.VisualVariable")],zl);const Tx=zl;var YO;let Xf=YO=class extends Fe{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new YO({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};b([M({type:Dt,json:{type:[Wr],write:!0}})],Xf.prototype,"color",void 0),b([M({type:String,json:{write:!0}})],Xf.prototype,"label",void 0),b([M({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Xf.prototype,"value",void 0),b([Xe("value")],Xf.prototype,"writeValue",null),Xf=YO=b([se("esri.renderers.visualVariables.support.ColorStop")],Xf);const pDe=Xf;var ZO;let Qf=ZO=class extends Tx{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new ZO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};b([M({readOnly:!0})],Qf.prototype,"cache",null),b([M({type:["color"],json:{type:["colorInfo"]}})],Qf.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Qf.prototype,"normalizationField",void 0),b([M({type:[pDe],json:{write:!0}})],Qf.prototype,"stops",null),Qf=ZO=b([se("esri.renderers.visualVariables.ColorVariable")],Qf);const Oce=Qf;var XO;let Cd=XO=class extends Fe{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return s3(t.transparency)}writeOpacity(e,t,r){t[r]=G7(e)}clone(){return new XO({label:this.label,opacity:this.opacity,value:this.value})}};b([M({type:String,json:{write:!0}})],Cd.prototype,"label",void 0),b([M({type:Number,json:{type:Wr,write:{target:"transparency"}}})],Cd.prototype,"opacity",void 0),b([Ge("opacity",["transparency"])],Cd.prototype,"readOpacity",null),b([Xe("opacity")],Cd.prototype,"writeOpacity",null),b([M({type:Number,json:{write:!0}})],Cd.prototype,"value",void 0),Cd=XO=b([se("esri.renderers.visualVariables.support.OpacityStop")],Cd);const fDe=Cd;var QO;let e0=QO=class extends Tx{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new QO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};b([M({readOnly:!0})],e0.prototype,"cache",null),b([M({type:["opacity"],json:{type:["transparencyInfo"]}})],e0.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],e0.prototype,"normalizationField",void 0),b([M({type:[fDe],json:{write:!0}})],e0.prototype,"stops",null),e0=QO=b([se("esri.renderers.visualVariables.OpacityVariable")],e0);const Ace=e0;var eA;let Gc=eA=class extends Tx{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,i){if(i!=null&&i.messages){const n=`visualVariables[${this.index}]`;i.messages.push(new be("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpressionTitle",context:i}))}}clone(){var e;return new eA({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};b([M({readOnly:!0})],Gc.prototype,"cache",null),b([M({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Gc.prototype,"axis",void 0),b([M({type:["rotation"],json:{type:["rotationInfo"]}})],Gc.prototype,"type",void 0),b([M({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Gc.prototype,"rotationType",void 0),b([M({type:String,json:{write:!0}})],Gc.prototype,"valueExpressionTitle",void 0),b([Xe("web-scene","valueExpressionTitle")],Gc.prototype,"writeValueExpressionTitleWebScene",null),Gc=eA=b([se("esri.renderers.visualVariables.RotationVariable")],Gc);const jce=Gc;function yDe(e){return Tr(e)}var tA;let Ed=tA=class extends Fe{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new tA({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};b([M({type:String,json:{write:!0}})],Ed.prototype,"label",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Ed.prototype,"size",void 0),b([M({type:Number,json:{write:!0}})],Ed.prototype,"value",void 0),b([M({type:Boolean,json:{write:!1}})],Ed.prototype,"useMinValue",void 0),b([M({type:Boolean,json:{write:!1}})],Ed.prototype,"useMaxValue",void 0),Ed=tA=b([se("esri.renderers.visualVariables.support.SizeStop")],Ed);const r9=Ed;var rA;let i9=rA=class extends Pce{constructor(){super(...arguments),this.customValues=null}clone(){var e;return new rA({title:this.title,showLegend:this.showLegend,customValues:(e=this.customValues)==null?void 0:e.slice(0)})}};b([M({type:[Number],json:{write:!0}})],i9.prototype,"customValues",void 0),i9=rA=b([se("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],i9);const mDe=i9;var _h,An;function _m(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function f3(e){return e!=null&&!isNaN(e)&&isFinite(e)}function Rce(e){return e.valueExpression?_h.Expression:e.field&&typeof e.field=="string"?_h.Field:_h.Unknown}function gDe(e,t){const r=t||Rce(e),i=e.valueUnit||"unknown";return r===_h.Unknown?An.Constant:e.stops?An.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?An.ClampedLinear:i==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?An.Proportional:An.Additive:An.Identity:An.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(_h||(_h={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(An||(An={}));const VF={unknown:1,inches:Ma(1,"meters","inches"),feet:Ma(1,"meters","feet"),"us-feet":Ma(1,"meters","us-feet"),yards:Ma(1,"meters","yards"),miles:Ma(1,"meters","miles"),"nautical-miles":Ma(1,"meters","nautical-miles"),millimeters:Ma(1,"meters","millimeters"),centimeters:Ma(1,"meters","centimeters"),decimeters:Ma(1,"meters","decimeters"),meters:Ma(1,"meters","meters"),kilometers:Ma(1,"meters","kilometers"),"decimal-degrees":1/W4e(1,"meters",Vi.radius)},Lce=()=>Ne.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),l8=e=>Lce().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),u8=()=>Lce().error("Use of arcade expressions requires an arcade context"),bW=new ma,n9=Math.PI,Nce=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Fce(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(O=>O.type==="color"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void l8("ColorVariable");const n=typeof t=="number",o=n?null:t,u=o==null?void 0:o.attributes;let f=n?t:null;const m=i.field,{ipData:v,hasExpression:_}=i.cache;let $=i.cache.compiledFunc;if(!m&&!_){const O=i.stops;return O&&O[0]&&O[0].color}if(typeof f!="number")if(_){if((r==null?void 0:r.arcade)==null)return void u8();const O={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},A=r.arcade.arcadeUtils,N=A.getViewInfo(O),F=A.createExecContext(o,N,r.timeZone);if(!$){const z=A.createSyntaxTree(i.valueExpression);$=A.createFunction(z),i.cache.compiledFunc=$}f=A.executeFunction($,F)}else u&&(f=u[m]);const T=i.normalizationField,I=u!=null&&T!=null?parseFloat(u[T]):void 0;if(f!=null&&(!T||n||!isNaN(I)&&I!==0)){isNaN(I)||n||(f/=I);const O=UF(f,v);if(O){const A=O[0],N=O[1],F=A===N?i.stops[A].color:Dt.blendColors(i.stops[A].color,i.stops[N].color,O[2],r!=null?r.color:void 0);return new Dt(F)}}}function Dce(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(O=>O.type==="opacity"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void l8("OpacityVariable");const n=typeof t=="number",o=n?null:t,u=o==null?void 0:o.attributes;let f=n?t:null;const m=i.field,{ipData:v,hasExpression:_}=i.cache;let $=i.cache.compiledFunc;if(!m&&!_){const O=i.stops;return O&&O[0]&&O[0].opacity}if(typeof f!="number")if(_){if((r==null?void 0:r.arcade)==null)return void u8();const O={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},A=r.arcade.arcadeUtils,N=A.getViewInfo(O),F=A.createExecContext(o,N,r.timeZone);if(!$){const z=A.createSyntaxTree(i.valueExpression);$=A.createFunction(z),i.cache.compiledFunc=$}f=A.executeFunction($,F)}else u&&(f=u[m]);const T=i.normalizationField,I=u!=null&&T!=null?parseFloat(u[T]):void 0;if(f!=null&&(!T||n||!isNaN(I)&&I!==0)){isNaN(I)||n||(f/=I);const O=UF(f,v);if(O){const A=O[0],N=O[1];if(A===N)return i.stops[A].opacity;{const F=i.stops[A].opacity;return F+(i.stops[N].opacity-F)*O[2]}}}}function zce(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(I=>I.type==="rotation"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void l8("RotationVariable");const n=i.axis||"heading",o=n==="heading"&&i.rotationType==="arithmetic"?90:0,u=n==="heading"&&i.rotationType==="arithmetic"?-1:1,f=typeof t=="number"?null:t,m=f==null?void 0:f.attributes,v=i.field,{hasExpression:_}=i.cache;let $=i.cache.compiledFunc,T=0;if(!v&&!_)return T;if(_){if((r==null?void 0:r.arcade)==null)return void u8();const I={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},O=r.arcade.arcadeUtils,A=O.getViewInfo(I),N=O.createExecContext(f,A,r.timeZone);if(!$){const F=O.createSyntaxTree(i.valueExpression);$=O.createFunction(F),i.cache.compiledFunc=$}T=O.executeFunction($,N)}else m&&(T=m[v]||0);return T=typeof T!="number"||isNaN(T)?null:o+u*T,T}function vDe(e,t,r){const i=typeof t=="number",n=i?null:t,o=n==null?void 0:n.attributes;let u=i?t:null;const{isScaleDriven:f}=e.cache;let m=e.cache.compiledFunc;if(f){const _=r!=null?r.scale:void 0,$=r!=null?r.view:void 0;u=_==null||$==="3d"?bDe(e):_}else if(!i)switch(e.inputValueType){case _h.Expression:{if((r==null?void 0:r.arcade)==null)return void u8();const _={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},$=r.arcade.arcadeUtils,T=$.getViewInfo(_),I=$.createExecContext(n,T,r.timeZone);if(!m){const O=$.createSyntaxTree(e.valueExpression);m=$.createFunction(O),e.cache.compiledFunc=m}u=$.executeFunction(m,I);break}case _h.Field:o&&(u=o[e.field]);break;case _h.Unknown:u=null}if(!f3(u))return null;if(i||!e.normalizationField)return u;const v=o?parseFloat(o[e.normalizationField]):null;return f3(v)&&v!==0?u/v:null}function bDe(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function c8(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(o=>o.type==="size"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void l8("SizeVariable");const n=Vce(vDe(i,t,r),i,t,r,i.cache.ipData);return n==null||isNaN(n)?0:n}function Ro(e,t,r){return e==null?null:_m(e)?c8(e,t,r):f3(e)?e:null}function Bce(e,t,r){return f3(r)&&e>r?r:f3(t)&&e<t?t:e}function wDe(e,t,r,i){return e+((Ro(t.minSize,r,i)||t.minDataValue)??0)}function xDe(e,t,r){const i=e.stops;let n=(i==null?void 0:i.length)&&i[0].size;return n==null&&(n=e.minSize),Ro(n,t,r)}function _De(e,t,r,i){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=Ro(t.minSize,r,i),u=Ro(t.maxSize,r,i),f=i!=null?i.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return u;if(o==null||u==null)return null;if(t.scaleBy==="area"&&f){const m=f==="circle",v=m?n9*(o/2)**2:o*o,_=v+n*((m?n9*(u/2)**2:u*u)-v);return m?2*Math.sqrt(_/n9):Math.sqrt(_)}return o+n*(u-o)}function SDe(e,t,r,i){const n=i!=null?i.shape:void 0,o=e/t.minDataValue,u=Ro(t.minSize,r,i),f=Ro(t.maxSize,r,i);let m=null;return m=n==="circle"?2*Math.sqrt(o*(u/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(o*u**2):o*u,Bce(m,u,f)}function $De(e,t,r,i,n){var m,v,_;const[o,u,f]=UF(e,n);if(o===u)return Ro((m=t.stops)==null?void 0:m[o].size,r,i);{const $=Ro((v=t.stops)==null?void 0:v[o].size,r,i);return $+(Ro((_=t.stops)==null?void 0:_[u].size,r,i)-$)*f}}function MDe(e,t,r,i){const n=((i==null?void 0:i.resolution)??1)*VF[t.valueUnit],o=Ro(t.minSize,r,i),u=Ro(t.maxSize,r,i),{valueRepresentation:f}=t;let m=null;return m=f==="area"?2*Math.sqrt(e/n9)/n:f==="radius"||f==="distance"?2*e/n:e/n,Bce(m,o,u)}function Vce(e,t,r,i,n){switch(t.transformationType){case An.Additive:return wDe(e,t,r,i);case An.Constant:return xDe(t,r,i);case An.ClampedLinear:return _De(e,t,r,i);case An.Proportional:return SDe(e,t,r,i);case An.Stops:return $De(e,t,r,i,n);case An.RealWorldSize:return MDe(e,t,r,i);case An.Identity:return e;case An.Unknown:return null}}function TDe(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&r==="3d"||t))return null;const n={scale:t,view:r};let o=Ro(e.minSize,bW,n),u=Ro(e.maxSize,bW,n);if(o!=null||u!=null){if(o>u){const f=u;u=o,o=f}return{minSize:o,maxSize:u}}}function kDe(e,t,r){if(!e.visualVariables)return;const i=[],n=[],o=[],u=[],f=[];for(const m of e.visualVariables)switch(m.type){case"color":n.push(m);break;case"opacity":o.push(m);break;case"rotation":f.push(m);break;case"size":u.push(m)}return n.forEach(m=>{const v=Fce(m,t,r);i.push({variable:m,value:v})}),o.forEach(m=>{const v=Dce(m,t,r);i.push({variable:m,value:v})}),f.forEach(m=>{const v=zce(m,t,r);i.push({variable:m,value:v})}),u.forEach(m=>{const v=c8(m,t,r);i.push({variable:m,value:v})}),i.filter(m=>m.value!=null)}function UF(e,t){if(!t)return;let r=0,i=t.length-1;return t.some((n,o)=>e<n?(i=o,!0):(r=o,!1)),[r,i,(e-t[r])/(t[i]-t[r])]}function CDe(e,t,r){const i=["proportional","proportional","proportional"];for(const n of e){const o=n.useSymbolValue?"symbol-value":c8(n,t,r);switch(n.axis){case"width":i[0]=o;break;case"depth":i[1]=o;break;case"height":i[2]=o;break;case"width-and-depth":i[0]=o,i[1]=o;break;case"all":case void 0:case null:i[0]=o,i[1]=o,i[2]=o;break;default:n.axis}}return i}const T4t=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:CDe,getColor:Fce,getOpacity:Dce,getRotationAngle:zce,getSize:c8,getSizeForValue:Vce,getSizeFromNumberOrVariable:Ro,getSizeRangeAtScale:TDe,getVisualVariableValues:kDe,viewScaleRE:Nce},Symbol.toStringTag,{value:"Module"}));var iA;const h5=new hr({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),nA=new hr({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function wW(e){if(e!=null)return typeof e=="string"||typeof e=="number"?yDe(e):e.type==="size"?_m(e)?e:(delete(e={...e}).type,new zr(e)):void 0}function xW(e,t,r){if(typeof e!="object")return e;const i=new zr;return i.read(e,r),i}let zr=iA=class extends Tx{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Nce.test(this.valueExpression)}}set index(e){_m(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),_m(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Rce(this)}set maxDataValue(e){e&&this.stops&&(Ne.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Ne.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return wW(e)}readMaxSize(e,t,r){return xW(e,t,r)}set minDataValue(e){e&&this.stops&&(Ne.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Ne.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return wW(e)}readMinSize(e,t,r){return xW(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(Ne.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return gDe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,i){if(e==="$view.scale"){if(i!=null&&i.messages){const n=this.index,o=typeof n=="string"?n:`visualVariables[${n}]`;i.messages.push(new be("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:o+".valueExpression",context:i}))}}else t[r]=e}readValueUnit(e){return e?nA.read(e):null}clone(){var e,t;return new iA({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:_m(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:_m(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(r=>r.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===An.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===An.Stops){const e=this.stops;if(!e)return this;const t=e.map(i=>i.size).reverse(),r=e.length;for(let i=0;i<r;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};b([M({readOnly:!0})],zr.prototype,"cache",null),b([M({type:h5.apiValues,json:{type:h5.jsonValues,origins:{"web-map":{read:!1}},read:h5.read,write:h5.write}})],zr.prototype,"axis",void 0),b([M()],zr.prototype,"index",null),b([M({type:String,readOnly:!0})],zr.prototype,"inputValueType",null),b([M({type:mDe,json:{write:!0}})],zr.prototype,"legendOptions",void 0),b([M({type:Number,value:null,json:{write:!0}})],zr.prototype,"maxDataValue",null),b([M({type:Number,value:null,json:{write:!0}})],zr.prototype,"maxSize",null),b([Ar("maxSize")],zr.prototype,"castMaxSize",null),b([Ge("maxSize")],zr.prototype,"readMaxSize",null),b([M({type:Number,value:null,json:{write:!0}})],zr.prototype,"minDataValue",null),b([M({type:Number,value:null,json:{write:!0}})],zr.prototype,"minSize",null),b([Ar("minSize")],zr.prototype,"castMinSize",null),b([Ge("minSize")],zr.prototype,"readMinSize",null),b([M({type:String,json:{write:!0}})],zr.prototype,"normalizationField",void 0),b([M({readOnly:!0})],zr.prototype,"arcadeRequired",null),b([M({type:String})],zr.prototype,"scaleBy",void 0),b([M({type:[r9],value:null,json:{write:!0}})],zr.prototype,"stops",null),b([M({type:["outline"],json:{write:!0}})],zr.prototype,"target",void 0),b([M({type:String,readOnly:!0})],zr.prototype,"transformationType",null),b([M({type:["size"],json:{type:["sizeInfo"]}})],zr.prototype,"type",void 0),b([M({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],zr.prototype,"useSymbolValue",void 0),b([M({type:String,json:{write:!0}})],zr.prototype,"valueExpression",void 0),b([Ge("valueExpression",["valueExpression","expression"])],zr.prototype,"readValueExpression",null),b([Xe("web-scene","valueExpression")],zr.prototype,"writeValueExpressionWebScene",null),b([M({type:["radius","diameter","area","width","distance"],json:{write:!0}})],zr.prototype,"valueRepresentation",void 0),b([M({type:nA.apiValues,json:{write:nA.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],zr.prototype,"valueUnit",void 0),b([Ge("valueUnit")],zr.prototype,"readValueUnit",null),zr=iA=b([se("esri.renderers.visualVariables.SizeVariable")],zr);const GF=zr,EDe={color:Oce,size:GF,opacity:Ace,rotation:jce},IDe=new hr({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),PDe=/^\[([^\]]+)\]$/i;let s9=class extends St{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t&&t.filter(r=>!!r),t==null?void 0:t.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,i)=>{let n=null;return n=r.target===i.target?0:r.target?1:-1,n});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,i){const{rotationExpression:n,rotationType:o}=r,u=n==null?void 0:n.match(PDe),f=u==null?void 0:u[1];if(f&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:o,field:f})),t)return t.map(m=>{const v=IDe.read(m.type),_=EDe[v];_||(Ne.getLogger(this).warn(`Unknown variable type: ${v}`),i!=null&&i.messages&&i.messages.push(new pl("visual-variable:unsupported",`visualVariable of type '${v}' is not supported`,{definition:m,context:i})));const $=new _;return $.read(m,i),$})}writeVariables(t,r){const i=[];for(const n of t){const o=n.toJSON(r);o&&i.push(o)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};b([M()],s9.prototype,"visualVariables",null),s9=b([se("esri.renderers.visualVariables.VisualVariableFactory")],s9);const ODe=s9,ADe={base:Tx,key:"type",typeMap:{opacity:Ace,color:Oce,rotation:jce,size:GF}},hv=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new ODe}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,i,n){return this._vvFactory.readVariables(r,i,n)}writeVisualVariables(r,i,n,o){i[n]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,i){return r?this.getVisualVariablesForType(r,i).length>0:this.getVisualVariablesForType("size",i).length>0||this.getVisualVariablesForType("color",i).length>0||this.getVisualVariablesForType("opacity",i).length>0||this.getVisualVariablesForType("rotation",i).length>0}getVisualVariablesForType(r,i){const n=this.visualVariables;return n?n.filter(o=>o.type===r&&(typeof i=="string"?o.target===i:i!==!1||!o.target)):[]}async collectVVRequiredFields(r,i){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const o of n)o&&(o.field&&ao(r,i,o.field),o.normalizationField&&ao(r,i,o.normalizationField),o.valueExpression&&(jDe(o.valueExpression,r,i)||await Bs(r,i,o.valueExpression)))}};return b([M({types:[ADe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),b([Ge("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),b([Xe("visualVariables")],t.prototype,"writeVisualVariables",null),t=b([se("esri.renderers.mixins.VisualVariablesMixin")],t),t};function jDe(e,t,r){const i=hDe(e);return i!=null&&(ao(t,r,i),!0)}const qF=[252,146,31,255],RDe=[153,153,153,255],LDe={type:"esriSMS",style:"esriSMSCircle",size:6,color:qF,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},NDe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:qF},FDe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},DDe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},zDe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},BDe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},VDe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},UDe=gc.fromJSON(LDe),GDe=Fo.fromJSON(NDe),qDe=zh.fromJSON(FDe),HDe=R1.fromJSON(DDe),C4t=gc.fromJSON(zDe),E4t=Fo.fromJSON(BDe),I4t=zh.fromJSON(VDe);fh.fromSimpleMarkerSymbol(UDe);j1.fromSimpleLineSymbol(GDe);tf.fromSimpleFillSymbol(qDe);new bx({symbolLayers:new ut([new A1({material:{color:qF},edges:new Lae({size:ml(1),color:new Dt(RDe)})})])});const WDe=new j1({symbolLayers:new ut([new sv({material:{color:new Dt([0,0,0])},size:ml(1)})])}),JDe=new tf({symbolLayers:new ut([new A1({outline:{color:new Dt([0,0,0]),size:ml(1)}})])}),ay={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function KDe(e,t=ay){var m,v,_,$;if(!e)return{symbol:null};const{retainId:r=ay.retainId,ignoreDrivers:i=ay.ignoreDrivers,hasLabelingContext:n=ay.hasLabelingContext,retainCIM:o=ay.retainCIM,cimFallbackEnabled:u=ay.cimFallbackEnabled}=t;let f=null;if(Jq(e)||e instanceof L1)f=e.clone();else if(e.type==="cim"){const T=(v=(m=e.data)==null?void 0:m.symbol)==null?void 0:v.type;switch(T){case"CIMPointSymbol":f=o?e.clone():fh.fromCIMSymbol(e);break;case"CIMLineSymbol":u&&(f=WDe.clone(),(_=t==null?void 0:t.logWarning)==null||_.call(t,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":u&&(f=JDe.clone(),($=t==null?void 0:t.logWarning)==null||$.call(t,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!f)return{error:new be("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${T||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Fo)f=j1.fromSimpleLineSymbol(e);else if(e instanceof gc)f=fh.fromSimpleMarkerSymbol(e);else if(e instanceof lv)f=fh.fromPictureMarkerSymbol(e);else if(e instanceof zh)f=t.geometryType&&t.geometryType==="mesh"?bx.fromSimpleFillSymbol(e):tf.fromSimpleFillSymbol(e);else{if(!(e instanceof R1))return{error:new be("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};f=n?X7.fromTextSymbol(e):fh.fromTextSymbol(e)}return r&&f&&f.type!=="cim"&&(f.id=e.id),i&&Jq(f)&&f.symbolLayers.forEach(T=>T.ignoreDrivers=!0),{symbol:f}}function w6(e,t,r,i){const n=Uce(e,{},{context:i,isLabelSymbol:!1});n!=null&&(t[r]=n)}function _W(e,t,r,i){const n=Uce(e,{},{context:i,isLabelSymbol:!0});n!=null&&(t[r]=n)}function SW(e){return e instanceof av||e instanceof L1}function Uce(e,t,r){if(e==null)return null;const{context:i,isLabelSymbol:n}=r,o=i==null?void 0:i.origin,u=i==null?void 0:i.messages;if(o==="web-scene"&&!SW(e)){const f=KDe(e,{retainCIM:!0,hasLabelingContext:n});return f.symbol!=null?f.symbol.write(t,i):(u==null||u.push(new be("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:f.error})),null)}return(o==="web-map"||o==="portal-item"&&!joe(i==null?void 0:i.layer))&&SW(e)?(u==null||u.push(new be("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function P4t(e,t){return RPe(e,null,t)}const h8={types:hle,json:{write:{writer:w6},origins:{"web-scene":{types:Kq,write:{writer:w6},read:{reader:Zg({types:Kq})}}}}},HF=DL({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},h8),Gce={types:{base:ys,key:"type",typeMap:{"simple-fill":V0.typeMap["simple-fill"],"picture-fill":V0.typeMap["picture-fill"],"polygon-3d":V0.typeMap["polygon-3d"]}},json:{write:{writer:w6},origins:{"web-scene":{type:tf,write:{writer:w6}}}}},o9={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var sA;let Id=sA=class extends Fe{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new sA({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};b([M({type:String,json:{write:!0}})],Id.prototype,"description",void 0),b([M({type:String,json:{write:!0}})],Id.prototype,"label",void 0),b([M({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Id.prototype,"minValue",void 0),b([M({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Id.prototype,"maxValue",void 0),b([M(HF)],Id.prototype,"symbol",void 0),Id=sA=b([se("esri.renderers.support.ClassBreakInfo")],Id);const x6=Id;var oA;const qce="log",a9="percent-of-total",l9="field",d5=new hr({esriNormalizeByLog:qce,esriNormalizeByPercentOfTotal:a9,esriNormalizeByField:l9}),YDe=xi(x6);let vn=oA=class extends hv(Bh){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let i=t.minValue;return e.map(n=>{const o=new x6;return o.read(n,r),o.minValue==null&&(o.minValue=i),o.maxValue==null&&(o.maxValue=o.minValue),i=o.maxValue,o})}writeClassBreakInfos(e,t,r,i){const n=e.map(o=>o.write({},i));this._areClassBreaksConsecutive()&&n.forEach(o=>delete o.classMinValue),t[r]=n}castField(e){return e==null?e:typeof e=="function"?(Ne.getLogger(this).error(".field: field must be a string value"),null):ix(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&l9||r&&a9||null,t&&r&&Ne.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==l9&&e!==a9||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let i=null;i=typeof e=="number"?new x6({minValue:e,maxValue:t,symbol:dle(r)}):YDe(ve(e)),this.classBreakInfos.push(i),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let i=0;i<r;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&Ne.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await d1()});const i=this.getBreakIndex(e,r);return i!==-1?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Ne.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const n=await d1(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:n}}const i=this.getBreakIndex(e,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((i,n)=>i+n.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new oA({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:ve(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:ve(this.visualVariables),legendOptions:ve(this.legendOptions),authoringInfo:ve(this.authoringInfo)})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),Bs(e,t,this.valueExpression)];ao(e,t,this.field),ao(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:o,timeZone:u}=t??{},{valueExpression:f}=this;let m=this._compiledValueExpression.valueExpression===f?this._compiledValueExpression.compiledFunction:null;const v=o.arcadeUtils;if(!m){const $=v.createSyntaxTree(f);m=v.createFunction($),this._compiledValueExpression.compiledFunction=m}this._compiledValueExpression.valueExpression=f;const _=v.executeFunction(m,v.createExecContext(e,v.getViewInfo({viewingMode:r,scale:i,spatialReference:n}),u));return this._getBreakIndexfromInfos(_)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,i=this.normalizationType;let n=parseFloat(r[t]);if(i){const o=this.normalizationTotal,u=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(i===qce)n=Math.log(n)*Math.LOG10E;else if(i!==a9||o==null||isNaN(o)){if(i===l9&&!isNaN(u)){if(isNaN(n)||isNaN(u))return-1;n/=u}}else n=n/o*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};b([M(Gce)],vn.prototype,"backgroundFillSymbol",void 0),b([M({type:[x6]})],vn.prototype,"classBreakInfos",void 0),b([Ge("classBreakInfos")],vn.prototype,"readClassBreakInfos",null),b([Xe("classBreakInfos")],vn.prototype,"writeClassBreakInfos",null),b([M({type:String,json:{write:!0}})],vn.prototype,"defaultLabel",void 0),b([M(h8)],vn.prototype,"defaultSymbol",void 0),b([M({type:String,json:{write:!0}})],vn.prototype,"field",void 0),b([Ar("field")],vn.prototype,"castField",null),b([M({type:Boolean})],vn.prototype,"isMaxInclusive",void 0),b([M({type:Ym,json:{write:!0}})],vn.prototype,"legendOptions",void 0),b([M({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],vn.prototype,"minValue",null),b([M({type:String,json:{write:!0}})],vn.prototype,"normalizationField",void 0),b([M({type:Number,cast:e=>qa(e),json:{write:!0}})],vn.prototype,"normalizationTotal",void 0),b([M({type:d5.apiValues,value:null,json:{type:d5.jsonValues,read:d5.read,write:d5.write}})],vn.prototype,"normalizationType",null),b([Ct({classBreaks:"class-breaks"})],vn.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],vn.prototype,"valueExpression",void 0),b([M({type:String,json:{write:!0}})],vn.prototype,"valueExpressionTitle",void 0),vn=oA=b([se("esri.renderers.ClassBreaksRenderer")],vn);const Hce=vn,aA=-3,ZDe=aA-1;var nh;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(nh||(nh={}));let O4t=class{constructor(t,r,i){this.name=t,this._storage=r,this.id=QDe+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,r,i,n=0){this._storage.put(this,t,r,i,n)}pop(t){const r=this._storage.pop(this,t);return r===void 0?++this._miss:++this._hit,r}get(t){const r=this._storage.get(this,t);return r===void 0?++this._miss:++this._hit,r}peek(t){return this._storage.peek(this,t)}updateSize(t,r,i){this._storage.updateSize(this,t,r,i)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}},XDe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new y4,this._users=new y4}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){const i=this._db.get(t.id+r);return(i==null?void 0:i.size)??0}put(t,r,i,n,o){r=t.id+r;const u=this._db.get(r);if(u&&(this._size-=u.size,t.size-=u.size,this._db.delete(r),u.entry!==i&&this._notifyRemove(r,u.entry,u.size,nh.ALL)),n>this._maxSize)return void this._notifyRemove(r,i,n,nh.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${r}`),void this._notifyRemove(r,i,0,nh.ALL);const f=1+Math.max(o,ZDe)-aA;this._db.set(r,new eze(i,n,f)),this._size+=n,t.size+=n,this._checkSize()}updateSize(t,r,i,n){r=t.id+r;const o=this._db.get(r);if(o&&o.entry===i){for(this._size-=o.size,t.size-=o.size;n>this._maxSize;){const u=this._notifyRemove(r,i,n,nh.SOME);if(!(u!=null&&u>0))return void this._db.delete(r);n=u}o.size=n,this._size+=n,t.size+=n,this._checkSize()}}pop(t,r){r=t.id+r;const i=this._db.get(r);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(r),++this._hit,i.entry;++this._miss}get(t,r){r=t.id+r;const i=this._db.get(r);if(i!==void 0)return this._db.delete(r),i.lives=i.lifetime,this._db.set(r,i),++this._hit,i.entry;++this._miss}peek(t,r){const i=this._db.get(t.id+r);return i?++this._hit:++this._miss,i==null?void 0:i.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((u,f)=>{const m=u.lifetime;i[m]=(i[m]||0)+u.size,this._users.forAll(v=>{const{id:_,name:$}=v;if(f.startsWith(_)){const T=r[$]||0;r[$]=T+u.size}})});const n={};this._users.forAll(u=>{const f=u.name;if("hitRate"in u&&typeof u.hitRate=="number"&&!isNaN(u.hitRate)&&u.hitRate>0){const m=r[f]||0;r[f]=m,n[f]=Math.round(100*u.hitRate)+"%"}else n[f]="0%"});const o=Object.keys(r);o.sort((u,f)=>r[f]-r[u]),o.forEach(u=>t[u]=Math.round(r[u]/2**20)+"MB / "+n[u]);for(let u=i.length-1;u>=0;--u){const f=i[u];f&&(t["Priority "+(u+aA-1)]=Math.round(f/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const r=t.id;this._db.forEach((i,n)=>{n.startsWith(r)&&(this._size-=i.size,this._db.delete(n),this._notifyRemove(n,i.entry,i.size,nh.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,nh.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,i,n){let o;return this._removeFuncs.some(u=>{if(t.startsWith(u[0])){const f=u[1](r,n,i);return typeof f=="number"&&(o=f),!0}return!1}),o}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const r=t??this;if(r.maxSize<0||r.size<=r.maxSize)return;const i=t==null?void 0:t.id;let n=!0;for(;n;){n=!1;for(const[o,u]of this._db)if(u.lifetime===0&&(!i||o.startsWith(i))){if(this._purgeItem(o,u,t),r.size<=.9*r.maxSize)return;n||(n=this._db.has(o))}}for(const[o,u]of this._db)if((!i||o.startsWith(i))&&(this._purgeItem(o,u,t),r.size<=.9*r.maxSize))return}_purgeItem(t,r,i=this._users.find(n=>t.startsWith(n.id))){if(this._db.delete(t),r.lives<=1){this._size-=r.size,i&&(i.size-=r.size);const n=this._notifyRemove(t,r.entry,r.size,nh.SOME);n!=null&&n>0&&(this._size+=n,i&&(i.size+=n),r.lives=r.lifetime,r.size=n,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}},QDe=0,eze=class{constructor(t,r,i){this.entry=t,this.size=r,this.lifetime=i,this.lives=i}},tze=class{constructor(t,r){this._storage=new XDe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,i=1){this._storage.put(this,t,r,i,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},rze=class lA{constructor(t,r,i=""){this.major=t,this.minor=r,this._context=i}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}since(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",i=this._context&&this._context+" ";throw new be(r+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new lA(this.major,this.minor,this._context)}static parse(t,r=""){const[i,n]=t.split("."),o=/^\s*\d+\s*$/;if(!(i!=null&&i.match)||!o.test(i))throw new be((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(n!=null&&n.match)||!o.test(n))throw new be((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const u=parseInt(i,10),f=parseInt(n,10);return new lA(u,f,r)}},d8=class{};function ize(e){return e instanceof Qg?e===d8.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function F4t(e){return ize(e)?d8.instance:e}d8.instance=new ya("Etc/UTC");function nze(e){return"timeZone"in e}function sze(e){return"timeZone"in e}function oze(e){return"dateFieldsTimeZone"in e}const aze=new Map;let Wce=class u9{static fromJSON(t){return new u9(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new u9(t.fields??[],MW(t))}static fromLayerJSON(t){return new u9(t.fields??[],MW(t))}constructor(t=[],r){var n;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;const i=[];for(const o of this.fields){const u=o==null?void 0:o.name,f=$W(u);if(u&&f){const m=f0(u);this._fieldsMap.set(u,o),this._fieldsMap.set(m,o),this._normalizedFieldsMap.set(f,o),i.push(`${m}:${o.type}:${(n=this._timeZoneByFieldName)==null?void 0:n.get(u)}`),kIe(o)?(this.dateFields.push(o),this._dateFieldsSet.add(o)):Mae(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),zq(o)||Bq(o)||(o.editable=o.editable==null||!!o.editable,o.nullable=o.nullable==null||!!o.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)zq(t)||Bq(t)||t.nullable||fIe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(f0(t))??this._normalizedFieldsMap.get($W(t)),r&&this._fieldsMap.set(t,r),r)}getTimeZone(t){const r=this.get(t&&typeof t!="string"?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):r.type==="date"||r.type==="esriFieldTypeDate"?(Ne.getLogger("esri.layers.support.FieldsIndex").error(new be("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),jp):Jce.has(r.type)?c1:null:null}getLuxonTimeZone(t){const r=this.getTimeZone(t);return r?r===c1?d8.instance:r===jp?Jn.utcInstance:GL(aze,r,()=>ya.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return CIe(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var r;return((r=this.get(t))==null?void 0:r.name)??void 0}toJSON(){return{fields:this.fields.map(t=>k4(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function f0(e){return e.trim().toLowerCase()}function $W(e){var t;return((t=XEe(e))==null?void 0:t.toLowerCase())??""}const Jce=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function MW(e){const t=new Map;if(!e.fields)return t;const r=e.datesInUnknownTimezone===!0,{timeInfo:i,editFieldsInfo:n}=e,o=(i?"startField"in i?i.startField:i.startTimeField:"")??"",u=(i?"endField"in i?i.endField:i.endTimeField:"")??"",f=oze(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?mS(e.dateFieldsTimeReference):null,m=n?nze(n)?n.timeZone??f:n.dateFieldsTimeReference?mS(n.dateFieldsTimeReference):f??jp:null,v=i?sze(i)?i.timeZone??f:i.timeReference?mS(i.timeReference):f:null,_=new Map([[f0((n==null?void 0:n.creationDateField)??""),m],[f0((n==null?void 0:n.editDateField)??""),m],[f0(o),v],[f0(u),v]]);for(const{name:$,type:T}of e.fields)if(Jce.has(T))t.set($,c1);else if(T!=="date"&&T!=="esriFieldTypeDate")t.set($,null);else if(r)t.set($,c1);else{const I=_.get(f0($??""))??f;t.set($,I)}return t}function lze(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function uze(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function cze(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function hze(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Kce(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Yce(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Zce(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function dze(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function pze(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function fze(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function yze(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function mze(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function gze(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function vze(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function Xce(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+o*o)}function Qce(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return r*r+i*i+n*n+o*o}function ehe(e){const t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function the(e){const t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function bze(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function wze(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function xze(e,t){const r=t[0],i=t[1],n=t[2],o=t[3];let u=r*r+i*i+n*n+o*o;return u>0&&(u=1/Math.sqrt(u),e[0]=r*u,e[1]=i*u,e[2]=n*u,e[3]=o*u),e}function _ze(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function rhe(e,t,r,i){const n=t[0],o=t[1],u=t[2],f=t[3];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=u+i*(r[2]-u),e[3]=f+i*(r[3]-f),e}function Sze(e,t){const r=S7;let i,n,o,u,f,m;t=t||1;do i=2*r()-1,n=2*r()-1,f=i*i+n*n;while(f>=1);do o=2*r()-1,u=2*r()-1,m=o*o+u*u;while(m>=1);const v=Math.sqrt((1-f)/m);return e[0]=t*i,e[1]=t*n,e[2]=t*o*v,e[3]=t*u*v,e}function $ze(e,t,r){const i=t[0],n=t[1],o=t[2],u=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12]*u,e[1]=r[1]*i+r[5]*n+r[9]*o+r[13]*u,e[2]=r[2]*i+r[6]*n+r[10]*o+r[14]*u,e[3]=r[3]*i+r[7]*n+r[11]*o+r[15]*u,e}function Mze(e,t,r){const i=t[0],n=t[1],o=t[2],u=r[0],f=r[1],m=r[2],v=r[3],_=v*i+f*o-m*n,$=v*n+m*i-u*o,T=v*o+u*n-f*i,I=-u*i-f*n-m*o;return e[0]=_*v+I*-u+$*-m-T*-f,e[1]=$*v+I*-f+T*-u-_*-m,e[2]=T*v+I*-m+_*-f-$*-u,e[3]=t[3],e}function Tze(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function kze(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Cze(e,t){const r=e[0],i=e[1],n=e[2],o=e[3],u=t[0],f=t[1],m=t[2],v=t[3],_=oo();return Math.abs(r-u)<=_*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-f)<=_*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(n-m)<=_*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(o-v)<=_*Math.max(1,Math.abs(o),Math.abs(v))}const Eze=Kce,Ize=Yce,Pze=Zce,Oze=Xce,Aze=Qce,jze=ehe,Rze=the;Object.freeze(Object.defineProperty({__proto__:null,add:hze,ceil:dze,copy:lze,copyVec3:uze,dist:Oze,distance:Xce,div:Pze,divide:Zce,dot:_ze,equals:Cze,exactEquals:kze,floor:pze,inverse:wze,len:jze,length:ehe,lerp:rhe,max:yze,min:fze,mul:Ize,multiply:Yce,negate:bze,normalize:xze,random:Sze,round:mze,scale:gze,scaleAndAdd:vze,set:cze,sqrDist:Aze,sqrLen:Rze,squaredDistance:Qce,squaredLength:the,str:Tze,sub:Eze,subtract:Kce,transformMat4:$ze,transformQuat:Mze},Symbol.toStringTag,{value:"Module"}));function p8(){return[0,0,0,0]}function Lze(e){return[e[0],e[1],e[2],e[3]]}function dv(e,t,r,i){return[e,t,r,i]}function Nze(e,t=p8()){const r=Math.min(4,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function Fze(e,t){return new Float64Array(e,t,4)}function ihe(){return p8()}function nhe(){return dv(1,1,1,1)}function she(){return dv(1,0,0,0)}function ohe(){return dv(0,1,0,0)}function ahe(){return dv(0,0,1,0)}function lhe(){return dv(0,0,0,1)}const Dze=ihe(),zze=nhe(),Bze=she(),Vze=ohe(),Uze=ahe(),Gze=lhe();Object.freeze(Object.defineProperty({__proto__:null,ONES:zze,UNIT_W:Gze,UNIT_X:Bze,UNIT_Y:Vze,UNIT_Z:Uze,ZEROS:Dze,clone:Lze,create:p8,createView:Fze,fromArray:Nze,fromValues:dv,ones:nhe,unitW:lhe,unitX:she,unitY:ohe,unitZ:ahe,zeros:ihe},Symbol.toStringTag,{value:"Module"}));function uhe(e){return"r"in e&&"g"in e&&"b"in e}function che(e){return"h"in e&&"s"in e&&"v"in e}function hhe(e){return"l"in e&&"a"in e&&"b"in e}function dhe(e){return"l"in e&&"c"in e&&"h"in e}function qze(e){return"x"in e&&"y"in e&&"z"in e}const Hze=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Wze=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function phe(e,t){const r=[];let i,n;if(e[0].length!==t.length)throw new Error("dimensions do not match");const o=e.length,u=e[0].length;let f=0;for(i=0;i<o;i++){for(f=0,n=0;n<u;n++)f+=e[i][n]*t[n];r.push(f)}return r}function fhe(e){const t=[e.r/255,e.g/255,e.b/255].map(i=>i<=.04045?i/12.92:((i+.055)/1.055)**2.4),r=phe(Hze,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function WF(e){const t=phe(Wze,[e.x/100,e.y/100,e.z/100]).map(r=>{const i=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(i,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function yhe(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function mhe(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(i=>i>6/29?i**3:3*(6/29)**2*(i-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function Jze(e){const t=e.l,r=e.a,i=e.b,n=Math.sqrt(r*r+i*i);let o=Math.atan2(i,r);return o=o>0?o:o+2*Math.PI,{l:t,c:n,h:o}}function Kze(e){const t=e.l,r=e.c,i=e.h;return{l:t,a:r*Math.cos(i),b:r*Math.sin(i)}}function Yze(e){return yhe(fhe(e))}function Zze(e){return WF(mhe(e))}function Xze(e){return Jze(yhe(fhe(e)))}function Qze(e){return WF(mhe(Kze(e)))}function eBe(e){const t=e.r,r=e.g,i=e.b,n=Math.max(t,r,i),o=n-Math.min(t,r,i);let u=n,f=o===0?0:n===t?(r-i)/o%6:n===r?(i-t)/o+2:(t-r)/o+4,m=o===0?0:o/u;return f<0&&(f+=6),f*=60,m*=100,u*=100/255,{h:f,s:m,v:u}}function tBe(e){const t=(e.h+360)%360/60,r=e.s/100,i=e.v/100*255,n=i*r,o=n*(1-Math.abs(t%2-1));let u;switch(Math.floor(t)){case 0:u={r:n,g:o,b:0};break;case 1:u={r:o,g:n,b:0};break;case 2:u={r:0,g:n,b:o};break;case 3:u={r:0,g:o,b:n};break;case 4:u={r:o,g:0,b:n};break;case 5:case 6:u={r:n,g:0,b:o};break;default:u={r:0,g:0,b:0}}return u.r=Math.round(u.r+i-n),u.g=Math.round(u.g+i-n),u.b=Math.round(u.b+i-n),u}function JF(e){return uhe(e)?e:dhe(e)?Qze(e):hhe(e)?Zze(e):qze(e)?WF(e):che(e)?tBe(e):e}function D4t(e){return che(e)?e:eBe(JF(e))}function z4t(e){return hhe(e)?e:Yze(JF(e))}function B4t(e){return dhe(e)?e:Xze(JF(e))}function rBe(e){let{r:t,g:r,b:i,a:n}=e;return n<1&&(t=Math.round(n*t+255*(1-n)),r=Math.round(n*r+255*(1-n)),i=Math.round(n*i+255*(1-n))),new Dt({r:t,g:r,b:i})}function V4t(e,t){const{r,g:i,b:n}=rBe(e);return .2126*r+.7152*i+.0722*n}var TW;(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(TW||(TW={}));const iBe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},uA={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};function U4t(e){return[e.r,e.g,e.b,e.a]}const nBe=` /-,
`;function kW(e){let t=e.length;for(;t--;)if(!nBe.includes(e.charAt(t)))return!1;return!0}function sBe(e,t){const r=[];let i=0,n=-1;do if(n=e.indexOf("[",i),n>=i){if(n>i){const o=e.substr(i,n-i);r.push([o,null,kW(o)])}if(i=n+1,n=e.indexOf("]",i),n>=i){if(n>i){const o=t[e.substr(i,n-i)];o&&r.push([null,o,!1])}i=n+1}}while(n!==-1);if(i<e.length-1){const o=e.substr(i);r.push([o,null,kW(o)])}return r}function oBe(e,t,r,i){let n="",o=null;for(const u of t){const[f,m,v]=u;if(f)v?o=f:(o&&(n+=o,o=null),n+=f);else{let _=m;r!=null&&(_=ghe(m,r));const $=e.attributes[_];$&&(o&&(n+=o,o=null),n+=$)}}return aBe(n,i)}function aBe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function G4t(e,t,r,i,n,o,u=!0){const f=t/n,m=r/o,v=Math.ceil(f/2),_=Math.ceil(m/2);for(let $=0;$<o;$++)for(let T=0;T<n;T++){const I=4*(T+(u?o-$-1:$)*n);let O=0,A=0,N=0,F=0,z=0,B=0,G=0;const H=($+.5)*m;for(let J=Math.floor($*m);J<($+1)*m;J++){const Z=Math.abs(H-(J+.5))/_,re=(T+.5)*f,q=Z*Z;for(let X=Math.floor(T*f);X<(T+1)*f;X++){let ie=Math.abs(re-(X+.5))/v;const le=Math.sqrt(q+ie*ie);le>=-1&&le<=1&&(O=2*le*le*le-3*le*le+1,O>0&&(ie=4*(X+J*t),G+=O*e[ie+3],N+=O,e[ie+3]<255&&(O=O*e[ie+3]/250),F+=O*e[ie],z+=O*e[ie+1],B+=O*e[ie+2],A+=O))}}i[I]=F/A,i[I+1]=z/A,i[I+2]=B/A,i[I+3]=G/N}}function lBe(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function q4t(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function H4t(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function W4t(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function J4t(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function uBe(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const K4t=(e,t=0)=>e==null||isNaN(e)?t:e,Y4t=(e,t)=>e??t,Z4t=e=>e.tintColor?lBe(e.tintColor):[255,255,255,1],X4t=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function Q4t(){return Ce(()=>import("./geometryEngineJSON-aD2mQICC.js").then(e=>e.g),__vite__mapDeps([6,7]),import.meta.url)}function e6t(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function t6t(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function r6t(e){let t="normal",r="normal";if(e){const i=e.toLowerCase();i.includes("italic")?t="italic":i.includes("oblique")&&(t="oblique"),i.includes("bold")?r="bold":i.includes("light")&&(r="lighter")}return{style:t,weight:r}}function i6t(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function CW(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=CW(t);if(r!=null)return r}break;case"CIMTextSymbol":return CW(e.symbol);case"CIMSolidFill":return e.color}return null}function EW(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const r of t){const i=EW(r);if(i!=null)return i}break}case"CIMTextSymbol":return EW(e.symbol);case"CIMSolidStroke":return e.color}}function IW(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=IW(t);if(r!==void 0)return r}break;case"CIMTextSymbol":return IW(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function n6t(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function s6t(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function cBe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const o6t=e=>e.includes("data:image/svg+xml");function a6t(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function KF(e){return e&&e.charAt(0).toLowerCase()+e.substring(1)}function l6t(e,t,r,i,n,o){const{infos:u}=o;let f=1,m=0,v=0,_=0;for(const{offsetX:I,offsetY:O,rotation:A,size:N,frameHeight:F,rotateClockWise:z}of u)v=AW(I,O,m,f,v),_=OW(I,O,m,f,_),F&&(f*=N/F),m=jW(A,z,m);const $=AW(i,n,m,f,v),T=OW(i,n,m,f,_);return{size:e*f,rotation:jW(t,r,m),offsetX:$,offsetY:T}}function hBe(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>hBe(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function u6t(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...iBe[t]];const r=uA[e];if(!r)throw new Error(`InternalError: default value for type ${e}.`);return r[t]}function dBe(e){return e!=null&&e.dashTemplate&&typeof e.dashTemplate=="string"&&(e.dashTemplate=e.dashTemplate.split(" ").map(Number)),e}function cA(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const r of t)if(r.type==="CIMVectorMarker")return cA(r)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const r of t)if(r.symbol)return cA(r.symbol)}}return"Normal"}function c6t(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const i=r.size??uA.CIMVectorMarker.size;i>t&&(t=i);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const i=r.width;i!=null&&i>t&&(t=i);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&uBe(r.markerPlacement)){const i=r.size??uA.CIMVectorMarker.size;i>t&&(t=i)}break;case"CIMPictureFill":{const i=r.height;i!=null&&i>t&&(t=i)}}}return t}}}function ghe(e,t){if(t!==null){const r=t.get(e);return r?r.name:e}return e}function pBe(e){return e.map(t=>({...t,propertyName:KF(t.propertyName)}))}function PW(e){const t={};for(const r in e){const i=e[r];t[KF(r)]=i}return t}function OW(e,t,r,i,n){const o=r*Math.PI/180;if(o){const u=Math.cos(o);return(Math.sin(o)*e+u*t)*i+n}return t*i+n}function AW(e,t,r,i,n){const o=r*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*i+n:e*i+n}function jW(e,t,r){return t?r-e:r+e}function h6t(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function fBe(e){return e.originPosition==="lowerLeft"&&e.scale.length===4&&e.translate.length===4}function kx(e){if(fBe(e))return e;const{originPosition:t,scale:r,translate:i}=e,n=r[0]??1,o=r[1]??1;return{originPosition:"lowerLeft",scale:[n,t==="lowerLeft"?o:-o,r[2]??1,r[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function yBe({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function mBe({scale:e,translate:t},r){return Math.round((r-t[1])/e[1])}function gBe({scale:e,translate:t},r){return Math.round(((r??0)-t[2])/e[2])}function vBe({scale:e,translate:t},r){return r?Math.round((r-t[3])/e[3]):0}function Cx({scale:e,translate:t},r){return r*e[0]+t[0]}function Ex({scale:e,translate:t},r){return r*e[1]+t[1]}function y3({scale:e,translate:t},r){return(r??0)*e[2]+t[2]}function m3({scale:e,translate:t},r){return r?r*e[3]+t[3]:0}function YF(e,t){return e&&t?_Be:e&&!t?wBe:!e&&t?xBe:bBe}const bBe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let n=Cx(e,i[0]),o=Ex(e,i[1]);r[0]=[n,o];const{scale:u,originPosition:f}=e,m=u[0],v=f==="lowerLeft"?u[1]:-u[1];for(let _=1;_<t.length;_++){const[$,T]=t[_];n+=m*$,o+=v*T,r[_]=[n,o]}return r},wBe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let n=Cx(e,i[0]),o=Ex(e,i[1]);r[0]=[n,o,y3(e,i[2])];const{scale:u,originPosition:f}=e,m=u[0],v=f==="lowerLeft"?u[1]:-u[1];for(let _=1;_<t.length;_++){const[$,T,I]=t[_];n+=m*$,o+=v*T,r[_]=[n,o,y3(e,I)]}return r},xBe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let n=Cx(e,i[0]),o=Ex(e,i[1]);r[0]=[n,o,m3(e,i[2])];const{scale:u,originPosition:f}=e,m=u[0],v=f==="lowerLeft"?u[1]:-u[1];for(let _=1;_<t.length;_++){const[$,T,I]=t[_];n+=m*$,o+=v*T,r[_]=[n,o,m3(e,I)]}return r},_Be=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let n=Cx(e,i[0]),o=Ex(e,i[1]);r[0]=[n,o,y3(e,i[2]),m3(e,i[3])];const{scale:u,originPosition:f}=e,m=u[0],v=f==="lowerLeft"?u[1]:-u[1];for(let _=1;_<t.length;_++){const[$,T,I,O]=t[_];n+=m*$,o+=v*T,r[_]=[n,o,y3(e,I),m3(e,O)]}return r};function vhe(e,t,r){const i=new Array(r.length);for(let n=0;n<r.length;n++)i[n]=t(e,r[n]);return i}function d6t(e,t,r){const i=kx(e);return t.x=yBe(i,r.x),t.y=mBe(i,r.y),r.z!=null&&(t.z=gBe(i,r.z)),r.m!=null&&(t.m=vBe(i,r.m)),t}function SBe(e,t,r,i=(r==null?void 0:r.hasZ)??!1,n=(r==null?void 0:r.hasM)??!1){if(r!=null){const o=kx(e);t.points=YF(i,n)(o,r.points),t.hasZ=i,t.hasM=n}return t}function $Be(e,t,r,i=(r==null?void 0:r.z)!=null,n=(r==null?void 0:r.m)!=null){if(r==null)return t;const o=kx(e);return t.x=Cx(o,r.x),t.y=Ex(o,r.y),i&&(t.z=y3(o,r.z)),n&&(t.m=m3(o,r.m)),t}function MBe(e,t,r,i=(r==null?void 0:r.hasZ)??!1,n=(r==null?void 0:r.hasM)??!1){if(r!=null){const o=kx(e);t.rings=vhe(o,YF(i,n),r.rings),t.hasZ=i,t.hasM=n}return t}function TBe(e,t,r,i=(r==null?void 0:r.hasZ)??!1,n=(r==null?void 0:r.hasM)??!1){if(r!=null){const o=kx(e);t.paths=vhe(o,YF(i,n),r.paths),t.hasZ=i,t.hasM=n}return t}function kBe(e,t,r,i,n){if(e==null)return null;const o=e.referencesGeometry()&&n?CBe(t,i,n):t,u=e.repurposeFeature(o);try{return e.evaluate({...r,$feature:u},e.services)}catch(f){return Ne.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",f),null}}const $k=new Map;function CBe(e,t,r){const{transform:i,hasZ:n,hasM:o}=r;$k.has(t)||$k.set(t,EBe(t));const u=$k.get(t)(e.geometry,i,n,o);return{...e,geometry:u}}function EBe(e){const t={};switch(e){case"esriGeometryPoint":return(r,i,n,o)=>$Be(i,t,r,n,o);case"esriGeometryPolygon":return(r,i,n,o)=>MBe(i,t,r,n,o);case"esriGeometryPolyline":return(r,i,n,o)=>TBe(i,t,r,n,o);case"esriGeometryMultipoint":return(r,i,n,o)=>SBe(i,t,r,n,o);default:return Ne.getLogger("esri.views.2d.support.arcadeOnDemand").error(new be("mapview-arcade",`Unable to handle geometryType: ${e}`)),r=>r}}const IBe=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:i,a:n}=e;return[t,r,i,255*n]};let bhe=class ji{static findApplicableOverrides(t,r,i){if(t&&r){if(t.primitiveName){let n=!1;for(const o of i)if(o.primitiveName===t.primitiveName){n=!0;break}if(!n)for(const o of r)o.primitiveName===t.primitiveName&&i.push(o)}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const n of t.effects)ji.findApplicableOverrides(n,r,i);if(t.symbolLayers)for(const n of t.symbolLayers)ji.findApplicableOverrides(n,r,i);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(t.effects)for(const n of t.effects)ji.findApplicableOverrides(n,r,i);if(t.markerPlacement&&ji.findApplicableOverrides(t.markerPlacement,r,i),t.type==="CIMVectorMarker"){if(t.markerGraphics)for(const n of t.markerGraphics)ji.findApplicableOverrides(n,r,i),ji.findApplicableOverrides(n.symbol,r,i)}else t.type==="CIMCharacterMarker"?ji.findApplicableOverrides(t.symbol,r,i):t.type==="CIMHatchFill"?ji.findApplicableOverrides(t.lineSymbol,r,i):t.type==="CIMPictureMarker"&&ji.findApplicableOverrides(t.animatedSymbolProperties,r,i)}}}static findEffectOverrides(t,r){if(!t)return null;if(t.type==="CIMGeometricEffectDashes"&&dBe(t),!r||!t.primitiveName)return{type:"cim-effect-param",effect:t,overrides:[]};const i=PW(t),n=t.primitiveName,o=[];for(const u of r)u.primitiveName===n&&o.push(PW(u));return{type:"cim-effect-param",effect:i,overrides:pBe(o)}}static async resolveSymbolOverrides(t,r,i,n,o,u,f){if(!(t!=null&&t.symbol))return null;let{symbol:m,primitiveOverrides:v}=t;const _=!!v;if(!_&&!n)return m;m=ve(m),v=ve(v);let $=!0;if(r||(r={attributes:{}},$=!1),_){if($||(v=v.filter(T=>{var I;return!((I=T.valueExpressionInfo)!=null&&I.expression.includes("$feature"))})),f||(v=v.filter(T=>{var I;return!((I=T.valueExpressionInfo)!=null&&I.expression.includes("$view"))})),v.length>0){const T={spatialReference:i,fields:cBe(r.attributes),geometryType:o};await ji.createRenderExpressions(v,T),ji.evaluateOverrides(v,r,o??"esriGeometryPoint",u,f)}ji.applyOverrides(m,v)}return n&&ji.applyDictionaryTextOverrides(m,r,n,null),m}static async createRenderExpressions(t,r){const i=[];for(const n of t){const o=n.valueExpressionInfo;if(!o||ji._expressionToRenderExpression.has(o.expression))continue;const u=JEe(o.expression,r.spatialReference,r.fields);i.push(u),u.then(f=>ji._expressionToRenderExpression.set(o.expression,f))}i.length>0&&await Promise.all(i)}static evaluateOverrides(t,r,i,n,o){const u={$view:{scale:o==null?void 0:o.scale}};for(const f of t){f.value&&typeof f.value=="object"&&uhe(f.value)&&(f.propertyName==="Color"||f.propertyName==="StrokeColor")&&(f.value=IBe(f.value));const m=f.valueExpressionInfo;if(!m)continue;const v=ji._expressionToRenderExpression.get(m.expression);v&&(f.value=kBe(v,r,u,i,n))}}static applyDictionaryTextOverrides(t,r,i,n,o="Normal"){if(t!=null&&t.type)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const u=t.symbolLayers;if(!u)return;for(const f of u)f&&f.type==="CIMVectorMarker"&&ji.applyDictionaryTextOverrides(f,r,i,n,t.type==="CIMTextSymbol"?t.textCase:o)}break;case"CIMVectorMarker":{const u=t.markerGraphics;if(!u)return;for(const f of u)f&&ji.applyDictionaryTextOverrides(f,r,i,n)}break;case"CIMMarkerGraphic":{const u=t.textString;if(u&&u.includes("[")){const f=sBe(u,i);t.textString=oBe(r,f,n,o)}}}}static applyOverrides(t,r,i,n){if(t.primitiveName){for(const o of r)if(o.primitiveName===t.primitiveName){const u=KF(o.propertyName);if(n&&n.push({cim:t,nocapPropertyName:u,value:t[u]}),i){let f=!1;for(const m of i)m.primitiveName===t.primitiveName&&(f=!0);f||i.push(o)}o.value!=null&&(t[u]=o.value)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(const o of t.effects)ji.applyOverrides(o,r,i,n);if(t.symbolLayers)for(const o of t.symbolLayers)ji.applyOverrides(o,r,i,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(const o of t.effects)ji.applyOverrides(o,r,i,n);if(t.type==="CIMVectorMarker"&&t.markerGraphics)for(const o of t.markerGraphics)ji.applyOverrides(o,r,i,n),ji.applyOverrides(o.symbol,r,i,n)}}static restoreOverrides(t){for(const r of t)r.cim[r.nocapPropertyName]=r.value}static buildOverrideKey(t){let r="";for(const i of t)i.value!==void 0&&(r+=`${i.primitiveName}${i.propertyName}${JSON.stringify(i.value)}`);return r}static toValue(t,r){if(t==="DashTemplate")return r.split(" ").map(i=>Number(i));if(t==="Color"){const i=new Dt(r).toRgba();return i[3]*=255,i}return r}};bhe._expressionToRenderExpression=new Map;const RW="esri.renderers.support.DictionaryLoader",PBe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let whe=class{constructor(t,r,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new tze(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){var $;let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{i=await this._dictionaryPromise}catch(T){if(Vs(T))return this._dictionaryPromise=null,null}const n=($=this._dictionaryVersion)==null?void 0:$.since(4,0),o={};if(this.fieldMap)for(const T of this._symbolFields){const I=ghe(this.fieldMap[T],this._fieldIndex);if(I){const O=t.attributes[I];o[T]=n?O:O!=null?""+t.attributes[I]:""}else o[T]=""}let u=null;try{u=i==null?void 0:i(o,r)}catch{return null}if(!u||typeof u!="string"||u==="invalid")return null;const f=u.split(";"),m=[],v=[];for(const T of f)if(T)if(T.includes("po:")){const I=T.substr(3).split("|");if(I.length===3){const O=I[0],A=I[1];let N=I[2];if(A==="DashTemplate")N=N.split(" ").map(F=>Number(F));else if(A==="Color"){const F=new Dt(N).toRgba();N=[F[0],F[1],F[2],255*F[3]]}else N=Number(N);v.push({primitiveName:O,propertyName:A,value:N,defaultValue:null})}}else if(T.includes("|")){for(const I of T.split("|"))if(this._itemNames.has(I)){m.push(I);break}}else this._itemNames.has(T)&&m.push(T);const _=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,m,v,_,r)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void Ne.getLogger(RW).error("no valid URL!");const r=Jr(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:i}]=await Promise.all([r,d1()]);if(!i)throw this._dictionaryPromise=null,new be("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:n,dictionary_version:o,expression:u,itemsNames:f}=i,m=u;let v=!1;o&&(this._dictionaryVersion=rze.parse(o),v=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(f),this._symbolFields=n.symbol;const _={};if(this.config){const I=this.config;for(const O in I)_[O]=I[O]}if(n.configuration)for(const I of n.configuration)_.hasOwnProperty(I.name)||(_[I.name]=I.value);const $=[];if(t!=null&&t.fields&&this.fieldMap)for(const I in this.fieldMap){const O=this.fieldMap[I],A=t.fields.filter(N=>N.name.toLowerCase()===(O==null?void 0:O.toLowerCase()));A.length>0&&$.push({...A[0],type:v?A[0].type:"esriFieldTypeString"})}$.length>0&&(this._fieldIndex=new Wce($));const T=KEe(m,t!=null?t.spatialReference:null,$,_).then(I=>{const O={scale:0};return(A,N)=>{if(I==null)return null;const F=I.repurposeFeature({geometry:null,attributes:A});return O.scale=N!=null?N.scale??void 0:void 0,I.evaluate({$feature:F,$view:O},I.services)}}).catch(I=>(Ne.getLogger(RW).error("Creating dictionary expression failed:",I),null));return this._dictionaryPromise=T,T}async _cimPartsToCIMSymbol(t,r,i,n,o){const u=new Array(r.length);for(let v=0;v<r.length;v++)u[v]=this._getSymbolPart(r[v],o);let f=await Promise.all(u);const m=this.fieldMap;if(m){f=ve(f);for(const v of f)bhe.applyDictionaryTextOverrides(v,t,m,this._fieldIndex,cA(v))}return new Qp({data:OBe(f,i,n)})}async _getSymbolPart(t,r){const i=this._symbolCache.get(t);if(i)return i;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(u=>u.data);const n=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),o=Jr(n,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,o),o.finally(()=>this._ongoingRequests.delete(t));try{const u=await o;return this._symbolCache.put(t,u.data),u.data}catch(u){throw u}}};function OBe(e,t,r){if(!e||e.length===0)return null;const i={...e[0]};if(e.length>1){i.symbolLayers=[];for(const n of e){const o=n;i.symbolLayers.unshift(...o.symbolLayers)}}return r&&(i.callout=PBe),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}var hA;let Bl=hA=class extends hv(Bh){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new whe(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){i!=null&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new hA({config:ve(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:ve(this.fieldMap),url:ve(this.url),visualVariables:ve(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Bs(e,t,this.scaleExpression);for(const r in this.fieldMap){const i=this.fieldMap[r];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};b([M({type:whe})],Bl.prototype,"_loader",null),b([M({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Bl.prototype,"config",void 0),b([M({type:Object,json:{write:!0}})],Bl.prototype,"fieldMap",void 0),b([M({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Bl.prototype,"scaleExpression",void 0),b([Xe("scaleExpression")],Bl.prototype,"writeData",null),b([M({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Bl.prototype,"scaleExpressionTitle",void 0),b([M({type:String,json:{write:!0}})],Bl.prototype,"url",void 0),b([Xe("visualVariables")],Bl.prototype,"writeVisualVariables",null),Bl=hA=b([se("esri.renderers.DictionaryRenderer")],Bl);const ABe=Bl;var dA;let qc=dA=class extends Fe{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(Ne.getLogger(this).error(".field: field must be a string value"),null):ix(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new dA({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};b([M({type:Dt,json:{type:[Number],write:!0}})],qc.prototype,"color",void 0),b([M({type:String,json:{write:!0}})],qc.prototype,"field",void 0),b([Ar("field")],qc.prototype,"castField",null),b([M({type:String,json:{write:!0}})],qc.prototype,"label",void 0),b([M({type:String,json:{write:!0}})],qc.prototype,"valueExpression",void 0),b([M({type:String,json:{write:!0}})],qc.prototype,"valueExpressionTitle",void 0),qc=dA=b([se("esri.renderers.support.AttributeColorInfo")],qc);const xhe=qc;var pA;let c9=pA=class extends Fe{constructor(){super(...arguments),this.unit=null}clone(){return new pA({unit:this.unit})}};b([M({type:String,json:{write:!0}})],c9.prototype,"unit",void 0),c9=pA=b([se("esri.renderers.support.DotDensityLegendOptions")],c9);const jBe=c9;var fA;let wo=fA=class extends hv(Bh){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Dt([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Fo,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new zh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new fA({attributes:ve(this.attributes),backgroundColor:ve(this.backgroundColor),dotBlendingEnabled:ve(this.dotBlendingEnabled),dotShape:ve(this.dotShape),dotSize:ve(this.dotSize),dotValue:ve(this.dotValue),legendOptions:ve(this.legendOptions),outline:ve(this.outline),referenceScale:ve(this.referenceScale),seed:ve(this.seed),visualVariables:ve(this.visualVariables),authoringInfo:ve(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(r=>r.field||r.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await Bs(e,t,r.valueExpression),r.field&&e.add(r.field)}};b([M({type:[xhe],json:{write:!0}})],wo.prototype,"attributes",void 0),b([M({type:Dt,json:{write:!0}})],wo.prototype,"backgroundColor",void 0),b([M({type:Boolean,json:{write:!0}})],wo.prototype,"dotBlendingEnabled",void 0),b([M({type:String,json:{write:!1}})],wo.prototype,"dotShape",void 0),b([M({type:Number,json:{write:!0}})],wo.prototype,"dotSize",void 0),b([M({type:jBe,json:{write:!0}})],wo.prototype,"legendOptions",void 0),b([M({type:Fo,json:{default:null,write:!0}})],wo.prototype,"outline",void 0),b([M({type:Number,json:{write:!0}})],wo.prototype,"dotValue",void 0),b([M({type:Number,json:{write:!0}})],wo.prototype,"referenceScale",void 0),b([M({type:Number,json:{write:!0}})],wo.prototype,"seed",void 0),b([Ct({dotDensity:"dot-density"})],wo.prototype,"type",void 0),wo=fA=b([se("esri.renderers.DotDensityRenderer")],wo);const RBe=wo;var yA;let b2=yA=class extends Fe{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new yA({color:this.color&&this.color.clone(),ratio:this.ratio})}};b([M({type:Dt,json:{type:[Wr],default:null,write:!0}})],b2.prototype,"color",void 0),b([M({type:Number,json:{write:!0}})],b2.prototype,"ratio",void 0),b2=yA=b([se("esri.renderers.support.HeatmapColorStop")],b2);const h9=b2;let Vy=class extends ui(Fe){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};b([M({type:String,json:{write:!0}})],Vy.prototype,"minLabel",void 0),b([M({type:String,json:{write:!0}})],Vy.prototype,"maxLabel",void 0),b([M({type:String,json:{write:!0}})],Vy.prototype,"title",void 0),Vy=b([se("esri.renderers.support.HeatmapLegendOptions")],Vy);const ZF=2.4;function LBe(e){return ml(e*ZF)}function NBe(e){return mCe(e)/ZF}function FBe(e,t,r,i){let{color:n,ratio:o}=t,{color:u,ratio:f}=r;f===o&&(f===1?o-=1e-6:f+=1e-6);const m=fl((i-o)/(f-o),0,1);rhe(e,n.toArray(),u.toArray(),m)}function y6t(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:f})=>f>=0&&f<=1).sort((f,m)=>f.ratio-m.ratio).map(({color:f,ratio:m})=>({color:f,ratio:Math.max(m,.001)})),e.length<1)return r;let i=e[0],n=e[0],o=1;const u=p8();for(let f=0;f<512;f++){const m=(f+.5)/512;for(;m>n.ratio&&o<e.length;)i=n,n=e[o++];FBe(u,i,n,m),r.set(u,4*f)}return r}function m6t(e,t,r){const i=Math.sqrt(e**2+t**2)/r;return i>1?0:3/(Math.PI*r**2)*(1-i**2)**2}function g6t(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var mA;function LW(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:i}=e;if(t!=null||r!=null||i!=null){const{blurRadius:n,maxPixelIntensity:o,minPixelIntensity:u,...f}=e;return f}}return e}let Bn=mA=class extends Bh{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new h9({ratio:0,color:new Dt("rgba(255, 140, 0, 0)")}),new h9({ratio:.75,color:new Dt("rgba(255, 140, 0, 1)")}),new h9({ratio:.9,color:new Dt("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return LW(e)}get blurRadius(){return NBe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",LBe(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(ZF**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||zs(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,Yg(()=>{Ib(Ne.getLogger(this),e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=LW(e),super.read(e,t)}getSymbol(){return new gc}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,i=this.valueExpression;r&&typeof r=="string"&&ao(e,t,r),i&&typeof i=="string"&&await Bs(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new mA({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:ve(this.colorStops),field:this.field,legendOptions:ve(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};b([M({type:BF,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Bn.prototype,"authoringInfo",void 0),b([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Bn.prototype,"blurRadius",null),b([M({type:[h9],json:{write:!0}})],Bn.prototype,"colorStops",void 0),b([M({type:String,json:{write:!0}})],Bn.prototype,"field",void 0),b([M({type:Vy,json:{write:!0}})],Bn.prototype,"legendOptions",void 0),b([M({type:Number,json:{write:!0}})],Bn.prototype,"maxDensity",void 0),b([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Bn.prototype,"maxPixelIntensity",null),b([M({type:Number,json:{write:!0}})],Bn.prototype,"minDensity",void 0),b([M({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Bn.prototype,"minPixelIntensity",null),b([M({type:Number,cast:Tr,json:{write:!0}})],Bn.prototype,"radius",void 0),b([M({type:Number,range:{min:0},json:{default:0,write:!0}})],Bn.prototype,"referenceScale",void 0),b([Ct({heatmap:"heatmap"})],Bn.prototype,"type",void 0),b([M({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Bn.prototype,"valueExpression",void 0),b([M({type:String})],Bn.prototype,"valueExpressionTitle",void 0),b([M({readOnly:!0})],Bn.prototype,"_pixelIntensityToDensity",null),Bn=mA=b([se("esri.renderers.HeatmapRenderer")],Bn);const _he=Bn;let y0=class extends ui(Fe){constructor(){super(...arguments),this.color=new Dt([0,0,0,0]),this.label=null,this.threshold=0}};b([M({type:Dt,json:{write:!0}})],y0.prototype,"color",void 0),b([M({type:String,json:{write:!0}})],y0.prototype,"label",void 0),b([M({type:Number,range:{min:0,max:1},json:{write:!0}})],y0.prototype,"threshold",void 0),y0=b([se("esri.renderers.support.OthersCategory")],y0);let d9=class extends ui(Fe){constructor(){super(...arguments),this.title=null}};b([M({type:String,json:{write:!0}})],d9.prototype,"title",void 0),d9=b([se("esri.renderers.support.PieChartLegendOptions")],d9);let Ko=class extends hv(ui(Bh)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Dt([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new y0,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new gc({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(ps)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,r)=>t+r.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const i of this.attributes)i.valueExpression&&await Bs(t,r,i.valueExpression),i.field&&t.add(i.field)}};b([M({type:[xhe],json:{write:!0}})],Ko.prototype,"attributes",void 0),b([M({type:zh,json:{default:null,write:!0}})],Ko.prototype,"backgroundFillSymbol",void 0),b([M({type:Dt,json:{write:!0}})],Ko.prototype,"defaultColor",void 0),b([M({type:String,json:{write:!0}})],Ko.prototype,"defaultLabel",void 0),b([M({type:Number,range:{min:0,max:1},json:{write:!0}})],Ko.prototype,"holePercentage",void 0),b([M({type:y0,json:{write:!0}})],Ko.prototype,"othersCategory",void 0),b([M({type:d9,json:{write:!0}})],Ko.prototype,"legendOptions",void 0),b([M({type:Fo,json:{default:null,write:!0}})],Ko.prototype,"outline",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],Ko.prototype,"size",void 0),b([Ct({pieChart:"pie-chart"})],Ko.prototype,"type",void 0),Ko=b([se("esri.renderers.PieChartRenderer")],Ko);const DBe=Ko;var gA;let t0=gA=class extends hv(Bh){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new gA({description:this.description,label:this.label,symbol:ve(this.symbol),visualVariables:ve(this.visualVariables),authoringInfo:ve(this.authoringInfo)})}};b([M({type:String,json:{write:!0}})],t0.prototype,"description",void 0),b([M({type:String,json:{write:!0}})],t0.prototype,"label",void 0),b([M(HF)],t0.prototype,"symbol",void 0),b([Ct({simple:"simple"})],t0.prototype,"type",void 0),t0=gA=b([se("esri.renderers.SimpleRenderer")],t0);const pv=t0,zBe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function vA(e){return e instanceof St}function NW(e){return e instanceof ut?Object.keys(e.items):vA(e)?zs(e).keys():e?Object.keys(e):[]}function p5(e,t){return e instanceof ut?e.items[t]:e[t]}function BBe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function fw(e){return e?e.declaredClass:null}function She(e,t){var $;const r=e.diff;if(r&&typeof r=="function")return r(e,t);const i=NW(e),n=NW(t);if(i.length===0&&n.length===0)return;if(!i.length||!n.length||BBe(e,t))return{type:"complete",oldValue:e,newValue:t};const o=n.filter(T=>!i.includes(T)),u=i.filter(T=>!n.includes(T)),f=i.filter(T=>n.includes(T)&&p5(e,T)!==p5(t,T)).concat(o,u).sort(),m=fw(e);if(m&&zBe.has(m)&&f.length)return{type:"complete",oldValue:e,newValue:t};let v;const _=vA(e)&&vA(t);for(const T of f){const I=p5(e,T),O=p5(t,T);let A;if((_||typeof I!="function"&&typeof O!="function")&&I!==O&&(I!=null||O!=null)){if(r&&r[T]&&typeof r[T]=="function")A=($=r[T])==null?void 0:$.call(r,I,O);else if(I instanceof Date&&O instanceof Date){if(I.getTime()===O.getTime())continue;A={type:"complete",oldValue:I,newValue:O}}else A=typeof I=="object"&&typeof O=="object"&&fw(I)===fw(O)?She(I,O):{type:"complete",oldValue:I,newValue:O};A!=null&&(v!=null?v.diff[T]=A:v={type:"partial",diff:{[T]:A}})}}return v}function x6t(e,t){return VBe(e,t)}function VBe(e,t){if(e==null)return!1;const r=t.split(".");let i=e;for(const n of r){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const o=i.diff[n];if(!o)return!1;i=o}}return!0}function _6t(e,t){if(!e)return!1;if(e.type==="partial"){const r=Object.keys(e.diff);return r.length===1&&r[0]===t}return!1}function UBe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&fw(e)!==fw(t)?{type:"complete",oldValue:e,newValue:t}:She(e,t)}let Uy=class extends ui(Fe){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};b([M(o9)],Uy.prototype,"value",void 0),b([M(o9)],Uy.prototype,"value2",void 0),b([M(o9)],Uy.prototype,"value3",void 0),Uy=b([se("esri.renderers.support.UniqueValue")],Uy);const Zm=Uy;let Pd=class extends ui(Fe){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(i=>new Zm({value:i})):r==="object"?t[0]instanceof Zm?t:t.map(i=>new Zm(i)):null}};b([M({type:String,json:{write:!0}})],Pd.prototype,"description",void 0),b([M({type:String,json:{write:!0}})],Pd.prototype,"label",void 0),b([M(h8)],Pd.prototype,"symbol",void 0),b([M({type:[Zm],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Zm({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const i of e){const n=[i.value,i.value2,i.value3].filter(ps).map(o=>o.toString());r.push(n)}t.values=r}}}})],Pd.prototype,"values",void 0),b([Ar("values")],Pd.prototype,"castValues",null),Pd=b([se("esri.renderers.support.UniqueValueClass")],Pd);const $he=Pd;let w2=class extends ui(Fe){constructor(t){super(t),this.heading=null,this.classes=null}};b([M({type:String,json:{write:!0}})],w2.prototype,"heading",void 0),b([M({type:[$he],json:{write:!0}})],w2.prototype,"classes",void 0),w2=b([se("esri.renderers.support.UniqueValueGroup")],w2);const bA=w2;var wA;let r0=wA=class extends Fe{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new wA({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};b([M({type:String,json:{write:!0}})],r0.prototype,"description",void 0),b([M({type:String,json:{write:!0}})],r0.prototype,"label",void 0),b([M(HF)],r0.prototype,"symbol",void 0),b([M(o9)],r0.prototype,"value",void 0),r0=wA=b([se("esri.renderers.support.UniqueValueInfo")],r0);const yw=r0,GBe=()=>!!ke("enable-feature:force-wosr"),qBe=()=>ke.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),HBe=()=>ke.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),WBe=()=>ke.add("enable-i3s-patching",!0,!0,!0),JBe=()=>ke.add("enable-i3s-patching",!1,!0,!0),T6t=()=>!!ke("enable-feature:SceneLayer-editing"),KBe=(e="i3s-patching")=>{switch(JBe(),HBe(),ke.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":qBe();break;case"i3s-patching":WBe()}};KBe("i3s-patching");let Mk={};async function YBe(e,t){try{return{data:(await eVe(e,t)).data,baseUrl:n4e(e),styleUrl:e}}catch(r){return Ga(r),null}}function ZBe(e,t,r){var u;const i=t.portal!=null?t.portal:Rn.getDefault();let n;const o=`${i.url} - ${(u=i.user)==null?void 0:u.username} - ${e}`;return Mk[o]||(Mk[o]=XBe(e,i,r).then(f=>(n=f,f.fetchData())).then(f=>({data:f,baseUrl:n.itemUrl??"",styleName:e}))),Mk[o]}function XBe(e,t,r){return t.load(r).then(()=>{const i=new Zu({disableExtraQuery:!0,query:`owner:${FW} AND type:${DW} AND typekeywords:"${e}"`});return t.queryItems(i,r)}).then(({results:i})=>{var u;let n=null;const o=e.toLowerCase();if(i&&Array.isArray(i)){for(const f of i)if(((u=f.typeKeywords)==null?void 0:u.some(v=>v.toLowerCase()===o))&&f.type===DW&&f.owner===FW){n=f;break}}if(!n)throw new be("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return n.load(r)})}function QBe(e,t,r){return(e==null?void 0:e.styleUrl)!=null?YBe(e.styleUrl,r):(e==null?void 0:e.styleName)!=null?ZBe(e.styleName,t,r):Promise.reject(new be("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function k6t(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function C6t(e,t,r=["gltf"]){if(t==="cimRef")return encodeURI(e.cimRef);if(e.formatInfos&&!GBe())for(const i of r){const n=e.formatInfos.find(o=>o.type===i);if(n)return n.href}return encodeURI(e.webRef)}function eVe(e,t){const r={responseType:"json",query:{f:"json"},...t};return Jr(sl(e),r)}const FW="esri_en",DW="Style",E6t="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var x2;const Mhe="esri.renderers.UniqueValueRenderer",rd=()=>Ne.getLogger(Mhe),zW="uvInfos-watcher",BW="uvGroups-watcher",tVe=",",rVe=xi(yw);function iVe(e){const{field1:t,field2:r,field3:i,fieldDelimiter:n,uniqueValueInfos:o,valueExpression:u}=e,f=!(!t||!r);return[{classes:(o??[]).map(m=>{var F;const{symbol:v,label:_,value:$,description:T}=m,[I,O,A]=f?((F=$==null?void 0:$.toString())==null?void 0:F.split(n||""))||[]:[$],N=[];return(t||u)&&N.push(I),r&&N.push(O),i&&N.push(A),{symbol:v,label:_,values:[N],description:T}})}]}let Mi=x2=class extends hv(Bh){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let i=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<r.length;o++){const u=t.find(f=>f.value===r[o].value);u?UBe(u,r[o])?(n.changed.push({type:"complete",oldValue:u,newValue:r[o]}),i=!0):n.unchanged.push({oldValue:u,newValue:r[o]}):(n.added.push(r[o]),i=!0)}for(let o=0;o<t.length;o++)r.find(u=>u.value===t[o].value)||(n.removed.push(t[o]),i=!0);return i?n:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:ix(e)}writeField(e,t,r,i){typeof e=="string"?t[r]=e:i!=null&&i.messages?i.messages.push(new be("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):rd().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||Rn.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const i=nv(t.styleUrl,r);return Object.freeze({styleUrl:i})}}writeStyleOrigin(e,t,r,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=mx(e.styleUrl,i))}set uniqueValueGroups(e){this.styleOrigin?rd().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?rd().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var i;if(this.styleOrigin)return void rd().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?rVe(e):new yw({value:e,symbol:dle(t)}),(i=this.uniqueValueInfos)==null||i.push(r),this._valueInfoMap[r.value]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void rd().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){const i=t[r];if(String(i.value)===String(e)){delete this._valueInfoMap[e],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await d1()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void rd().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return(r==null?void 0:r.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(r==null?void 0:r.arcade)==null){const n=await d1(),{arcadeUtils:o}=n;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:n}}const i=this._getUniqueValueInfo(e,r);return(i==null?void 0:i.symbol)||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var i;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=(i=this.uniqueValueInfos)==null?void 0:i.reduce((n,o)=>n+o.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new x2({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:ve(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:ve(this.visualVariables),legendOptions:ve(this.legendOptions),authoringInfo:ve(this.authoringInfo),backgroundFillSymbol:ve(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=ve(this.uniqueValueInfos),r=ve(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(ve(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(i=>i.collectRequiredFields(e,t)),Bs(e,t,this.valueExpression)];ao(e,t,this.field),ao(e,t,this.field2),ao(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return QBe(this.styleOrigin,{portal:this.portal}).then(e=>{var r;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(i=>{const n=new L1({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const o=new yw({value:i.name,symbol:n});t.push(o),this._valueInfoMap[i.name]=o}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((r=this.uniqueValueInfos)!=null&&r.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",tVe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(zW);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(lt(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(i,n)=>{i!==n&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,zW)}}_watchUniqueValueGroups(){this.removeHandles(BW);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(lt(()=>({classes:r.classes}),(i,n)=>{i!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const i of r.classes??[])t.push(lt(()=>({symbol:i.symbol,values:i.values,label:i.label,description:i.description}),(n,o)=>{n!==o&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,BW)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:i,fieldDelimiter:n,uniqueValueGroups:o,valueExpression:u}=this;if(!t&&!u)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const f=!(!t||!r);for(const m of o)for(const v of m.classes??[]){const{symbol:_,label:$,values:T,description:I}=v;for(const O of T??[]){const{value:A,value2:N,value3:F}=O,z=[A];r&&z.push(N),i&&z.push(F);const B=f?z.join(n||""):z[0]??void 0;e.push(new yw({symbol:_,label:$,value:B,description:I}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:i,fieldDelimiter:n,uniqueValueInfos:o}=this;if(!t&&!i||!o.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const u=!(!t||!r),f=o.map(v=>{var F;const{symbol:_,label:$,value:T,description:I}=v,[O,A,N]=u?((F=T==null?void 0:T.toString())==null?void 0:F.split(n||""))||[]:[T];return new $he({symbol:_,label:$,description:I,values:[new Zm({value:O,value2:A,value3:N})]})}),m=[new bA({classes:f})];e&&Object.freeze(m),this._set("uniqueValueGroups",m),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:o,timeZone:u}=t??{};let f=this._cache.compiledFunc;const m=o.arcadeUtils;if(!f){const _=m.createSyntaxTree(this.valueExpression);f=m.createFunction(_),this._cache.compiledFunc=f}const v=m.executeFunction(f,m.createExecContext(e,m.getViewInfo({viewingMode:r,scale:i,spatialReference:n}),u));return this._valueInfoMap[v+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let i;if(this.field2){const n=this.field2,o=this.field3,u=[];t&&u.push(r[t]),n&&u.push(r[n]),o&&u.push(r[o]),i=u.join(this.fieldDelimiter||"")}else t&&(i=r[t]);return this._valueInfoMap[i+""]}static fromPortalStyle(e,t){const r=new x2(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",(t==null?void 0:t.portal)||Rn.getDefault());const i=r.populateFromStyle();return i.catch(n=>{rd().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",n)}),i}static fromStyleUrl(e,t){const r=new x2(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch(n=>{rd().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),i}};b([M({readOnly:!0})],Mi.prototype,"_cache",null),b([Ct({uniqueValue:"unique-value"})],Mi.prototype,"type",void 0),b([M(Gce)],Mi.prototype,"backgroundFillSymbol",void 0),b([M({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Mi.prototype,"field",null),b([Ar("field")],Mi.prototype,"castField",null),b([Xe("field")],Mi.prototype,"writeField",null),b([M({type:String,value:null,json:{write:!0}})],Mi.prototype,"field2",null),b([M({type:String,value:null,json:{write:!0}})],Mi.prototype,"field3",null),b([M({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Mi.prototype,"orderByClassesEnabled",void 0),b([M({type:String,value:null,json:{write:!0}})],Mi.prototype,"valueExpression",null),b([M({type:String,json:{write:!0}})],Mi.prototype,"valueExpressionTitle",void 0),b([M({type:Ym,json:{write:!0}})],Mi.prototype,"legendOptions",void 0),b([M({type:String,json:{write:!0}})],Mi.prototype,"defaultLabel",void 0),b([M(DL({...h8},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Mi.prototype,"defaultSymbol",null),b([M({type:String,value:null,json:{write:!0}})],Mi.prototype,"fieldDelimiter",null),b([M({type:Rn,readOnly:!0})],Mi.prototype,"portal",void 0),b([Ge("portal",["styleName"])],Mi.prototype,"readPortal",null),b([M({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Mi.prototype,"styleOrigin",void 0),b([Ge("styleOrigin",["styleName","styleUrl"])],Mi.prototype,"readStyleOrigin",null),b([Xe("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Mi.prototype,"writeStyleOrigin",null),b([M({type:[bA],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||iVe(t)).map(i=>bA.fromJSON(i,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Mi.prototype,"uniqueValueGroups",null),b([M({type:[yw],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Mi.prototype,"uniqueValueInfos",null),Mi=x2=b([se(Mhe)],Mi);const XF=Mi,f8={key:"type",base:Bh,typeMap:{heatmap:_he,simple:pv,"unique-value":XF,"class-breaks":Hce,"dot-density":RBe,dictionary:ABe,"pie-chart":DBe},errorContext:"renderer"},nVe={key:"type",base:Bh,typeMap:{simple:pv,"unique-value":XF,"class-breaks":Hce,heatmap:_he},errorContext:"renderer",validate:sVe};function sVe(e){switch(e.type){case"simple":return oVe(e);case"unique-value":return aVe(e);case"class-breaks":return lVe(e);case"heatmap":return e}}function oVe(e){if(e.symbol)return e;Ne.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function aVe(e){const t=e.uniqueValueInfos,r=t==null?void 0:t.filter(({symbol:i,label:n},o)=>(i||Ne.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${o}] ${n}) without a symbol from web scene.`),!!i));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=r),e}function lVe(e){const t=e.classBreakInfos,r=t==null?void 0:t.filter(({symbol:i,label:n},o)=>(i||Ne.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${o}] ${n}) without a symbol from web scene.`),!!i));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=r),e}function I6t(e,t){return g3(e,null,t)}const uVe=Zg({types:f8});function g3(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r!=null&&r.messages&&r.messages.push(new pl("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):uVe(e,t,r):null}let cVe=class The{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(zE),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new The,i=this._originStores[or.DEFAULTS];i&&i.forEach((n,o)=>{r.set(o,ve(n),or.DEFAULTS)});for(let n=or.SERVICE;n<zE;n++){const o=this._originStores[n];o&&o.forEach((u,f)=>{t&&t.has(f)||r.set(f,ve(u),n)})}return r}get(t,r){const i=r===void 0?this._values:this._originStores[r];return i?i.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,i=or.USER){let n=this._originStores[i];if(n||(n=new Map,this._originStores[i]=n),n.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const o=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),o!==r}return!1}delete(t,r=or.USER){const i=this._originStores[r];if(!i)return;const n=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let o=r-1;o>=0;o--){const u=this._originStores[o];if(u&&u.has(t)){this._values.set(t,u.get(t)),this._propertyOriginMap.set(t,o);break}}}return n}has(t,r){const i=r===void 0?this._values:this._originStores[r];return!!i&&i.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const i=this._originStores[r],n=i==null?void 0:i.get(t),o=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,r),o!==n}originOf(t){return this._propertyOriginMap.get(t)||or.DEFAULTS}forEach(t){this._values.forEach(t)}};const khe=e=>{let t=class extends e{constructor(...r){super(...r);const i=zs(this),n=i.store,o=new cVe;i.store=o,pie(i,n,o)}read(r,i){yie(this,r,i)}getAtOrigin(r,i){const n=Tk(this),o=rp(i);if(typeof r=="string")return n.get(r,o);const u={};return r.forEach(f=>{u[f]=n.get(f,o)}),u}originOf(r){return h4(this.originIdOf(r))}originIdOf(r){return Tk(this).originOf(r)}revert(r,i){const n=Tk(this),o=rp(i),u=zs(this);let f;f=typeof r=="string"?r==="*"?n.keys(o):[r]:r,f.forEach(m=>{u.invalidate(m),n.revert(m,o),u.commit(m)})}};return t=b([se("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function Tk(e){return zs(e).store}let VW=class extends khe(St){};VW=b([se("esri.core.ReadOnlyMultiOriginJSONSupport")],VW);const hVe=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,i="user"){return kk(this).delete(r,rp(i))}write(r,i){return vie(this,r=r||{},i),r}setAtOrigin(r,i,n){zs(this).setAtOrigin(r,i,rp(n))}removeOrigin(r){const i=kk(this),n=rp(r),o=i.keys(n);for(const u of o)i.originOf(u)===n&&i.set(u,i.get(u,n),or.USER)}updateOrigin(r,i){const n=kk(this),o=rp(i),u=ro(this,r);for(let f=o+1;f<zE;++f)n.delete(r,f);n.set(r,u,o)}toJSON(r){return this.write({},r)}};return t=b([se("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function kk(e){return zs(e).store}const y8=e=>{let t=class extends hVe(khe(e)){constructor(...r){super(...r)}};return t=b([se("esri.core.MultiOriginJSONSupport")],t),t};let xA=class extends y8(St){};xA=b([se("esri.core.MultiOriginJSONSupport")],xA);const Yn=(e=>e)(["operational-layers","basemap","ground"]);var _A;let i0=_A=class extends Fe{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new _A({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([M({type:String,json:{write:!0}})],i0.prototype,"expression",void 0),b([M({type:String,json:{write:!0}})],i0.prototype,"name",void 0),b([M({type:["boolean","date","number","string"],json:{write:!0}})],i0.prototype,"returnType",void 0),b([M({type:String,json:{write:!0}})],i0.prototype,"title",void 0),i0=_A=b([se("esri.form.ExpressionInfo")],i0);const dVe=i0;let n0=class extends Fe{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};b([M({type:String,json:{write:!0}})],n0.prototype,"description",void 0),b([M({type:String,json:{write:!0}})],n0.prototype,"label",void 0),b([M()],n0.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],n0.prototype,"visibilityExpression",void 0),n0=b([se("esri.form.elements.Element")],n0);const y1=n0;var SA;let p9=SA=class extends Fe{constructor(e){super(e),this.type=null}clone(){return new SA({type:this.type})}};b([M({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],p9.prototype,"type",void 0),p9=SA=b([se("esri.form.elements.inputs.AttachmentInput")],p9);const pVe=p9;var $A;let s0=$A=class extends y1{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new $A({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};b([M({type:String,json:{write:!0}})],s0.prototype,"attachmentKeyword",void 0),b([M({type:String,json:{write:!0}})],s0.prototype,"editableExpression",void 0),b([M({type:pVe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],s0.prototype,"input",void 0),b([M({type:["attachment"],json:{read:!1,write:!0}})],s0.prototype,"type",void 0),s0=$A=b([se("esri.form.elements.AttachmentElement")],s0);const UW=s0;let f9=class extends Fe{constructor(t){super(t),this.type=null}};b([M()],f9.prototype,"type",void 0),f9=b([se("esri.form.elements.inputs.Input")],f9);const Vh=f9;let _2=class extends Vh{constructor(t){super(t),this.maxLength=null,this.minLength=0}};b([M({type:Number,json:{write:!0}})],_2.prototype,"maxLength",void 0),b([M({type:Number,json:{write:!0}})],_2.prototype,"minLength",void 0),_2=b([se("esri.form.elements.inputs.TextInput")],_2);const QF=_2;var MA;let y9=MA=class extends QF{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new MA({maxLength:this.maxLength,minLength:this.minLength})}};b([M({type:["barcode-scanner"],json:{read:!1,write:!0}})],y9.prototype,"type",void 0),y9=MA=b([se("esri.form.elements.inputs.BarcodeScannerInput")],y9);const fVe=y9;var TA;let Gy=TA=class extends Vh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new TA({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};b([M({type:String,json:{write:!0}})],Gy.prototype,"noValueOptionLabel",void 0),b([M({type:Boolean,json:{write:!0}})],Gy.prototype,"showNoValueOption",void 0),b([M({type:["combo-box"],json:{read:!1,write:!0}})],Gy.prototype,"type",void 0),Gy=TA=b([se("esri.form.elements.inputs.ComboBoxInput")],Gy);const yVe=Gy;var kA;function GW(e){return e??null}function qW(e){return e??null}let ju=kA=class extends Vh{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return GW(t.max)}writeMax(e,t){t.max=qW(e)}readMin(e,t){return GW(t.min)}writeMin(e,t){t.min=qW(e)}clone(){return new kA({max:this.max,min:this.min})}};b([M({type:String,json:{type:String,write:!0}})],ju.prototype,"max",void 0),b([Ge("max")],ju.prototype,"readMax",null),b([Xe("max")],ju.prototype,"writeMax",null),b([M({type:String,json:{type:String,write:!0}})],ju.prototype,"min",void 0),b([Ge("min")],ju.prototype,"readMin",null),b([Xe("min")],ju.prototype,"writeMin",null),b([M({type:["date-picker"],json:{read:!1,write:!0}})],ju.prototype,"type",void 0),ju=kA=b([se("esri.form.elements.inputs.DatePickerInput")],ju);const mVe=ju;var CA;function Ck(e){return e??null}function Ek(e){return e??null}let xo=CA=class extends Vh{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return Ck(t.max)}writeMax(e,t){t.max=Ek(e)}readMin(e,t){return Ck(t.min)}writeMin(e,t){t.min=Ek(e)}readTimeResolution(e,t){return Ck(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Ek(e)}clone(){return new CA({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};b([M({type:Boolean,json:{write:!0}})],xo.prototype,"includeTimeOffset",void 0),b([M({type:String,json:{type:String,write:!0}})],xo.prototype,"max",void 0),b([Ge("max")],xo.prototype,"readMax",null),b([Xe("max")],xo.prototype,"writeMax",null),b([M({type:String,json:{type:String,write:!0}})],xo.prototype,"min",void 0),b([Ge("min")],xo.prototype,"readMin",null),b([Xe("min")],xo.prototype,"writeMin",null),b([M({type:String,json:{type:String,write:!0}})],xo.prototype,"timeResolution",void 0),b([Ge("timeResolution")],xo.prototype,"readTimeResolution",null),b([Xe("timeResolution")],xo.prototype,"writeTimeResolution",null),b([M({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],xo.prototype,"type",void 0),xo=CA=b([se("esri.form.elements.inputs.DateTimeOffsetPickerInput")],xo);const gVe=xo;var EA;function HW(e){return e!=null?new Date(e):null}function WW(e){return e?e.getTime():null}let Vl=EA=class extends Vh{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return HW(t.max)}writeMax(e,t){t.max=WW(e)}readMin(e,t){return HW(t.min)}writeMin(e,t){t.min=WW(e)}clone(){return new EA({includeTime:this.includeTime,max:this.max,min:this.min})}};b([M({type:Boolean,json:{write:!0}})],Vl.prototype,"includeTime",void 0),b([M({type:Date,json:{type:Number,write:!0}})],Vl.prototype,"max",void 0),b([Ge("max")],Vl.prototype,"readMax",null),b([Xe("max")],Vl.prototype,"writeMax",null),b([M({type:Date,json:{type:Number,write:!0}})],Vl.prototype,"min",void 0),b([Ge("min")],Vl.prototype,"readMin",null),b([Xe("min")],Vl.prototype,"writeMin",null),b([M({type:["datetime-picker"],json:{read:!1,write:!0}})],Vl.prototype,"type",void 0),Vl=EA=b([se("esri.form.elements.inputs.DateTimePickerInput")],Vl);const vVe=Vl;var IA;let qy=IA=class extends Vh{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new IA({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};b([M({type:String,json:{write:!0}})],qy.prototype,"noValueOptionLabel",void 0),b([M({type:Boolean,json:{write:!0}})],qy.prototype,"showNoValueOption",void 0),b([M({type:["radio-buttons"],json:{read:!1,write:!0}})],qy.prototype,"type",void 0),qy=IA=b([se("esri.form.elements.inputs.RadioButtonsInput")],qy);const bVe=qy;var PA;let Hy=PA=class extends Vh{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new PA({offValue:this.offValue,onValue:this.onValue})}};b([M({type:[String,Number],json:{write:!0}})],Hy.prototype,"offValue",void 0),b([M({type:[String,Number],json:{write:!0}})],Hy.prototype,"onValue",void 0),b([M({type:["switch"],json:{read:!1,write:!0}})],Hy.prototype,"type",void 0),Hy=PA=b([se("esri.form.elements.inputs.SwitchInput")],Hy);const wVe=Hy;var OA;let m9=OA=class extends QF{constructor(e){super(e),this.type="text-area"}clone(){return new OA({maxLength:this.maxLength,minLength:this.minLength})}};b([M({type:["text-area"],json:{read:!1,write:!0}})],m9.prototype,"type",void 0),m9=OA=b([se("esri.form.elements.inputs.TextAreaInput")],m9);const xVe=m9;var AA;let g9=AA=class extends QF{constructor(e){super(e),this.type="text-box"}clone(){return new AA({maxLength:this.maxLength,minLength:this.minLength})}};b([M({type:["text-box"],json:{read:!1,write:!0}})],g9.prototype,"type",void 0),g9=AA=b([se("esri.form.elements.inputs.TextBoxInput")],g9);const _Ve=g9;var jA;function Ik(e){return e??null}function Pk(e){return e??null}let Yo=jA=class extends Vh{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return Ik(t.max)}writeMax(e,t){t.max=Pk(e)}readMin(e,t){return Ik(t.min)}writeMin(e,t){t.min=Pk(e)}readTimeResolution(e,t){return Ik(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Pk(e)}clone(){return new jA({max:this.max,min:this.min,timeResolution:this.timeResolution})}};b([M({type:String,json:{type:String,write:!0}})],Yo.prototype,"max",void 0),b([Ge("max")],Yo.prototype,"readMax",null),b([Xe("max")],Yo.prototype,"writeMax",null),b([M({type:String,json:{type:String,write:!0}})],Yo.prototype,"min",void 0),b([Ge("min")],Yo.prototype,"readMin",null),b([Xe("min")],Yo.prototype,"writeMin",null),b([M({type:String,json:{type:String,write:!0}})],Yo.prototype,"timeResolution",void 0),b([Ge("timeResolution")],Yo.prototype,"readTimeResolution",null),b([Xe("timeResolution")],Yo.prototype,"writeTimeResolution",null),b([M({type:["time-picker"],json:{read:!1,write:!0}})],Yo.prototype,"type",void 0),Yo=jA=b([se("esri.form.elements.inputs.TimePickerInput")],Yo);const SVe=Yo,$Ve={base:Vh,key:"type",typeMap:{"barcode-scanner":fVe,"combo-box":yVe,"date-picker":mVe,"datetime-picker":vVe,"datetimeoffset-picker":gVe,"radio-buttons":bVe,switch:wVe,"text-area":xVe,"text-box":_Ve,"time-picker":SVe}};var RA;let Aa=RA=class extends y1{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new RA({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};b([M({types:gle,json:{read:{reader:e8},write:!0}})],Aa.prototype,"domain",void 0),b([M({type:Boolean,json:{write:!0}})],Aa.prototype,"editable",null),b([M({type:String,json:{write:!0}})],Aa.prototype,"editableExpression",void 0),b([M({type:String,json:{write:!0}})],Aa.prototype,"fieldName",void 0),b([M({type:String,json:{write:!0}})],Aa.prototype,"hint",void 0),b([M({types:$Ve,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Aa.prototype,"input",void 0),b([M({type:String,json:{write:!0}})],Aa.prototype,"requiredExpression",void 0),b([M({type:String,json:{read:!1,write:!0}})],Aa.prototype,"type",void 0),b([M({type:String,json:{write:!0}})],Aa.prototype,"valueExpression",void 0),Aa=RA=b([se("esri.form.elements.FieldElement")],Aa);const JW=Aa;var LA;let Hc=LA=class extends y1{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new LA({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:ve(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};b([M({type:Number,json:{write:!0}})],Hc.prototype,"displayCount",void 0),b([M({type:["list"],json:{write:!0}})],Hc.prototype,"displayType",void 0),b([M({type:String,json:{write:!0}})],Hc.prototype,"editableExpression",void 0),b([M({type:[oF],json:{write:!0}})],Hc.prototype,"orderByFields",void 0),b([M({type:Number,json:{write:!0}})],Hc.prototype,"relationshipId",void 0),b([M({type:["relationship"],json:{read:!1,write:!0}})],Hc.prototype,"type",void 0),Hc=LA=b([se("esri.form.elements.RelationshipElement")],Hc);const KW=Hc;var NA;let Wy=NA=class extends y1{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new NA({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};b([M({type:String,json:{write:!0}})],Wy.prototype,"text",void 0),b([M({type:String,json:{write:!0}})],Wy.prototype,"textFormat",void 0),b([M({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Wy.prototype,"type",void 0),Wy=NA=b([se("esri.form.elements.TextElement")],Wy);const YW=Wy;function Che(e){return{typesWithGroup:{base:y1,key:"type",typeMap:{attachment:UW,field:JW,group:e,relationship:KW,text:YW}},typesWithoutGroup:{base:y1,key:"type",typeMap:{attachment:UW,field:JW,relationship:KW,text:YW}}}}function Ehe(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function Ihe(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function Phe(e,t,r=!0){return e?e.map(i=>oc(r?t.typesWithGroup:t.typesWithoutGroup,i)):null}var FA;let Vu=FA=class extends y1{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return Phe(e,Ok,!1)}readElements(e,t){return Ehe(t.formElements,Ok,!1)}writeElements(e,t){t.formElements=Ihe(e,Ok,!1)}clone(){return new FA({description:this.description,elements:ve(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};b([M({json:{write:!0}})],Vu.prototype,"elements",void 0),b([Ar("elements")],Vu.prototype,"castElements",null),b([Ge("elements",["formElements"])],Vu.prototype,"readElements",null),b([Xe("elements")],Vu.prototype,"writeElements",null),b([M({type:["collapsed","expanded"],json:{write:!0}})],Vu.prototype,"initialState",void 0),b([M({type:String,json:{read:!1,write:!0}})],Vu.prototype,"type",void 0),Vu=FA=b([se("esri.form.elements.GroupElement")],Vu);const Ok=Che(Vu),MVe=Vu,TVe=e=>e.type==="field",kVe=e=>e.type==="group",CVe=e=>e.type==="text";var DA;const Ak=Che(MVe);let Ul=DA=class extends Fe{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return Phe(e,Ak)}readElements(e,t){return Ehe(t.formElements,Ak)}writeElements(e,t){t.formElements=Ihe(e,Ak)}clone(){return new DA({description:this.description,expressionInfos:ve(this.expressionInfos),elements:ve(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const r=new Set,{description:i,elements:n,expressionInfos:o,title:u}=this;if(mw(r,e,i),mw(r,e,u),!n)return[];const f=EVe(n,o).map(m=>Bs(r,e,m));await Promise.all(f);for(const m of n)Ohe(r,{fieldsIndex:e,relationships:t},m);return Array.from(r).sort()}};function Ohe(e,t,r){var n;const{fieldsIndex:i}=t;if(!i||i.fields.length!==e.size)switch(mw(e,i,r.label),mw(e,i,r.description),r.type){case"field":ao(e,i,r.fieldName);break;case"group":r.elements.forEach(o=>Ohe(e,t,o));break;case"relationship":if(t.relationships){const o=t.relationships.find(u=>u.id===r.relationshipId);o&&ao(e,i,o.keyField)}p1(e,i,(n=r.orderByFields)==null?void 0:n.map(o=>o.field));break;case"text":mw(e,i,r.text)}}function EVe(e,t){if(!t||t.length===0)return[];const r=Ahe(e),i=[];for(const n of t)r.has(n.name)&&i.push(n.expression);return i}function Ahe(e){const t=new Set;for(const r of e)if(vU(t,r.visibilityExpression),!CVe(r)){if(kVe(r))g4(t,Ahe(r.elements));else if(vU(t,r.editableExpression),TVe(r)){const{requiredExpression:i,valueExpression:n}=r;g4(t,[i,n])}}return t}function mw(e,t,r){p1(e,t,kae(r))}b([M({type:String,json:{write:!0}})],Ul.prototype,"description",void 0),b([M({json:{write:!0}})],Ul.prototype,"elements",void 0),b([Ar("elements")],Ul.prototype,"castElements",null),b([Ge("elements",["formElements"])],Ul.prototype,"readElements",null),b([Xe("elements")],Ul.prototype,"writeElements",null),b([M({type:[dVe],json:{write:!0}})],Ul.prototype,"expressionInfos",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Ul.prototype,"preserveFieldValuesWhenHidden",void 0),b([M({type:String,json:{write:!0}})],Ul.prototype,"title",void 0),Ul=DA=b([se("esri.form.FormTemplate")],Ul);const IVe=Ul;function ZW(e,t,r){if(e.hasM==null||e.hasZ)for(const i of t)for(const n of i)n.length>2&&(n[2]*=r)}function PVe(e,t,r){if(!e&&!t||!r)return;const i=F4(r);XW(e,r,i),XW(t,r,i)}function XW(e,t,r){if(e)for(const i of e)OVe(i.geometry,t,r)}function OVe(e,t,r){if(!(e!=null&&e.spatialReference)||on(e.spatialReference,t))return;const i=F4(e.spatialReference)/r;if(i!==1){if("x"in e)e.z!=null&&(e.z*=i);else if("rings"in e)ZW(e,e.rings,i);else if("paths"in e)ZW(e,e.paths,i);else if("points"in e&&(e.hasM==null||e.hasZ))for(const n of e.points)n.length>2&&(n[2]*=i)}}function QW(e,t,r){if(!(r!=null&&r.features)||!r.hasZ)return;const i=qse(r.geometryType,t,e.outSpatialReference);if(i!=null)for(const n of r.features)i(n.geometry)}var zA;const BA=new hr({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Vn=zA=class extends Fe{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var n;const r=It.fromJSON(t.spatialReference),i=[];for(let o=0;o<e.length;o++){const u=e[o],f=ma.fromJSON(u),m=(n=u.geometry)==null?void 0:n.spatialReference;f.geometry==null||m||(f.geometry.spatialReference=r);const v=u.aggregateGeometries,_=f.aggregateGeometries;if(v&&_!=null)for(const $ in _){const T=_[$],I=v[$],O=I==null?void 0:I.spatialReference;T==null||O||(T.spatialReference=r)}i.push(f)}return i}writeGeometryType(e,t,r,i){if(e)return void BA.write(e,t,r,i);const{features:n}=this;if(n){for(const o of n)if((o==null?void 0:o.geometry)!=null)return void BA.write(o.geometry.type,t,r,i)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,i=Op(e);return i&&!r&&t.spatialReference&&(i.spatialReference=It.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const i of r)if(i&&i.geometry!=null&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}}clone(){return new zA(this.cloneProperties())}cloneProperties(){return ve({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const i=t.features[r];if(i.geometry){const n=e==null?void 0:e[r];i.geometry=(n==null?void 0:n.toJSON())||i.geometry}}return t}quantize(e){const{scale:[t,r],translate:[i,n]}=e,o=v=>Math.round((v-i)/t),u=v=>Math.round((n-v)/r),f=this.features,m=this._getQuantizationFunction(this.geometryType,o,u);for(let v=0,_=f.length;v<_;v++)m!=null&&m(f[v].geometry)||(f.splice(v,1),v--,_--);return this.transform=e,this}unquantize(){var T,I;const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[i,n],scale:[o,u]}=r,f=O=>O*o+i,m=O=>n-O*u;let v=null,_=null;if(this.hasZ&&((T=r==null?void 0:r.scale)==null?void 0:T[2])!=null){const{translate:[,,O],scale:[,,A]}=r;v=N=>N*A+O}if(this.hasM&&((I=r==null?void 0:r.scale)==null?void 0:I[3])!=null){const{translate:[,,,O],scale:[,,,A]}=r;_=N=>N==null?N:N*A+O}const $=this._getHydrationFunction(e,f,m,v,_);for(const{geometry:O}of t)O!=null&&$&&$(O);return this.transform=null,this}_quantizePoints(e,t,r){let i,n;const o=[];for(let u=0,f=e.length;u<f;u++){const m=e[u];if(u>0){const v=t(m[0]),_=r(m[1]);v===i&&_===n||(o.push([v-i,_-n]),i=v,n=_)}else i=t(m[0]),n=r(m[1]),o.push([i,n])}return o.length>0?o:null}_getQuantizationFunction(e,t,r){return e==="point"?i=>(i.x=t(i.x),i.y=r(i.y),i):e==="polyline"||e==="polygon"?i=>{const n=Nm(i)?i.rings:i.paths,o=[];for(let u=0,f=n.length;u<f;u++){const m=n[u],v=this._quantizePoints(m,t,r);v&&o.push(v)}return o.length>0?(Nm(i)?i.rings=o:i.paths=o,i):null}:e==="multipoint"?i=>{const n=this._quantizePoints(i.points,t,r);return n&&n.length>0?(i.points=n,i):null}:e==="extent"?i=>i:null}_getHydrationFunction(e,t,r,i,n){return e==="point"?o=>{o.x=t(o.x),o.y=r(o.y),i&&(o.z=i(o.z))}:e==="polyline"||e==="polygon"?o=>{const u=Nm(o)?o.rings:o.paths;let f,m;for(let v=0,_=u.length;v<_;v++){const $=u[v];for(let T=0,I=$.length;T<I;T++){const O=$[T];T>0?(f+=O[0],m+=O[1]):(f=O[0],m=O[1]),O[0]=t(f),O[1]=r(m)}}if(i&&n)for(let v=0,_=u.length;v<_;v++){const $=u[v];for(let T=0,I=$.length;T<I;T++){const O=$[T];O[2]=i(O[2]),O[3]=n(O[3])}}else if(i)for(let v=0,_=u.length;v<_;v++){const $=u[v];for(let T=0,I=$.length;T<I;T++){const O=$[T];O[2]=i(O[2])}}else if(n)for(let v=0,_=u.length;v<_;v++){const $=u[v];for(let T=0,I=$.length;T<I;T++){const O=$[T];O[2]=n(O[2])}}}:e==="extent"?o=>{o.xmin=t(o.xmin),o.ymin=r(o.ymin),o.xmax=t(o.xmax),o.ymax=r(o.ymax),i&&o.zmax!=null&&o.zmin!=null&&(o.zmax=i(o.zmax),o.zmin=i(o.zmin)),n&&o.mmax!=null&&o.mmin!=null&&(o.mmax=n(o.mmax),o.mmin=n(o.mmin))}:e==="multipoint"?o=>{const u=o.points;let f,m;for(let v=0,_=u.length;v<_;v++){const $=u[v];v>0?(f+=$[0],m+=$[1]):(f=$[0],m=$[1]),$[0]=t(f),$[1]=r(m)}if(i&&n)for(let v=0,_=u.length;v<_;v++){const $=u[v];$[2]=i($[2]),$[3]=n($[3])}else if(i)for(let v=0,_=u.length;v<_;v++){const $=u[v];$[2]=i($[2])}else if(n)for(let v=0,_=u.length;v<_;v++){const $=u[v];$[2]=n($[2])}}:null}};b([M({type:String,json:{write:!0}})],Vn.prototype,"displayFieldName",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"exceededTransferLimit",void 0),b([M({type:[ma],json:{write:!0}})],Vn.prototype,"features",void 0),b([Ge("features")],Vn.prototype,"readFeatures",null),b([M({type:[gF],json:{write:!0}})],Vn.prototype,"fields",void 0),b([M({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:BA.read}}})],Vn.prototype,"geometryType",void 0),b([Xe("geometryType")],Vn.prototype,"writeGeometryType",null),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"hasM",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vn.prototype,"hasZ",void 0),b([M({types:I1,json:{write:!0}})],Vn.prototype,"queryGeometry",void 0),b([Ge("queryGeometry")],Vn.prototype,"readQueryGeometry",null),b([M({type:It,json:{write:!0}})],Vn.prototype,"spatialReference",void 0),b([Xe("spatialReference")],Vn.prototype,"writeSpatialReference",null),b([M({json:{write:!0}})],Vn.prototype,"transform",void 0),Vn=zA=b([se("esri.rest.support.FeatureSet")],Vn),Vn.prototype.toJSON.isDefaultToJSON=!0;const jhe=Vn;let AVe=0,sh=class extends yl.LoadableMixin(yx(ut)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var r;const t=(r=this.layer)==null?void 0:r.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);QW(t,this.layer.spatialReference,i);const n=jhe.fromJSON(i);if(!this._requiresClientGraphicMapping())return n;const o=this.layer.objectIdField;for(const u of n.features){const f=u.attributes[o],m=this._idToClientGraphic.get(f);m&&(u.geometry=m.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new be("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return QW(t,this.layer.spatialReference,i),i}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(i=>({count:i.count,extent:mr.fromJSON(i.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async _applyEdits(t){if(!this._connection)throw new be("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let i=null;const n=[],o=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const u=_=>"objectId"in _&&_.objectId!=null?_.objectId:"attributes"in _&&_.attributes[r]!=null?_.attributes[r]:null;if(t.addFeatures&&(i=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const _ of t.deleteFeatures){const $=u(_);$!=null&&n.push($)}const f=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const _ of t.updateFeatures)if(o.push(this._serializeFeature(_)),f){const $=u(_);$!=null&&f.set($,_)}}PVe(i?i.features:null,o,this.layer.spatialReference);const{fullExtent:m,featureEditResults:v}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:o,deletes:n});return this.fullExtent=m,i&&i.finish(v.uidToObjectId),this._updateClientGraphicIds(f,v),this._createEditsResult(v)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const i=[];for(const{geometry:n}of t)n==null||n.type!=="mesh"||n.hasExtent||n.loaded||i.push(n.load({signal:r}));i.length&&await Promise.all(i)}_updateClientGraphicIds(t,r){if(this._idToClientGraphic){if(t)for(const i of r.updateResults){if(!i.success)continue;const n=t.get(i.objectId);n!=null&&this._addIdToClientGraphic(n)}for(const i of r.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new be("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,i=new Array(t.length);let n=null;for(let u=0;u<t.length;u++){const f=t[u],m=this._serializeFeature(f);n||f.geometry==null||(n=f.geometry.type),i[u]=m,r.set(`${m.uid}`,f)}const o=this;return{features:i,inferredGeometryType:n,finish(u){const f=o.sourceJSON.objectIdField;for(const m in u){const v=u[m],_=r.get(m);_&&(_.attributes||(_.attributes={}),v===-1?delete _.attributes[f]:_.attributes[f]=v,o._addIdToClientGraphic(_))}}}}_addIdToClientGraphic(t){var n;if(!this._idToClientGraphic)return;const r=this.sourceJSON.objectIdField,i=(n=t.attributes)==null?void 0:n[r];i!=null&&this._idToClientGraphic.set(i,t)}get _layerOrSourceGeometryType(){var t,r;return((t=this.layer)==null?void 0:t.geometryType)??((r=this.sourceJSON)==null?void 0:r.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,i=this._geometryForSerialization(t),n=(AVe++).toString();return i?{uid:n,geometry:i.toJSON(),attributes:r}:{uid:n,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return r==null?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?pa.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await aMe("MemorySourceWorker",{strategy:ke("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:r,spatialReference:i,objectIdField:n,hasM:o,hasZ:u,timeInfo:f,dateFieldsTimeZone:m}=this.layer,v=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const _=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",O=>{Ne.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),O.preventDefault()}));const $={features:_.features,fields:r==null?void 0:r.map(O=>O.toJSON()),geometryType:eG.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&o,hasZ:this._layerOrSourceGeometryType==="mesh"||u,objectIdField:n,spatialReference:v?null:i&&i.toJSON(),timeInfo:(f==null?void 0:f.toJSON())??null,dateFieldsTimeZone:m},T=await this._connection.invoke("load",$,{signal:t});for(const O of T.warnings)Ne.getLogger(this.layer).warn("#load()",`${O.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:O});T.featureErrors.length&&Ne.getLogger(this.layer).warn("#load()",`Encountered ${T.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:T.featureErrors});const I=T.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(_.inferredGeometryType)&&(I.geometryType=eG.toJSON(_.inferredGeometryType)),this.sourceJSON=I,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),_.finish(T.assignedObjectIds)}};b([xN({Type:ma,ensureType:xi(ma)})],sh.prototype,"itemType",void 0),b([M()],sh.prototype,"type",void 0),b([M({constructOnly:!0})],sh.prototype,"layer",void 0),b([M({readOnly:!0})],sh.prototype,"_workerGeometryType",null),b([M()],sh.prototype,"sourceJSON",void 0),sh=b([se("esri.layers.graphics.sources.MemorySource")],sh);function jVe(e){return"portalItem"in e}const RVe=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):jVe(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return b([M({type:String})],t.prototype,"apiKey",null),t=b([se("esri.layers.mixins.APIKeyMixin")],t),t},LVe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=uv(this.url);if(r!=null&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",EOe(r,Ne.getLogger(this)))}};return b([M()],t.prototype,"title",null),b([M({type:String})],t.prototype,"url",null),t=b([se("esri.layers.mixins.ArcGISService")],t),t};var eJ,tJ,Rhe={exports:{}};tJ=function(){function e(n,o){function u(){this.constructor=n}u.prototype=o.prototype,n.prototype=new u}function t(n,o,u,f){var m=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(m,t.prototype),m.expected=o,m.found=u,m.location=f,m.name="SyntaxError",m}function r(n,o,u){return u=u||" ",n.length>o?n:(o-=n.length,n+(u+=u.repeat(o)).slice(0,o))}function i(n,o){var u,f={},m=(o=o!==void 0?o:{}).grammarSource,v={start:Rr},_=Rr,$="none",T=")",I=",",O="(",A="%",N="px",F="cm",z="mm",B="in",G="pt",H="pc",J="deg",Z="rad",re="grad",q="turn",X="#",ie=".",le="e",ue=/^[ \t\n\r]/,ne=/^[a-z\-]/,pe=/^[0-9a-fA-F]/,ye=/^[+\-]/,ge=/^[0-9]/,he=Ae("none"),ce=_e("none",!1),Ee=_e(")",!1),ze=_e(",",!1),Ye=Ae("whitespace"),vt=xe([" ","	",`
`,"\r"],!1,!1),tt=Ae("function"),yt=_e("(",!1),De=Ae("identifier"),ot=xe([["a","z"],"-"],!1,!1),He=Ae("percentage"),Te=_e("%",!1),qe=Ae("length"),it=_e("px",!1),Pe=_e("cm",!1),pt=_e("mm",!1),mt=_e("in",!1),Pt=_e("pt",!1),wt=_e("pc",!1),bt=Ae("angle"),ee=_e("deg",!1),at=_e("rad",!1),rt=_e("grad",!1),$e=_e("turn",!1),ft=Ae("number"),Be=Ae("color"),Er=_e("#",!1),rr=xe([["0","9"],["a","f"],["A","F"]],!1,!1),$t=xe(["+","-"],!1,!1),Mt=xe([["0","9"]],!1,!1),Cr=_e(".",!1),Vr=_e("e",!1),Le=function(){return[]},ir=function(fe,je){return{type:"function",name:fe,parameters:je||[]}},d=function(fe,je){return je.length>0?Yye(fe,je,3):[fe]},j=function(fe){return{type:"quantity",value:fe.value,unit:fe.unit}},x=function(fe){return{type:"color",colorType:fe.type,value:fe.value}},h=function(fe){return fe},l=function(){return Me()},s=function(fe){return{value:fe,unit:"%"}},a=function(fe){return{value:fe,unit:"px"}},c=function(fe){return{value:fe,unit:"cm"}},p=function(fe){return{value:fe,unit:"mm"}},y=function(fe){return{value:fe,unit:"in"}},g=function(fe){return{value:fe,unit:"pt"}},w=function(fe){return{value:fe,unit:"pc"}},S=function(fe){return{value:fe,unit:"deg"}},k=function(fe){return{value:fe,unit:"rad"}},E=function(fe){return{value:fe,unit:"grad"}},P=function(fe){return{value:fe,unit:"turn"}},R=function(fe){return{value:fe,unit:null}},D=function(){return{type:"hex",value:Me()}},U=function(fe){return{type:"function",value:fe}},Y=function(){return{type:"named",value:Me()}},K=function(){return parseFloat(Me())},V=0,Q=0,ae=[{line:1,column:1}],oe=0,me=[],de=0;if("startRule"in o){if(!(o.startRule in v))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');_=v[o.startRule]}function Me(){return n.substring(Q,V)}function _e(fe,je){return{type:"literal",text:fe,ignoreCase:je}}function xe(fe,je,Ke){return{type:"class",parts:fe,inverted:je,ignoreCase:Ke}}function Ue(){return{type:"end"}}function Ae(fe){return{type:"other",description:fe}}function st(fe){var je,Ke=ae[fe];if(Ke)return Ke;for(je=fe-1;!ae[je];)je--;for(Ke={line:(Ke=ae[je]).line,column:Ke.column};je<fe;)n.charCodeAt(je)===10?(Ke.line++,Ke.column=1):Ke.column++,je++;return ae[fe]=Ke,Ke}function ct(fe,je,Ke){var ur=st(fe),mn=st(je);return{source:m,start:{offset:fe,line:ur.line,column:ur.column},end:{offset:je,line:mn.line,column:mn.column}}}function Ve(fe){V<oe||(V>oe&&(oe=V,me=[]),me.push(fe))}function Rt(fe,je,Ke){return new t(t.buildMessage(fe,je),fe,je,Ke)}function Rr(){var fe;return(fe=xr())===f&&(fe=zt()),fe}function xr(){var fe,je;return de++,fe=V,Tt(),n.substr(V,4)===$?(je=$,V+=4):(je=f,de===0&&Ve(ce)),je!==f?(Tt(),Q=fe,fe=Le()):(V=fe,fe=f),de--,fe===f&&de===0&&Ve(he),fe}function zt(){var fe,je;if(fe=[],(je=Wt())!==f)for(;je!==f;)fe.push(je),je=Wt();else fe=f;return fe}function Wt(){var fe,je,Ke,ur;return fe=V,Tt(),(je=Mn())!==f?(Tt(),(Ke=Je())===f&&(Ke=null),Tt(),n.charCodeAt(V)===41?(ur=T,V++):(ur=f,de===0&&Ve(Ee)),ur!==f?(Tt(),Q=fe,fe=ir(je,Ke)):(V=fe,fe=f)):(V=fe,fe=f),fe}function Je(){var fe,je,Ke,ur,mn,Ui,wa,qx;if(fe=V,(je=_r())!==f){for(Ke=[],ur=V,mn=Tt(),n.charCodeAt(V)===44?(Ui=I,V++):(Ui=f,de===0&&Ve(ze)),Ui===f&&(Ui=null),wa=Tt(),(qx=_r())!==f?ur=mn=[mn,Ui,wa,qx]:(V=ur,ur=f);ur!==f;)Ke.push(ur),ur=V,mn=Tt(),n.charCodeAt(V)===44?(Ui=I,V++):(Ui=f,de===0&&Ve(ze)),Ui===f&&(Ui=null),wa=Tt(),(qx=_r())!==f?ur=mn=[mn,Ui,wa,qx]:(V=ur,ur=f);Q=fe,fe=d(je,Ke)}else V=fe,fe=f;return fe}function _r(){var fe,je;return fe=V,(je=yn())===f&&(je=gr())===f&&(je=xc())===f&&(je=yo()),je!==f&&(Q=fe,je=j(je)),(fe=je)===f&&(fe=V,(je=Gh())!==f&&(Q=fe,je=x(je)),fe=je),fe}function Tt(){var fe,je;for(de++,fe=[],ue.test(n.charAt(V))?(je=n.charAt(V),V++):(je=f,de===0&&Ve(vt));je!==f;)fe.push(je),ue.test(n.charAt(V))?(je=n.charAt(V),V++):(je=f,de===0&&Ve(vt));return de--,je=f,de===0&&Ve(Ye),fe}function Mn(){var fe,je,Ke;return de++,fe=V,(je=Qt())!==f?(n.charCodeAt(V)===40?(Ke=O,V++):(Ke=f,de===0&&Ve(yt)),Ke!==f?(Q=fe,fe=h(je)):(V=fe,fe=f)):(V=fe,fe=f),de--,fe===f&&(je=f,de===0&&Ve(tt)),fe}function Qt(){var fe,je,Ke;if(de++,fe=V,je=[],ne.test(n.charAt(V))?(Ke=n.charAt(V),V++):(Ke=f,de===0&&Ve(ot)),Ke!==f)for(;Ke!==f;)je.push(Ke),ne.test(n.charAt(V))?(Ke=n.charAt(V),V++):(Ke=f,de===0&&Ve(ot));else je=f;return je!==f&&(Q=fe,je=l()),de--,(fe=je)===f&&(je=f,de===0&&Ve(De)),fe}function yn(){var fe,je,Ke;return de++,fe=V,Tt(),(je=Oi())!==f?(n.charCodeAt(V)===37?(Ke=A,V++):(Ke=f,de===0&&Ve(Te)),Ke!==f?(Q=fe,fe=s(je)):(V=fe,fe=f)):(V=fe,fe=f),de--,fe===f&&de===0&&Ve(He),fe}function gr(){var fe,je,Ke;return de++,fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===N?(Ke=N,V+=2):(Ke=f,de===0&&Ve(it)),Ke!==f?(Q=fe,fe=a(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===F?(Ke=F,V+=2):(Ke=f,de===0&&Ve(Pe)),Ke!==f?(Q=fe,fe=c(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===z?(Ke=z,V+=2):(Ke=f,de===0&&Ve(pt)),Ke!==f?(Q=fe,fe=p(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===B?(Ke=B,V+=2):(Ke=f,de===0&&Ve(mt)),Ke!==f?(Q=fe,fe=y(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===G?(Ke=G,V+=2):(Ke=f,de===0&&Ve(Pt)),Ke!==f?(Q=fe,fe=g(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,Tt(),(je=Oi())!==f?(n.substr(V,2)===H?(Ke=H,V+=2):(Ke=f,de===0&&Ve(wt)),Ke!==f?(Q=fe,fe=w(je)):(V=fe,fe=f)):(V=fe,fe=f)))))),de--,fe===f&&de===0&&Ve(qe),fe}function xc(){var fe,je,Ke;return de++,fe=V,(je=Oi())!==f?(n.substr(V,3)===J?(Ke=J,V+=3):(Ke=f,de===0&&Ve(ee)),Ke!==f?(Q=fe,fe=S(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,(je=Oi())!==f?(n.substr(V,3)===Z?(Ke=Z,V+=3):(Ke=f,de===0&&Ve(at)),Ke!==f?(Q=fe,fe=k(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,(je=Oi())!==f?(n.substr(V,4)===re?(Ke=re,V+=4):(Ke=f,de===0&&Ve(rt)),Ke!==f?(Q=fe,fe=E(je)):(V=fe,fe=f)):(V=fe,fe=f),fe===f&&(fe=V,(je=Oi())!==f?(n.substr(V,4)===q?(Ke=q,V+=4):(Ke=f,de===0&&Ve($e)),Ke!==f?(Q=fe,fe=P(je)):(V=fe,fe=f)):(V=fe,fe=f)))),de--,fe===f&&(je=f,de===0&&Ve(bt)),fe}function yo(){var fe,je;return de++,fe=V,Tt(),(je=Oi())!==f?(Q=fe,fe=R(je)):(V=fe,fe=f),de--,fe===f&&de===0&&Ve(ft),fe}function Gh(){var fe,je,Ke,ur;if(de++,fe=V,n.charCodeAt(V)===35?(je=X,V++):(je=f,de===0&&Ve(Er)),je!==f){if(Ke=[],pe.test(n.charAt(V))?(ur=n.charAt(V),V++):(ur=f,de===0&&Ve(rr)),ur!==f)for(;ur!==f;)Ke.push(ur),pe.test(n.charAt(V))?(ur=n.charAt(V),V++):(ur=f,de===0&&Ve(rr));else Ke=f;Ke!==f?(Q=fe,fe=D()):(V=fe,fe=f)}else V=fe,fe=f;return fe===f&&(fe=V,(je=Wt())!==f&&(Q=fe,je=U(je)),(fe=je)===f&&(fe=V,(je=Qt())!==f&&(Q=fe,je=Y()),fe=je)),de--,fe===f&&(je=f,de===0&&Ve(Be)),fe}function Oi(){var fe,je,Ke,ur,mn,Ui,wa;for(fe=V,ye.test(n.charAt(V))?(n.charAt(V),V++):de===0&&Ve($t),je=V,Ke=[],ge.test(n.charAt(V))?(ur=n.charAt(V),V++):(ur=f,de===0&&Ve(Mt));ur!==f;)Ke.push(ur),ge.test(n.charAt(V))?(ur=n.charAt(V),V++):(ur=f,de===0&&Ve(Mt));if(n.charCodeAt(V)===46?(ur=ie,V++):(ur=f,de===0&&Ve(Cr)),ur!==f){if(mn=[],ge.test(n.charAt(V))?(Ui=n.charAt(V),V++):(Ui=f,de===0&&Ve(Mt)),Ui!==f)for(;Ui!==f;)mn.push(Ui),ge.test(n.charAt(V))?(Ui=n.charAt(V),V++):(Ui=f,de===0&&Ve(Mt));else mn=f;mn!==f?je=Ke=[Ke,ur,mn]:(V=je,je=f)}else V=je,je=f;if(je===f)if(je=[],ge.test(n.charAt(V))?(Ke=n.charAt(V),V++):(Ke=f,de===0&&Ve(Mt)),Ke!==f)for(;Ke!==f;)je.push(Ke),ge.test(n.charAt(V))?(Ke=n.charAt(V),V++):(Ke=f,de===0&&Ve(Mt));else je=f;if(je!==f){if(Ke=V,n.charCodeAt(V)===101?(ur=le,V++):(ur=f,de===0&&Ve(Vr)),ur!==f){if(ye.test(n.charAt(V))?(mn=n.charAt(V),V++):(mn=f,de===0&&Ve($t)),mn===f&&(mn=null),Ui=[],ge.test(n.charAt(V))?(wa=n.charAt(V),V++):(wa=f,de===0&&Ve(Mt)),wa!==f)for(;wa!==f;)Ui.push(wa),ge.test(n.charAt(V))?(wa=n.charAt(V),V++):(wa=f,de===0&&Ve(Mt));else Ui=f;Ui!==f?Ke=ur=[ur,mn,Ui]:(V=Ke,Ke=f)}else V=Ke,Ke=f;Ke===f&&(Ke=null),Q=fe,fe=K()}else V=fe,fe=f;return fe}function Iv(fe,je){return fe.map(function(Ke){return Ke[je]})}function Yye(fe,je,Ke){return[fe].concat(Iv(je,Ke))}if((u=_())!==f&&V===n.length)return u;throw u!==f&&V<n.length&&Ve(Ue()),Rt(me,oe<n.length?n.charAt(oe):null,oe<n.length?ct(oe,oe+1):ct(oe,oe))}return e(t,Error),t.prototype.format=function(n){var o="Error: "+this.message;if(this.location){var u,f=null;for(u=0;u<n.length;u++)if(n[u].source===this.location.source){f=n[u].text.split(/\r\n|\n|\r/g);break}var m=this.location.start,v=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(m):m,_=this.location.source+":"+v.line+":"+v.column;if(f){var $=this.location.end,T=r("",v.line.toString().length," "),I=f[m.line-1],O=(m.line===$.line?$.column:I.length+1)-m.column||1;o+=`
 --> `+_+`
`+T+` |
`+v.line+" | "+I+`
`+T+" | "+r("",m.column-1," ")+r("",O,"^")}else o+=`
 at `+_}return o},t.buildMessage=function(n,o){var u={literal:function(I){return'"'+m(I.text)+'"'},class:function(I){var O=I.parts.map(function(A){return Array.isArray(A)?v(A[0])+"-"+v(A[1]):v(A)});return"["+(I.inverted?"^":"")+O.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(I){return I.description}};function f(I){return I.charCodeAt(0).toString(16).toUpperCase()}function m(I){return I.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+f(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+f(O)})}function v(I){return I.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(O){return"\\x0"+f(O)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(O){return"\\x"+f(O)})}function _(I){return u[I.type](I)}function $(I){var O,A,N=I.map(_);if(N.sort(),N.length>0){for(O=1,A=1;O<N.length;O++)N[O-1]!==N[O]&&(N[A]=N[O],A++);N.length=A}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}function T(I){return I?'"'+m(I)+'"':"end of input"}return"Expected "+$(n)+" but "+T(o)+" found."},{SyntaxError:t,parse:i}},(eJ=Rhe).exports&&(eJ.exports=tJ());var NVe=Rhe.exports;function Lhe(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=rJ(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new be("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:rJ(r.value)}});t.sort((r,i)=>i.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!mEe(t[r].effects,t[r+1].effects))throw new be("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});gEe(t[r].effects,t[r+1].effects)}return t.sort((r,i)=>i.scale-r.scale),t}function rJ(e){let t;if(!e)return[];try{t=NVe.parse(e)}catch(r){throw new be("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>FVe(r))}function FVe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return DVe(e);case"opacity":return zVe(e);case"hue-rotate":return BVe(e);case"blur":return VVe(e);case"drop-shadow":return UVe(e);case"bloom":return GVe(e)}}catch(t){throw t.details.filter=e,t}throw new be("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function DVe(e){let t=1;return fv(e.parameters,1),e.parameters.length===1&&(t=Kl(e.parameters[0])),new ZI(e.name,t)}function zVe(e){let t=1;return fv(e.parameters,1),e.parameters.length===1&&(t=Kl(e.parameters[0])),new Qoe(t)}function BVe(e){let t=0;return fv(e.parameters,1),e.parameters.length===1&&(t=YVe(e.parameters[0])),new Zoe(t)}function VVe(e){let t=0;return fv(e.parameters,1),e.parameters.length===1&&(t=rD(e.parameters[0]),Ix(t,e.parameters[0])),new Hoe(t)}function UVe(e){const t=[];let r=null;for(const i of e.parameters)if(i.type==="color"){if(t.length&&Object.freeze(t),r)throw new be("effect:type-error","Accepts only one color",{});r=ZVe(i)}else{const n=rD(i);if(Object.isFrozen(t))throw new be("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(n),t.length===3&&Ix(n,i)}if(t.length<2||t.length>3)throw new be("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Koe(t[0],t[1],t[2]||0,r||Nhe("black"))}function GVe(e){let t=1,r=0,i=0;return fv(e.parameters,3),e.parameters[0]&&(t=Kl(e.parameters[0])),e.parameters[1]&&(r=rD(e.parameters[1]),Ix(r,e.parameters[1])),e.parameters[2]&&(i=Kl(e.parameters[2])),new Goe(t,r,i)}function fv(e,t){if(e.length>t)throw new be("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function m8(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in tD)return"<length>";if(e.unit in eD)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function Ix(e,t){if(e<0)throw new be("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function qVe(e){if(e.type!=="quantity"||e.unit!==null)throw new be("effect:type-error",`Expected <double>, Actual: ${m8(e)}`,{term:e})}function HVe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new be("effect:type-error",`Expected <double> or <percentage>, Actual: ${m8(e)}`,{term:e})}const eD={deg:1,grad:.9,rad:180/Math.PI,turn:360};function WVe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&eD[e.unit]!=null))throw new be("effect:type-error",`Expected <angle>, Actual: ${m8(e)}`,{term:e})}const tD={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function JVe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&tD[e.unit]!=null))throw new be("effect:type-error",`Expected <length>, Actual: ${m8(e)}`,{term:e})}function Kl(e){HVe(e);const t=e.value;return Ix(t,e),e.unit==="%"?.01*t:t}function KVe(e){return qVe(e),Ix(e.value,e),e.value}function YVe(e){return WVe(e),e.value*eD[e.unit]||0}function rD(e){return JVe(e),e.value*tD[e.unit]||0}function ZVe(e){switch(e.colorType){case"hex":return uCe(e.value);case"named":return Nhe(e.value);case"function":return eUe(e.value)}}function Nhe(e){if(!Loe(e))throw new be("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return lCe(e)}const XVe=/^rgba?/i,QVe=/^hsla?/i;function eUe(e){if(fv(e.parameters,4),XVe.test(e.name))return[Kl(e.parameters[0]),Kl(e.parameters[1]),Kl(e.parameters[2]),e.parameters[3]?Kl(e.parameters[3]):1];if(QVe.test(e.name))return Noe(KVe(e.parameters[0]),Kl(e.parameters[1]),Kl(e.parameters[2]),e.parameters[3]?Kl(e.parameters[3]):1);throw new be("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function v3(e,t,r){var i;try{return rUe(e)}catch(n){(i=r==null?void 0:r.messages)==null||i.push(n)}return null}function b3(e,t,r,i){try{const n=tUe(e);Ds(r,n,t)}catch(n){i.messages&&i.messages.push(n)}}function tUe(e){const t=Lhe(e);return t?vEe(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:i})=>({scale:r,value:i.map(n=>n.toJSON())})):null}function rUe(e){if(!e||e.length===0)return null;if(iUe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:iJ(r.value)});return t}return iJ(e)}function iUe(e){const t=e[0];return!!t&&"scale"in t}function iJ(e){if(!(e!=null&&e.length))return"";const t=[];for(const r of e){let i=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":i=[Ec(r,"amount")];break;case"blur":i=[Ec(r,"radius","pt")];break;case"hue-rotate":i=[Ec(r,"angle","deg")];break;case"drop-shadow":i=[Ec(r,"xoffset","pt"),Ec(r,"yoffset","pt"),Ec(r,"blurRadius","pt"),nUe(r,"color")];break;case"bloom":i=[Ec(r,"strength"),Ec(r,"radius","pt"),Ec(r,"threshold")]}const n=`${r.type}(${i.filter(Boolean).join(" ")})`;Lhe(n),t.push(n)}return t.join(" ")}function Ec(e,t,r){if(e[t]==null)throw new be("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function nUe(e,t){if(e[t]==null)throw new be("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const sUe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},nJ={read:{reader:v3},write:{allowNull:!0,writer:b3}},oUe={json:{read:!1,write:!1,origins:{"web-map":nJ,"portal-item":nJ}}},g8=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return b([M(sUe)],t.prototype,"blendMode",void 0),b([M(oUe)],t.prototype,"effect",void 0),t=b([se("esri.layers.mixins.BlendLayer")],t),t},aUe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return b([M({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=b([se("esri.layers.mixins.CustomParametersMixin")],t),t},lUe=vNe(),Fhe=new Map,Dhe=new Map;async function N6t(e,t,r){if(!e||!r)return!1;if(!t)return!0;const i=new URL(e).host;let n=Fhe.get(i);if(!n){const o=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");n=(await Jr(o,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return n===t}async function F6t(e,t,r=!1){var o,u,f;if(!e||!t)return!0;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=(o=Dhe.get(i))==null?void 0:o.entries();if(n){for(const[m,v]of n)if(v.name===t){const _=!((u=v.stack)!=null&&u.hasForwardEdits());if(!_&&r){const[{deleteForwardEdits:$},{default:T}]=await Promise.all([Ce(()=>import("./deleteForwardEdits-pzId3Tct.js"),[],import.meta.url),Ce(()=>import("./DeleteForwardEditsParameters-C5_YGj4E.js"),[],import.meta.url)]),I=await $(i,m,new T({sessionId:lUe,moment:v.moment}));return I.success&&((f=v.stack)==null||f.clearForwardEdits()),I.success}return _}}return!0}function uUe(e,t){var n;if(!e)return!1;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=(n=Dhe.get(r))==null?void 0:n.entries();if(i){for(const[o,u]of i)if(u.name===t)return u.lockType==="edit"}return!1}const iD=new wl.EventEmitter;function cUe(e){return iD.on("apply-edits",new WeakRef(e))}function hUe(e){return iD.on("update-moment",new WeakRef(e))}function D6t(e,t,r=null,i=!1){const n=da();return i=t==null||i,iD.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:r,mayReceiveServiceEdits:i,result:n.promise}),n}const zhe=Symbol();function z6t(e){return e!=null&&typeof e=="object"&&zhe in e}function ob(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function jk(e,t,r){const i=new URL(e).host,n=Fhe.get(i),o=u=>!u||u===n;return o(t)&&o(r)||t===r}const dUe=e=>{var t;let r=class extends e{constructor(...i){super(...i),this[t]=!0,this._applyEditsHandler=n=>{const{serviceUrl:o,layerId:u,gdbVersion:f,mayReceiveServiceEdits:m,result:v}=n,_=o===this.url,$=u!=null&&this.layerId!=null&&u===this.layerId,T=ob(this),I=ob(this)&&jk(o,f,this.gdbVersion);if(!_||T&&!I||!$&&!m)return;const O=v.then(A=>{var z;if(this.lastEditsEventDate=new Date,$&&(A.addedFeatures.length||A.updatedFeatures.length||A.deletedFeatures.length||A.addedAttachments.length||A.updatedAttachments.length||A.deletedAttachments.length))return this.emit("edits",ve(A)),A;const N=(z=A.editedFeatures)==null?void 0:z.find(({layerId:B})=>B===this.layerId);if(N){const{adds:B,updates:G,deletes:H}=N.editedFeatures,J={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:B?B.map(({attributes:Z})=>({objectId:this.objectIdField&&Z[this.objectIdField],globalId:this.globalIdField&&Z[this.globalIdField]})):[],deletedFeatures:H?H.map(({attributes:Z})=>({objectId:this.objectIdField&&Z[this.objectIdField],globalId:this.globalIdField&&Z[this.globalIdField]})):[],updatedFeatures:G?G.map(({current:{attributes:Z}})=>({objectId:this.objectIdField&&Z[this.objectIdField],globalId:this.globalIdField&&Z[this.globalIdField]})):[],editedFeatures:ve(A.editedFeatures),exceededTransferLimit:!1,historicMoment:ve(A.historicMoment)};return this.emit("edits",J),J}const F={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:ve(A.editedFeatures),exceededTransferLimit:!1,historicMoment:ve(A.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(o,f,F.historicMoment)&&this.emit("edits",F),F}).then(A=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(o,f,A.historicMoment)&&(this.historicMoment=A.historicMoment),A));this.emit("apply-edits",{result:O})},this._updateMomentHandler=n=>{const{serviceUrl:o,gdbVersion:u,moment:f}=n,m=o===this.url,v=ob(this),_=ob(this)&&jk(o,u,this.gdbVersion),$=ob(this)&&!jk(o,this.gdbVersion,null);m&&v&&_&&$&&"historicMoment"in this&&this.historicMoment!==f&&(this.historicMoment=f)},this.when().then(()=>{this.addHandles(cUe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(hUe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(i,n,o){return"historicMoment"in this&&this.historicMoment!==o&&uUe(i,n)}};return t=zhe,b([M()],r.prototype,"lastEditsEventDate",void 0),r=b([se("esri.layers.mixins.EditBusLayer")],r),r};var VA;const Rk=new hr({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Lk=new hr({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ru=VA=class extends Fe{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:n,objectIds:o,units:u,distance:f}=this;return new Oh({geometry:ve(r),objectIds:ve(o),spatialRelationship:i,timeExtent:ve(n),where:t,units:u,distance:f,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:i,objectIds:n,units:o,distance:u}=this;return new VA({geometry:ve(t),objectIds:ve(n),spatialRelationship:r,timeExtent:ve(i),where:e,units:o,distance:u})}};b([M({type:String,json:{write:!0}})],Ru.prototype,"where",void 0),b([M({types:I1,json:{write:!0}})],Ru.prototype,"geometry",void 0),b([M({type:Rk.apiValues,json:{name:"spatialRel",read:{reader:Rk.read},write:{allowNull:!1,writer:Rk.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Ru.prototype,"spatialRelationship",void 0),b([M({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Ru.prototype,"distance",void 0),b([M({type:[Number],json:{write:!0}})],Ru.prototype,"objectIds",void 0),b([M({type:Lk.apiValues,json:{read:Lk.read,write:{writer:Lk.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Ru.prototype,"units",void 0),b([M({type:cc,json:{write:!0}})],Ru.prototype,"timeExtent",void 0),Ru=VA=b([se("esri.layers.support.FeatureFilter")],Ru);const pUe=Ru;var UA;const sJ={read:{reader:v3},write:{writer:b3,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},oJ={read:{reader:v3},write:{writer:b3,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},aJ={name:"showExcludedLabels",default:!0};let o0=UA=class extends Fe{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var i,n;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const o=Object.keys(r.filter);if(o.length>1||o[0]!=="where")return(i=t.messages)==null||i.push(new be("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(n=t.messages)==null||n.push(new be("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new UA({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};b([M({type:pUe,json:{write:{allowNull:!0,writer(e,t,r,i){const n=e==null?void 0:e.write({},i);n&&Object.keys(n).length!==0?Ds(r,n,t):Ds(r,null,t)}}}})],o0.prototype,"filter",void 0),b([M({json:{read:v3,write:{writer:b3,allowNull:!0},origins:{"web-map":sJ,"portal-item":sJ}}})],o0.prototype,"includedEffect",void 0),b([M({json:{read:v3,write:{writer:b3,allowNull:!0},origins:{"web-map":oJ,"portal-item":oJ}}})],o0.prototype,"excludedEffect",void 0),b([M({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":aJ,"portal-item":aJ}}})],o0.prototype,"excludedLabelsVisible",void 0),o0=UA=b([se("esri.layers.support.FeatureEffect")],o0);const fUe=o0,lJ={write:{allowNull:!0}},yUe={type:fUe,json:{origins:{"web-map":lJ,"portal-item":lJ}}},mUe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return b([M(yUe)],t.prototype,"featureEffect",void 0),t=b([se("esri.layers.mixins.FeatureEffectLayer")],t),t};var GA;let S2=GA=class extends Fe{constructor(e){super(e)}async collectRequiredFields(e,t){return Bs(e,t,this.expression)}clone(){return new GA({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};b([M({type:String,json:{write:!0}})],S2.prototype,"expression",void 0),b([M({type:String,json:{write:!0}})],S2.prototype,"title",void 0),S2=GA=b([se("esri.symbols.support.FeatureExpressionInfo")],S2);const uJ=S2;function B6t(e){return 1/(VF[e]||1)}function gUe(){const e=Object.keys(VF);return e.sort(),e}const vUe=gUe();var qA;const f5=Us()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),cJ=new hr({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Wc=qA=class extends Fe{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,i){t[r]=e.write({},i),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new qA({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&L_e(this.featureExpressionInfo,e.featureExpressionInfo)}};b([M({type:uJ,json:{write:!0}})],Wc.prototype,"featureExpressionInfo",void 0),b([Ge("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Wc.prototype,"readFeatureExpressionInfo",null),b([Xe("featureExpressionInfo",{featureExpressionInfo:{type:uJ},"featureExpression.value":{type:[0]}})],Wc.prototype,"writeFeatureExpressionInfo",null),b([M({type:f5.apiValues,nonNullable:!0,json:{type:f5.jsonValues,read:f5.read,write:{writer:f5.write,isRequired:!0}}})],Wc.prototype,"mode",null),b([M({type:Number,json:{write:!0}})],Wc.prototype,"offset",void 0),b([M({type:vUe,json:{type:String,read:cJ.read,write:cJ.write}})],Wc.prototype,"unit",null),Wc=qA=b([se("esri.symbols.support.ElevationInfo")],Wc);const Bhe=Wc,bUe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Yn}}},nD={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},sD={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Yn}}},Vhe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:h1}}},Uhe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Yn}}},wUe={value:null,type:Bhe,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Yn}}};function V6t(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Ghe={write:{enabled:!0,layerContainerTypes:Yn},read:!0},HA={type:Number,json:{origins:{"web-document":Ghe,"portal-item":{write:!0}}}},xUe={...HA,json:{...HA.json,origins:{"web-document":{...Ghe,write:{enabled:!0,layerContainerTypes:Yn,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>{var i;return r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(i=t.layerDefinition)!=null&&i.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?s3(t.layerDefinition.drawingInfo.transparency):void 0:s3(t.drawingInfo.transparency)}}}},U6t={type:mr,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=mr.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=It.fromJSON(t.spatialReference)),r}}}},read:!1}},_Ue={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},SUe={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:Yn}}},name:"layerDefinition.minScale",write:!0}},$Ue={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:Yn}}},name:"layerDefinition.maxScale",write:!0}},qhe={json:{write:{ignoreOrigin:!0,layerContainerTypes:Yn},origins:{"web-map":{read:!1,write:!1}}}};let Jc=class extends ui(Fe){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};b([M()],Jc.prototype,"creatorField",void 0),b([M()],Jc.prototype,"creationDateField",void 0),b([M()],Jc.prototype,"editorField",void 0),b([M()],Jc.prototype,"editDateField",void 0),b([M()],Jc.prototype,"realm",void 0),b([M(H4("dateFieldsTimeReference",!0))],Jc.prototype,"timeZone",void 0),Jc=b([se("esri.layers.support.EditFieldsInfo")],Jc);const MUe=Jc;let Uu=class extends ui(Fe){constructor(t){super(t)}};b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"name",void 0),b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"fields",void 0),b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"isAscending",void 0),b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"indexType",void 0),b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"isUnique",void 0),b([M({constructOnly:!0,json:{write:!0}})],Uu.prototype,"description",void 0),Uu=b([se("esri.layers.support.FeatureIndex")],Uu);async function TUe(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=Hhe(e));const i=kUe(e),n=e.capabilities.query.supportsPagination;t.start=0,t.num=i;let o=null;for(;;){const u=await e.source.queryFeaturesJSON(t,r);if(o==null?o=u:o.features=o.features.concat(u.features),o.exceededTransferLimit=u.exceededTransferLimit,!n||!u.exceededTransferLimit)break;t.start+=i}return o}function kUe(e){return Hhe(e)*CUe(e)}function CUe(e){return e.capabilities.query.maxRecordCount||2e3}function Hhe(e){return e.capabilities.query.supportsMaxRecordCountFactor?Oh.MAX_MAX_RECORD_COUNT_FACTOR:1}var WA;let Un=WA=class extends Fe{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new WA(ve({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};b([M({type:[String],json:{write:!0}})],Un.prototype,"attachmentTypes",void 0),b([M({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Un.prototype,"attachmentsWhere",void 0),b([M({type:Boolean,json:{write:!0}})],Un.prototype,"cacheHint",void 0),b([M({type:[String],json:{write:!0}})],Un.prototype,"keywords",void 0),b([M({type:[Number],json:{write:!0}})],Un.prototype,"globalIds",void 0),b([M({json:{write:!0}})],Un.prototype,"name",void 0),b([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Un.prototype,"num",void 0),b([M({type:[Number],json:{write:!0}})],Un.prototype,"objectIds",void 0),b([M({type:Boolean,json:{default:!1,write:!0}})],Un.prototype,"returnMetadata",void 0),b([M({type:[Number],json:{write:!0}})],Un.prototype,"size",void 0),b([M({type:Number,json:{read:{source:"resultOffset"}}})],Un.prototype,"start",void 0),b([Xe("start"),Xe("num")],Un.prototype,"writeStart",null),b([M({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Un.prototype,"where",void 0),Un=WA=b([se("esri.rest.support.AttachmentQuery")],Un),Un.from=xi(Un);const EUe=Un;var JA;let Ri=JA=class extends Fe{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new JA(ve({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};b([M({type:Boolean,json:{write:!0}})],Ri.prototype,"cacheHint",void 0),b([M({type:Jl,json:{write:!0}})],Ri.prototype,"dynamicDataSource",void 0),b([M({type:String,json:{write:!0}})],Ri.prototype,"gdbVersion",void 0),b([M({type:Number,json:{write:!0}})],Ri.prototype,"geometryPrecision",void 0),b([M({type:Date})],Ri.prototype,"historicMoment",void 0),b([Xe("historicMoment")],Ri.prototype,"_writeHistoricMoment",null),b([M({type:Number,json:{write:!0}})],Ri.prototype,"maxAllowableOffset",void 0),b([M({json:{write:!0}})],Ri.prototype,"objectIds",void 0),b([M({type:[String],json:{write:!0}})],Ri.prototype,"orderByFields",void 0),b([M({type:[String],json:{write:!0}})],Ri.prototype,"outFields",void 0),b([M({type:It,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ri.prototype,"outSpatialReference",void 0),b([M({json:{write:!0}})],Ri.prototype,"relationshipId",void 0),b([M({type:Number,json:{read:{source:"resultOffset"}}})],Ri.prototype,"start",void 0),b([Xe("start"),Xe("num")],Ri.prototype,"writeStart",null),b([M({type:Number,json:{read:{source:"resultRecordCount"}}})],Ri.prototype,"num",void 0),b([M({json:{write:!0}})],Ri.prototype,"returnGeometry",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ri.prototype,"returnM",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ri.prototype,"returnZ",void 0),b([M({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ri.prototype,"where",void 0),Ri=JA=b([se("esri.rest.support.RelationshipQuery")],Ri),Ri.from=xi(Ri);const oD=Ri,H6t=Object.freeze(Object.defineProperty({__proto__:null,default:oD},Symbol.toStringTag,{value:"Module"})),KA=new hr({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function IUe(e,t,r,i){const n=await nf(e);if(await aD(e,t,i),!n.addAttachment)throw new be(i,"Layer source does not support addAttachment capability");return n.addAttachment(t,r)}function aD(e,t,r){var o,u;const{attributes:i}=t,{objectIdField:n}=e;return(u=(o=e.capabilities)==null?void 0:o.data)!=null&&u.supportsAttachment?t?i?n&&i[n]?Promise.resolve():Promise.reject(new be(r,`feature is missing the identifying attribute ${n}`)):Promise.reject(new be(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new be(r,"A feature is required to add/delete/update attachments")):Promise.reject(new be(r,"this layer doesn't support attachments"))}async function PUe(e,t,r,i,n){const o=await nf(e);if(await aD(e,t,n),!o.updateAttachment)throw new be(n,"Layer source does not support updateAttachment capability");return o.updateAttachment(t,r,i)}async function OUe(e,t,r){const{applyEdits:i}=await Ce(()=>import("./editingSupport-Bkt9_FFn.js"),__vite__mapDeps([220,221]),import.meta.url),n=await e.load();let o=r;return n.type==="feature"&&n.infoFor3D&&t.deleteFeatures!=null&&n.globalIdField!=null&&(o={...o,globalIdToObjectId:await YUe(n,t.deleteFeatures,n.globalIdField)}),i(n,n.source,t,r)}async function AUe(e,t,r){const{uploadAssets:i}=await Ce(()=>import("./editingSupport-Bkt9_FFn.js"),__vite__mapDeps([220,221]),import.meta.url),n=await e.load();return i(n,n.source,t,r)}async function jUe(e,t,r,i){const n=await nf(e);if(await aD(e,t,i),!n.deleteAttachments)throw new be(i,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(t,r)}async function RUe(e,t,r){const i=(await e.load({signal:t==null?void 0:t.signal})).source;if(!i.fetchRecomputedExtents)throw new be(r,"Layer source does not support fetchUpdates capability");return i.fetchRecomputedExtents(t)}async function LUe(e,t,r,i){var I,O;t=EUe.from(t),await e.load();const n=e.source,o=e.capabilities;if(!((I=o==null?void 0:o.data)!=null&&I.supportsAttachment))throw new be(i,"this layer doesn't support attachments");const{attachmentTypes:u,objectIds:f,globalIds:m,num:v,size:_,start:$,where:T}=t;if(!((O=o==null?void 0:o.operations)!=null&&O.supportsQueryAttachments)&&((u==null?void 0:u.length)>0||(m==null?void 0:m.length)>0||(_==null?void 0:_.length)>0||v||$||T))throw new be(i,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(f!=null&&f.length||m!=null&&m.length||T))throw new be(i,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!n.queryAttachments)throw new be(i,"Layer source does not support queryAttachments capability",t);return n.queryAttachments(t)}async function NUe(e,t,r,i){const n=await nf(e);if(!n.queryObjectIds)throw new be(i,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(Oh.from(t)??e.createQuery(),r)}async function FUe(e,t,r,i){const n=await nf(e);if(!n.queryFeatureCount)throw new be(i,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(Oh.from(t)??e.createQuery(),r)}async function DUe(e,t,r,i){const n=await nf(e);if(!n.queryExtent)throw new be(i,"Layer source does not support queryExtent capability");return n.queryExtent(Oh.from(t)??e.createQuery(),r)}async function zUe(e,t,r,i){const n=await nf(e);if(!n.queryRelatedFeatures)throw new be(i,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(oD.from(t),r)}async function BUe(e,t,r,i){const n=await nf(e);if(!n.queryRelatedFeaturesCount)throw new be(i,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(oD.from(t),r)}async function VUe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:r,updates:i}=await t.refresh();if(i!=null&&(e.sourceJSON={...e.sourceJSON,...i},e.read(i,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await dae(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function UUe(e){var u,f;const t=new Oh,r=(u=e.capabilities)==null?void 0:u.data,i=(f=e.capabilities)==null?void 0:f.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,i&&(t.compactGeometryEnabled=i.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),r&&(r.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),r.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:n,timeExtent:o}=e;return t.timeExtent=n!=null&&o!=null?o.offset(-n.value,n.unit):o||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Whe(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const i of r)if(i.type==="esriFieldTypeGlobalID")return i.name}}function Jhe(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const i of r)if(i.type==="esriFieldTypeOID")return i.name}}function GUe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function qUe(e,t){const{subtypes:r,subtypeField:i}=e;if(!t||!(r!=null&&r.length)||!i)return null;const n=t.attributes[i];return n==null?null:r.find(o=>o.code===n)}async function nf(e){return(await e.load()).source}async function HUe(e,t){if(!sr||sr.findCredential(e))return;let r;try{const i=await Roe(e,t);i&&(r=await sr.checkSignInStatus(`${i}/sharing`))}catch{}if(r)try{const i=t!=null?t.signal:null;await sr.getCredential(e,{signal:i})}catch{}}async function WUe(e,t,r){var n;const i=(n=e.parsedUrl)==null?void 0:n.path;i&&e.authenticationTriggerEvent===t&&await HUe(i,r)}function JUe(e){return!v9(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const Nk=Zg({types:hle});function lD(e,t){var r;if(e.defaultSymbol)return(r=e.types)!=null&&r.length?new XF({defaultSymbol:Nk(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(i=>({id:i.id,symbol:Nk(i.symbol,i,t)}))}):new pv({symbol:Nk(e.defaultSymbol,e,t)})}function KUe(e){var i,n,o;let t=(i=e.sourceJSON)==null?void 0:i.cacheMaxAge;if(!t)return!1;const r=(o=(n=e.editingInfo)==null?void 0:n.lastEditDate)==null?void 0:o.getTime();return r==null||(t*=1e3,Date.now()-r<t)}async function YUe(e,t,r){if(t==null)return null;const i=[],{objectIdField:n}=e;if(t.forEach(v=>{let _=null;if("attributes"in v){const{attributes:$}=v;_={globalId:$[r],objectId:$[n]!=null&&$[n]!==-1?$[n]:null}}else _={globalId:v.globalId,objectId:v.objectId!=null&&v.objectId!==-1?v.objectId:null};_.globalId!=null&&(_.objectId!=null&&_.objectId!==-1||i.push(_.globalId))}),i.length===0)return null;const o=e.createQuery();o.where=i.map(v=>`${r}='${v}'`).join(" OR "),o.returnGeometry=!1,o.outFields=[n,r],o.cacheHint=!1;const u=await l$e(TUe(e,o));if(!u.ok)return null;const f=new Map,m=u.value.features;for(const v of m){const _=v.attributes[r],$=v.attributes[n];_!=null&&$!=null&&$!==-1&&f.set(_,$)}return f}function ZUe(e,t,r){if(!t||!r||!e)return null;const i=r.getAttribute(t);return i==null?null:e.find(n=>{const{id:o}=n;return o!=null&&o.toString()===i.toString()})??null}function v9(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||XUe(e)}function XUe(e){var t,r;return!!((r=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&r.toLowerCase().split(",").map(i=>i.trim()).includes("map"))}let Jy=class extends ui(Fe){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};b([M({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Jy.prototype,"shapeAreaField",void 0),b([M({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Jy.prototype,"shapeLengthField",void 0),b([M({type:String,json:{read:e=>t6e.read(e)||r6e.read(e)}})],Jy.prototype,"units",void 0),Jy=b([se("esri.layers.support.GeometryFieldsInfo")],Jy);const QUe=Jy;var YA;let Ky=YA=class extends Fe{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new ut}clone(){return new YA({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};b([M({type:String,json:{write:!0}})],Ky.prototype,"floorField",void 0),b([M({json:{read:!1,write:!1}})],Ky.prototype,"viewAllMode",void 0),b([M({json:{read:!1,write:!1}})],Ky.prototype,"viewAllLevelIds",void 0),Ky=YA=b([se("esri.layers.support.LayerFloorInfo")],Ky);const eGe=Ky,hJ=new hr({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),dJ=new hr({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let ja=class extends ui(Fe){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};b([M({json:{read:hJ.read,write:hJ.write}})],ja.prototype,"cardinality",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"composite",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"id",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"keyField",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"keyFieldInRelationshipTable",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"name",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"relatedTableId",void 0),b([M({json:{read:!0,write:!0}})],ja.prototype,"relationshipTableId",void 0),b([M({json:{read:dJ.read,write:dJ.write}})],ja.prototype,"role",void 0),ja=b([se("esri.layers.support.Relationship")],ja);const tGe=ja;function Et(e,t,r){return!!Khe(e,t,r)}function $2(e,t,r){return Khe(e,t,r)}function Khe(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const rGe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function iGe(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(i=>i.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function Px(e,t){var i;const r=(i=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:i.map(n=>n.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}function Yhe(e,t){return{analytics:nGe(e),attachment:sGe(e),data:oGe(e),metadata:aGe(e),operations:lGe(e.capabilities,e,t),query:uGe(e,t),queryRelated:cGe(e),queryTopFeatures:hGe(e),editing:dGe(e)}}function nGe(e){return{supportsCacheHint:Px(e.advancedQueryCapabilities,"queryAnalytics")}}function sGe(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Px(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:Et(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(i=>{const n=rGe[i.name];n&&(r[n]=!!i.isEnabled)}),r}function oGe(e){return{isVersioned:Et(e,"isDataVersioned",!1),supportsAttachment:Et(e,"hasAttachments",!1),supportsM:Et(e,"hasM",!1),supportsZ:Et(e,"hasZ",!1)}}function aGe(e){return{supportsAdvancedFieldProperties:Et(e,"supportsFieldDescriptionProperty",!1)}}function lGe(e,t,r){const i=e?e.toLowerCase().split(",").map(T=>T.trim()):[],n=r?uv(r):null,o=i.includes(n!=null&&n.serverType==="MapServer"?"data":"query"),u=i.includes("editing")&&!t.datesInUnknownTimezone;let f=u&&i.includes("create"),m=u&&i.includes("delete"),v=u&&i.includes("update");const _=i.includes("changetracking"),$=t.advancedQueryCapabilities;return u&&!(f||m||v)&&(f=m=v=!0),{supportsCalculate:Et(t,"supportsCalculate",!1),supportsTruncate:Et(t,"supportsTruncate",!1),supportsValidateSql:Et(t,"supportsValidateSql",!1),supportsAdd:f,supportsDelete:m,supportsEditing:u,supportsChangeTracking:_,supportsQuery:o,supportsQueryAnalytics:Et($,"supportsQueryAnalytic",!1),supportsQueryAttachments:Et($,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Et($,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Et(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:v,supportsExceedsLimitStatistics:Et(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Et(t,"supportsAsyncConvert3D",!1)}}function uGe(e,t){const r=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,n=e.archivingInfo,o=e.currentVersion,u=t==null?void 0:t.includes("MapServer"),f=!u||o>=ke("mapserver-pbf-version-support"),m=Ole(t),v=new Set((e.supportedQueryFormats??"").split(",").map(_=>_.toLowerCase().trim()));return{maxRecordCount:$2(e,"maxRecordCount",void 0),maxRecordCountFactor:$2(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:$2(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:iGe(r),supportsCacheHint:Et(r,"supportsQueryWithCacheHint",!1)||Px(r,"query"),supportsCentroid:Et(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:m,supportsDefaultSpatialReference:Et(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:Et(r,"supportsDisjointSpatialRel",!1),supportsDistance:Et(r,"supportsQueryWithDistance",!1),supportsDistinct:Et(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Et(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:f&&v.has("pbf"),supportsFullTextSearch:Et(r,"supportsFullTextSearch",!1),supportsGeometryProperties:Et(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:Et(r,"supportsHavingClause",!1),supportsHistoricMoment:Et(n,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:Et(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:Et(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Et(r,"supportsPagination",!1),supportsPercentileStatistics:Et(r,"supportsPercentileStatistics",!1),supportsQuantization:Et(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Et(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:Et(i,"allowAnonymousToQuery",!0),supportsQueryByOthers:Et(i,"allowOthersToQuery",!0),supportsQueryGeometry:Et(e,"supportsReturningQueryGeometry",!1),supportsResultType:Et(r,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:Et(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:Et(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Et(e,"useStandardizedQueries",!1),supportsStatistics:Et(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:Et(r,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:$2(e,"tileMaxRecordCount",void 0)}}function cGe(e){const t=e.advancedQueryCapabilities,r=Et(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Et(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:Px(t,"queryRelated")}}function hGe(e){return{supportsCacheHint:Px(e.advancedQueryCapabilities,"queryTopFilter")}}function dGe(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Et(e,"allowGeometryUpdates",!0),supportsGlobalId:Et(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Et(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Et(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Et(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Et(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Et(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Et(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Et(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Et(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Et(r,"supportsAsyncApplyEdits",!1),zDefault:$2(e,"zDefault",void 0)}}function K6t(e){var t;return{operations:{supportsAppend:Et(e,"supportsAppend",!1),supportsExportClip:Et(e,"supportsExportClip",!1),supportsExportFrameset:Et(e,"supportsExportFrameset",!1),supportsMensuration:Et(e,"supportsMensuration",!1),supportsUpdate:Et(e,"supportsUpdate",!1)},query:{supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1}}}let Kc=class extends ui(Fe){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const r={};for(const i of Object.keys(t))r[i]=e8(t[i]);return r}writeDomains(t,r){var n;if(!t)return;const i={};for(const o of Object.keys(t))t[o]&&(i[o]=(n=t[o])==null?void 0:n.toJSON());r.domains=i}};b([M({type:Number,json:{write:!0}})],Kc.prototype,"code",void 0),b([M({type:Object,json:{write:!0}})],Kc.prototype,"defaultValues",void 0),b([M({json:{write:!0}})],Kc.prototype,"domains",void 0),b([Ge("domains")],Kc.prototype,"readDomains",null),b([Xe("domains")],Kc.prototype,"writeDomains",null),b([M({type:String,json:{write:!0}})],Kc.prototype,"name",void 0),Kc=b([se("esri.layers.support.Subtype")],Kc);const pGe=Kc,fGe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(ut.ofType(Uu)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=It.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:n,operations:o,editing:u}=r;if(!n.supportsQueryByOthers||!n.supportsQueryByAnonymous||o.supportsEditing&&!(u.supportsUpdateByOthers&&u.supportsUpdateByAnonymous&&u.supportsDeleteByOthers&&u.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(KUe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const i=this.editFieldsInfo;return(i!=null&&i.creatorField||i!=null&&i.editorField)&&(r!=null&&r.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(r,i){return Yhe(i,this.url)}readEditingInfo(r,i){const{editingInfo:n}=i;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const i=ve(r),{operations:n,editing:o}=i;return v9(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=o.supportsDeleteByOthers=o.supportsGeometryUpdate=o.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=o.supportsGeometryUpdate=!0),i)}readGlobalIdFieldFromService(r,i){return Whe(i)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||v9(this))return!1;const{operations:i,editing:n}=r;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:i,editing:n}=r;return v9(this)?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(r,i){return i.type==="Table"}readMaxScale(r,i){return i.effectiveMaxScale||r||0}readMinScale(r,i){return i.effectiveMinScale||r||0}readObjectIdFieldFromService(r,i){return Jhe(i)}readServiceDefinitionExpression(r,i){return i.definitionQuery||i.definitionExpression}set url(r){if(r==null)return void this._set("url",r);const i=IOe({layer:this,url:r,nonStandardUrlAllowed:!0,logger:Ne.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(r,i,n,o){POe(this,r,null,i,o)}readVersion(r,i){return GUe(i)}};return b([M({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),b([M({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),b([M({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),b([Ge("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),b([M(H4("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),b([M({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),b([M({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),b([M({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),b([M({readOnly:!0,type:MUe})],t.prototype,"editFieldsInfo",void 0),b([M({readOnly:!0})],t.prototype,"editingInfo",void 0),b([Ge("editingInfo")],t.prototype,"readEditingInfo",null),b([M({readOnly:!0})],t.prototype,"effectiveCapabilities",null),b([M((()=>{const r=ve(wUe),i=r.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),b([M({type:eGe,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Yn}}}}})],t.prototype,"floorInfo",void 0),b([M({type:mr,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),b([M()],t.prototype,"gdbVersion",void 0),b([M({readOnly:!0,type:QUe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),b([M({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:KA.read}}}})],t.prototype,"geometryType",void 0),b([M({type:String})],t.prototype,"globalIdField",void 0),b([Ge("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),b([M({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),b([M({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),b([M({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),b([M({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),b([M({readOnly:!0,type:W7})],t.prototype,"heightModelInfo",void 0),b([M({type:Date})],t.prototype,"historicMoment",void 0),b([M({type:ut.ofType(Uu),readOnly:!0})],t.prototype,"indexes",void 0),b([M({readOnly:!0})],t.prototype,"isTable",void 0),b([Ge("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),b([M({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),b([M($Ue)],t.prototype,"maxScale",void 0),b([Ge("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),b([M(SUe)],t.prototype,"minScale",void 0),b([Ge("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),b([M({type:String})],t.prototype,"objectIdField",void 0),b([Ge("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),b([M(H4("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),b([M({type:[tGe],readOnly:!0})],t.prototype,"relationships",void 0),b([M({type:Boolean})],t.prototype,"returnM",void 0),b([M({type:Boolean})],t.prototype,"returnZ",void 0),b([M({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),b([M({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),b([Ge("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),b([M({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),b([M()],t.prototype,"sourceJSON",void 0),b([M({type:It,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),b([M({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),b([M({type:[pGe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),b([M({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),b([M(Vhe)],t.prototype,"url",null),b([Xe("url")],t.prototype,"writeUrl",null),b([M({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),b([Ge("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=b([se("esri.layers.mixins.FeatureLayerBase")],t),t};let Yy=class extends ui(Fe){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};b([M({type:String,json:{write:!0}})],Yy.prototype,"expression",void 0),b([M({type:String,json:{write:!0}})],Yy.prototype,"title",void 0),b([M({type:String,json:{write:!0}})],Yy.prototype,"returnType",void 0),Yy=b([se("esri.layers.support.ExpressionInfo")],Yy);const uD=Yy;var ZA;let Yc=ZA=class extends Fe{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new ZA({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:ve(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};b([M({type:Boolean,json:{write:!0}})],Yc.prototype,"isAutoGenerated",void 0),b([M({type:String,json:{write:!0}})],Yc.prototype,"name",void 0),b([M({type:String,json:{write:!0}})],Yc.prototype,"alias",void 0),b([M({type:String,json:{write:!0}})],Yc.prototype,"onStatisticField",void 0),b([M({type:uD,json:{write:!0}})],Yc.prototype,"onStatisticExpression",void 0),b([M({type:String,json:{write:!0}})],Yc.prototype,"statisticType",void 0),Yc=ZA=b([se("esri.layers.support.AggregateField")],Yc);const m1=Yc;let $p=class extends Fe{constructor(){super(...arguments),this.type=null}};b([M({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],$p.prototype,"type",void 0),$p=b([se("esri.layers.support.FeatureReduction")],$p);const cD="__begin__",hD="__end__",yGe=new RegExp(cD,"ig"),mGe=new RegExp(hD,"ig"),pJ=new RegExp("^"+cD,"i"),fJ=new RegExp(hD+"$","i"),_6='"',gGe=_6+" + ",vGe=" + "+_6;function bGe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function wGe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function dD(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=bGe(e.labelExpression),t.type="conventional"),t}function xGe(e){const t=dD(e);if(!t)return null;switch(t.type){case"conventional":return XA(t.expression);case"arcade":return t.expression}return null}function _Ge(e){const t=dD(e);if(!t)return null;switch(t.type){case"conventional":return $Ge(t.expression);case"arcade":return Zhe(t.expression)}return null}function XA(e){let t;return e?(t=p7(e,r=>cD+'$feature["'+r+'"]'+hD),t=pJ.test(t)?t.replace(pJ,""):_6+t,t=fJ.test(t)?t.replace(fJ,""):t+_6,t=t.replaceAll(yGe,gGe).replaceAll(mGe,vGe)):t='""',t}const SGe=/^\s*\{([^}]+)\}\s*$/i;function $Ge(e){const t=e==null?void 0:e.match(SGe);return(t==null?void 0:t[1].trim())||null}const MGe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,TGe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,kGe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function Zhe(e){if(!e)return null;let t=MGe.exec(e)||TGe.exec(e);return t?t[1]||t[3]:(t=kGe.exec(e),t?t[2]:null)}var QA;let Od=QA=class extends Fe{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?XA(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=XA(this.value)),e!=null&&(t[r]=e)}clone(){return new QA({expression:this.expression,title:this.title,value:this.value})}};b([M({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Od.prototype,"expression",void 0),b([Ge("expression",["expression","value"])],Od.prototype,"readExpression",null),b([Xe("expression")],Od.prototype,"writeExpression",null),b([M({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Od.prototype,"title",void 0),b([M({json:{read:!1,write:!1}})],Od.prototype,"value",void 0),Od=QA=b([se("esri.layers.support.LabelExpressionInfo")],Od);const Xhe=Od;var ej;const y5=new hr({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function m5(e,t,r){return{enabled:!joe(r==null?void 0:r.layer)}}function Qhe(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function CGe(e){return(e==null?void 0:e.type)==="map-image"}function ede(e){var t,r;return!!CGe(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function EGe(e){return Qhe(e)||ede(e==null?void 0:e.layer)}let Qi=ej=class extends Fe{static evaluateWhere(e,t){const r=(i,n,o)=>{switch(n){case"=":return i==o;case"<>":return i!=o;case">":return i>o;case">=":return i>=o;case"<":return i<o;case"<=":return i<=o}return!1};try{if(e==null)return!0;const i=e.split(" ");if(i.length===3)return r(t[i[0]],i[1],i[2]);if(i.length===7){const n=r(t[i[0]],i[1],i[2]),o=i[3],u=r(t[i[4]],i[5],i[6]);switch(o){case"AND":return n&&u;case"OR":return n||u}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=HDe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=wGe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=Zhe(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(e==null&&this.labelExpression!=null&&Qhe(i))e=new Xhe({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return dD(this)}getLabelExpressionArcade(){return xGe(this)}getLabelExpressionSingleField(){return _Ge(this)}hash(){return JSON.stringify(this)}clone(){return new ej({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:ve(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:ve(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};b([M({type:String,json:{write:!0}})],Qi.prototype,"name",void 0),b([M({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:m5}}}}})],Qi.prototype,"allowOverrun",void 0),b([M({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:m5}}}}})],Qi.prototype,"deconflictionStrategy",void 0),b([M({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&ede(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Qi.prototype,"labelExpression",void 0),b([Ge("labelExpression")],Qi.prototype,"readLabelExpression",null),b([Xe("labelExpression")],Qi.prototype,"writeLabelExpression",null),b([M({type:Xhe,json:{write:{overridePolicy:(e,t,r)=>EGe(r)?{allowNull:!0}:{enabled:!1}}}})],Qi.prototype,"labelExpressionInfo",void 0),b([Xe("labelExpressionInfo")],Qi.prototype,"writeLabelExpressionInfo",null),b([M({type:y5.apiValues,json:{type:y5.jsonValues,read:y5.read,write:y5.write}})],Qi.prototype,"labelPlacement",void 0),b([M({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Qi.prototype,"labelPosition",void 0),b([M({type:Number})],Qi.prototype,"maxScale",void 0),b([Xe("maxScale")],Qi.prototype,"writeMaxScale",null),b([M({type:Number})],Qi.prototype,"minScale",void 0),b([Xe("minScale")],Qi.prototype,"writeMinScale",null),b([M({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:m5}}}}})],Qi.prototype,"repeatLabel",void 0),b([M({type:Number,cast:Tr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:m5}}}}})],Qi.prototype,"repeatLabelDistance",void 0),b([M({types:LPe,json:{origins:{"web-scene":{types:NPe,write:_W,default:null}},write:_W,default:null}})],Qi.prototype,"symbol",void 0),b([M({type:Boolean,json:{write:!0}})],Qi.prototype,"useCodedValues",void 0),b([M({type:String,json:{write:!0}})],Qi.prototype,"where",void 0),Qi=ej=b([se("esri.layers.support.LabelClass")],Qi);const v8=Qi;var tj;let ks=tj=class extends $p{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=Tr("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const i=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());Ds(r,i,t)}readRenderer(e,t,r){var n;const i=(n=t.drawingInfo)==null?void 0:n.renderer;return i?g3(i,t,r)??void 0:lD(t,r)}clone(){return new tj({fields:ve(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:ve(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:ve(this.popupTemplate),renderer:ve(this.renderer),binType:ve(this.binType),size:this.size})}};b([Ct({binning:"binning"})],ks.prototype,"type",void 0),b([Ct({geohash:"geohash",square:"square"}),M({type:["geohash","square"]})],ks.prototype,"binType",void 0),b([M({type:Number,json:{write:!0}})],ks.prototype,"fixedBinLevel",void 0),b([M({type:[v8],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ks.prototype,"labelingInfo",void 0),b([M(sD)],ks.prototype,"labelsVisible",void 0),b([M({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ks.prototype,"maxScale",void 0),b([M(nD)],ks.prototype,"popupEnabled",void 0),b([M({type:Xp,json:{name:"popupInfo",write:!0}})],ks.prototype,"popupTemplate",void 0),b([M({type:Number,cast:e=>e==="auto"?e:Tr(e)})],ks.prototype,"size",void 0),b([M({type:[m1],json:{write:!0}})],ks.prototype,"fields",void 0),b([Xe("fields")],ks.prototype,"writeFields",null),b([M({types:f8,json:{write:{target:"drawingInfo.renderer"}}})],ks.prototype,"renderer",void 0),b([Ge("renderer",["drawingInfo.renderer"])],ks.prototype,"readRenderer",null),ks=tj=b([se("esri.layers.support.FeatureReductionBinning")],ks);const tde=ks;var rj;function yJ(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let bn=rj=class extends Fe{constructor(e){super(e),this.type="cluster",this.clusterRadius=Tr("80px"),this.clusterMinSize=Tr("12px"),this.clusterMaxSize=Tr("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,r){var n,o;const i=(n=t.drawingInfo)==null?void 0:n.renderer;return(o=i==null?void 0:i.authoringInfo)!=null&&o.isAutoGenerated?null:i?yJ(i)?null:g3(i,t,r)??void 0:lD(t,r)}readSymbol(e,t,r){var n,o;const i=(n=t.drawingInfo)==null?void 0:n.renderer;if((o=i==null?void 0:i.authoringInfo)!=null&&o.isAutoGenerated)return null;if(i&&yJ(i)){const u=g3(i,t,r);return u==null?void 0:u.symbol}return null}writeSymbol(e,t,r,i){var o,u;const n=(u=(o=this.renderer)==null?void 0:o.authoringInfo)==null?void 0:u.isAutoGenerated;if(!this.renderer||n){const f=new pv({symbol:e});t.drawingInfo={renderer:f.write({},i)}}}writeFields(e,t,r){const i=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());Ds(r,i,t)}readFields(e,t,r){return e.filter(i=>!i.isAutoGenerated).map(i=>m1.fromJSON(i))}clone(){return new rj({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:ve(this.labelingInfo),labelsVisible:this.labelsVisible,fields:ve(this.fields),maxScale:this.maxScale,renderer:ve(this.renderer),symbol:ve(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:ve(this.popupTemplate)})}};b([M({type:["cluster"],readOnly:!0,json:{write:!0}})],bn.prototype,"type",void 0),b([M({type:Number,cast:e=>e==="auto"?e:Tr(e),json:{write:!0}})],bn.prototype,"clusterRadius",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],bn.prototype,"clusterMinSize",void 0),b([M({type:Number,cast:Tr,json:{write:!0}})],bn.prototype,"clusterMaxSize",void 0),b([M({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],bn.prototype,"maxScale",void 0),b([M(nD)],bn.prototype,"popupEnabled",void 0),b([M({type:Xp,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],bn.prototype,"popupTemplate",void 0),b([M({types:f8,json:{write:{target:"drawingInfo.renderer"}}})],bn.prototype,"renderer",void 0),b([Ge("renderer",["drawingInfo.renderer"])],bn.prototype,"readRenderer",null),b([M({types:jPe})],bn.prototype,"symbol",void 0),b([Ge("symbol",["drawingInfo.renderer"])],bn.prototype,"readSymbol",null),b([Xe("symbol")],bn.prototype,"writeSymbol",null),b([M({type:[v8],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],bn.prototype,"labelingInfo",void 0),b([M(sD)],bn.prototype,"labelsVisible",void 0),b([M({type:[m1],json:{write:!0}})],bn.prototype,"fields",void 0),b([Xe("fields")],bn.prototype,"writeFields",null),b([Ge("fields")],bn.prototype,"readFields",null),bn=rj=b([se("esri.layers.support.FeatureReductionCluster")],bn);const rde=bn;var ij;let b9=ij=class extends $p{constructor(e){super(e),this.type="selection"}clone(){return new ij}};b([M({type:["selection"]})],b9.prototype,"type",void 0),b9=ij=b([se("esri.layers.support.FeatureReductionSelection")],b9);const mJ=b9,gJ={key:"type",base:$p,typeMap:{cluster:rde,binning:tde}},IGe={types:{key:"type",base:$p,typeMap:{selection:mJ,cluster:rde,binning:tde}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:gJ},"portal-item":{types:gJ},"web-scene":{types:{key:"type",base:$p,typeMap:{selection:mJ}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Yn}}}}},ly={Base64:0,Hex:1,String:2,Raw:3},Xm=8,ide=(1<<Xm)-1;function ap(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function PGe(e){const t=[];for(let r=0,i=e.length*Xm;r<i;r+=Xm)t[r>>5]|=(e.charCodeAt(r/Xm)&ide)<<r%32;return t}function OGe(e){const t=[];for(let r=0,i=32*e.length;r<i;r+=Xm)t.push(String.fromCharCode(e[r>>5]>>>r%32&ide));return t.join("")}function AGe(e){const t="0123456789abcdef",r=[];for(let i=0,n=4*e.length;i<n;i++)r.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return r.join("")}function jGe(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[];for(let n=0,o=4*e.length;n<o;n+=3){const u=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let f=0;f<4;f++)8*n+6*f>32*e.length?i.push(t):i.push(r.charAt(u>>6*(3-f)&63))}return i.join("")}function RGe(e,t){return e<<t|e>>>32-t}function b8(e,t,r,i,n,o){return ap(RGe(ap(ap(t,e),ap(i,o)),n),r)}function vs(e,t,r,i,n,o,u){return b8(t&r|~t&i,e,t,n,o,u)}function bs(e,t,r,i,n,o,u){return b8(t&i|r&~i,e,t,n,o,u)}function ws(e,t,r,i,n,o,u){return b8(t^r^i,e,t,n,o,u)}function xs(e,t,r,i,n,o,u){return b8(r^(t|~i),e,t,n,o,u)}function LGe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,i=-271733879,n=-1732584194,o=271733878;for(let u=0;u<e.length;u+=16){const f=r,m=i,v=n,_=o;r=vs(r,i,n,o,e[u],7,-680876936),o=vs(o,r,i,n,e[u+1],12,-389564586),n=vs(n,o,r,i,e[u+2],17,606105819),i=vs(i,n,o,r,e[u+3],22,-1044525330),r=vs(r,i,n,o,e[u+4],7,-176418897),o=vs(o,r,i,n,e[u+5],12,1200080426),n=vs(n,o,r,i,e[u+6],17,-1473231341),i=vs(i,n,o,r,e[u+7],22,-45705983),r=vs(r,i,n,o,e[u+8],7,1770035416),o=vs(o,r,i,n,e[u+9],12,-1958414417),n=vs(n,o,r,i,e[u+10],17,-42063),i=vs(i,n,o,r,e[u+11],22,-1990404162),r=vs(r,i,n,o,e[u+12],7,1804603682),o=vs(o,r,i,n,e[u+13],12,-40341101),n=vs(n,o,r,i,e[u+14],17,-1502002290),i=vs(i,n,o,r,e[u+15],22,1236535329),r=bs(r,i,n,o,e[u+1],5,-165796510),o=bs(o,r,i,n,e[u+6],9,-1069501632),n=bs(n,o,r,i,e[u+11],14,643717713),i=bs(i,n,o,r,e[u],20,-373897302),r=bs(r,i,n,o,e[u+5],5,-701558691),o=bs(o,r,i,n,e[u+10],9,38016083),n=bs(n,o,r,i,e[u+15],14,-660478335),i=bs(i,n,o,r,e[u+4],20,-405537848),r=bs(r,i,n,o,e[u+9],5,568446438),o=bs(o,r,i,n,e[u+14],9,-1019803690),n=bs(n,o,r,i,e[u+3],14,-187363961),i=bs(i,n,o,r,e[u+8],20,1163531501),r=bs(r,i,n,o,e[u+13],5,-1444681467),o=bs(o,r,i,n,e[u+2],9,-51403784),n=bs(n,o,r,i,e[u+7],14,1735328473),i=bs(i,n,o,r,e[u+12],20,-1926607734),r=ws(r,i,n,o,e[u+5],4,-378558),o=ws(o,r,i,n,e[u+8],11,-2022574463),n=ws(n,o,r,i,e[u+11],16,1839030562),i=ws(i,n,o,r,e[u+14],23,-35309556),r=ws(r,i,n,o,e[u+1],4,-1530992060),o=ws(o,r,i,n,e[u+4],11,1272893353),n=ws(n,o,r,i,e[u+7],16,-155497632),i=ws(i,n,o,r,e[u+10],23,-1094730640),r=ws(r,i,n,o,e[u+13],4,681279174),o=ws(o,r,i,n,e[u],11,-358537222),n=ws(n,o,r,i,e[u+3],16,-722521979),i=ws(i,n,o,r,e[u+6],23,76029189),r=ws(r,i,n,o,e[u+9],4,-640364487),o=ws(o,r,i,n,e[u+12],11,-421815835),n=ws(n,o,r,i,e[u+15],16,530742520),i=ws(i,n,o,r,e[u+2],23,-995338651),r=xs(r,i,n,o,e[u],6,-198630844),o=xs(o,r,i,n,e[u+7],10,1126891415),n=xs(n,o,r,i,e[u+14],15,-1416354905),i=xs(i,n,o,r,e[u+5],21,-57434055),r=xs(r,i,n,o,e[u+12],6,1700485571),o=xs(o,r,i,n,e[u+3],10,-1894986606),n=xs(n,o,r,i,e[u+10],15,-1051523),i=xs(i,n,o,r,e[u+1],21,-2054922799),r=xs(r,i,n,o,e[u+8],6,1873313359),o=xs(o,r,i,n,e[u+15],10,-30611744),n=xs(n,o,r,i,e[u+6],15,-1560198380),i=xs(i,n,o,r,e[u+13],21,1309151649),r=xs(r,i,n,o,e[u+4],6,-145523070),o=xs(o,r,i,n,e[u+11],10,-1120210379),n=xs(n,o,r,i,e[u+2],15,718787259),i=xs(i,n,o,r,e[u+9],21,-343485551),r=ap(r,f),i=ap(i,m),n=ap(n,v),o=ap(o,_)}return[r,i,n,o]}function nde(e,t=ly.Hex){const r=t||ly.Base64,i=LGe(PGe(e),e.length*Xm);switch(r){case ly.Raw:return i;case ly.Hex:return AGe(i);case ly.String:return OGe(i);case ly.Base64:return jGe(i)}}const NGe=()=>Ne.getLogger("esri.views.2d.layers.support.clusterUtils");ke.add("esri-cluster-arcade-enabled",!0);const FGe=ke("esri-cluster-arcade-enabled"),DGe=new Set(["simple-line","simple-fill","picture-fill"]);function vJ(e,t){let r=t.clone();if(!zGe(r))return r;if(t.getSymbols().some(i=>DGe.has(i.type))&&(r=new pv({symbol:new gc})),r.authoringInfo||(r.authoringInfo=new BF),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const i=(r.visualVariables||[]).filter(n=>n.valueExpression!=="$view.scale");i.forEach(n=>{n.type==="rotation"?n.field?n.field=pf(e,n.field,"avg_angle","number"):n.valueExpression&&(n.field=ab(e,n.valueExpression,"avg_angle","number"),n.valueExpression=null):n.normalizationField?(n.field=pf(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=pf(e,n.field,"avg","number"):n.valueExpression&&(n.field=ab(e,n.valueExpression,"avg","number"),n.valueExpression=null)}),r.visualVariables=i}switch(r.type){case"simple":break;case"pie-chart":for(const i of r.attributes)i.field?i.field=pf(e,i.field,"sum","number"):i.valueExpression&&(i.field=ab(e,i.valueExpression,"sum","number"),i.valueExpression=null);break;case"unique-value":r.field?r.field=pf(e,r.field,"mode","string"):r.valueExpression&&(r.field=ab(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=pf(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=pf(e,r.field,"avg","number"):r.valueExpression&&(r.field=ab(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const zGe=e=>{const t=r=>NGe().error(new be("Unsupported-renderer",r,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!FGe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function BGe(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const i=r,n="field",o=t.toLowerCase()+",norm:"+n+","+i.toLowerCase();return"cluster_avg_"+nde(o)}}}function ab(e,t,r,i){const n=nde(t),o=r==="mode"?`cluster_type_${n}`:r==="sum"?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some(u=>u.name===o)||e.push(new m1({name:o,isAutoGenerated:!0,onStatisticExpression:new uD({expression:t,returnType:i}),statisticType:r})),o}function pf(e,t,r,i,n){if(t==="cluster_count"||e.some(u=>u.name===t))return t;const o=BGe(r,t,n);return e.some(u=>u.name===o)||(r==="avg_norm"?e.push(new m1({name:o,isAutoGenerated:!0,onStatisticExpression:new uD({expression:`$feature.${t} / $feature.${n}`,returnType:i}),statisticType:"avg"})):e.push(new m1({name:o,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),o}const VGe=e=>{let t=class extends e{constructor(...r){super(...r),this.addHandles(lt(()=>this.renderer,()=>{if(this.featureReduction){const i=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",i)}},cs))}set featureReduction(r){const i=this._normalizeFeatureReduction(r);this._set("featureReduction",i)}set renderer(r){}_withClusterVariable(r,i,n){const o=r.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(u=>u.type==="size")||o.visualVariables.push(new GF({field:"cluster_count",stops:[new r9({value:1}),new r9({useMinValue:!0,size:i}),new r9({useMaxValue:!0,size:n})]}))),o}_normalizeFeatureReduction(r){var $;if((r==null?void 0:r.type)!=="cluster")return r;const i=r.clone(),n=[new m1({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(i.fields??[]).filter(T=>!T.isAutoGenerated),u=r.renderer&&!(($=r.renderer.authoringInfo)!=null&&$.isAutoGenerated),{clusterMinSize:f,clusterMaxSize:m}=i;if(u){i.fields=[...n,...o];const T=this._withClusterVariable(i.renderer,f,m);return i.effectiveFeatureRenderer=T,i.effectiveClusterRenderer=T,i}if(r.symbol){if(i.fields=[...n,...o],i.renderer=null,!this.renderer)return i.effectiveFeatureRenderer=null,i.effectiveClusterRenderer=null,i;const T=vJ(n,this.renderer),I=this._withClusterVariable(T,f,m),O="visualVariables"in I&&I.visualVariables?I.visualVariables:[],A=new pv({symbol:r.symbol,visualVariables:O});return i.fields=[...n,...o],i.effectiveFeatureRenderer=I,i.effectiveClusterRenderer=A,i}if(!this.renderer)return r;const v=vJ(n,this.renderer);i.fields=[...n,...o],i.renderer=v;const _=this._withClusterVariable(v,f,m);return i.effectiveFeatureRenderer=_,i.effectiveClusterRenderer=_,i}};return b([M(IGe)],t.prototype,"featureReduction",null),t=b([se("esri.layers.mixins.FeatureReductionLayer")],t),t},bJ={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},wJ={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},xJ={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},UGe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":bJ,"web-map/basemap":wJ,"web-map/tables":xJ,"link-chart/operational-layers":{...bJ,LinkChartLayer:!0},"link-chart/basemap":wJ,"link-chart/tables":xJ,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},pD=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,i,n){var o;return((o=n==null?void 0:n.portalItem)==null?void 0:o.type)==="Group Layer"?void 0:r}writeListMode(r,i,n,o){(o&&o.layerContainerType==="ground"||r&&gie(this,n,{},o))&&(i[n]=r)}writeOperationalLayerType(r,i,n,o){r&&(o==null?void 0:o.layerContainerType)!=="tables"&&(i.layerType=r)}writeTitle(r,i){i.title=r??"Layer"}readTimeExtent(r){return r?cc.fromArray(r):null}writeTimeExtent(r,i,n,o){r&&o.layerContainerType!=="tables"&&(r.isEmpty?o!=null&&o.messages&&o.messages.push(new be("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):i[n]=r.toArray())}read(r,i){i&&(i.layer=this),_9e(this,r,n=>super.read(r,n),i)}write(r,i){var u,f;if(!this.persistenceEnabled&&!(i!=null&&i.ignorePersistenceEnabled))return null;if(i!=null&&i.origin){const m=`${i.origin}/${i.layerContainerType||"operational-layers"}`,v=UGe[m];let _=!!(v!=null&&v[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&m==="web-scene/operational-layers"&&(_=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&m==="web-map/operational-layers"&&(_=!1),!_)return(u=i.messages)==null||u.push(new be("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${m}'`,{layer:this})),null}const n=super.write(r,{...i,layer:this}),o=!!i&&!!i.messages&&!!i.messages.filter(m=>m instanceof be&&m.name==="web-document-write:property-required").length;return M7(n==null?void 0:n.url)?((f=i==null?void 0:i.messages)==null||f.push(new be("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return b([M({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),b([Ge("id",["id"])],t.prototype,"readId",null),b([M(qhe)],t.prototype,"listMode",void 0),b([Xe("listMode")],t.prototype,"writeListMode",null),b([M({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Yn}}}}})],t.prototype,"operationalLayerType",void 0),b([Xe("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),b([M(HA)],t.prototype,"opacity",void 0),b([M({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),b([M({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),b([Xe("title"),Xe(["web-scene"],"title")],t.prototype,"writeTitle",null),b([M({type:cc,json:{origins:{"web-scene":{write:{layerContainerTypes:Yn}}}}})],t.prototype,"visibilityTimeExtent",void 0),b([Ge("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),b([Xe(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[Wr,_7]]}})],t.prototype,"writeTimeExtent",null),b([M({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:Yn}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=b([se("esri.layers.mixins.OperationalLayer")],t),t};var nj;const g5=new hr({asc:"ascending",desc:"descending"});let Zy=nj=class extends Fe{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new nj({field:this.field,valueExpression:this.valueExpression,order:this.order})}};b([M({type:String,json:{write:!0}})],Zy.prototype,"field",void 0),b([M({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Zy.prototype,"valueExpression",void 0),b([M({type:g5.apiValues,json:{type:g5.jsonValues,read:g5.read,write:g5.write}})],Zy.prototype,"order",void 0),Zy=nj=b([se("esri.layers.support.OrderByInfo")],Zy);const sde=Zy;function GGe(e,t,r){if(!e)return null;const i=e.find(o=>!!o.field);if(!i)return null;const n=new sde;return n.read(i,r),[n]}function qGe(e,t,r,i){const n=e.find(o=>!!o.field);n&&Ds(r,[n.toJSON()],t)}const HGe={type:[sde],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:GGe},write:{writer:qGe}}},WGe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return b([M(HGe)],t.prototype,"orderBy",void 0),t=b([se("esri.layers.mixins.OrderedLayer")],t),t};async function JGe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return mm(e);const r=It.WGS84;return await GN(t,r),Jp(e,r)}function KGe(e,t){if(!ode(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function ode(e,t){var r;return!!((r=e.typeKeywords)!=null&&r.includes(t))}function Q6t(e){return ode(e,ZGe.HOSTED_SERVICE)}function YGe(e,t){const r=e.typeKeywords;if(r){const i=r.indexOf(t);i>-1&&r.splice(i,1)}}function e$t(e,t,r){r?KGe(e,t):YGe(e,t)}async function t$t(e){const t=e.clone().normalize();let r;if(t.length>1)for(const i of t)r?i.width>r.width&&(r=i):r=i;else r=t[0];return JGe(r)}const ZGe={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function _J(e){var m;const{portal:t,isOrgItem:r,itemControl:i}=e,n=(m=t.user)==null?void 0:m.privileges;let o=!n||n.includes("features:user:edit"),u=!!r&&!!(n!=null&&n.includes("features:user:fullEdit"));const f=i==="update"||i==="admin";return f?u=o=!0:u&&(o=!0),{features:{edit:o,fullEdit:u},content:{updateItem:f}}}const fD=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=ai(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,i,n){if(i.itemId)return new Wm({id:i.itemId,portal:n==null?void 0:n.portal})}writePortalItem(r,i){r!=null&&r.id&&(i.itemId=r.id)}async loadFromPortal(r,i){var n;if((n=this.portalItem)!=null&&n.id)try{const{load:o}=await Ce(()=>import("./layersLoader-BEXNXH6C.js"),__vite__mapDeps([222,129,127,128,126,223]),import.meta.url);return Zr(i),await o({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap},i)}catch(o){throw Vs(o)||Ne.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${o}`),o}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(i=>(Ga(i),!0)))}async setUserPrivileges(r,i){if(!wr.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(i);if(this.url)try{const{features:{edit:n,fullEdit:o},content:{updateItem:u}}=await this._fetchUserPrivileges(r,i);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",u)}catch(n){Ga(n)}}async _fetchUserPrivileges(r,i){let n=this.portalItem;if(!r||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(i);const o=r===n.id;if(o&&n.portal.user)return _J(n);let u,f;if(o)u=n.portal.url;else try{u=await Roe(this.url,i)}catch($){Ga($)}if(!u||!K9e(u,n.portal.url))return this._fetchFallbackUserPrivileges(i);try{const $=i!=null?i.signal:null;f=await(sr==null?void 0:sr.getCredential(`${u}/sharing`,{prompt:!1,signal:$}))}catch($){Ga($)}const m=!0,v=!1,_=!1;if(!f)return{features:{edit:m,fullEdit:v},content:{updateItem:_}};try{if(o?await n.reload():(n=new Wm({id:r,portal:{url:u}}),await n.load(i)),n.portal.user)return _J(n)}catch($){Ga($)}return{features:{edit:m,fullEdit:v},content:{updateItem:_}}}async _fetchFallbackUserPrivileges(r){let i=!0;try{i=await this._fetchUserHasEditingPrivileges(r)}catch(n){Ga(n)}return{features:{edit:i,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const i=this.url?sr==null?void 0:sr.findCredential(this.url):null;if(!i)return!0;const n=v5.credential===i?v5.user:await this._fetchEditingUser(r);return v5.credential=i,v5.user=n,(n==null?void 0:n.privileges)==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var _,$;const i=($=(_=this.portalItem)==null?void 0:_.portal)==null?void 0:$.user;if(i)return i;const n=sr==null?void 0:sr.findServerInfo(this.url??"");if(!(n!=null&&n.owningSystemUrl))return null;const o=`${n.owningSystemUrl}/sharing/rest`,u=Rn.getDefault();if(u&&u.loaded&&sl(u.restUrl)===sl(o))return u.user;const f=`${o}/community/self`,m=r!=null?r.signal:null,v=await I7(Jr(f,{authMode:"no-prompt",query:{f:"json"},signal:m}));return v.ok?ZN.fromJSON(v.value.data):null}read(r,i){i&&(i.layer=this),super.read(r,i)}write(r,i){var u;const n=i==null?void 0:i.portal,o=((u=this.portalItem)==null?void 0:u.id)&&(this.portalItem.portal||Rn.getDefault());return n&&o&&!Sie(o.restUrl,n.restUrl)?(i.messages&&i.messages.push(new be("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...i,layer:this})}};return b([M({type:Wm})],t.prototype,"portalItem",null),b([Ge("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),b([Xe("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),b([M({clonable:!1})],t.prototype,"resourceReferences",void 0),b([M({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),b([M({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),b([M({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=b([se("esri.layers.mixins.PortalLayer")],t),t},v5={credential:null,user:null};let M2=class extends St{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};b([M()],M2.prototype,"updating",void 0),b([M()],M2.prototype,"status",void 0),M2=b([se("esri.layers.support.PublishingInfo")],M2);const XGe=M2,QGe=Symbol(),eqe=e=>{var t;let r=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const i=this._get("publishingInfo");if(i)return i;const n=new XGe;return this._checkPublishingStatus(n),n}_checkPublishingStatus(i){let u=0;const f=async v=>{let _;i.updating=!0;try{_=await this.fetchPublishingStatus()}catch{_="unavailable"}_!=="published"&&_!=="unavailable"||(i.status==="publishing"&&this.refresh(),m.remove()),i.status=_,i.updating=!1,m.removed||(u=setTimeout(f,v,v+125))},m={removed:!1,remove(){this.removed=!0,clearTimeout(u)}};this.when().catch(()=>m.remove()),f(250),this.addHandles(m)}};return t=QGe,b([M({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=b([se("esri.layers.mixins.PublishableLayer")],r),r},lp=new ut,gw=new WeakMap;function tqe(e){iqe(e)&&lp.push(new WeakRef(e))}function rqe(e){const t=lp.find(r=>r.deref()===e);t&&lp.remove(t)}function iqe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function ade(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:ade(t,e%t):0}let Fk=0,b5=0;function nqe(){const e=Date.now();let t=!1;for(const r of lp){const i=r.deref();i?i.refreshInterval&&e-(gw.get(i)??0)+5>=6e4*i.refreshInterval&&(gw.set(i,e),i.refresh(e)):t=!0}if(t)for(let r=lp.length-1;r>=0;r--)lp.at(r).deref()||lp.removeAt(r)}Cre(()=>{const e=Date.now();let t=0;for(const r of lp){const i=r.deref();i&&(t=ade(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?gw.get(i)||gw.set(i,e):gw.delete(i))}if(t!==b5){if(b5=t,clearInterval(Fk),b5===0)return void(Fk=0);Fk=setInterval(nqe,b5)}});const SJ=.1,lde=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=g7(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||tqe(this)},()=>{})}destroy(){rqe(this)}castRefreshInterval(r){return r>=SJ?r:r<=0?0:SJ}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){VE(this._debounceHasDataChanged()).then(i=>{i&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:i})},i=>{Ne.getLogger(this).error(i),this.emit("refresh",{dataChanged:!1,error:i})})}async hasDataChanged(){return!0}get test(){}};return b([M({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Yn}}}}})],t.prototype,"refreshInterval",void 0),b([Ar("refreshInterval")],t.prototype,"castRefreshInterval",null),b([M({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),b([M({readOnly:!0})],t.prototype,"refreshParameters",null),t=b([se("esri.layers.mixins.RefreshableLayer")],t),t},w8=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},i=this.parent;i&&"effectiveScaleRange"in i&&sqe(r,i.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===r.minScale&&n.maxScale===r.maxScale?n:r}};return b([M({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),b([M({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),b([M({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=b([se("esri.layers.mixins.ScaleRangeLayer")],t),t};function sqe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const ude=Us()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let T2=class extends ui(Fe){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return sae(this.value,this.unit,"milliseconds")}};b([Ct(ude,{nonNullable:!0})],T2.prototype,"unit",void 0),b([M({type:Number,json:{write:!0},nonNullable:!0})],T2.prototype,"value",void 0),T2=b([se("esri.TimeInterval")],T2);const S6=T2;function $J(e,t){return S6.fromJSON({value:e,unit:t})}let is=class extends ui(Fe){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&r.timeExtent.length===2?cc.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){(t==null?void 0:t.start)!=null&&t.end!=null?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?$J(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?$J(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=(t==null?void 0:t.toJSON().value)??null,r.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};b([M({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],is.prototype,"cumulative",void 0),b([M({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],is.prototype,"endField",void 0),b([M({type:cc,json:{write:{enabled:!0,allowNull:!0}}})],is.prototype,"fullTimeExtent",void 0),b([Ge("fullTimeExtent",["timeExtent"])],is.prototype,"readFullTimeExtent",null),b([Xe("fullTimeExtent")],is.prototype,"writeFullTimeExtent",null),b([M({type:Boolean,json:{write:!0}})],is.prototype,"hasLiveData",void 0),b([M({type:S6,json:{write:{enabled:!0,allowNull:!0}}})],is.prototype,"interval",void 0),b([Ge("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],is.prototype,"readInterval",null),b([Xe("interval")],is.prototype,"writeInterval",null),b([M({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],is.prototype,"startField",void 0),b([M(H4("timeReference",!0))],is.prototype,"timeZone",void 0),b([M({type:String,json:{write:{enabled:!0,allowNull:!0}}})],is.prototype,"trackIdField",void 0),b([M({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],is.prototype,"useTime",void 0),b([M({type:[Date],json:{read:!1}})],is.prototype,"stops",void 0),is=b([se("esri.layers.support.TimeInfo")],is);const cde=is,oqe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Yn}}},hde=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,i){const n=i.timeInfo.exportOptions;if(!n)return null;const o=n.timeOffset,u=ude.fromJSON(n.timeOffsetUnits);return o&&u?new S6({value:o,unit:u}):null}set timeInfo(r){vae(r,this.fieldsIndex),this._set("timeInfo",r)}};return b([M({type:cc,json:{write:!1}})],t.prototype,"timeExtent",void 0),b([M({type:S6})],t.prototype,"timeOffset",void 0),b([Ge("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),b([M({value:null,type:cde,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),b([M(oqe)],t.prototype,"useViewTime",void 0),t=b([se("esri.layers.mixins.TemporalLayer")],t),t},MJ=new hr({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Ad=class extends ui(Fe){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};b([M({json:{write:!0}})],Ad.prototype,"name",void 0),b([M({json:{write:!0}})],Ad.prototype,"description",void 0),b([M({json:{read:MJ.read,write:MJ.write}})],Ad.prototype,"drawingTool",void 0),b([M({json:{write:!0}})],Ad.prototype,"prototype",void 0),b([M({json:{write:!0}})],Ad.prototype,"thumbnail",void 0),Ad=b([se("esri.layers.support.FeatureTemplate")],Ad);const yD=Ad;let Zc=class extends ui(Fe){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const i of Object.keys(t))r[i]=e8(t[i]);return r}writeDomains(t,r){var n;const i={};for(const o of Object.keys(t))t[o]&&(i[o]=(n=t[o])==null?void 0:n.toJSON());r.domains=i}};b([M({json:{write:!0}})],Zc.prototype,"id",void 0),b([M({json:{write:!0}})],Zc.prototype,"name",void 0),b([M({json:{write:!0}})],Zc.prototype,"domains",void 0),b([Ge("domains")],Zc.prototype,"readDomains",null),b([Xe("domains")],Zc.prototype,"writeDomains",null),b([M({type:[yD],json:{write:!0}})],Zc.prototype,"templates",void 0),Zc=b([se("esri.layers.support.FeatureType")],Zc);const dde=Zc;function aqe(){return{fields:{type:[gF],value:null,set:function(e){if(e&&ke("big-integer-warning-enabled")){const t=e.filter(r=>r.type==="big-integer"||r.type==="oid"&&(r.length||0)>=8);if(t.length){const r=t.map(i=>`'${i.name}'`).join(", ");Ne.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${r}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return Wce.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const r of e)((t=this.fieldsIndex)==null?void 0:t.has(r))||Ne.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${r} found in outFields`,{layer:this,outFields:e});return J7(this.fieldsIndex,e)}}}}const Dk=()=>Ne.getLogger("esri.layers.support.labelingInfo"),lqe=/\[([^[\]]+)\]/gi;function zk(e,t,r){return e?e.map(i=>{var o;const n=new v8;if(n.read(i,r),n.labelExpression){const u=t.fields||((o=t.layerDefinition)==null?void 0:o.fields)||this.fields;n.labelExpression=n.labelExpression.replaceAll(lqe,(f,m)=>`[${uqe(m,u)}]`)}return n}):null}function uqe(e,t){if(!t)return e;const r=e.toLowerCase();for(let i=0;i<t.length;i++){const n=t[i].name;if(n.toLowerCase()===r)return n}return e}const cqe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function a$t(e,t){const r=[];for(const i of e){const n=i.labelPlacement,o=cqe[t];if(!i.symbol)return Dk().warn("No ILabelClass symbol specified."),[];if(!o)return Dk().error(new be("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(o.includes(n))r.push(i);else{const u=o[0];n&&Dk().warn(`Found invalid label placement type ${n} for ${t}. Defaulting to ${u}`);const f=i.clone();f.labelPlacement=u,r.push(f)}}return r}const Xy=[];function hqe(e,t){if(Ole(e.url??""))return!0;const{wkid:r}=t;for(const i of Xy){if((e.version??0)>=i[0])return!0;if(typeof i[1]=="function"&&(i[1]=i[1]()),i[1].has(r))return!1}return!0}Xy.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),Xy.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Xy.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Xy.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Xy.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function dqe(e,t,r){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&i.type==="unique-value"&&i.styleOrigin){const n=await I7(i.populateFromStyle());if(Zr(r),n.ok===!1){const o=n.error;t!=null&&t.messages&&t.messages.push(new pl("renderer:style-reference",`Failed to create unique value renderer from style reference: ${o.message}`,{error:o,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}var sj;let Qy=sj=class extends Fe{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new sj({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};b([M({type:[String],json:{write:!0}})],Qy.prototype,"groupByFields",void 0),b([M({type:Number,json:{write:!0}})],Qy.prototype,"topCount",void 0),b([M({type:[String],json:{write:!0}})],Qy.prototype,"orderByFields",void 0),Qy=sj=b([se("esri.rest.support.TopFilter")],Qy);const pqe=Qy;var oj;const TJ=new hr({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),kJ=new hr({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let gi=oj=class extends Fe{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new oj(ve({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};b([M({type:Boolean,json:{write:!0}})],gi.prototype,"cacheHint",void 0),b([M({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],gi.prototype,"distance",void 0),b([M({types:I1,json:{read:Op,write:!0}})],gi.prototype,"geometry",void 0),b([M({type:Number,json:{write:!0}})],gi.prototype,"geometryPrecision",void 0),b([M({type:Number,json:{write:!0}})],gi.prototype,"maxAllowableOffset",void 0),b([M({type:Number,json:{read:{source:"resultRecordCount"}}})],gi.prototype,"num",void 0),b([M({json:{write:!0}})],gi.prototype,"objectIds",void 0),b([M({type:[String],json:{write:!0}})],gi.prototype,"orderByFields",void 0),b([M({type:[String],json:{write:!0}})],gi.prototype,"outFields",void 0),b([M({type:It,json:{read:{source:"outSR"},write:{target:"outSR"}}})],gi.prototype,"outSpatialReference",void 0),b([M({type:String,json:{write:!0}})],gi.prototype,"resultType",void 0),b([M({json:{write:!0}})],gi.prototype,"returnGeometry",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gi.prototype,"returnM",void 0),b([M({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gi.prototype,"returnZ",void 0),b([M({type:Number,json:{read:{source:"resultOffset"}}})],gi.prototype,"start",void 0),b([Xe("start"),Xe("num")],gi.prototype,"writeStart",null),b([M({type:String,json:{read:{source:"spatialRel",reader:TJ.read},write:{target:"spatialRel",writer:TJ.write}}})],gi.prototype,"spatialRelationship",void 0),b([M({type:cc,json:{write:!0}})],gi.prototype,"timeExtent",void 0),b([M({type:pqe,json:{write:!0}})],gi.prototype,"topFilter",void 0),b([M({type:String,json:{read:kJ.read,write:{writer:kJ.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null&&this.distance>0}}}}})],gi.prototype,"units",void 0),b([M({type:String,json:{write:!0}})],gi.prototype,"where",void 0),gi=oj=b([se("esri.rest.support.TopFeaturesQuery")],gi),gi.from=xi(gi);const w5=gi;function fqe({displayField:e,editFieldsInfo:t,fields:r,objectIdField:i,title:n},o){if(!r)return null;const u=vqe({editFieldsInfo:t,fields:r,objectIdField:i},o);if(!u.length)return null;const f=xqe({titleBase:n,fields:r,displayField:e}),m=wqe();return new Xp({title:f,content:m,fieldInfos:u})}const yqe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):dIe(e,t);function mqe(e,t){const r=e;return t&&(e=e.filter(i=>!t.includes(i.type))),e===r&&(e=e.slice()),e.sort(gqe),e}function gqe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:CJ(e)?-1:CJ(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function vqe(e,t){const r=t==null?void 0:t.visibleFieldNames;return mqe(e.fields??[],(t==null?void 0:t.ignoreFieldTypes)||_qe).map(i=>new nF({fieldName:i.name,isEditable:hIe(i,e),label:i.alias,format:bqe(i),visible:yqe(i,{...e,visibleFieldNames:r})}))}function bqe(e){switch(e.type){case"small-integer":case"integer":case"single":return new kS({digitSeparator:!0,places:0});case"double":return new kS({digitSeparator:!0,places:2});case"string":return NIe(e.name)?new kS({digitSeparator:!0,places:0}):void 0;default:return}}function wqe(){return[new a3,new o3]}function xqe(e){const t=tIe(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function CJ(e){var r;return(e.name&&e.name.toLowerCase())==="name"?!0:((r=e.alias)==null?void 0:r.toLowerCase())==="name"}const _qe=["geometry","blob","raster","guid","xml"];var Xu;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(Xu||(Xu={}));const Gs="FeatureLayer";function x5(e,t){return new be("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function EJ(e){return e&&e instanceof ut}const Bk=aqe();function Vk(e,t,r){const i=!!(r!=null&&r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}let xt=class extends fGe(VGe(mUe(eqe(dUe(g8(WGe(hde(w8(lde(LVe(pD(fD(y8(aUe(RVe(ui(gx))))))))))))))))){constructor(...t){super(...t),this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=It.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=g7(async(r,i,n)=>{const{save:o,saveAs:u}=await Ce(()=>import("./featureLayerUtils-BvVdWXsh.js"),__vite__mapDeps([224,225,226,227,223,228,129]),import.meta.url);switch(r){case Xu.SAVE:return o(this,i);case Xu.SAVE_AS:return u(this,n,i)}})}destroy(){var t;(t=this.source)==null||t.destroy()}normalizeCtorArgs(t,r){return typeof t=="string"?{url:t,...r}:t}load(t){var n;const r=t!=null?t.signal:null;if((n=this.portalItem)!=null&&n.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(r).then(o=>this.initLayerProperties(o))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(Ga).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const o=await this._fetchFirstValidLayerId(r);o!=null&&(this.layerId=o)}if(!this.url&&!this._hasMemorySource())throw new be("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(r))}).then(()=>WUe(this,"load",t));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(t,r){return r=r.layerDefinition||r,Yhe(r,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var t;return!(this.loaded&&!((t=this.capabilities)!=null&&t.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,r){return this._readEditingEnabled(r,!1)}readEditingEnabledFromWebMap(t,r,i){return this._readEditingEnabled(r,!0,i)}writeEditingEnabled(t,r){this._writeEditingEnabled(t,r,!1)}writeEditingEnabledToWebMap(t,r,i,n){this._writeEditingEnabled(t,r,!0,n)}get effectiveEditingEnabled(){return JUe(this)}readIsTable(t,r){return(r=(r==null?void 0:r.layerDefinition)??r).type==="Table"||!r.geometryType}writeIsTable(t,r,i,n){n!=null&&n.writeLayerSchema&&Ds(i,t?"Table":"Feature Layer",r)}readGlobalIdField(t,r){return Whe(r.layerDefinition||r)}readObjectIdField(t,r){return Jhe(r.layerDefinition||r)}get parsedUrl(){const t=Zn(this.url);return t!=null&&(this.dynamicDataSource!=null?t.path=gg(t.path,"dynamicLayer"):this.layerId!=null&&(t.path=gg(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){Fq(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,r,i){var o;r=r.layerDefinition||r;const n=(o=r.drawingInfo)==null?void 0:o.renderer;if(n){const u=g3(n,r,i)??void 0;return u||Ne.getLogger(this).error("Failed to create renderer",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:i}),u}return lD(r,i)}set source(t){const r=this._get("source");r!==t&&(EJ(r)&&this._resetMemorySource(r),EJ(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof ut?new sh({layer:this,items:t}):t:null}readSource(t,r){const i=jhe.fromJSON(r.featureSet);return new sh({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(t,r){const i=r.editFieldsInfo,n=i==null?void 0:i.creatorField,o=i==null?void 0:i.editorField;return t=t==null?void 0:t.map(u=>yD.fromJSON(u)),this._fixTemplates(t,n),this._fixTemplates(t,o),t}readTitle(t,r){var o,u,f;const i=((o=r.layerDefinition)==null?void 0:o.name)??r.name,n=r.title||((u=r.layerDefinition)==null?void 0:u.title);if(i){const m=(f=this.portalItem)==null?void 0:f.title;if(this.sublayerTitleMode==="item-title")return this.url?COe(this.url,i):i;let v=i;if(!v&&this.url){const _=uv(this.url);_!=null&&(v=_.title)}return v?(this.sublayerTitleMode==="item-title-and-service-name"&&m&&m!==v&&(v=m+" - "+v),bF(v)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(t,r){var i;return r.title||((i=r.layerDefinition)==null?void 0:i.name)}readTypeIdField(t,r){let i=(r=r.layerDefinition||r).typeIdField;if(i&&r.fields){i=i.toLowerCase();const n=r.fields.find(o=>o.name.toLowerCase()===i);n&&(i=n.name)}return i}readTypes(t,r){t=(r=r.layerDefinition||r).types;const i=r.editFieldsInfo,n=i==null?void 0:i.creatorField,o=i==null?void 0:i.editorField;return t==null?void 0:t.map(u=>(u=dde.fromJSON(u),this._fixTemplates(u.templates,n),this._fixTemplates(u.templates,o),u))}readVisible(t,r){var i;return((i=r.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!r.layerDefinition.defaultVisibility:r.visibility!=null?!!r.visibility:void 0}async addAttachment(t,r){return IUe(this,t,r,Gs)}async updateAttachment(t,r,i){return PUe(this,t,r,i,Gs)}async applyEdits(t,r){return OUe(this,t,r)}async uploadAssets(t,r){return AUe(this,t,r)}on(t,r){return super.on(t,r)}createPopupTemplate(t){return fqe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:r}=await _re(Ce(()=>import("./FeatureLayerSource-m173WX0T.js"),__vite__mapDeps([229,36,42,230,221,39,85,38,86,220,23,21,231,232,50,48,49,11,10,14,121,233,13]),import.meta.url),t);return new r({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=UUe(this);t.dynamicDataSource=this.dynamicDataSource;const r=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=FEe(this.definitionExpression,r);return t.where=i||"1=1",t}async deleteAttachments(t,r){return jUe(this,t,r,Gs)}async fetchRecomputedExtents(t){return RUe(this,t,Gs)}getFeatureType(t){return ZUe(this.types,this.typeIdField,t)}getFieldDomain(t,r){var u;const i=r==null?void 0:r.feature,n=qUe(this,i);if(n){const f=(u=n.domains)==null?void 0:u[t];return(f==null?void 0:f.type)==="inherited"?this._getLayerDomain(t):f}const o=this.getFeatureType(i);if(o){const f=o.domains&&o.domains[t];if(f&&f.type!=="inherited")return f}return this._getLayerDomain(t)}getField(t){return this.fieldsIndex.get(t)}async queryAttachments(t,r){return LUe(this,t,r,Gs)}async queryFeatures(t,r){const i=await this.load(),n=await i.source.queryFeatures(Oh.from(t)??i.createQuery(),r);if(n!=null&&n.features)for(const o of n.features)o.layer=o.sourceLayer=i;return n}async queryObjectIds(t,r){return NUe(this,t,r,Gs)}async queryFeatureCount(t,r){return FUe(this,t,r,Gs)}async queryExtent(t,r){return DUe(this,t,r,Gs)}async queryRelatedFeatures(t,r){return zUe(this,t,r,Gs)}async queryRelatedFeaturesCount(t,r){return BUe(this,t,r,Gs)}async queryTopFeatures(t,r){var u;const{source:i,capabilities:n}=await this.load();if(!i.queryTopFeatures||!((u=n==null?void 0:n.query)!=null&&u.supportsTopFeaturesQuery))throw new be(Gs,"Layer source does not support queryTopFeatures capability");const o=await i.queryTopFeatures(w5.from(t),r);if(o!=null&&o.features)for(const f of o.features)f.layer=f.sourceLayer=this;return o}async queryTopObjectIds(t,r){const{source:i,capabilities:n}=await this.load();if(!i.queryTopObjectIds||!(n!=null&&n.query.supportsTopFeaturesQuery))throw new be(Gs,"Layer source does not support queryTopObjectIds capability");return i.queryTopObjectIds(w5.from(t),r)}async queryTopFeaturesExtent(t,r){var o;const{source:i,capabilities:n}=await this.load();if(!i.queryTopExtents||!((o=n==null?void 0:n.query)!=null&&o.supportsTopFeaturesQuery))throw new be(Gs,"Layer source does not support queryTopExtents capability");return i.queryTopExtents(w5.from(t),r)}async queryTopFeatureCount(t,r){var o;const{source:i,capabilities:n}=await this.load();if(!i.queryTopCount||!((o=n==null?void 0:n.query)!=null&&o.supportsTopFeaturesQuery))throw new be(Gs,"Layer source does not support queryFeatureCount capability");return i.queryTopCount(w5.from(t),r)}read(t,r){const i=t.featureCollection;if((i||t.type==="Feature Collection")&&(this.resourceInfo=t),i){const n=i.layers;n&&n.length===1&&(super.read(n[0],r),i.showLegend!=null&&super.read({showLegend:i.showLegend},r))}super.read(t,r),r&&r.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,r){r={...r,origin:(r==null?void 0:r.origin)??void 0,writeLayerSchema:(r==null?void 0:r.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:n,messages:o}=r;if(this.dynamicDataSource)return o==null||o.push(x5(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&n!=="tables")return o==null||o.push(x5(this,`a table source can only be written to tables, not ${n}`)),null;if(this._hasMemorySource())return o==null||o.push(x5(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&n==="tables")return o==null||o.push(x5(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,r)}clone(){if(this._hasMemorySource())throw new be(Gs,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){var r;return!!this.loaded&&(((r=this.source)==null?void 0:r.type)==="memory"||hqe(this,t))}async save(t){return this._debouncedSaveOperations(Xu.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(Xu.SAVE_AS,r,t)}_readEditingEnabled(t,r,i){var o;let n=(o=t.layerDefinition)==null?void 0:o.capabilities;return n?this._hasEditingCapability(n):(n=t.capabilities,r&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(r=>r.trim()).includes("editing")}_writeEditingEnabled(t,r,i,n){var o,u;if(!t){const f=(u=(o=this.capabilities)==null?void 0:o.operations)!=null&&u.supportsSync?"Query,Sync":"Query";Ds("layerDefinition.capabilities",f,r),i&&!(n!=null&&n.writeLayerSchema)&&(r.capabilities=f)}}_getLayerDomain(t){const r=this.fieldsIndex.get(t);return r?r.domain:null}_fetchFirstValidLayerId(t){return Jr(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(r=>{const i=r.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(t){var r;return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(r=this.portalItem)==null?void 0:r.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Fq(this.renderer,this.fieldsIndex),vae(this.timeInfo,this.fieldsIndex),dqe(this,{origin:"service"})}async hasDataChanged(){return VUe(this)}async fetchPublishingStatus(){const t=this.source;return t!=null&&t.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){var r,i;const t=((r=this.parsedUrl)==null?void 0:r.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,r){t&&t.forEach(i=>{var o;const n=(o=i.prototype)==null?void 0:o.attributes;n&&r&&delete n[r]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new be("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new be("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(r=>{r.layer=this,r.sourceLayer=this}),this.addHandles([t.on("after-add",r=>{r.item.layer=this,r.item.sourceLayer=this}),t.on("after-remove",r=>{r.item.layer=null,r.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(r=>{r.layer=null,r.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};b([Ge("service","capabilities")],xt.prototype,"readCapabilities",null),b([M({json:{origins:{"web-scene":{write:!1}},write:!0}})],xt.prototype,"charts",void 0),b([M({readOnly:!0})],xt.prototype,"createQueryVersion",null),b([M({json:{read:{source:"layerDefinition.copyrightText"}}})],xt.prototype,"copyright",void 0),b([M({json:{read:{source:"layerDefinition.displayField"}}})],xt.prototype,"displayField",void 0),b([M({types:V0,readOnly:!0})],xt.prototype,"defaultSymbol",void 0),b([M({type:Jl})],xt.prototype,"dynamicDataSource",void 0),b([M({type:Boolean})],xt.prototype,"editingEnabled",null),b([Ge(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],xt.prototype,"readEditingEnabled",null),b([Ge("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],xt.prototype,"readEditingEnabledFromWebMap",null),b([Xe(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],xt.prototype,"writeEditingEnabled",null),b([Xe("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],xt.prototype,"writeEditingEnabledToWebMap",null),b([M({readOnly:!0})],xt.prototype,"effectiveEditingEnabled",null),b([M({...Bk.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Vk}}}}})],xt.prototype,"fields",void 0),b([M(Bk.fieldsIndex)],xt.prototype,"fieldsIndex",void 0),b([M({type:IVe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],xt.prototype,"formTemplate",void 0),b([M({json:{read:{source:"layerDefinition.extent"}}})],xt.prototype,"fullExtent",void 0),b([M({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Vk,writer(e,t,r){const i=e?KA.toJSON(e):null;i&&Ds(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:KA.read}}})],xt.prototype,"geometryType",void 0),b([M({json:{read:{source:"layerDefinition.hasM"}}})],xt.prototype,"hasM",void 0),b([M({json:{read:{source:"layerDefinition.hasZ"}}})],xt.prototype,"hasZ",void 0),b([M(_Ue)],xt.prototype,"id",void 0),b([M({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],xt.prototype,"infoFor3D",void 0),b([M({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],xt.prototype,"isTable",void 0),b([Ge("service","isTable",["type","geometryType"]),Ge("isTable",["layerDefinition.type","layerDefinition.geometryType"])],xt.prototype,"readIsTable",null),b([Xe("web-map","isTable")],xt.prototype,"writeIsTable",null),b([M(sD)],xt.prototype,"labelsVisible",void 0),b([M({type:[v8],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:zk,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:zk,write:{enabled:!0,layerContainerTypes:Yn}}},name:"layerDefinition.drawingInfo.labelingInfo",read:zk,write:!0}})],xt.prototype,"labelingInfo",void 0),b([M((()=>{const e=ve(xUe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,i){Ds(i,G7(t),r)}}},e})())],xt.prototype,"opacity",void 0),b([M(Uhe)],xt.prototype,"legendEnabled",void 0),b([M({type:["show","hide"],json:(()=>{const e=ve(qhe.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],xt.prototype,"listMode",void 0),b([Ge("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],xt.prototype,"readGlobalIdField",null),b([M({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Vk}}}}})],xt.prototype,"objectIdField",void 0),b([Ge("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],xt.prototype,"readObjectIdField",null),b([M({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],xt.prototype,"operationalLayerType",void 0),b([M(Bk.outFields)],xt.prototype,"outFields",void 0),b([M({readOnly:!0})],xt.prototype,"parsedUrl",null),b([M({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],xt.prototype,"path",void 0),b([M(nD)],xt.prototype,"popupEnabled",void 0),b([M({type:Xp,json:{name:"popupInfo",write:!0}})],xt.prototype,"popupTemplate",void 0),b([M({readOnly:!0})],xt.prototype,"defaultPopupTemplate",null),b([M({types:f8,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:nVe,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Yn,overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],xt.prototype,"renderer",null),b([Ge("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Ge("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],xt.prototype,"readRenderer",null),b([M()],xt.prototype,"resourceInfo",void 0),b([M((()=>{const e=ve(bUe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],xt.prototype,"screenSizePerspectiveEnabled",void 0),b([M({clonable:!1})],xt.prototype,"source",null),b([Ar("source")],xt.prototype,"castSource",null),b([Ge("portal-item","source",["featureSet"]),Ge("web-map","source",["featureSet"])],xt.prototype,"readSource",null),b([M({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],xt.prototype,"spatialReference",void 0),b([M({type:Number})],xt.prototype,"subtypeCode",void 0),b([M({type:[yD]})],xt.prototype,"templates",void 0),b([Ge("templates",["editFieldsInfo","creatorField","editorField","templates"])],xt.prototype,"readTemplates",null),b([M({type:cde})],xt.prototype,"timeInfo",void 0),b([M()],xt.prototype,"title",void 0),b([Ge("service","title",["name"]),Ge("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],xt.prototype,"readTitle",null),b([Ge("web-map","title",["layerDefinition.name","title"])],xt.prototype,"readTitleFromWebMap",null),b([M({type:String})],xt.prototype,"sublayerTitleMode",void 0),b([M({json:{read:!1}})],xt.prototype,"type",void 0),b([M({type:String})],xt.prototype,"typeIdField",void 0),b([Ge("service","typeIdField"),Ge("typeIdField",["layerDefinition.typeIdField"])],xt.prototype,"readTypeIdField",null),b([M({type:[dde]})],xt.prototype,"types",void 0),b([Ge("service","types",["types"]),Ge("types",["layerDefinition.types"])],xt.prototype,"readTypes",null),b([M({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],xt.prototype,"visible",void 0),b([Ge("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],xt.prototype,"readVisible",null),xt=b([se("esri.layers.FeatureLayer")],xt);const pde=xt,Sqe=Object.freeze(Object.defineProperty({__proto__:null,default:pde},Symbol.toStringTag,{value:"Module"}));let Xc=class extends FF(wl.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var r,i;if(!((r=this.view)!=null&&r.ready))throw new be("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((i=this.view)==null?void 0:i.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};b([M()],Xc.prototype,"_goingHomeController",void 0),b([M({readOnly:!0})],Xc.prototype,"state",null),b([M()],Xc.prototype,"view",null),b([M({type:al})],Xc.prototype,"viewpoint",null),b([M()],Xc.prototype,"go",null),b([M()],Xc.prototype,"cancelGo",null),Xc=b([se("esri.widgets.Home.HomeViewModel")],Xc);const fde=Xc;function mD(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,i=Array.isArray(e)?e:$qe(e);r.push(...i)}}function $qe(e){return e.split(",").map(t=>t.trim())}const Mqe={base:"esri-home"};let Ra=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new fde,this._go=()=>{const{viewModel:i}=this;i.state==="going-home"?i.cancelGo():i.go()}}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),loader:()=>Ce(()=>import("./calcite-loader-CXBc8qyN.js"),__vite__mapDeps([234,218,209,214,215]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var u;const{messagesCommon:t,messages:r,icon:i}=this,n=(u=this.viewModel)==null?void 0:u.state,o=n==="going-home";return Ie("div",{class:this.classes(Mqe.base,Bt.widget)},Ie("calcite-button",{class:Bt.widgetButton,disabled:n==="disabled",iconStart:o?void 0:i,kind:"neutral",label:r.widgetLabel,onclick:this._go,scale:o?"s":"m",title:n==="going-home"?t.cancel:r.title},o?Ie("calcite-loader",{inline:!0,label:""}):null))}};b([M()],Ra.prototype,"goToOverride",null),b([M()],Ra.prototype,"icon",null),b([M()],Ra.prototype,"label",null),b([M(),ho("esri/widgets/Home/t9n/Home")],Ra.prototype,"messages",void 0),b([M(),ho("esri/t9n/common")],Ra.prototype,"messagesCommon",void 0),b([M()],Ra.prototype,"uiStrings",void 0),b([M()],Ra.prototype,"view",null),b([M({type:fde}),mD("go")],Ra.prototype,"viewModel",void 0),b([M()],Ra.prototype,"viewpoint",null),Ra=b([se("esri.widgets.Home")],Ra);const Tqe=Ra;var Qu;(function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"})(Qu||(Qu={}));function kqe(e){return yde(e)||cN(e)||hN(e)}function yde(e){return Ip(e)||vI(e)}const Cqe=12;let Sh=class _o{constructor(t){const r=_o.checkUnsupported(t);if(r!=null)throw r;const i=t;this.spatialReference=i.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=ox(this.spatialReference),this.origin=[i.origin.x,i.origin.y],this.pixelSize=i.size[0],this.dpi=i.dpi;const n=i.lods.reduce((v,_)=>(_.level<v.minLod.level&&(v.minLod=_),v.max=Math.max(v.max,_.level),v),{minLod:i.lods[0],max:-1/0}),o=n.minLod,u=2**o.level;let f=o.resolution*u,m=o.scale*u;this.levels=new Array(n.max+1);for(let v=0;v<this.levels.length;v++)this.levels[v]={resolution:f,scale:m,tileSize:[f*i.size[0],f*i.size[1]]},f/=2,m/=2}clone(){return new _o(this.toTileInfo())}toTileInfo(){return new iw({dpi:this.dpi,origin:new jt({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,r)=>new Ha({level:r,scale:t.scale,resolution:t.resolution}))})}getExtent(t,r,i,n){const o=this.levels[t],u=o.tileSize[0],f=o.tileSize[1];n[0]=this.origin[0]+i*u,n[2]=this.origin[0]+(i+1)*u,n[3]=this.origin[1]-r*f,n[1]=this.origin[1]-(r+1)*f}convertExtentToRadians(t,r){this._isWebMercator?(r[0]=WU(t[0]),r[1]=JU(t[1]),r[2]=WU(t[2]),r[3]=JU(t[3])):this._isGCS&&(r[0]=ip(t[0]),r[1]=ip(t[1]),r[2]=ip(t[2]),r[3]=ip(t[3]))}getExtentGeometry(t,r,i,n=new mr){return this.getExtent(t,r,i,gu),n.spatialReference=this.spatialReference,n.xmin=gu[0],n.ymin=gu[1],n.xmax=gu[2],n.ymax=gu[3],n.zmin=void 0,n.zmax=void 0,n}ensureMaxLod(t){if(t==null)return!1;let r=!1;for(;this.levels.length<=t;){const{resolution:i,scale:n}=this.levels[this.levels.length-1],o=i/2*this.pixelSize;this.levels.push({resolution:i/2,scale:n/2,tileSize:[o,o]}),r=!0}return r}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const r=this.levels[0].scale;return t>=r?0:Math.log(r/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,r=1/0){if(_o.checkUnsupported(t))return!1;const i=new _o(t);if(!i.spatialReference.equals(this.spatialReference)||i.pixelSize!==this.pixelSize)return!1;const n=Math.min(this.levels.length-1,i.levels.length-1,r),o=this.levels[n].resolution;let u=.5*o;return!wp(i.origin[0],this.origin[0],u)||!wp(i.origin[1],this.origin[1],u)?!1:(u=.5*o/2**n/this.pixelSize*Cqe,wp(o,i.levels[n].resolution,u))}rootTilesInExtent(t,r=null,i=1/0){const n=new Array,o=this.levels[0].tileSize;if(t==null||o[0]===0||o[1]===0)return n;_o.computeRowColExtent(t,o,this.origin,gu);let u=gu[1],f=gu[3],m=gu[0],v=gu[2];const _=v-m,$=f-u;if(_*$>i){const T=Math.floor(Math.sqrt(i));$>T&&(u=u+Math.floor(.5*$)-Math.floor(.5*T),f=u+T),_>T&&(m=m+Math.floor(.5*_)-Math.floor(.5*T),v=m+T)}for(let T=u;T<f;T++)for(let I=m;I<v;I++)n.push([0,T,I]);return r!=null&&(r[0]=this.origin[0]+m*o[0],r[1]=this.origin[1]-f*o[1],r[2]=this.origin[0]+v*o[0],r[3]=this.origin[1]-u*o[1]),n}static computeRowColExtent(t,r,i,n){const o=.001*(t[2]-t[0]+(t[3]-t[1]));n[0]=Math.max(0,Math.floor((t[0]+o-i[0])/r[0])),n[2]=Math.max(0,Math.ceil((t[2]-o-i[0])/r[0])),n[1]=Math.max(0,Math.floor((i[1]-t[3]+o)/r[1])),n[3]=Math.max(0,Math.ceil((i[1]-t[1]-o)/r[1]))}static isPowerOfTwo(t){const r=t.lods,i=r[0].resolution*2**r[0].level;return!r.some(n=>!d9e(n.resolution,i/2**n.level))}static hasGapInLevels(t){const r=t.lods.map(i=>i.level);r.sort((i,n)=>i-n);for(let i=1;i<r.length;i++)if(r[i]!==r[0]+i)return!0;return!1}static tileSizeSupported(t){const r=t.size[1];return r===t.size[0]&&!(r&r-1)&&r>=128&&r<=512}static hasOriginPerLODs(t){const r=t.origin;return t.lods.some(i=>i.origin!=null&&(i.origin[0]!==r.x||i.origin[1]!==r.y))}static getMissingTileInfoError(){return new be("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?gD():t.lods.length<1?new be("tilingscheme:generic","Tiling scheme must have at least one level"):_o.isPowerOfTwo(t)?_o.hasGapInLevels(t)?new be("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):_o.tileSizeSupported(t)?_o.hasOriginPerLODs(t)?new be("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new be("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new be("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,r){const i=t[2]-t[0],n=t[3]-t[1],o=du(r),u=1.2*Math.max(i,n),f=256,m=u/f,v=m*o*(96/.0254),_=new _o(new iw({size:[f,f],origin:new jt({x:t[0]-.5*(u-i),y:t[3]+.5*(u-n)}),lods:[new Ha({level:0,resolution:m,scale:v})],spatialReference:r}));return _.ensureMaxLod(20),_}static makeWebMercatorAuxiliarySphere(t){const r=new _o(_o.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}static makeGCSWithTileSize(t,r=256,i=16){const n=256/r,o=new _o(new iw({size:[r,r],origin:new jt({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new Ha({level:0,resolution:.703125*n,scale:295497598570834e-6*n})]}));return o.ensureMaxLod(i),o}get test(){}};function gD(){return new be("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}Sh.WebMercatorAuxiliarySphereTileInfo=new iw({size:[256,256],origin:new jt({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:It.WebMercator}),spatialReference:It.WebMercator,lods:[new Ha({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),Sh.WebMercatorAuxiliarySphere=Sh.makeWebMercatorAuxiliarySphere(19);const gu=Wn(),IJ=64;p9e(nI/10);const Eqe=Wn();Sh.WebMercatorAuxiliarySphere.getExtent(0,0,0,Eqe);Wn([-180,-90,180,90]);const uy=bl(),Iqe=bl(),Ic=bl(),Pc=bl();function Pqe(e,t,r=0){const i=e.extent;if(i==null)return!1;if(r===0)return F6e(i,t);const n=Math.min(i[2]-i[0],i[3]-i[1]);return z6e(i,t,r*n)}function _5(e,t,r,i){eie(uy,r),uy[i]=t[i];const n=Y2(uy,uy,t),o=Y2(Iqe,e,t),u=M4(o,n),f=M4(n,n);let m;m=u<=0?t:f<=u?r:rie(uy,t,XL(n,n,u/f));const v=Y2(uy,e,m);return Math.PI/2-Math.atan(v[2]/Math.sqrt(v[0]*v[0]+v[1]*v[1]))}function Oqe(e,t,r){const i=e.extent;if(i==null)return 0;Ic[0]=i[0],Ic[1]=i[1],Ic[2]=r,Pc[0]=i[2],Pc[1]=i[3],Pc[2]=r;let n=1/0,o=1/0;return t[0]<Ic[0]?n=_5(t,Ic,Pc,0):t[0]>Pc[0]&&(n=_5(t,Pc,Ic,0)),t[1]<Ic[1]?o=_5(t,Ic,Pc,1):t[1]>Pc[1]&&(o=_5(t,Pc,Ic,1)),Math.min(n,o)}function Aqe(e,t,r,i){if(e==null)return gD();const n=e.spatialReference;if(n.isGeographic&&!yde(n))return new be("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const o=Sh.checkUnsupported(e);return o??(r==null?new be("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):jqe(e,r)||(t==null||n.equals(t)||t.isWGS84&&n.isWebMercator?null:new be("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function jqe(e,t){const r=e.lods,i=r[0].resolution*2**r[0].level,n=[i*e.size[0],i*e.size[1]],o=[e.origin.x,e.origin.y],u=N6e(t),f=Wn();Sh.computeRowColExtent(u,n,o,f);const m=(f[2]-f[0])*(f[3]-f[1]);if(m>IJ){const v=r[0].scale*2**r[0].level;let _=Math.max((u[3]-u[1])/e.size[1],(u[2]-u[0])/e.size[0])*v/i;const $=Math.floor(Math.log(_)/Math.log(10));return _=Math.ceil(_/10**$)*10**$,new be("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(v).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+_.toLocaleString()+".",{level0Scale:v,suggestedLevel0Scale:_,requiredNumRootTiles:m,allowedNumRootTiles:IJ})}return null}const Rqe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:Aqe,isInsideExtent:Pqe,tiltToExtentEdge:Oqe},Symbol.toStringTag,{value:"Module"}));function Lqe(){return!0}function Nqe(){return 0}function Fqe(e,t,r,i){if(e==null)return gD();const n=(e==null?void 0:e.lods.length)-1,o=e.spatialReference;if(o.isWebMercator){if(!Sh.makeWebMercatorAuxiliarySphere(n).compatibleWith(e,i))return new be("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!kqe(o))return new be("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Sh.makeGCSWithTileSize(e.spatialReference,e.size[0],n).compatibleWith(e,i))return e.spatialReference.isWGS84?new be("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new be("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new be("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const Dqe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:Fqe,isInsideExtent:Lqe,tiltToExtentEdge:Nqe},Symbol.toStringTag,{value:"Module"})),zqe={[Ah.Global]:Dqe,[Ah.Local]:Rqe};function aj(e,t,r,i,n){return zqe[i].checkIfTileInfoSupportedForViewSR(e,r,t,n)}function Bqe(e,t,r){const i=Wke(e);if(i!=null){if(!ut.isCollection(i))return{tileInfo:i.tileInfo,fullExtent:i.fullExtent};{const n=i.find(o=>aj(o.tileInfo,o.fullExtent,t,r)==null);if(n)return{tileInfo:n.tileInfo,fullExtent:n.fullExtent}}}return{tileInfo:null,fullExtent:null}}Qu.NORTH,Qu.EAST,Qu.SOUTH,Qu.WEST;Qu.NORTH_EAST,Qu.SOUTH_EAST,Qu.SOUTH_WEST,Qu.NORTH_WEST;function Vqe(e,t){return e!=null&&(t==null||(t===Ah.Local?!e.isGeographic||e.isWGS84||e.wkid===Ka.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===Ka.CGCS2000||e.wkid===Ka.GCSMARS2000||e.wkid===Ka.GCSMARS2000_SPHERE||e.wkid===Ka.GCSMOON2000))}async function Uqe(e,t={}){const{basemap:r,view:i}=e;await r.load(t),qqe(r),await Wqe(r,i,t),Zr(t)}async function Gqe(e,t={}){var f,m;const{basemap:r,view:i}=e;Zr(t);const n=(f=r.baseLayers.find(v=>v.type==="unknown"))==null?void 0:f.loadError;if(n!=null)throw n;if(!i||"spatialReferenceLocked"in i&&!i.spatialReferenceLocked||(await r.load(t),Zr(t),r.baseLayers.length===0))return;const o=r.baseLayers.at(0);if(!Hke(o))return;if(r.spatialReference){if(i.spatialReference.equals(r.spatialReference))return;PJ()}await o.load(t),Zr(t);const u=(("supportedSpatialReferences"in o?o.supportedSpatialReferences:null)||["tileInfo"in o?(m=o.tileInfo)==null?void 0:m.spatialReference:null]).filter(ps);u.length!==0&&u.every(v=>!i.spatialReference.equals(v))&&PJ()}function PJ(){throw new be("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function qqe(e){if(e.baseLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(r=>!Uke(r)).map(r=>Hqe(r));if(t.length)throw t[0]}function Hqe(e){return new be("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function Wqe(e,t,r){if(e.baseLayers.length===0)return;const i=e.baseLayers.at(0);if(Aoe(i)){try{await i.load(r)}catch(n){const o="basemap-compatibility:unknown-error",u="Unknown basemap compatibility error",{name:f=o,message:m=u,details:v}=n;throw new be(f,m,v)}Jqe(i,t)}}function Jqe(e,t){var f;const r=t.state.viewingMode;if(!r)return;let i,n;if((e==null?void 0:e.type)==="wmts"){const m=Bqe(e,t.spatialReference,r);if(m.tileInfo==null)throw new be("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");i=m.tileInfo,n=m.fullExtent}else i=e.tileInfo,n=e.fullExtent;if(i==null)return;if(!Vqe(i.spatialReference,r))throw new be(`basemapgalleryitem:spatial-reference-unsupported-${cH(r)}`,`Basemap spatial reference is unsupported in ${cH(r)} mode`);const o=(e==null?void 0:e.type)==="vector-tile"?i.getCompatibleForVTL(256):null;if(r===Ah.Global){let m=aj(i,n,null,r);if(m&&(e==null?void 0:e.type)==="vector-tile"&&n!=null&&o&&!aj(o,n,null,r)&&(m=null),m){const v=i.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new be(`basemapgalleryitem:tiling-scheme-unsupported-${v}-global`,"Basemap tiling scheme is unsupported in global mode",{error:m})}}else if(Sh.checkUnsupported(i))throw new be("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const u=(f=t.basemapTerrain)==null?void 0:f.tilingScheme;if(u&&!u.compatibleWith(i)&&((e==null?void 0:e.type)!=="vector-tile"||!o||!u.compatibleWith(o)))throw new be("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let Lu=class extends Dh(St){constructor(t){super(t),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const t=()=>this.refresh();this.addHandles([lt(()=>{var r;return(r=this.basemap)==null?void 0:r.loadStatus},t),lt(()=>this.compatibilityFunction,t),lt(()=>{var r;return this.view&&"basemapTerrain"in this.view&&((r=this.view.basemapTerrain)==null?void 0:r.tilingScheme)},t),lt(()=>{var r;return(r=this.view)==null?void 0:r.ready},t),lt(()=>{var r;return(r=this.view)==null?void 0:r.spatialReference},t)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return kEe(this.view,this.basemap)}set basemap(t){t&&t.load().catch(()=>{}),this._set("basemap",t)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var n;this._cancelRefresh(),this._set("state","loading");const t=(n=this.basemap)==null?void 0:n.loadStatus;if(t!=="loaded"&&t!=="failed")return;if(!this.compatibilityFunction)return void(t==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const r=new AbortController,{signal:i}=r;this.compatibilityFunction(this,{signal:i}).then(()=>_g(()=>!this._spatialReferenceTask.updating,i)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(o=>{Vs(o)||(this._set("state","error"),this._set("error",o))}),this._refreshController=r}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};b([M({readOnly:!0})],Lu.prototype,"_spatialReferenceTask",null),b([M()],Lu.prototype,"basemap",null),b([M()],Lu.prototype,"compatibilityFunction",void 0),b([M({readOnly:!0})],Lu.prototype,"error",void 0),b([M({readOnly:!0})],Lu.prototype,"spatialReference",null),b([M({readOnly:!0})],Lu.prototype,"state",void 0),b([M()],Lu.prototype,"view",void 0),Lu=b([se("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Lu);const mde=Lu,gde=ut.ofType(_p);let k2=class extends St{constructor(t){super(t),this.basemaps=new gde}destroy(){this.basemaps.forEach(t=>t.destroy())}get state(){return"ready"}refresh(){}};b([M({type:gde})],k2.prototype,"basemaps",void 0),b([M({readOnly:!0})],k2.prototype,"state",null),k2=b([se("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],k2);const vde=k2,bde=ut.ofType(_p);let Nu=class extends yl.LoadableMixin(yx(vde)){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new bde,this.filterFunction=null,this.portal=Rn.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(lt(()=>{var t,r,i;return[this.filterFunction,this.loadStatus,(t=this.portal)==null?void 0:t.basemapGalleryGroupQuery,(r=this.portal)==null?void 0:r.basemapGalleryGroupQuery3D,(i=this.portal)==null?void 0:i.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),ri))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(t=>t.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,r=new AbortController;this._lastPortalBasemapFetchController=r,this.notifyChange("state");try{const i=await t.fetchBasemaps(this._toQueryString(this.query),{signal:r.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(i)}catch(i){if(Vs(i))throw i;Ne.getLogger(this).warn(new be("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:i})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(t){return t&&typeof t!="string"?Object.keys(t).map(r=>`${r}:${t[r]}`).join(" AND "):t}async _updateBasemaps(t=[]){let r=await this._filterBasemaps(t);r=this.updateBasemapsCallback?await this.updateBasemapsCallback(r):r,this.basemaps.removeAll(),this.basemaps.addMany(r)}async _filterBasemaps(t){if(!this.filterFunction)return t;const r=t.map(this.filterFunction),i=await Promise.all(r);return t.filter((n,o)=>i[o])}};b([M({readOnly:!0,type:bde})],Nu.prototype,"basemaps",void 0),b([M()],Nu.prototype,"filterFunction",void 0),b([M({type:Rn})],Nu.prototype,"portal",void 0),b([M()],Nu.prototype,"query",void 0),b([M({readOnly:!0})],Nu.prototype,"state",null),b([M()],Nu.prototype,"updateBasemapsCallback",void 0),b([M()],Nu.prototype,"viewType",void 0),Nu=b([se("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],Nu);const C2=Nu,wde=ut.ofType(mde);function Kqe(e){return e&&e.declaredClass==="esri.portal.Portal"}function Yqe(e){return e&&!(e instanceof C2)&&(!!e.portal||!!e.query)}function Zqe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let La=class extends yl{constructor(t){super(t),this._loadingProjectionEngine=!1,this.items=new wde,this.source=new C2,this.view=null}initialize(){const t=()=>this._recreateItems();this.addHandles([lt(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),co(()=>{var r;return(r=this.source)==null?void 0:r.basemaps},"change",t,{onListenerAdd:t}),fa(()=>this.view,()=>{var r;this.source instanceof C2&&(this.source.viewType=(r=this.view)==null?void 0:r.type)},{once:!0})])}destroy(){var r;const t=this.source.basemaps.find(i=>i===this.activeBasemap);t&&this.source.basemaps.remove(t),(r=this.source)==null||r.destroy()}get activeBasemap(){var t,r;return((r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap)??null}set activeBasemap(t){var o,u;const r=this.view;if(!(r!=null&&r.map))return;const i=typeof t=="string"?_p.fromId(t):t;if(!i||!r.ready)return r.map.basemap=i,void this._clearOverride("activeBasemap");const n=i.spatialReference||((u=(o=this.items)==null?void 0:o.find(f=>this.basemapEquals(i,f.basemap)))==null?void 0:u.spatialReference);if(n&&"spatialReferenceLocked"in r&&!r.spatialReferenceLocked){const f=r.spatialReference;if(n!=null&&!on(f,n)&&!uu(r.spatialReference,n)&&!Fh())return this._override("activeBasemap",i),this._loadingProjectionEngine=!0,void Ph().then(()=>{this._get("activeBasemap")===t&&(r.map.basemap=t,r.spatialReference=n,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});r.map.basemap=i,this._clearOverride("activeBasemap"),n==null||on(r.spatialReference,n)||(r.spatialReference=n)}else r.map.basemap=i,this._clearOverride("activeBasemap")}get activeBasemapIndex(){const{state:t,activeBasemap:r}=this;return t!=="ready"?-1:this._findBasemapIndex(r)}get compatibilityFunction(){var t;return((t=this.view)==null?void 0:t.type)==="3d"?Uqe:Gqe}set compatibilityFunction(t){this._overrideIfSome("compatibilityFunction",t)}castSource(t){return Array.isArray(t)||ut.isCollection(t)?new vde({basemaps:Array.isArray(t)?new ut(t):t}):Kqe(t)?new C2({portal:t}):Yqe(t)?new C2(t):Zqe(t)?t:null}get state(){var t;return(t=this.view)!=null&&t.ready&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(t,r){return TEe(t,r)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(t){return this.addResolvingPromise(yl.isLoadable(this.source)?this.source.load(t):null),Promise.resolve(this)}_findBasemapIndex(t){const{items:r}=this,i=r.findIndex(n=>n.basemap===t);return i===-1?r.findIndex(n=>this.basemapEquals(n.basemap,t)):i}_recreateItems(){var u;const t=((u=this.source)==null?void 0:u.basemaps)??[],{view:r,compatibilityFunction:i}=this,n=new Map(this.items.map(f=>[f.basemap,f])),o=t.map(f=>{const m=n.get(f);return m?(n.delete(f),m):new mde({basemap:f,compatibilityFunction:i,view:r})});this.items.removeAll(),this.items.addMany(o),n.forEach(f=>f.destroy())}_updateItems(){for(const t of this.items)t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}};b([M()],La.prototype,"_loadingProjectionEngine",void 0),b([M()],La.prototype,"activeBasemap",null),b([M({readOnly:!0})],La.prototype,"activeBasemapIndex",null),b([M()],La.prototype,"compatibilityFunction",null),b([M({readOnly:!0,type:wde})],La.prototype,"items",void 0),b([M()],La.prototype,"source",void 0),b([Ar("source")],La.prototype,"castSource",null),b([M({readOnly:!0})],La.prototype,"state",null),b([M()],La.prototype,"view",void 0),La=b([se("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],La);const Xqe=La,Bo="esri-basemap-gallery",Vo={base:Bo,sourceLoading:`${Bo}--source-loading`,layoutGrid:`${Bo}--grid`,narrowItems:`${Bo}--narrow-items`,loader:`${Bo}__loader`,item:`${Bo}__item`,itemContainer:`${Bo}__item-container`,itemContent:`${Bo}__item-content`,itemTitle:`${Bo}__item-title`,itemTagsContainer:`${Bo}__item-tags-container`,itemThumbnail:`${Bo}__item-thumbnail`,selectedItem:`${Bo}__item--selected`,itemError:`${Bo}__item--error`};function Qqe({level:e,class:t,...r},i){const n=xde(e);return Ie(`h${n}`,{...r,"aria-level":String(n),class:voe(Bt.heading,t),role:"heading"},i)}function xde(e){return fl(Math.ceil(e),1,6)}function y$t(e,t=1){return xde(e+t)}const Uk={small:200,default:280,wide:420};let Cs=class extends xl{constructor(t,r){super(t,r),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new Xqe,this._focusBasemapItemEnabled=!1,this._container=null,this._width=0,this._onContainerCreated=i=>{this._container=i}}initialize(){this.addHandles([DTe(()=>this._container,({contentRect:t})=>{this._width=t.width}),fa(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0})])}loadDependencies(){return rf({scrim:()=>Ce(()=>import("./calcite-scrim-CkV06y79.js"),__vite__mapDeps([235,236,214,209,215,216,218]),import.meta.url),chip:()=>Ce(()=>import("./calcite-chip-BNvLP-0a.js"),__vite__mapDeps([237,209,213,216,214,215,210,212,217]),import.meta.url)})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(t){this.viewModel.activeBasemap=t}get icon(){return"basemap"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get source(){return this.viewModel.source}set source(t){this.viewModel.source=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t=this.source.state==="loading",r=this.disabled||this.viewModel.state==="disabled",i=this.viewModel.items,n={[Vo.sourceLoading]:t,[Bt.disabled]:r},o=this._width;o<=Uk.small||o>=Uk.wide?n[Vo.layoutGrid]=!0:o<Uk.default&&(n[Vo.narrowItems]=!0);const u=t?Ie("div",{class:Vo.loader,key:"loader"}):null,f=t?null:i.length>0?Ie("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:Vo.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},i.map((m,v)=>this._renderBasemapGalleryItem(m,v)).toArray()):Ie("div",{class:Bt.empty,key:"empty-message"},Ie(Qqe,{level:this.headingLevel},this.messages.noBasemaps));return Ie("div",{afterCreate:this._onContainerCreated,class:this.classes(Vo.base,Bt.widget,Bt.panel,n),key:"container"},this._width===0?null:[u,f])}_getRoundRobinIndex(t,r){return(t+r)%r}_handleKeyDown(t){const{key:r}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(r))return;t.preventDefault();const{items:i,activeBasemapIndex:n}=this.viewModel,o=r==="ArrowUp"||r==="ArrowLeft"?this._getRoundRobinIndex(Math.max(n-1,-1),i.length):this._getRoundRobinIndex(n+1,i.length),u=i.at(o);(u==null?void 0:u.state)==="ready"&&(this.viewModel.activeBasemap=u.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(t){this._focusBasemapItemEnabled&&t.tabIndex===0&&(t.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(t){const r=t.currentTarget["data-item"];r.state==="ready"&&(this.viewModel.activeBasemap=r.basemap)}_renderBasemapGalleryItem(t,r){var A,N;const i=PEe(t.basemap)||Or("esri/themes/base/images/basemap-toggle-64.svg"),n=t.basemap.title,o=(A=t.basemap.portalItem)==null?void 0:A.snippet,u=((N=t.error)==null?void 0:N.message)||o||n,{viewModel:{state:f,activeBasemapIndex:m}}=this,v=this.disabled||f==="disabled",_=m===r,$=_||m===-1&&r===0?0:-1,T=f==="loading",I={[Vo.selectedItem]:_,[Vo.itemError]:t.state==="error"},O=`basemapgallery-item-${t.uid}`;return Ie("li",{afterUpdate:this._focusBasemapItem,"aria-checked":_.toString(),"aria-disabled":v.toString(),"aria-labelledby":O,bind:this,class:this.classes(Vo.item,I),"data-item":t,key:t.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:$,title:u},Ie("img",{alt:"",class:Vo.itemThumbnail,src:i}),Ie("div",{class:Vo.itemContent,key:"content"},Ie("div",{class:Vo.itemTitle,key:"title"},Ie("span",{id:O},n)),SEe(t.basemap)?this._renderTags(t.basemap):null),t.state==="loading"||_&&T?Ie("calcite-scrim",null,Ie("span",{"aria-hidden":"true",class:Bt.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(t){return Ie("div",{class:Vo.itemTagsContainer,key:"tag"},this._render3DTag(),$Ee(t)?this._renderBetaTag():null)}_render3DTag(){const{messages:t}=this;return Ie("calcite-chip",{key:"tag-3d",scale:"s",value:t.tag3D},this.messages.tag3D)}_renderBetaTag(){const{messages:t}=this;return Ie("calcite-chip",{appearance:"outline-fill",key:"tag-beta",scale:"s",value:t.tagBeta},this.messages.tagBeta)}};b([M()],Cs.prototype,"activeBasemap",null),b([M()],Cs.prototype,"disabled",void 0),b([M()],Cs.prototype,"headingLevel",void 0),b([M()],Cs.prototype,"icon",null),b([M()],Cs.prototype,"label",null),b([M(),ho("esri/widgets/BasemapGallery/t9n/BasemapGallery")],Cs.prototype,"messages",void 0),b([M()],Cs.prototype,"source",null),b([M()],Cs.prototype,"view",null),b([M()],Cs.prototype,"viewModel",void 0),b([M()],Cs.prototype,"_focusBasemapItemEnabled",void 0),b([M()],Cs.prototype,"_container",void 0),b([M()],Cs.prototype,"_width",void 0),b([b6()],Cs.prototype,"_handleClick",null),Cs=b([se("esri.widgets.BasemapGallery")],Cs);const eHe=Cs;let Qc=class extends St{constructor(t){super(t),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this)}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){var t;return((t=this.view)==null?void 0:t.container)??null}set element(t){this._override("element",t)}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const t=this._getVendorInfo(this.element);return this._addFullscreenListeners(t),this._vendorInfo=t,!!t}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),this.state==="active"?this._addStyle():this._removeStyle()}_errorHandler(t){Ne.getLogger(this).error("fullscreen request failed",t)}_getVendorInfo(t){if(t)return t.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:t.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:t.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:void 0}_enterFullscreen(){if(this.state==="feature-unsupported")return void Ne.getLogger(this).warn("The fullscreen API is not supported in this browser.");const{element:t}=this;t&&(this._vendorInfo&&t[this._vendorInfo.enterName].call(t),this.notifyChange("state"))}_addStyle(){const{element:t}=this;t&&t.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:t}=this;t&&t.removeAttribute("style")}_exitFullscreen(){if(this.state==="feature-unsupported")return;const{element:t}=this;t&&(this._vendorInfo&&document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(t){t&&(document.addEventListener(t.changeEventName,this._stateHandler),document.addEventListener(t.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:t}=this;t&&(document.removeEventListener(t.changeEventName,this._stateHandler),document.removeEventListener(t.errorEventName,this._errorHandler))}};b([M()],Qc.prototype,"element",null),b([M({readOnly:!0})],Qc.prototype,"state",null),b([M()],Qc.prototype,"view",void 0),b([M()],Qc.prototype,"enter",null),b([M()],Qc.prototype,"exit",null),b([M()],Qc.prototype,"toggle",null),Qc=b([se("esri.widgets.Fullscreen.FullscreenViewModel")],Qc);const _de=Qc,tHe={base:"esri-fullscreen"};let Fu=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new _de,this._toggle=()=>{this.viewModel.toggle()}}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url)})}get element(){return this.viewModel.element}set element(t){this.viewModel.element=t}get fullscreenTitle(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return t==="active"?this.messages.exit:t==="ready"?this.messages.enter:""}get icon(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return t==="ready"||t==="disabled"||t==="feature-unsupported"?"zoom-out-fixed":"zoom-in-fixed"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var o;const{fullscreenTitle:t,icon:r}=this,i=(o=this.viewModel)==null?void 0:o.state,n=i==="feature-unsupported";return Ie("div",{class:this.classes(tHe.base,Bt.widget)},!n&&Ie("calcite-button",{class:Bt.widgetButton,disabled:i==="disabled",iconStart:r,kind:"neutral",label:t,onclick:this._toggle,title:t}))}};b([M()],Fu.prototype,"element",null),b([M({readOnly:!0})],Fu.prototype,"fullscreenTitle",null),b([M()],Fu.prototype,"icon",null),b([M()],Fu.prototype,"label",null),b([M(),ho("esri/widgets/Fullscreen/t9n/Fullscreen")],Fu.prototype,"messages",void 0),b([M()],Fu.prototype,"view",null),b([M({type:_de})],Fu.prototype,"viewModel",void 0),Fu=b([se("esri.widgets.Fullscreen")],Fu);const rHe=Fu;let eh=class extends g8(w8(gx)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new U0,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,r){return super.on(t,r)}graphicChanged(t){this.emit("graphic-update",t)}};b([M({type:Bhe})],eh.prototype,"elevationInfo",void 0),b([M(tP(U0,"graphics"))],eh.prototype,"graphics",void 0),b([M({type:["show","hide"]})],eh.prototype,"listMode",void 0),b([M()],eh.prototype,"screenSizePerspectiveEnabled",void 0),b([M({readOnly:!0})],eh.prototype,"type",void 0),b([M({constructOnly:!0})],eh.prototype,"internal",void 0),eh=b([se("esri.layers.GraphicsLayer")],eh);const iHe=eh;let jd=class extends St{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(co(()=>{var t;return(t=this.view)==null?void 0:t.ui},"expand",t=>{const{target:r}=t;r&&r!==this&&r.expanded&&r.group&&r.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){var n;const r=!!t;this._set("expanded",r);const i=(n=this.view)==null?void 0:n.ui;i&&i.emit("expand",{target:this}),this._viewpointHandleChange(r)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&fa(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?fa(()=>{var r;return(r=this.view)==null?void 0:r.stationary},()=>{var r;return(r=this._viewpointHandle)==null?void 0:r.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;const{autoCollapse:r,view:i}=this;if(!i||!r)return;const n=c$e(()=>i.type==="3d"?i.camera:i.viewpoint,()=>this._collapse());this.addHandles(n,t),this._viewpointHandle=n}_collapse(){this.expanded=!1}};b([M({value:!1})],jd.prototype,"autoCollapse",null),b([M({value:!1})],jd.prototype,"expanded",null),b([M()],jd.prototype,"group",void 0),b([M({readOnly:!0})],jd.prototype,"state",null),b([M({value:null})],jd.prototype,"view",null),jd=b([se("esri.widgets.Expand.ExpandViewModel")],jd);const Sde=jd;function vw(e){return e&&typeof e.render=="function"}function nHe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const Sa="esri-expand",Uo={base:Sa,toggle:`${Sa}__toggle`,popoverContent:`${Sa}__popover-content`,panel:`${Sa}__panel`,panelContent:`${Sa}__panel-content`,sheet:`${Sa}__sheet`,panelIconNumber:`${Sa}__panel-icon-number`,contentContainer:`${Sa}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${Sa}__icon--expanded`,iconNumber:`${Sa}__icon-number`,content:`${Sa}__content`,contentExpanded:`${Sa}__content--expanded`},OJ="chevrons-left",AJ="chevrons-right";let Li=class extends xl{constructor(t,r){super(t,r),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new Sde,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=i=>{i.target===this._popoverEl&&(this.viewModel.expanded=i.target.open)},this._handleSheetClose=i=>{this.viewModel.expanded=i.target.open},this._handlePanelClose=i=>{this.viewModel.expanded=!i.target.closed},this._handleKeyDown=i=>{this.viewModel.expanded&&i.key==="Escape"&&!this._willCloseOnEsc(i)&&i.preventDefault()},this._storeToggleButtonEl=i=>{this._toggleButtonEl=i},this._storePopoverEl=i=>{this._popoverEl=i}}loadDependencies(){return rf({button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-CptXRCQG.js"),__vite__mapDeps([219,217,209,215]),import.meta.url),panel:()=>Ce(()=>import("./calcite-panel-zMt-Ein3.js"),__vite__mapDeps([238,239,209,210,213,215,240,214,241,212,216,217,218,242,243,244,245,246,236]),import.meta.url),popover:()=>Ce(()=>import("./calcite-popover-DU9G0I3W.js"),__vite__mapDeps([247,242,243,209,244,245,246,214,215,216,213,212,241,210,217,218]),import.meta.url),sheet:()=>Ce(()=>import("./calcite-sheet-CUOkdEQ3.js"),__vite__mapDeps([248,209,245,213,215,246,218,214,236,216]),import.meta.url)})}get expandTitle(){const{expanded:t,messagesCommon:r,collapseTooltip:i,expandTooltip:n}=this;return(t?i||(r==null?void 0:r.collapse):n||(r==null?void 0:r.expand))??""}get _displaySheet(){var t;switch(this.mode){case"drawer":return!0;case"auto":return((t=this.viewModel.view)==null?void 0:t.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return AJ}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return vw(this.content)?this.content.icon:OJ}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){var t;return(vw(this.content)?this.content.label:null)??((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:t,_toggleButtonEl:r,viewModel:{expanded:i},label:n,placement:o}=this;return Ie("div",{class:this.classes(Uo.base,Bt.widget)},this._renderToggle(),t?Ie("calcite-sheet",{class:Uo.sheet,heightScale:"l",label:n,onkeydown:this._handleKeyDown,open:i,position:"block-end",onCalciteSheetClose:this._handleSheetClose},Ie("calcite-panel",{class:Uo.panel,closable:!0,closed:!i,heading:n,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},Ie("div",{class:Uo.panelContent},this._renderContent()))):r?Ie("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,label:n,onkeydown:this._handleKeyDown,open:i,overlayPositioning:"fixed",placement:o??this._getPlacement(),referenceElement:r,onCalcitePopoverClose:this._handlePopoverClose},Ie("div",{class:Uo.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:t,view:r}=this,i=t&&r?r.ui.getPosition(t):null;if(!i||i==="manual")return"auto";const[n,o]=i.split("-");return`${o==="right"?"left":"right"}-${n==="bottom"?"end":"start"}`}_willCloseOnEsc(t){const{closeOnEsc:r}=this;return typeof r=="function"?r(t):r}_renderBadgeNumber(){const{expanded:t,iconNumber:r}=this;return r&&!t?Ie("span",{class:Uo.iconNumber,key:"expand__icon-number"},r):null}_renderToggleButton(){const{expanded:t,expandTitle:r,expandIcon:i,collapseIcon:n}=this,o=t?n:i,u=o===OJ||o===AJ;return Ie("calcite-button",{afterCreate:this._storeToggleButtonEl,afterUpdate:this._storeToggleButtonEl,class:Bt.widgetButton,kind:"neutral",label:r,onclick:this.toggle,scale:"s",title:r},o?Ie("calcite-icon",{class:this.classes(Uo.icon,u&&Uo.iconFlip),icon:o,scale:"s"}):null)}_renderToggle(){return Ie("div",{class:Uo.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:t}=this;return typeof t=="string"?Ie("div",{class:Uo.contentContainer,innerHTML:t,key:"content__string"}):vw(t)?Ie("div",{class:Uo.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?Ie("div",{afterCreate:this._attachToNode,bind:t,class:Uo.contentContainer,key:"content__html-element"}):nHe(t)?Ie("div",{afterCreate:this._attachToNode,bind:t.domNode,class:Uo.contentContainer,key:"content__node"}):null}_attachToNode(t){const r=this;t.appendChild(r)}};b([M({readOnly:!0})],Li.prototype,"expandTitle",null),b([M()],Li.prototype,"_toggleButtonEl",void 0),b([M()],Li.prototype,"_displaySheet",null),b([M()],Li.prototype,"autoCollapse",null),b([M()],Li.prototype,"closeOnEsc",void 0),b([M()],Li.prototype,"collapseIcon",null),b([M()],Li.prototype,"collapseTooltip",void 0),b([M()],Li.prototype,"content",void 0),b([M()],Li.prototype,"expanded",null),b([M()],Li.prototype,"expandIcon",null),b([M()],Li.prototype,"expandTooltip",void 0),b([M()],Li.prototype,"group",null),b([M()],Li.prototype,"icon",null),b([M()],Li.prototype,"iconNumber",void 0),b([M()],Li.prototype,"label",null),b([M(),ho("esri/widgets/Expand/t9n/Expand")],Li.prototype,"messages",void 0),b([M(),ho("esri/t9n/common")],Li.prototype,"messagesCommon",void 0),b([M()],Li.prototype,"mode",void 0),b([M()],Li.prototype,"placement",void 0),b([M()],Li.prototype,"view",null),b([M({type:Sde})],Li.prototype,"viewModel",void 0),Li=b([se("esri.widgets.Expand")],Li);const jJ=Li,di="esri-search",Xr={base:di,hasMultipleSources:`${di}--multiple-sources`,isLoading:`${di}--loading`,isSearching:`${di}--searching`,showSuggestions:`${di}--show-suggestions`,showSources:`${di}--sources`,showWarning:`${di}--warning`,container:`${di}__container`,input:`${di}__input`,inputContainer:`${di}__input-container`,form:`${di}__form`,submitButton:`${di}__submit-button`,sourcesButton:`${di}__sources-button`,sourcesButtonDown:`${di}__sources-button--down`,sourcesButtonUp:`${di}__sources-button--up`,clearButton:`${di}__clear-button`,sourceName:`${di}__source-name`,suggestionsMenu:`${di}__suggestions-menu`,suggestionList:`${di}__suggestions-list`,suggestionListCurrentLocation:`${di}__suggestions-list--current-location`,sourcesMenu:`${di}__sources-menu`,source:`${di}__source`,warningMenu:`${di}__warning-menu`,warningMenuBody:`${di}__warning-body`,warningMenuHeader:`${di}__warning-header`,warningMenuText:`${di}__warning-text`,noValueText:`${di}__no-value-text`},ff="esri-search-result-renderer",yf={base:ff,showMoreResults:`${ff}__more-results--show-more-results`,moreResults:`${ff}__more-results`,moreResultsList:`${ff}__more-results-list`,moreResultsHeader:`${ff}__more-results-header`,moreResultsItem:`${ff}__more-results-item`,moreResultsListHeader:`${ff}__more-results-list-header`},$de=96;function RJ(e,t){const r=e.extent,i=e.width,n=du(r==null?void 0:r.spatialReference);return r&&i?r.width/i*n*Bie*$de:0}function sHe(e,t){return e/(du(t)*Bie*$de)}function oHe(e,t){const r=e.extent,i=e.width-(e.padding?e.padding.left+e.padding.right:0),n=sHe(t,r.spatialReference);return r.clone().expand(n*i/r.width)}function _$t(e,t,r){return aHe(e,t)&&lHe(e,r)}function aHe(e,t){return t===0||wp(e,t)||e<t}function lHe(e,t){return t===0||wp(e,t)||e>t}function LJ(e){var t;switch(e==null?void 0:e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}async function uHe(e,t){var n,o;if(e.hasZ||t.type==="2d")return e;const r=(n=t.map)==null?void 0:n.ground;if(!(r!=null&&r.layers.length))return e;const{geometry:i}=await r.queryElevation(e,{cache:(o=t.basemapTerrain)==null?void 0:o.elevationQueryCache});return i}function lj(e,t,r){return Mde(e.center,t,r)}function vD(e,t,r){switch(e==null?void 0:e.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return Mde(e,t,r);default:return null}}function Mde(e,t,r){const i=e.hasZ?e.z:void 0;if(t!=null&&t.map)return(r!=null?oHe(t,r):t.extent).clone().centerAt(e).set({zmax:i,zmin:i});const{x:n,y:o,spatialReference:u}=e;return new mr({xmin:n-.25,ymin:o-.25,xmax:n+.25,ymax:o+.25,spatialReference:u,zmin:i,zmax:i})}function cHe(e){return e&&typeof e.highlight=="function"}function hHe(e,t,r){return e==null||e>=r&&(t===0||e<=t)}function S$t(e,t){if(t&&e){const{minScale:r,maxScale:i}=e;if(dHe(r,i))return hHe(t,r,i)}return!0}function dHe(e,t){return e!=null&&e>0||t!=null&&t>0}function $$t(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}let cn=class extends Dh(Fe){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};b([M()],cn.prototype,"autoNavigate",void 0),b([M()],cn.prototype,"filter",void 0),b([M()],cn.prototype,"getResults",void 0),b([M()],cn.prototype,"getSuggestions",void 0),b([M()],cn.prototype,"maxResults",void 0),b([M()],cn.prototype,"maxSuggestions",void 0),b([M()],cn.prototype,"minSuggestCharacters",void 0),b([M()],cn.prototype,"outFields",void 0),b([M()],cn.prototype,"placeholder",void 0),b([M()],cn.prototype,"popupEnabled",void 0),b([M()],cn.prototype,"popupTemplate",void 0),b([M()],cn.prototype,"prefix",void 0),b([M()],cn.prototype,"resultGraphicEnabled",void 0),b([M()],cn.prototype,"resultSymbol",void 0),b([M()],cn.prototype,"suggestionsEnabled",void 0),b([M()],cn.prototype,"suffix",void 0),b([M()],cn.prototype,"withinViewEnabled",void 0),b([M()],cn.prototype,"zoomScale",void 0),cn=b([se("esri.widgets.Search.SearchSource")],cn);const bD=cn,pHe=/https?:\/\/services.*\.arcgis\.com/i,fHe=/(?:\{([^}]+)\})/g,Qm=()=>Ne.getLogger("esri.widgets.Search.support.layerSearchUtils");function yHe(e,t){const{exactMatch:r=!1,location:i,maxResults:n,spatialReference:o,source:u,sourceIndex:f,suggestResult:m,view:v}=e,{layer:_,filter:$,zoomScale:T}=u,I=v==null?void 0:v.scale,O=Tde(u,v),A=t==null?void 0:t.signal;return Cde(_).then(()=>{const N=_.popupTemplate;return N?N.getRequiredFields(_.fieldsIndex):null}).then(N=>{var ie,le,ue,ne;const{objectIdField:F,returnZ:z}=_,B=jde(u);if(!wD(_,B))throw Qm().error("invalid-field: displayField is invalid."),new be("getResults():invalid-field","displayField is invalid.");const G=N!=null&&N.length?N:[B],H=u.outFields||G,J=kde(H);if(H.includes(F)||J||H.push(F),(ie=_.floorInfo)!=null&&ie.floorField&&H.push(_.floorInfo.floorField),!(J||$6(_,H)))throw Qm().error("invalid-field: outField is invalid."),new be("getResults():invalid-field","outField is invalid.");const Z=_.createQuery(),{orderByFields:re}=u;if(re&&(Z.orderByFields=re),o){Z.outSpatialReference=o;const pe=1/du(o);pe&&(Z.maxAllowableOffset=pe)}const q=_.geometryType==="mesh"||_.geometryType==="multipatch",X=((ue=(le=_.capabilities)==null?void 0:le.data)==null?void 0:ue.supportsZ)&&!q;if(Z.returnZ=X&&z!==!1,Z.returnGeometry=!0,Z.multipatchOption=q?"xyFootprint":null,H&&(Z.outFields=H),i)Z.geometry=i;else if(m.key)Z.objectIds=[m.key];else{const pe=u.searchFields||[B];if(!$6(_,pe))throw Qm().error("invalid-field: search field is invalid."),new be("getResults():invalid-field","search field is invalid.");if(Ade(_)&&(Z.num=n),O&&(Z.geometry=O),!((ne=m.text)==null?void 0:ne.trim()))return[];const ge=m.text,{prefix:he="",suffix:ce=""}=u,Ee=Rde(`${he}${ge}${ce}`);Ode(_)&&Ide(_,pe)&&!r&&ge&&(Z.fullText=Pde({text:ge,searchFields:pe}));const ze=Lde({searchTerm:Ee,layer:_,searchFields:pe,filter:$,exactMatch:r,query:Z,type:"search"});if(Z.where=ze,!Ede(Z))return[]}return _.queryFeatures(Z,{signal:A}).then(pe=>CHe(pe,v,u,f,B,I,T))})}function mHe(e,t){const{source:r,spatialReference:i,view:n,suggestTerm:o,maxSuggestions:u,sourceIndex:f,exactMatch:m}=e,{layer:v,filter:_}=r,$=t==null?void 0:t.signal,T=Tde(r,n);return Cde(v).then(()=>{if(!Ade(v))return[];const I=jde(r),O=r.searchFields||[I],A=[];r.suggestionTemplate?r.suggestionTemplate.replaceAll(fHe,(X,ie)=>(A.push(ie),X)):A.push(I);const N=kde(A);A.includes(v.objectIdField)||N||A.push(v.objectIdField);const F=wD(v,I),z=N||$6(v,A),B=$6(v,O);if(!F)throw Qm().error("invalid-field: displayField is invalid."),new be("getSuggestions():invalid-field","displayField is invalid.");if(!z)throw Qm().error("invalid-field: outField is invalid."),new be("getSuggestions():invalid-field","outField is invalid.");if(!B)throw Qm().error("invalid-field: search field is invalid."),new be("getSuggestions():invalid-field","search field is invalid.");const G=v.createQuery(),{orderByFields:H}=r;if(H&&(G.orderByFields=H),G.outSpatialReference=i,G.returnGeometry=!1,G.num=u,G.outFields=A,T&&(G.geometry=T),!o.trim())return[];const{prefix:J="",suffix:Z=""}=r,re=Rde(`${J}${o}${Z}`);Ode(v)&&Ide(v,O)&&!m&&o&&(G.fullText=Pde({text:o,searchFields:O}));const q=Lde({searchTerm:re,layer:v,searchFields:O,filter:_,exactMatch:m,query:G,type:"suggest"});return G.where=q,Ede(G)?v.queryFeatures(G,{signal:$}).then(X=>MHe(X,r,f,I)):[]})}function Tde(e,t){const{filter:r,withinViewEnabled:i}=e,n=t==null?void 0:t.extent;return(r==null?void 0:r.geometry)??(i&&n?n:void 0)}function kde(e){return e&&e.includes("*")}async function Cde(e){e&&await e.load()}function Ede(e){return!(!e.fullText&&!e.where)}function Ide(e,t){const r=e==null?void 0:e.indexes;return!r||!(t!=null&&t.length)?!1:r.filter(i=>i.indexType==="FullText").some(i=>{var o;const n=((o=i.fields)==null?void 0:o.split(",").map(u=>u.trim().toLowerCase()))||[];return t.every(u=>n.includes(u.toLowerCase()))})}function Pde({text:e,searchFields:t}){return e.trim().split(" ").filter(r=>!!r.trim()).map(r=>new vle({onFields:t,searchTerm:r,searchType:"prefix"}))}function Ode(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsFullTextSearch)??!1}function Ade(e){var t,r;return((r=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:r.supportsPagination)??!1}function gHe(e){var t,r,i;return((i=(r=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:r.find(n=>n.type==="string"))==null?void 0:i.name)??""}function jde(e){return e.displayField||e.layer.displayField||gHe(e.layer)}function $6(e,t){return!(!e||!(t!=null&&t.length))&&t.every(r=>wD(e,r))}function wD(e,t){return!!e.getField(t)}function vHe(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function bHe({codedValues:e},t,r){return Ww(e??[],i=>{const n=i.name,o=r?n:n.toLowerCase();return(r?t:t.toLowerCase())===o?i.code.toString():null})??null}function Rde(e){return e.replaceAll("'","''")}function lb(e,t){const r=t==null?void 0:t.where;return r?`(${e}) AND (${r})`:e}function wHe({currentTerm:e,field:t,filter:r,exactMatch:i,url:n,type:o}){const u=t==null?void 0:t.type,f=t==null?void 0:t.name;if(u==="string"||u==="date"||u==="global-id"){const m=pHe.test(n??""),v=m&&vHe(e)?"N":"";return lb(i&&o==="search"?`${f} = ${v}'${e}'`:m?`${f} LIKE ${v}${`'${e}%'`}`:`${`LOWER(${f})`} LIKE ${v}${`'${e.toLowerCase()}%'`}`,r)}if(u==="oid"||u==="small-integer"||u==="integer"||u==="single"||u==="double"){const m=Number(e);return isNaN(m)?null:lb(`${f} = ${m}`,r)}return lb(`${f} = ${e}`,r)}function xHe(e,t){return e?` OR (${t})`:`(${t})`}function Lde({searchTerm:e,layer:t,searchFields:r,filter:i,exactMatch:n,query:o,type:u}){const{definitionExpression:f,url:m}=t;let v="";return!o.fullText&&e&&r&&r.forEach(_=>{const $=t.getField(_),T=typeof t.getFieldDomain=="function"&&t.getFieldDomain(_),I=(T&&T.type==="coded-value"?bHe(T,e,n):null)||e||null;if(I!==null){const O=wHe({currentTerm:I,field:$,filter:i,exactMatch:n,url:m,type:u});O&&(v+=xHe(v,O))}}),f&&v?`(${f}) AND (${v})`:f||v}function _He(e,t){let r=null;const{codedValues:i}=e;return i&&i.length&&i.some(n=>n.code===t&&(r=n.name,!0)),r}function SHe(e,t){return e[t]??e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function Nde(e,t,r){const i=e.sourceLayer,{attributes:n}=e,o=typeof i.getFieldDomain=="function"&&i.getFieldDomain(r);if(t)return FN(t,n);if(r&&n){const u=i.getField(r),f=SHe(n,r);return f==null?"":o&&o.type==="coded-value"?_He(o,f)??"":(u==null?void 0:u.type)==="date"?Rp(new Date(f)):typeof f=="number"?f.toString():typeof f!="string"?"":f.trim()}return""}function $He(e,t,r,i){const n=e.sourceLayer,{attributes:o}=e,{objectIdField:u}=n,f=u?o[u]:null;return{text:Nde(e,t.suggestionTemplate,i),key:f,sourceIndex:r}}function MHe(e,t,r,i){return e.features.map(n=>$He(n,t,r,i))}function THe(e){return e!=null&&e.minScale!=null&&e.maxScale!=null}function kHe(e,t,r,i,n,o,u){const f=e.clone(),m=e.sourceLayer,v=m==null?void 0:m.objectIdField,_=v?e.attributes[v]:null,$=Nde(e,r.searchTemplate,n);o!=null&&THe(m)&&(m.minScale&&m.minScale<o?o=m.minScale:m.maxScale&&m.maxScale>o&&(o=m.maxScale));const T=f.geometry?vD(f.geometry,t??void 0,o??void 0):void 0,I=typeof u=="number"&&T?lj(ve(T),t??void 0,u):T,O=e.clone();return I!=null&&(O.geometry=pa.fromExtent(I)),{extent:I,target:O,feature:f,key:_,name:$,sourceIndex:i}}function CHe(e,t,r,i,n,o,u){return e.features.map(f=>kHe(f,t,r,i,n,o,u))}var uj;let Gl=uj=class extends bD{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>yHe({source:this,...t},r),this.getSuggestions=(t,r)=>mHe({source:this,...t},r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new uj({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?ve(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?ve(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return((t=(e=this.layer.fieldsIndex)==null?void 0:e.fields.find(r=>r.type==="string"))==null?void 0:t.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const i=e.getField(r);return(i==null?void 0:i.alias)||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};b([M({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Gl.prototype,"displayField",void 0),b([M({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Gl.prototype,"exactMatch",void 0),b([M({value:null})],Gl.prototype,"layer",null),b([M()],Gl.prototype,"name",null),b([M({type:[String],json:{write:!0}})],Gl.prototype,"orderByFields",void 0),b([M()],Gl.prototype,"searchFields",void 0),b([M()],Gl.prototype,"searchTemplate",void 0),b([M()],Gl.prototype,"suggestionTemplate",void 0),Gl=uj=b([se("esri.widgets.Search.LayerSearchSource")],Gl);const em=Gl;function EHe(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function IHe(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let Rd=class extends Fe{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};b([M({type:String,json:{write:!0}})],Rd.prototype,"address",void 0),b([M({type:Object,json:{write:!0}})],Rd.prototype,"attributes",void 0),b([M({type:mr,json:{write:!0}})],Rd.prototype,"extent",void 0),b([M({type:jt,json:{write:!0}})],Rd.prototype,"location",void 0),b([M({type:Number,json:{write:!0}})],Rd.prototype,"score",void 0),Rd=b([se("esri.rest.support.AddressCandidate")],Rd);const Fde=Rd,xD={type:String,json:{read:{source:"token"},write:{target:"token"}}};let ns=class extends Fe{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};b([M({type:Object,json:{write:!0}})],ns.prototype,"address",void 0),b([M(xD)],ns.prototype,"apiKey",void 0),b([M({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],ns.prototype,"categories",void 0),b([M({type:String,json:{write:!0}})],ns.prototype,"countryCode",void 0),b([M({type:Boolean,json:{write:!0}})],ns.prototype,"forStorage",void 0),b([M({type:jt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],ns.prototype,"location",void 0),b([M({type:String,json:{write:!0}})],ns.prototype,"locationType",void 0),b([M({type:String,json:{write:!0}})],ns.prototype,"magicKey",void 0),b([M({type:Number,json:{write:!0}})],ns.prototype,"maxLocations",void 0),b([M({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],ns.prototype,"outFields",void 0),b([M({type:It,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ns.prototype,"outSpatialReference",void 0),b([M({type:mr,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],ns.prototype,"searchExtent",void 0),ns=b([se("esri.rest.support.AddressToLocationsParameters")],ns),ns.from=xi(ns);const Dde=ns;async function PHe(e,t,r){t=Dde.from(t);const i=Sx(e),{address:n,...o}=t.toJSON(),u={...n,...o,f:"json"},f=n8({...i.query,...u}),m=i8(f,r),v=`${i.path}/findAddressCandidates`;return Jr(v,m).then(OHe)}function OHe({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(i=>{if(!i)return;const{extent:n,location:o}=i,u=!n||IHe(n);return EHe(o)&&u?(n&&(n.spatialReference=r),o&&(o.spatialReference=r),Fde.fromJSON(i)):void 0}):[]}let th=class extends Fe{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};b([M(xD)],th.prototype,"apiKey",void 0),b([M({type:jt,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,i=r!==void 0;t.location=i?r:null}}}})],th.prototype,"location",void 0),b([M({type:String,json:{write:!0}})],th.prototype,"locationType",void 0),b([M({type:It,json:{read:{source:"outSR"},write:{target:"outSR"}}})],th.prototype,"outSpatialReference",void 0),th=b([se("esri.rest.support.LocationToAddressParameters")],th),th.from=xi(th);const zde=th;async function AHe(e,t,r){t=zde.from(t);const i=Sx(e),n={...t.toJSON(),f:"json"},o=n8({...i.query,...n}),u=i8(o,r),f=`${i.path}/reverseGeocode`;return Jr(f,u).then(jHe)}function jHe({data:e}){if(!e)return;const{address:t,location:r}=e,i=(t==null?void 0:t.Match_addr)||"";return Fde.fromJSON({address:i,attributes:t||{},location:r,score:100})}let tm=class extends Fe{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};b([M({type:Boolean,json:{write:!0}})],tm.prototype,"isCollection",void 0),b([M({type:String,json:{write:!0}})],tm.prototype,"magicKey",void 0),b([M({type:String,json:{write:!0}})],tm.prototype,"text",void 0),tm=b([se("esri.rest.support.SuggestionCandidate")],tm);const RHe=tm;let Zo=class extends Fe{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};b([M(xD)],Zo.prototype,"apiKey",void 0),b([M({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Zo.prototype,"categories",void 0),b([M({type:String,json:{write:!0}})],Zo.prototype,"countryCode",void 0),b([M({type:jt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Zo.prototype,"location",void 0),b([M({type:Number,json:{write:!0}})],Zo.prototype,"maxSuggestions",void 0),b([M({type:It,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Zo.prototype,"outSpatialReference",void 0),b([M({type:mr,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],Zo.prototype,"searchExtent",void 0),b([M({type:String,json:{write:!0}})],Zo.prototype,"text",void 0),Zo=b([se("esri.rest.support.SuggestLocationsParameters")],Zo),Zo.from=xi(Zo);const Bde=Zo;async function LHe(e,t,r){const i=Sx(e),n={...(t=Bde.from(t)).toJSON(),f:"json"},o=n8({...i.query,...n}),u=i8(o,r),f=`${i.path}/suggest`;return Jr(f,u).then(NHe)}function NHe(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(i=>new RHe(i)):[]}const FHe="Single Line Input",DHe=3e5;function zHe(e,t){return e.location?qHe(e,t):HHe(e,t)}function Vde(e,t){var i;if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=DHe?(i=e==null?void 0:e.extent)==null?void 0:i.center:null}async function BHe(e,t){const{source:r,spatialReference:i,view:n,suggestTerm:o,maxSuggestions:u,sourceIndex:f}=e,m=new Bde,{apiKey:v,url:_}=r,$=Ude(r,n),T=t==null?void 0:t.signal;if(!_)return null;v&&(m.apiKey=v),r.categories&&(m.categories=r.categories),i&&(m.outSpatialReference=i);const I=Vde(n,r);if(I&&(m.location=I),!o.trim())return null;const{prefix:O="",suffix:A=""}=r,N=`${O}${o}${A}`;return m.text=N,$&&(m.searchExtent=$),m.maxSuggestions=u,r.countryCode&&(m.countryCode=r.countryCode),LHe(_,m,{signal:T}).then(F=>JHe(F,f))}function VHe(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function UHe(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function NJ(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const GHe="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function qHe(e,t){const{source:r,spatialReference:i,location:n,sourceIndex:o,view:u}=e,{apiKey:f,url:m,zoomScale:v,defaultZoomScale:_}=r;if(m==null)return[];const $=u==null?void 0:u.scale,T=t==null?void 0:t.signal,I=new zde({location:n});f&&(I.apiKey=f),i&&(I.outSpatialReference=i);try{return Gde([await AHe(m,I,{signal:T})],{sourceIndex:o,scale:$,view:u,zoomScale:v,defaultZoomScale:_})}catch{return[]}}function Ude(e,t){const{filter:r,withinViewEnabled:i}=e,n=t==null?void 0:t.scale,o=t==null?void 0:t.extent,u=r==null?void 0:r.geometry;return(u?vD(u,t??void 0,n):void 0)||(i&&o?o:void 0)}async function HHe(e,t){var Z;const{source:r,suggestResult:i,spatialReference:n,view:o,maxResults:u,sourceIndex:f}=e,m=r==null?void 0:r.zoomScale,v=r==null?void 0:r.defaultZoomScale;if(!((Z=i.text)==null?void 0:Z.trim()))return null;const $=!i.key&&r.prefix?r.prefix:"",T=!i.key&&r.suffix?r.suffix:"",I=`${$}${i.text}${T}`,O=new Dde,{apiKey:A,url:N}=r,F=o==null?void 0:o.scale,z=Ude(r,o),B=t==null?void 0:t.signal;if(A&&(O.apiKey=A),!N)return null;r.categories&&(O.categories=r.categories),r.locationType&&(O.locationType=r.locationType),n&&(O.outSpatialReference=n);const G=Vde(o,r);G&&(O.location=G),O.maxLocations=u,z&&(O.searchExtent=z),r.countryCode&&(O.countryCode=r.countryCode);const{key:H}=i,J=`${H}`;return H&&(O.magicKey=J),O.address={},O.address[r.singleLineFieldName||FHe]=I,r.outFields&&(O.outFields=r.outFields),PHe(N,O,{signal:B}).then(re=>Gde(re,{key:J,scale:F,sourceIndex:f,view:o,zoomScale:m,defaultZoomScale:v}))}function WHe(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function JHe(e,t){return e.map(r=>WHe(r,t))}function KHe(e,t){const{key:r,scale:i,sourceIndex:n,view:o,zoomScale:u,defaultZoomScale:f}=t,{attributes:m,extent:v,location:_,address:$}=e,T=new ma({geometry:_,attributes:m}),I=v||_,O=I?vD(I,o??void 0,i??void 0):void 0,A=O?typeof u=="number"?lj(O,o??void 0,u):typeof f=="number"&&(I==null?void 0:I.type)==="point"?lj(O,o??void 0,f):O:null,N=_?`${_.x},${_.y}`:"",F=$||N,z=T.clone();return A!=null&&(z.geometry=pa.fromExtent(A)),{extent:A,feature:T,target:z,key:r,name:F,sourceIndex:n}}function Gde(e,t){return e.filter(Boolean).map(r=>KHe(r,t))}var cj;let Es=cj=class extends bD{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>zHe({source:this,...t},r),this.getSuggestions=(t,r)=>BHe({source:this,...t},r)}clone(){return new cj({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?ve(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?ve(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};b([M()],Es.prototype,"apiKey",void 0),b([M()],Es.prototype,"categories",void 0),b([M()],Es.prototype,"countryCode",void 0),b([M({json:{write:!0}})],Es.prototype,"defaultZoomScale",void 0),b([M()],Es.prototype,"localSearchDisabled",void 0),b([M()],Es.prototype,"locationType",void 0),b([M({json:{write:!0}})],Es.prototype,"name",void 0),b([M({json:{write:!0}})],Es.prototype,"placeholder",void 0),b([M()],Es.prototype,"searchTemplate",void 0),b([M({json:{write:!0}})],Es.prototype,"singleLineFieldName",void 0),b([M({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Es.prototype,"suggestionsEnabled",void 0),b([M({json:{write:!0}})],Es.prototype,"url",void 0),b([M({json:{write:!0}})],Es.prototype,"zoomScale",void 0),Es=cj=b([se("esri.widgets.Search.LocatorSearchSource")],Es);const qde=Es;let a0=class extends Fe{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(n=>n.toJSON()),r=this.geometries[0],i={};return i.outSR=L4(this.outSpatialReference),i.inSR=L4(r.spatialReference),i.geometries=JSON.stringify({geometryType:ux(r),geometries:t}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(i.transformForward=this.transformForward),i}};b([M()],a0.prototype,"geometries",void 0),b([M({json:{read:{source:"outSR"}}})],a0.prototype,"outSpatialReference",void 0),b([M()],a0.prototype,"transformation",void 0),b([M()],a0.prototype,"transformForward",void 0),a0=b([se("esri.rest.support.ProjectParameters")],a0);const Hde=a0,YHe=xi(Hde);async function ZHe(e,t,r){t=YHe(t);const i=Sx(e),n={...i.query,f:"json",...t.toJSON()},o=t.outSpatialReference,u=ux(t.geometries[0]),f=i8(n,r);return Jr(i.path+"/project",f).then(({data:{geometries:m}})=>Qle(m,u,o))}const Wde=()=>Ne.getLogger("esri.widgets.support.geolocationUtils"),XHe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function QHe(){const e=ke("esri-geolocation");return e||Wde().warn("geolocation-unsupported","Geolocation unsupported."),e}function eWe(){const e=window.isSecureContext;return e||Wde().warn("insecure-context","Geolocation requires a secure origin."),e}function FJ(){return QHe()&&eWe()}function tWe(e){return e||(e=XHe),new Promise((r,i)=>{setTimeout(()=>i(new be("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,i,e??void 0)})}function rWe(e,t){const{position:r,view:i}=e,n=iWe(r),o=n==null?void 0:n.coords;if(!o)throw new be("geometry-service:no-coords","Geolocation has no coordinates");return sWe(nWe(o),i,t)}function iWe(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function nWe({longitude:e,latitude:t,altitude:r}){return new jt({longitude:e,latitude:t,z:r||void 0,spatialReference:{wkid:4326}})}function sWe(e,t,r){if(!t)return Promise.resolve(e);const i=t.spatialReference;return i.isWGS84?Promise.resolve(e):i.isWebMercator?Promise.resolve(nu(e)):oWe(r).then(n=>{if(!n)throw new be("geometry-service:missing-url","Geometry service URL is missing");const o=new Hde({geometries:[e],outSpatialReference:i});return ZHe(n,o,r).then(u=>u[0])})}function oWe(e){if(wr.geometryServiceUrl)return Promise.resolve(wr.geometryServiceUrl);const t=Rn.getDefault();return t.load(e).catch(()=>{}).then(()=>{var r,i;return(i=(r=t.helperServices)==null?void 0:r.geometry)==null?void 0:i.url})}function _s(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const aWe=()=>zN("esri/widgets/Search/t9n/Search"),DJ="highlight",w9=ut.ofType({key:e=>e.layer?"layer":"locator",base:bD,typeMap:{layer:em,locator:qde}}),zJ=It.WGS84,lWe="esri/images/search/search-symbol-32.png",uWe=/<[\s\S]*?>/g,rm=-1;let er=class extends FF(wl.EventedMixin(St)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new w9,this.defaultSymbols={point:new lv({url:Or(lWe),size:24,width:24,height:24}),polyline:new Fo({color:[130,130,130,1],width:2}),polygon:new zh({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=Rn.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new w9,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const r=await aWe();this.messages=r,this.defaultPopupTemplate=new Xp({title:r.searchResult,content:"{Match_addr}"})};t(),this.addHandles([lt(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),ri),kN(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:rm}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:r,includeDefaultSources:i}=this,n=typeof i=="function"?i.call(null,{sources:t,defaultSources:r}):i?r.concat(t):t,o=this._get("allSources")||new w9;return o.removeAll(),o.addMany(n.filter(Boolean)),o}get locationEnabled(){return this._get("locationEnabled")||FJ()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const r=FJ();if(t&&!r){const i=new be("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ne.getLogger(this).error(i)}this._override("locationEnabled",!!t&&r)}get placeholder(){const{allSources:t,activeSourceIndex:r,allPlaceholder:i}=this;if(r===rm)return i??"";const n=t.at(r);return(n==null?void 0:n.placeholder)??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:t,resultGraphic:r}=this;t&&r&&t.graphics.remove(r),this._set("resultGraphic",null)}search(t,r){this.emit("search-start"),this.clearGraphics();const i=this._createSuggestionForSearch(t),n=(async()=>{var o;try{await this.when();const u=await this._getResultsFromSources(i,r);if((o=r==null?void 0:r.signal)!=null&&o.aborted)return null;const f={activeSourceIndex:this.activeSourceIndex,searchTerm:i.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(f,u,i);const m=this._getFirstResult(f.results),v=i.location&&m?m.name:i.text,_=v==null?void 0:v.replace(uWe,"");return this._set("searchTerm",_),(i.key&&typeof i.sourceIndex=="number"||i.location)&&this._set("selectedSuggestion",i),this._set("results",f.results),this._set("resultCount",f.results.reduce(($,T)=>{var I;return $+(((I=T.results)==null?void 0:I.length)??0)},0)),this.emit("search-complete",f),await this._selectFirstResult(m),f}finally{this._clearSearching()}})();return this._searching=n,n}async searchNearby(t){if(!this.locationEnabled){const i=new be("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw Ne.getLogger(this).error(i),i}const r=(async()=>{try{const i=await tWe(),n=await rWe({position:i,view:this.view},t);return await this.search(n,t)}finally{this._clearSearching()}})();return this._searching=r,r}async select(t){if(this.clearGraphics(),!t){const X=new be("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw Ne.getLogger(this).error(X),X}const{view:r}=this,i=_s(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=i!=null?this.allSources.at(i):null;if(!n){const X=new be("select:missing-source","Cannot select without a source.",{source:n});throw Ne.getLogger(this).error(X),X}const o=n instanceof em?this._getLayerSourcePopupTemplate(n):n.popupTemplate,u=n.resultSymbol||this._getDefaultSymbol(t),f=_s(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,m=_s(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,v=_s(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,_=v?o||this.popupTemplate||this.defaultPopupTemplate:null,{feature:$}=t;if(!$){const X=new be("select:missing-feature","Cannot select without a feature.",{feature:$});throw Ne.getLogger(this).error(X),X}const{attributes:T,geometry:I,layer:O,sourceLayer:A}=$,N=I?LJ(I):null,F={layerViewQuery:this._getLayerView($),elevationQuery:r&&N!=null?uHe(N,r):Promise.resolve(N)},z=await _0(F),B=z.layerViewQuery.value,G=z.elevationQuery.value;u instanceof R1&&(u.text=t.name);const H=r&&m?t.target||t.extent:null;await(H!=null?this._goToSearchResult(H):Promise.resolve());const Z=B?$:new ma({geometry:I,symbol:u,attributes:T,layer:O,sourceLayer:A,popupTemplate:_}),re=r==null?void 0:r.popup,q=re&&v&&Z.getEffectivePopupTemplate(re.defaultPopupTemplateEnabled);return q&&await r.openPopup({features:[Z],location:G}),B&&cHe(B)&&!q&&this._highlightFeature({graphic:Z,layerView:B}),!B&&f&&r&&r.graphics.push(Z),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",Z),this.emit("select-result",{result:t,source:n,sourceIndex:i}),t}async suggest(t,r,i){const n=t||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),await this._suggestTimer(r,i);const o=await this._suggestImmediate(n,i);return this._set("suggestions",o==null?void 0:o.results),this._set("suggestionCount",(o==null?void 0:o.results.reduce((u,f)=>{var m;return u+(((m=f.results)==null?void 0:m.length)??0)},0))??null),this.emit("suggest-complete",o),o}async when(){await _g(()=>!this.updating)}async _update(){const{portal:t,view:r}=this;if(this.includeDefaultSources){const i=this._updatingPromise=_0([t==null?void 0:t.load(),r==null?void 0:r.when()]);if(this.destroyed||(await i,i!==this._updatingPromise))return}await _g(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var r,i;const t=(i=(r=this.portal)==null?void 0:r.helperServices)==null?void 0:i.geocode;return t?t.map(n=>{var m;if(n.placefinding===!1)return;const o=wr.apiKey&&NJ(n.url)?{url:GHe}:null,u=qde.fromJSON({...n,...o}),f=u.url;if(NJ(f)||UHe(f)||VHe(f)){const v=u.outFields??["Addr_type","Match_addr","StAddr","City"],_=(u.placeholder||((m=this.messages)==null?void 0:m.placeholder))??"",$=typeof u.defaultZoomScale=="number"?u.defaultZoomScale:2500;u.singleLineFieldName="SingleLine",u.outFields=v,u.placeholder=_,u.defaultZoomScale=$}return u.singleLineFieldName?u:void 0}).filter(ps):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,r){var n;const i=(n=this.view)==null?void 0:n.map;return t.map(o=>{const u=i.findLayerById(o.id);if(!u)return;const f=this._getLayerJSON(o),m=em.fromJSON(f);return m.placeholder=r,this._getLayer(u,f).then(v=>{m.layer=v}),m}).filter(ps).toArray()}_getTableSources(t,r){var n;const i=(n=this.view)==null?void 0:n.map;return t.map(o=>{if(!o.id)return;const u=i.findTableById(o.id);if(!u)return;const f=this._getLayerJSON(o),m=em.fromJSON(f);return m.placeholder=r,this._getLayer(u,f).then(v=>{m.layer=v}),m}).filter(ps).toArray()}_convertApplicationProperties(){var f,m,v;const t=(f=this.view)==null?void 0:f.map,r=(v=(m=t==null?void 0:t.applicationProperties)==null?void 0:m.viewing)==null?void 0:v.search;if(!r)return[];const{enabled:i,hintText:n,layers:o,tables:u}=r;return i?[...this._getLayerSources(o,n),...this._getTableSources(u,n)]:[]}async _getSubLayer(t,r){var o;if(await t.load(),!t.allSublayers)throw new Error;const i=t.allSublayers.find(u=>u.id===r.subLayer);if(!i)throw new Error;const n=await((o=i.createFeatureLayer)==null?void 0:o.call(i));if(!n)throw new Error;return this._createdFeatureLayers.push(n),n}async _getBuildingSubLayer(t,r){await t.load();const i=t.allSublayers.find(n=>n.id===r.subLayer);if((i==null?void 0:i.type)!=="building-component")throw new Error;if(await i.load(),i.associatedLayer==null)throw new Error;return await i.associatedLayer.load(),i}async _getLayer(t,r){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return await this._getSubLayer(t,r)}catch{const n=new be("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return Ne.getLogger(this).error(n),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,r):null}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:r}=this;this._destroyFeatureLayers(),t.removeAll(),r&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var o;const t=(o=this.view)==null?void 0:o.popup,{resultGraphic:r}=this;if(!t||!r)return;const i="selectedFeature"in t,n=i?t.selectedFeature:null;i&&n&&n===r&&t.close()}_suggestTimer(t,r){const i=t??this.suggestionDelay;return VL(i,null,r==null?void 0:r.signal)}_createLocationForSearch(t){return t instanceof ma&&t.geometry?LJ(t.geometry):t instanceof jt?t:Array.isArray(t)&&t.length===2?new jt({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&_s(t,"key")&&_s(t,"text")&&_s(t,"sourceIndex"))return t;const r=this._createLocationForSearch(t),i=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:n,selectedResult:o}=this,u=!t&&n&&o,f=u&&n.key===o.key&&n.sourceIndex===o.sourceIndex,m=u&&n.location;return f||m?n:{location:r,text:r?"":i,sourceIndex:null,key:null}}_getFirstResult(t){return Ww(t,({results:r})=>r==null?void 0:r[0])??null}async _selectFirstResult(t){return this.autoSelect&&t?this.select(t):null}async _suggestImmediate(t,r){var o;await this.when();const i=await this._getSuggestionsFromSources(t,r);if((o=r==null?void 0:r.signal)!=null&&o.aborted)return null;const n={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,i),n}_formatSourceResponse(t,r,i){const n=(r==null?void 0:r.value)||[],o=r==null?void 0:r.error,u=this.allSources.at(i);if(o){const f={sourceIndex:i,source:u,error:o};t.errors.push(f),Ne.getLogger(this).error(o),t.numErrors++}else{const f={sourceIndex:i,source:u,results:n};t.results.push(f),t.numResults+=n.length}}_formatResponse(t,r,i){if(r)if(t.activeSourceIndex===rm){const n=i&&_s(i,"sourceIndex")&&i.sourceIndex!==-1?i.sourceIndex:void 0;r.forEach((o,u)=>{const f=n!==void 0?n:u;this._formatSourceResponse(t,o,f)})}else this._formatSourceResponse(t,r[0],t.activeSourceIndex)}async _getResultsFromSources(t,r){const{allSources:i}=this,n=!t.location&&_s(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,o=[];if(!i.length){const u=new be("search:no-sources-defined","At least one source is required.",{allSources:i});throw Ne.getLogger(this).error(u),u}return n===rm?i.forEach((u,f)=>{o.push(this._getResultsFromSource(t,f,r))}):o.push(this._getResultsFromSource(t,n,r)),_0(o)}async _getSuggestionsFromSources(t,r){const{allSources:i,activeSourceIndex:n}=this,o=[];if(!i.length){const u=new be("suggest:no-sources-defined","At least one source is required.",{allSources:i});throw Ne.getLogger(this).error(u),u}return n===rm?i.forEach((u,f)=>{o.push(this._getSuggestionsFromSource(t,f,r))}):o.push(this._getSuggestionsFromSource(t,n,r)),_0(o)}async _getResultsFromSource(t,r,i){var _,$;const n=r!=null?this.allSources.at(r):null;if(!n)return null;const{location:o=null}=t,u=((_=this.view)==null?void 0:_.spatialReference)||zJ,f=_s(n,"maxResults")?n.maxResults:this.maxResults,m=!!(n instanceof em&&_s(n,"exactMatch"))&&n.exactMatch,{view:v}=this;return($=n.getResults)==null?void 0:$.call(n,{view:v,sourceIndex:r,location:o,suggestResult:t,spatialReference:u,exactMatch:m,maxResults:f},i)}async _getSuggestionsFromSource(t,r,i){var m,v;const n=this.allSources.at(r);if(!n)return null;t??(t="");const o=_s(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,u=t==null?void 0:t.length,f=_s(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(o&&t.trim()&&u>=f){const _=((m=this.view)==null?void 0:m.spatialReference)||zJ,$=_s(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:T}=this,I=!!(n instanceof em&&_s(n,"exactMatch"))&&n.exactMatch;return(v=n.getSuggestions)==null?void 0:v.call(n,{view:T,sourceIndex:r,suggestTerm:t,spatialReference:_,maxSuggestions:$,exactMatch:I},i)}return null}_getLayerSourcePopupTemplate(t){const{layer:r}=t;if(r)return _s(t,"popupTemplate")?t.popupTemplate:r.popupTemplate}_getSourceIndexOfResult(t){return Ww(this.results??[],({results:r,sourceIndex:i})=>(r==null?void 0:r.includes(t))?i:null)??null}async _goToSearchResult(t){this._abortGoTo();const r=new AbortController;this._gotoController=r;const i={target:{target:t},options:{signal:r.signal}};t||(i.options.animate=!1),await this.callGoTo(i),this._gotoController=null}_getDefaultSymbol(t){var n;const{defaultSymbols:r}=this,i=(n=t.feature)==null?void 0:n.geometry;if(i==null)return null;switch(i.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this.removeHandles(DJ)}async _getLayerView(t){var n,o;const{view:r}=this;if(!t||!r||((n=t.layer)==null?void 0:n.type)==="building-component"||((o=t.layer)==null?void 0:o.type)==="subtype-sublayer")return null;const{layer:i}=t;return i?(await r.when(),r.whenLayerView(i)):null}_highlightFeature(t){const{graphic:r,layerView:i}=t,{attributes:n,layer:o}=r,{objectIdField:u}=o,f=(u&&(n==null?void 0:n[u]))??null,m=i.highlight(f??r);this.addHandles(m,DJ)}_setResultFloor(t){var o,u,f;const{view:r}=this,i=(o=t.feature)==null?void 0:o.attributes,n=(u=t.feature)==null?void 0:u.sourceLayer;if(n&&"floorInfo"in n&&((f=n==null?void 0:n.floorInfo)!=null&&f.floorField)&&i){const m=i[n.floorInfo.floorField];r==null||r.emit("select-result-floor",m)}}};er.ALL_INDEX=rm,b([M()],er.prototype,"_searching",void 0),b([M()],er.prototype,"_updatingPromise",void 0),b([M({readOnly:!0,value:null})],er.prototype,"activeSource",null),b([M()],er.prototype,"activeSourceIndex",null),b([M()],er.prototype,"allPlaceholder",null),b([M({readOnly:!0})],er.prototype,"allSources",null),b([M()],er.prototype,"autoNavigate",void 0),b([M()],er.prototype,"autoSelect",void 0),b([M()],er.prototype,"defaultPopupTemplate",void 0),b([M({readOnly:!0})],er.prototype,"defaultSources",void 0),b([M()],er.prototype,"defaultSymbols",void 0),b([M()],er.prototype,"includeDefaultSources",void 0),b([M()],er.prototype,"locationEnabled",null),b([M()],er.prototype,"maxInputLength",void 0),b([M()],er.prototype,"maxResults",void 0),b([M()],er.prototype,"maxSuggestions",void 0),b([M()],er.prototype,"messages",void 0),b([M()],er.prototype,"minSuggestCharacters",void 0),b([M({readOnly:!0})],er.prototype,"placeholder",null),b([M()],er.prototype,"popupEnabled",void 0),b([M({type:Xp})],er.prototype,"popupTemplate",void 0),b([M({type:Rn})],er.prototype,"portal",void 0),b([M()],er.prototype,"resultCount",void 0),b([M()],er.prototype,"resultGraphicEnabled",void 0),b([M({readOnly:!0})],er.prototype,"resultGraphic",void 0),b([M({readOnly:!0})],er.prototype,"results",void 0),b([M({readOnly:!0})],er.prototype,"selectedSuggestion",void 0),b([M()],er.prototype,"searchAllEnabled",void 0),b([M({readOnly:!0})],er.prototype,"selectedResult",void 0),b([M()],er.prototype,"searchTerm",null),b([M({type:w9})],er.prototype,"sources",void 0),b([M({readOnly:!0})],er.prototype,"state",null),b([M()],er.prototype,"suggestionDelay",void 0),b([M()],er.prototype,"suggestionCount",void 0),b([M({readOnly:!0})],er.prototype,"suggestions",void 0),b([M()],er.prototype,"suggestionsEnabled",void 0),b([M({readOnly:!0})],er.prototype,"updating",null),b([M()],er.prototype,"view",void 0),b([M()],er.prototype,"clear",null),er=b([se("esri.widgets.Search.SearchViewModel")],er);const Sm=er;let Ld=class extends xl{constructor(t,r){super(t,r),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[yf.showMoreResults]:this.showMoreResultsOpen};return Ie("div",{class:this.classes(yf.base,Bt.widget)},Ie("div",{class:this.classes(yf.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return Ie("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var i;const t=(i=this.viewModel)==null?void 0:i.selectedResult,r=(t==null?void 0:t.name)||"";return Ie("div",{class:yf.moreResultsItem,key:"esri-search-renderer__result-name"},r)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const r=t.results;if((t.resultCount??0)<2)return null;const i=r==null?void 0:r.map(n=>this._renderMoreResultsList(n));return Ie("div",{class:yf.moreResultsList,key:"esri-search-renderer__more-results-container"},i)}_renderMoreResultsButton(){const{messages:t,viewModel:r}=this;return r?(r.resultCount??0)<2?null:Ie("div",{class:yf.moreResultsItem,key:"esri-search-renderer__more-results-button"},Ie("a",{bind:this,class:Bt.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,r){return Ie("div",{class:yf.moreResultsListHeader,key:`esri-search-result-renderer__header-${r}`},t)}_renderMoreResultsList(t){var $,T,I;const{results:r}=t,i=(r==null?void 0:r.length)??0,n=i>0,o=($=this.viewModel)==null?void 0:$.selectedResult,u=i===1&&r[0]===o,f=this._getSourceName(t.source,t.sourceIndex),m=(((I=(T=this.viewModel)==null?void 0:T.results)==null?void 0:I.length)??0)>1&&!u?this._renderMoreResultsHeader(f,t.sourceIndex):null,v=n&&r.map((O,A)=>this._renderMoreResultsListItem(O,A)),_=n&&!u?Ie("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},v):null;return n?Ie("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},m,_):null}_renderMoreResultsListItem(t,r){var n;const i=(n=this.viewModel)==null?void 0:n.selectedResult;return t!==i?Ie("li",{key:`esri-search-result-renderer__list-item-${r}`},Ie("a",{bind:this,class:Bt.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var i,n;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const r=(n=(i=this.viewModel)==null?void 0:i.view)==null?void 0:n.popup;r&&"reposition"in r&&r.reposition()}_selectResultClick(t){var i;t.preventDefault();const r=t.currentTarget["data-result"];(i=this.viewModel)==null||i.select(r)}_getSourceName(t,r){return r===Sm.ALL_INDEX?this.messages.all:t.name}};b([M(),ho("esri/widgets/Search/t9n/Search")],Ld.prototype,"messages",void 0),b([M()],Ld.prototype,"showMoreResultsOpen",void 0),b([M()],Ld.prototype,"viewModel",void 0),b([b6()],Ld.prototype,"_showMoreResultsClick",null),b([b6()],Ld.prototype,"_selectResultClick",null),Ld=b([se("esri.widgets.Search.SearchResultRenderer")],Ld);const cWe=Ld,id={checkMark:"esri-icon-check-mark",close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",loadingIndicator:"esri-icon-loading-indicator",locateCircled:"esri-icon-locate-circled",minus:"esri-icon-minus",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"},hWe=/<[a-z/][\s\S]*>/i,dWe=(e,t)=>{const r=A_e(t).split(/\s/),i=new RegExp(`(${r.join("|")})`,"gi");return e.replace(i,n=>`<strong>${n}</strong>`)};let nr=class extends xl{constructor(t,r){super(t,r),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new cWe,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new Sm,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=i=>{var o;const n=i.relatedTarget;n&&((o=this._container)!=null&&o.contains(n))||this._clearActiveMenu()},this.addHandles([lt(()=>this.searchTerm,i=>{var n,o;(i&&this.activeMenu==="warning"||!i&&!((o=(n=this.viewModel)==null?void 0:n.selectedSuggestion)!=null&&o.location))&&this._clearActiveMenu()}),co(()=>{var i;return(i=this.viewModel)==null?void 0:i.allSources},"change",()=>this._watchSourceChanges()),lt(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),ri),lt(()=>{var i;return(i=this.viewModel)==null?void 0:i.defaultPopupTemplate},i=>{i&&(i.content=this._renderSearchResultsContent.bind(this))},ri)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=ai(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){var t;return(t=this.viewModel)==null?void 0:t.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"search"}set icon(t){this._overrideIfSome("icon",t)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){var t;return(t=this.viewModel)==null?void 0:t.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this.viewModel.clear()}focus(){var t;(t=this._inputNode)==null||t.focus(),this.emit("search-focus")}blur(){var t;(t=this._inputNode)==null||t.blur(),this.emit("search-blur")}async search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const r=new AbortController,{signal:i}=r;this._searchController=r;try{const n=await this.viewModel.search(t,{signal:i});return this._searchController!==r?void 0:(this.activeMenu=n!=null&&n.numResults?"none":"warning",this._searchController=null,n)}catch{return this._searchController!==r?void 0:(this._clearActiveMenu(),void(this._searchController=null))}}async suggest(t){this._cancelSuggest();const r=new AbortController,{signal:i}=r;this._suggestController=r;try{const n=await this.viewModel.suggest(t,null,{signal:i});return this._suggestController!==r?void 0:(this._suggestController=null,n!=null&&n.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),n)}catch{return this._suggestController!==r||(this._suggestController=null),null}}render(){const{state:t}=this.viewModel,r={[Bt.disabled]:t==="disabled",[Bt.widgetDisabled]:this.disabled};return Ie("div",{class:this.classes(Xr.base,Bt.widget,r)},t==="loading"?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:t,disabled:r}=this;return Ie("button",{"aria-label":t.searchButtonTitle,bind:this,class:this.classes(Xr.submitButton,Bt.widgetButton),disabled:r,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle,type:"button"},Ie("span",{"aria-hidden":"true",class:id.search}))}_renderWarningMenu(){return Ie("div",{class:this.classes(Bt.menu,Xr.warningMenu),key:"esri-search__error-menu"},Ie("div",{class:Xr.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:t,activeMenu:r,sourceMenuId:i,sourceMenuButtonId:n,disabled:o}=this,{activeSourceIndex:u,allSources:f}=this.viewModel;return f.length>1?Ie("button",{afterCreate:U_,"aria-controls":i,"aria-expanded":(r==="source").toString(),"aria-haspopup":"true","aria-label":t.searchIn,bind:this,class:this.classes(Xr.sourcesButton,Bt.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:o,id:n,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:t.searchIn,type:"button"},Ie("span",{"aria-hidden":"true",class:this.classes(id.downArrow,Xr.sourcesButtonDown)}),Ie("span",{"aria-hidden":"true",class:this.classes(id.upArrow,Xr.sourcesButtonUp)}),Ie("span",{class:Xr.sourceName},this._getSourceName(u))):null}_renderSourcesList(){const{allSources:t,searchAllEnabled:r}=this.viewModel,{_activeMenuItemIndex:i,activeMenu:n,sourceMenuId:o,sourceMenuButtonId:u}=this,f=n==="source"&&i>-1?this._buildId("source-item",i):null;return t.length>1?Ie("ul",{afterCreate:U_,"aria-activedescendant":f,"aria-labelledby":u,bind:this,class:Bt.menuList,"data-node-ref":"_sourceListNode",id:o,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},r?this._renderSource(Sm.ALL_INDEX):null,t.map((m,v)=>this._renderSource(v)).toArray()):null}_renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?Ie("div",{class:this.classes(Bt.menu,Xr.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:t,messagesCommon:r,disabled:i}=this;return Ie("div",{class:Bt.loader,key:"base-loader",tabIndex:i?-1:void 0},Ie("span",{"aria-hidden":"true",class:Bt.loaderAnimation}),Ie("span",{class:id.fontFallbackText},t.searchButtonTitle),Ie("span",{class:Bt.loaderText},r.loading))}_renderContainer(){const{allSources:t,state:r}=this.viewModel,{activeMenu:i}=this,n={[Xr.hasMultipleSources]:t.length>1,[Xr.isLoading]:r==="loading",[Xr.isSearching]:r==="searching",[Xr.showWarning]:i==="warning",[Xr.showSources]:i==="source",[Xr.showSuggestions]:i==="suggestion"};return Ie("div",{afterCreate:o=>{this._container=o,o.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:o=>{o.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,Xr.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?Ie("button",{bind:this,class:this.classes(Xr.clearButton,Bt.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},Ie("span",{"aria-hidden":"true",class:id.close})):null}_renderLocationGroup(){const{messages:t,locationEnabled:r,displayedSearchTerm:i}=this,n=r&&!i,o=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return n?Ie("ul",{class:this.classes(Bt.menuList,Xr.suggestionList,Xr.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},Ie("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),bind:this,class:this.classes(Bt.menuItem,o?Bt.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},Ie("span",{"aria-hidden":"true",class:id.locateCircled})," ",t.useCurrentLocation)):null}_renderInput(){const{activeMenu:t,locationEnabled:r,displayedSearchTerm:i,messages:n,suggestionsMenuId:o,inputId:u,_activeMenuItemIndex:f,disabled:m}=this,{maxInputLength:v,placeholder:_,searchTerm:$,suggestionCount:T}=this.viewModel,I=!(!(r&&!i)&&!T),O=t==="suggestion"&&f>-1?this._buildId("suggestion-item",f):null;return Ie("input",{afterCreate:U_,"aria-activedescendant":O,"aria-autocomplete":"list","aria-controls":I?o:null,"aria-expanded":(I&&t==="suggestion").toString(),"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(Bt.input,Xr.input),"data-node-ref":"_inputNode",disabled:m,id:u,maxlength:v,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:_,role:"combobox",title:$?"":_,type:"text",value:$})}_renderForm(){return Ie("form",{bind:this,class:Xr.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(t){const{sourceIndex:r}=t,{results:i}=t;return(i==null?void 0:i.length)?Ie("ul",{class:this.classes(Bt.menuList,Xr.suggestionList),key:`esri-search__suggestion-list-${r}`,role:"group"},i==null?void 0:i.map(o=>this._renderSuggestion(o,this._menuItemCount++))):null}_renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(r=>[this._renderSuggestionHeader(r),this._renderSuggestList(r)]):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:r,suggestionsMenuId:i,inputId:n}=this,{suggestionCount:o}=this.viewModel,u=r&&!t||o;return this._menuItemCount=0,u?Ie("div",{afterCreate:U_,"aria-labelledby":n,bind:this,class:this.classes(Bt.menu,Xr.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:i,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return Ie("div",{class:Xr.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(t){var f;const{allSources:r,activeSourceIndex:i}=this.viewModel,{sourceIndex:n}=t,o=(f=t.results)==null?void 0:f.length,u=r.length>1&&i===Sm.ALL_INDEX;return o&&u?Ie("div",{class:Bt.menuHeader,key:`esri-search__suggestion-header-${n}`},this._getSourceName(n)):null}_renderSuggestion(t,r){const{_activeMenuItemIndex:i,viewModel:{searchTerm:n}}=this;if(!n)return;const o=this.activeMenu==="suggestion"&&i===r;return Ie("li",{"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===r).toString(),bind:this,class:this.classes(Bt.menuItem,o?Bt.menuItemFocus:null),"data-suggestion":t,id:this._buildId("suggestion-item",r),innerHTML:this._getSuggestResultHTML(t.text,n),key:`esri-search__suggestion_${r}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(t){const{activeSourceIndex:r,searchAllEnabled:i}=this.viewModel,n={[Bt.menuItemActive]:t===r,[Bt.menuItemFocus]:this.activeMenu==="source"&&t===(i?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},o=i?t+1:t;return Ie("li",{"aria-checked":(t===r).toString(),bind:this,class:this.classes(Xr.source,Bt.menuItem,n),"data-source-index":t,id:this._buildId("source-item",o),key:`esri-search__source-${t}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(t))}_renderNoResultsWarning(t){const{messages:r}=this,i=t?FN(r.noResultsFoundForValue,{value:`"${t}"`}):r.noResultsFound;return Ie("div",{key:"esri-search__no_results"},Ie("div",{class:Xr.warningMenuHeader},r.noResults),Ie("div",{class:Xr.warningMenuText},i))}_renderEmptySearchWarning(){const{messages:t}=this;return Ie("div",{key:"esri-search__empty-search"},Ie("span",{"aria-hidden":"true",class:id.noticeTriangle}),Ie("span",{class:Xr.noValueText},t.emptyValue))}_renderLocateWarning(){const{messages:t}=this;return Ie("div",{key:"esri-search__locate-error"},Ie("span",{"aria-hidden":"true",class:id.noticeTriangle}),Ie("span",{class:Xr.noValueText},t.locateError))}_renderWarning(){var n;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:i}=this;return r?this._renderLocateWarning():(n=i.selectedSuggestion)!=null&&n.location||t?this._renderNoResultsWarning(t):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,r){return`${this.id}-${t}${r===void 0?"":`-${r}`}`}_watchSourceChanges(){const{viewModel:{allSources:t}}=this,r="sources";this.removeHandles(r),t.forEach(i=>this.addHandles(lt(()=>i.name,()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var r;const t=this.activeMenu==="source";this.activeMenu=t?"none":"source",this.renderNow(),this.activeMenu==="source"&&((r=this._sourceListNode)==null||r.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const r=BJ(t.currentTarget);r&&(this._focus(),this.search(r))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;this._searchController=t,(async()=>{try{const i=await this.viewModel.searchNearby({signal:r});this.activeMenu=i!=null&&i.numResults?"none":"warning"}catch{this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var i;if(!t)return;const r=pWe(t);r!=null&&(this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(i=this._sourceMenuButtonNode)==null||i.focus())}_cancelSuggest(){this._suggestController=i1(this._suggestController)}_cancelSearch(){this._searchController=i1(this._searchController),this._locateFailed=!1}_handleInputKeyup(t){var o;const{key:r}=t;if(t.ctrlKey||t.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||t.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const i=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const n=(o=this._suggestionListNode)==null?void 0:o.getElementsByTagName("li");if(n!=null&&n.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),i)return t.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,n,this._suggestionListNode);const u=n[this._activeMenuItemIndex];if(r==="Enter"&&u){const f=BJ(u);return void(f?(this._focus(),this.search(f)):fWe(u)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(t,r,i){const n=this._activeMenuItemIndex;t==="Home"&&(this._activeMenuItemIndex=0),t==="End"&&(this._activeMenuItemIndex=r.length-1),t==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?r.length-1:this._activeMenuItemIndex-1),t==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===r.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&i&&GTe(r[this._activeMenuItemIndex],i)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const r=t.target;this.viewModel.searchTerm!==r.value&&(this.viewModel.searchTerm=r.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){var i;const{key:r}=t;if(woe(r)){t.preventDefault();const n=(i=this._sourceListNode)==null?void 0:i.getElementsByTagName("li"),o=n==null?void 0:n[this._activeMenuItemIndex];this._setSourceFromMenuItem(o)}else r!=="ArrowUp"&&r!=="ArrowDown"&&r!=="End"&&r!=="Home"||t.preventDefault()}_handleSourceMenuKeyup(t){var o,u,f;const{key:r}=t,i=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";if(i&&t.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((o=this._sourceMenuButtonNode)==null?void 0:o.focus());const n=(u=this._sourceListNode)==null?void 0:u.getElementsByTagName("li");return n&&n.length!==0&&i?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,n,(f=this._sourceListNode)==null?void 0:f.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(t){const{messages:r}=this,i=this.viewModel,{allSources:n}=i,o=n.at(t);return t===Sm.ALL_INDEX?r.all:o&&o.name||r.untitledSource}_getSuggestResultHTML(t,r){return t?hWe.test(t)?t:dWe(t,r):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function BJ(e){return e==null?void 0:e["data-suggestion"]}function pWe(e){return e==null?void 0:e["data-source-index"]}function fWe(e){return!!(e!=null&&e["data-current-location-item"])}b([M()],nr.prototype,"_activeMenuItemIndex",void 0),b([M()],nr.prototype,"displayedSearchTerm",null),b([M({readOnly:!0})],nr.prototype,"inputId",null),b([M({readOnly:!0})],nr.prototype,"suggestionsMenuId",null),b([M({readOnly:!0})],nr.prototype,"sourceMenuId",null),b([M({readOnly:!0})],nr.prototype,"sourceMenuButtonId",null),b([M()],nr.prototype,"activeMenu",void 0),b([M({readOnly:!0})],nr.prototype,"activeSource",null),b([M()],nr.prototype,"activeSourceIndex",null),b([M()],nr.prototype,"allPlaceholder",null),b([M({readOnly:!0})],nr.prototype,"allSources",null),b([M()],nr.prototype,"autoNavigate",null),b([M()],nr.prototype,"autoSelect",null),b([M({readOnly:!0})],nr.prototype,"defaultSources",null),b([M()],nr.prototype,"disabled",void 0),b([M()],nr.prototype,"goToOverride",null),b([M()],nr.prototype,"icon",null),b([M()],nr.prototype,"includeDefaultSources",null),b([M()],nr.prototype,"label",null),b([M()],nr.prototype,"locationEnabled",null),b([M()],nr.prototype,"maxResults",null),b([M()],nr.prototype,"maxSuggestions",null),b([M(),ho("esri/widgets/Search/t9n/Search")],nr.prototype,"messages",void 0),b([M(),ho("esri/t9n/common")],nr.prototype,"messagesCommon",void 0),b([M()],nr.prototype,"minSuggestCharacters",null),b([M()],nr.prototype,"popupEnabled",null),b([M()],nr.prototype,"popupTemplate",null),b([M()],nr.prototype,"portal",null),b([M()],nr.prototype,"resultGraphic",null),b([M()],nr.prototype,"resultGraphicEnabled",null),b([M({readOnly:!0})],nr.prototype,"results",null),b([M()],nr.prototype,"searchAllEnabled",null),b([M()],nr.prototype,"searchTerm",null),b([M({readOnly:!0})],nr.prototype,"selectedResult",null),b([M()],nr.prototype,"sources",null),b([M({readOnly:!0})],nr.prototype,"suggestions",null),b([M()],nr.prototype,"suggestionsEnabled",null),b([M()],nr.prototype,"view",null),b([mD(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),M({type:Sm})],nr.prototype,"viewModel",void 0),nr=b([se("esri.widgets.Search")],nr);const yWe=nr,mWe={BingMapsLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./BingMapsLayer-DCCBN6iV.js");return{default:e}},[],import.meta.url)).default,BuildingSceneLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./BuildingSceneLayer-DuOEeSun.js");return{default:e}},__vite__mapDeps([249,250,251,225,226,223,252,253,228,254,102,39,40,100,91,38,86,89,32,103,104,105,67,90,85,41,168,128,255]),import.meta.url)).default,CSVLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./CSVLayer-B2q8M0LY.js");return{default:e}},__vite__mapDeps([256,23,21]),import.meta.url)).default,CatalogLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./CatalogLayer-CnkJeD2q.js");return{default:e}},__vite__mapDeps([257,3,4,229,36,42,230,221,39,85,38,86,220,23,21,231,232,50,48,49,11,10,14,121,233,13]),import.meta.url)).default,DimensionLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./DimensionLayer-CHTC6pz7.js");return{default:e}},__vite__mapDeps([258,259]),import.meta.url)).default,ElevationLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ElevationLayer-C7CzeeqU.js");return{default:e}},__vite__mapDeps([122,123,124,125,51]),import.meta.url)).default,FeatureLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>Sqe);return{default:e}},void 0,import.meta.url)).default,GeoJSONLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./GeoJSONLayer-DgxiAHKp.js");return{default:e}},__vite__mapDeps([260,23,21]),import.meta.url)).default,GeoRSSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./GeoRSSLayer-DOZ9-WGU.js");return{default:e}},[],import.meta.url)).default,GroupLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>wWe);return{default:e}},void 0,import.meta.url)).default,ImageryLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ImageryLayer-DzSbqQa9.js");return{default:e}},__vite__mapDeps([261,262,185,93,94,95,118,4,121,50,48,49,11,10,14,116,232]),import.meta.url)).default,ImageryTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./ImageryTileLayer-DzwdJY6l.js");return{default:e}},__vite__mapDeps([263,262,185,93,94,95,118,4,187,97,96,125,51]),import.meta.url)).default,IntegratedMesh3DTilesLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./IntegratedMesh3DTilesLayer-CLUyDxlV.js");return{default:e}},__vite__mapDeps([264,255]),import.meta.url)).default,IntegratedMeshLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./IntegratedMeshLayer-DHCvOdyn.js");return{default:e}},__vite__mapDeps([265,266,226,267,251,225,223,252,253,228,254,255]),import.meta.url)).default,KMLLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./KMLLayer-MrAk1I9n.js");return{default:e}},__vite__mapDeps([268,189]),import.meta.url)).default,KnowledgeGraphLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./KnowledgeGraphLayer-CT4bFj7W.js");return{default:e}},__vite__mapDeps([269,270,12,13,10,11,14,15,16,17,7,18,19,20,21,1,2,3,4,23,271,272]),import.meta.url)).default,LineOfSightLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./LineOfSightLayer-CLUqNa0V.js");return{default:e}},__vite__mapDeps([273,259,266,226,267,255]),import.meta.url)).default,LinkChartLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./LinkChartLayer-CnJY5NpO.js");return{default:e}},__vite__mapDeps([274,13,10,11,14,270,12,15,16,17,7,18,19,20,21,1,2,3,4,23,271,272]),import.meta.url)).default,MapImageLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MapImageLayer-CCBn0B_F.js");return{default:e}},__vite__mapDeps([275,276,231,221,232,50,48,49,11,10,14,121,233,13,167,192,166]),import.meta.url)).default,MapNotesLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MapNotesLayer-C8O8vcDj.js");return{default:e}},__vite__mapDeps([277,56]),import.meta.url)).default,MediaLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./MediaLayer-abCXM-xF.js");return{default:e}},__vite__mapDeps([278,195,153,38,148,267,15,16]),import.meta.url)).default,OGCFeatureLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OGCFeatureLayer-BeZZfMyz.js");return{default:e}},__vite__mapDeps([279,81,13,10,11,14,53,9,23,21,54]),import.meta.url)).default,OpenStreetMapLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OpenStreetMapLayer-BBSyyuYS.js");return{default:e}},__vite__mapDeps([280,281]),import.meta.url)).default,OrientedImageryLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./OrientedImageryLayer-D0qHGux9.js");return{default:e}},[],import.meta.url)).default,PointCloudLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./PointCloudLayer-C0VUBSTZ.js");return{default:e}},__vite__mapDeps([282,251,225,226,223,252,253,228,88,255]),import.meta.url)).default,RouteLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./RouteLayer-CW90mE7a.js");return{default:e}},__vite__mapDeps([283,225,226,199]),import.meta.url)).default,SceneLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./SceneLayer-Dl3sN7kj.js");return{default:e}},__vite__mapDeps([284,285,230,221,39,85,38,86,148,286,36,42,78,45,31,91,30,44,40,41,26,43,46,37,287,251,225,226,223,252,253,228,128,250,254,266,267,255,102,100,89,32,103,104,105,67,90,168]),import.meta.url)).default,StreamLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./StreamLayer-B1Sq3MXN.js");return{default:e}},[],import.meta.url)).default,SubtypeGroupLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./SubtypeGroupLayer-BRtKL_VA.js");return{default:e}},[],import.meta.url)).default,TileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./TileLayer-V3MCrN3V.js");return{default:e}},__vite__mapDeps([288,123,124,125,51,276,231,221,232,50,48,49,11,10,14,121,233,13,167]),import.meta.url)).default,UnknownLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./UnknownLayer-B9WuQvjQ.js");return{default:e}},[],import.meta.url)).default,UnsupportedLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./UnsupportedLayer-kD1Rx3tc.js");return{default:e}},[],import.meta.url)).default,VectorTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VectorTileLayer-CBthf4Bb.js");return{default:e}},__vite__mapDeps([289,123,124,125,51,223,114,112,62,110,72,33,34,59]),import.meta.url)).default,VideoLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VideoLayer-By5ha83s.js");return{default:e}},__vite__mapDeps([290,204,38,40]),import.meta.url)).default,VoxelLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./VoxelLayer-BdgKpTTo.js");return{default:e}},__vite__mapDeps([291,251,225,226,223,252,253,228,266,267,85,38,86]),import.meta.url)).default,WFSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WFSLayer-DdxvFkSs.js");return{default:e}},__vite__mapDeps([292,23,21,107,53,9,10,11,108]),import.meta.url)).default,WMSLayer:async()=>(await Ce(async()=>{const{default:e}=await Promise.resolve().then(()=>NWe);return{default:e}},void 0,import.meta.url)).default,WMTSLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WMTSLayer-BeEOW_H4.js");return{default:e}},__vite__mapDeps([293,281,124,108]),import.meta.url)).default,WebTileLayer:async()=>(await Ce(async()=>{const{default:e}=await import("./WebTileLayer-dV68hX6i.js").then(t=>t.W);return{default:e}},[],import.meta.url)).default},gWe=Symbol("WebScene");async function vWe(e){const t=[];for(const r of e.allLayers)if("beforeSave"in r&&typeof r.beforeSave=="function"){const i=r.beforeSave();i&&t.push(i)}await Promise.allSettled(t)}const bWe=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function R$t(e,t,r){let i=(e.messages??[]).filter(({type:n})=>n==="error").map(({name:n,message:o,details:u})=>new be(n,o,u));if(e.blockedRelativeUrls&&(i=i.concat(e.blockedRelativeUrls.map(n=>new be("url:unsupported",`Relative url '${n}' is not supported`)))),r){const{ignoreUnsupported:n,supplementalUnsupportedErrors:o=[],requiredPropertyChecksDisabled:u}=r;n&&(i=i.filter(({name:f})=>!(bWe.has(f)||o.includes(f)))),u&&(i=i.filter(f=>f.name!=="web-document-write:property-required"))}if(i.length>0)throw new be(t.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}let ss=class extends g8(w8(pD(fD(uae(lae(y8(gx))))))){constructor(t){super(t),this.allLayers=new u1({getCollections:()=>[this.layers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=nae(this),this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._debouncedSaveOperations=g7(async(r,i,n)=>{const{save:o,saveAs:u}=await Ce(()=>import("./groupLayerUtils-BiDXOG8D.js"),__vite__mapDeps([294,227,225,226,223,228,252,253]),import.meta.url);switch(r){case Xu.SAVE:return o(this,i);case Xu.SAVE_AS:return u(this,n,i)}})}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([lt(()=>{let t=this.parent;for(;t&&"parent"in t&&t.parent;)t=t.parent;return t&&gWe in t},t=>{const r="prevent-adding-tables";this.removeHandles(r),t&&(this.tables.removeAll(),this.addHandles(co(()=>this.tables,"before-add",i=>{i.preventDefault(),Ne.getLogger(this).errorOnce("tables","tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.")}),r))},ta),lt(()=>this.visible,this._onVisibilityChange.bind(this),cs)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf("portalItem")===or.USER}_writeLayers(t,r,i,n){const o=[];if(!t)return o;t.forEach(u=>{const f=JI(u,n.webmap?n.webmap.getLayerJSONFromResourceInfo(u):null,n);f!=null&&f.layerType&&o.push(f)}),r.layers=o}set portalItem(t){this._set("portalItem",t)}readPortalItem(t,r,i){const{itemId:n,layerType:o}=r;if(o==="GroupLayer"&&n)return new Wm({id:n,portal:i==null?void 0:i.portal})}writePortalItem(t,r){t!=null&&t.id&&(r.itemId=t.id)}set visibilityMode(t){const r=this._get("visibilityMode")!==t;this._set("visibilityMode",t),r&&this._enforceVisibility(t,this.visible)}async beforeSave(){return vWe(this)}load(t){const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Group Layer","Scene Service"],layerModuleTypeMap:mWe},t).catch(i=>{if(Ga(i),this.sourceIsPortalItem)throw i});return this.addResolvingPromise(r),Promise.resolve(this)}async loadAll(){return YN(this,t=>{t(this.layers,this.tables)})}async save(t){return this._debouncedSaveOperations(Xu.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(Xu.SAVE_AS,r,t)}layerAdded(t){t.visible&&this.visibilityMode==="exclusive"?this._turnOffOtherLayers(t):this.visibilityMode==="inherited"&&(t.visible=this.visible),this.hasHandles(t.uid)?console.error(`Layer read to Grouplayer: uid=${t.uid}`):this.addHandles(lt(()=>t.visible,r=>this._onChildVisibilityChange(t,r),cs),t.uid)}layerRemoved(t){this.removeHandles(t.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(t){this.layers.forEach(r=>{r!==t&&(r.visible=!1)})}_enforceVisibility(t,r){if(!zs(this).initialized)return;const i=this.layers;let n=i.find(o=>o.visible);switch(t){case"exclusive":i.length&&!n&&(n=i.at(0),n.visible=!0),this._turnOffOtherLayers(n);break;case"inherited":i.forEach(o=>{o.visible=r})}}_onVisibilityChange(t){this.visibilityMode==="inherited"&&this.layers.forEach(r=>{r.visible=t})}_onChildVisibilityChange(t,r){switch(this.visibilityMode){case"exclusive":r?this._turnOffOtherLayers(t):this._isAnyLayerVisible()||(t.visible=!0);break;case"inherited":t.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some(t=>t.visible)}};b([M({readOnly:!0,dependsOn:[]})],ss.prototype,"allLayers",void 0),b([M({readOnly:!0})],ss.prototype,"allTables",void 0),b([M({json:{read:!0,write:!0}})],ss.prototype,"blendMode",void 0),b([M()],ss.prototype,"fullExtent",void 0),b([M({readOnly:!0})],ss.prototype,"sourceIsPortalItem",null),b([M({json:{read:!1,write:{ignoreOrigin:!0}}})],ss.prototype,"layers",void 0),b([Xe("layers")],ss.prototype,"_writeLayers",null),b([M({type:["GroupLayer"]})],ss.prototype,"operationalLayerType",void 0),b([M({json:{origins:{"web-map":{read:!1,write:{overridePolicy(e,t,r){return{enabled:(e==null?void 0:e.type)==="Group Layer"&&(r==null?void 0:r.initiator)!==this}}}},"web-scene":{read:!1,write:!1}}}})],ss.prototype,"portalItem",null),b([Ge("web-map","portalItem",["itemId"])],ss.prototype,"readPortalItem",null),b([Xe("web-map","portalItem",{itemId:{type:String}})],ss.prototype,"writePortalItem",null),b([M()],ss.prototype,"spatialReference",void 0),b([M({json:{read:!1},readOnly:!0,value:"group"})],ss.prototype,"type",void 0),b([M({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{type:["independent","exclusive"],write:(e,t,r)=>{e!=="inherited"&&(t[r]=e)}}}}})],ss.prototype,"visibilityMode",null),ss=b([se("esri.layers.GroupLayer")],ss);const Jde=ss,wWe=Object.freeze(Object.defineProperty({__proto__:null,default:Jde},Symbol.toStringTag,{value:"Module"})),xWe=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function hj(e){return e!=null&&xWe.some(([t,r])=>e>=t&&e<=r)}const _We={visible:"visibleSublayers"};let oh=class extends St{constructor(t){super(t),this.scale=0}set layer(t){this._get("layer")!==t&&(this._set("layer",t),this.removeHandles("layer"),t&&this.addHandles([t.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),t.on("wms-sublayer-update",r=>this.notifyChange(_We[r.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:t})=>t).map(({name:t})=>t).join()}get version(){this.commitProperty("layers");const t=this.layer;return t&&t.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:t,scale:r}=this,i=t==null?void 0:t.sublayers,n=[],o=u=>{const{minScale:f,maxScale:m,sublayers:v,visible:_}=u;_&&(r===0||(f===0||r<=f)&&(m===0||r>=m))&&(v?v.forEach(o):n.push(u))};return i==null||i.forEach(o),n}toJSON(){const{layer:t,layers:r}=this,{imageFormat:i,imageTransparency:n,version:o}=t;return{format:i,request:"GetMap",service:"WMS",styles:"",transparent:n?"TRUE":"FALSE",version:o,layers:r}}};b([M()],oh.prototype,"layer",null),b([M({readOnly:!0})],oh.prototype,"layers",null),b([M({type:Number})],oh.prototype,"scale",void 0),b([M({readOnly:!0})],oh.prototype,"version",null),b([M({readOnly:!0})],oh.prototype,"visibleSublayers",null),oh=b([se("esri.layers.support.ExportWMSImageParameters")],oh);async function SWe(e,t,r){let i;try{i=await createImageBitmap(e)}catch(n){throw new be("request:server",`Unable to load ${t}`,{url:t,error:n})}return Zr(r),i}async function F$t(e,t,r,i,n){let o;try{o=await createImageBitmap(e)}catch(u){throw new be("request:server",`Unable to load tile ${t}/${r}/${i}`,{error:u,level:t,row:r,col:i})}return Zr(n),o}var x9;let $We=0,Ni=x9=class extends Dh(xA){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([co(()=>this.sublayers,"after-add",({item:t})=>{t.parent=this,t.layer=this.layer},cs),co(()=>this.sublayers,"after-remove",({item:t})=>{t.layer=t.parent=null},cs),lt(()=>this.sublayers,(t,r)=>{if(r)for(const i of r)i.layer=i.parent=null;if(t)for(const i of t)i.parent=this,i.layer=this.layer},cs),lt(()=>this.layer,t=>{if(this.sublayers)for(const r of this.sublayers)r.layer=t},cs)])}get id(){return this._get("id")??$We++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return xi(ut.ofType(x9),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){var t,r,i;const e=new x9;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=((t=this.fullExtents)==null?void 0:t.map(n=>n.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=(r=this.sublayers)==null?void 0:r.map(n=>n.clone())),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=(i=this.spatialReferences)==null?void 0:i.map(n=>n)),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const r=this.layer;this._get(e)!==t&&(this._set(e,t),r&&r.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};b([M()],Ni.prototype,"description",void 0),b([M({readOnly:!0})],Ni.prototype,"dimensions",void 0),b([M({type:mr,json:{name:"extent"}})],Ni.prototype,"fullExtent",void 0),b([M()],Ni.prototype,"fullExtents",void 0),b([M({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],Ni.prototype,"id",null),b([M({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],Ni.prototype,"legendUrl",void 0),b([Ge("legendUrl",["legendUrl","legendURL"])],Ni.prototype,"readLegendUrl",null),b([M({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],Ni.prototype,"legendEnabled",void 0),b([M()],Ni.prototype,"layer",void 0),b([M()],Ni.prototype,"maxScale",void 0),b([M()],Ni.prototype,"minScale",void 0),b([M({readOnly:!0})],Ni.prototype,"effectiveScaleRange",null),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],Ni.prototype,"name",void 0),b([M()],Ni.prototype,"parent",void 0),b([M({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],Ni.prototype,"popupEnabled",void 0),b([M({type:Boolean,json:{write:{ignoreOrigin:!0}}})],Ni.prototype,"queryable",void 0),b([M()],Ni.prototype,"sublayers",void 0),b([Ar("sublayers")],Ni.prototype,"castSublayers",null),b([M({type:[Number],json:{read:{source:"spatialReferences"}}})],Ni.prototype,"spatialReferences",void 0),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],Ni.prototype,"title",void 0),b([M({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],Ni.prototype,"visible",null),Ni=x9=b([se("esri.layers.support.WMSSublayer")],Ni);const dj=Ni,VJ={84:4326,83:4269,27:4267};function MWe(e){if(!e)return null;const t={idCounter:-1};typeof e=="string"&&(e=new DOMParser().parseFromString(e,"text/xml"));const r=e.documentElement;if(r.nodeName==="ServiceExceptionReport"){const ce=Array.prototype.slice.call(r.childNodes).map(Ee=>Ee.textContent).join(`\r
`);throw new be("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",ce)}const i=Ls("Capability",r),n=Ls("Service",r),o=i&&Ls("Request",i);if(!i||!n||!o)return null;const u=Ls("Layer",i);if(!u)return null;const f=r.nodeName==="WMS_Capabilities"||r.nodeName==="WMT_MS_Capabilities"?r.getAttribute("version"):"1.3.0",m=Ju("Title",n,"")||Ju("Name",n,""),v=Ju("AccessConstraints",n,""),_=/^none$/i.test(v)?"":v,$=Ju("Abstract",n,""),T=parseInt(Ju("MaxWidth",n,"5000"),10),I=parseInt(Ju("MaxHeight",n,"5000"),10),O=GJ(o,"GetMap"),A=UJ(o,"GetMap"),N=E2(u,f,t);if(!N)return null;let F,z=0;const B=Array.prototype.slice.call(i.childNodes),G=N.sublayers??[],H=ce=>{ce!=null&&G.push(ce)};B.forEach(ce=>{ce.nodeName==="Layer"&&(z===0?F=ce:(z===1&&N.name&&(N.name="",H(E2(F,f,t))),H(E2(ce,f,t))),z++)});let J=N.sublayers,Z=N.extent;const re=N.fullExtents??[];if(J||(J=[]),J.length===0&&J.push(N),!Z){const ce=new mr(J[0].extent);N.extent=ce.toJSON(),Z=N.extent}const q=N.spatialReferences.length>0?N.spatialReferences:Kde(N),X=UJ(o,"GetFeatureInfo"),ie=X?GJ(o,"GetFeatureInfo"):null,le=Yde(J),ue=N.minScale||0,ne=N.maxScale||0,pe=N.dimensions??[],ye=le.reduce((ce,Ee)=>ce.concat(Ee.dimensions??[]),[]),ge=pe.concat(ye).filter(Xde);let he=null;if(ge.length){const ce=ge.map(Ee=>{const{extent:ze}=Ee;return CWe(ze)?ze.map(Ye=>Ye.getTime()):ze==null?void 0:ze.map(Ye=>[Ye.min.getTime(),Ye.max.getTime()])}).flat(2).filter(ps);he={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...ce),Math.max(...ce)]}}return{copyright:_,description:$,dimensions:pe,extent:Z,fullExtents:re,featureInfoFormats:ie,featureInfoUrl:X,mapUrl:A,maxWidth:T,maxHeight:I,maxScale:ne,minScale:ue,layers:le,spatialReferences:q,supportedImageFormatTypes:O,timeInfo:he,title:m,version:f}}function TWe(e){const t=e.filter(r=>r.popupEnabled&&r.name&&r.queryable);return t.length?t.map(({name:r})=>r).join():null}function Kde(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const r=Kde(t);if(r.length>0)return r}return[]}function Yde(e){var r;let t=[];for(const i of e)t.push(i),(r=i.sublayers)!=null&&r.length&&(t=t.concat(Yde(i.sublayers)),delete i.sublayers);return t}function _9(e,t,r){return t.getAttribute(e)??r}function kWe(e,t,r,i){const n=Ls(e,r);return n?_9(t,n,i):i}function Ls(e,t){for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];if(Zde(i)&&i.nodeName===e)return i}return null}function S9(e,t){if(t==null)return[];const r=[];for(let i=0;i<t.childNodes.length;i++){const n=t.childNodes[i];Zde(n)&&n.nodeName===e&&r.push(n)}return r}function Ju(e,t,r){var i;return((i=Ls(e,t))==null?void 0:i.textContent)??r}function ub(e,t,r){if(!e)return null;const i=parseFloat(e.getAttribute("minx")),n=parseFloat(e.getAttribute("miny")),o=parseFloat(e.getAttribute("maxx")),u=parseFloat(e.getAttribute("maxy"));let f,m,v,_;r?(f=isNaN(n)?-Number.MAX_VALUE:n,m=isNaN(i)?-Number.MAX_VALUE:i,v=isNaN(u)?Number.MAX_VALUE:u,_=isNaN(o)?Number.MAX_VALUE:o):(f=isNaN(i)?-Number.MAX_VALUE:i,m=isNaN(n)?-Number.MAX_VALUE:n,v=isNaN(o)?Number.MAX_VALUE:o,_=isNaN(u)?Number.MAX_VALUE:u);const $=new It({wkid:t});return new mr({xmin:f,ymin:m,xmax:v,ymax:_,spatialReference:$})}function UJ(e,t){const r=Ls(t,e);if(r){const i=Ls("DCPType",r);if(i){const n=Ls("HTTP",i);if(n){const o=Ls("Get",n);if(o){let u=kWe("OnlineResource","xlink:href",o,null);if(u)return u.indexOf("&")===u.length-1&&(u=u.substring(0,u.length-1)),IWe(u,["service","request"])}}}}return null}function GJ(e,t){const r=S9("Operation",e);if(!r.length)return S9("Format",Ls(t,e)).map(({textContent:n})=>n).filter(ps);const i=[];for(const n of r)if(n.getAttribute("name")===t){const o=S9("Format",n);for(const{textContent:u}of o)u!=null&&i.push(u)}return i}function qJ(e,t,r){const i=Ls(t,e);if(!i)return r;const{textContent:n}=i;if(n==null||n==="")return r;const o=Number(n);return isNaN(o)?r:o}function E2(e,t,r){if(!e)return null;const i={id:r.idCounter++,fullExtents:[],parentLayerId:null,queryable:e.getAttribute("queryable")==="1",spatialReferences:[],sublayers:null},n=Ls("LatLonBoundingBox",e),o=Ls("EX_GeographicBoundingBox",e);let u=null;n&&(u=ub(n,4326)),o&&(u=new mr(0,0,0,0,new It({wkid:4326})),u.xmin=parseFloat(Ju("westBoundLongitude",o,"0")),u.ymin=parseFloat(Ju("southBoundLatitude",o,"0")),u.xmax=parseFloat(Ju("eastBoundLongitude",o,"0")),u.ymax=parseFloat(Ju("northBoundLatitude",o,"0"))),n||o||(u=new mr(-180,-90,180,90,new It({wkid:4326}))),i.minScale=qJ(e,"MaxScaleDenominator",0),i.maxScale=qJ(e,"MinScaleDenominator",0);const f=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach(m=>{var v;if(m.nodeName==="Name")i.name=m.textContent||"";else if(m.nodeName==="Title")i.title=m.textContent||"";else if(m.nodeName==="Abstract")i.description=m.textContent||"";else if(m.nodeName==="BoundingBox"){const _=m.getAttribute(f);if(_&&_.indexOf("EPSG:")===0){const T=parseInt(_.substring(5),10);T===0||isNaN(T)||u||(u=t==="1.3.0"?ub(m,T,hj(T)):ub(m,T))}const $=_==null?void 0:_.indexOf(":");if($&&$>-1){let T=parseInt(_.substring($+1,_.length),10);T===0||isNaN(T)||(T=VJ[T]??T);const I=t==="1.3.0"?ub(m,T,hj(T)):ub(m,T);I&&i.fullExtents&&i.fullExtents.push(I)}}else if(m.nodeName===f)(((v=m.textContent)==null?void 0:v.split(" "))??[]).forEach(_=>{const $=_.includes(":")?parseInt(_.split(":")[1],10):parseInt(_,10);if($!==0&&!isNaN($)){const T=VJ[$]??$;i.spatialReferences.includes(T)||i.spatialReferences.push(T)}});else if(m.nodeName!=="Style"||i.legendUrl){if(m.nodeName==="Layer"){const _=E2(m,t,r);_&&(_.parentLayerId=i.id,i.sublayers||(i.sublayers=[]),i.sublayers.push(_))}}else{const _=Ls("LegendURL",m);if(_){const $=Ls("OnlineResource",_);$&&(i.legendUrl=$.getAttribute("xlink:href"))}}}),i.extent=u==null?void 0:u.toJSON(),i.dimensions=S9("Dimension",e).filter(m=>m.getAttribute("name")&&m.getAttribute("units")&&m.textContent).map(m=>{const v=m.getAttribute("name"),_=m.getAttribute("units"),$=m.textContent,T=m.getAttribute("unitSymbol")??void 0,I=m.getAttribute("default")??void 0,O=_9("default",m,"0")!=="0",A=_9("nearestValue",m,"0")!=="0",N=_9("current",m,"0")!=="0";return Xde({name:v,units:_})?{name:"time",units:"ISO8601",extent:JJ($),default:JJ(I),multipleValues:O,nearestValue:A,current:N}:EWe({name:v,units:_})?{name:"elevation",units:_,extent:HJ($),unitSymbol:T,default:HJ(I),multipleValues:O,nearestValue:A}:{name:v,units:_,extent:WJ($),unitSymbol:T,default:WJ(I),multipleValues:O,nearestValue:A}}),i}function CWe(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function Zde(e){return e.nodeType===Node.ELEMENT_NODE}function EWe(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function Xde(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function IWe(e,t){const r=[],i=Zn(e);for(const n in i.query)i.query.hasOwnProperty(n)&&(t.includes(n.toLowerCase())||r.push(n+"="+i.query[n]));return i.path+(r.length?"?"+r.join("&"):"")}function HJ(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(i=>{const n=i.split("/");return n.length<2?null:{min:parseFloat(n[0]),max:parseFloat(n[1]),resolution:n.length>=3&&n[2]!=="0"?parseFloat(n[2]):void 0}}).filter(ps):r.map(i=>parseFloat(i))}function WJ(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(i=>{const n=i.split("/");return n.length<2?null:{min:n[0],max:n[1],resolution:n.length>=3&&n[2]!=="0"?n[2]:void 0}}).filter(ps):r}function JJ(e){if(!e)return;const t=e.includes("/"),r=e.split(",");return t?r.map(i=>{const n=i.split("/");return n.length<2?null:{min:Gk(n[0]),max:Gk(n[1]),resolution:n.length>=3&&n[2]!=="0"?PWe(n[2]):void 0}}).filter(ps):r.map(i=>Gk(i))}function Gk(e){return qt.fromISO(e,{zone:Jn.utcInstance}).toJSDate()}function PWe(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,r=e.match(t);return r?{years:cy(r[1]),months:cy(r[2]),days:cy(r[3]),hours:cy(r[4]),minutes:cy(r[5]),seconds:cy(r[6])}:null}function cy(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,r=e.match(t);if(!r)return 0;const i=r[0].replace(",",".");return Number(i)}function qk(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const OWe="0000-01-01T00:00:00Z",AWe="9999-12-31T23:59:59Z";function KJ(e){if(!e||e.isAllTime||e.isEmpty)return;const{start:t,end:r}=e;return t&&r&&t.getTime()===r.getTime()?`${qk(t)}`:`${t?qk(t):OWe}/${r?qk(r):AWe}`}const YJ=new Set([102100,3857,102113,900913]),jWe=new Set([3395,54004]);function RWe(e,t){let r=e.wkid;return t==null?r:(r!=null&&t.includes(r)||!e.latestWkid||(r=e.latestWkid),r!=null&&YJ.has(r)?t.find(i=>YJ.has(i))||t.find(i=>jWe.has(i))||102100:r)}const Hk=new hr({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function ZJ(e){return e==="text/html"}function XJ(e){return e==="text/plain"}let vr=class extends g8(hde(lde(w8(pD(fD(y8(gx))))))){constructor(...t){super(...t),this.allSublayers=new u1({getCollections:()=>[this.sublayers],getChildrenFunction:r=>r.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([co(()=>this.sublayers,"after-add",({item:r})=>{r.parent=r.layer=this},cs),co(()=>this.sublayers,"after-remove",({item:r})=>{r.layer=r.parent=null},cs),lt(()=>this.sublayers,(r,i)=>{if(i)for(const n of i)n.layer=n.parent=null;if(r)for(const n of r)n.parent=n.layer=this},cs)])}normalizeCtorArgs(t,r){return typeof t=="string"?{url:t,...r}:t}destroy(){this.allSublayers.destroy()}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},t).catch(Ga).then(()=>this._fetchService(r))),Promise.resolve(this)}readFullExtentFromItemOrMap(t,r){const i=r.extent;return i?new mr({xmin:i[0][0],ymin:i[0][1],xmax:i[1][0],ymax:i[1][1]}):null}writeFullExtent(t,r){r.extent=[[t.xmin,t.ymin],[t.xmax,t.ymax]]}get featureInfoFormat(){return this.featureInfoFormats==null?null:this.featureInfoFormats.find(ZJ)??this.featureInfoFormats.find(XJ)??null}set featureInfoFormat(t){t==null?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(ZJ(t)||XJ(t))&&this._override("featureInfoFormat",t)}readImageFormat(t,r){const i=r.supportedImageFormatTypes;return i&&i.includes("image/png")?"image/png":i&&i[0]}readSpatialReferenceFromItemOrDocument(t,r){return new It(r.spatialReferences[0])}writeSpatialReferences(t,r){var n;const i=(n=this.spatialReference)==null?void 0:n.wkid;t&&i?(r.spatialReferences=t.filter(o=>o!==i),r.spatialReferences.unshift(i)):r.spatialReferences=t}readSublayersFromItemOrMap(t,r,i){return QJ(r.layers,i,r.visibleLayers)}readSublayers(t,r,i){return QJ(r.layers,i)}writeSublayers(t,r,i,n){var f,m;r.layers=[];const o=new Map,u=t.flatten(({sublayers:v})=>v??[]);for(const v of u)if(typeof((f=v.parent)==null?void 0:f.id)=="number"){const _=o.get(v.parent.id);_!=null?_.push(v.id):o.set(v.parent.id,[v.id])}for(const v of u){const _={sublayer:v,...n},$=v.write({parentLayerId:typeof((m=v.parent)==null?void 0:m.id)=="number"?v.parent.id:-1},_);if(o.has(v.id)&&($.sublayerIds=o.get(v.id)),!v.sublayers&&v.name){const T=v.write({},_);delete T.id,r.layers.push(T)}}r.visibleLayers=u.filter(({visible:v,sublayers:_})=>v&&!_).map(({name:v})=>v).toArray()}set url(t){if(!t)return void this._set("url",t);const{path:r,query:i}=Zn(t);for(const o in i)/^(request|service)$/i.test(o)&&delete i[o];const n=Z2(r,i??{});this._set("url",n)}createExportImageParameters(t,r,i,n){const o=(n==null?void 0:n.pixelRatio)??1,u=RJ({extent:t,width:r})*o,f=new oh({layer:this,scale:u}),{xmin:m,ymin:v,xmax:_,ymax:$,spatialReference:T}=t,I=RWe(T,this.spatialReferences),O=this.version==="1.3.0"&&hj(I)?`${v},${m},${$},${_}`:`${m},${v},${_},${$}`,A=f.toJSON(),N=this.version==="1.3.0"?"crs":"srs";return{bbox:O,[N]:I==null||isNaN(I)?void 0:"EPSG:"+I,...A}}async fetchImage(t,r,i,n){const o=this.mapUrl,u=this.createExportImageParameters(t,r,i,n);if(!u.layers){const v=document.createElement("canvas");return v.width=r,v.height=i,v}const f=KJ(n==null?void 0:n.timeExtent),m={responseType:"image",query:this._mixCustomParameters({width:r,height:i,...u,time:f,...this.refreshParameters}),signal:n==null?void 0:n.signal};return Jr(o??"",m).then(v=>v.data)}async fetchImageBitmap(t,r,i,n){const o=this.mapUrl??"",u=this.createExportImageParameters(t,r,i,n);if(!u.layers){const _=document.createElement("canvas");return _.width=r,_.height=i,_}const f=KJ(n==null?void 0:n.timeExtent),m={responseType:"blob",query:this._mixCustomParameters({width:r,height:i,...u,time:f,...this.refreshParameters}),signal:n==null?void 0:n.signal},{data:v}=await Jr(o,m);return SWe(v,o,n==null?void 0:n.signal)}fetchFeatureInfo(t,r,i,n,o){const u=RJ({extent:t,width:r}),f=new oh({layer:this,scale:u}),m=TWe(f.visibleSublayers);if(this.featureInfoUrl==null||m==null)return Promise.resolve([]);if(this.fetchFeatureInfoFunction==null&&this.featureInfoFormat==null)return Promise.resolve([]);const v=this.version==="1.3.0"?{I:n,J:o}:{x:n,y:o},_={query_layers:m,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:r,height:i,...v},$={...this.createExportImageParameters(t,r,i),..._},T=this._mixCustomParameters($);return this.fetchFeatureInfoFunction!=null?this.fetchFeatureInfoFunction(T):this._defaultFetchFeatureInfoFunction(Z2(this.featureInfoUrl,T))}findSublayerById(t){return this.allSublayers.find(r=>r.id===t)}findSublayerByName(t){return this.allSublayers.find(r=>r.name===t)}serviceSupportsSpatialReference(t){return OOe(this.url)||this.spatialReferences!=null&&this.spatialReferences.some(r=>{const i=r===900913?It.WebMercator:new It({wkid:r});return on(i,t)})}_defaultFetchFeatureInfoFunction(t){const r=document.createElement("iframe");r.src=W9e(t),r.style.border="none",r.style.margin="0",r.style.width="100%",r.setAttribute("sandbox","");const i=new Xp({title:this.title,content:r}),n=new ma({sourceLayer:this,popupTemplate:i});return Promise.resolve([n])}async _fetchService(t){var r;if(!this.resourceInfo&&((r=this.parsedUrl)!=null&&r.path)){const{path:i,query:n}=this.parsedUrl,{data:o}=await Jr(i,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...n,...this.customParameters},responseType:"xml",signal:t});this.resourceInfo=MWe(o)}if(this.parsedUrl){const i=new N0(this.parsedUrl.path),{httpsDomains:n}=wr.request;i.scheme!=="https"||i.port&&i.port!=="443"||!i.host||n.includes(i.host)||n.push(i.host)}this.read(this.resourceInfo,{origin:"service"})}_mixCustomParameters(t){if(!this.customLayerParameters&&!this.customParameters)return t;const r={...this.customParameters,...this.customLayerParameters};for(const i in r)t[i.toLowerCase()]=r[i];return t}};function LWe(e,t){return e.some(r=>{for(const i in r)if(gie(r,i,null,t))return!0;return!1})}function QJ(e,t,r){e=e??[];const i=new Map;e.every(o=>o.id==null)&&(e=ve(e)).forEach((o,u)=>o.id=u);for(const o of e){const u=new dj;u.read(o,t),r&&!r.includes(u.name)&&(u.visible=!1),i.set(u.id,u)}const n=[];for(const o of e){const u=o.id!=null?i.get(o.id):null;if(u)if(o.parentLayerId!=null&&o.parentLayerId>=0){const f=i.get(o.parentLayerId);if(!f)continue;f.sublayers||(f.sublayers=new ut),f.sublayers.push(u)}else n.push(u)}return n}b([M({readOnly:!0})],vr.prototype,"allSublayers",void 0),b([M({json:{type:Object,write:!0}})],vr.prototype,"customParameters",void 0),b([M({json:{type:Object,write:!0}})],vr.prototype,"customLayerParameters",void 0),b([M({type:String,json:{write:!0}})],vr.prototype,"copyright",void 0),b([M()],vr.prototype,"description",void 0),b([M({readOnly:!0})],vr.prototype,"dimensions",void 0),b([M({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],vr.prototype,"fullExtent",void 0),b([Ge(["web-document","portal-item"],"fullExtent",["extent"])],vr.prototype,"readFullExtentFromItemOrMap",null),b([Xe(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],vr.prototype,"writeFullExtent",null),b([M()],vr.prototype,"fullExtents",void 0),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],vr.prototype,"featureInfoFormat",null),b([M({type:[String],readOnly:!0})],vr.prototype,"featureInfoFormats",void 0),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],vr.prototype,"featureInfoUrl",void 0),b([M()],vr.prototype,"fetchFeatureInfoFunction",void 0),b([M({type:String,json:{origins:{"web-document":{default:"image/png",type:Hk.jsonValues,read:{reader:Hk.read,source:"format"},write:{writer:Hk.write,target:"format"}}}}})],vr.prototype,"imageFormat",void 0),b([Ge("imageFormat",["supportedImageFormatTypes"])],vr.prototype,"readImageFormat",null),b([M({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],vr.prototype,"imageMaxHeight",void 0),b([M({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],vr.prototype,"imageMaxWidth",void 0),b([M()],vr.prototype,"imageTransparency",void 0),b([M(Uhe)],vr.prototype,"legendEnabled",void 0),b([M({type:["show","hide","hide-children"]})],vr.prototype,"listMode",void 0),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],vr.prototype,"mapUrl",void 0),b([M({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],vr.prototype,"isReference",void 0),b([M({type:["WMS"]})],vr.prototype,"operationalLayerType",void 0),b([M()],vr.prototype,"resourceInfo",void 0),b([M({type:It,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],vr.prototype,"spatialReference",void 0),b([Ge(["web-document","portal-item"],"spatialReference",["spatialReferences"])],vr.prototype,"readSpatialReferenceFromItemOrDocument",null),b([M({type:[Wr],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],vr.prototype,"spatialReferences",void 0),b([Xe(["web-document","portal-item"],"spatialReferences")],vr.prototype,"writeSpatialReferences",null),b([M({type:ut.ofType(dj),json:{write:{target:"layers",overridePolicy(e,t,r){if(LWe(this.allSublayers,r))return{ignoreOrigin:!0}}}}})],vr.prototype,"sublayers",void 0),b([Ge(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],vr.prototype,"readSublayersFromItemOrMap",null),b([Ge("service","sublayers",["layers"])],vr.prototype,"readSublayers",null),b([Xe("sublayers",{layers:{type:[dj]},visibleLayers:{type:[String]}})],vr.prototype,"writeSublayers",null),b([M({json:{read:!1},readOnly:!0,value:"wms"})],vr.prototype,"type",void 0),b([M(Vhe)],vr.prototype,"url",null),b([M({type:String,json:{write:{ignoreOrigin:!0}}})],vr.prototype,"version",void 0),vr=b([se("esri.layers.WMSLayer")],vr);const pj=vr,NWe=Object.freeze(Object.defineProperty({__proto__:null,default:pj},Symbol.toStringTag,{value:"Module"}));function FWe(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(i,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Qde={exports:{}};(function(e,t){function r(){function n(d){if(typeof d=="number")return ee.Tc.Zg(d);if(d==null)return null;if(Mt[d]!=null)return ee.Tc.Zg(Mt[d]);throw Error("Unrecognised Unit Type")}function o(d){if(typeof d=="number")return ee.Tc.Zg(d);if(d==null)return null;if(Cr[d]!=null)return ee.Tc.Zg(Cr[d]);throw Error("Unrecognised Unit Type")}function u(d){if(d)switch(d){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function f(d,j,x,h){if(x==null||x.B())return null;switch(x.getType()){case ee.qn.Point:return d.exportPoint(j,x,h);case ee.qn.Polygon:return d.exportPolygon(j,x,h);case ee.qn.Polyline:return d.exportPolyline(j,x,h);case ee.qn.MultiPoint:return d.exportMultipoint(j,x,h);case ee.qn.Envelope:return d.exportExtent(j,x,h)}return null}function m(d,j,x,h){if(x.getType()!==ee.qn.Point)throw Error("Geometry not Point");return d.exportPoint(j,x,h)}function v(d,j,x){return d.convertToGEGeometry(j,x)}function _(d){var j=d.wkid;d=d.wkt2||d.wkt;var x=Vr.get(j||d);return x==null&&(j!==-1&&j!=null?(x=ee.Eg.create(j),Vr.set(j,x)):d&&(x=ee.Eg.qP(d),Vr.set(d,x)),ir.has(j||d)&&x.VW(ir.get(j||d))),x}function $(d){var j,x,h;if(d==null)return null;var l=_(d);return d=l.Hd(),l=l.Kn(),(j={}).tolerance=l,j.unitType=d==null?-1:d.od,j.unitID=d==null?-1:d.Ec(),j.unitBaseFactor=d==null?0:d.ai,j.unitSquareDerivative=d==null?0:(h=(x=ee.Tc.aG(d))===null||x===void 0?void 0:x.Ec())!==null&&h!==void 0?h:0,j}function T(d,j,x,h){return x==null?null:(x=ee.$b.clip(v(d,Le,x),v(d,Le,h),_(j)),f(d,Le,x,j))}function I(d,j,x,h){x=ee.$b.dl(v(d,Le,x),v(d,Le,h),_(j)),h=[];for(var l=0;l<x.length;l++)h.push(f(d,Le,x[l],j));return h}function O(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.contains(v(d,Le,x),v(d,Le,h),_(j))}function A(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.BP(v(d,Le,x),v(d,Le,h),_(j))}function N(d,j,x,h,l){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.tb(v(d,Le,x),v(d,Le,h),_(j),n(l))}function F(d,j,x,h){return!(x==null&&h!=null||h==null&&x!=null)&&ee.$b.Nb(v(d,Le,x),v(d,Le,h),_(j))}function z(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.TS(v(d,Le,x),v(d,Le,h),_(j))}function B(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.touches(v(d,Le,x),v(d,Le,h),_(j))}function G(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.qY(v(d,Le,x),v(d,Le,h),_(j))}function H(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.TP(v(d,Le,x),v(d,Le,h),_(j))}function J(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.DU(v(d,Le,x),v(d,Le,h),_(j))}function Z(d,j,x,h,l){if(x==null||h==null)throw Error("Illegal Argument Exception");return ee.$b.yB(v(d,Le,x),v(d,Le,h),_(j),l)}function re(d,j,x){if(x==null)throw Error("Illegal Argument Exception");return ee.$b.dT(v(d,Le,x),_(j))}function q(d,j,x){if(x==null)throw Error("Illegal Argument Exception");return x=ee.$b.eC(v(d,Le,x),_(j)),f(d,Le,x,j)}function X(d,j,x,h){if(h===void 0&&(h=!1),x==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){var l=h,s=[];for(h=0;h<x.length;h++)s.push(v(d,Le,x[h]));for(x=ee.$b.jP(s,l),l=Array(x.length),h=0;h<x.length;h++)l[h]=f(d,Le,x[h],j);return l}return h=ee.$b.iP(v(d,Le,x),_(j)),f(d,Le,h,j)}function ie(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Le,x[s]));for(x=ee.$b.QP(l,v(d,Le,h),_(j)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Le,x[s],j);return h}return s=ee.$b.im(v(d,Le,x),v(d,Le,h),_(j)),f(d,Le,s,j)}function le(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Le,x[s]));for(x=ee.$b.VX(l,v(d,Le,h),_(j)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Le,x[s],j);return h}return s=ee.$b.ep(v(d,Le,x),v(d,Le,h),_(j)),f(d,Le,s,j)}function ue(d,j,x,h){if(x==null||h==null)throw Error("Illegal Argument Exception");if(Array.isArray(x)){for(var l=[],s=0;s<x.length;s++)l.push(v(d,Le,x[s]));for(x=ee.$b.RS(l,v(d,Le,h),_(j)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Le,x[s],j);return h}return s=ee.$b.Ea(v(d,Le,x),v(d,Le,h),_(j)),f(d,Le,s,j)}function ne(d,j,x,h){if(x==null)return null;var l=[];if(Array.isArray(x)){if(x.length===0)return null;for(h=0;h<x.length;h++)l.push(v(d,Le,x[h]))}else l.push(v(d,Le,x)),h!=null&&l.push(v(d,Le,h));return f(d,Le,ee.$b.jY(l,_(j)),j)}function pe(d,j,x,h,l,s,a,c){var p=0;if(s!=null)switch(s){case"round":p=0;break;case"bevel":p=1;break;case"miter":p=2;break;case"square":p=3}if(Array.isArray(x)){if(x==null)d=null;else if(x.length===0)d=[];else{var y=[];for(s=0;s<x.length;s++)y.push(v(d,Le,x[s]));for(x=ee.$b.BU(y,_(j),h,p,a,c,n(l)),h=Array(x.length),s=0;s<x.length;s++)h[s]=f(d,Le,x[s],j);d=h}return d}return x=ee.$b.offset(v(d,Le,x),_(j),h,p,a,c,n(l)),f(d,Le,x,j)}function ye(d,j,x,h,l,s){if(s===void 0&&(s=!1),Array.isArray(x)){if(!Array.isArray(h)){for(var a=[],c=0;c<x.length;c++)a.push(h);h=a}if(h.length!=x.length){if(h.length==0)throw Error("Illegal Argument Exception");a=[];var p=0;for(c=0;c<x.length;c++)h[c]===void 0?a.push(p):(a.push(h[c]),p=h[c]);h=a}return he(d,j,x,h,l,!1,s,"geodesic",NaN)}return x=ee.$b.buffer(v(d,Le,x),_(j),h,n(l),!1,0,NaN),f(d,Le,x,j)}function ge(d,j,x,h,l,s,a,c){if(Array.isArray(x)){if(!Array.isArray(h)){for(var p=[],y=0;y<x.length;y++)p.push(h);h=p}if(h.length!==x.length){if(h.length===0)throw Error("Illegal Argument Exception");p=[];var g=0;for(y=0;y<x.length;y++)h[y]===void 0?p.push(g):(p.push(h[y]),g=h[y]);h=p}return he(d,j,x,h,l,!0,s,a,c)}return a===void 0&&(a=NaN),x=ee.$b.buffer(v(d,Le,x),_(j),h,n(l),!0,u(s),a),f(d,Le,x,j)}function he(d,j,x,h,l,s,a,c,p){if(p===void 0&&(p=NaN),x==null)return null;if(x.length===0)return[];for(var y=[],g=0;g<x.length;g++)y.push(v(d,Le,x[g]));for(x=ee.$b.MN(y,_(j),h,n(l),s,a,u(c),p),h=Array(x.length),g=0;g<x.length;g++)h[g]=f(d,Le,x[g],j);return h}function ce(d,j,x,h,l){var s;return l===void 0&&(l=!0),x=ee.$b.nz(v(d,Le,x),v(d,Le,h),l),(s={}).coordinate=m(d,Le,x.fz(),j),s.distance=x.hz(),s.isRightSide=x.Sz(),s.vertexIndex=x.Ua(),s.isEmpty=x.B(),s}function Ee(d,j,x,h){var l;return x=ee.$b.oz(v(d,Le,x),v(d,Le,h)),(l={}).coordinate=m(d,Le,x.fz(),j),l.distance=x.hz(),l.isRightSide=x.Sz(),l.vertexIndex=x.Ua(),l.isEmpty=x.B(),l}function ze(d,j,x,h,l,s){var a;for(x=ee.$b.pz(v(d,Le,x),v(d,Le,h),l,s),h=[],l=0;l<x.length;l++)x[l].B()===!1&&h.push(((a={}).coordinate=m(d,Le,x[l].fz(),j),a.distance=x[l].hz(),a.isRightSide=x[l].Sz(),a.vertexIndex=x[l].Ua(),a.isEmpty=x[l].B(),a));return h}function Ye(d,j,x,h,l,s){return x=ee.$b.QQ(v(d,Le,x),_(j),h,l,n(s)),f(d,Le,x,j)}function vt(d,j,x,h,l){return x=ee.$b.Qr(v(d,Le,x),_(j),h,n(l)),f(d,Le,x,j)}function tt(d,j,x,h,l,s){return s===void 0&&(s=0),x=ee.$b.Wy(v(d,Le,x),_(j),h,n(l),s),f(d,Le,x,j)}function yt(d,j,x,h){if(x==null)throw Error("Illegal Argument Exception");return ee.$b.JU(v(d,Le,x),_(j),o(h))}function De(d,j,x,h){if(x==null)throw Error("Illegal Argument Exception");return ee.$b.KU(v(d,Le,x),_(j),n(h))}function ot(d,j,x,h,l){if(x==null)throw Error("Illegal Argument Exception");return ee.$b.WQ(v(d,Le,x),_(j),o(h),u(l))}function He(d,j,x,h,l){if(x==null)throw Error("Illegal Argument Exception");return ee.$b.ZQ(v(d,Le,x),_(j),n(h),u(l))}function Te(d){ee.NL.bind(d)}function qe(d,j,x,h,l){var s=null,a=null;if(h){if(!l)throw ee.i.N("AOI missing Spatial Reference");s=v(d,Le,h),a=_(l).fh()}return(d=ee.gu.XR(_(j).fh(),_(x).fh(),s,a))!==null?d:null}function it(d,j,x,h,l){var s=null,a=null;if(h){if(!l)throw ee.i.N("AOI missing Spatial Reference");s=v(d,Le,h),a=_(l).fh()}return ee.gu.YR(_(j).fh(),_(x).fh(),s,a)}function Pe(d,j,x,h,l,s){if(l===void 0&&(l=null),s===void 0&&(s=null),s){var a=new ee.yC;a.Vu=s.densificationStep,a.Jr=s.centralMeridianOfOutputGCS,s.clipWithInputHorizon&&a.PW(s.clipWithInputHorizon),s.clipWithOutputHorizon&&a.QW(s.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(j.length===0)return[];if(l){if(!(s=l.getCachedGeTransformation(x,h)))e:{if(s=l,l=null,s){var c=s.getGTListEntry();if(c!==null){l=new ee.wC(null);for(var p=0,y=c.steps;p<y.length;p++){c=y[p];var g=new ee.Dx(c.geogtran);c.isInverse&&g.Qz(),l.add(g)}a=ee.vr.Nr(_(x).fh(),_(h).fh(),l,a),s.assignCachedGe(x,h,a),s=a;break e}}if(l===null&&s&&s.steps&&0<s.steps.length){for(l=new ee.wC(null),p=0,y=s.steps;p<y.length;p++)(c=y[p]).wkid!=-1&&c.wkid!=null?l.add(ee.Dx.create(c.wkid,c.isInverse)):l.add(ee.Dx.uP(c.wkt,c.isInverse));a=ee.vr.Nr(_(x).fh(),_(h).fh(),l,a),s.assignCachedGe(x,h,a),s=a}else s=ee.vr.Nr(_(x).fh(),_(h).fh(),l,a)}for(x=[],l=0;l<j.length;l++)a=j[l],x.push(pt(d,a,h,s))}else for(s=ee.vr.Nr(_(x).fh(),_(h).fh(),null),x=[],l=0;l<j.length;l++)a=j[l],x.push(pt(d,a,h,s));return x}function pt(d,j,x,h){return j=ee.$b.zh(v(d,Le,j),h),f(d,Le,j,x)}function mt(d,j){d!=null&&(d=d.wkid||d.wkt2||d.wkt,ir.has(d),ir.set(d,j),Vr.has(d)&&Vr.delete(d))}function Pt(d){d!=null&&(d=d.wkid||d.wkt2||d.wkt,ir.has(d)&&(ir.delete(d),Vr.has(d)&&Vr.delete(d)))}function wt(d,j,x,h){if(x==null||h==null)return[];var l=[],s=0;for(x=ee.$b.QS(v(d,Le,x),v(d,Le,h),_(j))||[];s<x.length;s++)l.push(f(d,Le,x[s],j));return l}var bt,ee,at,rt,$e=this&&this.__extends||function(){function d(j,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var s in l)l.hasOwnProperty(s)&&(h[s]=l[s])})(j,x)}return function(j,x){function h(){this.constructor=j}d(j,x),j.prototype=x===null?Object.create(x):(h.prototype=x.prototype,new h)}}();(function(d){var j;(j=d.qn||(d.qn={}))[j.Unknown=0]="Unknown",j[j.Point=33]="Point",j[j.Line=322]="Line",j[j.Envelope=197]="Envelope",j[j.MultiPoint=550]="MultiPoint",j[j.Polyline=1607]="Polyline",j[j.Polygon=1736]="Polygon",function(h){h[h.enumMild=0]="enumMild",h[h.enumMedium=1]="enumMedium",h[h.enumHot=2]="enumHot"}(d.YK||(d.YK={}));var x=function(){function h(){this.description=null,this.VA=0}return h.prototype.getType=function(){return 0},h.prototype.Db=function(){return-1},h.prototype.Nf=function(l){this.vc(),l!=this.description&&this.sn(l)},h.prototype.sn=function(){},h.prototype.Jl=function(l){this.vc(),l!=this.description&&(l=d.ee.CR(this.description,l))!=this.description&&this.sn(l)},h.prototype.hasAttribute=function(l){return this.description.hasAttribute(l)},h.prototype.re=function(l){this.vc(),this.description.hasAttribute(l)||(l=d.ee.BR(this.description,l),this.sn(l))},h.prototype.Tg=function(){return null},h.prototype.bn=function(){},h.prototype.A=function(){},h.prototype.Qo=function(){},h.prototype.xc=function(l){this.A(l)},h.prototype.B=function(){return!0},h.prototype.Oa=function(){},h.prototype.Oc=function(){},h.prototype.Ia=function(){return null},h.prototype.copyTo=function(){},h.prototype.Ke=function(){return 0},h.prototype.Qb=function(){return 0},h.prototype.iG=function(){return this.hasAttribute(1)},h.tf=function(l){return 1+((192&l)>>6)>>1},h.Rn=function(l){return!!(32&l)},h.US=function(l){return!!(128&l)},h.yd=function(l){return!!(256&l)},h.xj=function(l){return!!(512&l)},h.Hc=function(l){return!!(1024&l)},h.prototype.Of=function(){var l=this.Ia();return this.copyTo(l),l},h.prototype.mg=function(){return null},h.jg=function(l){var s=l.Ia();return l.copyTo(s),s},h.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},h.Ax=function(l){var s=l.getType();if(h.xj(s))return l.I();if(l.B())return 0;if(s==197)return 4;if(s==33)return 1;if(h.yd(s))return 2;throw d.i.fa("missing type")},h}();d.aa=x})(ee||(ee={})),at=ee||(ee={}),rt=function(){function d(){this.y=this.x=0}return d.construct=function(j,x){var h=new d;return h.x=j,h.y=x,h},d.al=function(j){var x=new d;return x.x=j.x,x.y=j.y,x},d.prototype.ma=function(j,x){this.x=j,this.y=x},d.prototype.L=function(j){this.x=j.x,this.y=j.y},d.prototype.fq=function(j,x){return this.x===j&&this.y===x},d.prototype.Rz=function(j){return 2220446049250313e-31>=Math.abs(this.x-j.x)&&2220446049250313e-31>=Math.abs(this.y-j.y)},d.prototype.qb=function(j){return this.x===j.x&&this.y===j.y},d.prototype.Nb=function(j){return j==this||j instanceof d&&this.x==j.x&&this.y==j.y},d.prototype.sub=function(j){this.x-=j.x,this.y-=j.y},d.prototype.uc=function(j,x){this.x=j.x-x.x,this.y=j.y-x.y},d.prototype.add=function(j,x){x!==void 0?(this.x=j.x+x.x,this.y=j.y+x.y):(this.x+=j.x,this.y+=j.y)},d.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},d.prototype.mt=function(j){this.x=-j.x,this.y=-j.y},d.prototype.NS=function(j,x,h){this.x=j.x*(1-h)+x.x*h,this.y=j.y*(1-h)+x.y*h},d.prototype.Ct=function(j,x){this.x=this.x*j+x.x,this.y=this.y*j+x.y},d.prototype.HW=function(j,x,h){this.x=x.x*j+h.x,this.y=x.y*j+h.y},d.prototype.scale=function(j){this.x*=j,this.y*=j},d.prototype.compare=function(j){return this.y<j.y?-1:this.y>j.y?1:this.x<j.x?-1:this.x>j.x?1:0},d.prototype.normalize=function(){var j=this.length();j==0&&(this.x=1,this.y=0),this.x/=j,this.y/=j},d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},d.prototype.Sk=function(){return this.x*this.x+this.y*this.y},d.tb=function(j,x){return Math.sqrt(this.yc(j,x))},d.Oy=function(j,x,h,l){return j-=h,x-=l,Math.sqrt(j*j+x*x)},d.prototype.Qh=function(j){return this.x*j.x+this.y*j.y},d.prototype.fD=function(j){return Math.abs(this.x*j.x)+Math.abs(this.y*j.y)},d.prototype.wi=function(j){return this.x*j.y-this.y*j.x},d.prototype.Bt=function(j,x){var h=-this.x*x+this.y*j;this.x=this.x*j+this.y*x,this.y=h},d.prototype.Hv=function(){var j=this.x;this.x=-this.y,this.y=j},d.prototype.MG=function(j){this.x=-j.y,this.y=j.x},d.prototype.ar=function(){var j=this.x;this.x=this.y,this.y=-j},d.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},d.nu=function(j,x){var h=j.qu(),l=x.qu();return l==h?0>(j=j.wi(x))?1:0<j?-1:0:h<l?-1:1},d.yc=function(j,x){var h=j.x-x.x;return h*h+(j=j.y-x.y)*j},d.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},d.prototype.Rc=function(){this.y=this.x=NaN},d.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},d.prototype.offset=function(j,x){var h=d.tb(j,x),l=d.construct(this.x,this.y);if(h==0)return d.tb(l,j);var s=new d;return s.L(x),s.sub(j),l.sub(j),l.wi(s)/h},d.Uq=function(j,x,h){var l=new at.Wb;l.set(x.x),l.sub(j.x);var s=new at.Wb;s.set(h.y),s.sub(j.y);var a=new at.Wb;a.set(x.y),a.sub(j.y);var c=new at.Wb;return c.set(h.x),c.sub(j.x),l.Ag(s),a.Ag(c),l.sub(a),l.ps()?(l=new at.hp(x.x),s=new at.hp(j.x),a=new at.hp(j.y),l=l.jt(s),j=(j=new at.hp(h.y)).jt(a),x=(x=new at.hp(x.y)).jt(a),h=(h=new at.hp(h.x)).jt(s),l=l.lr(j),x=x.lr(h),(l=l.lr(x)).nT()?-1:l.fS()?1:0):0>(h=l.value())?-1:0<h?1:0},d.prototype.cc=function(){return at.O.uj(at.O.uj())},d}(),at.h=rt,function(d){var j=function(){function x(h){this.Fy=this.Mt=0,this.OX=h}return x.prototype.reset=function(){this.Fy=this.Mt=0},x.prototype.add=function(h){h-=this.Fy;var l=this.Mt+h;this.Fy=l-this.Mt-h,this.Mt=l},x.prototype.sub=function(h){this.add(-h)},x.prototype.rm=function(){return this.OX+this.Mt},x}();d.Fx=j,d.lc=function(){function x(){}return x.Cn=function(h,l){return 0<=l?Math.abs(h):-Math.abs(h)},x.sign=function(h){return 0>h?-1:0<h?1:0},x.RK=function(h){return h-360*Math.floor(h/360)},x.round=function(h){return Math.floor(h+.5)},x.ox=function(h){return h*h},x.hq=function(h,l,s){return .5>=s?h+(l-h)*s:l-(l-h)*(1-s)},x.OG=function(h,l,s,a){.5>=s?(a.x=h.x+(l.x-h.x)*s,a.y=h.y+(l.y-h.y)*s):(a.x=l.x-(l.x-h.x)*(1-s),a.y=l.y-(l.y-h.y)*(1-s))},x.lT=function(h,l,s,a,c,p){.5>=c?(p.x=h+(s-h)*c,p.y=l+(a-l)*c):(p.x=s-(s-h)*(1-c),p.y=a-(a-l)*(1-c))},x}()}(ee||(ee={})),function(d){var j=function(x){function h(){var l=x.call(this)||this;return l.sa=0,l.na=0,l.pa=0,l.la=0,l.ka=null,l}return $e(h,x),h.prototype.ac=function(){return d.h.construct(this.sa,this.na)},h.prototype.Yp=function(l){l.x=this.sa,l.y=this.na},h.prototype.Dc=function(l){this.em(0,l)},h.prototype.ZB=function(l,s){this.em(0,d.h.construct(l,s))},h.prototype.To=function(l){this.hD(0,l)},h.prototype.setStart=function(l){this.uD(0,l)},h.prototype.wv=function(l,s){return this.Od(0,l,s)},h.prototype.YB=function(l,s,a){this.tn(0,l,s,a)},h.prototype.wc=function(){return d.h.construct(this.pa,this.la)},h.prototype.Tr=function(l){l.x=this.pa,l.y=this.la},h.prototype.Qc=function(l){this.em(1,l)},h.prototype.Ql=function(l,s){this.em(1,d.h.construct(l,s))},h.prototype.Po=function(l){this.hD(1,l)},h.prototype.setEnd=function(l){this.uD(1,l)},h.prototype.gv=function(l,s){return this.Od(1,l,s)},h.prototype.OB=function(l,s,a){this.tn(1,l,s,a)},h.prototype.Db=function(){return 1},h.prototype.B=function(){return this.Ac()},h.prototype.Oa=function(){},h.prototype.Ke=function(){return 0},h.prototype.Ea=function(l,s,a,c,p){return this.KM(l,s,a,c,p)},h.prototype.isIntersecting=function(l,s){return this.zr(l,s,!1)!=0},h.prototype.qs=function(l,s){return this.ru(l,s,!1)},h.prototype.ru=function(){return null},h.prototype.Ac=function(){return!1},h.prototype.ay=function(l){if(this.vc(),this.ka==null&&0<l)this.ka=d.O.lg(2*l);else if(this.ka!=null&&this.ka.length<2*l){for(var s=this.ka.slice(0),a=this.ka.length;a<2*l;a++)s[a]=0;this.ka=s}},h.gM=function(l,s,a){if(0<a)var c=0;for(var p=0;p<a;p++)s[0+c]=l[0],c++},h.prototype.em=function(l,s){l!=0?(this.pa=s.x,this.la=s.y):(this.sa=s.x,this.na=s.y)},h.prototype.sn=function(l){if(this.ka!=null){for(var s=d.ee.Iw(l,this.description),a=[],c=h.Gg(this.description,0),p=h.Gg(this.description,1),y=h.Gg(l,0),g=h.Gg(l,1),w=0,S=1,k=l.Aa;S<k;S++){var E=l.kd(S),P=d.ra.Va(E);if(s[S]==-1){var R=d.ra.se(E);for(E=0;E<P;E++)a[y+w]=R,a[g+w]=R,w++}else for(R=this.description.$j(s[S])-2,E=0;E<P;E++)a[y+w]=this.ka[c+R],a[g+w]=this.ka[p+R],w++,R++}this.ka=a}this.description=l},h.prototype.hD=function(l,s){if(this.Ac())throw d.i.fa("empty geometry");s.Nf(this.description),s.Ac()&&s.un();for(var a=0;a<this.description.Aa;a++)for(var c=this.description.Ed(a),p=0,y=d.ra.Va(c);p<y;p++){var g=this.Od(l,c,p);s.setAttribute(c,p,g)}},h.prototype.uD=function(l,s){if(this.vc(),s.Ac())throw d.i.fa("empty geometry");for(var a=s.description,c=0,p=a.Aa;c<p;c++)for(var y=a.Ed(c),g=d.ra.Va(y),w=0;w<g;w++){var S=s.Uc(y,w);this.tn(l,y,w,S)}},h.prototype.Od=function(l,s,a){if(this.Ac())throw d.i.fa("This operation was performed on an Empty Geometry.");if(s==0)return l!=0?a!=0?this.la:this.pa:a!=0?this.na:this.sa;if(a>=d.ra.Va(s))throw d.i.ce();var c=this.description.Pf(s);return 0<=c?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[h.Gg(this.description,l)+this.description.$j(c)-2+a]):d.ra.se(s)},h.prototype.tn=function(l,s,a,c){if(this.vc(),a>=d.ra.Va(s))throw d.i.ce();var p=this.description.Pf(s);0>p&&(this.re(s),p=this.description.Pf(s)),s==0?l!=0?a!=0?this.la=c:this.pa=c:a!=0?this.na=c:this.sa=c:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[h.Gg(this.description,l)+this.description.$j(p)-2+a]=c)},h.prototype.copyTo=function(l){if(l.getType()!=this.getType())throw d.i.N();l.description=this.description,l.ay(this.description.Ae.length-2),h.gM(this.ka,l.ka,2*(this.description.Ae.length-2)),l.sa=this.sa,l.na=this.na,l.pa=this.pa,l.la=this.la,l.vc(),this.op(l)},h.prototype.Tg=function(l,s){var a=new d.Nc;return this.Ac()?(a.Oa(),a):(a.oa=this.Od(0,l,s),a.va=a.oa,a.Lk(this.Od(1,l,s)),a)},h.prototype.ZI=function(l){this.Ac()?l.Oa():(l.oa=this.Od(0,0,0),l.va=l.oa,l.Lk(this.Od(1,0,0)))},h.prototype.Tw=function(l,s){s.Nf(this.description),s.Cb(this.hc(l));for(var a=1,c=this.description.Aa;a<c;a++)for(var p=this.description.Ed(a),y=d.ra.Va(p),g=0;g<y;g++){var w=this.Uc(l,p,g);s.setAttribute(p,g,w)}},h.prototype.FM=function(l){if(this.description!=l.description||this.sa!=l.sa||this.pa!=l.pa||this.na!=l.na||this.la!=l.la)return!1;for(var s=0;s<2*(this.description.Ae.length-2);s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},h.prototype.reverse=function(){var l=this.sa;this.sa=this.pa,this.pa=l,l=this.na,this.na=this.la,this.la=l,l=1;for(var s=this.description.Aa;l<s;l++)for(var a=this.description.kd(l),c=0,p=d.ra.Va(a);c<p;c++){var y=this.Od(0,a,c),g=this.Od(1,a,c);this.tn(0,a,c,g),this.tn(1,a,c,y)}},h.prototype.zr=function(l,s,a){var c=this.getType(),p=l.getType();if(c===322){if(p==322)return d.yb.OM(this,l,s,a);throw d.i.Qa()}throw d.i.Qa()},h.prototype.KM=function(l,s,a,c,p){var y=this.getType(),g=l.getType();if(y===322){if(g==322)return d.yb.Zx(this,l,s,a,c,p);throw d.i.Qa()}throw d.i.Qa()},h.prototype.Tx=function(){return null},h.Gg=function(l,s){return s*(l.Ae.length-2)},h.prototype.hc=function(l,s){if(s===void 0)return s=new d.h,this.hc(l,s),s;d.lc.lT(this.sa,this.na,this.pa,this.la,l,s)},h.prototype.fe=function(){return null},h.prototype.eG=function(){return null},h.prototype.cq=function(){return null},h.prototype.Bi=function(){return null},h.prototype.Pn=function(){return null},h.prototype.kg=function(){return null},h.prototype.Ux=function(l,s){return s!==void 0?this.vx(s)-this.vx(l):this.vx(l)},h.prototype.op=function(){},h.prototype.dl=function(){return null},h.prototype.ah=function(){},h.prototype.Uc=function(){return null},h.prototype.Pe=function(){return null},h.prototype.vx=function(){return null},h.prototype.NG=function(){return null},h.prototype.tb=function(l,s){if(!s&&this.zr(l,0,!1)!=0)return 0;s=17976931348623157e292;var a=this.ac(),c=l.fe(a,!1);return a.sub(l.hc(c)),(a=a.length())<s&&(s=a),a=this.wc(),c=l.fe(a,!1),a.sub(l.hc(c)),(a=a.length())<s&&(s=a),a=l.ac(),c=this.fe(a,!1),a.sub(this.hc(c)),(a=a.length())<s&&(s=a),a=l.wc(),c=this.fe(a,!1),a.sub(this.hc(c)),(a=a.length())<s&&(s=a),s},h.prototype.mg=function(){return d.pi.gm(this,null)},h}(d.aa);d.SC=j}(ee||(ee={})),new ee.h,function(d){var j;(j=d.$K||(d.$K={}))[j.Unknown=-1]="Unknown",j[j.Not=0]="Not",j[j.Weak=1]="Weak",j[j.Strong=2]="Strong",function(h){h[h.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",h[h.IsWeakSimple=2]="IsWeakSimple",h[h.IsStrongSimple=4]="IsStrongSimple",h[h.DirtyOGCFlags=8]="DirtyOGCFlags",h[h.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",h[h.DirtyExactIntervals=64]="DirtyExactIntervals",h[h.DirtyLooseIntervals=128]="DirtyLooseIntervals",h[h.DirtyIntervals=192]="DirtyIntervals",h[h.DirtyIsEnvelope=256]="DirtyIsEnvelope",h[h.DirtyLength2D=512]="DirtyLength2D",h[h.DirtyRingAreas2D=1024]="DirtyRingAreas2D",h[h.DirtyCoordinates=1993]="DirtyCoordinates",h[h.DirtyAllInternal=65535]="DirtyAllInternal",h[h.DirtyAll=16777215]="DirtyAll"}(d.MK||(d.MK={}));var x=function(h){function l(){var s=h.call(this)||this;return s.Hm=65535,s.wa=0,s.Pg=-1,s.Bb=null,s}return $e(l,h),l.prototype.op=function(){},l.prototype.$x=function(){},l.prototype.iy=function(){},l.prototype.I=function(){return this.wa},l.prototype.B=function(){return this.Ac()},l.prototype.Ac=function(){return this.wa==0},l.prototype.ak=function(s){return!!(this.Hm&s)},l.prototype.Lf=function(s,a){this.Hm=a?this.Hm|s:this.Hm&~s},l.prototype.mc=function(){this.ak(32)&&this.bN()},l.prototype.wx=function(){if(this.Ac())throw d.i.fa("This operation was performed on an Empty Geometry.")},l.prototype.ve=function(s,a){if(0>s||s>=this.wa)throw d.i.fa("index out of bounds");this.mc(),a.Nf(this.description),a.B()&&a.un();for(var c=0;c<this.description.Aa;c++)for(var p=this.description.Ed(c),y=0,g=d.ra.Va(p);y<g;y++){var w=this.za[c].eg(g*s+y);a.setAttribute(p,y,w)}},l.prototype.Ht=function(s,a){this.mc();for(var c=a.description,p=0;p<c.Aa;p++)for(var y=c.Ed(p),g=d.ra.Va(y),w=0;w<g;w++){var S=a.Uc(y,w);this.setAttribute(y,s,w,S)}},l.prototype.D=function(s,a){if(0>s||s>=this.I())throw d.i.ce();this.mc(),this.za[0].tc(2*s,a)},l.prototype.Na=function(s){var a=new d.h;return this.D(s,a),a},l.prototype.Gc=function(s,a){this.za[0].tc(2*s,a)},l.prototype.Cb=function(s,a,c){if(0>s||s>=this.wa)throw d.i.ce();this.mc();var p=this.za[0];c!==void 0?(p.write(2*s,a),p.write(2*s+1,c)):p.Tt(2*s,a),this.Pc(1993)},l.prototype.Cz=function(){if(void 0>=this.I())throw d.i.ce();this.mc();var s=this.za[0],a=new d.Nd;return a.x=s.read(NaN),a.y=s.read(NaN),a.z=this.hasAttribute(1)?this.za[1].eg():d.ra.se(1),a},l.prototype.dC=function(s){if(0>s||s>=this.I())throw d.i.ce();this.re(1),this.mc(),this.Pc(1993);var a=this.za[0];a.write(2*s,(void 0).x),a.write(2*s+1,(void 0).y),this.za[1].pr(s,(void 0).z)},l.prototype.Uc=function(s,a,c){if(0>a||a>=this.wa)throw d.i.ce();var p=d.ra.Va(s);if(c>=p)throw d.i.ce();this.mc();var y=this.description.Pf(s);return 0<=y?this.za[y].eg(a*p+c):d.ra.se(s)},l.prototype.yF=function(s,a){return this.Uc(s,a)},l.prototype.setAttribute=function(s,a,c,p){if(0>a||a>=this.wa)throw d.i.ce();var y=d.ra.Va(s);if(c>=y)throw d.i.ce();this.re(s),this.mc(),s=this.description.Pf(s),this.Pc(1993),this.za[s].pr(a*y+c,p)},l.prototype.ub=function(s){return this.wx(),this.re(s),this.mc(),this.za[this.description.Pf(s)]},l.prototype.hn=function(s,a){if(a!=null&&d.ra.Tp(s)!=a.Tp())throw d.i.N();this.re(s),s=this.description.Pf(s),this.za==null&&(this.za=d.Yc.qI(this.description.Aa)),this.za[s]=a,this.Pc(16777215)},l.prototype.sn=function(s){var a=null;if(this.za!=null){var c=d.ee.Iw(s,this.description);a=[];for(var p=0,y=s.Aa;p<y;p++)c[p]!=-1&&(a[p]=this.za[c[p]])}this.description=s,this.za=a,this.Pg=-1,this.Pc(16777215)},l.prototype.AD=function(s){this.wu(!0),s instanceof d.l?this.$.A(s):this.$.Qo(s)},l.prototype.aN=function(s){this.wu(!1),s instanceof d.l?this.$.A(s):this.$.Qo(s)},l.prototype.bn=function(s){this.wu(!0),this.$.copyTo(s)},l.prototype.A=function(s){this.AD(s)},l.prototype.Qo=function(s){this.AD(s)},l.prototype.xc=function(s){this.aN(s)},l.prototype.Tg=function(s,a){var c=new d.Nc;return this.Ac()?(c.Oa(),c):(this.wu(!0),this.$.Tg(s,a))},l.prototype.cc=function(){var s=this.description.cc();if(!this.Ac())for(var a=this.I(),c=0,p=this.description.Aa;c<p;c++)s=this.za[c].An(s,0,a*d.ra.Va(this.description.Ed(c)));return s},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l&&this.description.Nb(s.description))||this.Ac()!=s.Ac())return!1;if(this.Ac())return!0;var a=this.I();if(a!=s.I())return!1;for(var c=0;c<this.description.Aa;c++){var p=this.description.kd(c),y=this.ub(p),g=s.ub(p);if(!y.Nb(g,0,a*d.ra.Va(p)))return!1}return!0},l.prototype.copyTo=function(s){if(s.getType()!=this.getType())throw d.i.N();this.dD(s)},l.prototype.dD=function(s){this.mc(),s.description=this.description,s.za=null;var a=this.description.Aa,c=null;if(this.za!=null){c=[];for(var p=0;p<a;p++)this.za[p]!=null&&(c[p]=this.za[p].GB(this.I()*d.ra.Va(this.description.Ed(p))))}this.$!=null?(s.$=this.$.Ia(),this.$.copyTo(s.$)):s.$=null,s.wa=this.wa,s.Hm=this.Hm,s.za=c;try{this.op(s)}catch{throw s.Oa(),d.i.fu()}},l.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},l.prototype.Pc=function(s){s==16777215&&(this.Pg=-1,this.$x()),this.Hm|=s,this.lM(),this.vc()},l.prototype.wu=function(s){if(this.mc(),this.ak(192))if(this.$==null?this.$=new d.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(s);for(var a=1;a<this.description.Aa;a++)for(var c=this.description.Ed(a),p=d.ra.Va(c),y=this.za[a],g=0;g<p;g++){var w=new d.Nc;w.Oa();for(var S=0;S<this.wa;S++){var k=y.eg(S*p+g);w.Zb(k)}this.$.setInterval(c,g,w)}s&&this.Lf(192,!1)}},l.prototype.hy=function(){this.$.Oa();for(var s=this.za[0],a=new d.h,c=0;c<this.wa;c++)s.tc(2*c,a),this.$.Zb(a)},l.prototype.yp=function(s){s.Oa();for(var a=this.za[0],c=new d.h,p=0;p<this.wa;p++)a.tc(2*p,c),s.Zb(c)},l.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=d.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var s=0;s<this.description.Aa;s++){var a=this.description.Ed(s);if(this.za[s]!=null){var c=d.ra.Va(a),p=d.O.truncate(this.za[s].size/c);p<this.wa&&(p=d.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[s].resize(p*c,d.ra.se(a))),p<this.Pg&&(this.Pg=p)}else this.za[s]=d.Yc.YE(a,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},l.prototype.dm=function(s){if(0>s)throw d.i.N();s!=this.wa&&(this.wa=s,this.Pc(65535))},l.prototype.om=function(s){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=s)return this.ak(8)?1:2}return-1},l.prototype.Ch=function(s,a){if(this.QT=a,s==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),s==0)this.Lf(2,!1),this.Lf(4,!1);else if(s==1)this.Lf(2,!0),this.Lf(4,!1);else{if(s!=2)throw d.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},l.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},l.prototype.kD=function(s,a,c,p){if(0>s||s>=this.wa||0>a||a>=this.wa)throw d.i.fa("index out of bounds");this.mc(),p.Nf(this.description),p.B()&&p.un();for(var y=0;y<this.description.Aa;y++)for(var g=this.description.Ed(y),w=0,S=d.ra.Va(g);w<S;w++){var k=this.za[y].eg(S*s+w),E=this.za[y].eg(S*a+w);p.setAttribute(g,w,d.lc.hq(k,E,c))}},l.prototype.yr=function(s,a){var c=this.za[0].o,p=c[2*s]-c[2*a];return s=c[2*s+1]-c[2*a+1],Math.sqrt(p*p+s*s)},l.prototype.KR=function(s){if(0>s||s>=this.wa)throw d.i.ce();this.mc();var a=new d.Sa;a.Nf(this.description),a.B()&&a.un();for(var c=0;c<this.description.Aa;c++)for(var p=this.description.kd(c),y=0,g=d.ra.Va(p);y<g;y++){var w=this.za[c].eg(g*s+y);a.setAttribute(p,y,w)}return a},l.prototype.Dh=function(s,a){if(0>s||s>=this.wa)throw d.i.ce();if(a.B())throw d.i.N();this.mc();for(var c=a.description,p=0;p<c.Aa;p++)for(var y=c.kd(p),g=d.ra.Va(y),w=0;w<g;w++){var S=a.Uc(y,w);this.setAttribute(y,s,w,S)}},l.prototype.lu=function(){return null},l.prototype.fj=function(){return null},l}(d.aa);d.Gx=x}(ee||(ee={})),function(d){var j=function(){function x(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new d.$c(7),this.Zn=null}return x.prototype.Vo=function(h){this.Zn=h},x.prototype.RP=function(){this.Rv=!1},x.prototype.De=function(h){this.ob.De(h)},x.prototype.Pr=function(h){var l=this.ob.Ce();return this.rX(l),this.uX(h,l),l},x.prototype.MP=function(h){this.ob.jd(h)},x.prototype.addElement=function(h,l){return l==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),l=this.Qe),this.FD(h,0,l)},x.prototype.KD=function(h){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(h,1,this.Qe)},x.prototype.xn=function(h){this.Qe==-1&&(this.Qe=this.Pr(-1));var l=this.Qe,s=this.ob.o;if(l==-1||s[7*l]==-1)return h=this.ob.Ll([-1,-1,-1,h,this.gl(),-1,-1]),(s=this.ob.o)[7*l]=h,this.vp(-1,h,l,s),h;var a=l==-1?-1:s[7*l+2];return h=this.ob.Ll([-1,-1,a,h,this.gl(),-1,-1]),(s=this.ob.o)[7*a+1]=h,this.oy(h,s),s[7*h+2]===-1&&(s[7*l]=h),this.vp(-1,h,l,s),h},x.prototype.zu=function(h,l,s,a){var c=-1;c==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),c=this.Qe);var p=this.ob.o;if(c==-1||p[7*c]==-1)return s=this.ob.Ll([-1,-1,-1,s,this.gl(),-1,-1]),(p=this.ob.o)[7*c]=s,this.vp(-1,s,c,p),s;if(a){a=l!=-1?this.Zn.compare(this,s,l):-1;var y=h!=-1?this.Zn.compare(this,s,h):1}else a=-1,y=1;if(a==0||y==0)return p[7*c+3]=a==0?l:h,-1;for((l!=-1&&h!=-1?this.Tm>d.O.bB(this.Tm)>>1:l!=-1)?h=l:a=y,l=!0;;){if(0>a){if((y=p[7*h])==-1){a=h,s=this.ob.Ll([-1,-1,h,s,this.gl(),-1,-1]),(p=this.ob.o)[7*h]=s;break}h=y}else{if((y=p[7*h+1])==-1){a=p[7*h+6],s=this.ob.Ll([-1,-1,h,s,this.gl(),-1,-1]),(p=this.ob.o)[7*h+1]=s;break}h=y}l&&(a*=-1,l=!1)}return this.oy(s,p),p[7*s+2]===-1&&(p[7*c]=s),this.vp(a,s,c,p),s},x.prototype.FF=function(){return this.iR(this.Qe)},x.prototype.vd=function(h,l){l=l==-1?this.Qe:l,this.Rv?this.LP(h,l):this.iY(h,l)},x.prototype.search=function(h,l){for(l=this.sv(l);l!=-1;){var s=this.Zn.compare(this,h,l);if(s==0)return l;l=0>s?this.ll(l):this.Xp(l)}return-1},x.prototype.IW=function(h){for(var l=this.sv(-1),s=-1;l!=-1;){var a=h.compare(this,l);if(a==0)return l;0>a?l=this.ll(l):(s=l,l=this.Xp(l))}return s},x.prototype.uJ=function(h){for(var l=this.sv(-1),s=-1;l!=-1;){var a=h.compare(this,l);if(a==0)return l;0>a?(s=l,l=this.ll(l)):l=this.Xp(l)}return s},x.prototype.ja=function(h){return this.ob.T(h,3)},x.prototype.ll=function(h){return this.ob.T(h,0)},x.prototype.Xp=function(h){return this.ob.T(h,1)},x.prototype.getParent=function(h){return this.ob.T(h,2)},x.prototype.lb=function(h){return this.ob.T(h,6)},x.prototype.we=function(h){return this.ob.T(h,5)},x.prototype.rc=function(h){return h==-1?this.kl(this.Qe):this.kl(h)},x.prototype.Fc=function(h){return h==-1?this.Zr(this.Qe):this.Zr(h)},x.prototype.ZR=function(h){return h==-1?this.bG(this.Qe):this.bG(h)},x.prototype.Sj=function(h,l){this.NB(h,l)},x.prototype.sv=function(h){return h==-1?this.YF(this.Qe):this.YF(h)},x.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},x.prototype.size=function(h){return h==-1?this.$F(this.Qe):this.$F(h)},x.prototype.KN=function(h,l){for(var s=l[7*h],a=l[7*h+1],c=l[7*h+4];s!=-1||a!=-1;){var p=s!=-1?l[7*s+4]:2147483647;if(a=a!=-1?l[7*a+4]:2147483647,c<=Math.min(p,a))break;p<=a?this.sJ(s,l):this.rJ(h,l),s=l[7*h],a=l[7*h+1]}},x.prototype.oy=function(h,l){if(this.Rv)for(var s=l[7*h+4],a=l[7*h+2];a!=-1&&l[7*a+4]>s;)l[7*a]==h?this.sJ(h,l):this.rJ(a,l),a=l[7*h+2]},x.prototype.rJ=function(h,l){var s=l[7*h+1];l[7*s+2]=l[7*h+2],l[7*h+2]=s;var a=l[7*s];l[7*h+1]=a,a!=-1&&(l[7*a+2]=h),l[7*s]=h,(a=l[7*s+2])!=-1&&(l[7*a]==h?l[7*a]=s:l[7*a+1]=s)},x.prototype.sJ=function(h,l){var s=l[7*h+2];l[7*h+2]=l[7*s+2],l[7*s+2]=h;var a=l[7*h+1];l[7*s]=a,a!=-1&&(l[7*a+2]=s),l[7*h+1]=s,(a=l[7*h+2])!=-1&&(l[7*a]===s?l[7*a]=h:l[7*a+1]=h)},x.prototype.Pk=function(h,l){this.ob.S(h,2,l)},x.prototype.TB=function(h,l){this.ob.S(h,0,l)},x.prototype.XB=function(h,l){this.ob.S(h,1,l)},x.prototype.WB=function(h,l){this.ob.S(h,5,l)},x.prototype.ex=function(h,l){this.ob.S(h,6,l)},x.prototype.XJ=function(h,l){this.ob.S(l,0,h)},x.prototype.rX=function(h){this.ob.S(h,4,0)},x.prototype.uX=function(h,l){this.ob.S(l,5,h)},x.prototype.YF=function(h){return h==-1?-1:this.ob.T(h,0)},x.prototype.kl=function(h){return h==-1?-1:this.ob.T(h,1)},x.prototype.Zr=function(h){return h==-1?-1:this.ob.T(h,2)},x.prototype.iR=function(h){return h==-1?-1:this.ob.T(h,3)},x.prototype.$F=function(h){return h==-1?0:this.ob.T(h,4)},x.prototype.bG=function(h){return this.ob.T(h,5)},x.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},x.prototype.fl=function(h){h!=-1&&this.ob.jd(h)},x.prototype.gl=function(){return this.Tm=d.O.bB(this.Tm),1073741823&this.Tm},x.prototype.FD=function(h,l,s){var a=this.ob.o;if(s==-1||a[7*s]==-1)return h=this.ob.Ll([-1,-1,-1,h,this.gl(),-1,-1]),(a=this.ob.o)[7*s]=h,this.vp(-1,h,s,a),h;for(var c=s==-1?-1:a[7*s];;){var p=l==-1?1:this.Zn.compare(this,h,c);if(0>p){if((p=this.ll(c))==-1){l=c,h=this.ob.Ll([-1,-1,c,h,this.gl(),-1,-1]),(a=this.ob.o)[7*c]=h;break}c=p}else{if(l==1&&p==0)return a[7*s+3]=c,-1;if((p=a[7*c+1])==-1){l=a[7*c+6],h=this.ob.Ll([-1,-1,c,h,this.gl(),-1,-1]),(a=this.ob.o)[7*c+1]=h;break}c=p}}return this.oy(h,a),a[7*h+2]===-1&&(a[7*s]=h),this.vp(l,h,s,a),h},x.prototype.vp=function(h,l,s,a){if(h!=-1){var c=a[7*h+5];a[7*h+5]=l}else c=s==-1?-1:a[7*s+2];a[7*l+5]=c,c!=-1&&(a[7*c+6]=l),a[7*l+6]=h,h==(s==-1?-1:a[7*s+1])&&(a[7*s+1]=l),h==-1&&(a[7*s+2]=l),a[7*s+4]=(s==-1?0:a[7*s+4])+1},x.prototype.AB=function(h,l){var s=this.ob.o,a=s[7*h+5];h=s[7*h+6],a!=-1?s[7*a+6]=h:s[7*l+1]=h,h!=-1?s[7*h+5]=a:s[7*l+2]=a,s[7*l+4]=l===-1?-1:s[7*l+4]-1},x.prototype.iY=function(h,l){this.AB(h,l);var s=this.ll(h),a=this.Xp(h),c=this.getParent(h),p=h;if(s!=-1&&a!=-1){this.Tm=d.O.bB(this.Tm);var y=1073741823<this.Tm?this.lb(h):this.we(h),g=this.getParent(y)==h;this.ob.gC(h,y,0),this.ob.gC(h,y,1),this.ob.gC(h,y,2),c!=-1?this.ll(c)==h?this.TB(c,y):this.XB(c,y):this.XJ(y,l),g?(s==y?(this.TB(y,h),this.Pk(a,y)):a==y&&(this.XB(y,h),this.Pk(s,y)),this.Pk(h,y),c=y):(this.Pk(s,y),this.Pk(a,y),c=this.getParent(h),p=y),s=this.ll(h),a=this.Xp(h),s!=-1&&this.Pk(s,h),a!=-1&&this.Pk(a,h)}s=s!=-1?s:a,c==-1?this.XJ(s,l):this.ll(c)==p?this.TB(c,s):this.XB(c,s),s!=-1&&this.Pk(s,c),this.fl(h)},x.prototype.LP=function(h,l){var s=this.ob.o;s[7*h+4]=2147483647;var a=-1,c=-1,p=l===-1?-1:s[7*l],y=p==h;if(y&&(a=s[7*p],c=s[7*p+1],a==-1&&c==-1))return this.AB(p,l),this.fl(p),void(s[7*l]=-1);this.KN(h,s),(p=s[7*h+2])!=-1&&(s[7*p]==h?s[7*p]=-1:s[7*p+1]=-1),this.AB(h,l),this.fl(h),y&&(s[7*l]=a==-1||s[7*a+2]!=-1?c:a)},x.prototype.NB=function(h,l){this.ob.S(h,3,l)},x}();d.Yj=j}(ee||(ee={})),function(d){var j=function(){function x(h,l){h!==void 0&&this.K(h,l)}return x.prototype.K=function(h,l){this.oa=h,this.va=l,this.normalize()},x.prototype.isIntersecting=function(h){return this.oa<=h.oa?this.va>=h.oa:h.va>=this.oa},x.prototype.move=function(h){this.B()||(this.oa+=h,this.va+=h)},x.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var h=this.oa;this.oa=this.va,this.va=h}isNaN(this.va)&&this.Oa()}},x.prototype.Oa=function(){this.va=this.oa=NaN},x.prototype.B=function(){return isNaN(this.oa)},x.prototype.Zb=function(h){typeof h=="number"?this.B()?this.va=this.oa=h:this.Lk(h):h.B()||(this.B()?(this.oa=h.oa,this.va=h.va):(this.oa>h.oa&&(this.oa=h.oa),this.va<h.va&&(this.va=h.va),this.oa>this.va&&this.Oa()))},x.prototype.Lk=function(h){h<this.oa?this.oa=h:h>this.va&&(this.va=h)},x.prototype.contains=function(h){return typeof h=="number"?h>=this.oa&&h<=this.va:h.oa>=this.oa&&h.va<=this.va},x.prototype.Ea=function(h){this.B()||h.B()?this.Oa():(this.oa<h.oa&&(this.oa=h.oa),this.va>h.va&&(this.va=h.va),this.oa>this.va&&this.Oa())},x.prototype.W=function(h){this.B()||(this.oa-=h,this.va+=h,this.va<this.oa&&this.Oa())},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},x.prototype.KB=function(h,l){h>l?(this.oa=l,this.va=h):(this.oa=h,this.va=l)},x.prototype.It=function(h){return d.O.Rk(h,this.oa,this.va)},x.prototype.R=function(){return this.va-this.oa},x.prototype.sf=function(){return .5*(this.oa+this.va)},x.prototype.Nb=function(h){return h==this||h instanceof x&&(!(!this.B()||!h.B())||this.oa==h.oa&&this.va==h.va)},x.prototype.cc=function(){return d.O.uj(d.O.uj())},x}();d.Nc=j}(ee||(ee={})),function(d){var j=new d.Nc,x=new d.Nc,h=function(){this.ne=null,this.pb=-1,this.sb=new d.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new d.Nc,this.Uf.KB(0,0)};d.IY=h;var l=function(){function s(a,c,p){this.g=a,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=c,this.Nq=10*c,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=p,this.TA=new h,this.YH=new h,d.O.truncate(3*a.fd/2)}return s.prototype.mG=function(a,c,p,y){a.ne=y===null?null:y[p[5*c]],a.Tv=a.ne!=null,a.Tv||((y=p[5*c+2])!==-1&&this.g.mW(p[5*c],p[5*y],a.sb),a.ne=a.sb,a.Uf.KB(a.sb.sa,a.sb.pa),a.Uf.va+=this.qa,a.sb.rI(),a.Vv=a.sb.la==a.sb.na,a.Vv||(a.qA=(a.sb.pa-a.sb.sa)/(a.sb.la-a.sb.na)))},s.prototype.OO=function(a,c){var p=a.zr(c,this.qa,!0);return p!=0?p==2?this.Qy():this.xi():(a.Yp(Be),a.Tr(Er),c.Yp(rr),c.Tr($t),ft.ma(this.Kq,this.Hk),Be.qb(rr)&&this.Hk==Be.y?0>Er.compare($t)?ft.L(Er):ft.L($t):Be.qb($t)&&this.Hk==Be.y?0>Er.compare(rr)?ft.L(Er):ft.L(rr):rr.qb(Er)&&this.Hk==rr.y?0>Be.compare($t)?ft.L(Be):ft.L($t):Er.qb($t)&&this.Hk==Er.y&&(0>Be.compare(rr)?ft.L(Be):ft.L(rr)),a.Pe(ft.y,ft.x)<c.Pe(ft.y,ft.x)?-1:1)},s.prototype.MO=function(a,c){if(a.sb.na==c.sb.na&&a.sb.sa==c.sb.sa)return a.sb.la==c.sb.la&&a.sb.pa==c.sb.pa?this.gA?this.Qy():0:this.PE(a,c);if(a.sb.la==c.sb.la&&a.sb.pa==c.sb.pa)return this.OE(a,c);var p=this.OE(a,c);return a=this.PE(a,c),0>p&&0>a?-1:0<p&&0<a?1:this.xi()},s.prototype.IO=function(a,c){if(a.pa>c.pa){if(c.pa>c.sa&&c.la-c.na<2*this.qa&&a.vi(c.pa,c.la,this.qa))return this.xi()}else if((c.la-c.na)/(c.pa-c.sa)*(a.pa-a.sa)<this.Nq&&c.vi(a.pa,a.la,this.qa))return this.xi();return 1},s.prototype.JO=function(a,c){if(a.sa<c.sa){if(c.pa>c.sa&&c.la-c.na<2*this.qa&&a.vi(c.pa,c.la,this.qa))return this.xi()}else if((c.la-c.na)/(c.pa-c.sa)*(a.sa-a.pa)<this.Nq&&c.vi(a.sa,a.na,this.qa))return this.xi();return-1},s.prototype.KO=function(a,c){var p=new d.h;p.uc(c.wc(),c.ac()),p.ar(),p.normalize();var y=new d.h;y.uc(a.ac(),c.ac());var g=new d.h;g.uc(a.wc(),c.ac()),y=y.Qh(p),p=g.Qh(p),g=Math.abs(y);var w=Math.abs(p);if(g<w){if(g<this.Nq&&c.vi(a.sa,a.na,this.qa))return this.xi()}else if(w<this.Nq&&c.vi(a.pa,a.la,this.qa))return this.xi();return 0>y&&0>p?-1:0<y&&0<p?1:this.xi()},s.prototype.NE=function(a,c){return a.na==c.na&&a.sa==c.sa?this.IO(a,c):a.la==c.la&&a.pa==c.pa?this.JO(a,c):this.KO(a,c)},s.prototype.LO=function(a,c){return a.la==c.la&&a.pa==c.pa&&a.na==c.na&&a.sa==c.sa?this.gA?this.Qy():0:this.xi()},s.prototype.OE=function(a,c){var p=1;if(a.sb.na<c.sb.na){p=-1;var y=a;a=c,c=y}a=a.sb,y=c.sb;var g=a.sa-y.sa;c=c.qA*(a.na-y.na);var w=this.Nq;return g<c-w?-p:g>c+w?p:y.vi(a.sa,a.na,this.qa)?this.xi():g<c?-p:p},s.prototype.PE=function(a,c){var p=1;if(c.sb.la<a.sb.la){p=-1;var y=a;a=c,c=y}a=a.sb,y=c.sb;var g=a.pa-y.sa;c=c.qA*(a.la-y.na);var w=this.Nq;return g<c-w?-p:g>c+w?p:y.vi(a.pa,a.la,this.qa)?this.xi():g<c?-p:p},s.prototype.Qy=function(){return this.rg=!0,this.Ni=new d.Md(5,this.Lo,this.gt),-1},s.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new d.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},s.prototype.NO=function(a,c,p,y){if(this.rg)return-1;var g=this.OH==this.Hk&&this.NH==this.Kq;if(g&&a==this.Ws)var w=this.PH;else w=NaN,this.Ws=-1;return g&&c==this.Xs?g=this.QH:(g=NaN,this.Xs=-1),p.ne.ZI(j),y.ne.ZI(x),j.va<x.oa?-1:x.va<j.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(w)&&(this.Ws=a,this.PH=w=a=p.ne.Pe(this.Hk,this.Kq)),isNaN(g)&&(this.Xs=c,this.QH=g=a=y.ne.Pe(this.Hk,this.Kq)),Math.abs(w-g)<=this.qa?this.OO(p.ne,y.ne):w<g?-1:w>g?1:0)},s.prototype.Kr=function(){this.rg=!1},s.prototype.rm=function(){return this.Ni},s.prototype.$J=function(a,c){this.Hk=a,this.Kq=c,this.gt=this.Lo=this.Xs=this.Ws=-1},s.prototype.compare=function(a,c,p){return this.rg?-1:(a=a.ja(p),this.Dm=p,this.RE(c,c,a,a))},s.prototype.RE=function(a,c,p,y){if(this.Lo==c)var g=this.TA;else this.Lo=c,g=this.TA,this.TA.pb=a,this.mG(g,c,this.g.td.o,this.g.We);if(w==null){this.gt=y;var w=this.YH;this.YH.pb=p,this.mG(w,y,this.g.td.o,this.g.We)}return g.Tv||w.Tv?this.NO(c,y,g,w):g.Uf.va<w.Uf.oa?-1:w.Uf.va<g.Uf.oa?1:(a=g.Vv?1:0,(a|=w.Vv?2:0)==0?this.MO(g,w):a==1?this.NE(g.sb,w.sb):a==2?-1*this.NE(w.sb,g.sb):this.LO(g.sb,w.sb))},s}();d.UC=l}(ee||(ee={})),function(d){var j=function(){function x(h,l){this.g=h,this.qa=l,this.rg=!1,this.Lo=-1,this.Uf=new d.Nc,this.Gq=new d.h,this.Gq.Rc(),this.ie=new d.yb,this.Dm=-1,this.BA=17976931348623157e292}return x.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},x.prototype.Dh=function(h){this.Gq.L(h)},x.prototype.compare=function(h,l){return this.SE(l,h.ja(l))},x.prototype.SE=function(h,l){var s=this.g.bc(l)!=null;if(s||(this.g.ed(l,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),s)throw d.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=h,this.rg=!0,0;this.ie.rI(),s=this.ie.ac(),(l=new d.h).uc(this.ie.wc(),s),l.ar();var a=new d.h;return a.uc(this.Gq,s),s=l.Qh(a),(s/=l.length())<10*-this.qa?-1:s>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((l=Math.abs(s))<this.BA&&(this.Dm=h,this.BA=l),this.rg=!0,l<.25*this.qa)?0:0>s?-1:1},x}();d.aM=j}(ee||(ee={})),function(d){function j(h,l,s,a){s=new Float64Array(h.subarray(s,a)),h.set(s,l)}var x=function(){function h(l){this.Pb=this.pk=!1,this.o=null;var s=l;2>s&&(s=2),this.o=new Float64Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),c=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)c[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Float64Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Float64Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Float64Array(l):l<=this.o.length||(0<this.o.length?((l=new Float64Array(l)).set(this.o),this.o=l):this.o=new Float64Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Float64Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Float64Array(a)).set(this.o),this.o=a),a=this.o;for(var c=this.size;c<l;c++)a[c]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var c=this.size;s<c&&s<a;s++)l=d.O.uj(this.read(s));return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var c=this.size,p=l.size;if(a>c||a>p&&c!=p)return!1;for(a>c&&(a=c);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,c,p){if(this.Pb)throw d.i.Hb();if(!c&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),c)this.o.set(l.o.subarray(s,s+a),y);else{c=a;for(var g=0;g<a;g+=p){c-=p;for(var w=0;w<p;w++)this.o[y+g+w]=l.o[s+c+w]}}},h.prototype.Mn=function(l,s,a,c,p,y,g){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||c%y!=0))throw d.i.N();var w=this.size-g;if(w<c&&this.resize(this.size+c-w),j(this.o,l+c,l,l+(g-l)),this.o==s.o&&l<a&&(a+=c),p)this.o.set(s.o.subarray(a,a+c),l);else for(p=c,g=0;g<c;g+=y)for(p-=y,w=0;w<y;w++)this.o[l+g+w]=s.o[a+p+w]},h.prototype.Iz=function(l,s,a,c,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*c>this.o.length?this.resize(this.size+2*c):this.size+=2*c,j(this.o,l+2*c,l,l+(y-l)),p)for(p=0;p<c;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var g=c-1;p<c;++p)y=s[a+g],this.o[l++]=y.x,this.o[l++]=y.y,g--}},h.prototype.Ln=function(l,s,a,c){if(this.Pb)throw d.i.Hb();for(c-=l,j(this.o,l+c,l,l+c),c=0;c<a;c++)this.o[l+c]=s},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();j(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,c,p,y){if(0>l||0>s||0>c||!p&&(0>=y||s%y!=0)||a.size<c+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,c,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c++;else if(c=c+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var g=0;g<y;g++)this.o[l+g]=a.o[c+g];l+=y,c-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&j(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var c=s>>1,p=0;p<c;p+=a){s-=a;for(var y=0;y<a;y++){var g=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=g}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var c=s;c<s+a;c++)this.o[c]=l},h.prototype.Ar=function(l,s,a,c,p){if(!(c&&l==a||(this.o.set(this.o.subarray(a,a+s),l),c)))for(a=l,l=l+s-p,c=0,s=d.O.truncate(s/2);c<s;c++){for(var y=0;y<p;y++){var g=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=g}a+=p,l-=p}},h.prototype.vC=function(l,s,a,c,p){if(0>l||0>s||0>c)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=c;c<s;c++)this.o[l]=a[c].x,this.o[l+1]=a[c].y,l+=p},h.prototype.uC=function(l,s,a){if(0>l||0>s)throw d.i.N();if(s!=0){this.size<(s<<1)+l&&this.resize((s<<1)+l),s+=0;for(var c=0;c<s;c++)this.o[l]=a[c][0],this.o[l+1]=a[c][1],l+=2}},h.prototype.Vw=function(l,s,a,c,p){if(0>l||0>s||0>c||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[c+p]=this.o[l+p];else for(c=c+s-1;l<s;l++)a[c]=this.o[l],c--},h.prototype.uB=function(l,s,a){if(0>l||0>s||this.size<(s>>1)+l)throw d.i.N();if(s!=0){s=0+s;for(var c=0;c<s;c++)a[c][0]=this.o[l],a[c][1]=this.o[l+1],l+=2}},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){Array.prototype.sort.call(this.o.subarray(l,s),a)},h.prototype.Tp=function(){return 1},h}();d.be=x}(ee||(ee={})),function(d){function j(h,l,s,a){s=new Int32Array(h.subarray(s,a)),h.set(s,l)}d.rY=function(){this.random=1973};var x=function(){function h(l){this.Pb=this.pk=!1,this.o=null;var s=l;2>s&&(s=2),this.o=new Int32Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),c=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)c[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Int32Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Int32Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Int32Array(l):l<=this.o.length||(0<this.o.length?((l=new Int32Array(l)).set(this.o),this.o=l):this.o=new Int32Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Int32Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Int32Array(a)).set(this.o),this.o=a),a=this.o;for(var c=this.size;c<l;c++)a[c]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var c=this.size;s<c&&s<a;s++)l=d.O.Th(this.read(s),l);return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var c=this.size,p=l.size;if(a>c||a>p&&c!=p)return!1;for(a>c&&(a=c);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,c,p){if(this.Pb)throw d.i.Hb();if(!c&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),c)this.o.set(l.o.subarray(s,s+a),y);else{c=a;for(var g=0;g<a;g+=p){c-=p;for(var w=0;w<p;w++)this.o[y+g+w]=l.o[s+c+w]}}},h.prototype.Mn=function(l,s,a,c,p,y,g){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||c%y!=0))throw d.i.N();if(j(this.o,l+c,l,l+(g-l)),this.o==s.o&&l<a&&(a+=c),p)this.o.set(s.o.subarray(a,a+c),l);else for(p=c,g=0;g<c;g+=y){p-=y;for(var w=0;w<y;w++)this.o[l+g+w]=s.o[a+p+w]}},h.prototype.Iz=function(l,s,a,c,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*c>this.o.length?this.resize(this.size+2*c):this.size+=2*c,j(this.o,l+2*c,l,l+(y-l)),p)for(p=0;p<c;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var g=c-1;p<c;++p)y=s[a+g],this.o[l++]=y.x,this.o[l++]=y.y,g--}},h.prototype.Ln=function(l,s,a,c){if(this.Pb)throw d.i.Hb();for(c-=l,j(this.o,l+c,l,l+c),c=0;c<a;c++)this.o[l+c]=s},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();j(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,c,p,y){if(0>l||0>s||0>c||!p&&(0>=y||s%y!=0)||a.size<c+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,c,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c++;else if(c=c+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var g=0;g<y;g++)this.o[l+g]=a.o[c+g];l+=y,c-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&j(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var c=s>>1,p=0;p<c;p+=a){s-=a;for(var y=0;y<a;y++){var g=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=g}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var c=s;c<s+a;c++)this.o[c]=l},h.prototype.Ar=function(l,s,a,c,p){if(!(c&&l==a||(this.o.set(this.o.subarray(a,a+s),l),c)))for(a=l,l=l+s-p,c=0,s=d.O.truncate(s/2);c<s;c++){for(var y=0;y<p;y++){var g=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=g}a+=p,l-=p}},h.prototype.vC=function(l,s,a,c,p){if(0>l||0>s||0>c)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=c;c<s;c++)this.o[l]=a[c].x,this.o[l+1]=a[c].y,l+=p},h.prototype.Vw=function(l,s,a,c,p){if(0>l||0>s||0>c||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[c+p]=this.o[l+p];else for(c=c+s-1;l<s;l++)a[c]=this.o[l],c--},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){10>s-l?h.rG(this.o,l,s,a):h.qB(this.o,l,s-1,a)},h.prototype.Tp=function(){return 2},h.prototype.Fc=function(){return this.o[this.size-1]},h.prototype.If=function(){this.resize(this.size-1)},h.prototype.bX=function(l){this.o[this.size-1]=l},h.prototype.SV=function(l){l<this.size-1&&(this.o[l]=this.o[this.size-1]),this.resize(this.size-1)},h.prototype.lF=function(l){for(var s=0,a=this.size;s<a;s++)if(this.o[s]==l)return s;return-1},h.prototype.hG=function(l){return 0<=this.lF(l)},h.rG=function(l,s,a,c){for(var p=s;p<a;p++){for(var y=l[p],g=p-1;g>=s&&0<c(l[g],y);)l[g+1]=l[g],g--;l[g+1]=y}},h.tx=function(l,s,a){var c=l[a];l[a]=l[s],l[s]=c},h.qB=function(l,s,a,c){if(!(s>=a))for(;;){if(9>a-s){h.rG(l,s,a+1,c);break}var p=l[s];h.tx(l,s,a);for(var y=s,g=s;g<a;g++)0>=c(l[g],p)&&(h.tx(l,y,g),y+=1);h.tx(l,y,a),y-s<a-y?(h.qB(l,s,y-1,c),s=y+1):(h.qB(l,y+1,a,c),a=y-1)}},h}();d.ia=x}(ee||(ee={})),function(d){function j(h,l,s,a){s=new Int8Array(h.subarray(s,a)),h.set(s,l)}var x=function(){function h(l){this.o=null;var s=l;2>s&&(s=2),this.o=new Int8Array(s),this.size=l}return h.prototype.rotate=function(l,s,a){if(this.Pb)throw d.i.fa("invalid_call");if(s<l||s>a||l>a)throw d.i.N();l!=s&&a!=s&&(this.ni(l,s-l,1),this.ni(s,a-s,1),this.ni(l,a-l,1))},h.qf=function(l,s){var a=new h(l),c=a.o;if(2>l&&(l=2),s!==0)for(var p=0;p<l;p++)c[p]=s;return a},h.Bn=function(l){var s=new h(0);return s.o=new Int8Array(l.o),s.size=l.size,s},h.Lr=function(l,s){var a=new h(0);return a.size=l.size,a.size>s&&(a.size=s),2>(s=a.size)&&(s=2),a.o=new Int8Array(s),a.o.set(l.o.length<=s?l.o:l.o.subarray(0,s),0),a},h.prototype.Jb=function(l){0>=l||(this.o==null?this.o=new Int8Array(l):l<=this.o.length||(0<this.o.length?((l=new Int8Array(l)).set(this.o),this.o=l):this.o=new Int8Array(l)))},h.prototype.read=function(l){return this.o[l]},h.prototype.tc=function(l,s){s.x=this.o[l],s.y=this.o[l+1]},h.prototype.get=function(l){return this.o[l]},h.prototype.write=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.set=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s},h.prototype.Tt=function(l,s){if(this.Pb)throw d.i.Hb();this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.add=function(l){this.resize(this.size+1),this.o[this.size-1]=l},h.prototype.GB=function(l){return h.Lr(this,l)},h.prototype.eg=function(l){return this.read(l)},h.prototype.resize=function(l,s){if(s===void 0&&(s=0),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(l<=this.size){if(30<this.o.length&&5*l/4<this.o.length){var a=new Int8Array(this.o,0,l);this.o=a}}else{l>this.o.length&&(a=d.O.truncate(64>l?Math.max(2*l,4):5*l/4),(a=new Int8Array(a)).set(this.o),this.o=a),a=this.o;for(var c=this.size;c<l;c++)a[c]=s}this.size=l},h.prototype.Bh=function(l){if((this.o==null||l>this.o.length)&&this.resize(l),this.pk)throw d.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=l},h.prototype.pr=function(l,s){this.write(l,s)},h.prototype.An=function(l,s,a){for(var c=this.size;s<c&&s<a;s++)l=d.O.Th(this.read(s),l);return l},h.prototype.Nb=function(l,s,a){if(l==null||!(l instanceof h))return!1;var c=this.size,p=l.size;if(a>c||a>p&&c!=p)return!1;for(a>c&&(a=c);s<a;s++)if(this.read(s)!=l.read(s))return!1;return!0},h.prototype.addRange=function(l,s,a,c,p){if(this.Pb)throw d.i.Hb();if(!c&&(1>p||a%p!=0))throw d.i.N();var y=this.size;if(this.resize(y+a),c)this.o.set(l.o.subarray(s,s+a),y);else{c=a;for(var g=0;g<a;g+=p){c-=p;for(var w=0;w<p;w++)this.o[y+g+w]=l.o[s+c+w]}}},h.prototype.Mn=function(l,s,a,c,p,y,g){if(this.Pb)throw d.i.Hb();if(!p&&(1>y||c%y!=0))throw d.i.N();if(j(this.o,l+c,l,l+(g-l)),this.o==s.o&&l<a&&(a+=c),p)this.o.set(s.o.subarray(a,a+c),l);else for(p=c,g=0;g<c;g+=y){p-=y;for(var w=0;w<y;w++)this.o[l+g+w]=s.o[a+p+w]}},h.prototype.Ln=function(l,s,a,c){if(this.Pb)throw d.i.Hb();for(c-=l,j(this.o,l+c,l,l+c),c=0;c<a;c++)this.o[l+c]=s},h.prototype.Iz=function(l,s,a,c,p,y){if(this.Pb)throw d.i.Hb();if(0>y&&(y=this.size),this.size+2*c>this.o.length?this.resize(this.size+2*c):this.size+=2*c,j(this.o,l+2*c,l,l+(y-l)),p)for(p=0;p<c;p++)y=s[a++],this.o[l++]=y.x,this.o[l++]=y.y;else{p=0;for(var g=c-1;p<c;++p)y=s[a+g],this.o[l++]=y.x,this.o[l++]=y.y,g--}},h.prototype.vj=function(l,s,a){if(this.Pb)throw d.i.Hb();j(this.o,l+2,l,l+(a-l)),this.o[l]=s.x,this.o[l+1]=s.y},h.prototype.Ut=function(l,s,a,c,p,y){if(0>l||0>s||0>c||!p&&(0>=y||s%y!=0)||a.size<c+s)throw d.i.N();if(s!=0)if(this.size<s+l&&this.resize(s+l),a==this)this.Ar(l,s,c,p,y);else if(p)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c++;else if(c=c+s-y,y==1)for(p=0;p<s;p++)this.o[l]=a.o[c],l++,c--;else for(p=0,s=d.O.truncate(s/y);p<s;p++){for(var g=0;g<y;g++)this.o[l+g]=a.o[c+g];l+=y,c-=y}},h.prototype.En=function(l,s,a){if(this.Pb||l+s>this.size)throw d.i.Hb();0<a-(l+s)&&j(this.o,l,l+s,l+(a-(l+s))+s),this.size-=s},h.prototype.ni=function(l,s,a){if(this.Pb||1>a||s%a!=0)throw d.i.Hb();for(var c=s>>1,p=0;p<c;p+=a){s-=a;for(var y=0;y<a;y++){var g=this.o[l+p+y];this.o[l+p+y]=this.o[l+s+y],this.o[l+s+y]=g}}},h.prototype.Wj=function(l,s,a){if(0>s||0>a||0>s||a+s>this.size)throw d.i.N();for(var c=s;c<s+a;c++)this.o[c]=l},h.prototype.Ar=function(l,s,a,c,p){if(!(c&&l==a||(this.o.set(this.o.subarray(a,a+s),l),c)))for(a=l,l=l+s-p,c=0,s=d.O.truncate(s/2);c<s;c++){for(var y=0;y<p;y++){var g=this.o[a+y];this.o[a+y]=this.o[l+y],this.o[l+y]=g}a+=p,l-=p}},h.prototype.vC=function(l,s,a,c,p){if(0>l||0>s||0>c)throw d.i.N();if(s!=0)for(this.size<(s<<1)+l&&this.resize((s<<1)+l),p||(l+=s-1<<1),p=p?2:-2,s+=c;c<s;c++)this.o[l]=a[c].x,this.o[l+1]=a[c].y,l+=p},h.prototype.Vw=function(l,s,a,c,p){if(0>l||0>s||0>c||this.size<s+l)throw d.i.N();if(p)for(p=0;p<s;p++)a[c+p]=this.o[l+p];else for(c=c+s-1;l<s;l++)a[c]=this.o[l],c--},h.prototype.clear=function(l){l?this.resize(0):this.Bh(0)},h.prototype.ix=function(){this.pk=this.Pb=!0},h.prototype.Vd=function(l,s,a){s=this.o.subarray(l,s),Array.prototype.sort.call(s,a),this.o.set(s,l)},h.prototype.zJ=function(l,s){if(this.Pb)throw d.i.fa("invalid call. Attribute Stream is read only.");this.o[l]|=s},h.prototype.KE=function(l,s){if(this.Pb)throw d.i.fa("invalid call. Attribute Stream is read only.");this.o[l]&=~s},h.prototype.Tp=function(){return 1},h}();d.pn=x}(ee||(ee={})),function(d){d.Yc=function(){function j(){}return j.Mr=function(x,h){return d.pn.qf(x,h)},j.Dn=function(x,h){return d.be.qf(x,h)},j.pP=function(x,h,l){switch(x){case 1:x=d.be.qf(h,l);break;case 2:x=d.ia.qf(h,l);break;case 4:x=d.pn.qf(h,l);break;default:throw d.i.Qa()}return x},j.YE=function(x,h){return j.pP(d.ra.Tp(x),h*d.ra.Va(x),d.ra.se(x))},j.Oh=function(x,h){return d.ia.qf(x,h)},j.qI=function(x){var h,l=[];for(h=0;h<x;h++)l.push(null);return l},j}()}(ee||(ee={})),function(d){d.ga=function(j){j===void 0&&(j=0),this.u=j}}(ee||(ee={})),function(d){d.NL=function(){function j(){}return j.bind=function(x){d.Sc=x.PeDefs,d.pf=x.PeFactory,d.NC=x.PeVertcs,d.ej=x.PeCSTransformations,d.MC=x.PeGTTransformations,d.LL=x.PeGeogtran,d.KL=x.PeFactoryCodechange,d.LC=x.PeGCSExtent,d.Cg=x.PePCSInfo,d.ML=x.PeHorizon,d.JL=x.PeCoordsys,d.lp=x.PeGTlistExtended,d.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,d.pf.initialize(null),d.Mx=x.PeGTlistExtendedEntry,d.pf.fromString(d.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},j}(),d.pf=null,d.NC=null,d.JL=null,d.ML=null,d.Cg=null,d.lp=null,d.Mx=null,d.LC=null,d.KL=null,d.LL=null,d.Sc=null,d.MC=null,d.ej=null}(ee||(ee={})),function(d){var j=function(){function x(){}return x.Mb=function(h,l){return 0<=l?x.P(h):-x.P(h)},x.P=function(h){return 0>h?-h:h},x.ti=function(h){return 3552713678800501e-30>h},x.KC=function(h,l,s){return x.P(h-l)<=s*(1+(x.P(h)+x.P(l))/2)},x.Y=function(h,l){return x.KC(h,l,3552713678800501e-30)},x.FL=function(h){return 3552713678800501e-30>=x.P(h)},x.Cd=function(h){return x.FL(h)},x}();d.s=j,d.F=function(){function x(){}return x.gp=function(h,l){var s=0;return(h=j.P(h))+(l=j.P(l))!=0&&(h>l?(s=l/h,s=h*Math.sqrt(1+s*s)):(s=h/l,s=l*Math.sqrt(1+s*s))),s},x.Wq=function(h,l,s,a,c){for(var p=[0,0,0],y=[0,0,0],g=0;2>=g;g++)l[g]-=h[g],s[g]-=l[g];s=p[1]*y[2]-p[2]*y[1],l=p[2]*y[0]-p[0]*y[2],p=p[0]*y[1]-p[1]*y[0],h=-1*(s*h[0]+l*h[1]+p*h[2]),a[0]=s,a[1]=l,a[2]=p,a[3]=h,y=x.on(a),a[0]/=y,a[1]/=y,a[2]/=y,a[3]/=y,c!=0&&(y=j.Cd(p)?j.Cd(h)?j.Mb(1,l):-j.Mb(1,h):j.Mb(1,p),y*=j.Mb(1,c),a[0]*=y,a[1]*=y,a[2]*=y,a[3]*=y)},x.zx=function(h,l,s){s[0]=h[1]*l[2]-l[1]*h[2],s[1]=h[2]*l[0]-l[2]*h[0],s[2]=h[0]*l[1]-l[0]*h[1]},x.St=function(h,l){return h[0]*l[0]+h[1]*l[1]+h[2]*l[2]},x.on=function(h){return x.gp(x.gp(h[0],h[1]),h[2])},x.cl=function(h,l,s,a,c,p,y,g){h=x.n(h,l,s);var w=Math.cos(s);p.u=(h+c)*w*Math.cos(a),y.u=(h+c)*w*Math.sin(a),g.u=(h*(1-l)+c)*Math.sin(s)},x.jO=function(h,l,s,a,c,p,y){var g=x.gp(l,s),w=1*Math.sqrt(1-h),S=w/1;if(j.Y(g,0))p.u=0,c.u=j.Mb(1.570796326794897,a),y.u=j.P(a)-w;else{p.u=Math.atan2(s,l),s=Math.atan2(1*a,w*g),p=Math.cos(s);var k=Math.sin(s);l=w*h/(1-h),h*=1,s=Math.atan2(a+l*k*k*k,g-h*p*p*p),3.141592653589793<j.P(s)&&(s=j.Mb(3.141592653589793,s)-s),s=Math.atan(S*Math.tan(s)),k=Math.sin(s),p=Math.cos(s),c.u=Math.atan2(a+l*k*k*k,g-h*p*p*p),1.570796326794897<j.P(c.u)&&(c.u=j.Mb(3.141592653589793,c.u)-c.u),s=Math.atan(S*Math.tan(c.u)),k=Math.sin(s),p=Math.cos(s),y.u=(a-w*k)*Math.sin(c.u)+(g-1*p)*Math.cos(c.u)}},x.n=function(h,l,s){return s=Math.sin(s),h/Math.sqrt(1-l*s*s)},x.ot=function(h,l){return Math.atan2(Math.sin(l)*(1-h),Math.cos(l))},x.Qj=function(h,l){return Math.atan2(Math.sin(l),Math.cos(l)*(1-h))},x.Rq=function(h,l){if(j.ti(h)||l==0||j.Y(j.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=Math.sqrt(1-h),a=(1-s)/(1+s),c=a*a,p=a*c,y=a*p,g=a*y,w=a*g,S=a*w,k=1.572916666666667*p-3.2578125*g+4.295068359375*S;h=2.142578125*y-6.071484375*w,s=3.129296875*g-11.249837239583334*S;var E=4.775276692708333*w,P=7.958636765252976*S,R=Math.cos(2*l);return l+Math.sin(2*l)*(1.5*a-.84375*p+.525390625*g-.2688395182291667*S-k+s-P+R*(2*(1.3125*c-1.71875*y+1.650146484375*w)-4*h+6*E+R*(4*k-12*s+24*P+R*(8*h-32*E+R*(16*s-80*P+R*(32*E+64*R*P))))))}for(s=1-h,a=h/2,p=(c=j.P(l))*x.Zu(h)/(1.570796326794897*s),y=9999,w=c,c=0;1e-16<y&&50>c;c++)S=x.w(h,w),g=w-(k=(g=(x.kG(w,h)-a*Math.sin(2*w)/S)/s-p)/(S=1/(S*S*S))),y=j.P(k),w=g;return 0<=l?w:-w},x.qW=function(h,l){return j.ti(l)?h:h*x.Zu(l)/1.570796326794897},x.ba=function(h){return 0>(h=x.pF(h,6.283185307179586))?h+6.283185307179586:3.141592653589793>j.P(h)||j.Y(j.P(h),3.141592653589793)?h:h-6.283185307179586},x.pF=function(h,l){return h-Math.floor(h/l)*l},x.Ah=function(h,l){if(.006884661117170036>l){var s=(l=(1-(l=Math.sqrt(1-l)))/(1+l))*l,a=s*s;return h/(1+l)*(1+.25*s+.015625*a+.00390625*s*a)*1.570796326794897}return h*x.Zu(l)},x.Vq=function(h,l){var s=j.Mb(1,Math.sin(l));return l=1.570796326794897>=(l=j.P(x.pF(l,3.141592653589793)))?l:3.141592653589793-l,(j.Y(l,1.570796326794897)?l:Math.atan(Math.sqrt(1-h)*Math.tan(l)))*s},x.q=function(h,l,s){if(.006884661117170036>l){var a=(l=(1-(l=Math.sqrt(1-l)))/(1+l))*l,c=l*a,p=l*c,y=l*p,g=l*y,w=l*g,S=-.7291666666666666*c+.2278645833333333*y+.03987630208333334*w,k=.615234375*p-.21533203125*g,E=-.54140625*y+.20302734375*w,P=.48876953125*g,R=-.4488699776785715*w,D=Math.cos(2*s);return h/(1+l)*((1+.25*a+.015625*p+.00390625*g)*s+Math.sin(2*s)*(-1.5*l+.1875*c+.0234375*y+.00732421875*w-S+E-R+D*(2*(.9375*a-.234375*p-.03662109375*g)-4*k+6*P+D*(4*S-12*E+24*R+D*(8*k-32*P+D*(16*E-80*R+D*(32*P+64*D*R)))))))}return h*(x.kG(s,l)-.5*l*Math.sin(2*s)/x.w(l,s))},x.w=function(h,l){return l=Math.sin(l),Math.sqrt(1-h*l*l)},x.Zu=function(h){return j.KC(h,1,2220446049250313e-31)?1:1>h?x.Xw(0,1-h)-h/3*x.Uw(0,1-h):NaN},x.kG=function(h,l){var s=j.Mb(1,h);h=j.P(h);var a=Math.floor(h/1.570796326794897);if(1<l)l=h==0?0:NaN;else if(j.Cd(a))l=(h=x.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h);else{var c=d.O.truncate(a%2),p=x.Zu(l);0<c?(h=1.570796326794897*(a+1)-h,l=p*(a+1)-(l=(h=Math.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h))):(h-=1.570796326794897*a,l=p*a+(l=(h=Math.sin(h))*x.Xw(1-h*h,1-l*h*h)-l/3*h*h*h*x.Uw(1-h*h,1-l*h*h)))}return l*s},x.sin=function(h){h=x.ba(h);var l=j.Mb(1,h);return h=j.P(h),j.Y(h,3.141592653589793)?0:j.Y(h,1.570796326794897)?1*l:Math.sin(h)*l},x.Uw=function(h,l){var s,a,c,p,y=h,g=l,w=1;for(l=0,h=1;a=((s=.2*(y+g+3*w))-y)/s,c=(s-g)/s,p=(s-w)/s,!(1e-4>j.P(a)&&1e-4>j.P(c)&&1e-4>j.P(p));)p=Math.sqrt(g),l+=h/((s=Math.sqrt(w))*(w+(p=Math.sqrt(y)*(p+s)+p*s))),h*=.25,y=.25*(y+p),g=.25*(g+p),w=.25*(w+p);return g=(y=a*c)-(w=p*p),3*l+h*(1+(w=y-6*w)*(.10227272727272728*w-.2142857142857143-.1730769230769231*p*(a=w+g+g))+p*(.1666666666666667*a+p*(-.4090909090909091*g+.1153846153846154*p*y)))/(s*Math.sqrt(s))},x.Xw=function(h,l){for(var s,a,c,p,y=1;a=2-((s=(h+l+y)/3)+h)/s,c=2-(s+l)/s,p=2-(s+y)/s,!(1e-4>j.P(a)&&1e-4>j.P(c)&&1e-4>j.P(p));y=.25*(y+s))s=Math.sqrt(l),a=Math.sqrt(y),h=.25*(h+(s=Math.sqrt(h)*(s+a)+s*a)),l=.25*(l+s);return(1+(.04166666666666666*(h=a*c-p*p)-.1-.06818181818181818*(l=a*c*p))*h+.07142857142857142*l)/Math.sqrt(s)},x.Qw=function(h,l){if(j.ti(h)||l==0||j.Y(j.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=h*h,a=h*s,c=h*a,p=h*c,y=h*p,g=h*y,w=-(.02708333333333333*a+.03430059523809524*c+.03149181547619048*p+.02634359154541446*y+.02156896735835538*g),S=.007669890873015873*c+.01299603174603175*p+.0148051353064374*y+.01454454953803912*g,k=-(.002275545634920635*p+.004830845032667949*y+.006558395368616723*g),E=.0006957236677288761*y+.001775193002406544*g,P=-.000217324089394402*g,R=Math.cos(2*l);return l+Math.sin(2*l)*(-(.5*h+.2083333333333333*s+.09375*a+.04878472222222222*c+.02916666666666667*p+.01938905423280423*y+.01388255931712963*g)-w+k-P+R*(2*(.1041666666666667*s+.0875*a+.06050347222222222*c+.04151785714285714*p+.02958958540013228*y+.02203667534722222*g)-4*S+6*E+R*(4*w-12*k+24*P+R*(8*S-32*E+R*(16*k-80*P+R*(32*E+64*R*P))))))}return l==0||j.Y(j.P(l),1.570796326794897)?s=l:(c=(a=Math.sqrt(h))*Math.sin(l),s=Math.tan(.7853981633974483+l/2)*Math.pow((1-c)/(1+c),a/2),s=2*Math.atan(s)-1.570796326794897),s},x.yO=function(h,l){if(j.ti(h)||l==0||j.Y(j.P(l),1.570796326794897))return l;if(.006884661117170036>h){var s=h*(E=h*(k=h*(R=h*h))),a=h*(P=h*s),c=.05833333333333333*k+.07232142857142858*E+.05634300595238095*s+.0355325796406526*P+.020235546186067*a,p=.02653149801587302*E+.04379960317460317*s+.0429211791776896*P+.03255384637546096*a,y=.01294022817460318*s+.02668104344536636*P+.03155651254609588*a,g=.00659454790965208*P+.0163075268674227*a,w=.003463473736911237*a,S=Math.cos(2*l);return l+Math.sin(2*l)*(.5*h+.2083333333333333*R+.08333333333333333*k+.03611111111111111*E+.01875*s+.01195601851851852*P+.008863673941798942*a-c+y-w+S*(2*(.1458333333333333*R+.1208333333333333*k+.07039930555555556*E+.03616071428571429*s+.01839451058201058*P+.01017113095238095*a)-4*p+6*g+S*(4*c-12*y+24*w+S*(8*p-32*g+S*(16*y-80*w+S*(32*g+64*S*w))))))}var k=Math.sqrt(h),E=k/2,P=Math.tan(.7853981633974483+l/2);h=0,c=1;for(var R=l;c!=0;R=a)s=k*Math.sin(R),a=P*Math.pow((1+s)/(1-s),E),a=2*Math.atan(a)-1.570796326794897,h++,(j.Y(a,R)||3e4<h)&&(c=0);return R},x}()}(ee||(ee={})),function(d){var j=function(){function x(h){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new d.h,this.XH=new d.h,this.KA=!1,this.vq=new d.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=h,this.As=d.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var l=h.getCode();0<l?(this.Kk=l,d.pf.getCode(h)):this.Kk=d.pf.getCode(h),0>this.Kk&&(this.Kk=0);var s=this.Ue.getType();if(this.jH=s==d.Sc.PE_TYPE_PROJCS?2:1,s==d.Sc.PE_TYPE_PROJCS&&!h.loadConstants())throw d.i.N("PeProjcs.loadConstants failed");l=s==d.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),s!=d.Sc.PE_TYPE_GEOGCS&&d.pf.getCode(l),this.Eo=h.getUnit(),this.RH=l.getPrimem().getLongitude(),this.wH=h=l.getUnit().getUnitFactor(),h=Math.PI/(180*h),1e-10>Math.abs(h-1)&&(h=1),this.GA=h,s&d.Sc.PE_TYPE_PROJCS?(l=this.Ue,this.HA=1/l.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=d.Cg.generate(l,d.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=d.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,s=1/l.getUnit().getUnitFactor(),this.sw=.001/l.getDatum().getSpheroid().getAxis()*s,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return x.prototype.$r=function(){return this.Kk},x.prototype.kk=function(){return this.tw},x.Py=function(h,l){return h==l||h!=null&&l!=null&&h.Kk==0&&l.Kk==0&&h.As===l.As},x.prototype.Wc=function(){return this.zl},x.prototype.gh=function(h){h.K(this.so)},x.prototype.pv=function(){return this.so.v},x.prototype.ov=function(){return this.so.C},x.prototype.GR=function(h){h.K(this.uw)},x.prototype.lY=function(){var h=this.Ue.getType();if(h==d.Sc.PE_TYPE_PROJCS){h=this.Ue;var l=this.kk().getCentralMeridian(),s=h.getGeogcs();if(s==null)throw d.i.fa("internal error");l=[[l+(s=1/s.getUnit().getUnitFactor()*Math.PI),0]],d.ej.geogToProj(h,1,l),l=l[0][0],s=h.getParameters()[d.Sc.PE_PARM_X0].getValue();var a=this.ml();h=new d.l,a.A(h),l=(a=Math.abs(l-s))+s,s=-1*a+s,a=h.H,h=h.G;var c=new d.l;c.K(s,h,l,a),this.so==null&&(this.so=c)}else{if(h!=d.Sc.PE_TYPE_GEOGCS)throw d.i.fa("internal error");s=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(h=new d.l).K(-s,-s/2,s,s/2),this.so==null&&(this.so=h)}},x.prototype.mY=function(){var h=this.Ue.getType();if(h==d.Sc.PE_TYPE_PROJCS){var l=this.Ue;if(h=this.kk().getCentralMeridian(),(l=l.getGeogcs())==null)throw d.i.fa("internal error");l=1/l.getUnit().getUnitFactor()*Math.PI;var s=this.Vr(),a=new d.l;s.A(a),(s=new d.l).K(h-l,a.G,h+l,a.H),this.uw==null&&(this.uw=s)}else{if(h!=d.Sc.PE_TYPE_GEOGCS)throw d.i.fa("internal error");l=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(h=new d.l).K(-l,-l/2,l,l/2),this.uw==null&&(this.uw=h)}},x.prototype.bf=function(){return this.GA},x.prototype.pm=function(){return this.HA},x.prototype.Vr=function(){if(this.zl)return this.ul;var h=this.ul;return h??(this.xx(),this.ul)},x.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},x.prototype.xx=function(){if(this.Ue.getType()==d.Sc.PE_TYPE_PROJCS){var h=this.Ue,l=h.getGeogcs(),s=h.horizonGcsGenerate();if(s!=null){var a=s[0].getNump(),c=s[0].getKind();h=0<s[0].getInclusive();var p=this.bf(),y=90*p,g=360*p,w=370*p,S=180*p*d.Sc.PE_HORIZON_DELTA/Math.PI,k=new d.l,E=null;if(1<a){for(var P=1;P<a;P++)if(s[P].getKind()==d.Sc.PE_HORIZON_LINE){E==null&&(E=new d.Ta);var R=s[P].getCoord();E.sx(R[0][0],R[0][1]),E.yj(R[1][0],R[1][1])}}if(c==d.Sc.PE_HORIZON_RECT)s=s[0].getCoord(),k.K(s[0][0],s[0][1]),k.Zb(s[1][0],s[1][1]),Math.abs(k.H-y)<1e-7*S&&(k.H=y),Math.abs(k.G+y)<1e-7*S&&(k.G=-y),k.R()>w&&(s=-400*p,k.K(s,k.G,s+5*g,k.H)),s=new d.Fh(k),this.ul==null&&(this.ul=s,this.Iv=h);else{if(w=new d.Da,g=this.kk().isGcsHorizonMultiOverlap(),k=d.gu.bF(l,d.hu.Integer64),g){for(w=new d.gL,S=d.Gh.local().V(w,k,null),P=0;P<a;P++)if(s[P].getKind()==d.Sc.PE_HORIZON_POLY){for(l=s[P].getSize(),p=s[P].getCoord(),c=[],y=0;y<l;y++)c[y]=d.h.construct(p[y][0],p[y][1]);s[P].getInclusive(),g&&((p=new d.Da).Yk(c,l-1),w.ZX(p),S.qe())}w=S.next()}else for(P=0;P<a;P++)if(s[P].getKind()==d.Sc.PE_HORIZON_POLY){for(l=s[P].getSize(),p=s[P].getCoord(),g=[],y=0;y<l;y++)g[y]=d.h.construct(p[y][0],p[y][1]);s[P].getInclusive(),w.Yk(g,l-1)}h?d.Xj.local().wn(w,k,1):d.kp.local().wn(w,k,1),d.dj.local().wn(w,k,1),this.ul==null&&(this.ul=w,this.Iv=h,this.YG=E)}}}},x.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},x.prototype.DK=function(){if(this.jH==2){var h=this.Ue.horizonPcsGenerate();if(h!=null){var l=h[0].getKind();h[0].getInclusive();var s=h[0].getNump(),a=!1;if(l==d.Sc.PE_HORIZON_RECT)h=h[0].getCoord(),(s=new d.l).K(h[0][0],h[0][1]),s.Zb(h[1][0],h[1][1]),h=new d.Fh(s);else{for(l=-1,a=0;a<s;a++)h[a].getKind()==d.Sc.PE_HORIZON_POLY&&(l=a);for(a=h[l].getSize()-1,h=h[l].getCoord(),s=[],l=0;l<a;l++)s[l]=d.h.construct(h[l][0],h[l][1]);h=l=new d.Da,l.Yk(s,a),a=!0}this.kk().isDensificationNeeded()&&(s=1e5*this.pm(),h=d.Xl.local().V(h,s,null)),a&&(a=new d.Fh,h.bn(a),h.Ke(),h.Qb(),h.qR(),d.Xj.local().wn(h,null,1)),this.Us==null&&(this.Us=h)}}},x.prototype.ml=function(){if(this.zl)return this.Us;var h=this.Us;return h??(this.DK(),this.Us)},x.prototype.nY=function(){if(this.Ue.getType()==d.Sc.PE_TYPE_PROJCS){var h=90*this.bf();h=[[0,h],[0,-h]],d.ej.geogToProj(this.Ue,2,h);var l=this.kk(),s=l.getNorthPoleLocation()!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY;l=l.getSouthPoleLocation()!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(s&&this.HH.ma(h[0][0],h[0][1]),l&&this.XH.ma(h[1][0],h[1][1]))}this.KA=!0},x.prototype.CK=function(){if(this.jH==1){var h=400*this.bf();this.vq.K(-h,-h,h,h)}else h=d.Cg.generate(this.Ue,d.Cg.PE_PCSINFO_OPTION_DOMAIN),h=d.l.construct(h.getDomainMinx(),h.getDomainMiny(),h.getDomainMaxx(),h.getDomainMaxy()),this.vq.B()&&this.vq.K(h)},x.prototype.hR=function(h){this.zl&&h.K(this.vq),this.vq.B()&&this.CK(),h.K(this.vq)},x.prototype.Up=function(){return this.RH},x.prototype.zi=function(){return this.bA},x.prototype.Hd=function(){return this.Eo},x.prototype.Xr=function(){return this.wH},x}();d.OC=j}(ee||(ee={})),function(d){var j=function(){function x(h){this.KT=h,this.As=d.zb.xv(h,0,!0);var l=h.getCode();this.ss=0<l?l:d.pf.getCode(h),0>this.ss&&(this.ss=0),this.Eo=l=this.KT.getUnit(),this.IH=1/l.getUnitFactor(),d.pf.getCode(h)}return x.Py=function(h,l){return h==l||h!=null&&l!=null&&h.ss==0&&l.ss==0&&h.As===l.As},x.prototype.$r=function(){return this.ss},x}();d.PL=j}(ee||(ee={})),function(d){d.Yg=function(){function j(){}return j.tb=function(x,h,l,s,a,c,p,y){if(c!=null||p!=null||y!=null){s=d.F.ba(s),h=d.F.ba(h),l=d.F.ba(l),a=d.F.ba(a),1.570796326794897<d.s.P(l)&&(l=d.s.Mb(3.141592653589793,l)-l,h=d.F.ba(h+3.141592653589793)),1.570796326794897<d.s.P(a)&&(a=d.s.Mb(3.141592653589793,a)-a,s=d.F.ba(s+3.141592653589793));var g=d.F.ba(s-h);if(d.s.Y(l,a)&&(d.s.Y(h,s)||d.s.Y(d.s.P(l),1.570796326794897)))c!=null&&(c.u=0),p!=null&&(p.u=0),y!=null&&(y.u=0);else{if(d.s.Y(l,-a)){if(d.s.Y(d.s.P(l),1.570796326794897))return c!=null&&(c.u=3.141592653589793*x),p!=null&&(p.u=0<l?d.F.ba(3.141592653589793-d.F.ba(s)):d.F.ba(s)),void(y!=null&&(y.u=0<l?d.F.ba(s):d.F.ba(3.141592653589793-d.F.ba(s))));if(d.s.Y(d.s.P(g),3.141592653589793))return c!=null&&(c.u=3.141592653589793*x),p!=null&&(p.u=0),void(y!=null&&(y.u=0))}var w=d.s.P(l)==1.570796326794897?0:Math.cos(l),S=Math.sin(l),k=d.s.P(a)==1.570796326794897?0:Math.cos(a),E=Math.sin(a),P=d.s.P(g)==1.570796326794897?0:Math.cos(g),R=d.s.P(g)==3.141592653589793?0:Math.sin(g);if(c!=null){var D=Math.sin((a-l)/2);g=Math.sin(g/2),c.u=2*Math.asin(Math.sqrt(D*D+w*k*g*g))*x}p!=null&&(p.u=d.s.Y(d.s.P(l),1.570796326794897)?0>l?s:d.F.ba(3.141592653589793-s):Math.atan2(k*R,w*E-S*k*P)),y!=null&&(d.s.Y(d.s.P(a),1.570796326794897)?y.u=0>a?h:d.F.ba(3.141592653589793-h):(y.u=Math.atan2(w*R,E*w*P-k*S),y.u=d.F.ba(y.u+3.141592653589793)))}}},j.rf=function(x,h,l,s,a,c,p){if(c!=null||p!=null){h=d.F.ba(h),l=d.F.ba(l),1.570796326794897<d.s.P(l)&&(l=d.s.Mb(3.141592653589793,l)-l,h=d.F.ba(h+3.141592653589793)),d.s.Y(d.s.P(l),1.570796326794897)&&(h=0),a=d.F.ba(a);var y=d.s.Y(d.s.P(a),1.570796326794897)?0:Math.cos(a),g=d.s.Y(d.s.P(a),3.141592653589793)?0:Math.sin(a),w=d.s.Y(d.s.P(l),1.570796326794897)?0:Math.cos(l),S=Math.sin(l);x=s/x,s=d.s.Y(d.s.P(x),1.570796326794897)?0:Math.cos(x);var k=d.s.Y(d.s.P(x),3.141592653589793)?0:Math.sin(x),E=Math.asin(S*s+w*k*y);p!=null&&(p.u=E),c!=null&&(c.u=d.s.Y(d.s.P(E),1.570796326794897)?d.s.Y(l,-E)?0>E?a:d.F.ba(3.141592653589793-a):h:d.s.Y(d.s.P(l),1.570796326794897)&&d.s.Y(x,3.141592653589793)?0>l?a:d.F.ba(3.141592653589793-a):d.F.ba(h+Math.atan2(k*g,w*s-S*k*y)))}},j}()}(ee||(ee={})),function(d){d.Wk=function(){function j(){}return j.tb=function(x,h,l,s,a,c,p,y,g){var w=new d.ga(0),S=new d.ga(0),k=[0,0,0],E=[0,0,0],P=[0,0,0],R=new d.ga(0),D=new d.ga(0),U=new d.ga(0),Y=new d.ga(0),K=new d.ga(0);if(p!=null||y!=null||g!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,c,p,y,g);else{a=d.F.ba(a),l=d.F.ba(l);var V=d.F.ba(a-l);if(d.s.Y(s,c)&&(d.s.Y(l,a)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),g!=null&&(g.u=0);else{if(d.s.Y(s,-c)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(g!=null&&(g.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(V),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),g!=null&&(g.u=0))}else(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(c),1.570796326794897))&&(d.s.Y(d.s.P(s),1.570796326794897)?l=a:a=l);var Q=0;if(0>V){Q=1;var ae=l;l=a,a=ae,ae=s,s=c,c=ae}V=d.F.ot(h,s);var oe=d.F.ot(h,c);y==null&&g==null||(d.Yg.tb(x,l,V,a,oe,null,w,S),w=Math.atan2(Math.sin(w.u)*Math.cos(s-V),Math.cos(w.u)),S=Math.atan2(Math.sin(S.u)*Math.cos(c-oe),Math.cos(S.u)),Q!=0&&(ae=w,w=S,S=ae),y!=null&&(y.u=w),g!=null&&(g.u=S)),p!=null&&(d.F.cl(1,h,s,l,0,U,Y,K),k[0]=U.u,k[1]=Y.u,k[2]=K.u,d.F.cl(1,h,c,a,0,U,Y,K),E[0]=U.u,E[1]=Y.u,E[2]=K.u,P[0]=k[1]*E[2]-E[1]*k[2],P[1]=-(k[0]*E[2]-E[0]*k[2]),P[2]=k[0]*E[1]-E[0]*k[1],h=1-d.F.w(h,d.F.Vq(h,d.F.Qj(h,Math.acos(P[2]/Math.sqrt(P[0]*P[0]+P[1]*P[1]+P[2]*P[2]))))),h*=2-h,y=Math.atan2(-P[1],-P[0]),P=d.F.ba(y-1.570796326794897),y=d.F.ba(y+1.570796326794897),P=d.s.P(d.F.ba(l-P))<=d.s.P(d.F.ba(l-y))?P:y,d.Yg.tb(1,P,0,l,V,R,null,null),d.Yg.tb(1,P,0,a,oe,D,null,null),3.141592653589793<R.u+D.u&&(P=d.F.ba(P+3.141592653589793),d.Yg.tb(1,P,0,l,V,R,null,null),d.Yg.tb(1,P,0,a,oe,D,null,null)),R.u*=d.s.Mb(1,s),D.u*=d.s.Mb(1,c),R.u=d.F.Qj(h,R.u),D.u=d.F.Qj(h,D.u),l=d.F.q(x,h,R.u),x=d.F.q(x,h,D.u),p.u=d.s.P(x-l))}}},j.rf=function(x,h,l,s,a,c,p,y){var g=0,w=new d.ga(0),S=new d.ga(0),k=[0,0,0],E=[0,0,0],P=new d.ga(0),R=new d.ga(0),D=new d.ga(0);if(p!=null||y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,c,p,y);else if(d.s.Cd(a))p!=null&&(p.u=l),y!=null&&(y.u=s);else if(c=d.F.ba(c),0>a&&(a=d.s.P(a),c=d.F.ba(c+3.141592653589793)),l=d.F.ba(l),s=d.F.ba(s),1.570796326794897<d.s.P(s)&&(l=d.F.ba(l+3.141592653589793),s=d.s.Mb(3.141592653589793,s)-s),d.s.Y(d.s.P(s),1.570796326794897)&&(l=0),d.s.Cd(s)){var U=d.s.P(1.570796326794897-d.s.P(c));U=d.F.Qj(h,U),U=1-d.F.w(h,d.F.Vq(h,U)),U*=2-U,x=a/d.F.Ah(x,U)*1.570796326794897,x=d.F.Rq(U,x),x=d.F.ot(U,x),d.Yg.rf(1,l,s,x,c,p,w),y!=null&&(g=w.u),y!=null&&(y.u=d.F.Qj(h,g))}else if(d.s.Y(d.s.P(s),1.570796326794897))w=2*(g=d.F.Ah(x,h)),c=0<(x=d.s.Mb(1.570796326794897,s))?d.F.ba(3.141592653589793-c):c,s=g-a,d.s.P(s)<=g?p!=null&&(p.u=c):(s=Math.floor(a/w),d.O.truncate(s%2)==0?(p!=null&&(p.u=c),a-=s*w):(p!=null&&(p.u=d.F.ba(c+3.141592653589793)),a=(s+1)*w-a),s=g-a),y!=null&&(y.u=d.F.Rq(h,s/g*x));else{U=d.F.ot(h,s),c=Math.atan2(Math.sin(c),Math.cos(c)*Math.cos(s-U));var Y=d.O.truncate(d.s.Mb(1,U))*(1.570796326794897>=d.s.P(c)?1:-1);c=d.F.ba(l+Math.atan(Math.tan(c)*-Math.sin(U))),d.Yg.tb(x,c,0,l,U,null,S,null),U=d.s.P(1.570796326794897-d.s.P(S.u)),U=d.F.Qj(h,U),U=1-d.F.w(h,d.F.Vq(h,U)),U*=2-U,d.F.cl(1,h,0,c,0,P,R,D),k[0]=P.u,k[1]=R.u,k[2]=D.u,d.F.cl(1,h,s,l,0,P,R,D),E[0]=P.u,E[1]=R.u,E[2]=D.u,s=Math.acos((k[0]*E[0]+k[1]*E[1]+k[2]*E[2])/Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2])),s=d.F.Qj(U,s),a=0<(s=d.F.q(x,U,s)+a*Y)?S.u:d.F.ba(S.u+3.141592653589793),x=d.s.P(s)/d.F.Ah(x,U)*1.570796326794897,x=d.F.Rq(U,x),x=d.F.ot(U,x),d.Yg.rf(1,c,0,x,a,p,w),y!=null&&(g=w.u),y!=null&&(y.u=d.F.Qj(h,g))}},j}()}(ee||(ee={})),function(d){d.cu=function(){function j(){}return j.tb=function(x,h,l,s,a,c,p,y,g){var w=0,S=0,k=0;if(p!=null||y!=null||g!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,c,p,y,g);else{var E=d.F.ba(a-l);if(d.s.Y(s,c)&&(d.s.Cd(E)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),g!=null&&(g.u=0);else{if(d.s.Y(s,-c)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(g!=null&&(g.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(E),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),g!=null&&(g.u=0))}else if(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(c),1.570796326794897)||d.s.Cd(E)||d.s.Y(d.s.P(E),3.141592653589793))return void d.Wk.tb(x,h,l,s,a,c,p,y,g);var P=1-Math.sqrt(1-h),R=h/(1-h),D=x*(1-P);x=d.F.Vq(h,s);var U=d.F.Vq(h,c);h=d.s.P(x)==1.570796326794897?0:Math.cos(x);var Y=Math.sin(x),K=d.s.P(U)==1.570796326794897?0:Math.cos(U),V=Math.sin(U),Q=E,ae=Math.cos(Q),oe=Math.sin(Q),me=1,de=0;do{var Me=Q,_e=Math.sqrt(Math.pow(K*oe,2)+Math.pow(h*V-Y*K*ae,2)),xe=Y*V+h*K*ae,Ue=Math.atan2(_e,xe);if(_e==0){me=0;break}var Ae=h*K*oe/_e;if(w=Math.cos(Math.asin(Ae)),S=xe-2*Y*V/(w*=w),1<d.s.P(S)&&(S=d.s.Mb(1,S)),Q=E+(1-(Q=P/16*w*(4+P*(4-3*w))))*P*Ae*(Ue+Q*_e*(S+Q*xe*(2*(k=S*S)-1))),ae=Math.cos(Q),oe=Math.sin(Q),de++,3.141592653589793<d.s.P(Q)&&30<de){me=0;break}}while(5e3>=de&&!d.s.Y(Me,Q));if(me!=0)P=(R*=w)*(256+R*(R*(74-47*R)-128))/1024,p!=null&&(p.u=D*(1+R*(4096+R*(R*(320-175*R)-768))/16384)*(Ue-P*_e*(S+P/4*(xe*(2*k-1)-P/6*S*(4*_e*_e-3)*(4*k-3))))),y!=null&&(y.u=d.s.Y(d.s.P(s),1.570796326794897)?0>s?a:d.F.ba(3.141592653589793-a):Math.atan2(K*oe,h*V-Y*K*ae)),g!=null&&(d.s.Y(d.s.P(c),1.570796326794897)?g.u=0>c?l:d.F.ba(3.141592653589793-l):(g.u=Math.atan2(h*oe,h*V*ae-Y*K),g.u=d.F.ba(g.u+3.141592653589793)));else{Q=d.s.Mb(3.141592653589793,E),xe=Y*V-h*K,Ue=Math.acos(xe),_e=Math.sin(Ue),w=1,de=Ae=0;do k=Ae,ae=1-.25*(Ae=P*(w*=w)*(1+P+P*P))+.1875*(S=P*P*(ae=w*w)*(1+2.25*P))-.1953125*(me=P*P*P*ae*w),Ae=.25*Ae-.25*S+.29296875*me,oe=.03125*S-.05859375*me,me*=.00651041666666667,S=xe-2*Y*V/w,1<d.s.P(S)&&(S=d.s.Mb(1,S)),w=Math.acos(S),xe=Math.cos(2*w),Me=Math.cos(3*w),oe=(Ae=d.s.Y(s,-c)?d.F.ba(3.141592653589793-E)/(3.141592653589793*P*ae):d.F.ba(Q-E)/(P*(ae*Ue+Ae*_e*S+oe*Math.sin(2*Ue)*xe+me*Math.sin(3*Ue)*Me)))*_e/(h*K),Q=1.570796326794897<d.s.P(E)?d.s.Mb(3.141592653589793,oe)-Math.asin(oe):Math.asin(oe),ae=Math.cos(Q),_e=Math.sqrt(Math.pow(K*oe,2)+Math.pow(h*V-Y*K*ae,2)),Ue=3.141592653589793-Math.asin(d.s.P(_e)),xe=Math.cos(Ue),w=Math.cos(Math.asin(Ae)),de++;while(70>=de&&!d.s.Y(k,Ae));p!=null&&(ae=1+(R*=w*=w)*(4096+R*(R*(320-175*R)-768))/16384,d.s.Y(s,-c)?p.u=3.141592653589793*D*ae:(S=xe-2*Y*V/w,w=Math.acos(S),xe=Math.cos(2*w),Me=Math.cos(3*w),p.u=D*(ae*Ue+R*(R*(128+R*(35*R-60))-512)/2048*_e*S+R*(5*R-4)/6144*R*R*Math.sin(2*Ue)*xe+me*Math.sin(3*Ue)*Me+-762939453125e-16*R*R*R*R*Math.sin(4*Ue)*Math.cos(4*w)))),y!=null&&(d.s.Cd(s)&&d.s.Cd(c)?(w=Math.sqrt(1-Ae*Ae),y.u=Math.acos(w),0>E&&(y.u*=-1)):d.s.Y(d.s.P(s),1.570796326794897)?y.u=0>s?a:d.F.ba(3.141592653589793-a):(p=Ae/h,D=Math.sqrt(1-p*p),0>h*V-Y*K*Math.cos(Q)&&(D*=-1),y.u=Math.atan2(p,D),d.s.Y(s,-c)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-P*Math.cos(s))&&(0<s&&1.570796326794897>d.s.P(y.u)||0>s&&1.570796326794897<d.s.P(y.u))&&(y.u=d.s.Mb(3.141592653589793,y.u)-y.u))),g!=null&&(d.s.Cd(s)&&d.s.Cd(c)?(w=Math.sqrt(1-Ae*Ae),g.u=Math.acos(w),0<=E&&(g.u*=-1)):d.s.Y(d.s.P(c),1.570796326794897)?g.u=0>c?l:d.F.ba(3.141592653589793-l):(E=Ae/K,p=Math.sqrt(1-E*E),D=Math.sin(Q/2),0>Math.sin(U-x)-2*h*V*D*D&&(p*=-1),g.u=Math.atan2(E,p),g.u=d.F.ba(g.u+3.141592653589793),d.s.Y(s,-c)&&!d.s.Cd(s)&&!d.s.Y(d.s.P(s),1.570796326794897)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-P*Math.cos(s))&&(y!=null?D=y.u:(p=Ae/h,D=Math.sqrt(1-p*p),0>h*V-Y*K*Math.cos(Q)&&(D*=-1),D=Math.atan2(p,D),d.s.Y(s,-c)&&d.s.P(d.F.ba(l-a))>3.141592653589793*(1-P*Math.cos(s))&&(0<s&&1.570796326794897>d.s.P(D)||0>s&&1.570796326794897<d.s.P(D))&&(D=d.s.Mb(3.141592653589793,D)-D)),1.570796326794897>=d.s.P(D)&&1.570796326794897<d.s.P(g.u)||1.570796326794897<=d.s.P(D)&&1.570796326794897>d.s.P(g.u))&&(g.u=-1*d.F.ba(g.u+3.141592653589793))))}}}},j.rf=function(x,h,l,s,a,c,p,y){if(p!=null||y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,c,p,y);else if(c=d.F.ba(c),d.s.Y(d.s.P(s),1.570796326794897)||d.s.Cd(c)||d.s.Y(d.s.P(c),3.141592653589793))d.Wk.rf(x,h,l,s,a,c,p,y);else{var g=d.s.P(c)==1.570796326794897?0:Math.cos(c),w=d.s.P(c)==3.141592653589793?0:Math.sin(c);d.s.Y(d.s.P(s),1.570796326794897)&&(l=0),c=1-Math.sqrt(1-h);var S=d.F.Vq(h,s);s=d.s.P(S)==1.570796326794897?0:Math.cos(S);var k=Math.sin(S);S=Math.atan2(Math.tan(S),g);var E=s*w,P=E*E,R=1-P,D=h/(1-h)*R,U=(h=D*(256+D*(D*(74-47*D)-128))/1024)/4,Y=h/6,K=a/(x*(1-c)*(1+D*(4096+D*(D*(320-175*D)-768))/16384)),V=K;do{var Q=V;a=d.s.P(V)==1.570796326794897?0:Math.cos(V);var ae=(D=d.s.P(V)==3.141592653589793?0:Math.sin(V))*D;V=h*D*((x=Math.cos(2*S+V))+U*(a*(2*(V=x*x)-1)-Y*x*(4*ae-3)*(4*V-3)))+K}while(!d.s.Y(Q,V));a=d.s.P(V)==1.570796326794897?0:Math.cos(V),D=d.s.P(V)==3.141592653589793?0:Math.sin(V),p!=null&&(w=Math.atan2(D*w,s*a-k*D*g),R=c/16*R*(4+c*(4-3*R)),x=Math.cos(2*S+V),p.u=d.F.ba(l+(w-(1-R)*c*E*(V+R*D*(x+R*a*(2*x*x-1)))))),y!=null&&(R=k*D-s*a*g,R=(1-c)*Math.sqrt(P+R*R),y.u=Math.atan2(k*a+s*D*g,R))}},j}()}(ee||(ee={})),function(d){d.PC=function(){function j(){}return j.tb=function(x,h,l,s,a,c,p,y,g){var w=d.F.ba(a-l),S=d.s.Y(d.s.P(s),1.570796326794897),k=d.s.Y(d.s.P(c),1.570796326794897);if(d.s.Y(s,c)&&(d.s.Cd(w)||S))p!=null&&(p.u=0),y!=null&&(y.u=0),g!=null&&(g.u=0);else{if(d.s.ti(h)){var E=Math.sin(s),P=Math.sin(c);E=Math.sqrt((1+E)/(1-E)),P=Math.sqrt((1+P)/(1-P)),E=Math.log(P)-Math.log(E),E=Math.atan2(w,E),p!=null&&(p.u=d.s.Y(s,c)?d.s.P(x*Math.cos(s)*w):d.s.P((x*c-x*s)/Math.cos(E)))}else P=d.F.Qw(h,c),E=Math.sin(d.F.Qw(h,s)),P=Math.sin(P),E=Math.sqrt((1+E)/(1-E)),P=Math.sqrt((1+P)/(1-P)),E=Math.log(P)-Math.log(E),E=Math.atan2(w,E),p!=null&&(d.s.Y(s,c)?p.u=d.s.P(x*w*Math.cos(s)/d.F.w(h,s)):(w=d.F.q(x,h,s),x=d.F.q(x,h,c),p.u=d.s.P((x-w)/Math.cos(E))));y==null&&g==null||(p=d.F.ba(E+3.141592653589793),S&&k||!S&&!k||(S?E=0>s?a:d.F.ba(3.141592653589793-a):k&&(p=0>c?l:d.F.ba(3.141592653589793-l))),y!=null&&(y.u=E),g!=null&&(g.u=p))}},j.rf=function(x,h,l,s,a,c,p,y){c=d.F.ba(c),0>a&&(a=d.s.P(a),c=d.F.ba(c+3.141592653589793)),d.s.ti(h)?d.s.Y(d.s.P(s),1.570796326794897)?(l=0>s?c:d.F.ba(3.141592653589793-c),3.141592653589793>=(c=a/x%6.283185307179586)?x=s-d.s.Mb(c,s):(l=d.F.ba(l+3.141592653589793),x=-s+d.s.Mb(c-3.141592653589793,s))):d.s.Y(d.s.P(c),1.570796326794897)?(l=d.F.ba(l+d.s.Mb(a,c)/(x*Math.cos(s))),x=s):(x=s+a*Math.cos(c)/x,1.570796326794897<d.s.P(x)&&(x=1.570796326794897),d.s.Y(d.s.P(x),1.570796326794897)&&(d.s.Cd(c)||d.s.Y(d.s.P(c),3.141592653589793))||(1.570796316258184<d.s.P(x)&&(x=d.s.Mb(1.570796316258184,x)),h=Math.sin(s),s=Math.sin(x),h=Math.sqrt((1+h)/(1-h)),s=Math.sqrt((1+s)/(1-s)),h=Math.log(s)-Math.log(h),l=d.F.ba(l+Math.tan(c)*h))):d.s.Y(d.s.P(s),1.570796326794897)?(l=0>s?c:d.F.ba(3.141592653589793-c),c=a/d.F.qW(x,h),3.141592653589793>=(c%=6.283185307179586)?x=s-d.s.Mb(c,s):(l=d.F.ba(l+3.141592653589793),x=-s+d.s.Mb(c-3.141592653589793,s)),x=d.F.Rq(h,x)):d.s.Y(d.s.P(c),1.570796326794897)?(l=d.F.ba(l+d.s.Mb(a,c)*d.F.w(h,s)/(x*Math.cos(s))),x=s):(x=1.570796326794897*(a*Math.cos(c)+d.F.q(x,h,s))/d.F.Ah(x,h),1.570796326794897<d.s.P(x)&&(x=d.s.Mb(1.570796326794897,x)),x=d.F.Rq(h,x),d.s.Y(d.s.P(x),1.570796326794897)&&(d.s.Cd(c)||d.s.Y(d.s.P(c),3.141592653589793))||(a=d.F.Qw(h,s),s=d.F.Qw(h,x),1.570796316258184<d.s.P(s)&&(s=d.s.Mb(1.570796316258184,x),x=d.F.yO(h,s)),h=Math.sin(a),s=Math.sin(s),h=Math.sqrt((1+h)/(1-h)),s=Math.sqrt((1+s)/(1-s)),h=Math.log(s)-Math.log(h),l=d.F.ba(l+Math.tan(c)*h))),p!=null&&(p.u=l),y!=null&&(y.u=x)},j}()}(ee||(ee={})),function(d){d.kb=function(){function j(){}return j.Xy=function(x,h,l,s,a,c,p){d.cu.tb(x,h,l,s,a,c,null,p,null)},j.yi=function(x,h,l,s,a,c,p,y){d.cu.rf(x,h,l,s,a,c,p,y)},j.wd=function(x,h,l,s,a,c,p,y,g,w){switch(w){case 2:d.Wk.tb(x,h,l,s,a,c,p,y,g);break;case 3:d.QC.tb(x,h,l,s,a,c,p,y,g);break;case 1:d.PC.tb(x,h,l,s,a,c,p,y,g);break;default:d.cu.tb(x,h,l,s,a,c,p,y,g)}},j.oj=function(x,h,l,s,a,c,p,y,g){switch(g){case 2:d.Wk.rf(x,h,l,s,a,c,p,y);break;case 3:d.QC.rf(x,h,l,s,a,c,p,y);break;case 1:d.PC.rf(x,h,l,s,a,c,p,y);break;default:d.cu.rf(x,h,l,s,a,c,p,y)}},j}()}(ee||(ee={})),function(d){var j=function(){function h(){this.y=this.x=null}return h.construct=function(l){var s=new h;return s.x=new d.Wb,s.x.set(l.x),s.y=new d.Wb,s.y.set(l.y),s},h.VE=function(l,s){var a=new h;return a.x=new d.Wb,a.x.set(l),a.y=new d.Wb,a.y.set(s),a},h.prototype.qg=function(){return this.x.qg()&&this.y.qg()},h.prototype.value=function(){return d.h.construct(this.x.value(),this.y.value())},h}();d.vY=j;var x=function(){function h(){this.z=this.y=this.x=null}return h.construct=function(l){var s=new h;return s.x=new d.Wb,s.x.set(l.x),s.y=new d.Wb,s.y.set(l.y),s.z=new d.Wb,s.z.set(l.z),s},h.VE=function(l,s,a){var c=new h;return c.x=new d.Wb,c.x.set(l),c.y=new d.Wb,c.y.set(s),c.z=new d.Wb,c.z.set(a),c},h.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},h.prototype.value=function(){return new d.Nd(this.x.value(),this.y.value(),this.z.value())},h.prototype.Qh=function(l){var s=new d.Wb,a=new d.Wb,c=new d.Wb;return s.Kl(this.x,l.x),a.Kl(this.y,l.y),c.Kl(this.z,l.z),(l=new d.Wb).dN(s,a),l.add(c),l},h.prototype.cF=function(l){var s=new h;s.x.Kl(this.y,l.z),s.y.Kl(this.z,l.x),s.z.Kl(this.x,l.y);var a=new d.Wb,c=new d.Wb,p=new d.Wb;return a.Kl(this.z,l.y),c.Kl(this.x,l.z),p.Kl(this.y,l.x),s.x.sub(a),s.y.sub(c),s.z.sub(p),s},h}();d.wY=x,d.Ox=function(){function h(){}return h.EP=function(l,s,a){var c=s.x;s=s.y,h.cl(1,l,Math.cos(c),Math.sin(c),Math.cos(s),Math.sin(s),a)},h.DP=function(l,s){var a=new d.Nd;return h.EP(l,s,a),a},h.cl=function(l,s,a,c,p,y,g){l/=Math.sqrt(1-s*y*y),g.K(l*p*a,l*p*c,l*(1-s)*y)},h.Yu=function(l,s){var a=new d.Wb,c=new d.Wb,p=new d.Wb,y=new d.Wb;a.cos(s.x),c.sin(s.x),p.cos(s.y),y.sin(s.y);var g=new d.Wb;return g.set(y),g.Ag(y),g.No(l),g.No(-1),g.kN(),g.sqrt(),(s=new d.Wb).set(1),s.jm(g),(g=new d.Wb).set(s),g.Ag(p),g.Ag(a),(a=new d.Wb).set(s),a.Ag(p),a.Ag(c),(c=new d.Wb).set(s),c.No(1-l),c.Ag(y),x.VE(g,a,c)},h.SS=function(l,s,a,c){if(Math.abs(s.x-a.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&s.x!=a.x)return NaN;if(c=h.cB(c,Math.min(s.x,a.x),Math.max(s.x,a.x)),!new d.Nc(s.x,a.x).contains(c))return NaN;var p=j.construct(s);if(a=j.construct(a),p=h.Yu(l,p),a=h.Yu(l,a),(a=p.cF(a)).z.qg())return s.y;var y=new d.Wb;y.set(a.x),y.jm(a.z),y.No(-1);var g=new d.Wb;g.set(a.y),g.jm(a.z),g.No(-1);var w=new d.Wb;return w.set(g),w.Ag(g),(p=new d.Wb).set(y),p.Ag(y),p.add(w),p.sqrt(),p.qg()||y.qg()&&g.qg()?s.y:(s=Math.atan2(g.value(),y.value()),s=Math.atan2(p.value()*Math.cos(s-c),1-l),c=h.DP(l,d.h.construct(c,s)),l=new d.Nd(c.x,c.y,-c.z),c=a.value().Qh(c),l=a.value().Qh(l),Math.abs(l)<Math.abs(c)&&(s=-s),s)},h.Oz=function(l,s,a,c,p){if(p[0]=NaN,p[1]=NaN,Math.abs(s.x-a.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(a.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(a.y)==.5*Math.PI)&&s.x!=a.x||Math.abs(c)>=.5*Math.PI||0<s.y&&0<a.y&&s.y>c&&a.y>c||0>s.y&&0>a.y&&s.y<c&&a.y<c)return 0;var y=j.construct(s),g=j.construct(a);y=h.Yu(l,y),g=h.Yu(l,g);var w=y.cF(g);if(w.z.qg())return new d.Nc(s.y,a.y).contains(c)?(p[0]=s.x,1):0;(g=new d.Wb).set(w.x),g.jm(w.z),g.No(-1),(y=new d.Wb).set(w.y),y.jm(w.z),y.No(-1),(w=new d.Wb).set(y),w.Ag(y);var S=new d.Wb;return S.set(g),S.Ag(g),S.add(w),S.sqrt(),S.qg()||g.qg()&&y.qg()?c==0?(p[0]=s.x,p[1]=a.x,2):0:(l=(1-l)*Math.tan(c)/S.value(),1<Math.abs(l)?0:(l=Math.acos(l),w=Math.atan2(y.value(),g.value()),g=Math.min(s.x,a.x),y=Math.max(s.x,a.x),a=h.cB(w-l,g,y),l=c!=0?h.cB(w+l,g,y):a,c=0,g<=a&&a<=y&&(p[c]=a,c++),l!=a&&g<=l&&l<=y&&(p[c]=l,++c==2&&Math.abs(p[0]-s.x)>Math.abs(p[1]-s.x)&&(s=p[0],p[0]=p[1],p[1]=s)),c))},h.cB=function(l,s,a){return l>a?l-=2*(s=Math.ceil((l-a)/(2*Math.PI)))*Math.PI:l<s&&(l+=2*(s=Math.ceil((s-l)/(2*Math.PI)))*Math.PI),l},h}()}(ee||(ee={})),function(d){d.XK=function(){function j(){}return j.$X=function(x,h){var l=8,s=[0,0,0,0],a=new d.h;a.L(h),a.scale(d.cb.sc(x).Hd().Ec()==9102?1:d.cb.sc(x).Hd().ai/3.141592653589793*180),-180>a.x?(a.x-=a.x%360,-180>a.x&&(a.x+=360)):180<a.x&&(a.x-=a.x%360,180<a.x&&(a.x-=360)),90<a.y&&(a.y=90),-90>a.y&&(a.y=-90);for(var c=-180,p=180,y=(x=5*l)-1,g=(h=(x+31)/32)-1;0<=g;g--)for(var w=y-32*g,S=Math.min(32,x-32*g),k=1;k<S;k+=2){var E=.5*(p+c);a.x>=E?(s[g]|=1<<w,c=E):p=E,w-=2,y-=2}for(c=-90,p=90,y=x-2,g=h-1;0<=g;g--)for(w=y-32*g,S=Math.min(32,x-32*g),k=0;k<S;k+=2)E=.5*(p+c),a.y>=E?(s[g]|=1<<w,c=E):p=E,w-=2,y-=2;return j.$P(s,l,l)},j.$P=function(x,h,l){for(var s=[],a=0;a<h;a++)s[a]="";for(var c=a=0,p=0;p<h;p++){var y=x[a]>>c&31;if(31<(c+=5)){var g=37-c;y&=(1<<g)-1,c-=32,y|=(x[++a]&(1<<c)-1)<<g}s[h-1-p]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[y]}if(l>h)for(p=0;p<l-h;p++)s.push("0");else l<h&&(s.length=l);return s.join("")},j}()}(ee||(ee={})),function(d){var j={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},x={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};d.wr=function(){function h(){}return h.Sy=function(l){h.xp===!1&&h.yt();var s=h.FQ(l);if(s==-1){var a=h.Bx(l);a!=l&&(s=h.Sy(a))}return s==-1&&(a=h.FK(l))!=l&&(s=h.Sy(a)),s},h.FQ=function(l){return h.Fw[l]!==void 0?h.Fw[l]:-1},h.CQ=function(l){h.xp===!1&&h.yt();var s=h.nF(l);if(s==1e38){var a=h.Bx(l);if(a!=l&&(s=h.nF(a)),s==1e38)return 1e-10}return s},h.ZS=function(l){if(h.Is[l]!==void 0)return!0;var s=h.Bx(l);return s!=l&&h.Is[s]!==void 0},h.aT=function(l){if(h.xo[l]!==void 0)return!0;var s=h.Bx(l);return s!=l&&h.xo[s]!==void 0},h.nF=function(l){return h.xp===!1&&h.yt(),h.Is[l]!==void 0?h.Is[l]:h.xo[l]!==void 0?h.xo[l]:1e38},h.FK=function(l){return h.xp===!1&&h.yt(),h.WA[l]!==void 0?h.WA[l]:l},h.Bx=function(l){return h.xp===!1&&h.yt(),h.XA[l]!==void 0?h.XA[l]:l},h.yt=function(){for(var l,s=j,a=0;a<s.pcsid.length;a+=2)h.xo[s.pcsid[a]]=s.pcstol[2*s.pcsid[a+1]+1];for(a=0;a<s.pcsidc.length;a+=1)for(var c=(l=s.pcsidc[a])[0];c<=l[1];c++)h.xo[c]=s.pcstol[2*l[2]+1];for(a=0;a<s.gcsid.length;a+=2)h.Is[s.gcsid[a]]=s.gcstol[2*s.gcsid[a+1]+1];for(a=0;a<s.gcsidc.length;a+=1)for(c=(l=s.gcsidc[a])[0];c<=l[1];c++)h.xo[c]=s.gcstol[2*l[2]+1];for(a=0;a<x.c.length;a+=1)for(c=(l=x.c[a])[0];c<=l[1];c++)h.Fw[c]=l[2];for(a=0;a<x.nc.length;a+=2)h.Fw[x.nc[a]]=x.nc[a+1];for(x=null,a=0;a<s.newtoold.length;a+=2)h.WA[s.newtoold[a+1]]=s.newtoold[a],h.XA[s.newtoold[a]]=s.newtoold[a+1];j=null,h.xp=!0},h.xp=!1,h.Is=[],h.xo=[],h.WA=[],h.XA=[],h.Fw=[],h}()}(ee||(ee={})),function(d){function j(h){return h.length===0?'""':h[0]=='"'||h[0]=="."||"0"<=h[0]&&"9">=h[0]?h:'"'+h.trim()+'"'}var x=[];d.XC=function(){function h(){}return h.EQ=function(l){try{for(var s=0;s<x.length;s++)if(x[s].wkttext===l)return x[s].unit;for(var a,c=s="",p=!1,y=0;y<l.length;y++){var g=l[y];p===!0?g=='"'?l[y+1]=='"'?s+=g:p=p=!1:s+=g:/[\s]/.test(g)||(g==","?(c=s!==""?c+(j(s)+","):c+",",s=""):g==")"||g=="]"?(c=s!==""?c+(j(s)+"]}"):c+"]}",s=""):g=="("||g=="["?(c+='{ "entity": "'+s.toUpperCase().trim()+'", "values":[',s=""):g=='"'?(p=!0,s=""):s+=g)}a=JSON.parse(c);var w=h.mF(a);if(w===null)return null;for(a=null,g=0;g<w.values.length;g++)if(typeof w.values[g]=="object"&&(w.values[g].entity==="UNIT"||w.values[g].entity==="ANGLEUNIT"||w.values[g].entity==="LENGTHUNIT")){a=w.values[g];break}if(a===null)return null;var S=d.Tc.ZO(w.entity==="GEOGCS"||w.entity==="GEOGCRS"?1:0,a.values[1],a.values[2]);return x.push({wkttext:l,unit:S}),10<x.length&&x.shift(),S}catch{return null}},h.mF=function(l){if(l===null)return null;switch(l.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return l}for(var s=[],a=0;a<l.values.length;a++)if(typeof l.values[a]=="object"&&l.values[a].entity!==void 0)switch(l.values[a].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return l.values[a];default:s.push(l.values[a])}for(l=0;l<s.length;l++)if((a=h.mF(s[l]))!==null)return a;return null},h.DQ=function(l){var s=-1;if(l!=null&&0<l.length){var a=l.search(/PROJCR?S/);if(0<=a){var c=0;if(0<=(a=l.lastIndexOf("UNIT"))&&0<(a=l.indexOf(",",a+4))){a++;var p=l.indexOf("]",a+1);if(0<p)try{c=parseFloat(l.substring(a,p))}catch{c=0}}0<c&&(s=.001/c)}else if(0<=(a=l.search(/GEOGCR?S/))){var y=0;if(c=0,(a=l.indexOf("SPHEROID",a+6))===-1&&(a=l.indexOf("ELLIPSOID",a+7)),0<a&&0<(a=l.indexOf(",",a+8))){if(a++,0<(p=l.indexOf(",",a+1)))try{y=parseFloat(l.substring(a,p))}catch{y=0}if(0<y&&((a=l.lastIndexOf("ANGLEUNIT",p+1))===-1&&(a=l.lastIndexOf("UNIT",p+1)),0<=a&&0<(a=l.indexOf(",",a+4))&&(a++,0<(p=l.indexOf("]",a+1)))))try{c=parseFloat(l.substring(a,p))}catch{c=0}}0<y&&0<c&&(s=.001/(y*c))}}return s},h}()}(ee||(ee={})),function(d){var j;(j=d.eL||(d.eL={}))[j.NONE=0]="NONE",j[j.LINEAR=1]="LINEAR",j[j.ANGULAR=2]="ANGULAR",function(h){h[h.enumFloat=0]="enumFloat",h[h.enumDouble=1]="enumDouble",h[h.enumInt32=2]="enumInt32",h[h.enumInt64=3]="enumInt64",h[h.enumInt8=4]="enumInt8",h[h.enumInt16=5]="enumInt16"}(d.QL||(d.QL={})),function(h){h[h.POSITION=0]="POSITION",h[h.Z=1]="Z",h[h.M=2]="M",h[h.ID=3]="ID",h[h.NORMAL=4]="NORMAL",h[h.TEXTURE1D=5]="TEXTURE1D",h[h.TEXTURE2D=6]="TEXTURE2D",h[h.TEXTURE3D=7]="TEXTURE3D",h[h.ID2=8]="ID2",h[h.MAXSEMANTICS=10]="MAXSEMANTICS"}(d.Ih||(d.Ih={}));var x=function(){function h(l,s){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,s!==void 0){for(this.Aa=s.Aa,this.Oq=s.Oq,this.bg=s.bg.slice(0),this.uh=s.uh.slice(0),this.wl=s.wl,this.Vs=[],l=s=0;l<this.Aa;l++)this.Vs[l]=s,s+=h.Va(this.bg[l]);for(this.Oq=s,this.Ae=[],l=0;l<this.Aa;l++){s=h.Va(this.kd(l));for(var a=h.se(this.kd(l)),c=0;c<s;c++)this.Ae[this.Vs[l]+c]=a}}else this.Oq=this.Aa=0}return h.prototype.kd=function(l){if(0>l||l>this.Aa)throw d.i.N();return this.bg[l]},h.prototype.Pf=function(l){return this.uh[l]},h.lz=function(l){return h.JM[l]},h.Tp=function(l){return h.SM[l]},h.Va=function(l){return h.rM[l]},h.prototype.hasAttribute=function(l){return 0<=this.uh[l]},h.prototype.iG=function(){return this.hasAttribute(1)},h.se=function(l){return h.eD[l]},h.prototype.LR=function(l){return this.Vs[l]},h.DG=function(l,s){return h.eD[l]===s},h.prototype.Nb=function(l){return this===l},h.prototype.An=function(){for(var l=d.O.Th(this.bg[0]),s=1;s<this.Aa;s++)l=d.O.Th(this.bg[s],l);return l},h.prototype.$j=function(l){return this.Vs[l]},h.prototype.cc=function(){return this.wl},h.prototype.Ed=function(l){return this.bg[l]},h.eD=[0,0,NaN,0,0,0,0,0,0],h.JM=[1,1,1,0,2,1,1,1,0],h.SM=[1,1,1,2,0,0,0,0,2],h.rM=[2,1,1,1,3,1,2,3,2],h}();d.ra=x}(ee||(ee={})),function(d){function j(p,y,g){var w=y-(p=new c(p)).e,S=p.c;for(S.length>++y&&x(p,w,c.eu),S[0]?g?w=y:(S=p.c,w=p.e+w+1):++w;S.length<w;S.push(0));return w=p.e,g===1||g&&(y<=w||w<=l)?(0>p.Bd&&S[0]?"-":"")+(1<S.length?S[0]+"."+S.join("").slice(1):S[0])+(0>w?"e":"e+")+w:p.toString()}function x(p,y,g,w){var S=p.c,k=p.e+y+1;if(g===1?w=5<=S[k]:g===2?w=5<S[k]||S[k]==5&&(w||0>k||S[k+1]!==void 0||1&S[k-1]):g===3?w=w||S[k]!==void 0||0>k:(w=!1,g!==0&&h("!Big.RM!")),1>k||!S[0])w?(p.e=-y,p.c=[1]):p.c=[p.e=0];else{if(S.length=k--,w)for(;9<++S[k];)S[k]=0,k--||(++p.e,S.unshift(1));for(k=S.length;!S[--k];S.pop());}return p}function h(p){throw(p=Error(p)).name="BigError",p}var l=-7,s=21,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,c=function(){function p(y){if(y instanceof p)this.Bd=y.Bd,this.e=y.e,this.c=y.c.slice();else{var g,w,S;for(y===0&&0>1/y?y="-0":a.test(y+="")||h(NaN),this.Bd=y.charAt(0)=="-"?(y=y.slice(1),-1):1,-1<(g=y.indexOf("."))&&(y=y.replace(".","")),0<(w=y.search(/e/i))?(0>g&&(g=w),g+=+y.slice(w+1),y=y.substring(0,w)):0>g&&(g=y.length),w=0;y.charAt(w)=="0";w++);if(w==(S=y.length))this.c=[this.e=0];else{for(;y.charAt(--S)=="0";);for(this.e=g-w-1,this.c=[],g=0;w<=S;this.c[g++]=+y.charAt(w++));}}}return p.prototype.abs=function(){var y=new p(this);return y.Bd=1,y},p.prototype.cmp=function(y){var g=this.c,w=(y=new p(y)).c,S=this.Bd,k=y.Bd,E=this.e,P=y.e;if(!g[0]||!w[0])return g[0]?S:w[0]?-k:0;if(S!=k)return S;if(y=0>S,E!=P)return E>(P^y)?1:-1;for(S=-1,k=(E=g.length)<(P=w.length)?E:P;++S<k;)if(g[S]!=w[S])return g[S]>(w[S]^y)?1:-1;return E==P?0:E>(P^y)?1:-1},p.prototype.jm=function(y){var g=this.c,w=(y=new p(y)).c,S=this.Bd==y.Bd?1:-1,k=p.rr;if((k!==~~k||0>k||1e6<k)&&h("!Big.DP!"),!g[0]||!w[0])return g[0]==w[0]&&h(NaN),w[0]||h(S/0),new p(0*S);var E,P,R=w.slice(),D=E=w.length,U=g.length,Y=g.slice(0,E),K=Y.length,V=y,Q=V.c=[],ae=0,oe=k+(V.e=this.e-y.e)+1;for(V.Bd=S,S=0>oe?0:oe,R.unshift(0);K++<E;Y.push(0));do{for(P=0;10>P;P++){if(E!=(K=Y.length))var me=E>K?1:-1;else{var de=-1;for(me=0;++de<E;)if(w[de]!=Y[de]){me=w[de]>Y[de]?1:-1;break}}if(!(0>me))break;for(y=K==E?w:R;K;){if(Y[--K]<y[K]){for(de=K;de&&!Y[--de];Y[de]=9);--Y[de],Y[K]+=10}Y[K]-=y[K]}for(;!Y[0];Y.shift());}Q[ae++]=me?P:++P,Y[0]&&me?Y[K]=g[D]||0:Y=[g[D]]}while((D++<U||Y[0]!==void 0)&&S--);return Q[0]||ae==1||(Q.shift(),V.e--),ae>oe&&x(V,k,p.eu,Y[0]!==void 0),V},p.prototype.fS=function(){return 0<this.cmp(0)},p.prototype.nT=function(){return 0>this.cmp(0)},p.prototype.jt=function(y){var g,w=this.Bd,S=(y=new p(y)).Bd;if(w!=S)return y.Bd=-S,this.tI(y);var k=this.c.slice(),E=this.e,P=y.c,R=y.e;if(!k[0]||!P[0])return P[0]?(y.Bd=-S,y):new p(k[0]?this:0);if(w=E-R){for((g=0>w)?(w=-w,E=k):(R=E,E=P),E.reverse(),S=w;S--;E.push(0));E.reverse()}else for(E=((g=k.length<P.length)?k:P).length,w=S=0;S<E;S++)if(k[S]!=P[S]){g=k[S]<P[S];break}if(g&&(E=k,k=P,P=E,y.Bd=-y.Bd),0<(S=(E=P.length)-(g=k.length)))for(;S--;k[g++]=0);for(S=g;E>w;){if(k[--E]<P[E]){for(g=E;g&&!k[--g];k[g]=9);--k[g],k[E]+=10}k[E]-=P[E]}for(;k[--S]==0;k.pop());for(;k[0]==0;)k.shift(),--R;return k[0]||(y.Bd=1,k=[R=0]),y.c=k,y.e=R,y},p.prototype.tI=function(y){var g=this.Bd,w=(y=new p(y)).Bd;if(g!=w)return y.Bd=-w,this.jt(y);w=this.e;var S=this.c,k=y.e,E=y.c;if(!S[0]||!E[0])return E[0]?y:new p(S[0]?this:0*g);if(S=S.slice(),g=w-k){for(0<g?(k=w,w=E):(g=-g,w=S),w.reverse();g--;w.push(0));w.reverse()}for(0>S.length-E.length&&(w=E,E=S,S=w),g=E.length,w=0;g;)w=(S[--g]=S[g]+E[g]+w)/10|0,S[g]%=10;for(w&&(S.unshift(w),++k),g=S.length;S[--g]==0;S.pop());return y.c=S,y.e=k,y},p.prototype.pow=function(y){var g=this,w=new p(1),S=w,k=0>y;for((y!==~~y||-1e6>y||1e6<y)&&h("!pow!"),y=k?-y:y;1&y&&(S=S.lr(g)),y>>=1;)g=g.lr(g);return k?w.jm(S):S},p.prototype.round=function(y,g){var w=this;return y==null?y=0:(y!==~~y||0>y||1e6<y)&&h("!round!"),x(w=new p(w),y,g??p.eu),w},p.prototype.sqrt=function(){var y=this.c,g=this.Bd,w=this.e,S=new p("0.5");if(!y[0])return new p(this);0>g&&h(NaN),(g=Math.sqrt(this.toString()))==0||g==1/0?((g=y.join("")).length+w&1||(g+="0"),(y=new p(Math.sqrt(g).toString())).e=((w+1)/2|0)-(0>w||1&w)):y=new p(g.toString()),g=y.e+(p.rr+=4);do w=y,y=S.lr(w.tI(this.jm(w)));while(w.c.slice(0,g).join("")!==y.c.slice(0,g).join(""));return x(y,p.rr-=4,p.eu),y},p.prototype.lr=function(y){var g=this.c,w=(y=new p(y)).c,S=g.length,k=w.length,E=this.e,P=y.e;if(y.Bd=this.Bd==y.Bd?1:-1,!g[0]||!w[0])return new p(0*y.Bd);if(y.e=E+P,S<k){var R=g;g=w,w=R,P=S,S=k,k=P}for(R=Array(P=S+k);P--;R[P]=0);for(E=k;E--;){for(k=0,P=S+E;P>E;)k=R[P]+w[E]*g[P-E-1]+k,R[P--]=k%10,k=k/10|0;R[P]=(R[P]+k)%10}for(k&&++y.e,R[0]||R.shift(),E=R.length;!R[--E];R.pop());return y.c=R,y},p.prototype.toString=function(){var y=this.e,g=this.c.join(""),w=g.length;if(y<=l||y>=s)g=g.charAt(0)+(1<w?"."+g.slice(1):"")+(0>y?"e":"e+")+y;else if(0>y){for(;++y;g="0"+g);g="0."+g}else if(0<y)if(++y>w)for(y-=w;y--;g+="0");else y<w&&(g=g.slice(0,y)+"."+g.slice(y));else 1<w&&(g=g.charAt(0)+"."+g.slice(1));return 0>this.Bd&&this.c[0]?"-"+g:g},p.prototype.toExponential=function(y){return y==null?y=this.c.length-1:(y!==~~y||0>y||1e6<y)&&h("!toExp!"),j(this,y,1)},p.prototype.toFixed=function(y){var g=l,w=s;if(l=-(s=1/0),y==null)var S=this.toString();else y===~~y&&0<=y&&1e6>=y&&(S=j(this,this.e+y),0>this.Bd&&this.c[0]&&0>S.indexOf("-")&&(S="-"+S));return l=g,s=w,S||h("!toFix!"),S},p.prototype.toPrecision=function(y){return y==null?this.toString():((y!==~~y||1>y||1e6<y)&&h("!toPre!"),j(this,y-1,2))},p.rr=20,p.eu=1,p}();d.hp=c}(ee||(ee={})),function(d){var j=function(){function x(h){this.lf=h}return x.prototype.nr=function(h,l,s){var a=new d.h,c=new d.h,p=this.lf;s.Vd(h,l,function(y,g){return p.tc(2*y,a),p.tc(2*g,c),a.compare(c)})},x.prototype.$p=function(h){return this.lf.read(2*h+1)},x}();d.pi=function(){function x(){}return x.aq=function(h){if(h.B())return!1;var l=h.getType();return l==1736?h.Ke()!=0:l==1607?(l=[!1],x.sE(h,!0,l),l[0]):!(l!=197&&(!d.aa.yd(l)||h.BG()))},x.gm=function(h){var l=h.getType();if(l==1736)return l=new d.Ta(h.description),h.B()||h.dD(l),l;if(l==1607)return x.sE(h,!1,null);if(l==197)return l=new d.Ta(h.description),h.B()||l.ad(h,!1),l;if(d.aa.yd(l)){if(l=new d.de(h.description),!h.B()&&!h.BG()){var s=new d.Sa;h.To(s),l.add(s),h.Po(s),l.add(s)}return l}if(d.aa.Rn(l))return null;throw d.i.N()},x.sE=function(h,l,s){s!=null&&(s[0]=!1);var a=null;if(l||(a=new d.de(h.description)),!h.B()){var c=new d.ia(0);c.Jb(2*h.da());for(var p=0,y=h.da();p<y;p++)if(0<h.Ja(p)&&!h.Nn(p)){var g=h.Ba(p);c.add(g),g=h.Vc(p)-1,c.add(g)}if(0<c.size){y=new d.Xt,p=h.ub(0),y.sort(c,0,c.size,new j(p)),y=new d.h,p.tc(2*c.get(0),y),g=0;for(var w=1,S=new d.Sa,k=new d.h,E=1,P=c.size;E<P;E++)if(p.tc(2*c.get(E),k),k.qb(y))c.get(g)>c.get(E)?(c.set(g,2147483647),g=E):c.set(E,2147483647),w++;else{if(1&w){if(l)return s!=null&&(s[0]=!0),null}else c.set(g,2147483647);y.L(k),g=E,w=1}if(1&w){if(l)return s!=null&&(s[0]=!0),null}else c.set(g,2147483647);if(!l)for(c.Vd(0,c.size,function(R,D){return R-D}),E=0,P=c.size;E<P&&c.get(E)!=2147483647;E++)h.ve(c.get(E),S),a.add(S)}}return l?null:a},x}()}(ee||(ee={})),function(d){var j=function(){function x(){this.yf=new d.ia(0),this.ys=new d.ia(0),this.EH=1,this.Es=NaN}return x.prototype.sort=function(h,l,s,a){if(32>s-l)a.nr(l,s,h);else{var c=!0;try{for(var p=1/0,y=-1/0,g=l;g<s;g++){var w=a.$p(h.get(g));w<p&&(p=w),w>y&&(y=w)}if(this.reset(s-l,p,y,s-l)){for(g=l;g<s;g++){var S=h.get(g);w=a.$p(S);var k=this.zF(w);this.yf.set(k,this.yf.get(k)+1),this.ys.write(g-l,S)}var E=this.yf.get(0);this.yf.set(0,0),g=1;for(var P=this.yf.size;g<P;g++){var R=this.yf.get(g);this.yf.set(g,E),E+=R}for(g=l;g<s;g++){S=this.ys.read(g-l),w=a.$p(S),k=this.zF(w);var D=this.yf.get(k);h.set(D+l,S),this.yf.set(k,D+1)}c=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(c)a.nr(l,s,h);else{for(g=s=0,P=this.yf.size;g<P;g++)c=s,(s=this.yf.get(g))>c&&a.nr(l+c,l+s,h);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},x.prototype.reset=function(h,l,s,a){return!(2>h||s==l)&&(h=Math.min(x.hL,h),this.yf.Jb(h),this.yf.resize(h),this.yf.Wj(0,0,this.yf.size),this.EH=l,this.ys.resize(a),this.Es=(s-l)/(h-1),!0)},x.prototype.zF=function(h){return d.O.truncate((h-this.EH)/this.Es)},x.hL=65536,x}();d.Xt=j}(ee||(ee={})),function(d){var j,x;(x=j||(j={}))[x.enum_line=1]="enum_line",x[x.enum_arc=2]="enum_arc",x[x.enum_dummy=4]="enum_dummy",x[x.enum_concave_dip=8]="enum_concave_dip",x[x.enum_connection=3]="enum_connection";var h=function(){function p(){}return p.Qu=function(y,g,w,S,k,E){var P=new p;return P.Im=new d.h,P.Vm=new d.h,P.aw=new d.h,P.Im.L(y),P.Vm.L(g),P.aw.L(w),P.Co=S,P.qh=k,P.sh=E,P},p.construct=function(y,g,w,S){var k=new p;return k.Im=new d.h,k.Vm=new d.h,k.aw=new d.h,k.Im.L(y),k.Vm.L(g),k.aw.Rc(),k.Co=4,k.qh=w,k.sh=S,k},p}(),l=function(){function p(y,g,w,S,k,E){this.Yv=null,this.ya=0,this.EA=y,this.bI=this.$H=0,this.Ka=g,this.Mj=w,this.vk=S,this.Dq=k,this.Ub=E}return p.prototype.next=function(){for(var y=new d.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,y),this.ya++,!y.B())break}var g=!1;if(this.Yv==null&&(this.$H=y.Lg(),this.bI=y.ih(),this.Yv=c.buffer(y,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),g=!0),this.ya<this.EA.I()){var w=new d.Da;this.Yv.copyTo(w)}else w=this.Yv;if(!g){g=new d.Dd;var S=y.Lg()-this.$H;y=y.ih()-this.bI,g.gg(S,y),w.Oc(g)}return w},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),s=function(){function p(y,g){this.Wa=y,this.ya=0,this.oq=g}return p.prototype.next=function(){var y=this.Wa.X;if(this.ya<y.da()){var g=this.ya;if(this.ya++,!y.Nn(g))for(var w=y.Na(y.Vc(g)-1);this.ya<y.da();){var S=y.Na(y.Ba(this.ya));if(y.Nn(this.ya)||S!=w)break;w=y.Na(y.Vc(this.ya)-1),this.ya++}if(this.ya-g==1)return this.Wa.kE(this.Wa.X,g,this.oq);for((w=new d.Ta(this.Wa.X.description)).addPath(this.Wa.X,g,!0),g+=1;g<this.ya;g++)w.Dr(this.Wa.X,g,0,y.rv(g),!1);return this.Wa.kE(w,0,this.oq)}return null},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),a=function(){function p(y){this.Wa=y,this.ya=0}return p.prototype.next=function(){var y=this.Wa.X;if(this.ya<y.da()){var g=this.ya;for(y.Ir(this.ya),this.ya++;this.ya<y.da()&&!(0<y.Ir(this.ya));)this.ya++;return g==0&&this.ya==y.da()?this.Wa.py(y,0,y.da()):this.Wa.py(y,g,this.ya)}return null},p.prototype.La=function(){return 0},p.prototype.qe=function(){},p}(),c=function(){function p(y){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=y,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return p.buffer=function(y,g,w,S,k,E){if(y==null||0>S)throw d.i.N();if(y.B())return new d.Da(y.description);var P=new d.l;return y.xc(P),0<g&&P.W(g,g),(E=new p(E)).Mj=w,E.X=y,E.qa=d.ta.Wd(w,P,!0),E.ct=d.ta.Wd(null,P,!0),E.Ka=g,E.JT=y.getType(),0>=k&&(k=96),E.rb=Math.abs(E.Ka),E.Kv=E.rb!=0?1/E.rb:0,isNaN(S)||S==0?S=1e-5*E.rb:S>.5*E.rb&&(S=.5*E.rb),12>k&&(k=12),(y=Math.abs(g)*(1-Math.cos(Math.PI/k)))>S?S=y:(y=Math.PI/Math.acos(1-S/Math.abs(g)))<k-1&&12>(k=d.O.truncate(y))&&(k=12,S=Math.abs(g)*(1-Math.cos(Math.PI/k))),E.vk=S,E.Dq=k,E.tA=Math.min(E.ct,.25*S),E.lE()},p.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var y=this.qE();y=d.O.truncate((y+3)/4);var g=.5*Math.PI/y;this.oA=g;for(var w=0;w<4*y;w++)this.Id.push(null);var S=Math.cos(g);g=Math.sin(g);var k=d.h.construct(0,1);for(w=0;w<y;w++)this.Id[w+0*y]=d.h.construct(k.y,-k.x),this.Id[w+1*y]=d.h.construct(-k.x,-k.y),this.Id[w+2*y]=d.h.construct(-k.y,k.x),this.Id[w+3*y]=k,(k=d.h.construct(k.x,k.y)).Bt(S,g)},p.prototype.lE=function(){var y=this.X.getType();if(d.aa.yd(y))return(y=new d.Ta(this.X.description)).oc(this.X,!0),this.X=y,this.lE();if(this.Ka<=this.qa){if(!d.aa.US(y))return new d.Da(this.X.description);if(0>=this.Ka&&(y=new d.l,this.X.A(y),y.R()<=2*-this.Ka||y.ca()<=2*this.Ka))return new d.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw d.i.Qa()}},p.prototype.RN=function(){if(this.EG(this.X)){var y=new d.Sa;this.X.ve(0,y);var g=new d.l;return this.X.A(g),y.Cb(g.sf()),this.Gu(y)}return this.X=this.WV(this.X),y=new s(this,this.oq),d.Gh.local().V(y,this.Mj,this.Ub).next()},p.prototype.QN=function(){if(this.Ka==0)return this.X;var y=d.Yl.local();if(this.cv(),this.X=y.V(this.X,null,!1,this.Ub),0>this.Ka){var g=this.X;return g=this.py(g,0,g.da()),y.V(g,this.Mj,!1,this.Ub)}return this.EG(this.X)?(y=new d.Sa,this.X.ve(0,y),g=new d.l,this.X.A(g),y.Cb(g.sf()),this.Gu(y)):(y=new a(this),d.Gh.local().V(y,this.Mj,this.Ub).next())},p.prototype.py=function(y,g,w){for(var S=new d.Da(y.description);g<w;g++)if(!(1>y.Ja(g))){var k=y.Ir(g),E=new d.l;if(y.Rj(g,E),0<this.Ka){if(0<k)if(this.FG(y,g))k=new d.Sa,y.ve(y.Ba(g),k),k.Cb(E.sf()),this.yu(S,k);else{var P=k=new d.Ta(y.description);P=d.Zt.JG(this.X,g)||this.zn(this.X,g,P,!0,1)==2?this.jE(y,g):this.yn(k),S.add(P,!1)}else if(!(E.R()+this.qa<=2*this.rb||E.ca()+this.qa<=2*this.rb||(P=k=new d.Ta(y.description),this.zn(this.X,g,P,!0,1),k.B()))){var R=new d.l;for(R.K(E),R.W(this.rb,this.rb),P.tp(R),E=1,k=(P=this.yn(k)).da();E<k;E++)S.addPath(P,E,!0)}}else if(0<k){if(!(E.R()+this.qa<=2*this.rb||E.ca()+this.qa<=2*this.rb||(P=k=new d.Ta(y.description),this.zn(this.X,g,P,!0,-1),k.B())))for(R=new d.l,P.xc(R),R.W(this.rb,this.rb),P.tp(R),E=1,k=(P=this.yn(k)).da();E<k;E++)S.addPath(P,E,!0)}else for(P=k=new d.Ta(y.description),this.zn(this.X,g,P,!0,-1),E=0,k=(P=this.yn(k)).da();E<k;E++)S.addPath(P,E,!0)}if(0<this.Ka)return 1<S.da()?S=this.yn(S):p.kx(S);if(y=new d.l,S.xc(y),S.B())return p.kx(S);for(y.W(this.rb,this.rb),S.tp(y),S=this.yn(S),y=new d.Da(S.description),E=1,k=S.da();E<k;E++)y.addPath(S,E,!1);return p.kx(y)},p.prototype.PN=function(){return this.Gu(this.X)},p.prototype.Gu=function(y){var g=new d.Da(this.X.description);return this.yu(g,y),this.sX(g)},p.prototype.ON=function(){var y=new l(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return d.Gh.local().V(y,this.Mj,this.Ub).next()},p.prototype.LN=function(){var y=new d.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)y.ad(this.X,!1);else{var g=new d.Fh;this.X.bn(g),g.W(this.Ka,this.Ka),y.ad(g,!1)}return y}return y.ad(this.X,!1),this.X=y,this.jE(y,0)},p.prototype.jE=function(y,g){this.cv();var w=new d.Da(y.description),S=new d.h,k=new d.h,E=new d.h,P=new d.h,R=new d.h,D=new d.h,U=new d.h,Y=new d.h,K=y.Ja(g),V=y.Ba(g),Q=0;for(g=y.Ja(g);Q<g;Q++){if(y.D(V+Q,k),y.D(V+(Q+1)%K,P),y.D(V+(Q+2)%K,D),U.uc(P,k),U.length()==0||(U.Hv(),U.normalize(),U.scale(this.rb),S.add(U,k),E.add(U,P),Q==0?w.Lt(S):w.Ci(S),w.Ci(E),Y.uc(D,P),Y.length()==0))throw d.i.Qa();Y.Hv(),Y.normalize(),Y.scale(this.rb),R.add(Y,P),this.GD(w,P,E,R,!1)}return p.kx(w)},p.prototype.kE=function(y,g,w){if(this.cv(),1>y.Ja(g))return null;if(this.FG(y,g)&&0<this.Ka){w=new d.Sa,y.ve(y.Ba(g),w);var S=new d.l;return y.Rj(g,S),w.Cb(S.sf()),this.Gu(w)}if(S=new d.Ta(y.description),y.Nn(g))this.zn(y,g,S,w,1),this.zn(y,g,S,w,-1);else{var k=new d.Ta(y.description);k.addPath(y,g,!1),k.Dr(y,g,0,y.rv(g),!1),this.zn(k,0,S,w,1)}return this.yn(S)},p.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw d.i.fu("user_canceled")},p.prototype.yn=function(y){return d.Fg.Mk(y,this.ct,!0,!0,this.Ub)},p.prototype.qE=function(){if(this.vk==0)return this.Dq;var y=1-this.vk*Math.abs(this.Kv);return 4>(y=-1>y?4:2*Math.PI/Math.acos(y)+.5)?y=4:y>this.Dq&&(y=this.Dq),d.O.truncate(y)},p.prototype.GD=function(y,g,w,S,k){this.cv();var E=new d.h;E.uc(w,g),E.scale(this.Kv);var P=new d.h;P.uc(S,g),P.scale(this.Kv),0>(E=Math.atan2(E.y,E.x)/this.oA)&&(E=this.Id.length+E),E=this.Id.length-E,0>(P=Math.atan2(P.y,P.x)/this.oA)&&(P=this.Id.length+P),(P=this.Id.length-P)<E&&(P+=this.Id.length);var R=d.O.truncate(P);P=d.O.truncate(Math.ceil(E)),(E=new d.h).L(this.Id[P%this.Id.length]),E.Ct(this.rb,g);var D=10*this.qa;for(E.sub(w),E.length()<D&&(P+=1),E.L(this.Id[R%this.Id.length]),E.Ct(this.rb,g),E.sub(S),E.length()<D&&--R,w=R-P,w++,R=0,P%=this.Id.length;R<w;R++,P=(P+1)%this.Id.length)E.L(this.Id[P]),E.Ct(this.rb,g),y.Ci(E),this.Xq();k&&y.Ci(S)},p.prototype.zn=function(y,g,w,S,k){var E=new d.gd,P=E.mN(y,g);if(E.Gp(this.tA,!1,!1),2>E.I(P))return 0>k||(k=y,E=new d.Sa,k.ve(k.Ba(g),E),this.yu(w,E)),1;var R=E.Na(E.Xa(E.Ob(P))),D=new d.Dd;if(D.gg(-R.x,-R.y),E.Oc(D),S&&(this.tQ(E,P,k),2>E.I(P)))return 0>k||(k=y,E=new d.Sa,k.ve(k.Ba(g),E),this.yu(w,E)),1;this.Zd.length=0;var U=E.Ob(P);g=E.Xa(U);var Y=k==1?E.Ma(g):E.U(g);y=k==1?E.U(g):E.Ma(g);var K=!0;S=new d.h,P=new d.h;var V=new d.h,Q=new d.h,ae=new d.h,oe=new d.h,me=new d.h,de=new d.h,Me=new d.h,_e=new d.h,xe=this.rb;U=E.Ja(U);for(var Ue=0;Ue<U;Ue++)E.D(y,P),K&&(E.D(g,S),E.D(Y,V),de.uc(S,V),de.normalize(),_e.MG(de),_e.scale(xe),Q.add(_e,S)),me.uc(P,S),me.normalize(),Me.MG(me),Me.scale(xe),ae.add(S,Me),Y=de.wi(me),K=de.Qh(me),0>Y||0>K&&Y==0?this.Zd.push(h.Qu(Q,ae,S,2,this.Zd.length+1,this.Zd.length-1)):Q.qb(ae)||(this.Zd.push(h.construct(Q,S,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(h.construct(S,ae,this.Zd.length+1,this.Zd.length-1,"dummy"))),oe.add(P,Me),this.Zd.push(h.Qu(ae,oe,S,1,this.Zd.length+1,this.Zd.length-1)),Q.L(oe),_e.L(Me),V.L(S),S.L(P),de.L(me),Y=g,g=y,K=!1,y=k==1?E.U(g):E.Ma(g);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(w),D.gg(R.x,R.y),w.YD(D,w.da()-1),1},p.prototype.YV=function(y){for(var g=this.zO(),w=!0,S=g+1,k=g;S!=g;k=S){var E=this.Zd[k];S=E.qh!=-1?E.qh:(k+1)%this.Zd.length,E.Co!=0&&(w&&y.Lt(E.Im),E.Co==2?this.GD(y,E.aw,E.Im,E.Vm,!0):y.Ci(E.Vm),w=!1)}},p.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var y=0,g=0,w=this.Zd.length;g<w;){var S=this.Zd[g];if(3&S.Co){y=g;break}g=S.qh}for(w=y+1,g=y;w!=y;g=w){w=(S=this.Zd[g]).qh;for(var k=1,E=null;w!=g&&!(3&(E=this.Zd[w]).Co);)w=E.qh,k++;k!=1&&(S.Co&E.Co)==1&&(this.Ls==null&&(this.Ls=new d.yb,this.lw=new d.yb),this.Ls.Dc(S.Im),this.Ls.Qc(S.Vm),this.lw.Dc(E.Im),this.lw.Qc(E.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&(S.Vm.L(this.Ks[0]),E.Im.L(this.Ks[0]),S.qh=w,E.sh=g))}return y},p.prototype.Fv=function(y,g,w){var S=new d.h;if(S.uc(w,y),w=S.length(),0<(w=this.rb*this.rb-w*w*.25)){w=Math.sqrt(w),S.normalize(),S.ar();var k=new d.h;if(k.uc(g,y),k.Qh(S)+w>=this.rb)return!0}return!1},p.prototype.tQ=function(y,g,w){for(var S=0;1>S;S++){var k=!1,E=y.Ob(g),P=y.Ja(E);if(P==0)break;var R=P;if(3>P)break;!y.dc(E)&&(R=P-1),E=y.Xa(E),P=0<w?y.Ma(E):y.U(E);for(var D=0<w?y.U(E):y.Ma(E),U=P,Y=!0,K=new d.h,V=new d.h,Q=new d.h,ae=new d.h,oe=new d.h,me=d.h.construct(0,0),de=new d.h,Me=new d.h,_e=new d.h,xe=new d.h,Ue=this.rb,Ae=0,st=0;st<R&&(y.D(D,V),Y&&(y.D(E,K),y.D(P,Q),U=P),Me.uc(K,Q),Me.normalize(),de.uc(V,K),de.normalize(),U!=D);){var ct=Me.wi(de),Ve=Me.Qh(de),Rt=!0;if(0>ct||0>Ve&&ct==0||!this.Fv(Q,K,V)||(me.L(V),Rt=!1,++Ae,k=!0),Rt){if(0<Ae)for(;(ct=0<w?y.Ma(U):y.U(U))!=E;){if(y.D(ct,ae),!this.Fv(ae,Q,me)){ct!=D&&this.Fv(ae,Q,V)&&this.Fv(ae,K,V)&&(Q.L(ae),U=ct,Rt=!1,++Ae);break}Q.L(ae),U=ct,Rt=!1,++Ae}if(!Rt)continue;if(0<Ae){for(U=0<w?y.Ma(P):y.U(P),Y=1;Y<Ae;Y++)Rt=0<w?y.Ma(U):y.U(U),y.pd(U,!0),U=Rt;_e.uc(K,Q),Ae=Ue*Ue-(Ae=_e.length())*Ae*.25,Ue-(Ae=Math.sqrt(Ae))>.5*this.vk?(oe.add(Q,K),oe.scale(.5),_e.normalize(),_e.ar(),xe.L(_e),xe.scale(Ue-Ae),oe.add(xe),y.mf(P,oe)):y.pd(P,!0),Ae=0}Q.L(K),U=E}K.L(V),P=E,E=D,D=0<w?y.U(E):y.Ma(E),st++,Y=!1}if(0<Ae){for(U=0<w?y.Ma(P):y.U(P),Y=1;Y<Ae;Y++)Rt=0<w?y.Ma(U):y.U(U),y.pd(U,!0),U=Rt;oe.add(Q,K),oe.scale(.5),_e.uc(K,Q),Ae=Ue*Ue-(Ae=_e.length())*Ae*.25,Ae=Math.sqrt(Ae),_e.normalize(),_e.ar(),xe.L(_e),xe.scale(Ue-Ae),oe.add(xe),y.mf(P,oe)}if(y.Gp(this.tA,!1,!1),!k)break}},p.prototype.FG=function(y,g){if(y.Ja(g)==1)return!0;var w=new d.l;return y.Rj(g,w),Math.max(w.R(),w.ca())<.5*this.vk},p.prototype.EG=function(y){var g=new d.l;return y.A(g),Math.max(g.R(),g.ca())<.5*this.vk},p.prototype.WV=function(y){for(var g=0,w=0,S=(y=d.EC.local().V(y,.25*this.vk,!1,this.Ub)).da();w<S;w++)g=Math.max(y.Ja(w),g);return 32>g?(this.oq=!1,y):(this.oq=!0,d.Fg.Mk(y,this.ct,!1,!0,this.Ub))},p.prototype.yu=function(y,g){if(g=g.D(),this.Id!=null&&this.Id.length!==0){var w=new d.h;w.L(this.Id[0]),w.Ct(this.rb,g),y.Lt(w);for(var S=1,k=this.Id.length;S<k;S++)w.L(this.Id[S]),w.Ct(this.rb,g),y.Ci(w)}else{S=this.qE(),w=d.O.truncate((S+3)/4),S=.5*Math.PI/w,k=Math.cos(S);for(var E=Math.sin(S),P=new d.h,R=3;0<=R;R--){switch(P.ma(0,this.rb),R){case 0:for(S=0;S<w;S++)y.yj(P.x+g.x,P.y+g.y),P.Bt(k,E);break;case 1:for(S=0;S<w;S++)y.yj(-P.y+g.x,P.x+g.y),P.Bt(k,E);break;case 2:for(S=0;S<w;S++)y.yj(-P.x+g.x,-P.y+g.y),P.Bt(k,E);break;default:for(y.sx(P.y+g.x,-P.x+g.y),S=1;S<w;S++)P.Bt(k,E),y.yj(P.y+g.x,-P.x+g.y)}this.Xq()}}},p.kx=function(y){return y.Ch(1,0),y},p.prototype.sX=function(y){return y.Ch(2,this.qa),y.fm(),y},p}();d.HK=c}(ee||(ee={})),function(d){var j=function(){function x(h){this.Ca=h,this.g=new d.gd,this.dd=new d.ia(0)}return x.prototype.Lh=function(h,l,s){switch(l){case 0:if(h.v<s&&h.C<=s)break;return h.v>=s?1:-1;case 1:if(h.G<s&&h.H<=s)break;return h.G>=s?1:-1;case 2:if(h.v>=s&&h.C>s)break;return h.C<=s?1:-1;case 3:if(!(h.G>=s&&h.H>s))return h.H<=s?1:-1}return 0},x.prototype.Ay=function(h,l){return h.getType()==1736?this.Cy(h,l):this.Dy(h)},x.prototype.Cy=function(h,l){if(this.Ca.R()==0||this.Ca.ca()==0)return h.Ia();var s=new d.l;h.xc(s),this.X=this.g.Ib(h);var a=new d.l,c=new d.l,p=new d.h,y=new d.h,g=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0];new d.ig;var S=new d.yb,k=new d.ia(0);k.Jb(Math.min(100,h.I()));for(var E=!1,P=0;!E&&4>P;P++){var R=!1,D=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,R=s.v<=U&&s.C>=U;break;case 1:U=this.Ca.G,R=s.G<=U&&s.H>=U;break;case 2:U=this.Ca.C,R=s.v<=U&&s.C>=U;break;case 3:U=this.Ca.H,R=s.G<=U&&s.H>=U}if(R)for(E=!0,R=this.g.Ob(this.X);R!=-1;){var Y=-1,K=-1,V=this.g.Xa(R),Q=V;do{var ae=this.g.bc(Q);ae==null&&(ae=S,this.g.D(Q,p),ae.Dc(p),this.g.D(this.g.U(Q),y),ae.Qc(y)),ae.A(a);var oe=this.Lh(a,P,U),me=0,de=-1;if(oe==-1){me=0<(ae=ae.cq(D,U,g,w))?this.g.Ul(Q,w,ae):0,me+=1;var Me=Q,_e=this.g.U(Me);for(ae=0;ae<me;ae++){if(this.g.D(Me,p),this.g.D(_e,y),(de=this.g.bc(Me))==null&&((de=S).Dc(p),de.Qc(y)),de.A(c),(de=this.Lh(c,P,U))==-1){if(D)(de=Math.abs(p.y-U))<(xe=Math.abs(y.y-U))?(p.y=U,this.g.mf(Me,p)):(y.y=U,this.g.mf(_e,y));else{de=Math.abs(p.x-U);var xe=Math.abs(y.x-U);de<xe?(p.x=U,this.g.mf(Me,p)):(y.x=U,this.g.mf(_e,y))}(de=this.g.bc(Me))==null&&((de=S).Dc(p),de.Qc(y)),de.A(c),de=this.Lh(c,P,U)}xe=Y,Y=de,K==-1&&(K=Y),xe==0&&Y==1||xe==1&&Y==0||xe!=0||Y!=0||k.add(Me),Y==1&&(E=!1),de=Me=_e,_e=this.g.U(_e)}}me==0&&(xe=Y,Y=oe,K==-1&&(K=Y),xe==0&&Y==1||xe==1&&Y==0||xe!=0||Y!=0||k.add(Q),Y==1&&(E=!1),de=this.g.U(Q)),Q=de}while(Q!=V);for(K==0&&Y==0&&k.add(V),ae=0,Y=k.size;ae<Y;ae++)K=k.get(ae),this.g.pd(K,!1);k.clear(!1),R=3>this.g.Ja(R)?this.g.Zq(R):this.g.Rb(R)}}return E?h.Ia():(this.FB(),0<l&&this.My(l),this.g.Ne(this.X))},x.prototype.Dy=function(h){var l=new d.l,s=new d.l,a=[0,0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0,0],p=new d.ig,y=h,g=new d.l;h.xc(g);for(var w=0;4>w;w++){var S=!1,k=!!(1&w),E=0;switch(w){case 0:E=this.Ca.v,S=g.v<=E&&g.C>=E;break;case 1:E=this.Ca.G,S=g.G<=E&&g.H>=E;break;case 2:E=this.Ca.C,S=g.v<=E&&g.C>=E;break;case 3:E=this.Ca.H,S=g.G<=E&&g.H>=E}if(S){S=y,y=h.Ia(),(S=S.Ga()).Zi();for(var P,R=new d.h;S.$a();)for(var D,U=!0;S.Ha();){var Y=S.ha();Y.A(l);var K=this.Lh(l,w,E);if(K==-1){if(0<(K=Y.cq(k,E,a,c))){var V=0;P=Y.ac();for(var Q=0;Q<=K;Q++)if(V!=(D=Q<K?c[Q]:1)){Y.ah(V,D,p);var ae=p.get();ae.Dc(P),Q<K&&(k?(R.x=a[Q],R.y=E):(R.x=E,R.y=a[Q]),ae.Qc(R)),ae.A(s);var oe=this.Lh(s,w,E);if(oe==-1){if(P=ae.ac(),V=ae.wc(),k)(oe=Math.abs(P.y-E))<(me=Math.abs(V.y-E))?(P.y=E,ae.Dc(P)):(V.y=E,ae.Qc(V));else{oe=Math.abs(P.x-E);var me=Math.abs(V.x-E);oe<me?(P.x=E,ae.Dc(P)):(V.x=E,ae.Qc(V))}ae.A(s),oe=this.Lh(s,w,E)}P=ae.wc(),V=D,(D=oe)==1?(y.oc(ae,U),U=!1):U=!0}}}else(D=K)==1?(y.oc(Y,U),U=!1):U=!0}}}return y},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var h=new d.h,l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var s=this.g.Xa(l),a=0,c=this.g.Ja(l);a<c;a++,s=this.g.U(s))this.g.D(s,h),(this.Ca.v==h.x||this.Ca.C==h.x||this.Ca.G==h.y||this.Ca.H==h.y)&&(this.g.Ra(s,this.ji,this.dd.size),this.dd.add(s));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(h){for(var l=new d.h,s=new d.h,a=d.O.lg(2048,0),c=this.g.Ob(this.X);c!=-1;c=this.g.Rb(c)){var p=this.g.Xa(c),y=p;do{var g=this.g.U(y);this.g.D(y,l);var w=-1;if(l.x==this.Ca.v?(this.g.D(g,s),s.x==this.Ca.v&&(w=1)):l.x==this.Ca.C&&(this.g.D(g,s),s.x==this.Ca.C&&(w=1)),l.y==this.Ca.G?(this.g.D(g,s),s.y==this.Ca.G&&(w=0)):l.y==this.Ca.H&&(this.g.D(g,s),s.y==this.Ca.H&&(w=0)),w!=-1&&(w=d.h.tb(l,s),!(1>=(w=d.O.truncate(Math.min(Math.ceil(w/h),2048)))))){for(var S=1;S<w;S++)a[S-1]=1*S/w;this.g.Ul(y,a,w-1)}y=g}while(y!=p)}},x.prototype.Vl=function(h,l){var s=this.g.Gd(),a=new d.h,c=new d.ia(0);c.Jb(100);for(var p=this.g.Ob(this.X);p!=-1;p=this.g.Rb(p))for(var y=this.g.Xa(p),g=0,w=this.g.Ja(p);g<w;g++){var S=this.g.U(y);this.g.D(y,a),(h?a.y==l:a.x==l)&&(this.g.D(S,a),(h?a.y==l:a.x==l)&&(this.g.Pa(y,s)!=1&&(c.add(y),this.g.Ra(y,s,1)),this.g.Pa(S,s)!=1&&(c.add(S),this.g.Ra(S,s,1)))),y=S}if(this.g.Td(s),!(3>c.size)){var k=this;c.Vd(0,c.size,function(oe,me){return k.Mh(oe,me)}),s=new d.h,p=new d.h,y=new d.h,p.Rc();var E=-1;g=new d.ia(0),w=new d.ia(0),S=this.g.Gd();for(var P=this.g.Gd(),R=0,D=c.size;R<D;R++){var U=c.get(R);if(this.g.D(U,a),!a.qb(p)){if(E!=-1){for(var Y=E;Y<R;Y++){E=c.get(Y);var K=this.g.U(E);U=this.g.Ma(E);var V=!1;0>this.Mh(E,K)&&(this.g.D(K,s),h?s.y==l:s.x==l)&&(g.add(E),V=!0,this.g.Ra(E,P,1)),0>this.Mh(E,U)&&(this.g.D(U,s),h?s.y==l:s.x==l)&&(V||g.add(E),this.g.Ra(E,S,1))}for(Y=0,V=g.size;Y<V;Y++){if(E=g.get(Y),U=this.g.Pa(E,S),K=this.g.Pa(E,P),U==1){U=this.g.Ma(E),this.g.D(U,y);var Q=[0];if(Q[0]=0,!y.qb(a)){var ae=d.h.tb(p,y);Q[0]=d.h.tb(y,a)/ae,Q[0]==0?Q[0]=2220446049250313e-31:Q[0]==1&&(Q[0]=.9999999999999998),this.g.Ul(U,Q,1),U=this.g.Ma(E),this.g.mf(U,a),w.add(U),this.g.Ra(U,S,1),this.g.Ra(U,P,-1)}}K==1&&(K=this.g.U(E),this.g.D(K,y),(Q=[0])[0]=0,y.qb(a)||(ae=d.h.tb(p,y),Q[0]=d.h.tb(p,a)/ae,Q[0]==0?Q[0]=2220446049250313e-31:Q[0]==1&&(Q[0]=.9999999999999998),this.g.Ul(E,Q,1),U=this.g.U(E),this.g.mf(U,a),w.add(U),this.g.Ra(U,S,-1),this.g.Ra(U,P,1)))}E=g,g=w,(w=E).clear(!1)}E=R,p.L(a)}}this.g.Td(S),this.g.Td(P)}},x.prototype.Nl=function(h,l){var s=new d.h,a=new d.ia(0);a.Jb(100);for(var c=this.g.Gd(),p=0,y=this.dd.size;p<y;p++){var g=this.dd.get(p);if(g!=-1){var w=this.g.U(g);this.g.D(g,s),(h?s.y==l:s.x==l)&&(this.g.D(w,s),(h?s.y==l:s.x==l)&&(this.g.Pa(g,c)!=-2&&(a.add(g),this.g.Ra(g,c,-2)),this.g.Pa(w,c)!=-2&&(a.add(w),this.g.Ra(w,c,-2))))}}if(a.size!=0){var S=this;for(a.Vd(0,a.size,function(me,de){return S.Mh(me,de)}),p=0,y=a.size;p<y;p++){var k=a.get(p);this.g.Ra(k,c,p)}g=new d.h,(w=new d.h).Rc();var E=-1;for(p=0,y=a.size;p<y;p++)if((k=a.get(p))!=-1&&(this.g.D(k,s),!s.qb(w))){if(E!=-1)for(;;){k=!1;for(var P=1<p-E?p-1:p,R=E;R<P;R++){var D=a.get(R);if(D!=-1){var U=-1,Y=this.g.U(D);0>this.Mh(D,Y)&&(this.g.D(Y,g),h?g.y==l:g.x==l)&&(U=Y),Y=-1;var K=this.g.Ma(D);if(0>this.Mh(D,K)&&(this.g.D(K,g),h?g.y==l:g.x==l)&&(Y=K),U!=-1&&Y!=-1)this.Kh(D,a,c),this.g.pd(D,!1),this.Kh(U,a,c),this.g.pd(U,!1),k=!0;else if(U!=-1||Y!=-1){for(K=R+1;K<p;K++){var V=a.get(K);if(V!=-1){var Q=this.g.U(V),ae=-1;0>this.Mh(V,Q)&&(this.g.D(Q,g),h?g.y==l:g.x==l)&&(ae=Q),Q=this.g.Ma(V);var oe=-1;if(0>this.Mh(V,Q)&&(this.g.D(Q,g),h?g.y==l:g.x==l)&&(oe=Q),ae!=-1&&oe!=-1){this.Kh(V,a,c),this.g.pd(V,!1),this.Kh(ae,a,c),this.g.pd(ae,!1),k=!0;break}if(U!=-1&&oe!=-1){this.zt(a,D,U,V,oe,c),k=!0;break}if(Y!=-1&&ae!=-1){this.zt(a,V,ae,D,Y,c),k=!0;break}}}if(k)break}}}if(!k)break}E=p,w.L(s)}}this.g.Td(c)},x.prototype.Kh=function(h,l,s){s=this.g.Pa(h,s),l.set(s,-1),s=this.g.Pa(h,this.ji),this.dd.set(s,-1),(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h&&(this.g.Jf(l,-1),this.g.Wg(l,-1))},x.prototype.zt=function(h,l,s,a,c,p){this.g.Bc(l,a),this.g.Cc(a,l),this.g.Cc(s,c),this.g.Bc(c,s),this.Kh(a,h,p),this.g.mi(a,!1),this.Kh(c,h,p),this.g.mi(c,!0)},x.prototype.Ty=function(){for(var h=0,l=this.dd.size;h<l;h++){var s=this.dd.get(h);s!=-1&&this.g.aj(s,-1)}for(var a=0,c=0,p=this.g.Ob(this.X);p!=-1;){var y=this.g.Xa(p);if(y==-1||p!=this.g.bd(y)){var g=p;p=this.g.Rb(p),this.g.Jf(g,-1),this.g.$q(g)}else{s=y,g=0;do this.g.aj(s,p),g++,s=this.g.U(s);while(s!=y);2>=g?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),g==2&&(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),this.g.pd(y,!1)),g=p,p=this.g.Rb(p),this.g.Jf(g,-1),this.g.$q(g)):(this.g.cp(p,!1),this.g.Wg(p,this.g.Ma(y)),this.g.Vj(p,g),c+=g,a++,p=this.g.Rb(p))}}for(h=0,l=this.dd.size;h<l;h++)if((s=this.dd.get(h))!=-1&&(p=this.g.bd(s))==-1){p=this.g.vf(this.X,-1),g=0,y=s;do this.g.aj(s,p),g++,s=this.g.U(s);while(s!=y);2>=g?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),g==2&&(0<=(s=this.g.Pa(y,this.ji))&&this.dd.set(s,-1),this.g.pd(y,!1)),g=p,this.g.Jf(g,-1),this.g.$q(g)):(this.g.kn(p,!0),this.g.Vj(p,g),this.g.Jf(p,y),this.g.Wg(p,this.g.Ma(y)),this.g.cp(p,!1),c+=g,a++)}for(this.g.Rl(this.X,a),this.g.Tj(this.X,c),h=0,l=this.g.ld;l!=-1;l=this.g.ue(l))h+=this.g.I(l);this.g.bC(h)},x.By=function(h,l,s){return new x(l).Ay(h,s)},x.clip=function(h,l,s,a){if(h.B())return h;if(l.B())return h.Ia();if((s=h.getType())==33)return a=h.D(),l.contains(a)?h:h.Ia();if(s==197)return a=new d.l,h.A(a),a.Ea(l)?(l=new d.Fh,h.copyTo(l),l.Xo(a),l):h.Ia();var c=new d.l;if(h.xc(c),l.contains(c))return h;if(!l.isIntersecting(c))return h.Ia();if((c=h.Bb)!=null&&(c=c.Fk)!=null){if((c=c.Ro(l))==1){if(s!=1736)throw d.i.Qa();return(h=new d.Da(h.description)).tp(l),h}if(c==0)return h.Ia()}switch(s){case 550:s=null,c=h.I();for(var p=h.ub(0),y=0,g=0;g<c;g++)a=new d.h,p.tc(2*g,a),l.contains(a)||(y==0&&(s=h.Ia()),y<g&&s.Fd(h,y,g),y=g+1);return 0<y&&s.Fd(h,y,c),y==0?h:s;case 1736:case 1607:return x.By(h,l,a);default:throw d.i.Qa()}},x.prototype.Mh=function(h,l){var s=new d.h;return this.g.D(h,s),h=new d.h,this.g.D(l,h),s.compare(h)},x}();d.Ud=j}(ee||(ee={})),function(d){var j=function(){function x(h,l){this.Ca=h,this.g=new d.gd,this.dd=new d.ia(0),this.nd=l}return x.prototype.Lh=function(h,l,s){switch(l){case 0:if(h.v<s&&h.C<=s)break;return h.v>=s?1:-1;case 1:if(h.G<s&&h.H<=s)break;return h.G>=s?1:-1;case 2:if(h.v>=s&&h.C>s)break;return h.C<=s?1:-1;case 3:if(!(h.G>=s&&h.H>s))return h.H<=s?1:-1}return 0},x.prototype.Ay=function(h,l){return h.getType()==1736?this.Cy(h,l):this.Dy(h)},x.prototype.Cy=function(h,l){if(this.Ca.R()==0||this.Ca.ca()==0)return h.Ia();var s=new d.l;h.xc(s),this.X=this.g.Ib(h);var a=new d.l,c=new d.l,p=new d.h,y=new d.h,g=[0,0,0,0,0,0,0,0,0],w=[0,0,0,0,0,0,0,0,0],S=new d.yb,k=new d.ia(0);k.Jb(256);for(var E=!1,P=0;!E&&4>P;P++){var R=!1,D=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,R=s.v<=U&&s.C>=U;break;case 1:U=this.Ca.G,R=s.G<=U&&s.H>=U;break;case 2:U=this.Ca.C,R=s.v<=U&&s.C>=U;break;case 3:U=this.Ca.H,R=s.G<=U&&s.H>=U}if(R)for(E=!0,R=this.g.Ob(this.X);R!=-1;){var Y=!0,K=-1,V=-1,Q=this.g.Xa(R),ae=Q;do{var oe=this.g.bc(ae);oe==null&&(oe=S,this.g.D(ae,p),oe.Dc(p),this.g.D(this.g.U(ae),y),oe.Qc(y)),oe.A(a);var me=this.Lh(a,P,U),de=0,Me=-1;if(me==-1){de=0<(oe=oe.cq(D,U,g,w))?this.g.LX(ae,w,oe):0,de+=1;var _e=ae,xe=this.g.U(_e);for(oe=0;oe<de;oe++){if(this.g.D(_e,p),this.g.D(xe,y),(Me=this.g.bc(_e))==null&&((Me=S).Dc(p),Me.Qc(y)),Me.A(c),(Me=this.Lh(c,P,U))==-1){if(D)(Me=Math.abs(p.y-U))<(Ue=Math.abs(y.y-U))?(p.y=U,this.g.mf(_e,p)):(y.y=U,this.g.mf(xe,y));else{Me=Math.abs(p.x-U);var Ue=Math.abs(y.x-U);Me<Ue?(p.x=U,this.g.mf(_e,p)):(y.x=U,this.g.mf(xe,y))}(Me=this.g.bc(_e))==null&&((Me=S).Dc(p),Me.Qc(y)),Me.A(c),Me=this.Lh(c,P,U)}Ue=K,K=Me,V==-1&&(V=K),Ue==0&&K==1||Ue==1&&K==0||Ue!=0||K!=0||k.add(_e),K==1&&(Y=E=!1),Me=_e=xe,xe=this.g.U(xe)}}if(de==0&&(Ue=K,K=me,V==-1&&(V=K),Ue==0&&K==1||Ue==1&&K==0||Ue!=0||K!=0||k.add(ae),K==1&&(Y=E=!1),Me=this.g.U(ae)),ae=Me,256<=k.size){for(oe=1,me=k.size-1;oe<me;oe++)de=k.get(oe),this.g.pd(de,!1);k.set(1,k.Fc()),k.Bh(2)}}while(ae!=Q);if(!Y)for(V==0&&K==0&&k.add(Q),oe=0,me=k.size;oe<me;oe++)de=k.get(oe),this.g.pd(de,!1);k.clear(!1),R=Y||this.g.Ja(R)==0?this.g.Zq(R):this.g.Rb(R)}}return E?h.Ia():(this.FB(),0<l&&this.My(l),this.g.Ne(this.X))},x.prototype.Dy=function(h){var l=new d.l,s=new d.l,a=[0,0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0,0],p=new d.ig,y=h,g=new d.l;h.xc(g);for(var w=new d.h,S=new d.h,k=null,E=null,P=0;4>P;P++){var R=!1,D=!!(1&P),U=0;switch(P){case 0:U=this.Ca.v,R=g.v<=U&&g.C>=U;break;case 1:U=this.Ca.G,R=g.G<=U&&g.H>=U;break;case 2:U=this.Ca.C,R=g.v<=U&&g.C>=U;break;case 3:U=this.Ca.H,R=g.G<=U&&g.H>=U}if(R)for(R=y,y=h.Ia(),(R=R.Ga()).Zi();R.$a();)for(var Y,K=!0;R.Ha();){var V=R.ha();V.A(l);var Q=this.Lh(l,P,U);if(Q==-1){if(0<(Q=V.cq(D,U,a,c))){var ae=0;V.Yp(w);for(var oe=0;oe<=Q;oe++)if(ae!=(Y=oe<Q?c[oe]:1)){V.ah(ae,Y,p);var me=p.get();me.Dc(w),oe<Q&&(D?(S.x=a[oe],S.y=U):(S.x=U,S.y=a[oe]),me.Qc(S)),me.A(s);var de=this.Lh(s,P,U);de==-1&&(k==null&&(k=new d.h),E==null&&(E=new d.h),me.Yp(k),me.Tr(E),D?(ae=Math.abs(k.y-U))<(de=Math.abs(E.y-U))?(k.y=U,me.Dc(k)):(E.y=U,me.Qc(E)):(ae=Math.abs(k.x-U))<(de=Math.abs(E.x-U))?(k.x=U,me.Dc(k)):(E.x=U,me.Qc(E)),me.A(s),de=this.Lh(s,P,U)),me.Tr(w),ae=Y,(Y=de)==1?(y.oc(me,K),K=!1):K=!0}}}else(Y=Q)==1?(y.oc(V,K),K=!1):K=!0}}return y},x.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var h=new d.h,l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var s=this.g.Xa(l),a=0,c=this.g.Ja(l);a<c;a++,s=this.g.U(s))this.g.D(s,h),(this.Ca.v==h.x||this.Ca.C==h.x||this.Ca.G==h.y||this.Ca.H==h.y)&&(this.g.Ra(s,this.ji,this.dd.size),this.dd.add(s));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},x.prototype.My=function(h){for(var l=new d.h,s=new d.h,a=null,c=null,p=d.O.lg(2048,0),y=this.g.Ob(this.X);y!=-1;y=this.g.Rb(y)){var g=this.g.Xa(y),w=g;do{var S=this.g.U(w);this.g.D(w,l);var k=-1;if(l.x==this.Ca.v?(this.g.D(S,s),s.x==this.Ca.v&&(k=1)):l.x==this.Ca.C&&(this.g.D(S,s),s.x==this.Ca.C&&(k=1)),l.y==this.Ca.G?(this.g.D(S,s),s.y==this.Ca.G&&(k=0)):l.y==this.Ca.H&&(this.g.D(S,s),s.y==this.Ca.H&&(k=0)),k!=-1){if(a==null&&(a=new d.h),c==null&&(c=new d.h),a.L(l),c.ma(0,0),k==0){var E=l.x-this.Ca.v;c.x=d.lc.sign(s.x-l.x),a.x=h*d.lc.Cn(Math.floor(Math.abs(E/h)),E)+this.Ca.v,0>a.x&&(a.x+=h)}else E=l.y-this.Ca.G,c.y=d.lc.sign(s.y-l.y),a.y=h*d.lc.Cn(Math.floor(Math.abs(E/h)),E)+this.Ca.G,0>a.y&&(a.y+=h);E=k!=0?s.y-l.y:s.x-l.x;var P=Math.abs(E);if(65536<P/h)throw d.i.fa("internal error");if(0<P){P=d.O.truncate(P/h)+2,p.length<P&&(p=d.O.lg(P));for(var R=P=0;;R++){var D=new d.h;if(D.x=a.x+c.x*R*h,D.y=a.y+c.y*R*h,1<=(D=(k!=0?D.y-l.y:D.x-l.x)/E))break;0>=D||(p[P]=D,P++)}P!=0&&this.g.Ul(w,p,P)}}w=S}while(w!=g)}},x.prototype.Vl=function(h,l){for(var s=-1,a=new d.h,c=null,p=this.g.Ob(this.X);p!=-1;p=this.g.Rb(p))for(var y=this.g.Xa(p),g=0,w=this.g.Ja(p);g<w;g++){var S=this.g.U(y);this.g.D(y,a),(h?a.y==l:a.x==l)&&(this.g.D(S,a),(h?a.y==l:a.x==l)&&(s==-1&&(s=this.g.Gd()),c==null&&(c=new d.ia(0)).Jb(100),this.g.Pa(y,s)!=1&&(c.add(y),this.g.Ra(y,s,1)),this.g.Pa(S,s)!=1&&(c.add(S),this.g.Ra(S,s,1)))),y=S}if(s!=-1&&this.g.Td(s),!(c==null||3>c.size)){var k=this;c.Vd(0,c.size,function(oe,me){return k.Mh(oe,me)}),s=new d.h,p=new d.h,y=new d.h,p.Rc();var E=-1;g=new d.ia(0),w=new d.ia(0),S=null;for(var P=this.g.Gd(),R=this.g.Gd(),D=0,U=c.size;D<U;D++){var Y=c.get(D);if(this.g.D(Y,a),!a.qb(p)){if(E!=-1){for(var K=E;K<D;K++){E=c.get(K);var V=this.g.U(E);Y=this.g.Ma(E);var Q=!1;this.g.D(V,s),0>p.compare(s)&&(h?s.y==l:s.x==l)&&(g.add(E),Q=!0,this.g.Ra(E,R,1)),this.g.D(Y,s),0>p.compare(s)&&(h?s.y==l:s.x==l)&&(Q||g.add(E),this.g.Ra(E,P,1))}for(K=0,Q=g.size;K<Q;K++){if(E=g.get(K),Y=this.g.Pa(E,P),V=this.g.Pa(E,R),Y==1&&(Y=this.g.Ma(E),this.g.D(Y,y),!y.qb(a))){S==null&&(S=[]);var ae=d.h.tb(p,y);S[0]=d.h.tb(y,a)/ae,S[0]==0?S[0]=2220446049250313e-31:S[0]==1&&(S[0]=.9999999999999998),this.g.Ul(Y,S,1),Y=this.g.Ma(E),this.g.mf(Y,a),w.add(Y),this.g.Ra(Y,P,1),this.g.Ra(Y,R,-1)}V==1&&(V=this.g.U(E),this.g.D(V,y),y.qb(a)||(S==null&&(S=[]),ae=d.h.tb(p,y),S[0]=d.h.tb(p,a)/ae,S[0]==0?S[0]=2220446049250313e-31:S[0]==1&&(S[0]=.9999999999999998),this.g.Ul(E,S,1),Y=this.g.U(E),this.g.mf(Y,a),w.add(Y),this.g.Ra(Y,P,-1),this.g.Ra(Y,R,1)))}E=g,g=w,(w=E).clear(!1)}E=D,p.L(a)}}this.g.Td(P),this.g.Td(R)}},x.prototype.Nl=function(h,l){for(var s=new d.h,a=null,c=-1,p=0,y=this.dd.size;p<y;p++){var g=this.dd.get(p);if(g!=-1){var w=this.g.U(g);this.g.D(g,s),(h?s.y==l:s.x==l)&&(this.g.D(w,s),(h?s.y==l:s.x==l)&&(c==-1&&(c=this.g.Gd()),a==null&&(a=new d.ia(0)).Jb(100),this.g.Pa(g,c)!=-2&&(a.add(g),this.g.Ra(g,c,-2)),this.g.Pa(w,c)!=-2&&(a.add(w),this.g.Ra(w,c,-2))))}}if(a==null)c!=-1&&this.g.Td(c);else{var S=this;for(a.Vd(0,a.size,function(me,de){return S.Mh(me,de)}),p=0,y=a.size;p<y;p++){var k=a.get(p);this.g.Ra(k,c,p)}g=new d.h,(w=new d.h).Rc();var E=-1;for(p=0,y=a.size;p<y;p++)if((k=a.get(p))!=-1&&(this.g.D(k,s),!s.qb(w))){if(E!=-1)for(;;){k=!1;for(var P=1<p-E?p-1:p,R=E;R<P;R++){var D=a.get(R);if(D!=-1){var U=-1,Y=this.g.U(D);this.g.D(Y,g),0>w.compare(g)&&(h?g.y==l:g.x==l)&&(U=Y),Y=-1;var K=this.g.Ma(D);if(this.g.D(K,g),0>w.compare(g)&&(h?g.y==l:g.x==l)&&(Y=K),U!=-1&&Y!=-1)this.Kh(D,a,c),this.g.pd(D,!1),this.Kh(U,a,c),this.g.pd(U,!1),k=!0;else if(U!=-1||Y!=-1){for(K=R+1;K<p;K++){var V=a.get(K);if(V!=-1){var Q=this.g.U(V),ae=-1;this.g.D(Q,g),0>w.compare(g)&&(h?g.y==l:g.x==l)&&(ae=Q),Q=this.g.Ma(V);var oe=-1;if(this.g.D(Q,g),0>w.compare(g)&&(h?g.y==l:g.x==l)&&(oe=Q),ae!=-1&&oe!=-1){this.Kh(V,a,c),this.g.pd(V,!1),this.Kh(ae,a,c),this.g.pd(ae,!1),k=!0;break}if(U!=-1&&oe!=-1){this.zt(a,D,U,V,oe,c),k=!0;break}if(Y!=-1&&ae!=-1){this.zt(a,V,ae,D,Y,c),k=!0;break}}}if(k)break}}}if(!k)break}E=p,w.L(s)}this.g.Td(c)}},x.prototype.Kh=function(h,l,s){s=this.g.Pa(h,s),l.set(s,-1),s=this.g.Pa(h,this.ji),this.dd.set(s,-1),(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h&&(this.g.Jf(l,-1),this.g.Wg(l,-1))},x.prototype.zt=function(h,l,s,a,c,p){this.g.Bc(l,a),this.g.Cc(a,l),this.g.Cc(s,c),this.g.Bc(c,s),this.Kh(a,h,p),this.g.mi(a,!1),this.Kh(c,h,p),this.g.mi(c,!0)},x.prototype.Ty=function(){for(var h=0,l=this.dd.size;h<l;h++){var s=this.dd.get(h);s!=-1&&this.g.aj(s,-1)}for(var a=0,c=0,p=this.g.Ob(this.X);p!=-1;){var y=this.g.Xa(p);if(y==-1||p!=this.g.bd(y)){var g=p;p=this.g.Rb(p),this.g.Jf(g,-1),this.g.$q(g)}else{s=y,g=0;do this.g.aj(s,p),g++,s=this.g.U(s);while(s!=y);this.g.cp(p,!1),this.g.Wg(p,this.g.Ma(y)),this.g.Vj(p,g),c+=g,a++,p=this.g.Rb(p)}}for(h=0,l=this.dd.size;h<l;h++)if((s=this.dd.get(h))!=-1&&(p=this.g.bd(s))==-1){p=this.g.vf(this.X,-1),g=0,y=s;do this.g.aj(s,p),g++,s=this.g.U(s);while(s!=y);2>=g?(s=this.g.Pa(y,this.ji),this.dd.set(s,-1),y=this.g.pd(y,!1),g==2&&(0<=(s=this.g.Pa(y,this.ji))&&this.dd.set(s,-1),this.g.pd(y,!1)),g=p,this.g.Jf(g,-1),this.g.$q(g)):(this.g.kn(p,!0),this.g.Vj(p,g),this.g.Jf(p,y),this.g.Wg(p,this.g.Ma(y)),this.g.cp(p,!1),c+=g,a++)}for(this.g.Rl(this.X,a),this.g.Tj(this.X,c),h=0,l=this.g.ld;l!=-1;l=this.g.ue(l))h+=this.g.I(l);this.g.bC(h)},x.By=function(h,l,s,a){return new x(l,a).Ay(h,s)},x.clip=function(h,l,s,a,c){return x.Nu(h,l,null,s,a,c)},x.Nu=function(h,l,s,a,c,p){var y=h.getType();if(y==33)return c=h.D(),l.contains(c)?h:h.Ia();if(y==197)return c=new d.l,h.A(c),c.Ea(l)?(l=new d.Fh,h.copyTo(l),l.Xo(c),l):h.Ia();if(h.B())return h;if(l.B())return h.Ia();var g=new d.l;if(h.xc(g),l.contains(g))return h;if(!l.isIntersecting(g))return h.Ia();if((s!=null||isNaN(a))&&d.ta.ty(s,l,!1),!d.aa.xj(y))throw d.i.N();if((s=h.Bb)!=null&&(s=s.Fk)!=null){if((s=s.Ro(l))==1){if(y!=1736)throw d.i.fa("internal error");return(h=new d.Da(h.description)).tp(l),h}if(s==0)return h.Ia()}switch(y){case 550:for(p=null,y=h.I(),s=h.ub(0),a=0,c=new d.h,g=0;g<y;g++)s.tc(2*g,c),l.contains(c)||(a==0&&(p=h.Ia()),a<g&&p.Fd(h,a,g),a=g+1);return 0<a&&p.Fd(h,a,y),a==0?h:p;case 1736:case 1607:return x.By(h,l,c,p);default:throw d.i.fa("internal error")}},x.prototype.Mh=function(h,l){var s=new d.h;return this.g.D(h,s),h=new d.h,this.g.D(l,h),s.compare(h)},x}();d.ri=j}(ee||(ee={})),function(d){var j=new d.h,x=function(){function l(s,a,c,p,y){this.Pm=new d.h,this.Dk=new d.h,this.Pi=new d.h,this.g=s,this.Aw=c,this.no=p,this.Pm=a,this.yl=y,this.Dk.Rc(),this.Pi.Rc()}return l.prototype.xE=function(s){this.g.D(s,this.Dk),s=d.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var a=d.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return h.jG(s,a)},l.prototype.jz=function(s){return this.g.Pa(s,this.yl)},l.prototype.Py=function(s,a){return this.g.D(s,this.Dk),this.g.D(a,this.Pi),h.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},l}();d.sY=function(){};var h=function(){function l(){this.Pm=new d.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return l.iQ=function(s,a){var c=new l;return c.g=s,c.qa=a,c.Aw=a*a,c.$v=2*a,c.no=1/c.$v,c.BO()},l.Cv=function(s,a,c,p,y){return(s-=c)*s+(a-=p)*a<=y},l.jG=function(s,a){return d.O.Th(a,d.O.Th(s))},l.prototype.DO=function(s,a){this.g.Gc(s,j);for(var c=(j.y-this.Pm.y)*this.no,p=d.O.truncate((j.x-this.Pm.x)*this.no),y=d.O.truncate(c),g=c=0;1>=g;g+=1)for(var w=0;1>=w;w+=1){var S=l.jG(p+g,y+w),k=this.xl.rR(S);k!=-1&&(this.pq[c]=k,this.xs[c]=S,c++)}for(p=c-1;1<=p;p--)for(k=this.pq[p],y=p-1;0<=y;y--)if(k==this.pq[y]){this.xs[y]=-1,p!=--c&&(this.xs[p]=this.xs[c],this.pq[p]=this.pq[c]);break}for(y=0;y<c;y++)this.EO(s,this.xs[y],j,this.pq[y],a)},l.prototype.EO=function(s,a,c,p,y){for(var g=new d.h;p!=-1;p=this.xl.ER(p)){var w=this.xl.ja(p);s==w||a!=-1&&this.g.Pa(w,this.yl)!=a||(this.g.Gc(w,g),l.Cv(c.x,c.y,g.x,g.y,this.Aw)&&y.add(p))}},l.prototype.Xm=function(s,a,c){var p=this.g.Pa(s,this.qo),y=this.g.Pa(a,this.qo);return p==-1&&(p=this.zd.Ph(),this.zd.addElement(p,s),this.g.Ra(s,this.qo,p)),y==-1?this.zd.addElement(p,a):this.zd.Hy(p,y),this.g.Ra(a,this.qo,-2),a=this.YT(s,a),c&&(c=this.kw.xE(s),this.g.Ra(s,this.yl,c)),a},l.WT=function(s,a,c){s.Nb(a),c=s;var p=new d.h;l.XT(s.D(),a.D(),p),c.Cb(p)},l.XT=function(s,a,c){var p=s.x;s.x!=a.x&&(p=(1*s.x+1*a.x)/2);var y=s.y;s.y!=a.y&&(y=(1*s.y+1*a.y)/2),c.ma(p,y)},l.prototype.YT=function(s,a){var c=new d.h;this.g.D(s,c);var p=new d.h;this.g.D(a,p);var y=this.g.cG(s),g=y+(a=this.g.cG(a)),w=0,S=c.x;c.x!=p.x&&(S=(c.x*y+p.x*a)/g,w++);var k=c.y;return c.y!=p.y&&(k=(c.y*y+p.y*a)/g,w++),0<w&&this.g.Cb(s,S,k),this.g.vX(s,g),w!=0},l.prototype.BO=function(){var s=this.g.fd,a=this.g.IF();for(this.Pm=a.mz(),a=Math.max(a.ca(),a.R())/2147483646,this.$v<a&&(this.$v=a,this.no=1/this.$v),this.zd=new d.au,this.zd.At(d.O.truncate(this.g.fd/3+1)),this.zd.fn(d.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new x(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new d.dL(d.O.truncate(4*s/3),this.kw),this.xl.AW(this.g.fd),s=!1,a=this.g.ld;a!=-1;a=this.g.ue(a))for(var c=this.g.Ob(a);c!=-1;c=this.g.Rb(c))for(var p=this.g.Xa(c),y=0,g=this.g.Ja(c);y<g;y++){var w=this.kw.xE(p);this.g.Ra(p,this.yl,w),this.xl.addElement(p,w),p=this.g.U(p)}var S=new d.ia(0);for(S.Jb(10),a=this.g.ld;a!=-1;a=this.g.ue(a))for(c=this.g.Ob(a);c!=-1;c=this.g.Rb(c))for(p=this.g.Xa(c),y=0,g=this.g.Ja(c);y<g;y++){if(this.g.Pa(p,this.qo)!=-2)for(w=this.g.Pa(p,this.yl),this.xl.jd(p,w);this.DO(p,S),S.size!=0;){w=!1;for(var k=0,E=S.size;k<E;k++){var P=S.get(k),R=this.xl.ja(P);this.xl.vd(P),w=this.Xm(p,R,k+1==E)||w}if(s=s||w,S.clear(!1),!w)break}p=this.g.U(p)}return s&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),s},l.prototype.vN=function(){for(var s=new d.h,a=this.zd.je;a!=-1;a=this.zd.qz(a)){var c=this.zd.rc(a);for(this.g.D(this.zd.ja(c),s),c=this.zd.lb(c);c!=-1;c=this.zd.lb(c))this.g.mf(this.zd.ja(c),s)}},l}();d.Yt=h}(ee||(ee={})),function(d){var j=function(){function x(h){h===void 0&&(h=null),this.yg=null,this.Pb=!1,this.yg=h===null?[]:h}return x.prototype.copyTo=function(h){if(h.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");for(var l=0;l<this.yg.length;l++)h.yg.push(this.yg[l].Of())},x.prototype.count=function(){return this.yg.length},x.prototype.add=function(h){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(h.Of())},x.prototype.clear=function(){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},x.prototype.remove=function(h){if(this.Pb)throw d.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(h,1)},x.prototype.jg=function(){var h=new x;return this.copyTo(h),h},x.prototype.Of=function(){return this.jg()},x.prototype.transform=function(h,l,s,a){if(h.length<l)throw d.i.fa("invalid Argument");var c=s;for(s=0;s<this.yg.length;s++){var p=this.yg[s];if(p.qm()!=null){var y=p.Un,g=y?1:0,w=y?p.qm().getGeogcs2():p.qm().getGeogcs1();if(w=c/(w=w.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(w-1))for(c=0;c<l;c++)h[c][0]*=w,h[c][1]*=w;d.MC.geogToGeog(p.qm(),l,h,null,g),c=(y?p.qm().getGeogcs1():p.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(w=c/a,3552713678800501e-30<Math.abs(w-1))for(c=0;c<l;c++)h[c][0]*=w,h[c][1]*=w;return l},x.prototype.Nb=function(h){if(h==this)return!0;if(!(h instanceof x)||this.yg.length!=h.yg.length)return!1;for(var l=0;l<this.yg.length;l++)if(!this.yg[l].Nb(h.yg[l]))return!1;return!0},x.prototype.ix=function(){this.Pb=!0},x.prototype.toString=function(){for(var h="CGT ("+this.count()+") ",l=0,s=this.count();l<s;++l)h+=this.yg[l].toString()+", ";return 200<h.length?h.substring(0,197)+"... ("+h.length.toString()+" characters)":h},x.create=function(){return new x},x}();d.wC=j}(ee||(ee={})),function(d){var j,x=Math.PI,h=2*Math.PI,l=Math.PI/2,s=function(){function p(){}return p.TO=function(y,g){var w=new p;return w.x=y,w.y=g,w.type=0,w.Uh=0,w},p.al=function(y){var g=new p;return g.x=y.x,g.y=y.y,g.type=0,g.Uh=0,g},p.SO=function(y){var g=new p;return g.x=y.x,g.y=y.y,g.type=y.type,g.Uh=y.Uh,g},p.Pd=function(y,g,w){var S=new p;return S.x=y.x+g*Math.cos(w),S.y=y.y+g*Math.sin(w),S.type=y.type,S.Uh=y.Uh,S},p.Pu=function(y,g){var w=new p;return w.x=.5*(y.x+g.x),w.y=.5*(y.y+g.y),w.type=y.type,w.Uh=y.Uh,w},p.TE=function(y,g){var w=new p;return w.x=y.x+.001*(g.x-y.x),w.y=y.y+.001*(g.y-y.y),w.type=y.type,w.Uh=y.Uh,w},p}(),a=function(){};(j=d.fL||(d.fL={}))[j.Round=0]="Round",j[j.Bevel=1]="Bevel",j[j.Miter=2]="Miter",j[j.Square=3]="Square";var c=function(){function p(y){this.NA=this.Yb=this.wg=null,this.nd=y}return p.V=function(y,g,w,S,k,E){if(y==null||1>y.Db())throw d.i.N();return g==0||y.B()?y:((E=new p(E)).ko=y,E.Ka=g,E.qa=k,E.Ki=w,E.CA=S,E.Rx())},p.prototype.eM=function(){var y=this.ko,g=y.ac(),w=y.wc(),S=new d.h;return S.uc(w,g),S.normalize(),S.Hv(),S.scale(this.Ka),g.add(S),w.add(S),S=y.Ia(),y.Dc(g),y.Qc(w),S},p.prototype.dM=function(){var y=this.ko;if(0<this.Ka&&this.Ki!=2){var g=new d.Da;return g.ad(y,!1),this.ko=g,this.Rx()}return(y=new d.Fh(y.$)).W(this.Ka,this.Ka),y},p.prototype.tJ=function(y,g,w,S){return(g.x-y.x)*(S.x-w.x)+(g.y-y.y)*(S.y-w.y)},p.prototype.fc=function(y,g){if(g===void 0)this.Yb.push(y),this.gf++;else if(this.gf==0)this.fc(y);else{var w=this.Bw,S=this.wg[g==0?w-1:g-1],k=this.wg[g],E=this.tJ(S,k,this.Yb[this.gf-1],y);0<E?this.fc(y):0>E&&(0<this.tJ(S,k,k,this.Yb[this.gf-1])?(k=this.wg[g==0?w-2:g==1?w-1:g-2],w=s.Pd(S,this.Ka,Math.atan2(S.y-k.y,S.x-k.x)-l),this.Yb[this.gf-1]=w,this.Ki==1||this.Ki==2?(w=s.Pu(w,S),this.fc(w),w=s.Pd(S,this.Ka,this.Jv+l),(S=s.Pu(w,S)).type|=256,this.fc(S)):(w=s.Pd(S,this.Ka,this.Jv+l)).type|=256,this.fc(w),this.fc(y,g)):(w=s.Pd(k,this.Ka,this.Jv+l),this.fc(w),this.Ki==1||this.Ki==2?(w=s.Pu(w,k),this.fc(w),w=s.Pd(k,this.Ka,this.aA-l),(S=s.Pu(w,k)).type|=256,this.fc(S)):(w=s.Pd(k,this.Ka,this.aA-l)).type|=256,this.fc(w)))}},p.prototype.mE=function(){var y,g=this.Bw;this.gf=0;var w=.5*this.qa,S=0,k=0;for(y=0;y<g;y++){var E=this.wg[y],P=y==0?this.wg[g-1]:this.wg[y-1],R=y==g-1?this.wg[0]:this.wg[y+1],D=P.x-E.x,U=P.y-E.y,Y=R.x-E.x,K=R.y-E.y,V=Math.atan2(U,D),Q=Math.atan2(K,Y);if(this.Jv=V,this.aA=Q,y==0&&(S=V,k=Q),D=D*K-Y*U,U=Q,Q<V&&(Q+=h),0<D*this.Ka)this.Ki==1||this.Ki==2?(V=s.Pd(E,this.Ka,V+l),this.fc(V),V=s.TE(E,V),this.fc(V),V=s.Pd(E,this.Ka,Q-l),(E=s.TE(E,V)).type|=256,this.fc(E),this.fc(V)):(D=.5*(Q-V),D=this.Ka/Math.abs(Math.sin(D)),V=s.Pd(E,D,.5*(V+Q)),this.fc(V,y));else if(512&E.type){for(D=1-w/Math.abs(this.Ka),P=1,R=0>this.Ka?-x:x,-1<D&&1>D&&(.017453292519943295>(U=2*Math.acos(D))&&(U=.017453292519943295),1<(P=d.O.truncate(x/U+1.5))&&(R/=P)),U=V+l,V=s.Pd(E,this.Ka,U),y==0&&(V.type|=1024),this.fc(V,y),D=this.Ka/Math.cos(R/2),U+=R/2,(V=s.Pd(E,D,U)).type|=1024,this.fc(V);0<--P;)U+=R,(V=s.Pd(E,D,U)).type|=1024,this.fc(V);(V=s.Pd(E,this.Ka,Q-l)).type|=1024,this.fc(V)}else if(this.Ki==1)V=s.Pd(E,this.Ka,V+l),this.fc(V,y),V=s.Pd(E,this.Ka,Q-l),this.fc(V);else if(this.Ki==0)for(D=1-w/Math.abs(this.Ka),P=1,R=Q-l-(V+l),-1<D&&1>D&&(.017453292519943295>(U=2*Math.acos(D))&&(U=.017453292519943295),1<(P=d.O.truncate(Math.abs(R)/U+1.5))&&(R/=P)),D=this.Ka/Math.cos(.5*R),U=V+l+.5*R,V=s.Pd(E,D,U),this.fc(V,y);0<--P;)U+=R,V=s.Pd(E,D,U),this.fc(V);else this.Ki==2?(D=P.x-E.x,U=P.y-E.y,.99999999<(P=(D*(Y=R.x-E.x)+U*(K=R.y-E.y))/Math.sqrt(D*D+U*U)/Math.sqrt(Y*Y+K*K))?(V=s.Pd(E,1.4142135623730951*this.Ka,Q-.25*x),this.fc(V,y),V=s.Pd(E,1.4142135623730951*this.Ka,Q+.25*x),this.fc(V)):(P=Math.abs(this.Ka/Math.sin(.5*Math.acos(P))))>(R=Math.abs(this.CA*this.Ka))?(D=.5*(Q-V),D=this.Ka/Math.abs(Math.sin(D)),V=s.Pd(E,D,.5*(V+Q)),Q=d.h.construct(V.x,V.y),V=d.h.construct(E.x,E.y),(E=new d.h).uc(Q,V),(Q=new d.h).HW(R/E.length(),E,V),V=(P-R)*Math.abs(this.Ka)/Math.sqrt(P*P-this.Ka*this.Ka),0<this.Ka?E.Hv():E.ar(),E.scale(V/E.length()),(V=new d.h).add(Q,E),(P=new d.h).uc(Q,E),V=s.al(V),this.fc(V,y),V=s.al(P),this.fc(V)):(D=.5*(Q-V),D=this.Ka/Math.abs(Math.sin(D)),V=s.Pd(E,D,.5*(V+Q)),this.fc(V,y))):(Q=U,0<this.Ka?(Q>V&&(Q-=h),P=V-Q<l):(Q<V&&(Q+=h),P=Q-V<l),P?(U=0>(D=1.4142135623730951*this.Ka)?V+.25*x:V+.75*x,V=s.Pd(E,D,U),this.fc(V,y),U=0>D?Q-.25*x:Q-.75*x,V=s.Pd(E,D,U),this.fc(V)):(D=.5*(Q-V),D=this.Ka/Math.abs(Math.sin(D)),Q<V&&(Q+=h),V=s.Pd(E,D,(V+Q)/2),this.fc(V,y)))}return this.Jv=S,this.aA=k,this.fc(this.Yb[0],0),E=s.SO(this.Yb[this.gf-1]),this.Yb[0]=E,this.wW()},p.prototype.Au=function(y,g){if(!(2>g))for(var w=0;w<g;w++){var S=this.Yb[y+w];w!=0?this.NA.Ci(d.h.construct(S.x,S.y)):this.NA.Lt(d.h.construct(S.x,S.y))}},p.prototype.fM=function(y,g,w){var S=y.Ba(g),k=y.Vc(g);if(this.Yb=[],this.NA=w,y.dc(g)){for(g=y.Na(S);y.Na(k-1).qb(g);)k--;if(2<=k-S){for(this.Bw=k-S,this.wg=[],g=S;g<k;g++)this.wg.push(s.al(y.Na(g)));this.mE()&&this.Au(0,this.gf-1)}}else{for(g=y.Na(S);S<k&&y.Na(S+1).qb(g);)S++;for(g=y.Na(k-1);S<k&&y.Na(k-2).qb(g);)k--;if(2<=k-S){for(this.Bw=2*(k-S)-2,this.wg=[],(w=s.al(y.Na(S))).type|=1536,this.wg.push(w),g=S+1;g<k-1;g++)w=s.al(y.Na(g)),this.wg.push(w);for((w=s.al(y.Na(k-1))).type|=512,this.wg.push(w),g=k-2;g>=S+1;g--)(w=s.al(y.Na(g))).type|=1024,this.wg.push(w);if(this.mE())if(2<=this.Yb.length){for(y=-1,(k=!!(1024&this.Yb[this.gf-1].type))||(y=0),g=1;g<this.gf;g++)(S=!!(1024&this.Yb[g].type))?k||1<(k=g-1)-y+1&&this.Au(y,k-y+1):k&&(y=g-1),k=S;k||1<(k=this.gf-1)-y+1&&this.Au(y,k-y+1)}else y=0,k=this.gf-1,0<=y&&1<=k-y&&this.Au(y,k-y+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},p.prototype.wW=function(){for(var y=!1,g=0;g<this.gf;g++){var w=this.Yb[g];w.qh=g+1,w.sh=g-1,this.Yb[g]=w}for((w=this.Yb[0]).sh=this.gf-2,this.Yb[0]=w,(w=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=w,g=w=0;g<this.gf;g++)if(256&this.Yb[w].type){var S=this.GP(w);if(S==-1){y=!0;break}w=S}else w=this.Yb[w].qh;return!y&&(this.QO(w),!0)},p.prototype.GP=function(y){for(var g,w,S=this.gf-1,k=y,E=1;E<=S-2;E++){g=k=this.Yb[k].qh,w=y;for(var P=1;P<=E;P++){if(w=this.Yb[w].sh,!(256&this.Yb[w].type||256&this.Yb[g].type)){var R=this.gS(w,g);if(R!=-1)return R}g=this.Yb[g].sh}}return-1},p.prototype.gS=function(y,g){var w=this.Yb[this.Yb[y].sh],S=this.Yb[y],k=this.Yb[this.Yb[g].sh],E=this.Yb[g];if(!this.JW(w,S,k,E))return-1;var P=new a;return this.xQ(w,S,k,E,P)&&!P.bE&&d.O.bK((S.x-w.x)*(E.y-k.y)-(S.y-w.y)*(E.x-k.x))!=d.O.bK(this.Ka)?(w=this.Yb[y].sh,P.an.type=S.type,P.an.qh=g,P.an.sh=w,this.Yb[y]=P.an,P.an=this.Yb[g],P.an.sh=y,this.Yb[g]=P.an,g):-1},p.prototype.JW=function(y,g,w,S){return Math.max(y.x,g.x)>=Math.min(w.x,S.x)&&Math.max(w.x,S.x)>=Math.min(y.x,g.x)&&Math.max(y.y,g.y)>=Math.min(w.y,S.y)&&Math.max(w.y,S.y)>=Math.min(y.y,g.y)},p.prototype.xQ=function(y,g,w,S,k){k.bE=!1;var E=(g.y-y.y)*(S.x-w.x)-(g.x-y.x)*(S.y-w.y),P=(w.y-y.y)*(g.x-y.x)-(w.x-y.x)*(g.y-y.y);if(0<=(E=E==0?2:P/E)&&1>=E){var R=E;if(E=(S.y-w.y)*(g.x-y.x)-(S.x-w.x)*(g.y-y.y),P=(y.y-w.y)*(S.x-w.x)-(y.x-w.x)*(S.y-w.y),0<=(E=E==0?2:P/E)&&1>=E)return k.an=s.TO(y.x+E*(g.x-y.x),y.y+E*(g.y-y.y)),k.an.Uh=w.Uh+R*(S.Uh-w.Uh),R!=0&&R!=1||E!=0&&E!=1||(k.bE=!0),k.VY=E,k.WY=R,!((R==0||R==1)&&0<E&&1>E||(E==0||E==1)&&0<R&&1>R)}return!1},p.prototype.QO=function(y){for(;this.Yb[y].sh<y;)y=this.Yb[y].sh;var g=0,w=y;do w=this.Yb[w],this.Yb[g]=w,w=w.qh,g++;while(w!=y);this.Yb[g]=this.Yb[0],this.gf=g+1},p.prototype.$C=function(y){var g=this.ko,w=g.Ga();if(w!=null){w.Zi();for(var S=-1;w.$a();)S++,this.fM(g,S,y)}},p.prototype.Rx=function(){var y=this.ko.getType();return y==322?this.eM():y==197?this.dM():d.aa.yd(y)?((y=new d.Ta).oc(this.ko,!0),this.ko=y,this.Rx()):y==1607?(y=new d.Ta,this.$C(y),y):y==1736?(y=new d.Da,this.$C(y),y):null},p}();d.IK=c}(ee||(ee={})),function(d){var j=function(){function s(a){this.qk=a}return s.prototype.D=function(a,c){this.qk.g.D(a,c)},s.prototype.vd=function(a){var c=this.qk.Fa.ja(a);this.qk.Fa.vd(a,-1),this.qk.g.pd(c,!1)},s}(),x=function(){function s(a){this.qk=a}return s.prototype.D=function(a,c){this.qk.IT.D(a,c)},s.prototype.vd=function(a){this.qk.Fa.vd(a,-1)},s}(),h=function(){function s(a){this.qk=a}return s.prototype.D=function(a,c){c.L(this.qk.LT[a])},s.prototype.vd=function(a){this.qk.Fa.vd(a,-1)},s}(),l=function(){function s(a){a===void 0?(this.Fa=new d.Yj,this.Fa.De(20),this.g=new d.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new j(this)):a instanceof Array?(this.Fa=new d.Yj,this.Fa.De(20),this.LT=a,this.Xh=new h(this)):(this.Fa=new d.Yj,this.Fa.De(20),this.IT=a,this.Xh=new x(this))}return s.prototype.Ib=function(a){var c=a.getType();if(d.Gx.xj(c))this.jN(a);else if(d.Vk.yd(c))this.oN(a);else if(c==197)this.gN(a);else{if(c!=33)throw d.i.N("invalid shape type");this.nN(a)}},s.prototype.cR=function(){var a=new d.Sa,c=this.Fa.rc(-1),p=new d.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(c),a),p.nf(a),c=this.Fa.lb(c);c!=-1;c=this.Fa.lb(c))this.g.Vi(this.Fa.ja(c),a),p.lineTo(a);return p},s.RO=function(a){var c=new s(a),p=a.I(),y=1,g=new d.h,w=new d.h,S=new d.h;for(a.D(0,g);a.D(y,w),w.Rz(g)&&y<p-1;)y++;for(c.Fa.addElement(0,-1),c.Fa.xn(y),p=y+1;p<a.I();p++)a.D(p,S),(y=c.pC(S))!=-1&&c.Fa.Sj(y,p);for(S=new d.Sa,y=c.Fa.rc(-1),p=new d.Da(a.description),a.ve(c.Fa.ja(y),S),p.nf(S),y=c.Fa.lb(y);y!=-1;y=c.Fa.lb(y))a.ve(c.Fa.ja(y),S),p.lineTo(S);return p},s.construct=function(a,c,p){for(var y=new s(a),g=1,w=a[0];a[g].Rz(w)&&g<c-1;)g++;for(y.Fa.addElement(0,-1),y.Fa.xn(g),g+=1;g<c;g++)(w=y.pC(a[g]))!=-1&&y.Fa.Sj(w,g);for(a=0,c=y.Fa.rc(-1);c!=-1;c=y.Fa.lb(c))p[a++]=y.Fa.ja(c);return a},s.JG=function(a,c){var p=a.Ba(c),y=a.Vc(c);if(c=!a.dc(c)&&a.Nn(c),a=a.ub(0),y*=2,c&&(y-=2),6>y-(p*=2))return!0;c=new d.h;var g=new d.h,w=new d.h;a.tc(p,c),a.tc(p+2,g),a.tc(p+4,w);var S=s.Wu(g,w,c);if(S.ps()||!s.um(S.value()))return!1;var k=d.h.construct(g.x,g.y),E=new d.h;for(p+=6;p<y;p+=2)if(E.L(g),g.L(w),a.tc(p,w),(S=s.Wu(g,w,c)).ps()||!s.um(S.value())||(S=s.Wu(k,w,c)).ps()||!s.um(S.value())||(S=s.Wu(g,w,E)).ps()||!s.um(S.value()))return!1;return!0},s.prototype.jN=function(a){for(var c=new d.Sa,p=new d.h,y=0;y<a.I();y++){a.D(y,p);var g=this.Cr(p);if(g!=-1){a.ve(y,c);var w=this.g.fc(this.Ss,c);this.Fa.Sj(g,w)}}},s.prototype.gN=function(a){for(var c=new d.Sa,p=new d.h,y=0;4>y;y++){a.mB(y,p);var g=this.Cr(p);if(g!=-1){a.Hf(y,c);var w=this.g.fc(this.Ss,c);this.Fa.Sj(g,w)}}},s.prototype.oN=function(a){var c=new d.Sa,p=a.ac();if((p=this.Cr(p))!=-1){a.To(c);var y=this.g.fc(this.Ss,c);this.Fa.Sj(p,y)}p=a.wc(),(p=this.Cr(p))!=-1&&(a.Po(c),a=this.g.fc(this.Ss,c),this.Fa.Sj(p,a))},s.prototype.nN=function(a){var c=a.D();(c=this.Cr(c))!=-1&&(a=this.g.fc(this.Ss,a),this.Fa.Sj(c,a))},s.prototype.Cr=function(a){var c=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var p=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return a.Rz(p)||(c=this.Fa.xn(-5)),c}return this.pC(a)},s.prototype.pC=function(a){var c=-1;do{var p=this.Fa.rc(-1),y=this.Fa.Fc(-1),g=this.Fa.ja(p),w=this.Fa.ja(y),S=new d.h,k=new d.h;if(this.Xh.D(g,S),this.Xh.D(w,k),g=d.h.Uq(k,a,S),s.um(g))c=this.Fa.xn(-1),(S=this.nC(a,y,p))!=p&&this.oC(a,p,this.Fa.we(S));else if(s.CG(g)){k=this.Fa.sv(-1);var E=this.Fa.rc(-1),P=this.Fa.Fc(-1);for(g=new d.h,w=new d.h;E!=this.Fa.we(P);){var R=this.Fa.ja(k);this.Xh.D(R,g),R=d.h.Uq(g,a,S),s.CG(R)?(P=k,k=this.Fa.ll(k)):(E=k,k=this.Fa.Xp(k))}if(k=P,S=E,R=this.Fa.ja(k),E=this.Fa.ja(S),this.Xh.D(R,g),this.Xh.D(E,w),S!=p&&(g=d.h.Uq(w,a,g),!s.um(g)))continue;c=this.Fa.zu(S,k,-2,!1),this.oC(a,k,y),this.nC(a,S,p)}else this.sb==null&&(this.sb=new d.yb),this.sb.Dc(k),this.sb.Qc(S),0>(S=this.sb.fe(a,!0))?(S=this.Fa.we(y),this.Fa.vd(y,-1),c=this.Fa.xn(-3),this.nC(a,S,p)):1<S&&(S=this.Fa.lb(p),this.Fa.vd(p,-1),c=this.Fa.zu(-1,S,-3,!1),this.oC(a,S,y))}while(!1);return c},s.prototype.oC=function(a,c,p){if(c!=p){var y=this.Fa.ja(c),g=this.Fa.lb(c),w=new d.h,S=new d.h;for(this.Xh.D(y,w);c!=p&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(g),S),y=d.h.Uq(S,a,w),!s.um(y));)y=c,c=g,w.L(S),g=this.Fa.lb(c),this.Xh.vd(y)}},s.prototype.nC=function(a,c,p){if(c==p)return p;var y=this.Fa.ja(c),g=this.Fa.we(c),w=new d.h,S=new d.h;for(this.Xh.D(y,w);c!=p&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(g),S),y=d.h.Uq(w,a,S),!s.um(y));)y=c,c=g,w.L(S),g=this.Fa.we(c),this.Xh.vd(y);return c},s.Wu=function(a,c,p){var y=new d.Wb;y.set(c.x),y.sub(a.x);var g=new d.Wb;g.set(p.y),g.sub(a.y);var w=new d.Wb;return w.set(c.y),w.sub(a.y),(c=new d.Wb).set(p.x),c.sub(a.x),y.Ag(g),w.Ag(c),y.sub(w),y},s.um=function(a){return 0>a},s.CG=function(a){return 0<a},s}();d.Zt=l}(ee||(ee={})),function(d){var j=function(){function x(h){this.g=null,this.tH=!0,this.nd=h}return x.zU=function(h,l,s){return h=d.ta.Er(h),d.Yt.Cv(l.Lg(),l.ih(),s.Lg(),s.ih(),d.lc.ox(h))},x.CO=function(h,l){var s=new d.Sa;return d.Yt.WT(h,l,s),s},x.V=function(h,l,s,a){return(s=new x(s)).g=h,s.qa=l,s.tH=a,s.EM()},x.prototype.nM=function(h){return d.Yt.iQ(this.g,h)},x.prototype.sM=function(h){return d.$t.V(this.g,h,this.nd)},x.prototype.EM=function(){var h=this.qa,l=d.ta.Er(h),s=1.00001*(h=d.ta.rN(h));h*=1.000001;for(var a=!1,c=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),p=0,y=this.g.jS();;p++){if(p>c)throw d.i.fa("Internal Error: max number of iterations exceeded");var g=this.nM(l);if(a=a||g,this.tH&&(g=this.g.Gp(l,!0,!1)!=0,a=a||g),g=!1,(p==0||y||d.$t.kI(!0,this.g,h,null,this.nd))&&(g=this.sM(s),a=a||g),!g)break;d.mp.zp(this.nd)}return a},x}();d.Tk=j}(ee||(ee={})),function(d){var j=function(){function h(l){this.$d=this.Mc=null,this.Ys=0,this.Ub=l,this.cA=!0}return h.prototype.uv=function(l,s){var a=this.g.bc(l);if(a==null){if(!this.g.ed(l,s))return null;a=s}return a},h.prototype.Xq=function(){var l;l===void 0&&(l=!1),this.Ys++,!l&&4095&this.Ys||(this.Ys=0,d.mp.zp(this.Ub))},h.prototype.nP=function(){var l=this.g.Yq(!1),s=!1,a=new d.yb,c=new d.yb,p=new d.l;p.Oa();var y=new d.l;y.Oa();for(var g=new d.Sa,w=new d.TC,S=l.next();S!=-1;S=l.next()){d.mp.zp(this.Ub);var k=null,E=!1;if(!d.aa.Rn(this.g.ic(l.ck))){if((k=this.uv(S,a))==null)continue;if(k.A(p),p.W(this.qa,this.qa),k.Bi(this.qa)){if(!k.Bi(0))continue;E=!0,k=null}}var P=this.g.Yq(l),R=P.next();for(R!=-1&&(R=P.next());R!=-1;R=P.next()){var D=null,U=!1;if(!d.aa.Rn(this.g.ic(P.ck))){if((D=this.uv(R,c))==null)continue;if(D.A(y),D.Bi(this.qa)){if(!D.Bi(0))continue;U=!0,D=null}}var Y=0,K=0;if(k!=null&&D!=null)p.HG(y)&&(w.Oo(k),w.Oo(D),w.Ea(this.qa,!1),0<(Y=w.ol(0))+(K=w.ol(1))&&(this.g.jr(S,w,0,!0),this.g.jr(R,w,1,!0)),w.clear());else if(k!=null){var V=new d.h;if(this.g.D(R,V),p.contains(V)){if(w.Oo(k),this.g.Vi(R,g),w.Kz(this.qa,g,!1),0<(Y=w.ol(0)))if(this.g.jr(S,w,0,!0),U){for(U=-1,V=this.g.U(R);V!=-1&&V!=R&&(U=V,(D=this.uv(V,c))!=null&&D.Bi(0));V=this.g.U(V));for(V=R;V!=-1&&(this.g.Dh(V,w.Bf),V!=U);V=this.g.U(V));}else this.g.Dh(R,w.Bf);w.clear()}}else{if(D==null)continue;if(V=new d.h,this.g.D(S,V),y.W(this.qa,this.qa),y.contains(V)){if(w.Oo(D),this.g.Vi(S,g),w.Kz(this.qa,g,!1),0<(K=w.ol(0)))if(this.g.jr(R,w,0,!0),E){for(U=-1,V=this.g.U(S);V!=-1&&V!=S&&(U=V,(D=this.uv(V,c))!=null&&D.Bi(0));V=this.g.U(V));for(V=S;V!=-1&&(this.g.Dh(V,w.Bf),V!=U);V=this.g.U(V));}else this.g.Dh(S,w.Bf);w.clear()}}if(Y+K!=0){if(Y!=0){if((k=this.g.bc(S))==null){if(!this.g.ed(S,a))continue;k=a,a.A(p)}else k.A(p);if(k.Bi(this.qa))break}s=!0}}}return s},h.prototype.oP=function(){return this.QU()},h.prototype.QU=function(){return new d.RC().PX(this.g,this.qa)},h.prototype.lI=function(){var l=!1;this.Mc==null&&(this.Mc=new d.Yj);var s=new d.ia(0);s.Jb(this.g.fd+1);for(var a=this.g.Yq(),c=a.next();c!=-1;c=a.next())s.add(c);this.g.nx(s,s.size),s.add(-1),a=this.g.Gd(),c=this.g.Gd(),this.$d=new d.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var p=new d.ia(0),y=new d.ia(0),g=0;new d.h;var w=this.g.td;this.g.vb.mc();for(var S,k,E=this.g.vb.za[0].o,P=s.get(g++);P!=-1;){var R=S=E[2*(k=w.T(P,0))],D=k=E[2*k+1];do{var U=w.T(P,2),Y=w.T(P,1);if(U!=-1){var K=w.T(U,0),V=E[2*K];0>(D<(K=E[2*K+1])?-1:D>K?1:R<V?-1:R>V?1:0)&&(y.add(P),y.add(U))}Y!=-1&&(V=E[2*(K=w.T(Y,0))],0>(D<(K=E[2*K+1])?-1:D>K?1:R<V?-1:R>V?1:0)&&(y.add(Y),y.add(Y))),(V=this.g.Pa(P,a))!=-1&&(p.add(V),this.g.Ra(P,a,-1)),(V=this.g.Pa(P,c))!=-1&&(p.add(V),this.g.Ra(P,c,-1)),(P=s.get(g++))!==-1&&(R=E[2*(D=w.T(P,0))],D=E[2*D+1])}while(P!=-1&&R===S&&D===k);for(R=p.size==1&&y.size==2,V=D=-1,U=0,Y=p.size;U<Y;U++){K=p.get(U);var Q=this.Mc.we(K);if(Q==-1||p.hG(Q)||(D=Q),(K=this.Mc.lb(K))==-1||p.hG(K)||(V=K),D!=-1&&V!=-1)break}for(this.$d.$J(k,S),U=0,Y=p.size;U<Y;U++)K=p.get(U),this.Mc.vd(K,-1);if(p.clear(!1),!R&&D!=-1&&V!=-1&&this.qO(D,V)){l=!0,this.Ni=this.$d.rm();break}for(U=0,Y=y.size;U<Y;U+=2){if(k=y.get(U),S=y.get(U+1),R?(k=this.Mc.zu(D,V,k,!0),R=!1):k=this.Mc.addElement(k,-1),this.$d.rg){this.Ni=this.$d.rm(),l=!0;break}this.g.Pa(S,a)==-1?this.g.Ra(S,a,k):this.g.Ra(S,c,k)}if(l)break;y.Bh(0)}return this.g.Td(a),this.g.Td(c),l},h.prototype.qO=function(l,s){return this.$d.compare(this.Mc,this.Mc.ja(l),s),l=this.$d.rg,this.$d.Kr(),l},h.yE=function(l){for(var s=l.ld;s!=-1;s=l.ue(s))if(d.aa.Hc(l.ic(s)))return!0;return!1},h.fQ=function(l,s,a,c){return!!h.yE(l)&&((s=new h(c)).g=l,s.qa=a,15>l.fd?l=s.nP():s.oP())},h.V=function(l,s,a){return h.fQ(l,l.IF(),s,a)},h.kI=function(l,s,a,c,p){if(!h.yE(s))return!1;var y=new h(p);if(y.g=s,y.qa=a,y.cA=l,y.lI())return c!=null&&c.Wt(y.Ni),!0;var g=new d.Dd;return g.$B(),s.Oc(g),(y=new h(p)).g=s,y.qa=a,y.cA=l,l=y.lI(),g.$B(),s.Oc(g),!!l&&(c!=null&&c.Wt(y.Ni),!0)},h.Ml=function(l,s){return!(16>(l=l.I()))&&2*l+Math.log(l)*Math.LOG10E/Math.log(2)*s<1*l*s},h.lP=function(l,s,a,c){var p=s.getType();if(d.aa.Hc(p))return new h(c).mP(l,s,a);throw d.i.fa("crack_A_with_B")},h.prototype.mP=function(l,s,a){var c=new d.l;l.xc(c);var p=new d.l;if(s.xc(p),p.W(a,a),!p.isIntersecting(c))return l;var y=l.Bb,g=null;y!=null&&(g=y.Fb),h.Ml(l,l.I())&&(g=d.ta.jj(l,p));var w=g!=null?g.getIterator():null,S=s.Ga();s=l.Ga();var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=[];S.$a();)for(;S.Ha();){var E=S.ha();if(g!=null){for(w.Uo(E,a),y=w.next();y!=-1;y=w.next())if(this.Xq(),s.Vb(g.ja(y),-1),s.Ha()){var P=(y=s.ha()).Ea(E,null,k,null,a);for(y=0;y<P;++y){var R=k[y];if(R!=0&&R!=1){var D=s.wb(),U=new x;U.t=R,U.index=D,p.push(U)}}}}else{var Y=new d.l;if(E.xc(Y),Y.W(a,a),c.isIntersecting(Y)){for(s.Zi();s.$a();)for(;s.Ha();)if(this.Xq(),y=s.ha(),R=new d.l,y.xc(R),R.isIntersecting(Y))for(P=y.Ea(E,null,k,null,a),y=0;y<P;++y)(R=k[y])!=0&&R!=1&&(D=s.wb(),(U=new x).t=R,U.index=D,p.push(U))}}}if(p.length==0)return l;for(p=p.sort(x.Ey),l=l.Ia(),s.Zi();s.$a()&&!s.Ha(););for(a=s.ha(),c=new d.ig,g=-1,y=0,w=p.length;y<w;){for(k=p[y].index,S=y+1;S<w&&p[S].index==k;)++S;for(;s.wb()<k;){if(this.Xq(),E=s.Ha(),R=s.gb,(Y=E||!s.On()||s.Pn())&&l.oc(a,g!=R),g=R,!E)for(;s.$a()&&!s.Ha(););a=s.ha()}for(k=0;y<S;y++)(R=p[y].t)!=k&&(a.ah(k,R,c),k=R,R=s.gb,l.oc(c.get(),g!=R),g=R);if((Y=(E=s.Ha())||!s.On()||s.Pn())&&(a.ah(k,1,c),l.oc(c.get(),!1)),E)a=s.ha();else{for(;s.$a()&&!s.Ha(););a=s.Ha()?s.ha():null}y=S}for(a!=null&&(R=s.gb,(Y=(E=s.Ha())||!s.On()||s.Pn())&&l.oc(a,g!=R),g=R),E=s.Ha();;){if(!E){for(;s.$a()&&!(E=s.Ha()););if(!E)break}a=s.ha(),R=s.gb,(Y=(E=s.Ha())||!s.On()||s.Pn())&&l.oc(a,g!=R),g=R}return l},h}();d.$t=j;var x=function(){function h(){}return h.Ey=function(l,s){return l.index==s.index?l.t>s.t?1:l.t<s.t?-1:0:l.index>s.index?1:-1},h}()}(ee||(ee={})),function(d){var j;(j=d.KK||(d.KK={}))[j.Left=0]="Left",j[j.Right=1]="Right",j[j.Coincident=2]="Coincident",j[j.Undefined=3]="Undefined",j[j.Uncut=4]="Uncut";var x=function(s,a,c,p,y,g,w,S,k,E,P){this.X=s,this.bt=a,this.Ns=c,this.tg=p,this.Lm=E,this.Al=P};d.uY=x;var h=function(){function s(a,c){this.JH=a,this.Hi=c}return s.prototype.qM=function(a,c){var p=new d.h;this.Hi.D(a,p);var y=new d.h;return this.Hi.D(c,y),(p=p.compare(y))!=0?p:(a=this.Hi.Pa(a,this.JH))<(c=this.Hi.Pa(c,this.JH))?-1:a==c?0:1},s}(),l=function(s,a,c,p,y,g,w,S,k){this.tg=s,this.Ns=a,this.OA=c,this.UH=p,this.Ei=y,this.Al=g,this.Lm=w,this.VH=S,this.OT=k};d.tY=l,d.LK=function(){function s(){}return s.JK=function(a,c,p,y,g,w){if(c.B())a=new x(c,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),g.push(a);else if(p.B())a=new x(c,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),g.push(a);else{var S=new d.gd;if(S.Ib(c),S.Ib(p),d.Tk.V(S,y,w,!0),S.fd==0)a=new x(c.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),g.push(a);else{for(c=0,p=S.Gd(),y=S.ld;y!=-1;y=S.ue(y))for(w=S.Ob(y);w!=-1;w=S.Rb(w))for(var k=S.Xa(w),E=0,P=S.Ja(w);E<P;k=S.U(k),E++)S.Ra(k,p,c++);c=s.HM(p,S),s.cM(a,c,S,g)}}},s.HM=function(a,c){for(var p=c.fd,y=new d.ia(0),g=c.ld;g!=-1;g=c.ue(g))for(var w=c.Ob(g);w!=-1;w=c.Rb(w))for(var S=c.Xa(w),k=0,E=c.Ja(w);k<E;S=c.U(S),k++)y.add(S);var P=new h(a,c);y.Vd(0,p,function(_e,xe){return P.qM(_e,xe)}),a=[];var R=[],D=c.Gd(),U=c.Gd();g=c.ld,w=c.ue(g),E=new d.h;var Y=new d.h,K=y.get(0),V=c.bd(K),Q=c.Qf(V);c.D(K,E);var ae=1;for(S=0;ae<p-1;){var oe=!1;for(k=ae;k<p;k++)if(k!=S){var me=y.get(k),de=c.bd(me),Me=c.Qf(de);if(c.D(me,Y),!E.qb(Y))break;Q==g&&Me==w&&(oe=s.uM(D,U,c,a,R,V,K,de,me))}if(oe||S==ae-1){if(oe&&S==ae-1&&ae--,++S==p)break;K=y.get(S),V=c.bd(K),Q=c.Qf(V),c.D(K,E)}oe||(ae=S+1)}for(p=[],g=c.ld;g!=-1;g=c.ue(g))for(w=c.Ob(g);w!=-1;w=c.Rb(w))for(y=c.Xa(w),k=0,E=c.Ja(w);k<E;y=c.U(y),k++){if(0<=(S=c.Pa(y,U)))for(;S<R.length&&R[S].tg==y;)p.push(R[S++]);if(0<=(S=c.Pa(y,D)))for(;S<a.length&&a[S].tg==y;)p.push(a[S++])}return c.Td(D),c.Td(U),p},s.uM=function(a,c,p,y,g,w,S,k,E){var P=p.rj(w),R=p.rj(k),D=p.Xa(w),U=p.Xa(k),Y=p.Ma(S),K=p.Ma(E),V=!1,Q=!1,ae=!1,oe=!1;return S!=D&&(E!=U&&(V=s.vM(a,p,y,w,Y,k,K)),E!=R&&(Q=s.wM(a,p,y,w,Y,k,E))),S!=P&&(E!=U&&(ae=s.xM(c,p,g,w,S,k,K,D)),E!=R&&(oe=s.yM(c,p,g,w,S,k,E,D))),V&&Q&&ae?(a=y.length-1,g[oe?g.length-2:g.length-1].Ei==2&&(y[a-1]=y[a],--y.length)):V&&Q&&oe&&g[g.length-1].Ei==2&&(g=y[y.length-1],--y.length,p.Pa(g.tg,a)==y.length&&p.Ra(g.tg,a,-1)),V||Q||ae||oe},s.vM=function(a,c,p,y,g,w,S){var k=new d.yb,E=new d.yb,P=[0,0],R=[0,0],D=c.bc(g);return D==null&&(c.ed(g,k),D=k),(k=c.bc(S))==null&&(c.ed(S,E),k=E),2>(D=D.Ea(k,null,P,R,0))&&(y=new l(g,y,P[0],NaN,D,S,w,R[0],NaN),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1)),!0},s.wM=function(a,c,p,y,g,w,S){var k=new d.yb,E=new d.yb,P=[0,0],R=[0,0],D=c.bc(g);return D==null&&(c.ed(g,k),D=k),(k=c.bc(S))==null&&(c.ed(S,E),k=E),2>(D=D.Ea(k,null,P,R,0))&&(y=new l(g,y,P[0],NaN,D,S,w,R[0],NaN),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1),!0)},s.xM=function(a,c,p,y,g,w,S,k){var E=new d.yb,P=new d.yb,R=[0,0],D=[0,0],U=c.bc(g);return U==null&&(c.ed(g,E),U=E),(E=c.bc(S))==null&&(c.ed(S,P),E=P),(U=U.Ea(E,null,R,D,0))==2?(y=new l(g,y,R[0],R[1],U,S,w,D[0],D[1]),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1),!0):(P=!1,g==k&&(y=new l(g,y,R[0],NaN,U,S,w,D[0],NaN),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1),P=!0),P)},s.yM=function(a,c,p,y,g,w,S,k){var E=new d.yb,P=new d.yb,R=[0,0],D=[0,0],U=c.bc(g);return U==null&&(c.ed(g,E),U=E),(E=c.bc(S))==null&&(c.ed(S,P),E=P),(U=U.Ea(E,null,R,D,0))==2?(y=new l(g,y,R[0],R[1],U,S,w,D[0],D[1]),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1),!0):(P=!1,g==k&&(y=new l(g,y,R[0],NaN,U,S,w,D[0],NaN),p.push(y),0>(y=c.Pa(g,a))&&c.Ra(g,a,p.length-1),P=!0),P)},s.cM=function(a,c,p,y){var g=[];g[0]=new d.h,g[1]=new d.h,g[2]=new d.h,g[3]=new d.h;var w=new d.h,S=new d.h,k=new d.h,E=new d.h,P=null;y!=null&&(P=new d.ig).Or();var R=0,D=null,U=new d.yb;new d.yb;for(var Y=p.Ob(p.ld);Y!=-1;Y=p.Rb(Y)){for(var K=4,V=-1,Q=-1,ae=-1,oe=-1,me=NaN,de=!0,Me=!1,_e=!0,xe=!0,Ue=!0,Ae=0,st=Y,ct=0,Ve=p.Xa(Y),Rt=p.Ja(Y),Rr=0;Rr<Rt;Ve=p.U(Ve),Rr++){var xr=p.bc(Ve);if(xr==null){if(!p.ed(Ve,U))continue;xr=U}Q==-1&&(Q=Ve);for(var zt=0;R<c.length&&Ve==c[R].tg;){V=c[R].Ns;var Wt=c[R].tg,Je=c[R].OA,_r=c[R].Lm,Tt=c[R].Al,Mn=c[R].VH;if(c[R].Ei==2){if(Me||(st=V,Q=Wt,ct=Je,ae=_r,oe=Tt,me=Mn,K=2,y!=null?D=new d.Ta:Ae=0,Ue=!1,xe=!0),Je=c[R].UH,Mn=c[R].OT,y!=null?(xr.ah(zt,c[R].UH,P),D.oc(P.get(),xe)):Ae++,zt=Je,Me=!0,xe=de=!1,R+1==c.length||c[R+1].Ei!=2||c[R+1].tg==Wt&&c[R+1].OA!=zt){if(y!=null){var Qt=new x(D,2,V,Wt,Je,K,st,Q,ct,_r,Tt);y.push(Qt)}else null.add(Ae);st=V,Q=Wt,ct=Je,ae=_r,oe=Tt,me=Mn,K=2,Me=de=!1,xe=Ue=!0}}else{var yn=p.U(Wt);if(R<c.length-1&&c[R+1].tg==yn&&c[R+1].Al==Tt&&c[R+1].Ei==2)Je!=zt&&(Ue&&(y!=null?D=new d.Ta:Ae=0),de=0<R&&c[R-1].Ns==V?K==1?0:K==0?1:3:3,y!=null?(xr.ah(zt,Je,P),D.oc(P.get(),xe),Qt=new x(D,de,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):(Ae++,null.add(Ae)),zt=Je,st=V,Q=Wt,ct=Je,ae=_r,oe=Tt,me=Mn,K=de,de=_e=!1,xe=Ue=!0);else if(!s.CM(a,p,c,R,w,S)){s.zM(p,c,R,Y,Ve,k,E);var gr=!1;if(yn=!1,Qt=!0,!(w.qb(k)||S.qb(k)||w.qb(E)||S.qb(E))){g[0].L(w),g[1].L(S),g[2].L(k),g[3].L(E),g.sort(d.h.nu);var xc=g[0],yo=g[1],Gh=g[2],Oi=g[3];xc.qb(w)?yo.qb(S)?a?(yn=gr=!0,Qt=!1):gr=!1:Oi.qb(S)?a?Qt=yn=gr=!0:gr=!1:(gr=!0,Qt=yo.qb(k)):yo.qb(w)?Gh.qb(S)?a?(yn=gr=!0,Qt=!1):gr=!1:xc.qb(S)?a?Qt=yn=gr=!0:gr=!1:(gr=!0,Qt=Gh.qb(k)):Gh.qb(w)?Oi.qb(S)?a?(yn=gr=!0,Qt=!1):gr=!1:yo.qb(S)?a?Qt=yn=gr=!0:gr=!1:(gr=!0,Qt=Oi.qb(k)):xc.qb(S)?a?(yn=gr=!0,Qt=!1):gr=!1:Gh.qb(S)?a?Qt=yn=gr=!0:gr=!1:(gr=!0,Qt=xc.qb(k))}gr&&(gr=Ve==Wt,(Je!=zt||gr&&zt==0)&&(Ue&&(y!=null?D=new d.Ta:Ae=0),y!=null?(xr.ah(zt,Je,P),D.oc(P.get(),xe)):Ae++),Qt?K!=1?((Je!=zt||gr&&zt==0)&&(y!=null?(Qt=new x(D,1,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae)),yn?(R>=c.length-2||c[R+2].Ns!=V)&&(K=0):K=1):((Je!=zt||gr&&zt==0)&&(y!=null?(Qt=new x(D,3,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae)),K=1):K!=0?((Je!=zt||gr&&zt==0)&&(y!=null?(Qt=new x(D,0,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae)),yn?(R>=c.length-2||c[R+2].Ns!=V)&&(K=1):K=0):((Je!=zt||gr&&zt==0)&&(y!=null?(Qt=new x(D,3,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae)),K=0),(Je!=zt||gr&&zt==0)&&(zt=Je,st=V,Q=Wt,ct=Je,ae=_r,oe=Tt,me=Mn,de=_e=!1,xe=Ue=!0))}}R++}zt!=1&&(Ue&&(y!=null?D=new d.Ta:Ae=0),y!=null?(xr.ah(zt,1,P),D.oc(P.get(),xe)):Ae++,xe=Ue=!1,_e=!0)}_e&&(Je=1,Wt=p.rj(Y),Wt=p.Ma(Wt),Tt=_r=-1,Mn=NaN,de?y!=null?(Qt=new x(D,4,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae):(de=K==1?0:K==0?1:3,y!=null?(Qt=new x(D,de,V,Wt,Je,K,st,Q,ct,_r,Tt),y.push(Qt)):null.add(Ae)))}},s.CM=function(a,c,p,y,g,w){var S=p[y].VH;if(S==1)return s.AM(a,c,p,y,g,w);if(S==0)return s.BM(a,c,p,y,g,w);throw d.i.Qa()},s.AM=function(a,c,p,y,g,w){var S=new d.yb,k=p[y].tg,E=p[y].Lm,P=p[y].Al,R=-1,D=-1,U=-1,Y=-1;if(!a&&0<y){var K=p[y-1];R=K.tg,D=K.Lm,U=K.Al,Y=K.Ei}var V=-1,Q=-1,ae=-1,oe=-1;y<p.length-1&&(V=(K=p[y+1]).tg,Q=K.Lm,ae=K.Al,oe=K.Ei);var me=c.U(k);return K=c.U(P),a?y==p.length-1||V!=k||Q!=E||ae!=K||oe==2?((a=c.bc(P))==null&&(c.ed(P,S),a=S),w.L(a.kg()),g.mt(w),w.normalize(),g.normalize(),!1):((a=c.bc(P))==null&&(c.ed(P,S),a=S),g.L(a.kg()),(a=c.bc(K))==null&&(c.ed(K,S),a=S),w.L(a.kg()),g.Sq(),w.normalize(),g.normalize(),!1):0<y&&R==k&&D==E&&U==K&&Y==2||y<p.length-1&&V==me&&Q==E&&ae==K&&oe==2?((a=c.bc(P))==null&&(c.ed(P,S),a=S),w.L(a.kg()),g.mt(w),w.normalize(),g.normalize(),!1):!(y<p.length-1&&V==k&&Q==E&&ae==K)||((a=c.bc(P))==null&&(c.ed(P,S),a=S),g.L(a.kg()),(a=c.bc(K))==null&&(c.ed(K,S),a=S),w.L(a.kg()),g.Sq(),w.normalize(),g.normalize(),!1)},s.BM=function(a,c,p,y,g,w){var S=new d.yb,k=p[y].tg,E=p[y].Lm,P=p[y].Al,R=-1,D=-1,U=-1,Y=-1;if(!a&&y<p.length-1){var K=p[y+1];R=K.tg,D=K.Lm,U=K.Al,Y=K.Ei}var V=-1,Q=-1,ae=-1;K=-1,0<y&&(V=(K=p[y-1]).tg,Q=K.Lm,ae=K.Al,K=K.Ei);var oe=c.U(k),me=c.Ma(P);return a?y!=0&&V==k&&Q==E&&ae==me&&K!=2||((a=c.bc(P))==null&&(c.ed(P,S),a=S),w.L(a.kg()),g.mt(w),w.normalize(),g.normalize(),!1):!(0<y&&V==k&&Q==E&&ae==me&&K==2||y<p.length-1&&R==oe&&D==E&&U==me&&Y==2)||((a=c.bc(P))==null&&(c.ed(P,S),a=S),w.L(a.kg()),g.mt(w),w.normalize(),g.normalize(),!1)},s.zM=function(a,c,p,y,g,w,S){var k=new d.yb,E=a.bc(g);if(E==null&&(a.ed(g,k),E=k),c=(p=c[p]).tg,p=p.OA,g=a.U(c),p==1)w.L(E.kg()),g!=-1&&g!=a.rj(y)?((E=a.bc(g))==null&&(a.ed(g,k),E=k),S.L(E.kg()),(E=a.bc(c))==null&&a.ed(c,k)):S.L(w),w.Sq(),S.normalize(),w.normalize();else{if(p!=0)throw d.i.Qa();S.L(E.kg()),w.mt(S),S.normalize(),w.normalize()}},s}()}(ee||(ee={})),function(d){var j;(j=d.bM||(d.bM={}))[j.Linear=0]="Linear",j[j.Angular=1]="Angular",j[j.Area=2]="Area";var x=function(){function y(g,w,S){this.od=w,this.ai=S,this.vA=g}return y.prototype.Nb=function(g){return g instanceof y&&this.ai===g.ai},y.aG=function(g){return g.od!==0?null:g.vA===-1?new y(-1,2,g.ai*g.ai):y.Zg(c[g.vA])},y.Zg=function(g){return(g=a[g])===void 0?null:g},y.ZO=function(g,w,S){var k=null;if(S!=null)try{S.values[0]==="EPSG"&&(k=y.Zg(parseInt(S.values[1])))}catch{}return k===null&&(k=new y(-1,g,w)),k},y.prototype.Ec=function(){return this.vA},y.prototype.CF=function(g){if(g.od!=this.od)throw d.i.Hb();return this.ai/g.ai},y.Nh=function(g,w,S){return w.CF(S)*g},y.XE=function(g,w,S,k,E){for(S=S.CF(k),k=0;k<w;k++)E[k]=g[k]*S},y}();d.Tc=x;for(var h=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],l=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],s=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],a=[],c=[],p=0;p<h.length;p+=2)a[h[p]]=new x(h[p],2,h[p+1]);for(h=null,p=0;p<l.length;p+=2)a[l[p]]=new x(l[p],1,l[p+1]);for(l=null,p=0;p<s.length;p+=3)a[s[p]]=new x(s[p],0,s[p+1]),c[s[p]]=s[p+2];s=null}(ee||(ee={})),function(d){var j=function(){function x(){this.xb=this.pb=0}return x.prototype.set=function(h,l){l!==void 0?(this.pb=h,this.xb=l):typeof h=="number"?(this.pb=h,this.xb=0):(this.pb=h.pb,this.xb=h.xb)},x.prototype.value=function(){return this.pb},x.prototype.add=function(h){var l=this.pb+h.pb;h=this.xb+h.xb+2220446049250313e-31*Math.abs(l),this.pb=l,this.xb=h},x.prototype.kN=function(){var h=this.pb+1,l=this.xb+2220446049250313e-31*Math.abs(h);this.pb=h,this.xb=l},x.prototype.dN=function(h,l){this.pb=h.pb+l.pb,this.xb=h.xb+l.xb+2220446049250313e-31*Math.abs(this.pb)},x.prototype.sub=function(h){if(typeof h=="number"){var l=this.pb-h;h=this.xb+2220446049250313e-31*Math.abs(l)}else l=this.pb-h.pb,h=this.xb+h.xb+2220446049250313e-31*Math.abs(l);this.pb=l,this.xb=h},x.prototype.Ag=function(h){var l=this.pb*h.pb;this.xb=this.xb*Math.abs(h.pb)+h.xb*Math.abs(this.pb)+this.xb*h.xb+2220446049250313e-31*Math.abs(l),this.pb=l},x.prototype.No=function(h){var l=this.pb*h;this.xb=this.xb*Math.abs(h)+2220446049250313e-31*Math.abs(l),this.pb=l},x.prototype.Kl=function(h,l){var s=Math.abs(h.pb)*Math.abs(l.pb);this.xb=h.xb*Math.abs(l.pb)+l.xb*Math.abs(h.pb)+h.xb*l.xb+2220446049250313e-31*Math.abs(s),this.pb=s},x.prototype.jm=function(h){var l=Math.abs(h.pb),s=this.pb/h.pb,a=(this.xb+Math.abs(s)*h.xb)/l;h.xb>.01*l&&(a*=1+(1+(h=h.xb/l))*h),this.pb=s,this.xb=a+2220446049250313e-31*Math.abs(s)},x.prototype.sqrt=function(){if(0<=this.pb){var h=Math.sqrt(this.pb),l=this.pb>10*this.xb?.5*this.xb/h:this.pb>this.xb?h-Math.sqrt(this.pb-this.xb):Math.max(h,Math.sqrt(this.pb+this.xb)-h);l+=2220446049250313e-31*Math.abs(h)}else this.pb<-1*this.xb?l=h=NaN:(h=0,l=Math.sqrt(this.xb));this.pb=h,this.xb=l},x.prototype.sin=function(h){var l=Math.sin(h.pb),s=Math.cos(h.pb);this.pb=l,l=Math.abs(l),this.xb=(Math.abs(s)+.5*l*h.xb)*h.xb+2220446049250313e-31*l},x.prototype.cos=function(h){var l=Math.sin(h.pb),s=Math.cos(h.pb);this.pb=s,s=Math.abs(s),this.xb=(Math.abs(l)+.5*s*h.xb)*h.xb+2220446049250313e-31*s},x.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},x.prototype.ps=function(){return this.qg()&&this.xb!=0},x}();d.Wb=j}(ee||(ee={}));var ft=new ee.h,Be=new ee.h,Er=new ee.h,rr=new ee.h,$t=new ee.h;(function(d){var j,x;(x=j||(j={}))[x.closedPath=1]="closedPath",x[x.exteriorPath=2]="exteriorPath",x[x.ringAreaValid=4]="ringAreaValid";var h=function(){function l(s,a,c,p,y,g,w){a!==void 0?(this.ib=s,this.ck=a,this.bl=c,this.ii=p,this.ya=g,this.hA=w,this.ew=y):(this.ib=s.ib,this.ck=s.ck,this.bl=s.bl,this.ii=s.ii,this.ya=s.ya,this.hA=s.hA,this.ew=s.ew),this.bH=!0}return l.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},l.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!d.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},l.AP=function(s,a,c,p,y,g,w){return new l(s,a,c,p,y,g,w)},l}();d.zY=h,j=function(){function l(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return l.prototype.Sh=function(s){return this.We!=null?this.We[s]:null},l.prototype.Xg=function(s,a){if(this.We==null){if(a==null)return;this.We=[];for(var c=0,p=this.vb.I();c<p;c++)this.We.push(null)}this.We[s]=a},l.prototype.bp=function(s,a){this.md.S(s,1,a)},l.prototype.ap=function(s,a){this.md.S(s,2,a)},l.prototype.VB=function(s,a){this.md.S(s,6,a)},l.prototype.Sp=function(s){return this.md.T(s,6)},l.prototype.gx=function(s,a){this.md.S(s,7,a)},l.prototype.qv=function(s){return this.md.T(s,0)},l.prototype.OJ=function(s,a){this.cd.S(s,1,a)},l.prototype.SJ=function(s,a){this.cd.S(s,0,a)},l.prototype.JF=function(s){return this.cd.T(s,7)},l.prototype.Zo=function(s,a){this.cd.S(s,3,a)},l.prototype.$o=function(s,a){this.cd.S(s,4,a)},l.prototype.uU=function(s){this.cd==null&&(this.cd=new d.$c(8));var a=this.cd.Ce();return this.cd.S(a,2,s),this.cd.S(a,5,0),this.cd.S(a,6,0),this.cd.S(a,7,a),a},l.prototype.OQ=function(s){this.cd.jd(s)},l.prototype.wU=function(s){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0));var a=this.md.Ce();return this.md.S(a,0,a),this.md.S(a,3,0),this.md.S(a,6,0),this.gx(a,s),a>=this.Oi.size&&(s=16>a?16:d.O.truncate(3*a/2),this.Oi.resize(s),this.vo.resize(s)),this.Oi.set(a,0),this.vo.set(a,0),a},l.prototype.sF=function(s){this.md.jd(s)},l.prototype.Vy=function(s){this.td.jd(s),this.fd--},l.prototype.oI=function(s){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0));var a=this.td.Ce(),c=0<=s?s:a;if(this.td.S(a,0,c),0>s){if(c>=this.vb.I()){if(s=16>c?16:d.O.truncate(3*c/2),this.vb.resize(s),this.We!=null)for(var p=0;p<s;p++)this.We.push(null);this.Sg!=null&&this.Sg.resize(s),this.it=this.vb.ub(0)}this.vb.Cb(c,-1e38,-1e38),this.We!=null&&(this.We[c]=null),this.Sg!=null&&this.Sg.write(c,1)}return this.td.S(a,4,2*c),this.fd++,a},l.prototype.wj=function(s,a,c){var p=a!=-1?this.Ma(a):this.rj(s),y=p!=-1?this.U(p):-1,g=this.oI(c==null?this.fd:-1),w=this.Ua(g);return c!=null&&this.vb.Ht(w,c),this.aj(g,s),this.Bc(g,y),this.Cc(g,p),y!=-1&&this.Cc(y,g),p!=-1&&this.Bc(p,g),c=this.dc(s),p=this.Xa(s),a==-1&&this.Wg(s,g),a==p&&this.Jf(s,g),c&&y==-1&&(this.Bc(g,g),this.Cc(g,g)),this.Vj(s,this.Ja(s)+1),s=this.Qf(s),this.Tj(s,this.I(s)+1),g},l.prototype.nm=function(){return this.jo==null&&(this.jo=new d.Sa(this.vb.description)),this.jo},l.prototype.Yo=function(s,a){this.cd.S(s,2,-134217729&this.cd.T(s,2)||(a==1?134217728:0))},l.prototype.In=function(s){return 134217728&this.cd.T(s,2)?1:0},l.prototype.hN=function(s){var a=this.Ig(s.getType(),s.description);return s.getType()==1736&&this.Yo(a,s.In()),this.UD(a,s),a},l.prototype.iN=function(s){var a=this.Ig(s.getType(),s.description);return this.VD(a,s),a},l.prototype.XV=function(s,a){this.md==null&&(this.md=new d.$c(8),this.td=new d.$c(5),this.Oi=new d.be(0),this.vo=new d.be(0)),this.md.De(this.md.Hg+s),this.td.De(this.td.Hg+a),this.Oi.Jb(this.Oi.size+s),this.vo.Jb(this.vo.size+s)},l.prototype.UD=function(s,a){this.XV(a.da(),a.I()),this.Il.Fd(a,0,a.I()),this.it=this.vb.ub(0);for(var c=this.We!=null&&a.Ve!=null,p=0,y=a.da();p<y;p++)if(!(2>a.Ja(p))){var g=this.vf(s,-1);this.kn(g,a.dc(p));for(var w=a.Ba(p),S=a.Vc(p);w<S;w++){var k=this.wj(g,-1,null);if(c)if(k=this.Ua(k),1&a.ZF(w))this.Xg(k,null);else{var E=new d.ig;a.bc(w,E,!0),this.Xg(k,E.get())}}}},l.prototype.VD=function(s,a){this.Il.Fd(a,0,a.I()),this.it=this.vb.ub(0),s=this.vf(s,-1);var c=0;for(a=a.I();c<a;c++)this.wj(s,-1,null)},l.prototype.NX=function(s,a,c){var p=this.U(s);if(p==-1)throw d.i.Qa();for(var y=this.nm(),g=this.bd(s),w=0,S=a.ol(c);w<S;w++){var k=this.Ua(s),E=this.U(s),P=a.Vp(c,w);w==0&&(P.To(y),this.Dh(s,y)),P.getType()==322?this.Xg(k,null):this.Xg(k,d.aa.jg(P)),P.Po(y),w<S-1?s=this.wj(g,E,y):this.Dh(p,y)}},l.prototype.MX=function(s,a,c){var p=this.U(s);if(p==-1)throw d.i.Qa();for(var y=this.nm(),g=this.bd(s),w=0,S=a.ol(c);w<S;w++){var k=this.Ua(s),E=this.U(s),P=a.Vp(c,S-w-1);w==0&&(P.Po(y),this.Dh(s,y)),P.getType()==322?this.Xg(k,null):this.Xg(k,d.aa.jg(P)),P.To(y),w<S-1?s=this.wj(g,E,y):this.Dh(p,y)}},l.prototype.IF=function(){var s=new d.l;s.Oa();for(var a=this.Yq(),c=new d.h,p=!0,y=a.next();y!=-1;y=a.next())this.D(y,c),p?s.Zb(c.x,c.y):s.Lk(c.x,c.y),p=!1;return s},l.prototype.Ib=function(s){var a=s.getType();if(d.aa.Hc(a))return this.hN(s);if(a==550)return this.iN(s);throw d.i.Qa()},l.prototype.uN=function(s,a){var c=a.getType();if(d.aa.Hc(c))this.UD(s,a);else{if(c!=550)throw d.i.Qa();this.VD(s,a)}},l.prototype.mN=function(s,a){var c=this.Ig(1736,s.description);if(2>s.Ja(a))return c;this.Il.Fd(s,s.Ba(a),s.Vc(a)),this.it=this.vb.ub(0);var p=this.vf(c,-1);this.kn(p,s.dc(a)||!0);var y=this.We!=null&&s.Ve!=null,g=s.Ba(a);for(a=s.Vc(a);g<a;g++){var w=this.wj(p,-1,null);if(y)if(w=this.Ua(w),1&s.ZF(g))this.Xg(w,null);else{var S=new d.ig;s.bc(g,S,!0),this.Xg(w,S.get())}}return c},l.prototype.Ne=function(s){var a=this.ic(s),c=d.ZK.Ig(a,this.Il.description),p=this.I(s);if(p==0)return c;if(d.aa.Hc(a)){a=this.da(s);for(var y=d.Yc.Oh(a+1),g=d.Yc.Mr(a+1,0),w=c.description,S=0,k=w.Aa;S<k;S++){for(var E=w.kd(S),P=d.ra.Va(E),R=d.Yc.YE(E,p),D=this.vb.ub(E),U=0,Y=0,K=0,V=this.Ob(s);V!=-1;V=this.Rb(V)){var Q=0;this.dc(V)&&(Q|=1),this.YS(V)&&(Q|=4),Q!=0&&g.zJ(Y,Q);var ae=this.Ja(V);if(y.write(Y++,K),K+=ae,E==0){ae=D;var oe=R,me=new d.h;for(Q=this.Xa(V);U<K;Q=this.U(Q),U++){var de=this.Ua(Q);ae.tc(2*de,me),oe.Tt(2*U,me)}}else for(Q=this.Xa(V);U<K;Q=this.U(Q),U++)for(de=this.Ua(Q),oe=0;oe<P;oe++)me=D.eg(de*P+oe),R.pr(U*P+oe,me)}c.hn(E,R),y.write(a,p)}c.PJ(g),c.QJ(y),c.Pc(16777215)}else if(a==550){for(w=c.description,c.resize(p),S=0,k=w.Aa;S<k;S++){for(E=w.kd(S),P=d.ra.Va(E),R=c.ub(E),D=this.vb.ub(E),U=0,V=this.Ob(s),ae=this.Ja(V),Q=this.Xa(V);U<ae;Q=this.U(Q),U++)for(de=this.Ua(Q),oe=0;oe<P;oe++)me=D.eg(de*P+oe),R.pr(U*P+oe,me);c.hn(E,R)}c.Pc(16777215)}return c},l.prototype.BB=function(s){for(var a=this.Ob(s);a!=-1;a=this.Zq(a));a=this.PR(s);var c=this.ue(s);a!=-1?this.OJ(a,c):this.ld=c,c!=-1?this.SJ(c,a):this.qw=a,this.OQ(s)},l.prototype.Ig=function(s,a){return a===void 0?this.$E(s,d.ee.og()):this.$E(s,a)},l.prototype.$E=function(s,a){return s=this.uU(s),this.vb==null?this.vb=this.Il=new d.de(a):this.Il.Jl(a),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=s:(this.SJ(s,this.qw),this.OJ(this.qw,s)),this.qw=s},l.prototype.ue=function(s){return this.cd.T(s,1)},l.prototype.PR=function(s){return this.cd.T(s,0)},l.prototype.ic=function(s){return 2147483647&this.cd.T(s,2)},l.prototype.HJ=function(s,a,c){a=this.wk[a],(s=this.JF(s))>=a.size&&a.resize(Math.max(d.O.truncate(1.25*s),16),-1),a.write(s,c)},l.prototype.KF=function(s,a){return(s=this.JF(s))<(a=this.wk[a]).size?a.read(s):-1},l.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var s=0;s<this.wk.length;s++)if(this.wk[s]==null)return this.wk[s]=d.Yc.Oh(0),s;return this.wk.push(d.Yc.Oh(0)),this.wk.length-1},l.prototype.xW=function(s){this.wk[s]=null},l.prototype.Ob=function(s){return this.cd.T(s,3)},l.prototype.kv=function(s){return this.cd.T(s,4)},l.prototype.I=function(s){return this.cd.T(s,5)},l.prototype.da=function(s){return this.cd.T(s,6)},l.prototype.Gp=function(s,a,c){for(var p=0,y=this.ld;y!=-1;y=this.ue(y)){var g=this.ic(y);if(d.aa.Hc(g)&&(!c||g==1736)){g=this.ic(y)==1736;for(var w=this.Ob(y);w!=-1;){for(var S=0,k=this.Xa(w);S<d.O.truncate(this.Ja(w)/2);){var E=this.U(k);if(E==-1)break;var P=this.Ua(k),R=this.Sh(P);R!=null?P=R.Qb():(R=this.Ua(E),P=this.vb.yr(P,R)),P<=s?(P==0?p==0&&(p=-1):p=1,E!=this.rj(w)&&(this.lC(E,k),this.pd(E,!0))):k=this.U(k),S++}for(S=this.Xa(w),k=this.dc(w)?S:this.rj(w);0<this.Ja(w);){if((E=this.Ma(k))==-1){this.pd(k,!0),p==0&&(p=-1);break}var D=this.Ua(E);if((R=this.Sh(D))!=null?P=R.Qb():(P=this.Ua(k),P=this.vb.yr(P,D)),P<=s)P==0?p==0&&(p=-1):p=1,this.lC(E,k),this.pd(E,!1),S==E&&(S=this.Xa(w));else if((k=this.Ma(k))==S)break}k=this.Ja(w),a&&(g?3>k:2>k)?(w=this.Zq(w),p=0<k?1:p==0?-1:p):w=this.Rb(w)}}}return p},l.prototype.lC=function(s,a){var c=this.Ua(s),p=this.Ua(a);if(this.Sg!=null&&(c=this.Sg.read(c),this.Sg.write(p,c)),this.bi!=null){for(p=0,c=this.bi.length;p<c;p++)if(this.bi[p]!=null){var y=this.Pa(s,p);y!=-1&&this.Ra(a,p,y)}}},l.prototype.Ul=function(s,a,c){var p=0,y=this.U(s);if(y==-1)throw d.i.Qa();for(var g=this.Ua(s),w=this.Ua(y),S=this.Sh(g),k=S==null?this.vb.yr(g,w):S.Qb(),E=0;E<c;E++){var P=a[E];if(0<P&&1>P){var R=P;S!=null&&(R=0<k?S.Ux(P)/k:0),this.vb.kD(g,w,R,this.nm());var D=this.wj(this.bd(s),y,this.nm());if(p++,S!=null){var U=S.dl(0,P);R=this.Ua(this.Ma(D)),this.Xg(R,U),this.mf(D,U.wc()),E!=c-1&&a[E+1]!=1||(P=S.dl(P,1),this.Xg(R,P))}}}return p},l.prototype.LX=function(s,a,c){var p=0,y=this.U(s);if(y==-1)throw d.i.fa("internal error");var g=this.Ua(s),w=this.Ua(y),S=this.Sh(g),k=S==null?this.vb.yr(g,w):S.Qb(),E=0;s=this.bd(s);for(var P=0;P<c;P++){var R=a[P];if(E<R&&1>R){var D=R;if(S!=null&&(D=0<k?S.Ux(R)/k:0),this.vb.kD(g,w,D,this.nm()),D=this.yS(s,y,this.nm()),p++,S!=null){E=S.dl(E,R);var U=this.Ua(this.Ma(D));this.Xg(U,E),this.Cb(D,E.pa,E.la),P!=c-1&&a[P+1]!=1||(E=S.dl(R,1),D=this.Ua(D),this.Xg(D,E))}}E=R}return p},l.prototype.yS=function(s,a,c){var p=a!=-1?this.Ma(a):this.rj(s),y=p!=-1?this.U(p):-1,g=this.oI(c==null?this.fd:-1),w=this.Ua(g);return c!=null&&this.vb.Ht(w,c),this.aj(g,s),this.Bc(g,y),this.Cc(g,p),y!=-1&&this.Cc(y,g),p!=-1&&this.Bc(p,g),c=this.dc(s),p=this.Xa(s),a==-1&&this.Wg(s,g),a==p&&(c&&p!=-1||this.Jf(s,g)),c&&y==-1&&(this.Bc(g,g),this.Cc(g,g)),this.Vj(s,this.Ja(s)+1),s=this.Qf(s),this.Tj(s,this.I(s)+1),g},l.prototype.uE=function(s,a,c){var p=this.Ua(a),y=this.Ua(c);if(0>p||y>this.fd-1)throw d.i.N("invalid call");if(p>y&&!this.dc(s))throw d.i.N("cannot iterate across an open path");for(s=0;a!=c;a=this.U(a))p=this.Ua(a),(y=this.Sh(p))!=null?s+=y.Qb():(y=this.Ua(this.U(a)),s+=this.vb.yr(p,y));return s},l.prototype.Dh=function(s,a){var c=this.Ua(s);this.vb.Ht(c,a),(c=this.Sh(c))!=null&&c.setStart(a),(s=this.Ma(s))!=-1&&(s=this.Ua(s),this.Sh(s)!=null&&c.setEnd(a))},l.prototype.Vi=function(s,a){s=this.Ua(s),this.vb.ve(s,a)},l.prototype.mf=function(s,a){this.Cb(s,a.x,a.y)},l.prototype.Cb=function(s,a,c){var p=this.Ua(s);this.vb.Cb(p,a,c),(p=this.Sh(p))!=null&&p.ZB(a,c),(s=this.Ma(s))!=-1&&(s=this.Ua(s),this.Sh(s)!=null&&p.Ql(a,c))},l.prototype.D=function(s,a){this.vb.D(this.td.T(s,0),a)},l.prototype.Gc=function(s,a){this.vb.za[0].tc(2*this.td.T(s,0),a)},l.prototype.Na=function(s){var a=new d.h;return this.vb.D(this.td.T(s,0),a),a},l.prototype.dG=function(s,a){this.it.tc(2*s,a)},l.prototype.Uc=function(s,a,c){return this.vb.Uc(s,this.Ua(a),c)},l.prototype.setAttribute=function(s,a,c,p){this.vb.setAttribute(s,this.Ua(a),c,p)},l.prototype.Ua=function(s){return this.td.T(s,0)},l.prototype.ih=function(){var s=new d.h;return this.D(void 0,s),s.y},l.prototype.fq=function(s,a){s=this.Ua(s),a=this.Ua(a);var c=this.vb.za[0].o;return c[2*s]===c[2*a]&&c[2*s+1]===c[2*a+1]},l.prototype.Dv=function(s,a){s=this.Ua(s);var c=this.vb.za[0].o;return c[2*s]===a.x&&c[2*s+1]===a.y},l.prototype.vX=function(s,a){if(1>a&&(a=1),this.Sg==null){if(a==1)return;this.Sg=d.Yc.Dn(this.vb.I(),1)}(s=this.Ua(s))>=this.Sg.size&&this.Sg.resize(s+1,1),this.Sg.write(s,a)},l.prototype.cG=function(s){return s=this.Ua(s),this.Sg==null||s>=this.Sg.size?1:this.Sg.read(s)},l.prototype.Ra=function(s,a,c){a=this.bi[a],s=this.Ua(s),a.size<this.vb.I()&&a.resize(this.vb.I(),-1),a.write(s,c)},l.prototype.Pa=function(s,a){return(s=this.Ua(s))<(a=this.bi[a]).size?a.read(s):-1},l.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var s=0;s<this.bi.length;s++)if(this.bi[s]==null)return this.bi[s]=d.Yc.Oh(0,-1),s;return this.bi.push(d.Yc.Oh(0,-1)),this.bi.length-1},l.prototype.Td=function(s){this.bi[s]=null},l.prototype.bc=function(s){return this.We!=null?(s=this.Ua(s),this.We[s]):null},l.prototype.ed=function(s,a){var c=this.td.T(s,2);if(c==-1)return!1;if(this.fA){var p=new d.Sa;this.Vi(s,p),a.setStart(p),this.Vi(c,p),a.setEnd(p)}else this.vb.Gc(this.td.T(s,0),ft),a.em(0,ft),this.vb.Gc(this.td.T(c,0),ft),a.em(1,ft);return!0},l.prototype.mW=function(s,a,c){if(this.fA){var p=new d.Sa;this.Vi(s,p),c.setStart(p),this.Vi(a,p),c.setEnd(p)}else this.vb.Gc(s,ft),c.em(0,ft),this.vb.Gc(a,ft),c.em(1,ft)},l.prototype.vf=function(s,a){if(a!=-1){if(s!=this.Qf(a))throw d.i.Qa();var c=this.cs(a)}else c=this.kv(s);var p=this.wU(s);return a!=-1&&this.bp(a,p),this.ap(p,a),this.bp(p,c),c!=-1?this.ap(c,p):this.Zo(s,p),a==-1&&this.$o(s,p),this.Rl(s,this.da(s)+1),p},l.prototype.nG=function(s,a,c,p){s=this.vf(s,-1);for(var y=0,g=a,w=!1;g==c&&(w=!0),this.aj(g,s),y++,(g=this.U(g))!=a;);return this.kn(s,!0),this.Vj(s,y),w&&(a=c),this.Jf(s,a),this.Wg(s,this.Ma(a)),this.cp(s,!1),p!=null&&(p[0]=w),s},l.prototype.Zq=function(s){var a=this.cs(s),c=this.Rb(s),p=this.Qf(s);return a!=-1?this.ap(a,c):this.Zo(p,c),c!=-1?this.bp(c,a):this.$o(p,a),this.AO(s),this.Rl(p,this.da(p)-1),this.sF(s),c},l.prototype.AO=function(s){var a=this.Xa(s);if(a!=-1){for(var c=0,p=this.Ja(s);c<p;c++){var y=a;a=this.U(a),this.Vy(y)}a=this.Qf(s),this.Tj(a,this.I(a)-this.Ja(s))}this.Vj(s,0)},l.prototype.Rb=function(s){return this.md.T(s,2)},l.prototype.cs=function(s){return this.md.T(s,1)},l.prototype.Ja=function(s){return this.md.T(s,3)},l.prototype.dc=function(s){return!!(1&this.Sp(s))},l.prototype.kn=function(s,a){if(this.dc(s)!=a){if(0<this.Ja(s)){var c=this.Xa(s),p=this.rj(s);a?(this.Bc(p,c),this.Cc(c,p),c=this.Ua(p)):(this.Bc(p,-1),this.Cc(c,-1),c=this.Ua(p)),this.Xg(c,null)}this.VB(s,(1|this.Sp(s))-1|(a?1:0))}},l.prototype.Qf=function(s){return this.md.T(s,7)},l.prototype.YS=function(s){return!!(2&this.Sp(s))},l.prototype.PB=function(s,a){this.VB(s,(2|this.Sp(s))-2|(a?2:0))},l.prototype.wz=function(s){if(this.cT(s))return this.Oi.get(this.qv(s));var a=new d.yb,c=this.Xa(s);if(c==-1)return 0;var p=new d.h;this.D(c,p);for(var y=0,g=0,w=this.Ja(s);g<w;g++,c=this.U(c)){var S=this.bc(c);if(S==null){if(!this.ed(c,a))continue;S=a}y+=S.Tx(p.x,p.y)}return this.cp(s,!0),this.Oi.set(this.qv(s),y),y},l.prototype.gr=function(s,a,c){a=this.Ck[a],s=this.qv(s),a.size<this.Oi.size&&a.resize(this.Oi.size,-1),a.write(s,c)},l.prototype.sj=function(s,a){return(s=this.qv(s))<(a=this.Ck[a]).size?a.read(s):-1},l.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var s=0;s<this.Ck.length;s++)if(this.Ck[s]==null)return this.Ck[s]=d.Yc.Oh(0),s;return this.Ck.push(d.Yc.Oh(0)),this.Ck.length-1},l.prototype.CB=function(s){this.Ck[s]=null},l.prototype.ZT=function(s,a,c){if(c==-1)throw d.i.N();if(a!=c){var p=this.Rb(c),y=this.cs(c),g=this.Qf(c);y==-1?this.Zo(g,p):this.ap(y,p),p==-1?this.$o(g,y):this.bp(p,y),this.Tj(g,this.I(g)-this.Ja(c)),this.Rl(g,this.da(g)-1),y=a==-1?this.kv(s):this.cs(a),this.bp(c,y),this.ap(c,a),a==-1?this.$o(s,c):this.bp(a,c),y==-1?this.Zo(s,c):this.ap(y,c),this.Tj(s,this.I(s)+this.Ja(c)),this.Rl(s,this.da(s)+1),this.gx(c,s)}},l.prototype.ij=function(s,a){this.vb.ve(this.Ua(a),this.nm()),this.wj(s,-1,this.nm())},l.prototype.pd=function(s,a){var c=this.bd(s),p=this.Ma(s),y=this.U(s);p!=-1&&this.Bc(p,y);var g=this.Ja(c);if(s==this.Xa(c)&&this.Jf(c,1<g?y:-1),y!=-1&&this.Cc(y,p),s==this.rj(c)&&this.Wg(c,1<g?p:-1),p!=-1&&y!=-1){p=this.Ua(p);var w=this.Ua(y);a?(a=this.Sh(p))!=null&&(p=new d.h,this.vb.D(w,p),a.Qc(p)):(w=this.Ua(s),a=this.Sh(w),this.Xg(p,a),a!=null&&(p=this.vb.Na(p),a.Dc(p)))}return this.Vj(c,g-1),c=this.Qf(c),this.Tj(c,this.I(c)-1),this.Vy(s),y},l.prototype.Xa=function(s){return this.md.T(s,4)},l.prototype.rj=function(s){return this.md.T(s,5)},l.prototype.U=function(s){return this.td.T(s,2)},l.prototype.Ma=function(s){return this.td.T(s,1)},l.prototype.bd=function(s){return this.td.T(s,3)},l.prototype.fc=function(s,a){return this.wj(s,-1,a)},l.prototype.Yq=function(s){if(s===void 0)return this.Yq(!1);if(s instanceof h)return new h(s);var a,c=-1,p=-1,y=-1,g=0,w=!1;for(a=this.ld;a!=-1;a=this.ue(a))if(!s||d.aa.Hc(this.ic(a))){for(c=this.Ob(a);c!=-1;c=this.Rb(c))if(y=p=this.Xa(c),g=0,p!=-1){w=!0;break}if(w)break}return h.AP(this,a,c,p,y,g,s)},l.prototype.Oc=function(s){if(this.Il.Oc(s),this.We!=null)for(var a=0,c=this.We.length;a<c;a++)this.We[a]!=null&&this.We[a].Oc(s)},l.prototype.jr=function(s,a,c,p){p?this.NX(s,a,c):this.MX(s,a,c)},l.prototype.Cc=function(s,a){this.td.S(s,1,a)},l.prototype.Bc=function(s,a){this.td.S(s,2,a)},l.prototype.aj=function(s,a){this.td.S(s,3,a)},l.prototype.Vj=function(s,a){this.md.S(s,3,a)},l.prototype.Jf=function(s,a){this.md.S(s,4,a)},l.prototype.Wg=function(s,a){this.md.S(s,5,a)},l.prototype.Rl=function(s,a){this.cd.S(s,6,a)},l.prototype.Tj=function(s,a){this.cd.S(s,5,a)},l.prototype.pJ=function(s){var a=s;do{var c=this.U(a);this.Bc(a,this.Ma(a)),this.Cc(a,c),a=c}while(a!=s)},l.prototype.bC=function(s){this.fd=s},l.prototype.$q=function(s){var a=this.cs(s),c=this.Rb(s),p=this.Qf(s);a!=-1?this.ap(a,c):this.Zo(p,c),c!=-1?this.bp(c,a):this.$o(p,a),this.Jf(s,-1),this.Wg(s,-1),this.sF(s)},l.prototype.mi=function(s,a){var c=this.Ma(s),p=this.U(s);if(c!=-1&&this.Bc(c,p),p!=-1&&this.Cc(p,c),c!=-1&&p!=-1)if(c=this.Ua(c),p=this.Ua(p),a){if((a=this.Sh(c))!=null){var y=new d.h;this.vb.D(p,y),a.Qc(y)}}else a=this.Ua(s),a=this.Sh(a),this.Xg(c,a),a!=null&&(y=new d.h,this.vb.D(c,y),a.Dc(y));this.Vy(s)},l.prototype.cT=function(s){return!!(4&this.Sp(s))},l.prototype.cp=function(s,a){this.VB(s,(4|this.Sp(s))-4|(a?4:0))},l.prototype.nx=function(s,a){var c=this.td.o;this.vb.mc();var p=this.vb.za[0].o;s.Vd(0,a,function(y,g){var w=c[5*y];y=c[5*g],g=p[2*w],w=p[2*w+1];var S=p[2*y];return w<(y=p[2*y+1])?-1:w>y?1:g<S?-1:g>S?1:0})},l.prototype.jS=function(){for(var s=this.ld;s!=-1;s=this.ue(s))if(!d.aa.Hc(this.ic(s)))return!0;return!1},l.prototype.hC=function(s,a){for(var c=this.Ob(s),p=this.Ob(a),y=this.kv(s),g=this.kv(a),w=this.Ob(s);w!=-1;w=this.Rb(w))this.gx(w,a);for(w=this.Ob(a);w!=-1;w=this.Rb(w))this.gx(w,s);this.Zo(s,p),this.Zo(a,c),this.$o(s,g),this.$o(a,y),c=this.I(s),p=this.da(s),y=this.da(a),this.Tj(s,this.I(a)),this.Tj(a,c),this.Rl(s,y),this.Rl(a,p),c=this.cd.T(s,2),this.cd.S(s,2,this.cd.T(a,2)),this.cd.S(a,2,c)},l}(),d.gd=j})(ee||(ee={})),function(d){var j=function(x){function h(l,s,a,c){var p=x.call(this)||this;return p.$=new d.l,l===void 0?p.UE():typeof l=="number"?p.VO(l,s,a,c):l instanceof d.Sa?s!==void 0?p.Qu(l,s,a):p.WO(l):l instanceof d.ra?s!==void 0?p.YO(l,s):p.XO(l):l instanceof d.l?p.UO(l):p.UE(),p}return $e(h,x),h.prototype.Qu=function(l,s,a){this.description=d.ee.og(),this.$.Oa(),l.B()||this.tu(l,s,a)},h.prototype.UO=function(l){this.description=d.ee.og(),this.$.K(l),this.$.normalize()},h.prototype.XO=function(l){if(l==null)throw d.i.N();this.description=l,this.$.Oa()},h.prototype.YO=function(l,s){if(l==null)throw d.i.N();this.description=l,this.$.K(s),this.$.normalize()},h.prototype.UE=function(){this.description=d.ee.og(),this.$.Oa()},h.prototype.WO=function(l){this.description=d.ee.og(),this.$.Oa(),l.B()||this.tu(l)},h.prototype.VO=function(l,s,a,c){this.description=d.ee.og(),this.K(l,s,a,c)},h.prototype.K=function(l,s,a,c){if(this.vc(),typeof l=="number")this.$.K(l,s,a,c);else for(this.Oa(),s=0,a=l.length;s<a;s++)this.Zb(l[s])},h.prototype.Xo=function(l){if(this.vc(),!l.fT())throw d.i.N();this.$.K(l)},h.prototype.Oa=function(){this.vc(),this.$.Oa()},h.prototype.B=function(){return this.$.B()},h.prototype.R=function(){return this.$.R()},h.prototype.ca=function(){return this.$.ca()},h.prototype.gk=function(){return this.$.gk()},h.prototype.Jp=function(){return this.$.Jp()},h.prototype.Ip=function(){return this.$.sf()},h.prototype.Zb=function(l){if(l instanceof d.h)this.vc(),this.$.Zb(l);else if(l instanceof d.l)this.vc(),this.$.Zb(l);else if(l instanceof d.Sa){if(this.vc(),!l.Ac()){var s=l.description;if(this.description!=s&&this.Jl(s),this.B())this.tu(l);else{this.$.Zb(l.D());for(var a=1,c=s.Aa;a<c;a++)for(var p=s.Ed(a),y=d.ra.Va(p),g=0;g<y;g++){var w=l.Uc(p,g),S=this.Tg(p,g);S.Zb(w),this.setInterval(p,g,S)}}}}else if(l instanceof h&&!l.B())for((s=l.description)!=this.description&&this.Jl(s),this.$.Zb(l.$),a=1,c=s.Aa;a<c;a++)for(p=s.kd(a),y=d.ra.Va(p),g=0;g<y;g++)w=l.Tg(p,g),(S=this.Tg(p,g)).Zb(w),this.setInterval(p,g,S)},h.prototype.tu=function(l,s,a){if(s!==void 0){this.$.K(l.D(),s,a),a=1;for(var c=(s=l.description).Aa;a<c;a++)for(var p=s.Ed(a),y=d.ra.Va(p),g=0;g<y;g++){var w=l.Uc(p,g);this.setInterval(p,g,w,w)}}else for(this.$.K(l.ka[0],l.ka[1]),a=1,c=(s=l.description).Aa;a<c;a++)for(p=s.Ed(a),y=d.ra.Va(p),g=0;g<y;g++)w=l.Uc(p,g),this.setInterval(p,g,w,w)},h.prototype.setInterval=function(l,s,a,c){if(a=typeof a=="number"?new d.Nc(a,c):a,this.vc(),l==0)if(s==0)this.$.v=a.oa,this.$.C=a.va;else{if(s!=1)throw d.i.ce();this.$.G=a.oa,this.$.H=a.va}else this.vD(0,l,s,a.oa),this.vD(1,l,s,a.va)},h.prototype.W=function(l,s){this.vc(),this.$.W(l,s)},h.prototype.Oc=function(l){if(l instanceof d.Dd)this.vc(),l.mC(this.$);else if(this.vc(),!this.$.B()){var s=new d.OK;this.Qo(s),s.XS()?s.Oa():l.mC(s)}},h.prototype.copyTo=function(l){if(l.getType()!=this.getType())throw d.i.N();if(l.vc(),l.description=this.description,l.$.K(this.$),l.ka=null,this.ka!=null){l.ou();for(var s=0;s<2*(this.description.Ae.length-2);s++)l.ka[s]=this.ka[s]}},h.prototype.Ia=function(){return new h(this.description)},h.prototype.Ke=function(){return this.$.wF()},h.prototype.Qb=function(){return this.$.yR()},h.prototype.getType=function(){return 197},h.prototype.Db=function(){return 2},h.prototype.bn=function(l){this.copyTo(l)},h.prototype.A=function(l){l.v=this.$.v,l.G=this.$.G,l.C=this.$.C,l.H=this.$.H},h.prototype.Qo=function(l){l.v=this.$.v,l.G=this.$.G,l.C=this.$.C,l.H=this.$.H,l.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},h.prototype.Tg=function(l,s){var a=new d.Nc;return a.K(this.Od(0,l,s),this.Od(1,l,s)),a},h.prototype.Hf=function(l,s){s.Nf(this.description);var a=this.description.Aa-1;switch(l){case 0:for(l=0;l<a;l++)for(var c=this.description.kd(l),p=d.ra.Va(c),y=0;y<p;y++)s.setAttribute(c,y,this.Od(0,c,y));s.Cb(this.$.v,this.$.G);break;case 1:for(l=0;l<a;l++)for(c=this.description.kd(l),p=d.ra.Va(c),y=0;y<p;y++)s.setAttribute(c,y,this.Od(1,c,y));s.Cb(this.$.v,this.$.H);break;case 2:for(l=0;l<a;l++)for(c=this.description.kd(l),p=d.ra.Va(c),y=0;y<p;y++)s.setAttribute(c,y,this.Od(0,c,y));s.Cb(this.$.C,this.$.H);break;case 3:for(l=0;l<a;l++)for(c=this.description.kd(l),p=d.ra.Va(c),y=0;y<p;y++)s.setAttribute(c,y,this.Od(1,c,y));s.Cb(this.$.C,this.$.G);break;default:throw d.i.ce()}},h.prototype.mB=function(l,s){l=this.$.mB(l),s.ma(l.x,l.y)},h.prototype.kR=function(l,s){return s*(l.Oq-2)},h.prototype.xF=function(l,s,a){if(this.$.B())throw d.i.fa("empty geometry");if(s==0)return l!=0?a!=0?this.$.H:this.$.C:a!=0?this.$.G:this.$.v;if(a>=d.ra.Va(s))throw d.i.N();var c=this.description.Pf(s);return this.ou(),0<=c?this.ka[this.kR(this.description,l)+this.description.LR(c)-2+a]:d.ra.se(s)},h.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var l=h.Gg(this.description,0),s=h.Gg(this.description,1),a=0,c=1,p=this.description.Aa;c<p;c++){var y=this.description.kd(c),g=d.ra.Va(y);y=d.ra.se(y);for(var w=0;w<g;w++)this.ka[l+a]=y,this.ka[s+a]=y,a++}}},h.prototype.sn=function(l){if(this.ka!=null)if(2<l.Ae.length){for(var s=d.ee.Iw(l,this.description),a=[],c=h.Gg(this.description,0),p=h.Gg(this.description,1),y=h.Gg(l,0),g=h.Gg(l,1),w=0,S=1,k=l.Aa;S<k;S++){var E=l.kd(S),P=d.ra.Va(E);if(s[S]==-1){var R=d.ra.se(E);for(E=0;E<P;E++)a[y+w]=R,a[g+w]=R,w++}else for(R=this.description.$j(s[S])-2,E=0;E<P;E++)a[y+w]=this.ka[c+R],a[g+w]=this.ka[p+R],w++,R++}this.ka=a}else this.ka=null;this.description=l},h.prototype.Od=function(l,s,a){if(this.$.B())throw d.i.fa("This operation was performed on an Empty Geometry.");if(s==0)return l!=0?a!=0?this.$.H:this.$.C:a!=0?this.$.G:this.$.v;if(a>=d.ra.Va(s))throw d.i.ce();var c=this.description.Pf(s);return 0<=c?(this.ou(),this.ka[h.Gg(this.description,l)+this.description.$j(c)-2+a]):d.ra.se(s)},h.prototype.vD=function(l,s,a,c){if(this.vc(),s==0)l!=0?a!=0?this.$.H=c:this.$.C=c:a!=0?this.$.G=c:this.$.v=c;else{if(a>=d.ra.Va(s))throw d.i.ce();if(!this.hasAttribute(s)){if(d.ra.DG(s,c))return;this.re(s)}s=this.description.Pf(s),this.ou(),this.ka[h.Gg(this.description,l)+this.description.$j(s)-2+a]=c}},h.Gg=function(l,s){return s*(l.Ae.length-2)},h.prototype.Ea=function(l){this.vc();var s=new d.l;return l.A(s),this.$.Ea(s)},h.prototype.isIntersecting=function(l){return l instanceof d.l?this.$.isIntersecting(l):this.$.isIntersecting(l.$)},h.prototype.Ju=function(l,s){this.vc(),l.B()?this.Oa():s!==void 0?this.tu(l,s):this.$.Ju(l.Lg(),l.ih())},h.prototype.offset=function(l,s){this.vc(),this.$.offset(l,s)},h.prototype.normalize=function(){this.vc(),this.$.normalize()},h.prototype.sf=function(l){if(l===void 0){if(l=new d.Sa(this.description),this.B())return l;for(s=this.description.Aa,a=1;a<s;a++)for(c=this.description.Ed(a),p=d.ra.Va(c),y=0;y<p;y++)g=.5*(this.Od(0,c,y)+this.Od(1,c,y)),l.setAttribute(c,y,g);return l.Cb(this.$.gk(),this.$.Jp()),l}if(l.Nf(this.description),this.B())l.Oa();else{for(var s=this.description.Aa,a=1;a<s;a++)for(var c=this.description.kd(a),p=d.ra.Va(c),y=0;y<p;y++){var g=.5*(this.xF(0,c,y)+this.xF(1,c,y));l.setAttribute(c,y,g)}l.Cb(this.$.sf())}},h.prototype.mz=function(){return new d.Sa(this.$.mz())},h.prototype.contains=function(l){return l instanceof d.Sa?!l.B()&&this.$.contains(l.Lg(),l.ih()):this.$.contains(l.$)},h.prototype.dP=function(l){return this.$.contains(l)},h.prototype.Nb=function(l){if(l==this)return!0;if(!(l instanceof h)||this.description!=l.description)return!1;if(this.B())return!!l.B();if(!this.$.Nb(l.$))return!1;for(var s=0,a=2*(this.description.Ae.length-2);s<a;s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.cc=function(){var l=this.description.cc();if(l=d.O.Th(l,this.$.cc()),!this.B()&&this.ka!=null)for(var s=0,a=2*(this.description.Ae.length-2);s<a;s++)l=d.O.Th(l,this.ka[s]);return l},h.prototype.es=function(){return this.$.v},h.prototype.gs=function(){return this.$.G},h.prototype.ds=function(){return this.$.C},h.prototype.fs=function(){return this.$.H},h.prototype.mg=function(){return d.pi.gm(this,null)},h.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},h}(d.aa);d.Fh=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a){h===void 0?this.Oa():(this.v=h,this.G=l,this.C=s,this.H=a)}return x.construct=function(h,l,s,a){var c=new x;return c.v=h,c.G=l,c.C=s,c.H=a,c},x.prototype.K=function(h,l,s,a){typeof h=="number"?s!==void 0?(this.v=h,this.G=l,this.C=s,this.H=a,this.normalize()):(this.v=h,this.G=l,this.C=h,this.H=l):h instanceof d.h?l!==void 0?(this.v=h.x-.5*l,this.C=this.v+l,this.G=h.y-.5*s,this.H=this.G+s,this.normalize()):(this.v=h.x,this.G=h.y,this.C=h.x,this.H=h.y):h instanceof x?this.K(h.v,h.G,h.C,h.H):h instanceof d.Nc&&(h.B()||l.B()?this.Oa():(this.v=h.oa,this.C=h.va,this.G=l.oa,this.H=l.va))},x.prototype.Zw=function(h,l){if(l!==void 0)if(l==0)this.Oa();else{this.v=h[0].x,this.G=h[0].y,this.C=this.v,this.H=this.G;for(var s=1;s<l;s++){var a=h[s];a.x<this.v?this.v=a.x:a.x>this.C&&(this.C=a.x),a.y<this.G?this.G=a.y:a.y>this.H&&(this.H=a.y)}}else if(h==null||h.length==0)this.Oa();else for(a=h[0],this.K(a.x,a.y),s=1;s<h.length;s++)l=h[s],this.Lk(l.x,l.y)},x.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.Zb=function(h,l){typeof h=="number"?this.B()?(this.v=h,this.G=l,this.C=h,this.H=l):(this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l)):h instanceof d.h||h instanceof d.Nd?this.Zb(h.x,h.y):h instanceof x&&!h.B()&&(this.Zb(h.v,h.G),this.Zb(h.C,h.H))},x.prototype.Lk=function(h,l){this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l)},x.prototype.W=function(h,l){this.B()||(this.v-=h,this.C+=h,this.G-=l,this.H+=l,(this.v>this.C||this.G>this.H)&&this.Oa())},x.prototype.scale=function(h){0>h&&this.Oa(),this.B()||(this.v*=h,this.C*=h,this.G*=h,this.H*=h)},x.prototype.zoom=function(h,l){this.B()||this.K(this.sf(),h*this.R(),l*this.ca())},x.prototype.isIntersecting=function(h){return!this.B()&&!h.B()&&(this.v<=h.v?this.C>=h.v:h.C>=this.v)&&(this.G<=h.G?this.H>=h.G:h.H>=this.G)},x.prototype.HG=function(h){return(this.v<=h.v?this.C>=h.v:h.C>=this.v)&&(this.G<=h.G?this.H>=h.G:h.H>=this.G)},x.prototype.Ea=function(h){return!this.B()&&!h.B()&&(h.v>this.v&&(this.v=h.v),h.C<this.C&&(this.C=h.C),h.G>this.G&&(this.G=h.G),h.H<this.H&&(this.H=h.H),(h=this.v<=this.C&&this.G<=this.H)||this.Oa(),h)},x.prototype.mB=function(h){switch(h){case 0:return d.h.construct(this.v,this.G);case 1:return d.h.construct(this.v,this.H);case 2:return d.h.construct(this.C,this.H);case 3:return d.h.construct(this.C,this.G);default:throw d.i.ce()}},x.prototype.nB=function(h){if(h==null||4>h.length)throw d.i.N();h[0]!=null?h[0].ma(this.v,this.G):h[0]=d.h.construct(this.v,this.G),h[1]!=null?h[1].ma(this.v,this.H):h[1]=d.h.construct(this.v,this.H),h[2]!=null?h[2].ma(this.C,this.H):h[2]=d.h.construct(this.C,this.H),h[3]!=null?h[3].ma(this.C,this.G):h[3]=d.h.construct(this.C,this.G)},x.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},x.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},x.prototype.gk=function(){return(this.C+this.v)/2},x.prototype.Jp=function(){return(this.H+this.G)/2},x.prototype.R=function(){return this.C-this.v},x.prototype.ca=function(){return this.H-this.G},x.prototype.move=function(h,l){this.B()||(this.v+=h,this.G+=l,this.C+=h,this.H+=l)},x.prototype.Ju=function(h,l){if(l!==void 0)this.move(h-this.gk(),l-this.Jp());else if(h instanceof d.h)this.Ju(h.x,h.y);else{if(!(h instanceof d.Sa))throw d.i.N();l=(this.C-this.v)/2;var s=(this.H-this.G)/2;this.v=h.Lg()-l,this.C=h.Lg()+l,this.G=h.ih()-s,this.H=h.ih()+s}},x.prototype.offset=function(h,l){this.v+=h,this.C+=h,this.G+=l,this.H+=l},x.prototype.normalize=function(){if(!this.B()){var h=Math.min(this.v,this.C),l=Math.max(this.v,this.C);this.v=h,this.C=l,h=Math.min(this.G,this.H),l=Math.max(this.G,this.H),this.G=h,this.H=l}},x.prototype.dn=function(h){h.ma(this.v,this.G)},x.prototype.$I=function(h){h.ma(this.C,this.G)},x.prototype.cJ=function(h){h.ma(this.v,this.H)},x.prototype.en=function(h){h.ma(this.C,this.H)},x.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},x.prototype.sf=function(){return d.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},x.prototype.mz=function(){return d.h.construct(this.v,this.G)},x.prototype.contains=function(h,l){if(l!==void 0)return h>=this.v&&h<=this.C&&l>=this.G&&l<=this.H;if(h instanceof d.Sa)return this.contains(h.Lg(),h.ih());if(h instanceof d.h)return this.contains(h.x,h.y);if(h instanceof x)return h.v>=this.v&&h.C<=this.C&&h.G>=this.G&&h.H<=this.H;throw d.i.N()},x.prototype.hm=function(h,l){if(l!==void 0)return h>this.v&&h<this.C&&l>this.G&&l<this.H;if(h instanceof d.h)return this.hm(h.x,h.y);if(h instanceof x)return h.v>this.v&&h.C<this.C&&h.G>this.G&&h.H<this.H;throw d.i.N()},x.prototype.Nb=function(h){return h==this||h instanceof x&&(!(!this.B()||!h.B())||this.v==h.v&&this.G==h.G&&this.C==h.C&&this.H==h.H)},x.prototype.cc=function(){var h=this.v;h=d.O.truncate(h^h>>>32);var l=d.O.Th(h);return h=this.C,h=d.O.truncate(h^h>>>32),l=d.O.Th(h,l),h=this.G,h=d.O.truncate(h^h>>>32),l=d.O.Th(h,l),h=this.H,h=d.O.truncate(h^h>>>32),d.O.Th(h,l)},x.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},x.prototype.zy=function(h,l){var s=this.Zj(h),a=this.Zj(l);if(s&a)return 0;if(!(s|a))return 4;var c=(s!=0?1:0)|(a!=0?2:0);do{var p=l.x-h.x,y=l.y-h.y;if(p>y?s&x.YC?(s&x.ju?(h.y+=y*(this.v-h.x)/p,h.x=this.v):(h.y+=y*(this.C-h.x)/p,h.x=this.C),s=this.Zj(h)):a&x.YC?(a&x.ju?(l.y+=y*(this.v-l.x)/p,l.x=this.v):(l.y+=y*(this.C-l.x)/p,l.x=this.C),a=this.Zj(l)):s!=0?(s&x.ku?(h.x+=p*(this.G-h.y)/y,h.y=this.G):(h.x+=p*(this.H-h.y)/y,h.y=this.H),s=this.Zj(h)):(a&x.ku?(l.x+=p*(this.G-l.y)/y,l.y=this.G):(l.x+=p*(this.H-l.y)/y,l.y=this.H),a=this.Zj(l)):s&x.ZC?(s&x.ku?(h.x+=p*(this.G-h.y)/y,h.y=this.G):(h.x+=p*(this.H-h.y)/y,h.y=this.H),s=this.Zj(h)):a&x.ZC?(a&x.ku?(l.x+=p*(this.G-l.y)/y,l.y=this.G):(l.x+=p*(this.H-l.y)/y,l.y=this.H),a=this.Zj(l)):s!=0?(s&x.ju?(h.y+=y*(this.v-h.x)/p,h.x=this.v):(h.y+=y*(this.C-h.x)/p,h.x=this.C),s=this.Zj(h)):(a&x.ju?(l.y+=y*(this.v-l.x)/p,l.x=this.v):(l.y+=y*(this.C-l.x)/p,l.x=this.C),a=this.Zj(l)),s&a)return 0}while(s|a);return c},x.prototype.Zj=function(h){return(h.x<this.v?1:0)|(h.x>this.C?1:0)<<1|(h.y<this.G?1:0)<<2|(h.y>this.H?1:0)<<3},x.prototype.Bi=function(h){return!this.B()&&(this.R()<=h||this.ca()<=h)},x.prototype.tb=function(h){return h instanceof d.h?Math.sqrt(this.iK(h)):Math.sqrt(this.px(h))},x.prototype.px=function(h){var l=0,s=0,a=this.v-h.C;return a>l&&(l=a),(a=this.G-h.H)>s&&(s=a),(a=h.v-this.C)>l&&(l=a),(a=h.G-this.H)>s&&(s=a),l*l+s*s},x.prototype.iK=function(h){var l=0,s=0,a=this.v-h.x;return a>l&&(l=a),(a=this.G-h.y)>s&&(s=a),(a=h.x-this.C)>l&&(l=a),(a=h.y-this.H)>s&&(s=a),l*l+s*s},x.prototype.cn=function(h){this.B()?h.Oa():h.K(this.v,this.C)},x.ju=1,x.ku=4,x.YC=3,x.ZC=12,x}();d.l=j}(ee||(ee={})),function(d){var j,x;(x=j||(j={}))[x.initialize=0]="initialize",x[x.initializeRed=1]="initializeRed",x[x.initializeBlue=2]="initializeBlue",x[x.initializeRedBlue=3]="initializeRedBlue",x[x.sweep=4]="sweep",x[x.sweepBruteForce=5]="sweepBruteForce",x[x.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",x[x.sweepRedBlue=7]="sweepRedBlue",x[x.sweepRed=8]="sweepRed",x[x.sweepBlue=9]="sweepBlue",x[x.iterate=10]="iterate",x[x.iterateRed=11]="iterateRed",x[x.iterateBlue=12]="iterateBlue",x[x.iterateBruteForce=13]="iterateBruteForce",x[x.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",x[x.resetRed=15]="resetRed",x[x.resetBlue=16]="resetBlue";var h=function(){function l(s,a){this.ci=s,this.dH=a}return l.prototype.nr=function(s,a,c){this.ci.JX(c,s,a,this.dH)},l.prototype.$p=function(s){return this.ci.Rr(s,this.dH)},l}();j=function(){function l(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new d.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return l.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new d.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},l.prototype.ad=function(s,a){if(!this.Pv)throw d.i.Hb();var c=new d.l;c.K(a),this.fo.add(s),this.Eb.push(c)},l.prototype.Fp=function(){if(!this.Pv)throw d.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},l.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new d.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},l.prototype.JD=function(s,a){if(!this.Ov)throw d.i.Hb();var c=new d.l;c.K(a),this.fo.add(s),this.Eb.push(c)},l.prototype.iF=function(){if(!this.Ov)throw d.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},l.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new d.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},l.prototype.ED=function(s,a){if(!this.Nv)throw d.i.Hb();var c=new d.l;c.K(a),this.cw.add(s),this.qd.push(c)},l.prototype.hF=function(){if(!this.Nv)throw d.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},l.prototype.next=function(){if(this.Ic)return!1;for(var s=!0;s;)switch(this.Xb){case 0:s=this.Gz();break;case 1:s=this.rS();break;case 2:s=this.oS();break;case 3:s=this.qS();break;case 4:s=this.UX();break;case 5:s=this.QX();break;case 6:s=this.RX();break;case 7:s=this.SX();break;case 8:s=this.ux();break;case 9:s=this.iC();break;case 10:s=this.Uz();break;case 11:s=this.jT();break;case 12:s=this.gT();break;case 13:s=this.hT();break;case 14:s=this.iT();break;case 15:s=this.kJ();break;case 16:s=this.jJ();break;default:throw d.i.Qa()}return!this.Ic},l.prototype.aC=function(s){this.qa=s},l.prototype.uz=function(s){return this.Eb[s]},l.prototype.az=function(s){return this.qd[s]},l.prototype.nl=function(s){return this.fo.read(s)},l.prototype.hl=function(s){return this.cw.read(s)},l.Tz=function(s){return!(1&~s)},l.eq=function(s){return!(1&s)},l.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},l.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},l.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},l.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new d.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new d.ia(0)),this.ff.kr();for(var s=0;s<this.qd.length;s++){var a=this.qd[s];this.ff.Br(a.v,a.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),s=0;s<2*this.qd.length;s++)this.Ef.add(s);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},l.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new d.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new d.ia(0)),this.ff==null&&(this.ff=new d.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new d.ia(0)),this.rd.kr();for(var s=0;s<this.Eb.length;s++){var a=this.Eb[s];this.rd.Br(a.v,a.C)}for(this.rd.Fp(),this.ff.kr(),s=0;s<this.qd.length;s++)a=this.qd[s],this.ff.Br(a.v,a.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),s=0;s<2*this.Eb.length;s++)this.Ld.add(s);for(s=0;s<2*this.qd.length;s++)this.Ef.add(s);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},l.prototype.UX=function(){var s=this.Ld.get(--this.pe),a=s>>1;return l.eq(s)?(this.rd.remove(a),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[a].v,this.Eb[a].C,this.qa),this.Vf=a,this.Xb=10,!0)},l.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},l.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},l.prototype.SX=function(){var s=this.Ld.get(this.pe-1),a=this.Ef.get(this.Rg-1),c=this.Rr(s,!0),p=this.Rr(a,!1);return c>p?this.ux():c<p?this.iC():l.Tz(s)?this.ux():l.Tz(a)?this.iC():this.ux()},l.prototype.ux=function(){var s=this.Ld.get(--this.pe),a=s>>1;if(l.eq(s))return this.Df!=-1&&this.Ij.get(a)!=-1?(this.Ad.jd(this.Df,this.Ij.get(a)),this.Ij.set(a,-1)):this.rd.remove(a),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(s=this.Ad.rc(this.Cf);s!=-1;){var c=this.Ad.getData(s);this.ff.vj(c),this.Hj.set(c,-1),c=this.Ad.lb(s),this.Ad.jd(this.Cf,s),s=c}return 0<this.ff.size()?(this.ow.EB(this.Eb[a].v,this.Eb[a].C,this.qa),this.Vf=a,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new d.jp),this.Ij=new d.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(a,this.Ad.addElement(this.Df,a)),this.Xb=7),!0},l.prototype.iC=function(){var s=this.Ef.get(--this.Rg),a=s>>1;if(l.eq(s))return this.Cf!=-1&&this.Hj.get(a)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(a)),this.Hj.set(a,-1)):this.ff.remove(a),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(s=this.Ad.rc(this.Df);s!=-1;){var c=this.Ad.getData(s);this.rd.vj(c),this.Ij.set(c,-1),c=this.Ad.lb(s),this.Ad.jd(this.Df,s),s=c}return 0<this.rd.size()?(this.oo.EB(this.qd[a].v,this.qd[a].C,this.qa),this.Af=a,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new d.jp),this.Hj=new d.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(a,this.Ad.addElement(this.Cf,a)),this.Xb=7),!0},l.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var s=this.Ld.get(this.pe)>>1;return this.rd.vj(s),this.Xb=4,!0},l.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var s=this.Ef.get(this.Rg)>>1;return this.ff.vj(s),this.Xb=7,!0},l.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var s=this.Ld.get(this.pe)>>1;return this.rd.vj(s),this.Xb=7,!0},l.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var s=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(s)||(this.Af=this.Rg,!1)},l.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var s=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(s)||(this.Af=this.Rg,!1)},l.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},l.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},l.prototype.Kt=function(s,a,c){this.Am==null&&(this.Am=new d.Xt),c=new h(this,c),this.Am.sort(s,0,a,c)},l.prototype.JX=function(s,a,c,p){var y=this;s.Vd(a,c,function(g,w){var S=y.Rr(g,p),k=y.Rr(w,p);return S<k||S==k&&l.eq(g)&&l.Tz(w)?-1:1})},l.prototype.Rr=function(s,a){var c=.5*this.qa;return a?(a=this.Eb[s>>1],l.eq(s)?a.G-c:a.H+c):(a=this.qd[s>>1],l.eq(s)?a.G-c:a.H+c)},l}(),d.xC=j}(ee||(ee={})),function(d){var j=function(){function x(){}return x.construct=function(h,l,s,a,c,p){var y=new x;return y.v=h,y.G=l,y.Ye=s,y.C=a,y.H=c,y.Bg=p,y},x.prototype.Oa=function(){this.Ye=this.v=NaN},x.prototype.B=function(){return isNaN(this.v)},x.prototype.XS=function(){return isNaN(this.Ye)},x.prototype.K=function(h,l,s,a,c,p){a!==void 0?typeof h=="number"?(this.v=h,this.G=l,this.Ye=s,this.C=a,this.H=c,this.Bg=p):(this.v=h.x-.5*l,this.C=this.v+l,this.G=h.y-.5*s,this.H=this.G+s,this.Ye=h.z-.5*a,this.Bg=this.Ye+a):(this.v=h,this.G=l,this.Ye=s,this.C=h,this.H=l,this.Bg=s)},x.prototype.move=function(h){this.v+=h.x,this.G+=h.y,this.Ye+=h.z,this.C+=h.x,this.H+=h.y,this.Bg+=h.z},x.prototype.copyTo=function(h){h.v=this.v,h.G=this.G,h.C=this.C,h.H=this.H},x.prototype.Lk=function(h,l,s){this.v>h?this.v=h:this.C<h&&(this.C=h),this.G>l?this.G=l:this.H<l&&(this.H=l),isNaN(this.Ye)==0?this.Ye>s?this.Ye=s:this.Bg<s&&(this.Bg=s):this.Bg=this.Ye=s},x.prototype.Zb=function(h,l,s){if(typeof h=="number")this.B()?(this.v=h,this.G=l,this.Ye=s,this.C=h,this.H=l,this.Bg=s):this.Lk(h,l,s);else if(h instanceof d.Nd)this.Zb(h.x,h.y,h.z);else{if(!(h instanceof x))throw d.i.N();h.B()||(this.Zb(h.v,h.G,h.Ye),this.Zb(h.C,h.H,h.Bg))}},x.prototype.construct=function(h,l,s){h.B()||l.B()?this.Oa():(this.v=h.oa,this.C=h.va,this.G=l.oa,this.H=l.va,this.Ye=s.oa,this.Bg=s.va)},x.prototype.nB=function(h){if(h==null||8>h.length)throw d.i.N();h[0]=new d.Nd(this.v,this.G,this.Ye),h[1]=new d.Nd(this.v,this.H,this.Ye),h[2]=new d.Nd(this.C,this.H,this.Ye),h[3]=new d.Nd(this.C,this.G,this.Ye),h[4]=new d.Nd(this.v,this.G,this.Bg),h[5]=new d.Nd(this.v,this.H,this.Bg),h[6]=new d.Nd(this.C,this.H,this.Bg),h[7]=new d.Nd(this.C,this.G,this.Bg)},x.prototype.Zw=function(h){if(h==null||h.length==0)this.Oa();else{var l=h[0];for(this.K(l.x,l.y,l.z),l=1;l<h.length;l++){var s=h[l];this.Lk(s.x,s.y,s.z)}}},x}();d.OK=j}(ee||(ee={})),function(d){(function(j){j.Qa=function(){var x=Error();return x.message="Internal Error",x},j.Ie=function(){var x=Error();return x.message="Not Implemented",x},j.Xk=function(){var x=Error();return x.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",x},j.Hb=function(){var x=Error();return x.message="Invalid Call",x},j.N=function(x){var h=Error();return h.message="Illegal Argument Exception",x!==void 0&&(h.message+=": "+x),h},j.fu=function(x){var h=Error();return h.message=x!==void 0?"Runtime Exception: "+x:"Runtime Exception.",h},j.fa=function(x){var h=Error();return h.message="Geometry Exception: "+x,h},j.GK=function(){var x=Error();return x.message="Assert Failed Exception",x},j.ce=function(){var x=Error();return x.message="IndexOutOfBoundsException",x},j.WC=function(){var x=Error();return x.message="UserCancelException",x}})(d.i||(d.i={}))}(ee||(ee={})),function(d){(d=d.bm||(d.bm={}))[d.forward=0]="forward",d[d.reverse=1]="reverse"}(ee||(ee={})),function(d){var j=function(){function l(s,a){this.Wa=s,this.FH=a,this.LH=-1,this.sl=!1}return l.prototype.qe=function(){},l.prototype.next=function(){if(++this.LH==this.FH.I())return null;var s=this.FH.Na(this.LH);s.scale(this.Wa.ec);var a=new d.Da;return this.Wa.sy(s,this.sl,a),a},l.prototype.La=function(){return 0},l}(),x=function(){function l(s,a,c){this.Wa=s,this.rw=a,this.Xn=!1,this.co=c,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new d.Da,this.uk=[]}return l.prototype.qe=function(){},l.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var s=d.aa.jg(this.qq);return d.Fg.Mk(s,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}s=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var a=this.uk.length=0,c=new d.h,p=new d.h,y=[0];this.sd.Ha()&&8>this.FA;){var g=this.sd.ha();if(c.L(g.ac()),p.L(g.wc()),c.scale(this.Wa.ec),p.scale(this.Wa.ec),d.cj.Mu(c,p)?c.x=p.x:d.cj.Ku(c,p)&&(p.x=c.x),this.uk.length=0,d.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,c,p,this.Wa.QA,this.Wa.Zs,y,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(g=this.uk.slice(0),this.co.qG(this.co.da()-1,g,g.length-1)),d.cj.Lu(c,p)?(this.qq.Oa(),this.Wa.sy(c,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(y[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}s==null&&(s=new d.Da).Yk(null,0),this.OD(s),a++}if(this.bw[0]=0,0<a){for(y=this.sd.wb();0<a;)this.sd.li(),c.L(this.rw.Na(this.sd.wb())),p.L(this.rw.Na(this.sd.ik())),c.scale(this.Wa.ec),p.scale(this.Wa.ec),this.sl&&(d.cj.Mu(c,p)?c.x=p.x:d.cj.Ku(c,p)&&(p.x=c.x)),this.uk.length=0,d.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,p,c,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(s),a--;return c.L(this.rw.Na(this.sd.wb())),c.scale(this.Wa.ec),h.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,c,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,s,NaN,NaN),this.sd.Vb(y),this.sd.ha(),a=d.ta.kj(null,s,!0),d.Fg.Mk(s,a,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),s=d.aa.jg(this.qq),d.Fg.Mk(s,this.Wa.Aq,!0,!0,this.Wa.Ub)},l.prototype.OD=function(s){var a=this.uk[0],c=this.Nj[0]-1.570796326794897,p=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var y=this.di+1.570796326794897;c=y+3.141592653589793-(this.di-this.Nj[0])}else c=(y=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var g=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),w=!1;if(Math.abs(c-y)<=.5*this.Wa.ao)if(g){var S=s.Na(s.I()-2);S.scale(this.Wa.ec);var k=new d.ga(0);for(d.kb.Xy(this.Wa.Tb,this.Wa.kc,a.x,a.y,S.x,S.y,k),S=k.u;S<=y;)S+=6.283185307179586;for(;S>y;)S-=6.283185307179586;S<c&&(w=!0)}else w=!0;w?(s.DB(0,s.I()-1),this.sl||((a=new d.h).L(s.Na(s.I()-1)),a.scale(this.Wa.ec),-3.141592653589793>a.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<a.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),g||(c=.5*(c+y))):(g?((y=new d.h).L(a),y.scale(1/this.Wa.ec),s.wf(0,-1,y)):h.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],y,c,this.Wa.ao,this.sl,this.sk,s,NaN,NaN),this.FA+=1)}h.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,c,p,this.sl,this.sk,s),this.di=this.Gs[0]},l.prototype.xy=function(s,a){return this.Wa.xy(this.uk,s,this.Nj[0],this.Gs[0],this.sl,a)},l.prototype.La=function(){return 0},l}(),h=function(){function l(){}return l.buffer=function(s,a,c,p,y,g){if(s==null)throw d.i.N("Geometry::Geodesic_bufferer::buffer");if(s.B())return new d.Da(s.description);var w=new l;w.Qg=a,w.Jc=d.cb.sc(a);var S=d.cb.vv(w.Jc);if(w.Ub=g,w.Tb=d.cb.ev(w.Jc),w.kc=S*(2-S),w.ec=w.Jc.Hd().ai,w.qa=w.Qg.Kn(),w.Aq=w.Jc.Kn(),w.Zs=w.Aq*w.ec,w.zq=1.570796326794897/w.ec,w.OY=3.141592653589793/w.ec,w.Js=6.283185307179586/w.ec,w.PY=w.Js/6,w.LA=0,w.NY=1.5707963267948966*w.Tb/w.LA,c==4?(w.ze=2,w.Wv=!0):(w.ze=c,w.Wv=!1),w.Ka=p,w.rb=Math.abs(p),isNaN(y)||.001>y?w.xX():w.$n=y,c=s.getType(),d.aa.yd(c)?((c=new d.Ta(s.description)).oc(s,!0),s=c,c=1607):c==197&&(c=new d.l,s.A(c),c.R()<=w.qa||c.ca()<=w.qa?((c=new d.Ta(s.description)).ad(s,!1),s=c,c=1607):((c=new d.Da(s.description)).ad(s,!1),s=c,c=1736)),w.yX(),d.aa.Rn(c)||w.zX(),w.rb<=.5*w.$n)return c!=1736?new d.Da(s.description):w.Wv?s:d.cj.Qr(s,w.Qg,w.ze,w.QA,-1,g);if(0>w.Ka&&c!=1736)return new d.Da(s.description);if(w.Wv&&d.aa.Hc(c)?(a=d.cj.Qr(s,a,4,NaN,w.$n,g),s=d.cb.zh(a,w.Qg,w.Jc)):s=d.cb.zh(s,w.Qg,w.Jc),(s=d.Hh.lj(s,w.Jc)).B())return new d.Da(s.description);switch(!w.Wv&&d.aa.Hc(c)&&(s=d.cj.pI(w.ec,s)),s=l.KX(s,w.Jc),c){case 1736:a=w.UN(s);break;case 1607:a=w.VN(s);break;case 550:a=w.SN(s);break;case 33:a=w.TN(s);break;default:throw d.i.fa("corrupted_geometry")}return(w=d.cb.zh(a,w.Jc,w.Qg)).Jl(s.description),w},l.prototype.UN=function(s){var a=new d.Da;s=new x(this,s,a),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),s=d.ip.nj(s,this.Jc,2);var c=new d.Dd;return c.scale(1/this.ec,1/this.ec),a.Oc(c),a=d.ip.nj(a,this.Jc,2),0<=this.Ka?d.Gh.local().V(a,s,this.Jc,this.Ub):d.kp.local().V(a,s,this.Jc,this.Ub)},l.prototype.VN=function(s){return s=new x(this,s,null),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),d.ip.nj(s,this.Jc,2)},l.prototype.SN=function(s){return s=new j(this,s),s=d.Gh.local().V(s,this.Jc,this.Ub).next(),d.ip.nj(s,this.Jc,2)},l.prototype.TN=function(s){(s=s.D()).scale(this.ec);var a=new d.Da;return this.sy(s,!1,a),d.ip.nj(a,this.Jc,2)},l.prototype.xy=function(s,a,c,p,y,g){var w=s[0],S=s[s.length-1],k=w.y>S.y?w.y:S.y,E=d.F.q(this.Tb,this.kc,w.y<S.y?w.y:S.y);if(k=d.F.q(this.Tb,this.kc,k),.001<this.LA-(E+a+this.rb)&&.001<this.LA+(k-a-this.rb))return!1;E=(a=c-1.570796326794897)-3.141592653589793,k=a+3.141592653589793;var P=(c=p+1.570796326794897)+3.141592653589793,R=[NaN],D=[NaN],U=[NaN],Y=[NaN];if(p=!1,l.dJ(this.Tb,this.kc,this.rb,w,a,E,S,c,R,D),l.dJ(this.Tb,this.kc,this.rb,S,P,c,w,E,U,Y),(c<R[0]&&R[0]<P||c<D[0]&&D[0]<P)&&(p=!0),p||(E<U[0]&&U[0]<a||E<Y[0]&&Y[0]<a)&&(p=!0),!p&&y)return!1;for(var K=[],V=s.length-1;0<=V;V--)K.push(s[V]);return g.Oa(),g.Yk(null,0),V=[0],l.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,s,a,c,y,V,g),l.Hr(this.Tb,this.kc,this.ec,this.rb,S,c,P,this.ao,y,V,g,R[0],D[0]),l.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,K,P,k,y,V,g),l.Hr(this.Tb,this.kc,this.ec,this.rb,w,E,a,this.ao,y,V,g,U[0],Y[0]),s=!1,y||(s=this.IE(this.ec,g)),p||s},l.prototype.sy=function(s,a,c){c.Oa(),c.Yk(null,0),l.Hr(this.Tb,this.kc,this.ec,this.rb,s,-this.ao,6.283185307179586,this.ao,a,[0],c,NaN,NaN),a||this.IE(this.ec,c)},l.prototype.IE=function(s,a){var c=this.vO(s,a);return s=this.wO(s,a),c||s},l.prototype.vO=function(s,a){var c=a.I(),p=!1,y=new d.l;if(a.A(y),!d.s.Y(y.H*s,1.570796326794897)&&!d.s.Y(y.G*s,-1.570796326794897))return!1;var g=new d.h;for(--c;0<=c;c--)a.D(c,g),(g.y==y.H&&d.s.Y(g.y*s,1.570796326794897)||g.y==y.G&&d.s.Y(g.y*s,-1.570796326794897))&&(p=!0,this.OI(g,c,a));return p},l.prototype.wO=function(s,a){var c=a.Na(0),p=a.Na(a.I()-1);return 3.141592653589793<Math.abs(c.x-p.x)*s?(this.VV(a),!0):this.uO(a)},l.prototype.uO=function(s){return 0>s.Ke()&&(this.UV(s),!0)},l.prototype.OI=function(s,a,c){var p=c.I(),y=0<a?a-1:p-1;if(p=c.Na(a<p-1?a+1:0),y=c.Na(y),!d.s.Y(p.y,s.y)&&!d.s.Y(p.x,s.x)){var g=new d.h;g.ma(p.x,s.y),c.Cb(a,g)}d.s.Y(y.y,s.y)||d.s.Y(y.x,s.x)||((p=new d.h).ma(y.x,s.y),c.wf(0,a,p))},l.prototype.VV=function(s){var a=new d.Da,c=new d.Da,p=new d.Dd,y=s.Na(0),g=s.Na(s.I()-1),w=new d.h;y.x>g.x?(g=this.zq,p.gg(-this.Js,0)):(g=-this.zq,p.gg(this.Js,0)),a.add(s,!1),s.Oa(),c.add(a,!1),c.Oc(p),y=new d.l,c.A(y),y.W((this.Js-y.R())/2,0),y.G=-this.zq,y.H=this.zq;for(var S=0;S<c.I();S++)c.D(S,w),a.wf(0,-1,w);for(c.Oc(p),S=0;S<c.I();S++)c.D(S,w),a.wf(0,-1,w);c=a.Na(0),p=a.Na(a.I()-1),w.ma(p.x,g),a.wf(0,-1,w),w.ma(.5*(p.x+c.x),g),a.wf(0,-1,w),w.ma(c.x,g),a.wf(0,-1,w),a=d.Hh.ks(a,this.Jc,2,!0,y.v),a=d.Hh.ks(a,this.Jc,2,!0,y.C),a=d.Ud.clip(a,y,this.Aq,NaN),s.add(a,!1)},l.prototype.UV=function(s){var a=new d.l;s.A(a),a.W((this.Js-a.R())/2,0),a.G=-this.zq,a.H=this.zq,s.Yk(null,0);var c=new d.h;c.ma(a.v,a.G),s.wf(1,-1,c),c.ma(a.v,a.H),s.wf(1,-1,c),c.ma(.5*(a.v+a.C),a.H),s.wf(1,-1,c),c.ma(a.C,a.H),s.wf(1,-1,c),c.ma(a.C,a.G),s.wf(1,-1,c),c.ma(.5*(a.v+a.C),a.G),s.wf(1,-1,c)},l.qy=function(s,a,c,p,y,g,w,S,k,E,P){var R=null;k||((R=new d.h).Rc(),0<P.I()&&(R.L(P.Na(P.I()-1)),R.scale(c)));var D=new d.ga(0),U=new d.ga(0),Y=new d.ga(0),K=new d.h,V=new d.h,Q=g[g.length-1];c=1/c;for(var ae=0;ae<g.length;ae++){var oe=g[ae];if(ae==0)var me=w;else ae==g.length-1?me=S:(d.kb.wd(s,a,Q.x,Q.y,oe.x,oe.y,null,null,D,y),me=D.u-1.570796326794897);d.kb.yi(s,a,oe.x,oe.y,p,me,U,Y),k?V.ma(U.u,Y.u):(K.ma(U.u,Y.u),l.gJ(oe.x,K.x,R.x,E),V.ma(E[0]+K.x,K.y),R.L(V)),V.scale(c),P.wf(0,-1,V)}},l.Hr=function(s,a,c,p,y,g,w,S,k,E,P,R,D){if(!(w-g<S)){var U=new d.ga(0),Y=new d.ga(0),K=new d.h,V=new d.h,Q=null;k||((Q=new d.h).Rc(),0<P.I()&&(Q.L(P.Na(P.I()-1)),Q.scale(c)));var ae=d.O.truncate(Math.ceil(g/S)),oe=ae++*S;for(oe==g&&(oe=ae++*S),c=1/c;oe<w+S&&(g<R&&R<oe?(oe=R,ae--):g<D&&D<oe&&(oe=D,ae--),!(oe>=w));)d.kb.yi(s,a,y.x,y.y,p,oe,U,Y),k?V.ma(U.u,Y.u):(K.ma(U.u,Y.u),l.gJ(y.x,K.x,Q.x,E),V.ma(E[0]+K.x,K.y),Q.L(V)),V.scale(c),P.wf(0,-1,V),g=oe,oe=ae++*S}},l.dJ=function(s,a,c,p,y,g,w,S,k,E){var P=new d.h,R=new d.h,D=new d.ga(0),U=new d.ga(0);for(d.kb.yi(s,a,p.x,p.y,c,y,D,U),P.ma(D.u,U.u),d.kb.yi(s,a,p.x,p.y,c,g,D,U),R.ma(D.u,U.u),c=new d.ga(0),d.kb.Xy(s,a,w.x,w.y,P.x,P.y,c),k[0]=c.u,d.kb.Xy(s,a,w.x,w.y,R.x,R.y,c),E[0]=c.u;k[0]<=E[0];)k[0]+=6.283185307179586;for(;k[0]>E[0];)k[0]-=6.283185307179586;for(;k[0]>=S;)k[0]-=6.283185307179586,E[0]-=6.283185307179586;for(;k[0]<S;)k[0]+=6.283185307179586,E[0]+=6.283185307179586},l.gJ=function(s,a,c,p){if(isNaN(c)){for(;3.141592653589793<p[0]+a-s;)p[0]-=6.283185307179586;for(;3.141592653589793<s-(p[0]+a);)p[0]+=6.283185307179586}else 3.141592653589793<p[0]+a-c?p[0]-=6.283185307179586:3.141592653589793<c-(p[0]+a)&&(p[0]+=6.283185307179586)},l.KX=function(s,a){var c=s.getType(),p=d.aa.Hc(c)?s.da():c==550?s.I():1;if(p==1)return s;var y=new d.ia(0);y.resize(p);for(var g=[],w=new d.l,S=0;S<p;S++){if(y.write(S,S),d.aa.Hc(c)){s.Rj(S,w);var k=w.sf()}else k=s.Na(S);k=d.XK.$X(a,k),g[S]=k}for(y.Vd(0,y.size,function(E,P){return g[E]<g[P]?-1:g[E]>g[P]?1:0}),a=s.Ia(),S=0;S<p;S++)w=y.read(S),d.aa.Hc(c)?a.addPath(s,w,!0):a.Fd(s,w,w+1);return a},l.prototype.yX=function(){var s=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);s=Math.min(s,.39269908169872414*this.Tb);var a=new d.h;a.ma(0,10*this.ec);var c=45*this.ec,p=new d.ga(0),y=new d.ga(0),g=new d.ga(0),w=new d.ga(0),S=new d.ga(0),k=new d.ga(0),E=new d.ga(0),P=new d.ga(0),R=new d.h,D=new d.h,U=new d.h,Y=new d.h;d.kb.yi(this.Tb,this.kc,a.x,a.y,s,0,p,y),R.ma(p.u,y.u),d.kb.yi(this.Tb,this.kc,a.x,a.y,s,c,g,w),D.ma(g.u,w.u),p=new d.ga(0),y=new d.ga(0);for(var K=new d.ga(0);d.kb.yi(this.Tb,this.kc,a.x,a.y,s,.5*(0+c),S,k),U.ma(S.u,k.u),d.kb.wd(this.Tb,this.kc,R.x,R.y,D.x,D.y,p,y,null,2),d.kb.oj(this.Tb,this.kc,R.x,R.y,.5*p.u,y.u,E,P,2),Y.ma(E.u,P.u),d.kb.wd(this.Tb,this.kc,U.x,U.y,Y.x,Y.y,K,null,null,2),!(K.u<=this.$n);)c*=.9,d.kb.yi(this.Tb,this.kc,a.x,a.y,s,c,g,w),D.ma(g.u,w.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(c-0))},l.prototype.zX=function(){var s=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);s=Math.min(s,.39269908169872414*this.Tb);var a=new d.h,c=new d.h;a.ma(0,10*this.ec),c.ma(10*this.ec,10*this.ec);var p=new d.ga(0),y=new d.ga(0),g=new d.ga(0);d.kb.wd(this.Tb,this.kc,a.x,a.y,c.x,c.y,g,p,y,this.ze);var w=new d.ga(0),S=new d.ga(0),k=new d.ga(0),E=new d.ga(0),P=new d.h,R=new d.ga(0),D=new d.ga(0),U=new d.ga(0),Y=new d.ga(0),K=new d.ga(0),V=new d.ga(0),Q=new d.ga(0),ae=new d.ga(0),oe=new d.ga(0),me=new d.h,de=new d.h,Me=new d.h,_e=new d.h,xe=1;p=p.u,y=y.u+1.570796326794897,g=g.u,d.kb.yi(this.Tb,this.kc,a.x,a.y,s,p-1.570796326794897,D,U),me.ma(D.u,U.u),d.kb.yi(this.Tb,this.kc,c.x,c.y,s,y,Y,K),de.ma(Y.u,K.u),D=new d.ga(0),U=new d.ga(0),y=new d.ga(0);for(var Ue=new d.ga(0);d.kb.oj(this.Tb,this.kc,a.x,a.y,.5*(0+xe)*g,p,w,S,this.ze),P.ma(w.u,S.u),d.kb.wd(this.Tb,this.kc,a.x,a.y,P.x,P.y,null,null,R,this.ze),d.kb.yi(this.Tb,this.kc,P.x,P.y,s,R.u+1.570796326794897,V,Q),Me.ma(V.u,Q.u),d.kb.wd(this.Tb,this.kc,me.x,me.y,de.x,de.y,D,U,null,2),d.kb.oj(this.Tb,this.kc,me.x,me.y,.5*D.u,U.u,ae,oe,2),_e.ma(ae.u,oe.u),d.kb.wd(this.Tb,this.kc,Me.x,Me.y,_e.x,_e.y,y,null,null,2),!(y.u<=this.$n);)xe*=.9,d.kb.oj(this.Tb,this.kc,a.x,a.y,xe*g,p,k,E,this.ze),c.ma(k.u,E.u),d.kb.wd(this.Tb,this.kc,a.x,a.y,c.x,c.y,null,null,Ue,this.ze),d.kb.yi(this.Tb,this.kc,c.x,c.y,s,Ue.u+1.570796326794897,Y,K),de.ma(Y.u,K.u);1e5<(s=xe*g)&&(s=1e5),this.QA=s},l.prototype.xX=function(){var s=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/s&&(s=this.rb/500),.01>s&&(s=.01),this.$n=s},l}();d.VK=h}(ee||(ee={})),function(d){var j=function(){function x(){}return x.Mf=function(h,l){var s=new d.h;s.L(l),h.push(s)},x.up=function(h,l){h.add(l.x),h.add(l.y)},x.hB=function(h){h.Bh(h.size-2)},x.oB=function(h,l){l.ma(h.get(h.size-2),h.get(h.size-1))},x.Qr=function(h,l,s,a,c,p){if(h==null)throw d.i.N();var y=h.getType();if(h.B()||d.aa.Rn(y))return h;var g=new x;g.Qg=l,g.Jc=d.cb.sc(l);var w=d.cb.vv(g.Jc);if(g.Ub=p,g.Tb=d.cb.ev(g.Jc),g.kc=w*(2-w),g.ec=g.Jc.Hd().ai,g.Aq=g.Jc.Kn(),g.Zs=g.Aq*g.ec,g.AA=a,g.zA=c,g.ze=s,y==197?(s=new d.Da(h.description)).ad(h,!1):d.aa.yd(y)?(s=new d.Ta(h.description)).oc(h,!0):s=h,g.ze!=4){if((l=g.Qg.Nb(g.Jc)==0?d.cb.zh(s,g.Qg,g.Jc):d.Hh.lj(s,g.Jc)).B())return l;l=x.pI(g.ec,l),l=g.Zy(l),l=d.ip.nj(l,g.Jc,g.ze),g=d.cb.zh(l,g.Jc,g.Qg)}else{if(d.Eg.Sb(l)==2?(h=d.cb.ml(),(l=d.Xj.local().V(s,h,l,p))==h&&(l=new d.Da,h.copyTo(l))):l=d.Hh.lj(s,g.Jc),l.B())return l;g=g.CX(l)}return g},x.pI=function(h,l){var s=new d.l;if(l.xc(s),3.141592653589793>s.R()*h)return l;var a=!1;s=l.Ga();for(var c=new d.h,p=new d.h;s.$a();)for(;s.Ha();){var y=s.ha();if(c.L(y.ac()),p.L(y.wc()),c.scale(h),p.scale(h),3.141592653589793<Math.abs(c.x-p.x)){var g=x.Lu(c,p);if(!g){a=!0;break}if(6.283185307179586<Math.abs(c.x-p.x)){a=!0;break}}}if(!a)return l;a=l.Ia();var w=1<l.description.Aa,S=new d.h,k=new d.h,E=new d.h,P=new d.h,R=new d.Sa;for(s.Zi();s.$a();)for(var D=NaN,U=[0];s.Ha();){if(y=s.ha(),c.L(y.ac()),p.L(y.wc()),c.scale(h),p.scale(h),isNaN(D)?(x.Wi(c.x,NaN,U),k.L(c)):k.L(E),D=k.x,g=x.Lu(c,p)){if(6.283185307179586<p.x-c.x)for(;6.283185307179586<p.x-c.x;)p.x-=6.283185307179586;if(-6.283185307179586>p.x-c.x)for(;-6.283185307179586>p.x-c.x;)p.x+=6.283185307179586;x.Wi(p.x,NaN,U),E.L(p)}else S.L(p),x.AU(S),x.Wi(S.x,D,U),E.ma(U[0]+S.x,S.y);.5>Math.abs(E.x-p.x)&&E.L(p),w?(y.Tw(0,R),P.L(k),P.scale(1/h),R.Cb(P),(g=s.vm())?a.nf(R):a.lineTo(R),s.Qn()&&!l.dc(s.gb)&&(y.Tw(1,R),P.L(E),P.scale(1/h),R.Cb(P),a.lineTo(R))):((g=s.vm())&&a.Hz(null,0),y=a.da()-1,P.L(k),P.scale(1/h),a.wf(y,-1,P),s.Qn()&&!l.dc(s.gb)&&(P.L(E),P.scale(1/h),a.wf(y,-1,P)))}return a},x.tF=function(h,l,s,a,c,p,y,g,w,S,k,E){var P=new d.h,R=new d.h,D=0<a.compare(c);x.fJ(D,a,c,P,R),x.uF(h,l,s,P,R,p,NaN,y,g,w,S,null,k,E),D&&x.fC(w,S,null,k)},x.prototype.Zy=function(h){var l=h.Ia(),s=h.Ga(),a=[],c=null,p=null,y=1<h.description.Aa;y&&(c=new d.be(0),p=new d.ig);for(var g=[0],w=new d.h,S=new d.h,k=new d.h,E=new d.h;s.$a();)for(g[0]=0;s.Ha();){var P=s.ha();w.L(P.ac()),S.L(P.wc()),w.scale(this.ec),S.scale(this.ec);var R=0<w.compare(S);x.fJ(R,w,S,k,E),a.length=0,c!=null&&c.Bh(0),0<this.AA?x.uF(this.Tb,this.kc,this.ze,k,E,this.AA,this.zA,this.Zs,null,null,null,y?c:null,a,g):x.aR(this.Tb,this.kc,this.ze,k,E,this.zA,this.Zs,y?c:null,a,g),R&&x.fC(null,null,y?c:null,a),a[0].L(P.ac()),a[a.length-1].L(P.wc());for(var D=1;D<a.length-1;D++)a[D].scale(1/this.ec);y?(R=x.eJ(R,P,p),x.TD(s.vm(),s.Qn()&&!h.dc(s.gb),P,R,c,a,l)):x.SD(s.vm(),s.Qn()&&!h.dc(s.gb),a,l)}return l},x.prototype.CX=function(h){var l=h.Ia(),s=h.Ga(),a=[],c=null,p=new d.ig,y=1<h.description.Aa;for(y&&(c=new d.be(0));s.$a();)for(;s.Ha();){var g=s.ha(),w=g.ac(),S=g.wc();w=0<w.compare(S),S=x.eJ(w,g,p),a.length=0,c!=null&&c.Bh(0),x.BX(this.Tb,this.kc,this.ec,S,this.Qg,this.AA,this.zA,y?c:null,a),w&&x.fC(null,null,y?c:null,a),y?x.TD(s.vm(),s.Qn()&&!h.dc(s.gb),g,S,c,a,l):x.SD(s.vm(),s.Qn()&&!h.dc(s.gb),a,l)}return l},x.SD=function(h,l,s,a){h&&a.Hz(null,0),h=a.da()-1;var c=s.slice(0);a.qG(h,c,c.length-1),l&&a.wf(h,-1,s[s.length-1])},x.TD=function(h,l,s,a,c,p,y){var g=new d.Sa;if(s.To(g),h?y.nf(g):y.lineTo(g),2<p.length){h=a.Qb();for(var w=1;w<p.length-1;w++){var S=a.NG(c.get(w)*h);a.Tw(S,g),g.Cb(p[w]),y.lineTo(g)}}l&&(s.Po(g),y.lineTo(g))},x.uF=function(h,l,s,a,c,p,y,g,w,S,k,E,P,R){var D=new d.ga(0),U=new d.ga(0),Y=new d.ga(0);d.kb.wd(h,l,a.x,a.y,c.x,c.y,Y,D,U,s),Y=Y.u;var K=D=D.u;0>K&&(K+=6.283185307179586),0>(U=U.u)&&(U+=6.283185307179586),w!=null&&(w[0]=Y),S!=null&&(S[0]=K),k!=null&&(k[0]=U),S=w=NaN,E!=null&&(w=((S=d.F.Ah(h,l))-(k=d.F.q(h,l,a.y)))/Y,S=(S+k)/Y),k=x.Mu(a,c),U=x.Ku(a,c),K=k||U;var V=x.FE(a,c,g),Q=new d.ga(0),ae=new d.ga(0),oe=new d.h,me=new d.h,de=new d.h;x.Wi(a.x,NaN,R);var Me=[R[0]];if(Y<=p)x.Mf(P,a),x.Wi(c.x,NaN,R),E!=null&&E.add(0),K?(k&&x.kB(a,c,E,P),U&&x.iB(a,c,E,P)):V?x.jB(a,c,D,w,S,E,P):0<y&&(me.ma(a.x-Me[0],a.y),oe.ma(c.x-R[0],c.y),x.Yy(h,l,s,a,Y,D,me,oe,0,1,y,E,P,Me)),x.Mf(P,c);else{var _e=Y/((p=1+d.O.truncate(Math.ceil(Y/p)))-1),xe=new d.h,Ue=0;x.Mf(P,a),xe.L(a),me.ma(a.x-R[0],a.y),E!=null&&E.add(0);for(var Ae=1;Ae<p;Ae++){if(Ae<p-1){d.kb.oj(h,l,a.x,a.y,Ae*_e,D,Q,ae,s),oe.ma(Q.u,ae.u),x.Wi(oe.x,xe.x,R),de.ma(R[0]+oe.x,oe.y);var st=Ae/(p-1)}else x.Wi(c.x,NaN,R),oe.ma(c.x-R[0],c.y),de.L(c),st=1;K?(Ae==1&&k&&x.kB(a,de,E,P),Ae==p-1&&U&&x.iB(xe,c,E,P)):V?x.EE(xe,de,g)&&(a.x<c.x?xe.x>de.x&&(R[0]+=6.283185307179586,de.ma(R[0]+oe.x,oe.y)):xe.x<de.x&&(R[0]-=6.283185307179586,de.ma(R[0]+oe.x,oe.y)),x.jB(xe,de,D,w,S,E,P)):0<y&&x.Yy(h,l,s,a,Y,D,me,oe,Ue,st,y,E,P,Me),x.Mf(P,de),E!=null&&E.add(st),xe.L(de),me.L(oe),Me[0]=R[0],Ue=st}}},x.aR=function(h,l,s,a,c,p,y,g,w,S){var k=new d.ga(0),E=new d.ga(0),P=new d.ga(0);d.kb.wd(h,l,a.x,a.y,c.x,c.y,P,k,E,s),E=P.u,k=k.u;var R=P=NaN;if(g!=null){R=d.F.Ah(h,l);var D=d.F.q(h,l,a.y);P=(R-D)/E,R=(R+D)/E}D=x.Mu(a,c);var U=x.Ku(a,c),Y=D||U;y=x.FE(a,c,y);var K=x.Lu(a,c);K=Y||y||K,x.Wi(a.x,NaN,S);var V=new d.h;x.Mf(w,a),V.L(a),g!=null&&g.add(0),K?(Y?(D&&x.kB(a,c,g,w),U&&x.iB(a,c,g,w)):y&&x.jB(a,c,k,P,R,g,w),x.Wi(c.x,NaN,S),x.Mf(w,c)):E<=p?(x.Wi(c.x,NaN,S),x.Mf(w,c)):(P=new d.h,y=new d.h,P.L(a),y.L(c),P.x-=S[0],y.x-=S[0],-3.141592653589793>y.x?y.x+=6.283185307179586:3.141592653589793<y.x&&(y.x-=6.283185307179586),x.Yy(h,l,s,a,E,k,P,y,0,1,p,g,w,S),x.Mf(w,c),x.Wi(c.x,NaN,S)),g!=null&&g.add(1)},x.Yy=function(h,l,s,a,c,p,y,g,w,S,k,E,P,R){var D=new d.h,U=new d.h;D.ma(y.x+R[0],y.y),new d.ga(0),new d.ga(0),new d.ga(0),new d.ga(0);var Y=new d.ga(0),K=new d.ga(0),V=new d.ga(0),Q=new d.h,ae=new d.h,oe=new d.h,me=new d.h;Q.L(y),ae.L(g),y=new d.be(0),g=new d.be(0),x.up(y,ae),g.add(S);var de=new d.h,Me=new d.yb,_e=[];for(x.YJ(4,_e);0<y.size;){for(var xe,Ue=!1,Ae=NaN,st=0;3>st;st++)if(xe=_e[st]*S+(1-_e[st])*w,d.kb.oj(h,l,a.x,a.y,xe*c,p,Y,K,s),oe.ma(Y.u,K.u),st==0&&(Ae=xe,me.L(oe)),x.WW(Q,oe,ae,Me),Me.hc(Me.fe(oe,!0),de),d.kb.wd(h,l,oe.x,oe.y,de.x,de.y,V,null,null,2),V.u>k){Ue=!0;break}Ue?(ae.L(me),S=Ae,x.up(y,ae),g.add(S)):(x.hB(y),g.En(g.size-1,1,g.size-1),0<y.size&&(x.Wi(ae.x,D.x,R),U.ma(R[0]+ae.x,ae.y),x.Mf(P,U),D.L(U),E!=null&&E.add(S),Q.L(ae),w=S,x.oB(y,ae),S=g.get(g.size-1)))}},x.BX=function(h,l,s,a,c,p,y,g,w){var S=new d.h,k=new d.h,E=new d.h,P=new d.h,R=new d.h,D=new d.h,U=new d.h,Y=new d.h,K=new d.h,V=new d.h,Q=new d.ga(0),ae=new d.ga(0),oe=new d.h,me=[[],[]],de=d.Eg.Sb(c)==1;c=c.Xd(0);var Me=a.ac(),_e=a.wc();de?(D.ma(Me.x*s,Me.y*s),U.ma(_e.x*s,_e.y*s)):(me[0][0]=Me.x,me[0][1]=Me.y,me[1][0]=_e.x,me[1][1]=_e.y,d.cb.vt(),D.x=me[0][0]*s,D.y=me[0][1]*s,U.x=me[1][0]*s,U.y=me[1][1]*s);var xe=0,Ue=0,Ae=1,st=a.Pn();S.L(Me),k.L(_e),_e=new d.be(0);var ct=new d.be(0),Ve=new d.be(0);x.up(_e,k),x.up(ct,U),Ve.add(Ae),x.Mf(w,S),g!=null&&g.add(Ue);var Rt=[],Rr=0<y?st?5:3:st?5:1;x.YJ(Rr,Rt);for(var xr=new d.ga(0),zt=new d.ga(0),Wt=new d.ga(0),Je=new d.ga(0),_r=new d.ga(0),Tt=new d.ga(0),Mn=new d.ga(0);0<ct.size;){var Qt=!1,yn=NaN;for(d.kb.wd(h,l,D.x,D.y,U.x,U.y,xr,zt,null,2),Me=0;Me<Rr&&!(Me==0&&(!st&&0>=y&&xr.u<=p&&3.141592653589793>Math.abs(D.x-U.x)||a.Ux(Ue,Ae)<=c));Me++){var gr=Rt[Me]*Ae+(1-Rt[Me])*Ue;if(a.hc(gr,E),de?Y.ma(E.x*s,E.y*s):(me[0][0]=E.x,me[0][1]=E.y,d.cb.vt(),Y.x=me[0][0]*s,Y.y=me[0][1]*s),Me==0&&(yn=gr,R.L(E),V.L(Y),0<p&&(xr.u>p||3.141592653589793<=Math.abs(D.x-U.x)))){Qt=!0;break}if(st&&0<p){if(d.kb.wd(h,l,D.x,D.y,Y.x,Y.y,Wt,null,null,2),Wt.u>p||3.141592653589793<=Math.abs(D.x-Y.x)){Qt=!0;break}}else if(0<y){if(st?(P.NS(S,k,Rt[Me]),de?K.ma(P.x*s,P.y*s):(me[0][0]=P.x,me[0][1]=P.y,d.cb.vt(),K.x=me[0][0]*s,K.y=me[0][1]*s)):(P.L(E),K.L(Y)),d.kb.wd(h,l,D.x,D.y,K.x,K.y,Je,null,null,2),!(Je.u<=xr.u)){Qt=!0;break}if(d.kb.oj(h,l,D.x,D.y,Je.u,zt.u,Q,ae,2),oe.ma(Q.u,ae.u),d.kb.wd(h,l,oe.x,oe.y,Y.x,Y.y,_r,null,null,2),_r.u>y){Qt=!0;break}if(st){if(d.kb.wd(h,l,oe.x,oe.y,K.x,K.y,Tt,null,null,2),Tt.u>y){Qt=!0;break}if(d.kb.wd(h,l,K.x,K.y,Y.x,Y.y,Mn,null,null,2),Mn.u>y){Qt=!0;break}}}}Qt?(k.L(R),U.L(V),Ae=yn,x.up(_e,k),x.up(ct,U),Ve.add(Ae)):(x.hB(_e),x.hB(ct),Ve.En(Ve.size-1,1,Ve.size-1),x.Mf(w,k),xe+=xr.u,g!=null&&g.add(xe),0<ct.size&&(S.L(k),D.L(U),Ue=Ae,x.oB(_e,k),x.oB(ct,U),Ae=Ve.get(Ve.size-1)))}if(g!=null)for(h=1/xe,Me=0;Me<g.size;Me++)g.write(Me,g.read(Me)*h)},x.fC=function(h,l,s,a){a.reverse(),s!=null&&s.ni(0,s.size,1),s=h!=null?h[0]:NaN,a=l!=null?l[0]:NaN,h!=null&&(h[0]=a),l!=null&&(l[0]=s)},x.fJ=function(h,l,s,a,c){h?(a.L(s),c.L(l)):(a.L(l),c.L(s))},x.eJ=function(h,l,s){return h?(s.create(l.getType()),l.copyTo(s.get()),s.get().reverse(),s.get()):l},x.Wi=function(h,l,s){if(isNaN(l)){for(;3.141592653589793<s[0]-h;)s[0]-=6.283185307179586;for(;3.141592653589793<h-s[0];)s[0]+=6.283185307179586}else 3.141592653589793<s[0]+h-l?s[0]-=6.283185307179586:3.141592653589793<l-(s[0]+h)&&(s[0]+=6.283185307179586)},x.WW=function(h,l,s,a){3.141592653589793>Math.abs(l.x-h.x)?(a.Dc(h),3.141592653589793<=s.x-h.x?a.Ql(s.x-6.283185307179586,s.y):3.141592653589793<=h.x-s.x?a.Ql(s.x+6.283185307179586,s.y):a.Ql(s.x,s.y)):(a.Dc(s),3.141592653589793<=h.x-s.x?a.Ql(h.x-6.283185307179586,h.y):3.141592653589793<=s.x-h.x?a.Ql(h.x+6.283185307179586,h.y):a.Ql(h.x,h.y))},x.YJ=function(h,l){for(var s=0;s<h;s++){var a=Math.ceil(s/2)/(h+1);s%2!=0&&(a=-a),l[s]=.5+a}},x.Mu=function(h,l){return!!(d.s.Y(h.y,1.570796326794897)&&!d.s.Y(l.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)&&!d.s.Y(l.y,-1.570796326794897))},x.Ku=function(h,l){return!!(d.s.Y(l.y,1.570796326794897)&&!d.s.Y(h.y,1.570796326794897)||d.s.Y(l.y,-1.570796326794897)&&!d.s.Y(h.y,-1.570796326794897))},x.FE=function(h,l,s){return!(!x.EE(h,l,s)||d.s.Y(h.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)||d.s.Y(l.y,1.570796326794897)||d.s.Y(l.y,-1.570796326794897))},x.EE=function(h,l,s){return Math.abs(Math.abs(h.x-l.x)-3.141592653589793)<=s},x.Lu=function(h,l){return!!(d.s.Y(h.y,1.570796326794897)&&d.s.Y(l.y,1.570796326794897)||d.s.Y(h.y,-1.570796326794897)&&d.s.Y(l.y,-1.570796326794897))},x.kB=function(h,l,s,a){if(0<h.y){var c=new d.h;c.ma(l.x,1.570796326794897)}else(c=new d.h).ma(l.x,-1.570796326794897);d.s.Y(h.x,c.x)||d.s.Y(l.y,c.y)||(x.Mf(a,c),s!=null&&s.add(0))},x.iB=function(h,l,s,a){if(0<l.y){var c=new d.h;c.ma(h.x,1.570796326794897)}else(c=new d.h).ma(h.x,-1.570796326794897);d.s.Y(l.x,c.x)||d.s.Y(h.y,c.y)||(x.Mf(a,c),s!=null&&s.add(1))},x.jB=function(h,l,s,a,c,p,y){d.s.Cd(s)?(0<1.570796326794897-h.y&&((s=new d.h).ma(h.x,1.570796326794897),x.Mf(y,s),p!=null&&p.add(a)),0<1.570796326794897-l.y&&((s=new d.h).ma(l.x,1.570796326794897),x.Mf(y,s),p!=null&&p.add(a))):(0<1.570796326794897+h.y&&((s=new d.h).ma(h.x,-1.570796326794897),x.Mf(y,s),p!=null&&p.add(c)),0<1.570796326794897+l.y&&((s=new d.h).ma(l.x,-1.570796326794897),x.Mf(y,s),p!=null&&p.add(c)))},x.AU=function(h){if(-3.141592653589793>h.x)for(;-3.141592653589793>h.x;)h.x+=6.283185307179586;if(3.141592653589793<h.x)for(;3.141592653589793<h.x;)h.x-=6.283185307179586},x}();d.cj=j}(ee||(ee={})),function(d){d.ip=function(){function j(){}return j.nj=function(x,h,l){if(x==null||h==null||!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var s=x,a=s.getType();if(d.aa.Hc(a)){s=d.Hh.lj(x,h),x=new d.l,s.A(x),a=d.ta.Wd(h,x,!1);for(var c=d.cb.gh(h),p=Math.floor((x.v-c.v)/c.R())*c.R()+c.v;p<x.C;)p>x.v+a&&p<x.C-a&&(s=d.Hh.ks(s,h,l,!0,p)),p+=c.R()}else{if(a==197)return(x=new d.Da(s.description)).ad(s,!1),j.nj(x,h,l);if(d.aa.yd(a))return(x=new d.Ta(s.description)).oc(s,!0),j.nj(x,h,l)}return j.Uy(s,h)},j.Uy=function(x,h){if(x==null||h==null||!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var l=x.getType();return l==197?(l=new d.Da(x.description)).ad(x,!1):d.aa.yd(l)?(l=new d.Ta(x.description)).oc(x,!0):l=x,(l=d.Hh.lj(l,h)).B()?l:d.Eg.Sb(h)==1?d.Hh.Fn(l,h,0,l!=x,0):j.NQ(l,h,l!=x)},j.NQ=function(x,h,l){if(!d.cb.Wc(h))throw d.i.N();if(x.B())return x;var s=d.cb.bf(h),a=-180*s;return s*=360,d.Eg.Sb(h)==2&&(s=(a=d.cb.gh(h)).C,s-=a=a.v),d.Hh.Hp(x,a,s,h,l,0,!0)},j}()}(ee||(ee={})),function(d){d.BY=function(){function j(){}return j.P=function(x){return 0>x?-x:x},j.Mb=function(x,h){return 0<=h?j.P(x):-j.P(x)},j.Y=function(x,h){return x==h||j.P(x-h)<=j.JC*(1+(j.P(x)+j.P(h))/2)},j.Cd=function(x){return x==0||j.P(x)<=j.JC},j.Ah=function(x,h){var l=(h=(1-(h=Math.sqrt(1-h)))/(1+h))*h;return x/(1+h)*(1+l*(.25+l*(.015625+1/256*l)))*j.EL},j.EL=1.5707963267948966,j.JC=3552713678800501e-30,j}()}(ee||(ee={})),function(d){var j=function(h){this.Wf=h,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};d.DY=j;var x=function(){function h(l){l===void 0&&(l=null),this.Cj=null,this.Un=!1,l!==null&&(this.Cj=new j(l))}return h.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},h.prototype.Of=function(){var l=new h;return this.copyTo(l),l},h.prototype.copyTo=function(l){l.Cj=this.Cj,l.Un=this.Un},h.prototype.Qz=function(){this.Un=!this.Un},h.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},h.prototype.LJ=function(l){if(0>=l)throw d.i.N();if(l!=this.Ec()){if((l=d.pf.geogtran(l))==null)throw d.i.N("Geogtran not found.");this.Cj=new j(l)}},h.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},h.prototype.tX=function(l){if(l==null)throw d.i.N();var s=null;try{s=d.pf.fromString(d.Sc.PE_TYPE_GEOGTRAN,l)}catch{throw d.i.N()}this.Cj=new j(s)},h.prototype.Nb=function(l){return l==this||!(!(l instanceof h)||(0>=this.Ec()||this.Ec()!=l.Ec())&&!this.qm().isEqual(l.qm()))&&this.Un==l.Un},h.prototype.toString=function(){var l="GeographicTransformation: "+this.Bz();return 200<l.length?l.substring(0,197)+"... ("+l.length.toString()+" characters)":l},h.create=function(l,s){var a=new h;return a.LJ(l),s&&a.Qz(),a},h.uP=function(l,s){var a=new h;return a.tX(l),s&&a.Qz(),a},h}();d.Dx=x}(ee||(ee={})),function(d){var j=function(){function h(){}return h.construct=function(l,s,a,c){var p=new h;return p.hw=l,p.iw=s,p.QY=a,p.RY=c,p},h.Ey=function(l,s){return l.hw==s.hw?l.iw==s.iw?0:l.iw<s.iw?-1:1:l.hw<s.hw?-1:1},h}(),x=function(){function h(){this.yT=[],this.zT=[],this.qp()}return h.kz=function(){return h.jK==null&&(h.jK=new h),h.jK},h.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},h.prototype.iD=function(l){try{var s=[];s=s.sort(j.Ey);for(var a=0;a<s.length;a++)l.push(s[a])}catch{}},h}();d.CY=x}(ee||(ee={})),function(d){var j=function(){function x(){}return x.prototype.yD=function(h){this.Fk=h},x.prototype.WM=function(h){this.Fb=h},x.prototype.xD=function(h){this.zo=h},x.CE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736)},x.AE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736||20>h.I())},x.BE=function(h){return!(h.B()||h.getType()!=1607&&h.getType()!=1736||20>h.I())},x}();d.Uk=j}(ee||(ee={})),function(d){d.$b=function(){function j(){}return j.TT=function(x){var h=new d.Da;return h.sx(x.es(),x.gs()),h.yj(x.es(),x.fs()),h.yj(x.ds(),x.fs()),h.yj(x.ds(),x.gs()),h},j.zh=function(x,h){return x===null?null:d.Hx.local().V(x,h,null)},j.jY=function(x,h){var l=d.Gh.local();return x=new d.Zc(x),l.V(x,h,null).next()},j.im=function(x,h,l){return d.kp.local().V(x,h,l,null)},j.ep=function(x,h,l){return d.Kx.local().V(x,h,l,null)},j.VX=function(x,h,l){var s=d.Kx.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},j.Nb=function(x,h,l){return d.dj.local().V(3,x,h,l,null)},j.TP=function(x,h,l){return d.dj.local().V(4,x,h,l,null)},j.RS=function(x,h,l){var s=d.Xj.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},j.QP=function(x,h,l){var s=d.kp.local();for(x=new d.Zc(x),h=new d.Zc(h),l=s.V(x,h,l,null),s=[];(h=l.next())!=null;)s.push(h);return s},j.Ea=function(x,h,l){return d.Xj.local().V(x,h,l,null)},j.QS=function(x,h,l){if((x=d.Xj.local().V(x,h,l,null,1))===null)return[];if(x.getType()===550){for(h=[],l=0;l<x.wa;l++)h.push(x.KR(l));return h}return x.getType()===33?[x]:[]},j.qY=function(x,h,l){return d.dj.local().V(2,x,h,l,null)},j.contains=function(x,h,l){return d.dj.local().V(1,x,h,l,null)},j.BP=function(x,h,l){return d.dj.local().V(16,x,h,l,null)},j.touches=function(x,h,l){return d.dj.local().V(8,x,h,l,null)},j.DU=function(x,h,l){return d.dj.local().V(32,x,h,l,null)},j.TS=function(x,h,l){return d.dj.local().V(1073741824,x,h,l,null)},j.yB=function(x,h,l,s){return d.zL.local().V(x,h,l,s,null)},j.tb=function(x,h,l,s){var a=null;if(l!=null){if(a=l.Hd(),s!=null&&a.Ec()!=s.Ec()&&a.od!=s.od)throw d.i.Xk()}else if(s!=null)throw d.i.N();return x=d.rL.local().V(x,h,null),a!==null&&s!==null&&(x=d.Tc.Nh(x,a,s)),x},j.clip=function(x,h,l){return d.kL.local().V(x,d.l.construct(h.es(),h.gs(),h.ds(),h.fs()),l,null)},j.dl=function(x,h,l){if(x==null||h==null)return null;for(x=d.mL.local().V(!0,x,h,l,null),h=[];(l=x.next())!=null;)l.B()||h.push(l);return h.slice(0)},j.MN=function(x,h,l,s,a,c,p,y){if(a===!0)return j.NN(x,h,l,s,c,p,y);if(a=l,h!=null){if(p=h.Hd(),s!=null&&p.Ec()!=s.Ec()){if(p.od!=s.od)throw d.i.Xk();a=[],d.Tc.XE(l,l.length,s,p,a)}}else if(s!=null)throw d.i.N();if(l=d.AC.local(),c){for(x=new d.Zc(x),h=l.V(x,h,a,c,null),x=[];(c=h.next())!=null;)x.push(c);c=x.slice(0)}else for(c=[],s=0;s<x.length;s++)c[s]=l.V(x[s],h,a[s],null);return c},j.NN=function(x,h,l,s,a,c,p){if(h===null||(s==null&&(s=h.Ec()!==4326?h.Hd():d.Tc.Zg(9001)),s.od!==0))throw d.i.N();if(d.Tc.XE(l,l.length,s,d.Tc.Zg(9001),l),s=d.FC.local(),a){for(x=new d.Zc(x),h=s.V(x,h,c,l,p,!1,a,null),l=[];(c=h.next())!=null;)l.push(c);a=l.slice(0)}else{a=[];for(var y=0;y<x.length;y++)a[y]=s.V(x[y],h,c,l[y],p,!1,null)}return a},j.buffer=function(x,h,l,s,a,c,p){var y=l;if(a===!1){if(h!=null){if(a=h.Hd(),s!=null&&a.Ec()!=s.Ec()){if(a.od!=s.od)throw d.i.Xk();y=d.Tc.Nh(l,s,a)}}else if(s!=null)throw d.i.N();x=d.AC.local().V(x,h,y,null)}else{if(h===null||(s==null&&(s=h.Ec()!==4326?h.Hd():d.Tc.Zg(9001)),s.od!==0))throw d.i.N();y=d.Tc.Nh(l,s,d.Tc.Zg(9001)),x=d.FC.local().V(x,h,c,y,p,!1,null)}return x},j.BU=function(x,h,l,s,a,c,p){if(h!=null){var y=h.Hd();if(p!=null&&y.Ec()!=p.Ec()){if(y.od!=p.od)throw d.i.Xk();l=d.Tc.Nh(l,p,y)}}else if(p!=null)throw d.i.N();for(x=new d.Zc(x),h=d.IC.local().V(x,h,l,s,a,c,null),l=[];(s=h.next())!=null;)l.push(s);return l.slice(0)},j.offset=function(x,h,l,s,a,c,p){if(h!=null){var y=h.Hd();if(p!=null&&y.Ec()!=p.Ec()){if(y.od!=p.od)throw d.i.Xk();l=d.Tc.Nh(l,p,y)}}else if(p!=null)throw d.i.N();return d.IC.local().V(x,h,l,s,a,c,null)},j.iP=function(x){return d.CC.local().V(x,null)},j.jP=function(x,h){var l=d.CC.local();for(x=new d.Zc(x),h=l.V(x,h,null),l=[];(x=h.next())!=null;)l.push(x);return l},j.nz=function(x,h,l){return d.Ix.local().nz(x,h,l)},j.oz=function(x,h){return d.Ix.local().oz(x,h)},j.pz=function(x,h,l,s){return d.Ix.local().pz(x,h,l,s)},j.eC=function(x,h){return d.Yl.local().V(x,h,!1,null)},j.dT=function(x,h){return d.Yl.local().rs(x,h,null)},j.QQ=function(x,h,l,s,a){var c=d.EC.local();if(h!=null){if(h=h.Hd(),a!=null&&h.Ec()!=a.Ec()){if(h.od!=a.od)throw d.i.Xk();l=d.Tc.Nh(l,a,h)}}else if(a!=null)throw d.i.N();return c.V(x,l,s,null)},j.Qr=function(x,h,l,s){var a=d.Xl.local();if(h!=null){if(h=h.Hd(),s!=null&&h.Ec()!=s.Ec()){if(h.od!=s.od)throw d.i.Xk();l=d.Tc.Nh(l,s,h)}}else if(s!=null)throw d.i.N();return a.V(x,l,null)},j.Wy=function(x,h,l,s,a){a===void 0&&(a=0);var c=d.tL.local();if(a==4||a!==0)throw d.i.Ie();if(s!==null){if(s.od!==0)throw d.i.N("Unit must be a linear unit type");l=d.Tc.Nh(l,s,d.Tc.Zg(9001))}return c.V(x,l,h,a,null)},j.WQ=function(x,h,l,s){if(x===null)return 0;if(s==4||s!==0)throw d.i.Ie();if(x.getType()==197)x=j.TT(x);else if(x.getType()!=1736)return 0;if(s=d.cb.sc(h),x=d.cb.zh(x,h,s),x=d.UK.XQ([x])[0],l!==null){if(l.od!==2)throw d.i.N("Unit must be a area unit type");x=d.Tc.Nh(x,d.Tc.Zg(109404),l)}return x},j.ZQ=function(x,h,l,s){if(x=d.vL.local().V(x,h,s,null),l!==null){if(l.od!==0)throw d.i.N("Unit must be a linear unit type");x=d.Tc.Nh(x,d.Tc.Zg(9001),l)}return x},j.JU=function(x,h,l){if(x===null)return 0;var s=null;if(h!=null){if((s=h.Hd()).od==0&&(s=d.Tc.aG(s))==null&&l!==null)throw d.i.N();if(l!=null&&s.Ec()!=l.Ec()&&s.od!=l.od)throw d.i.Xk()}else if(l!=null)throw d.i.N();return x.getType()==1736||x.getType()==197?(x=x.Ke(),l!==null?d.Tc.Nh(x,s,l):x):0},j.KU=function(x,h,l){if(x===null||x.B()||1>x.Db())return 0;var s=null;if(h!=null){if(s=h.Hd(),l!=null&&s.Ec()!=l.Ec()&&s.od!=l.od)throw d.i.Xk()}else if(l!=null)throw d.i.N();x.getType()==1736||x.getType()==197?h=x.mg():d.aa.yd(x.getType())?(h=new d.Ta(x.description)).oc(x,!0):h=x,x=0,h=h.Ga();for(var a=new d.h,c=new d.h;h.$a();)for(;h.Ha();){var p=h.ha();p.Yp(a),p.Tr(c),x+=d.h.tb(a,c)}return s!==null&&l!==null&&(x=d.Tc.Nh(x,s,l)),x},j.fP=function(x){return x.points!==void 0?j.mS(x,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM):x.rings!==void 0?j.lG(x.rings,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"P"):x.paths!==void 0?j.lG(x.paths,x.hasZ!==void 0&&x.hasZ,x.hasM!==void 0&&x.hasM,"L"):x.x!==void 0?j.nS(x):x.xmin!==void 0?j.lS(x):null},j.nS=function(x){if(x.x==null||x.x=="NaN")return new d.Sa;var h=new d.Sa(x.x,x.y);return x.z!==void 0&&x.z!==null&&h.wX(x.z),x.m!==void 0&&x.m!==null&&h.hX(x.m),h},j.lS=function(x){if(x.xmin==null||x.xmin=="NaN")return new d.Fh;var h=new d.Fh(x.xmin,x.ymin,x.xmax,x.ymax);return x.zmin!==void 0&&x.zmin!==null&&h.setInterval(1,0,x.zmin,x.zmax),x.mmin!==void 0&&x.mmin!==null&&h.setInterval(2,0,x.mmin,x.mmax),h},j.mS=function(x,h,l){var s=0,a=new d.de,c=3*x.points.length;c%2!=0&&c++,2>c&&(c=2);var p=d.O.truncate(3*x.points.length/2);4>p?p=4:16>p&&(p=16),c=d.Yc.Dn(c,0);var y=d.Yc.Dn(p);p=d.Yc.Dn(p);for(var g=0;g<x.points.length;g++)c.write(2*g,x.points[g][0]),c.write(2*g+1,x.points[g][1]),y.write(g,h||l?x.points[g][2]:NaN),p.write(g,l&&h?x.points[g][3]:NaN),s++;return s!=0&&(a.resize(s),a.hn(0,c)),h&&(a.re(1),a.hn(1,y)),l&&(a.re(2),a.hn(2,h==0?y:p)),a.Pc(16777215),a},j.lG=function(x,h,l,s){var a=0,c=2;if(s=="P"){var p=new d.Da;a=1,c=3}else p=new d.Ta;for(var y=d.Yc.Oh(0),g=d.Yc.Mr(0),w=0,S=0,k=[],E=[],P=0;P<x.length;P++){var R=x[P].length;if(k[P]=!1,s==="P"&&x[P][0][0]===x[P][x[P].length-1][0]&&x[P][0][1]===x[P][x[P].length-1][1]){var D=l==0||x[P][0][3]===x[P][x[P].length-1][3]||x[P][0][3]===void 0&&x[P][x[P].length-1][3]===void 0;(h==0||x[P][0][2]===x[P][x[P].length-1][2]||x[P][0][2]===void 0&&x[P][x[P].length-1][2]===void 0)&&D&&(k[P]=!0,--R)}R>=c?(E[P]=!1,S+=1,y.add(w),g.add(a),w+=R):E[P]=!0}for((s=3*w)%2!=0&&s++,2>s&&(s=2),4>(P=d.O.truncate(3*w/2))?P=4:16>P&&(P=16),s=d.Yc.Dn(s,0),a=d.Yc.Dn(P),c=d.Yc.Dn(P),P=R=0;P<x.length;P++)if(E[P]===!1)for(D=0;D<x[P].length;D++){var U=!1;D===x[P].length-1&&k[P]===!0&&(U=!0),U||(s.write(2*R,x[P][D][0]),s.write(2*R+1,x[P][D][1]),a.write(R,h||l?x[P][D][2]:NaN),c.write(R,l&&h?x[P][D][3]:NaN),R++)}return w!=0&&(x=p,y.resize(S),g.resize(S),0<w&&(y.add(w),g.add(0)),x.hn(0,s),x.PJ(g),x.QJ(y)),h&&(p.re(1),p.hn(1,a)),l&&(p.re(2),p.hn(2,h==0?a:c)),p.Pc(16777215),p},j}()}(ee||(ee={})),function(d){d.Ex=function(){function j(){}return j.br=function(x){var h,l=0,s=x.length,a=x[0];for(h=0;h<s-1;h++){var c=x[h+1];l+=(c[0]-a[0])*(c[1]+a[1]),a=c}return 0<=l},j.rotate=function(x,h,l){h=h*Math.PI/180;var s=Math.cos(h),a=Math.sin(h);if(x.paths!==void 0){h={paths:[]};for(var c=0;c<x.paths.length;c++){for(var p=x.paths[c],y=[],g=0;g<p.length;g++){var w=p[g].slice(0);y.push(w);var S=s*(p[g][0]-l.x)-a*(p[g][1]-l.y)+l.x,k=a*(p[g][0]-l.x)+s*(p[g][1]-l.y)+l.y;w[0]=S,w[1]=k}h.paths.push(y),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM)}return h}if(x.rings!==void 0){for(h={rings:[]},c=0;c<x.rings.length;c++){p=x.rings[c],y=[];var E=j.br(p);for(g=0;g<p.length;g++)w=p[g].slice(0),y.push(w),S=s*(p[g][0]-l.x)-a*(p[g][1]-l.y)+l.x,k=a*(p[g][0]-l.x)+s*(p[g][1]-l.y)+l.y,w[0]=S,w[1]=k;j.br(y)!==E&&y.reverse(),h.rings.push(y),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM)}return h}if(x.x!==void 0)return h={x:s*(x.x-l.x)-a*(x.y-l.y)+l.x,y:a*(x.x-l.x)+s*(x.y-l.y)+l.y},x.z!==void 0&&(h.z=x.z),x.m!==void 0&&(h.m=x.m),x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM),h;if(x.points!==void 0){for(h={points:[]},c=x.points,g=0;g<c.length;g++)(p=c[g].slice(0))[0]=s*(c[g][0]-l.x)-a*(c[g][1]-l.y)+l.x,p[1]=a*(c[g][0]-l.x)+s*(c[g][1]-l.y)+l.y,h.points.push(p);return x.hasZ!==void 0&&(h.hasZ=x.hasZ),x.hasM!==void 0&&(h.hasM=x.hasM),h}return null},j.JQ=function(x,h){if(x.paths!==void 0){for(var l={paths:[]},s=0;s<x.paths.length;s++){for(var a=x.paths[s],c=[],p=0;p<a.length;p++){var y=a[p].slice(0);c.push(y);var g=h.x-a[p][0];y[0]=a[p][0]+2*g}l.paths.push(c)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.rings!==void 0){for(l={rings:[]},s=0;s<x.rings.length;s++){a=x.rings[s];var w=j.br(a);for(c=[],p=0;p<a.length;p++)y=a[p].slice(0),c.push(y),g=h.x-a[p][0],y[0]=a[p][0]+2*g;j.br(c)!==w&&c.reverse(),l.rings.push(c)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.x!==void 0)return g=h.x-x.x,l={x:x.x+2*g,y:x.y},x.z!==void 0&&(l.z=x.z),x.m!==void 0&&(l.m=x.m),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l;if(x.points!==void 0){for(l={points:[]},s=x.points,p=0;p<s.length;p++)a=s[p].slice(0),g=h.x-a[0],a[0]+=2*g,l.points.push(a);return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}return x.xmin!==void 0?(l={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(l.zmin=x.zmin,l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin,l.mmax=x.mmax),g=h.x-x.xmin,l.xmax=x.xmin+2*g,g=h.x-x.xmax,l.xmin=x.xmax+2*g,x.zmin!==void 0&&(l.zmin=x.zmin),x.zmax!==void 0&&(l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin),x.mmax!==void 0&&(l.mmax=x.mmax),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l):null},j.KQ=function(x,h){if(x.paths!==void 0){for(var l={paths:[]},s=0;s<x.paths.length;s++){for(var a=x.paths[s],c=[],p=0;p<a.length;p++){var y=a[p].slice(0);c.push(y);var g=h.y-a[p][1];y[1]=a[p][1]+2*g}l.paths.push(c)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.rings!==void 0){for(l={rings:[]},s=0;s<x.rings.length;s++){a=x.rings[s];var w=j.br(a);for(c=[],p=0;p<a.length;p++)y=a[p].slice(0),c.push(y),g=h.y-a[p][1],y[1]=a[p][1]+2*g;j.br(c)!==w&&c.reverse(),l.rings.push(c)}return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}if(x.x!==void 0)return g=h.y-x.y,l={y:x.y+2*g,x:x.x},x.z!==void 0&&(l.z=x.z),x.m!==void 0&&(l.m=x.m),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l;if(x.points!==void 0){for(l={points:[]},s=x.points,p=0;p<s.length;p++)a=s[p].slice(0),g=h.y-a[1],a[1]+=2*g,l.points.push(a);return x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l}return x.xmin!==void 0?(l={v:x.xmin,G:x.ymin,C:x.xmax,H:x.ymax},x.zmin!==void 0&&(l.zmin=x.zmin,l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin,l.mmax=x.mmax),g=h.y-x.ymin,l.ymax=x.ymin+2*g,g=h.y-x.ymax,l.ymin=x.ymax+2*g,x.zmin!==void 0&&(l.zmin=x.zmin),x.zmax!==void 0&&(l.zmax=x.zmax),x.mmin!==void 0&&(l.mmin=x.mmin),x.mmax!==void 0&&(l.mmax=x.mmax),x.hasZ!==void 0&&(l.hasZ=x.hasZ),x.hasM!==void 0&&(l.hasM=x.hasM),l):null},j}()}(ee||(ee={})),function(d){d.ZK=function(){function j(){}return j.Ig=function(x,h){switch(h==null&&(h=d.ee.og()),x){case 33:return new d.Sa(h);case 322:return new d.yb(h);case 197:return new d.Fh(h);case 550:return new d.de(h);case 1607:return new d.Ta(h);case 1736:return new d.Da(h);default:throw d.i.fa("invalid argument.")}},j}()}(ee||(ee={})),function(d){var j=function(){function x(h,l){this.Te=d.ia.qf(h,-1),this.ua=new d.au,this.wl=l}return x.prototype.AW=function(h){this.ua.At(Math.min(this.Te.size,h)),this.ua.fn(h)},x.prototype.addElement=function(h,l){if(l===void 0)return this.eN(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);return s==-1&&(s=this.ua.Ph(),this.Te.set(l,s)),this.ua.addElement(s,h)},x.prototype.eN=function(h){var l=this.wl.jz(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);return s==-1&&(s=this.ua.Ph(),this.Te.set(l,s)),this.ua.addElement(s,h)},x.prototype.jd=function(h,l){if(l===void 0)this.KP(h);else{l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),c=-1;a!=-1;){var p=this.ua.lb(a);this.ua.ja(a)==h?(this.ua.jd(s,c,a),this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1))):c=a,a=p}}},x.prototype.KP=function(h){var l=this.wl.jz(h);l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),c=-1;a!=-1;){var p=this.ua.lb(a);this.ua.ja(a)==h?(this.ua.jd(s,c,a),this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1))):c=a,a=p}},x.prototype.rR=function(h){return h=d.O.truncate(h%this.Te.size),(h=this.Te.get(h))==-1?-1:this.ua.rc(h)},x.prototype.ER=function(h){return this.ua.lb(h)},x.prototype.vd=function(h){var l=this.wl.jz(this.ja(h));l=d.O.truncate(l%this.Te.size);var s=this.Te.get(l);if(s==-1)throw d.i.N();for(var a=this.ua.rc(s),c=-1;a!=-1;){if(a==h)return this.ua.jd(s,c,a),void(this.ua.rc(s)==-1&&(this.ua.bh(s),this.Te.set(l,-1)));c=a,a=this.ua.lb(a)}throw d.i.N()},x.prototype.ja=function(h){return this.ua.ja(h)},x.prototype.clear=function(){this.Te=d.ia.qf(this.Te.size,-1),this.ua.clear()},x.prototype.size=function(){return this.ua.TF()},x}();d.dL=j}(ee||(ee={})),function(d){var j=function(){function x(){this.Li=new d.$c(3),this.ua=new d.$c(6),this.sT=!1,this.je=-1}return x.prototype.fl=function(h){this.Li.jd(h)},x.prototype.Pw=function(){return this.Li.Ce()},x.prototype.bv=function(h){this.ua.jd(h)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.WB=function(h,l){this.Li.S(h,1,l)},x.prototype.ex=function(h,l){this.Li.S(h,2,l)},x.prototype.gX=function(h,l){this.Li.S(h,3,l)},x.prototype.UB=function(h,l){this.ua.S(h,4,l)},x.prototype.jX=function(h,l){this.ua.S(h,3,l)},x.prototype.TJ=function(h,l){this.ua.S(h,2,l)},x.prototype.Ph=function(h){var l=this.$A();return this.ua.S(l,3,this.je),this.ua.S(l,4,0),this.ua.S(l,5,h),this.je!=-1&&this.TJ(this.je,l),this.je=l},x.prototype.bh=function(h){this.LE(h);var l=this.ua.T(h,2),s=this.ua.T(h,3);return l!=-1?this.jX(l,s):this.je=s,s!=-1&&this.TJ(s,l),this.bv(h),s},x.prototype.At=function(h){this.ua.De(h)},x.prototype.PF=function(h){return this.ua.T(h,5)},x.prototype.fX=function(h,l){this.ua.S(h,5,l)},x.prototype.addElement=function(h,l){return this.tS(h,l)},x.prototype.tS=function(h,l){var s=this.Pw();this.ex(s,-1),this.ua.T(h,0)==-1&&this.ua.S(h,0,s);var a=this.ua.T(h,1);return this.WB(s,a),a!=-1&&this.ex(a,s),this.ua.S(h,1,s),this.setData(s,l),this.UB(h,this.bs(h)+1),this.sT&&this.gX(s,h),s},x.prototype.jd=function(h,l){var s=this.we(l),a=this.lb(l);return s!=-1?this.ex(s,a):this.ua.S(h,0,a),a!=-1?this.WB(a,s):this.ua.S(h,1,s),this.fl(l),this.UB(h,this.bs(h)-1),a},x.prototype.fn=function(h){this.Li.De(h)},x.prototype.getData=function(h){return this.Li.T(h,0)},x.prototype.setData=function(h,l){this.Li.S(h,0,l)},x.prototype.lb=function(h){return this.Li.T(h,2)},x.prototype.we=function(h){return this.Li.T(h,1)},x.prototype.rc=function(h){return this.ua.T(h,0)},x.prototype.Fc=function(h){return this.ua.T(h,1)},x.prototype.clear=function(){for(var h=this.je;h!=-1;)h=this.bh(h)},x.prototype.LE=function(h){for(var l=this.Fc(h);l!=-1;){var s=l;l=this.we(s),this.fl(s)}this.ua.S(h,0,-1),this.ua.S(h,1,-1),this.UB(h,0)},x.prototype.B=function(){return this.Li.size==0},x.prototype.TF=function(){return this.Li.size},x.prototype.bs=function(h){return this.ua.T(h,4)},x.prototype.qz=function(h){return this.ua.T(h,3)},x}();d.jp=j}(ee||(ee={})),function(d){var j=function(){function x(h){h===void 0?(this.ug=new d.$c(2),this.ua=new d.$c(4),this.je=-1,this.Qv=!0):(this.ug=new d.$c(2),this.ua=new d.$c(h?4:2),this.je=-1,this.Qv=h)}return x.prototype.fl=function(h){this.ug.jd(h)},x.prototype.Pw=function(){return this.ug.Ce()},x.prototype.bv=function(h){this.ua.jd(h)},x.prototype.$A=function(){return this.ua.Ce()},x.prototype.Ph=function(){var h=this.$A();return this.Qv&&(this.ua.S(h,3,this.je),this.je!=-1&&this.ua.S(this.je,2,h),this.je=h),h},x.prototype.bh=function(h){for(var l=this.rc(h);l!=-1;){var s=l;l=this.lb(l),this.fl(s)}this.Qv&&(l=this.ua.T(h,2),s=this.ua.T(h,3),l!=-1?this.ua.S(l,3,s):this.je=s,s!=-1&&this.ua.S(s,2,l)),this.bv(h)},x.prototype.At=function(h){this.ua.De(h)},x.prototype.addElement=function(h,l){var s=this.ua.T(h,1),a=this.Pw();return s!=-1?this.ug.S(s,1,a):this.ua.S(h,0,a),this.ua.S(h,1,a),this.ug.S(a,0,l),a},x.prototype.fn=function(h){this.ug.De(h)},x.prototype.jd=function(h,l,s){l!=-1?(this.ug.S(l,1,this.ug.T(s,1)),this.ua.T(h,1)==s&&this.ua.S(h,1,l)):(this.ua.S(h,0,this.ug.T(s,1)),this.ua.T(h,1)==s&&this.ua.S(h,1,-1)),this.fl(s)},x.prototype.Hy=function(h,l){var s=this.ua.T(h,1),a=this.ua.T(l,0);a!=-1&&(s!=-1?this.ug.S(s,1,a):this.ua.S(h,0,a),this.ua.S(h,1,this.ua.T(l,1))),this.Qv&&(h=this.ua.T(l,2),s=this.ua.T(l,3),h!=-1?this.ua.S(h,3,s):this.je=s,s!=-1&&this.ua.S(s,2,h)),this.bv(l)},x.prototype.ja=function(h){return this.ug.T(h,0)},x.prototype.Sj=function(h,l){this.ug.S(h,0,l)},x.prototype.lb=function(h){return this.ug.T(h,1)},x.prototype.rc=function(h){return this.ua.T(h,0)},x.prototype.Jn=function(h){return this.ja(this.rc(h))},x.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},x.prototype.B=function(){return this.ug.size==0},x.prototype.TF=function(){return this.ug.size},x.prototype.qz=function(h){return this.ua.T(h,3)},x}();d.au=j}(ee||(ee={})),function(d){d.ta=function(){function j(){}return j.Wd=function(x,h,l){return h=h.xr(),x=x!=null&&x.Xd!==void 0?x.Xd(0):0,l&&(h*=4,x*=1.1),Math.max(x,h)},j.Er=function(x){return 2*Math.sqrt(2)*x},j.rN=function(x){return Math.sqrt(2)*x},j.kj=function(x,h,l){var s=new d.l;return h.A(s),j.Wd(x,s,l)},j.wE=function(x,h,l){return h=h.Tg(1,0).xr(),x=x!=null?x.Xd(1):0,l&&(h*=4,x*=1.1),Math.max(x,h)},j.mv=function(x,h){var l=new d.l;return x.xc(l),x=new d.l,h.xc(x),l.Zb(x),l},j.YN=function(x){var h=new d.l;if(x.xc(h),h.B())return null;var l=new d.du(h,8),s=-1,a=new d.l,c=!1;do for(var p=0,y=x.da();p<y;p++){if(x.Rj(p,a),(s=l.Jz(p,a,s))==-1){if(c)throw d.i.fa("internal error");x.yp(h,!1),c=!0,l.reset(h,8);break}c=!1}while(c);return l},j.nE=function(x){var h=new d.l;x.xc(h);for(var l=new d.du(h,8),s=-1,a=x.Ga(),c=new d.l,p=!1;a.$a();)for(;a.Ha();){var y=a.ha(),g=a.wb();if(y.A(c),(s=l.Jz(g,c,s))==-1){if(p)throw d.i.Qa();x.yp(h,!1),p=!0,l.reset(h,8),a.Zi();break}}return l},j.jj=function(x,h){var l=new d.l;x.xc(l);for(var s=new d.du(l,8),a=-1,c=new d.l,p=x.Ga(),y=!1;p.$a();)for(;p.Ha();){var g=p.ha(),w=p.wb();if(g.A(c),c.isIntersecting(h)&&(a=s.Jz(w,c,a))==-1){if(y)throw d.i.fa("internal error.");x.yp(l,!1),y=!0,s.reset(l,8),p.Zi();break}}return s},j.oE=function(x,h){for(var l=new d.du(h,8),s=new d.h,a=!1,c=new d.l,p=0;p<x.I();p++)if(x.D(p,s),h.contains(s)&&(c.K(s),l.vj(p,c)==-1)){if(a)throw d.i.Qa();a=!0,p=new d.l,x.yp(p,!1),l.reset(p,8),p=-1}return l},j.lR=function(x,h,l){var s=new d.l,a=new d.l;x.xc(s),h.xc(a),s.W(l,l),a.W(l,l);var c=new d.l;c.K(s),c.Ea(a),x=x.Ga(),h=h.Ga();var p=new d.xC;p.aC(l);var y=!1;for(p.pK();x.$a();)for(;x.Ha();)x.ha().A(s),s.isIntersecting(c)&&(y=!0,(l=new d.l).K(s),p.JD(x.wb(),l));if(p.iF(),!y)return null;for(s=!1,p.oK();h.$a();)for(;h.Ha();)h.ha().A(a),a.isIntersecting(c)&&(s=!0,(l=new d.l).K(a),p.ED(h.wb(),l));return p.hF(),s?p:null},j.mR=function(x,h,l,s,a){var c=x.getType(),p=h.getType(),y=new d.l,g=new d.l;x.xc(y),h.xc(g),y.W(l,l),g.W(l,l);var w=new d.l;w.K(y),w.Ea(g);var S=new d.xC;S.aC(l);var k=!1;S.pK();var E=0;for(l=x.da();E<l;E++)s&&c==1736&&!x.Ev(E)||(x.Rj(E,y),y.isIntersecting(w)&&(k=!0,S.JD(E,y)));if(S.iF(),!k)return null;for(x=!1,S.oK(),s=0,l=h.da();s<l;s++)a&&p==1736&&!h.Ev(s)||(h.Rj(s,g),g.isIntersecting(w)&&(x=!0,S.ED(s,g)));return S.hF(),x?S:null},j.Ru=function(x,h,l){if(x!=h)for(var s=0;s<l;s++)x[s]==null?x[s]=d.h.al(h[s]):x[s].L(h[s])},j.Jy=function(x,h,l,s){var a=0;for(s+=0;a<s;l++,a++)x[a]==null&&(x[a]=[0,0]),x[a][0]=h[l].x,x[a][1]=h[l].y},j.Iy=function(x,h,l,s){var a=h,c=0;for(h=s+h;a<h;c++,a++)x[a]==null?x[a]=d.h.construct(l[c][0],l[c][1]):x[a].ma(l[c][0],l[c][1])},j.kP=function(x,h,l){if(x!=h)for(var s=0;s<l;s++)x[s]==null?x[s]=new d.Sa(h[s]):h[s].copyTo(x[s])},j.vE=function(x,h,l,s){var a=0;return x!=null&&(a=x.Xd(0),s&&!l||x==null||(a+=1.01*x.vz(0))),l&&(h*=4,a*=1.01),Math.max(a,h)},j.ty=function(x,h,l){return j.vE(x,h.xr(),l,!1)},j.gO=function(x,h){var l=new d.l;return h.A(l),j.ty(x,l,!0)},j.uy=function(x,h){return j.vE(x,h.xr(),!1,!0)},j.Hu=function(x,h){var l=new d.l;return h.A(l),j.uy(x,l)},j.AG=function(x,h,l,s){s*=s;var a=new d.h;if(a.uc(x,h),(x=new d.h).uc(l,h),h=a.Sk(),l=x.Sk(),h<=s&&l<=s)return!0;var c=d.lc.ox(a.wi(x));return(c<=s*h||c<=s*l)&&0<=a.Qh(x)},j.dK=function(x,h,l,s){for(var a=0;a<h;a++){var c=x[a].y,p=d.O.Rk(c,l,s);p!=c&&(x[a].y=p)}},j}()}(ee||(ee={})),function(d){var j,x,h=function(){function c(p){this.Ya=p}return c.prototype.compare=function(p,y,g){p=p.ja(g),g=this.Ya.nk(y);var w=this.Ya.nk(p);return g<w?-1:g==w?a.gq(y)&&a.Gv(p)?-1:a.gq(p)&&a.Gv(y)?1:0:1},c}(),l=function(){function c(p){this.Ya=p}return c.prototype.nr=function(p,y,g){this.Ya.GX(g,p,y)},c.prototype.$p=function(p){return this.Ya.nk(p)},c}();(x=j||(j={}))[x.initialize=0]="initialize",x[x.pIn=1]="pIn",x[x.pL=2]="pL",x[x.pR=3]="pR",x[x.pT=4]="pT",x[x.right=5]="right",x[x.left=6]="left",x[x.all=7]="all";var s=function(){function c(){this.Ya=null,this.Qi=new d.Nc,this.hi=new d.ia(0),this.sg=[0,0]}return c.prototype.Xi=function(p,y){this.Qi.oa=p.oa-y,this.Qi.va=p.va+y,this.hi.resize(0),this.he=0,this.sg[0]=0},c.prototype.EB=function(p,y,g){if(p>y)throw d.i.N();this.Qi.oa=p-g,this.Qi.va=y+g,this.hi.resize(0),this.he=0,this.sg[0]=0},c.prototype.Uo=function(p,y){this.Qi.oa=p-y,this.Qi.va=p+y,this.hi.resize(0),this.he=0,this.sg[0]=0},c.prototype.next=function(){if(!this.Ya.lq)throw d.i.Hb();if(0>this.he)return-1;for(var p=!0;p;)switch(this.sg[this.he]){case 1:p=this.FU();break;case 2:p=this.GU();break;case 3:p=this.HU();break;case 4:p=this.IU();break;case 5:p=this.GW();break;case 6:p=this.kT();break;case 7:p=this.tN();break;case 0:p=this.Gz();break;default:throw d.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},c.construct=function(p){var y=new c;return y.Ya=p,y.hi.Jb(20),y.he=-1,y},c.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},c.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var p=this.Ya.Np(this.Lc);return this.Qi.va<p?(p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=6),!0):p<this.Qi.oa?(p=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.Zr(p),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),!0)},c.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var p=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.Zr(p),this.sg[++this.he]=5),!0}return p=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),(p=this.Ya.lk(this.Lc))!=-1&&this.hi.add(p),!0},c.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var p=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=6),!0}return p=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),(p=this.Ya.qj(this.Lc))!=-1&&this.hi.add(p),!0},c.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var p=this.Ya.mk(this.Lc);return p!=-1&&(this.ei=this.Ya.kl(p),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},c.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&a.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},c.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&a.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},c.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&a.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},c.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},c.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},c.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},c}();d.EY=s;var a=function(){function c(p){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=p,this.lq=this.Sv=!1}return c.prototype.kr=function(){this.Nk(!0)},c.prototype.Br=function(p,y){if(!this.Sv)throw d.i.Hb();this.Fj.push(new d.Nc(p,y))},c.prototype.Fp=function(){if(!this.Sv)throw d.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},c.prototype.vj=function(p){if(!this.Sf||!this.lq)throw d.i.N("invalid call");if(this.kf==-1){var y=this.Fj.length;if(this.iA){var g=new d.ia(0);g.Jb(2*y),this.bJ(g),this.$h.Jb(2*y),this.$h.resize(0),this.aJ(g),this.Km.resize(y,-1),this.Km.Wj(-1,0,y),this.iA=!1}else this.Km.Wj(-1,0,y);this.kf=this.Tu()}y=this.pG(p<<1,this.kf),g=this.$f.addElement(1+(p<<1),this.xz(y)),this.VJ(y,g),this.Km.set(p,y),this.Zv++},c.prototype.remove=function(p){if(!this.Sf||!this.lq)throw d.i.fa("invalid call");var y=this.Km.get(p);if(y==-1)throw d.i.N("the interval does not exist in the interval tree");this.Km.set(p,-1),this.Zv--;var g=this.xz(y),w=this.$f.ZR(g);this.$f.vd(this.wR(y),g),this.$f.vd(this.TR(y),g),(p=this.$f.size(g))==0&&(this.$f.MP(g),this.ZJ(w,-1)),this.Ej.jd(y),g=this.UF(w);var S=this.qj(w),k=this.lk(w);for(y=0;!(0<p||w==this.kf||S!=-1&&k!=-1);)w==this.qj(g)?S!=-1?(this.Ok(g,S),this.Uj(S,g),this.Ok(w,-1)):k!=-1?(this.Ok(g,k),this.Uj(k,g),this.Qk(w,-1)):this.Ok(g,-1):S!=-1?(this.Qk(g,S),this.Uj(S,g),this.Ok(w,-1)):k!=-1?(this.Qk(g,k),this.Uj(k,g),this.Qk(w,-1)):this.Qk(g,-1),this.Uj(w,-1),y++,w=g,p=(g=this.mk(w))!=-1?this.$f.size(g):0,S=this.qj(w),k=this.lk(w),g=this.UF(w)},c.prototype.reset=function(){if(!this.Sf||!this.lq)throw d.i.N("invalid call");this.Nk(!1)},c.prototype.size=function(){return this.Zv},c.prototype.getIterator=function(){return s.construct(this)},c.prototype.bJ=function(p){for(var y=this.Fj.length,g=0;g<2*y;g++)p.add(g);this.HX(p,2*y)},c.prototype.aJ=function(p){for(var y=NaN,g=0;g<p.size;g++){var w=p.get(g),S=this.nk(w);S!=y&&(this.$h.add(w),y=S)}},c.prototype.vS=function(){var p=this.Fj.length,y=new d.ia(0);y.Jb(2*p),this.bJ(y),this.$h.Jb(2*p),this.$h.resize(0),this.aJ(y),this.Ej.De(p),this.Ti.fn(2*p);var g=d.Yc.Oh(p);for(g.Wj(-1,0,p),this.kf=this.Tu(),p=0;p<y.size;p++){var w=y.get(p),S=g.get(w>>1);S!=-1?this.VJ(S,this.Ti.addElement(this.xz(S),w)):(S=this.pG(w,this.kf),g.set(w>>1,S))}},c.prototype.pG=function(p,y){var g=y,w=y,S=-1,k=0,E=this.$h.size-1,P=0,R=p>>1,D=NaN,U=NaN,Y=!0,K=this.DR(R);for(R=this.AR(R);Y;){k<E?(P=k+d.O.truncate((E-k)/2),this.gz(g)==-1&&this.FJ(g,this.$h.get(P),this.$h.get(P+1))):this.gz(g)==-1&&this.FJ(g,this.$h.get(k),this.$h.get(k));var V=this.Np(g);if(R<V)y!=-1&&(y==g?(w=g,D=V,U=(y=this.qj(g))!=-1?this.Np(y):NaN):U>V&&(V<D?this.Ok(w,g):this.Qk(w,g),this.Qk(g,y),this.Sf&&(this.Uj(g,w),this.Uj(y,g)),w=g,D=V,y=-1,U=NaN)),(E=this.xR(g))==-1&&(E=this.Tu(),this.dX(g,E)),g=E,E=P;else if(K>V)y!=-1&&(y==g?(w=g,D=V,U=(y=this.lk(g))!=-1?this.Np(y):NaN):U<V&&(V<D?this.Ok(w,g):this.Qk(w,g),this.Ok(g,y),this.Sf&&(this.Uj(g,w),this.Uj(y,g)),w=g,D=V,y=-1,U=NaN)),(k=this.UR(g))==-1&&(k=this.Tu(),this.oX(g,k)),g=k,k=P+1;else{(Y=this.mk(g))==-1&&(Y=this.zP(g),this.ZJ(g,Y));var Q=this.fN(Y,p);S=this.xP(),this.qX(S,Y),this.cX(S,Q),g!=y&&(V<D?this.Ok(w,g):this.Qk(w,g),this.Sf&&this.Uj(g,w),y!=-1&&(U<V?this.Ok(g,y):this.Qk(g,y),this.Sf&&this.Uj(y,g))),Y=!1}}return S},c.prototype.Tu=function(){return this.me.Ce()},c.prototype.zP=function(p){return this.Sf?this.$f.Pr(p):this.Ti.Ph(p)},c.prototype.xP=function(){return this.Ej.Ce()},c.prototype.Nk=function(p){p?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=d.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=d.Yc.Oh(0),this.$f=new d.Yj,this.$f.Vo(new h(this))):this.$f.clear():this.Ti==null?this.Ti=new d.jp:this.Ti.clear(),this.me==null?(this.Ej=new d.$c(3),this.me=new d.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},c.prototype.FJ=function(p,y,g){this.XW(p,y),this.YW(p,g)},c.prototype.Np=function(p){var y=this.gz(p);return y==-1?NaN:(y=this.nk(y))==(p=this.nk(this.gR(p)))?y:.5*(y+p)},c.prototype.XW=function(p,y){this.me.S(p,0,y)},c.prototype.YW=function(p,y){this.me.S(p,1,y)},c.prototype.dX=function(p,y){this.me.S(p,3,y)},c.prototype.oX=function(p,y){this.me.S(p,4,y)},c.prototype.ZJ=function(p,y){this.me.S(p,2,y)},c.prototype.Ok=function(p,y){this.me.S(p,5,y)},c.prototype.Qk=function(p,y){this.me.S(p,6,y)},c.prototype.Uj=function(p,y){this.me.S(p,7,y)},c.prototype.qX=function(p,y){this.Ej.S(p,0,y)},c.prototype.fN=function(p,y){return this.Sf?this.$f.addElement(y,p):this.Ti.addElement(p,y)},c.prototype.cX=function(p,y){this.Ej.S(p,1,y)},c.prototype.VJ=function(p,y){this.Ej.S(p,2,y)},c.prototype.kl=function(p){return this.Sf?this.$f.rc(p):this.Ti.rc(p)},c.prototype.Zr=function(p){return this.Sf?this.$f.Fc(p):this.Ti.Fc(p)},c.gq=function(p){return!(1&p)},c.Gv=function(p){return!(1&~p)},c.prototype.gz=function(p){return this.me.T(p,0)},c.prototype.gR=function(p){return this.me.T(p,1)},c.prototype.mk=function(p){return this.me.T(p,2)},c.prototype.xR=function(p){return this.me.T(p,3)},c.prototype.UR=function(p){return this.me.T(p,4)},c.prototype.qj=function(p){return this.me.T(p,5)},c.prototype.lk=function(p){return this.me.T(p,6)},c.prototype.UF=function(p){return this.me.T(p,7)},c.prototype.xz=function(p){return this.Ej.T(p,0)},c.prototype.wR=function(p){return this.Ej.T(p,1)},c.prototype.TR=function(p){return this.Ej.T(p,2)},c.prototype.DR=function(p){return this.Fj[p].oa},c.prototype.AR=function(p){return this.Fj[p].va},c.prototype.HX=function(p,y){this.Am==null&&(this.Am=new d.Xt);var g=new l(this);this.Am.sort(p,0,y,g)},c.prototype.GX=function(p,y,g){var w=this;p.Vd(y,g,function(S,k){var E=w.nk(S),P=w.nk(k);return E<P||E==P&&c.gq(S)&&c.Gv(k)?-1:1})},c.prototype.nk=function(p){var y=this.Fj[p>>1];return c.gq(p)?y.oa:y.va},c}();d.sr=a}(ee||(ee={})),function(d){var j=function(){function x(h){if(h==null)throw d.i.fa("Invalid arguement");this.hf=h;var l=h.nR();l.hS()?h.ef.IG()?this.lo=d.si.PannableFold:this.lo=d.si.Clip:this.lo=d.si.DontClip,l.iS()?h.Yf.IG()?this.Qm=d.si.PannableFold:this.Qm=d.si.Clip:this.Qm=d.si.DontClip,this.Bm=l.Jr,this.mH=l.Vu,h=this.hf.sH,this.aH=h.hs(2147483648),this.Uv=h.hs(1073741824)}return x.zh=function(h,l,s){return l.ww.zh(h,s)},x.Rt=function(h,l,s,a){return h.ww.Rt(l,s,a)},x.Qt=function(h,l,s,a){if(s=0>s?l.length:s,(h=h.ww.Rt(l,s,a))==s)return h;for(var c=l=0;c<s;c++){var p=a[c];p.isNaN()||(l<c&&a[l].L(p),l++)}for(;l<s;l++)a[l].Rc();return h},x.transform=function(h,l,s,a,c){if(h.isIdentity())return d.ta.kP(a,l,s),s;for(var p=[],y=0,g=0;g<s;){for(var w=Math.min(p.length,s-g),S=g,k=0;S<w;S++,k++)p[k]==null?p[k]=l[S].D():l[S].D(p[k]);var E=c?x.Qt(h,p,w,p):x.Rt(h,p,w,p);for(k=S=0;S<E;S++,k++)a[g]==null&&(a[g]=new d.Sa(l[g])),a[g].Cb(p[k]);g+=w,y+=E}return y},x.prototype.Rt=function(h,l,s){if(this.hf.isIdentity())return h!=s&&d.ta.Ru(s,h,l),l;var a=this.hf.ef,c=this.hf.Yf,p=a.Sb(),y=c.Sb();if(p==0&&p===y){var g=a.Qp();return c=g/(c=c.Qp()),(g=new d.Dd).setScale(c,c),g.eY(h,l,s),l}if(g=d.O.Fu(Math.min(l,64)),p==3){var w=a.Ji;p=(a=w.fk()).Sb(),s!=h&&d.ta.Ru(s,h,l),d.zb.$k(w,s,l,!0),w.Qt(d.bm.forward,s,l),d.zb.Zk(w,s,l,!0)}if(p==3||y===3)throw d.i.fa("image: transform_in_place_");if(p==2)this.lo==d.si.Clip?(s!=h&&d.ta.Ru(s,h,l),h=a.ml(),d.zb.OS(h,a,s,l)):(s!=h&&d.ta.Ru(s,h,l),a.Wc()&&(p=a.Xd(0),w=a.Oe(),d.zb.EX(s,l,w,p),d.zb.qF(s,l,a,0))),d.zb.IL(a,s,l,g);else for(p=a.Xd(0),w=a.Oe(),a=0;a<l;a++)d.zb.FX(h[a],w,p,s[a]);for(d.zb.GL(this.hf,s,l,g),h=0,(y=y==2)?h=c.zi():isNaN(this.Bm)||(h=this.Bm),y&&this.Qm!=d.si.Clip||d.zb.qF(s,l,c.sc(),h),y&&(d.zb.yG(s,l,c,this.Qm),d.zb.HL(c,s,l,g)),h=l,a=0;a<l;++a)s[a].isNaN()&&h--;return h},x.prototype.zh=function(h,l){if(this.hf.isIdentity()||h.B())return h;if(h.getType()==33)return this.XI(h);var s=this.hf.ef,a=this.hf.Yf,c=s.Sb(),p=a.Sb();if(c==0&&c==p)return l=s.Qp(),l/=a=a.Qp(),(a=new d.Dd).setScale(l,l),(h=d.aa.jg(h)).Oc(a),h;switch(h.getType()){case 1607:case 1736:h=this.VI(h,l);break;case 550:h=this.fW(h,l);break;case 197:h=this.eW(h,l);break;default:throw d.i.fa("")}return h},x.prototype.XI=function(h){var l=h.D(),s=[];return s[0]=l,this.Rt(s,1,s),(h=new d.Sa(h)).Cb(s[0]),h},x.prototype.VI=function(h,l){if(h.tm())throw d.i.fa("curves not supported");var s=h.getType();if(s==1736)return this.gW(h,l);if(s==1607)return this.hW(h,l);throw d.i.fa("projectMultiPath")},x.prototype.gW=function(h,l){var s=this.hf.ef,a=this.hf.Yf,c=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64)),g=d.Da.jg(h);c==3&&(c=(s=(h=s.Ji).fk()).Sb(),g=h.$k(g,!0),this.wp(h,d.bm.forward,g),g=h.Zk(g,!0)),h=null,p==3&&(p=(a=(h=a.Ji).fk()).Sb());var w=c==2,S=p==2,k=S?a.sc():a,E=!S&&!this.Uv;p=!1;var P=g;if(w){if((P=d.zb.UI(P,s,this.lo,l)).B())return P}else{if(g=new d.l,P.xc(g),c=s.Oe(),g.G<c.G||g.H>c.H){var R=d.l.construct(g.v-1,c.G,g.C+1,c.H);if((P=d.ri.Nu(P,R,s,NaN,0,l)).B())return P}g.R()>2*c.R()&&(P=d.zb.Hp(P,-2*c.R(),2*c.R(),s,!0,0,!0,l))}g=this.mH,(c=!isNaN(g))&&(P=d.Xl.local().V(P,g,l)),R=S?a.kk():null;var D=NaN;w&&(D=s.zi());var U=a.Wr()!=null;if(this.aH)w&&(d.zb.ur(s,D,P,y),c&&(w=s.hh(),g*=(D=s.sc().hh())/w)),d.zb.tr(this.hf,P,E,y),c&&(w=s.sc().hh(),g*=(D=a.sc().hh())/w),s=P;else{var Y=new d.Ta(P.description);Y.DD(P),w&&(d.zb.ur(s,D,Y,y),c&&(w=s.hh(),g*=(D=s.sc().hh())/w)),d.zb.tr(this.hf,Y,E,y),c&&(w=s.sc().pm(),g*=(D=a.sc().pm())/w),E=NaN,S?(R=a.kk(),E=a.zi()):isNaN(this.Bm)||(E=this.Bm),w=x.tv(s)|x.tv(a),D=10*k.Xd(0),this.Uv&&(w=3,D=0),s=d.zb.UQ(P,s,Y,k,E,l,w,D)}return U&&(s=d.zb.XD(s,a,l)),S&&(p||(S=k.Oe().R(),s.Tg(0,0).R()>=S-k.Xd(0)&&(k=R.getNorthPoleLocation(),S=R.getSouthPoleLocation(),P=R.getNorthPoleGeometry(),R=R.getSouthPoleGeometry(),E=0,P==d.Cg.PE_POLE_POINT&&k!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(E=1),R==d.Cg.PE_POLE_POINT&&S!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(E|=2),E!==0&&(p=!0))),s=d.zb.Mz(s,a,this.Qm,l),c&&(s=d.Xl.local().V(s,g,l)),d.zb.Lx(a,s,y)),s.B()||(p&&(s=d.Yl.local().V(s,a,!1,l)),h!=null&&(s=h.Zk(s,!1),this.wp(h,d.bm.reverse,s),s=h.$k(s,!1))),s},x.tv=function(h){if(h.Sb()!=2)return 0;var l=0,s=h.kk();h=s.getNorthPoleLocation();var a=s.getSouthPoleLocation(),c=s.getNorthPoleGeometry();return s=s.getSouthPoleGeometry(),c==d.Cg.PE_POLE_POINT&&h!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(l=1),s==d.Cg.PE_POLE_POINT&&a!=d.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(l|=2),l},x.prototype.hW=function(h,l){var s=this.hf.ef,a=this.hf.Yf,c=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64)),g=d.Ta.jg(h);c==3&&(c=(s=(h=s.Ji).fk()).Sb(),g=h.$k(g,!0),this.wp(h,d.bm.forward,g),g=h.Zk(g,!0)),h=null,p==3&&(p=(a=(h=a.Ji).fk()).Sb());var w=c==2;c=(p=p==2)?a.sc():a;var S=!p&&!this.Uv;if(w){if((g=d.zb.UI(g,s,this.lo,l)).B())return g}else{var k=new d.l;g.xc(k);var E=s.Oe();if((k.G<E.G||k.H>E.H)&&(k=d.l.construct(k.v-1,E.G,k.C+1,E.H),(g=d.ri.Nu(g,k,s,NaN,0,l)).B()))return g}var P=NaN;w&&(P=s.zi()),k=a.Wr()!=null,E=this.mH;var R=!isNaN(E);if(R&&(g=d.Xl.local().V(g,E,l)),this.aH)w&&d.zb.ur(s,P,g,y),R&&(w=s.hh(),E*=(P=s.sc().hh())/w),d.zb.tr(this.hf,g,S,y),R&&(w=s.sc().hh(),E*=(P=a.sc().hh())/w),s=g;else{var D=new d.Ta(g.description);D.DD(g),w&&(d.zb.ur(s,P,D,y),R&&(w=s.hh(),E*=(P=s.sc().hh())/w)),d.zb.tr(this.hf,D,S,y),R&&(w=s.sc().hh(),E*=(P=a.sc().hh())/w),S=NaN,p?S=a.zi():isNaN(this.Bm)||(S=this.Bm),w=x.tv(s)|x.tv(a),P=10*c.Xd(0),this.Uv&&(w=3,P=0),s=d.zb.VQ(g,s,D,c,S,l,w,P)}return k&&(s=d.zb.XD(s,a,l)),p&&(s=d.zb.Mz(s,a,this.Qm,l),R&&(s=d.Xl.local().V(s,E,l)),d.zb.Lx(a,s,y)),s.B()||h!=null&&(s=h.Zk(s,!1),this.wp(h,d.bm.reverse,s),s=h.$k(s,!1)),s},x.prototype.eW=function(h,l){var s=(h.ca()+h.R())/400;return s!=0?(s=d.Xl.local().V(h,s,l),s=this.VI(s,l),l=h.Ia(),s.bn(l)):(l=new d.Sa(h.Ip()),s=this.XI(l),l=h.Ia(),s.B()?l.Oa():(h.copyTo(l),h=s.D(),l.K(h.x,h.y,h.x,h.y))),l},x.prototype.fW=function(h,l){h=d.aa.jg(h);var s=this.hf.ef,a=this.hf.Yf,c=s.Sb(),p=a.Sb(),y=d.O.Fu(Math.min(h.I(),64));if(c==3){var g=s.Ji;c=(s=g.fk()).Sb(),h=g.Zk(h,!0),this.wp(g,d.bm.forward,h),h=g.$k(h,!0)}if(c==2){if(this.lo==d.si.Clip?h=d.Xj.local().V(h,s.ml(),s,l):s.Wc()&&(c=new d.l,h.xc(c),s.Oe().contains(c)||(this.lo==d.si.PannableFold&&(h=d.zb.lj(h,s)),d.zb.Jt(h,s.Oe(),s.Xd(0),!0),h=d.zb.Fn(h,s,0,!0,0,l))),h.B())return h;d.zb.ur(s,0,h,y)}else d.zb.Jt(h,s.Oe(),s.Xd(0),!0);return d.zb.tr(this.hf,h,!1,y),s=0,c=!1,g=null,p==3&&(c=!0,p=(a=(g=a.Ji).fk()).Sb()),(p=p==2)?s=a.zi():isNaN(this.Bm)||(s=this.Bm),p&&this.Qm!=d.si.Clip||(h=d.zb.Fn(h,a.sc(),s,!1,0,l)),p&&(h=d.zb.Mz(h,a,this.Qm,l),d.zb.Lx(a,h,y),h.B())||c&&(h=g.Zk(h,!0),this.wp(g,d.bm.reverse,h),h=g.$k(h,!0)),h},x.prototype.wp=function(h,l,s){var a=s.I();if(a!=0){for(var c=s.ub(0),p=d.O.lg(200,0),y=[],g=0;g<a;){var w=Math.min(100,a-g);c.Vw(2*g,2*w,p,2,!0);for(var S=0;S<w;++S)y[S]=d.h.construct(p[2*g],p[2*g+1]);h.Qt(l,y,w),g+=w}s.Pc(1993)}},x.Uy=function(h,l,s){if(h==null||l==null||!l.Wc())throw d.i.fa("Invalid Arguement");if(h.B())return h;var a=h.getType();return a==197?(a=new d.Da(h.description)).ad(h,!1):d.aa.yd(a)?(a=new d.Ta(h.description)).oc(h,!0):a=h,(a=d.zb.lj(a,l)).B()?a:d.zb.Fn(a,l,0,a!=h,0,s)},x.nj=function(h,l,s,a){if(h==null||l==null||!l.Wc())throw d.i.fa("Invalid Arguement");if(h.B())return h;var c=h.getType();if(d.aa.Hc(c)){h=d.zb.lj(h,l),c=new d.l,h.A(c);for(var p=d.ta.ty(l,c,!1),y=l.gh(),g=Math.floor((c.v-y.v)/y.R())*y.R()+y.v;g<c.C;)g>c.v+p&&g<c.C-p&&(h=d.zb.uS(h,l,s,g)),g+=y.R()}else{if(c==197)return(c=new d.Da(h.description)).ad(h,!1),x.nj(c,l,s,a);if(d.aa.yd(c))return(c=new d.Ta(h.description)).oc(h,!0),x.nj(c,l,s,a)}return x.Uy(h,l,a)},x}();d.bu=j}(ee||(ee={})),function(d){var j=function(x){function h(l,s,a,c){var p=x.call(this)||this;return l===void 0?p.description=d.ee.og():a===void 0?p.description=l:(p.description=d.ee.og(),p.ZB(l,s),p.Ql(a,c)),p}return $e(h,x),h.prototype.getType=function(){return 322},h.prototype.Qb=function(){var l=this.sa-this.pa,s=this.na-this.la;return Math.sqrt(l*l+s*s)},h.prototype.Bi=function(l){var s=this.sa-this.pa,a=this.na-this.la;return Math.sqrt(s*s+a*a)<=l},h.prototype.Pn=function(){return!1},h.prototype.kg=function(){var l=new d.h;return l.uc(this.wc(),this.ac()),l},h.cP=function(l,s){return new h(l.x,l.y,s.x,s.y)},h.prototype.bn=function(l){l.Oa(),l.Nf(this.description);var s=new d.l;this.A(s),l.Xo(s),s=1;for(var a=this.description.Aa;s<a;s++)for(var c=this.description.kd(s),p=d.ra.Va(c);s<p;s++){var y=this.Tg(c,0);l.setInterval(c,0,y)}},h.prototype.A=function(l){l.K(this.sa,this.na,this.pa,this.la),l.normalize()},h.prototype.Qo=function(l){l.Oa(),l.Zb(this.sa,this.na,this.Od(0,1,0)),l.Zb(this.pa,this.la,this.Od(1,1,0))},h.prototype.Oc=function(l){if(l instanceof d.Dd){this.vc();var s=new d.h;s.x=this.sa,s.y=this.na,l.Eh(s,s),this.sa=s.x,this.na=s.y,s.x=this.pa,s.y=this.la,l.Eh(s,s),this.pa=s.x,this.la=s.y}else this.vc(),(s=new d.Nd).x=this.sa,s.y=this.na,s.z=this.Od(0,1,0),s=l.fp(s),this.sa=s.x,this.na=s.y,this.tn(0,1,0,s.z),s.x=this.pa,s.y=this.la,s.z=this.Od(1,1,0),s=l.fp(s),this.pa=s.x,this.la=s.y,this.tn(1,1,0,s.z)},h.prototype.Ia=function(){return new h(this.description)},h.prototype.Tx=function(l,s){return(this.pa-l-(this.sa-l))*(this.la-s+(this.na-s))*.5},h.prototype.vx=function(l){return l*this.Qb()},h.prototype.NG=function(l){return l/this.Qb()},h.prototype.DF=function(l){return d.lc.hq(this.sa,this.pa,l)},h.prototype.fR=function(l){return d.lc.hq(this.na,this.la,l)},h.prototype.dl=function(l,s){var a=new d.ig;return this.ah(l,s,a),a.get()},h.prototype.ah=function(l,s,a){if(a==null)throw d.i.N();a.Or(),(a=a.get()).Nf(this.description);var c=new d.h;this.hc(l,c),a.ZB(c.x,c.y),this.hc(s,c),a.Ql(c.x,c.y),c=1;for(var p=this.description.Aa;c<p;c++)for(var y=this.description.Ed(c),g=d.ra.Va(y),w=0;w<g;w++){var S=this.Uc(l,y,w);a.YB(y,w,S),S=this.Uc(s,y,w),a.OB(y,w,S)}},h.prototype.Uc=function(l,s,a){if(s==0)return a==0?this.hc(l).x:this.hc(l).y;switch(d.ra.lz(s)){case 0:return .5>l?this.wv(s,a):this.gv(s,a);case 1:var c=this.wv(s,a);return s=this.gv(s,a),d.lc.hq(c,s,l);case 2:throw d.i.fa("not implemented")}throw d.i.Qa()},h.prototype.fe=function(l,s){var a=this.pa-this.sa,c=this.la-this.na,p=a*a+c*c;return p==0?.5:(l=((l.x-this.sa)*a+(l.y-this.na)*c)/p,s||(0>l?l=0:1<l&&(l=1)),l)},h.prototype.cq=function(l,s,a,c){if(l){if((l=this.la-this.na)==0)return s==this.la?-1:0;if(0>(s=(s-this.na)/l)||1<s)return 0;a!=null&&(a[0]=this.DF(s))}else{if((l=this.pa-this.sa)==0)return s==this.pa?-1:0;if(0>(s=(s-this.sa)/l)||1<s)return 0;a!=null&&(a[0]=this.fR(s))}return c!=null&&(c[0]=s),1},h.prototype.Pe=function(l,s){var a=this.la-this.na;return a==0?l==this.la?s:NaN:(l=(l-this.na)/a,s=this.DF(l),l==1&&(s=this.pa),s)},h.prototype.ru=function(l,s,a){return 0<=this.rp(l.x,l.y,s,a)},h.prototype.vi=function(l,s,a){return 0<=this.rp(l,s,a,!0)},h.prototype.qs=function(l,s){return this.ru(l,s,!1)},h.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var l=this.sa;this.sa=this.pa,this.pa=l,l=this.na,this.na=this.la,this.la=l,l=0;for(var s=this.description.Oq-2;l<s;l++){var a=this.ka[l];this.ka[l]=this.ka[l+s],this.ka[l+s]=a}}},h.prototype.uu=function(l,s){(s=d.h.construct(l,s)).sub(this.ac());var a=new d.h;return a.uc(this.wc(),this.ac()),(l=a.wi(s))>(s=8881784197001252e-31*(Math.abs(a.x*s.y)+Math.abs(a.y*s.x)))?-1:l<-s?1:0},h.prototype.rp=function(l,s,a,c){var p=this.sa,y=this.na,g=l-p,w=s-y;if((g=Math.sqrt(g*g+w*w))<=Math.max(a,6661338147750939e-31*g))return c&&g==0?NaN:0;if(g=l-this.pa,w=s-this.la,(g=Math.sqrt(g*g+w*w))<=Math.max(a,6661338147750939e-31*g))return c&&g==0?NaN:1;if(g=this.pa-this.sa,w=this.la-this.na,0<(c=Math.sqrt(g*g+w*w))){var S=1/c,k=l-p,E=s-y,P=k*(g*=S)+E*(w*=S),R=17763568394002505e-31*(Math.abs(k*g)+Math.abs(E*w)),D=g;if(g=-w,w=D,P<-(R=Math.max(a,R))||P>c+R)return NaN;if(Math.abs(k*g+E*w)<=Math.max(a,17763568394002505e-31*(Math.abs(k*g)+Math.abs(E*w)))&&(.5>=(g=d.O.Rk(P*S,0,1))?(w=this.sa+(this.pa-this.sa)*g,c=this.na+(this.la-this.na)*g):(w=this.pa-(this.pa-this.sa)*(1-g),c=this.la-(this.la-this.na)*(1-g)),d.h.Oy(w,c,l,s)<=a)){if(.5>g){if(d.h.Oy(w,c,p,y)<=a)return 0}else if(d.h.Oy(w,c,this.pa,this.la)<=a)return 1;return g}}return NaN},h.prototype.Nb=function(l){return l!=null&&(l==this||l.constructor===this.constructor&&this.FM(l))},h.prototype.rD=function(l,s,a){var c=a?this.sa:this.pa;a=a?this.na:this.la;var p=new d.h;return p.x=l.pa-c,p.y=l.la-a,!(s.Qh(p)>6661338147750939e-31*s.fD(p))||(p.x=l.sa-c,p.y=l.na-a,s.Qh(p)<=6661338147750939e-31*s.fD(p))},h.prototype.qD=function(l){var s=new d.h;return s.x=this.pa-this.sa,s.y=this.la-this.na,!!this.rD(l,s,!1)&&(s.Sq(),!!this.rD(l,s,!0))},h.NM=function(l,s){var a=l.uu(s.sa,s.na),c=l.uu(s.pa,s.la);return!(0>a&&0>c||0<a&&0<c)&&(a=s.uu(l.sa,l.na),c=s.uu(l.pa,l.la),!(0>a&&0>c||0<a&&0<c)&&((a=l.Qb())>(c=s.Qb())?l.qD(s):s.qD(l)))},h.LM=function(l,s,a){var c=d.h.construct(NaN,NaN),p=l.pa-l.sa,y=l.la-l.na,g=s.pa-s.sa,w=s.la-s.na,S=g*y-p*w;if(S==0)return c;var k=8881784197001252e-31*(Math.abs(g*y)+Math.abs(p*w)),E=s.sa-l.sa,P=s.na-l.na,R=g*P-E*w,D=R/S,U=Math.abs(S);return D<-(g=(8881784197001252e-31*(Math.abs(g*P)+Math.abs(E*w))*U+k*Math.abs(R))/(S*S)+2220446049250313e-31*Math.abs(D))||D>1+g||(g=(w=p*P-E*y)/S)<-(p=(8881784197001252e-31*(Math.abs(p*P)+Math.abs(E*y))*U+k*Math.abs(w))/(S*S)+2220446049250313e-31*Math.abs(g))||g>1+p||(D=d.O.Rk(D,0,1),p=d.O.Rk(g,0,1),y=l.hc(D),S=s.hc(p),(k=new d.h).uc(y,S),k.length()>a&&(k.add(y,S),k.scale(.5),D=l.fe(k,!1),p=s.fe(k,!1),l=l.hc(D),s=s.hc(p),l.sub(s),l.length()>a)||c.ma(D,p)),c},h.OM=function(l,s,a,c){var p=0;if((l.sa==s.sa&&l.na==s.na||l.sa==s.pa&&l.na==s.la)&&(p++,!c))return 1;if(l.pa==s.sa&&l.la==s.na||l.pa==s.pa&&l.la==s.la){if(++p==2)return 2;if(!c)return 1}return s.vi(l.sa,l.na,a)||s.vi(l.pa,l.la,a)||l.vi(s.sa,s.na,a)||l.vi(s.pa,s.la,a)?1:c&&p!=0||h.NM(l,s)==0?0:1},h.Zx=function(l,s,a,c,p,y){var g=0,w=l.rp(s.sa,s.na,y,!1),S=l.rp(s.pa,s.la,y,!1),k=s.rp(l.sa,l.na,y,!1),E=s.rp(l.pa,l.la,y,!1);return isNaN(w)||(c!=null&&(c[g]=w),p!=null&&(p[g]=0),a!=null&&(a[g]=d.h.construct(s.sa,s.na)),g++),isNaN(S)||(c!=null&&(c[g]=S),p!=null&&(p[g]=1),a!=null&&(a[g]=d.h.construct(s.pa,s.la)),g++),g==2||isNaN(k)||w==0&&k==0||S==0&&k==1||(c!=null&&(c[g]=0),p!=null&&(p[g]=k),a!=null&&(a[g]=d.h.construct(l.sa,l.na)),g++),g==2||isNaN(E)||w==1&&E==0||S==1&&E==1||(c!=null&&(c[g]=1),p!=null&&(p[g]=E),a!=null&&(a[g]=d.h.construct(s.pa,s.la)),g++),0<g?(g==2&&c!=null&&c[0]>c[1]&&(l=c[0],c[0]=c[1],c[1]=l,p!=null&&(c=p[0],p[0]=p[1],p[1]=c),a!=null&&(p=d.h.construct(a[0].x,a[0].y),a[0]=a[1],a[1]=p)),g):(g=h.LM(l,s,y),isNaN(g.x)?0:(a!=null&&(a[0]=l.hc(g.x)),c!=null&&(c[0]=g.x),p!=null&&(p[0]=g.y),1))},h.prototype.eG=function(){return 0},h.prototype.op=function(){},h.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},h}(d.SC);d.yb=j}(ee||(ee={})),function(d){var j=function(){function x(){this.Jm=[],this.ya=-1}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var h=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),h}return this.Jm=null},x.prototype.ZX=function(h){this.Jm.push(h)},x.prototype.qe=function(){},x}();d.gL=j}(ee||(ee={})),function(d){var j;(j=d.SL||(d.SL={}))[j.enumFillRuleOddEven=0]="enumFillRuleOddEven",j[j.enumFillRuleWinding=1]="enumFillRuleWinding";var x=function(h){function l(s,a){var c=h.call(this)||this;if(c.xf=!1,c.Eq=null,c.sq=0,c.rq=0,c.Aj=null,c.Mg=!1,c.nb=null,c.mb=null,c.Ve=null,c.Lj=null,c.Sd=null,c.tq=0,c.gb=0,c.xq=0,a===void 0)c.xf=s,c.Mg=!1,c.tq=0,c.sq=0,c.rq=0,c.wa=0,c.description=d.ee.og();else{if(a==null)throw d.i.N();c.xf=s,c.Mg=!1,c.tq=0,c.sq=0,c.rq=0,c.wa=0,c.description=a}return c.Aj=null,c.gb=0,c}return $e(l,h),l.prototype.tm=function(){return 0<this.tq},l.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new d.Sa(this.description):this.Eq.Nf(this.description)},l.prototype.sx=function(s,a){var c=new d.h;c.x=s,c.y=a,this.Lt(c)},l.prototype.Lt=function(s){this.Yx(),this.Eq.Cb(s),this.Mg=!0},l.prototype.nf=function(s){if(s.B())throw d.i.N();this.Jl(s.description),this.Yx(),s.copyTo(this.Eq),this.Mg=!0},l.prototype.Sx=function(){var s=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=d.Yc.Oh(2),this.nb.write(0,0),this.mb=d.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),s++);var a=this.wa;this.nb.write(this.nb.size-1,this.wa+s),this.dm(a+s),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(a,this.Eq),this.Mg=!1)},l.prototype.yj=function(s,a){this.Sx(),this.Cb(this.wa-1,s,a)},l.prototype.Ci=function(s){this.Sx(),this.Cb(this.wa-1,s)},l.prototype.lineTo=function(s){this.Sx(),this.Ht(this.wa-1,s)},l.prototype.CU=function(s){if(this.vc(),this.xf)throw d.i.Qa();var a=this.da();if(s>a)throw d.i.Qa();if(this.dc(s)){if(this.mb==null)throw d.i.Qa();var c=this.wa,p=this.Ba(s),y=this.Vc(s);this.dm(this.wa+1),this.mc();for(var g=0,w=this.description.Aa;g<w;g++)if(this.za[g]!=null){var S=d.ra.Va(this.description.Ed(g));this.za[g].Mn(S*y,this.za[g],S*p,S,!0,1,S*c)}for(;a>s;a--)c=this.nb.read(a),this.nb.write(a,c+1);this.mb.KE(s,1)}},l.prototype.Ap=function(){if(this.wx(),s===void 0){this.Mg=!1;var s=this.da()-1}var a=this.mb.read(s);this.mb.write(s,1|a),this.Ve!=null&&(s=this.Vc(s)-1,this.Ve.write(s,1),this.Lj.write(s,-1))},l.prototype.dc=function(s){return!!(1&this.mb.read(s))},l.prototype.Nn=function(s){if(this.dc(s))return!0;var a=this.Ba(s);return!(a>(s=this.Vc(s)-1))&&(a=this.Na(a),s=this.Na(s),a.qb(s))},l.prototype.yv=function(s){return!!(2&this.mb.read(s))},l.prototype.oc=function(s,a){if(this.Jl(s.description),s.getType()!=322)throw d.i.Qa();var c=new d.Sa;(a||this.B())&&(s.To(c),this.nf(c)),s.Po(c),this.lineTo(c)},l.prototype.tp=function(s){var a=this.wa==0;this.sx(s.v,s.G),this.yj(s.v,s.H),this.yj(s.C,s.H),this.yj(s.C,s.G),this.Ap(),this.Mg=!1,a&&this.Lf(256,!1)},l.prototype.ad=function(s,a){if(!s.B()){for(var c=this.wa==0,p=new d.Sa(this.description),y=0;4>y;y++)s.Hf(a?4-y-1:y,p),y==0?this.nf(p):this.lineTo(p);this.Ap(),this.Mg=!1,c&&!a&&this.Lf(256,!1)}},l.prototype.add=function(s,a){for(var c=0;c<s.da();c++)this.addPath(s,c,!a)},l.prototype.addPath=function(s,a,c){this.vf(-1,s,a,c)},l.prototype.Yk=function(s,a){this.Hz(s,a)},l.prototype.Dr=function(s,a,c,p,y){if(y||this.da()!=0||(y=!0),0>a&&(a=s.da()-1),a>=s.da()||0>c||0>p||p>s.rv(a))throw d.i.fa("index out of bounds");if(p!=0){var g=s.dc(a)&&c+p==s.rv(a);if(!g||p!=1){if(this.Mg=!1,this.Jl(s.description),c=s.Ba(a)+c+1,y&&(p++,c--),g&&p--,g=this.wa,this.dm(this.wa+p),this.mc(),y){if(p==0)return;this.nb.add(this.wa),y=s.mb.read(a),y&=-5,this.xf&&(y|=1),this.mb.write(this.mb.size-1,y),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);y=0;for(var w=this.description.Aa;y<w;y++){var S=this.description.kd(y),k=d.ra.Va(S),E=s.description.Pf(S);0>E||s.za[E]==null?this.za[y].Ln(k*g,d.ra.se(S),p*k,k*g):this.za[y].Mn(k*g,s.za[E],k*c,p*k,!0,k,k*g)}if(this.tm()||s.yv(a))throw d.i.Qa();this.Pc(1993)}}},l.prototype.oJ=function(){for(var s=0,a=this.da();s<a;s++)this.FW(s)},l.prototype.FW=function(s){if(this.mc(),s>=this.da())throw d.i.N();var a=this.Ba(s),c=this.Ja(s);s=this.dc(s)?1:0;for(var p=0,y=this.description.Aa;p<y;p++)if(this.za[p]!=null){var g=d.ra.Va(this.description.Ed(p));this.za[p].ni(g*(a+s),g*(c-s),g)}this.Pc(1993)},l.prototype.Zq=function(s){this.mc();var a=this.da();if(0>s&&(s=a-1),s>=a)throw d.i.N();for(var c=this.Ba(s),p=this.Ja(s),y=0,g=this.description.Aa;y<g;y++)if(this.za[y]!=null){var w=d.ra.Va(this.description.Ed(y));this.za[y].En(w*c,w*p,w*this.wa)}for(c=s+1;c<=a;c++)y=this.nb.read(c),this.nb.write(c-1,y-p);if(this.mb==null)for(c=s+1;c<=a;c++)s=this.mb.read(c),this.mb.write(c-1,s);this.nb.resize(a),this.mb.resize(a),this.wa-=p,this.Pg-=p,this.Pc(1993)},l.prototype.vf=function(s,a,c,p){if(a==this||c>=a.da())throw d.i.N();var y=this.da();if(s>y)throw d.i.N();0>s&&(s=y),0>c&&(c=a.da()-1),this.Mg=!1,this.Jl(a.description),a.mc();var g=a.Ba(c),w=a.Ja(c),S=this.wa,k=a.dc(c)&&!p?1:0;this.dm(this.wa+w),this.mc();for(var E=s<y?this.Ba(s):S,P=0,R=this.description.Aa;P<R;P++){var D=this.description.Ed(P),U=a.description.Pf(D),Y=d.ra.Va(D);0<=U&&a.za[U]!=null?(k!=0&&this.za[P].Mn(E*Y,a.za[U],Y*g,Y,!0,Y,Y*S),this.za[P].Mn((E+k)*Y,a.za[U],Y*(g+k),Y*(w-k),p,Y,Y*(S+k))):this.za[P].Ln(E*Y,d.ra.se(D),Y*w,Y*S)}for(this.nb.add(S+w),p=y;p>=s+1;p--)g=this.nb.read(p-1),this.nb.write(p,g+w);for(a.yv(c),this.mb.add(0),p=y-1;p>=s+1;p--)y=this.mb.read(p),y&=-5,this.mb.write(p+1,y);y=a.JR().read(c),y&=-5,this.xf&&(y|=1),this.mb.write(s,y)},l.prototype.Hz=function(s,a){var c=-1,p=this.da();if(c>p)throw d.i.N();0>c&&(c=p),this.Mg=!1;var y=this.wa;this.dm(this.wa+a),this.mc();var g=c<p?this.Ba(c):y;if(s!=null)this.za[0].Iz(2*g,s,0,a,!0,2*y);else{var w=d.ra.se(0);this.za[0].Ln(2*g,w,2*a,2*y)}s=1;for(var S=this.description.Aa;s<S;s++){w=this.description.kd(s);var k=d.ra.Va(w);w=d.ra.se(w),this.za[s].Ln(g*k,w,k*a,k*y)}for(this.nb.add(this.wa),y=p;y>=c+1;y--)g=this.nb.read(y-1),this.nb.write(y,g+a);for(this.mb.add(0),y=p-1;y>=c+1;y--)a=this.mb.read(y),a&=-5,this.mb.write(y+1,a);this.xf&&this.mb.write(c,1)},l.prototype.qG=function(s,a,c){var p=-1;if(0>s&&(s=this.da()),s>this.da()||p>this.Ja(s)||c>a.length)throw d.i.fa("index out of bounds");if(c!=0){s==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>p&&(p=this.Ja(s)),this.mc();var y=this.wa;this.dm(this.wa+c),this.mc();for(var g=0,w=this.description.Aa;g<w;g++){var S=this.description.Ed(g),k=d.ra.Va(S);this.za[g].Ut(k*(this.Ba(s)+p+c),(y-this.Ba(s)-p)*k,this.za[g],k*(this.Ba(s)+p),!0,k),g==0?this.za[g].vC(k*(this.Ba(s)+p),c,a,0,!0):this.za[g].Wj(d.ra.se(S),(this.Ba(s)+p)*k,c*k)}for(this.tm()&&(this.Ve.Ut(this.Ba(s)+p+c,y-this.Ba(s)-p,this.Ve,this.Ba(s)+p,!0,1),this.Lj.Ut(this.Ba(s)+p+c,y-this.Ba(s)-p,this.Lj,this.Ba(s)+p,!0,1),this.Ve.Wj(1,this.Ba(s)+p,c),this.Lj.Wj(-1,this.Ba(s)+p,c)),s+=1,a=this.da();s<=a;s++)this.nb.write(s,this.nb.read(s)+c)}},l.prototype.wf=function(s,a,c){var p=this.da();if(0>s&&(s=this.da()),s>=p||a>this.Ja(s))throw d.i.fa("index out of bounds");s==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>a&&(a=this.Ja(s));var y=this.wa;this.dm(this.wa+1),this.mc();var g=this.Ba(s);this.za[0].vj(2*(g+a),c,2*y),c=1;for(var w=this.description.Aa;c<w;c++){var S=this.description.Ed(c),k=d.ra.Va(S);this.za[c].Ln(k*(g+a),d.ra.se(S),k,k*y)}for(s+=1;s<=p;s++)this.nb.write(s,this.nb.read(s)+1)},l.prototype.DB=function(s,a){var c=this.da();if(0>s&&(s=c-1),s>=c||a>=this.Ja(s))throw d.i.fa("index out of bounds");this.mc();var p=this.Ba(s);0>a&&(a=this.Ja(s)-1),a=p+a,p=0;for(var y=this.description.Aa;p<y;p++)if(this.za[p]!=null){var g=d.ra.Va(this.description.Ed(p));this.za[p].En(g*a,g,g*this.wa)}for(;c>=s+1;c--)a=this.nb.read(c),this.nb.write(c,a-1);this.wa--,this.Pg--,this.Pc(1993)},l.prototype.uE=function(s,a,c){var p=this.Ba(s)+a;if((c=this.Ba(c)+void 0)<p||0>p||c>this.I()-1)throw d.i.N();a=0,(s=this.Ga()).Vb(p);do{for(;s.Ha()&&(p=s.ha(),s.wb()!=c);)a+=p=p.Qb();if(s.wb()==c)break}while(s.$a());return a},l.prototype.fO=function(s,a,c){if(a=this.Ba(s)+a,c=this.Ba(s)+c,0>a||c>this.I()-1)throw d.i.N();var p=this.Ga();if(a>c){if(!this.dc(s))throw d.i.N("cannot iterate across an open path");p.JB()}var y=s=0;p.Vb(a);do y+=s,s=p.ha().Qb();while(p.wb()!=c);return y},l.prototype.mg=function(){return d.pi.gm(this,null)},l.prototype.KS=function(s,a,c){for(var p=s;p<c-1;p++)if(this.dc(p))throw d.i.N("cannot interpolate across closed paths");if((p=this.description.Aa)!=1){var y=this.uE(s,a,c);if(y!=0)for(var g=1;g<p;g++){var w=this.description.kd(g);if(d.ra.lz(w)!=2)for(var S=d.ra.Va(w),k=0;k<S;k++)this.MS(w,s,a,c,y,k)}}},l.prototype.JS=function(s,a,c){var p=this.description.Aa;if(p!=1){var y=this.fO(s,a,c);if(y!=0)for(var g=1;g<p;g++){var w=this.description.kd(g);if(d.ra.lz(w)!=2)for(var S=d.ra.Va(w),k=0;k<S;k++)this.LS(w,s,a,c,y,k)}}},l.prototype.MS=function(s,a,c,p,y,g){var w=this.Ga(),S=this.Ba(a)+c;p=this.Ba(p)+void 0,a=this.Uc(s,S,g),c=this.Uc(s,p,g);var k=a,E=0;w.Vb(S);do if(w.Ha()){if(w.ha(),w.wb()==p)break;this.setAttribute(s,w.wb(),g,k),w.li();do{if(S=w.ha(),w.ik()==p)return;E+=S=S.Qb(),k=d.lc.hq(a,c,E/y),w.On()||this.setAttribute(s,w.ik(),g,k)}while(w.Ha())}while(w.$a())},l.prototype.LS=function(s,a,c,p,y,g){var w=this.Ga(),S=this.Ba(a)+c;if((a=this.Ba(a)+p)!=S){p=this.Uc(s,S,g),c=this.Uc(s,a,g);var k=0;w.Vb(S),w.JB(),S=p;do{var E=w.ha();this.setAttribute(s,w.wb(),g,S),k+=S=E.Qb(),S=d.lc.hq(p,c,k/y)}while(w.ik()!=a)}},l.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},l.prototype.Oc=function(s){s instanceof d.Dd?this.YD(s,-1):this.wN(s)},l.prototype.YD=function(s,a){if(!this.B()&&!s.isIdentity()){this.mc();var c=this.za[0],p=new d.h,y=new d.h;if(0>a){var g=this.tm(),w=0;a=this.wa}else g=this.yv(a),w=this.Ba(a),a=this.Vc(a);for(;w<a;w++){if(p.x=c.read(2*w),p.y=c.read(2*w+1),g){var S=this.Lj.read(w);if(0<=S)switch(7&this.Ve.read(w)){case 2:y.x=this.Sd.read(S),y.y=this.Sd.read(S+1),s.Eh(y,y),this.Sd.write(S,y.x),this.Sd.write(S+1,y.y),y.x=this.Sd.read(S+3),y.y=this.Sd.read(S+4),s.Eh(y,y),this.Sd.write(S+3,y.x),this.Sd.write(S+4,y.y);break;case 4:throw d.i.Qa()}}s.Eh(p,p),c.write(2*w,p.x),c.write(2*w+1,p.y)}this.Pc(1993)}},l.prototype.wN=function(s){if(!this.B()){this.re(1),this.mc();for(var a=this.za[0],c=this.za[1],p=new d.Nd,y=new d.Nd,g=this.tm(),w=0;w<this.wa;w++){if(p.x=a.read(2*w),p.y=a.read(2*w+1),p.z=c.read(w),g){var S=this.Lj.read(w);if(0<=S)switch(7&this.Ve.read(w)){case 2:y.x=this.Sd.read(S),y.y=this.Sd.read(S+1),y.z=this.Sd.read(S+2),y=s.fp(y),this.Sd.write(S,y.x),this.Sd.write(S+1,y.y),this.Sd.write(S+1,y.z),y.x=this.Sd.read(S+3),y.y=this.Sd.read(S+4),y.z=this.Sd.read(S+5),y=s.fp(y),this.Sd.write(S+3,y.x),this.Sd.write(S+4,y.y),this.Sd.write(S+5,y.z);break;case 4:throw d.i.Qa()}}p=s.fp(p),a.write(2*w,p.x),a.write(2*w+1,p.y),c.write(w,p.z)}this.Pc(1993)}},l.prototype.iy=function(){this.nb==null&&(this.nb=d.Yc.Oh(1,0),this.mb=d.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},l.prototype.op=function(s){s.Mg=!1,s.tq=this.tq,s.xq=this.xq,s.nb=this.nb!=null?d.ia.Bn(this.nb):null,s.mb=this.mb!=null?d.pn.Bn(this.mb):null,s.Lj=this.Lj!=null?d.ia.Bn(this.Lj):null,s.Ve=this.Ve!=null?d.pn.Bn(this.Ve):null,s.Sd=this.Sd!=null?d.be.Bn(this.Sd):null,s.sq=this.sq,s.rq=this.rq,s.Aj=this.ak(1024)?null:this.Aj},l.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var s=this.Ga(),a=new d.Fx(0);s.$a();)for(;s.Ha();)a.add(s.ha().Qb());return this.sq=a.rm(),this.Lf(512,!1),a.rm()},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l&&h.prototype.Nb.call(this,s)))return!1;var a=this.da();return!(a!=s.da()||this.nb!=null&&!this.nb.Nb(s.nb,0,a+1)||this.xq!=s.xq||this.mb!=null&&!this.mb.Nb(s.mb,0,a))&&h.prototype.Nb.call(this,s)},l.prototype.Ga=function(){return new d.YL(this)},l.prototype.hy=function(s){if(h.prototype.hy.call(this,s),this.tm())for(s=this.Ga();s.$a();)s.Ha()},l.prototype.yp=function(s,a){if(h.prototype.yp.call(this,s,a),this.tm())for(s=this.Ga();s.$a();)s.Ha()},l.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},l.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},l.prototype.Ev=function(s){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(s)):!!(4&this.mb.read(s)))},l.prototype.Ir=function(s){return this.xf?(this.xu(),this.Aj.read(s)):0},l.prototype.xu=function(){if(this.ak(1024)){var s=this.da();this.Aj==null?this.Aj=new d.be(s):this.Aj.size!=s&&this.Aj.resize(s),s=new d.Fx(0);for(var a=new d.Fx(0),c=new d.h,p=0,y=this.Ga();y.$a();){for(a.reset(),this.D(this.Ba(y.gb),c);y.Ha();)a.add(y.ha().Tx(c.x,c.y));s.add(a.rm());var g=p++;this.Aj.write(g,a.rm())}this.rq=s.rm(),this.Lf(1024,!1)}},l.prototype.FR=function(){if(this.xf){this.fm();for(var s=this.da(),a=0;a<s;a++)4&this.mb.read(a)}},l.prototype.fm=function(){if(this.ak(8)){this.xu();var s=this.da();(this.mb==null||this.mb.size<s)&&(this.mb=d.Yc.Mr(s+1));for(var a=1,c=0;c<s;c++){var p=this.Aj.read(c);c==0&&(a=0<p?1:-1),0<p*a?this.mb.zJ(c,4):this.mb.KE(c,4)}this.Lf(8,!1)}},l.prototype.sz=function(s){var a=this.gb,c=this.da();if(0<=a&&a<c){if(s<this.Vc(a)){if(s>=this.Ba(a))return a;a--}else a++;if(0<=a&&a<c&&s>=this.Ba(a)&&s<this.Vc(a))return this.gb=a}if(5>c){for(a=0;a<c;a++)if(s<this.Vc(a))return this.gb=a;throw d.i.fa("corrupted geometry")}for(a=0,--c;c>a;){var p=a+(c-a>>1);if(s<this.Ba(p))c=p-1;else{if(!(s>=(a=this.Vc(p))))return this.gb=p;a=p+1}}return this.gb=a},l.prototype.yz=function(){var s=this.I();if(!this.xf){s-=this.da();for(var a=0,c=this.da();a<c;a++)this.dc(a)&&s++}return s},l.prototype.rv=function(s){var a=this.Ja(s);return this.dc(s)||a--,a},l.prototype.Ia=function(){return new l(this.xf,this.description)},l.prototype.Db=function(){return this.xf?2:1},l.prototype.getType=function(){return this.xf?1736:1607},l.prototype.QJ=function(s){this.nb=s,this.Pc(16777215)},l.prototype.VR=function(){return this.wx(),this.Ve},l.prototype.JR=function(){return this.wx(),this.mb},l.prototype.PJ=function(s){this.mb=s,this.Pc(16777215)},l.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},l.prototype.Vc=function(s){return this.nb.read(s+1)},l.prototype.Ja=function(s){return this.nb.read(s+1)-this.nb.read(s)},l.prototype.Ba=function(s){return this.nb.read(s)},l.prototype.lu=function(s,a){this.Bb==null&&(this.Bb=new d.Uk),a=d.Nx.pW(a);var c=this.Bb.Fk;if(c!=null){if(!(c.Ik<s||a>c.RR()))return!0;this.Bb.yD(null)}return c=d.Nx.create(this,s,a),this.Bb.yD(c),!0},l.prototype.cc=function(){var s=h.prototype.cc.call(this);if(!this.Ac()){var a=this.da();this.nb!=null&&this.nb.An(s,0,a+1),this.mb!=null&&this.mb.An(s,0,a)}return s},l.prototype.ZF=function(s){return this.Ve!=null?this.Ve.read(s):1},l.prototype.bc=function(s,a,c){var p=this.sz(s);if(s==this.Vc(p)-1&&!this.dc(p))throw d.i.fa("index out of bounds");this.mc();var y=this.Ve,g=1;if(y!=null&&(g=7&y.read(s)),g!==1)throw d.i.Qa();if(a.Or(),a=a.get(),c?a.Nf(d.ee.og()):a.Nf(this.description),p=s==this.Vc(p)-1&&this.dc(p)?this.Ba(p):s+1,y=new d.h,this.D(s,y),a.Dc(y),this.D(p,y),a.Qc(y),!c)for(c=1,y=this.description.Aa;c<y;c++){g=this.description.Ed(c);for(var w=d.ra.Va(g),S=0;S<w;S++){var k=this.Uc(g,s,S);a.YB(g,S,k),k=this.Uc(g,p,S),a.OB(g,S,k)}}},l.prototype.Rj=function(s,a){if(s>=this.da())throw d.i.N();if(this.B())a.Oa();else{if(this.yv(s))throw d.i.fa("not implemented");var c=this.ub(0),p=new d.h,y=new d.l;y.Oa();var g=this.Ba(s);for(s=this.Vc(s);g<s;g++)c.tc(2*g,p),y.Zb(p);a.K(y)}},l.prototype.fj=function(s){return this.Bb==null&&(this.Bb=new d.Uk),!(s==0||16>this.I())&&(s=d.ta.nE(this),this.Bb.WM(s),!0)},l.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new d.Uk),this.Bb.zo==null){this.Bb.xD(null);var s=d.ta.YN(this);this.Bb.xD(s)}},l.prototype.Yo=function(s){this.xq=s},l.prototype.In=function(){return this.xq},l.prototype.DD=function(s){if(this==s)throw d.i.fa("MultiPathImpl.add");for(var a=this.da(),c=0;c<s.da();c++)this.addPath(s,c,!0),this.CU(a),a++},l.prototype.kO=function(s){var a=this.sz(s),c=this.Ba(a);if(c!=s){if(s>=(a=this.Vc(a))||s<c)throw d.i.fa("change_ring_start_point");for(var p=0,y=this.description.Aa;p<y;p++){var g=this.description.kd(p);g=d.ra.Va(g),this.za[p].rotate(c*g,s*g,a*g)}}},l}(d.Gx);d.Vk=x}(ee||(ee={})),function(d){var j=function(x){function h(l){var s=x.call(this)||this;if(l!==void 0){if(l==null)throw d.i.N();s.description=l}else s.description=d.ee.og();return s.wa=0,s}return $e(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.add=function(l){this.resize(this.wa+1),this.Dh(this.wa-1,l)},h.prototype.Bu=function(l,s){this.resize(this.wa+1);var a=new d.h;a.ma(l,s),this.Cb(this.wa-1,a)},h.prototype.Fd=function(l,s,a){if(a=0>a?l.I():a,0>s||s>l.I()||a<s)throw d.i.N();if(s!=a){this.Jl(l.description),a-=s;var c=this.wa;this.resize(this.wa+a),this.mc();for(var p=0,y=l.description.Aa;p<y;p++){var g=l.description.Ed(p),w=d.ra.Va(g),S=this.ub(g);g=l.ub(g),S.Mn(c*w,g,s*w,a*w,!0,1,c*w)}}},h.prototype.HD=function(l,s){var a=l.length;if(s=0>s?a:s,0>a||0>s)throw d.i.N();if(s!=0){a=s-0,s=this.wa,this.resize(this.wa+a);for(var c=0;c<a;c++)this.Cb(s+c,l[0+c])}},h.prototype.DB=function(l){if(0>l||l>=this.I())throw d.i.fa("index out of bounds");this.mc();for(var s=0,a=this.description.Aa;s<a;s++)if(this.za[s]!=null){var c=d.ra.Va(this.description.Ed(s));this.za[s].En(c*l,c,c*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},h.prototype.resize=function(l){this.dm(l)},h.prototype.op=function(){},h.prototype.Oa=function(){x.prototype.wD.call(this)},h.prototype.Oc=function(l){if(l instanceof d.Dd){if(this.B())return;this.mc();for(var s=this.za[0],a=new d.h,c=0;c<this.wa;c++)a.x=s.read(2*c),a.y=s.read(2*c+1),l.Eh(a,a),s.write(2*c,a.x),s.write(2*c+1,a.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),s=this.za[0],a=this.za[1];var p=new d.Nd;for(c=0;c<this.wa;c++){p.x=s.read(2*c),p.y=s.read(2*c+1),p.z=a.read(c);var y=l.fp(p);s.write(2*c,y.x),s.write(2*c+1,y.y),a.write(c,y.z)}}this.Pc(1993)},h.prototype.Db=function(){return 0},h.prototype.getType=function(){return 550},h.prototype.Ke=function(){return 0},h.prototype.Qb=function(){return 0},h.prototype.Nb=function(l){return l==this||l instanceof h&&x.prototype.Nb.call(this,l)},h.prototype.lW=function(l,s){var a=this.wa;if(a=Math.min(a,s+1e3),0>s||s>=this.wa||a<s||l.length!=1e3)throw d.i.N();var c=a-s,p=[];for(this.ub(0).Vw(2*s,2*c,p,0,!0),s=0;s<c;s++)l[s]=d.h.construct(p[2*s],p[2*s+1]);return a},h.prototype.$x=function(){},h.prototype.iy=function(){},h.prototype.lu=function(){return!1},h.prototype.fj=function(){return!1},h.prototype.mg=function(){return null},h}(d.Gx);d.de=j}(ee||(ee={})),function(d){var j;(j=d.iL||(d.iL={}))[j.NotDetermined=0]="NotDetermined",j[j.Structure=1]="Structure",j[j.DegenerateSegments=2]="DegenerateSegments",j[j.Clustering=3]="Clustering",j[j.Cracking=4]="Cracking",j[j.CrossOver=5]="CrossOver",j[j.RingOrientation=6]="RingOrientation",j[j.RingOrder=7]="RingOrder",j[j.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",j[j.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",j[j.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var x=function(){function h(l,s,a){l===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=l,this.Jo=s,this.Ko=a)}return h.prototype.Wt=function(l){this.Jj=l.Jj,this.Jo=l.Jo,this.Ko=l.Ko},h}();d.Md=x}(ee||(ee={})),function(d){d.O=function(){function j(){}return j.assert=function(x){if(x===!1)throw d.i.GK()},j.bK=function(x){return isNaN(x)?NaN:x===0?x:0<x?1:-1},j.Fu=function(x){var h;h===void 0&&(h=0);for(var l=[],s=0;s<x;s++)l[s]=j.lg(2,h);return l},j.lg=function(x,h){h===void 0&&(h=0);for(var l=[],s=0;s<x;s++)l[s]=h;return l},j.$u=function(x,h){var l,s;for(l===void 0&&(l=0),s===void 0&&(s=x.length-1);l<=s;l++)x[l]=h},j.Rk=function(x,h,l){return x<h?h:x>l?l:x},j.Th=function(x,h){var l=5381;return((l=((l=((l=h!==void 0?(h<<5)+h+(255&x):(l<<5)+l+(255&x))<<5)+l+(x>>8&255))<<5)+l+(x>>16&255))<<5)+l+(x>>24&255)&2147483647},j.uj=function(){throw Error("Not Implemented")},j.bB=function(x){return j.aU(x)+12345&2147483647},j.XG=function(x){var h=32,l=x%j.Qx|0,s=x/j.Qx|0;return(h&=63)==0?x:(32>h?(x=l>>>h|s<<32-h,h=s>>h):(x=s>>h-32,h=0<=s?0:-1),h*j.Qx+(x>>>0))},j.aU=function(x){var h=1103515245,l=65535&h;return((h-l)*(x|=0)|0)+(l*x|0)|0},j.truncate=function(x){return 0>x?-1*Math.floor(Math.abs(x)):Math.floor(x)},j.MAX_SAFE_INTEGER=Math.pow(2,53)-1,j.MIN_SAFE_INTEGER=-j.MAX_SAFE_INTEGER,j.VC=65536,j.Qx=j.VC*j.VC,j}()}(ee||(ee={})),function(d){var j;(j=d.CL||(d.CL={}))[j.Project=0]="Project",j[j.Union=1]="Union",j[j.Difference=2]="Difference",j[j.Proximity2D=3]="Proximity2D",j[j.Relate=4]="Relate",j[j.Equals=5]="Equals",j[j.Disjoint=6]="Disjoint",j[j.Intersects=7]="Intersects",j[j.Within=8]="Within",j[j.Contains=9]="Contains",j[j.Crosses=10]="Crosses",j[j.Touches=11]="Touches",j[j.Overlaps=12]="Overlaps",j[j.Buffer=13]="Buffer",j[j.Distance=14]="Distance",j[j.Intersection=15]="Intersection",j[j.Clip=16]="Clip",j[j.Cut=17]="Cut",j[j.DensifyByLength=18]="DensifyByLength",j[j.DensifyByAngle=19]="DensifyByAngle",j[j.LabelPoint=20]="LabelPoint",j[j.GeodesicBuffer=21]="GeodesicBuffer",j[j.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",j[j.ShapePreservingDensify=23]="ShapePreservingDensify",j[j.GeodeticLength=24]="GeodeticLength",j[j.GeodeticArea=25]="GeodeticArea",j[j.Simplify=26]="Simplify",j[j.SimplifyOGC=27]="SimplifyOGC",j[j.Offset=28]="Offset",j[j.Generalize=29]="Generalize",j[j.SymmetricDifference=30]="SymmetricDifference",j[j.ConvexHull=31]="ConvexHull",j[j.Boundary=32]="Boundary",j[j.SimpleRelation=33]="SimpleRelation";var x=function(){function h(){}return h.prototype.getType=function(){return null},h.prototype.wn=function(){},h.prototype.Iu=function(){return!1},h}();d.Je=x}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 13},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c,p){return l instanceof d.aa?(p=new d.Zc(l),this.V(p,s,[a],!1,c).next()):c===!0?(a=new d.BC(l,s,a,!1,p),d.Gh.local().V(a,s,p)):new d.BC(l,s,a,!1,p)},h.instance=null,h}(d.Je);d.AC=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c){this.ya=-1,this.Rd=h,this.$z=l,this.Cs=s,this.tT=new d.l,this.tT.Oa(),this.eo=-1,this.Ub=c}return x.prototype.next=function(){for(var h;(h=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(h,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.buffer=function(h,l){return d.HK.buffer(h,l,this.$z,NaN,96,this.Ub)},x.prototype.qe=function(){},x}();d.BC=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 16},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,c).next()):new d.lL(l,s,a,c)},h.instance=null,h}(d.Je);d.kL=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s){if(this.ya=-1,h==null)throw d.i.N();this.$=l,this.yk=h,this.qa=d.ta.Wd(s,l,!1)}return x.prototype.next=function(){var h;return(h=this.yk.next())!=null?(this.ya=this.yk.La(),d.Ud.clip(h,this.$,this.qa,0)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.lL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 31},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){return l instanceof d.aa?d.DC.rE(l):new d.DC(s,l,a)},h.instance=null,h}(d.Je);d.CC=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s){if(this.uA=new d.Zt,this.ya=-1,l==null)throw d.i.N();this.cH=h,this.Ic=!1,this.yk=l,this.Ub=s}return x.prototype.next=function(){if(this.cH){if(!this.Ic){var h=this.dO(this.yk);return this.Ic=!0,h}return null}if(!this.Ic){if((h=this.yk.next())!=null)return this.ya=this.yk.La(),x.rE(h);this.Ic=!0}return null},x.prototype.La=function(){return this.ya},x.prototype.dO=function(h){for(var l;(l=h.next())!=null;)this.uA.Ib(l);return this.uA.cR()},x.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw d.i.fa("Invalid call for non merging convex hull.");var h=this.yk.next();if(h==null)throw d.i.fa("Expects a non-null geometry.");this.uA.Ib(h)}},x.rE=function(h){if(x.VS(h))return h;var l=h.getType();if(d.Vk.yd(l))return(l=new d.Ta(h.description)).oc(h,!0),l;if(l==550&&h.I()==2){var s=new d.Sa;return l=new d.Ta(h.description),h.ve(0,s),l.nf(s),h.ve(1,s),l.lineTo(s),l}return d.Zt.RO(h)},x.VS=function(h){if(h.B())return!0;var l=h.getType();return l==33||l==197||!d.Vk.yd(l)&&(l==550?h.I()==1:l==1607?h.da()==1&&2>=h.I():h.da()==1&&(2>=h.I()||d.Zt.JG(h,0)))},x}();d.DC=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 17},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c,p){return new d.nL(l,s,a,c,p)},h.instance=null,h}(d.Je);d.mL=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c){if(this.Tf=null,l==null||s==null)throw d.i.fa("invalid argument");this.qT=h,this.nA=l,this.lH=s,h=d.ta.mv(l,s),this.qa=d.ta.Wd(a,h,!0),this.kH=-1,this.nd=c}return x.prototype.La=function(){return 0},x.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},x.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},x.prototype.TQ=function(){var h=new d.Ta,l=new d.Ta,s=new d.Ta;this.Tf.push(h),this.Tf.push(l);var a=[];d.LK.JK(this.qT,this.nA,this.lH,this.qa,a,this.nd);for(var c=0;c<a.length;c++){var p=a[c];if(p.bt==0)h.add(p.X,!1);else if(p.bt==1||p.bt==2)l.add(p.X,!1);else if(p.bt==3)this.Tf.push(p.X);else{if(p.bt!=4)throw d.i.fa("internal");s.add(p.X,!1)}}s.B()||h.B()&&l.B()&&!(3<=this.Tf.length)||this.Tf.push(s),h.B()&&l.B()&&3>this.Tf.length&&(this.Tf.length=0)},x.prototype.SQ=function(){var h=new d.ia(0),l=new d.gd,s=l.aF(),a=l.Ib(this.nA),c=l.Ib(this.lH),p=new d.Fg;try{p.Ft(l,this.qa,this.nd),p.dl(s,a,c,h);var y=l.Ne(a),g=new d.Da,w=new d.Da;for(this.Tf.length=0,this.Tf.push(g),this.Tf.push(w),a=0;a<h.size;a++){var S=new d.gd,k=S.Ib(y),E=S.Ib(l.Ne(h.get(a)));p.dr(S,this.nd);var P=p.Av(k,E),R=S.Ne(P);if(!R.B()){var D=l.KF(h.get(a),s);D==2?g.add(R,!1):D==1?w.add(R,!1):this.Tf.push(R);var U=new d.gd;k=U.Ib(y),E=U.Ib(l.Ne(h.get(a))),p.dr(U,this.nd),y=U.Ne(p.im(k,E))}}!y.B()&&0<h.size&&this.Tf.push(y),g.B()&&w.B()&&(this.Tf.length=0)}finally{p.Ug()}},x.prototype.qe=function(){},x}();d.nL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 18},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){if(l instanceof d.aa)return l=new d.Zc(l),this.V(l,s,a).next();if(0>=s)throw d.i.N();return new d.oL(l,s,a)},h.instance=null,h}(d.Je);d.Xl=j}(ee||(ee={})),function(d){var j=function(){function x(h,l){this.ya=-1,this.Rd=h,this.Ps=l}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){var h;return(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(h)):null},x.prototype.NP=function(h){if(h.B()||1>h.Db())return h;var l=h.getType();if(l==1736||l==1607)return this.Ny(h);if(d.aa.yd(l))return this.PP(h);if(l==197)return this.OP(h);throw d.i.Qa()},x.prototype.PP=function(h){if(h.Qb()<=this.Ps)return h;var l=new d.Ta(h.description);return l.oc(h,!0),this.Ny(l)},x.prototype.OP=function(h){var l=new d.Da(h.description);l.ad(h,!1);var s=new d.l;return h.A(s),h=s.ca(),s.R()<=this.Ps&&h<=this.Ps?l:this.Ny(l)},x.prototype.Ny=function(h){for(var l=h.Ia(),s=h.Ga();s.$a();)for(var a=!0;s.Ha();){var c=s.ha();if(c.getType()!=322)throw d.i.fa("not implemented");var p=s.On(),y=c.Qb();if(y>this.Ps){var g=Math.ceil(y/this.Ps);y=new d.Sa(h.description),a&&(c.To(y),l.nf(y));var w=a=1/g,S=0;for(--g;S<g;S++)c.Tw(w,y),l.lineTo(y),w+=a;p?l.Ap():(c.Po(y),l.lineTo(y))}else p?l.Ap():l.oc(c,a);a=!1}return l},x.prototype.qe=function(){},x}();d.oL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.getType=function(){return 2},h.prototype.V=function(l,s,a,c){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,c).next()):new d.qL(l,s,a,c)},h.im=function(l,s,a,c){if(l.B()||s.B())return l;var p=l.Db(),y=s.Db();if(p>y)return l;var g=l.getType(),w=s.getType(),S=new d.l,k=new d.l,E=new d.l;l.A(S),s.A(k),E.K(S),E.Zb(k);var P=(E=d.ta.Wd(a,E,!0))*Math.sqrt(2)*1.00001,R=new d.l;if(R.K(S),R.W(P,P),!R.isIntersecting(k))return l;if(p==1&&y==2)return h.KV(l,s,w,a,c);if(g==33)switch(d.Vk.yd(w)?(a=new d.Ta(s.description),a.oc(s,!0)):a=s,w){case 1736:return h.XU(l,a,E);case 1607:return h.YU(l,a,E);case 550:return h.VU(l,a,E);case 197:return h.UU(l,a,E);case 33:return h.WU(l,a,E);default:throw d.i.N()}else if(g==550)switch(w){case 1736:return h.nU(l,s,E);case 197:return h.lU(l,s,E);case 33:return h.mU(l,s,E)}return d.Fg.im(l,s,a,c)},h.XU=function(l,s,a){return d.hd.KG(s,l,a)==0?l:l.Ia()},h.YU=function(l,s,a){var c=l.D();s=s.Ga();for(var p=a*Math.sqrt(2)*1.00001,y=p*p,g=new d.l;s.$a();)for(;s.Ha();){var w=s.ha();if(w.A(g),g.W(p,p),g.contains(c)){if(w.qs(c,a))return l.Ia();var S=w.ac();if(d.h.yc(c,S)<=y||(S=w.wc(),d.h.yc(c,S)<=y))return l.Ia()}}return l},h.VU=function(l,s,a){var c=s.ub(0);s=s.I();var p=l.D(),y=new d.h;a=a*Math.sqrt(2)*1.00001,a*=a;for(var g=0;g<s;g++)if(c.tc(2*g,y),d.h.yc(y,p)<=a)return l.Ia();return l},h.UU=function(l,s,a){var c=new d.l;return s.A(c),c.W(a,a),s=l.D(),c.contains(s)?l.Ia():l},h.WU=function(l,s,a){a=a*Math.sqrt(2)*1.00001,a*=a;var c=l.D();return s=s.D(),d.h.yc(c,s)<=a?l.Ia():l},h.nU=function(l,s,a){var c=new d.l;s.A(c),c.W(a,a);for(var p=l.I(),y=!1,g=[],w=0;w<p;w++)g[w]=!1;var S=new d.h;for(w=0;w<p;w++)l.D(w,S),c.contains(S)&&d.hd.Yd(s,S,a)!=0&&(y=!0,g[w]=!0);if(!y)return l;for(s=l.Ia(),w=0;w<p;w++)g[w]||s.Fd(l,w,w+1);return s},h.lU=function(l,s,a){var c=new d.l;s.A(c),c.W(a,a),s=l.I();var p=!1;a=[];for(var y=0;y<s;y++)a[y]=!1;var g=new d.h;for(y=0;y<s;y++)l.D(y,g),c.contains(g)&&(p=!0,a[y]=!0);if(!p)return l;for(c=l.Ia(),y=0;y<s;y++)a[y]||c.Fd(l,y,y+1);return c},h.mU=function(l,s,a){var c=l.ub(0),p=l.I(),y=s.D(),g=new d.h,w=!1;s=[];for(var S=0;S<p;S++)s[S]=!1;for(a=(S=a*Math.sqrt(2)*1.00001)*S,S=0;S<p;S++)c.tc(2*S,g),d.h.yc(g,y)<=a&&(w=!0,s[S]=!0);if(!w)return l;for(c=l.Ia(),S=0;S<p;S++)s[S]||c.Fd(l,S,S+1);return c},h.KV=function(l,s,a,c,p){var y=new d.Fh;l.bn(y);var g=new d.l;return s.A(g),y.Zb(g),y.W(.1*y.R(),.1*y.ca()),(g=new d.Da).ad(y,!1),a==1736?g.add(s,!0):g.ad(s,!0),d.Xj.local().V(l,g,c,p)},h.instance=null,h}(d.Je);d.kp=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a){this.ts=l==null,this.ya=-1,this.Rd=h,this.$z=s,this.wT=l.next(),this.Ub=a}return x.prototype.next=function(){return this.ts?null:(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),d.kp.im(h,this.wT,this.$z,this.Ub)):null;var h},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.qL=j}(ee||(ee={})),function(d){var j=function(){function h(l){this.nd=l,this.Bj=new d.l,this.Bj.Oa(),this.oh=new d.l,this.oh.Oa()}return h.prototype.Nt=function(){var l=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=l,l=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=l,l=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=l,l=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=l},h.prototype.eQ=function(l,s){if(this.nd!=null&&!this.nd.progress(-1,-1))throw d.i.fu("user_canceled");var a=!this.Bj.isIntersecting(this.oh);return d.aa.Hc(l.getType())&&d.aa.Hc(s.getType())?l.I()>s.I()?this.gE(l,s,a):(this.Nt(),l=this.gE(s,l,a),this.Nt(),l):l.getType()==550&&d.aa.Hc(s.getType())?(l=this.hE(s,l,a),this.Nt(),l):s.getType()==550&&d.aa.Hc(l.getType())?this.hE(l,s,a):l.getType()==550&&s.getType()==550?l.I()>s.I()?this.iE(l,s):(this.Nt(),l=this.iE(s,l),this.Nt(),l):0},h.prototype.gE=function(l,s,a){var c=l.Ga(),p=s.Ga(),y=new d.l,g=new d.l,w=17976931348623157e292;if(!a&&this.pY(l,s,c,p))return 0;for(;c.$a();)for(;c.Ha();)if((l=c.ha()).A(y),!(y.px(this.oh)>w)){for(;p.$a();)for(;p.Ha();)if((s=p.ha()).A(g),y.px(g)<w&&(s=l.tb(s,a),(s*=s)<w)){if(s==0)return 0;w=s}p.Zi()}return Math.sqrt(w)},h.prototype.hE=function(l,s,a){var c=l.Ga(),p=new d.l,y=17976931348623157e292,g=new d.h,w=s.I();for(a=!a&&l.getType()==1736;c.$a();)for(;c.Ha();){var S=c.ha();if(S.A(p),!(1<w&&p.px(this.oh)>y)){for(var k=0;k<w;k++){if(s.D(k,g),a&&d.hd.Yd(l,g,0)!=0)return 0;var E=S.fe(g,!1);if(g.sub(S.hc(E)),(E=g.Sk())<y){if(E==0)return 0;y=E}}a=!1}}return Math.sqrt(y)},h.prototype.iE=function(l,s){for(var a,c=17976931348623157e292,p=new d.h,y=new d.h,g=l.I(),w=s.I(),S=0;S<g;S++)if(l.D(S,p),!(1<w&&this.oh.iK(p)>c)){for(var k=0;k<w;k++)if(s.D(k,y),(a=d.h.yc(p,y))<c){if(a==0)return 0;c=a}}return Math.sqrt(c)},h.prototype.pY=function(l,s,a,c){if(l.getType()==1736){for(;c.$a();)if(c.Ha()){var p=c.ha();if(d.hd.Yd(l,p.wc(),0)!=0)return!0}c.Zi()}if(s.getType()==1736){for(;a.$a();)if(a.Ha()&&(l=a.ha(),d.hd.Yd(s,l.wc(),0)!=0))return!0;a.Zi()}return!1},h.prototype.gm=function(l,s){return l.B()||s.B()?NaN:(l.A(this.Bj),s.A(this.oh),this.eQ(l,s))},h}(),x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return $e(l,h),l.prototype.V=function(s,a,c){if(s==null||a==null)throw d.i.N();if(s.B()||a.B())return NaN;var p=s.getType(),y=a.getType();if(p==33){if(y==33)return d.h.tb(s.D(),a.D());if(y==197)return c=new d.l,a.A(c),c.tb(s.D());(p=new d.de).add(s),s=p}else if(p==197){if(y==197)return y=new d.l,s.A(y),c=new d.l,a.A(c),c.tb(y);(p=new d.Da).ad(s,!1),s=p}return y==33?((y=new d.de).add(a),a=y):y==197&&((y=new d.Da).ad(a,!1),a=y),new j(c).gm(s,a)},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 14},l.instance=null,l}(d.Je);d.rL=x}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a){this.zH=h,this.DH=l,this.nd=a,this.$G=s}return x.prototype.next=function(){var h=this.zH.next();return h==null?null:this.zC(h)},x.prototype.La=function(){return this.zH.La()},x.prototype.zC=function(h){var l=h.getType();if(d.aa.Rn(l))return h;if(l==197)return(l=new d.Da(h.description)).ad(h,!1),this.zC(l);if(h.B())return h;if(h==null)throw d.i.Qa();l=h.Ia();for(var s=new d.yb,a=0,c=h.da();a<c;a++)this.TK(h,a,l,s);return l},x.prototype.TK=function(h,l,s,a){if(!(2>h.Ja(l))){var c=h.Ba(l),p=h.Vc(l)-1,y=h.ub(0),g=h.dc(l),w=new d.ia(0);w.Jb(h.Ja(l)+1);var S=new d.ia(0);for(S.Jb(h.Ja(l)+1),w.add(g?c:p),w.add(c),c=new d.h;1<w.size;){var k=w.Fc();w.If();var E=w.Fc();h.D(k,c),a.Dc(c),h.D(E,c),a.Qc(c),0<=(E=this.SK(a,c,y,k,E,p))?(w.add(E),w.add(k)):S.add(k)}if(g||S.add(w.get(0)),S.size==w.size)s.addPath(h,l,!0);else if(2<=S.size&&(!this.$G||S.size!=2||!(g||d.h.tb(h.Na(S.get(0)),h.Na(S.get(1)))<=this.DH))){for(l=new d.Sa,a=0,p=S.size;a<p;a++)h.ve(S.get(a),l),a==0?s.nf(l):s.lineTo(l);g&&(this.$G||S.size!=2||s.lineTo(l),s.Ap())}}},x.prototype.SK=function(h,l,s,a,c,p){var y=c-1;for(c<=a&&(y=p),p=c=-1,a+=1;a<=y;a++){s.tc(2*a,l);var g=l.x,w=l.y;h.hc(h.fe(l,!1),l),l.x-=g,l.y-=w,(g=l.length())>this.DH&&g>p&&(c=a,p=g)}return c},x.prototype.qe=function(){},x}();d.sL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 29},h.prototype.V=function(l,s,a,c){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,c).next()):new d.sL(l,s,a,c)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.EC=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 21},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c,p,y,g,w){return l instanceof d.aa?(w=new d.Zc(l),this.V(w,s,a,[c],p,y,!1,g).next()):g===!0?(a=new d.GC(l,s,a,c,p,!1,!1,w),d.Gh.local().V(a,s,w)):new d.GC(l,s,a,c,p,!1,!1,w)},h.instance=null,h}(d.Je);d.FC=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c,p,y,g){if(p)throw d.i.Ie();if(l==null)throw d.i.N();this.ya=-1,this.Ms=h,this.vg=l,this.ze=s,this.Cs=a,this.$n=c,this.eo=-1,this.Ub=g,this.uT=new d.l,this.uT.Oa()}return x.prototype.next=function(){for(var h;(h=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(h,this.Cs[this.eo]);return null},x.prototype.La=function(){return this.ya},x.prototype.$Q=function(h,l){return d.VK.buffer(h,this.vg,this.ze,l,this.$n,this.Ub)},x.prototype.qe=function(){},x}();d.GC=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 24},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a){if(s==null)throw d.i.N();if(l.B()||1>l.Db())return 0;if(a==4)throw d.i.Ie();var c=d.cb.sc(s),p=d.cb.vv(c),y=d.cb.ev(c);p*=2-p;var g=c.Hd().ai,w=l.getType();if(w==1736||w==197)var S=l.mg();else d.aa.yd(w)?(S=new d.Ta(l.description)).oc(l,!0):S=l;if(c.Nb(s)==0){if(d.cb.Wc(s)){S=d.Hh.lj(S,s),w==1607&&S==l&&(S=d.aa.jg(l)),l=new d.Nc,d.cb.gh(s).cn(l),w=0;for(var k=S.I();w<k;w++){var E=S.Na(w);E.x=d.Hh.Zm(E.x,l),S.Cb(w,E)}}l=S.Ia(),S=d.Hh.WI(s,c,S,l)?l:d.cb.zh(S,s,c)}return this.hQ(S,a,y,p,g)},h.prototype.hQ=function(l,s,a,c,p){var y=new d.ga(0),g=0;for(l=l.Ga();l.$a();)for(;l.Ha();){var w=l.ha(),S=w.ac();w=w.wc(),S.scale(p),w.scale(p),d.kb.wd(a,c,S.x,S.y,w.x,w.y,y,null,null,s),g+=y.u}return g},h.instance=null,h}(d.Je);d.vL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 18},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c,p){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,c,p).next()):new d.uL(l,a,c,s,-1,-1,p)},h.instance=null,h}(d.Je);d.tL=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c,p){if(0<p||s!=4&&0<c)throw d.i.Ie();if(l==null)throw d.i.N();this.ya=-1,this.Ms=h,this.vg=l,this.ze=s,this.DT=a,this.CT=c}return x.prototype.next=function(){for(var h;(h=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(h);return null},x.prototype.La=function(){return this.ya},x.prototype.Zy=function(h){return d.cj.Qr(h,this.vg,this.ze,this.DT,this.CT,this.Ub)},x.prototype.qe=function(){},x}();d.uL=j}(ee||(ee={})),function(d){(function(j){j[j.Unknown=0]="Unknown",j[j.Contains=1]="Contains",j[j.Within=2]="Within",j[j.Equals=3]="Equals",j[j.Disjoint=4]="Disjoint",j[j.Touches=8]="Touches",j[j.Crosses=16]="Crosses",j[j.Overlaps=32]="Overlaps",j[j.NoThisRelation=64]="NoThisRelation",j[j.Intersects=1073741824]="Intersects",j[j.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(d.cL||(d.cL={})),d.wL=function(){function j(){}return j.nW=function(x,h){var l=x.getType(),s=h.getType();if(d.aa.xj(l)){var a=x.Bb;if(a!=null&&(a=a.Fk)!=null){if(s==33){var c=h.D();a=a.So(c.x,c.y)}else c=new d.l,h.A(c),a=a.Ro(c);if(a==1)return 1;if(a==0)return 4}}if(d.aa.xj(s)&&(a=h.Bb)!=null&&(a=a.Fk)!=null){if(l==33?(x=x.D(),a=a.So(x.x,x.y)):(h=new d.l,x.A(h),a=a.Ro(h)),a==1)return 2;if(a==0)return 4}return 0},j}()}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.getType=function(){return 15},h.prototype.V=function(l,s,a,c,p){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,c,p===void 0?-1:p).next()):p===void 0?new d.HC(l,s,a,c,-1):new d.HC(l,s,a,c,p)},h.prototype.wn=function(l,s,a){this.Iu(l)&&(s=d.ta.kj(s,l,!1),l.fj(a)||l.lu(s,a))},h.prototype.Iu=function(l){return d.Nx.zE(l)},h.instance=null,h}(d.Je);d.Xj=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c){if(this.ts=l==null,this.ya=-1,this.Rd=h,this.vg=s,this.Se=l.next(),this.Dj=this.Se.getType(),this.Ub=a,this.Fi=c,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw d.i.N("bad dimension mask")}return x.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var h=this.zw.next();if(h!=null)return h;this.zw=null}for(;(h=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?h=this.Ea(h):(this.zw=this.PS(h),h=this.zw.next()),h;return null},x.prototype.La=function(){return this.ya},x.prototype.Ea=function(h){var l=this.zK(h);if(l!=null)return l;l=d.ta.mv(this.Se,h);var s=d.ta.Wd(this.vg,l,!0);l=new d.l,this.Se.A(l);var a=new d.l;return h.A(a),l.W(2*s,2*s),l.Ea(a),l.W(100*s,100*s),s=d.Ud.clip(this.Se,l,0,0),h=d.Ud.clip(h,l,0,0),d.Fg.Av(h,s,this.vg,this.Ub)},x.prototype.QI=function(h,l,s){var a=0;if(1&l)s[0]==null&&(s[0]=new d.de(h)),a++;else for(var c=0;c<s.length-1;c++)s[c]=s[c+1];if(2&l)s[a]==null&&(s[a]=new d.Ta(h)),a++;else for(c=a;c<s.length-1;c++)s[c]=s[c+1];if(4&l)s[a]==null&&(s[a]=new d.Da(h)),a++;else for(c=a;c<s.length-1;c++)s[c]=s[c+1];if(a!=3){for(h=[],c=0;c<a;c++)h[c]=s[c];return new d.Zc(h)}return new d.Zc(s)},x.prototype.PS=function(h){var l=this.zK(h);if(l!=null){var s=[null,null,null];return s[l.Db()]=l,this.QI(h.description,this.Fi,s)}l=d.ta.mv(this.Se,h),s=d.ta.Wd(this.vg,l,!0),l=new d.l,this.Se.A(l),l.W(2*s,2*s);var a=new d.l;return h.A(a),l.Ea(a),l.W(100*s,100*s),s=d.Ud.clip(this.Se,l,0,0),l=d.Ud.clip(h,l,0,0),s=d.Fg.Pz(l,s,this.vg,this.Ub),this.QI(h.description,this.Fi,s)},x.prototype.zK=function(h){var l=d.ta.mv(h,this.Se),s=d.ta.Wd(this.vg,l,!0);l=h.getType();var a=h.B(),c=this.Se.B();if(!(c=a||c)){c=new d.l,h.A(c);var p=new d.l;this.Se.A(p),p.W(2*s,2*s),c=!c.isIntersecting(p)}if(!c)if((p=d.wL.nW(this.Se,h))==4)c=!0;else{if(2&p)return this.Se;if(1&p)return h}if(c)return(s=d.aa.tf(l))<(c=d.aa.tf(this.Dj))?x.HB(h,a):s>c||s==0&&l==550&&this.Dj==33?this.nJ():x.HB(h,a);if((this.Fi==-1||this.Fi==4)&&l==197&&this.Dj==197)return s=this.Se,l=new d.l,h.A(l),a=new d.l,s.A(a),l.Ea(a),s=new d.Fh,h.copyTo(s),s.Xo(l),s;if(l==197&&d.aa.tf(this.Dj)==0||this.Dj==197&&d.aa.tf(l)==0)return a=l==197?h:this.Se,h=l==197?this.Se:h,l=new d.l,a.A(l),d.Ud.clip(h,l,s,0);if(d.aa.tf(l)==0&&0<d.aa.tf(this.Dj)||0<d.aa.tf(l)&&d.aa.tf(this.Dj)==0){if(s=d.ta.kj(this.vg,h,!1),l==550||l==33)return d.Fg.zG(h,this.Se,s);if(this.Dj==550||this.Dj==33)return d.Fg.zG(this.Se,h,s);throw d.i.Qa()}return this.Fi!=-1&&this.Fi!=2||l!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||l!=1736||this.Dj!=1607?null:this.wK(this.Se,h):this.wK(h,this.Se)},x.prototype.wK=function(h,l){var s=h,a=l,c=d.ta.kj(this.vg,l,!1),p=new d.l;a.A(p);var y=new d.l;s.A(y),y.W(2*c,2*c),p.Ea(y),p.W(10*c,10*c),s=h=d.Ud.clip(h,p,0,0),y=new d.ia(0);var g=-1,w=a.Bb;if(w!=null){var S=w.Fk;if(S!=null){g=0,y.Jb(s.I()+s.da());for(var k=new d.l,E=s.Ga();E.$a();)for(;E.Ha();){E.ha().A(k);var P=S.Ro(k);P==1?y.add(1):P==0?y.add(0):(y.add(-1),g++)}}}if(5<l.I()&&(w=(a=l=d.Ud.clip(l,p,0,0)).Bb),0>g&&(g=s.yz()),p=s.I()+a.I(),g*a.I()>Math.log(p)*p*4)return null;p=null,g=a.Ga(),w!=null&&w.Fb!=null&&(p=w.Fb),p==null&&20<a.I()&&(p=d.ta.nE(a)),h=h.Ia(),a=null,w=s.Ga(),S=[0,0,0,0,0,0,0,0,0],k=new d.be(0),E=new d.ig,P=-1;for(var R=0,D=0,U=0<y.size,Y=-1;w.$a();){Y=w.gb;var K=0;for(P=-1,R=0;w.Ha();){var V=U?d.O.truncate(y.get(D)):-1;D++;var Q=w.ha();if(0>V){if(p!=null)for(a==null?a=p.vR(Q,c):a.Uo(Q,c),V=a.next();V!=-1;V=a.next()){g.Vb(p.ja(V)),V=g.ha();var ae=Q.Ea(V,null,S,null,c);for(V=0;V<ae;V++)k.add(S[V])}else for(g.Zi();g.$a();)for(;g.Ha();)for(V=g.ha(),ae=Q.Ea(V,null,S,null,c),V=0;V<ae;V++)k.add(S[V]);if(0<k.size){k.Vd(0,k.size,function(_e,xe){return _e-xe});var oe=0;k.add(1),ae=-1,V=0;for(var me=k.size;V<me;V++){var de=k.get(V);if(de!=oe){var Me=!1;if(oe!=0||de!=1?(Q.ah(oe,de,E),oe=E.get()):(oe=Q,Me=!0),2<=K){if(h.Dr(s,Y,P,R,K==3),this.QD(l,oe.ac(),c)!=1&&this.RD(l,oe,c)!=1)return null;h.oc(oe,!1),K=1,R=0}else switch(ae=this.RD(l,oe,c),ae){case 1:Me?2>K?(P=w.wb()-s.Ba(Y),R=1,K=K==0?3:2):R++:(h.oc(oe,K==0),K=1);break;case 0:K=0,P=-1,R=0;break;default:return null}oe=de}}}else{if(0>(V=this.QD(l,Q.ac(),c)))return null;V==1?(2>K&&(P=w.wb()-s.Ba(Y),K=K==0?3:2),R++):(P=-1,R=0)}k.clear(!1)}else V!=0&&V==1&&(K==0?(K=3,P=w.wb()-s.Ba(Y)):K==1?(K=2,P=w.wb()-s.Ba(Y)):R++)}2<=K&&(h.Dr(s,Y,P,R,K==3),P=-1)}return h},x.prototype.QD=function(h,l,s){return d.Dg.wm(h,l,s)},x.prototype.RD=function(h,l,s){var a=l.ac();l=l.wc();var c=d.Dg.wm(h,a,s),p=d.Dg.wm(h,l,s);return c==1&&p==0||c==0&&p==1?-1:c==0||p==0?0:c==1||p==1?1:((c=new d.h).add(a,l),c.scale(.5),(h=d.Dg.wm(h,c,s))==0?0:h==1?1:-1)},x.HB=function(h,l){return l?h:h.Ia()},x.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},x.prototype.qe=function(){},x}();d.HC=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 28},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c,p,y,g){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,c,p,y,g).next()):new d.xL(l,s,a,c,p,y,g)},h.instance=null,h}(d.Je);d.IC=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a,c,p,y){this.ya=-1,this.Rd=h,this.Mj=l,this.Ka=s,this.Ki=a,this.CA=c,this.uH=p,this.nd=y}return x.prototype.next=function(){var h=this.Rd.next();return h!=null?(this.ya=this.Rd.La(),this.jL(h)):null},x.prototype.La=function(){return this.ya},x.prototype.jL=function(h){var l=0>=this.uH?d.ta.kj(this.Mj,h,!1):this.uH;return d.IK.V(h,this.Ka,this.Ki,this.CA,l,this.nd)},x.prototype.qe=function(){},x}();d.xL=j}(ee||(ee={})),function(d){var j;(j=d.NK||(d.NK={}))[j.clipToDomainOnly=1]="clipToDomainOnly",j[j.clipWithHorizon=2]="clipWithHorizon",j[j.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return $e(l,h),l.prototype.getType=function(){return 0},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,a,c){return s instanceof d.aa?(s=new d.Zc(s),this.V(s,a,c).next()):new d.yL(s,a,c)},l.prototype.transform=function(s,a,c,p){return d.bu.transform(s,a,c,p,!0)},l.prototype.Qt=function(s,a,c,p){return d.bu.Qt(s,a,c,p)},l.instance=null,l}(d.Je);d.Hx=x}(ee||(ee={})),function(d){var j=function(){function x(h,l,s){this.ya=-1,this.Rd=h,this.MT=l,this.nd=s}return x.prototype.next=function(){var h=this.Rd.next();return h!=null?(this.ya=this.Rd.La(),d.bu.zh(h,this.MT,this.nd)):null},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.yL=j}(ee||(ee={})),function(d){var j=function(){function h(){}return h.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},h.prototype.AQ=function(l,s,a){for(l.Vb(s,a);l.Ha();){var c=l.ha();if((c=c.Qb())!=0)return l.wb()}for(l.Vb(s,a);l.Ez();)if((c=(c=l.li()).Qb())!=0)return l.wb();return-1},h.prototype.BQ=function(l,s){for(l.Vb(s,-1);l.Ez();)if(l.li().Qb()!=0)return l.wb();return-1},h.prototype.zQ=function(l,s){for(l.Vb(s,-1),l.ha();l.Ha();)if(l.ha().Qb()!=0)return l.wb();return-1},h.prototype.yQ=function(l,s,a,c){if(this.xk=this.AQ(s,a,c),this.xk!=-1){s.Vb(this.xk,-1);var p=s.ha(),y=p.hc(p.fe(l,!1));if(a=d.h.yc(y,l),(c=new d.h).L(y),c.sub(p.ac()),(y=new d.h).L(l),y.sub(p.ac()),this.kq=0>c.wi(y),this.ph=this.zQ(s,this.xk),this.ph!=-1){s.Vb(this.ph,-1);var g=(p=s.ha()).fe(l,!1);g=p.hc(g);var w=d.h.yc(g,l);w>a?this.ph=-1:(c.L(g),c.sub(p.ac()),y.L(l),y.sub(p.ac()),this.us=0>c.wi(y))}this.ph==-1&&(this.ph=this.BQ(s,this.xk),this.ph!=-1&&(s.Vb(this.ph,-1),g=(p=s.ha()).fe(l,!1),g=p.hc(g),(w=d.h.yc(g,l))>a?this.ph=-1:(c.L(g),c.sub(p.ac()),y.L(l),y.sub(p.ac()),this.us=0>c.wi(y),l=this.xk,this.xk=this.ph,this.ph=l,l=this.kq,this.kq=this.us,this.us=l)))}},h.prototype.cO=function(l,s,a,c,p){return a=a.Ga(),this.yQ(l,a,c,p),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(a.Vb(this.xk,-1),l=a.ha().kg(),a.Vb(this.ph,-1),s=a.ha().kg(),0<=l.wi(s)):s},h}(),x=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return $e(l,h),l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 3},l.prototype.nz=function(s,a,c){var p;if(p===void 0&&(p=!1),s.B())return new d.$l;a=a.D();var y=s,g=s.getType();switch(g==197&&((y=new d.Da).ad(s,!1),g=1736),g){case 33:return this.xI(y,a);case 550:return this.jI(y,a);case 1607:case 1736:return this.bU(y,a,c,p);default:throw d.i.fa("not implemented")}},l.prototype.oz=function(s,a){if(s.B())return new d.$l;a=a.D();var c=s,p=s.getType();switch(p==197&&((c=new d.Da).ad(s,!1),p=1736),p){case 33:return this.xI(c,a);case 550:case 1607:case 1736:return this.jI(c,a);default:throw d.i.fa("not implemented")}},l.prototype.pz=function(s,a,c,p){if(0>p)throw d.i.N();if(s.B())return[];a=a.D();var y=s,g=s.getType();switch(g==197&&((y=new d.Da).ad(s,!1),g=1736),g){case 33:return this.TU(y,a,c,p);case 550:case 1607:case 1736:return this.tU(y,a,c,p);default:throw d.i.fa("not implemented")}},l.prototype.bU=function(s,a,c,p){if(s.getType()==1736&&c&&(c=new d.l,s.A(c),c=d.ta.Wd(null,c,!1),(p?d.hd.Yd(s,a,0):d.hd.Yd(s,a,c))!=0)){var y=new d.$l(a,0,0);return p&&y.WJ(!0),y}var g=s.Ga();y=new d.h;for(var w=c=-1,S=17976931348623157e292,k=0;g.$a();)for(;g.Ha();){var E=g.ha();E=E.hc(E.fe(a,!1));var P=d.h.yc(E,a);P<S?(k=1,y=E,c=g.wb(),w=g.gb,S=P):P==S&&k++}return y=new d.$l(y,c,Math.sqrt(S)),p&&(g.Vb(c,w),E=g.ha(),p=0>d.h.Uq(a,E.ac(),E.wc()),1<k&&((k=new j).reset(),p=k.cO(a,p,s,c,w)),y.WJ(p)),y},l.prototype.xI=function(s,a){return s=s.D(),a=d.h.tb(s,a),new d.$l(s,0,a)},l.prototype.jI=function(s,a){for(var c=s.ub(0),p=s.I(),y=s=0,g=0,w=17976931348623157e292,S=0;S<p;S++){var k=new d.h;c.tc(2*S,k);var E=d.h.yc(k,a);E<w&&(y=k.x,g=k.y,s=S,w=E)}return(a=new d.$l).ey(y,g,s,Math.sqrt(w)),a},l.prototype.TU=function(s,a,c,p){return p==0?[]:(c*=c,s=s.D(),(a=d.h.yc(s,a))<=c?(c=[],(p=new d.$l).ey(s.x,s.y,0,Math.sqrt(a)),c[0]=p):c=[],c)},l.prototype.tU=function(s,a,c,p){if(p==0)return[];var y=s.ub(0),g=s.I();s=[],c*=c;for(var w=0;w<g;w++){var S=y.read(2*w),k=y.read(2*w+1),E=a.x-S,P=a.y-k;(E=E*E+P*P)<=c&&((P=new d.$l).ey(S,k,w,Math.sqrt(E)),s.push(P))}return a=s.length,s.sort(function(R,D){return R.Ka<D.Ka?-1:R.Ka==D.Ka?0:1}),p>=a||(s.length=p),s.slice(0)},l.instance=null,l}(d.Je);d.Ix=x}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 4},h.prototype.V=function(l,s,a,c,p){return d.am.yB(l,s,a,c,p)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.Iu=function(l){return d.Vt.wy(l)},h.prototype.wn=function(l,s,a){d.Vt.CD(l,s,a)},h.instance=null,h}(d.Je);d.zL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 33},h.prototype.V=function(l,s,a,c,p){return l===1073741824?!d.ud.zB(s,a,c,4,p):d.ud.zB(s,a,c,l,p)},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.Iu=function(l){return d.Vt.wy(l)},h.prototype.wn=function(l,s,a){d.Vt.CD(l,s,a)},h.instance=null,h}(d.Je);d.dj=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a){if(this.nd=a,this.rT=s,this.ya=-1,h==null)throw d.i.N();this.yk=h,this.Mj=l}return x.prototype.next=function(){var h;if((h=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw d.i.fu("user_canceled");return this.eC(h)}return null},x.prototype.La=function(){return this.ya},x.prototype.eC=function(h){if(h==null)throw d.i.N();return d.Jx.cK(h,this.Mj,this.rT,this.nd)},x.prototype.qe=function(){},x}();d.AL=j}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 26},h.prototype.V=function(l,s,a,c){return l instanceof d.aa?(l=new d.Zc(l),this.V(l,s,a,c).next()):new d.AL(l,s,a,c)},h.prototype.rs=function(l,s,a,c,p){return 0<(c!==void 0?d.Jx.rs(l,s,a,c,p):d.Jx.rs(l,s,!1,null,a))},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.Yl=j}(ee||(ee={})),function(d){var j=function(){function p(){this.yq=0}return p.prototype.nX=function(y){this.yq&=-2,this.yq|=y?1:0},p.prototype.Wp=function(){return!!(1&this.yq)},p.prototype.XF=function(){return this.Wp()?0:1},p}();d.xY=j;var x=function(){},h=function(p,y,g,w){this.x=p,this.y=y,this.Ai=g,this.xm=w},l=function(){function p(y){this.Be=y}return p.prototype.compare=function(y,g,w){return y=y.ja(w),g=this.Be.lf.read(2*g),0>(g-=y=this.Be.lf.read(2*y))?-1:0<g?1:0},p}(),s=function(){function p(y){this.Be=y}return p.prototype.compare=function(y,g,w){g=this.Be.hb[g],y=this.Be.hb[y.ja(w)];var S=g.Wp(),k=y.Wp();w=g.ne.Pe(this.Be.Mo,0);var E=y.ne.Pe(this.Be.Mo,0);return w==E&&((S=.5*((w=Math.min(S?g.ne.na:g.ne.la,k?y.ne.na:y.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(S=w),w=g.ne.Pe(S,0),E=y.ne.Pe(S,0)),w<E?-1:w>E?1:0},p}(),a=function(){function p(y,g){this.YI=new d.h,this.parent=y,this.dS=g}return p.prototype.nr=function(y,g,w){var S=this.parent,k=this.dS;w.Vd(y,g,function(E,P){return S.Mh(E,P,k)})},p.prototype.$p=function(y){return y=this.parent.gi.get(y),this.parent.lf.tc(2*(y>>1),this.YI),this.YI.y+(1&y?this.parent.Oj:-this.parent.Oj)},p}(),c=function(){function p(y,g,w,S,k){this.nH=y.description,this.X=y,this.Qg=g,this.Oj=d.ta.kj(this.Qg,y,!1),this.Bo=d.ta.kj(this.Qg,y,!0),this.xA=w,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new d.jp,this.fb=new d.Yj,this.ke=new d.Md,this.ZG=this.ql=k}return p.prototype.eT=function(){return this.ZG=!0,(!d.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?d.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},p.prototype.kC=function(y,g){var w=this.lf.read(2*y);y=this.lf.read(2*y+1);var S=this.lf.read(2*g);g=this.lf.read(2*g+1);var k=!d.Yt.Cv(w,y,S,g,this.Oj*this.Oj);return k||this.X.Db()!=0&&w==S&&y==g},p.prototype.GE=function(){for(var y=this.X,g=y.xf?3:2,w=0,S=y.da();w<S;w++)if(y.Ja(w)<g)return this.ke=new d.Md(1,w,0),!1;return!0},p.prototype.DE=function(y){var g=this.X,w=g.Ga(),S=g.hasAttribute(1);for(g=S?d.ta.wE(this.Qg,g,!1):0;w.$a();)for(;w.Ha();){var k=w.ha();if(!(k.Qb()>this.Oj)){if(y&&S){var E=k.wv(1,0);if(k=k.wv(1,0),Math.abs(k-E)>g)continue}return this.ke=new d.Md(2,w.wb(),-1),!1}}return!0},p.prototype.mO=function(){var y=this.X,g=null;d.aa.Hc(this.X.getType())&&(g=this.X);var w=(this.ZG||this.ql)&&g!=null,S=y.I();this.lf=y.ub(0),this.gi=new d.ia(0),this.gi.Jb(2*S),this.fi=new d.ia(0),this.fi.Jb(2*S),w&&(this.Fl==null&&(this.Fl=new d.ia(0)),this.Fl.Jb(S));for(var k=y=0;k<S;k++)if(this.gi.add(2*k),this.gi.add(2*k+1),this.fi.add(2*k),this.fi.add(2*k+1),w){for(;k>=g.Vc(y);)y++;this.Fl.add(y)}for(new d.Xt().sort(this.fi,0,2*S,new a(this,w)),this.fb.clear(),this.fb.Vo(new l(this)),this.fb.De(S),g=0,S*=2;g<S;g++)if(w=this.fi.get(g),w=(y=this.gi.get(w))>>1,1&y){if(y=this.fb.search(w,-1),k=this.fb.we(y),E=this.fb.lb(y),this.fb.vd(y,-1),k!=-1&&E!=-1&&!this.kC(this.fb.ja(k),this.fb.ja(E)))return this.ke=new d.Md(3,this.fb.ja(k),this.fb.ja(E)),!1}else{if(y=this.fb.addElement(w,-1),(k=this.fb.we(y))!=-1&&!this.kC(this.fb.ja(k),w))return this.ke=new d.Md(3,w,this.fb.ja(k)),!1;var E=this.fb.lb(y);if(E!=-1&&!this.kC(this.fb.ja(E),w))return this.ke=new d.Md(3,w,this.fb.ja(E)),!1}return!0},p.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},p.prototype.oO=function(){var y=new d.gd;y.Ib(this.X);var g=new d.Md;return!d.$t.kI(!1,y,this.Oj,g,this.nd)||(g.Jo=y.Ua(g.Jo),g.Ko=y.Ua(g.Ko),this.ke.Wt(g),!1)},p.prototype.nO=function(){var y=this.X,g=y.Ga();for(y=y.Ga();g.$a();)for(;g.Ha();){var w=g.ha();if(!g.Qn()||!g.$S()){y.BW(g);do for(;y.Ha();){var S=y.ha();if((S=w.zr(S,this.Oj,!0))!=0)return this.ke=new d.Md(S==2?5:4,g.wb(),y.wb()),!1}while(y.$a())}}return!0},p.prototype.sO=function(){var y=this.X;this.hb.length=0,this.po.length=0,this.Zf=y.Ga(),this.Zf.JB();var g=new d.ia(0);g.Jb(10);var w=NaN,S=0,k=0;for(y=2*y.I();k<y;k++){var E=this.fi.get(k);if(!(1&(E=this.gi.get(E)))){E>>=1;var P=this.lf.read(2*E),R=this.lf.read(2*E+1);if(g.size!=0&&(P!=w||R!=S)){if(!this.RI(g))return!1;g!=null&&g.clear(!1)}g.add(E),w=P,S=R}}return!!this.RI(g)},p.prototype.rO=function(){for(var y=this.X,g=Array(y.da()),w=0,S=y.da();w<S;w++)g[w]=y.Nn(w);S=new x;var k=new d.h;w=this.fi.get(0);var E=(w=this.gi.get(w))>>1;this.lf.tc(2*E,k);var P=g[w=this.Fl.get(E)],R=y.Ba(w),D=y.Vc(w)-1;S.el=E==R||E==D,S.ny=this.ql?!P&&S.el:S.el,S.Ai=w,S.x=k.x,S.y=k.y,S.xm=E;for(var U=new x,Y=1,K=this.fi.size;Y<K;Y++)if(w=this.fi.get(Y),!(1&(w=this.gi.get(w)))){E=w>>1,this.lf.tc(2*E,k),(w=this.Fl.get(E))!=S.Ai&&(P=g[w],R=y.Ba(w),D=y.Vc(w)-1);var V=E==R||E==D,Q=this.ql?!P&&S.el:S.el;if(U.x=k.x,U.y=k.y,U.Ai=w,U.xm=E,U.ny=Q,U.el=V,U.x==S.x&&U.y==S.y){if(this.ql){if(!(U.ny&&S.ny||U.Ai==S.Ai&&(U.el||S.el)))return this.ke=new d.Md(8,U.xm,S.xm),!1}else if(!U.el||!S.el)return this.ke=new d.Md(5,U.xm,S.xm),!1}w=S,S=U,U=w}return!0},p.prototype.JE=function(){for(var y=this.X,g=[],w=-1,S=!1,k=0,E=y.da();k<E;k++)y.Ev(k)&&(S=!1,w++,k<E-1&&(y.Ev(k+1)||(S=!0))),g[k]=S?w:-1;S=new d.h,k=this.fi.get(0);var P=(k=this.gi.get(k))>>1;this.lf.tc(2*P,S),k=this.Fl.get(P),w=new h(S.x,S.y,k,P,g[k]),y=[];var R=1;for(E=this.fi.size;R<E;R++)if(k=this.fi.get(R),!(1&(k=this.gi.get(k)))){if(P=k>>1,this.lf.tc(2*P,S),k=this.Fl.get(P),(k=new h(S.x,S.y,k,P,g[k])).x==w.x&&k.y==w.y){if(k.Ai==w.Ai)return this.ke=new d.Md(9,k.xm,w.xm),!1;0<=g[k.Ai]&&g[k.Ai]==g[w.Ai]&&(y.length!=0&&y[y.length-1]==w||y.push(w),y.push(k))}w=k}if(y.length==0)return!0;for(k=new d.jp(!0),d.O.$u(g,-1),S=-1,(R=new d.h).Rc(),w=0,E=y.length;w<E;w++){(P=y[w]).x==R.x&&P.y==R.y||(S=k.Ph(0),R.x=P.x,R.y=P.y);var D=g[P.Ai];D==-1&&(D=k.Ph(2),g[P.Ai]=D),k.addElement(D,S),k.addElement(S,D)}for((E=new d.ia(0)).Jb(10),w=k.je;w!=-1;w=k.qz(w))if(!(1&(y=k.PF(w)))&&2&y){for(y=-1,E.add(w),E.add(-1);0<E.size;){if(S=E.Fc(),E.If(),R=E.Fc(),E.If(),1&(P=k.PF(R))){y=2&P?R:S;break}for(k.fX(R,1|P),P=k.rc(R);P!=-1;P=k.lb(P))(D=k.getData(P))!=S&&(E.add(D),E.add(R))}if(y!=-1){for(k=-1,w=0,E=g.length;w<E;w++)if(g[w]==y){k=w;break}return this.ke=new d.Md(10,k,-1),!1}}return!0},p.prototype.tO=function(){var y=this.X;if(0>=y.Ke())return this.ke=new d.Md(6,y.da()==1?1:-1,-1),0;if(y.da()==1)return this.ql&&!this.JE()?0:2;this.to=d.ia.qf(y.da(),0),this.JA=d.ia.qf(y.da(),-1);for(var g=-1,w=0,S=0,k=y.da();S<k;S++){var E=y.Ir(S);if(this.to.write(S,0>E?0:256),0<E)g=S,w=E;else{if(E==0)return this.ke=new d.Md(6,S,-1),0;if((0>g||w<Math.abs(E))&&(this.ke=new d.Md(7,S,-1),this.ql))return 0;this.JA.write(S,g)}}for(this.dt=y.da(),this.Om=new d.ia(0),this.Om.Jb(10),k=y.I(),this.Mo=NaN,(y=new d.ia(0)).Jb(10),this.Qq=d.ia.qf(k,-1),this.Hw=d.ia.qf(k,-1),this.zj!=null?this.zj.clear(!1):this.zj=new d.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new s(this)),g=0,k*=2;0<this.dt&&g<k;g++)if(w=this.fi.get(g),!(1&(w=this.gi.get(w)))){if(w>>=1,(S=this.lf.read(2*w+1))!=this.Mo&&y.size!=0){if(!this.ut(y))return 0;y!=null&&y.clear(!1)}y.add(w),this.Mo=S}return 0<this.dt&&!this.ut(y)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},p.prototype.RI=function(y){if(y.size==1)return!0;for(var g=0,w=y.size;g<w;g++){var S=y.get(g);this.Zf.Vb(S);var k=this.Zf.li();this.hb.push(this.Su(k,S,this.Zf.gb,!0)),this.Zf.ha(),k=this.Zf.ha(),this.hb.push(this.Su(k,S,this.Zf.gb,!1))}var E=this;for(this.hb.sort(function(D,U){return E.XP(D,U)}),(S=this.mh.je)==-1&&(S=this.mh.Ph(0)),this.mh.fn(this.hb.length),g=0,w=this.hb.length;g<w;g++)this.mh.addElement(S,g);g=!0;for(var P=w=-1;g&&(g=!1,(k=this.mh.rc(S))!=-1);)for(var R=this.mh.lb(k);R!=-1;)if(w=this.mh.getData(k),P=this.mh.getData(R),(w=this.hb[w].Io)!=(P=this.hb[P].Io))k=R,R=this.mh.lb(k);else if(g=!0,this.mh.jd(S,k),k=this.mh.we(R),(R=this.mh.jd(S,R))==-1||k==-1)break;if(g=this.mh.bs(S),this.mh.LE(S),0<g)return this.ke=new d.Md(5,w,P),!1;for(g=0,w=y.size;g<w;g++)this.vB(this.hb[g]);return this.hb.length=0,!0},p.prototype.ut=function(y){for(var g=0,w=y.size;g<w;g++){var S=y.get(g),k=this.Qq.read(S);if(k!=-1){var E=this.fb.ja(k);this.zj.add(E),this.fb.vd(k,-1),this.vB(this.hb[E]),this.hb[E]=null,this.Qq.write(S,-1)}(k=this.Hw.read(S))!=-1&&(E=this.fb.ja(k),this.zj.add(E),this.fb.vd(k,-1),this.vB(this.hb[E]),this.hb[E]=null,this.Hw.write(S,-1))}for(g=0,w=y.size;g<w;g++){if(S=y.get(g),this.Zf.Vb(S),(k=this.Zf.li()).na>k.la){var P=this.Zf.wb(),R=this.Su(k,S,this.Zf.gb,!0);0<this.zj.size?(E=this.zj.Fc(),this.zj.If(),this.hb[E]=R):(E=this.hb.length,this.hb.push(R)),k=this.fb.addElement(E,-1),this.Qq.read(P)==-1?this.Qq.write(P,k):this.Hw.write(P,k),!(3&this.to.read(this.Zf.gb))&&this.Om.add(k)}this.Zf.ha(),(k=this.Zf.ha()).na<k.la&&(P=this.Zf.ik(),R=this.Su(k,S,this.Zf.gb,!1),0<this.zj.size?(E=this.zj.Fc(),this.zj.If(),this.hb[E]=R):(E=this.hb.length,this.hb.push(R)),k=this.fb.addElement(E,-1),this.Qq.read(P)==-1?this.Qq.write(P,k):this.Hw.write(P,k),!(3&this.to.read(this.Zf.gb))&&this.Om.add(k))}for(g=0,w=this.Om.size;g<w&&0<this.dt;g++)if(k=this.Om.get(g),!(3&this.to.read(this.hb[this.fb.ja(k)].IA))){y=-1,S=this.fb.we(k);var D=k;R=null,E=-1;for(var U=0;S!=-1&&(E=this.fb.ja(S),E=(R=this.hb[E]).IA,!(3&(U=this.to.read(E))));)D=S,S=this.fb.we(S);S==-1?(P=1,S=D):(y=(3&U)==1?E:this.JA.read(E),P=R.XF()!=0?0:1,S=this.fb.lb(S));do{if(E=this.fb.ja(S),E=(R=this.hb[E]).IA,!(3&(D=this.to.read(E)))){if(P!=R.XF())return this.ke=new d.Md(6,E,-1),!1;if(D=252&D|(U=P==0||R.Wp()?2:1),this.to.write(E,U),U==2&&this.ke.Jj==0&&this.JA.read(E)!=y&&(this.ke=new d.Md(7,E,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&D)==1&&(y=E),D=S,S=this.fb.lb(S),P=P!=0?0:1}while(D!=k)}return this.Om!=null?this.Om.clear(!1):this.Om=new d.ia(0),!0},p.prototype.Su=function(y,g,w,S){if(y.getType()!=322)throw d.i.Qa();return(y=this.sP(y)).Io=g,y.IA=w,y.yq=0,y.nX(S),y},p.prototype.sP=function(y){if(0<this.po.length){var g=this.po[this.po.length-1];--this.po.length,y.copyTo(g.ne)}else(g=new j).ne=d.SC.jg(y);return g},p.prototype.vB=function(y){y.ne.getType()==322&&this.po.push(y)},p.prototype.kU=function(){for(var y=this.X.I(),g=new d.ia(0),w=0;w<y;w++)g.add(w);var S=this;for(g.Vd(0,y,function(k,E){return S.Ou(k,E)}),w=1;w<y;w++)if(this.Ou(g.get(w-1),g.get(w))==0)return this.ke=new d.Md(3,g.get(w-1),g.get(w)),0;return 2},p.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},p.prototype.oV=function(){return this.eT()},p.prototype.pU=function(){for(var y=this.X.I(),g=new d.ia(0),w=0;w<y;w++)g.add(w);var S=this;g.Vd(0,y,function(D,U){return S.PO(D,U)});var k=Array(y);for(d.O.$u(k,!1),k[g.get(0)]=!0,w=1;w<y;w++){var E=g.get(w-1),P=g.get(w);this.Ou(E,P)==0?k[P]=!1:k[P]=!0}g=this.X.Ia(),E=this.X,P=0;var R=1;for(w=0;w<y;w++)k[w]?R=w+1:(P<R&&g.Fd(E,P,R),P=w+1);return P<R&&g.Fd(E,P,R),g.Ch(2,this.Bo),g},p.prototype.NV=function(){var y=this.X,g=y.Ga(),w=y.Ga(),S=this.X.Ia(),k=this.X,E=y.hasAttribute(1),P=E?d.ta.wE(this.Qg,y,!0):0,R=new d.ia(0),D=new d.ia(0);for(R.Jb(d.O.truncate(y.I()/2+1)),D.Jb(d.O.truncate(y.I()/2+1));g.$a();)if(w.$a(),!(2>y.Ja(g.gb))){w.EW();for(var U,Y,K=!0;g.Ha();){var V=g.ha(),Q=w.li();if(g.wb()>w.wb())break;K&&(R.add(g.wb()),D.add(w.ik()),K=!1),Y=R.Fc();var ae=g.ik();if(1<ae-Y){var oe=new d.h;oe.uc(y.Na(Y),y.Na(ae)),U=oe.length()}else U=V.Qb();Y=D.Fc(),1<(ae=w.wb())-Y?((oe=new d.h).uc(y.Na(Y),y.Na(ae)),Y=oe.length()):Y=Q.Qb(),U>this.Bo?R.add(g.ik()):E&&(U=y.Uc(1,R.Fc(),0),V=V.gv(1,0),Math.abs(V-U)>P&&R.add(g.ik())),Y>this.Bo?D.add(w.wb()):E&&(U=y.Uc(1,D.Fc(),0),V=Q.gv(1,0),Math.abs(V-U)>P&&D.add(w.wb()))}if(R.Fc()<D.Fc()?R.size>D.size?R.If():D.If():(R.Fc()!=D.Fc()&&D.If(),D.If()),2<=D.size+R.size){for(K=new d.Sa,Q=0,V=R.size;Q<V;Q++)k.ve(R.get(Q),K),Q==0?S.nf(K):S.lineTo(K);for(Q=D.size-1;0<Q;Q--)k.ve(D.get(Q),K),S.lineTo(K);k.dc(g.gb)?S.Ap():0<D.size&&(k.ve(D.get(0),K),S.lineTo(K))}R!=null&&R.clear(!1),D!=null&&D.clear(!1)}return S.Ch(2,this.Bo),S},p.prototype.rV=function(){return this.DX()},p.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?d.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new d.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&d.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&d.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},p.rs=function(y,g,w,S,k){if(S!=null&&(S.Jj=0,S.Jo=-1,S.Ko=-1),y.B())return 1;var E=y.getType();if(E==33)return 1;var P=d.ta.kj(g,y,!1);if(E==197)return g=new d.l,y.A(g),g.Bi(P)?(S!=null&&(S.Jj=2,S.Jo=-1,S.Ko=-1),0):1;if(d.aa.yd(E))return(P=new d.Ta(y.description)).oc(y,!0),p.rs(P,g,w,S,k);var R=y.om(P);if((w=w?-1:R)!=-1)return w;if(g=new p(y,g,w,k,!1),E==550)w=g.kU();else if(E==1607)w=g.JV();else{if(E!=1736)throw d.i.Qa();w=g.oV()}return y.Ch(w,P),S!=null&&w==0&&S.Wt(g.ke),w},p.cK=function(y,g,w,S){if(y.B())return y;var k=y.getType();if(k==33)return y;var E=d.ta.kj(g,y,!1);if(k==197)return g=new d.l,y.A(g),g.Bi(E)?y.Ia():y;if(d.aa.yd(k))return(k=new d.Ta(y.description)).oc(y,!0),p.cK(k,g,w,S);if(E=y.om(E),(w=w?-1:E)==2)return y;if(y=new p(y,g,w,S,!1),k==550)y=y.pU();else if(k==1607)y=y.NV();else{if(k!=1736)throw d.i.Qa();y=y.rV()}return y},p.prototype.Mh=function(y,g,w){if(y==g)return 0;y=this.gi.get(y);var S=this.gi.get(g);g=y>>1;var k=S>>1,E=new d.h,P=new d.h;return this.lf.tc(2*g,E),E.y+=1&y?this.Oj:-this.Oj,this.lf.tc(2*k,P),P.y+=1&S?this.Oj:-this.Oj,(y=E.compare(P))==0&&w?0>(w=this.Fl.get(g)-this.Fl.get(k))?-1:0<w?1:0:y},p.prototype.Ou=function(y,g){if(y==g)return 0;var w=this.X,S=w.Na(y),k=w.Na(g);if(S.x<k.x)return-1;if(S.x>k.x)return 1;if(S.y<k.y)return-1;if(S.y>k.y)return 1;for(S=1;S<this.oT;S++){k=this.nH.kd(S);for(var E=d.ra.Va(k),P=0;P<E;P++){var R=w.Uc(k,y,P),D=w.Uc(k,g,P);if(R<D)return-1;if(R>D)return 1}}return 0},p.prototype.PO=function(y,g){var w=this.Ou(y,g);return w==0?y<g?-1:1:w},p.prototype.XP=function(y,g){if(y===g)return 0;var w=y.ne.kg();y.Wp()&&w.Sq(),y=g.ne.kg(),g.Wp()&&y.Sq(),g=w.qu();var S=y.qu();return S==g?(g=w.wi(y),Math.abs(g)<=8881784197001252e-31*(Math.abs(y.x*w.y)+Math.abs(y.y*w.x))&&(g--,g++),0>g?1:0<g?-1:0):g<S?-1:1},p}();d.Jx=c}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 30},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.prototype.V=function(l,s,a,c){return l instanceof d.aa?(l=new d.Zc(l),s=new d.Zc(s),this.V(l,s,a,c).next()):new d.BL(l,s,a,c)},h.ep=function(l,s,a,c){var p=l.Db(),y=s.Db();if(l.B()&&s.B())return p>y?l:s;if(l.B())return s;if(s.B())return l;var g=new d.l,w=new d.l,S=new d.l;return l.A(g),s.A(w),S.K(g),S.Zb(w),g=d.ta.Wd(a,S,!0),w=l.getType(),S=s.getType(),w==33&&S==33?h.aV(l,s,g):w!=S?0<p||0<y?p>y?l:s:w==550?h.iI(l,s,g):h.iI(s,l,g):d.Fg.ep(l,s,a,c)},h.aV=function(l,s,a){a=a*Math.sqrt(2)*1.00001,a*=a;var c=l.D(),p=s.D(),y=new d.de(l.description);return d.h.yc(c,p)>a&&(y.add(l),y.add(s)),y},h.iI=function(l,s,a){var c=l.ub(0),p=l.I(),y=s.D(),g=l.Ia();a=a*Math.sqrt(2)*1.00001;var w=new d.l;if(l.A(w),w.W(a,a),w.contains(y)){a*=a,w=!1;for(var S=[],k=0;k<p;k++)S[k]=!1;for(k=0;k<p;k++){var E=c.read(2*k),P=c.read(2*k+1);(E-=y.x)*E+(P-=y.y)*P<=a&&(w=!0,S[k]=!0)}if(w)for(k=0;k<p;k++)S[k]||g.Fd(l,k,k+1);else g.Fd(l,0,p),g.add(s)}else g.Fd(l,0,p),g.add(s);return g},h.instance=null,h}(d.Je);d.Kx=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s,a){this.ts=l==null,this.ya=-1,this.Rd=h,this.vg=s,this.NT=l.next(),this.Ub=a}return x.prototype.next=function(){return this.ts?null:(h=this.Rd.next())!=null?(this.ya=this.Rd.La(),d.Kx.ep(h,this.NT,this.vg,this.Ub)):null;var h},x.prototype.La=function(){return this.ya},x.prototype.qe=function(){},x}();d.BL=j}(ee||(ee={})),function(d){var j=function(){function l(){}return l.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},l}(),x=function(){function l(){this.Gr=0,this.pj=[]}return l.prototype.pN=function(s){this.Gr+=s.Ax,this.pj.push(s)},l.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},l.prototype.my=function(){return this.pj[this.pj.length-1]},l.prototype.Nb=function(s){return s===this},l}(),h=function(){function l(s,a,c){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=s,this.vg=a,this.Ub=c}return l.dE=function(s){var a=[],c=0;for(s=Object.keys(s);c<s.length;c++)a.push(Number(s[c]));return a.sort(function(p,y){return p-y}),a},l.prototype.fG=function(s){var a=this.Do[s],c=l.dE(a)[0],p=a[c],y=p.my().$y;return p=p.my().AK,delete a[c],p&&(y=d.Yl.local().V(y,this.vg,!1,this.Ub),s==0&&y.getType()==33&&(s=new d.de(y.description),y.B()||s.add(y),y=s)),y},l.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw d.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},l.prototype.La=function(){return this.ya},l.prototype.qK=function(){if(this.Ic)return!0;var s=null;if(this.Rd!=null&&(s=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),d.mp.zp(this.Ub),s!=null){var a=s.Db();this.AH[a]=!0,a>=this.zk&&!this.jA&&(this.ND(a,!1,s),a>this.zk&&!this.jA&&this.zW(a))}if(0<this.iq)for(a=0;a<=this.zk;a++)for(;1<this.uq[a]&&(s=this.FO(a)).length!=0;)s=d.Fg.VP(s,this.vg,this.Ub),this.ND(a,!0,s);return this.Ic},l.prototype.FO=function(s){for(var a=[],c=[],p=this.Do[s],y=l.dE(p),g=0;g<y.length;g++){var w=y[g],S=p[w];if(this.Ic||1e4<S.Gr&&1<S.pj.length){for(this.uq[s]-=S.pj.length,this.iq-=S.pj.length;0<S.pj.length;)a.push(S.my().$y),S.TV();c.push(w)}}for(g=0;g<c.length;g++)delete p[c[g]];return a},l.prototype.zW=function(s){for(var a=0;a<s;a++)this.Do[a]=[],this.iq-=this.uq[a],this.uq[a]=0},l.prototype.ND=function(s,a,c){var p=new j;if(p.Fz(),p.$y=c,c=l.eS(c),p.Ax=c,c=l.cS(c),s+1>this.Do.length)for(var y=0,g=Math.max(2,s+1);y<g;y++)this.Do.push([]);(y=this.Do[s][c])===void 0&&(y=new x,this.Do[s][c]=y),p.AK=a,y.pN(p),this.uq[s]++,this.iq++,this.zk=Math.max(this.zk,s)},l.cS=function(s){return 0<s?d.O.truncate(Math.log(s)/Math.log(4)+.5):0},l.eS=function(s){var a=s.getType();if(d.aa.xj(a))return s.I();if(a==33)return 1;if(a==197)return 4;if(d.aa.yd(a))return 2;throw d.i.Qa()},l.prototype.qe=function(){this.qK()},l}();d.DL=h}(ee||(ee={})),function(d){var j=function(x){function h(){return x!==null&&x.apply(this,arguments)||this}return $e(h,x),h.prototype.getType=function(){return 1},h.prototype.V=function(l,s,a,c){return c===void 0?new d.DL(l,s,a):this.gQ(l,s,a,c)},h.prototype.gQ=function(l,s,a,c){return l=new d.Zc([l,s]),this.V(l,a,c).next()},h.local=function(){return h.instance===null&&(h.instance=new h),h.instance},h.instance=null,h}(d.Je);d.Gh=j}(ee||(ee={})),function(d){var j,x;(x=j||(j={}))[x.nextPath=0]="nextPath",x[x.nextSegment=1]="nextSegment",x[x.iterate=2]="iterate",j=function(){function h(l,s,a,c){this.Ts=new d.l,this.GT=l,this.HT=s,this.mq=c,this.uo=-1,this.rl=!1;var p=l.Bb;p!=null&&(p=c?p.zo:p.Fb)!=null&&(this.Ic=!1,this.qa=a,this.Fb=p,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,c?this.uo=s.da():this.sd=s.Ga()),this.rl||(p=s.Bb)!=null&&(p=c?p.zo:p.Fb)!=null&&(this.Ic=!1,this.qa=a,this.Fb=p,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,c?this.uo=l.da():this.sd=l.Ga()),this.rl||(this.ci=c?d.ta.mR(l,s,a,1<=l.om(0),1<=s.om(0)):d.ta.lR(l,s,a))}return h.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var l=!0;l;)switch(this.Xb){case 0:l=this.xU();break;case 1:l=this.yU();break;case 2:l=this.Uz();break;default:throw d.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},h.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},h.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},h.prototype.uz=function(){if(!this.mq)throw d.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},h.prototype.az=function(){if(!this.mq)throw d.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},h.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},h.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var l=this.sd.ha();return this.xw.Uo(l,this.qa),this.Xb=2,!0},h.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},h}(),d.Zl=j}(ee||(ee={})),function(d){(d=d.OL||(d.OL={}))[d.enumClosed=1]="enumClosed",d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",d[d.enumOGCStartPolygon=4]="enumOGCStartPolygon",d[d.enumCalcMask=4]="enumCalcMask"}(ee||(ee={})),function(d){d.QC=function(){function j(){}return j.tb=function(x,h,l,s,a,c,p,y,g){var w=[0,0,0],S=[0,0,0],k=[0,0,0],E=[0,0,0,0],P=new d.ga(0),R=new d.ga(0),D=new d.ga(0);if(p!=null||y!=null||g!=null)if(d.s.ti(h))d.Yg.tb(x,l,s,a,c,p,y,g);else{a=d.F.ba(a),l=d.F.ba(l);var U=d.F.ba(a-l);if(d.s.Y(s,c)&&(d.s.Y(l,a)||d.s.Y(d.s.P(s),1.570796326794897)))p!=null&&(p.u=0),y!=null&&(y.u=0),g!=null&&(g.u=0);else{if(d.s.Y(s,-c)){if(d.s.Y(d.s.P(s),1.570796326794897))return p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0<s?d.F.ba(3.141592653589793-d.F.ba(a)):d.F.ba(a)),void(g!=null&&(g.u=0<s?d.F.ba(a):d.F.ba(3.141592653589793-d.F.ba(a))));d.s.Y(d.s.P(U),3.141592653589793)&&(p!=null&&(p.u=2*d.F.Ah(x,h)),y!=null&&(y.u=0),g!=null&&(g.u=0))}else if(d.s.Y(d.s.P(s),1.570796326794897)||d.s.Y(d.s.P(c),1.570796326794897)||d.s.Y(l,a)||d.s.Y(d.s.P(U),3.141592653589793)||d.s.Cd(s))return void d.Wk.tb(x,h,l,s,a,c,p,y,g);var Y=Math.sqrt(1-h);a=d.F.ba(a-l),l=0,d.F.cl(1,h,s,l,0,P,R,D),w[0]=P.u,w[1]=R.u,w[2]=D.u,d.F.cl(1,h,c,a,0,P,R,D),S[0]=P.u,S[1]=R.u,S[2]=D.u,k[0]=0,k[1]=0,k[2]=-1*h*d.F.n(1,h,s)*Math.sin(s),0>a?d.F.Wq(k,S,w,E,0):d.F.Wq(k,w,S,E,0),R=[0,0,0],D=[0,0,0];var K=[0,0,0];w=[0,0,0],P=[0,0,0];var V=Math.acos(E[2]/1),Q=1-h,ae=Math.tan(V),oe=1+ae*ae/Q,me=2*k[2]*ae/Q;for(Q=(-me+(ae=Math.sqrt(me*me-4*oe*(k[2]*k[2]/Q-1))))/(oe*=2),me=(-me-ae)/oe,ae=Math.tan(V),V=(Q+me)/2,k=((oe=ae*Q+k[2])+(ae*me+k[2]))/2,ae=d.F.gp(Q-V,oe-k),Q=k/Y*1.570796326794897,me=0;100>me&&(oe=(oe=d.F.w(h,Q))*oe/Math.cos(Q)*(Math.sin(Q)-k*oe/(1-h)),!d.s.Cd(oe));me++)Q-=oe;k=d.F.n(1,h,Q)*Math.cos(Q),ae=1-ae/(k=Math.sqrt((k-V)*(k+V))),ae*=2-ae,oe=d.F.on(R),V=d.F.on(D),Q=d.F.on(K);var de=d.F.St(K,R);me=d.F.St(K,D),d.F.zx(K,R,w),d.F.zx(K,D,P),R=Math.acos(de/(Q*oe)),D=Math.acos(me/(Q*V)),D*=d.s.Mb(1,d.F.St(w,P)),(1.570796326794897<=d.s.P(R)&&1.570796326794897<=d.s.P(D)||3.141592653589793<d.s.P(R-D))&&(R=(3.141592653589793-d.s.P(R))*d.s.Mb(1,R),D=(3.141592653589793-d.s.P(D))*d.s.Mb(1,D)),w=d.F.Qj(ae,D),P=d.F.q(k,ae,d.F.Qj(ae,R)),w=d.F.q(k,ae,w),w=d.s.P(w-P)*x,R=new d.ga(0),D=new d.ga(0),K=E[1]/1,K*=-d.s.Mb(1,U),P=Math.acos(K)*d.s.Mb(1,U),j.rf(x,h,l,s,w,P,R,D),d.s.Y(a,R.u)&&d.s.Y(c,D.u)||(ae=d.F.gp(d.F.ba(a-R.u),c-D.u),j.rf(x,h,l,s,w,d.F.ba(P+3.141592653589793),R,D),(oe=d.F.gp(d.F.ba(a-R.u),c-D.u))<ae&&(P=d.F.ba(P+3.141592653589793))),R=[0,0,0,0],D=[0,0,0,0],ae=[0,0,0],x=[0,0,0],l=[0,0,0],s=[0,0,0],K=[0,0,0],(k=[0,0,0])[0]=0,k[1]=0,k[2]=Y,ae[0]=0,ae[1]=0,ae[2]=0,d.F.Wq(ae,k,S,R,0),d.s.Cd(c)?(x[0]=S[0],x[1]=S[1],x[2]=1,l[0]=1*Math.cos(a)-1*Math.sin(a),l[1]=1*Math.sin(a)+1*Math.cos(a)):(h=d.F.n(1,h,c)*Math.cos(c),x[0]=0,x[1]=0,S[2]+=Math.tan(1.570796326794897-d.s.P(c))*h*d.s.Mb(1,c),l[0]=h*Math.cos(a)-h*Math.sin(a),l[1]=h*Math.sin(a)+h*Math.cos(a)),l[2]=S[2],d.F.Wq(S,l,x,D,1),d.F.zx(D,R,s),d.F.zx(D,E,K),K=d.F.St(s,K)/(d.F.on(s)*d.F.on(K)),K*=d.s.Mb(1,U),a=Math.acos(K)*-d.s.Mb(1,U),(0<P&&0<a||0>P&&0>a)&&(a=d.F.ba(a+3.141592653589793)),p!=null&&(p.u=w),y!=null&&(y.u=P),g!=null&&(g.u=a)}}},j.rf=function(x,h,l,s,a,c,p,y){var g=[0,0,0],w=[0,0,0],S=[0,0,0],k=[0,0,0],E=[0,0,0],P=[0,0,0],R=[0,0,0],D=[0,0,0,0],U=new d.ga(0),Y=new d.ga(0),K=new d.ga(0),V=new d.ga(0),Q=new d.ga(0),ae=new d.ga(0);if(p!=null&&y!=null)if(d.s.ti(h))d.Yg.rf(x,l,s,a,c,p,y);else if(d.s.Cd(a))p!=null&&(p.u=l),y!=null&&(y.u=s);else if(c=d.F.ba(c),0>a&&(a=d.s.P(a),c=d.F.ba(c+3.141592653589793)),l=d.F.ba(l),s=d.F.ba(s),1.570796326794897<d.s.P(s)&&(l=d.F.ba(l+3.141592653589793),s=d.s.Mb(3.141592653589793,s)-s),d.s.Y(d.s.P(s),1.570796326794897)||d.s.Cd(s)||d.s.Cd(c)||d.s.Y(d.s.P(c),3.141592653589793))d.Wk.rf(x,h,l,s,a,c,p,y);else{var oe=Math.sqrt(1-h);for(x=a/x,d.F.cl(1,h,s,0,0,V,Q,ae),g[0]=V.u,g[1]=Q.u,g[2]=Q.u,R[0]=0,R[1]=0,R[2]=-1*h*d.F.n(1,h,s)*Math.sin(s),V=d.F.n(1,h,s),Q=d.F.ba(1.570796326794897-c),ae=Math.sin(Q),a=Math.cos(s),s=Math.sin(s),E[0]=V*a-s*ae,E[1]=Math.cos(Q),E[2]=(1-h)*V*s+a*ae,0>c?d.F.Wq(R,E,g,D,0):d.F.Wq(R,g,E,D,0),g=Math.acos(D[2]/1),D=Math.atan2(-D[1],-D[0]),s=1-h,Q=1+(E=Math.tan(g))*E/s,s=(-(V=2*R[2]*E/s)+(E=Math.sqrt(V*V-4*Q*(R[2]*R[2]/s-1))))/(Q*=2),V=(-V-E)/Q,E=Math.tan(g),g=(s+V)/2,R=((Q=E*s+R[2])+(E*V+R[2]))/2,E=d.F.gp(s-g,Q-R),oe=R/oe*1.570796326794897,s=0;100>s&&(V=(V=d.F.w(h,oe))*V/Math.cos(oe)*(Math.sin(oe)-R*V/(1-h)),!d.s.Cd(V));s++)oe-=V;oe=d.F.n(1,h,oe)*Math.cos(oe),R=1-E/(oe=Math.sqrt((oe-g)*(oe+g))),R*=2-R,P=Math.acos(d.F.St(P,w)/(d.F.on(P)*d.F.on(w))),P*=d.s.Mb(1,w[0]),c=(d.F.q(oe,R,d.F.Qj(R,P))+x*d.s.Mb(1,c))/d.F.Ah(oe,R),c=d.F.ba(1.570796326794897*c),c=d.F.Rq(R,c),d.F.n(oe,R,c),E=d.F.ba(D+l),l=Math.cos(E),c=Math.sin(E),S[0]=k[0]*l+k[1]*-c,S[1]=k[0]*c+k[1]*l,S[2]=k[2],d.F.jO(h,S[0],S[1],S[2],K,Y,U),p!=null&&(p.u=Y.u),y!=null&&(y.u=K.u)}},j}()}(ee||(ee={})),function(d){var j=function(){function a(c){this.Ya=null,this.wt=new d.h,this.xt=new d.h,this.g=c}return a.prototype.compare=function(c,p,y){return this.g.Gc(p,this.wt),this.g.Gc(c.ja(y),this.xt),this.wt.compare(this.xt)},a}(),x=function(){function a(c){this.Bf=new d.h,this.Dk=new d.h,this.g=c}return a.prototype.Dh=function(c){this.Bf.L(c)},a.prototype.compare=function(c,p){return this.g.Gc(c.ja(p),this.Dk),this.Bf.compare(this.Dk)},a}(),h=function(a){function c(p){var y=a.call(this,p.g,p.qa,!1)||this;return y.ib=p,y}return $e(c,a),c.prototype.compare=function(p,y,g){if(this.rg)return-1;var w=this.ib.Qd.Jn(this.ib.Rh(y));p=p.ja(g);var S=this.ib.Qd.Jn(this.ib.Rh(p));return this.Dm=g,this.RE(y,w,p,S)},c}(d.UC),l=function(a){function c(p){var y=a.call(this,p.g,p.qa)||this;return y.ib=p,y}return $e(c,a),c.prototype.compare=function(p,y){return this.rg?-1:(p=this.ib.Qd.Jn(this.ib.Rh(p.ja(y))),this.Dm=y,this.SE(y,p))},c}(d.aM),s=function(){function a(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new d.h,this.Pi=new d.h,this.hb=new d.$c(8),this.zd=new d.$c(5),this.lh=new d.au,this.Qd=new d.au,this.Ng=!1,this.vh=new d.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new d.Yj,this.Mc=new d.Yj,this.nh=new d.ia(0),this.Gk=new d.TC,this.Ff=new d.ia(0),this.Ak=new d.ia(0),this.jo=new d.Sa}return a.prototype.PX=function(c,p){var y=new d.Dd;return y.$B(),c.Oc(y),this.er(c),this.Wn=!1,this.qa=p,this.UA=p*p,p=this.jC(),c.Oc(y),p||(this.qQ(),p||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},a.prototype.TX=function(c,p){this.er(c),this.Wn=!1,this.qa=p,this.UA=p*p,this.Ng=!1,this.jC(),this.Ng||(this.Ng=c.Gp(p,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},a.prototype.pg=function(c,p){return this.hb.T(c,0+p)},a.prototype.LB=function(c,p,y){this.hb.S(c,0+p,y)},a.prototype.Rh=function(c){return this.hb.T(c,2)},a.prototype.ZW=function(c,p){this.hb.S(c,2,p)},a.prototype.RF=function(c,p){return this.hb.T(c,3+p)},a.prototype.Pp=function(c){return this.hb.T(c,7)},a.prototype.Pl=function(c,p){this.hb.S(c,7,p)},a.prototype.Rp=function(c,p){return this.hb.T(c,3+this.Op(c,p))},a.prototype.fr=function(c,p,y){this.hb.S(c,3+this.Op(c,p),y)},a.prototype.NR=function(c,p){return this.hb.T(c,5+this.Op(c,p))},a.prototype.hr=function(c,p,y){this.hb.S(c,5+this.Op(c,p),y)},a.prototype.Sr=function(c){return this.zd.T(c,0)},a.prototype.UW=function(c,p){this.zd.S(c,0,p)},a.prototype.ez=function(c){return this.zd.T(c,4)},a.prototype.cr=function(c,p){this.zd.S(c,4,p)},a.prototype.il=function(c){return this.zd.T(c,1)},a.prototype.ln=function(c,p){this.zd.S(c,1,p)},a.prototype.dz=function(c){return this.zd.T(c,3)},a.prototype.Et=function(c,p){this.zd.S(c,3,p)},a.prototype.Ym=function(c){var p=this.zd.Ce(),y=this.lh.Ph();return this.UW(p,y),c!=-1?(this.lh.addElement(y,c),this.g.Ra(c,this.xh,p),this.cr(p,this.g.Ua(c))):this.cr(p,-1),p},a.prototype.HP=function(c){this.zd.jd(c)},a.prototype.LD=function(c,p){this.lh.addElement(this.Sr(c),p),this.g.Ra(p,this.xh,c)},a.prototype.nt=function(c){var p=this.hb.Ce(),y=this.Qd.Ph();return this.ZW(p,y),c!=-1&&this.Qd.addElement(y,c),p},a.prototype.MD=function(c,p){this.Qd.addElement(this.Rh(c),p)},a.prototype.Uu=function(c){this.hb.jd(c),0<=(c=this.nh.lF(c))&&this.nh.SV(c)},a.prototype.hj=function(c,p){if(this.pg(c,0)==-1)this.LB(c,0,p);else{if(this.pg(c,1)!=-1)throw d.i.Qa();this.LB(c,1,p)}this.ky(c,p)},a.prototype.ky=function(c,p){var y=this.il(p);if(y!=-1){var g=this.Rp(y,p);this.hr(g,p,c),this.fr(c,p,g),this.fr(y,p,c),this.hr(c,p,y)}else this.hr(c,p,c),this.fr(c,p,c),this.ln(p,c)},a.prototype.Op=function(c,p){return this.pg(c,0)==p?0:1},a.prototype.Xm=function(c,p){var y,g=this.dz(p);if(g!=-1&&(this.df.vd(g,-1),this.Et(p,-1)),(g=this.il(p))!=-1){var w=y=g;do{var S=!1,k=this.Op(y,p),E=this.RF(y,k);if(this.pg(y,k+1&1)==c){if(this.Xu(y),this.Qd.bh(this.Rh(y)),this.Uu(y),y==E){g=-1;break}g==y&&(g=this.il(p),w=E,S=!0)}y=E}while(y!=w||S);if(g!=-1){do k=this.Op(y,p),E=this.RF(y,k),this.LB(y,k,c),y=E;while(y!=w);(y=this.il(c))!=-1?(w=this.Rp(y,c),S=this.Rp(g,c),w==y?(this.ln(c,g),this.ky(y,c),this.ln(c,y)):S==g&&this.ky(g,c),this.fr(g,c,w),this.hr(w,c,g),this.fr(y,c,S),this.hr(S,c,y)):this.ln(c,g)}}for(g=this.Sr(c),y=this.Sr(p),w=this.lh.rc(y);w!=-1;w=this.lh.lb(w))this.g.Ra(this.lh.ja(w),this.xh,c);this.lh.Hy(g,y),this.HP(p)},a.prototype.UT=function(c,p){var y=this.pg(c,0),g=this.pg(c,1),w=this.pg(p,0),S=this.pg(p,1);this.Qd.Hy(this.Rh(c),this.Rh(p)),p==this.il(y)&&this.ln(y,c),p==this.il(g)&&this.ln(g,c),this.Xu(p),this.Uu(p),y==w&&g==S||g==w&&y==S||(this.Hn(y,this.yo),this.Hn(w,this.Pi),this.yo.qb(this.Pi)?(y!=w&&this.Xm(y,w),g!=S&&this.Xm(g,S)):(g!=w&&this.Xm(g,w),y!=S&&this.Xm(y,S)))},a.prototype.Xu=function(c){var p=this.pg(c,1);this.dF(c,this.pg(c,0)),this.dF(c,p)},a.prototype.dF=function(c,p){var y=this.Rp(c,p),g=this.NR(c,p),w=this.il(p);y!=c?(this.fr(g,p,y),this.hr(y,p,g),w==c&&this.ln(p,y)):this.ln(p,-1)},a.prototype.WD=function(c,p,y){var g=this.Qd.rc(c),w=this.Qd.ja(g);c=this.Le(w);var S=this.Le(this.g.U(w));for(this.g.jr(w,p,y,!0),g=this.Qd.lb(g);g!=-1;g=this.Qd.lb(g)){w=this.Qd.ja(g);var k=this.Le(w)==c;this.g.jr(w,p,y,k)}g=p.Vp(y,0).ac(),p=p.Vp(y,p.ol(y)-1).wc(),this.BK(c,g),this.BK(S,p)},a.prototype.ZE=function(c,p,y){var g=this.Rh(c),w=this.pg(c,0),S=this.pg(c,1),k=this.nt(-1);for(this.nh.add(k),this.Pl(k,-3),this.Ff.add(k),this.hj(k,w),c=1,p=p.ol(y);c<p;c++)y=this.Ym(-1),this.Ak.add(y),this.Ff.add(y),this.hj(k,y),k=this.nt(-1),this.nh.add(k),this.Pl(k,-3),this.Ff.add(k),this.hj(k,y);for(this.hj(k,S),g=this.Qd.rc(g);g!=-1;g=this.Qd.lb(g))if(S=this.Qd.ja(g),this.Le(S)==w){c=0;do 0<c&&(k=this.Ff.get(c-1),this.LD(k,S),this.ez(k)==-1&&this.cr(k,this.g.Ua(S))),k=this.Ff.get(c),c+=2,this.MD(k,S),S=this.g.U(S);while(c<this.Ff.size)}else{c=this.Ff.size-1;do c<this.Ff.size-2&&(k=this.Ff.get(c+1),this.LD(k,S),0>this.ez(k)&&this.cr(k,this.g.Ua(S))),k=this.Ff.get(c),c-=2,this.MD(k,S),S=this.g.U(S);while(0<=c)}this.Ff.clear(!1)},a.prototype.Le=function(c){return this.g.Pa(c,this.xh)},a.prototype.TI=function(c,p,y){var g=this.pg(p,0),w=new d.h;this.Hn(g,w);var S=new d.h,k=this.pg(p,1);this.Hn(k,S);var E=y.ol(c),P=y.Vp(c,0),R=new d.h;if(P.Yp(R),!w.qb(R)){if(!this.Ng){var D=w.compare(this.vh);0>D*(R=R.compare(this.vh))&&(this.Ng=!0)}this.vF(g,this.Ff),this.Ak.add(g)}for(!this.Ng&&1<E&&(D=w.compare(S),P=P.wc(),(w.compare(P)!=D||P.compare(S)!=D||0>P.compare(this.vh))&&(this.Ng=!0)),c=(P=y.Vp(c,E-1)).wc(),S.qb(c)||(this.Ng||0>(D=S.compare(this.vh))*(R=c.compare(this.vh))&&(this.Ng=!0),this.vF(k,this.Ff),this.Ak.add(k)),this.Ff.add(p),S=0,k=this.Ff.size;S<k;S++)c=this.Ff.get(S),y=this.Pp(c),d.$c.LG(y)&&(this.Mc.vd(y,-1),this.Pl(c,-1)),c!=p&&this.Pp(c)!=-3&&(this.nh.add(c),this.Pl(c,-3));this.Ff.clear(!1)},a.prototype.lO=function(c,p){this.$d.compare(this.Mc,this.Mc.ja(c),p),this.$d.rg&&(this.$d.Kr(),this.oF(c,p))},a.prototype.oF=function(c,p){this.Wn=!0,c=this.Mc.ja(c),p=this.Mc.ja(p);var y=this.Qd.Jn(this.Rh(c)),g=this.Qd.Jn(this.Rh(p)),w=this.g.bc(y);w==null&&(this.ie==null&&(this.ie=new d.yb),this.g.ed(y,this.ie),w=this.ie),(y=this.g.bc(g))==null&&(this.Nm==null&&(this.Nm=new d.yb),this.g.ed(g,this.Nm),y=this.Nm),this.Gk.Oo(w),this.Gk.Oo(y),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(c,p,-1,this.Gk),this.Gk.clear()},a.prototype.GQ=function(c,p){this.Wn=!0,p=this.Mc.ja(p);var y=this.Qd.Jn(this.Rh(p)),g=this.g.bc(y);g==null&&(this.ie==null&&(this.ie=new d.yb),this.g.ed(y,this.ie),g=this.ie),y=this.BF(c),this.Gk.Oo(g),this.g.Vi(y,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(p,-1,c,this.Gk),this.Gk.clear()},a.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var c=this.nh.Fc();this.nh.If(),this.Pl(c,-1),this.WS(c)!=-1&&this.wS(c),this.Vn=!1}},a.prototype.wS=function(c){if(this.Vn){var p=this.Mc.zu(this.MH,this.GH,c,!0);this.Vn=!1}else p=this.Mc.KD(c);p==-1?this.UT(this.Mc.ja(this.Mc.FF()),c):(this.Pl(c,p),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,p)))},a.prototype.WS=function(c){var p=this.pg(c,0);if(c=this.pg(c,1),this.Hn(p,this.yo),this.Hn(c,this.Pi),d.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var y=this.yo.compare(this.vh),g=this.Pi.compare(this.vh);return 0>=y&&0<g?c:0>=g&&0<y?p:-1},a.prototype.oQ=function(){var c=new d.ia(0);c.Jb(this.g.fd);for(var p=this.g.Yq(),y=p.next();y!=-1;y=p.next())this.g.Pa(y,this.xh)!=-1&&c.add(y);this.g.nx(c,c.size),this.pQ(c)},a.prototype.pQ=function(c){this.df.clear(),this.df.De(c.size),this.df.Vo(new j(this.g));var p=new d.h;p.Rc();for(var y=-1,g=new d.h,w=0,S=c.size;w<S;w++){var k=c.get(w);this.g.Gc(k,g),g.qb(p)?(k=this.g.Pa(k,this.xh),this.Xm(y,k)):(y=this.Le(k),this.g.Gc(k,p),k=this.df.xn(k),this.Et(y,k))}},a.prototype.qQ=function(){var c=new d.ia(0);c.Jb(this.g.fd);for(var p=this.df.rc(-1);p!=-1;p=this.df.lb(p))c.add(this.df.ja(p));this.df.clear(),this.g.nx(c,c.size),p=0;for(var y=c.size;p<y;p++){var g=c.get(p),w=this.Le(g);g=this.df.xn(g),this.Et(w,g)}},a.prototype.vF=function(c,p){var y=this.il(c);if(y!=-1){var g=y;do d.$c.LG(this.Pp(g))&&p.add(g),g=this.Rp(g,c);while(g!=y)}},a.prototype.BK=function(c,p){for(c=this.lh.rc(this.Sr(c));c!=-1;c=this.lh.lb(c))this.g.mf(this.lh.ja(c),p)},a.prototype.hK=function(c,p,y,g){this.Xu(c),p!=-1&&this.Xu(p),this.TI(0,c,g),p!=-1&&this.TI(1,p,g),y!=-1&&(g.Bf.D(this.yo),this.Hn(y,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(y)),y=0;for(var w=this.Ak.size;y<w;y++){var S=this.Ak.get(y),k=this.dz(S);k!=-1&&(this.df.vd(k,-1),this.Et(S,-1))}for(y=this.Rh(c),w=p!=-1?this.Rh(p):-1,this.WD(y,g,0),p!=-1&&this.WD(w,g,1),this.ZE(c,g,0),p!=-1&&this.ZE(p,g,1),this.Qd.bh(y),this.Uu(c),p!=-1&&(this.Qd.bh(w),this.Uu(p)),y=0,w=this.Ak.size;y<w;y++)(S=this.Ak.get(y))==this.Jq&&(this.Xv=!0),(k=this.dz(S))==-1&&((k=this.df.KD(this.BF(S)))==-1?(c=this.Le(this.df.ja(this.df.FF())),this.Xm(c,S)):this.Et(S,k));this.Ak.clear(!1)},a.prototype.Hn=function(c,p){this.g.dG(this.ez(c),p)},a.prototype.BF=function(c){return this.lh.Jn(this.Sr(c))},a.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new h(this),this.Mc.Zn=this.$d);var c=new d.ia(0),p=null,y=null;this.GH=this.MH=-1,this.Vn=!1;for(var g=this.df.rc(-1);g!=-1;){this.Vn=!1;var w=this.df.ja(g);this.Jq=this.Le(w),this.g.Gc(w,this.vh),this.$d.$J(this.vh.y,this.vh.x);var S=this.il(this.Jq),k=S==-1;if(!k){w=S;do{var E=this.Pp(w);E==-1?(this.nh.add(w),this.Pl(w,-3)):E!=-3&&c.add(E),w=this.Rp(w,this.Jq)}while(w!=S)}if(0<c.size){for(this.Vn=c.size==1&&this.nh.size==1,k=0,S=c.size;k<S;k++)w=this.Mc.ja(c.get(k)),this.Pl(w,-2);var P=-2,R=-2;for(k=0,S=c.size;k<S;k++){if(E=c.get(k),P==-2){var D=this.Mc.we(E);D!=-1?(w=this.Mc.ja(D),(w=this.Pp(w))!=-2&&(P=D)):P=-1}if(R==-2&&((E=this.Mc.lb(E))!=-1?(w=this.Mc.ja(E),(w=this.Pp(w))!=-2&&(R=E)):R=-1),P!=-2&&R!=-2)break}for(k=0,S=c.size;k<S;k++)E=c.get(k),w=this.Mc.ja(E),this.Mc.vd(E,-1),this.Pl(w,-1);c.clear(!1),this.MH=P!=-1?P:-1,this.GH=R!=-1?R:-1,P!=-1&&R!=-1?this.Vn||this.lO(P,R):P==-1&&R==-1&&(this.Vn=!1)}else k&&(p==null&&(p=new l(this)),p.Dh(this.vh),this.Mc.uJ(p),p.rg&&(p.Kr(),this.GQ(this.Jq,p.Dm)));this.xS(),this.Xv?(this.Xv=!1,y==null&&(y=new x(this.g)),y.Dh(this.vh),g=this.df.uJ(y)):g=this.df.lb(g)}return this.Wn},a.prototype.er=function(c){for(this.g=c,this.xh=this.g.Gd(),this.hb.De(c.fd+32),this.zd.De(c.fd),this.lh.At(c.fd),this.lh.fn(c.fd),this.Qd.At(c.fd+32),this.Qd.fn(c.fd+32),c=this.g.ld;c!=-1;c=this.g.ue(c))if(d.aa.Hc(this.g.ic(c)))for(E=this.g.Ob(c);E!=-1;E=this.g.Rb(E)){var p=this.g.Ja(E),y=this.g.Xa(E),g=this.Ym(y),w=this.nt(y);for(this.hj(w,g),P=this.g.U(y),y=0,p-=2;y<p;y++){var S=this.g.U(P),k=this.Ym(P);this.hj(w,k),w=this.nt(P),this.hj(w,k),P=S}this.g.dc(E)?(k=this.Ym(P),this.hj(w,k),w=this.nt(P),this.hj(w,k),this.hj(w,g)):(k=this.Ym(P),this.hj(w,k))}else for(var E=this.g.Ob(c);E!=-1;E=this.g.Rb(E)){var P=this.g.Xa(E);for(g=0,p=this.g.Ja(E);g<p;g++)this.Ym(P),P=this.g.U(P)}this.oQ()},a}();d.RC=s}(ee||(ee={})),function(d){var j=function(x){function h(l,s,a){var c=x.call(this)||this;if(l!==void 0)if(a!==void 0){c.description=d.ee.og();var p=new d.Nd;p.K(l,s,a),c.dC(p)}else if(s!==void 0)c.description=d.ee.og(),c.Cb(l,s);else if(l instanceof d.ra)c.description=l;else if(l instanceof d.h)c.description=d.ee.og(),c.Cb(l);else{if(!(l instanceof h))throw d.i.N();c.description=l.description,c.Cb(l.Lg(),l.ih()),l.ka!==null&&(c.ka=l.ka.slice(0))}else c.description=d.ee.og();return c}return $e(h,x),h.prototype.D=function(l){if(l===void 0){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return(l=new d.h).ma(this.ka[0],this.ka[1]),l}if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");l.ma(this.ka[0],this.ka[1])},h.prototype.Cb=function(l,s){typeof l=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=l,this.ka[1]=s):(this.vc(),this.Cb(l.x,l.y))},h.prototype.Cz=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");var l=new d.Nd;return l.x=this.ka[0],l.y=this.ka[1],l.z=this.description.iG()?this.ka[2]:d.ra.se(1),l},h.prototype.dC=function(l){this.vc();var s=this.hasAttribute(1);s||d.ra.DG(1,l.z)||(this.re(1),s=!0),this.ka==null&&this.un(),this.ka[0]=l.x,this.ka[1]=l.y,s&&(this.ka[2]=l.z)},h.prototype.Lg=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},h.prototype.cC=function(l){this.setAttribute(0,0,l)},h.prototype.ih=function(){if(this.Ac())throw d.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},h.prototype.aK=function(l){this.setAttribute(0,1,l)},h.prototype.bS=function(){return this.Uc(1,0)},h.prototype.wX=function(l){this.setAttribute(1,0,l)},h.prototype.zR=function(){return this.Uc(2,0)},h.prototype.hX=function(l){this.setAttribute(2,0,l)},h.prototype.Ec=function(){return this.yF(3,0)},h.prototype.LJ=function(l){this.setAttribute(3,0,l)},h.prototype.Uc=function(l,s){var a=this.description.Pf(l);return 0<=a?this.ka[this.description.$j(a)+s]:d.ra.se(l)},h.prototype.yF=function(l,s){var a=this.description.Pf(l);return 0<=a?this.ka[this.description.$j(a)+s]:d.ra.se(l)},h.prototype.setAttribute=function(l,s,a){this.vc();var c=this.description.Pf(l);0>c&&(this.re(l),c=this.description.Pf(l)),this.ka==null&&this.un(),this.ka[this.description.$j(c)+s]=a},h.prototype.getType=function(){return 33},h.prototype.Db=function(){return 0},h.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},h.prototype.sn=function(l){if(this.ka!=null){for(var s=d.ee.Iw(l,this.description),a=[],c=0,p=0,y=l.Aa;p<y;p++){var g=l.kd(p),w=d.ra.Va(g);if(s[p]==-1){var S=d.ra.se(g);for(g=0;g<w;g++)a[c]=S,c++}else for(S=this.description.$j(s[p]),g=0;g<w;g++)a[c]=this.ka[S],c++,S++}this.ka=a}this.description=l},h.prototype.un=function(){this.lJ(this.description.Ae.length),h.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},h.prototype.Oc=function(l){if(l instanceof d.Dd){if(!this.Ac()){var s=this.D();l.Eh(s,s),this.Cb(s)}}else this.Ac()||(this.re(1),s=this.Cz(),this.dC(l.fp(s)))},h.prototype.copyTo=function(l){if(l.getType()!=33)throw d.i.N();l.vc(),this.ka==null?(l.Oa(),l.ka=null,l.Nf(this.description)):(l.Nf(this.description),l.lJ(this.description.Ae.length),h.cE(this.ka,l.ka,this.description.Ae.length))},h.prototype.Ia=function(){return new h(this.description)},h.prototype.B=function(){return this.Ac()},h.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},h.prototype.bn=function(l){l.Oa(),this.description!=l.description&&l.Nf(this.description),l.Zb(this)},h.prototype.A=function(l){this.Ac()?l.Oa():(l.v=this.ka[0],l.G=this.ka[1],l.C=this.ka[0],l.H=this.ka[1])},h.prototype.Qo=function(l){if(this.Ac())l.Oa();else{var s=this.Cz();l.v=s.x,l.G=s.y,l.Ye=s.z,l.C=s.x,l.H=s.y,l.Bg=s.z}},h.prototype.Tg=function(l,s){var a=new d.Nc;return this.Ac()?(a.Oa(),a):(l=this.Uc(l,s),a.oa=l,a.va=l,a)},h.prototype.lJ=function(l){if(this.ka==null)this.ka=d.O.lg(l);else if(this.ka.length<l){for(var s=this.ka.slice(0),a=this.ka.length;a<l;a++)s[a]=0;this.ka=s}},h.cE=function(l,s,a){if(0<a)for(a=0;a<l.length;a++)s[a]=l[a]},h.prototype.Nb=function(l){if(l==this)return!0;if(!(l instanceof h)||this.description!=l.description)return!1;if(this.Ac())return!!l.Ac();for(var s=0,a=this.description.Ae.length;s<a;s++)if(this.ka[s]!=l.ka[s])return!1;return!0},h.prototype.cc=function(){var l=this.description.cc();if(!this.Ac())for(var s=0,a=this.description.Ae.length;s<a;s++){var c=this.ka[s];c=d.O.truncate(c^c>>>32),l=d.O.Th(c,l)}return l},h.prototype.mg=function(){return null},h}(d.aa);d.Sa=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s){h!==void 0&&(this.x=h,this.y=l,this.z=s)}return x.construct=function(h,l,s){var a=new x;return a.x=h,a.y=l,a.z=s,a},x.prototype.K=function(h,l,s){this.x=h,this.y=l,this.z=s},x.prototype.lx=function(){this.z=this.y=this.x=0},x.prototype.normalize=function(){var h=this.length();h==0&&(this.x/=h,this.y/=h,this.z/=h)},x.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},x.prototype.sub=function(h){return new x(this.x-h.x,this.y-h.y,this.z-h.z)},x.prototype.Ag=function(h){new x(this.x*h,this.y*h,this.z*h)},x.prototype.Qh=function(h){return this.x*h.x+this.y*h.y+this.z*h.z},x}();d.Nd=j}(ee||(ee={})),function(d){var j=function(){function x(h,l,s){this.Gw=this.DA=null,this.Xf=l,this.FT=l.y-s,this.ET=l.y+s,this.Ew=0,this.dA=h,this.qa=s,this.RT=s*s,this.eA=s!=0,this.Lv=!1}return x.prototype.result=function(){return this.Ew!=0?1:0},x.prototype.ZM=function(h){return h=h.hc(h.fe(this.Xf,!1)),d.h.yc(h,this.Xf)<=this.RT},x.prototype.fF=function(h){if(!this.eA&&(this.dA&&this.Xf.qb(h.ac())||this.Xf.qb(h.wc())))this.Lv=!0;else if(h.na==this.Xf.y&&h.na==h.la){if(this.dA&&!this.eA){var l=Math.max(h.sa,h.pa);this.Xf.x>Math.min(h.sa,h.pa)&&this.Xf.x<l&&(this.Lv=!0)}}else{var s=!1;if(l=Math.max(h.sa,h.pa),this.Xf.x>l?s=!0:this.Xf.x>=Math.min(h.sa,h.pa)&&(s=0<h.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),s){if(this.Xf.y==h.ac().y){if(this.Xf.y<h.wc().y)return}else if(this.Xf.y==h.wc().y&&this.Xf.y<h.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(h.ac().y>h.wc().y?1:-1)}}},x.prototype.SI=function(h){var l=h.Tg(0,1);if(l.oa>this.ET||l.va<this.FT)return!1;if(this.eA&&this.ZM(h))return!0;if(l.oa>this.Xf.y||l.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(l=h.eG()))for(h=0;h<l;h++){var s=this.DA[h].get();if(this.fF(s),this.Lv)return!0}else if(this.fF(h),this.Lv)return!0;return!1},x.PM=function(h,l,s){for(l=new x(h.In()==0,l,s),h=h.Ga();h.$a();)for(;h.Ha();)if(s=h.ha(),l.SI(s))return-1;return l.result()},x.QM=function(h,l,s,a){var c=new d.l;h.xc(c),c.W(a,a);var p=new x(h.In()==0,s,a);h=h.Ga();var y=new d.l;for(y.K(c),y.C=s.x+a,y.G=s.y-a,y.H=s.y+a,a=(s=l.MF(y,a)).next();a!=-1;a=s.next())if(h.Vb(l.ja(a)),h.Ha()&&(a=h.ha(),p.SI(a)))return-1;return p.result()},x.wm=function(h,l,s){if(h.B())return 0;var a=new d.l;if(h.xc(a),a.W(s,s),!a.contains(l))return 0;if((a=h.Bb)!=null){var c=a.Fk;if(c!=null){if((c=c.So(l.x,l.y))==1)return 1;if(c==0)return 0}if((a=a.Fb)!=null)return x.QM(h,a,l,s)}return x.PM(h,l,s)},x.bT=function(h,l,s){return l.B()?0:x.wm(h,l.D(),s)},x.Ml=function(h,l){return!(16>(h=h.I()))&&2*h+Math.log(h)/Math.log(2)*l<1*h*l},x}();d.Dg=j}(ee||(ee={})),function(d){var j=function(x){function h(l){return x.call(this,!0,l)||this}return $e(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.Db=function(){return 2},h.prototype.getType=function(){return 1736},h.prototype.xG=function(l,s,a){this.JS(l,s,a)},h.prototype.qR=function(){this.FR()},h}(d.Vk);d.Da=j}(ee||(ee={})),function(d){(function(j){j[j.PiPOutside=0]="PiPOutside",j[j.PiPInside=1]="PiPInside",j[j.PiPBoundary=2]="PiPBoundary"})(d.RL||(d.RL={})),d.hd=function(){function j(){}return j.KG=function(x,h,l){return(x=d.Dg.bT(x,h,l))==0?0:x==1?1:2},j.Yd=function(x,h,l){return(x=d.Dg.wm(x,h,l))==0?0:x==1?1:2},j.WX=function(x,h,l,s,a){if(h.length<l||a.length<l)throw d.i.N();for(var c=0;c<l;c++)a[c]=j.Yd(x,h[c],s)},j.sK=function(x,h,l,s,a){if(x.getType()==1736)j.WX(x,h,l,s,a);else{if(x.getType()!=197)throw d.i.fa("invalid_call");var c=new d.l;x.A(c),j.$M(c,h,l,s,a)}},j.$M=function(x,h,l,s,a){if(h.length<l||a.length<l)throw d.i.N();if(x.B())for(s=0;s<l;s++)a[s]=0;else for(x.W(.5*-s,.5*-s),x.W(.5*s,.5*s),s=0;s<l;s++)x.contains(h[s])?a[s]=1:x.contains(h[s])?a[s]=2:a[s]=0},j.YX=function(x,h,l,s,a){for(var c=0;c<l;c++)a[c]=x.qs(h[c],s)?2:0},j.XX=function(x,h,l,s,a){var c=x.Bb,p=null;c!=null&&(p=c.Fk),c=l;for(var y=0;y<l;y++)if(a[y]=1,p!=null){var g=h[y];p.So(g.x,g.y)==0&&(a[y]=0,c--)}if(c!=0)for(x=x.Ga();x.$a()&&c!=0;)for(;x.Ha()&&c!=0;)for(p=x.ha(),y=0;y<l&&c!=0;y++)a[y]==1&&p.qs(h[y],s)&&(a[y]=2,c--);for(y=0;y<l;y++)a[y]==1&&(a[y]=0)},j.tK=function(x,h,l,s,a){var c=x.getType();if(c==1607)j.XX(x,h,l,s,a);else{if(!d.aa.yd(c))throw d.i.fa("Invalid call.");j.YX(x,h,l,s,a)}},j}()}(ee||(ee={})),function(d){var j=function(x){function h(l,s){if(arguments.length==2){var a=x.call(this,!1,l.description)||this;a.nf(l),a.lineTo(s)}else a=x.call(this,!1,l)||this;return a}return $e(h,x),h.prototype.Ia=function(){return new h(this.description)},h.prototype.Db=function(){return 1},h.prototype.getType=function(){return 1607},h.prototype.xG=function(l,s,a){this.KS(l,s,a)},h}(d.Vk);d.Ta=j}(ee||(ee={})),function(d){var j=function(){function x(){}return x.prototype.progress=function(){return!0},x.zp=function(h){if(h!=null&&!h.progress(-1,-1))throw d.i.WC()},x}();d.mp=j}(ee||(ee={})),function(d){var j;(j=d.PK||(d.PK={}))[j.clipWithInputHorizon=1]="clipWithInputHorizon",j[j.clipWithOutputHorizon=2]="clipWithOutputHorizon";var x=function(){function s(){this.Kg=3,this.Vu=this.Jr=NaN}return s.prototype.PW=function(a){this.QB(1,a)},s.prototype.QW=function(a){this.QB(2,a)},s.prototype.hS=function(){return this.hs(1)},s.prototype.iS=function(){return this.hs(2)},s.prototype.QB=function(a,c){this.Kg=c?this.Kg|a:this.Kg&~a},s.prototype.hs=function(a){return!!(this.Kg&a)},s.prototype.Of=function(){var a=new s;return a.Jr=this.Jr,a.Vu=this.Vu,a.Kg=this.Kg,a},s}();d.yC=x,function(s){s[s.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",s[s.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(d.QK||(d.QK={}));var h=function(){function s(){this.Kg=0}return s.prototype.QB=function(a,c){this.Kg=c?this.Kg|a:this.Kg&~a},s.prototype.hs=function(a){return!!(this.Kg&a)},s.jg=function(a){var c=new s;return c.Kg=a.Kg,c},s.prototype.mM=function(a){this.Kg=a.Kg},s}();d.AY=h;var l=function(){function s(a,c,p){this.ef=a,this.Yf=c,this.Uf=new d.l,this.Uf.K(p),this.AT=a.cc()+c.cc()+this.Uf.cc().toString()}return s.prototype.cc=function(){return this.AT},s.prototype.Nb=function(a){return this==a||this.ef.Nb(a.ef)&&this.Yf.Nb(a.Yf)&&this.Uf.Nb(a.Uf)},s}();d.FY=l,l=function(){function s(){this.Yf=this.ef=null,this.rH=new x,this.sH=new h,this.ww=this.Wf=null,this.mw=this.Tn=!0}return s.Nr=function(a,c,p,y){var g;y===void 0&&(y=null),g===void 0&&(g=null);var w=new s;return w.qp(a,c,p,y,g),w},s.prototype.qp=function(a,c,p,y,g){if(a==null||c==null)throw d.i.fa("invalidArgument");if(this.ef=a,this.Yf=c,this.mw=this.Tn=!1,y!=null&&(this.rH=y.Of()),g!=null&&this.sH.mM(g),g=!1,c.Sb()==1&&y!=null&&(y=y.Jr,isNaN(y)||y==0||(g=!0)),a==c)this.Tn=!g,this.mw=!0;else{y=a.Sb();var w=c.Sb();if(y==0||w==0){if(p!=null)throw d.i.N();a.Hd()!=null&&c.Hd()!=null&&(this.Tn=a.Hd().Nb(c.Hd()))}else y==3||w==3?this.Tn=a.Nb(c):this.ef.kS(this.Yf)?this.Tn=!g:this.Tn=!1,this.Wf=p,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},s.prototype.isIdentity=function(){return this.Tn},s.prototype.nR=function(){return this.rH.Of()},s.prototype.Nb=function(a){return a==this||!!(a instanceof s&&this.ef.Nb(a.ef)&&this.Yf.Nb(a.Yf))&&(this.Wf==a.Wf||!(this.Wf==null||a.Wf==null||!this.Wf.Nb(a.Wf)))},s.prototype.oY=function(){this.ww=new d.bu(this)},s}(),d.vr=l}(ee||(ee={})),function(d){var j=function(){function x(){}return x.Cp=function(h){return h*x.oW},x.mx=function(h,l){return x.gP(l-h)},x.hP=function(h){return-360<=h&&720>h?(0>h?h+=360:360<=h&&(h-=360),h):(0>(h=d.lc.RK(h))&&(h+=360),h)},x.gP=function(h){return 180<(h=x.hP(h))&&(h-=360),h},x.oW=57.29577951308232,x}();d.qr=j,d.Hh=function(){function x(){}return x.lj=function(h,l){var s=new d.l;h.A(s);var a=d.cb.gh(l),c=new d.l;return c.K(a),c.v=s.v,c.C=s.C,c.W(.01*c.ca(),0),l=d.ta.Wd(l,s,!1),c.contains(s)?h:d.Ud.clip(h,c,l,0)},x.ks=function(h,l,s,a,c){if(!d.cb.Wc(l))throw d.i.N();var p=d.ta.kj(l,h,!1),y=d.cb.gh(l),g=d.cb.sc(l),w=g.Hd().ai,S=d.cb.vv(g);g=d.cb.ev(g),S*=2-S;var k=new d.Nc;y.cn(k);var E=[[0,0],[0,0]];if(d.Eg.Sb(l)==2?a?(E[0][0]=x.Zm(c,k),E[0][1]=y.Jp(),d.cb.vt(),y=E[0][0]*w):(E[0][0]=y.gk(),E[0][1]=c,d.cb.vt(),y=E[0][1]*w):y=c*w,!a&&y!=0)throw d.i.N();var P=new d.ga,R=new d.gd;h=R.Ib(h);for(var D=[0],U=new d.h,Y=new d.h,K=new d.h,V=new d.h,Q=new d.h,ae=new d.h,oe=R.Ob(h);oe!=-1;oe=R.Rb(oe)){var me=R.Xa(oe);R.D(me,K);for(var de=!1,Me=me=R.U(me);Me!=-1;Me=R.U(Me)){if(Me==me){if(de)break;de=!0}if(R.D(Me,V),a&&p<c-K.x&&V.x-c>p||p<c-V.x&&K.x-c>p||!a&&p<-K.y&&V.y>p||p<-V.y&&K.y>p)do if(!(Math.abs(K.x-V.x)>=.5*k.R())){if(d.Eg.Sb(l)==2?(E[0][0]=x.Zm(K.x,k),E[0][1]=K.y,E[1][0]=x.Zm(V.x,k),E[1][1]=V.y,d.cb.dW(),Q.x=E[0][0]*w,Q.y=E[0][1]*w,ae.x=E[1][0]*w,ae.y=E[1][1]*w):(Q.x=K.x*w,Q.y=K.y*w,ae.x=V.x*w,ae.y=V.y*w),ae.x=6.283185307179586*(V.x-K.x)/k.R()+Q.x,a){if(Y.x=y,Y.y=x.Nz(g,S,Q,ae,y,s),isNaN(Y.y))break}else{if(Y.x=x.Lz(g,S,Q,ae,s),isNaN(Y.x))break;Y.y=0}d.kb.wd(g,S,Q.x,Q.y,ae.x,ae.y,P,null,null,s);var _e=P.u;d.kb.wd(g,S,Q.x,Q.y,Y.x,Y.y,P,null,null,s);var xe=P.u;d.Eg.Sb(l)==2?(E[0][0]=Y.x/w,E[0][1]=Y.y/w,d.cb.bR(),a?(U.y=E[0][1],U.x=c):(U.x=x.os(E[0][0],K.x,V.x,k),U.y=c)):a?(U.x=c,U.y=Y.y/w):(U.x=x.os(Y.x/w,K.x,V.x,k),U.y=c),D[0]=0<_e?d.O.Rk(xe/_e,0,1):.5,D[0]!=0&&D[0]!=1&&(_e=R.Ma(Me),R.Ul(_e,D,1),R.Cb(R.U(_e),U.x,U.y))}while(!1);K.L(V)}}return R.Ne(h)},x.Fn=function(h,l,s,a,c){if(h.B())return h;var p=d.cb.bf(l);return x.Hp(h,s-180*p,360*p,l,a,c,!0)},x.Nz=function(h,l,s,a,c,p){if(3.141592653589793<=Math.abs(s.x-a.x)||!x.Sn(s.x,a.x,c))return NaN;if(s.x>a.x)var y=a;else y=s,s=a;a=new d.ga(0);var g=new d.ga(0),w=new d.ga(0);d.kb.wd(h,l,y.x,y.y,s.x,s.y,g,a,null,p);var S=g.u,k=0,E=1,P=new d.h;for(P.L(y);S*(E-k)>1e-12*h;){var R=.5*(k+E);if(d.kb.oj(h,l,y.x,y.y,S*R,a.u,g,w,p),P.x=g.u,P.y=w.u,P.x==c)break;if(x.Sn(y.x,P.x,c))E=R;else{if(!x.Sn(s.x,P.x,c))return NaN;k=R}}return P.y},x.Sn=function(h,l,s){return h=j.Cp(h),l=j.mx(h,j.Cp(l)),(s=j.mx(h,j.Cp(s)))==0||0<l&&0<s&&s<=l||0>l&&0>s&&s>=l},x.Zm=function(h,l){var s=l.va-l.oa;return l.It(h-Math.floor((h-l.oa)/s)*s)},x.os=function(h,l,s,a){var c=new d.Nc;for(c.K(l,s),s=a.R(),h=Math.floor((h-l)/s)*s+h,c=c.sf();Math.abs(h-c)>Math.abs(h+s-c);)h+=s;return h},x.Lz=function(h,l,s,a,c){if(s.y>a.y)var p=a;else p=s,s=a;if((a=new d.Nc).K(p.y,s.y),!a.contains(0)||3.141592653589793<=Math.abs(p.x-s.x))return NaN;if(p.x==s.x)return p.x;var y=new d.ga(0),g=new d.ga(0),w=new d.ga(0);d.kb.wd(h,l,p.x,p.y,s.x,s.y,g,y,null,c);var S=g.u,k=0,E=1,P=new d.h;for(P.L(p);S*(E-k)>1e-12*h;){var R=.5*(k+E);if(d.kb.oj(h,l,p.x,p.y,S*R,y.u,g,w,c),P.x=g.u,P.y=w.u,a.K(p.y,P.y),P.y==0)break;if(a.contains(0))E=R;else{if(a.K(s.y,P.y),!a.contains(0))return NaN;k=R}}return P.x},x.Hp=function(h,l,s,a,c,p,y){var g=new d.l;if(h.A(g),g.B())return h;var w=new d.Nc;g.cn(w);var S=new d.Nc;if(S.K(l,l+s),S.contains(w)&&S.va!=w.va)return h;var k=new d.l;k.K(g);var E=h.getType();if(E==33)return((g=(k=c?h:h.Of()).Lg())<S.oa||g>=S.va||y&&g==S.va)&&(g+=Math.ceil((S.oa-g)/s)*s,g=S.It(g),k.cC(g)),k;if(E==550){for(a=(k=c?h:h.Of()).ub(0),E=2*k.I(),h=!1,c=0;c<E;c+=2)((g=a.read(c))<S.oa||g>=S.va||y&&g==S.va)&&(h=!0,g+=Math.ceil((S.oa-g)/s)*s,g=S.It(g),a.write(c,g));return h&&k.Pc(1993),k}if(S.contains(w))return h;if(E==197)return s=c?h:h.Of(),g.Ea(k),s.Xo(g),s;var P=.1*Math.max(g.ca(),g.R());for(k.W(0,P),y=h,S=a.Xd(0),h=d.Gh.local(),c=new d.Dd;;){var R=Math.floor((w.oa-l)/s),D=Math.ceil((w.va-l)/s);if(!(3<D-R))break;R=Math.floor(.5*(D+R)),k.v=g.v-P,k.C=l+s*R;var U=d.Ud.clip(y,k,S,p);k.v=k.C,k.C=g.C+P;var Y=d.Ud.clip(y,k,S,p);c.gg((R-D)*s,0),Y.Oc(c),E==1736?y=h.V(U,Y,a,null):(y=U).add(Y,!1),y.A(g),g.cn(w)}for(k.v=l,k.C=l+s,(l=new d.l).K(k),l.W(S,0),(l=Math.floor((g.v-k.v)/s)*s)!=0?(k.move(l,0),c.gg(-l,0)):c.RB(),l=E==1607?new d.Ta(y.description):new d.Da(y.description),p=new d.l,w=new d.l;g.C>k.v;)(P=d.Ud.clip(y,k,S,0)).A(w),(E==1607?!P.B()&&(w.R()>S||w.ca()>S):!P.B()&&(E!=1736||w.R()>S))&&(P.Oc(c),P.A(w),l.A(p),p.W(S,S),p.isIntersecting(w)&&E==1736?l=h.V(l,P,a,null):l.add(P,!1)),k.move(s,0),c.shift(-s,0);return l},x.WI=function(h,l,s,a){var c=new d.de(s.description);c.Fd(s,0,-1),c=d.cb.zh(c,h,l);var p=s.I();if(a.Oa(),!d.cb.Wc(h)||p!=c.I())return!1;var y=new d.l;s.A(y);var g=new d.l;if(c.A(g),y=y.R(),g=g.R(),y!=0&&g!=0){if(g/=y,h=d.cb.gh(l).R()/d.cb.gh(h).R(),1e-10<Math.abs(g/h-1))return!1}else if(y!=0||g!=0)return!1;for(a.add(s,!1),s=0;s<p;s++)h=c.Na(s),a.Cb(s,h);return!0},x.Oz=function(){throw d.i.Ie()},x}()}(ee||(ee={})),function(d){var j,x,h;(x=j=d.si||(d.si={}))[x.Clip=0]="Clip",x[x.DontClip=1]="DontClip",x[x.PannableFold=2]="PannableFold",function(l){l[l.Geodesic=0]="Geodesic",l[l.Loxodrome=1]="Loxodrome",l[l.GreatElliptic=2]="GreatElliptic",l[l.NormalSection=3]="NormalSection",l[l.ShapePreserving=4]="ShapePreserving"}(h=d.WK||(d.WK={})),d.zb=function(){function l(){}return l.xv=function(s,a,c){if(c||0<a){for(s=s.toString(d.Sc.PE_STR_NAME_CANON|d.Sc.PE_STR_AUTH_NONE),a=[],c=0;c<s.length;c++)a[c]="a"<=s[c]&&"z">=s[c]?a[c]=s[c].toUpperCase():s[c];return a.join()}return s.toString(d.Sc.PE_STR_AUTH_TOP)},l.ur=function(s,a,c,p){var y=p.length,g=c.I();if(g!=0){var w=c.ub(0),S=Math.min(g,y),k=0,E=s.eh();isNaN(a)&&(a=0);for(var P=s.Wc(),R=179*(s=P?s.sc().Oe().R():0)/360;0<g;){if(w.uB(k<<1,S,p),d.ej.projToGeogCenter(E,S,p,a),P)for(var D=0;D<S;D++){var U=p[D][0]-a,Y=d.lc.sign(U),K=w.read(2*(k+D));0>Y*d.lc.sign(K)&&Math.abs(U)>R&&(p[D][0]+=-Y*s)}w.uC(k<<1,S,p),k+=S,g-=S,S=Math.min(g,y)}c.Pc(1993)}},l.IL=function(s,a,c,p){var y=0,g=s.eh();isNaN(y)&&(y=0);var w=s.Wc(),S=s.bf();s=360*S,S*=179;for(var k=p.length,E=0;E<c;){for(var P=E;P<c&&a[P].isNaN();++P)E++;var R=Math.min(k,c-E);if(0<R){P=1;for(var D=E+1;P<R;++P,++D)if(a[D].isNaN()){R=P;break}if(d.ta.Jy(p,a,E,R),d.ej.projToGeogCenter(g,R,p,y),w)for(P=0,D=E;P<R;++P,++D){var U=a[D].x,Y=p[P][0]-y,K=d.lc.sign(Y);0>K*d.lc.sign(U)&&Math.abs(Y)>S&&(p[P][0]-=K*s)}d.ta.Iy(a,E,p,R),E+=R}}},l.Lx=function(s,a,c){var p=c.length,y=a.I();if(!(1>y)){var g=a.ub(0),w=Math.min(y,p),S=0,k=s.eh(),E=s.Wc(),P=E?s.Oe().R():0,R=179*P/360,D=0;for(E&&(D=s.zi());0<y;){if(g.uB(S<<1,w,c),d.ej.geogToProj(k,w,c),E)for(s=0;s<w;s++){var U=c[s][0],Y=d.lc.sign(U),K=g.read(2*(S+s))-D;0>Y*d.lc.sign(K)&&Math.abs(U)>R&&(c[s][0]+=-Y*P)}g.uC(S<<1,w,c),S+=w,y-=w,w=Math.min(y,p)}a.Pc(1993)}},l.HL=function(s,a,c,p){if(c!=0){var y=s.eh(),g=s.Wc(),w=g?s.Oe().R():0,S=179*w/360,k=0;for(g&&(k=s.zi()),s=0;s<c;){for(var E=s;E<c&&a[E].isNaN();++E)s++;var P=Math.min(p.length,c-s);if(0<P){E=1;for(var R=s+1;E<P;++E,++R)if(a[R].isNaN()){P=E;break}if(d.ta.Jy(p,a,s,P),d.ej.geogToProj(y,P,p),g)for(E=0,R=s;E<P;E++){var D=p[E][0],U=d.lc.sign(D);0>U*d.lc.sign(a[R].x-k)&&Math.abs(D)>S&&(p[E][0]-=U*w)}d.ta.Iy(a,s,p,P),s+=P}}}},l.tr=function(s,a,c,p){var y=a.I();if(y!=0){var g=a.ub(0),w=s.ef,S=s.Yf,k=w.sc().Qp(),E=S.sc().Qp(),P=w.bf(),R=S.bf();if((s=s.Wf)==null||s.count()==0){for(c=k/E,p=(w.Up()-S.Up())*R,E=-90*P,s=90*P,k=!1,R=1,w=2*y;R<w;)P=g.get(R),(S=d.O.Rk(P,E,s))!=P&&(g.set(R,S),k=!0),R+=2;if(p!=0||c!=1)for(k=!0,E=new d.h,R=0;R<y;R++)g.tc(2*R,E),E.x*=c,E.x+=p,E.y*=c,g.Tt(2*R,E);k&&a.Pc(1993)}else{w=p.length,S=Math.min(y,w);var D=d.O.lg(S),U=null,Y=0,K=NaN,V=NaN,Q=360*R,ae=R/P;c&&(V=90*R,K=89.9*P,U=d.O.lg(S));for(var oe=!0,me=0;y!=0;){for(P=!1,g.uB(Y<<1,S,p),R=0;R<S;R++)D[R]=p[R][0];if(c)for(R=0;R<S;R++){var de=Math.abs(p[R][1])-K;0<de&&(P=p[R][1],p[R][1]=d.lc.Cn(K,P),U[R]=d.lc.Cn(de,P),P=!0)}for(R=p[0][0],s.transform(p,S,k,E),oe&&(me=p[0][0]-ae*R,oe=!1),R=0;R<S;R++)de=p[R][0]-D[R]*ae-me,200<Math.abs(de)&&(p[R][0]=0<de?p[R][0]-Q:p[R][0]+Q);if(P){for(R=0;R<S;R++)U[R]!=0&&(p[R][1]+=ae*U[R],p[R][1]>V?p[R][1]=V:p[R][1]<-V&&(p[R][1]=-V));for(P=0;P<S;P++)U[P]=0}g.uC(Y<<1,S,p),Y+=S,y-=S,S=Math.min(y,w)}a.Pc(1993)}}},l.GL=function(s,a,c,p){if(s.mw)p=90*s.ef.bf(),d.ta.dK(a,c,-p,p);else{var y=s.Wf,g=s.ef,w=s.Yf;s=g.Xr();var S=w.Xr(),k=g.bf(),E=90*k,P=w.bf();if(y==null||y.count()==0){if(p=s/S,y=(g.Up()-w.Up())*P,d.ta.dK(a,c,-E,E),y!=0||p!=1)for(P=0;P<c;P++)a[P].x*=p,a[P].x+=y,a[P].y*=p}else{g=Math.min(c,p.length),E=d.O.lg(g),w=360*P,k=P/k;for(var R=!0,D=0,U=0;c!=0;){for(P=0;P<g;P++)E[P]=a[P+U].x;for(P=a[0].x,d.ta.Jy(p,a,U,g),y.transform(p,g,s,S),d.ta.Iy(a,U,p,g),R&&(D=a[0].x-k*P,R=!1),P=0;P<g;P++){var Y=a[U+P].x-E[P]*k-D;200<Math.abs(Y)&&(a[U+P].x=0<Y?a[U+P].x-w:a[U+P].x+w)}U+=g,c-=g,g=Math.min(c,p.length)}}}},l.dv=function(s,a){return s=s.gh(),isNaN(a)||s.Ju(a,0),s},l.UQ=function(s,a,c,p,y,g,w,S){for(var k=l.dv(p,y),E=k.R(),P=E/360,R=l.pE*P,D=s.ub(0),U=a.Wc(),Y=U?E/a.Oe().R():0,K=!1,V=new d.Da(c.description),Q=0,ae=c.da();Q<ae;++Q){var oe=U,me=new d.Ta(c.description);if(me.addPath(c,Q,!0),w!=0){var de=l.PD(!0,me,k.H-S,k.H,w);(K=K||de)&&(oe=!1)}var Me=-1;oe&&(Me=s.Ba(Q));var _e=me.ub(0),xe=me.I(),Ue=0,Ae=_e.read(0),st=0;de=3*p.Xd(0);var ct=!1,Ve=new d.h;Ve.Rc();var Rt=new d.h;Rt.Rc();for(var Rr=!1,xr=1;xr<xe;++xr){var zt=d.h.construct(_e.eg(2*xr),_e.eg(2*xr+1)),Wt=zt.x,Je=Wt+Ue,_r=Je-Ae;if(zt.x=Je,Math.abs(_r)>R){if(oe){var Tt=Me+(xr+1<xe?xr:0),Mn=D.read(2*(Me+xr-1));Tt=(D.read(2*Tt)-Mn)*Y,Math.abs(_r-Tt)>1*P&&(oe=!1)}oe||(Je=Wt+(Ue-=d.lc.Cn(E,Je-Ae)),++st,Rr=Ue!=0,zt.x=Je)}else ct||d.ta.AG(Rt,Ve,zt,de)&&(ct=!0);Rr&&_e.write(2*xr,Je),Ae=Je,Rt.L(Ve),Ve.L(zt)}0<st&&me.Pc(1993),oe=me.Na(0),xe=me.Na(xe-1),me=d.h.tb(oe,xe)<de?l.uQ(me,p,y,g,ct):l.vQ(s,Q,me,p,y),V.add(me,!1)}return y=p.Xd(0),c=k.R()/180,l.Jt(V,k,.1*y,!1),V=V!=(y=d.ri.clip(V,k,y,c,g)),s=s.Ke(),w=0,0<(S=y.Ke())&&0>s?w=1:0>=S&&0<s&&(S==0?(S=NaN,a.Sb()==2?S=a.ml().Ke():a.Sb()==1&&(S=a.Oe().wF()),s>.99*S&&(w=-1)):w=-1),w!=0&&((a=new d.Da(y.description)).tp(k),(a=d.Xl.local().V(a,c,g)).add(y,!1),V=!0,y=a),V&&(y=d.Yl.local().V(y,p,!1,g)),y},l.vQ=function(s,a,c,p,y){var g=c.I(),w=c.Na(0),S=c.Na(g-1);y=(p=l.dv(p,y)).R(),w=d.lc.sign(S.x-w.x);var k=new d.l;c.xc(k);var E=p.gk();if(S=E-y,E+=y,0<=w){var P=Math.ceil((S-k.v)/y);for(P*=y;S>k.v+P;)P+=y;for(;S<k.C+P;)P-=y;var R=P;720<k.R()&&(E=S+360*Math.ceil(k.R()/360))}else{for(P=Math.ceil((E-k.C)/y),P*=y;E<k.C+P;)P-=y;for(;E>k.v+P;)P+=y;R=P,720<k.R()&&(S=E-360*Math.ceil(k.R()/360))}P=w*y;var D=d.l.construct(k.v,k.G,k.C,k.H);D.move(R,0);var U=new d.Dd;U.gg(R,0),c.Oc(U),(k=new d.Ta(c.description)).add(c,!1),R=c.Na(g-1),y=0;for(var Y=k.Na(0).x,K=0;0<w?D.C<E:D.v>S;)1024<=K&&(K=0),D.move(P,0),U.Gb=P,c.Oc(U),Y+=P,p.v<=Y&&p.C>=Y&&(y=k.I()-1),c.Cb(0,R),R=c.Na(g-1),k.Dr(c,0,0,g-1,!1);return c=new d.Da(k.description),g=0<s.Ir(a),c.add(k,!1),s=k.Na(0),S=k.Na(k.I()-1),a=c.da()-1,(0>w?g:!g)?(w=d.h.construct(S.x,p.H),c.Ci(w),w=d.h.construct(p.gk(),p.H),c.Ci(w),p=d.h.construct(s.x,p.H)):(w=d.h.construct(S.x,p.G),c.Ci(w),w=d.h.construct(p.gk(),p.G),c.Ci(w),p=d.h.construct(s.x,p.G)),c.Ci(p),c.xG(0,a,0),c.kO(y),c},l.uQ=function(s,a,c,p,y){var g=new d.Da(s.description);g.add(s,!1),g.DB(0,g.I()-1);var w=new d.l;g.xc(w);var S=(c=l.dv(a,c)).R(),k=Math.ceil((c.v-w.v)/S);for(k*=S;c.v>w.v+k;)k+=S;for(;c.v<w.C+k;)k-=S;if((k+=S)!=0){w.move(k,0);var E=new d.Dd;E.gg(k,0),g.Oc(E)}if(c.v<=w.v&&c.C>w.C)return y&&(y=g.Ke(),a=(g=d.Yl.local().V(g,a,!0,p)).Ke(),(a=d.lc.sign(y)!=d.lc.sign(a))&&g.oJ()),g;for((s=new d.Da(s.description)).add(g,!1),y=y||w.R()>S-a.Xd(0);w.v<c.C;)w.move(S,0),(E=new d.Dd).gg(S,0),g.Oc(E),s.add(g,!1);return y&&(y=s.Ke(),s.Yo(1),a=(s=d.Yl.local().V(s,a,!0,p)).Ke(),(a=d.lc.sign(y)!=d.lc.sign(a))&&s.oJ()),s},l.PD=function(s,a,c,p,y){for(var g=a.ub(0),w=a.I(),S=!1,k=0;k<w;k++){var E=d.h.construct(g.eg(2*k),g.eg(2*k+1));if(1&y&&E.y>=c){S=!0;break}if(2&y&&E.y<=-c){S=!0;break}}if(!S)return!1;g=!1,s&&(g=a.Nn(0)),w=(s=new d.gd).Ib(a),S=s.Ob(w);var P=-1,R=!0,D=new d.h;D.Rc(),k=new d.Sa;for(var U=-1,Y=s.Xa(S);Y!=-1;Y=s.U(Y)){E=s.Na(Y);var K=1&y&&90<=E.y?1:0;if(K|=2&y&&E.y<=-c?2:0,0<P&&P!=K){if(D.x!=E.x){D.x=E.x,s.Vi(s.Ma(Y),k);var V=s.wj(S,Y,k);s.mf(V,D)}if(g)for(U=U!=-1?s.U(U):s.Xa(S),V=s.Ma(Y);U!=V;)U=s.pd(U,!1);U=-1}0<K&&(E.y=d.lc.Cn(p,E.y),s.mf(Y,E),R||P==K||(E.x!=D.x?(s.Vi(Y,k),V=s.wj(S,Y,k),s.Cb(V,D.x,E.y),U=V):U=Y)),P=K,D=E,R=!1}if(g){if(U!=-1)for(U=s.U(U);U!=-1;)U=s.pd(U,!1);c=s.Xa(S),s.fq(c,s.rj(S))||(s.Vi(c,k),s.wj(S,-1,k))}return s.Ne(w).copyTo(a),!0},l.Mz=function(s,a,c,p){var y=s;if(y.B()||c==j.DontClip)return y;var g=y.getType();if(g==33)return y=[(p=y).D()],l.yG(y,1,a,c),y[0].isNaN()?p.Oa():p.Cb(y[0]),s;var w=(s=a.sc()).bf(),S=90*w,k=180*w,E=360*w,P=a.zi(),R=.5*w,D=new d.l;y.A(D);var U=a.Vr(),Y=a.PQ(),K=U.getType()==197;if(a=new d.l,U.A(a),c==j.PannableFold&&(c=s.Oe().R(),a.v=P-.5*c,a.C=a.v+c),D.G<-S||D.H>S){if(new d.l().K(D.v-w,-S,D.C+w,S),(y=d.ri.Nu(y,a,s,NaN,0,p)).B())return y;y.A(D)}if(Y&&(a.H<D.G||a.G>D.H))return y.Ia();if(D.R()>E&&(y=l.Hp(y,P-k,E,s,!0,0,!0,p)).A(D),(S=l.eO(D.v,D.C,a.v,a.C,E))!=0&&D.move(S,0),D.C>a.C||D.v<a.v){if(D.C>a.C)for(;D.v>=a.C;)D.move(-E,0),S-=E;for(;D.v<a.C-E;)D.move(E,0),S+=E}if(c=d.ta.Hu(s,U),S!=0&&((w=new d.Dd).gg(S,0),y.Oc(w)),Y){if(K&&a.contains(D))return y;for(Y=[null,null],S=0;2>S;S++){if(K?w=d.aa.Hc(g)?d.ri.clip(y,a,c,R,p):d.ri.clip(y,a,c,0,p):(w=d.Xj.local().V(y,U,s,p))==U&&(w=d.aa.jg(w)),a.v<=D.v&&a.C>=D.C||a.v>=D.v&&a.C<=D.C)return w;Y[S]=w,S==0&&(D.move(-E,0),(w=new d.Dd).gg(-E,0),y.Oc(w))}if(g==550)Y[0].Fd(Y[1],0,-1);else if(d.aa.Hc(g))Y[0].add(Y[1],!1);else{if(g!=33)throw d.i.fa("intersect_with_GCS_horizon: unexpected geometry type");Y[0].B()&&(Y[0]=Y[1])}return Y[0]}if(a.H<D.G||a.G>D.H)return y;for(g=0;!y.B()&&D.C>a.v;)g!=0&&((w=new d.Dd).gg(g,0),y.Oc(w)),d.dj.local().V(4,y,U,s,p)||U==(y=d.kp.local().V(y,U,s,p))&&(y=d.aa.jg(y)),g!=0&&((R=new d.Dd).gg(-g,0),y.Oc(R)),g-=E,D.move(-E,0);return y},l.yG=function(s,a,c,p){if(a!=0&&p!=j.DontClip)if(p==j.PannableFold){p=c.HR();for(var y=a,g=0;g<a;g++)(s[g].y>p.H||s[g].y<p.G)&&(s[g].Rc(),y--);y!=0&&l.av(s,a,p.v,p.R())}else{var w=90*(p=c.bf()),S=180*p;for(p*=360,y=a,g=0;g<a;g++)(s[g].y>w||s[g].y<-w)&&(s[g].Rc(),y--);if(y!=0){(y=new d.l).Zw(s,a),w=c.Vr();var k=c.hv();g=w.getType()==197;var E=new d.l;if(w.A(E),!k||!(E.H<y.G||E.G>y.H))if(k)if(l.av(s,a,E.gk()-S,p),y=a,g)for(g=0;g<a;g++)E.contains(s[g])||(s[g].Rc(),y--);else for(c=d.ta.Hu(c.sc(),w),g=0;g<a;g++)(S=d.hd.Yd(w,s[g],c)!=0)||(s[g].Rc(),y--);else for(l.av(s,a,-S,p),y=a,c=d.ta.Hu(c.sc(),w),g=0;g<a;g++)(S=s[g]).isNaN()&&y--,k=l.tE(S.x,E.v,E.C,p),S.x+=k,(S=d.hd.Yd(w,S,c)!=0)&&(s[g].Rc(),y--)}}},l.Hp=function(s,a,c,p,y,g,w,S){var k=s.getType(),E=a+c;if(k===33){var P=(p=y?s:s.Of()).Lg();return(P<a||P>=E||w&&P==E)&&(P+=Math.ceil((a-P)/c)*c,P=d.O.Rk(P,a,E),p.cC(P)),p}if(s.B()||(P=new d.l,s.A(P),P.B()))return s;var R=new d.Nc;P.cn(R);var D=new d.Nc;if(D.K(a,E),D.contains(R))return s;if((E=new d.l).K(P),k===550){for(S=(p=y?s:s.Of()).ub(0),k=2*p.I(),E=!1,a=0;a<k;a+=2)((P=S.read(a))<D.oa||P>=D.va||w&&P==D.va)&&(E=!0,P+=Math.ceil((D.oa-P)/c)*c,P=D.It(P),S.write(a,P));return E&&p.Pc(1993),p}if(k==197)return c=y?s:s.Of(),P.Ea(E),c.Xo(P),c;var U=.1*Math.max(P.ca(),P.R());for(E.W(0,U),w=s,D=p.Xd(0),s=d.Gh.local(),y=new d.Dd;;){var Y=Math.floor((R.oa-a)/c),K=Math.ceil((R.va-a)/c);if(!(3<K-Y))break;Y=Math.floor(.5*(K+Y)),E.v=P.v-U,E.C=a+c*Y;var V=d.ri.clip(w,E,D,g,S);E.v=E.C,E.C=P.C+U;var Q=d.ri.clip(w,E,D,g,S);y.gg((Y-K)*c,0),Q.Oc(y),k==1736?w=s.V(V,Q,p,null):(w=V).add(Q,!1),w.A(P),P.cn(R)}for(E.v=a,E.C=a+c,(a=new d.l).K(E),a.W(D,0),(a=Math.floor((P.v-E.v)/c)*c)!=0?(E.move(a,0),y.gg(-a,0)):y.RB(),a=k==1607?new d.Ta(w.description):new d.Da(w.description),g=new d.l,R=new d.l;P.C>E.v;)(U=d.ri.clip(w,E,D,0,S)).A(R),(k==1607?!U.B()&&(R.R()>D||R.ca()>D):!U.B()&&(k!=1736||R.R()>D))&&(U.Oc(y),U.A(R),a.A(g),g.W(D,D),g.isIntersecting(R)&&k==1736?a=s.V(a,U,p,null):a.add(U,!1)),E.move(c,0),y.shift(-c,0);return a},l.av=function(s,a,c,p){for(var y=c+p,g=0;g<a;g++){var w=s[g].x;c<=w&&w<y||!(w<c||w>y||w==y)||(w+=Math.ceil((c-w)/p)*p,w=d.O.Rk(w,c,y),s[g].x=w)}},l.Fn=function(s,a,c,p,y,g){if(!a.Wc())throw d.i.fa("fold_into_360_degree_range");if(s.B())return s;if(a.Sb()==2){c=a.pv();var w=a.ov()-c}else{var S=a.bf();w=360*S,c-=180*S}return l.Hp(s,c,w,a,p,y,!0,g)},l.qF=function(s,a,c,p){if(c.Sb()==2)p=c.pv(),c=c.ov()-p;else{var y=c.bf();c=360*y,p-=180*y}l.av(s,a,p,c)},l.lj=function(s,a){var c=a.Oe();if(s.getType()==33){var p=s.ih();return c.G<=p&&p<=c.H?s:s.Ia()}p=new d.l,s.A(p);var y=new d.l;return y.K(c),y.v=p.v,y.C=p.C,y.W(.01*y.ca(),0),c=d.ta.uy(a,p),y.contains(p)?s:d.ri.clip(s,y,c,0,null)},l.ir=function(s,a,c){return s>a.C&&s-a.C<c?a.C:s<a.v&&a.v-s<c?a.v:s},l.FX=function(s,a,c,p){p.x=l.ir(s.x,a,c),p.y=s.y},l.EX=function(s,a,c,p){for(var y=0;y<a;y++)s[y].y<c.G||s[y].y>c.H?s[y].Rc():s[y].x=l.ir(s[y].x,c,p)},l.Jt=function(s,a,c,p){if(!s.B()){var y=s.getType();if(!p||y!=1736)if(d.aa.xj(y)){p=s.ub(0),y=0;for(var g=s.I();y<g;y++){var w=p.read(2*y),S=l.ir(w,a,c);S!=w&&p.write(2*y,S)}s.Pc(1993)}else if(y==197)p=new d.l,s.A(p),p.v=l.ir(p.v,a,c),p.C=l.ir(p.C,a,c),s.Xo(p);else{if(y!=33)throw d.i.fa("internal error");s.cC(l.ir(s.Lg(),a,c))}}},l.uS=function(s,a,c,p){var y=new d.gd,g=y.Ib(s);return s=d.ta.Hu(a,s),l.ks(y,g,a,s,c,!0,p),y.Ne(g)},l.ks=function(s,a,c,p,y,g,w){if(!c.Wc())throw d.i.N("invalid call");var S=c.Oe(),k=c.sc(),E=k.eh().getDatum().getSpheroid();k=k.Hd().ai;var P=E.getFlattening();E=E.getAxis(),P*=2-P;var R=new d.Nc;S.cn(R);var D=null,U=[[0,0],[0,0]];if(c.Sb()==2?(D=c.eh(),g?(U[0][0]=l.Zm(w,R),U[0][1]=S.Jp(),d.ej.projToGeog(D,1,U),S=U[0][0]*k):(U[0][0]=S.gk(),U[0][1]=w,d.ej.projToGeog(D,1,U),S=U[0][1]*k)):S=w*k,!g&&S!=0&&y!=h.GreatElliptic)throw d.i.fa("invalid argument");var Y=new d.ga,K=[0],V=new d.h,Q=new d.h,ae=new d.h,oe=[null,null],me=new d.h,de=new d.h,Me=new d.h,_e=new d.h;for(a=s.Ob(a);a!=-1;a=s.Rb(a)){var xe=s.Xa(a);s.D(xe,me);for(var Ue=!1,Ae=xe=s.U(xe);Ae!=-1;Ae=s.U(Ae)){if(Ae==xe){if(Ue)break;Ue=!0}if(s.D(Ae,de),g&&(p<w-me.x&&de.x-w>p||p<w-de.x&&me.x-w>p)||!g&&(w!=0||p<-me.y&&de.y>p||p<-de.y&&me.y>p))do if(!(Math.abs(me.x-de.x)>=.5*R.R())){if(c.Sb()==2?(U[0][0]=l.Zm(me.x,R),U[0][1]=me.y,U[1][0]=l.Zm(de.x,R),U[1][1]=de.y,d.ej.projToGeogCenter(D,2,U,0),Me.x=U[0][0]*k,Me.y=U[0][1]*k,_e.y=U[1][1]*k):(Me.x=me.x*k,Me.y=me.y*k,_e.y=de.y*k),_e.x=2*(de.x-me.x)*Math.PI/R.R()+Me.x,g){if(Q.x=S,Q.y=l.Nz(E,P,Me,_e,S,y),isNaN(Q.y))break;oe[0]=Q;var st=1}else if(y==h.GreatElliptic){var ct=[0,0];if((st=d.Ox.Oz(P,Me,_e,S,ct))==0)break;Q.x=ct[0],Q.y=S,oe[0]=Q,st==2&&(ae.x=ct[1],ae.y=S,oe[1]=ae)}else{if(Q.x=l.Lz(E,P,Me,_e,y),isNaN(Q.x))break;Q.y=0,oe[0]=Q,st=1}var Ve=-1;for(ct=0;ct<st;ct++){d.kb.wd(E,P,Me.x,Me.y,_e.x,_e.y,Y,null,null,y);var Rt=Y.u;d.kb.wd(E,P,Me.x,Me.y,oe[ct].x,oe[ct].y,Y,null,null,y);var Rr=Y.u;if(c.Sb()==2?(U[0][0]=oe[ct].x/k,U[0][1]=oe[ct].y/k,d.ej.geogToProj(D,1,U),g?(V.y=U[0][1],V.x=w):(V.x=l.os(U[0][0],me.x,de.x,R),V.y=w)):g?(V.x=w,V.y=oe[ct].y/k):(V.x=l.os(oe[ct].x/k,me.x,de.x,R),V.y=w),K[0]=0<Rt?d.O.Rk(Rr/Rt,0,1):.5,K[0]==0||K[0]==1)break;Ve>K[0]||(Ve=s.Ma(Ae),s.Ul(Ve,K,1),s.Cb(s.U(Ve),V.x,V.y),Ve=K[0])}}while(!1);me.L(de)}}},l.Zm=function(s,a){var c=a.va-a.oa;return a.It(s-Math.floor((s-a.oa)/c)*c)},l.os=function(s,a,c,p){var y=new d.Nc;for(y.K(a,c),c=p.R(),s=Math.floor((s-a)/c)*c+s,y=y.sf();Math.abs(s-y)>Math.abs(s+c-y);)s+=c;return s},l.Sn=function(s,a,c){return s=d.qr.Cp(s),a=d.qr.mx(s,d.qr.Cp(a)),(c=d.qr.mx(s,d.qr.Cp(c)))==0||0<a&&0<c&&c<=a||0>a&&0>c&&c>=a},l.Nz=function(s,a,c,p,y,g){if(g==h.GreatElliptic)return d.Ox.SS(a,c,p,y);if(Math.abs(c.x-p.x)>=Math.PI||!l.Sn(c.x,p.x,y))return NaN;if(c.x>p.x)var w=p;else w=c,c=p;p=new d.ga;var S=new d.ga,k=new d.ga;d.kb.wd(s,a,w.x,w.y,c.x,c.y,S,p,null,g);var E=S.u,P=0,R=1,D=new d.h;for(D.L(w);E*(R-P)>1e-12*s;){var U=.5*(P+R);if(d.kb.oj(s,a,w.x,w.y,E*U,p.u,S,k,g),D.x=S.u,D.y=k.u,D.x==y)break;if(l.Sn(w.x,D.x,y))R=U;else{if(!l.Sn(c.x,D.x,y))return NaN;P=U}}return D.y},l.Lz=function(s,a,c,p,y){if(y==h.GreatElliptic)return s=[0,0],d.Ox.Oz(a,c,p,0,s),s[0];if(c.y>p.y)var g=p;else g=c,c=p;if((p=new d.Nc).K(g.y,c.y),!p.contains(0)||Math.abs(g.x-c.x)>=Math.PI)return NaN;if(g.x==c.x)return g.x;var w=new d.ga,S=new d.ga,k=new d.ga;d.kb.wd(s,a,g.x,g.y,c.x,c.y,S,w,null,y);var E=S.u,P=0,R=1,D=new d.h;for(D.L(g);E*(R-P)>1e-12*s;){var U=.5*(P+R);if(d.kb.oj(s,a,g.x,g.y,E*U,w.u,S,k,y),D.x=S.u,D.y=k.u,p.K(g.y,D.y),D.y==0)break;if(p.contains(0))R=U;else{if(p.K(c.y,D.y),!p.contains(0))return NaN;P=U}}return D.x},l.WI=function(s,a,c,p){if(!s.ef.Wc())return!1;var y=new d.de(a.description);if(y.Fd(a,0,-1),p=d.Hx.local().V(y,s,p),y=a.I(),c.Oa(),y!=p.I())return!1;var g=new d.l;a.A(g);var w=new d.l;if(p.A(w),g=g.R(),w=w.R(),g!=0&&w!=0){if(w/=g,s=s.Yf.gh().R()/s.ef.gh().R(),1e-10<Math.abs(w/s-1))return!1}else if(g!=0||w!=0)return!1;for(c.add(a,!1),a=new d.h,s=0;s<y;s++)p.D(s,a),c.Cb(s,a);return!0},l.qN=function(s,a){return(s%=360*a)>=180*a&&(s-=360*a),s},l.UI=function(s,a,c,p){if(c==j.Clip){var y=a.ml();y.getType()==197?(c=new d.l,y.A(c),y=d.ta.uy(a,c),s=d.ri.clip(s,c,y,5e4*a.pm(),p)):d.dj.local().V(1,y,s,a,p)||(s=d.Xj.local().V(s,y,a,p))==y&&(s=d.Vk.jg(s))}else a.Wc()&&(p=new d.l,s.xc(p),a.Oe().contains(p)||(l.Jt(s,a.Oe(),a.Xd(0),!0),c==j.PannableFold&&(s=l.lj(s,a)),s=l.Fn(s,a,0,!0,1e5*a.pm(),null)));return s},l.XD=function(s,a,c){var p=a.Wr();if(p==null)return s;var y=(a=a.sc()).Oe().R(),g=new d.l;s.xc(g);var w=new d.Nc;g.cn(w),g=p.Ga(),p=null;for(var S=new d.Dd;g.$a();)for(;g.Ha();){var k=g.ha(),E=k.Tg(0,0),P=new d.Nc;for(P.K(E.oa,E.va),E=0;P.va>w.oa;)P.move(-y),--E;for(;P.oa<=w.va;){if(P.isIntersecting(w)){p==null&&(p=new d.Ta);var R=d.yb.cP(k.ac(),k.wc());E!=0&&(S.gg(E*y,0),R.Oc(S)),p.oc(R,!0)}P.move(y),++E}}return p!=null?(a=d.ta.gO(a,p),a=d.ta.Er(a),d.$t.lP(s,p,a,c)):s},l.eO=function(s,a,c,p,y){return s>=c&&a<=p?0:l.tE(.5*(a+s),c,p,y)},l.tE=function(s,a,c,p){return d.lc.round((.5*(c+a)-s)/p)*p},l.VQ=function(s,a,c,p,y,g,w,S){var k=l.dv(p,y),E=k.R(),P=E/360,R=l.pE*P,D=s.ub(0),U=a.Wc(),Y=U?E/a.Oe().R():0;a=s.Ia();for(var K=0,V=c.da();K<V;++K){var Q=U,ae=new d.Ta(c.description);ae.addPath(c,K,!0);var oe=c.dc(K);w!=0&&(oe=l.PD(oe,ae,k.H-S,k.H,w))&&(Q=!1);var me=-1;oe=ae.I();var de=!1;Q&&(me=s.Ba(K),de=s.dc(K));var Me=ae.ub(0),_e=0,xe=Me.read(0),Ue=0,Ae=3*p.Xd(0),st=!1,ct=new d.h;ct.Rc();var Ve=new d.h;Ve.Rc();for(var Rt=!1,Rr=1;Rr<oe;++Rr){var xr=d.h.construct(Me.eg(2*Rr),Me.eg(2*Rr+1)),zt=xr.x,Wt=zt+_e,Je=Wt-xe;if(xr.x=Wt,Math.abs(Je)>R){if(Q){var _r=me+Rr-1,Tt=me;(!de||Rr+1<oe)&&(Tt+=Rr),_r=D.read(2*_r),Tt=(D.read(2*Tt)-_r)*Y,Math.abs(Je-Tt)>1*P&&(U=!1)}Q||(Wt=zt+(_e-=d.lc.Cn(E,Wt-xe)),++Ue,Rt=_e!=0,xr.x=Wt)}else st||d.ta.AG(ct,Ve,xr,Ae)&&(st=!0);Rt&&Me.write(2*Rr,Wt),xe=Wt,ct.L(Ve),Ve.L(xr)}Ue!=0&&ae.Pc(1993),Q=ae.Na(0),oe=ae.Na(oe-1),d.h.tb(Q,oe),ae=l.wQ(ae,p,isNaN(y)?0:y,g),a.add(ae,!1)}return s=p.Xd(0),c=k.R()/180,l.Jt(a,k,.1*s,!1),d.ri.clip(a,k,s,c,g)},l.wQ=function(s,a,c,p){return l.Fn(s,a,c,!0,0,p)},l.OS=function(s,a,c,p){var y=s.getType();if(y==1736)for(a=a!=null?a.Xd(0):0,y=0;y<p;y++)d.hd.Yd(s,c[y],a)!=1&&c[y].Rc();else{if(y!=197)throw d.i.N();for(y=0;y<p;y++)s.dP(c[y])||c[y].Rc()}},l.$k=function(s,a,c,p){if(32>c)for(var y=new d.Sa,g=0;g<c;g++)y.Cb(a[g]),s.$k(y,p).D(a[g]);else{var w=new d.de;for(w.re(3),w.HD(a,c),y=w.ub(3),g=0;g<c;g++)y.write(g,g);for(g=s.$k(w,p),s=g.ub(0),y=g.ub(3),p=d.h.construct(NaN,NaN),w=0;w<c;w++)a[w]=p;for(c=g.I(),g=0;g<c;g++)p=y.read(g),s.tc(2*g,a[p])}},l.Zk=function(s,a,c,p){if(32>c)for(var y=new d.Sa,g=0;g<c;g++)y.Cb(a[g]),s.Zk(y,p).D(a[g]);else{var w=new d.de;for(w.re(3),w.HD(a,c),y=w.ub(3),g=0;g<c;g++)y.write(g,g);for(g=s.Zk(w,p),s=g.ub(0),y=g.ub(3),p=d.h.construct(NaN,NaN),w=0;w<c;w++)a[w]=p;for(c=g.I(),g=0;g<c;g++)p=y.read(g),s.tc(2*g,a[p])}},l.pE=210,l}()}(ee||(ee={})),function(d){var j;(j=d.UL||(d.UL={}))[j.rightSide=1]="rightSide";var x=function(){function h(l,s,a){this.Bs=new d.h,l===void 0?this.Io=-1:(this.Bs.L(l),this.Io=s,this.Ka=a,this.nw=0)}return h.prototype.WJ=function(l){this.nw=l?1|this.nw:-2&this.nw},h.prototype.B=function(){return 0>this.Io},h.prototype.fz=function(){if(this.B())throw d.i.fa("invalid call");return new d.Sa(this.Bs.x,this.Bs.y)},h.prototype.Ua=function(){if(this.B())throw d.i.fa("invalid call");return this.Io},h.prototype.hz=function(){if(this.B())throw d.i.fa("invalid call");return this.Ka},h.prototype.Sz=function(){return!!(1&this.nw)},h.prototype.ey=function(l,s,a,c){this.Bs.x=l,this.Bs.y=s,this.Io=a,this.Ka=c},h}();d.$l=x}(ee||(ee={})),function(d){var j=function(){function h(){}return h.prototype.Uo=function(l,s){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,l.xc(this.Ek),this.Ek.W(s,s),this.Ek.isIntersecting(this.Fb.Ca)){var a=l.getType();(this.vs=d.aa.yd(a))?(this.TH=l.ac(),this.SH=l.wc(),this.qa=s):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},h.prototype.Xi=function(l,s){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(l),this.Ek.W(s,s),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},h.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var l=null,s=null,a=null,c=null;this.vs&&(l=new d.h,s=new d.h,a=new d.l);for(var p=!1;!p;){for(;this.tk!=-1;){var y=this.Fb.bz(this.Fb.fv(this.tk));if(y.isIntersecting(this.Ek)){if(!this.vs){p=!0;break}if(l.L(this.TH),s.L(this.SH),a.K(y),a.W(this.qa,this.qa),0<a.zy(l,s)){p=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){y=this.th.Fc();var g=this.Ii[this.Ii.length-1];for(c==null&&((c=[])[0]=new d.l,c[1]=new d.l,c[2]=new d.l,c[3]=new d.l),x.EJ(g,c),this.th.If(),--this.Ii.length,g=0;4>g;g++){var w=this.Fb.Lp(y,g);if(w!=-1&&0<this.Fb.WR(w)&&c[g].isIntersecting(this.Ek))if(this.vs){if(l.L(this.TH),s.L(this.SH),a.K(c[g]),a.W(this.qa,this.qa),0<a.zy(l,s)){var S=new d.l;S.K(c[g]),this.th.add(w),this.Ii.push(S)}}else(S=new d.l).K(c[g]),this.th.add(w),this.Ii.push(S)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},h.bP=function(l,s,a){var c=new h;return c.Fb=l,c.Ek=new d.l,c.th=new d.ia(0),c.Ii=[],c.Uo(s,a),c},h.aP=function(l,s,a){var c=new h;return c.Fb=l,c.Ek=new d.l,c.th=new d.ia(0),c.Ii=[],c.Xi(s,a),c},h.$O=function(l){var s=new h;return s.Fb=l,s.Ek=new d.l,s.th=new d.ia(0),s.Ii=[],s},h}();d.GY=j;var x=function(){function h(l,s){this.jf=new d.$c(11),this.Zh=new d.$c(5),this.ws=[],this.gw=new d.ia(0),this.Ca=new d.l,this.Nk(l,s)}return h.prototype.reset=function(l,s){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(l,s)},h.prototype.vj=function(l,s){return this.zv(l,s,0,this.Ca,this.kf,!1,-1)},h.prototype.Jz=function(l,s,a){a=a==-1?this.kf:this.WF(a);var c=this.ca(a),p=this.oR(a);return this.zv(l,s,c,p,a,!1,-1)},h.prototype.ja=function(l){return this.jR(l)},h.prototype.GF=function(l){return this.bz(this.fv(l))},h.prototype.ca=function(l){return this.jv(l)},h.prototype.oR=function(l){var s=new d.l;s.K(this.Ca);var a=this.jv(l);l=this.QF(l);for(var c=0;c<2*a;c+=2){var p=d.O.truncate(3&l>>c);p==0?(s.v=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):p==1?(s.C=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):(p==2?s.C=.5*(s.v+s.C):s.v=.5*(s.v+s.C),s.H=.5*(s.G+s.H))}return s},h.prototype.WR=function(l){return this.Az(l)},h.prototype.vR=function(l,s){return j.bP(this,l,s)},h.prototype.MF=function(l,s){return j.aP(this,l,s)},h.prototype.getIterator=function(){return j.$O(this)},h.prototype.Nk=function(l,s){if(0>s||32<2*s)throw d.i.N("invalid height");this.BT=s,this.Ca.K(l),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},h.prototype.zv=function(l,s,a,c,p,y,g){if(!c.contains(s))return a==0?-1:this.zv(l,s,0,this.Ca,this.kf,y,g);if(!y)for(var w=p;w!=-1;w=this.IR(w))this.jx(w,this.Az(w)+1);(w=new d.l).K(c),c=p;var S=[];for(S[0]=new d.l,S[1]=new d.l,S[2]=new d.l,S[3]=new d.l;a<this.BT&&this.iO(c);a++){h.EJ(w,S);for(var k=!1,E=0;4>E;E++)if(S[E].contains(s)){k=!0;var P=this.Lp(c,E);P==-1&&(P=this.rP(c,E)),this.jx(P,this.Az(P)+1),c=P,w.K(S[E]);break}if(!k)break}return this.sS(l,s,a,w,c,y,p,g)},h.prototype.sS=function(l,s,a,c,p,y,g,w){var S=this.NF(p);if(y){if(p==g)return w;this.SP(w),y=w}else y=this.tP(),this.NB(y,l),this.KW(this.fv(y),s);return this.mX(y,p),S!=-1?(this.hx(y,S),this.bx(S,y)):this.GJ(p,y),this.SB(p,y),this.ax(p,this.lv(p)+1),this.hO(p)&&this.MQ(a,c,p),y},h.prototype.SP=function(l){var s=this.WF(l),a=this.NF(s),c=this.OR(l),p=this.nv(l);this.Ur(s)==l?(p!=-1?this.hx(p,-1):this.SB(s,-1),this.GJ(s,p)):a==l?(this.bx(c,-1),this.SB(s,c)):(this.hx(p,c),this.bx(c,p)),this.hx(l,-1),this.bx(l,-1),this.ax(s,this.lv(s)-1)},h.EJ=function(l,s){var a=.5*(l.v+l.C),c=.5*(l.G+l.H);s[0].K(a,c,l.C,l.H),s[1].K(l.v,c,a,l.H),s[2].K(l.v,l.G,a,c),s[3].K(a,l.G,l.C,c)},h.prototype.hO=function(l){return this.lv(l)==8&&!this.gG(l)},h.prototype.MQ=function(l,s,a){var c=this.Ur(a);do{var p=this.fv(c),y=this.Zh.T(c,0);p=this.bz(p),this.zv(y,p,l,s,a,!0,c),c=y=this.nv(c)}while(c!=-1)},h.prototype.iO=function(l){return 8<=this.lv(l)||this.gG(l)},h.prototype.gG=function(l){return this.Lp(l,0)!=-1||this.Lp(l,1)!=-1||this.Lp(l,2)!=-1||this.Lp(l,3)!=-1},h.prototype.rP=function(l,s){var a=this.jf.Ce();return this.OW(l,s,a),this.jx(a,0),this.ax(a,0),this.Pk(a,l),this.KJ(a,this.jv(l)+1),this.NJ(a,s<<2*this.jv(l)|this.QF(l)),a},h.prototype.tP=function(){var l=this.Zh.Ce();if(0<this.gw.size){var s=this.gw.Fc();this.gw.If()}else s=this.ws.length,this.ws.push(new d.l);return this.LW(l,s),l},h.prototype.Lp=function(l,s){return this.jf.T(l,s)},h.prototype.OW=function(l,s,a){this.jf.S(l,s,a)},h.prototype.Ur=function(l){return this.jf.T(l,4)},h.prototype.GJ=function(l,s){this.jf.S(l,4,s)},h.prototype.NF=function(l){return this.jf.T(l,5)},h.prototype.SB=function(l,s){this.jf.S(l,5,s)},h.prototype.QF=function(l){return this.jf.T(l,6)},h.prototype.NJ=function(l,s){this.jf.S(l,6,s)},h.prototype.lv=function(l){return this.jf.T(l,7)},h.prototype.Az=function(l){return this.jf.T(l,8)},h.prototype.ax=function(l,s){this.jf.S(l,7,s)},h.prototype.jx=function(l,s){this.jf.S(l,8,s)},h.prototype.IR=function(l){return this.jf.T(l,9)},h.prototype.Pk=function(l,s){this.jf.S(l,9,s)},h.prototype.jv=function(l){return this.jf.T(l,10)},h.prototype.KJ=function(l,s){this.jf.S(l,10,s)},h.prototype.jR=function(l){return this.Zh.T(l,0)},h.prototype.NB=function(l,s){this.Zh.S(l,0,s)},h.prototype.OR=function(l){return this.Zh.T(l,1)},h.prototype.nv=function(l){return this.Zh.T(l,2)},h.prototype.hx=function(l,s){this.Zh.S(l,1,s)},h.prototype.bx=function(l,s){this.Zh.S(l,2,s)},h.prototype.WF=function(l){return this.Zh.T(l,3)},h.prototype.mX=function(l,s){this.Zh.S(l,3,s)},h.prototype.fv=function(l){return this.Zh.T(l,4)},h.prototype.LW=function(l,s){this.Zh.S(l,4,s)},h.prototype.bz=function(l){return this.ws[l]},h.prototype.KW=function(l,s){this.ws[l].K(s)},h}();d.du=x}(ee||(ee={})),function(d){var j;(j=d.aL||(d.aL={}))[j.Outside=0]="Outside",j[j.Inside=1]="Inside",j[j.Border=2]="Border";var x=function(){function l(s,a){this.PT=a,this.Vh=s}return l.prototype.setColor=function(s,a){this.iH!=a&&s.flush(),this.iH=a},l.prototype.gF=function(s,a){for(var c=0;c<a;)for(var p=s[c++],y=s[c++],g=s[c++]*this.PT;p<y;p++)this.Vh[g+(p>>4)]|=this.iH<<2*(15&p)},l}();d.HY=x;var h=function(){function l(s,a,c){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(s,a,c)}return l.create=function(s,a,c){if(!l.zE(s))throw d.i.N();return l.wP(s,a,c)},l.pW=function(s){switch(s){case 0:s=1024;break;case 1:s=16384;break;case 2:s=262144;break;default:throw d.i.fa("Internal Error")}return s},l.zE=function(s){return!(s.B()||s.getType()!=1607&&s.getType()!=1736)},l.prototype.rQ=function(s,a){a=a.Ga();for(var c=new d.h,p=new d.h;a.$a();)for(;a.Ha();){var y=a.ha();if(y.getType()!=322)throw d.i.fa("Internal Error");s.Eh(y.ac(),c),s.Eh(y.wc(),p),this.Ri.jy(c.x,c.y,p.x,p.y)}this.Ri.iJ(d.Px.Cx)},l.prototype.sQ=function(){throw d.i.fa("Internal Error")},l.prototype.Ry=function(s,a){for(var c=1;4>c;c++)s.jy(a[c-1].x,a[c-1].y,a[c].x,a[c].y);s.jy(a[3].x,a[3].y,a[0].x,a[0].y),this.Ri.iJ(d.Px.Cx)},l.prototype.rK=function(s,a,c){for(var p=[null,null,null,null],y=0;y<p.length;y++)p[y]=new d.h;a=a.Ga(),c=this.Jk.dY(c)+1.5,y=new d.h;for(var g=new d.h,w=new d.h,S=new d.h,k=new d.h,E=new d.l,P=new d.h;a.$a();){var R=!1,D=!0;for(P.ma(0,0);a.Ha();){var U=a.ha();if(S.x=U.sa,S.y=U.na,k.x=U.pa,k.y=U.la,E.Oa(),E.Zb(S.x,S.y),E.Lk(k.x,k.y),this.vl.HG(E)){this.Jk.Eh(k,k),D?(this.Jk.Eh(S,S),P.L(S),D=!1):S.L(P),y.uc(k,S);var Y=.5>(U=y.length());U==0?y.ma(1,0):(Y||P.L(k),y.scale(c/U),g.ma(-y.y,y.x),w.ma(y.y,-y.x),S.sub(y),k.add(y),p[0].add(S,g),p[1].add(S,w),p[2].add(k,w),p[3].add(k,g),Y?R=!0:this.Ry(s,p))}else R&&(this.Ry(s,p),R=!1),D=!0}R&&this.Ry(s,p)}},l.prototype.sC=function(s){return d.O.truncate(s*this.qH+this.aI)},l.prototype.tC=function(s){return d.O.truncate(s*this.Es+this.cI)},l.wP=function(s,a,c){return new l(s,a,c)},l.prototype.Fz=function(s,a,c){this.Gf=Math.max(d.O.truncate(2*Math.sqrt(c)+.5),64),this.Um=d.O.truncate((2*this.Gf+31)/32),this.vl=new d.l,this.Ik=a,c=0;for(var p=this.Gf,y=this.Um;8<=p;)c+=p*y,p=d.O.truncate(p/2),y=d.O.truncate((2*p+31)/32);this.Vh=d.O.lg(c,0),this.Ri=new d.Px,c=new x(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,c),s.A(this.vl),this.vl.W(a,a),p=new d.l;var g=a*(y=d.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(a*=y.ca(),p.K(this.vl.sf(),Math.max(g,this.vl.R()),Math.max(a,this.vl.ca())),this.SA=this.Ik,this.Jk=new d.Dd,this.Jk.pS(p,y),new d.Dd,s.getType()){case 550:c.setColor(this.Ri,2),this.sQ();break;case 1607:c.setColor(this.Ri,2),this.rK(this.Ri,s,this.SA);break;case 1736:c.setColor(this.Ri,1),this.rQ(this.Jk,s),c.setColor(this.Ri,2),this.rK(this.Ri,s,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},l.prototype.XN=function(){this.Ri.flush();for(var s=0,a=this.Gf*this.Um,c=this.Gf,p=d.O.truncate(this.Gf/2),y=this.Um,g=d.O.truncate((2*p+31)/32);8<c;){for(c=0;c<p;c++)for(var w=2*c,S=2*c+1,k=0;k<p;k++){var E=2*k,P=2*k+1,R=E>>4;E=2*(15&E);var D=P>>4;P=2*(15&P);var U=this.Vh[s+y*w+R]>>E&3;U|=this.Vh[s+y*w+D]>>P&3,U|=this.Vh[s+y*S+R]>>E&3,U|=this.Vh[s+y*S+D]>>P&3,this.Vh[a+g*c+(k>>4)]|=U<<2*(15&k)}c=p,y=g,s=a,p=d.O.truncate(c/2),g=d.O.truncate((2*p+31)/32),a=s+y*c}},l.prototype.So=function(s,a){return this.vl.contains(s,a)?(s=this.sC(s),a=this.tC(a),0>s||s>=this.Gf||0>a||a>=this.Gf||(a=this.Vh[this.Um*a+(s>>4)]>>2*(15&s)&3)==0?0:a==1?1:2):0},l.prototype.Ro=function(s){if(!s.Ea(this.vl))return 0;var a=this.sC(s.v),c=this.sC(s.C),p=this.tC(s.G);if(s=this.tC(s.H),0>a&&(a=0),0>p&&(p=0),c>=this.Gf&&(c=this.Gf-1),s>=this.Gf&&(s=this.Gf-1),a>c||p>s)return 0;for(var y=Math.max(c-a,1)*Math.max(s-p,1),g=0,w=this.Um,S=this.Gf,k=0;;){if(32>y||16>S){for(y=p;y<=s;y++)for(var E=a;E<=c;E++)if(1<(k=this.Vh[g+w*y+(E>>4)]>>2*(15&E)&3))return 2;if(k==0)return 0;if(k==1)return 1}g+=w*S,S=d.O.truncate(S/2),w=d.O.truncate((2*S+31)/32),a=d.O.truncate(a/2),p=d.O.truncate(p/2),c=d.O.truncate(c/2),s=d.O.truncate(s/2),y=Math.max(c-a,1)*Math.max(s-p,1)}},l.prototype.RR=function(){return this.Gf*this.Um},l}();d.Nx=h}(ee||(ee={})),function(d){var j;(j=d.VL||(d.VL={}))[j.contains=1]="contains",j[j.within=2]="within",j[j.equals=3]="equals",j[j.disjoint=4]="disjoint",j[j.touches=8]="touches",j[j.crosses=16]="crosses",j[j.overlaps=32]="overlaps",j[j.unknown=0]="unknown",j[j.intersects=1073741824]="intersects";var x=function(){function l(){}return l.construct=function(s,a,c,p,y,g,w,S){var k=new l;return k.pw=s,k.Mm=a,k.Kj=c,k.Si=p,k.BH=y,k.SY=g,k.TY=w,k.UY=S,k},l}();d.Vt=function(){function l(){}return l.CD=function(s,a,c){if(l.wy(s)){var p=d.ta.kj(a,s,!1);a=!1,d.Uk.CE(s)&&(a=a||s.lu(p,c)),(p=s.getType())!=1736&&p!=1607||!d.Uk.AE(s)||c==0||(a=a||s.fj(c)),p!=1736&&p!=1607||!d.Uk.BE(s)||c==0||a||s.hM()}},l.wy=function(s){return d.Uk.CE(s)||d.Uk.AE(s)||d.Uk.BE(s)},l}();var h=function(){function l(){this.rh=[]}return l.zB=function(s,a,c,p,y){var g=s.getType(),w=a.getType();if(g==197){if(w==197)return l.tW(s,a,c,p);if(w==33)return p==2?p=1:p==1&&(p=2),l.hJ(a,s,c,p)}else if(g==33){if(w==197)return l.hJ(s,a,c,p);if(w==33)return l.vW(s,a,c,p)}if(s.B()||a.B())return p==4;var S=new d.l;s.A(S);var k=new d.l;a.A(k);var E=new d.l;if(E.K(S),E.Zb(k),c=d.ta.Wd(c,E,!1),l.dk(S,k,c))return p==4;switch(S=!1,d.Vk.yd(g)&&((g=new d.Ta(s.description)).oc(s,!0),s=g,g=1607),d.Vk.yd(w)&&((w=new d.Ta(a.description)).oc(a,!0),a=w,w=1607),g!=197&&w!=197?(s.Db()<a.Db()||g==33&&w==550)&&(p==2?p=1:p==1&&(p=2)):g!=1736&&w!=197&&(p==2?p=1:p==1&&(p=2)),g){case 1736:switch(w){case 1736:S=l.rt(s,a,c,p,y);break;case 1607:S=l.$m(s,a,c,p,y);break;case 33:S=l.qt(s,a,c,p);break;case 550:S=l.pt(s,a,c,p,y);break;case 197:S=l.GI(s,a,c,p,y)}break;case 1607:switch(w){case 1736:S=l.$m(a,s,c,p,y);break;case 1607:S=l.gB(s,a,c,p,y);break;case 33:S=l.tt(s,a,c,p,y);break;case 550:S=l.st(s,a,c,p,y);break;case 197:S=l.MI(s,a,c,p)}break;case 33:switch(w){case 1736:S=l.qt(a,s,c,p);break;case 1607:S=l.tt(a,s,c,p,y);break;case 550:S=l.lt(a,s,c,p)}break;case 550:switch(w){case 1736:S=l.pt(a,s,c,p,y);break;case 1607:S=l.st(a,s,c,p,y);break;case 550:S=l.ZA(s,a,c,p,y);break;case 33:S=l.lt(s,a,c,p);break;case 197:S=l.hI(s,a,c,p)}break;case 197:switch(w){case 1736:S=l.GI(a,s,c,p,y);break;case 1607:S=l.MI(a,s,c,p);break;case 550:S=l.hI(a,s,c,p)}}return S},l.tW=function(s,a,c,p){if(s.B()||a.B())return p==4;var y=new d.l,g=new d.l,w=new d.l;switch(s.A(y),a.A(g),w.K(y),w.Zb(g),s=d.ta.Wd(c,w,!1),p){case 4:return l.dk(y,g,s);case 2:return l.jF(g,y,s);case 1:return l.jF(y,g,s);case 3:return l.ek(y,g,s);case 8:return l.cQ(y,g,s);case 32:return l.bQ(y,g,s);case 16:return l.aQ(y,g,s)}return!1},l.hJ=function(s,a,c,p){if(s.B()||a.B())return p==4;s=s.D();var y=new d.l,g=new d.l;switch(a.A(y),g.K(s),g.Zb(y),a=d.ta.Wd(c,g,!1),p){case 4:return l.Rw(s,y,a);case 2:return l.eB(s,y,a);case 1:return l.RU(s,y,a);case 3:return l.vI(s,y,a);case 8:return l.dB(s,y,a)}return!1},l.vW=function(s,a,c,p){if(s.B()||a.B())return p==4;s=s.D(),a=a.D();var y=new d.l;switch(y.K(s),y.Zb(a),c=d.ta.Wd(c,y,!1),p){case 4:return l.SU(s,a,c);case 2:return l.uI(a,s,c);case 1:return l.uI(s,a,c);case 3:return l.wI(s,a,c)}return!1},l.rt=function(s,a,c,p,y){switch(p){case 4:return l.kV(s,a,c);case 2:return l.Sw(a,s,c,y);case 1:return l.Sw(s,a,c,y);case 3:return l.nV(s,a,c);case 8:return l.vV(s,a,c);case 32:return l.qV(s,a,c,y)}return!1},l.$m=function(s,a,c,p,y){switch(p){case 4:return l.lV(s,a,c);case 1:return l.fB(s,a,c,y);case 8:return l.wV(s,a,c,y);case 16:return l.gV(s,a,c)}return!1},l.qt=function(s,a,c,p){switch(p){case 4:return l.jV(s,a,c);case 1:return l.dV(s,a,c);case 8:return l.uV(s,a,c)}return!1},l.pt=function(s,a,c,p){switch(p){case 4:return l.iV(s,a,c);case 1:return l.cV(s,a,c);case 8:return l.tV(s,a,c);case 16:return l.fV(s,a,c)}return!1},l.GI=function(s,a,c,p,y){if(l.hV(s,a,c))return p==4;if(p==4)return!1;switch(p){case 2:return l.xV(s,a,c);case 1:return l.bV(s,a,c);case 3:return l.mV(s,a,c);case 8:return l.sV(s,a,c,y);case 32:return l.pV(s,a,c,y);case 16:return l.eV(s,a,c,y)}return!1},l.gB=function(s,a,c,p){switch(p){case 4:return l.GV(s,a,c);case 2:return l.KI(a,s,c);case 1:return l.KI(s,a,c);case 3:return l.IV(s,a,c);case 8:return l.NI(s,a,c);case 32:return l.MV(s,a,c);case 16:return l.LI(s,a,c)}return!1},l.tt=function(s,a,c,p){switch(p){case 4:return l.FV(s,a,c);case 1:return l.AV(s,a,c);case 8:return l.QV(s,a,c)}return!1},l.st=function(s,a,c,p){switch(p){case 4:return l.EV(s,a,c);case 1:return l.zV(s,a,c);case 8:return l.PV(s,a,c);case 16:return l.CV(s,a,c)}return!1},l.MI=function(s,a,c,p){if(l.DV(s,a,c))return p==4;if(p==4)return!1;switch(p){case 2:return l.RV(s,a,c);case 1:return l.yV(s,a,c);case 3:return l.HV(s,a,c);case 8:return l.OV(s,a,c);case 32:return l.LV(s,a,c);case 16:return l.BV(s,a,c)}return!1},l.ZA=function(s,a,c,p){switch(p){case 4:return l.gU(s,a,c);case 2:return l.eI(a,s,c);case 1:return l.eI(s,a,c);case 3:return l.iU(s,a,c);case 32:return l.oU(s,a,c)}return!1},l.lt=function(s,a,c,p){switch(p){case 4:return l.fI(s,a,c);case 2:return l.sU(s,a,c);case 1:return l.dU(s,a,c);case 3:return l.Nw(s,a,c)}return!1},l.hI=function(s,a,c,p){switch(p){case 4:return l.fU(s,a,c);case 2:return l.rU(s,a,c);case 1:return l.cU(s,a,c);case 3:return l.hU(s,a,c);case 8:return l.qU(s,a,c);case 16:return l.eU(s,a,c)}return!1},l.nV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,c)&&(p=l.qc(s,a,!1))!=4&&p!=1&&p!=2&&(!!l.dI(s,a,c)||(p=s.Qb(),y=a.Qb(),!(Math.abs(p-y)>4*Math.max(s.I(),a.I())*c)&&l.Wz(s,a,c,!0)))},l.kV=function(s,a,c){var p=l.qc(s,a,!0);return p==4||p!=1&&p!=2&&p!=1073741824&&l.EI(s,a,c)},l.vV=function(s,a,c){var p=l.qc(s,a,!1);return p!=4&&p!=1&&p!=2&&l.II(s,a,c,null)},l.qV=function(s,a,c,p){var y=l.qc(s,a,!1);return y!=4&&y!=1&&y!=2&&l.FI(s,a,c,p)},l.Sw=function(s,a,c,p){var y=new d.l,g=new d.l;return s.A(y),a.A(g),!!l.zc(y,g,c)&&(y=l.qc(s,a,!1))!=4&&y!=2&&(y==1||l.BI(s,a,c,p))},l.lV=function(s,a,c){var p=l.qc(s,a,!0);return p==4||p!=1&&p!=1073741824&&l.EI(s,a,c)},l.wV=function(s,a,c,p){var y=l.qc(s,a,!1);return y!=4&&y!=1&&l.JI(s,a,c,p)},l.gV=function(s,a,c){var p=l.qc(s,a,!1);return p!=4&&p!=1&&l.DI(s,a,c,null)},l.fB=function(s,a,c,p){var y=new d.l,g=new d.l;return s.A(y),a.A(g),!!l.zc(y,g,c)&&(y=l.qc(s,a,!1))!=4&&(y==1||l.CI(s,a,c,p))},l.jV=function(s,a,c){return d.hd.KG(s,a,c)==0},l.uV=function(s,a,c){return a=a.D(),l.HI(s,a,c)},l.dV=function(s,a,c){return a=a.D(),l.AI(s,a,c)},l.iV=function(s,a,c){var p=l.qc(s,a,!1);if(p==4)return!0;if(p==1)return!1;p=new d.l,s.A(p),p.W(c,c);for(var y=new d.h,g=0;g<a.I();g++)if(a.D(g,y),p.contains(y)){var w=d.hd.Yd(s,y,c);if(w==1||w==2)return!1}return!0},l.tV=function(s,a,c){var p=this.qc(s,a,!1);if(p==4||p==1)return!1;p=new d.l,s.A(p),p.W(c,c);for(var y=!1,g=s,w=!1,S=0;S<a.I();S++){var k=a.Na(S);if(p.contains(k)){if((k=d.hd.Yd(g,k,c))==2)y=!0;else if(k==1)return!1}w||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?g=s:(g=new d.Da,s.copyTo(g),g.fj(1)),w=!0)}return!!y},l.fV=function(s,a,c){var p=this.qc(s,a,!1);if(p==4||p==1)return!1;var y=new d.l;p=new d.l;var g=new d.l;s.A(y),a.A(g),p.K(y),p.W(c,c),g=y=!1;for(var w=s,S=!1,k=0;k<a.I();k++){var E=a.Na(k);if(p.contains(E)?(E=d.hd.Yd(w,E,c))==0?g=!0:E==1&&(y=!0):g=!0,y&&g)return!0;S||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?w=s:(w=new d.Da,s.copyTo(w),w.fj(1)),S=!0)}return!1},l.cV=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!this.zc(p,y,c)||(y=this.qc(s,a,!1))==4)return!1;if(y==1)return!0;y=!1;for(var g=s,w=!1,S=0;S<a.I();S++){var k=a.Na(S);if(!p.contains(k))return!1;if((k=d.hd.Yd(g,k,c))==1)y=!0;else if(k==0)return!1;w||(!d.Dg.Ml(s,a.I()-1)||s.Bb!=null&&s.Bb.Fb!=null?g=s:(g=new d.Da,s.copyTo(g),g.fj(1)),w=!0)}return y},l.mV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,c)&&((p=new d.Da).ad(a,!1),l.Wz(s,p,c,!0))},l.hV=function(s,a,c){var p=l.qc(s,a,!1);if(p==4)return!0;if(p==1||p==2)return!1;var y=new d.l;if(p=new d.l,s.A(y),a.A(p),l.zc(p,y,c)||(y=new d.h,p.dn(y),(a=d.hd.Yd(s,y,c))!=0)||(p.$I(y),(a=d.hd.Yd(s,y,c))!=0)||(p.en(y),(a=d.hd.Yd(s,y,c))!=0)||(p.cJ(y),(a=d.hd.Yd(s,y,c))!=0))return!1;a=s.ub(0),(y=new d.l).K(p),y.W(c,c);for(var g=0,w=s.I();g<w;g++){var S=a.read(2*g),k=a.read(2*g+1);if(y.contains(S,k))return!1}return!l.TG(s,p,c)},l.sV=function(s,a,c,p){var y=l.qc(s,a,!1);if(y==4||y==1||y==2)return!1;y=new d.l;var g=new d.l;return s.A(y),a.A(g),!l.zc(g,y,c)&&(g.R()<=c&&g.ca()<=c?(a=a.Ip(),l.HI(s,a,c)):g.R()<=c||g.ca()<=c?(y=new d.Ta,g=new d.Sa,a.Hf(0,g),y.nf(g),a.Hf(2,g),y.lineTo(g),l.JI(s,y,c,p)):((y=new d.Da).ad(a,!1),l.II(s,y,c,p)))},l.pV=function(s,a,c,p){var y=l.qc(s,a,!1);if(y==4||y==1||y==2)return!1;y=new d.l;var g=new d.l;return s.A(y),a.A(g),!(l.zc(g,y,c)||g.R()<=c||g.ca()<=c)&&((y=new d.Da).ad(a,!1),l.FI(s,y,c,p))},l.xV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),l.zc(y,p,c)},l.bV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.zc(p,y,c)&&(p=l.qc(s,a,!1))!=4&&p!=2&&(p==1||(y.R()<=c&&y.ca()<=c?(a=a.Ip(),l.AI(s,a,c)):y.R()<=c||y.ca()<=c?(y=new d.Ta,p=new d.Sa,a.Hf(0,p),y.nf(p),a.Hf(2,p),y.lineTo(p),l.CI(s,y,c,null)):((y=new d.Da).ad(a,!1),l.BI(s,y,c,null))))},l.eV=function(s,a,c,p){var y=new d.l,g=new d.l;return s.A(y),a.A(g),!(l.zc(g,y,c)||g.ca()>c&&g.R()>c||g.ca()<=c&&g.R()<=c)&&(y=new d.Ta,g=new d.Sa,a.Hf(0,g),y.nf(g),a.Hf(2,g),y.lineTo(g),l.DI(s,y,c,p))},l.IV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.ek(p,y,c)||l.qc(s,a,!1)==4)&&(!!l.dI(s,a,c)||l.Wz(s,a,c,!1))},l.GV=function(s,a,c){return this.qc(s,a,!1)==4||!!new d.Zl(s,a,c,!0).next()&&!this.UG(s,a,c)},l.NI=function(s,a,c){if(l.qc(s,a,!1)==4)return!1;var p=new d.be(0);if(l.Xz(s,a,c,p)!=0)return!1;for(var y=new d.de,g=0;g<p.size;g+=2){var w=p.read(g),S=p.read(g+1);y.Bu(w,S)}return s=s.mg(),a=a.mg(),s.Fd(a,0,a.I()),l.Mw(s,y,c)},l.LI=function(s,a,c){if(l.qc(s,a,!1)==4)return!1;var p=new d.be(0);if(l.Xz(s,a,c,p)!=0)return!1;for(var y=new d.de,g=0;g<p.size;g+=2){var w=p.read(g),S=p.read(g+1);y.Bu(w,S)}return s=s.mg(),a=a.mg(),s.Fd(a,0,a.I()),!l.Mw(s,y,c)},l.MV=function(s,a,c){return l.qc(s,a,!1)!=4&&l.WG(s,a,c)},l.KI=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,c)||l.qc(s,a,!1)==4)&&l.ym(a,s,c,!1)},l.FV=function(s,a,c){return l.qc(s,a,!1)==4||(a=a.D(),!l.Yz(s,a,c))},l.QV=function(s,a,c){return l.qc(s,a,!1)!=4&&(a=a.D(),l.Zz(s,a,c))},l.AV=function(s,a,c){return l.qc(s,a,!1)!=4&&(a=a.D(),l.SG(s,a,c))},l.EV=function(s,a,c){return l.qc(s,a,!1)==4||!l.VG(s,a,c,!1)},l.PV=function(s,a,c){if(this.qc(s,a,!1)==4)return!1;var p=s.Ga(),y=new d.l,g=new d.l,w=new d.l;s.A(y),a.A(g),y.W(c,c),g.W(c,c),w.K(y),w.Ea(g),y=null;var S=s.Bb;if(S!=null){var k=S.Fb;y=S.zo,k==null&&(k=S=d.ta.jj(s,w))}else k=S=d.ta.jj(s,w);var E=k.getIterator(),P=null;y!=null&&(P=y.getIterator());var R=new d.h,D=new d.h,U=!1,Y=c*c;for(y=new d.pn(a.I()),S=0;S<a.I();S++)y.write(S,0);for(S=0;S<a.I();S++)if(a.D(S,R),w.contains(R)){if(g.K(R.x,R.y,R.x,R.y),P!=null&&(P.Xi(g,c),P.next()==-1))continue;E.Xi(g,c);for(var K=E.next();K!=-1;K=E.next())if(p.Vb(k.ja(K)),(K=p.ha()).hc(K.fe(R,!1),D),d.h.yc(R,D)<=Y){y.write(S,1),U=!0;break}}if(!U)return!1;for(s=s.mg(),p=new d.de,g=new d.h,S=0;S<a.I();S++)y.read(S)!=0&&(a.D(S,g),p.Bu(g.x,g.y));return this.Mw(s,p,c)},l.CV=function(s,a,c){if(this.qc(s,a,!1)==4)return!1;var p=s.Ga(),y=new d.l,g=new d.l,w=new d.l;s.A(y),a.A(g),y.W(c,c),g.W(c,c),w.K(y),w.Ea(g),y=null;var S=s.Bb;if(S!=null){var k=S.Fb;y=S.zo,k==null&&(k=S=d.ta.jj(s,w))}else k=S=d.ta.jj(s,w);var E=k.getIterator(),P=null;y!=null&&(P=y.getIterator());var R=new d.h,D=new d.h,U=!1,Y=!1,K=c*c;for(y=new d.pn(a.I()),S=0;S<a.I();S++)y.write(S,0);for(S=0;S<a.I();S++)if(a.D(S,R),w.contains(R)){if(g.K(R.x,R.y,R.x,R.y),P!=null&&(P.Xi(g,c),P.next()==-1)){Y=!0;continue}E.Xi(g,c);for(var V=!1,Q=E.next();Q!=-1;Q=E.next())if(p.Vb(k.ja(Q)),(Q=p.ha()).hc(Q.fe(R,!1),D),d.h.yc(R,D)<=K){y.write(S,1),V=U=!0;break}V||(Y=!0)}else Y=!0;if(!U||!Y)return!1;for(s=s.mg(),p=new d.de,g=new d.h,S=0;S<a.I();S++)y.read(S)!=0&&(a.D(S,g),p.Bu(g.x,g.y));return!this.Mw(s,p,c)},l.zV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,c)||l.qc(s,a,!1)==4||!l.VG(s,a,c,!0))&&(s=s.mg(),!l.gI(s,a,c))},l.HV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(y.ca()>c&&y.R()>c)&&l.ek(p,y,c)},l.DV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!l.zc(y,p,c)&&!l.TG(s,y,c)},l.OV=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),y.ca()<=c&&y.R()<=c)return y=a.Ip(),l.Zz(s,y,c);if(y.ca()<=c||y.R()<=c)return y=new d.Ta,p=new d.Sa,a.Hf(0,p),y.nf(p),a.Hf(2,p),y.lineTo(p),l.NI(s,y,c);s=s.Ga(),a=new d.l,p=new d.l,a.K(y),p.K(y),a.W(-c,-c),p.W(c,c),y=!1;for(var g=new d.l,w=new d.l;s.$a();)for(;s.Ha();){if(s.ha().A(g),w.K(a),w.Ea(g),!w.B()&&(w.ca()>c||w.R()>c))return!1;w.K(p),w.Ea(g),w.B()||(y=!0)}return y},l.LV=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(l.zc(p,y,c)||l.zc(y,p,c)||l.zc(y,p,c)||y.ca()>c&&y.R()>c||y.ca()<=c&&y.R()<=c)&&(p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.WG(s,p,c))},l.RV=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!l.zc(y,p,c)||y.ca()<=c&&y.R()<=c)return!1;if(y.ca()<=c||y.R()<=c)return l.zc(y,p,c);s=s.Ga(),(a=new d.l).K(y),a.W(-c,-c),y=!1,p=new d.l;for(var g=new d.l;s.$a();)for(;s.Ha();)s.ha().A(p),a.hm(p)?y=!0:(g.K(a),g.Ea(p),!g.B()&&(g.ca()>c||g.R()>c)&&(y=!0));return y},l.yV=function(s,a,c){var p=new d.l,y=new d.l;return a.A(y),s.A(p),!(!l.zc(p,y,c)||y.ca()>c&&y.R()>c)&&(y.ca()<=c&&y.R()<=c?(a=a.Ip(),l.SG(s,a,c)):(p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.ym(p,s,c,!1)))},l.BV=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,c)||y.ca()<=c&&y.R()<=c)return!1;if(y.ca()<=c||y.R()<=c)return p=new d.Ta,y=new d.Sa,a.Hf(0,y),p.nf(y),a.Hf(2,y),p.lineTo(y),l.LI(s,p,c);s=s.Ga(),a=new d.l,(p=new d.l).K(y),a.K(y),p.W(-c,-c),a.W(c,c);for(var g=y=!1,w=new d.l,S=new d.l;s.$a();)for(;s.Ha();)if(s.ha().A(w),g||a.contains(w)||(g=!0),y||(S.K(p),S.Ea(w),!S.B()&&(S.ca()>c||S.R()>c)&&(y=!0)),y&&g)return!0;return!1},l.iU=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.ek(p,y,c)&&(!!l.jU(s,a,c)||l.YA(s,a,c,!1,!0,!1))},l.gU=function(s,a,c){return!l.gI(s,a,c)},l.oU=function(s,a,c){return l.YA(s,a,c,!1,!1,!0)},l.eI=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!!l.zc(p,y,c)&&l.YA(a,s,c,!0,!1,!1)},l.Mw=function(s,a,c){c*=c;for(var p=new d.h,y=new d.h,g=0;g<a.I();g++){a.D(g,y);for(var w=!1,S=0;S<s.I();S++)if(s.D(S,p),d.h.yc(p,y)<=c){w=!0;break}if(!w)return!1}return!0},l.Nw=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),l.ek(p,y,c)},l.fI=function(s,a,c){return a=a.D(),l.kt(s,a,c)},l.sU=function(s,a,c){return l.Nw(s,a,c)},l.dU=function(s,a,c){return!l.fI(s,a,c)},l.hU=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(y.ca()>c||y.R()>c)&&l.ek(p,y,c)},l.fU=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,c))return!1;for((a=new d.l).K(y),a.W(c,c),c=new d.h,y=0;y<s.I();y++)if(s.D(y,c),a.contains(c))return!1;return!0},l.qU=function(s,a,c){var p=new d.l,y=new d.l,g=new d.l;if(a.A(p),p.ca()<=c&&p.R()<=c)return!1;if(p.ca()<=c||p.R()<=c){a=new d.h;var w=!1;y.K(p),g.K(p),y.W(c,c),p.ca()>c?g.W(0,-c):g.W(-c,0);for(var S=0;S<s.I();S++)if(s.D(S,a),y.contains(a)){if(p.ca()>c){if(a.y>g.G&&a.y<g.H)return!1}else if(a.x>g.v&&a.x<g.C)return!1;w=!0}return w}for(y.K(p),g.K(p),y.W(c,c),g.W(-c,-c),a=new d.h,w=!1,S=0;S<s.I();S++)if(s.D(S,a),y.contains(a)){if(g.hm(a))return!1;w=!0}return w},l.rU=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),!l.zc(y,p,c))return!1;if(y.ca()<=c&&y.R()<=c)return l.ek(p,y,c);if(y.ca()<=c||y.R()<=c){a=!1,p=new d.l;var g=new d.l;p.K(y),g.K(y),y.ca()>c?p.W(0,-c):p.W(-c,0),g.W(c,c);for(var w=new d.h,S=0;S<s.I();S++){if(s.D(S,w),!g.contains(w))return!1;y.ca()>c?w.y>p.G&&w.y<p.H&&(a=!0):w.x>p.v&&w.x<p.C&&(a=!0)}return a}for(a=!1,p=new d.l,g=new d.l,p.K(y),g.K(y),p.W(-c,-c),g.W(c,c),w=new d.h,S=0;S<s.I();S++){if(s.D(S,w),!g.contains(w))return!1;p.hm(w)&&(a=!0)}return a},l.cU=function(s,a,c){var p=new d.l,y=new d.l;return s.A(p),a.A(y),!(!l.zc(p,y,c)||y.ca()>c||y.R()>c)&&(a=a.Ip(),!l.kt(s,a,c))},l.eU=function(s,a,c){var p=new d.l,y=new d.l;if(s.A(p),a.A(y),l.zc(y,p,c)||y.ca()<=c&&y.R()<=c)return!1;if(y.ca()<=c||y.R()<=c){a=new d.l,p=new d.l,a.K(y),y.ca()>c?a.W(0,-c):a.W(-c,0),p.K(y),p.W(c,c);for(var g=new d.h,w=!1,S=!1,k=0;k<s.I();k++)if(s.D(k,g),w||(y.ca()>c?g.y>a.G&&g.y<a.H&&(w=!0):g.x>a.v&&g.x<a.C&&(w=!0)),S||p.contains(g)||(S=!0),w&&S)return!0;return!1}for(a=new d.l,p=new d.l,a.K(y),a.W(-c,-c),p.K(y),p.W(c,c),g=new d.h,S=w=!1,k=0;k<s.I();k++)if(s.D(k,g),!w&&a.hm(g)&&(w=!0),S||p.contains(g)||(S=!0),w&&S)return!0;return!1},l.wI=function(s,a,c){return d.h.yc(s,a)<=c*c},l.SU=function(s,a,c){return d.h.yc(s,a)>c*c},l.uI=function(s,a,c){return l.wI(s,a,c)},l.vI=function(s,a,c){var p=new d.l;return p.K(s),l.ek(p,a,c)},l.Rw=function(s,a,c){var p=new d.l;return p.K(a),p.W(c,c),!p.contains(s)},l.dB=function(s,a,c){if(a.ca()<=c&&a.R()<=c)return!1;var p=new d.l,y=new d.l;if(p.K(a),p.W(c,c),!p.contains(s))return!1;if(a.ca()<=c||a.R()<=c){if(y.K(a),a.ca()>c?y.W(0,-c):y.W(-c,0),a.ca()>c){if(s.y>y.G&&s.y<y.H)return!1}else if(s.x>y.v&&s.x<y.C)return!1;return!0}return y.K(a),y.W(-c,-c),!y.hm(s)},l.eB=function(s,a,c){if(a.ca()<=c&&a.R()<=c)return!0;if(a.ca()<=c||a.R()<=c){var p=new d.l;p.K(a),a.ca()>c?p.W(0,-c):p.W(-c,0);var y=!1;return a.ca()>c?s.y>p.G&&s.y<p.H&&(y=!0):s.x>p.v&&s.x<p.C&&(y=!0),y}return(p=new d.l).K(a),p.W(-c,-c),p.hm(s)},l.RU=function(s,a,c){return l.vI(s,a,c)},l.ek=function(s,a,c){return l.zc(s,a,c)&&l.zc(a,s,c)},l.dk=function(s,a,c){var p=new d.l;return p.K(a),p.W(c,c),!s.isIntersecting(p)},l.cQ=function(s,a,c){if(s.ca()<=c&&s.R()<=c){var p=s.sf();return l.dB(p,a,c)}if(a.ca()<=c&&a.R()<=c)return p=a.sf(),l.dB(p,s,c);if(s.ca()>c&&s.R()>c&&(a.ca()<=c||a.R()<=c)?p=a:(p=s,s=a),p.ca()<=c||p.R()<=c){if(s.ca()<=c||s.R()<=c){a=new d.yb;var y=new d.yb,g=[0,0],w=[0,0],S=new d.h;return p.dn(S),a.Dc(S),p.en(S),a.Qc(S),s.dn(S),y.Dc(S),s.en(S),y.Qc(S),a.Ea(y,null,g,w,c),a.Ea(y,null,null,null,c)==1&&(g[0]==0||g[1]==1||w[0]==0||w[1]==1)}return a=new d.l,y=new d.l,a.K(s),a.W(-c,-c),y.K(a),y.Ea(p),!(!y.B()&&(y.ca()>c||y.R()>c))}return s.W(c,c),(y=new d.l).K(p),y.Ea(s),!(y.B()||!y.B()&&y.ca()>c&&y.R()>c)},l.bQ=function(s,a,c){if(l.zc(s,a,c)||l.zc(a,s,c)||s.ca()<=c&&s.R()<=c||a.ca()<=c&&a.R()<=c)return!1;if(s.ca()<=c||s.R()<=c){if(a.ca()>c&&a.R()>c)return!1;var p=new d.yb,y=new d.yb,g=[0,0],w=[0,0],S=new d.h;return s.dn(S),p.Dc(S),s.en(S),p.Qc(S),a.dn(S),y.Dc(S),a.en(S),y.Qc(S),p.Ea(y,null,g,w,c),p.Ea(y,null,null,null,c)==2&&(0<g[0]||1>g[1])&&(0<w[0]||1>w[1])}return!(a.ca()<=c||a.R()<=c)&&((p=new d.l).K(s),p.Ea(a),!(p.B()||p.ca()<=c||p.R()<=c))},l.jF=function(s,a,c){if(!l.zc(s,a,c))return!1;if(s.ca()<=c&&s.R()<=c)return s=s.sf(),l.eB(s,a,c);if(a.ca()<=c&&a.R()<=c)return a=a.sf(),l.eB(a,s,c);if(s.ca()<=c||s.R()<=c)return l.zc(s,a,c);if(a.ca()<=c||a.R()<=c){var p=new d.l;return p.K(s),p.W(-c,-c),p.hm(a)?!0:((s=new d.l).K(p),s.Ea(a),!(s.B()||s.ca()<=c&&s.R()<=c))}return l.zc(s,a,c)},l.aQ=function(s,a,c){if(l.zc(s,a,c)||l.zc(a,s,c)||s.ca()<=c&&s.R()<=c||a.ca()<=c&&a.R()<=c||a.ca()>c&&a.R()>c&&s.ca()>c&&s.R()>c)return!1;if(s.ca()>c&&s.R()>c)var p=a;else p=s,s=a;if(s.ca()>c&&s.R()>c){a=new d.l;var y=new d.l;return y.K(s),y.W(-c,-c),a.K(y),a.Ea(p),!(a.B()||a.ca()<=c&&a.R()<=c)}a=new d.yb,y=new d.yb;var g=[0,0],w=[0,0],S=new d.h;return p.dn(S),a.Dc(S),p.en(S),a.Qc(S),s.dn(S),y.Dc(S),s.en(S),y.Qc(S),a.Ea(y,null,g,w,c),a.Ea(y,null,null,null,c)==1&&0<g[0]&&1>g[1]&&0<w[0]&&1>w[1]},l.EI=function(s,a,c){var p=new d.l,y=new d.l,g=new d.Zl(s,a,c,!0);if(!g.next())return!0;if(this.UG(s,a,c))return!1;var w=s,S=null;a.getType()==1736&&(S=a);var k=!1,E=!1;do{var P=g.nl(),R=g.hl();if(R=a.Na(a.Ba(R)),p.K(g.uz()),p.W(c,c),p.contains(R)&&(R=d.hd.Yd(w,R,0))!=0||a.getType()==1736&&(P=s.Na(s.Ba(P)),y.K(g.az()),y.W(c,c),y.contains(P)&&(R=d.hd.Yd(S,P,0))!=0))return!1;k||(!d.Dg.Ml(s,a.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?w=s:(w=new d.Da,s.copyTo(w),w.fj(1)),k=!0),a.getType()!=1736||E||(E=a,!d.Dg.Ml(E,s.da()-1)||a.Bb!=null&&a.Bb.Fb!=null?S=a:(S=new d.Da,E.copyTo(S),S.fj(1)),E=!0)}while(g.next());return!0},l.zc=function(s,a,c){var p=new d.l;return p.K(s),p.W(c,c),p.contains(a)},l.ls=function(s,a,c){var p=new d.l;return p.K(a),p.W(c,c),a=new d.h,s.dn(a),!p.contains(a)||(s.$I(a),!p.contains(a)||(s.cJ(a),!p.contains(a)||(s.en(a),!p.contains(a))))},l.dI=function(s,a,c){if(s.da()!=a.da()||s.I()!=a.I())return!1;var p=new d.h,y=new d.h,g=!0;c*=c;for(var w=0;w<s.da();w++){if(s.Vc(w)!=a.Vc(w)){g=!1;break}for(var S=s.Ba(w);S<a.Vc(w);S++)if(s.D(S,p),a.D(S,y),d.h.yc(p,y)>c){g=!1;break}if(!g)break}return!!g},l.jU=function(s,a,c){if(s.I()!=a.I())return!1;var p=new d.h,y=new d.h,g=!0;c*=c;for(var w=0;w<s.I();w++)if(s.D(w,p),a.D(w,y),d.h.yc(p,y)>c){g=!1;break}return!!g},l.YA=function(s,a,c,p,y,g){var w=!1;if(s.I()>a.I()){p&&(p=!1,w=!0);var S=a}else S=s,s=a;if(a=null,y||g||w){a=new d.pn(s.I());for(var k=0;k<s.I();k++)a.write(k,0)}k=new d.l;var E=new d.l,P=new d.l;S.A(k),s.A(E),k.W(c,c),E.W(c,c),P.K(k),P.Ea(E),E=new d.h;for(var R=new d.h,D=!0,U=d.ta.oE(s,P),Y=U.getIterator(),K=c*c,V=0;V<S.I();V++)if(S.D(V,E),P.contains(E)){var Q=!1;k.K(E.x,E.y,E.x,E.y),Y.Xi(k,c);for(var ae=Y.next();ae!=-1&&(ae=U.ja(ae),s.D(ae,R),!(d.h.yc(E,R)<=K&&((y||g||w)&&a.write(ae,1),Q=!0,p)));ae=Y.next());if(!Q&&(D=!1,y||p))return!1}else{if(y||p)return!1;D=!1}if(g&&D)return!1;if(p)return!0;for(k=0;k<s.I();k++)if(a.read(k)==1){if(g)return!0}else if(y||w)return!1;return!g},l.gI=function(s,a,c){if(s.I()>a.I())var p=a;else p=s,s=a;a=new d.l;var y=new d.l,g=new d.l;p.A(a),s.A(y),a.W(c,c),y.W(c,c),g.K(a),g.Ea(y),y=new d.h;for(var w=new d.h,S=c*c,k=d.ta.oE(s,g),E=k.getIterator(),P=0;P<p.I();P++)if(p.D(P,y),g.contains(y)){a.K(y.x,y.y,y.x,y.y),E.Xi(a,c);for(var R=E.next();R!=-1;R=E.next())if(s.D(k.ja(R),w),d.h.yc(y,w)<=S)return!0}return!1},l.Wz=function(s,a,c,p){return l.ym(s,a,c,p)&&l.ym(a,s,c,p)},l.ym=function(s,a,c,p){function y(Ue,Ae){return R.QE(Ue,Ae)}var g,w=!0,S=[0,0],k=[0,0],E=0,P=new d.ia(0),R=new l,D=new d.l,U=new d.l,Y=new d.l;s.A(D),a.A(U),D.W(c,c),U.W(c,c),Y.K(D),Y.Ea(U),s=s.Ga(),U=a.Ga();var K=null,V=K=null,Q=a.Bb;for(Q!=null?(K=Q.Fb,V=Q.zo,K==null&&(K=d.ta.jj(a,Y))):K=d.ta.jj(a,Y),a=K.getIterator(),Q=null,V!=null&&(Q=V.getIterator());s.$a();)for(;s.Ha();){var ae=!1,oe=s.ha();if(oe.A(D),!D.isIntersecting(Y)||Q!=null&&(Q.Xi(D,c),Q.next()==-1))return!1;for(V=oe.Qb(),a.Uo(oe,c),g=a.next();g!=-1;g=a.next()){U.Vb(K.ja(g)),g=U.ha();var me=oe.Ea(g,null,S,k,c);if(me==2&&(!p||k[0]<=k[1])){me=S[0];var de=S[1],Me=k[0],_e=k[1];if(me*V<=c&&(1-de)*V<=c){ae=!0,E=0,P.resize(0),R.rh.length=0;var xe=s.wb();for(Me=!0;Me;){if(s.Ha()){if(V=(oe=s.ha()).Qb(),(me=oe.Ea(g,null,S,k,c))==2&&(!p||k[0]<=k[1])&&(me=S[0],de=S[1],me*V<=c&&(1-de)*V<=c)){xe=s.wb();continue}if(U.Ha()&&(g=U.ha(),(me=oe.Ea(g,null,S,k,c))==2&&(!p||k[0]<=k[1])&&(me=S[0],de=S[1],me*V<=c&&(1-de)*V<=c))){xe=s.wb();continue}}Me=!1}xe!=s.wb()&&(s.Vb(xe),s.ha());break}xe=s.wb(),g=x.construct(xe,s.gb,me,de,U.wb(),U.gb,Me,_e),R.rh.push(g),P.add(P.size)}}if(!ae){if(E==R.rh.length)return!1;for(1<P.size-E&&P.Vd(E,P.size,y),ae=0;E<R.rh.length;E++)if(!((g=R.rh[P.get(E)]).Kj<ae&&g.Si<ae)){if(V*(g.Kj-ae)>c)return!1;if(V*(1-(ae=g.Si))<=c||ae==1)break}if(V*(1-ae)>c)return!1;E=0,P.resize(0),R.rh.length=0}}return w},l.WG=function(s,a,c){if(1>l.Xz(s,a,c,null))return!1;var p=new d.l,y=new d.l;s.A(p),a.A(y);var g=l.ls(p,y,c);return p=l.ls(y,p,c),!(!g||!p)||(g&&!p?!l.ym(a,s,c,!1):p&&!g?!l.ym(s,a,c,!1):!l.ym(s,a,c,!1)&&!l.ym(a,s,c,!1))},l.Xz=function(s,a,c,p){function y(Ve,Rt){return D.QE(Ve,Rt)}if(s.yz()>a.yz())var g=a,w=s;else g=s,w=a;s=g.Ga(),a=w.Ga();var S=[0,0],k=[0,0],E=-1,P=0,R=new d.ia(0),D=new l,U=new d.l,Y=new d.l,K=new d.l;g.A(U),w.A(Y),U.W(c,c),Y.W(c,c),K.K(U),K.Ea(Y),g=null,p!=null&&(g=new d.h);var V=Y=Y=null,Q=w.Bb;for(Q!=null?(Y=Q.Fb,V=Q.zo,Y==null&&(Y=d.ta.jj(w,K))):Y=d.ta.jj(w,K),w=Y.getIterator(),Q=null,V!=null&&(Q=V.getIterator());s.$a();)for(V=0;s.Ha();){var ae=s.ha();if(ae.A(U),U.isIntersecting(K)){if(Q!=null&&(Q.Xi(U,c),Q.next()==-1))continue;var oe=ae.Qb();w.Uo(ae,c);for(var me=w.next();me!=-1;me=w.next()){var de=Y.ja(me);a.Vb(de);var Me=a.ha(),_e=Me.Qb(),xe=ae.Ea(Me,null,S,k,c);if(0<xe){me=S[0],E=k[0];var Ue=xe==2?S[1]:NaN,Ae=xe==2?k[1]:NaN;if(xe==2){if(oe*(Ue-me)>c)return 1;var st=oe*(Ue-me);if(a.Ha()){if(Me=a.ha(),(xe=ae.Ea(Me,null,S,null,c))==2){xe=S[0];var ct=S[1];if(st+(xe=oe*(ct-xe))>c)return 1}a.Vb(de),a.ha()}if(!a.vm()){if(a.li(),Me=a.li(),(xe=ae.Ea(Me,null,S,null,c))==2&&(xe=S[0],st+(xe=oe*((ct=S[1])-xe))>c))return 1;a.Vb(de),a.ha()}if(s.Ha()){if(de=s.wb(),(xe=(ae=s.ha()).Ea(Me,null,S,null,c))==2&&(xe=S[0],st+(xe=oe*((ct=S[1])-xe))>c))return 1;s.Vb(de),s.ha()}if(!s.vm()){if(de=s.wb(),s.li(),(xe=(ae=s.li()).Ea(Me,null,S,null,c))==2&&(xe=S[0],st+(xe=_e*((ct=S[1])-xe))>c))return 1;s.Vb(de),s.ha()}Me=x.construct(s.wb(),s.gb,me,Ue,a.wb(),a.gb,E,Ae),D.rh.push(Me),R.add(R.size)}E=0,p!=null&&(ae.hc(me,g),p.add(g.x),p.add(g.y))}}if(P<D.rh.length){for(R.Vd(P,R.size,y),ae=0,me=D.rh[R.get(P)].Mm;P<D.rh.length;P++)if(!((Me=D.rh[R.get(P)]).Kj<ae&&Me.Si<ae))if(oe*(Me.Kj-ae)>c)V=oe*(Me.Si-Me.Kj),ae=Me.Si,me=Me.Mm;else{if(Me.Mm!=me?(V=oe*(Me.Si-Me.Kj),me=Me.Mm):V+=oe*(Me.Si-Me.Kj),V>c)return 1;if((ae=Me.Si)==1)break}oe*(1-ae)>c&&(V=0),P=0,R.resize(0),D.rh.length=0}}}return E},l.UG=function(s,a,c){var p=s.Ga(),y=a.Ga();for(s=new d.Zl(s,a,c,!1);s.next();){a=s.nl();var g=s.hl();if(p.Vb(a),y.Vb(g),a=p.ha(),0<y.ha().Ea(a,null,null,null,c))return!0}return!1},l.VG=function(s,a,c,p){var y=s.Ga(),g=new d.l,w=new d.l,S=new d.l;s.A(g),a.A(w),g.W(c,c),g.contains(w),w.W(c,c),S.K(g),S.Ea(w),(g=s.Bb)!=null?(g=g.Fb)==null&&(g=d.ta.jj(s,S)):g=d.ta.jj(s,S),s=g.getIterator();for(var k=new d.h,E=new d.h,P=c*c,R=0;R<a.I();R++)if(a.D(R,k),S.contains(k)){w.K(k.x,k.y,k.x,k.y),s.Xi(w,c);for(var D=!1,U=s.next();U!=-1;U=s.next())if(y.Vb(g.ja(U)),(U=y.ha()).hc(U.fe(k,!1),E),d.h.yc(E,k)<=P){D=!0;break}if(p){if(!D)return!1}else if(D)return!0}return!!p},l.Yz=function(s,a,c){var p=new d.h,y=c*c,g=s.Ga();if((s=s.Bb)!=null&&(s=s.Fb)!=null){var w=new d.l;for(w.K(a),w=(c=s.MF(w,c)).next();w!=-1;w=c.next())if(g.Vb(s.ja(w)),g.Ha()){var S=(w=g.ha()).fe(a,!1);if(w.hc(S,p),d.h.yc(a,p)<=y)return!0}return!1}for(s=new d.l;g.$a();)for(;g.Ha();)if((w=g.ha()).A(s),s.W(c,c),s.contains(a)&&(S=w.fe(a,!1),w.hc(S,p),d.h.yc(a,p)<=y))return!0;return!1},l.SG=function(s,a,c){return l.Yz(s,a,c)&&!l.Zz(s,a,c)},l.Zz=function(s,a,c){return s=s.mg(),!l.kt(s,a,c)},l.TG=function(s,a,c){if(s.tm()){var p=new d.yb(a.v,a.G,a.v,a.H),y=new d.yb(a.v,a.H,a.C,a.H),g=new d.yb(a.C,a.H,a.C,a.G);for(a=new d.yb(a.C,a.G,a.v,a.G),s=s.Ga();s.$a();)for(;s.Ha();){var w=s.ha();if(w.isIntersecting(p,c)||w.isIntersecting(y,c)||w.isIntersecting(g,c)||w.isIntersecting(a,c))return!0}}else{(p=new d.l).K(a),p.W(c,c),c=s.ub(0),y=new d.h,g=new d.h,a=new d.h,w=new d.h;for(var S=0,k=s.da();S<k;S++)for(var E=!0,P=s.Ba(S),R=s.Vc(S);P<R;P++)if(E)c.tc(2*P,g),E=!1;else{if(c.tc(2*P,y),a.L(g),w.L(y),p.zy(a,w)!=0)return!0;g.L(y)}}return!1},l.qc=function(s,a,c){var p=s.getType(),y=a.getType();if(d.aa.xj(p)){var g=s.Bb;if(g!=null&&(g=g.Fk)!=null)if(y==33){var w=a.D();if((w=g.So(w.x,w.y))==1)return 1;if(w==0)return 4}else{if(w=new d.l,a.A(w),(w=g.Ro(w))==1)return 1;if(w==0)return 4;if(c&&d.aa.xj(y)&&l.HE(a,g))return 1073741824}}if(d.aa.xj(y)&&(g=a.Bb)!=null&&(g=g.Fk)!=null)if(p==33){if(s=s.D(),(w=g.So(s.x,s.y))==1)return 2;if(w==0)return 4}else{if(a=new d.l,s.A(a),(w=g.Ro(a))==1)return 2;if(w==0)return 4;if(c&&d.aa.xj(p)&&l.HE(s,g))return 1073741824}return 0},l.HE=function(s,a){for(var c=s.I(),p=new d.h,y=0;y<c;y++)if(s.D(y,p),a.So(p.x,p.y)==1)return!0;return!1},l.II=function(s,a,c,p){for(var y=1<=s.om(0)&&1<=a.om(0),g=s.Ga(),w=a.Ga(),S=[0,0],k=[0,0],E=new d.Zl(s,a,c,!1),P=!1;E.next();){var R=E.nl(),D=E.hl();if(g.Vb(R),w.Vb(D),R=g.ha(),(D=w.ha().Ea(R,null,k,S,c))==2){if(P=S[0],D=S[1],R=R.Qb(),y&&(D-P)*R>c)return!1;P=!0}else if(D!=0){if(P=S[0],R=k[0],0<P&&1>P&&0<R&&1>R)return!1;P=!0}}return!!P&&(g=new d.l,w=new d.l,y=new d.l,s.A(g),a.A(w),g.W(1e3*c,1e3*c),w.W(1e3*c,1e3*c),y.K(g),y.Ea(w),!(10<s.I()&&(s=d.Ud.clip(s,y,c,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,c,0),a.B()))&&d.am.rt(s,a,c,"F********",p))},l.FI=function(s,a,c,p){var y=1<=s.om(0)&&1<=a.om(0),g=new d.l,w=new d.l,S=new d.l;s.A(g),a.A(w);for(var k=!1,E=l.ls(g,w,c),P=l.ls(w,g,c),R=s.Ga(),D=a.Ga(),U=[0,0],Y=[0,0],K=new d.Zl(s,a,c,!1);K.next();){var V=K.nl(),Q=K.hl();if(R.Vb(V),D.Vb(Q),Q=R.ha(),(V=D.ha().Ea(Q,null,Y,U,c))==2){V=U[0];var ae=U[1];if(Q=Q.Qb(),y&&(ae-V)*Q>c&&(k=!0,E&&P))return!0}else if(V!=0&&(V=U[0],Q=Y[0],0<V&&1>V&&0<Q&&1>Q))return!0}if(y=new d.l,R=new d.l,y.K(g),y.W(1e3*c,1e3*c),R.K(w),R.W(1e3*c,1e3*c),S.K(y),S.Ea(R),g="",g=k?g+"**":g+"T*",E){if(10<a.I()&&(a=d.Ud.clip(a,S,c,0)).B())return!1;g+="****"}else g+="T***";if(P){if(10<s.I()&&(s=d.Ud.clip(s,S,c,0)).B())return!1;g+="***"}else g+="T**";return d.am.rt(s,a,c,g.toString(),p)},l.BI=function(s,a,c,p){var y=[!1],g=l.zI(s,a,c,y);return y[0]?g:(y=new d.l,a.A(y),y.W(1e3*c,1e3*c),!(10<s.I()&&(s=d.Ud.clip(s,y,c,0),s.B()))&&d.am.Sw(s,a,c,p))},l.zI=function(s,a,c,p){p[0]=!1;for(var y=s.Ga(),g=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,c,!1),E=!1;k.next();){var P=k.nl(),R=k.hl();if(y.Vb(P,-1),g.Vb(R,-1),P=y.ha(),(P=g.ha().Ea(P,null,S,w,c))!=0&&(E=!0,P==1&&(P=w[0],R=S[0],0<P&&1>P&&0<R&&1>R)))return p[0]=!0,!1}if(!E){for(p[0]=!0,w=new d.l,s.A(w),w.W(c,c),k=s,E=!1,S=new d.l,p=0,y=a.da();p<y;p++)if(0<a.Ja(p)){if(a.Rj(p,S),!w.isIntersecting(S)||(g=a.Na(a.Ba(p)),(g=d.Dg.wm(k,g,0))==0))return!1;E||(!d.Dg.Ml(s,a.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?k=s:(g=new d.Da,s.copyTo(g),g.fj(1),k=g),E=!0)}if(s.da()==1||a.getType()==1607)return!0;for(w=new d.l,a.A(w),w.W(c,c),S=a,k=!1,c=new d.l,p=0,y=s.da();p<y;p++)if(0<s.Ja(p)){if(s.Rj(p,c),w.isIntersecting(c)&&(g=s.Na(s.Ba(p)),(g=d.Dg.wm(S,g,0))==1))return!1;k||(!d.Dg.Ml(a,s.da()-1)||a.Bb!=null&&a.Bb.Fb!=null?S=a:(g=new d.Da,a.copyTo(g),g.fj(1),S=g),k=!0)}return!0}return!1},l.JI=function(s,a,c,p){for(var y=s.Ga(),g=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,c,!1),E=!1;k.next();){var P=k.nl(),R=k.hl();if(y.Vb(P),g.Vb(R),P=y.ha(),(P=g.ha().Ea(P,null,S,w,c))==2)E=!0;else if(P!=0){if(E=w[0],P=S[0],0<E&&1>E&&0<P&&1>P)return!1;E=!0}}return!!E&&(g=new d.l,w=new d.l,y=new d.l,s.A(g),a.A(w),g.W(1e3*c,1e3*c),w.W(1e3*c,1e3*c),y.K(g),y.Ea(w),!(10<s.I()&&(s=d.Ud.clip(s,y,c,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,c,0),a.B()))&&d.am.$m(s,a,c,"F********",p))},l.DI=function(s,a,c,p){for(var y=s.Ga(),g=a.Ga(),w=[0,0],S=[0,0],k=new d.Zl(s,a,c,!1),E=!1;k.next();){var P=k.nl(),R=k.hl();if(y.Vb(P),g.Vb(R),P=y.ha(),(P=g.ha().Ea(P,null,S,w,c))==2)E=!0;else if(P!=0){if(E=w[0],P=S[0],0<E&&1>E&&0<P&&1>P)return!0;E=!0}}return!!E&&(g=new d.l,w=new d.l,S=new d.l,k=new d.l,y=new d.l,s.A(g),a.A(w),l.ls(w,g,c)?(S.K(g),S.W(1e3*c,1e3*c),k.K(w),k.W(1e3*c,1e3*c),y.K(S),y.Ea(k),!(10<s.I()&&(s=d.Ud.clip(s,y,c,0),s.B())||10<a.I()&&(a=d.Ud.clip(a,y,c,0),a.B()))&&(c=d.am.$m(s,a,c,"T********",p))):c=d.am.$m(s,a,c,"T*****T**",p))},l.CI=function(s,a,c,p){var y=[!1],g=l.zI(s,a,c,y);return y[0]?g:(y=new d.l,a.A(y),y.W(1e3*c,1e3*c),!(10<s.I()&&(s=d.Ud.clip(s,y,c,0),s.B()))&&d.am.fB(s,a,c,p))},l.AI=function(s,a,c){return d.hd.Yd(s,a,c)==1},l.HI=function(s,a,c){return d.hd.Yd(s,a,c)==2},l.kt=function(s,a,c){var p=new d.h;c*=c;for(var y=0;y<s.I();y++)if(s.D(y,p),d.h.yc(p,a)<=c)return!1;return!0},l.prototype.QE=function(s,a){return s=this.rh[s],a=this.rh[a],s.Mm<a.Mm||s.Mm==a.Mm&&(s.pw<a.pw||s.pw==a.pw&&(s.Kj<a.Kj||s.Kj==a.Kj&&(s.Si<a.Si||s.Si==a.Si&&s.BH<a.BH)))?-1:1},l}();d.ud=h}(ee||(ee={})),function(d){var j,x,h;(x=j||(j={}))[x.InteriorInterior=0]="InteriorInterior",x[x.InteriorBoundary=1]="InteriorBoundary",x[x.InteriorExterior=2]="InteriorExterior",x[x.BoundaryInterior=3]="BoundaryInterior",x[x.BoundaryBoundary=4]="BoundaryBoundary",x[x.BoundaryExterior=5]="BoundaryExterior",x[x.ExteriorInterior=6]="ExteriorInterior",x[x.ExteriorBoundary=7]="ExteriorBoundary",x[x.ExteriorExterior=8]="ExteriorExterior",function(l){l[l.AreaAreaPredicates=0]="AreaAreaPredicates",l[l.AreaLinePredicates=1]="AreaLinePredicates",l[l.LineLinePredicates=2]="LineLinePredicates",l[l.AreaPointPredicates=3]="AreaPointPredicates",l[l.LinePointPredicates=4]="LinePointPredicates",l[l.PointPointPredicates=5]="PointPointPredicates"}(h||(h={})),j=function(){function l(){this.le=0,this.j=new d.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return l.yB=function(s,a,c,p,y){if(p.length!=9)throw d.i.fa("relation string length has to be 9 characters");for(var g=0;9>g;g++){var w=p.charAt(g);if(w!="*"&&w!="T"&&w!="F"&&w!="0"&&w!="1"&&w!="2")throw d.i.fa("relation string")}if((g=this.MR(p,s.Db(),a.Db()))!=0)return d.ud.zB(s,a,c,g,y);g=new d.l,s.A(g),w=new d.l,a.A(w);var S=new d.l;if(S.K(g),S.Zb(w),c=d.ta.Wd(c,S,!1),s=this.WE(s,c),a=this.WE(a,c),s.B()||a.B())return this.uW(s,a,p);switch(g=s.getType(),w=a.getType(),S=!1,g){case 1736:switch(w){case 1736:S=this.rt(s,a,c,p,y);break;case 1607:S=this.$m(s,a,c,p,y);break;case 33:S=this.qt(s,a,c,p);break;case 550:S=this.pt(s,a,c,p,y)}break;case 1607:switch(w){case 1736:S=this.$m(a,s,c,this.Zp(p),y);break;case 1607:S=this.gB(s,a,c,p,y);break;case 33:S=this.tt(s,a,c,p,y);break;case 550:S=this.st(s,a,c,p,y)}break;case 33:switch(w){case 1736:S=this.qt(a,s,c,this.Zp(p));break;case 1607:S=this.tt(a,s,c,this.Zp(p),y);break;case 33:S=this.$U(s,a,c,p);break;case 550:S=this.lt(a,s,c,this.Zp(p))}break;case 550:switch(w){case 1736:S=this.pt(a,s,c,this.Zp(p),y);break;case 1607:S=this.st(a,s,c,this.Zp(p),y);break;case 550:S=this.ZA(s,a,c,p,y);break;case 33:S=this.lt(s,a,c,p)}break;default:S=!1}return S},l.rt=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.xJ();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,c)&&(g.Cu(s,a),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(g.Cu(s,a),p=!0):w==1?(g.ly(a),p=!0):w==2&&(g.ZD(s),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.Bp(s,a),g.j.Ug()),l.fg(g.J,g.Xc)},l.Sw=function(s,a,c,p){var y=new l;y.Yi(),y.bj("T*****F**"),y.xJ();var g=new d.l,w=new d.l;s.A(g),a.A(w);var S=!1;return d.ud.dk(g,w,c)&&(y.Cu(s,a),S=!0),S||((g=d.ud.qc(s,a,!1))==4?(y.Cu(s,a),S=!0):g==1?(y.ly(a),S=!0):g==2&&(y.ZD(s),S=!0)),S?this.fg(y.J,y.Xc):(s=(S=new d.gd).Ib(s),g=S.Ib(a),d.Tk.V(S,c,p,!1),c=S.Ne(g).mg(),S.Gp(0,!0,!0),d.rn.V(S,s,-1,!1,p),S.I(s)!=0&&(d.rn.V(S,g,-1,!1,p),y.er(S,p),(a=S.I(g)==0)||(y.Bp(s,g),y.j.Ug(),g=this.fg(y.J,y.Xc))?(s=S.Ne(s),s=(S=new d.gd).Ib(s),g=S.Ib(c),y.er(S,p),y.le=0,y.Yi(),y.bj(a?"T*****F**":"******F**"),y.IB(),y.Bp(s,g),y.j.Ug(),this.fg(y.J,y.Xc)):g))},l.$m=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.IB();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,c)&&(g.Du(s,a),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(g.Du(s,a),p=!0):w==1&&(g.$D(a),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.kh=g.j.Dp(),l.Jw(a,g.j,g.kh),g.Bp(s,a),g.j.Ep(g.kh),g.j.Ug()),l.fg(g.J,g.Xc)},l.fB=function(s,a,c,p){var y=new l;y.Yi(),y.bj("T*****F**"),y.IB();var g=new d.l,w=new d.l;s.A(g),a.A(w);var S=!1;return d.ud.dk(g,w,c)&&(y.Du(s,a),S=!0),S||((g=d.ud.qc(s,a,!1))==4?(y.Du(s,a),S=!0):g==1&&(y.$D(a),S=!0)),S?this.fg(y.J,y.Xc):(s=(S=new d.gd).Ib(s),a=S.Ib(a),y.Wo(S,c,p),S.I(s)!=0&&(y.Bp(s,a),y.j.Ug(),this.fg(y.J,y.Xc)))},l.pt=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.yJ();var w=new d.l,S=new d.l;return s.A(w),a.A(S),p=!1,d.ud.dk(w,S,c)&&(g.Eu(s),p=!0),p||((w=d.ud.qc(s,a,!1))==4?(g.Eu(s),p=!0):w==1&&(g.zN(),p=!0)),p||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.Gy(s,a),g.j.Ug()),l.fg(g.J,g.Xc)},l.gB=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.eX(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,c)&&(g.PG(s,a),S=!0),S||d.ud.qc(s,a,!1)!=4||(g.PG(s,a),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.Yh=g.j.Dp(),g.kh=g.j.Dp(),l.Jw(s,g.j,g.Yh),l.Jw(a,g.j,g.kh),g.Bp(s,a),g.j.Ep(g.Yh),g.j.Ep(g.kh),g.j.Ug()),l.fg(g.J,g.Xc)},l.st=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.MJ(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,c)&&(g.Vz(s),S=!0),S||d.ud.qc(s,a,!1)!=4||(g.Vz(s),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.Yh=g.j.Dp(),l.Jw(s,g.j,g.Yh),g.Gy(s,a),g.j.Ep(g.Yh),g.j.Ug()),l.fg(g.J,g.Xc)},l.ZA=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.RJ(),p=new d.l;var w=new d.l;s.A(p),a.A(w);var S=!1;return d.ud.dk(p,w,c)&&(g.yI(),S=!0),S||(s=(p=new d.gd).Ib(s),a=p.Ib(a),g.Wo(p,c,y),g.Gy(s,a),g.j.Ug()),l.fg(g.J,g.Xc)},l.qt=function(s,a,c,p){var y=new l;y.Yi(),y.bj(p),y.yJ();var g=new d.l;s.A(g),a=a.D();var w=!1;return d.ud.Rw(a,g,c)&&(y.Eu(s),w=!0),w||((c=d.hd.Yd(s,a,c))==1?(y.J[0]=0,y.J[2]=2,y.J[3]=-1,y.J[5]=1,y.J[6]=-1):c==2?(y.J[6]=-1,s.Ke()!=0?(y.J[0]=-1,y.J[3]=0,y.J[2]=2,y.J[5]=1):(y.J[0]=0,y.J[3]=-1,y.J[5]=-1,c=new d.l,s.A(c),y.J[2]=c.ca()==0&&c.R()==0?-1:1)):y.Eu(s)),this.fg(y.J,p)},l.tt=function(s,a,c,p,y){var g=new l;g.Yi(),g.bj(p),g.MJ();var w=new d.l;s.A(w),p=a.D();var S=!1;if(d.ud.Rw(p,w,c)&&(g.Vz(s),S=!0),!S){w=null;var k=S=!1;(g.ea[0]||g.ea[6])&&(d.ud.Yz(s,p,c)?(g.ea[0]&&(w=d.pi.gm(s,y),k=!d.ud.kt(w,p,c),S=!0,g.J[0]=k?-1:0),g.J[6]=-1):(g.J[0]=-1,g.J[6]=0)),g.ea[3]&&(w!=null&&w.B()?g.J[3]=-1:(S||(w==null&&(w=d.pi.gm(s,y)),k=!d.ud.kt(w,p,c),S=!0),g.J[3]=k?0:-1)),g.ea[5]&&(w!=null&&w.B()?g.J[5]=-1:S&&!k?g.J[5]=0:(w==null&&(w=d.pi.gm(s,y)),y=d.ud.Nw(w,a,c),g.J[5]=y?-1:0)),g.ea[2]&&(s.Qb()!=0?g.J[2]=1:((y=new d.de(s.description)).Fd(s,0,s.I()),s=d.ud.Nw(y,a,c),g.J[2]=s?-1:0))}return this.fg(g.J,g.Xc)},l.lt=function(s,a,c,p){var y=new l;y.Yi(),y.bj(p),y.RJ();var g=new d.l;s.A(g),a=a.D();var w=!1;if(d.ud.Rw(a,g,c)&&(y.yI(),w=!0),!w){g=!1,w=!0,c*=c;for(var S=0;S<s.I();S++){var k=s.Na(S);if(d.h.yc(k,a)<=c?g=!0:w=!1,g&&!w)break}g?(y.J[0]=0,y.J[2]=w?-1:0,y.J[6]=-1):(y.J[0]=-1,y.J[2]=0,y.J[6]=0)}return l.fg(y.J,p)},l.$U=function(s,a,c,p){s=s.D(),a=a.D();for(var y=[],g=0;9>g;g++)y[g]=-1;return d.h.yc(s,a)<=c*c?y[0]=0:(y[2]=0,y[6]=0),y[8]=2,l.fg(y,p)},l.fg=function(s,a){for(var c=0;9>c;c++)switch(a.charAt(c)){case"T":if(s[c]==-1)return!1;break;case"F":if(s[c]!=-1)return!1;break;case"0":if(s[c]!=0)return!1;break;case"1":if(s[c]!=1)return!1;break;case"2":if(s[c]!=2)return!1}return!0},l.uW=function(s,a,c){var p=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(s.B()&&a.B()){for(var y=0;9>y;y++)p[y]=-1;return this.fg(p,c)}return y=!1,s.B()&&(s=a,y=!0),p[0]=-1,p[1]=-1,p[3]=-1,p[4]=-1,p[6]=-1,p[7]=-1,p[8]=2,a=s.getType(),d.aa.Hc(a)?a==1736?s.Ke()!=0?(p[2]=2,p[5]=1):(p[5]=-1,a=new d.l,s.A(a),p[2]=a.ca()==0&&a.R()==0?0:1):(a=s.Qb()!=0,p[2]=a?1:0,p[5]=d.pi.aq(s)?0:-1):(p[2]=0,p[5]=-1),y&&this.vK(p),this.fg(p,c)},l.MR=function(s,a,c){return l.dQ(s)?3:l.UP(s)?4:l.cY(s,a,c)?8:l.CP(s,a,c)?16:l.eP(s)?1:l.EU(s,a,c)?32:0},l.dQ=function(s){return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="F"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="F"&&s.charAt(6)=="F"&&s.charAt(7)=="F"&&s.charAt(8)=="*"},l.UP=function(s){return s.charAt(0)=="F"&&s.charAt(1)=="F"&&s.charAt(2)=="*"&&s.charAt(3)=="F"&&s.charAt(4)=="F"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"},l.cY=function(s,a,c){return(a!=0||c!=0)&&((a!=2||c!=2)&&(s.charAt(0)=="F"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="T"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"||a==1&&c==1&&s.charAt(0)=="F"&&s.charAt(1)=="T"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*")||c!=0&&s.charAt(0)=="F"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="T"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*")},l.CP=function(s,a,c){return a>c?s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*":a==1&&c==1&&s.charAt(0)=="0"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="*"&&s.charAt(7)=="*"&&s.charAt(8)=="*"},l.eP=function(s){return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="*"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="F"&&s.charAt(7)=="F"&&s.charAt(8)=="*"},l.EU=function(s,a,c){if(a==c){if(a!=1)return s.charAt(0)=="T"&&s.charAt(1)=="*"&&s.charAt(2)=="T"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*";if(s.charAt(0)=="1"&&s.charAt(1)=="*"&&s.charAt(2)=="T"&&s.charAt(3)=="*"&&s.charAt(4)=="*"&&s.charAt(5)=="*"&&s.charAt(6)=="T"&&s.charAt(7)=="*"&&s.charAt(8)=="*")return!0}return!1},l.Jw=function(s,a,c){s=a.La(s);for(var p=a.Re;p!=-1;p=a.Rf(p))if(a.xd(p)&s){var y=a.Me(p);if(y==-1)a.nn(p,c,0);else{var g=y,w=0;do a.dh(g)&s&&w++,g=a.jc(a.xa(g));while(g!=y);a.nn(p,c,w)}}},l.Zp=function(s){var a=""+s.charAt(0);return a+=s.charAt(3),a+=s.charAt(6),a+=s.charAt(1),a+=s.charAt(4),a+=s.charAt(7),a+=s.charAt(2),(a+=s.charAt(5))+s.charAt(8)},l.prototype.Yi=function(){for(var s=0;9>s;s++)this.J[s]=-2,this.Za[s]=-2},l.vK=function(s){var a=s[1],c=s[2],p=s[5];s[1]=s[3],s[2]=s[6],s[5]=s[7],s[3]=a,s[6]=c,s[7]=p},l.prototype.bj=function(s){for(this.Xc=s,s=0;9>s;s++)this.Xc.charAt(s)!="*"?(this.ea[s]=!0,this.le++):this.ea[s]=!1},l.prototype.UJ=function(){for(var s=0;9>s;s++)this.ea[s]&&this.J[s]==-2&&(this.J[s]=-1,this.ea[s]=!1)},l.prototype.pc=function(s){return this.J[s]!=-2&&(this.J[s]==-1?(this.ea[s]=!1,this.le--,!0):this.Xc.charAt(s)!="T"&&this.Xc.charAt(s)!="F"?!(this.J[s]<this.Za[s])&&(this.ea[s]=!1,this.le--,!0):(this.ea[s]=!1,this.le--,!0))},l.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},l.prototype.xN=function(s,a,c){var p=!0;return this.ea[0]&&(this.CS(s,a,c),p=p&&this.pc(0)),this.ea[1]&&(this.sG(s,a,1),p=p&&this.pc(1)),this.ea[2]&&(this.tG(s,a,c,2),p=p&&this.pc(2)),this.ea[3]&&(this.sG(s,c,3),p=p&&this.pc(3)),this.ea[4]&&(this.BN(s,a,c),p=p&&this.pc(4)),this.ea[5]&&(this.eE(s,c,5),p=p&&this.pc(5)),this.ea[6]&&(this.tG(s,c,a,6),p=p&&this.pc(6)),this.ea[7]&&(this.eE(s,a,7),p=p&&this.pc(7)),p},l.prototype.Cu=function(s,a){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(a,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},l.prototype.Fr=function(s,a,c,p,y){a==-1&&p==-1||((c!="T"&&c!="F"&&a!=-1||y!="T"&&y!="F"&&p!=-1)&&s.Ke()==0?(p!=-1&&(this.J[p]=-1),a!=-1&&(c=new d.l,s.A(c),this.J[a]=c.ca()==0&&c.R()==0?0:1)):(a!=-1&&(this.J[a]=2),p!=-1&&(this.J[p]=1)))},l.prototype.ly=function(s){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(s,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},l.prototype.ZD=function(s){this.ly(s),l.vK(this.J)},l.prototype.Du=function(s,a){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var c=this.Xc.charAt(6);c=c=="T"||c=="F"||a.Qb()!=0,this.J[6]=c?1:0}this.ea[7]&&(a=d.pi.aq(a),this.J[7]=a?0:-1),this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},l.prototype.$D=function(s){if(this.ea[0]){var a=this.Xc.charAt(0);a=a=="T"||a=="F"||s.Qb()!=0,this.J[0]=a?1:0}this.ea[1]&&(s=d.pi.aq(s),this.J[1]=s?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},l.prototype.Eu=function(s){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(s,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},l.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},l.prototype.PG=function(s,a){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var c=this.Xc.charAt(2);c=c=="T"||c=="F"||s.Qb()!=0,this.J[2]=c?1:0}this.ea[5]&&(s=d.pi.aq(s),this.J[5]=s?0:-1),this.ea[6]&&(c=(c=this.Xc.charAt(6))=="T"||c=="F"||a.Qb()!=0,this.J[6]=c?1:0),this.ea[7]&&(a=d.pi.aq(a),this.J[7]=a?0:-1)},l.prototype.Vz=function(s){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var a=this.Xc.charAt(2);a=a=="T"||a=="F"||s.Qb()!=0,this.J[2]=a?1:0}this.ea[5]&&(s=d.pi.aq(s),this.J[5]=s?0:-1),this.J[6]=0},l.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},l.prototype.yN=function(s,a,c){var p=!0;return this.ea[0]&&(this.DS(s,a),p=p&&this.pc(0)),this.ea[1]&&(this.zS(s,a,c,this.kh),p=p&&this.pc(1)),this.ea[2]&&(this.AS(s,a),p=p&&this.pc(2)),this.ea[3]&&(this.FN(s,a,c,this.kh),p=p&&this.pc(3)),this.ea[4]&&(this.CN(s,a,c,this.kh),p=p&&this.pc(4)),this.ea[5]&&(this.DN(s,a,c),p=p&&this.pc(5)),this.ea[6]&&(this.lQ(s,a),p=p&&this.pc(6)),this.ea[7]&&(this.kQ(s,a,c,this.kh),p=p&&this.pc(7)),p},l.prototype.mT=function(s,a,c){var p=!0;return this.ea[0]&&(this.GS(s,a,c,this.Yh,this.kh),p=p&&this.pc(0)),this.ea[1]&&(this.uG(s,a,c,this.Yh,this.kh,1),p=p&&this.pc(1)),this.ea[2]&&(this.vG(s,a,c,2),p=p&&this.pc(2)),this.ea[3]&&(this.uG(s,c,a,this.kh,this.Yh,3),p=p&&this.pc(3)),this.ea[4]&&(this.HN(s,a,c,this.Yh,this.kh),p=p&&this.pc(4)),this.ea[5]&&(this.fE(s,c,this.Yh,5),p=p&&this.pc(5)),this.ea[6]&&(this.vG(s,c,a,6),p=p&&this.pc(6)),this.ea[7]&&(this.fE(s,a,this.kh,7),p=p&&this.pc(7)),p},l.prototype.aE=function(s,a,c){var p=!0;return this.ea[0]&&(this.ES(s,a),p=p&&this.pc(0)),this.ea[2]&&(this.BS(s,a),p=p&&this.pc(2)),this.ea[3]&&(this.GN(s,a,c),p=p&&this.pc(3)),this.ea[5]&&(this.EN(s,a),p=p&&this.pc(5)),this.ea[6]&&(this.mQ(s,a),p=p&&this.pc(6)),p},l.prototype.QG=function(s,a,c){var p=!0;return this.ea[0]&&(this.HS(s,a,c,this.Yh),p=p&&this.pc(0)),this.ea[2]&&(this.FS(s,c),p=p&&this.pc(2)),this.ea[3]&&(this.JN(s,a,c,this.Yh),p=p&&this.pc(3)),this.ea[5]&&(this.IN(s,a,c,this.Yh),p=p&&this.pc(5)),this.ea[6]&&(this.nQ(s,a,c),p=p&&this.pc(6)),p},l.prototype.ZU=function(s,a,c){var p=!0;return this.ea[0]&&(this.IS(s,a,c),p=p&&this.pc(0)),this.ea[2]&&(this.wG(s,a,c,2),p=p&&this.pc(2)),this.ea[6]&&(this.wG(s,c,a,6),p=p&&this.pc(6)),p},l.prototype.CS=function(s,a,c){this.J[0]!=2&&(s=this.j.af(s))&a&&s&c&&(this.J[0]=2)},l.prototype.sG=function(s,a,c){if(this.J[c]!=1){var p=this.j.af(this.j.xa(s));this.j.af(s)&a&&p&a&&(this.J[c]=1)}},l.prototype.tG=function(s,a,c,p){this.J[p]!=2&&(s=this.j.af(s))&a&&!(s&c)&&(this.J[p]=2)},l.prototype.BN=function(s,a,c){if(this.J[4]!=1){var p=this.j.dh(s);p&a&&p&c?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.xd(this.j.uf(s)))&a&&s&c&&(this.J[4]=0)}},l.prototype.eE=function(s,a,c){if(this.J[c]!=1){var p=this.j.af(this.j.xa(s));!(this.j.af(s)&a)&&!(p&a)&&(this.J[c]=1)}},l.prototype.DS=function(s,a){if(this.J[0]!=1){var c=this.j.af(this.j.xa(s));this.j.af(s)&a&&c&a&&(this.J[0]=1)}},l.prototype.zS=function(s,a,c,p){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s),g=this.j.xd(y);!(g&a)&&this.j.af(s)&a&&(s=this.j.ng(y,p),g&c&&s%2!=0&&(this.J[1]=0))}},l.prototype.AS=function(s,a){this.J[2]!=2&&this.j.dh(s)&a&&(this.J[2]=2)},l.prototype.FN=function(s,a,c,p){if(this.J[3]!=1){var y=this.j.dh(s);y&a&&y&c?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(y=this.j.uf(s),(s=this.j.xd(y))&a&&(a=this.j.ng(y,p),s&c&&a%2==0&&(this.J[3]=0)))}},l.prototype.CN=function(s,a,c,p){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s);(s=this.j.xd(y))&a&&(a=this.j.ng(y,p),s&c&&a%2!=0&&(this.J[4]=0))}},l.prototype.DN=function(s,a,c){this.J[5]!=1&&(s=this.j.dh(s))&a&&!(s&c)&&(this.J[5]=1)},l.prototype.lQ=function(s,a){if(this.J[6]!=1){var c=this.j.af(this.j.xa(s));!(this.j.af(s)&a)&&!(c&a)&&(this.J[6]=1)}},l.prototype.kQ=function(s,a,c,p){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){var y=this.j.uf(s),g=this.j.xd(y);!(g&a)&&!(this.j.af(s)&a)&&(s=this.j.ng(y,p),g&c&&s%2!=0&&(this.J[7]=0))}},l.prototype.GS=function(s,a,c,p,y){if(this.J[0]!=1){var g=this.j.dh(s);g&a&&g&c?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.uf(s),(g=this.j.xd(s))&a&&g&c&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2==0&&y%2==0&&(this.J[0]=0)))}},l.prototype.uG=function(s,a,c,p,y,g){if(this.J[g]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){s=this.j.uf(s);var w=this.j.xd(s);w&a&&w&c&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2==0&&y%2!=0&&(this.J[g]=0))}},l.prototype.vG=function(s,a,c,p){this.J[p]!=1&&(s=this.j.dh(s))&a&&!(s&c)&&(this.J[p]=1)},l.prototype.HN=function(s,a,c,p,y){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1){s=this.j.uf(s);var g=this.j.xd(s);g&a&&g&c&&(a=this.j.ng(s,p),y=this.j.ng(s,y),a%2!=0&&y%2!=0&&(this.J[4]=0))}},l.prototype.fE=function(s,a,c,p){this.J[p]!=0&&this.j.Ab(this.j.te(this.j.xa(s)),this.Ui)!=1&&(s=this.j.uf(s),!(this.j.xd(s)&a)&&this.j.ng(s,c)%2!=0&&(this.J[p]=0))},l.prototype.ES=function(s,a){this.J[0]!=0&&!(this.j.xd(s)&a)&&this.j.hk(this.j.cz(s))&a&&(this.J[0]=0)},l.prototype.BS=function(s,a){this.J[2]!=2&&this.j.xd(s)&a&&(this.J[2]=2)},l.prototype.GN=function(s,a,c){this.J[3]!=0&&(s=this.j.xd(s))&a&&s&c&&(this.J[3]=0)},l.prototype.EN=function(s,a){this.J[5]!=1&&this.j.xd(s)&a&&(this.J[5]=1)},l.prototype.mQ=function(s,a){this.J[6]!=0&&!(this.j.xd(s)&a)&&!(this.j.hk(this.j.cz(s))&a)&&(this.J[6]=0)},l.prototype.HS=function(s,a,c,p){if(this.J[0]!=0){var y=this.j.xd(s);y&a&&y&c&&this.j.ng(s,p)%2==0&&(this.J[0]=0)}},l.prototype.FS=function(s,a){this.J[2]!=1&&(this.j.Me(s)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.xd(s)&a)&&(this.J[2]=0))},l.prototype.JN=function(s,a,c,p){if(this.J[3]!=0){var y=this.j.xd(s);y&a&&y&c&&this.j.ng(s,p)%2!=0&&(this.J[3]=0)}},l.prototype.IN=function(s,a,c,p){if(this.J[5]!=0){var y=this.j.xd(s);y&a&&!(y&c)&&this.j.ng(s,p)%2!=0&&(this.J[5]=0)}},l.prototype.nQ=function(s,a,c){this.J[6]!=0&&!((s=this.j.xd(s))&a)&&s&c&&(this.J[6]=0)},l.prototype.IS=function(s,a,c){this.J[0]!=0&&(s=this.j.xd(s))&a&&s&c&&(this.J[0]=0)},l.prototype.wG=function(s,a,c,p){this.J[p]!=0&&(s=this.j.xd(s))&a&&!(s&c)&&(this.J[p]=0)},l.prototype.Bp=function(s,a){var c=!1;s=this.j.La(s),a=this.j.La(a),this.Ui=this.j.$g();for(var p=this.j.Re;p!=-1;p=this.j.Rf(p)){var y=this.j.Me(p);if(y==-1){if(this.Sm!=-1)switch(this.Sm){case 3:c=this.aE(p,s,a);break;case 4:c=this.QG(p,s,a);break;default:throw d.i.fa("internal error")}}else{var g=y;do{var w=g;if(this.j.Ab(w,this.Ui)!=1)do{switch(this.vw){case 0:c=this.xN(w,s,a);break;case 1:c=this.yN(w,s,a);break;case 2:c=this.mT(w,s,a);break;default:throw d.i.fa("internal error")}if(c)break;this.j.Kb(w,this.Ui,1),w=this.j.jc(w)}while(w!=g&&!c);if(c)break;g=this.j.jc(this.j.xa(w))}while(g!=y);if(c)break}}c||this.UJ(),this.j.Jg(this.Ui)},l.prototype.Gy=function(s,a){var c=!1;s=this.j.La(s),a=this.j.La(a);for(var p=this.j.Re;p!=-1;p=this.j.Rf(p)){switch(this.Sm){case 3:c=this.aE(p,s,a);break;case 4:c=this.QG(p,s,a);break;case 5:c=this.ZU(p,s,a);break;default:throw d.i.Qa()}if(c)break}c||this.UJ()},l.prototype.er=function(s,a){this.j.dr(s,a)},l.prototype.Wo=function(s,a,c){this.YP(s,a,c),this.er(s,c)},l.prototype.YP=function(s,a,c){for(d.Tk.V(s,a,c,!1),s.Gp(0,!0,!0),a=s.ld;a!=-1;a=s.ue(a))s.ic(a)==1736&&d.rn.V(s,a,-1,!1,c)},l.WE=function(s,a){var c=s.getType();return d.aa.yd(c)?((a=new d.Ta(s.description)).oc(s,!0),a):c==197?(c=new d.l,s.A(c),c.ca()<=a&&c.R()<=a?(a=new d.Sa(s.description),s.sf(a),a):c.ca()<=a||c.R()<=a?(a=new d.Ta(s.description),c=new d.Sa,s.Hf(0,c),a.nf(c),s.Hf(2,c),a.lineTo(c),a):((a=new d.Da(s.description)).ad(s,!1),a)):s},l}(),d.am=j}(ee||(ee={})),function(d){var j=function(){function l(s){this.Em=new d.ia(0),this.dw=new d.ia(0),this.wt=new d.h,this.xt=new d.h,this.g=s,this.Hs=-1}return l.prototype.bc=function(s){return this.g.bc(this.zz(s))},l.prototype.Bv=function(s){var a=this.iz(s);if(s=this.HF(s),this.g.Ma(a)==s){var c=a;a=s,s=c}return this.g.Gc(a,this.wt),this.g.Gc(s,this.xt),this.wt.y<this.xt.y},l.prototype.zz=function(s){var a=this.iz(s);return s=this.HF(s),this.g.U(a)==s?a:s},l.prototype.iz=function(s){return this.Em.get(s)},l.prototype.HF=function(s){return this.dw.get(s)},l.prototype.rF=function(s){this.Em.set(s,this.Hs),this.Hs=s},l.prototype.nI=function(s){if(this.Hs!=-1){var a=this.Hs;return this.Hs=this.Em.get(a),this.Em.set(a,s),this.dw.set(a,this.g.U(s)),a}return this.Em==null&&(this.Em=new d.ia(0),this.dw=new d.ia(0)),a=this.Em.size,this.Em.add(s),this.dw.add(this.g.U(s)),a},l.prototype.rz=function(s){return this.g.bd(this.iz(s))},l}();d.yY=j;var x=function(){function l(s){this.Be=s,this.ie=new d.yb,this.Nm=new d.yb,this.CH=0,this.Ao=null,this.yA=-1}return l.prototype.compare=function(s,a,c){c=s.ja(c);var p=this.Be.hb;if(this.yA==a)var y=this.CH;else this.Ao=p.bc(a),this.Ao==null?((s=p.g).ed(p.zz(a),this.ie),this.Ao=this.ie,y=this.ie.Pe(this.Be.yh,0)):y=this.Ao.Pe(this.Be.yh,0),this.CH=y,this.yA=a;if((s=p.bc(c))==null){(s=p.g).ed(p.zz(c),this.Nm),s=this.Nm;var g=this.Nm.Pe(this.Be.yh,0)}else g=s.Pe(this.Be.yh,0);return y==g&&(a=p.Bv(a),c=p.Bv(c),(a=.5*((c=Math.min(a?this.Ao.la:this.Ao.na,c?s.la:s.na))+this.Be.yh))==this.Be.yh&&(a=c),y=this.Ao.Pe(a,0),g=s.Pe(a,0)),y<g?-1:y>g?1:0},l.prototype.reset=function(){this.yA=-1},l}(),h=function(){function l(){this.Wm=this.Gl=null,this.fb=new d.Yj,this.fb.RP(),this.$d=new x(this),this.fb.Vo(this.$d)}return l.prototype.HQ=function(){var s=!1;if(this.fw&&(s=this.IQ()),this.g.da(this.X)==1){var a=this.g.Ob(this.X);return s=this.g.wz(a),this.g.PB(a,!0),0>s&&(s=this.g.Xa(a),this.g.pJ(s),this.g.Wg(a,this.g.Ma(s)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))this.g.gr(a,this.El,0),this.g.gr(a,this.wo,-1);a=new d.ia(0),this.yh=NaN;var c=new d.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var p=this.Gl.rc(this.Gl.je);p!=-1;p=this.Gl.lb(p)){var y=this.Gl.getData(p);if(this.g.Gc(y,c),c.y!=this.yh&&a.size!=0&&(s=this.ut(a)||s,this.$d.reset(),a.clear(!1)),a.add(y),this.yh=c.y,this.et==0)break}for(0<this.et&&(s=this.ut(a)||s,a.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),a=this.g.Ob(this.X);a!=-1;)if(this.g.sj(a,this.El)==3){for(this.g.PB(a,!0),c=a,a=this.g.sj(a,this.wo);a!=-1;)p=this.g.sj(a,this.wo),this.g.ZT(this.X,this.g.Rb(c),a),c=a,a=p;a=this.g.Rb(c)}else this.g.PB(a,!1),a=this.g.Rb(a);return this.g.CB(this.El),this.g.CB(this.wo),s},l.prototype.ut=function(s){return this.$V(s)},l.prototype.$V=function(s){var a=!1;this.hb==null&&(this.hb=new j(this.g)),this.Wm==null?(this.Wm=new d.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(s);for(var c=0,p=s.size;c<p;c++){var y=s.get(c);y!=-1&&this.oG(y,-1)}for(c=0;c<this.Wm.size&&0<this.et;c++)if(s=this.Wm.get(c),y=this.hb.rz(this.fb.ja(s)),p=-1,this.g.sj(y,this.El)==0){y=this.fb.we(s);for(var g,w=s;y!=-1;){var S=this.fb.ja(y),k=this.hb.rz(S),E=this.g.sj(k,this.El);if(E!=0){p=k;break}w=y,y=this.fb.we(y)}y==-1?(g=!0,y=w):(S=this.fb.ja(y),g=this.hb.Bv(S),y=this.fb.lb(y),g=!g);do{if(S=this.fb.ja(y),k=this.hb.rz(S),(E=this.g.sj(k,this.El))==0&&(g!=this.hb.Bv(S)&&(a=this.g.Xa(k),this.g.pJ(a),this.g.Wg(k,this.g.Ma(a)),a=!0),this.g.gr(k,this.El,g?3:2),g||(w=this.g.sj(p,this.wo),this.g.gr(p,this.wo,k),this.g.gr(k,this.wo,w)),this.et--,this.et==0))return a;p=k,w=y,y=this.fb.lb(y),g=!g}while(w!=s)}return a},l.prototype.ZV=function(s){for(var a=0,c=s.size;a<c;a++){var p=s.get(a),y=this.g.Pa(p,this.ro),g=this.g.Pa(p,this.Rs);if(y!=-1){var w=this.fb.ja(y);this.hb.rF(w),this.g.Ra(p,this.ro,-1)}g!=-1&&(w=this.fb.ja(g),this.hb.rF(w),this.g.Ra(p,this.Rs,-1)),w=-1,y!=-1&&g!=-1?(this.fb.vd(y,-1),this.fb.vd(g,-1),s.set(a,-1)):w=y!=-1?y:g,w!=-1&&(this.oG(p,w)||this.fb.vd(w,-1),s.set(a,-1))}},l.prototype.oG=function(s,a){var c=new d.h,p=new d.h;this.g.Gc(s,c);var y=this.g.U(s);this.g.Gc(y,p);var g=!1;if(c.y<p.y){g=!0;var w=this.hb.nI(s);if(a==-1)var S=this.fb.addElement(w,-1);else S=a,this.fb.Sj(S,w);(w=this.g.Pa(y,this.ro))==-1?this.g.Ra(y,this.ro,S):this.g.Ra(y,this.Rs,S),y=this.g.bd(s),this.g.sj(y,this.El)==0&&this.Wm.add(S)}return y=this.g.Ma(s),this.g.Gc(y,p),c.y<p.y&&(g=!0,w=this.hb.nI(y),a==-1?S=this.fb.addElement(w,-1):(S=a,this.fb.Sj(S,w)),(w=this.g.Pa(y,this.ro))==-1?this.g.Ra(y,this.ro,S):this.g.Ra(y,this.Rs,S),y=this.g.bd(s),this.g.sj(y,this.El)==0&&this.Wm.add(S)),g},l.V=function(s,a,c,p){var y=new l;return y.g=s,y.X=a,y.Gl=c,y.fw=p,y.HQ()},l.prototype.IQ=function(){var s=new d.ia(0),a=new d.ia(0),c=-1,p=-1,y=new d.h;y.Rc();for(var g=-1,w=-1,S=-1,k=new d.h,E=this.Gl.rc(this.Gl.je);E!=-1;E=this.Gl.lb(E)){var P=this.Gl.getData(E);this.g.Gc(P,k);var R=this.g.bd(P);y.qb(k)&&w==R?(p==-1&&(c=this.g.Ky(),p=this.g.Gd()),S==-1&&(S=a.size,this.g.Ra(g,p,S),a.add(1),this.g.sj(R,c)==-1&&(this.g.gr(R,c,g),s.add(R))),this.g.Ra(P,p,S),a.bX(a.Fc()+1)):(S=-1,y.L(k)),g=P,w=R}if(s.size==0)return!1;for(y=new d.ia(0),g=new d.ia(0),w=0,S=s.size;w<S;w++){R=s.get(w);var D=this.g.sj(R,c);for(P=this.g.Pa(D,p),y.clear(!1),g.clear(!1),y.add(D),g.add(P),P=this.g.U(D);P!=D;P=this.g.U(P)){var U=P;if((k=this.g.Pa(U,p))!=-1)if(g.size==0)g.add(k),y.add(U);else if(g.Fc()==k){E=y.Fc();var Y=this.g.U(E);D=this.g.U(U),this.g.Bc(E,D),this.g.Cc(D,E),this.g.Bc(U,Y),this.g.Cc(Y,U),U=[!1],Y=this.g.nG(this.X,Y,this.g.Xa(R),U),this.g.Ra(P,p,-1),U[0]&&this.g.Jf(R,D),P=this.g.Ja(R),P-=D=this.g.Ja(Y),this.g.Vj(R,P),a.set(k,a.get(k)-1),a.get(k)==1&&(a.set(k,0),g.If(),y.If()),P=D=E}else y.add(P),g.add(k)}}return this.g.CB(c),this.g.Td(p),!0},l}();d.WL=h}(ee||(ee={})),function(d){var j=function(){function x(){}return x.prototype.ig=function(){this.PA=this.sb=null},x.prototype.get=function(){return this.PA},x.prototype.set=function(h){if(this.PA=h,h!=null)throw h.getType()==322&&(this.sb=h),d.i.Qa()},x.prototype.create=function(h){if(h!=322)throw d.i.fa("Not Implemented");this.Or()},x.prototype.Or=function(){this.sb==null&&(this.sb=new d.yb),this.PA=this.sb},x}();d.ig=j}(ee||(ee={})),function(d){(d=d.XL||(d.XL={}))[d.enumLineSeg=1]="enumLineSeg",d[d.enumBezierSeg=2]="enumBezierSeg",d[d.enumArcSeg=4]="enumArcSeg",d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",d[d.enumSegmentMask=7]="enumSegmentMask",d[d.enumDensified=8]="enumDensified"}(ee||(ee={})),function(d){var j=function(h){this.$i=h,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},x=function(){function h(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new d.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return h.prototype.wB=function(l){if(l!=null){for(var s=0,a=l.length;s<a;s++)this.rW(l[s]);l.length=0}},h.prototype.rW=function(l){l.$i=null,this.Iq.push(l)},h.prototype.Ow=function(l){if(this.Iq.length===0)var s=new j(l);else(s=this.Iq[this.Iq.length-1]).$i=l,--this.Iq.length;return s},h.prototype.SR=function(l,s){return l==0?this.$s[s]:this.yw[s]},h.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new d.ig);var l=this.MA[this.Cw];return this.Cw++,l},h.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},h.prototype.Oo=function(l){this.mo.push(this.Ow(l))},h.prototype.ol=function(l){return l==0?this.$s.length:this.yw.length},h.prototype.Vp=function(l,s){return this.SR(l,s).$i},h.prototype.Ea=function(l,s){if(this.mo.length!=2)throw d.i.Qa();this.qa=l;var a=d.lc.ox(.01*l),c=!1,p=this.mo[0],y=this.mo[1];if(s||5&p.$i.zr(y.$i,l,!0)){if(p.$i.getType()==322){var g=p.$i;if(y.$i.getType()==322){s=y.$i;var w=d.yb.Zx(g,s,null,this.Fq,this.Bk,l);if(w==0)throw d.yb.Zx(g,s,null,this.Fq,this.Bk,l),d.i.Qa();l=Array(9),d.O.$u(l,null);for(var S=0;S<w;S++){var k=this.Fq[S],E=this.Bk[S],P=p.sB,R=1;k==0?(P=p.tB,R=p.rC):k==1&&(P=p.rB,R=p.qC);var D=y.sB,U=1;E==0?(D=y.tB,U=y.rC):E==1&&(D=y.rB,U=y.qC);var Y=new d.h;P==D?(P=new d.h,g.hc(k,P),k=new d.h,s.hc(E,k),U/=E=R+U,d.lc.OG(P,k,U,Y),d.h.yc(Y,P)+d.h.yc(Y,k)>a&&(c=!0)):P>D?(g.hc(k,Y),k=new d.h,s.hc(E,k),d.h.yc(Y,k)>a&&(c=!0)):(s.hc(E,Y),P=new d.h,g.hc(k,P),d.h.yc(Y,P)>a&&(c=!0)),l[S]=Y}for(p=0,y=-1,S=0;S<=w;S++)(U=S<w?this.Fq[S]:1)!=p&&(a=this.aB(),g.ah(p,U,a),y!=-1&&a.get().Dc(l[y]),S!=w&&a.get().Qc(l[S]),p=U,this.$s.push(this.Ow(a.get()))),y=S;for(g=[0,0,0,0,0,0,0,0,0],S=0;S<w;S++)g[S]=S;for(1<w&&this.Bk[0]>this.Bk[1]&&(U=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=U,S=g[0],g[0]=g[1],g[1]=S),p=0,y=-1,S=0;S<=w;S++)(U=S<w?this.Bk[S]:1)!=p&&(a=this.aB(),s.ah(p,U,a),y!=-1&&(p=g[y],a.get().Dc(l[p])),S!=w&&(p=g[S],a.get().Qc(l[p])),p=U,this.yw.push(this.Ow(a.get()))),y=S;return c}}throw d.i.Qa()}return!1},h.prototype.Kz=function(l,s,a){if(s.copyTo(this.Bf),this.mo.length!=1)throw d.i.Qa();this.qa=l;var c=this.mo[0];if(a||c.$i.ru(s.D(),l,!0)){if(c.$i.getType()!=322)throw d.i.Qa();var p=(l=c.$i).fe(s.D(),!1);this.Fq[0]=p;var y=c.sB;for(a=1,p==0?(y=c.tB,a=c.rC):p==1&&(y=c.rB,a=c.qC),c=new d.h,y==0?(y=new d.h,l.hc(p,y),s=s.D(),d.lc.OG(y,s,1/(a+1),c)):0<y?(c=new d.h,l.hc(p,c)):c=s.D(),a=0,p=-1,y=0;1>=y;y++){if((s=1>y?this.Fq[y]:1)!=a){var g=this.aB();l.ah(a,s,g),p!=-1&&g.get().Dc(c),y!=1&&g.get().Qc(c),a=s,this.$s.push(this.Ow(g.get()))}p=y}this.Bf.Cb(c)}},h}();d.TC=x}(ee||(ee={})),function(d){var j=function(){function x(h){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=h,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new d.h}return x.prototype.BW=function(h){if(this.ib!=h.ib)throw d.i.Hb();this.zf=h.zf,this.Jd=h.Jd,this.gb=h.gb,this.Cl=h.Cl,this.ag=h.ag,this.zm=h.zm,this.rk=null},x.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw d.i.ce();this.Jd++}return this.rk},x.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw d.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},x.prototype.DW=function(){this.zf=-1,this.Jd=0},x.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},x.prototype.Vb=function(h,l){if(l===void 0&&(l=-1),0<=this.gb&&this.gb<this.ib.da()){var s=this.IM();if(h>=s&&h<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=h-s)}l=0<=l&&l<this.ib.da()&&h>=this.ib.Ba(l)&&h<this.ib.Vc(l)?l:this.ib.sz(h),this.Cl=l+1,this.gb=l,this.zf=-1,this.Jd=h-this.ib.Ba(l),this.ag=this.Wx(l),this.ib.Ba(this.gb),this.ib.dc(this.gb)},x.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},x.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},x.prototype.Wx=function(h){if(this.ib.Ac())return 0;var l=1;return this.ib.dc(h)&&(l=0),this.ib.Ja(h)-l},x.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},x.prototype.JB=function(){this.zm=!0},x.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},x.prototype.IM=function(){return this.ib.Ba(this.gb)},x.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},x.prototype.vm=function(){return this.zf==0},x.prototype.Qn=function(){return this.zf==this.ag-1},x.prototype.Ha=function(){return this.Jd<this.ag},x.prototype.Ez=function(){return 0<this.Jd},x.prototype.Of=function(){var h=new x(this.ib);return h.zf=this.zf,h.Jd=this.Jd,h.ag=this.ag,h.gb=this.gb,h.Cl=this.Cl,h.ib=this.ib,h.zm=this.zm,h},x.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw d.i.ce();this.zf=this.Jd;var h=this.wb();this.ib.mc();var l=this.ib.Ve,s=1;switch(l!=null&&(s=7&l.read(h)),l=this.ib.description,s){case 1:this.sb==null&&(this.sb=new d.yb),this.rk=this.sb;break;case 2:throw d.i.fa("internal error");default:throw d.i.Qa()}this.rk.Nf(l),s=this.ik(),this.ib.Gc(h,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(s,this.Ds),this.rk.Qc(this.Ds);for(var a=1,c=l.Aa;a<c;a++)for(var p=l.kd(a),y=d.ra.Va(p),g=0;g<y;g++){var w=this.ib.Uc(p,h,g);this.rk.YB(p,g,w),w=this.ib.Uc(p,s,g),this.rk.OB(p,g,w)}},x.prototype.$S=function(){return this.gb==this.ib.da()-1},x.prototype.Pn=function(){var h=this.ib.VR();return h!=null&&(7&h.read(this.zf))!=1},x}();d.YL=j}(ee||(ee={})),function(d){var j=function(){function x(h){h instanceof d.aa?(this.xH=h,this.ya=-1,this.Ei=1):(this.vT=h.slice(0),this.ya=-1,this.Ei=h.length)}return x.prototype.La=function(){return this.ya},x.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},x.prototype.qe=function(){},x}();d.Zc=j}(ee||(ee={})),function(d){var j=function(){this.next=null},x=function(){function h(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return h.prototype.AX=function(l,s,a){this.oi=l,this.pl=s,this.Jh=this.Wl=null,this.Tq=0,this.vy=a,this.gn==null&&(this.gn=d.O.lg(384,0)),this.nK()},h.prototype.R=function(){return this.oi},h.prototype.ca=function(){return this.pl},h.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},h.prototype.nK=function(){if(0<this.Tq){for(var l=0;l<this.pl;l++){for(var s=this.Wl[l];s!=null;){var a=s;s=s.next,a.next=null}this.Wl[l]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},h.prototype.iJ=function(l){for(this.kF=l==h.Cx,l=this.Lw;l<=this.Kw;l++)this.sN(),this.lN(l),this.ZP();this.nK()},h.prototype.jy=function(l,s,a,c){if(s!=c){var p=1;if(s>c&&(p=l,l=a,a=p,p=s,s=c,c=p,p=-1),!(0>c||s>=this.pl)){0>l&&0>a?a=l=-1:l>=this.oi&&a>=this.oi&&(a=l=this.oi);var y=(a-l)/(c-s);c>this.pl&&(a=y*((c=this.pl)-s)+l),0>s&&(l=y*(0-s)+l,s=0);var g=Math.max(this.oi+1,8388607);-8388607>l?(s=(0-l)/y+s,l=0):l>g&&(s=(this.oi-l)/y+s,l=this.oi),-8388607>a?c=(0-l)/y+s:a>g&&(c=(this.oi-l)/y+s),(s=d.O.truncate(s))!=(c=d.O.truncate(c))&&((a=new j).x=d.O.truncate(4294967296*l),a.y=s,a.H=c,a.WP=d.O.truncate(4294967296*y),a.dir=p,this.Wl==null&&(this.Wl=d.O.lg(this.pl,null)),a.next=this.Wl[a.y],this.Wl[a.y]=a,a.y<this.Lw&&(this.Lw=a.y),a.H>this.Kw&&(this.Kw=a.H),this.Tq++)}}},h.prototype.sN=function(){if(this.Jh!=null){for(var l=!1,s=null,a=this.Jh;a!=null;)if(a.y++,a.y==a.H){var c=a;a=a.next,s!=null?s.next=a:this.Jh=a,c.next=null}else a.x+=a.WP,s!=null&&s.x>a.x&&(l=!0),s=a,a=a.next;l&&(this.Jh=this.fK(this.Jh))}},h.prototype.lN=function(l){if(!(l>=this.pl)){var s=this.Wl[l];if(s!=null){this.Wl[l]=null,s=this.fK(s),this.Tq-=this.gK,l=this.Jh;for(var a=!0,c=s,p=null;l!=null&&c!=null;)l.x>c.x?(a&&(this.Jh=c),a=c.next,c.next=l,p!=null&&(p.next=c),p=c,c=a):(a=l.next,l.next=c,p!=null&&(p.next=l),p=l,l=a),a=!1;this.Jh==null&&(this.Jh=s)}}},h.eK=function(l,s){return 0>l?0:l>s?s:l},h.prototype.ZP=function(){if(this.Jh!=null){for(var l=0,s=this.Jh,a=d.O.truncate(d.O.XG(s.x)),c=s.next;c!=null;c=c.next)if(l=this.kF?1^l:l+c.dir,c.x>s.x){var p=d.O.truncate(d.O.XG(c.x));l!=0&&(s=h.eK(a,this.oi),(a=h.eK(p,this.oi))>s&&s<this.oi&&(this.gn[this.Ol++]=s,this.gn[this.Ol++]=a,this.gn[this.Ol++]=c.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),s=c,a=p}}},h.prototype.fK=function(l){for(var s=0,a=l;a!=null;a=a.next)s++;if(this.gK=s,s==1)return l;this.Kf==null?this.Kf=d.O.lg(Math.max(s,16),null):this.Kf.length<s&&(this.Kf=d.O.lg(Math.max(s,2*this.Kf.length),null));var c=0;for(a=l;a!=null;a=a.next)this.Kf[c++]=a;for(s==2?this.Kf[0].x>this.Kf[1].x&&(l=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=l):h.AN(this.Kf,s,function(p,y){return p==y?0:p.x<y.x?-1:p.x>y.x?1:0}),l=this.Kf[0],this.Kf[0]=null,a=l,c=1;c<s;c++)a.next=this.Kf[c],a=this.Kf[c],this.Kf[c]=null;return a.next=null,l},h.AN=function(l,s,a){if(s==l.length)l.sort(a);else{var c=l.slice(0,0),p=l.slice(s);s=l.slice(0,s).sort(a),l.length=0,l.push.apply(l,c.concat(s).concat(p))}},h.Cx=0,h}();d.Px=x}(ee||(ee={})),function(d){var j=function(){function x(){}return x.prototype.ui=function(h,l){var s=this.g.Pa(h,this.Pq);if(this.Dl==s&&(this.Dl=this.oe.lb(this.Dl)),this.ho==s&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,s),this.bk(h),l&&(l=this.g.bd(h))!=-1&&this.g.Xa(l)==h){var a=this.g.U(h);if(a!=h){if((s=this.g.bd(a))==l)return void this.g.Jf(l,a);if((a=this.g.Ma(h))!=h&&(s=this.g.bd(a))==l)return void this.g.Jf(l,a)}this.g.Jf(l,-1),this.g.Wg(l,-1)}},x.prototype.pD=function(){for(var h=!1,l=new d.h;;){this.Wh==null?(this.Wh=new d.ia(0),this.zs=new d.ia(0),this.xe=new d.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var s=this.ho,a=0,c=!0;s!=this.Dl;){var p=this.oe.getData(s),y=new d.h;this.g.Gc(p,y),c&&(this.g.Gc(p,l),c=!1),y=this.g.Ma(p);var g=this.g.U(p);this.g.Pa(y,this.zg)!=-559038737&&(this.Wh.add(y),this.g.Ra(y,this.zg,-559038737),this.zs.add(p),this.xe.add(a++)),this.g.Pa(g,this.zg)!=-559038737&&(this.Wh.add(g),this.g.Ra(g,this.zg,-559038737),this.zs.add(p),this.xe.add(a++)),s=this.oe.lb(s)}if(2>this.Wh.size)break;var w=this;for(this.xe.Vd(0,this.xe.size,function(S,k){return w.pM(S,k)}),s=0,a=this.xe.size;s<a;s++)c=this.xe.get(s),c=this.Wh.get(c),this.g.Ra(c,this.zg,s),y=new d.h,this.g.Gc(c,y);for(y=this.TM(l),s=0,a=this.xe.size;s<a;s++)(c=this.xe.get(s))!=-1&&(c=this.Wh.get(c),this.g.Ra(c,this.zg,-1));if(!y)break;h=!0}return h},x.prototype.TM=function(h){for(var l=!1,s=!0;s;){s=!1;var a=0;this.xe.get(a)==-1&&(a=this.cm(a));for(var c=this.cm(a),p=0,y=this.xe.size;p<y&&a!=-1&&c!=-1&&a!=c;p++){var g=this.xe.get(a);c=this.xe.get(c),g=this.Wh.get(g),c=this.Wh.get(c);var w=this.g.U(g);this.g.Dv(w,h)||(w=this.g.Ma(g));var S=this.g.U(c);this.g.Dv(S,h)||(S=this.g.Ma(c));var k=this.pu(w,g),E=this.pu(S,c),P=k?this.g.Ma(w):this.g.U(w),R=E?this.g.Ma(S):this.g.U(S),D=!1;(this.sp(w)||this.sp(S)||this.sp(g)||this.sp(c)||this.sp(P)||this.sp(R))&&(D=!0),!D&&this.g.fq(g,c)&&(D=!0,this.tD(k,E,w,g,S,c)),!D&&this.g.fq(P,R)&&(D=!0,this.tD(!k,!E,w,P,S,R)),D&&(l=!0),s=s||D,a=this.cm(a),c=this.cm(a)}}if(!l)for(a=0,this.xe.get(a)==-1&&(a=this.cm(a)),c=this.cm(a),p=0,y=this.xe.size;p<y&&a!=-1&&c!=-1&&a!=c;p++)g=this.xe.get(a),c=this.xe.get(c),g=this.Wh.get(g),c=this.Wh.get(c),w=this.g.U(g),this.g.Dv(w,h)||(w=this.g.Ma(g)),S=this.g.U(c),this.g.Dv(S,h)||(S=this.g.Ma(c)),k=this.pu(w,g),E=this.pu(S,c),P=k?this.g.Ma(w):this.g.U(w),R=E?this.g.Ma(S):this.g.U(S),this.DM(k,E,g,w,P,c,S,R)&&(l=!0),a=this.cm(a),c=this.cm(a);return l},x.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new d.Fg().MU(this.fw,this.g,this.X,this.nd);var h=!1,l=!0;this.zg=this.Pq=-1;var s=this.g.I(this.X),a=new d.ia(0);a.Jb(s);for(var c=this.g.Ob(this.X);c!=-1;c=this.g.Rb(c))for(var p=this.g.Xa(c),y=0,g=this.g.Ja(c);y<g;y++)a.add(p),p=this.g.U(p);var w=this.g.td.o,S=this.g.td.stride;this.g.vb.mc();var k=this.g.vb.za[0].o;for(a.Vd(0,s,function(P,R){var D=w[S*P],U=w[S*R],Y=k[2*D];D=k[2*D+1];var K=k[2*U];return(Y=D<(U=k[2*U+1])?-1:D>U?1:Y<K?-1:Y>K?1:0)==0&&(Y=(P=w[S*P+3])<(R=w[S*R+3])?-1:P==R?0:1),Y}),this.Pq=this.g.Gd(),this.oe=new d.jp,this.RA=this.oe.Ph(0),this.oe.fn(s),c=0;c<s;c++)p=a.get(c),y=this.oe.addElement(this.RA,p),this.g.Ra(p,this.Pq,y);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(h=!0);l;){l=!1,s=0,a=!1;do{a=!1,this.ho=-1,g=0,c=new d.h,y=new d.h;for(var E=this.oe.rc(this.RA);E!=-1;)p=this.oe.getData(E),this.ho!=-1?(this.g.Gc(p,y),c.qb(y)?g++:(c.L(y),this.Dl=E,0<g&&(p=this.pD())&&(a=!0,this.Dl!=-1&&(p=this.oe.getData(this.Dl),this.g.Gc(p,c))),this.ho=E=this.Dl,g=0)):(this.ho=E,this.g.Gc(this.oe.getData(E),c),g=0),E!=-1&&(E=this.oe.lb(E));if(this.Dl=-1,0<g&&(p=this.pD())&&(a=!0),10<s++)throw d.i.Qa();a&&this.GM(),this.cD()&&(a=!0),l=l||a&&!1,h=h||a}while(a)}return this.g.Td(this.Pq),this.g.Td(this.zg),d.WL.V(this.g,this.X,this.oe,this.fw)||h},x.prototype.pu=function(h,l){return this.g.U(l)!=h},x.prototype.DM=function(h,l,s,a,c,p,y,g){if(a==y)return this.bk(s),this.bk(p),!1;var w=this.g.Pa(s,this.zg),S=this.g.Pa(c,this.zg),k=this.g.Pa(p,this.zg),E=this.g.Pa(g,this.zg),P=[0,0,0,0];for((s=[0,0,0,0,0,0,0,0])[0]=0,P[0]=w,s[1]=0,P[1]=S,s[2]=1,P[2]=k,s[3]=1,P[3]=E,w=1;4>w;w++){for(S=P[w],k=s[w],E=w-1;0<=E&&P[E]>S;)P[E+1]=P[E],s[E+1]=s[E],E--;P[E+1]=S,s[E+1]=k}return P=0,s[0]!=0&&(P|=1),s[1]!=0&&(P|=2),s[2]!=0&&(P|=4),s[3]!=0&&(P|=8),(P==5||P==10)&&(h==l?h?(this.g.Bc(g,a),this.g.Cc(a,g),this.g.Bc(c,y),this.g.Cc(y,c)):(this.g.Cc(g,a),this.g.Bc(a,g),this.g.Cc(c,y),this.g.Bc(y,c)):h?(this.g.Cc(a,p),this.g.Bc(p,a),this.g.Cc(y,c),this.g.Bc(c,y)):(this.g.Bc(a,p),this.g.Cc(p,a),this.g.Bc(y,c),this.g.Cc(c,y)),!0)},x.prototype.tD=function(h,l,s,a,c,p){this.MY?this.VM():this.UM(h,l,s,a,c,p)},x.prototype.VM=function(){throw d.i.fa("not implemented.")},x.prototype.UM=function(h,l,s,a,c,p){if(h!=l)h?(this.g.Bc(s,c),this.g.Cc(c,s),this.g.Bc(p,a),this.g.Cc(a,p),this.vn(c,s),this.ui(c,!0),this.g.mi(c,!0),this.bk(s),this.vn(p,a),this.ui(p,!0),this.g.mi(p,!1)):(this.g.Bc(c,s),this.g.Cc(s,c),this.g.Bc(a,p),this.g.Cc(p,a),this.vn(c,s),this.ui(c,!0),this.g.mi(c,!1),this.bk(s),this.vn(p,a),this.ui(p,!0),this.g.mi(p,!0)),this.bk(a);else{var y=h?s:a,g=l?c:p;for(h=h?a:s,l=l?p:c,c=!1,this.g.Bc(y,g),this.g.Bc(g,y),this.g.Cc(h,l),this.g.Cc(l,h),p=l;p!=g;)s=this.g.Ma(p),a=this.g.U(p),this.g.Cc(p,a),this.g.Bc(p,s),c=c||p==y,p=a;c||(s=this.g.Ma(g),a=this.g.U(g),this.g.Cc(g,a),this.g.Bc(g,s)),this.vn(g,y),this.ui(g,!0),this.g.mi(g,!1),this.bk(y),this.vn(l,h),this.ui(l,!0),this.g.mi(l,!1),this.bk(h)}},x.prototype.cD=function(){for(var h=!1,l=this.g.Ob(this.X);l!=-1;){for(var s=this.g.Xa(l),a=0,c=this.g.Ja(l);a<c&&1<c;){var p=this.g.Ma(s),y=this.g.U(s);this.g.fq(p,y)?(h=!0,this.ui(s,!1),this.g.pd(s,!0),this.ui(y,!1),this.g.pd(y,!0),s=p,a=0,c=this.g.Ja(l)):(s=y,a++)}if(2>this.g.Ja(l)){for(h=this.g.Xa(l),a=0,c=this.g.Ja(l);a<c;a++)this.ui(h,!1),h=this.g.U(h);l=this.g.Zq(l),h=!0}else l=this.g.Rb(l)}return h},x.prototype.sp=function(h){for(var l=!1;;){var s=this.g.U(h),a=this.g.Ma(h);if(s==h)return this.ui(h,!0),this.g.mi(h,!1),!0;if(!this.g.fq(s,a)||(l=!0,this.bk(a),this.bk(s),this.ui(h,!0),this.g.mi(h,!1),this.vn(s,a),this.ui(s,!0),this.g.mi(s,!0),s==a))break;h=a}return l},x.prototype.GM=function(){for(var h=0,l=this.oe.rc(this.oe.je);l!=-1;l=this.oe.lb(l)){var s=this.oe.getData(l);this.g.aj(s,-1)}for(var a=0,c=this.g.Ob(this.X);c!=-1;)if((l=this.g.Xa(c))==-1||this.g.bd(l)!=-1)s=c,c=this.g.Rb(c),this.g.$q(s);else{this.g.aj(l,c);var p=1;for(s=this.g.U(l);s!=l;s=this.g.U(s))this.g.aj(s,c),p++;this.g.cp(c,!1),this.g.Vj(c,p),this.g.Wg(c,this.g.Ma(l)),a+=p,h++,c=this.g.Rb(c)}for(l=this.oe.rc(this.oe.je);l!=-1;l=this.oe.lb(l))s=this.oe.getData(l),this.g.bd(s)==-1&&(c=this.g.nG(this.X,s,s,null),a+=this.g.Ja(c),h++);for(this.g.Rl(this.X,h),this.g.Tj(this.X,a),h=0,a=this.g.ld;a!=-1;a=this.g.ue(a))h+=this.g.I(a);this.g.bC(h)},x.prototype.cm=function(h){for(var l=0,s=this.xe.size-1;l<s;l++)if(h=(h+1)%this.xe.size,this.xe.get(h)!=-1)return h;return-1},x.prototype.vn=function(h,l){var s=this.g.Pa(l,this.Pq),a=this.g.Pa(l,this.zg);this.g.lC(h,l),this.g.Ra(l,this.Pq,s),this.g.Ra(l,this.zg,a)},x.prototype.bk=function(h){var l=this.g.Pa(h,this.zg);l!=-1&&(this.xe.set(l,-1),this.g.Ra(h,this.zg,-1))},x.V=function(h,l,s,a,c){var p=new x;return p.g=h,p.X=l,p.xA=s,p.fw=a,p.nd=c,p.XM()},x.prototype.pM=function(h,l){var s=this.Wh.get(h),a=new d.h;this.g.Gc(s,a),s=new d.h;var c=this.Wh.get(l);return this.g.Gc(c,s),a.qb(s)?0:(c=this.zs.get(h),h=new d.h,this.g.Gc(c,h),c=this.zs.get(l),l=new d.h,this.g.Gc(c,l),(c=new d.h).uc(a,h),(a=new d.h).uc(s,l),d.h.nu(c,a))},x}();d.rn=j}(ee||(ee={})),function(d){var j;(j=d.$L||(d.$L={}))[j.Local=0]="Local",j[j.Geographic=1]="Geographic",j[j.Projected=2]="Projected",j[j.Image=3]="Image",j[j.Unknown=4]="Unknown",function(h){h[h.Integer32=0]="Integer32",h[h.Integer64=1]="Integer64",h[h.FloatingPoint=2]="FloatingPoint"}(d.TL||(d.TL={}));var x=function(){function h(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return h.prototype.Ec=function(){return this.dg},h.prototype.VF=function(){return 1},h.prototype.VW=function(l){this.mA=l},h.prototype.Xd=function(){if(this.mA!==null)return this.mA;var l=.001;return this.dg!=0?l=d.wr.CQ(this.dg):this.wh!=null&&(l=d.XC.DQ(this.wh)),l},h.prototype.Bz=function(){return this.wh},h.prototype.Hd=function(){return this.dg!=0?d.Tc.Zg(d.wr.Sy(this.dg)):this.wh!=null?d.XC.EQ(this.wh):void 0},h.Sb=function(l){if(l.dg!=0){if(d.wr.ZS(l.dg)===!0)return 1;if(d.wr.aT(l.dg)===!0)return 2}return 4},h.prototype.$r=function(){var l=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=d.wr.FK(l),this.Ho!=-1?this.Ho:l)},h.create=function(l){if(0>=l)throw d.i.N("Invalid or unsupported wkid: "+l);var s=new h;return s.dg=l,s},h.qP=function(l){if(l==null||l.length==0)throw d.i.N("Cannot create SpatialReference from null or empty text.");var s=new h;return s.wh=l,s},h.prototype.Nb=function(l){return this==l||l!=null&&this.constructor==l.constructor&&this.dg==l.dg&&(this.dg!=0||this.wh===l.wh)},h.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},h.prototype.cc=function(){if(this.pp!=="")return this.pp;var l=this.toString();if(Array.prototype.reduce)return this.pp="S"+l.split("").reduce(function(c,p){return 0|(c=(c<<5)-c+p.charCodeAt(0))},0);var s=0;if(l.length===0)return"";for(var a=0;a<l.length;a++)s=(s<<5)-s+l.charCodeAt(a),s&=s;return this.pp="S"+s},h.prototype.Kn=function(){return this.Xd(0)},h.prototype.fh=function(){return this.su!==null?this.su:this.su=d.gu.yP(this)},h.ZN=2147483645,h.$N=9007199254740990,h}();d.Eg=x}(ee||(ee={})),function(d){var j=function(x){function h(){var l=x!==null&&x.apply(this,arguments)||this;return l.Ji=null,l.ST=null,l.Hq=new d.ZL,l.Eo=null,l.jw=null,l}return $e(h,x),h.yP=function(l){var s=new h;if(s.dg=l.dg,s.Ho=l.Ho,s.ZH=l.ZH,s.wh=l.wh,s.wh!==""&&s.wh!==null){l=h.kM(s.wh);var a=h.iM(s.wh);s.Hq.Xx(l,a,d.hu.Integer64),s.by(l),s.gy(a),s.dg=l.$r()}else l=h.jM(s.dg),s.by(l),s.gy(null),s.Hq.Xx(l,null,d.hu.Integer64);return s},h.prototype.Xd=function(l){return this.Hq.Kn(l)},h.iM=function(l){if(0>=l.length)throw d.i.N();var s=null;try{s=d.NC.fromString(l)}catch{s=null}return s==null?null:h.bD(s,!0)},h.prototype.by=function(l){this.Kd=l,this.Eo=this.Kd.Hd()},h.prototype.gy=function(l){this.KH=l,this.ST=this.KH!=null?this.KH.Eo:null},h.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},h.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},h.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},h.prototype.pm=function(){return this.Kd.pm()},h.prototype.bf=function(){return this.Kd.bf()},h.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},h.prototype.Up=function(){return this.Kd.Up()},h.prototype.Wr=function(){return this.Kd.Wr()},h.prototype.kk=function(){return this.Kd.kk()},h.prototype.kS=function(l){return d.OC.Py(this.Kd,l.Kd)},h.prototype.ml=function(){return this.Kd.ml()},h.prototype.Vr=function(){return this.Kd.Vr()},h.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},h.prototype.gh=function(){if(!this.Wc())throw d.i.N("!isPannable()");var l=new d.l;return this.Kd.gh(l),l},h.prototype.Oe=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.so},h.prototype.HR=function(){if(!this.Wc())throw d.i.N("!isPannable()");var l=new d.l;return this.Kd.GR(l),l},h.prototype.pv=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.pv()},h.prototype.ov=function(){if(!this.Wc())throw d.i.N("!isPannable()");return this.Kd.ov()},h.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},h.prototype.PQ=function(){return this.Kd.hv()},h.prototype.Qp=function(){return this.Eo.getUnitFactor()},h.prototype.vz=function(l){return this.Hq.vz(l)},h.prototype.sc=function(){var l=this.Sb();if(l==1)return this;if(l==3)return this.Ji.fk().sc();if(l==0||l===4)throw d.i.fa("invalid call");if(this.jw!==null)return this.jw;if((l=this.eh().getGeogcs())==null)throw d.i.Qa();return this.jw=h.bF(l,this.Hq.VF())},h.bF=function(l,s){if(l==null)throw d.i.N("null pointer.");var a=new h;return l=h.mu(l,!0),a.Hq.Xx(l,null,s),a.by(l),a.gy(null),a.dg=l.$r(),a},h.prototype.Sb=function(){var l=this.eh();if(l!=null)switch(l.getType()){case d.Sc.PE_TYPE_GEOGCS:return 1;case d.Sc.PE_TYPE_PROJCS:return 2}return 4},h.prototype.hv=function(){return this.Kd.hv()},h.mu=function(l,s){var a=l.getCode();if(0>=a&&0<(a=d.pf.getCode(l))){if((l=d.pf.coordsys(a))==null)throw d.i.N("Text to wkid mapping had failed: "+a);return h.mu(l,s)}if(s&&0<a&&(s=h.qx[a]))return s;s=d.zb.xv(l,a,!1);var c=h.lK[s];return c||(l=0>=a?l:d.pf.coordsys(a),l=new d.OC(l),h.lK[s]=l,0<a&&(h.qx[a]=l),l)},h.jM=function(l){if(0>=l)throw d.i.N("Invalid or unsupported wkid: "+l);var s=h.qx[l];if(s!=null)return s;if((s=d.pf.coordsys(l))==null)throw d.i.N("Invalid or unsupported wkid: "+l);return(s=h.mu(s,!1)).$r()!=l&&(h.qx[l]=s),s},h.kM=function(l){if(l==null||l===void 0||l.length==0)throw d.i.N("Cannot create SpatialReference from null or empty text.");var s=null;try{s=d.pf.fromString(d.Sc.PE_TYPE_COORDSYS,l)}catch(a){throw d.i.N("Cannot create SpatialReference from text. "+a.message)}if(s===null)throw d.i.N("Cannot create SpatialReference from text. ");return h.mu(s,!0)},h.bD=function(l,s){var a,c=l.getCode();if(0>=c&&0<(c=d.pf.getCode(l))){if((c=d.pf.vertcs(c))===null)throw d.i.N();return h.bD(c,s)}if(s&&0<c&&(s=h.kK[c])||(l=d.zb.xv(l,c,!1),s=h.mK[l]))return s;if(0>=c||(a=d.pf.vertcs(c)),a===null)throw d.i.N();return a=new d.PL(a),h.mK[l]=a,0<c&&(h.kK[c]=a),a},h.sI=function(l,s){if(s===null||s.B())return null;var a=new d.l;if(s!==null&&l.Sb()!=1){var c=l.sc(),p=c.eh();l=d.vr.Nr(l,c,null,null),(s=d.Hx.local().V(s,l,null)).A(a)}else p=l.eh(),s.A(a);return s=p.getPrimem().getLongitude(),p=p.getUnit().getUnitFactor(),new d.LC(a.v,a.G,a.C,a.H,s,p)},h.lD=function(l){var s={name:"",steps:[],_pt:null,_entry:null},a=0;for(l=l.getEntries();a<l.length;a++){var c=l[a],p={LY:!1,ZY:"",YY:-1,geogtran:null};c.getDirection()===0?p.isInverse=!1:p.isInverse=!0;var y=c.getGeogtran().getCode();-1<y?p.wkid=y:p.wkt=c.getGeogtran().toString(),s.steps.push(p)}return s},h.XR=function(l,s,a,c){return a===void 0&&(a=null),a=h.sI(c,a),l=d.lp.getGTlist(l.eh(),s.eh(),2,d.lp.PE_GTLIST_OPTS_COMMON,a,1),s=null,l&&0<l.length&&(s=this.lD(l[0]),d.Mx.destroy(l)),a!==null&&a.destroy(),s},h.YR=function(l,s,a,c){var p;if(a===void 0&&(a=null),c===void 0&&(c=null),p===void 0&&(p=30),a=h.sI(c,a),l=d.lp.getGTlist(l.eh(),s.eh(),2,d.lp.PE_GTLIST_OPTS_COMMON,a,p),s=[],l&&0<l.length){for(p=0;p<l.length;p++)s.push(this.lD(l[p]));d.Mx.destroy(l)}return a!==null&&a.destroy(),s},h.qx={},h.lK={},h.kK={},h.mK={},h}(d.Eg);d.gu=j}(ee||(ee={})),function(d){var j,x;(x=j=d.hu||(d.hu={}))[x.Integer32=0]="Integer32",x[x.Integer64=1]="Integer64",x[x.FloatingPoint=2]="FloatingPoint";var h=function(){function l(){this.qp()}return l.prototype.assign=function(s){this.Fm=s.Fm,this.Gm=s.Gm,this.Pj=s.Pj,this.sA=s.sA,this.Fo=s.Fo,this.rA=s.rA,this.Ik=s.Ik,this.Mq=s.Mq,this.Lq=s.Lq,this.Rm=s.Rm},l.prototype.VF=function(){return this.Rm},l.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=j.FloatingPoint},l.prototype.Xx=function(s,a,c){if(this.qp(),this.Rm=c,c!=j.FloatingPoint){var p=new d.l;s.hR(p),this.Fm=p.v,this.Gm=p.G}else this.Gm=this.Fm=-17976931348623157e292;(p=s.Ue.getType())==d.Sc.PE_TYPE_GEOGCS?(p=(c==j.Integer64?1e-9:1/18e5)*s.bf(),this.Pj=1/p):p==d.Sc.PE_TYPE_PROJCS&&(p=(c==j.Integer64?1e-4:.001)*s.pm(),this.Pj=1/p),a!=null?(p=(c==j.Integer32?.001:1e-4)*a.IH,this.Fo=1/p):this.Fo=1e4,this.YM(),this.Ik=s.sw,this.Mq=a!=null?.001*a.IH:.001,this.Lq=2220446049250313e-29},l.prototype.YM=function(){if(this.Rm!=j.FloatingPoint){var s=this.Rm==j.Integer64?d.Eg.$N:d.Eg.ZN,a=s/this.Pj,c=this.Fm+a,p=d.O.truncate((c-this.Fm)*this.Pj);p>s&&(this.Pj=s/(c-this.Fm)),a=this.Gm+a,(p=d.O.truncate((a-this.Gm)*this.Pj))>s&&(this.Pj=s/(a-this.Gm))}},l.prototype.aC=function(s){switch(s){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},l.prototype.Kn=function(s){switch(s){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},l.prototype.vz=function(s){if(this.Rm==j.FloatingPoint)return 0;switch(s){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},l.prototype.toString=function(){var s="SRPD [m_toleranceXY: "+this.Ik.toString();return(s=(s=(s=(s=(s=(s=(s=(s=(s=s+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},l}();d.ZL=h}(ee||(ee={})),function(d){function j(c,p){return 89.99999<p?p=89.99999:-89.99999>p&&(p=-89.99999),p*=.017453292519943,[111319.49079327169*c,31890685e-1*Math.log((1+Math.sin(p))/(1-Math.sin(p)))]}function x(c,p,y){return c=c/6378137*57.29577951308232,y?[c,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*p/6378137)))]:[c-360*Math.floor((c+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*p/6378137)))]}function h(c,p,y){var g=c.Of();if(c.getType()===33)p=p(g.Lg(),g.ih()),g.Cb(p[0],p[1]);else if(c.getType()===197){var w=p(c.es(),c.gs(),y);p=p(c.ds(),c.fs(),y),g.K(w[0],w[1],p[0],p[1])}else for(w=new d.h,c=0;c<g.I();c++){g.D(c,w);var S=p(w.x,w.y,y);w.ma(S[0],S[1]),g.Cb(c,w)}return g}function l(c){return h(c,x,!0)}function s(c){return h(c,j,!0)}var a=Math.PI/180;d.UK=function(){function c(){}return c.vu=function(p){var y=Math.sqrt(.006694379990197414),g=Math.sin(p.y*a);return d.h.construct(6378137*p.x*a,3.1677196636462314e6*(g/(1-.006694379990197414*g*g)-1/(2*y)*Math.log((1-y*g)/(1+y*g))))},c.Vx=function(p,y,g,w){var S=.0033528106647474805,k=Math.sin(g);g=Math.cos(g);var E=(1-S)*Math.tan(p),P=E*(p=1/Math.sqrt(1+E*E)),R=Math.atan2(E,g),D=(E=p*k)*E,U=1-D,Y=27233160610754688e-5*U/4040829998466145e-2,K=1+Y/16384*(4096+Y*(Y*(320-175*Y)-768)),V=Y/1024*(256+Y*(Y*(74-47*Y)-128));Y=w/(635675231424518e-8*K);for(var Q,ae,oe,me=2*Math.PI;1e-12<Math.abs(Y-me);)oe=Math.cos(2*R+Y),me=Y,Y=w/(635675231424518e-8*K)+V*(Q=Math.sin(Y))*(oe+V/4*((ae=Math.cos(Y))*(2*oe*oe-1)-V/6*oe*(4*Q*Q-3)*(4*oe*oe-3)));return w=P*Q-p*ae*g,U=S/16*U*(4+S*(4-3*U)),d.h.construct((y+(Math.atan2(Q*k,p*ae-P*Q*g)-(1-U)*S*E*(Y+U*Q*(oe+U*ae*(2*oe*oe-1)))))/a,Math.atan2(P*ae+p*Q*g,(1-S)*Math.sqrt(D+w*w))/a)},c.MM=function(p,y,g,w){var S=.0033528106647474805,k=w-y,E=Math.atan((1-S)*Math.tan(p)),P=Math.atan((1-S)*Math.tan(g)),R=Math.sin(E);E=Math.cos(E);var D=Math.sin(P);P=Math.cos(P);var U=k,Y=1e3;do{var K=Math.sin(U),V=Math.cos(U),Q=Math.sqrt(P*K*P*K+(E*D-R*P*V)*(E*D-R*P*V));if(Q===0)return 0;V=R*D+E*P*V;var ae=Math.atan2(Q,V),oe=E*P*K/Q,me=1-oe*oe;K=V-2*R*D/me,isNaN(K)&&(K=0);var de=S/16*me*(4+S*(4-3*me)),Me=U;U=k+(1-de)*S*oe*(ae+de*Q*(K+de*V*(2*K*K-1)))}while(1e-12<Math.abs(U-Me)&&0<--Y);return Y===0?(R=w-y,{azimuth:Math.atan2(Math.sin(R)*Math.cos(g),Math.cos(p)*Math.sin(g)-Math.sin(p)*Math.cos(g)*Math.cos(R)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(p)*Math.sin(g)+Math.cos(p)*Math.cos(g)*Math.cos(w-y))}):(y=(p=27233160610754688e-5*me/4040829998466145e-2)/1024*(256+p*(p*(74-47*p)-128)),{azimuth:Math.atan2(P*Math.sin(U),E*D-R*P*Math.cos(U)),YQ:635675231424518e-8*(1+p/16384*(4096+p*(p*(320-175*p)-768)))*(ae-y*Q*(K+y/4*(V*(2*K*K-1)-y/6*K*(4*Q*Q-3)*(4*K*K-3)))),XY:Math.atan2(E*Math.sin(U),E*D*Math.cos(U)-R*P)})},c.jQ=function(p){var y=p.hasAttribute(1),g=p.hasAttribute(2),w=[],S=p.da(),k=null,E=null;y&&(k=p.ub(1)),g&&(E=p.ub(2));for(var P=new d.h,R=0;R<S;R++){for(var D=p.Ba(R),U=p.Ja(R),Y=0,K=0,V=NaN,Q=NaN,ae=NaN,oe=NaN,me=p.dc(R),de=[],Me=D;Me<D+U;Me++){p.D(Me,P),oe=ae=NaN;var _e=[P.x,P.y];y&&(ae=k.get(Me),_e.push(ae)),g&&(S=E.get(Me),_e.push(oe)),Me==D&&me&&(Y=P.x,K=P.y,V=ae,Q=oe),de.push(_e)}!me||Y==P.x&&K==P.y&&(!y||isNaN(V)&&isNaN(ae)||V==ae)&&(!g||isNaN(Q)&&isNaN(oe)||Q==oe)||de.push(de[0].slice(0)),w.push(de)}return w},c.Wy=function(p,y){p=c.jQ(p),637.100877141506>y&&(y=637.100877141506);for(var g,w=[],S=0;S<p.length;S++){var k,E,P=p[S];w.push(g=[]),g.push([P[0][0],P[0][1]]);var R=P[0][0]*a,D=P[0][1]*a;for(k=0;k<P.length-1;k++){var U=P[k+1][0]*a,Y=P[k+1][1]*a;if(R!==U||D!==Y){U=(Y=c.MM(D,R,Y,U)).azimuth;var K=(Y=Y.YQ)/y;if(1<K){for(E=1;E<=K-1;E++){var V=c.Vx(D,R,U,E*y);g.push([V.x,V.y])}E=c.Vx(D,R,U,(Y+Math.floor(K-1)*y)/2),g.push([E.x,E.y])}D=c.Vx(D,R,U,Y),g.push([D.x,D.y]),R=D.x*a,D=D.y*a}}}return{qJ:w}},c.XQ=function(p){for(var y=[],g=0;g<p.length;g++){var w=p[g];w=c.Wy(w,1e4),y.push(w)}p=[];for(var S=0;S<y.length;S++){w=y[S];var k=0;for(g=0;g<w.qJ.length;g++){var E,P=w.qJ[g],R=c.vu(d.h.construct(P[0][0],P[0][1])),D=c.vu(d.h.construct(P[P.length-1][0],P[P.length-1][1])),U=D.x*R.y-R.x*D.y;for(E=0;E<P.length-1;E++)R=c.vu(d.h.construct(P[E+1][0],P[E+1][1])),U+=(D=c.vu(d.h.construct(P[E][0],P[E][1]))).x*R.y-R.x*D.y;k+=U}k/=1,p.push(k/-2)}return p},c}(),d.cb=function(){function c(){}return c.xB=function(p,y,g,w,S,k,E){c.gD[p.cc()]=y,isNaN(g)==0&&(c.mD[p.cc()]=g),isNaN(w)==0&&(c.zD[p.cc()]=w),isNaN(S)==0&&(c.aD[p.cc()]=S),c.nD[p.cc()]=k,E!==null&&(c.oD[p.cc()]=E)},c.Ww=function(p,y,g){c.sD[p.cc()+"-"+y.cc()]=g},c.sc=function(p){if((p=c.gD[p.cc()])==null)throw d.i.Ie();return p},c.bf=function(p){if((p=c.mD[p.cc()])==null)throw d.i.Ie();return p},c.vv=function(p){if((p=c.zD[p.cc()])==null)throw d.i.Ie();return p},c.ev=function(p){if((p=c.aD[p.cc()])==null)throw d.i.Ie();return p},c.gh=function(p){if((p=c.oD[p.cc()])==null)throw d.i.Ie();return d.l.construct(p[0],p[1],p[2],p[3])},c.Wc=function(p){if((p=c.nD[p.cc()])==null)throw d.i.Ie();return p},c.zh=function(p,y,g){if(y.Nb(g))return p;var w=c.sD[y.cc()+"-"+g.cc()];if(w!==void 0)return w(p,y,g);throw d.i.Ie()},c.vt=function(){throw d.i.Ie()},c.bR=function(){throw d.i.Ie()},c.dW=function(){throw d.i.Ie()},c.ml=function(){throw d.i.Ie()},c.sW=function(){var p=d.Eg.create(102100),y=d.Eg.create(3857),g=d.Eg.create(4326);d.cb.xB(p,g,NaN,NaN,NaN,!1,null),d.cb.xB(g,g,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),d.cb.xB(y,g,NaN,NaN,NaN,!1,null),d.cb.Ww(p,g,l),d.cb.Ww(g,p,s),d.cb.Ww(y,g,l),d.cb.Ww(g,y,s)},c.gD=[],c.mD=[],c.zD=[],c.aD=[],c.nD=[],c.oD=[],c.sD=[],c}()}(ee||(ee={})),ee.cb.sW(),function(d){var j=function(){function x(h){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=h}return x.prototype.jd=function(h){h<this.Bl?(this.o[h*this.stride]=this.io,this.io=h):this.Bl--,this.size--},x.prototype.T=function(h,l){return this.o[h*this.stride+l]},x.prototype.S=function(h,l,s){this.o[h*this.stride+l]=s},x.prototype.Ce=function(){var h=this.io;if(h==-1){if(this.Bl==this.Hg){if(2147483647<(h=this.Hg!=0?d.O.truncate(3*(this.Hg+1)/2):1)&&(h=2147483647),h==this.Hg)throw d.i.ce();this.Dz(h)}h=this.Bl,this.Bl++}else this.io=this.o[h*this.stride];this.size++;for(var l=h*this.stride;l<h*this.stride+this.stride;l++)this.o[l]=-1;return h},x.prototype.Ll=function(h){var l=this.io;if(l==-1){if(this.Bl==this.Hg){if(2147483647<(l=this.Hg!=0?d.O.truncate(3*(this.Hg+1)/2):1)&&(l=2147483647),l==this.Hg)throw d.i.ce();this.Dz(l)}l=this.Bl,this.Bl++}else this.io=this.o[l*this.stride];this.size++;for(var s=l*this.stride,a=0;a<h.length;a++)this.o[s+a]=h[a];return l},x.prototype.mj=function(h){this.io=-1,this.size=this.Bl=0,h&&(this.o=null,this.Hg=0)},x.prototype.De=function(h){h>this.Hg&&this.Dz(h)},x.prototype.tx=function(h,l){h*=this.stride,l*=this.stride;for(var s=0;s<this.stride;s++){var a=this.o[l+s];this.o[l+s]=this.o[h+s],this.o[h+s]=a}},x.prototype.gC=function(h,l,s){var a=this.o[this.stride*l+s];this.o[this.stride*l+s]=this.o[this.stride*h+s],this.o[this.stride*h+s]=a},x.LG=function(h){return 0<=h},x.prototype.Dz=function(h){this.o==null&&(this.o=new Int32Array(0));var l=new Int32Array(this.stride*h);l.set(this.o,0),this.o=l,this.Hg=h},x}();d.$c=j}(ee||(ee={})),function(d){var j,x;(x=j||(j={}))[x.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",x[x.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",x[x.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",x[x.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var h=function(){function s(a){this.Be=a,this.yh=NaN,this.eH=new d.ig,this.fH=new d.ig,this.ms=new d.Nc,this.ns=new d.Nc}return s.prototype.compare=function(a,c,p){if(a=a.ja(p),this.Be.pB(c,this.eH),this.Be.pB(a,this.fH),c=this.eH.get(),a=this.fH.get(),this.ms.K(c.sa,c.pa),this.ns.K(a.sa,a.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;p=c.na==c.la;var y=a.na==a.la;if(p||y){if(p&&y)return 0;if(c.na==a.na&&c.sa==a.sa)return p?1:-1;if(c.la==a.la&&c.pa==a.pa)return p?-1:1}return(p=c.Pe(this.yh,this.ms.oa))==(y=a.Pe(this.yh,this.ns.oa))&&((y=.5*((p=Math.min(c.la,a.la))+this.yh))==this.yh&&(y=p),p=c.Pe(y,this.ms.oa),y=a.Pe(y,this.ns.oa)),p<y?-1:p>y?1:0},s.prototype.aK=function(a){this.yh=a},s}(),l=function(){function s(a){this.ib=a,this.WH=new d.ig,this.Bf=new d.h,this.wA=new d.Nc}return s.prototype.kX=function(a){this.Bf.L(a)},s.prototype.compare=function(a,c){return this.ib.pB(a.ja(c),this.WH),a=this.WH.get(),this.wA.K(a.sa,a.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(a=a.Pe(this.Bf.y,this.Bf.x),this.Bf.x<a?-1:this.Bf.x>a?1:0)},s}();j=function(){function s(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new d.Md,this.bO=2147483647,this.aO=d.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return s.prototype.yy=function(a){this.lA=a},s.prototype.Ym=function(){this.ge==null&&(this.ge=new d.$c(8));var a=this.ge.Ce();return this.ge.S(a,1,0),a},s.prototype.vU=function(){this.Kc==null&&(this.Kc=new d.$c(8));var a=this.Kc.Ce();this.Kc.S(a,2,0),this.Kc.S(a,3,0);var c=this.Kc.Ce();return this.Kc.S(c,2,0),this.Kc.S(c,3,0),this.JJ(a,c),this.JJ(c,a),a},s.prototype.mI=function(){this.ye==null&&(this.ye=new d.$c(8));var a=this.ye.Ce();return this.ye.S(a,2,0),a},s.prototype.TW=function(a,c){this.ge.S(a,7,c)},s.prototype.mn=function(a,c){this.ge.S(a,2,c)},s.prototype.SW=function(a,c){this.ge.S(a,1,c)},s.prototype.lX=function(a,c){this.ge.S(a,3,c)},s.prototype.iX=function(a,c){this.ge.S(a,4,c)},s.prototype.cr=function(a,c){this.ge.S(a,5,c)},s.prototype.eR=function(a){return this.ge.T(a,5)},s.prototype.RW=function(a,c){this.ge.S(a,6,c)},s.prototype.cN=function(a,c){this.RW(c,a)},s.prototype.IJ=function(a,c){this.Kc.S(a,1,c)},s.prototype.JJ=function(a,c){this.Kc.S(a,4,c)},s.prototype.Tl=function(a,c){this.Kc.S(a,5,c)},s.prototype.Sl=function(a,c){this.Kc.S(a,6,c)},s.prototype.$W=function(a,c){this.Kc.S(a,2,c)},s.prototype.$w=function(a,c){this.Kc.S(a,3,c)},s.prototype.LF=function(a){return this.Kc.T(a,3)},s.prototype.Gt=function(a,c){this.Kc.S(a,7,c)},s.prototype.EK=function(a,c){if(this.mm(a)!=-1)for(c=c?-1:a,a=this.mm(a);a!=-1;a=this.js(a))this.g.Ra(this.tj(a),this.Cq,c)},s.prototype.yx=function(a,c){a!=-1&&(this.EK(a,c),this.EK(this.xa(a),c))},s.prototype.Dt=function(a,c){this.ye.S(a,1,c)},s.prototype.Vg=function(a,c){this.ye.S(a,2,c)},s.prototype.jn=function(a,c){this.ye.S(a,3,c),this.NW(a,this.dR(c)),this.MW(c,a)},s.prototype.MW=function(a,c){this.ye.S(a,4,c)},s.prototype.NW=function(a,c){this.ye.S(a,5,c)},s.prototype.DJ=function(a,c){this.ye.S(a,6,c)},s.prototype.BJ=function(a,c){this.ye.S(a,7,c)},s.prototype.AJ=function(a,c){this.Yn.write(a,c)},s.prototype.CJ=function(a,c){this.kA.write(a,c)},s.prototype.kY=function(a){var c=0,p=0,y=this.AF(a),g=new d.h,w=new d.h,S=new d.h;this.Yr(y,g),w.L(g);var k=y;do this.lm(k,S),p+=d.h.tb(w,S),this.$e(this.xa(k))!=a&&(c+=(S.x-g.x-(w.x-g.x))*(S.y-g.y+(w.y-g.y))*.5),w.L(S),k=this.jc(k);while(k!=y);this.Yn.write(a,c),this.kA.write(a,p)},s.prototype.PU=function(a,c){var p=new h(this),y=new d.Yj;y.De(d.O.truncate(this.wa/2)),y.Vo(p);for(var g=new d.ia(0),w=this.$g(),S=null,k=0,E=new d.h,P=this.Re;P!=-1;P=this.Rf(P)){if(!(255&++k||c==null||c.progress(-1,-1)))throw d.i.WC();var R=this.Me(P);if(R!=-1){if(g.Bh(0),!this.gY(y,w,g,R)){this.D(P,E),p.aK(E.y);var D=R;do{var U=this.Ab(D,w);U!=-1&&(y.vd(U,-1),this.Kb(D,w,-2)),D=this.jc(this.xa(D))}while(R!=D);D=R;do(U=this.Ab(D,w))==-1&&(U=y.addElement(D,-1),g.add(U)),D=this.jc(this.xa(D));while(R!=D)}for(R=g.size-1;0<=R;R--)U=g.get(R),D=y.ja(U),this.Kb(this.xa(D),w,U),this.OU(y,U,a)}else this.cz(P)==-1&&(S==null&&(S=new l(this)),this.D(P,E),S.kX(E),D=y.IW(S),R=this.Hl,D!=-1&&(U=y.ja(D),this.$e(U)==this.$e(this.xa(U))&&(U=this.OF(y,D)),U!=-1&&(R=this.$e(U))),this.cN(R,P))}this.Jg(w)},s.prototype.OU=function(a,c,p){var y=a.ja(c),g=this.$e(y);if(this.Gn(g)==-1){var w=this.OF(a,c),S=this.xa(y),k=this.$e(S);this.Kp(g),this.Kp(k);var E=this.Gn(g),P=this.Gn(k);if(w==-1&&E==-1&&(k==g?(this.jn(k,this.Hl),E=P=this.Hl):(P==-1&&(this.jn(k,this.Hl),P=this.Hl),this.jn(g,k),E=k)),w!=-1){var R=this.$e(w);P==-1&&(0>=this.Kp(R)?(P=this.Gn(R),this.jn(k,P)):(this.jn(k,R),P=R),k==g&&(E=P))}E==-1&&this.hY(g,k),p==0?this.jW(a,c,y,w,g,k):p==5?this.kW(a,c,y,S,g,k):p==4&&this.iW(y,w,g,k)}},s.prototype.jW=function(a,c,p,y,g,w){var S=this.hk(g);if(y!=-1){var k=this.hk(w),E=this.hk(this.$e(y));y=S&k&E,E^=E&this.dh(p),(E|=y)!=0&&(this.Vg(w,k|E),this.Vg(g,E|S),S=S||E)}for(c=a.lb(c);c!=-1&&(y=a.ja(c),p=this.$e(this.xa(y)),g=this.hk(p),w=this.dh(y),k=this.$e(y),y=g&(E=this.hk(k))&S,S^=S&w,(S|=y)!=0);c=a.lb(c))this.Vg(p,g|S),this.Vg(k,E|S)},s.prototype.kW=function(a,c,p,y,g,w){if(g!=w){p=this.Ab(p,this.cg),p+=this.Ab(y,this.cg),y=0;var S=new d.ia(0),k=new d.ia(0);k.add(0);for(var E=a.rc(-1);E!=c;E=a.lb(E)){var P=a.ja(E),R=this.xa(P),D=this.$e(P),U=this.$e(R);if(D!=U){if(P=this.Ab(P,this.cg),y+=P+=this.Ab(R,this.cg),R=!1,S.size!=0&&S.Fc()==U&&(k.If(),S.If(),R=!0),this.Gn(U)==-1)throw d.i.Qa();R&&this.Gn(U)==D||(k.add(y),S.add(D))}}y+=p,S.size!=0&&S.Fc()==w&&(k.If(),S.If()),y!=0?k.Fc()==0&&(a=this.g.ld,a=this.La(a),this.Vg(g,a)):k.Fc()!=0&&(a=this.g.ld,a=this.La(a),this.Vg(g,a))}},s.prototype.iW=function(a,c,p,y){var g=this.La(this.g.ld);if(c==-1)this.Vg(y,this.Go),1&(a=this.Ab(a,this.xg))?this.Vg(p,g):this.Vg(p,this.Go);else{var w=this.hk(y);w==0?(w=this.hk(this.$e(c)),this.Vg(y,w),1&(a=this.Ab(a,this.xg))?this.Vg(p,w==g?this.Go:g):this.Vg(p,w)):1&(a=this.Ab(a,this.xg))?this.Vg(p,w==g?this.Go:g):this.Vg(p,w)}},s.prototype.gY=function(a,c,p,y){var g=y,w=-1,S=-1,k=0;do{if(k==2)return!1;var E=this.Ab(g,c);if(E!=-1){if(w!=-1)return!1;w=E}else{if(S!=-1)return!1;S=g}k++,g=this.jc(this.xa(g))}while(y!=g);return S!=-1&&w!=-1&&(this.Kb(a.ja(w),c,-2),a.Sj(w,S),p.add(w),!0)},s.prototype.hY=function(a,c){var p=this.Kp(a);if(p!=0){var y=this.Kp(c);0<p&&0>y||0>p&&0<y?this.jn(a,c):(c=this.Gn(c))!=-1&&this.jn(a,c)}},s.prototype.vP=function(a,c){this.Cq=this.g.Gd();for(var p=0,y=c.size;p<y;p++){var g=c.get(p),w=this.g.Pa(g,this.Cm),S=this.g.Qf(this.g.bd(g)),k=this.g.ic(S);if(d.aa.Hc(k)){var E=this.g.U(g);if(E!=-1){var P=this.g.Pa(E,this.Cm);if(w!=P){var R=this.vU(),D=this.xa(R),U=this.jh.Ce();this.jh.S(U,0,g),this.jh.S(U,1,-1),this.Gt(R,U),this.IJ(R,w),(U=this.Me(w))==-1?(this.mn(w,R),this.Tl(R,D),this.Sl(D,R)):(w=this.te(U),this.Tl(U,D),this.Sl(D,U),this.Sl(w,R),this.Tl(R,w)),this.IJ(D,P),(w=this.Me(P))==-1?(this.mn(P,D),this.Sl(R,D),this.Tl(D,R)):(P=this.te(w),this.Tl(w,R),this.Sl(R,w),this.Sl(P,D),this.Tl(D,P)),S=this.La(S),a==0?(this.Kb(D,this.ae,0),this.Kb(R,this.ae,k==1736?S:0)):a==5?(P=new d.h,this.g.D(g,P),g=new d.h,this.g.D(E,g),w=E=0,0>P.compare(g)?E=1:w=-1,this.Kb(D,this.ae,0),this.Kb(R,this.ae,0),this.Kb(R,this.cg,E),this.Kb(D,this.cg,w)):a==7?(this.Kb(D,this.ae,this.Go),this.Kb(R,this.ae,k==1736?S:0)):a==4&&(this.Kb(D,this.ae,0),this.Kb(R,this.ae,0),this.Kb(R,this.xg,1),this.Kb(D,this.xg,1)),k=k==1736?this.aO:0,this.$w(R,S|k),this.$w(D,S|k)}}}}},s.prototype.VT=function(a,c){var p=this.mm(c);if(p!=-1){var y=this.mm(a);this.jh.S(p,1,y),this.Gt(a,p),this.Gt(c,-1)}a=this.xa(a),c=this.xa(c),(p=this.mm(c))!=-1&&(y=this.mm(a),this.jh.S(p,1,y),this.Gt(a,p),this.Gt(c,-1))},s.prototype.IX=function(a){function c(ae,oe){return y.HO(ae,oe)}var p=new d.ia(0);p.Jb(10);for(var y=this,g=this.Re;g!=-1;g=this.Rf(g)){p.clear(!1);var w=this.Me(g);if(w!=-1){var S=w;do p.add(S),S=this.jc(this.xa(S));while(S!=w);if(1<p.size){if(S=!0,2<p.size)p.Vd(0,p.size,c),p.add(p.get(0));else if(0<this.GO(p.get(0),p.get(1))){var k=p.get(0);p.set(0,p.get(1)),p.set(1,k)}else S=!1;for(var E=k=p.get(0),P=this.uf(E),R=this.xa(E),D=-1,U=1,Y=p.size;U<Y;U++){var K=p.get(U),V=this.xa(K),Q=this.jk(V);if(Q==P&&K!=E){if(a==0)D=this.LF(E)|this.LF(K),this.$w(E,D),this.$w(R,D),this.Kb(E,this.ae,this.Ab(E,this.ae)|this.Ab(K,this.ae)),this.Kb(R,this.ae,this.Ab(R,this.ae)|this.Ab(V,this.ae));else if(this.cg!=-1)D=this.Ab(E,this.cg)+this.Ab(K,this.cg),V=this.Ab(R,this.cg)+this.Ab(V,this.cg),this.Kb(E,this.cg,D),this.Kb(R,this.cg,V);else{if(a==7)return void(this.Ni=new d.Md(5,g,-1));this.xg!=-1&&(D=this.Ab(E,this.xg)+this.Ab(K,this.xg),V=this.Ab(R,this.xg)+this.Ab(V,this.xg),this.Kb(E,this.xg,D),this.Kb(R,this.xg,V))}this.VT(E,K),this.Ly(K),D=E,p.set(U,-1),K==k&&(p.set(0,-1),k=-1)}else this.yx(D,!1),D=-1,E=K,P=Q,R=V}if(this.yx(D,!1),D=-1,S){for(k=-1,U=0,Y=p.size;U<Y;U++)if((K=p.get(U))!=-1){if(k==-1)E=k=K,P=this.uf(E),R=this.xa(E);else if(K!=E&&(V=this.xa(K),Q=this.jk(V),this.Sl(R,K),this.Tl(K,R),E=K,P=Q,R=V,a==7&&(this.Ab(K,this.ae)|this.Ab(this.te(K),this.ae))==(1|this.Go)))return void(this.Ni=new d.Md(5,g,-1))}this.mn(g,k)}else{for(k=-1,U=0,Y=p.size;U<Y;U++)if((K=p.get(U))!=-1){k=K;break}w!=k&&this.mn(g,k)}}}}},s.prototype.WN=function(){for(var a=-1,c=this.$g(),p=this.Re;p!=-1;p=this.Rf(p)){var y=this.Me(p);if(y!=-1){var g=y;do{if(this.Ab(g,c)!=1){var w=this.mI();this.Dt(w,g),this.BJ(w,a),a!=-1&&this.DJ(a,w),a=w;var S=0,k=g;do S|=this.Ab(k,this.ae),this.$W(k,w),this.Kb(k,c,1),k=this.jc(k);while(k!=g);this.Vg(w,S)}g=this.jc(this.xa(g))}while(g!=y)}}w=this.mI(),this.Dt(w,-1),this.BJ(w,a),a!=-1&&this.DJ(a,w),this.Hl=w,this.Yn=d.be.qf(this.ye.size,NaN),this.kA=d.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(c)},s.prototype.sR=function(a,c,p){if((c=c!=-1?c:this.Me(a))==-1)return-1;for(a=c;;){if(this.Ab(c,p)!=1)return c;if((c=this.jc(this.xa(c)))==a)return-1}},s.prototype.yW=function(){for(var a=this.$g(),c=this.Re;c!=-1;c=this.Rf(c))for(var p=-1;;){var y=this.sR(c,p,a);if(y==-1)break;p=this.jc(this.xa(y));for(var g=y;;){var w=this.jc(g),S=this.te(g),k=this.xa(g);if(S==k){if(this.IP(g),p!=g&&p!=k||(p=-1),g==y||S==y){if(g==(y=w)||S==y)break;g=w;continue}}else this.Kb(g,a,1);if((g=w)==y)break}}this.Jg(a)},s.prototype.MB=function(a,c,p,y,g){this.Ug(),this.gH=g,this.g=a,this.Bq=this.g.aF(),(a=new d.ia(0)).Jb(p!=null?this.g.I(p.get(0)):this.g.fd);var w=0,S=1,k=p!=null?p.get(0):this.g.ld;for(g=1;k!=-1;){this.g.HJ(k,this.Bq,S),S<<=1;for(var E=this.g.Ob(k);E!=-1;E=this.g.Rb(E))for(var P=this.g.Xa(E),R=0,D=this.g.Ja(E);R<D;R++)a.add(P),P=this.g.U(P);d.aa.Rn(this.g.ic(k))||(w+=this.g.da(k)),p!=null?(k=g<p.size?p.get(g):-1,g++):k=this.g.ue(k)}for(this.Go=S,this.wa=a.size,this.g.nx(a,this.wa),this.jh==null&&(this.jh=new d.$c(2),this.ge=new d.$c(8),this.Kc=new d.$c(8),this.ye=new d.$c(8)),this.jh.De(this.wa),d.mp.zp(y),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,w)),this.Cm=this.g.Gd(),p=new d.h,g=0,w=new d.h,p.Rc(),S=0;S<=this.wa;S++)if(S<this.wa?(P=a.get(S),this.g.D(P,w)):w.Rc(),!p.qb(w)){if(g<S){for(P=this.Ym(),D=R=-1;g<S;g++)D=a.get(g),this.g.Ra(D,this.Cm,P),k=this.jh.Ce(),this.jh.S(k,0,D),this.jh.S(k,1,R),R=k,E=this.g.bd(D),k=this.g.Qf(E),k=this.La(k),this.SW(P,this.xd(P)|k);this.TW(P,R),this.cr(P,this.g.Ua(D)),this.Os!=-1&&this.iX(this.Os,P),this.lX(P,this.Os),this.Os=P,this.Re==-1&&(this.Re=P)}g=S,p.L(w)}d.mp.zp(y),this.ae=this.$g(),c==5&&(this.cg=this.$g()),c==4&&(this.xg=this.$g()),this.vP(c,a),this.Ni.Jj==0&&(this.IX(c),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(c,y))):this.pA=!0))},s.prototype.Ly=function(a){var c=this.jc(a),p=this.te(a),y=this.xa(a),g=this.jc(y),w=this.te(y);c!=y&&(this.Sl(w,c),this.Tl(c,w)),p!=y&&(this.Sl(p,g),this.Tl(g,p)),p=this.jk(a),this.Me(p)==a&&(g!=a?this.mn(p,g):this.mn(p,-1)),g=this.jk(y),this.Me(g)==y&&(c!=y?this.mn(g,c):this.mn(g,-1)),this.Kc.jd(a),this.Kc.jd(y)},s.prototype.OF=function(a,c){for(;;){if((c=a.we(c))==-1)return-1;var p=a.ja(c);if(this.$e(p)!=this.$e(this.xa(p)))return p}},s.prototype.dr=function(a,c){var p;p===void 0&&(p=!0),this.MB(a,0,null,c,p)},s.prototype.vJ=function(a,c,p){var y=new d.ia(0);y.add(c),this.MB(a,4,y,p,a.ic(c)==1736)},s.prototype.wJ=function(a,c,p){var y=new d.ia(0);y.add(c),this.MB(a,5,y,p,!0)},s.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},s.prototype.Me=function(a){return this.ge.T(a,2)},s.prototype.D=function(a,c){this.g.dG(this.eR(a),c)},s.prototype.xd=function(a){return this.ge.T(a,1)},s.prototype.Rf=function(a){return this.ge.T(a,4)},s.prototype.cz=function(a){return this.ge.T(a,6)},s.prototype.km=function(a){return this.ge.T(a,7)},s.prototype.js=function(a){return this.jh.T(a,1)},s.prototype.tj=function(a){return this.jh.T(a,0)},s.prototype.ng=function(a,c){return(c=this.Di[c]).size<=a?-1:c.read(a)},s.prototype.nn=function(a,c,p){(c=this.Di[c]).size<=a&&c.resize(this.ge.size,-1),c.write(a,p)},s.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var a=d.ia.qf(this.ge.Hg,-1),c=0,p=this.Di.length;c<p;c++)if(this.Di[c]==null)return this.Di[c]=a,c;return this.Di.push(a),this.Di.length-1},s.prototype.Ep=function(a){this.Di[a]=null},s.prototype.jk=function(a){return this.Kc.T(a,1)},s.prototype.uf=function(a){return this.jk(this.xa(a))},s.prototype.xa=function(a){return this.Kc.T(a,4)},s.prototype.te=function(a){return this.Kc.T(a,5)},s.prototype.jc=function(a){return this.Kc.T(a,6)},s.prototype.$e=function(a){return this.Kc.T(a,2)},s.prototype.af=function(a){return this.hk(this.Kc.T(a,2))},s.prototype.mm=function(a){return this.Kc.T(a,7)},s.prototype.Yr=function(a,c){this.D(this.jk(a),c)},s.prototype.lm=function(a,c){this.D(this.uf(a),c)},s.prototype.dh=function(a){return this.Kc.T(a,3)&this.bO},s.prototype.Ab=function(a,c){return(c=this.Gi[c]).size<=a?-1:c.read(a)},s.prototype.Kb=function(a,c,p){(c=this.Gi[c]).size<=a&&c.resize(this.Kc.size,-1),c.write(a,p)},s.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var a=d.ia.qf(this.Kc.Hg,-1),c=0,p=this.Gi.length;c<p;c++)if(this.Gi[c]==null)return this.Gi[c]=a,c;return this.Gi.push(a),this.Gi.length-1},s.prototype.Jg=function(a){this.Gi[a]=null},s.prototype.IP=function(a){var c=this.$e(a),p=this.xa(a),y=this.jc(a);y==p&&(y=this.jc(y))==a&&(y=-1);var g=this.AF(c);g!==a&&g!=p||this.Dt(c,y),p=this.Yn.read(c),isNaN(p)||(this.AJ(c,NaN),this.CJ(c,NaN)),this.yx(a,!0),this.Ly(a)},s.prototype.JP=function(a){for(var c=0,p=a.size;c<p;c++){var y=a.get(c),g=this.$e(this.xa(y));this.Dt(this.$e(y),-1),this.Dt(g,-1),this.yx(y,!0),this.Ly(y)}},s.prototype.AF=function(a){return this.ye.T(a,1)},s.prototype.hk=function(a){return this.ye.T(a,2)},s.prototype.Gn=function(a){return this.ye.T(a,3)},s.prototype.dR=function(a){return this.ye.T(a,4)},s.prototype.Kp=function(a){var c=this.Yn.read(a);return isNaN(c)&&(this.kY(a),c=this.Yn.read(a)),c},s.prototype.La=function(a){return this.g.KF(a,this.Bq)},s.prototype.Le=function(a){return this.g.Pa(a,this.Cm)},s.prototype.uR=function(a){return this.g.Pa(a,this.Cq)},s.prototype.tR=function(a,c){var p=this.Me(a);if(p==-1)return-1;var y=p,g=-1,w=-1;do{if(this.uf(y)==c)return y;if(g==-1){if((g=this.Me(c))==-1)break;w=g}if(this.uf(w)==a)return this.xa(w);y=this.jc(this.xa(y)),w=this.jc(this.xa(w))}while(y!=p&&w!=g);return-1},s.prototype.pB=function(a,c){c.Or(),c=c.get();var p=new d.h;this.Yr(a,p),c.Dc(p),this.lm(a,p),c.Qc(p)},s.prototype.HO=function(a,c){if(a==c)return 0;var p=new d.h;this.lm(a,p);var y=new d.h;return this.lm(c,y),p.qb(y)?0:(c=new d.h,this.Yr(a,c),(a=new d.h).uc(p,c),(p=new d.h).uc(y,c),d.h.nu(a,p))},s.prototype.GO=function(a,c){if(a==c)return 0;var p=new d.h;this.lm(a,p);var y=new d.h;return this.lm(c,y),p.qb(y)?0:(c=new d.h,this.Yr(a,c),(a=new d.h).uc(p,c),(p=new d.h).uc(y,c),0<=p.y&&0<a.y?d.h.nu(a,p):0)},s.prototype.xO=function(){for(var a=d.lc.ox(this.lA),c=new d.h,p=new d.h,y=new d.h,g=new d.h,w=new d.h,S=this.Re;S!=-1;S=this.Rf(S)){var k=this.Me(S);if(k!=-1){var E=k;this.Yr(E,c),this.lm(E,p),w.uc(p,c);var P=w.Sk();do{var R=E;if((E=this.jc(this.xa(E)))!=R){this.lm(E,y),g.uc(y,c),R=g.Sk();var D=g.wi(w);if(D*D/(R*P)*Math.min(R,P)<=a)return!1;w.L(g),P=R,p.L(y)}}while(E!=k)}}return!0},s}(),d.iu=j}(ee||(ee={})),function(d){var j=function(){function x(){this.j=null,this.oH=new d.h,this.pH=new d.h,this.Gj=null,this.Mv=!1,this.tl=-1}return x.prototype.cf=function(h){return h<this.Gj.length&&this.Gj[h]},x.prototype.dl=function(h,l,s,a){var c=d.aa.tf(this.j.g.ic(s));if(d.aa.tf(this.j.g.ic(l))!=2||c!=1)throw d.i.Qa();this.FP(h,l,s,a)},x.prototype.dr=function(h,l){this.j==null&&(this.j=new d.iu),this.j.dr(h,l)},x.prototype.Ft=function(h,l,s){for(d.Tk.V(h,l,s,!0),l=h.ld;l!=-1;l=h.ue(l))h.ic(l)==1736&&d.rn.V(h,l,-1,this.Mv,s);this.dr(h,s)},x.prototype.ME=function(h,l,s,a,c){var p=this.j.g;if(p.ic(h)==1736)for(h=p.Ob(h);h!=-1;h=p.Rb(h)){var y=p.Xa(h);this.j.Le(y),this.j.Le(p.U(y));var g=this.j.uR(y);if(g!=-1){var w=this.j.Ab(g,s);if(w!=1&&w!=2)if(this.cf(this.j.af(g))){this.j.Kb(g,s,1),w=p.vf(l,-1);var S=g,k=this.j.Le(y),E=1;do{var P=this.sm(y,c);p.ij(w,P),a!=-1&&this.j.nn(k,a,1),this.j.Kb(S,s,1),S=this.j.jc(S);do var R=(P=E==1?p.U(y):p.Ma(y))!=-1?this.j.Le(P):-1;while(R==k);var D=this.j.jk(S);if(D!=R){do R=(P=E==1?p.Ma(y):p.U(y))!=-1?this.j.Le(P):-1;while(R==k);D!=R?(R=D,P=this.j.tj(this.j.km(R))):E=-E}k=R,y=P}while(S!=g);p.kn(w,!0)}else this.j.Kb(g,s,2)}}},x.prototype.eF=function(){for(var h=this.j.$g(),l=new d.ia(0),s=this.j.Re;s!=-1;s=this.j.Rf(s)){var a=this.j.Me(s),c=a;if(a!=-1)do{if(this.j.Ab(c,h)!=1){var p=this.j.xa(c);this.j.Kb(p,h,1),this.j.Kb(c,h,1),this.cf(this.j.af(c))&&this.cf(this.j.af(p))&&l.add(c)}c=this.j.jc(this.j.xa(c))}while(c!=a)}this.j.Jg(h),this.j.JP(l)},x.prototype.sm=function(h,l){return l==-1?h:this.aS(h,l)},x.prototype.aS=function(h,l){var s=this.j.g,a=this.j.km(this.j.Le(h));do{var c=this.j.tj(a);if(s.Qf(s.bd(c))==l)return c;a=this.j.js(a)}while(a!=-1);return h},x.prototype.Ot=function(h,l,s){this.eF();var a=this.j.g,c=a.Ig(1736),p=this.j.$g();return this.uK(h,l,c,s,p,-1),this.j.Jg(p),d.rn.V(a,c,1,this.Mv,null),c},x.prototype.uK=function(h,l,s,a,c,p){for(this.ME(h,s,c,p,a),l!=-1&&this.ME(l,s,c,p,a),h=this.j.g,l=this.j.Re;l!=-1;l=this.j.Rf(l)){var y=this.j.Me(l);if(y!=-1){var g=y;do{var w=this.j.Ab(g,c);if(w!=1&&w!=2)if(this.cf(this.j.af(g))){w=h.vf(s,-1);var S=g;do{var k=this.j.mm(S);k!=-1?k=this.j.tj(k):(k=this.j.tj(this.j.mm(this.j.xa(S))),k=this.j.g.U(k)),k=this.sm(k,a),h.ij(w,k),this.j.Kb(S,c,1),p!=-1&&(k=this.j.Le(k),this.j.nn(k,p,1)),S=this.j.jc(S)}while(S!=g);h.kn(w,!0)}else this.j.Kb(g,c,2);g=this.j.jc(this.j.xa(g))}while(g!=y)}}},x.prototype.aY=function(h,l,s){var a=this.j.g,c=a.Ig(1736),p=a.Ig(1607),y=a.Ig(550);this.eF();var g=-1,w=this.j.$g(),S=this.j.Dp();for(this.uK(h,l,c,s,w,S),h=this.j.Re;h!=-1;h=this.j.Rf(h))if((l=this.j.Me(h))!=-1){var k=l;do{var E=this.j.Ab(k,w),P=this.j.Ab(this.j.xa(k),w);if((E|=P)==2)if(E=this.j.dh(k),this.cf(E)){var R=a.vf(p,-1),D=k;E=this.Yw(h,a),E=this.sm(E,s),a.ij(R,E),this.j.nn(h,S,1);do{if(E=this.j.uf(D),P=this.Yw(E,a),P=this.sm(P,s),a.ij(R,P),this.j.Kb(D,w,1),this.j.Kb(this.j.xa(D),w,1),this.j.nn(E,S,1),D=this.j.jc(D),E=this.j.Ab(D,w),(E|=P=this.j.Ab(this.j.xa(D),w))!=2)break;if(E=this.j.dh(D),!this.cf(E)){this.j.Kb(D,w,1),this.j.Kb(this.j.xa(D),w,1);break}}while(D!=k)}else this.j.Kb(k,w,1),this.j.Kb(this.j.xa(k),w,1);k=this.j.jc(this.j.xa(k))}while(k!=l)}for(h=this.j.Re;h!=-1;h=this.j.Rf(h))(E=this.j.ng(h,S))!=1&&(E=this.j.xd(h),this.cf(E)&&(g==-1&&(g=a.vf(y,-1)),(l=this.j.km(h))!=-1&&(l=this.j.tj(l),E=this.sm(l,s),a.ij(g,E))));return this.j.Ep(S),this.j.Jg(w),d.rn.V(a,c,1,this.Mv,null),(s=[])[0]=y,s[1]=p,s[2]=c,s},x.prototype.Yw=function(h,l){var s=-1;for(h=this.j.km(h);h!=-1;h=this.j.js(h)){var a=this.j.tj(h);s==-1&&(s=a);var c=this.j.La(l.Qf(l.bd(a)));if(this.cf(c)){s=a;break}}return s},x.prototype.lB=function(h,l){for(var s=this.jl(l),a=this.j.jk(l),c=this.j.uf(l),p=0,y=0,g=this.j.km(a);g!=-1;g=this.j.js(g)){var w=this.j.tj(g),S=h.bd(w),k=this.j.La(h.Qf(S));S=h.Xa(S),(k=!!(k&s))&&S==w&&(this.tl=l);var E=h.U(w);E!=-1&&this.j.Le(E)==c?(p++,k&&(this.tl===-1&&S==E&&(w=this.j.jc(l),this.cf(this.jl(w))&&(this.tl=w)),y++)):(w=h.Ma(w))!=-1&&this.j.Le(w)==c&&(p--,k&&(this.tl===-1&&S===w&&(w=this.j.jc(l),this.cf(this.jl(w))&&(this.tl=w)),y--))}return this.j.D(a,this.oH),this.j.D(c,this.pH),(y!=0?y:p)*(h=d.h.tb(this.oH,this.pH))},x.prototype.jl=function(h){return this.j.dh(h)|this.j.af(h)|this.j.af(this.j.xa(h))},x.prototype.xK=function(h){for(var l=this.j.xa(this.j.te(h)),s=-1;l!=h;){if(this.cf(this.jl(l))){if(s!=-1)return-1;s=l}l=this.j.xa(this.j.te(l))}return s!=-1?this.j.xa(s):-1},x.prototype.yK=function(h){for(var l=this.j.xa(this.j.jc(h)),s=-1;l!=h;){if(this.cf(this.jl(l))){if(s!=-1)return-1;s=l}l=this.j.xa(this.j.jc(l))}return s!=-1?this.j.xa(s):-1},x.prototype.mJ=function(h,l,s,a,c){var p=this.j.g,y=h,g=this.j.xa(y);this.j.Kb(y,s,1),this.j.Kb(g,s,1),this.tl=-1;for(var w=this.lB(p,y),S=y,k=-1,E=!1,P=1;;){var R=this.j.te(y);if(R==g)break;if(g=this.j.jc(g),this.j.xa(R)!=g){if((y=this.xK(y))==-1){E=!0;break}g=this.j.xa(y)}else y=R;if(y==h){k=h;break}if(R=this.jl(y),!this.cf(R))break;this.j.Kb(y,s,1),this.j.Kb(g,s,1),S=y,w+=this.lB(p,y),P++}if(k==-1)for(y=h,g=this.j.xa(y),k=y;(h=this.j.jc(y))!=g;){if(g=this.j.te(g),this.j.xa(h)!=g){if((y=this.yK(y))==-1){E=!0;break}g=this.j.xa(y)}else y=h;if(R=this.jl(y),!this.cf(R))break;this.j.Kb(y,s,1),this.j.Kb(g,s,1),k=y,w+=this.lB(p,y),P++}else if(this.tl!=-1&&(S=this.tl,k=this.j.te(this.tl),this.j.xa(k)!=this.j.jc(this.j.xa(S))&&(k=this.xK(S))==-1))throw d.i.Qa();for(0<=w||(y=k,k=this.j.xa(S),S=this.j.xa(y)),s=p.vf(l,-1),y=S,S=this.j.jk(S),E=this.j.uf(k)==S&&E,w=this.Yw(S,p),w=this.sm(w,c),p.ij(s,w),a!=-1&&this.j.nn(S,a,1),S=0,P=E?d.O.truncate((P+1)/2):-1;h=this.j.uf(y),w=this.Yw(h,p),w=this.sm(w,c),p.ij(s,w),S++,a!=-1&&this.j.nn(h,a,1),E&&S==P&&(s=p.vf(l,-1),p.ij(s,w)),y!=k;)if(h=this.j.jc(y),this.j.te(this.j.xa(y))!=this.j.xa(h)){if((y=this.yK(y))==-1)throw d.i.Qa()}else y=h},x.prototype.Pt=function(h){for(var l=this.j.g.Ig(1607),s=this.j.$g(),a=this.j.Re;a!=-1;a=this.j.Rf(a)){var c=this.j.Me(a),p=c;do this.j.Ab(p,s)!=1&&this.cf(this.jl(p))&&this.mJ(p,l,s,-1,h),p=this.j.jc(this.j.xa(p));while(p!=c)}return this.j.Jg(s),l},x.prototype.bY=function(h){for(var l=this.j.g,s=l.Ig(1607),a=l.Ig(550),c=this.j.$g(),p=this.j.Dp(),y=-1,g=this.j.Re;g!=-1;g=this.j.Rf(g)){var w=this.j.Me(g),S=w;do{var k=this.j.Ab(S,c);k!=1&&(k=this.jl(S),this.cf(k)&&this.mJ(S,s,c,p,h)),S=this.j.jc(this.j.xa(S))}while(S!=w)}for(g=this.j.Re;g!=-1;g=this.j.Rf(g))(k=this.j.ng(g,p))!=1&&(k=this.j.xd(g),this.cf(k)&&(y==-1&&(y=l.vf(a,-1)),(w=this.j.km(g))!=-1&&(w=this.j.tj(w),w=this.sm(w,h),l.ij(y,w))));return this.j.Jg(c),this.j.Ep(p),(h=[])[0]=a,h[1]=s,h},x.prototype.mr=function(){for(var h=this.j.g,l=h.Ig(550),s=h.vf(l,-1),a=this.j.Re;a!=-1;a=this.j.Rf(a))if(this.cf(this.j.xd(a))){for(var c=-1,p=this.j.km(a);p!=-1;p=this.j.js(p)){var y=this.j.tj(p);c==-1&&(c=y);var g=this.j.La(h.Qf(h.bd(y)));if(this.cf(g)){c=y;break}}h.ij(s,c)}return l},x.prototype.bq=function(h){this.Gj=[];for(var l=0;l<h;l++)this.Gj[l]=!1},x.aW=function(h,l,s){var a=h.Ia(),c=Array(1e3);d.O.$u(c,null);var p=d.O.lg(1e3,0),y=h.I(),g=!0,w=l.Db()==2;if(l.Db()!=1&&l.Db()!=2)throw d.i.Qa();for(var S=0;S<y;){var k=d.O.truncate(h.lW(c,S)-S);w?d.hd.sK(l,c,k,s,p):d.hd.tK(l,c,k,s,p);for(var E=0,P=0;P<k;P++)p[P]==0&&(g&&(g=!1,a.Fd(h,0,S)),E!=P&&a.Fd(h,S+E,S+P),E=P+1);g||E==k||a.Fd(h,S+E,S+k),S+=k}return g?h:a},x.zG=function(h,l,s){return h instanceof d.de?x.aW(h,l,s):l instanceof d.Sa?h.B()||l.B()?h.Ia():d.Tk.zU(s,h,l)?d.Tk.CO(h,l):h.Ia():x.bW(h,l,s)},x.Av=function(h,l,s,a){var c=new d.l;h.A(c);var p=new d.l;l.A(p);var y=new d.l;if(y.K(c),y.Zb(p),s=d.ta.Wd(s,y,!0),(y=new d.l).K(p),p=d.ta.Er(s),y.W(p,p),!c.isIntersecting(y)){if(h.Db()<=l.Db())return x.ki(x.Xe(h.Ia()),h,"&");if(h.Db()>l.Db())return x.ki(x.Xe(l.Ia()),h,"&")}return p=new x,y=(c=new d.gd).Ib(x.Xe(h)),l=c.Ib(x.Xe(l)),p.Ft(c,s,a),a=p.Av(y,l),h=x.ki(c.Ne(a),h,"&"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.bW=function(h,l,s){if(h.B()||l.B())return h.Ia();var a=[null],c=[0],p=l.Db()==2;if(l.Db()!=1&&l.Db()!=2)throw d.i.Qa();return a[0]=h.D(),p?d.hd.sK(l,a,1,s,c):d.hd.tK(l,a,1,s,c),c[0]==0?h.Ia():h},x.prototype.LU=function(h,l,s,a,c){if(h.B())return h;var p=new d.gd;return h=p.Ib(h),this.Mk(p,h,l,s,a,c)},x.prototype.NU=function(h,l,s,a,c,p){if(c&&h.ic(l)!=550){var y=new d.RC;y.TX(h,s),y.Ng?(d.Tk.V(h,s,p,!0),c=!1):this.j.yy(s)}else d.Tk.V(h,s,p,!0),c=!1;if(a&&h.ic(l)!=550?this.j.wJ(h,l,p):this.j.vJ(h,l,p),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(h,l,s,a,!1,p);if(this.j.yy(NaN),p=this.j.La(l),this.bq(p+1),this.Gj[p]=!0,h.ic(l)==1736||a&&h.ic(l)!=550)return h.Yo(l,0),l=this.Ot(l,-1,-1),(h=h.Ne(l)).Yo(0),c?h.Ch(1,0):(h.Ch(2,s),h.fm()),h;if(h.ic(l)==1607)return l=this.Pt(-1),h=h.Ne(l),c||h.Ch(2,s),h;if(h.ic(l)==550)return l=this.mr(),h=h.Ne(l),c||h.Ch(2,s),h;throw d.i.Qa()},x.prototype.Mk=function(h,l,s,a,c,p){this.j=new d.iu;try{return this.NU(h,l,s,a,c,p)}finally{this.j.Ug()}},x.Mk=function(h,l,s,a,c){return new x().LU(h,l,s,a,c)},x.prototype.MU=function(h,l,s,a){this.Mv=h,this.j=new d.iu,h=l.In(s);var c=l.ic(s);if(h!=1||c==550?this.j.vJ(l,s,a):this.j.wJ(l,s,a),!this.j.pA)if(this.j.yy(NaN),a=this.j.La(s),this.bq(a+1),this.Gj[a]=!0,l.ic(s)==1736||h==1&&l.ic(s)!=550)l.Yo(s,0),a=this.Ot(s,-1,-1),l.hC(a,s),l.BB(a);else if(l.ic(s)==1607)a=this.Pt(-1),l.hC(a,s),l.BB(a);else{if(l.ic(s)!=550)throw d.i.fa("internal error");a=this.mr(),l.hC(a,s),l.BB(a)}},x.prototype.im=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l));if(s>a)return h;var c=this.j.La(h),p=this.j.La(l);if(this.bq(1+(c|p)),this.Gj[this.j.La(h)]=!0,s==2&&a==2)return this.Ot(h,l,-1);if(s==1&&a==2||s==1&&a==1)return this.Pt(-1);if(s==0)return this.mr();throw d.i.Qa()},x.prototype.Av=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),c=this.j.La(h),p=this.j.La(l);if(this.bq(1+(c|p)),this.Gj[this.j.La(h)|this.j.La(l)]=!0,c=-1,1<this.j.g.ht.Aa&&(c=h),s==2&&a==2)return this.Ot(h,l,c);if(s==1&&0<a||a==1&&0<s)return this.Pt(c);if(s==0||a==0)return this.mr();throw d.i.Qa()},x.prototype.Pz=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),c=this.j.La(h),p=this.j.La(l);if(this.bq(1+(c|p)),this.Gj[this.j.La(h)|this.j.La(l)]=!0,c=-1,1<this.j.g.ht.Aa&&(c=h),s==2&&a==2)return this.aY(h,l,c);if(s==1&&0<a||a==1&&0<s)return this.bY(c);if(s==0||a==0)return(h=[])[0]=this.mr(),h;throw d.i.Qa()},x.prototype.ep=function(h,l){var s=d.aa.tf(this.j.g.ic(h)),a=d.aa.tf(this.j.g.ic(l)),c=this.j.La(h),p=this.j.La(l);if(this.bq(1+(c|p)),this.Gj[this.j.La(h)]=!0,this.Gj[this.j.La(l)]=!0,s==2&&a==2)return this.Ot(h,l,-1);if(s==1&&a==1)return this.Pt(-1);if(s==0&&a==0)return this.mr();throw d.i.Qa()},x.Xe=function(h){var l=h.getType();return l==197?(l=new d.Da(h.description),h.B()||l.ad(h,!1),l):l==33?(l=new d.de(h.description),h.B()||l.add(h),l):l==322?(l=new d.Ta(h.description),h.B()||l.oc(h,!0),l):h},x.ki=function(h,l,s){var a=h.getType();return a==197?(l=new d.Da(h.description),h.B()||l.ad(h,!1),l):a!=33||s!="|"&&s!="^"?a==322?(l=new d.Ta(h.description),h.B()||l.oc(h,!0),l):a==33&&s=="-"&&l.getType()==33||a==550&&s=="&"&&l.getType()==33?(l=new d.Sa(h.description),h.B()||h.ve(0,l),l):h:(l=new d.de(h.description),h.B()||l.add(h),l)},x.im=function(h,l,s,a){if(h.B()||l.B()||h.Db()>l.Db())return x.ki(x.Xe(h),h,"-");var c=new d.l;h.A(c);var p=new d.l;if(l.A(p),!c.isIntersecting(p))return x.ki(x.Xe(h),h,"-");var y=new d.l;return y.K(c),y.Zb(p),s=d.ta.Wd(s,y,!0),p=new x,y=(c=new d.gd).Ib(x.Xe(h)),l=c.Ib(x.Xe(l)),p.Ft(c,s,a),a=p.im(y,l),a=c.Ne(a),h=x.ki(a,h,"-"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.VP=function(h,l,s){if(2>h.length)throw d.i.N("not enough geometries to dissolve");for(var a=0,c=0,p=h.length;c<p;c++)a=Math.max(h[c].Db(),a);var y=new d.l;y.Oa();var g=new d.gd,w=-1,S=0,k=-1;for(c=0,p=h.length;c<p;c++)if(h[c].Db()==a)if(h[c].B())k==-1&&(k=c);else{k=c,w==-1?w=g.Ib(x.Xe(h[c])):g.uN(w,x.Xe(h[c]));var E=new d.l;h[c].xc(E),y.Zb(E),S++}return 2>S?x.Xe(h[k]):(h=a==2,l=d.ta.Wd(a==0?l:null,y,!0),new x().Mk(g,w,l,h,!0,s))},x.Pz=function(h,l,s,a){var c=[null,null,null],p=new d.l;h.A(p);var y=new d.l;l.A(y);var g=new d.l;if(g.K(p),g.Zb(y),s=d.ta.Wd(s,g,!0),(g=new d.l).K(y),y=d.ta.Er(s),g.W(y,y),!p.isIntersecting(g)){if(h.Db()<=l.Db())return c[(h=x.ki(x.Xe(h.Ia()),h,"&")).Db()]=h,c;if(h.Db()>l.Db())return c[(h=x.ki(x.Xe(l.Ia()),h,"&")).Db()]=h,c}for(y=new x,g=(p=new d.gd).Ib(x.Xe(h)),l=p.Ib(x.Xe(l)),y.Ft(p,s,a),a=y.Pz(g,l),l=0;l<a.length;l++)y=x.ki(p.Ne(a[l]),h,"&"),d.aa.Hc(y.getType())&&(y.Ch(2,s),y.getType()==1736&&y.fm()),c[y.Db()]=y;return c},x.ep=function(h,l,s,a){if(h.Db()>l.Db())return x.ki(x.Xe(h),h,"^");if(h.Db()<l.Db()||h.B())return x.ki(x.Xe(l),h,"^");if(l.B())return x.ki(x.Xe(h),h,"^");var c=new d.l;h.A(c);var p=new d.l;l.A(p);var y=new d.l;return y.K(c),y.Zb(p),s=d.ta.Wd(s,y,!0),p=new x,y=(c=new d.gd).Ib(x.Xe(h)),l=c.Ib(x.Xe(l)),p.Ft(c,s,a),a=p.ep(y,l),h=x.ki(c.Ne(a),h,"^"),d.aa.Hc(h.getType())&&(h.Ch(2,s),h.getType()==1736&&h.fm()),h},x.prototype.LQ=function(h,l){var s=this.j.g;h=s.vf(h,-1);for(var a=l.size,c=0;c<a;c++){var p=l.get(c);s.ij(h,p)}s.kn(h,!0)},x.prototype.aX=function(h,l){for(var s=this.j.g,a=s.ld;a!=-1;a=s.ue(a))if(a==l)for(var c=s.Ob(a);c!=-1;c=s.Rb(c)){var p=s.Xa(c);if(p!=-1)for(var y=s.U(p);y!=-1;){p=this.j.Le(p);var g=this.j.Le(y);(p=this.j.tR(p,g))!=-1&&(g=this.j.xa(p),this.j.Kb(p,h,1),this.j.Kb(g,h,2)),p=y,y=s.U(p)}}},x.prototype.cW=function(h,l,s,a){s=this.j.La(s),a=this.j.La(a);var c=new d.ia(0);c.Jb(256);for(var p=this.j.g,y=this.j.$g(),g=this.j.Re;g!=-1;g=this.j.Rf(g)){var w=this.j.Me(g);if(w!=-1){var S=w;do{if(this.j.Ab(S,y)!=1){var k=S,E=S,P=!1,R=0;do{if(this.j.Kb(k,y,1),!P){var D=this.j.dh(k);D&a&&this.j.af(k)&s&&(E=k,P=!0)}P&&(c.add(this.j.tj(this.j.km(this.j.jk(k)))),h!=-1&&(D=this.j.dh(k))&a&&(R|=D=this.j.Ab(k,h))),k=this.j.jc(k)}while(k!=E);P&&0<this.j.Kp(this.j.$e(E))&&(k=p.Ig(1736),this.LQ(k,c),l!=-1&&p.HJ(k,l,R)),c.clear(!1)}S=this.j.jc(this.j.xa(S))}while(S!=w)}}this.j.Jg(y)},x.prototype.FP=function(h,l,s,a){this.j.yW();var c=-1;h!=-1&&(c=this.j.$g(),this.aX(c,s)),this.cW(c,h,l,s),c!=-1&&(this.j.Jg(c),c=-1);var p=this.j.g;for(h=0,c=p.ld;c!=-1;c=p.ue(c))c!=l&&c!=s&&(a.add(c),h++);a.Vd(0,h,function(y,g){return(y=p.wz(p.Ob(y)))<(g=p.wz(p.Ob(g)))?-1:y==g?0:1})},x.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},x}();d.Fg=j}(ee||(ee={})),function(d){var j=function(){function x(h){h!==void 0?this.setScale(h):this.RB()}return x.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},x.prototype.Nb=function(h){return this==h||h instanceof x&&this.bb==h.bb&&this.eb==h.eb&&this.Gb==h.Gb&&this.jb==h.jb&&this.ab==h.ab&&this.Lb==h.Lb},x.prototype.cc=function(){return d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj(),d.O.uj()},x.prototype.Eh=function(h,l){var s=this.jb*h.x+this.ab*h.y+this.Lb;l.x=this.bb*h.x+this.eb*h.y+this.Gb,l.y=s},x.prototype.eY=function(h,l,s){for(var a=0;a<l;a++){var c=h[a].x,p=h[a].y,y=this.bb*c+this.eb*p+this.Gb;c=this.jb*c+this.ab*p+this.Lb,s[a]!=null?s[a].ma(y,c):s[a]=d.h.construct(y,c)}},x.prototype.multiply=function(h){x.multiply(this,h,this)},x.multiply=function(h,l,s){var a=h.bb*l.bb+h.jb*l.eb,c=h.eb*l.bb+h.ab*l.eb,p=h.Gb*l.bb+h.Lb*l.eb+l.Gb,y=h.bb*l.jb+h.jb*l.ab,g=h.eb*l.jb+h.ab*l.ab;h=h.Gb*l.jb+h.Lb*l.ab+l.Lb,s.bb=a,s.eb=c,s.Gb=p,s.jb=y,s.ab=g,s.Lb=h},x.prototype.Of=function(){var h=new x;return h.bb=this.bb,h.eb=this.eb,h.Gb=this.Gb,h.jb=this.jb,h.ab=this.ab,h.Lb=this.Lb,h},x.prototype.mC=function(h){if(!h.B()){for(var l=[],s=0;4>s;s++)l[s]=new d.h;h.nB(l),this.fY(l,l),h.Zw(l,4)}},x.prototype.fY=function(h,l){for(var s=0;s<h.length;s++){var a=new d.h,c=h[s];a.x=this.bb*c.x+this.eb*c.y+this.Gb,a.y=this.jb*c.x+this.ab*c.y+this.Lb,l[s]=a}},x.prototype.pS=function(h,l){h.B()||l.B()||h.R()==0||h.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=l.R()/h.R(),this.ab=l.ca()/h.ca(),this.Gb=l.v-h.v*this.bb,this.Lb=l.G-h.G*this.ab)},x.prototype.dY=function(h){var l=new d.h,s=new d.h;l.ma(this.bb,this.jb),s.ma(this.eb,this.ab),l.sub(l);var a=.5*l.Sk();return l.ma(this.bb,this.jb),s.ma(this.eb,this.ab),l.add(s),h*(a>(l=.5*l.Sk())?Math.sqrt(a):Math.sqrt(l))},x.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},x.prototype.isIdentity=function(h){if(h!==void 0){var l=d.h.construct(0,1);return this.Eh(l,l),l.sub(d.h.construct(0,1)),l.Sk()>h*h?!1:(l.ma(0,0),this.Eh(l,l),!(l.Sk()>h*h)&&(l.ma(1,0),this.Eh(l,l),l.sub(d.h.construct(1,0)),l.Sk()<=h*h))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},x.prototype.Bi=function(h){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*h*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},x.prototype.gg=function(h,l){this.bb=1,this.eb=0,this.Gb=h,this.jb=0,this.ab=1,this.Lb=l},x.prototype.setScale=function(h,l){l!==void 0?(this.bb=h,this.jb=this.Gb=this.eb=0,this.ab=l,this.Lb=0):this.setScale(h,h)},x.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},x.prototype.setRotate=function(h){this.pX(Math.cos(h),Math.sin(h))},x.prototype.pX=function(h,l){this.bb=h,this.eb=-l,this.Gb=0,this.jb=l,this.ab=h,this.Lb=0},x.prototype.shift=function(h,l){this.Gb+=h,this.Lb+=l},x.prototype.scale=function(h,l){this.bb*=h,this.eb*=h,this.Gb*=h,this.jb*=l,this.ab*=l,this.Lb*=l},x.prototype.flipX=function(h,l){this.bb=-this.bb,this.eb=-this.eb,this.Gb=h+l-this.Gb},x.prototype.flipY=function(h,l){this.jb=-this.jb,this.ab=-this.ab,this.Lb=h+l-this.Lb},x.prototype.rotate=function(h){var l=new x;l.setRotate(h),this.multiply(l)},x.prototype.inverse=function(h){if(h!==void 0){var l=this.bb*this.ab-this.eb*this.jb;l==0?h.lx():(l=1/l,h.Gb=(this.eb*this.Lb-this.Gb*this.ab)*l,h.Lb=(this.Gb*this.jb-this.bb*this.Lb)*l,h.bb=this.ab*l,h.eb=-this.eb*l,h.jb=-this.jb*l,h.ab=this.bb*l)}else this.inverse(this)},x}();d.Dd=j}(ee||(ee={})),function(d){var j=function(){function x(){}return x.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},x.prototype.setScale=function(h,l,s){this.bb=h,this.eb=this.Ze=this.jb=0,this.ab=l,this.Fe=this.Ee=this.Ge=0,this.He=s,this.hg=this.Lb=this.Gb=0},x.prototype.setTranslate=function(h,l,s){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=h,this.Lb=l,this.hg=s},x.prototype.translate=function(h,l,s){this.Gb+=h,this.Lb+=l,this.hg+=s},x.prototype.mC=function(h){if(!h.B()){for(var l=new d.Nd[8],s=0;8>s;s++)l[s]=new d.Nd;h.nB(l),this.transform(l,8,l),h.Zw(l)}},x.prototype.transform=function(h,l,s){for(var a=0;a<l;a++){var c=new d.Nd,p=h[a];c.x=this.bb*p.x+this.eb*p.y+this.Ee*p.z+this.Gb,c.y=this.jb*p.x+this.ab*p.y+this.Fe*p.z+this.Lb,c.z=this.Ze*p.x+this.Ge*p.y+this.He*p.z+this.hg,s[a]=c}},x.prototype.fp=function(h){var l=new d.Nd;return l.x=this.bb*h.x+this.eb*h.y+this.Ee*h.z+this.Gb,l.y=this.jb*h.x+this.ab*h.y+this.Fe*h.z+this.Lb,l.z=this.Ze*h.x+this.Ge*h.y+this.He*h.z+this.hg,l},x.prototype.Ag=function(h){x.multiply(this,h,this)},x.multiply=function(h,l,s){var a=h.bb*l.bb+h.jb*l.eb+h.Ze*l.Ee,c=h.bb*l.jb+h.jb*l.ab+h.Ze*l.Fe,p=h.bb*l.Ze+h.jb*l.Ge+h.Ze*l.He,y=h.eb*l.bb+h.ab*l.eb+h.Ge*l.Ee,g=h.eb*l.jb+h.ab*l.ab+h.Ge*l.Fe,w=h.eb*l.Ze+h.ab*l.Ge+h.Ge*l.He,S=h.Ee*l.bb+h.Fe*l.eb+h.He*l.Ee,k=h.Ee*l.jb+h.Fe*l.ab+h.He*l.Fe,E=h.Ee*l.Ze+h.Fe*l.Ge+h.He*l.He,P=h.Gb*l.bb+h.Lb*l.eb+h.hg*l.Ee+l.Gb,R=h.Gb*l.jb+h.Lb*l.ab+h.hg*l.Fe+l.Lb;h=h.Gb*l.Ze+h.Lb*l.Ge+h.hg*l.He+l.hg,s.bb=a,s.jb=c,s.Ze=p,s.eb=y,s.ab=g,s.Ge=w,s.Ee=S,s.Fe=k,s.He=E,s.Gb=P,s.Lb=R,s.hg=h},x.inverse=function(h,l){var s=h.bb*(h.ab*h.He-h.Ge*h.Fe)-h.jb*(h.eb*h.He-h.Ge*h.Ee)+h.Ze*(h.eb*h.Fe-h.ab*h.Ee);if(s==0)throw d.i.fa("math singularity");var a=1/s;s=(h.ab*h.He-h.Ge*h.Fe)*a;var c=-(h.eb*h.He-h.Ge*h.Ee)*a,p=(h.eb*h.Fe-h.ab*h.Ee)*a,y=-(h.jb*h.He-h.Fe*h.Ze)*a,g=(h.bb*h.He-h.Ze*h.Ee)*a,w=-(h.bb*h.Fe-h.jb*h.Ee)*a,S=(h.jb*h.Ge-h.Ze*h.ab)*a,k=-(h.bb*h.Ge-h.Ze*h.eb)*a;a*=h.bb*h.ab-h.jb*h.eb;var E=-(h.Gb*s+h.Lb*c+h.hg*p),P=-(h.Gb*y+h.Lb*g+h.hg*w);h=-(h.Gb*S+h.Lb*k+h.hg*a),l.bb=s,l.jb=y,l.Ze=S,l.eb=c,l.ab=g,l.Ge=k,l.Ee=p,l.Fe=w,l.He=a,l.Gb=E,l.Lb=P,l.hg=h},x.prototype.Of=function(){var h=new x;return h.bb=this.bb,h.jb=this.jb,h.Ze=this.Ze,h.eb=this.eb,h.ab=this.ab,h.Ge=this.Ge,h.Ee=this.Ee,h.Fe=this.Fe,h.He=this.He,h.Gb=this.Gb,h.Lb=this.Lb,h.hg=this.hg,h},x}();d.JY=j}(ee||(ee={})),function(d){var j=function(h){function l(s){if(s!==void 0)s=h.call(this,s.cc(),s)||this;else{(s=h.call(this)||this).bg=[],s.bg[0]=0,s.Aa=1,s.uh=[];for(var a=0;10>a;a++)s.uh[a]=-1;s.uh[s.bg[0]]=0}return s.jq=!0,s}return $e(l,h),l.prototype.re=function(s){this.hasAttribute(s)||(this.uh[s]=0,this.jD())},l.prototype.removeAttribute=function(s){if(s==0)throw d.i.N("Position attribue cannot be removed");this.hasAttribute(s)&&(this.uh[s]=-1,this.jD())},l.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var s=0;s<this.uh.length;s++)this.uh[s]=-1;this.uh[this.bg[0]]=0,this.jq=!0},l.prototype.EF=function(){return x.kz().add(this)},l.og=function(){return x.kz().$R()},l.prototype.tM=function(){var s=this.cc();return new d.ra(s,this)},l.prototype.jD=function(){for(var s=this.Aa=0,a=0;10>s;s++)0<=this.uh[s]&&(this.bg[a]=s,this.uh[s]=a,a++,this.Aa++);this.jq=!0},l.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},l.prototype.Nb=function(s){if(s==null)return!1;if(s==this)return!0;if(!(s instanceof l)||s.Aa!=this.Aa)return!1;for(var a=0;a<this.Aa;a++)if(this.bg[a]!=s.bg[a])return!1;return this.jq==s.jq},l.prototype.GG=function(s){if(s.Aa!=this.Aa)return!1;for(var a=0;a<this.Aa;a++)if(this.bg[a]!=s.bg[a])return!1;return!0},l.Iw=function(s,a){for(var c=[],p=0;p<s.Aa;p++)c[p]=-1;p=0;for(var y=s.Aa;p<y;p++)c[p]=a.Pf(s.kd(p));return c},l.BR=function(s,a){return(s=new l(s)).re(a),s.EF()},l.CR=function(s,a){for(var c=null,p=0;10>p;p++)!s.hasAttribute(p)&&a.hasAttribute(p)&&(c==null&&(c=new l(s)),c.re(p));return c!=null?c.EF():s},l}(d.ra);d.ee=j;var x=function(){function h(){this.map=[];var l=new j;this.add(l),(l=new j).re(1),this.add(l)}return h.kz=function(){return h.bL},h.prototype.$R=function(){return h.ft},h.prototype.add=function(l){var s=l.cc();if(h.ft!=null&&h.ft.cc()==s&&l.GG(h.ft))return h.ft;if(h.Dw!=null&&h.Dw.cc()==s&&l.GG(h.Dw))return h.Dw;var a=null;return this.map[s]!==void 0&&(a=this.map[s]),a==null&&((a=l.tM()).Aa==1?h.ft=a:a.Aa==2&&a.kd(1)==1?h.Dw=a:this.map[s]=a),a},h.bL=new h,h}()}(ee||(ee={}));var Mt={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},Cr={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},Vr=new(function(){function d(){this.RM=50,this.np=new Map,this.gj=[]}return d.prototype.clear=function(){this.gj.length=0,this.np.clear()},d.prototype.delete=function(j){return!!this.np.delete(j)&&(this.gj.splice(this.gj.indexOf(j),1),!0)},d.prototype.get=function(j){var x=this.np.get(j);if(x!==void 0)return this.gj[0]!==j&&(this.gj.splice(this.gj.indexOf(j),1),this.gj.unshift(j)),x},d.prototype.has=function(j){return this.np.has(j)},d.prototype.set=function(j,x){return this.get(j)!==void 0&&this.delete(j),this.gj.unshift(j),this.np.set(j,x),this.oM(),this},d.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var j=this.gj.pop();this.np.delete(j)}},d}()),Le=((bt={}).convertJSONToGeometry=function(d){return ee.$b.fP(d)},bt.hasM=function(d){return d.hasAttribute(ee.Ih.M)},bt.hasZ=function(d){return d.hasAttribute(ee.Ih.Z)},bt.getPointX=function(d){return d.Lg()},bt.getPointY=function(d){return d.ih()},bt.getPointZ=function(d){return d.bS()},bt.getPointM=function(d){return d.zR()},bt.getXMin=function(d){return d.es()},bt.getYMin=function(d){return d.gs()},bt.getXMax=function(d){return d.ds()},bt.getYMax=function(d){return d.fs()},bt.getZExtent=function(d){return d.Tg(ee.Ih.Z,0)},bt.getMExtent=function(d){return d.Tg(ee.Ih.M,0)},bt.exportPaths=function(d){var j=[],x=d.da(),h=null,l=null,s=d.hasAttribute(ee.Ih.Z),a=d.hasAttribute(ee.Ih.M);s&&(h=d.ub(ee.Ih.Z)),a&&(l=d.ub(ee.Ih.M));for(var c=new ee.h,p=0;p<x;p++){for(var y=d.Ba(p),g=d.Ja(p),w=0,S=0,k=NaN,E=NaN,P=NaN,R=NaN,D=d.dc(p),U=[],Y=y;Y<y+g;Y++){d.D(Y,c),R=P=NaN;var K=[c.x,c.y];s&&(P=h.get(Y),K.push(P)),a&&(R=l.get(Y),K.push(R)),Y==y&&D&&(w=c.x,S=c.y,k=P,E=R),U.push(K)}!D||w==c.x&&S==c.y&&(!s||isNaN(k)&&isNaN(P)||k==P)&&(!a||isNaN(E)&&isNaN(R)||E==R)||U.push(U[0].slice(0)),j.push(U)}return j},bt.exportPathsFlat=function(){},bt.exportPoints=function(d){var j=d.hasAttribute(ee.Ih.Z),x=d.hasAttribute(ee.Ih.M),h=null,l=null;j&&(h=d.ub(ee.Ih.Z)),x&&(l=d.ub(ee.Ih.M));for(var s=new ee.h,a=d.I(),c=[],p=0;p<a;p++){d.D(p,s);var y=[s.x,s.y];j&&y.push(h.get(p)),x&&y.push(l.get(p)),c.push(y)}return c},bt.exportPointsFlat=function(){},bt),ir=new Map;return function(){function d(){}return d.buffer=ye,d.clip=T,d.contains=O,d.convexHull=X,d.crosses=A,d.cut=I,d.densify=vt,d.difference=ie,d.disjoint=H,d.distance=N,d.equals=F,d.extendedSpatialReferenceInfo=$,d.generalize=Ye,d.geodesicArea=ot,d.geodesicBuffer=ge,d.geodesicDensify=tt,d.geodesicLength=He,d.intersect=ue,d.intersects=z,d.isSimple=re,d.nearestCoordinate=ce,d.nearestVertex=Ee,d.nearestVertices=ze,d.offset=pe,d.overlaps=J,d.planarArea=yt,d.planarLength=De,d.relate=Z,d.simplify=q,d.symmetricDifference=le,d.touches=B,d.union=ne,d.within=G,d.rotate=ee.Ex.rotate,d.flipHorizontal=ee.Ex.JQ,d.flipVertical=ee.Ex.KQ,d.intersectLinesToPoints=wt,d.ExtendedParams=ee.yC,d.clearDefaultSpatialReferenceTolerance=Pt,d.changeDefaultSpatialReferenceTolerance=mt,d._enableProjection=Te,d._project=Pe,d._getTransformation=qe,d._getTransformationBySuitability=it,d}()}var i=r();i!==void 0&&(e.exports=i)})(Qde);var epe=Qde.exports;const pr=jue(epe),DWe=FWe({__proto__:null,default:pr},[epe]),zWe=Object.freeze(Object.defineProperty({__proto__:null,G:pr,g:DWe},Symbol.toStringTag,{value:"Module"})),jr={convertToGEGeometry:BWe,exportPoint:VWe,exportPolygon:UWe,exportPolyline:GWe,exportMultipoint:qWe,exportExtent:HWe};function BWe(e,t){if(t==null)return null;let r="cache"in t?t.cache._geVersion:void 0;return r==null&&(r=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=r)),r}function VWe(e,t,r){const i=e.hasZ(t),n=e.hasM(t),o=new jt({x:e.getPointX(t),y:e.getPointY(t),spatialReference:r});return i&&(o.z=e.getPointZ(t)),n&&(o.m=e.getPointM(t)),o.cache._geVersion=t,o}function UWe(e,t,r){const i=new pa({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return i.cache._geVersion=t,i}function GWe(e,t,r){const i=new Qa({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return i.cache._geVersion=t,i}function qWe(e,t,r){const i=new lx({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:r});return i.cache._geVersion=t,i}function HWe(e,t,r){const i=e.hasZ(t),n=e.hasM(t),o=new mr({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:r});if(i){const u=e.getZExtent(t);o.zmin=u.vmin,o.zmax=u.vmax}if(n){const u=e.getMExtent(t);o.mmin=u.vmin,o.mmax=u.vmax}return o.cache._geVersion=t,o}const WWe=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:jr},Symbol.toStringTag,{value:"Module"}));function Fr(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function JWe(e){return pr.extendedSpatialReferenceInfo(e)}function KWe(e,t){return pr.clip(jr,Fr(e),e,t)}function YWe(e,t){return pr.cut(jr,Fr(e),e,t)}function ZWe(e,t){return pr.contains(jr,Fr(e),e,t)}function XWe(e,t){return pr.crosses(jr,Fr(e),e,t)}function QWe(e,t,r){return pr.distance(jr,Fr(e),e,t,r)}function eJe(e,t){return pr.equals(jr,Fr(e),e,t)}function tJe(e,t){return pr.intersects(jr,Fr(e),e,t)}function rJe(e,t){return pr.touches(jr,Fr(e),e,t)}function iJe(e,t){return pr.within(jr,Fr(e),e,t)}function nJe(e,t){return pr.disjoint(jr,Fr(e),e,t)}function sJe(e,t){return pr.overlaps(jr,Fr(e),e,t)}function oJe(e,t,r){return pr.relate(jr,Fr(e),e,t,r)}function aJe(e){return pr.isSimple(jr,Fr(e),e)}function lJe(e){return pr.simplify(jr,Fr(e),e)}function uJe(e,t=!1){return pr.convexHull(jr,Fr(e),e,t)}function cJe(e,t){return pr.difference(jr,Fr(e),e,t)}function hJe(e,t){return pr.symmetricDifference(jr,Fr(e),e,t)}function dJe(e,t){return pr.intersect(jr,Fr(e),e,t)}function pJe(e,t=null){return pr.union(jr,Fr(e),e,t)}function fJe(e,t,r,i,n,o){return pr.offset(jr,Fr(e),e,t,r,i,n,o)}function yJe(e,t,r,i=!1){return pr.buffer(jr,Fr(e),e,t,r,i)}function mJe(e,t,r,i,n,o){return pr.geodesicBuffer(jr,Fr(e),e,t,r,i,n,o)}function gJe(e,t,r=!0){return pr.nearestCoordinate(jr,Fr(e),e,t,r)}function vJe(e,t){return pr.nearestVertex(jr,Fr(e),e,t)}function bJe(e,t,r,i){return pr.nearestVertices(jr,Fr(e),e,t,r,i)}function _D(e){var t;return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?((t=e.extent)==null?void 0:t.center)??null:null}function wJe(e,t,r){if(e==null)throw new Ig;const i=e.spatialReference;if((r=r??_D(e))==null)throw new Ig;const n=e.constructor.fromJSON(pr.rotate(e,t,r));return n.spatialReference=i,n}function xJe(e,t){if(e==null)throw new Ig;const r=e.spatialReference;if((t=t??_D(e))==null)throw new Ig;const i=e.constructor.fromJSON(pr.flipHorizontal(e,t));return i.spatialReference=r,i}function _Je(e,t){if(e==null)throw new Ig;const r=e.spatialReference;if((t=t??_D(e))==null)throw new Ig;const i=e.constructor.fromJSON(pr.flipVertical(e,t));return i.spatialReference=r,i}function SJe(e,t,r,i){return pr.generalize(jr,Fr(e),e,t,r,i)}function $Je(e,t,r){return pr.densify(jr,Fr(e),e,t,r)}function MJe(e,t,r,i=0){return pr.geodesicDensify(jr,Fr(e),e,t,r,i)}function TJe(e,t){return pr.planarArea(jr,Fr(e),e,t)}function kJe(e,t){return pr.planarLength(jr,Fr(e),e,t)}function tpe(e,t,r){return pr.geodesicArea(jr,Fr(e),e,t,r)}function CJe(e,t,r){return pr.geodesicLength(jr,Fr(e),e,t,r)}function EJe(e,t){return pr.intersectLinesToPoints(jr,Fr(e),e,t)}function IJe(e,t){pr.changeDefaultSpatialReferenceTolerance(e,t)}function PJe(e){pr.clearDefaultSpatialReferenceTolerance(e)}let Ig=class extends Error{constructor(){super("Illegal Argument Exception")}};const B$t=Object.freeze(Object.defineProperty({__proto__:null,buffer:yJe,changeDefaultSpatialReferenceTolerance:IJe,clearDefaultSpatialReferenceTolerance:PJe,clip:KWe,contains:ZWe,convexHull:uJe,crosses:XWe,cut:YWe,densify:$Je,difference:cJe,disjoint:nJe,distance:QWe,equals:eJe,extendedSpatialReferenceInfo:JWe,flipHorizontal:xJe,flipVertical:_Je,generalize:SJe,geodesicArea:tpe,geodesicBuffer:mJe,geodesicDensify:MJe,geodesicLength:CJe,intersect:dJe,intersectLinesToPoints:EJe,intersects:tJe,isSimple:aJe,nearestCoordinate:gJe,nearestVertex:vJe,nearestVertices:bJe,offset:fJe,overlaps:sJe,planarArea:TJe,planarLength:kJe,relate:oJe,rotate:wJe,simplify:lJe,symmetricDifference:hJe,touches:rJe,union:pJe,within:iJe},Symbol.toStringTag,{value:"Module"}));function OJe(e){return ar("MuiCollapse",e)}lr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const AJe=e=>{const{orientation:t,classes:r}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return dr(i,OJe,r)},jJe=nt("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Xt(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),RJe=nt("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),LJe=nt("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),fj=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiCollapse"}),{addEndListener:n,children:o,className:u,collapsedSize:f="0px",component:m,easing:v,in:_,onEnter:$,onEntered:T,onEntering:I,onExit:O,onExited:A,onExiting:N,orientation:F="vertical",style:z,timeout:B=$te.standard,TransitionComponent:G=hu,...H}=i,J={...i,orientation:F,collapsedSize:f},Z=AJe(J),re=k1(),q=yte(),X=W.useRef(null),ie=W.useRef(),le=typeof f=="number"?`${f}px`:f,ue=F==="horizontal",ne=ue?"width":"height",pe=W.useRef(null),ye=uo(r,pe),ge=De=>ot=>{if(De){const He=pe.current;ot===void 0?De(He):De(He,ot)}},he=()=>X.current?X.current[ue?"clientWidth":"clientHeight"]:0,ce=ge((De,ot)=>{X.current&&ue&&(X.current.style.position="absolute"),De.style[ne]=le,$&&$(De,ot)}),Ee=ge((De,ot)=>{const He=he();X.current&&ue&&(X.current.style.position="");const{duration:Te,easing:qe}=fg({style:z,timeout:B,easing:v},{mode:"enter"});if(B==="auto"){const it=re.transitions.getAutoHeightDuration(He);De.style.transitionDuration=`${it}ms`,ie.current=it}else De.style.transitionDuration=typeof Te=="string"?Te:`${Te}ms`;De.style[ne]=`${He}px`,De.style.transitionTimingFunction=qe,I&&I(De,ot)}),ze=ge((De,ot)=>{De.style[ne]="auto",T&&T(De,ot)}),Ye=ge(De=>{De.style[ne]=`${he()}px`,O&&O(De)}),vt=ge(A),tt=ge(De=>{const ot=he(),{duration:He,easing:Te}=fg({style:z,timeout:B,easing:v},{mode:"exit"});if(B==="auto"){const qe=re.transitions.getAutoHeightDuration(ot);De.style.transitionDuration=`${qe}ms`,ie.current=qe}else De.style.transitionDuration=typeof He=="string"?He:`${He}ms`;De.style[ne]=le,De.style.transitionTimingFunction=Te,N&&N(De)}),yt=De=>{B==="auto"&&q.start(ie.current||0,De),n&&n(pe.current,De)};return L.jsx(G,{in:_,onEnter:ce,onEntered:ze,onEntering:Ee,onExit:Ye,onExited:vt,onExiting:tt,addEndListener:yt,nodeRef:pe,timeout:B==="auto"?null:B,...H,children:(De,ot)=>L.jsx(jJe,{as:m,className:gt(Z.root,u,{entered:Z.entered,exited:!_&&le==="0px"&&Z.hidden}[De]),style:{[ue?"minWidth":"minHeight"]:le,...z},ref:ye,...ot,ownerState:{...J,state:De},children:L.jsx(RJe,{ownerState:{...J,state:De},className:Z.wrapper,ref:X,children:L.jsx(LJe,{ownerState:{...J,state:De},className:Z.wrapperInner,children:o})})})})});fj&&(fj.muiSupportAuto=!0);const rpe=W.createContext({});function NJe(e){return ar("MuiAccordion",e)}const S5=lr("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),FJe=e=>{const{classes:t,square:r,expanded:i,disabled:n,disableGutters:o}=e;return dr({root:["root",!r&&"rounded",i&&"expanded",n&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},NJe,t)},DJe=nt($n,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${S5.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(Xt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${S5.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${S5.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),Xt(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${S5.expanded}`]:{margin:"16px 0"}}}]}))),zJe=nt("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),mf=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiAccordion"}),{children:n,className:o,defaultExpanded:u=!1,disabled:f=!1,disableGutters:m=!1,expanded:v,onChange:_,square:$=!1,slots:T={},slotProps:I={},TransitionComponent:O,TransitionProps:A,...N}=i,[F,z]=o7({controlled:v,default:u,name:"Accordion",state:"expanded"}),B=W.useCallback(ye=>{z(!F),_&&_(ye,!F)},[F,_,z]),[G,...H]=W.Children.toArray(n),J=W.useMemo(()=>({expanded:F,disabled:f,disableGutters:m,toggle:B}),[F,f,m,B]),Z={...i,square:$,disabled:f,disableGutters:m,expanded:F},re=FJe(Z),q={transition:O,...T},X={transition:A,...I},ie={slots:q,slotProps:X},[le,ue]=e1("heading",{elementType:zJe,externalForwardedProps:ie,className:re.heading,ownerState:Z}),[ne,pe]=e1("transition",{elementType:fj,externalForwardedProps:ie,ownerState:Z});return L.jsxs(DJe,{className:gt(re.root,o),ref:r,ownerState:Z,square:$,...N,children:[L.jsx(le,{...ue,children:L.jsx(rpe.Provider,{value:J,children:G})}),L.jsx(ne,{in:F,timeout:"auto",...pe,children:L.jsx("div",{"aria-labelledby":G.props.id,id:G.props["aria-controls"],role:"region",className:re.region,children:H})})]})});function BJe(e){return ar("MuiAccordionDetails",e)}lr("MuiAccordionDetails",["root"]);const VJe=e=>{const{classes:t}=e;return dr({root:["root"]},BJe,t)},UJe=nt("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(Xt(({theme:e})=>({padding:e.spacing(1,2,2)}))),gf=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiAccordionDetails"}),{className:n,...o}=i,u=i,f=VJe(u);return L.jsx(UJe,{className:gt(f.root,n),ref:r,ownerState:u,...o})});function GJe(e){return ar("MuiAccordionSummary",e)}const $m=lr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),qJe=e=>{const{classes:t,expanded:r,disabled:i,disableGutters:n}=e;return dr({root:["root",r&&"expanded",i&&"disabled",!n&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!n&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},GJe,t)},HJe=nt(t1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(Xt(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${$m.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${$m.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${$m.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${$m.expanded}`]:{minHeight:64}}}]}})),WJe=nt("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(Xt(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${$m.expanded}`]:{margin:"20px 0"}}}]}))),JJe=nt("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(Xt(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${$m.expanded}`]:{transform:"rotate(180deg)"}}))),vf=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiAccordionSummary"}),{children:n,className:o,expandIcon:u,focusVisibleClassName:f,onClick:m,...v}=i,{disabled:_=!1,disableGutters:$,expanded:T,toggle:I}=W.useContext(rpe),O=F=>{I&&I(F),m&&m(F)},A={...i,expanded:T,disabled:_,disableGutters:$},N=qJe(A);return L.jsxs(HJe,{focusRipple:!1,disableRipple:!0,disabled:_,component:"div","aria-expanded":T,className:gt(N.root,o),focusVisibleClassName:gt(N.focusVisible,f),onClick:O,ref:r,ownerState:A,...v,children:[L.jsx(WJe,{className:N.content,ownerState:A,children:n}),u&&L.jsx(JJe,{className:N.expandIconWrapper,ownerState:A,children:u})]})});function KJe(e){return ar("MuiIconButton",e)}const YJe=lr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ZJe=e=>{const{classes:t,disabled:r,color:i,edge:n,size:o}=e,u={root:["root",r&&"disabled",i!=="default"&&`color${We(i)}`,n&&`edge${We(n)}`,`size${We(o)}`]};return dr(u,KJe,t)},XJe=nt(t1,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${We(r.color)}`],r.edge&&t[`edge${We(r.edge)}`],t[`size${We(r.size)}`]]}})(Xt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Xt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir((e.vars||e).palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${YJe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),$5=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiIconButton"}),{edge:n=!1,children:o,className:u,color:f="default",disabled:m=!1,disableFocusRipple:v=!1,disableRipple:_=!1,size:$="medium",...T}=i,I={...i,edge:n,color:f,disabled:m,disableFocusRipple:v,disableRipple:_,size:$},O=ZJe(I);return L.jsx(XJe,{className:gt(O.root,u),centerRipple:!0,focusRipple:!v,disabled:m,disableRipple:_,ref:r,...T,ownerState:I,children:o})}),QJe=Lh(L.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function eKe(e){return ar("MuiChip",e)}const Sr=lr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),tKe=e=>{const{classes:t,disabled:r,size:i,color:n,iconColor:o,onDelete:u,clickable:f,variant:m}=e,v={root:["root",m,r&&"disabled",`size${We(i)}`,`color${We(n)}`,f&&"clickable",f&&`clickableColor${We(n)}`,u&&"deletable",u&&`deletableColor${We(n)}`,`${m}${We(n)}`],label:["label",`label${We(i)}`],avatar:["avatar",`avatar${We(i)}`,`avatarColor${We(n)}`],icon:["icon",`icon${We(i)}`,`iconColor${We(o)}`],deleteIcon:["deleteIcon",`deleteIcon${We(i)}`,`deleteIconColor${We(n)}`,`deleteIcon${We(m)}Color${We(n)}`]};return dr(v,eKe,t)},rKe=nt("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:i,iconColor:n,clickable:o,onDelete:u,size:f,variant:m}=r;return[{[`& .${Sr.avatar}`]:t.avatar},{[`& .${Sr.avatar}`]:t[`avatar${We(f)}`]},{[`& .${Sr.avatar}`]:t[`avatarColor${We(i)}`]},{[`& .${Sr.icon}`]:t.icon},{[`& .${Sr.icon}`]:t[`icon${We(f)}`]},{[`& .${Sr.icon}`]:t[`iconColor${We(n)}`]},{[`& .${Sr.deleteIcon}`]:t.deleteIcon},{[`& .${Sr.deleteIcon}`]:t[`deleteIcon${We(f)}`]},{[`& .${Sr.deleteIcon}`]:t[`deleteIconColor${We(i)}`]},{[`& .${Sr.deleteIcon}`]:t[`deleteIcon${We(m)}Color${We(i)}`]},t.root,t[`size${We(f)}`],t[`color${We(i)}`],o&&t.clickable,o&&i!=="default"&&t[`clickableColor${We(i)})`],u&&t.deletable,u&&i!=="default"&&t[`deletableColor${We(i)}`],t[m],t[`${m}${We(i)}`]]}})(Xt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Sr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Sr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Sr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Sr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Sr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Sr.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Sr.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ir(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ir(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Sr.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Sr.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(([,r])=>r&&r.main&&r.contrastText).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Sr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].contrastTextChannel} / 0.7)`:Ir(e.palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Sr.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Sr.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Sr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ir(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(([,r])=>r&&r.dark).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Sr.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Sr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ir(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(([,r])=>r&&r.dark).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Sr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Sr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Sr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Sr.avatar}`]:{marginLeft:4},[`& .${Sr.avatarSmall}`]:{marginLeft:2},[`& .${Sr.icon}`]:{marginLeft:4},[`& .${Sr.iconSmall}`]:{marginLeft:2},[`& .${Sr.deleteIcon}`]:{marginRight:5},[`& .${Sr.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(([,r])=>r&&r.main).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:Ir(e.palette[r].main,.7)}`,[`&.${Sr.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[r].main,e.palette.action.hoverOpacity)},[`&.${Sr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ir(e.palette[r].main,e.palette.action.focusOpacity)},[`& .${Sr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:Ir(e.palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),iKe=nt("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:i}=r;return[t.label,t[`label${We(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function eK(e){return e.key==="Backspace"||e.key==="Delete"}const Wk=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiChip"}),{avatar:n,className:o,clickable:u,color:f="default",component:m,deleteIcon:v,disabled:_=!1,icon:$,label:T,onClick:I,onDelete:O,onKeyDown:A,onKeyUp:N,size:F="medium",variant:z="filled",tabIndex:B,skipFocusWhenDisabled:G=!1,...H}=i,J=W.useRef(null),Z=uo(J,r),re=ce=>{ce.stopPropagation(),O&&O(ce)},q=ce=>{ce.currentTarget===ce.target&&eK(ce)&&ce.preventDefault(),A&&A(ce)},X=ce=>{ce.currentTarget===ce.target&&O&&eK(ce)&&O(ce),N&&N(ce)},ie=u!==!1&&I?!0:u,le=ie||O?t1:m||"div",ue={...i,component:le,disabled:_,size:F,color:f,iconColor:W.isValidElement($)&&$.props.color||f,onDelete:!!O,clickable:ie,variant:z},ne=tKe(ue),pe=le===t1?{component:m||"div",focusVisibleClassName:ne.focusVisible,...O&&{disableRipple:!0}}:{};let ye=null;O&&(ye=v&&W.isValidElement(v)?W.cloneElement(v,{className:gt(v.props.className,ne.deleteIcon),onClick:re}):L.jsx(QJe,{className:gt(ne.deleteIcon),onClick:re}));let ge=null;n&&W.isValidElement(n)&&(ge=W.cloneElement(n,{className:gt(ne.avatar,n.props.className)}));let he=null;return $&&W.isValidElement($)&&(he=W.cloneElement($,{className:gt(ne.icon,$.props.className)})),L.jsxs(rKe,{as:le,className:gt(ne.root,o),disabled:ie&&_?!0:void 0,onClick:I,onKeyDown:q,onKeyUp:X,ref:Z,tabIndex:G&&_?-1:B,ownerState:ue,...pe,...H,children:[ge||he,L.jsx(iKe,{className:gt(ne.label),ownerState:ue,children:T}),ye]})});function ipe({props:e,states:t,muiFormControl:r}){return t.reduce((i,n)=>(i[n]=e[n],r&&typeof e[n]>"u"&&(i[n]=r[n]),i),{})}const npe=W.createContext(void 0);function SD(){return W.useContext(npe)}function tK(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function rK(e,t=!1){return e&&(tK(e.value)&&e.value!==""||t&&tK(e.defaultValue)&&e.defaultValue!=="")}function nKe(e){return e.startAdornment}function sKe(e){return ar("MuiButton",e)}const hy=lr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),oKe=W.createContext({}),aKe=W.createContext(void 0),lKe=e=>{const{color:t,disableElevation:r,fullWidth:i,size:n,variant:o,classes:u}=e,f={root:["root",o,`${o}${We(t)}`,`size${We(n)}`,`${o}Size${We(n)}`,`color${We(t)}`,r&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${We(n)}`],endIcon:["icon","endIcon",`iconSize${We(n)}`]},m=dr(f,sKe,u);return{...u,...m}},spe=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],uKe=nt(t1,{shouldForwardProp:e=>Hp(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${We(r.color)}`],t[`size${We(r.size)}`],t[`${r.variant}Size${We(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(Xt(({theme:e})=>{var i,n;const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${hy.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${hy.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${hy.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${hy.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(([,o])=>o&&o.main&&o.dark&&o.contrastText).map(([o])=>({props:{color:o},style:{"--variant-textColor":(e.vars||e).palette[o].main,"--variant-outlinedColor":(e.vars||e).palette[o].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[o].mainChannel} / 0.5)`:Ir(e.palette[o].main,.5),"--variant-containedColor":(e.vars||e).palette[o].contrastText,"--variant-containedBg":(e.vars||e).palette[o].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[o].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[o].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[o].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[o].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":e.vars?e.vars.palette.text.primary:(n=(i=e.palette).getContrastText)==null?void 0:n.call(i,t),"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${hy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${hy.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),cKe=nt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${We(r.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...spe]}),hKe=nt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${We(r.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...spe]}),iK=W.forwardRef(function(t,r){const i=W.useContext(oKe),n=W.useContext(aKe),o=Gw(i,t),u=br({props:o,name:"MuiButton"}),{children:f,color:m="primary",component:v="button",className:_,disabled:$=!1,disableElevation:T=!1,disableFocusRipple:I=!1,endIcon:O,focusVisibleClassName:A,fullWidth:N=!1,size:F="medium",startIcon:z,type:B,variant:G="text",...H}=u,J={...u,color:m,component:v,disabled:$,disableElevation:T,disableFocusRipple:I,fullWidth:N,size:F,type:B,variant:G},Z=lKe(J),re=z&&L.jsx(cKe,{className:Z.startIcon,ownerState:J,children:z}),q=O&&L.jsx(hKe,{className:Z.endIcon,ownerState:J,children:O}),X=n||"";return L.jsxs(uKe,{ownerState:J,className:gt(i.className,Z.root,_,X),component:v,disabled:$,focusRipple:!I,focusVisibleClassName:gt(Z.focusVisible,A),ref:r,type:B,...H,classes:Z,children:[re,f,q]})});function dKe(e){return ar("PrivateSwitchBase",e)}lr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const pKe=e=>{const{classes:t,checked:r,disabled:i,edge:n}=e,o={root:["root",r&&"checked",i&&"disabled",n&&`edge${We(n)}`],input:["input"]};return dr(o,dKe,t)},fKe=nt(t1)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),yKe=nt("input",{shouldForwardProp:Hp})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),$D=W.forwardRef(function(t,r){const{autoFocus:i,checked:n,checkedIcon:o,className:u,defaultChecked:f,disabled:m,disableFocusRipple:v=!1,edge:_=!1,icon:$,id:T,inputProps:I,inputRef:O,name:A,onBlur:N,onChange:F,onFocus:z,readOnly:B,required:G=!1,tabIndex:H,type:J,value:Z,...re}=t,[q,X]=o7({controlled:n,default:!!f,name:"SwitchBase",state:"checked"}),ie=SD(),le=ce=>{z&&z(ce),ie&&ie.onFocus&&ie.onFocus(ce)},ue=ce=>{N&&N(ce),ie&&ie.onBlur&&ie.onBlur(ce)},ne=ce=>{if(ce.nativeEvent.defaultPrevented)return;const Ee=ce.target.checked;X(Ee),F&&F(ce,Ee)};let pe=m;ie&&typeof pe>"u"&&(pe=ie.disabled);const ye=J==="checkbox"||J==="radio",ge={...t,checked:q,disabled:pe,disableFocusRipple:v,edge:_},he=pKe(ge);return L.jsxs(fKe,{component:"span",className:gt(he.root,u),centerRipple:!0,focusRipple:!v,disabled:pe,tabIndex:null,role:void 0,onFocus:le,onBlur:ue,ownerState:ge,ref:r,...re,children:[L.jsx(yKe,{autoFocus:i,checked:n,defaultChecked:f,className:he.input,disabled:pe,id:ye?T:void 0,name:A,onChange:ne,readOnly:B,ref:O,required:G,ownerState:ge,tabIndex:H,type:J,...J==="checkbox"&&Z===void 0?{}:{value:Z},...I}),q?o:$]})}),mKe=Lh(L.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),gKe=Lh(L.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),vKe=Lh(L.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function bKe(e){return ar("MuiCheckbox",e)}const Jk=lr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),wKe=e=>{const{classes:t,indeterminate:r,color:i,size:n}=e,o={root:["root",r&&"indeterminate",`color${We(i)}`,`size${We(n)}`]},u=dr(o,bKe,t);return{...t,...u}},xKe=nt($D,{shouldForwardProp:e=>Hp(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${We(r.size)}`],r.color!=="default"&&t[`color${We(r.color)}`]]}})(Xt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{[`&.${Jk.checked}, &.${Jk.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${Jk.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),_Ke=L.jsx(gKe,{}),SKe=L.jsx(mKe,{}),$Ke=L.jsx(vKe,{}),MKe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiCheckbox"}),{checkedIcon:n=_Ke,color:o="primary",icon:u=SKe,indeterminate:f=!1,indeterminateIcon:m=$Ke,inputProps:v,size:_="medium",disableRipple:$=!1,className:T,...I}=i,O=f?m:u,A=f?m:n,N={...i,disableRipple:$,color:o,indeterminate:f,size:_},F=wKe(N);return L.jsx(xKe,{type:"checkbox",inputProps:{"data-indeterminate":f,...v},icon:W.cloneElement(O,{fontSize:O.props.fontSize??_}),checkedIcon:W.cloneElement(A,{fontSize:A.props.fontSize??_}),ownerState:N,ref:r,className:gt(F.root,T),...I,classes:F})});function TKe(e){return ar("MuiCircularProgress",e)}lr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const nd=44,yj=qp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,mj=qp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,kKe=typeof yj!="string"?qg`
        animation: ${yj} 1.4s linear infinite;
      `:null,CKe=typeof mj!="string"?qg`
        animation: ${mj} 1.4s ease-in-out infinite;
      `:null,EKe=e=>{const{classes:t,variant:r,color:i,disableShrink:n}=e,o={root:["root",r,`color${We(i)}`],svg:["svg"],circle:["circle",`circle${We(r)}`,n&&"circleDisableShrink"]};return dr(o,TKe,t)},IKe=nt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${We(r.color)}`]]}})(Xt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:kKe||{animation:`${yj} 1.4s linear infinite`}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),PKe=nt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),OKe=nt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${We(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Xt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:CKe||{animation:`${mj} 1.4s ease-in-out infinite`}}]}))),AKe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiCircularProgress"}),{className:n,color:o="primary",disableShrink:u=!1,size:f=40,style:m,thickness:v=3.6,value:_=0,variant:$="indeterminate",...T}=i,I={...i,color:o,disableShrink:u,size:f,thickness:v,value:_,variant:$},O=EKe(I),A={},N={},F={};if($==="determinate"){const z=2*Math.PI*((nd-v)/2);A.strokeDasharray=z.toFixed(3),F["aria-valuenow"]=Math.round(_),A.strokeDashoffset=`${((100-_)/100*z).toFixed(3)}px`,N.transform="rotate(-90deg)"}return L.jsx(IKe,{className:gt(O.root,n),style:{width:f,height:f,...N,...m},ownerState:I,ref:r,role:"progressbar",...F,...T,children:L.jsx(PKe,{className:O.svg,ownerState:I,viewBox:`${nd/2} ${nd/2} ${nd} ${nd}`,children:L.jsx(OKe,{className:O.circle,style:A,ownerState:I,cx:nd,cy:nd,r:(nd-v)/2,fill:"none",strokeWidth:v})})})});function jKe(e){return ar("MuiFormControl",e)}lr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const RKe=e=>{const{classes:t,margin:r,fullWidth:i}=e,n={root:["root",r!=="none"&&`margin${We(r)}`,i&&"fullWidth"]};return dr(n,jKe,t)},LKe=nt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>({...t.root,...t[`margin${We(e.margin)}`],...e.fullWidth&&t.fullWidth})})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),In=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiFormControl"}),{children:n,className:o,color:u="primary",component:f="div",disabled:m=!1,error:v=!1,focused:_,fullWidth:$=!1,hiddenLabel:T=!1,margin:I="none",required:O=!1,size:A="medium",variant:N="outlined",...F}=i,z={...i,color:u,component:f,disabled:m,error:v,fullWidth:$,hiddenLabel:T,margin:I,required:O,size:A,variant:N},B=RKe(z),[G,H]=W.useState(()=>{let ue=!1;return n&&W.Children.forEach(n,ne=>{if(!q2(ne,["Input","Select"]))return;const pe=q2(ne,["Select"])?ne.props.input:ne;pe&&nKe(pe.props)&&(ue=!0)}),ue}),[J,Z]=W.useState(()=>{let ue=!1;return n&&W.Children.forEach(n,ne=>{q2(ne,["Input","Select"])&&(rK(ne.props,!0)||rK(ne.props.inputProps,!0))&&(ue=!0)}),ue}),[re,q]=W.useState(!1);m&&re&&q(!1);const X=_!==void 0&&!m?_:re;let ie;const le=W.useMemo(()=>({adornedStart:G,setAdornedStart:H,color:u,disabled:m,error:v,filled:J,focused:X,fullWidth:$,hiddenLabel:T,size:A,onBlur:()=>{q(!1)},onEmpty:()=>{Z(!1)},onFilled:()=>{Z(!0)},onFocus:()=>{q(!0)},registerEffect:ie,required:O,variant:N}),[G,u,m,v,J,X,$,T,ie,O,A,N]);return L.jsx(npe.Provider,{value:le,children:L.jsx(LKe,{as:f,ownerState:z,className:gt(B.root,o),ref:r,...F,children:n})})});function NKe(e){return ar("MuiFormControlLabel",e)}const I2=lr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),FKe=e=>{const{classes:t,disabled:r,labelPlacement:i,error:n,required:o}=e,u={root:["root",r&&"disabled",`labelPlacement${We(i)}`,n&&"error",o&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",n&&"error"]};return dr(u,NKe,t)},DKe=nt("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${I2.label}`]:t.label},t.root,t[`labelPlacement${We(r.labelPlacement)}`]]}})(Xt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${I2.disabled}`]:{cursor:"default"},[`& .${I2.label}`]:{[`&.${I2.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),zKe=nt("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Xt(({theme:e})=>({[`&.${I2.error}`]:{color:(e.vars||e).palette.error.main}}))),Ot=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiFormControlLabel"}),{checked:n,className:o,componentsProps:u={},control:f,disabled:m,disableTypography:v,inputRef:_,label:$,labelPlacement:T="end",name:I,onChange:O,required:A,slots:N={},slotProps:F={},value:z,...B}=i,G=SD(),H=m??f.props.disabled??(G==null?void 0:G.disabled),J=A??f.props.required,Z={disabled:H,required:J};["checked","name","onChange","value","inputRef"].forEach(pe=>{typeof f.props[pe]>"u"&&typeof i[pe]<"u"&&(Z[pe]=i[pe])});const re=ipe({props:i,muiFormControl:G,states:["error"]}),q={...i,disabled:H,labelPlacement:T,required:J,error:re.error},X=FKe(q),ie={slots:N,slotProps:{...u,...F}},[le,ue]=e1("typography",{elementType:Kt,externalForwardedProps:ie,ownerState:q});let ne=$;return ne!=null&&ne.type!==Kt&&!v&&(ne=L.jsx(le,{component:"span",...ue,className:gt(X.label,ue==null?void 0:ue.className),children:ne})),L.jsxs(DKe,{className:gt(X.root,o),ownerState:q,ref:r,...B,children:[W.cloneElement(f,Z),J?L.jsxs("div",{children:[ne,L.jsxs(zKe,{ownerState:q,"aria-hidden":!0,className:X.asterisk,children:[" ","*"]})]}):ne]})});function BKe(e){return ar("MuiFormGroup",e)}lr("MuiFormGroup",["root","row","error"]);const VKe=e=>{const{classes:t,row:r,error:i}=e;return dr({root:["root",r&&"row",i&&"error"]},BKe,t)},UKe=nt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),ope=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiFormGroup"}),{className:n,row:o=!1,...u}=i,f=SD(),m=ipe({props:i,muiFormControl:f,states:["error"]}),v={...i,row:o,error:m.error},_=VKe(v);return L.jsx(UKe,{className:gt(_.root,n),ownerState:v,ref:r,...u})}),nK=W.createContext();function GKe(e){return ar("MuiGrid",e)}const qKe=[0,1,2,3,4,5,6,7,8,9,10],HKe=["column-reverse","column","row-reverse","row"],WKe=["nowrap","wrap-reverse","wrap"],cb=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],w3=lr("MuiGrid",["root","container","item","zeroMinWidth",...qKe.map(e=>`spacing-xs-${e}`),...HKe.map(e=>`direction-xs-${e}`),...WKe.map(e=>`wrap-xs-${e}`),...cb.map(e=>`grid-xs-${e}`),...cb.map(e=>`grid-sm-${e}`),...cb.map(e=>`grid-md-${e}`),...cb.map(e=>`grid-lg-${e}`),...cb.map(e=>`grid-xl-${e}`)]);function JKe({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((i,n)=>{let o={};if(t[n]&&(r=t[n]),!r)return i;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const u=R0({values:t.columns,breakpoints:e.breakpoints.values}),f=typeof u=="object"?u[n]:u;if(f==null)return i;const m=`${Math.round(r/f*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const _=e.spacing(t.columnSpacing);if(_!=="0px"){const $=`calc(${m} + ${_})`;v={flexBasis:$,maxWidth:$}}}o={flexBasis:m,flexGrow:0,maxWidth:m,...v}}return e.breakpoints.values[n]===0?Object.assign(i,o):i[e.breakpoints.up(n)]=o,i},{})}function KKe({theme:e,ownerState:t}){const r=R0({values:t.direction,breakpoints:e.breakpoints.values});return No({theme:e},r,i=>{const n={flexDirection:i};return i.startsWith("column")&&(n[`& > .${w3.item}`]={maxWidth:"none"}),n})}function ape({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(n=>{r===""&&t[n]!==0&&(r=n)});const i=Object.keys(e).sort((n,o)=>e[n]-e[o]);return i.slice(0,i.indexOf(r))}function YKe({theme:e,ownerState:t}){const{container:r,rowSpacing:i}=t;let n={};if(r&&i!==0){const o=R0({values:i,breakpoints:e.breakpoints.values});let u;typeof o=="object"&&(u=ape({breakpoints:e.breakpoints.values,values:o})),n=No({theme:e},o,(f,m)=>{const v=e.spacing(f);return v!=="0px"?{marginTop:e.spacing(-f),[`& > .${w3.item}`]:{paddingTop:v}}:u!=null&&u.includes(m)?{}:{marginTop:0,[`& > .${w3.item}`]:{paddingTop:0}}})}return n}function ZKe({theme:e,ownerState:t}){const{container:r,columnSpacing:i}=t;let n={};if(r&&i!==0){const o=R0({values:i,breakpoints:e.breakpoints.values});let u;typeof o=="object"&&(u=ape({breakpoints:e.breakpoints.values,values:o})),n=No({theme:e},o,(f,m)=>{const v=e.spacing(f);if(v!=="0px"){const _=e.spacing(-f);return{width:`calc(100% + ${v})`,marginLeft:_,[`& > .${w3.item}`]:{paddingLeft:v}}}return u!=null&&u.includes(m)?{}:{width:"100%",marginLeft:0,[`& > .${w3.item}`]:{paddingLeft:0}}})}return n}function XKe(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const i=[];return t.forEach(n=>{const o=e[n];Number(o)>0&&i.push(r[`spacing-${n}-${String(o)}`])}),i}const QKe=nt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:i,direction:n,item:o,spacing:u,wrap:f,zeroMinWidth:m,breakpoints:v}=r;let _=[];i&&(_=XKe(u,v,t));const $=[];return v.forEach(T=>{const I=r[T];I&&$.push(t[`grid-${T}-${String(I)}`])}),[t.root,i&&t.container,o&&t.item,m&&t.zeroMinWidth,..._,n!=="row"&&t[`direction-xs-${String(n)}`],f!=="wrap"&&t[`wrap-xs-${String(f)}`],...$]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),KKe,YKe,ZKe,JKe);function eYe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(i=>{const n=e[i];if(Number(n)>0){const o=`spacing-${i}-${String(n)}`;r.push(o)}}),r}const tYe=e=>{const{classes:t,container:r,direction:i,item:n,spacing:o,wrap:u,zeroMinWidth:f,breakpoints:m}=e;let v=[];r&&(v=eYe(o,m));const _=[];m.forEach(T=>{const I=e[T];I&&_.push(`grid-${T}-${String(I)}`)});const $={root:["root",r&&"container",n&&"item",f&&"zeroMinWidth",...v,i!=="row"&&`direction-xs-${String(i)}`,u!=="wrap"&&`wrap-xs-${String(u)}`,..._]};return dr($,GKe,t)},yr=W.forwardRef(function(t,r){const i=kte({props:t,name:"MuiGrid"}),{breakpoints:n}=k1(),o=J$(i),{className:u,columns:f,columnSpacing:m,component:v="div",container:_=!1,direction:$="row",item:T=!1,rowSpacing:I,spacing:O=0,wrap:A="wrap",zeroMinWidth:N=!1,...F}=o,z=I||O,B=m||O,G=W.useContext(nK),H=_?f||12:G,J={},Z={...F};n.keys.forEach(X=>{F[X]!=null&&(J[X]=F[X],delete Z[X])});const re={...o,columns:H,container:_,direction:$,item:T,rowSpacing:z,columnSpacing:B,wrap:A,zeroMinWidth:N,spacing:O,...J,breakpoints:n.keys},q=tYe(re);return L.jsx(nK.Provider,{value:H,children:L.jsx(QKe,{ownerState:re,className:gt(q.root,u),as:v,ref:r,...Z})})});function rYe(e){return ar("MuiLinearProgress",e)}lr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const gj=4,vj=qp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,iYe=typeof vj!="string"?qg`
        animation: ${vj} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,bj=qp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,nYe=typeof bj!="string"?qg`
        animation: ${bj} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,wj=qp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,sYe=typeof wj!="string"?qg`
        animation: ${wj} 3s infinite linear;
      `:null,oYe=e=>{const{classes:t,variant:r,color:i}=e,n={root:["root",`color${We(i)}`,r],dashed:["dashed",`dashedColor${We(i)}`],bar1:["bar",`barColor${We(i)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar",r!=="buffer"&&`barColor${We(i)}`,r==="buffer"&&`color${We(i)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return dr(n,rYe,t)},MD=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Wg(e.palette[t].main,.62):Hg(e.palette[t].main,.5),aYe=nt("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${We(r.color)}`],t[r.variant]]}})(Xt(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:MD(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),lYe=nt("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${We(r.color)}`]]}})(Xt(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>{const r=MD(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),sYe||{animation:`${wj} 3s infinite linear`}),uYe=nt("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${We(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(Xt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${gj}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${gj}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:iYe||{animation:`${vj} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),cYe=nt("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${We(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(Xt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:MD(e,t),transition:`transform .${gj}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:nYe||{animation:`${bj} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),hYe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiLinearProgress"}),{className:n,color:o="primary",value:u,valueBuffer:f,variant:m="indeterminate",...v}=i,_={...i,color:o,variant:m},$=oYe(_),T=bte(),I={},O={bar1:{},bar2:{}};if((m==="determinate"||m==="buffer")&&u!==void 0){I["aria-valuenow"]=Math.round(u),I["aria-valuemin"]=0,I["aria-valuemax"]=100;let A=u-100;T&&(A=-A),O.bar1.transform=`translateX(${A}%)`}if(m==="buffer"&&f!==void 0){let A=(f||0)-100;T&&(A=-A),O.bar2.transform=`translateX(${A}%)`}return L.jsxs(aYe,{className:gt($.root,n),ownerState:_,role:"progressbar",...I,ref:r,...v,children:[m==="buffer"?L.jsx(lYe,{className:$.dashed,ownerState:_}):null,L.jsx(uYe,{className:$.bar1,ownerState:_,style:O.bar1}),m==="determinate"?null:L.jsx(cYe,{className:$.bar2,ownerState:_,style:O.bar2})]})});function dYe(e){return ar("MuiMobileStepper",e)}lr("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);const pYe=e=>{const{classes:t,position:r}=e,i={root:["root",`position${We(r)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return dr(i,dYe,t)},fYe=nt($n,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${We(r.position)}`]]}})(Xt(({theme:e})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(e.vars||e).palette.background.default,padding:8,variants:[{props:({position:t})=>t==="top"||t==="bottom",style:{position:"fixed",left:0,right:0,zIndex:(e.vars||e).zIndex.mobileStepper}},{props:{position:"top"},style:{top:0}},{props:{position:"bottom"},style:{bottom:0}}]}))),yYe=nt("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(e,t)=>t.dots})({variants:[{props:{variant:"dots"},style:{display:"flex",flexDirection:"row"}}]}),mYe=nt("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:e=>Cte(e)&&e!=="dotActive",overridesResolver:(e,t)=>{const{dotActive:r}=e;return[t.dot,r&&t.dotActive]}})(Xt(({theme:e})=>({variants:[{props:{variant:"dots"},style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"}},{props:{variant:"dots",dotActive:!0},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}))),gYe=nt(hYe,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(e,t)=>t.progress})({variants:[{props:{variant:"progress"},style:{width:"50%"}}]}),vYe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiMobileStepper"}),{activeStep:n=0,backButton:o,className:u,LinearProgressProps:f,nextButton:m,position:v="bottom",steps:_,variant:$="dots",...T}=i,I={...i,activeStep:n,position:v,variant:$};let O;$==="progress"&&(_===1?O=100:O=Math.ceil(n/(_-1)*100));const A=pYe(I);return L.jsxs(fYe,{square:!0,elevation:0,className:gt(A.root,u),ref:r,ownerState:I,...T,children:[o,$==="text"&&L.jsxs(W.Fragment,{children:[n+1," / ",_]}),$==="dots"&&L.jsx(yYe,{ownerState:I,className:A.dots,children:[...new Array(_)].map((N,F)=>L.jsx(mYe,{className:gt(A.dot,F===n&&A.dotActive),ownerState:I,dotActive:F===n},F))}),$==="progress"&&L.jsx(gYe,{ownerState:I,className:A.progress,variant:"determinate",value:O,...f}),m]})}),bYe=Lh(L.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),wYe=Lh(L.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),xYe=nt("span",{shouldForwardProp:Hp})({position:"relative",display:"flex"}),_Ye=nt(bYe)({transform:"scale(1)"}),SYe=nt(wYe)(Xt(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function lpe(e){const{checked:t=!1,classes:r={},fontSize:i}=e,n={...e,checked:t};return L.jsxs(xYe,{className:r.root,ownerState:n,children:[L.jsx(_Ye,{fontSize:i,className:r.background,ownerState:n}),L.jsx(SYe,{fontSize:i,className:r.dot,ownerState:n})]})}const upe=W.createContext(void 0);function $Ye(){return W.useContext(upe)}function MYe(e){return ar("MuiRadio",e)}const sK=lr("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),TYe=e=>{const{classes:t,color:r,size:i}=e,n={root:["root",`color${We(r)}`,i!=="medium"&&`size${We(i)}`]};return{...t,...dr(n,MYe,t)}},kYe=nt($D,{shouldForwardProp:e=>Hp(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size!=="medium"&&t[`size${We(r.size)}`],t[`color${We(r.color)}`]]}})(Xt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${sK.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{[`&.${sK.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function CYe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const oK=L.jsx(lpe,{checked:!0}),aK=L.jsx(lpe,{}),Nt=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiRadio"}),{checked:n,checkedIcon:o=oK,color:u="primary",icon:f=aK,name:m,onChange:v,size:_="medium",className:$,disableRipple:T=!1,...I}=i,O={...i,disableRipple:T,color:u,size:_},A=TYe(O),N=$Ye();let F=n;const z=r4(v,N&&N.onChange);let B=m;return N&&(typeof F>"u"&&(F=CYe(N.value,i.value)),typeof B>"u"&&(B=N.name)),L.jsx(kYe,{type:"radio",icon:W.cloneElement(f,{fontSize:aK.props.fontSize??_}),checkedIcon:W.cloneElement(o,{fontSize:oK.props.fontSize??_}),ownerState:O,classes:A,name:B,checked:F,onChange:z,ref:r,className:gt(A.root,$),...I})});function EYe(e){return ar("MuiRadioGroup",e)}lr("MuiRadioGroup",["root","row","error"]);const IYe=e=>{const{classes:t,row:r,error:i}=e;return dr({root:["root",r&&"row",i&&"error"]},EYe,t)},Pn=W.forwardRef(function(t,r){const{actions:i,children:n,className:o,defaultValue:u,name:f,onChange:m,value:v,..._}=t,$=W.useRef(null),T=IYe(t),[I,O]=o7({controlled:v,default:u,name:"RadioGroup"});W.useImperativeHandle(i,()=>({focus:()=>{let z=$.current.querySelector("input:not(:disabled):checked");z||(z=$.current.querySelector("input:not(:disabled)")),z&&z.focus()}}),[]);const A=uo(r,$),N=pte(f),F=W.useMemo(()=>({name:N,onChange(z){O(z.target.value),m&&m(z,z.target.value)},value:I}),[N,m,O,I]);return L.jsx(upe.Provider,{value:F,children:L.jsx(ope,{role:"radiogroup",ref:A,className:gt(T.root,o),..._,children:n})})}),Gt=Lwe({createStyledComponent:nt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>kte({props:e,name:"MuiStack"})});function PYe(e){return ar("MuiSwitch",e)}const Qs=lr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),OYe=e=>{const{classes:t,edge:r,size:i,color:n,checked:o,disabled:u}=e,f={root:["root",r&&`edge${We(r)}`,`size${We(i)}`],switchBase:["switchBase",`color${We(n)}`,o&&"checked",u&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=dr(f,PYe,t);return{...t,...m}},AYe=nt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${We(r.edge)}`],t[`size${We(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Qs.thumb}`]:{width:16,height:16},[`& .${Qs.switchBase}`]:{padding:4,[`&.${Qs.checked}`]:{transform:"translateX(16px)"}}}}]}),jYe=nt($D,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Qs.input}`]:t.input},r.color!=="default"&&t[`color${We(r.color)}`]]}})(Xt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Qs.checked}`]:{transform:"translateX(20px)"},[`&.${Qs.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Qs.checked} + .${Qs.track}`]:{opacity:.5},[`&.${Qs.disabled} + .${Qs.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Qs.input}`]:{left:"-100%",width:"300%"}})),Xt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t&&t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Qs.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ir(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qs.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Wg(e.palette[t].main,.62):Hg(e.palette[t].main,.55)}`}},[`&.${Qs.checked} + .${Qs.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),RYe=nt("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(Xt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),LYe=nt("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(Xt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),NYe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiSwitch"}),{className:n,color:o="primary",edge:u=!1,size:f="medium",sx:m,...v}=i,_={...i,color:o,edge:u,size:f},$=OYe(_),T=L.jsx(LYe,{className:$.thumb,ownerState:_});return L.jsxs(AYe,{className:gt($.root,n),sx:m,ownerState:_,children:[L.jsx(jYe,{type:"checkbox",icon:T,checkedIcon:T,ref:r,ownerState:_,...v,classes:{...$,root:$.switchBase}}),L.jsx(RYe,{className:$.track,ownerState:_})]})}),cpe=W.createContext();function FYe(e){return ar("MuiTable",e)}lr("MuiTable",["root","stickyHeader"]);const DYe=e=>{const{classes:t,stickyHeader:r}=e;return dr({root:["root",r&&"stickyHeader"]},FYe,t)},zYe=nt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(Xt(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),lK="table",BYe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTable"}),{className:n,component:o=lK,padding:u="normal",size:f="medium",stickyHeader:m=!1,...v}=i,_={...i,component:o,padding:u,size:f,stickyHeader:m},$=DYe(_),T=W.useMemo(()=>({padding:u,size:f,stickyHeader:m}),[u,f,m]);return L.jsx(cpe.Provider,{value:T,children:L.jsx(zYe,{as:o,role:o===lK?null:"table",ref:r,className:gt($.root,n),ownerState:_,...v})})}),x8=W.createContext();function VYe(e){return ar("MuiTableBody",e)}lr("MuiTableBody",["root"]);const UYe=e=>{const{classes:t}=e;return dr({root:["root"]},VYe,t)},GYe=nt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),qYe={variant:"body"},uK="tbody",HYe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTableBody"}),{className:n,component:o=uK,...u}=i,f={...i,component:o},m=UYe(f);return L.jsx(x8.Provider,{value:qYe,children:L.jsx(GYe,{className:gt(m.root,n),as:o,ref:r,role:o===uK?null:"rowgroup",ownerState:f,...u})})});function WYe(e){return ar("MuiTableCell",e)}const JYe=lr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),KYe=e=>{const{classes:t,variant:r,align:i,padding:n,size:o,stickyHeader:u}=e,f={root:["root",r,u&&"stickyHeader",i!=="inherit"&&`align${We(i)}`,n!=="normal"&&`padding${We(n)}`,`size${We(o)}`]};return dr(f,WYe,t)},YYe=nt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${We(r.size)}`],r.padding!=="normal"&&t[`padding${We(r.padding)}`],r.align!=="inherit"&&t[`align${We(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(Xt(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Wg(Ir(e.palette.divider,1),.88):Hg(Ir(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${JYe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),$a=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTableCell"}),{align:n="inherit",className:o,component:u,padding:f,scope:m,size:v,sortDirection:_,variant:$,...T}=i,I=W.useContext(cpe),O=W.useContext(x8),A=O&&O.variant==="head";let N;u?N=u:N=A?"th":"td";let F=m;N==="td"?F=void 0:!F&&A&&(F="col");const z=$||O&&O.variant,B={...i,align:n,component:N,padding:f||(I&&I.padding?I.padding:"normal"),size:v||(I&&I.size?I.size:"medium"),sortDirection:_,stickyHeader:z==="head"&&I&&I.stickyHeader,variant:z},G=KYe(B);let H=null;return _&&(H=_==="asc"?"ascending":"descending"),L.jsx(YYe,{as:N,ref:r,className:gt(G.root,o),"aria-sort":H,scope:F,ownerState:B,...T})});function ZYe(e){return ar("MuiTableContainer",e)}lr("MuiTableContainer",["root"]);const XYe=e=>{const{classes:t}=e;return dr({root:["root"]},ZYe,t)},QYe=nt("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),eZe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTableContainer"}),{className:n,component:o="div",...u}=i,f={...i,component:o},m=XYe(f);return L.jsx(QYe,{ref:r,as:o,className:gt(m.root,n),ownerState:f,...u})});function tZe(e){return ar("MuiTableHead",e)}lr("MuiTableHead",["root"]);const rZe=e=>{const{classes:t}=e;return dr({root:["root"]},tZe,t)},iZe=nt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),nZe={variant:"head"},cK="thead",sZe=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTableHead"}),{className:n,component:o=cK,...u}=i,f={...i,component:o},m=rZe(f);return L.jsx(x8.Provider,{value:nZe,children:L.jsx(iZe,{as:o,className:gt(m.root,n),ref:r,role:o===cK?null:"rowgroup",ownerState:f,...u})})});function oZe(e){return ar("MuiTableRow",e)}const hK=lr("MuiTableRow",["root","selected","hover","head","footer"]),aZe=e=>{const{classes:t,selected:r,hover:i,head:n,footer:o}=e;return dr({root:["root",r&&"selected",i&&"hover",n&&"head",o&&"footer"]},oZe,t)},lZe=nt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(Xt(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${hK.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${hK.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ir(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),dK="tr",pK=W.forwardRef(function(t,r){const i=br({props:t,name:"MuiTableRow"}),{className:n,component:o=dK,hover:u=!1,selected:f=!1,...m}=i,v=W.useContext(x8),_={...i,component:o,hover:u,selected:f,head:v&&v.variant==="head",footer:v&&v.variant==="footer"},$=aZe(_);return L.jsx(lZe,{as:o,ref:r,className:gt($.root,n),role:o===dK?null:"row",ownerState:_,...m})});nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));const uZe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999,bgcolor:"rgb(26,26,30)",color:"white",justifyContent:"center",display:"flex"};function cZe(){const{viewObj:e,setViewObj:t,token:r,apiUrl:i,checked:n,setAoi:o,loading:u,setLoading:f,setArea:m}=W.useContext(ln);W.useState(!1),W.useState([]),W.useState([]),W.useState(null),W.useState(null);const[v,_]=W.useState([]);W.useState(null),W.useState(null),W.useState(null);const[$,T]=W.useState([]),[I,O]=W.useState([]),[A,N]=ia.useState(0);v.length,ia.useState(0),$.length,W.useEffect(()=>{if(v.length>0){let H=v[A].species,J=Object.keys(H).map(Z=>({name:Z,species:H[Z].species,image:H[Z].image,iucn:H[Z].iucn}));O(J)}},[v,A]);const F=W.useRef(null);let[z,B]=W.useState(!1);W.useState(!1);const G=()=>B(!1);return W.useEffect(()=>{if(F.current&&r){const H=new cae({basemap:"gray"}),J=new pde({url:"https://data-gis.unep-wcmc.org/server/rest/services/ProtectedSites/The_World_Database_of_Protected_Areas/MapServer/1",title:"Protected Planet",definitionExpression:"iso3 in ('PHL','IDN', 'IND')"}),Z=new pj({url:"https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms",title:"Geoportal PH",sublayers:[{name:"geoportal:nipas_20221027",title:"National Integrated Protected Area System"}]}),re=new pj({url:"https://geo.ejatlas.org/geoserver/wms",title:"Geoportal IN",sublayers:[{name:"geonode:Protected_Area_India_Final",title:"National Park and Wildlife Sanctuary India"}]}),q=new Jde({id:"groupLayer",title:"Protected Area Polygons",visible:!1,layers:[re,Z,J]});H.add(q);let X=new iHe({title:"Area of Interest",listMode:"hide"});H.add(X);const ie=new rDe({container:F.current,map:H,zoom:2,center:[78,34],constraints:{minZoom:2},popup:{defaultPopupTemplateEnabled:!0,dockEnabled:!0,autoOpenEnabled:!0,dockOptions:{breakpoint:!1,position:"top-right"}}});ie.when(()=>{t(ie)});let le=new Tqe({view:ie});ie.ui.add(le,"top-left");let ue=new eHe({view:ie}),ne=new rHe({view:ie});ie.ui.add(ne,"top-right"),document.addEventListener("fullscreenchange",function(){});const pe=new jJ({view:ie,content:ue,expandTooltip:"Basemap Gallery"});ie.ui.add(pe,"top-left");let ye=document.createElement("input");ye.type="file",ye.accept=".geojson",ye.id="file-input",ye.name="files[]",ye.addEventListener("change",async ce=>{const Ee=ce.target.files[0];if(Ee&&Ee.name.endsWith(".geojson")){const ze=new FileReader;ze.onload=async Ye=>{X.removeAll(),console.log(JSON.parse(Ye.target.result));const vt=JSON.parse(Ye.target.result).features[0].geometry,tt=vt.type,yt=vt.coordinates;let De;tt==="Point"?De={type:"point",longitude:yt[0],latitude:yt[1]}:tt==="Polygon"&&(De=new pa({rings:yt[0],spatialReference:{wkid:4326}})),o(De);const ot=new ma({geometry:De,symbol:{type:"simple-fill",color:[19,135,8,.2],outline:{color:"white",width:1}}}),He=Math.abs(tpe(nu(De),"hectares")).toFixed(2);m(He),ie.goTo(ot.geometry);async function Te(){const Pt=J.createQuery();return Pt.geometry=ot.geometry,Pt.spatialRelationship="intersects",Pt.returnGeometry=!0,(await J.queryFeatures(Pt)).features.length>0}async function qe(){const Pt=nu(ot.geometry),{xmin:wt,ymin:bt,xmax:ee,ymax:at,spatialReference:{wkid:rt}}=Pt.extent,$e={minx:wt,miny:bt,maxx:ee,maxy:at},Cr=`https://geoserver.geoportal.gov.ph/geoserver/geoportal/wms?service=WMS&request=GetMap&layers=geoportal:nipas_20221027&bbox=${$e.minx},${$e.miny},${$e.maxx},${$e.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,Le=await(await fetch(Cr)).blob();return new Promise((ir,d)=>{const j=URL.createObjectURL(Le),x=document.createElement("img");x.src=j,x.onload=()=>{const h=document.createElement("canvas"),l=h.getContext("2d");h.width=x.width,h.height=x.height,l.drawImage(x,0,0);const c=l.getImageData(0,0,h.width,h.height).data.filter(p=>p!=0).length>0;ir(c)}})}async function it(){const Pt=nu(ot.geometry),{xmin:wt,ymin:bt,xmax:ee,ymax:at,spatialReference:{wkid:rt}}=Pt.extent,$e={minx:wt,miny:bt,maxx:ee,maxy:at},Cr=`https://geo.ejatlas.org/geoserver/wms?service=WMS&request=GetMap&layers=geonode:Protected_Area_India_Final&bbox=${$e.minx},${$e.miny},${$e.maxx},${$e.maxy}&srs=EPSG:3857&width=384&height=384&format=image/png8&TRANSPARENT=true&TILED=true&FORMAT_OPTIONS=dpi%3A135`,Le=await(await fetch(Cr)).blob();return new Promise((ir,d)=>{const j=URL.createObjectURL(Le),x=document.createElement("img");x.src=j,x.onload=()=>{const h=document.createElement("canvas"),l=h.getContext("2d");h.width=x.width,h.height=x.height,l.drawImage(x,0,0);const c=l.getImageData(0,0,h.width,h.height).data.filter(p=>p!=0).length>0;ir(c)}})}const Pe=Te(),pt=qe(),mt=it();try{(await Promise.all([Pe,pt,mt])).includes(!0)&&B(!0)}catch(Pt){console.error("Error:",Pt)}X.add(ot)},ze.readAsText(Ee)}else alert("Please upload a valid GeoJSON file.")});let ge=new jJ({expandIcon:"map",view:ie,content:ye,expandTooltip:"Upload AOI"});ie.ui.add(ge,"top-left");const he=new yWe({view:ie,includeDefaultSources:!0,locationEnabled:!1});ie.ui.add(he,"bottom-right")}},[F,r,i]),L.jsxs(L.Fragment,{children:[L.jsx("div",{id:"mapDiv",ref:F,style:{display:n?"none":"",height:"75vh"}}),L.jsx(Rte,{open:z,onClose:G,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",style:{zIndex:9999},children:L.jsx(Os,{sx:uZe,children:L.jsx("div",{style:{height:"100px",zIndex:9999,overflowY:"scroll"},id:"modelWidget",children:"The uploaded polygon intersects with a Protected Area"})})})]})}var TD={},hpe={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(hpe);var kD=hpe.exports,Kk={};const hZe=vX(sxe);var fK;function CD(){return fK||(fK=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=hZe}(Kk)),Kk}var dZe=kD;Object.defineProperty(TD,"__esModule",{value:!0});var Nd=TD.default=void 0,pZe=dZe(CD()),fZe=L;Nd=TD.default=(0,pZe.default)((0,fZe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function yK(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function yZe(e){return e?{backgroundImage:`url(${e})`}:{}}function V$t({action:e,feature:t}){const r=t==null?void 0:t.attributes,i="image"in e?e.image:void 0;return i&&r?FN(i,r):i??""}const Na="esri-layer-list",Pl=`${Na}__item`,Qr={base:Na,actionMenu:`${Na}__action-menu`,actionGroup:`${Na}__action-group`,filterNoResults:`${Na}__filter-no-results`,item:Pl,itemActive:`${Pl}--active`,itemContent:`${Pl}-content`,itemContentBottom:`${Pl}-content-bottom`,itemMessage:`${Pl}-message`,itemInvisible:`${Pl}--invisible`,itemActionIcon:`${Pl}-action-icon`,itemActionImage:`${Pl}-action-image`,itemTemporaryIcon:`${Pl}-temporary-icon`,itemTableIcon:`${Pl}-table-icon`,itemCatalogIcon:`${Pl}-catalog-icon`,statusIndicator:`${Na}__status-indicator`,publishing:`${Na}__publishing`,updating:`${Na}__updating`,connectionStatus:`${Na}__connection-status`,connectionStatusConnected:`${Na}__connection-status--connected`,visibleToggle:`${Na}__visible-toggle`,visibleIcon:`${Na}__visible-icon`};var xj;let Fd=xj=class extends vx{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new xj({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};b([M()],Fd.prototype,"displayValueEnabled",void 0),b([M()],Fd.prototype,"max",void 0),b([M()],Fd.prototype,"min",void 0),b([M()],Fd.prototype,"step",void 0),b([M()],Fd.prototype,"value",void 0),Fd=xj=b([se("esri.support.actions.ActionSlider")],Fd);const mZe=Fd,dpe={hide:"hide",hideChildren:"hide-children"},gZe=10,vZe=2;function bZe({exclusive:e,visible:t,visibilityAppearance:r}){const i=r==="checkbox";return t?e?"circle-f":i?"check-square-f":"view-visible":e?"circle":i?"square":"view-hide"}function wZe({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function xZe(e){return(e==null?void 0:e.listMode)===dpe.hideChildren}function M6(e){return(e==null?void 0:e.listMode)??void 0}function _Ze(e){if(!e)return"inherited";const t=TZe(ED(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function ppe(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function SZe(e){const t=(e!=null&&e.layer&&ED(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(kZe(t)??!0)}function $Ze(e){return M6(e)!==dpe.hide}function fpe(e,t){e==null||e.sort((r,i)=>{const n="uid"in r?t.indexOf(r.uid):-1,o="uid"in i?t.indexOf(i.uid):-1;return n>o?-1:n<o?1:0})}function MZe(e,t){const r=e==null?void 0:e.layer;if(!r)return;const i=ppe(r);if(!i)return;let n;i==="layers"&&"layers"in r?n=r.layers:i==="sublayers"&&"sublayers"in r&&(n=r.sublayers),fpe(n,t)}function mK(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function ED(e){return e!=null&&"layer"in e&&e.layer!=null}function TZe(e){const t=ype(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function kZe(e){const t=ype(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function ype(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function vu(e){return e==null?void 0:e["data-item"]}function gK(e){return e==null?void 0:e.getAttribute("data-layer-type")}function CZe({children:e,error:t,incompatible:r}){return!!(e!=null&&e.filter(i=>!i.hidden).length)&&!t&&!r}let os=class extends Dh(xl){constructor(t,r){super(t,r),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([lt(()=>this._canCreateLegend,()=>this._createLegend(),ri),lt(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),ri)])}destroy(){this._legend=ai(this._legend)}get _canCreateLegend(){const{content:t,listItem:r}=this;if(!r)return!1;const i="legend";return t===i||t!=null&&!!Array.isArray(t)&&t.includes(i)}get _legendOptions(){const{listItem:t,_legendLayerInfo:r}=this,i=t==null?void 0:t.view;return r&&i?{view:i,layerInfos:[r]}:{}}get _legendLayerInfo(){var u;const t=(u=this.listItem)==null?void 0:u.layer;if(!t||t.type==="subtype-sublayer")return null;const r=ED(t)?t:null,i=t==null?void 0:t.parent,n=i!=null&&"type"in i&&i.type==="map-image"?r==null?void 0:r.source:null,o="";return n&&i?{layer:i,title:o,sublayerIds:[n.mapLayerId]}:{layer:t,title:o}}get disabled(){var n;const{listItem:t,_legend:r,content:i}=this;return!t||!(Array.isArray(i)&&i.length>1)&&!!r&&(!((n=r.activeLayerInfos)!=null&&n.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,r=this._getFirstWidget();return this._get("icon")??(!t&&r?r.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return Ie("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:r,disabled:i,open:n}=this;return t&&!i&&n?t==="legend"&&r?Ie("div",{key:"legend-widget"},r.render()):typeof t=="string"?Ie("div",{innerHTML:t,key:t}):vw(t)?Ie("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?Ie("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:r}=this;return r?Array.isArray(t)?t.map(i=>this._renderContent(i)):this._renderContent(t):null}async _createLegend(){if(ai(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await Ce(()=>import("./Legend-BeLncTUe.js"),__vite__mapDeps([295,171,139,192,166,167,94,62,118,117,2,119,120]),import.meta.url),r=new t(this._legendOptions);this._legend=r}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:vw(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(r=>this._getWidget(r)).find(r=>r):this._getWidget(t)}};b([M()],os.prototype,"_legend",void 0),b([M()],os.prototype,"_canCreateLegend",null),b([M()],os.prototype,"_legendOptions",null),b([M()],os.prototype,"_legendLayerInfo",null),b([M()],os.prototype,"className",void 0),b([M()],os.prototype,"content",void 0),b([M()],os.prototype,"disabled",null),b([M()],os.prototype,"flowEnabled",void 0),b([M()],os.prototype,"icon",null),b([M()],os.prototype,"image",void 0),b([M()],os.prototype,"listItem",void 0),b([M()],os.prototype,"open",void 0),b([M()],os.prototype,"title",null),b([M()],os.prototype,"visible",void 0),os=b([se("esri.widgets.LayerList.ListItemPanel")],os);const mpe=os;var P2;const EZe=ut.ofType({key:"type",defaultKeyValue:"button",base:vx,typeMap:{button:jae,toggle:Rae,slider:mZe}}),gpe=ut.ofType(EZe),Yk="layer",M5="child-list-mode",IZe="hide";let ti=P2=class extends Dh(St){constructor(e){super(e),this.actionsSections=new gpe,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(ut.ofType(P2)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([lt(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),ri),lt(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),ri),lt(()=>this.view,e=>this._updateChildrenView(e),ri),lt(()=>this.panel,e=>this._setListItemOnPanel(e),ri)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const r=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(i=>i.layer===r)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new mpe(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=ro(this,"layer.layer");return(!e||e&&ro(this,"layer.layer.loaded"))&&ro(this,"layer.title")||ro(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var r;const{layer:e,checkPublishStatusEnabled:t}=this;return t&&e&&"publishingInfo"in e&&((r=e.publishingInfo)==null?void 0:r.status)==="publishing"}get updating(){const{layerView:e,connectionStatus:t,layer:r,publishing:i}=this;return!i&&!t&&(e?e.updating:(r==null?void 0:r.loadStatus)==="loading"||!1)}get visible(){var e;return(e=this.layer)==null?void 0:e.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!0}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return _Ze(this.layer)}clone(){return new P2({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){const t=this.children;t&&t.forEach(r=>r.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(r=>r.view=e)}_createChildren(e){const{listModeDisabled:t,children:r}=this,i=e.filter(n=>!r.some(o=>o.layer===n));r.addMany(this._createChildItems(i,t))}_destroyChildren(e){const{children:t}=this,r=t.filter(i=>!e.includes(i.layer));t.destroyMany(r)}_sortChildren(e){this.children.sort((t,r)=>e.indexOf(r.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(M5),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(M5),this.listModeDisabled||this.addHandles(e.toArray().map(t=>lt(()=>t.listMode,()=>this._compileChildren(e))),M5)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(r=>M6(r)!==IZe);t!=null&&t.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),Yk)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.map(r=>t||$Ze(r)?new P2({layer:r,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(ps).reverse()}_watchLayerProperties(e){if(this.removeHandles(Yk),this.removeHandles(M5),!e)return;if((!this.listModeDisabled&&M6(e))==="hide-children")return void this.children.destroyAll();const t=ppe(e);t&&this.addHandles(lt(()=>e[t],r=>{e.hasOwnProperty(t)&&this._initializeChildLayers(r)},ri),Yk)}};b([M({type:gpe})],ti.prototype,"actionsSections",void 0),b([M()],ti.prototype,"actionsOpen",void 0),b([M()],ti.prototype,"checkPublishStatusEnabled",void 0),b([M({type:ut})],ti.prototype,"children",void 0),b([M()],ti.prototype,"childrenSortable",void 0),b([M({readOnly:!0})],ti.prototype,"connectionStatus",null),b([M({readOnly:!0})],ti.prototype,"error",null),b([M()],ti.prototype,"hidden",void 0),b([M({readOnly:!0})],ti.prototype,"incompatible",null),b([M()],ti.prototype,"layer",void 0),b([M({readOnly:!0})],ti.prototype,"layerView",null),b([M()],ti.prototype,"listItemCreatedFunction",void 0),b([M({nonNullable:!0})],ti.prototype,"listModeDisabled",void 0),b([M()],ti.prototype,"open",void 0),b([M({type:mpe})],ti.prototype,"panel",void 0),b([Ar("panel")],ti.prototype,"castPanel",null),b([M()],ti.prototype,"parent",void 0),b([M({value:!0})],ti.prototype,"sortable",null),b([M()],ti.prototype,"title",null),b([M({readOnly:!0})],ti.prototype,"publishing",null),b([M({readOnly:!0})],ti.prototype,"updating",null),b([M()],ti.prototype,"view",void 0),b([M()],ti.prototype,"visible",null),b([M({readOnly:!0})],ti.prototype,"visibleAtCurrentScale",null),b([M({readOnly:!0})],ti.prototype,"visibleAtCurrentTimeExtent",null),b([M({readOnly:!0})],ti.prototype,"visibilityMode",null),ti=P2=b([se("esri.widgets.LayerList.ListItem")],ti);const ID=ti,Ol={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},PZe="hide",vpe=ut.ofType(ID);let Du=class extends wl.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new vpe,this.view=null}initialize(){this.addHandles([lt(()=>{var t;return((t=this.view)==null?void 0:t.ready)===!0},()=>this._viewHandles(),ri),lt(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList())],Ol.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t!=null&&t.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,r){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:r})}moveListItem(t,r,i,n){var I,O;const o=t==null?void 0:t.layer;if(!o||o.type==="subtype-sublayer"||o.type==="sublayer")return;const u=(O=(I=this.view)==null?void 0:I.map)==null?void 0:O.layers,f=r?mK(r):u,m=i?mK(i):u;if(!f||!m)return;const{operationalItems:v}=this,_=(r==null?void 0:r.children)||v,$=(i==null?void 0:i.children)||v,T=m.length-n;t.parent=i||null,_.remove(t),f.remove(o),$.includes(t)||$.add(t,T),m.includes(o)||m.add(o,T),this._compileList()}_createLayerViewHandles(t){this.removeHandles(Ol.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),Ol.layerViews)}_createMapLayerHandles(t){this.removeHandles(Ol.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),Ol.mapLayers)}_createListItem(t){const{view:r,listItemCreatedFunction:i,checkPublishStatusEnabled:n,listModeDisabled:o}=this;return new ID({checkPublishStatusEnabled:n,listModeDisabled:o,layer:t,listItemCreatedFunction:i,view:r})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(r=>M6(r)!==PZe):void 0}_watchLayersListMode(t){this.removeHandles(Ol.layerListMode),t&&!this.listModeDisabled&&this.addHandles(lt(()=>t.filter(r=>"listMode"in r).map(r=>r.listMode).toArray(),()=>this._compileList()),Ol.layerListMode)}_compileList(){var i,n;const t=(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.layers;this._watchLayersListMode(t);const r=this._getViewableLayers(t);r!=null&&r.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createNewItems(t){const{operationalItems:r}=this;t.forEach(i=>{r.some(n=>n.layer===i)||r.add(this._createListItem(i))})}_removeItems(t){const{operationalItems:r}=this,i=[];r.forEach(n=>{n&&t&&t.includes(n.layer)||i.push(n)}),r.destroyMany(i)}_sortItems(t){const{operationalItems:r}=this;r.sort((i,n)=>{const o=t.indexOf(i.layer),u=t.indexOf(n.layer);return o>u?-1:o<u?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([Ol.mapLayers,Ol.layerViews,Ol.viewLayers]),t!=null&&t.ready?this.addHandles([lt(()=>{var r,i;return(i=(r=this.view)==null?void 0:r.map)==null?void 0:i.allLayers},r=>this._createMapLayerHandles(r),ri),lt(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},r=>this._createLayerViewHandles(r),ri)],Ol.viewLayers):this._removeAllItems()}};b([M()],Du.prototype,"checkPublishStatusEnabled",void 0),b([M()],Du.prototype,"listItemCreatedFunction",void 0),b([M({nonNullable:!0})],Du.prototype,"listModeDisabled",void 0),b([M({type:vpe})],Du.prototype,"operationalItems",void 0),b([M({readOnly:!0})],Du.prototype,"state",null),b([M()],Du.prototype,"totalItems",null),b([M()],Du.prototype,"view",void 0),Du=b([se("esri.widgets.LayerList.LayerListViewModel")],Du);const bpe=Du;let Fa=class extends St{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"catalogLayerList",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"closeButton",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"collapseButton",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"errors",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"filter",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"flow",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"heading",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"statusIndicators",void 0),b([M({type:Boolean,nonNullable:!0})],Fa.prototype,"temporaryLayerIndicators",void 0),Fa=b([se("esri.widgets.LayerList.LayerListVisibleElements")],Fa);const wpe=Fa,OZe=ut.ofType(ID);let cr=class extends Dh(xl){constructor(t,r){super(t,r),this._activeItem=null,this._tooltipReferenceMap=new dw,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusTableListFlowItem=!1,this._focusCatalogFlowItem=!1,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=vZe,this.minFilterItems=gZe,this.openCatalogItem=null,this.openTableListItem=null,this.selectedItems=new OZe,this.selectionMode="none",this.tableList=null,this.viewModel=new bpe,this.visibilityAppearance="default",this.visibleElements=new wpe,this._canMove=({dragEl:i,fromEl:n,toEl:o},u)=>{var H,J,Z;const f=u==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,m=vu(i);if(!(m!=null&&m.sortable))return!1;const v=vu(n),_=gK(n),$=vu(o),T=gK(o),I=!!_&&!!T&&_===T,O={selected:m,from:v,to:$},A=n.group,N=o.group,F=((H=v==null?void 0:v.layer)==null?void 0:H.type)??"",z=((J=$==null?void 0:$.layer)==null?void 0:J.type)??"",B=new Set(["map-image","catalog","knowledge-graph"]);return A&&N&&typeof f=="function"?f.call(null,O):I&&!B.has(F)&&!B.has(z)&&((Z=m==null?void 0:m.layer)==null?void 0:Z.type)!=="sublayer"},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=i=>{if(this.visibilityAppearance!=="default")return;const n=Array.from(i.composedPath()).find(o=>{var u;return(u=o.classList)==null?void 0:u.contains(Qr.item)});this._activeItem=vu(n)},this._onCalciteListOrderChange=i=>{const{_lastDragDetail:n}=this,{toEl:o,fromEl:u,dragEl:f,newIndex:m}=i;if(u&&o&&!((n==null?void 0:n.newIndex)===m&&(n==null?void 0:n.dragEl)===f&&(n==null?void 0:n.toEl)===o&&(n==null?void 0:n.fromEl)===u))if(this._lastDragDetail=i,u!==o)this._moveLayerFromChildList({toEl:o,fromEl:u,dragEl:f,newIndex:m});else{const v=Array.from(u.children).filter(_=>_==null?void 0:_.matches("calcite-list-item")).map(_=>_.value);this._sortLayers(u,v)}}}initialize(){this.addHandles([lt(()=>this.openCatalogItem,t=>t?this._createCatalog():this._destroyCatalog()),lt(()=>this.openTableListItem,t=>t?this._createTableList():this._destroyTableList())])}loadDependencies(){return rf({action:()=>Ce(()=>import("./calcite-action-Qvo-py0l.js"),__vite__mapDeps([296,241,209,210,213,214,215,212,216,217,218]),import.meta.url),"action-group":()=>Ce(()=>import("./calcite-action-group-Cml91WZ3.js"),__vite__mapDeps([297,298,299,215,213,214,209,216,240,241,210,212,217,218,242,243,244,245,246]),import.meta.url),"action-menu":()=>Ce(()=>import("./calcite-action-menu-HEfjYm0s.js"),__vite__mapDeps([300,240,209,214,215,213,241,210,212,216,217,218,242,243,244,245,246]),import.meta.url),button:()=>Ce(()=>import("./calcite-button-BaGuGBwL.js"),__vite__mapDeps([207,208,209,210,211,212,213,214,215,216,217,218]),import.meta.url),flow:()=>Ce(()=>import("./calcite-flow-BUhjdadJ.js"),__vite__mapDeps([301,215,213]),import.meta.url),"flow-item":()=>Ce(()=>import("./calcite-flow-item-I5Gslk4H.js"),__vite__mapDeps([302,209,210,213,214,215,216,239,240,241,212,217,218,242,243,244,245,246,236]),import.meta.url),icon:()=>Ce(()=>import("./calcite-icon-CptXRCQG.js"),__vite__mapDeps([219,217,209,215]),import.meta.url),list:()=>Ce(()=>import("./calcite-list-BJpr9WXn.js"),__vite__mapDeps([303,209,210,215,304,305,213,216,214,244,217,306,208,211,212,218,236]),import.meta.url),"list-item":()=>Ce(()=>import("./calcite-list-item-Zy_k_P-6.js"),__vite__mapDeps([307,209,210,214,215,216,213,305,304,241,212,217,218]),import.meta.url),notice:()=>Ce(()=>import("./calcite-notice-hQEkO-nW.js"),__vite__mapDeps([308,299,215,209,213,214,216,246,212,217]),import.meta.url),tooltip:()=>Ce(()=>import("./calcite-tooltip-CuMp_i4m.js"),__vite__mapDeps([309,209,243,244,246]),import.meta.url)})}destroy(){this._destroyTableList(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(t=>t.children.filter(r=>r.layer.type!=="catalog-dynamic-group")).length}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get icon(){return"layers"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get multipleSelectionEnabled(){return Ib(Ne.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode==="multiple"}set multipleSelectionEnabled(t){Ib(Ne.getLogger(this),"multipleSelectionEnabled",{replacement:"selectionMode",version:"4.29",warnOnce:!0}),this.selectionMode=t?"multiple":this.selectionEnabled?"single":"none"}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(t){this.viewModel.operationalItems=t}get selectionEnabled(){return Ib(Ne.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.selectionMode!=="none"&&this.dragEnabled}set selectionEnabled(t){Ib(Ne.getLogger(this),"selectionEnabled",{replacement:"selectionMode, dragEnabled",version:"4.29",warnOnce:!0}),this.dragEnabled=t,this.selectionMode=t?this.multipleSelectionEnabled?"multiple":"single":"none"}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}triggerAction(t,r){return this.viewModel.triggerAction(t,r)}render(){var n,o;const t=(n=this.viewModel)==null?void 0:n.state,r={[Bt.hidden]:t==="loading",[Bt.disabled]:t==="disabled"},i=(o=this.operationalItems)==null?void 0:o.filter(u=>!u.hidden&&(this.visibleElements.errors||!u.error));return Ie("div",{class:this.classes(Qr.base,Bt.widget,Bt.panel,r)},i!=null&&i.length?[this._renderItemTooltips(i),this._renderItems(i)]:this._renderNoItems())}_renderItemTooltip(t){const{_tooltipReferenceMap:r,messages:i}=this;return t?Ie("calcite-tooltip",{key:`tooltip-${t.layer.uid}`,referenceElement:r.get(t.layer.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(t){var r;return t.incompatible?this._renderItemTooltip(t):(r=t.children)==null?void 0:r.filter(i=>!i.hidden).toArray().map(i=>this._renderItemTooltipNodes(i))}_renderItemTooltips(t){return t==null?void 0:t.toArray().map(r=>this._renderItemTooltipNodes(r))}_renderNoItemsMessage(){return Ie("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return Ie("div",{class:Qr.itemMessage,key:"esri-layer-list__no-items"},Ie("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}_destroyCatalog(){var t;(t=this.catalogLayerList)==null||t.destroy(),this._set("catalogLayerList",null)}_destroyTableList(){var t;(t=this.tableList)==null||t.destroy(),this._set("tableList",null)}async _createCatalog(){var $;this._destroyCatalog();const{default:t}=await Ce(()=>import("./CatalogLayerList-LEhv_bQr.js"),[],import.meta.url),{headingLevel:r,catalogOptions:i,view:n,filterPlaceholder:o,listItemCreatedFunction:u,minFilterItems:f,selectionMode:m,visibilityAppearance:v}=this,_=($=this.openCatalogItem)==null?void 0:$.layer;this._set("catalogLayerList",new t({headingLevel:r,view:n,filterPlaceholder:o,listItemCreatedFunction:u,minFilterItems:f,selectionMode:m,visibilityAppearance:v,...i,catalogLayer:_}))}_getTableListParams(t){const r=t==null?void 0:t.layer;return(r==null?void 0:r.type)==="knowledge-graph"?{...this.knowledgeGraphOptions,tables:r==null?void 0:r.tables}:null}async _createTableList(){var u;this._destroyTableList();const{default:t}=await Ce(()=>import("./TableList-CS4xAzEi.js"),[],import.meta.url),r=this._getTableListParams(this.openTableListItem);if(!((u=r==null?void 0:r.tables)!=null&&u.length))return;const{headingLevel:i,selectionMode:n,dragEnabled:o}=this;this._set("tableList",new t({headingLevel:i,selectionMode:n,dragEnabled:o,...r}))}_renderCatalogFlowItem(){var n;const{openCatalogItem:t,messages:r}=this;if(!t)return null;const i=this._getLayerTitle(t);return Ie("calcite-flow-item",{afterCreate:this._focusCatalogFlowItemNode,afterUpdate:this._focusCatalogFlowItemNode,bind:this,description:i,heading:r.catalogLayers,headingLevel:this.headingLevel,key:`flow-catalog-${t.uid}`,onCalciteFlowItemBack:o=>{o.preventDefault(),this.openCatalogItem=null,this._focusRootFlowItem=!0}},(n=this.catalogLayerList)==null?void 0:n.render())}_renderTableListFlowItem(){var n;const{openTableListItem:t,messages:r}=this;if(!t)return null;const i=this._getLayerTitle(t);return Ie("calcite-flow-item",{afterCreate:this._focusTableListFlowItemNode,afterUpdate:this._focusTableListFlowItemNode,bind:this,description:i,heading:r.tables,headingLevel:this.headingLevel,key:`flow-table-list-${t.uid}`,onCalciteFlowItemBack:o=>{o.preventDefault(),this.openTableListItem=null,this._focusRootFlowItem=!0}},(n=this.tableList)==null?void 0:n.render())}_renderPanelFlowItems(t){return t?t.flatten(r=>r.children).filter(({hidden:r,panel:i})=>!r&&(i==null?void 0:i.open)&&!i.disabled&&i.flowEnabled).toArray().map(({title:r,panel:i})=>{const n=()=>this._handlePanelFlowItemBack(i);return Ie("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:r,heading:i.title,headingLevel:this.headingLevel,key:`flow-panel-${i.uid}`,onCalciteFlowItemBack:o=>{o.preventDefault(),n()}},i.render(),Ie("calcite-button",{appearance:"transparent",onclick:n,slot:"footer-actions",width:"full"},this.messagesCommon.back))}):[]}_handlePanelFlowItemBack(t){t.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame(()=>t==null?void 0:t.setFocus()))}_focusCatalogFlowItemNode(t){this._focusCatalogFlowItem&&(this._focusCatalogFlowItem=!1,requestAnimationFrame(()=>t==null?void 0:t.setFocus()))}_focusTableListFlowItemNode(t){this._focusTableListFlowItem&&(this._focusTableListFlowItem=!1,requestAnimationFrame(()=>t==null?void 0:t.setFocus()))}_focusPanelFlowItemNode(t){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,requestAnimationFrame(()=>t==null?void 0:t.setFocus()))}_renderItems(t){const{visible:r,collapsed:i,_filterEnabled:n,_rootGroupUid:o,visibleElements:{closeButton:u,collapseButton:f,heading:m,flow:v},_dragEnabled:_,selectionMode:$,filterText:T,filterPlaceholder:I,messages:O}=this,A=[Ie("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:u,closed:!r,collapsed:i,collapsible:f,heading:m?O.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",onCalciteFlowItemClose:()=>this.visible=!1},Ie("calcite-list",{afterCreate:N=>{N.addEventListener("focusin",this._setActiveItem),N.addEventListener("focusout",this._clearActiveItem)},afterRemoved:N=>{N.removeEventListener("focusin",this._setActiveItem),N.removeEventListener("focusout",this._clearActiveItem)},canPull:N=>this._canMove(N,"pull"),canPut:N=>this._canMove(N,"put"),"data-layer-type":o,dragEnabled:_,filterEnabled:n,filterPlaceholder:I,filterText:n?T:"",group:o,key:"root-list",label:O.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:$,onCalciteListChange:N=>this._handleCalciteListChange(N),onCalciteListDragEnd:N=>this._handleCalciteListDragEnd(N.detail),onCalciteListFilter:N=>{var F;return this.filterText=((F=N.target)==null?void 0:F.filterText)??""},onCalciteListOrderChange:N=>this._onCalciteListOrderChange(N.detail)},t==null?void 0:t.toArray().map(N=>this._renderItem(N)),t!=null&&t.length&&n?Ie("div",{class:Qr.filterNoResults,slot:"filter-no-results"},Ie("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(t),this._renderTableListFlowItem(),this._renderCatalogFlowItem()];return r?v?Ie("calcite-flow",{key:"root-flow"},A):A:null}_renderChildList(t,r=[]){var $,T,I,O;const{_dragEnabled:i,_rootGroupUid:n,viewModel:{listModeDisabled:o},messages:u,selectionMode:f}=this,{children:m}=t,v=(($=t.layer)==null?void 0:$.type)!=="catalog-dynamic-group"&&CZe(t),_=!(!o&&xZe(t.layer))&&!v&&i&&((T=t.layer)==null?void 0:T.type)==="group";return v||_?Ie("calcite-list",{canPull:A=>this._canMove(A,"pull"),canPut:A=>this._canMove(A,"put"),"data-item":t,"data-layer-type":n,dragEnabled:!!i&&t.childrenSortable&&SZe(t),group:`${n}-${t.layer.uid}`,key:`child-list-${t.layer.uid}`,selectionAppearance:"border",selectionMode:f},m==null?void 0:m.filter(A=>!A.hidden).toArray().map(A=>this._renderItem(A,t,[...r,t.title])),(O=(I=this._getTableListParams(t))==null?void 0:I.tables)!=null&&O.length?Ie("calcite-list-item",{class:Qr.item,"data-layer-id":t.layer.id,dragDisabled:!0,key:`list-item-table-list-tables-${t.layer.uid}`,title:u.tables,onCalciteListItemSelect:()=>{this.openTableListItem=t,this._focusTableListFlowItem=!0}},Ie("div",{class:Qr.itemContent,slot:"content"},u.tables),Ie("calcite-icon",{class:Qr.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),Ie("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null):null}_renderItemMessage(t){return t.error?Ie("div",{class:Qr.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},Ie("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},Ie("div",{slot:"message"},this.messages.layerError))):t.incompatible?Ie("div",{class:Qr.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},Ie("calcite-notice",{afterCreate:r=>this._setTooltipReference(r,t),afterRemoved:()=>this._removeTooltipReference(t),bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},Ie("div",{slot:"message"},this.messages.layerIncompatible))):null}_getLayerTitle(t){return t.title||this.messages.untitledLayer}_renderItem(t,r,i){var G,H,J,Z;const{_activeItem:n,_selectedDragItemLayerUid:o,selectionMode:u,selectedItems:f,messages:m,visibleElements:v}=this,_=this._getLayerTitle(t),$=t.visibleAtCurrentTimeExtent?t.visibleAtCurrentScale?_:`${_} (${m.layerInvisibleAtScale})`:`${_} (${m.layerInvisibleAtTime})`,T=this._filterActions(t.actionsSections),I=this._countActions(T),O=((H=(G=t.parent)==null?void 0:G.layer)==null?void 0:H.type)==="catalog",A=((J=t.layer)==null?void 0:J.type)==="catalog-footprint",N=((Z=t.layer)==null?void 0:Z.type)==="catalog-dynamic-group",F=A?Ie("calcite-icon",{class:Qr.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null,z=N?Ie("calcite-icon",{class:Qr.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null,B=v.catalogLayerList&&N?Ie("calcite-action",{appearance:"transparent",disabled:!t.layer.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>{this.openCatalogItem=r,this._focusCatalogFlowItem=!0},scale:"s",slot:"actions-end",text:_}):null;return Ie("calcite-list-item",{afterCreate:re=>this._focusSelectedDragEl(re,t),afterUpdate:re=>this._focusSelectedDragEl(re,t),class:this.classes(Qr.item,{[Qr.itemActive]:n===t}),"data-item":t,"data-layer-id":t.layer.id,dragDisabled:!t.sortable||O,dragSelected:t.layer.uid===o,id:t.layer.uid,key:`list-item-${t.layer.uid}`,label:_,metadata:{parentTitles:i,title:_},open:t.open,selected:u!=="none"&&f.includes(t),title:$,value:t.layer.uid,onCalciteListItemDragHandleChange:re=>this._handleCalciteListItemDragHandleChange(re,t),onCalciteListItemSelect:re=>this._handleCalciteListItemSelect(re,t,r),onCalciteListItemToggle:re=>this._handleCalciteListItemToggle(re,t)},F,z,Ie("div",{class:this.classes({[Qr.itemContent]:!0,[Qr.itemInvisible]:!t.visibleAtCurrentScale||!t.visibleAtCurrentTimeExtent}),slot:"content"},_),this._renderItemStatus(t,r),this._renderItemToggle(t,r),B,this._renderItemTemporaryIcon(t),this._renderChildList(t,i),this._renderItemMessage(t),this._renderPanel(t.panel),this._renderPanelAction(t.panel),I>1?this._renderActionsSections(t,T):I===1?this._renderAction({item:t,action:this._getSingleAction(T),textEnabled:!1}):null)}_renderItemStatus(t,r){const{visibleElements:i}=this;if(!i.statusIndicators)return null;const{connectionStatus:n,publishing:o,updating:u}=t,f=u&&!r,m=!!n;return Ie("calcite-icon",{class:this.classes({[Qr.statusIndicator]:!0,[Qr.publishing]:o,[Qr.updating]:f,[Qr.connectionStatus]:m,[Qr.connectionStatusConnected]:m&&n==="connected"}),icon:wZe({connectionStatus:n,publishing:o}),key:"layer-item-status",scale:"s",slot:"actions-end"})}_renderItemTemporaryIcon(t){return this.visibleElements.temporaryLayerIndicators&&"persistenceEnabled"in t.layer&&!t.layer.persistenceEnabled?Ie("calcite-icon",{class:Qr.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"actions-start",title:this.messages.temporary}):null}_renderItemToggle(t,r){const{messages:i,visibilityAppearance:n}=this,{visible:o}=t,u=r==null?void 0:r.visibilityMode;if(u==="inherited")return null;const f=bZe({visible:o,exclusive:u==="exclusive",visibilityAppearance:n}),m=n==="checkbox",v=i.layerVisibility;return Ie("calcite-action",{appearance:"transparent",class:Qr.visibleToggle,icon:m?f:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(t,r),scale:"s",slot:m?"actions-start":"actions-end",text:v,title:v},m?null:Ie("calcite-icon",{class:this.classes({[Qr.visibleIcon]:u!=="exclusive"&&o}),icon:f,scale:"s"}))}_renderPanel(t){return!(t!=null&&t.open)||t.disabled||t.flowEnabled?null:Ie("div",{class:Qr.itemContentBottom,key:`content-panel-${t.uid}`,slot:"content-bottom"},t.render())}_renderPanelAction(t){if(!(t!=null&&t.visible))return null;const{open:r,title:i,disabled:n}=t;return Ie("calcite-action",{active:r,appearance:"transparent",disabled:n,icon:yK(t),key:`action-${t.uid}`,onclick:()=>this._togglePanel(t),scale:"s",slot:"actions-end",text:i??"",title:i??void 0},this._renderFallbackIcon(t))}_renderActionsSections(t,r){const i=this.messagesCommon.options;return Ie("calcite-action-menu",{appearance:"transparent",class:Qr.actionMenu,key:"item-action-menu",label:this.messagesCommon.menu,open:t.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:n=>t.actionsOpen=n.target.open},Ie("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:i,title:i}),r.toArray().map((n,o)=>this._renderActionSection(t,n,o)))}_renderActionSection(t,r,i){return Ie("calcite-action-group",{class:Qr.actionGroup,key:`action-section-${i}`},r.toArray().map(n=>this._renderAction({item:t,action:n,textEnabled:!0})))}_renderFallbackIcon(t){const{className:r,icon:i}=t;if(i)return null;const n="image"in t?t.image:void 0,o={[Qr.itemActionIcon]:!!r,[Qr.itemActionImage]:!!n};return r&&(o[r]=!0),n||r?Ie("span",{"aria-hidden":"true",class:this.classes(Qr.itemActionIcon,o),key:"icon",styles:yZe(n)}):null}_renderAction(t){const{item:r,action:i,textEnabled:n}=t;if(!i)return null;const{active:o,disabled:u,title:f,type:m,indicator:v}=i;return Ie("calcite-action",{active:m==="toggle"&&i.value,appearance:"transparent",disabled:u,icon:yK(i),indicator:v,key:`action-${i.uid}`,loading:o,onclick:()=>this._triggerAction(r,i),scale:"s",slot:n?void 0:"actions-end",text:f??"",textEnabled:n,title:f??void 0},this._renderFallbackIcon(i))}_setTooltipReference(t,r){this._tooltipReferenceMap.set(r.layer.uid,t)}_removeTooltipReference(t){this._tooltipReferenceMap.delete(t.layer.uid)}_moveLayerFromChildList({toEl:t,fromEl:r,dragEl:i,newIndex:n}){const o=vu(i),u=vu(t),f=vu(r);this.viewModel.moveListItem(o,f,u,n)}_handleCalciteListDragEnd(t){const{fromEl:r,dragEl:i,oldIndex:n}=t;r.insertBefore(i,r.children[n])}_sortLayers(t,r){var i,n;if(t)if(t.group===this._rootGroupUid)fpe((n=(i=this.view)==null?void 0:i.map)==null?void 0:n.layers,r);else{const o=vu(t);if(!o)return;MZe(o,r)}}_getSingleAction(t){return t.reduce(r=>r).find(r=>r&&(r.type==="button"||r.type==="toggle"))}_filterActions(t){return t.map(r=>r.filter(i=>i.visible))}_countActions(t){return t.reduce((r,i)=>r+i.length,0)}_triggerAction(t,r){r&&t&&(r.type==="toggle"&&(r.value=!r.value),this.triggerAction(r,t))}_handleCalciteListChange(t){const{selectionMode:r,selectedItems:i}=this;if(r==="none")return;const n=t.target.selectedItems.map(o=>vu(o)).filter(Boolean);i.removeAll(),i.addMany(n)}_handleCalciteListItemToggle(t,r){t.stopPropagation(),r.open=t.target.open}_focusSelectedDragEl(t,r){this._selectedDragItemLayerUid===r.layer.uid&&requestAnimationFrame(()=>t==null?void 0:t.setFocus())}_handleCalciteListItemDragHandleChange(t,r){t.stopPropagation();const i=t.target.dragSelected;this._selectedDragItemLayerUid=i?r.layer.uid:null}_handleCalciteListItemSelect(t,r,i){vu(t.target)===r&&this.selectionMode==="none"&&(i==null?void 0:i.visibilityMode)!=="inherited"&&this._toggleVisibility(r,i)}_togglePanel(t){t.open=!t.open,t.open&&(this._focusPanelFlowItem=!0)}_toggleVisibility(t,r){if(!t)return;(r==null?void 0:r.visibilityMode)==="exclusive"&&t.visible||(t.visible=!t.visible)}};b([M()],cr.prototype,"_activeItem",void 0),b([M()],cr.prototype,"_tooltipReferenceMap",void 0),b([M()],cr.prototype,"_focusRootFlowItem",void 0),b([M()],cr.prototype,"_focusPanelFlowItem",void 0),b([M()],cr.prototype,"_focusTableListFlowItem",void 0),b([M()],cr.prototype,"_focusCatalogFlowItem",void 0),b([M()],cr.prototype,"_totalItems",null),b([M()],cr.prototype,"_dragEnabled",null),b([M()],cr.prototype,"_filterEnabled",null),b([M({readOnly:!0})],cr.prototype,"catalogLayerList",void 0),b([M()],cr.prototype,"catalogOptions",void 0),b([M()],cr.prototype,"collapsed",void 0),b([M()],cr.prototype,"dragEnabled",void 0),b([M()],cr.prototype,"filterPlaceholder",void 0),b([M()],cr.prototype,"filterText",void 0),b([M()],cr.prototype,"headingLevel",void 0),b([M()],cr.prototype,"icon",null),b([M()],cr.prototype,"knowledgeGraphOptions",void 0),b([M()],cr.prototype,"label",null),b([M()],cr.prototype,"listItemCanGiveFunction",void 0),b([M()],cr.prototype,"listItemCanReceiveFunction",void 0),b([M()],cr.prototype,"listItemCreatedFunction",null),b([M(),ho("esri/widgets/LayerList/t9n/LayerList")],cr.prototype,"messages",void 0),b([M(),ho("esri/t9n/common")],cr.prototype,"messagesCommon",void 0),b([M()],cr.prototype,"minDragEnabledItems",void 0),b([M()],cr.prototype,"minFilterItems",void 0),b([M()],cr.prototype,"multipleSelectionEnabled",null),b([M()],cr.prototype,"openCatalogItem",void 0),b([M()],cr.prototype,"openTableListItem",void 0),b([M()],cr.prototype,"operationalItems",null),b([M()],cr.prototype,"selectionEnabled",null),b([M()],cr.prototype,"selectedItems",void 0),b([M()],cr.prototype,"selectionMode",void 0),b([M({readOnly:!0})],cr.prototype,"tableList",void 0),b([M()],cr.prototype,"view",null),b([mD("trigger-action"),M({type:bpe})],cr.prototype,"viewModel",void 0),b([M()],cr.prototype,"visibilityAppearance",void 0),b([M({type:wpe,nonNullable:!0})],cr.prototype,"visibleElements",void 0),cr=b([se("esri.widgets.LayerList")],cr);const AZe=cr;var PD={},jZe=kD;Object.defineProperty(PD,"__esModule",{value:!0});var O2=PD.default=void 0,RZe=jZe(CD()),LZe=L;O2=PD.default=(0,RZe.default)((0,LZe.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");var OD={},NZe=kD;Object.defineProperty(OD,"__esModule",{value:!0});var Hi=OD.default=void 0,FZe=NZe(CD()),DZe=L;Hi=OD.default=(0,FZe.default)((0,DZe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var AD=Ax(),tr=e=>Ox(e,AD),jD=Ax();tr.write=e=>Ox(e,jD);var _8=Ax();tr.onStart=e=>Ox(e,_8);var RD=Ax();tr.onFrame=e=>Ox(e,RD);var LD=Ax();tr.onFinish=e=>Ox(e,LD);var eg=[];tr.setTimeout=(e,t)=>{const r=tr.now()+t,i=()=>{const o=eg.findIndex(u=>u.cancel==i);~o&&eg.splice(o,1),cp-=~o?1:0},n={time:r,handler:e,cancel:i};return eg.splice(xpe(r),0,n),cp+=1,_pe(),n};var xpe=e=>~(~eg.findIndex(t=>t.time>e)||~eg.length);tr.cancel=e=>{_8.delete(e),RD.delete(e),LD.delete(e),AD.delete(e),jD.delete(e)};tr.sync=e=>{_j=!0,tr.batchedUpdates(e),_j=!1};tr.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function i(...n){t=n,tr.onStart(r)}return i.handler=e,i.cancel=()=>{_8.delete(r),t=null},i};var ND=typeof window<"u"?window.requestAnimationFrame:()=>{};tr.use=e=>ND=e;tr.now=typeof performance<"u"?()=>performance.now():Date.now;tr.batchedUpdates=e=>e();tr.catch=console.error;tr.frameLoop="always";tr.advance=()=>{tr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):$pe()};var up=-1,cp=0,_j=!1;function Ox(e,t){_j?(t.delete(e),e(0)):(t.add(e),_pe())}function _pe(){up<0&&(up=0,tr.frameLoop!=="demand"&&ND(Spe))}function zZe(){up=-1}function Spe(){~up&&(ND(Spe),tr.batchedUpdates($pe))}function $pe(){const e=up;up=tr.now();const t=xpe(up);if(t&&(Mpe(eg.splice(0,t),r=>r.handler()),cp-=t),!cp){zZe();return}_8.flush(),AD.flush(e?Math.min(64,up-e):16.667),RD.flush(),jD.flush(),LD.flush()}function Ax(){let e=new Set,t=e;return{add(r){cp+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return cp-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,cp-=t.size,Mpe(t,i=>i(r)&&e.add(i)),cp+=e.size,t=e)}}}function Mpe(e,t){e.forEach(r=>{try{t(r)}catch(i){tr.catch(i)}})}var BZe=Object.defineProperty,VZe=(e,t)=>{for(var r in t)BZe(e,r,{get:t[r],enumerable:!0})},cu={};VZe(cu,{assign:()=>GZe,colors:()=>Mp,createStringInterpolator:()=>DD,skipAnimation:()=>kpe,to:()=>Tpe,willAdvance:()=>zD});function Sj(){}var UZe=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Ze={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function ah(e,t){if(Ze.arr(e)){if(!Ze.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Yt=(e,t)=>e.forEach(t);function dc(e,t,r){if(Ze.arr(e)){for(let i=0;i<e.length;i++)t.call(r,e[i],`${i}`);return}for(const i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i)}var io=e=>Ze.und(e)?[]:Ze.arr(e)?e:[e];function bw(e,t){if(e.size){const r=Array.from(e);e.clear(),Yt(r,t)}}var A2=(e,...t)=>bw(e,r=>r(...t)),FD=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),DD,Tpe,Mp=null,kpe=!1,zD=Sj,GZe=e=>{e.to&&(Tpe=e.to),e.now&&(tr.now=e.now),e.colors!==void 0&&(Mp=e.colors),e.skipAnimation!=null&&(kpe=e.skipAnimation),e.createStringInterpolator&&(DD=e.createStringInterpolator),e.requestAnimationFrame&&tr.use(e.requestAnimationFrame),e.batchedUpdates&&(tr.batchedUpdates=e.batchedUpdates),e.willAdvance&&(zD=e.willAdvance),e.frameLoop&&(tr.frameLoop=e.frameLoop)},ww=new Set,Za=[],Zk=[],T6=0,S8={get idle(){return!ww.size&&!Za.length},start(e){T6>e.priority?(ww.add(e),tr.onStart(qZe)):(Cpe(e),tr($j))},advance:$j,sort(e){if(T6)tr.onFrame(()=>S8.sort(e));else{const t=Za.indexOf(e);~t&&(Za.splice(t,1),Epe(e))}},clear(){Za=[],ww.clear()}};function qZe(){ww.forEach(Cpe),ww.clear(),tr($j)}function Cpe(e){Za.includes(e)||Epe(e)}function Epe(e){Za.splice(HZe(Za,t=>t.priority>e.priority),0,e)}function $j(e){const t=Zk;for(let r=0;r<Za.length;r++){const i=Za[r];T6=i.priority,i.idle||(zD(i),i.advance(e),i.idle||t.push(i))}return T6=0,Zk=Za,Zk.length=0,Za=t,Za.length>0}function HZe(e,t){const r=e.findIndex(t);return r<0?e.length:r}var WZe=(e,t,r)=>Math.min(Math.max(r,e),t),JZe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},eu="[-+]?\\d*\\.?\\d+",k6=eu+"%";function $8(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var KZe=new RegExp("rgb"+$8(eu,eu,eu)),YZe=new RegExp("rgba"+$8(eu,eu,eu,eu)),ZZe=new RegExp("hsl"+$8(eu,k6,k6)),XZe=new RegExp("hsla"+$8(eu,k6,k6,eu)),QZe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eXe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tXe=/^#([0-9a-fA-F]{6})$/,rXe=/^#([0-9a-fA-F]{8})$/;function iXe(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=tXe.exec(e))?parseInt(t[1]+"ff",16)>>>0:Mp&&Mp[e]!==void 0?Mp[e]:(t=KZe.exec(e))?(dy(t[1])<<24|dy(t[2])<<16|dy(t[3])<<8|255)>>>0:(t=YZe.exec(e))?(dy(t[1])<<24|dy(t[2])<<16|dy(t[3])<<8|wK(t[4]))>>>0:(t=QZe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=rXe.exec(e))?parseInt(t[1],16)>>>0:(t=eXe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ZZe.exec(e))?(vK(bK(t[1]),T5(t[2]),T5(t[3]))|255)>>>0:(t=XZe.exec(e))?(vK(bK(t[1]),T5(t[2]),T5(t[3]))|wK(t[4]))>>>0:null}function Xk(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vK(e,t,r){const i=r<.5?r*(1+t):r+t-r*t,n=2*r-i,o=Xk(n,i,e+1/3),u=Xk(n,i,e),f=Xk(n,i,e-1/3);return Math.round(o*255)<<24|Math.round(u*255)<<16|Math.round(f*255)<<8}function dy(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function bK(e){return(parseFloat(e)%360+360)%360/360}function wK(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function T5(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function xK(e){let t=iXe(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,i=(t&16711680)>>>16,n=(t&65280)>>>8,o=(t&255)/255;return`rgba(${r}, ${i}, ${n}, ${o})`}var x3=(e,t,r)=>{if(Ze.fun(e))return e;if(Ze.arr(e))return x3({range:e,output:t,extrapolate:r});if(Ze.str(e.output[0]))return DD(e);const i=e,n=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",f=i.extrapolateRight||i.extrapolate||"extend",m=i.easing||(v=>v);return v=>{const _=sXe(v,o);return nXe(v,o[_],o[_+1],n[_],n[_+1],m,u,f,i.map)}};function nXe(e,t,r,i,n,o,u,f,m){let v=m?m(e):e;if(v<t){if(u==="identity")return v;u==="clamp"&&(v=t)}if(v>r){if(f==="identity")return v;f==="clamp"&&(v=r)}return i===n?i:t===r?e<=t?i:n:(t===-1/0?v=-v:r===1/0?v=v-t:v=(v-t)/(r-t),v=o(v),i===-1/0?v=-v:n===1/0?v=v+i:v=v*(n-i)+i,v)}function sXe(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var oXe=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const i=r*e,n=t==="end"?Math.floor(i):Math.ceil(i);return WZe(0,1,n/e)},C6=1.70158,k5=C6*1.525,_K=C6+1,SK=2*Math.PI/3,$K=2*Math.PI/4.5,C5=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,aXe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>_K*e*e*e-C6*e*e,easeOutBack:e=>1+_K*Math.pow(e-1,3)+C6*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((k5+1)*2*e-k5)/2:(Math.pow(2*e-2,2)*((k5+1)*(e*2-2)+k5)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*SK),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*SK)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*$K))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*$K)/2+1,easeInBounce:e=>1-C5(1-e),easeOutBounce:C5,easeInOutBounce:e=>e<.5?(1-C5(1-2*e))/2:(1+C5(2*e-1))/2,steps:oXe},_3=Symbol.for("FluidValue.get"),Pg=Symbol.for("FluidValue.observers"),Wa=e=>!!(e&&e[_3]),Mo=e=>e&&e[_3]?e[_3]():e,MK=e=>e[Pg]||null;function lXe(e,t){e.eventObserved?e.eventObserved(t):e(t)}function S3(e,t){const r=e[Pg];r&&r.forEach(i=>{lXe(i,t)})}var Ipe=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");uXe(this,e)}},uXe=(e,t)=>Ppe(e,_3,t);function yv(e,t){if(e[_3]){let r=e[Pg];r||Ppe(e,Pg,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function $3(e,t){const r=e[Pg];if(r&&r.has(t)){const i=r.size-1;i?r.delete(t):e[Pg]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var Ppe=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),$9=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,cXe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,TK=new RegExp(`(${$9.source})(%|[a-z]+)`,"i"),hXe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,M8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ope=e=>{const[t,r]=dXe(e);if(!t||FD())return e;const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(r&&r.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(r);return n||e}else{if(r&&M8.test(r))return Ope(r);if(r)return r}return e},dXe=e=>{const t=M8.exec(e);if(!t)return[,];const[,r,i]=t;return[r,i]},Qk,pXe=(e,t,r,i,n)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(i)}, ${n})`,Ape=e=>{Qk||(Qk=Mp?new RegExp(`(${Object.keys(Mp).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(o=>Mo(o).replace(M8,Ope).replace(cXe,xK).replace(Qk,xK)),r=t.map(o=>o.match($9).map(Number)),n=r[0].map((o,u)=>r.map(f=>{if(!(u in f))throw Error('The arity of each "output" value must be equal');return f[u]})).map(o=>x3({...e,output:o}));return o=>{var m;const u=!TK.test(t[0])&&((m=t.find(v=>TK.test(v)))==null?void 0:m.replace($9,""));let f=0;return t[0].replace($9,()=>`${n[f++](o)}${u||""}`).replace(hXe,pXe)}},BD="react-spring: ",jpe=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${BD}once requires a function parameter`);return(...i)=>{r||(t(...i),r=!0)}},fXe=jpe(console.warn);function yXe(){fXe(`${BD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var mXe=jpe(console.warn);function gXe(){mXe(`${BD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function T8(e){return Ze.str(e)&&(e[0]=="#"||/\d/.test(e)||!FD()&&M8.test(e)||e in(Mp||{}))}var k0=FD()?W.useEffect:W.useLayoutEffect,vXe=()=>{const e=W.useRef(!1);return k0(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function VD(){const e=W.useState()[1],t=vXe();return()=>{t.current&&e(Math.random())}}function bXe(e,t){const[r]=W.useState(()=>({inputs:t,result:e()})),i=W.useRef(),n=i.current;let o=n;return o?t&&o.inputs&&wXe(t,o.inputs)||(o={inputs:t,result:e()}):o=r,W.useEffect(()=>{i.current=o,n==r&&(r.inputs=r.result=void 0)},[o]),o.result}function wXe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var UD=e=>W.useEffect(e,xXe),xXe=[];function Mj(e){const t=W.useRef();return W.useEffect(()=>{t.current=e}),t.current}var M3=Symbol.for("Animated:node"),_Xe=e=>!!e&&e[M3]===e,Gu=e=>e&&e[M3],GD=(e,t)=>UZe(e,M3,t),k8=e=>e&&e[M3]&&e[M3].getPayload(),Rpe=class{constructor(){GD(this,this)}getPayload(){return this.payload||[]}},jx=class extends Rpe{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Ze.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new jx(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Ze.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},T3=class extends jx{constructor(e){super(0),this._string=null,this._toString=x3({output:[e,e]})}static create(e){return new T3(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Ze.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=x3({output:[this.getValue(),e]})),this._value=0,super.reset()}},E6={dependencies:null},C8=class extends Rpe{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return dc(this.source,(r,i)=>{_Xe(r)?t[i]=r.getValue(e):Wa(r)?t[i]=Mo(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Yt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return dc(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){E6.dependencies&&Wa(e)&&E6.dependencies.add(e);const t=k8(e);t&&Yt(t,r=>this.add(r))}},Lpe=class extends C8{constructor(e){super(e)}static create(e){return new Lpe(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(SXe)),!0)}};function SXe(e){return(T8(e)?T3:jx).create(e)}function Tj(e){const t=Gu(e);return t?t.constructor:Ze.arr(e)?Lpe:T8(e)?T3:jx}var kK=(e,t)=>{const r=!Ze.fun(e)||e.prototype&&e.prototype.isReactComponent;return W.forwardRef((i,n)=>{const o=W.useRef(null),u=r&&W.useCallback(O=>{o.current=TXe(n,O)},[n]),[f,m]=MXe(i,t),v=VD(),_=()=>{const O=o.current;if(r&&!O)return;(O?t.applyAnimatedValues(O,f.getValue(!0)):!1)===!1&&v()},$=new $Xe(_,m),T=W.useRef();k0(()=>(T.current=$,Yt(m,O=>yv(O,$)),()=>{T.current&&(Yt(T.current.deps,O=>$3(O,T.current)),tr.cancel(T.current.update))})),W.useEffect(_,[]),UD(()=>()=>{const O=T.current;Yt(O.deps,A=>$3(A,O))});const I=t.getComponentProps(f.getValue());return W.createElement(e,{...I,ref:u})})},$Xe=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&tr.write(this.update)}};function MXe(e,t){const r=new Set;return E6.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new C8(e),E6.dependencies=null,[e,r]}function TXe(e,t){return e&&(Ze.fun(e)?e(t):e.current=t),t}var CK=Symbol.for("AnimatedComponent"),kXe=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=n=>new C8(n),getComponentProps:i=n=>n}={})=>{const n={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:i},o=u=>{const f=EK(u)||"Anonymous";return Ze.str(u)?u=o[u]||(o[u]=kK(u,n)):u=u[CK]||(u[CK]=kK(u,n)),u.displayName=`Animated(${f})`,u};return dc(e,(u,f)=>{Ze.arr(e)&&(f=EK(u)),o[f]=o(u)}),{animated:o}},EK=e=>Ze.str(e)?e:e&&Ze.str(e.displayName)?e.displayName:Ze.fun(e)&&e.name||null;function To(e,...t){return Ze.fun(e)?e(...t):e}var xw=(e,t)=>e===!0||!!(t&&e&&(Ze.fun(e)?e(t):io(e).includes(t))),Npe=(e,t)=>Ze.obj(e)?t&&e[t]:e,Fpe=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,CXe=e=>e,E8=(e,t=CXe)=>{let r=EXe;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const i={};for(const n of r){const o=t(e[n],n);Ze.und(o)||(i[n]=o)}return i},EXe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],IXe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function PXe(e){const t={};let r=0;if(dc(e,(i,n)=>{IXe[n]||(t[n]=i,r++)}),r)return t}function qD(e){const t=PXe(e);if(t){const r={to:t};return dc(e,(i,n)=>n in t||(r[n]=i)),r}return{...e}}function k3(e){return e=Mo(e),Ze.arr(e)?e.map(k3):T8(e)?cu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Dpe(e){for(const t in e)return!0;return!1}function kj(e){return Ze.fun(e)||Ze.arr(e)&&Ze.obj(e[0])}function Cj(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function zpe(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var HD={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ej={...HD.default,mass:1,damping:1,easing:aXe.linear,clamp:!1},OXe=class{constructor(){this.velocity=0,Object.assign(this,Ej)}};function AXe(e,t,r){r&&(r={...r},IK(r,t),t={...r,...t}),IK(e,t),Object.assign(e,t);for(const u in Ej)e[u]==null&&(e[u]=Ej[u]);let{frequency:i,damping:n}=e;const{mass:o}=e;return Ze.und(i)||(i<.01&&(i=.01),n<0&&(n=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*n*o/i),e}function IK(e,t){if(!Ze.und(t.decay))e.duration=void 0;else{const r=!Ze.und(t.tension)||!Ze.und(t.friction);(r||!Ze.und(t.frequency)||!Ze.und(t.damping)||!Ze.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var PK=[],jXe=class{constructor(){this.changed=!1,this.values=PK,this.toValues=null,this.fromValues=PK,this.config=new OXe,this.immediate=!1}};function Bpe(e,{key:t,props:r,defaultProps:i,state:n,actions:o}){return new Promise((u,f)=>{let m,v,_=xw(r.cancel??(i==null?void 0:i.cancel),t);if(_)I();else{Ze.und(r.pause)||(n.paused=xw(r.pause,t));let O=i==null?void 0:i.pause;O!==!0&&(O=n.paused||xw(O,t)),m=To(r.delay||0,t),O?(n.resumeQueue.add(T),o.pause()):(o.resume(),T())}function $(){n.resumeQueue.add(T),n.timeouts.delete(v),v.cancel(),m=v.time-tr.now()}function T(){m>0&&!cu.skipAnimation?(n.delayed=!0,v=tr.setTimeout(I,m),n.pauseQueue.add($),n.timeouts.add(v)):I()}function I(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete($),n.timeouts.delete(v),e<=(n.cancelId||0)&&(_=!0);try{o.start({...r,callId:e,cancel:_},u)}catch(O){f(O)}}})}var WD=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?tg(e.get()):t.every(r=>r.noop)?Vpe(e.get()):Zl(e.get(),t.every(r=>r.finished)),Vpe=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Zl=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),tg=e=>({value:e,cancelled:!0,finished:!1});function Upe(e,t,r,i){const{callId:n,parentId:o,onRest:u}=t,{asyncTo:f,promise:m}=r;return!o&&e===f&&!t.reset?m:r.promise=(async()=>{r.asyncId=n,r.asyncTo=e;const v=E8(t,(N,F)=>F==="onRest"?void 0:N);let _,$;const T=new Promise((N,F)=>(_=N,$=F)),I=N=>{const F=n<=(r.cancelId||0)&&tg(i)||n!==r.asyncId&&Zl(i,!1);if(F)throw N.result=F,$(N),N},O=(N,F)=>{const z=new OK,B=new AK;return(async()=>{if(cu.skipAnimation)throw C3(r),B.result=Zl(i,!1),$(B),B;I(z);const G=Ze.obj(N)?{...N}:{...F,to:N};G.parentId=n,dc(v,(J,Z)=>{Ze.und(G[Z])&&(G[Z]=J)});const H=await i.start(G);return I(z),r.paused&&await new Promise(J=>{r.resumeQueue.add(J)}),H})()};let A;if(cu.skipAnimation)return C3(r),Zl(i,!1);try{let N;Ze.arr(e)?N=(async F=>{for(const z of F)await O(z)})(e):N=Promise.resolve(e(O,i.stop.bind(i))),await Promise.all([N.then(_),T]),A=Zl(i.get(),!0,!1)}catch(N){if(N instanceof OK)A=N.result;else if(N instanceof AK)A=N.result;else throw N}finally{n==r.asyncId&&(r.asyncId=o,r.asyncTo=o?f:void 0,r.promise=o?m:void 0)}return Ze.fun(u)&&tr.batchedUpdates(()=>{u(A,i,i.item)}),A})()}function C3(e,t){bw(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var OK=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},AK=class extends Error{constructor(){super("SkipAnimationSignal")}},Ij=e=>e instanceof JD,RXe=1,JD=class extends Ipe{constructor(){super(...arguments),this.id=RXe++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Gu(this);return e&&e.getValue()}to(...e){return cu.to(this,e)}interpolate(...e){return yXe(),cu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){S3(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||S8.sort(this),S3(this,{type:"priority",parent:this,priority:e})}},g1=Symbol.for("SpringPhase"),Gpe=1,Pj=2,Oj=4,eC=e=>(e[g1]&Gpe)>0,sd=e=>(e[g1]&Pj)>0,hb=e=>(e[g1]&Oj)>0,jK=(e,t)=>t?e[g1]|=Pj|Gpe:e[g1]&=~Pj,RK=(e,t)=>t?e[g1]|=Oj:e[g1]&=~Oj,LXe=class extends JD{constructor(e,t){if(super(),this.animation=new jXe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ze.und(e)||!Ze.und(t)){const r=Ze.obj(e)?{...e}:{...t,from:e};Ze.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(sd(this)||this._state.asyncTo)||hb(this)}get goal(){return Mo(this.animation.to)}get velocity(){const e=Gu(this);return e instanceof jx?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return eC(this)}get isAnimating(){return sd(this)}get isPaused(){return hb(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const i=this.animation;let{toValues:n}=i;const{config:o}=i,u=k8(i.to);!u&&Wa(i.to)&&(n=io(Mo(i.to))),i.values.forEach((v,_)=>{if(v.done)return;const $=v.constructor==T3?1:u?u[_].lastPosition:n[_];let T=i.immediate,I=$;if(!T){if(I=v.lastPosition,o.tension<=0){v.done=!0;return}let O=v.elapsedTime+=e;const A=i.fromValues[_],N=v.v0!=null?v.v0:v.v0=Ze.arr(o.velocity)?o.velocity[_]:o.velocity;let F;const z=o.precision||(A==$?.005:Math.min(1,Math.abs($-A)*.001));if(Ze.und(o.duration))if(o.decay){const B=o.decay===!0?.998:o.decay,G=Math.exp(-(1-B)*O);I=A+N/(1-B)*(1-G),T=Math.abs(v.lastPosition-I)<=z,F=N*G}else{F=v.lastVelocity==null?N:v.lastVelocity;const B=o.restVelocity||z/10,G=o.clamp?0:o.bounce,H=!Ze.und(G),J=A==$?v.v0>0:A<$;let Z,re=!1;const q=1,X=Math.ceil(e/q);for(let ie=0;ie<X&&(Z=Math.abs(F)>B,!(!Z&&(T=Math.abs($-I)<=z,T)));++ie){H&&(re=I==$||I>$==J,re&&(F=-F*G,I=$));const le=-o.tension*1e-6*(I-$),ue=-o.friction*.001*F,ne=(le+ue)/o.mass;F=F+ne*q,I=I+F*q}}else{let B=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,v.durationProgress>0&&(v.elapsedTime=o.duration*v.durationProgress,O=v.elapsedTime+=e)),B=(o.progress||0)+O/this._memoizedDuration,B=B>1?1:B<0?0:B,v.durationProgress=B),I=A+o.easing(B)*($-A),F=(I-v.lastPosition)/e,T=B==1}v.lastVelocity=F,Number.isNaN(I)&&(console.warn("Got NaN while animating:",this),T=!0)}u&&!u[_].done&&(T=!1),T?v.done=!0:t=!1,v.setValue(I,o.round)&&(r=!0)});const f=Gu(this),m=f.getValue();if(t){const v=Mo(i.to);(m!==v||r)&&!o.decay?(f.setValue(v),this._onChange(v)):r&&o.decay&&this._onChange(m),this._stop()}else r&&this._onChange(m)}set(e){return tr.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(sd(this)){const{to:e,config:t}=this.animation;tr.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return Ze.und(e)?(r=this.queue||[],this.queue=[]):r=[Ze.obj(e)?e:{...t,to:e}],Promise.all(r.map(i=>this._update(i))).then(i=>WD(this,i))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),C3(this._state,e&&this._lastCallId),tr.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:i}=e;r=Ze.obj(r)?r[t]:r,(r==null||kj(r))&&(r=void 0),i=Ze.obj(i)?i[t]:i,i==null&&(i=void 0);const n={to:r,from:i};return eC(this)||(e.reverse&&([r,i]=[i,r]),i=Mo(i),Ze.und(i)?Gu(this)||this._set(r):this._set(i)),n}_update({...e},t){const{key:r,defaultProps:i}=this;e.default&&Object.assign(i,E8(e,(u,f)=>/^on/.test(f)?Npe(u,r):u)),NK(this,e,"onProps"),pb(this,"onProps",e,this);const n=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return Bpe(++this._lastCallId,{key:r,props:e,defaultProps:i,state:o,actions:{pause:()=>{hb(this)||(RK(this,!0),A2(o.pauseQueue),pb(this,"onPause",Zl(this,db(this,this.animation.to)),this))},resume:()=>{hb(this)&&(RK(this,!1),sd(this)&&this._resume(),A2(o.resumeQueue),pb(this,"onResume",Zl(this,db(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(u=>{if(e.loop&&u.finished&&!(t&&u.noop)){const f=qpe(e);if(f)return this._update(f,!0)}return u})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(tg(this));const i=!Ze.und(e.to),n=!Ze.und(e.from);if(i||n)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(tg(this));const{key:o,defaultProps:u,animation:f}=this,{to:m,from:v}=f;let{to:_=m,from:$=v}=e;n&&!i&&(!t.default||Ze.und(_))&&(_=$),t.reverse&&([_,$]=[$,_]);const T=!ah($,v);T&&(f.from=$),$=Mo($);const I=!ah(_,m);I&&this._focus(_);const O=kj(t.to),{config:A}=f,{decay:N,velocity:F}=A;(i||n)&&(A.velocity=0),t.config&&!O&&AXe(A,To(t.config,o),t.config!==u.config?To(u.config,o):void 0);let z=Gu(this);if(!z||Ze.und(_))return r(Zl(this,!0));const B=Ze.und(t.reset)?n&&!t.default:!Ze.und($)&&xw(t.reset,o),G=B?$:this.get(),H=k3(_),J=Ze.num(H)||Ze.arr(H)||T8(H),Z=!O&&(!J||xw(u.immediate||t.immediate,o));if(I){const ie=Tj(_);if(ie!==z.constructor)if(Z)z=this._set(H);else throw Error(`Cannot animate between ${z.constructor.name} and ${ie.name}, as the "to" prop suggests`)}const re=z.constructor;let q=Wa(_),X=!1;if(!q){const ie=B||!eC(this)&&T;(I||ie)&&(X=ah(k3(G),H),q=!X),(!ah(f.immediate,Z)&&!Z||!ah(A.decay,N)||!ah(A.velocity,F))&&(q=!0)}if(X&&sd(this)&&(f.changed&&!B?q=!0:q||this._stop(m)),!O&&((q||Wa(m))&&(f.values=z.getPayload(),f.toValues=Wa(_)?null:re==T3?[1]:io(H)),f.immediate!=Z&&(f.immediate=Z,!Z&&!B&&this._set(m)),q)){const{onRest:ie}=f;Yt(FXe,ue=>NK(this,t,ue));const le=Zl(this,db(this,m));A2(this._pendingCalls,le),this._pendingCalls.add(r),f.changed&&tr.batchedUpdates(()=>{var ue;f.changed=!B,ie==null||ie(le,this),B?To(u.onRest,le):(ue=f.onStart)==null||ue.call(f,le,this)})}B&&this._set(G),O?r(Upe(t.to,t,this._state,this)):q?this._start():sd(this)&&!I?this._pendingCalls.add(r):r(Vpe(G))}_focus(e){const t=this.animation;e!==t.to&&(MK(this)&&this._detach(),t.to=e,MK(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Wa(t)&&(yv(t,this),Ij(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Wa(e)&&$3(e,this)}_set(e,t=!0){const r=Mo(e);if(!Ze.und(r)){const i=Gu(this);if(!i||!ah(r,i.getValue())){const n=Tj(r);!i||i.constructor!=n?GD(this,n.create(r)):i.setValue(r),i&&tr.batchedUpdates(()=>{this._onChange(r,t)})}}return Gu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,pb(this,"onStart",Zl(this,db(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),To(this.animation.onChange,e,this)),To(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Gu(this).reset(Mo(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),sd(this)||(jK(this,!0),hb(this)||this._resume())}_resume(){cu.skipAnimation?this.finish():S8.start(this)}_stop(e,t){if(sd(this)){jK(this,!1);const r=this.animation;Yt(r.values,n=>{n.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),S3(this,{type:"idle",parent:this});const i=t?tg(this.get()):Zl(this.get(),db(this,e??r.to));A2(this._pendingCalls,i),r.changed&&(r.changed=!1,pb(this,"onRest",i,this))}}};function db(e,t){const r=k3(t),i=k3(e.get());return ah(i,r)}function qpe(e,t=e.loop,r=e.to){const i=To(t);if(i){const n=i!==!0&&qD(i),o=(n||e).reverse,u=!n||n.reset;return E3({...e,loop:t,default:!1,pause:void 0,to:!o||kj(r)?r:void 0,from:u?e.from:void 0,reset:u,...n})}}function E3(e){const{to:t,from:r}=e=qD(e),i=new Set;return Ze.obj(t)&&LK(t,i),Ze.obj(r)&&LK(r,i),e.keys=i.size?Array.from(i):null,e}function NXe(e){const t=E3(e);return Ze.und(t.default)&&(t.default=E8(t)),t}function LK(e,t){dc(e,(r,i)=>r!=null&&t.add(i))}var FXe=["onStart","onRest","onChange","onPause","onResume"];function NK(e,t,r){e.animation[r]=t[r]!==Fpe(t,r)?Npe(t[r],e.key):void 0}function pb(e,t,...r){var i,n,o,u;(n=(i=e.animation)[t])==null||n.call(i,...r),(u=(o=e.defaultProps)[t])==null||u.call(o,...r)}var DXe=["onStart","onChange","onRest"],zXe=1,Hpe=class{constructor(e,t){this.id=zXe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];Ze.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(E3(e)),this}start(e){let{queue:t}=this;return e?t=io(e).map(E3):this.queue=[],this._flush?this._flush(this,t):(Zpe(this,t),Aj(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Yt(io(t),i=>r[i].stop(!!e))}else C3(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Ze.und(e))this.start({pause:!0});else{const t=this.springs;Yt(io(e),r=>t[r].pause())}return this}resume(e){if(Ze.und(e))this.start({pause:!1});else{const t=this.springs;Yt(io(e),r=>t[r].resume())}return this}each(e){dc(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,n=this._changed.size>0;(i&&!this._started||n&&!this._started)&&(this._started=!0,bw(e,([f,m])=>{m.value=this.get(),f(m,this,this._item)}));const o=!i&&this._started,u=n||o&&r.size?this.get():null;n&&t.size&&bw(t,([f,m])=>{m.value=u,f(m,this,this._item)}),o&&(this._started=!1,bw(r,([f,m])=>{m.value=u,f(m,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;tr.onFrame(this._onFrame)}};function Aj(e,t){return Promise.all(t.map(r=>Wpe(e,r))).then(r=>WD(e,r))}async function Wpe(e,t,r){const{keys:i,to:n,from:o,loop:u,onRest:f,onResolve:m}=t,v=Ze.obj(t.default)&&t.default;u&&(t.loop=!1),n===!1&&(t.to=null),o===!1&&(t.from=null);const _=Ze.arr(n)||Ze.fun(n)?n:void 0;_?(t.to=void 0,t.onRest=void 0,v&&(v.onRest=void 0)):Yt(DXe,A=>{const N=t[A];if(Ze.fun(N)){const F=e._events[A];t[A]=({finished:z,cancelled:B})=>{const G=F.get(N);G?(z||(G.finished=!1),B&&(G.cancelled=!0)):F.set(N,{value:null,finished:z||!1,cancelled:B||!1})},v&&(v[A]=t[A])}});const $=e._state;t.pause===!$.paused?($.paused=t.pause,A2(t.pause?$.pauseQueue:$.resumeQueue)):$.paused&&(t.pause=!0);const T=(i||Object.keys(e.springs)).map(A=>e.springs[A].start(t)),I=t.cancel===!0||Fpe(t,"cancel")===!0;(_||I&&$.asyncId)&&T.push(Bpe(++e._lastAsyncId,{props:t,state:$,actions:{pause:Sj,resume:Sj,start(A,N){I?(C3($,e._lastAsyncId),N(tg(e))):(A.onRest=f,N(Upe(_,A,$,e)))}}})),$.paused&&await new Promise(A=>{$.resumeQueue.add(A)});const O=WD(e,await Promise.all(T));if(u&&O.finished&&!(r&&O.noop)){const A=qpe(t,u,n);if(A)return Zpe(e,[A]),Wpe(e,A,!0)}return m&&tr.batchedUpdates(()=>m(O,e,e.item)),O}function jj(e,t){const r={...e.springs};return t&&Yt(io(t),i=>{Ze.und(i.keys)&&(i=E3(i)),Ze.obj(i.to)||(i={...i,to:void 0}),Ype(r,i,n=>Kpe(n))}),Jpe(e,r),r}function Jpe(e,t){dc(t,(r,i)=>{e.springs[i]||(e.springs[i]=r,yv(r,e))})}function Kpe(e,t){const r=new LXe;return r.key=e,t&&yv(r,t),r}function Ype(e,t,r){t.keys&&Yt(t.keys,i=>{(e[i]||(e[i]=r(i)))._prepareNode(t)})}function Zpe(e,t){Yt(t,r=>{Ype(e.springs,r,i=>Kpe(i,e))})}var Rx=({children:e,...t})=>{const r=W.useContext(I6),i=t.pause||!!r.pause,n=t.immediate||!!r.immediate;t=bXe(()=>({pause:i,immediate:n}),[i,n]);const{Provider:o}=I6;return W.createElement(o,{value:t},e)},I6=BXe(Rx,{});Rx.Provider=I6.Provider;Rx.Consumer=I6.Consumer;function BXe(e,t){return Object.assign(e,W.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Xpe=()=>{const e=[],t=function(i){gXe();const n=[];return Yt(e,(o,u)=>{if(Ze.und(i))n.push(o.start());else{const f=r(i,o,u);f&&n.push(o.start(f))}}),n};t.current=e,t.add=function(i){e.includes(i)||e.push(i)},t.delete=function(i){const n=e.indexOf(i);~n&&e.splice(n,1)},t.pause=function(){return Yt(e,i=>i.pause(...arguments)),this},t.resume=function(){return Yt(e,i=>i.resume(...arguments)),this},t.set=function(i){Yt(e,(n,o)=>{const u=Ze.fun(i)?i(o,n):i;u&&n.set(u)})},t.start=function(i){const n=[];return Yt(e,(o,u)=>{if(Ze.und(i))n.push(o.start());else{const f=this._getProps(i,o,u);f&&n.push(o.start(f))}}),n},t.stop=function(){return Yt(e,i=>i.stop(...arguments)),this},t.update=function(i){return Yt(e,(n,o)=>n.update(this._getProps(i,n,o))),this};const r=function(i,n,o){return Ze.fun(i)?i(o,n):i};return t._getProps=r,t};function VXe(e,t,r){const i=Ze.fun(t)&&t;i&&!r&&(r=[]);const n=W.useMemo(()=>i||arguments.length==3?Xpe():void 0,[]),o=W.useRef(0),u=VD(),f=W.useMemo(()=>({ctrls:[],queue:[],flush(F,z){const B=jj(F,z);return o.current>0&&!f.queue.length&&!Object.keys(B).some(H=>!F.springs[H])?Aj(F,z):new Promise(H=>{Jpe(F,B),f.queue.push(()=>{H(Aj(F,z))}),u()})}}),[]),m=W.useRef([...f.ctrls]),v=[],_=Mj(e)||0;W.useMemo(()=>{Yt(m.current.slice(e,_),F=>{Cj(F,n),F.stop(!0)}),m.current.length=e,$(_,e)},[e]),W.useMemo(()=>{$(0,Math.min(_,e))},r);function $(F,z){for(let B=F;B<z;B++){const G=m.current[B]||(m.current[B]=new Hpe(null,f.flush)),H=i?i(B,G):t[B];H&&(v[B]=NXe(H))}}const T=m.current.map((F,z)=>jj(F,v[z])),I=W.useContext(Rx),O=Mj(I),A=I!==O&&Dpe(I);k0(()=>{o.current++,f.ctrls=m.current;const{queue:F}=f;F.length&&(f.queue=[],Yt(F,z=>z())),Yt(m.current,(z,B)=>{n==null||n.add(z),A&&z.start({default:I});const G=v[B];G&&(zpe(z,G.ref),z.ref?z.queue.push(G):z.start(G))})}),UD(()=>()=>{Yt(f.ctrls,F=>F.stop(!0))});const N=T.map(F=>({...F}));return n?[N,n]:N}function vc(e,t){const r=Ze.fun(e),[[i],n]=VXe(1,r?e:[e],r?[]:t);return r||arguments.length==2?[i,n]:i}function I8(e,t,r){const i=Ze.fun(t)&&t,{reset:n,sort:o,trail:u=0,expires:f=!0,exitBeforeEnter:m=!1,onDestroyed:v,ref:_,config:$}=i?i():t,T=W.useMemo(()=>i||arguments.length==3?Xpe():void 0,[]),I=io(e),O=[],A=W.useRef(null),N=n?null:A.current;k0(()=>{A.current=O}),UD(()=>(Yt(O,ne=>{T==null||T.add(ne.ctrl),ne.ctrl.ref=T}),()=>{Yt(A.current,ne=>{ne.expired&&clearTimeout(ne.expirationId),Cj(ne.ctrl,T),ne.ctrl.stop(!0)})}));const F=GXe(I,i?i():t,N),z=n&&A.current||[];k0(()=>Yt(z,({ctrl:ne,item:pe,key:ye})=>{Cj(ne,T),To(v,pe,ye)}));const B=[];if(N&&Yt(N,(ne,pe)=>{ne.expired?(clearTimeout(ne.expirationId),z.push(ne)):(pe=B[pe]=F.indexOf(ne.key),~pe&&(O[pe]=ne))}),Yt(I,(ne,pe)=>{O[pe]||(O[pe]={key:F[pe],item:ne,phase:"mount",ctrl:new Hpe},O[pe].ctrl.item=ne)}),B.length){let ne=-1;const{leave:pe}=i?i():t;Yt(B,(ye,ge)=>{const he=N[ge];~ye?(ne=O.indexOf(he),O[ne]={...he,item:I[ye]}):pe&&O.splice(++ne,0,he)})}Ze.fun(o)&&O.sort((ne,pe)=>o(ne.item,pe.item));let G=-u;const H=VD(),J=E8(t),Z=new Map,re=W.useRef(new Map),q=W.useRef(!1);Yt(O,(ne,pe)=>{const ye=ne.key,ge=ne.phase,he=i?i():t;let ce,Ee;const ze=To(he.delay||0,ye);if(ge=="mount")ce=he.enter,Ee="enter";else{const yt=F.indexOf(ye)<0;if(ge!="leave")if(yt)ce=he.leave,Ee="leave";else if(ce=he.update)Ee="update";else return;else if(!yt)ce=he.enter,Ee="enter";else return}if(ce=To(ce,ne.item,pe),ce=Ze.obj(ce)?qD(ce):{to:ce},!ce.config){const yt=$||J.config;ce.config=To(yt,ne.item,pe,Ee)}G+=u;const Ye={...J,delay:ze+G,ref:_,immediate:he.immediate,reset:!1,...ce};if(Ee=="enter"&&Ze.und(Ye.from)){const yt=i?i():t,De=Ze.und(yt.initial)||N?yt.from:yt.initial;Ye.from=To(De,ne.item,pe)}const{onResolve:vt}=Ye;Ye.onResolve=yt=>{To(vt,yt);const De=A.current,ot=De.find(He=>He.key===ye);if(ot&&!(yt.cancelled&&ot.phase!="update")&&ot.ctrl.idle){const He=De.every(Te=>Te.ctrl.idle);if(ot.phase=="leave"){const Te=To(f,ot.item);if(Te!==!1){const qe=Te===!0?0:Te;if(ot.expired=!0,!He&&qe>0){qe<=2147483647&&(ot.expirationId=setTimeout(H,qe));return}}}He&&De.some(Te=>Te.expired)&&(re.current.delete(ot),m&&(q.current=!0),H())}};const tt=jj(ne.ctrl,Ye);Ee==="leave"&&m?re.current.set(ne,{phase:Ee,springs:tt,payload:Ye}):Z.set(ne,{phase:Ee,springs:tt,payload:Ye})});const X=W.useContext(Rx),ie=Mj(X),le=X!==ie&&Dpe(X);k0(()=>{le&&Yt(O,ne=>{ne.ctrl.start({default:X})})},[X]),Yt(Z,(ne,pe)=>{if(re.current.size){const ye=O.findIndex(ge=>ge.key===pe.key);O.splice(ye,1)}}),k0(()=>{Yt(re.current.size?re.current:Z,({phase:ne,payload:pe},ye)=>{const{ctrl:ge}=ye;ye.phase=ne,T==null||T.add(ge),le&&ne=="enter"&&ge.start({default:X}),pe&&(zpe(ge,pe.ref),(ge.ref||T)&&!q.current?ge.update(pe):(ge.start(pe),q.current&&(q.current=!1)))})},n?void 0:r);const ue=ne=>W.createElement(W.Fragment,null,O.map((pe,ye)=>{const{springs:ge}=Z.get(pe)||pe.ctrl,he=ne({...ge},pe.item,pe,ye);return he&&he.type?W.createElement(he.type,{...he.props,key:Ze.str(pe.key)||Ze.num(pe.key)?pe.key:pe.ctrl.id,ref:he.ref}):he}));return T?[ue,T]:ue}var UXe=1;function GXe(e,{key:t,keys:r=t},i){if(r===null){const n=new Set;return e.map(o=>{const u=i&&i.find(f=>f.item===o&&f.phase!=="leave"&&!n.has(f));return u?(n.add(u),u.key):UXe++})}return Ze.und(r)?e:Ze.fun(r)?e.map(r):io(r)}var Qpe=class extends JD{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=x3(...t);const r=this._get(),i=Tj(r);GD(this,i.create(r))}advance(e){const t=this._get(),r=this.get();ah(t,r)||(Gu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&FK(this._active)&&tC(this)}_get(){const e=Ze.arr(this.source)?this.source.map(Mo):io(Mo(this.source));return this.calc(...e)}_start(){this.idle&&!FK(this._active)&&(this.idle=!1,Yt(k8(this),e=>{e.done=!1}),cu.skipAnimation?(tr.batchedUpdates(()=>this.advance()),tC(this)):S8.start(this))}_attach(){let e=1;Yt(io(this.source),t=>{Wa(t)&&yv(t,this),Ij(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Yt(io(this.source),e=>{Wa(e)&&$3(e,this)}),this._active.clear(),tC(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=io(this.source).reduce((t,r)=>Math.max(t,(Ij(r)?r.priority:0)+1),0))}};function qXe(e){return e.idle!==!1}function FK(e){return!e.size||Array.from(e).every(qXe)}function tC(e){e.idle||(e.idle=!0,Yt(k8(e),t=>{t.done=!0}),S3(e,{type:"idle",parent:e}))}var Rj=(e,...t)=>new Qpe(e,t);cu.assign({createStringInterpolator:Ape,to:(e,t)=>new Qpe(e,t)});var efe=/^--/;function HXe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!efe.test(e)&&!(_w.hasOwnProperty(e)&&_w[e])?t+"px":(""+t).trim()}var DK={};function WXe(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:i,style:n,children:o,scrollTop:u,scrollLeft:f,viewBox:m,...v}=t,_=Object.values(v),$=Object.keys(v).map(T=>r||e.hasAttribute(T)?T:DK[T]||(DK[T]=T.replace(/([A-Z])/g,I=>"-"+I.toLowerCase())));o!==void 0&&(e.textContent=o);for(const T in n)if(n.hasOwnProperty(T)){const I=HXe(T,n[T]);efe.test(T)?e.style.setProperty(T,I):e.style[T]=I}$.forEach((T,I)=>{e.setAttribute(T,_[I])}),i!==void 0&&(e.className=i),u!==void 0&&(e.scrollTop=u),f!==void 0&&(e.scrollLeft=f),m!==void 0&&e.setAttribute("viewBox",m)}var _w={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JXe=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),KXe=["Webkit","Ms","Moz","O"];_w=Object.keys(_w).reduce((e,t)=>(KXe.forEach(r=>e[JXe(r,t)]=e[t]),e),_w);var YXe=/^(matrix|translate|scale|rotate|skew)/,ZXe=/^(translate)/,XXe=/^(rotate|skew)/,rC=(e,t)=>Ze.num(e)&&e!==0?e+t:e,M9=(e,t)=>Ze.arr(e)?e.every(r=>M9(r,t)):Ze.num(e)?e===t:parseFloat(e)===t,QXe=class extends C8{constructor({x:e,y:t,z:r,...i}){const n=[],o=[];(e||t||r)&&(n.push([e||0,t||0,r||0]),o.push(u=>[`translate3d(${u.map(f=>rC(f,"px")).join(",")})`,M9(u,0)])),dc(i,(u,f)=>{if(f==="transform")n.push([u||""]),o.push(m=>[m,m===""]);else if(YXe.test(f)){if(delete i[f],Ze.und(u))return;const m=ZXe.test(f)?"px":XXe.test(f)?"deg":"";n.push(io(u)),o.push(f==="rotate3d"?([v,_,$,T])=>[`rotate3d(${v},${_},${$},${rC(T,m)})`,M9(T,0)]:v=>[`${f}(${v.map(_=>rC(_,m)).join(",")})`,M9(v,f.startsWith("scale")?1:0)])}}),n.length&&(i.transform=new eQe(n,o)),super(i)}},eQe=class extends Ipe{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Yt(this.inputs,(r,i)=>{const n=Mo(r[0]),[o,u]=this.transforms[i](Ze.arr(n)?n:r.map(Mo));e+=" "+o,t=t&&u}),t?"none":e}observerAdded(e){e==1&&Yt(this.inputs,t=>Yt(t,r=>Wa(r)&&yv(r,this)))}observerRemoved(e){e==0&&Yt(this.inputs,t=>Yt(t,r=>Wa(r)&&$3(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),S3(this,e)}},tQe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];cu.assign({batchedUpdates:S$.unstable_batchedUpdates,createStringInterpolator:Ape,colors:JZe});var rQe=kXe(tQe,{applyAnimatedValues:WXe,createAnimatedStyle:e=>new QXe(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Bi=rQe.animated;function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},v1.apply(this,arguments)}var iQe={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},zK=function(e,t){return"translate("+e+"px, "+t+"px)"},tfe=W.memo(function(e){var t,r=e.position,i=e.anchor,n=e.children,o=Pi(),u=Sl(),f=u.animate,m=u.config,v=c1e(),_=v[0],$=v[1],T=W.useRef(!1),I=void 0,O=!1,A=$.width>0&&$.height>0,N=Math.round(r[0]),F=Math.round(r[1]);A&&(i==="top"?(N-=$.width/2,F-=$.height+14):i==="right"?(N+=14,F-=$.height/2):i==="bottom"?(N-=$.width/2,F+=14):i==="left"?(N-=$.width+14,F-=$.height/2):i==="center"&&(N-=$.width/2,F-=$.height/2),I={transform:zK(N,F)},T.current||(O=!0),T.current=[N,F]);var z=vc({to:I,config:m,immediate:!f||O}),B=v1({},iQe,o.tooltip.wrapper,{transform:(t=z.transform)!=null?t:zK(N,F),opacity:z.transform?1:0});return L.jsx(Bi.div,{ref:_,style:B,children:n})});tfe.displayName="TooltipWrapper";var rfe=W.memo(function(e){var t=e.size,r=t===void 0?12:t,i=e.color,n=e.style;return L.jsx("span",{style:v1({display:"block",width:r,height:r,background:i},n===void 0?{}:n)})}),ife=W.memo(function(e){var t,r=e.id,i=e.value,n=e.format,o=e.enableChip,u=o!==void 0&&o,f=e.color,m=e.renderContent,v=Pi(),_=N3(n);if(typeof m=="function")t=m();else{var $=i;_!==void 0&&$!==void 0&&($=_($)),t=L.jsxs("div",{style:v.tooltip.basic,children:[u&&L.jsx(rfe,{color:f,style:v.tooltip.chip}),$!==void 0?L.jsxs("span",{children:[r,": ",L.jsx("strong",{children:""+$})]}):r]})}return L.jsx("div",{style:v.tooltip.container,children:t})}),nQe={width:"100%",borderCollapse:"collapse"},nfe=W.memo(function(e){var t,r=e.title,i=e.rows,n=i===void 0?[]:i,o=e.renderContent,u=Pi();return n.length?(t=typeof o=="function"?o():L.jsxs("div",{children:[r&&r,L.jsx("table",{style:v1({},nQe,u.tooltip.table),children:L.jsx("tbody",{children:n.map(function(f,m){return L.jsx("tr",{children:f.map(function(v,_){return L.jsx("td",{style:u.tooltip.tableCell,children:v},_)})},m)})})})]}),L.jsx("div",{style:u.tooltip.container,children:t})):null});nfe.displayName="TableTooltip";var Lj=W.memo(function(e){var t=e.x0,r=e.x1,i=e.y0,n=e.y1,o=Pi(),u=Sl(),f=u.animate,m=u.config,v=W.useMemo(function(){return v1({},o.crosshair.line,{pointerEvents:"none"})},[o.crosshair.line]),_=vc({x1:t,x2:r,y1:i,y2:n,config:m,immediate:!f});return L.jsx(Bi.line,v1({},_,{fill:"none",style:v}))});Lj.displayName="CrosshairLine";var Nj=W.memo(function(e){var t,r,i=e.width,n=e.height,o=e.type,u=e.x,f=e.y;return o==="cross"?(t={x0:u,x1:u,y0:0,y1:n},r={x0:0,x1:i,y0:f,y1:f}):o==="top-left"?(t={x0:u,x1:u,y0:0,y1:f},r={x0:0,x1:u,y0:f,y1:f}):o==="top"?t={x0:u,x1:u,y0:0,y1:f}:o==="top-right"?(t={x0:u,x1:u,y0:0,y1:f},r={x0:u,x1:i,y0:f,y1:f}):o==="right"?r={x0:u,x1:i,y0:f,y1:f}:o==="bottom-right"?(t={x0:u,x1:u,y0:f,y1:n},r={x0:u,x1:i,y0:f,y1:f}):o==="bottom"?t={x0:u,x1:u,y0:f,y1:n}:o==="bottom-left"?(t={x0:u,x1:u,y0:f,y1:n},r={x0:0,x1:u,y0:f,y1:f}):o==="left"?r={x0:0,x1:u,y0:f,y1:f}:o==="x"?t={x0:u,x1:u,y0:0,y1:n}:o==="y"&&(r={x0:0,x1:i,y0:f,y1:f}),L.jsxs(L.Fragment,{children:[t&&L.jsx(Lj,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),r&&L.jsx(Lj,{x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1})]})});Nj.displayName="Crosshair";var sfe=W.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),Fj={isVisible:!1,position:[null,null],content:null,anchor:null},ofe=W.createContext(Fj),sQe=function(e){var t=W.useState(Fj),r=t[0],i=t[1],n=W.useCallback(function(f,m,v){var _=m[0],$=m[1];v===void 0&&(v="top"),i({isVisible:!0,position:[_,$],anchor:v,content:f})},[i]),o=W.useCallback(function(f,m,v){v===void 0&&(v="top");var _=e.current.getBoundingClientRect(),$=e.current.offsetWidth,T=$===_.width?1:$/_.width,I="touches"in m?m.touches[0]:m,O=I.clientX,A=I.clientY,N=(O-_.left)*T,F=(A-_.top)*T;v!=="left"&&v!=="right"||(v=N<_.width/2?"right":"left"),i({isVisible:!0,position:[N,F],anchor:v,content:f})},[e,i]),u=W.useCallback(function(){i(Fj)},[i]);return{actions:W.useMemo(function(){return{showTooltipAt:n,showTooltipFromEvent:o,hideTooltip:u}},[n,o,u]),state:r}},mv=function(){var e=W.useContext(sfe);if(e===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return e},oQe=function(){var e=W.useContext(ofe);if(e===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return e},aQe=function(e){return e.isVisible},lQe=function(){var e=oQe();return aQe(e)?L.jsx(tfe,{position:e.position,anchor:e.anchor,children:e.content}):null},uQe=function(e){var t=e.container,r=e.children,i=sQe(t),n=i.actions,o=i.state;return L.jsx(sfe.Provider,{value:n,children:L.jsx(ofe.Provider,{value:o,children:r})})};function cQe(){this.__data__=[],this.size=0}var hQe=cQe;function dQe(e,t){return e===t||e!==e&&t!==t}var Lx=dQe,pQe=Lx;function fQe(e,t){for(var r=e.length;r--;)if(pQe(e[r][0],t))return r;return-1}var P8=fQe,yQe=P8,mQe=Array.prototype,gQe=mQe.splice;function vQe(e){var t=this.__data__,r=yQe(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():gQe.call(t,r,1),--this.size,!0}var bQe=vQe,wQe=P8;function xQe(e){var t=this.__data__,r=wQe(t,e);return r<0?void 0:t[r][1]}var _Qe=xQe,SQe=P8;function $Qe(e){return SQe(this.__data__,e)>-1}var MQe=$Qe,TQe=P8;function kQe(e,t){var r=this.__data__,i=TQe(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var CQe=kQe,EQe=hQe,IQe=bQe,PQe=_Qe,OQe=MQe,AQe=CQe;function gv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}gv.prototype.clear=EQe;gv.prototype.delete=IQe;gv.prototype.get=PQe;gv.prototype.has=OQe;gv.prototype.set=AQe;var O8=gv,jQe=O8;function RQe(){this.__data__=new jQe,this.size=0}var LQe=RQe;function NQe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var FQe=NQe;function DQe(e){return this.__data__.get(e)}var zQe=DQe;function BQe(e){return this.__data__.has(e)}var VQe=BQe,UQe=typeof Xd=="object"&&Xd&&Xd.Object===Object&&Xd,afe=UQe,GQe=afe,qQe=typeof self=="object"&&self&&self.Object===Object&&self,HQe=GQe||qQe||Function("return this")(),bc=HQe,WQe=bc,JQe=WQe.Symbol,vv=JQe,BK=vv,lfe=Object.prototype,KQe=lfe.hasOwnProperty,YQe=lfe.toString,fb=BK?BK.toStringTag:void 0;function ZQe(e){var t=KQe.call(e,fb),r=e[fb];try{e[fb]=void 0;var i=!0}catch{}var n=YQe.call(e);return i&&(t?e[fb]=r:delete e[fb]),n}var XQe=ZQe,QQe=Object.prototype,eet=QQe.toString;function tet(e){return eet.call(e)}var ret=tet,VK=vv,iet=XQe,net=ret,set="[object Null]",oet="[object Undefined]",UK=VK?VK.toStringTag:void 0;function aet(e){return e==null?e===void 0?oet:set:UK&&UK in Object(e)?iet(e):net(e)}var Uh=aet;function uet(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wc=uet,cet=Uh,het=wc,det="[object AsyncFunction]",pet="[object Function]",fet="[object GeneratorFunction]",yet="[object Proxy]";function met(e){if(!het(e))return!1;var t=cet(e);return t==pet||t==fet||t==det||t==yet}var A8=met;const KD=an(A8);var get=bc,vet=get["__core-js_shared__"],bet=vet,iC=bet,GK=function(){var e=/[^.]+$/.exec(iC&&iC.keys&&iC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wet(e){return!!GK&&GK in e}var xet=wet,_et=Function.prototype,$et=_et.toString;function Met(e){if(e!=null){try{return $et.call(e)}catch{}try{return e+""}catch{}}return""}var ufe=Met,Tet=A8,ket=xet,Cet=wc,Eet=ufe,Iet=/[\\^$.*+?()[\]{}|]/g,Pet=/^\[object .+?Constructor\]$/,Oet=Function.prototype,Aet=Object.prototype,jet=Oet.toString,Ret=Aet.hasOwnProperty,Let=RegExp("^"+jet.call(Ret).replace(Iet,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Net(e){if(!Cet(e)||ket(e))return!1;var t=Tet(e)?Let:Pet;return t.test(Eet(e))}var Fet=Net;function Det(e,t){return e==null?void 0:e[t]}var zet=Det,Bet=Fet,Vet=zet;function Uet(e,t){var r=Vet(e,t);return Bet(r)?r:void 0}var F1=Uet,Get=F1,qet=bc,Het=Get(qet,"Map"),YD=Het,Wet=F1,Jet=Wet(Object,"create"),j8=Jet,qK=j8;function Ket(){this.__data__=qK?qK(null):{},this.size=0}var Yet=Ket;function Zet(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xet=Zet,Qet=j8,ett="__lodash_hash_undefined__",ttt=Object.prototype,rtt=ttt.hasOwnProperty;function itt(e){var t=this.__data__;if(Qet){var r=t[e];return r===ett?void 0:r}return rtt.call(t,e)?t[e]:void 0}var ntt=itt,stt=j8,ott=Object.prototype,att=ott.hasOwnProperty;function ltt(e){var t=this.__data__;return stt?t[e]!==void 0:att.call(t,e)}var utt=ltt,ctt=j8,htt="__lodash_hash_undefined__";function dtt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ctt&&t===void 0?htt:t,this}var ptt=dtt,ftt=Yet,ytt=Xet,mtt=ntt,gtt=utt,vtt=ptt;function bv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}bv.prototype.clear=ftt;bv.prototype.delete=ytt;bv.prototype.get=mtt;bv.prototype.has=gtt;bv.prototype.set=vtt;var btt=bv,HK=btt,wtt=O8,xtt=YD;function _tt(){this.size=0,this.__data__={hash:new HK,map:new(xtt||wtt),string:new HK}}var Stt=_tt;function $tt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mtt=$tt,Ttt=Mtt;function ktt(e,t){var r=e.__data__;return Ttt(t)?r[typeof t=="string"?"string":"hash"]:r.map}var R8=ktt,Ctt=R8;function Ett(e){var t=Ctt(this,e).delete(e);return this.size-=t?1:0,t}var Itt=Ett,Ptt=R8;function Ott(e){return Ptt(this,e).get(e)}var Att=Ott,jtt=R8;function Rtt(e){return jtt(this,e).has(e)}var Ltt=Rtt,Ntt=R8;function Ftt(e,t){var r=Ntt(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var Dtt=Ftt,ztt=Stt,Btt=Itt,Vtt=Att,Utt=Ltt,Gtt=Dtt;function wv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}wv.prototype.clear=ztt;wv.prototype.delete=Btt;wv.prototype.get=Vtt;wv.prototype.has=Utt;wv.prototype.set=Gtt;var ZD=wv,qtt=O8,Htt=YD,Wtt=ZD,Jtt=200;function Ktt(e,t){var r=this.__data__;if(r instanceof qtt){var i=r.__data__;if(!Htt||i.length<Jtt-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wtt(i)}return r.set(e,t),this.size=r.size,this}var Ytt=Ktt,Ztt=O8,Xtt=LQe,Qtt=FQe,ert=zQe,trt=VQe,rrt=Ytt;function xv(e){var t=this.__data__=new Ztt(e);this.size=t.size}xv.prototype.clear=Xtt;xv.prototype.delete=Qtt;xv.prototype.get=ert;xv.prototype.has=trt;xv.prototype.set=rrt;var L8=xv,irt=F1,nrt=function(){try{var e=irt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cfe=nrt,WK=cfe;function srt(e,t,r){t=="__proto__"&&WK?WK(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var XD=srt,ort=XD,art=Lx;function lrt(e,t,r){(r!==void 0&&!art(e[t],r)||r===void 0&&!(t in e))&&ort(e,t,r)}var hfe=lrt;function urt(e){return function(t,r,i){for(var n=-1,o=Object(t),u=i(t),f=u.length;f--;){var m=u[e?f:++n];if(r(o[m],m,o)===!1)break}return t}}var crt=urt,hrt=crt,drt=hrt(),dfe=drt,P6={exports:{}};P6.exports;(function(e,t){var r=bc,i=t&&!t.nodeType&&t,n=i&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===i,u=o?r.Buffer:void 0,f=u?u.allocUnsafe:void 0;function m(v,_){if(_)return v.slice();var $=v.length,T=f?f($):new v.constructor($);return v.copy(T),T}e.exports=m})(P6,P6.exports);var pfe=P6.exports,prt=bc,frt=prt.Uint8Array,ffe=frt,JK=ffe;function yrt(e){var t=new e.constructor(e.byteLength);return new JK(t).set(new JK(e)),t}var QD=yrt,mrt=QD;function grt(e,t){var r=t?mrt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var yfe=grt;function vrt(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var mfe=vrt,brt=wc,KK=Object.create,wrt=function(){function e(){}return function(t){if(!brt(t))return{};if(KK)return KK(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),xrt=wrt;function _rt(e,t){return function(r){return e(t(r))}}var gfe=_rt,Srt=gfe,$rt=Srt(Object.getPrototypeOf,Object),ez=$rt,Mrt=Object.prototype;function Trt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Mrt;return e===r}var tz=Trt,krt=xrt,Crt=ez,Ert=tz;function Irt(e){return typeof e.constructor=="function"&&!Ert(e)?krt(Crt(e)):{}}var vfe=Irt;function Prt(e){return e!=null&&typeof e=="object"}var _l=Prt,Ort=Uh,Art=_l,jrt="[object Arguments]";function Rrt(e){return Art(e)&&Ort(e)==jrt}var Lrt=Rrt,YK=Lrt,Nrt=_l,bfe=Object.prototype,Frt=bfe.hasOwnProperty,Drt=bfe.propertyIsEnumerable,zrt=YK(function(){return arguments}())?YK:function(e){return Nrt(e)&&Frt.call(e,"callee")&&!Drt.call(e,"callee")},N8=zrt,Brt=Array.isArray,Do=Brt,Vrt=9007199254740991;function Urt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vrt}var rz=Urt,Grt=A8,qrt=rz;function Hrt(e){return e!=null&&qrt(e.length)&&!Grt(e)}var _v=Hrt,Wrt=_v,Jrt=_l;function Krt(e){return Jrt(e)&&Wrt(e)}var wfe=Krt,O6={exports:{}};function Yrt(){return!1}var Zrt=Yrt;O6.exports;(function(e,t){var r=bc,i=Zrt,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,u=o&&o.exports===n,f=u?r.Buffer:void 0,m=f?f.isBuffer:void 0,v=m||i;e.exports=v})(O6,O6.exports);var F8=O6.exports,Xrt=Uh,Qrt=ez,eit=_l,tit="[object Object]",rit=Function.prototype,iit=Object.prototype,xfe=rit.toString,nit=iit.hasOwnProperty,sit=xfe.call(Object);function oit(e){if(!eit(e)||Xrt(e)!=tit)return!1;var t=Qrt(e);if(t===null)return!0;var r=nit.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xfe.call(r)==sit}var iz=oit;const nz=an(iz);var ait=Uh,lit=rz,uit=_l,cit="[object Arguments]",hit="[object Array]",dit="[object Boolean]",pit="[object Date]",fit="[object Error]",yit="[object Function]",mit="[object Map]",git="[object Number]",vit="[object Object]",bit="[object RegExp]",wit="[object Set]",xit="[object String]",_it="[object WeakMap]",Sit="[object ArrayBuffer]",$it="[object DataView]",Mit="[object Float32Array]",Tit="[object Float64Array]",kit="[object Int8Array]",Cit="[object Int16Array]",Eit="[object Int32Array]",Iit="[object Uint8Array]",Pit="[object Uint8ClampedArray]",Oit="[object Uint16Array]",Ait="[object Uint32Array]",Ci={};Ci[Mit]=Ci[Tit]=Ci[kit]=Ci[Cit]=Ci[Eit]=Ci[Iit]=Ci[Pit]=Ci[Oit]=Ci[Ait]=!0;Ci[cit]=Ci[hit]=Ci[Sit]=Ci[dit]=Ci[$it]=Ci[pit]=Ci[fit]=Ci[yit]=Ci[mit]=Ci[git]=Ci[vit]=Ci[bit]=Ci[wit]=Ci[xit]=Ci[_it]=!1;function jit(e){return uit(e)&&lit(e.length)&&!!Ci[ait(e)]}var Rit=jit;function Lit(e){return function(t){return e(t)}}var Sv=Lit,A6={exports:{}};A6.exports;(function(e,t){var r=afe,i=t&&!t.nodeType&&t,n=i&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===i,u=o&&r.process,f=function(){try{var m=n&&n.require&&n.require("util").types;return m||u&&u.binding&&u.binding("util")}catch{}}();e.exports=f})(A6,A6.exports);var D8=A6.exports,Nit=Rit,Fit=Sv,ZK=D8,XK=ZK&&ZK.isTypedArray,Dit=XK?Fit(XK):Nit,sz=Dit;function zit(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _fe=zit,Bit=XD,Vit=Lx,Uit=Object.prototype,Git=Uit.hasOwnProperty;function qit(e,t,r){var i=e[t];(!(Git.call(e,t)&&Vit(i,r))||r===void 0&&!(t in e))&&Bit(e,t,r)}var oz=qit,Hit=oz,Wit=XD;function Jit(e,t,r,i){var n=!r;r||(r={});for(var o=-1,u=t.length;++o<u;){var f=t[o],m=i?i(r[f],e[f],f,r,e):void 0;m===void 0&&(m=e[f]),n?Wit(r,f,m):Hit(r,f,m)}return r}var $v=Jit;function Kit(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var Yit=Kit,Zit=9007199254740991,Xit=/^(?:0|[1-9]\d*)$/;function Qit(e,t){var r=typeof e;return t=t??Zit,!!t&&(r=="number"||r!="symbol"&&Xit.test(e))&&e>-1&&e%1==0&&e<t}var z8=Qit,ent=Yit,tnt=N8,rnt=Do,int=F8,nnt=z8,snt=sz,ont=Object.prototype,ant=ont.hasOwnProperty;function lnt(e,t){var r=rnt(e),i=!r&&tnt(e),n=!r&&!i&&int(e),o=!r&&!i&&!n&&snt(e),u=r||i||n||o,f=u?ent(e.length,String):[],m=f.length;for(var v in e)(t||ant.call(e,v))&&!(u&&(v=="length"||n&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||nnt(v,m)))&&f.push(v);return f}var Sfe=lnt;function unt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var cnt=unt,hnt=wc,dnt=tz,pnt=cnt,fnt=Object.prototype,ynt=fnt.hasOwnProperty;function mnt(e){if(!hnt(e))return pnt(e);var t=dnt(e),r=[];for(var i in e)i=="constructor"&&(t||!ynt.call(e,i))||r.push(i);return r}var gnt=mnt,vnt=Sfe,bnt=gnt,wnt=_v;function xnt(e){return wnt(e)?vnt(e,!0):bnt(e)}var Nx=xnt,_nt=$v,Snt=Nx;function $nt(e){return _nt(e,Snt(e))}var Mnt=$nt,QK=hfe,Tnt=pfe,knt=yfe,Cnt=mfe,Ent=vfe,eY=N8,tY=Do,Int=wfe,Pnt=F8,Ont=A8,Ant=wc,jnt=iz,Rnt=sz,rY=_fe,Lnt=Mnt;function Nnt(e,t,r,i,n,o,u){var f=rY(e,r),m=rY(t,r),v=u.get(m);if(v){QK(e,r,v);return}var _=o?o(f,m,r+"",e,t,u):void 0,$=_===void 0;if($){var T=tY(m),I=!T&&Pnt(m),O=!T&&!I&&Rnt(m);_=m,T||I||O?tY(f)?_=f:Int(f)?_=Cnt(f):I?($=!1,_=Tnt(m,!0)):O?($=!1,_=knt(m,!0)):_=[]:jnt(m)||eY(m)?(_=f,eY(f)?_=Lnt(f):(!Ant(f)||Ont(f))&&(_=Ent(m))):$=!1}$&&(u.set(m,_),n(_,m,i,o,u),u.delete(m)),QK(e,r,_)}var Fnt=Nnt,Dnt=L8,znt=hfe,Bnt=dfe,Vnt=Fnt,Unt=wc,Gnt=Nx,qnt=_fe;function $fe(e,t,r,i,n){e!==t&&Bnt(t,function(o,u){if(n||(n=new Dnt),Unt(o))Vnt(e,t,u,r,$fe,i,n);else{var f=i?i(qnt(e,u),o,u+"",e,t,n):void 0;f===void 0&&(f=o),znt(e,u,f)}},Gnt)}var Hnt=$fe;function Wnt(e){return e}var B8=Wnt;function Jnt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Knt=Jnt,Ynt=Knt,iY=Math.max;function Znt(e,t,r){return t=iY(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,o=iY(i.length-t,0),u=Array(o);++n<o;)u[n]=i[t+n];n=-1;for(var f=Array(t+1);++n<t;)f[n]=i[n];return f[t]=r(u),Ynt(e,this,f)}}var Mfe=Znt;function Xnt(e){return function(){return e}}var Qnt=Xnt,est=Qnt,nY=cfe,tst=B8,rst=nY?function(e,t){return nY(e,"toString",{configurable:!0,enumerable:!1,value:est(t),writable:!0})}:tst,ist=rst,nst=800,sst=16,ost=Date.now;function ast(e){var t=0,r=0;return function(){var i=ost(),n=sst-(i-r);if(r=i,n>0){if(++t>=nst)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lst=ast,ust=ist,cst=lst,hst=cst(ust),Tfe=hst,dst=B8,pst=Mfe,fst=Tfe;function yst(e,t){return fst(pst(e,t,dst),e+"")}var az=yst,mst=Lx,gst=_v,vst=z8,bst=wc;function wst(e,t,r){if(!bst(r))return!1;var i=typeof t;return(i=="number"?gst(r)&&vst(t,r.length):i=="string"&&t in r)?mst(r[t],e):!1}var kfe=wst,xst=az,_st=kfe;function Sst(e){return xst(function(t,r){var i=-1,n=r.length,o=n>1?r[n-1]:void 0,u=n>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(n--,o):void 0,u&&_st(r[0],r[1],u)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var f=r[i];f&&e(t,f,i,o)}return t})}var $st=Sst,Mst=Hnt,Tst=$st,kst=Tst(function(e,t,r){Mst(e,t,r)}),Cst=kst;const Est=an(Cst);var Ist=Uh,Pst=_l,Ost="[object Symbol]";function Ast(e){return typeof e=="symbol"||Pst(e)&&Ist(e)==Ost}var V8=Ast,jst=Do,Rst=V8,Lst=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nst=/^\w*$/;function Fst(e,t){if(jst(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Rst(e)?!0:Nst.test(e)||!Lst.test(e)||t!=null&&e in Object(t)}var lz=Fst,Cfe=ZD,Dst="Expected a function";function uz(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Dst);var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var u=e.apply(this,i);return r.cache=o.set(n,u)||o,u};return r.cache=new(uz.Cache||Cfe),r}uz.Cache=Cfe;var zst=uz,Bst=zst,Vst=500;function Ust(e){var t=Bst(e,function(i){return r.size===Vst&&r.clear(),i}),r=t.cache;return t}var Gst=Ust,qst=Gst,Hst=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wst=/\\(\\)?/g,Jst=qst(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hst,function(r,i,n,o){t.push(n?o.replace(Wst,"$1"):i||r)}),t}),Kst=Jst;function Yst(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var U8=Yst,sY=vv,Zst=U8,Xst=Do,Qst=V8,eot=1/0,oY=sY?sY.prototype:void 0,aY=oY?oY.toString:void 0;function Efe(e){if(typeof e=="string")return e;if(Xst(e))return Zst(e,Efe)+"";if(Qst(e))return aY?aY.call(e):"";var t=e+"";return t=="0"&&1/e==-eot?"-0":t}var tot=Efe,rot=tot;function iot(e){return e==null?"":rot(e)}var Ife=iot,not=Do,sot=lz,oot=Kst,aot=Ife;function lot(e,t){return not(e)?e:sot(e,t)?[e]:oot(aot(e))}var Mv=lot,uot=V8,cot=1/0;function hot(e){if(typeof e=="string"||uot(e))return e;var t=e+"";return t=="0"&&1/e==-cot?"-0":t}var Tv=hot,dot=Mv,pot=Tv;function fot(e,t){t=dot(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[pot(t[r++])];return r&&r==i?e:void 0}var Fx=fot,yot=Fx;function mot(e,t,r){var i=e==null?void 0:yot(e,t);return i===void 0?r:i}var Pfe=mot;const pc=an(Pfe);var got=oz,vot=Mv,bot=z8,lY=wc,wot=Tv;function xot(e,t,r,i){if(!lY(e))return e;t=vot(t,e);for(var n=-1,o=t.length,u=o-1,f=e;f!=null&&++n<o;){var m=wot(t[n]),v=r;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(n!=u){var _=f[m];v=i?i(_,m,f):void 0,v===void 0&&(v=lY(_)?_:bot(t[n+1])?[]:{})}got(f,m,v),f=f[m]}return e}var Ofe=xot,_ot=Ofe;function Sot(e,t,r){return e==null?e:_ot(e,t,r)}var $ot=Sot;const j2=an($ot);function G8(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cz(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function kv(){}var b1=.7,Og=1/b1,rg="\\s*([+-]?\\d+)\\s*",I3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mot=/^#([0-9a-f]{3,8})$/,Tot=new RegExp(`^rgb\\(${rg},${rg},${rg}\\)$`),kot=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),Cot=new RegExp(`^rgba\\(${rg},${rg},${rg},${I3}\\)$`),Eot=new RegExp(`^rgba\\(${sc},${sc},${sc},${I3}\\)$`),Iot=new RegExp(`^hsl\\(${I3},${sc},${sc}\\)$`),Pot=new RegExp(`^hsla\\(${I3},${sc},${sc},${I3}\\)$`),uY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G8(kv,P3,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cY,formatHex:cY,formatHex8:Oot,formatHsl:Aot,formatRgb:hY,toString:hY});function cY(){return this.rgb().formatHex()}function Oot(){return this.rgb().formatHex8()}function Aot(){return jfe(this).formatHsl()}function hY(){return this.rgb().formatRgb()}function P3(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Mot.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dY(t):r===3?new Ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?E5(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?E5(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tot.exec(e))?new Ns(t[1],t[2],t[3],1):(t=kot.exec(e))?new Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cot.exec(e))?E5(t[1],t[2],t[3],t[4]):(t=Eot.exec(e))?E5(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Iot.exec(e))?yY(t[1],t[2]/100,t[3]/100,1):(t=Pot.exec(e))?yY(t[1],t[2]/100,t[3]/100,t[4]):uY.hasOwnProperty(e)?dY(uY[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function dY(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function E5(e,t,r,i){return i<=0&&(e=t=r=NaN),new Ns(e,t,r,i)}function Afe(e){return e instanceof kv||(e=P3(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function Ag(e,t,r,i){return arguments.length===1?Afe(e):new Ns(e,t,r,i??1)}function Ns(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}G8(Ns,Ag,cz(kv,{brighter(e){return e=e==null?Og:Math.pow(Og,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?b1:Math.pow(b1,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(q0(this.r),q0(this.g),q0(this.b),j6(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pY,formatHex:pY,formatHex8:jot,formatRgb:fY,toString:fY}));function pY(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}`}function jot(){return`#${C0(this.r)}${C0(this.g)}${C0(this.b)}${C0((isNaN(this.opacity)?1:this.opacity)*255)}`}function fY(){const e=j6(this.opacity);return`${e===1?"rgb(":"rgba("}${q0(this.r)}, ${q0(this.g)}, ${q0(this.b)}${e===1?")":`, ${e})`}`}function j6(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function q0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C0(e){return e=q0(e),(e<16?"0":"")+e.toString(16)}function yY(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xl(e,t,r,i)}function jfe(e){if(e instanceof Xl)return new Xl(e.h,e.s,e.l,e.opacity);if(e instanceof kv||(e=P3(e)),!e)return new Xl;if(e instanceof Xl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),o=Math.max(t,r,i),u=NaN,f=o-n,m=(o+n)/2;return f?(t===o?u=(r-i)/f+(r<i)*6:r===o?u=(i-t)/f+2:u=(t-r)/f+4,f/=m<.5?o+n:2-o-n,u*=60):f=m>0&&m<1?0:u,new Xl(u,f,m,e.opacity)}function Rot(e,t,r,i){return arguments.length===1?jfe(e):new Xl(e,t,r,i??1)}function Xl(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}G8(Xl,Rot,cz(kv,{brighter(e){return e=e==null?Og:Math.pow(Og,e),new Xl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?b1:Math.pow(b1,e),new Xl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Ns(nC(e>=240?e-240:e+120,n,i),nC(e,n,i),nC(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new Xl(mY(this.h),I5(this.s),I5(this.l),j6(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=j6(this.opacity);return`${e===1?"hsl(":"hsla("}${mY(this.h)}, ${I5(this.s)*100}%, ${I5(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mY(e){return e=(e||0)%360,e<0?e+360:e}function I5(e){return Math.max(0,Math.min(1,e||0))}function nC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lot=Math.PI/180,Not=180/Math.PI;var Rfe=-.14861,hz=1.78277,dz=-.29227,q8=-.90649,O3=1.97294,gY=O3*q8,vY=O3*hz,bY=hz*dz-q8*Rfe;function Fot(e){if(e instanceof H0)return new H0(e.h,e.s,e.l,e.opacity);e instanceof Ns||(e=Afe(e));var t=e.r/255,r=e.g/255,i=e.b/255,n=(bY*i+gY*t-vY*r)/(bY+gY-vY),o=i-n,u=(O3*(r-n)-dz*o)/q8,f=Math.sqrt(u*u+o*o)/(O3*n*(1-n)),m=f?Math.atan2(u,o)*Not-120:NaN;return new H0(m<0?m+360:m,f,n,e.opacity)}function fc(e,t,r,i){return arguments.length===1?Fot(e):new H0(e,t,r,i??1)}function H0(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}G8(H0,fc,cz(kv,{brighter(e){return e=e==null?Og:Math.pow(Og,e),new H0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?b1:Math.pow(b1,e),new H0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Lot,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),n=Math.sin(e);return new Ns(255*(t+r*(Rfe*i+hz*n)),255*(t+r*(dz*i+q8*n)),255*(t+r*(O3*i)),this.opacity)}}));function Dot(e,t,r,i,n){var o=e*e,u=o*e;return((1-3*e+3*o-u)*t+(4-6*o+3*u)*r+(1+3*e+3*o-3*u)*i+u*n)/6}function zot(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[i],o=e[i+1],u=i>0?e[i-1]:2*n-o,f=i<t-1?e[i+2]:2*o-n;return Dot((r-i/t)*t,u,n,o,f)}}const H8=e=>()=>e;function Lfe(e,t){return function(r){return e+r*t}}function Bot(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function Vot(e,t){var r=t-e;return r?Lfe(e,r>180||r<-180?r-360*Math.round(r/360):r):H8(isNaN(e)?t:e)}function Uot(e){return(e=+e)==1?ig:function(t,r){return r-t?Bot(t,r,e):H8(isNaN(t)?r:t)}}function ig(e,t){var r=t-e;return r?Lfe(e,r):H8(isNaN(e)?t:e)}const wY=function e(t){var r=Uot(t);function i(n,o){var u=r((n=Ag(n)).r,(o=Ag(o)).r),f=r(n.g,o.g),m=r(n.b,o.b),v=ig(n.opacity,o.opacity);return function(_){return n.r=u(_),n.g=f(_),n.b=m(_),n.opacity=v(_),n+""}}return i.gamma=e,i}(1);function Got(e){return function(t){var r=t.length,i=new Array(r),n=new Array(r),o=new Array(r),u,f;for(u=0;u<r;++u)f=Ag(t[u]),i[u]=f.r||0,n[u]=f.g||0,o[u]=f.b||0;return i=e(i),n=e(n),o=e(o),f.opacity=1,function(m){return f.r=i(m),f.g=n(m),f.b=o(m),f+""}}}var qot=Got(zot);function Hot(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),n;return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Wot(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jot(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,n=new Array(i),o=new Array(r),u;for(u=0;u<i;++u)n[u]=pz(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(f){for(u=0;u<i;++u)o[u]=n[u](f);return o}}function Kot(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function R6(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yot(e,t){var r={},i={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=pz(e[n],t[n]):i[n]=t[n];return function(o){for(n in r)i[n]=r[n](o);return i}}var Dj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sC=new RegExp(Dj.source,"g");function Zot(e){return function(){return e}}function Xot(e){return function(t){return e(t)+""}}function Nfe(e,t){var r=Dj.lastIndex=sC.lastIndex=0,i,n,o,u=-1,f=[],m=[];for(e=e+"",t=t+"";(i=Dj.exec(e))&&(n=sC.exec(t));)(o=n.index)>r&&(o=t.slice(r,o),f[u]?f[u]+=o:f[++u]=o),(i=i[0])===(n=n[0])?f[u]?f[u]+=n:f[++u]=n:(f[++u]=null,m.push({i:u,x:R6(i,n)})),r=sC.lastIndex;return r<t.length&&(o=t.slice(r),f[u]?f[u]+=o:f[++u]=o),f.length<2?m[0]?Xot(m[0].x):Zot(t):(t=m.length,function(v){for(var _=0,$;_<t;++_)f[($=m[_]).i]=$.x(v);return f.join("")})}function pz(e,t){var r=typeof t,i;return t==null||r==="boolean"?H8(t):(r==="number"?R6:r==="string"?(i=P3(t))?(t=i,wY):Nfe:t instanceof P3?wY:t instanceof Date?Kot:Wot(t)?Hot:Array.isArray(t)?Jot:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yot:R6)(e,t)}function Qot(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ffe(e){return function t(r){r=+r;function i(n,o){var u=e((n=fc(n)).h,(o=fc(o)).h),f=ig(n.s,o.s),m=ig(n.l,o.l),v=ig(n.opacity,o.opacity);return function(_){return n.h=u(_),n.s=f(_),n.l=m(Math.pow(_,r)),n.opacity=v(_),n+""}}return i.gamma=t,i}(1)}Ffe(Vot);var fz=Ffe(ig),eat=Uh,tat=Do,rat=_l,iat="[object String]";function nat(e){return typeof e=="string"||!tat(e)&&rat(e)&&eat(e)==iat}var sat=nat;const oat=an(sat);function aat(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Dfe=aat;const Ft=an(Dfe);function T9(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lat(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yz(e){let t,r,i;e.length!==2?(t=T9,r=(f,m)=>T9(e(f),m),i=(f,m)=>e(f)-m):(t=e===T9||e===lat?e:uat,r=e,i=e);function n(f,m,v=0,_=f.length){if(v<_){if(t(m,m)!==0)return _;do{const $=v+_>>>1;r(f[$],m)<0?v=$+1:_=$}while(v<_)}return v}function o(f,m,v=0,_=f.length){if(v<_){if(t(m,m)!==0)return _;do{const $=v+_>>>1;r(f[$],m)<=0?v=$+1:_=$}while(v<_)}return v}function u(f,m,v=0,_=f.length){const $=n(f,m,v,_-1);return $>v&&i(f[$-1],m)>-i(f[$],m)?$-1:$}return{left:n,center:u,right:o}}function uat(){return 0}function cat(e){return e===null?NaN:+e}const hat=yz(T9),dat=hat.right;yz(cat).center;class xY extends Map{constructor(t,r=yat){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[i,n]of t)this.set(i,n)}get(t){return super.get(_Y(this,t))}has(t){return super.has(_Y(this,t))}set(t,r){return super.set(pat(this,t),r)}delete(t){return super.delete(fat(this,t))}}function _Y({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):r}function pat({_intern:e,_key:t},r){const i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function fat({_intern:e,_key:t},r){const i=t(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function yat(e){return e!==null&&typeof e=="object"?e.valueOf():e}const mat=Math.sqrt(50),gat=Math.sqrt(10),vat=Math.sqrt(2);function L6(e,t,r){const i=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(i)),o=i/Math.pow(10,n),u=o>=mat?10:o>=gat?5:o>=vat?2:1;let f,m,v;return n<0?(v=Math.pow(10,-n)/u,f=Math.round(e*v),m=Math.round(t*v),f/v<e&&++f,m/v>t&&--m,v=-v):(v=Math.pow(10,n)*u,f=Math.round(e/v),m=Math.round(t/v),f*v<e&&++f,m*v>t&&--m),m<f&&.5<=r&&r<2?L6(e,t,r*2):[f,m,v]}function zj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const i=t<e,[n,o,u]=i?L6(t,e,r):L6(e,t,r);if(!(o>=n))return[];const f=o-n+1,m=new Array(f);if(i)if(u<0)for(let v=0;v<f;++v)m[v]=(o-v)/-u;else for(let v=0;v<f;++v)m[v]=(o-v)*u;else if(u<0)for(let v=0;v<f;++v)m[v]=(n+v)/-u;else for(let v=0;v<f;++v)m[v]=(n+v)*u;return m}function Bj(e,t,r){return t=+t,e=+e,r=+r,L6(e,t,r)[2]}function Vj(e,t,r){t=+t,e=+e,r=+r;const i=t<e,n=i?Bj(t,e,r):Bj(e,t,r);return(i?-1:1)*(n<0?1/-n:n)}function bat(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var i=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(n);++i<n;)o[i]=e+i*r;return o}function D1(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const SY=Symbol("implicit");function E0(){var e=new xY,t=[],r=[],i=SY;function n(o){let u=e.get(o);if(u===void 0){if(i!==SY)return i;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return n.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new xY;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return n},n.range=function(o){return arguments.length?(r=Array.from(o),n):r.slice()},n.unknown=function(o){return arguments.length?(i=o,n):i},n.copy=function(){return E0(t,r).unknown(i)},D1.apply(n,arguments),n}function mz(){var e=E0().unknown(void 0),t=e.domain,r=e.range,i=0,n=1,o,u,f=!1,m=0,v=0,_=.5;delete e.unknown;function $(){var T=t().length,I=n<i,O=I?n:i,A=I?i:n;o=(A-O)/Math.max(1,T-m+v*2),f&&(o=Math.floor(o)),O+=(A-O-o*(T-m))*_,u=o*(1-m),f&&(O=Math.round(O),u=Math.round(u));var N=bat(T).map(function(F){return O+o*F});return r(I?N.reverse():N)}return e.domain=function(T){return arguments.length?(t(T),$()):t()},e.range=function(T){return arguments.length?([i,n]=T,i=+i,n=+n,$()):[i,n]},e.rangeRound=function(T){return[i,n]=T,i=+i,n=+n,f=!0,$()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(T){return arguments.length?(f=!!T,$()):f},e.padding=function(T){return arguments.length?(m=Math.min(1,v=+T),$()):m},e.paddingInner=function(T){return arguments.length?(m=Math.min(1,T),$()):m},e.paddingOuter=function(T){return arguments.length?(v=+T,$()):v},e.align=function(T){return arguments.length?(_=Math.max(0,Math.min(1,T)),$()):_},e.copy=function(){return mz(t(),[i,n]).round(f).paddingInner(m).paddingOuter(v).align(_)},D1.apply($(),arguments)}function zfe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zfe(t())},e}function wat(){return zfe(mz.apply(null,arguments).paddingInner(1))}function xat(e){return function(){return e}}function _at(e){return+e}var $Y=[0,1];function Mm(e){return e}function Uj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xat(isNaN(t)?NaN:.5)}function Sat(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}function $at(e,t,r){var i=e[0],n=e[1],o=t[0],u=t[1];return n<i?(i=Uj(n,i),o=r(u,o)):(i=Uj(i,n),o=r(o,u)),function(f){return o(i(f))}}function Mat(e,t,r){var i=Math.min(e.length,t.length)-1,n=new Array(i),o=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)n[u]=Uj(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(f){var m=dat(e,f,1,i)-1;return o[m](n[m](f))}}function W8(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gz(){var e=$Y,t=$Y,r=pz,i,n,o,u=Mm,f,m,v;function _(){var T=Math.min(e.length,t.length);return u!==Mm&&(u=Sat(e[0],e[T-1])),f=T>2?Mat:$at,m=v=null,$}function $(T){return T==null||isNaN(T=+T)?o:(m||(m=f(e.map(i),t,r)))(i(u(T)))}return $.invert=function(T){return u(n((v||(v=f(t,e.map(i),R6)))(T)))},$.domain=function(T){return arguments.length?(e=Array.from(T,_at),_()):e.slice()},$.range=function(T){return arguments.length?(t=Array.from(T),_()):t.slice()},$.rangeRound=function(T){return t=Array.from(T),r=Qot,_()},$.clamp=function(T){return arguments.length?(u=T?!0:Mm,_()):u!==Mm},$.interpolate=function(T){return arguments.length?(r=T,_()):r},$.unknown=function(T){return arguments.length?(o=T,$):o},function(T,I){return i=T,n=I,_()}}function Bfe(){return gz()(Mm,Mm)}function Tat(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function N6(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function jg(e){return e=N6(Math.abs(e)),e?e[1]:NaN}function kat(e,t){return function(r,i){for(var n=r.length,o=[],u=0,f=e[0],m=0;n>0&&f>0&&(m+f+1>i&&(f=Math.max(1,i-m)),o.push(r.substring(n-=f,n+f)),!((m+=f+1)>i));)f=e[u=(u+1)%e.length];return o.reverse().join(t)}}function Cat(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Eat=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function A3(e){if(!(t=Eat.exec(e)))throw new Error("invalid format: "+e);var t;return new vz({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}A3.prototype=vz.prototype;function vz(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vz.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iat(e){e:for(var t=e.length,r=1,i=-1,n;r<t;++r)switch(e[r]){case".":i=n=r;break;case"0":i===0&&(i=r),n=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(n+1):e}var Vfe;function Pat(e,t){var r=N6(e,t);if(!r)return e+"";var i=r[0],n=r[1],o=n-(Vfe=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+N6(e,Math.max(0,t+o-1))[0]}function MY(e,t){var r=N6(e,t);if(!r)return e+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}const TY={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:Tat,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return MY(e*100,t)},r:MY,s:Pat,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function kY(e){return e}var CY=Array.prototype.map,EY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oat(e){var t=e.grouping===void 0||e.thousands===void 0?kY:kat(CY.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?kY:Cat(CY.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"-":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function v($){$=A3($);var T=$.fill,I=$.align,O=$.sign,A=$.symbol,N=$.zero,F=$.width,z=$.comma,B=$.precision,G=$.trim,H=$.type;H==="n"?(z=!0,H="g"):TY[H]||(B===void 0&&(B=12),G=!0,H="g"),(N||T==="0"&&I==="=")&&(N=!0,T="0",I="=");var J=A==="$"?r:A==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Z=A==="$"?i:/[%p]/.test(H)?u:"",re=TY[H],q=/[defgprs%]/.test(H);B=B===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function X(ie){var le=J,ue=Z,ne,pe,ye;if(H==="c")ue=re(ie)+ue,ie="";else{ie=+ie;var ge=ie<0||1/ie<0;if(ie=isNaN(ie)?m:re(Math.abs(ie),B),G&&(ie=Iat(ie)),ge&&+ie==0&&O!=="+"&&(ge=!1),le=(ge?O==="("?O:f:O==="-"||O==="("?"":O)+le,ue=(H==="s"?EY[8+Vfe/3]:"")+ue+(ge&&O==="("?")":""),q){for(ne=-1,pe=ie.length;++ne<pe;)if(ye=ie.charCodeAt(ne),48>ye||ye>57){ue=(ye===46?n+ie.slice(ne+1):ie.slice(ne))+ue,ie=ie.slice(0,ne);break}}}z&&!N&&(ie=t(ie,1/0));var he=le.length+ie.length+ue.length,ce=he<F?new Array(F-he+1).join(T):"";switch(z&&N&&(ie=t(ce+ie,ce.length?F-ue.length:1/0),ce=""),I){case"<":ie=le+ie+ue+ce;break;case"=":ie=le+ce+ie+ue;break;case"^":ie=ce.slice(0,he=ce.length>>1)+le+ie+ue+ce.slice(he);break;default:ie=ce+le+ie+ue;break}return o(ie)}return X.toString=function(){return $+""},X}function _($,T){var I=v(($=A3($),$.type="f",$)),O=Math.max(-8,Math.min(8,Math.floor(jg(T)/3)))*3,A=Math.pow(10,-O),N=EY[8+O/3];return function(F){return I(A*F)+N}}return{format:v,formatPrefix:_}}var P5,Dx,Ufe;Aat({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Aat(e){return P5=Oat(e),Dx=P5.format,Ufe=P5.formatPrefix,P5}function jat(e){return Math.max(0,-jg(Math.abs(e)))}function Rat(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jg(t)/3)))*3-jg(Math.abs(e)))}function Lat(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jg(t)-jg(e))+1}function Nat(e,t,r,i){var n=Vj(e,t,r),o;switch(i=A3(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(o=Rat(n,u))&&(i.precision=o),Ufe(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Lat(n,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=jat(n))&&(i.precision=o-(i.type==="%")*2);break}}return Dx(i)}function Gfe(e){var t=e.domain;return e.ticks=function(r){var i=t();return zj(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var n=t();return Nat(n[0],n[n.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),n=0,o=i.length-1,u=i[n],f=i[o],m,v,_=10;for(f<u&&(v=u,u=f,f=v,v=n,n=o,o=v);_-- >0;){if(v=Bj(u,f,r),v===m)return i[n]=u,i[o]=f,t(i);if(v>0)u=Math.floor(u/v)*v,f=Math.ceil(f/v)*v;else if(v<0)u=Math.ceil(u*v)/v,f=Math.floor(f*v)/v;else break;m=v}return e},e}function qfe(){var e=Bfe();return e.copy=function(){return W8(e,qfe())},D1.apply(e,arguments),Gfe(e)}function Hfe(e,t){e=e.slice();var r=0,i=e.length-1,n=e[r],o=e[i],u;return o<n&&(u=r,r=i,i=u,u=n,n=o,o=u),e[r]=t.floor(n),e[i]=t.ceil(o),e}function IY(e){return Math.log(e)}function PY(e){return Math.exp(e)}function Fat(e){return-Math.log(-e)}function Dat(e){return-Math.exp(-e)}function zat(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bat(e){return e===10?zat:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vat(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OY(e){return(t,r)=>-e(-t,r)}function Uat(e){const t=e(IY,PY),r=t.domain;let i=10,n,o;function u(){return n=Vat(i),o=Bat(i),r()[0]<0?(n=OY(n),o=OY(o),e(Fat,Dat)):e(IY,PY),t}return t.base=function(f){return arguments.length?(i=+f,u()):i},t.domain=function(f){return arguments.length?(r(f),u()):r()},t.ticks=f=>{const m=r();let v=m[0],_=m[m.length-1];const $=_<v;$&&([v,_]=[_,v]);let T=n(v),I=n(_),O,A;const N=f==null?10:+f;let F=[];if(!(i%1)&&I-T<N){if(T=Math.floor(T),I=Math.ceil(I),v>0){for(;T<=I;++T)for(O=1;O<i;++O)if(A=T<0?O/o(-T):O*o(T),!(A<v)){if(A>_)break;F.push(A)}}else for(;T<=I;++T)for(O=i-1;O>=1;--O)if(A=T>0?O/o(-T):O*o(T),!(A<v)){if(A>_)break;F.push(A)}F.length*2<N&&(F=zj(v,_,N))}else F=zj(T,I,Math.min(I-T,N)).map(o);return $?F.reverse():F},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=i===10?"s":","),typeof m!="function"&&(!(i%1)&&(m=A3(m)).precision==null&&(m.trim=!0),m=Dx(m)),f===1/0)return m;const v=Math.max(1,i*f/t.ticks().length);return _=>{let $=_/o(Math.round(n(_)));return $*i<i-.5&&($*=i),$<=v?m(_):""}},t.nice=()=>r(Hfe(r(),{floor:f=>o(Math.floor(n(f))),ceil:f=>o(Math.ceil(n(f)))})),t}function Wfe(){const e=Uat(gz()).domain([1,10]);return e.copy=()=>W8(e,Wfe()).base(e.base()),D1.apply(e,arguments),e}function AY(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jY(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gat(e){var t=1,r=e(AY(t),jY(t));return r.constant=function(i){return arguments.length?e(AY(t=+i),jY(t)):t},Gfe(r)}function Jfe(){var e=Gat(gz());return e.copy=function(){return W8(e,Jfe()).constant(e.constant())},D1.apply(e,arguments)}const oC=new Date,aC=new Date;function Nn(e,t,r,i){function n(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return n.floor=o=>(e(o=new Date(+o)),o),n.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),n.round=o=>{const u=n(o),f=n.ceil(o);return o-u<f-o?u:f},n.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),n.range=(o,u,f)=>{const m=[];if(o=n.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return m;let v;do m.push(v=new Date(+o)),t(o,f),e(o);while(v<o&&o<u);return m},n.filter=o=>Nn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););}),r&&(n.count=(o,u)=>(oC.setTime(+o),aC.setTime(+u),e(oC),e(aC),Math.floor(r(oC,aC))),n.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?n.filter(i?u=>i(u)%o===0:u=>n.count(0,u)%o===0):n)),n}const F6=Nn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);F6.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):F6);F6.range;const yh=1e3,rl=yh*60,mh=rl*60,jh=mh*24,bz=jh*7,RY=jh*30,lC=jh*365,I0=Nn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yh)},(e,t)=>(t-e)/yh,e=>e.getUTCSeconds());I0.range;const wz=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yh)},(e,t)=>{e.setTime(+e+t*rl)},(e,t)=>(t-e)/rl,e=>e.getMinutes());wz.range;const xz=Nn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rl)},(e,t)=>(t-e)/rl,e=>e.getUTCMinutes());xz.range;const _z=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yh-e.getMinutes()*rl)},(e,t)=>{e.setTime(+e+t*mh)},(e,t)=>(t-e)/mh,e=>e.getHours());_z.range;const Sz=Nn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mh)},(e,t)=>(t-e)/mh,e=>e.getUTCHours());Sz.range;const $z=Nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rl)/jh,e=>e.getDate()-1);$z.range;const Kfe=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jh,e=>e.getUTCDate()-1);Kfe.range;const Yfe=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jh,e=>Math.floor(e/jh));Yfe.range;function z1(e){return Nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rl)/bz)}const Mz=z1(0),qat=z1(1),Hat=z1(2),Wat=z1(3),Jat=z1(4),Kat=z1(5),Yat=z1(6);Mz.range;qat.range;Hat.range;Wat.range;Jat.range;Kat.range;Yat.range;function B1(e){return Nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bz)}const Tz=B1(0),Zat=B1(1),Xat=B1(2),Qat=B1(3),elt=B1(4),tlt=B1(5),rlt=B1(6);Tz.range;Zat.range;Xat.range;Qat.range;elt.range;tlt.range;rlt.range;const kz=Nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kz.range;const Cz=Nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cz.range;const J8=Nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());J8.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});J8.range;const K8=Nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());K8.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});K8.range;function Zfe(e,t,r,i,n,o){const u=[[I0,1,yh],[I0,5,5*yh],[I0,15,15*yh],[I0,30,30*yh],[o,1,rl],[o,5,5*rl],[o,15,15*rl],[o,30,30*rl],[n,1,mh],[n,3,3*mh],[n,6,6*mh],[n,12,12*mh],[i,1,jh],[i,2,2*jh],[r,1,bz],[t,1,RY],[t,3,3*RY],[e,1,lC]];function f(v,_,$){const T=_<v;T&&([v,_]=[_,v]);const I=$&&typeof $.range=="function"?$:m(v,_,$),O=I?I.range(v,+_+1):[];return T?O.reverse():O}function m(v,_,$){const T=Math.abs(_-v)/$,I=yz(([,,N])=>N).right(u,T);if(I===u.length)return e.every(Vj(v/lC,_/lC,$));if(I===0)return F6.every(Math.max(Vj(v,_,$),1));const[O,A]=u[T/u[I-1][2]<u[I][2]/T?I-1:I];return O.every(A)}return[f,m]}const[ilt,nlt]=Zfe(K8,Cz,Tz,Yfe,Sz,xz),[slt,olt]=Zfe(J8,kz,Mz,$z,_z,wz);var uC=new Date,cC=new Date;function Sn(e,t,r,i){function n(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return n.floor=function(o){return e(o=new Date(+o)),o},n.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},n.round=function(o){var u=n(o),f=n.ceil(o);return o-u<f-o?u:f},n.offset=function(o,u){return t(o=new Date(+o),u==null?1:Math.floor(u)),o},n.range=function(o,u,f){var m=[],v;if(o=n.ceil(o),f=f==null?1:Math.floor(f),!(o<u)||!(f>0))return m;do m.push(v=new Date(+o)),t(o,f),e(o);while(v<o&&o<u);return m},n.filter=function(o){return Sn(function(u){if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},function(u,f){if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!o(u););else for(;--f>=0;)for(;t(u,1),!o(u););})},r&&(n.count=function(o,u){return uC.setTime(+o),cC.setTime(+u),e(uC),e(cC),Math.floor(r(uC,cC))},n.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?n.filter(i?function(u){return i(u)%o===0}:function(u){return n.count(0,u)%o===0}):n}),n}var j3=Sn(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});j3.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sn(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):j3};j3.range;var D6=1e3,w1=6e4,z6=36e5,Xfe=864e5,Qfe=6048e5,Gj=Sn(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*D6)},function(e,t){return(t-e)/D6},function(e){return e.getUTCSeconds()});Gj.range;var e0e=Sn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*D6)},function(e,t){e.setTime(+e+t*w1)},function(e,t){return(t-e)/w1},function(e){return e.getMinutes()});e0e.range;var t0e=Sn(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*D6-e.getMinutes()*w1)},function(e,t){e.setTime(+e+t*z6)},function(e,t){return(t-e)/z6},function(e){return e.getHours()});t0e.range;var Ez=Sn(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*w1)/Xfe},function(e){return e.getDate()-1});Ez.range;function V1(e){return Sn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*w1)/Qfe})}var B6=V1(0),R3=V1(1),r0e=V1(2),i0e=V1(3),x1=V1(4),n0e=V1(5),s0e=V1(6);B6.range;R3.range;r0e.range;i0e.range;x1.range;n0e.range;s0e.range;var o0e=Sn(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});o0e.range;var Dp=Sn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Dp.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Dp.range;var a0e=Sn(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*w1)},function(e,t){return(t-e)/w1},function(e){return e.getUTCMinutes()});a0e.range;var l0e=Sn(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*z6)},function(e,t){return(t-e)/z6},function(e){return e.getUTCHours()});l0e.range;var Iz=Sn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Xfe},function(e){return e.getUTCDate()-1});Iz.range;function U1(e){return Sn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Qfe})}var V6=U1(0),L3=U1(1),u0e=U1(2),c0e=U1(3),_1=U1(4),h0e=U1(5),d0e=U1(6);V6.range;L3.range;u0e.range;c0e.range;_1.range;h0e.range;d0e.range;var p0e=Sn(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});p0e.range;var zp=Sn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});zp.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};zp.range;function hC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yb(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function alt(e){var t=e.dateTime,r=e.date,i=e.time,n=e.periods,o=e.days,u=e.shortDays,f=e.months,m=e.shortMonths,v=mb(n),_=gb(n),$=mb(o),T=gb(o),I=mb(u),O=gb(u),A=mb(f),N=gb(f),F=mb(m),z=gb(m),B={a:ge,A:he,b:ce,B:Ee,c:null,d:BY,e:BY,f:Ilt,g:zlt,G:Vlt,H:klt,I:Clt,j:Elt,L:f0e,m:Plt,M:Olt,p:ze,q:Ye,Q:GY,s:qY,S:Alt,u:jlt,U:Rlt,V:Llt,w:Nlt,W:Flt,x:null,X:null,y:Dlt,Y:Blt,Z:Ult,"%":UY},G={a:vt,A:tt,b:yt,B:De,c:null,d:VY,e:VY,f:Wlt,g:iut,G:sut,H:Glt,I:qlt,j:Hlt,L:m0e,m:Jlt,M:Klt,p:ot,q:He,Q:GY,s:qY,S:Ylt,u:Zlt,U:Xlt,V:Qlt,w:eut,W:tut,x:null,X:null,y:rut,Y:nut,Z:out,"%":UY},H={a:X,A:ie,b:le,B:ue,c:ne,d:DY,e:DY,f:Slt,g:FY,G:NY,H:zY,I:zY,j:blt,L:_lt,m:vlt,M:wlt,p:q,q:glt,Q:Mlt,s:Tlt,S:xlt,u:dlt,U:plt,V:flt,w:hlt,W:ylt,x:pe,X:ye,y:FY,Y:NY,Z:mlt,"%":$lt};B.x=J(r,B),B.X=J(i,B),B.c=J(t,B),G.x=J(r,G),G.X=J(i,G),G.c=J(t,G);function J(Te,qe){return function(it){var Pe=[],pt=-1,mt=0,Pt=Te.length,wt,bt,ee;for(it instanceof Date||(it=new Date(+it));++pt<Pt;)Te.charCodeAt(pt)===37&&(Pe.push(Te.slice(mt,pt)),(bt=LY[wt=Te.charAt(++pt)])!=null?wt=Te.charAt(++pt):bt=wt==="e"?" ":"0",(ee=qe[wt])&&(wt=ee(it,bt)),Pe.push(wt),mt=pt+1);return Pe.push(Te.slice(mt,pt)),Pe.join("")}}function Z(Te,qe){return function(it){var Pe=yb(1900,void 0,1),pt=re(Pe,Te,it+="",0),mt,Pt;if(pt!=it.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(Pe.s*1e3+("L"in Pe?Pe.L:0));if(qe&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+Pe.p*12),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(mt=dC(yb(Pe.y,0,1)),Pt=mt.getUTCDay(),mt=Pt>4||Pt===0?L3.ceil(mt):L3(mt),mt=Iz.offset(mt,(Pe.V-1)*7),Pe.y=mt.getUTCFullYear(),Pe.m=mt.getUTCMonth(),Pe.d=mt.getUTCDate()+(Pe.w+6)%7):(mt=hC(yb(Pe.y,0,1)),Pt=mt.getDay(),mt=Pt>4||Pt===0?R3.ceil(mt):R3(mt),mt=Ez.offset(mt,(Pe.V-1)*7),Pe.y=mt.getFullYear(),Pe.m=mt.getMonth(),Pe.d=mt.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),Pt="Z"in Pe?dC(yb(Pe.y,0,1)).getUTCDay():hC(yb(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+Pe.W*7-(Pt+5)%7:Pe.w+Pe.U*7-(Pt+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,dC(Pe)):hC(Pe)}}function re(Te,qe,it,Pe){for(var pt=0,mt=qe.length,Pt=it.length,wt,bt;pt<mt;){if(Pe>=Pt)return-1;if(wt=qe.charCodeAt(pt++),wt===37){if(wt=qe.charAt(pt++),bt=H[wt in LY?qe.charAt(pt++):wt],!bt||(Pe=bt(Te,it,Pe))<0)return-1}else if(wt!=it.charCodeAt(Pe++))return-1}return Pe}function q(Te,qe,it){var Pe=v.exec(qe.slice(it));return Pe?(Te.p=_.get(Pe[0].toLowerCase()),it+Pe[0].length):-1}function X(Te,qe,it){var Pe=I.exec(qe.slice(it));return Pe?(Te.w=O.get(Pe[0].toLowerCase()),it+Pe[0].length):-1}function ie(Te,qe,it){var Pe=$.exec(qe.slice(it));return Pe?(Te.w=T.get(Pe[0].toLowerCase()),it+Pe[0].length):-1}function le(Te,qe,it){var Pe=F.exec(qe.slice(it));return Pe?(Te.m=z.get(Pe[0].toLowerCase()),it+Pe[0].length):-1}function ue(Te,qe,it){var Pe=A.exec(qe.slice(it));return Pe?(Te.m=N.get(Pe[0].toLowerCase()),it+Pe[0].length):-1}function ne(Te,qe,it){return re(Te,t,qe,it)}function pe(Te,qe,it){return re(Te,r,qe,it)}function ye(Te,qe,it){return re(Te,i,qe,it)}function ge(Te){return u[Te.getDay()]}function he(Te){return o[Te.getDay()]}function ce(Te){return m[Te.getMonth()]}function Ee(Te){return f[Te.getMonth()]}function ze(Te){return n[+(Te.getHours()>=12)]}function Ye(Te){return 1+~~(Te.getMonth()/3)}function vt(Te){return u[Te.getUTCDay()]}function tt(Te){return o[Te.getUTCDay()]}function yt(Te){return m[Te.getUTCMonth()]}function De(Te){return f[Te.getUTCMonth()]}function ot(Te){return n[+(Te.getUTCHours()>=12)]}function He(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var qe=J(Te+="",B);return qe.toString=function(){return Te},qe},parse:function(Te){var qe=Z(Te+="",!1);return qe.toString=function(){return Te},qe},utcFormat:function(Te){var qe=J(Te+="",G);return qe.toString=function(){return Te},qe},utcParse:function(Te){var qe=Z(Te+="",!0);return qe.toString=function(){return Te},qe}}}var LY={"-":"",_:" ",0:"0"},es=/^\s*\d+/,llt=/^%/,ult=/[\\^$*+?|[\]().{}]/g;function Br(e,t,r){var i=e<0?"-":"",n=(i?-e:e)+"",o=n.length;return i+(o<r?new Array(r-o+1).join(t)+n:n)}function clt(e){return e.replace(ult,"\\$&")}function mb(e){return new RegExp("^(?:"+e.map(clt).join("|")+")","i")}function gb(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hlt(e,t,r){var i=es.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function dlt(e,t,r){var i=es.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function plt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function flt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function ylt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function NY(e,t,r){var i=es.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function FY(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function mlt(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function glt(e,t,r){var i=es.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function vlt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function DY(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function blt(e,t,r){var i=es.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function zY(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function wlt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function xlt(e,t,r){var i=es.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function _lt(e,t,r){var i=es.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function Slt(e,t,r){var i=es.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function $lt(e,t,r){var i=llt.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function Mlt(e,t,r){var i=es.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function Tlt(e,t,r){var i=es.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function BY(e,t){return Br(e.getDate(),t,2)}function klt(e,t){return Br(e.getHours(),t,2)}function Clt(e,t){return Br(e.getHours()%12||12,t,2)}function Elt(e,t){return Br(1+Ez.count(Dp(e),e),t,3)}function f0e(e,t){return Br(e.getMilliseconds(),t,3)}function Ilt(e,t){return f0e(e,t)+"000"}function Plt(e,t){return Br(e.getMonth()+1,t,2)}function Olt(e,t){return Br(e.getMinutes(),t,2)}function Alt(e,t){return Br(e.getSeconds(),t,2)}function jlt(e){var t=e.getDay();return t===0?7:t}function Rlt(e,t){return Br(B6.count(Dp(e)-1,e),t,2)}function y0e(e){var t=e.getDay();return t>=4||t===0?x1(e):x1.ceil(e)}function Llt(e,t){return e=y0e(e),Br(x1.count(Dp(e),e)+(Dp(e).getDay()===4),t,2)}function Nlt(e){return e.getDay()}function Flt(e,t){return Br(R3.count(Dp(e)-1,e),t,2)}function Dlt(e,t){return Br(e.getFullYear()%100,t,2)}function zlt(e,t){return e=y0e(e),Br(e.getFullYear()%100,t,2)}function Blt(e,t){return Br(e.getFullYear()%1e4,t,4)}function Vlt(e,t){var r=e.getDay();return e=r>=4||r===0?x1(e):x1.ceil(e),Br(e.getFullYear()%1e4,t,4)}function Ult(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Br(t/60|0,"0",2)+Br(t%60,"0",2)}function VY(e,t){return Br(e.getUTCDate(),t,2)}function Glt(e,t){return Br(e.getUTCHours(),t,2)}function qlt(e,t){return Br(e.getUTCHours()%12||12,t,2)}function Hlt(e,t){return Br(1+Iz.count(zp(e),e),t,3)}function m0e(e,t){return Br(e.getUTCMilliseconds(),t,3)}function Wlt(e,t){return m0e(e,t)+"000"}function Jlt(e,t){return Br(e.getUTCMonth()+1,t,2)}function Klt(e,t){return Br(e.getUTCMinutes(),t,2)}function Ylt(e,t){return Br(e.getUTCSeconds(),t,2)}function Zlt(e){var t=e.getUTCDay();return t===0?7:t}function Xlt(e,t){return Br(V6.count(zp(e)-1,e),t,2)}function g0e(e){var t=e.getUTCDay();return t>=4||t===0?_1(e):_1.ceil(e)}function Qlt(e,t){return e=g0e(e),Br(_1.count(zp(e),e)+(zp(e).getUTCDay()===4),t,2)}function eut(e){return e.getUTCDay()}function tut(e,t){return Br(L3.count(zp(e)-1,e),t,2)}function rut(e,t){return Br(e.getUTCFullYear()%100,t,2)}function iut(e,t){return e=g0e(e),Br(e.getUTCFullYear()%100,t,2)}function nut(e,t){return Br(e.getUTCFullYear()%1e4,t,4)}function sut(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_1(e):_1.ceil(e),Br(e.getUTCFullYear()%1e4,t,4)}function out(){return"+0000"}function UY(){return"%"}function GY(e){return+e}function qY(e){return Math.floor(+e/1e3)}var py,Y8,v0e,b0e,w0e;aut({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aut(e){return py=alt(e),Y8=py.format,v0e=py.parse,b0e=py.utcFormat,w0e=py.utcParse,py}function lut(e){return new Date(e)}function uut(e){return e instanceof Date?+e:+new Date(+e)}function Pz(e,t,r,i,n,o,u,f,m,v){var _=Bfe(),$=_.invert,T=_.domain,I=v(".%L"),O=v(":%S"),A=v("%I:%M"),N=v("%I %p"),F=v("%a %d"),z=v("%b %d"),B=v("%B"),G=v("%Y");function H(J){return(m(J)<J?I:f(J)<J?O:u(J)<J?A:o(J)<J?N:i(J)<J?n(J)<J?F:z:r(J)<J?B:G)(J)}return _.invert=function(J){return new Date($(J))},_.domain=function(J){return arguments.length?T(Array.from(J,uut)):T().map(lut)},_.ticks=function(J){var Z=T();return e(Z[0],Z[Z.length-1],J??10)},_.tickFormat=function(J,Z){return Z==null?H:v(Z)},_.nice=function(J){var Z=T();return(!J||typeof J.range!="function")&&(J=t(Z[0],Z[Z.length-1],J??10)),J?T(Hfe(Z,J)):_},_.copy=function(){return W8(_,Pz(e,t,r,i,n,o,u,f,m,v))},_}function cut(){return D1.apply(Pz(slt,olt,J8,kz,Mz,$z,_z,wz,I0,Y8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hut(){return D1.apply(Pz(ilt,nlt,K8,Cz,Tz,Kfe,Sz,xz,I0,b0e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fr(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}const x0e=fr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_0e=fr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),S0e=fr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$0e=fr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),M0e=fr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),T0e=fr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),k0e=fr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),C0e=fr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Oz=fr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),dut=fr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),yi=e=>qot(e[e.length-1]);var Z8=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(fr);const put=yi(Z8);var X8=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(fr);const fut=yi(X8);var Q8=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(fr);const yut=yi(Q8);var eM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(fr);const mut=yi(eM);var tM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(fr);const gut=yi(tM);var rM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(fr);const vut=yi(rM);var iM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(fr);const but=yi(iM);var nM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(fr);const wut=yi(nM);var sM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(fr);const xut=yi(sM);var oM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(fr);const _ut=yi(oM);var aM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(fr);const Sut=yi(aM);var lM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(fr);const $ut=yi(lM);var uM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(fr);const Mut=yi(uM);var cM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(fr);const Tut=yi(cM);var hM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(fr);const kut=yi(hM);var dM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(fr);const Cut=yi(dM);var pM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(fr);const Eut=yi(pM);var fM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(fr);const Iut=yi(fM);var yM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(fr);const Put=yi(yM);var mM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(fr);const Out=yi(mM);var gM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(fr);const Aut=yi(gM);var vM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(fr);const jut=yi(vM);var bM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(fr);const Rut=yi(bM);var wM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(fr);const Lut=yi(wM);var xM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(fr);const Nut=yi(xM);var _M=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(fr);const Fut=yi(_M);var SM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(fr);const Dut=yi(SM);function zut(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const But=fz(fc(300,.5,0),fc(-240,.5,1));var Vut=fz(fc(-100,.75,.35),fc(80,1.5,.8)),Uut=fz(fc(260,.75,.35),fc(80,1.5,.8)),O5=fc();function Gut(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return O5.h=360*e-100,O5.s=1.5-1.5*t,O5.l=.8-.9*t,O5+""}var A5=Ag(),qut=Math.PI/3,Hut=Math.PI*2/3;function Wut(e){var t;return e=(.5-e)*Math.PI,A5.r=255*(t=Math.sin(e))*t,A5.g=255*(t=Math.sin(e+qut))*t,A5.b=255*(t=Math.sin(e+Hut))*t,A5+""}function Jut(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function $M(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const Kut=$M(fr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Yut=$M(fr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Zut=$M(fr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xut=$M(fr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Qut="__lodash_hash_undefined__";function ect(e){return this.__data__.set(e,Qut),this}var tct=ect;function rct(e){return this.__data__.has(e)}var ict=rct,nct=ZD,sct=tct,oct=ict;function U6(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nct;++t<r;)this.add(e[t])}U6.prototype.add=U6.prototype.push=sct;U6.prototype.has=oct;var Az=U6;function act(e,t,r,i){for(var n=e.length,o=r+(i?1:-1);i?o--:++o<n;)if(t(e[o],o,e))return o;return-1}var lct=act;function uct(e){return e!==e}var cct=uct;function hct(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}var dct=hct,pct=lct,fct=cct,yct=dct;function mct(e,t,r){return t===t?yct(e,t,r):pct(e,fct,r)}var gct=mct,vct=gct;function bct(e,t){var r=e==null?0:e.length;return!!r&&vct(e,t,0)>-1}var E0e=bct;function wct(e,t,r){for(var i=-1,n=e==null?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}var I0e=wct;function xct(e,t){return e.has(t)}var jz=xct,_ct=Az,Sct=E0e,$ct=I0e,Mct=U8,Tct=Sv,kct=jz,Cct=200;function Ect(e,t,r,i){var n=-1,o=Sct,u=!0,f=e.length,m=[],v=t.length;if(!f)return m;r&&(t=Mct(t,Tct(r))),i?(o=$ct,u=!1):t.length>=Cct&&(o=kct,u=!1,t=new _ct(t));e:for(;++n<f;){var _=e[n],$=r==null?_:r(_);if(_=i||_!==0?_:0,u&&$===$){for(var T=v;T--;)if(t[T]===$)continue e;m.push(_)}else o(t,$,i)||m.push(_)}return m}var Ict=Ect,Pct=Ict,Oct=az,Act=wfe,jct=Oct(function(e,t){return Act(e)?Pct(e,t):[]}),Rct=jct;const P0e=an(Rct);function nn(e){return function(){return e}}const HY=1e-12,qj=Math.PI,Hj=2*qj,l0=1e-6,Lct=Hj-l0;function O0e(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Nct(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O0e;const r=10**t;return function(i){this._+=i[0];for(let n=1,o=i.length;n<o;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}let Fct=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O0e:Nct(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,n){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(t,r,i,n,o,u){this._append`C${+t},${+r},${+i},${+n},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,i,n,o){if(t=+t,r=+r,i=+i,n=+n,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,f=this._y1,m=i-t,v=n-r,_=u-t,$=f-r,T=_*_+$*$;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(T>l0)if(!(Math.abs($*m-v*_)>l0)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let I=i-u,O=n-f,A=m*m+v*v,N=I*I+O*O,F=Math.sqrt(A),z=Math.sqrt(T),B=o*Math.tan((qj-Math.acos((A+T-N)/(2*F*z)))/2),G=B/z,H=B/F;Math.abs(G-1)>l0&&this._append`L${t+G*_},${r+G*$}`,this._append`A${o},${o},0,0,${+($*I>_*O)},${this._x1=t+H*m},${this._y1=r+H*v}`}}arc(t,r,i,n,o,u){if(t=+t,r=+r,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let f=i*Math.cos(n),m=i*Math.sin(n),v=t+f,_=r+m,$=1^u,T=u?n-o:o-n;this._x1===null?this._append`M${v},${_}`:(Math.abs(this._x1-v)>l0||Math.abs(this._y1-_)>l0)&&this._append`L${v},${_}`,i&&(T<0&&(T=T%Hj+Hj),T>Lct?this._append`A${i},${i},0,1,${$},${t-f},${r-m}A${i},${i},0,1,${$},${this._x1=v},${this._y1=_}`:T>l0&&this._append`A${i},${i},0,${+(T>=qj)},${$},${this._x1=t+i*Math.cos(o)},${this._y1=r+i*Math.sin(o)}`)}rect(t,r,i,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}};function A0e(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new Fct(t)}function Rz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j0e(e){this._context=e}j0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lz(e){return new j0e(e)}function R0e(e){return e[0]}function L0e(e){return e[1]}function N0e(e,t){var r=nn(!0),i=null,n=Lz,o=null,u=A0e(f);e=typeof e=="function"?e:e===void 0?R0e:nn(e),t=typeof t=="function"?t:t===void 0?L0e:nn(t);function f(m){var v,_=(m=Rz(m)).length,$,T=!1,I;for(i==null&&(o=n(I=u())),v=0;v<=_;++v)!(v<_&&r($=m[v],v,m))===T&&((T=!T)?o.lineStart():o.lineEnd()),T&&o.point(+e($,v,m),+t($,v,m));if(I)return o=null,I+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:nn(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:nn(+m),f):t},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:nn(!!m),f):r},f.curve=function(m){return arguments.length?(n=m,i!=null&&(o=n(i)),f):n},f.context=function(m){return arguments.length?(m==null?i=o=null:o=n(i=m),f):i},f}function Dct(e,t,r){var i=null,n=nn(!0),o=null,u=Lz,f=null,m=A0e(v);e=typeof e=="function"?e:e===void 0?R0e:nn(+e),t=typeof t=="function"?t:nn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?L0e:nn(+r);function v($){var T,I,O,A=($=Rz($)).length,N,F=!1,z,B=new Array(A),G=new Array(A);for(o==null&&(f=u(z=m())),T=0;T<=A;++T){if(!(T<A&&n(N=$[T],T,$))===F)if(F=!F)I=T,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),O=T-1;O>=I;--O)f.point(B[O],G[O]);f.lineEnd(),f.areaEnd()}F&&(B[T]=+e(N,T,$),G[T]=+t(N,T,$),f.point(i?+i(N,T,$):B[T],r?+r(N,T,$):G[T]))}if(z)return f=null,z+""||null}function _(){return N0e().defined(n).curve(u).context(o)}return v.x=function($){return arguments.length?(e=typeof $=="function"?$:nn(+$),i=null,v):e},v.x0=function($){return arguments.length?(e=typeof $=="function"?$:nn(+$),v):e},v.x1=function($){return arguments.length?(i=$==null?null:typeof $=="function"?$:nn(+$),v):i},v.y=function($){return arguments.length?(t=typeof $=="function"?$:nn(+$),r=null,v):t},v.y0=function($){return arguments.length?(t=typeof $=="function"?$:nn(+$),v):t},v.y1=function($){return arguments.length?(r=$==null?null:typeof $=="function"?$:nn(+$),v):r},v.lineX0=v.lineY0=function(){return _().x(e).y(t)},v.lineY1=function(){return _().x(e).y(r)},v.lineX1=function(){return _().x(i).y(t)},v.defined=function($){return arguments.length?(n=typeof $=="function"?$:nn(!!$),v):n},v.curve=function($){return arguments.length?(u=$,o!=null&&(f=u(o)),v):u},v.context=function($){return arguments.length?($==null?o=f=null:f=u(o=$),v):o},v}function Bp(){}function G6(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function MM(e){this._context=e}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zct(e){return new MM(e)}function F0e(e){this._context=e}F0e.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:G6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bct(e){return new F0e(e)}function D0e(e){this._context=e}D0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:G6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vct(e){return new D0e(e)}function z0e(e,t){this._basis=new MM(e),this._beta=t}z0e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],o=e[r]-i,u=t[r]-n,f=-1,m;++f<=r;)m=f/r,this._basis.point(this._beta*e[f]+(1-this._beta)*(i+m*o),this._beta*t[f]+(1-this._beta)*(n+m*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Uct=function e(t){function r(i){return t===1?new MM(i):new z0e(i,t)}return r.beta=function(i){return e(+i)},r}(.85);function q6(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Nz(e,t){this._context=e,this._k=(1-t)/6}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:q6(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:q6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Gct=function e(t){function r(i){return new Nz(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Fz(e,t){this._context=e,this._k=(1-t)/6}Fz.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:q6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qct=function e(t){function r(i){return new Fz(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Dz(e,t){this._context=e,this._k=(1-t)/6}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:q6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Hct=function e(t){function r(i){return new Dz(i,t)}return r.tension=function(i){return e(+i)},r}(0);function zz(e,t,r){var i=e._x1,n=e._y1,o=e._x2,u=e._y2;if(e._l01_a>HY){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,m=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/m,n=(n*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/m}if(e._l23_a>HY){var v=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,_=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*v+e._x1*e._l23_2a-t*e._l12_2a)/_,u=(u*v+e._y1*e._l23_2a-r*e._l12_2a)/_}e._context.bezierCurveTo(i,n,o,u,e._x2,e._y2)}function B0e(e,t){this._context=e,this._alpha=t}B0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Wct=function e(t){function r(i){return t?new B0e(i,t):new Nz(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function V0e(e,t){this._context=e,this._alpha=t}V0e.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Jct=function e(t){function r(i){return t?new V0e(i,t):new Fz(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function U0e(e,t){this._context=e,this._alpha=t}U0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zz(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Kct=function e(t){function r(i){return t?new U0e(i,t):new Dz(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function G0e(e){this._context=e}G0e.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Yct(e){return new G0e(e)}function WY(e){return e<0?-1:1}function JY(e,t,r){var i=e._x1-e._x0,n=t-e._x1,o=(e._y1-e._y0)/(i||n<0&&-0),u=(r-e._y1)/(n||i<0&&-0),f=(o*n+u*i)/(i+n);return(WY(o)+WY(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(f))||0}function KY(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pC(e,t,r){var i=e._x0,n=e._y0,o=e._x1,u=e._y1,f=(o-i)/3;e._context.bezierCurveTo(i+f,n+f*t,o-f,u-f*r,o,u)}function H6(e){this._context=e}H6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pC(this,this._t0,KY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pC(this,KY(this,r=JY(this,e,t)),r);break;default:pC(this,this._t0,r=JY(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function q0e(e){this._context=new H0e(e)}(q0e.prototype=Object.create(H6.prototype)).point=function(e,t){H6.prototype.point.call(this,t,e)};function H0e(e){this._context=e}H0e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,n,o){this._context.bezierCurveTo(t,e,i,r,o,n)}};function Zct(e){return new H6(e)}function Xct(e){return new q0e(e)}function W0e(e){this._context=e}W0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=YY(e),n=YY(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(i[0][o],n[0][o],i[1][o],n[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YY(e){var t,r=e.length-1,i,n=new Array(r),o=new Array(r),u=new Array(r);for(n[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/o[t-1],o[t]-=i,u[t]-=i*u[t-1];for(n[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)n[t]=(u[t]-n[t+1])/o[t];for(o[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-n[t+1];return[n,o]}function Qct(e){return new W0e(e)}function TM(e,t){this._context=e,this._t=t}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eht(e){return new TM(e,.5)}function tht(e){return new TM(e,0)}function rht(e){return new TM(e,1)}function ZY(e,t){if((u=e.length)>1)for(var r=1,i,n,o=e[t[0]],u,f=o.length;r<u;++r)for(n=o,o=e[t[r]],i=0;i<f;++i)o[i][1]+=o[i][0]=isNaN(n[i][1])?n[i][0]:n[i][1]}function XY(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iht(e,t){return e[t]}function nht(e){const t=[];return t.key=e,t}function sht(){var e=nn([]),t=XY,r=ZY,i=iht;function n(o){var u=Array.from(e.apply(this,arguments),nht),f,m=u.length,v=-1,_;for(const $ of o)for(f=0,++v;f<m;++f)(u[f][v]=[0,+i($,u[f].key,v,o)]).data=$;for(f=0,_=Rz(t(u));f<m;++f)u[_[f]].index=f;return r(u,_),u}return n.keys=function(o){return arguments.length?(e=typeof o=="function"?o:nn(Array.from(o)),n):e},n.value=function(o){return arguments.length?(i=typeof o=="function"?o:nn(+o),n):i},n.order=function(o){return arguments.length?(t=o==null?XY:typeof o=="function"?o:nn(Array.from(o)),n):t},n.offset=function(o){return arguments.length?(r=o??ZY,n):r},n}function oht(e,t){if((m=e.length)>0)for(var r,i=0,n,o,u,f,m,v=e[t[0]].length;i<v;++i)for(u=f=0,r=0;r<m;++r)(o=(n=e[t[r]][i])[1]-n[0])>0?(n[0]=u,n[1]=u+=o):o<0?(n[1]=f,n[0]=f+=o):(n[0]=0,n[1]=o)}var aht=Fx,lht=Ofe,uht=Mv;function cht(e,t,r){for(var i=-1,n=t.length,o={};++i<n;){var u=t[i],f=aht(e,u);r(f,u)&&lht(o,uht(u,e),f)}return o}var hht=cht;function dht(e,t){return e!=null&&t in Object(e)}var pht=dht,fht=Mv,yht=N8,mht=Do,ght=z8,vht=rz,bht=Tv;function wht(e,t,r){t=fht(t,e);for(var i=-1,n=t.length,o=!1;++i<n;){var u=bht(t[i]);if(!(o=e!=null&&r(e,u)))break;e=e[u]}return o||++i!=n?o:(n=e==null?0:e.length,!!n&&vht(n)&&ght(u,n)&&(mht(e)||yht(e)))}var xht=wht,_ht=pht,Sht=xht;function $ht(e,t){return e!=null&&Sht(e,t,_ht)}var J0e=$ht,Mht=hht,Tht=J0e;function kht(e,t){return Mht(e,t,function(r,i){return Tht(e,i)})}var Cht=kht;function Eht(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var Bz=Eht,QY=vv,Iht=N8,Pht=Do,eZ=QY?QY.isConcatSpreadable:void 0;function Oht(e){return Pht(e)||Iht(e)||!!(eZ&&e&&e[eZ])}var Aht=Oht,jht=Bz,Rht=Aht;function K0e(e,t,r,i,n){var o=-1,u=e.length;for(r||(r=Rht),n||(n=[]);++o<u;){var f=e[o];t>0&&r(f)?t>1?K0e(f,t-1,r,i,n):jht(n,f):i||(n[n.length]=f)}return n}var Y0e=K0e,Lht=Y0e;function Nht(e){var t=e==null?0:e.length;return t?Lht(e,1):[]}var Fht=Nht,Dht=Fht,zht=Mfe,Bht=Tfe;function Vht(e){return Bht(zht(e,void 0,Dht),e+"")}var Z0e=Vht,Uht=Cht,Ght=Z0e,qht=Ght(function(e,t){return e==null?{}:Uht(e,t)}),Hht=qht;const Wht=an(Hht);function Jht(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var Kht=Jht,Yht=Az,Zht=Kht,Xht=jz,Qht=1,edt=2;function tdt(e,t,r,i,n,o){var u=r&Qht,f=e.length,m=t.length;if(f!=m&&!(u&&m>f))return!1;var v=o.get(e),_=o.get(t);if(v&&_)return v==t&&_==e;var $=-1,T=!0,I=r&edt?new Yht:void 0;for(o.set(e,t),o.set(t,e);++$<f;){var O=e[$],A=t[$];if(i)var N=u?i(A,O,$,t,e,o):i(O,A,$,e,t,o);if(N!==void 0){if(N)continue;T=!1;break}if(I){if(!Zht(t,function(F,z){if(!Xht(I,z)&&(O===F||n(O,F,r,i,o)))return I.push(z)})){T=!1;break}}else if(!(O===A||n(O,A,r,i,o))){T=!1;break}}return o.delete(e),o.delete(t),T}var X0e=tdt;function rdt(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}var idt=rdt;function ndt(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var Vz=ndt,tZ=vv,rZ=ffe,sdt=Lx,odt=X0e,adt=idt,ldt=Vz,udt=1,cdt=2,hdt="[object Boolean]",ddt="[object Date]",pdt="[object Error]",fdt="[object Map]",ydt="[object Number]",mdt="[object RegExp]",gdt="[object Set]",vdt="[object String]",bdt="[object Symbol]",wdt="[object ArrayBuffer]",xdt="[object DataView]",iZ=tZ?tZ.prototype:void 0,fC=iZ?iZ.valueOf:void 0;function _dt(e,t,r,i,n,o,u){switch(r){case xdt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wdt:return!(e.byteLength!=t.byteLength||!o(new rZ(e),new rZ(t)));case hdt:case ddt:case ydt:return sdt(+e,+t);case pdt:return e.name==t.name&&e.message==t.message;case mdt:case vdt:return e==t+"";case fdt:var f=adt;case gdt:var m=i&udt;if(f||(f=ldt),e.size!=t.size&&!m)return!1;var v=u.get(e);if(v)return v==t;i|=cdt,u.set(e,t);var _=odt(f(e),f(t),i,n,o,u);return u.delete(e),_;case bdt:if(fC)return fC.call(e)==fC.call(t)}return!1}var Sdt=_dt,$dt=Bz,Mdt=Do;function Tdt(e,t,r){var i=t(e);return Mdt(e)?i:$dt(i,r(e))}var Q0e=Tdt;function kdt(e,t){for(var r=-1,i=e==null?0:e.length,n=0,o=[];++r<i;){var u=e[r];t(u,r,e)&&(o[n++]=u)}return o}var e1e=kdt;function Cdt(){return[]}var t1e=Cdt,Edt=e1e,Idt=t1e,Pdt=Object.prototype,Odt=Pdt.propertyIsEnumerable,nZ=Object.getOwnPropertySymbols,Adt=nZ?function(e){return e==null?[]:(e=Object(e),Edt(nZ(e),function(t){return Odt.call(e,t)}))}:Idt,Uz=Adt,jdt=gfe,Rdt=jdt(Object.keys,Object),Ldt=Rdt,Ndt=tz,Fdt=Ldt,Ddt=Object.prototype,zdt=Ddt.hasOwnProperty;function Bdt(e){if(!Ndt(e))return Fdt(e);var t=[];for(var r in Object(e))zdt.call(e,r)&&r!="constructor"&&t.push(r);return t}var Vdt=Bdt,Udt=Sfe,Gdt=Vdt,qdt=_v;function Hdt(e){return qdt(e)?Udt(e):Gdt(e)}var zx=Hdt,Wdt=Q0e,Jdt=Uz,Kdt=zx;function Ydt(e){return Wdt(e,Kdt,Jdt)}var r1e=Ydt,sZ=r1e,Zdt=1,Xdt=Object.prototype,Qdt=Xdt.hasOwnProperty;function ept(e,t,r,i,n,o){var u=r&Zdt,f=sZ(e),m=f.length,v=sZ(t),_=v.length;if(m!=_&&!u)return!1;for(var $=m;$--;){var T=f[$];if(!(u?T in t:Qdt.call(t,T)))return!1}var I=o.get(e),O=o.get(t);if(I&&O)return I==t&&O==e;var A=!0;o.set(e,t),o.set(t,e);for(var N=u;++$<m;){T=f[$];var F=e[T],z=t[T];if(i)var B=u?i(z,F,T,t,e,o):i(F,z,T,e,t,o);if(!(B===void 0?F===z||n(F,z,r,i,o):B)){A=!1;break}N||(N=T=="constructor")}if(A&&!N){var G=e.constructor,H=t.constructor;G!=H&&"constructor"in e&&"constructor"in t&&!(typeof G=="function"&&G instanceof G&&typeof H=="function"&&H instanceof H)&&(A=!1)}return o.delete(e),o.delete(t),A}var tpt=ept,rpt=F1,ipt=bc,npt=rpt(ipt,"DataView"),spt=npt,opt=F1,apt=bc,lpt=opt(apt,"Promise"),upt=lpt,cpt=F1,hpt=bc,dpt=cpt(hpt,"Set"),i1e=dpt,ppt=F1,fpt=bc,ypt=ppt(fpt,"WeakMap"),mpt=ypt,Wj=spt,Jj=YD,Kj=upt,Yj=i1e,Zj=mpt,n1e=Uh,Cv=ufe,oZ="[object Map]",gpt="[object Object]",aZ="[object Promise]",lZ="[object Set]",uZ="[object WeakMap]",cZ="[object DataView]",vpt=Cv(Wj),bpt=Cv(Jj),wpt=Cv(Kj),xpt=Cv(Yj),_pt=Cv(Zj),u0=n1e;(Wj&&u0(new Wj(new ArrayBuffer(1)))!=cZ||Jj&&u0(new Jj)!=oZ||Kj&&u0(Kj.resolve())!=aZ||Yj&&u0(new Yj)!=lZ||Zj&&u0(new Zj)!=uZ)&&(u0=function(e){var t=n1e(e),r=t==gpt?e.constructor:void 0,i=r?Cv(r):"";if(i)switch(i){case vpt:return cZ;case bpt:return oZ;case wpt:return aZ;case xpt:return lZ;case _pt:return uZ}return t});var kM=u0,yC=L8,Spt=X0e,$pt=Sdt,Mpt=tpt,hZ=kM,dZ=Do,pZ=F8,Tpt=sz,kpt=1,fZ="[object Arguments]",yZ="[object Array]",j5="[object Object]",Cpt=Object.prototype,mZ=Cpt.hasOwnProperty;function Ept(e,t,r,i,n,o){var u=dZ(e),f=dZ(t),m=u?yZ:hZ(e),v=f?yZ:hZ(t);m=m==fZ?j5:m,v=v==fZ?j5:v;var _=m==j5,$=v==j5,T=m==v;if(T&&pZ(e)){if(!pZ(t))return!1;u=!0,_=!1}if(T&&!_)return o||(o=new yC),u||Tpt(e)?Spt(e,t,r,i,n,o):$pt(e,t,m,r,i,n,o);if(!(r&kpt)){var I=_&&mZ.call(e,"__wrapped__"),O=$&&mZ.call(t,"__wrapped__");if(I||O){var A=I?e.value():e,N=O?t.value():t;return o||(o=new yC),n(A,N,r,i,o)}}return T?(o||(o=new yC),Mpt(e,t,r,i,n,o)):!1}var Ipt=Ept,Ppt=Ipt,gZ=_l;function s1e(e,t,r,i,n){return e===t?!0:e==null||t==null||!gZ(e)&&!gZ(t)?e!==e&&t!==t:Ppt(e,t,r,i,s1e,n)}var Gz=s1e,Opt=Gz;function Apt(e,t){return Opt(e,t)}var jpt=Apt;const Rpt=an(jpt);var Lpt={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ul.apply(this,arguments)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xj(e,t)}function CM(e,t){if(e==null)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var Npt=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Fpt=function(e,t){return ul({},t,e)},Dpt=function(e,t){var r=Est({},e,t);return Npt.forEach(function(i){j2(r,i,Fpt(pc(r,i),r.text))}),r},o1e=W.createContext(),a1e=function(e){var t=e.children,r=e.animate,i=r===void 0||r,n=e.config,o=n===void 0?"default":n,u=W.useMemo(function(){var f=oat(o)?HD[o]:o;return{animate:i,config:f}},[i,o]);return L.jsx(o1e.Provider,{value:u,children:t})},vZ={animate:Oe.bool,motionConfig:Oe.oneOfType([Oe.oneOf(Object.keys(HD)),Oe.shape({mass:Oe.number,tension:Oe.number,friction:Oe.number,clamp:Oe.bool,precision:Oe.number,velocity:Oe.number,duration:Oe.number,easing:Oe.func})])};a1e.propTypes={children:Oe.node.isRequired,animate:vZ.animate,config:vZ.motionConfig};var Sl=function(){return W.useContext(o1e)},qz=function(e){var t=Sl(),r=t.animate,i=t.config,n=function(f){var m=W.useRef();return W.useEffect(function(){m.current=f},[f]),m.current}(e),o=W.useMemo(function(){return Nfe(n,e)},[n,e]),u=vc({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!r}).value;return Rj(u,o)},zpt={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:Ft(Z8),PRGn:Ft(X8),PiYG:Ft(Q8),PuOr:Ft(eM),RdBu:Ft(tM),RdGy:Ft(rM),RdYlBu:Ft(iM),RdYlGn:Ft(nM),spectral:Ft(sM),blues:Ft(vM),greens:Ft(bM),greys:Ft(wM),oranges:Ft(SM),purples:Ft(xM),reds:Ft(_M),BuGn:Ft(oM),BuPu:Ft(aM),GnBu:Ft(lM),OrRd:Ft(uM),PuBuGn:Ft(cM),PuBu:Ft(hM),PuRd:Ft(dM),RdPu:Ft(pM),YlGnBu:Ft(fM),YlGn:Ft(yM),YlOrBr:Ft(mM),YlOrRd:Ft(gM)},Bpt=Object.keys(zpt);Ft(Z8),Ft(X8),Ft(Q8),Ft(eM),Ft(tM),Ft(rM),Ft(iM),Ft(nM),Ft(sM),Ft(vM),Ft(bM),Ft(wM),Ft(SM),Ft(xM),Ft(_M),Ft(oM),Ft(aM),Ft(lM),Ft(uM),Ft(cM),Ft(hM),Ft(dM),Ft(pM),Ft(fM),Ft(yM),Ft(mM),Ft(gM);Oe.oneOfType([Oe.oneOf(Bpt),Oe.func,Oe.arrayOf(Oe.string)]);var Qj={basis:zct,basisClosed:Bct,basisOpen:Vct,bundle:Uct,cardinal:Gct,cardinalClosed:qct,cardinalOpen:Hct,catmullRom:Wct,catmullRomClosed:Jct,catmullRomOpen:Kct,linear:Lz,linearClosed:Yct,monotoneX:Zct,monotoneY:Xct,natural:Qct,step:eht,stepAfter:rht,stepBefore:tht},Hz=Object.keys(Qj);Hz.filter(function(e){return e.endsWith("Closed")});P0e(Hz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");P0e(Hz,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");var l1e=function(e){if(!Qj[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return Qj[e]};Oe.shape({top:Oe.number,right:Oe.number,bottom:Oe.number,left:Oe.number}).isRequired;var Vpt=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];Oe.oneOf(Vpt);E0(Oz);var u1e={top:0,right:0,bottom:0,left:0},EM=function(e,t,r){return r===void 0&&(r={}),W.useMemo(function(){var i=ul({},u1e,r);return{margin:i,innerWidth:e-i.left-i.right,innerHeight:t-i.top-i.bottom,outerWidth:e,outerHeight:t}},[e,t,r.top,r.right,r.bottom,r.left])},c1e=function(){var e=W.useRef(null),t=W.useState({left:0,top:0,width:0,height:0}),r=t[0],i=t[1],n=W.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(o){var u=o[0];return i(u.contentRect)})})[0];return W.useEffect(function(){return e.current&&n!==null&&n.observe(e.current),function(){n!==null&&n.disconnect()}},[]),[e,r]},Upt=function(e){return W.useMemo(function(){return Dpt(Lpt,e)},[e])},Gpt=function(e){return typeof e=="function"?e:typeof e=="string"?e.indexOf("time:")===0?Y8(e.slice("5")):Dx(e):function(t){return""+t}},N3=function(e){return W.useMemo(function(){return Gpt(e)},[e])},h1e=W.createContext(),qpt={},d1e=function(e){var t=e.theme,r=t===void 0?qpt:t,i=e.children,n=Upt(r);return L.jsx(h1e.Provider,{value:n,children:i})};d1e.propTypes={children:Oe.node.isRequired,theme:Oe.object};var Pi=function(){return W.useContext(h1e)},Hpt=["outlineWidth","outlineColor","outlineOpacity"],Wz=function(e){return e.outlineWidth,e.outlineColor,e.outlineOpacity,CM(e,Hpt)},p1e=function(e){var t=e.children,r=e.condition,i=e.wrapper;return r?W.cloneElement(i,{},t):t};p1e.propTypes={children:Oe.node.isRequired,condition:Oe.bool.isRequired,wrapper:Oe.element.isRequired};var Wpt={position:"relative"},IM=function(e){var t=e.children,r=e.theme,i=e.renderWrapper,n=i===void 0||i,o=e.isInteractive,u=o===void 0||o,f=e.animate,m=e.motionConfig,v=W.useRef(null);return L.jsx(d1e,{theme:r,children:L.jsx(a1e,{animate:f,config:m,children:L.jsx(uQe,{container:v,children:L.jsxs(p1e,{condition:n,wrapper:L.jsx("div",{style:Wpt,ref:v}),children:[t,u&&L.jsx(lQe,{})]})})})})};IM.propTypes={children:Oe.element.isRequired,isInteractive:Oe.bool,renderWrapper:Oe.bool,theme:Oe.object,animate:Oe.bool,motionConfig:Oe.string};Oe.func.isRequired,Oe.bool,Oe.bool,Oe.object.isRequired,Oe.bool.isRequired,Oe.string;var Bx=function(e){var t=e.children,r=c1e(),i=r[0],n=r[1],o=n.width>0&&n.height>0;return L.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:o&&t({width:n.width,height:n.height})})};Bx.propTypes={children:Oe.func.isRequired};var Jpt=["id","colors"],f1e=function(e){var t=e.id,r=e.colors,i=CM(e,Jpt);return L.jsx("linearGradient",ul({id:t,x1:0,x2:0,y1:0,y2:1},i,{children:r.map(function(n){var o=n.offset,u=n.color,f=n.opacity;return L.jsx("stop",{offset:o+"%",stopColor:u,stopOpacity:f!==void 0?f:1},o)})}))};f1e.propTypes={id:Oe.string.isRequired,colors:Oe.arrayOf(Oe.shape({offset:Oe.number.isRequired,color:Oe.string.isRequired,opacity:Oe.number})).isRequired,gradientTransform:Oe.string};var y1e={linearGradient:f1e},vb={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},eR=W.memo(function(e){var t=e.id,r=e.background,i=r===void 0?vb.background:r,n=e.color,o=n===void 0?vb.color:n,u=e.size,f=u===void 0?vb.size:u,m=e.padding,v=m===void 0?vb.padding:m,_=e.stagger,$=_===void 0?vb.stagger:_,T=f+v,I=f/2,O=v/2;return $===!0&&(T=2*f+2*v),L.jsxs("pattern",{id:t,width:T,height:T,patternUnits:"userSpaceOnUse",children:[L.jsx("rect",{width:T,height:T,fill:i}),L.jsx("circle",{cx:O+I,cy:O+I,r:I,fill:o}),$&&L.jsx("circle",{cx:1.5*v+f+I,cy:1.5*v+f+I,r:I,fill:o})]})});eR.displayName="PatternDots",eR.propTypes={id:Oe.string.isRequired,color:Oe.string.isRequired,background:Oe.string.isRequired,size:Oe.number.isRequired,padding:Oe.number.isRequired,stagger:Oe.bool.isRequired};var F3=function(e){return e*Math.PI/180},Kpt=function(e){return 180*e/Math.PI},Ypt=function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}},Zpt=function(e){var t=e%360;return t<0&&(t+=360),t},Xpt={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},bb={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},tR=W.memo(function(e){var t=e.id,r=e.spacing,i=r===void 0?bb.spacing:r,n=e.rotation,o=n===void 0?bb.rotation:n,u=e.background,f=u===void 0?bb.background:u,m=e.color,v=m===void 0?bb.color:m,_=e.lineWidth,$=_===void 0?bb.lineWidth:_,T=Math.round(o)%360,I=Math.abs(i);T>180?T-=360:T>90?T-=180:T<-180?T+=360:T<-90&&(T+=180);var O,A=I,N=I;return T===0?O=`
                M 0 0 L `+A+` 0
                M 0 `+N+" L "+A+" "+N+`
            `:T===90?O=`
                M 0 0 L 0 `+N+`
                M `+A+" 0 L "+A+" "+N+`
            `:(A=Math.abs(I/Math.sin(F3(T))),N=I/Math.sin(F3(90-T)),O=T>0?`
                    M 0 `+-N+" L "+2*A+" "+N+`
                    M `+-A+" "+-N+" L "+A+" "+N+`
                    M `+-A+" 0 L "+A+" "+2*N+`
                `:`
                    M `+-A+" "+N+" L "+A+" "+-N+`
                    M `+-A+" "+2*N+" L "+2*A+" "+-N+`
                    M 0 `+2*N+" L "+2*A+` 0
                `),L.jsxs("pattern",{id:t,width:A,height:N,patternUnits:"userSpaceOnUse",children:[L.jsx("rect",{width:A,height:N,fill:f,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),L.jsx("path",{d:O,strokeWidth:$,stroke:v,strokeLinecap:"square"})]})});tR.displayName="PatternLines",tR.propTypes={id:Oe.string.isRequired,spacing:Oe.number.isRequired,rotation:Oe.number.isRequired,background:Oe.string.isRequired,color:Oe.string.isRequired,lineWidth:Oe.number.isRequired};var wb={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},rR=W.memo(function(e){var t=e.id,r=e.color,i=r===void 0?wb.color:r,n=e.background,o=n===void 0?wb.background:n,u=e.size,f=u===void 0?wb.size:u,m=e.padding,v=m===void 0?wb.padding:m,_=e.stagger,$=_===void 0?wb.stagger:_,T=f+v,I=v/2;return $===!0&&(T=2*f+2*v),L.jsxs("pattern",{id:t,width:T,height:T,patternUnits:"userSpaceOnUse",children:[L.jsx("rect",{width:T,height:T,fill:o}),L.jsx("rect",{x:I,y:I,width:f,height:f,fill:i}),$&&L.jsx("rect",{x:1.5*v+f,y:1.5*v+f,width:f,height:f,fill:i})]})});rR.displayName="PatternSquares",rR.propTypes={id:Oe.string.isRequired,color:Oe.string.isRequired,background:Oe.string.isRequired,size:Oe.number.isRequired,padding:Oe.number.isRequired,stagger:Oe.bool.isRequired};var m1e={patternDots:eR,patternLines:tR,patternSquares:rR},Qpt=["type"],iR=ul({},y1e,m1e),g1e=function(e){var t=e.defs;return!t||t.length<1?null:L.jsx("defs",{"aria-hidden":!0,children:t.map(function(r){var i=r.type,n=CM(r,Qpt);return iR[i]?W.createElement(iR[i],ul({key:n.id},n)):null})})};g1e.propTypes={defs:Oe.arrayOf(Oe.shape({type:Oe.oneOf(Object.keys(iR)).isRequired,id:Oe.string.isRequired}))};var eft=W.memo(g1e),Jz=function(e){var t=e.width,r=e.height,i=e.margin,n=e.defs,o=e.children,u=e.role,f=e.ariaLabel,m=e.ariaLabelledBy,v=e.ariaDescribedBy,_=e.isFocusable,$=Pi();return L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,role:u,"aria-label":f,"aria-labelledby":m,"aria-describedby":v,focusable:_,tabIndex:_?0:void 0,children:[L.jsx(eft,{defs:n}),L.jsx("rect",{width:t,height:r,fill:$.background}),L.jsx("g",{transform:"translate("+i.left+","+i.top+")",children:o})]})};Jz.propTypes={width:Oe.number.isRequired,height:Oe.number.isRequired,margin:Oe.shape({top:Oe.number.isRequired,left:Oe.number.isRequired}).isRequired,defs:Oe.array,children:Oe.oneOfType([Oe.arrayOf(Oe.node),Oe.node]).isRequired,role:Oe.string,isFocusable:Oe.bool,ariaLabel:Oe.string,ariaLabelledBy:Oe.string,ariaDescribedBy:Oe.string};var v1e=function(e){var t=e.size,r=e.color,i=e.borderWidth,n=e.borderColor;return L.jsx("circle",{r:t/2,fill:r,stroke:n,strokeWidth:i,style:{pointerEvents:"none"}})};v1e.propTypes={size:Oe.number.isRequired,color:Oe.string.isRequired,borderWidth:Oe.number.isRequired,borderColor:Oe.string.isRequired};var tft=W.memo(v1e),b1e=function(e){var t=e.x,r=e.y,i=e.symbol,n=i===void 0?tft:i,o=e.size,u=e.datum,f=e.color,m=e.borderWidth,v=e.borderColor,_=e.label,$=e.labelTextAnchor,T=$===void 0?"middle":$,I=e.labelYOffset,O=I===void 0?-12:I,A=Pi(),N=Sl(),F=N.animate,z=N.config,B=vc({transform:"translate("+t+", "+r+")",config:z,immediate:!F});return L.jsxs(Bi.g,{transform:B.transform,style:{pointerEvents:"none"},children:[W.createElement(n,{size:o,color:f,datum:u,borderWidth:m,borderColor:v}),_&&L.jsx("text",{textAnchor:T,y:O,style:Wz(A.dots.text),children:_})]})};b1e.propTypes={x:Oe.number.isRequired,y:Oe.number.isRequired,datum:Oe.object.isRequired,size:Oe.number.isRequired,color:Oe.string.isRequired,borderWidth:Oe.number.isRequired,borderColor:Oe.string.isRequired,symbol:Oe.oneOfType([Oe.func,Oe.object]),label:Oe.oneOfType([Oe.string,Oe.number]),labelTextAnchor:Oe.oneOf(["start","middle","end"]),labelYOffset:Oe.number};var rft=W.memo(b1e),w1e=function(e){var t=e.width,r=e.height,i=e.axis,n=e.scale,o=e.value,u=e.lineStyle,f=e.textStyle,m=e.legend,v=e.legendPosition,_=v===void 0?"top-right":v,$=e.legendOffsetX,T=$===void 0?14:$,I=e.legendOffsetY,O=I===void 0?14:I,A=e.legendOrientation,N=A===void 0?"horizontal":A,F=Pi(),z=0,B=0,G=0,H=0;i==="y"?(G=n(o),B=t):(z=n(o),H=r);var J=null;if(m){var Z=function(re){var q=re.axis,X=re.width,ie=re.height,le=re.position,ue=re.offsetX,ne=re.offsetY,pe=re.orientation,ye=0,ge=0,he=pe==="vertical"?-90:0,ce="start";if(q==="x")switch(le){case"top-left":ye=-ue,ge=ne,ce="end";break;case"top":ge=-ne,ce=pe==="horizontal"?"middle":"start";break;case"top-right":ye=ue,ge=ne,ce=pe==="horizontal"?"start":"end";break;case"right":ye=ue,ge=ie/2,ce=pe==="horizontal"?"start":"middle";break;case"bottom-right":ye=ue,ge=ie-ne,ce="start";break;case"bottom":ge=ie+ne,ce=pe==="horizontal"?"middle":"end";break;case"bottom-left":ge=ie-ne,ye=-ue,ce=pe==="horizontal"?"end":"start";break;case"left":ye=-ue,ge=ie/2,ce=pe==="horizontal"?"end":"middle"}else switch(le){case"top-left":ye=ue,ge=-ne,ce="start";break;case"top":ye=X/2,ge=-ne,ce=pe==="horizontal"?"middle":"start";break;case"top-right":ye=X-ue,ge=-ne,ce=pe==="horizontal"?"end":"start";break;case"right":ye=X+ue,ce=pe==="horizontal"?"start":"middle";break;case"bottom-right":ye=X-ue,ge=ne,ce="end";break;case"bottom":ye=X/2,ge=ne,ce=pe==="horizontal"?"middle":"end";break;case"bottom-left":ye=ue,ge=ne,ce=pe==="horizontal"?"start":"end";break;case"left":ye=-ue,ce=pe==="horizontal"?"end":"middle"}return{x:ye,y:ge,rotation:he,textAnchor:ce}}({axis:i,width:t,height:r,position:_,offsetX:T,offsetY:O,orientation:N});J=L.jsx("text",{transform:"translate("+Z.x+", "+Z.y+") rotate("+Z.rotation+")",textAnchor:Z.textAnchor,dominantBaseline:"central",style:f,children:m})}return L.jsxs("g",{transform:"translate("+z+", "+G+")",children:[L.jsx("line",{x1:0,x2:B,y1:0,y2:H,stroke:F.markers.lineColor,strokeWidth:F.markers.lineStrokeWidth,style:u}),J]})};w1e.propTypes={width:Oe.number.isRequired,height:Oe.number.isRequired,axis:Oe.oneOf(["x","y"]).isRequired,scale:Oe.func.isRequired,value:Oe.oneOfType([Oe.number,Oe.string,Oe.instanceOf(Date)]).isRequired,lineStyle:Oe.object,textStyle:Oe.object,legend:Oe.string,legendPosition:Oe.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:Oe.number.isRequired,legendOffsetY:Oe.number.isRequired,legendOrientation:Oe.oneOf(["horizontal","vertical"]).isRequired};var ift=W.memo(w1e),x1e=function(e){var t=e.markers,r=e.width,i=e.height,n=e.xScale,o=e.yScale;return t&&t.length!==0?t.map(function(u,f){return L.jsx(ift,ul({},u,{width:r,height:i,scale:u.axis==="y"?o:n}),f)}):null};x1e.propTypes={width:Oe.number.isRequired,height:Oe.number.isRequired,xScale:Oe.func.isRequired,yScale:Oe.func.isRequired,markers:Oe.arrayOf(Oe.shape({axis:Oe.oneOf(["x","y"]).isRequired,value:Oe.oneOfType([Oe.number,Oe.string,Oe.instanceOf(Date)]).isRequired,lineStyle:Oe.object,textStyle:Oe.object}))};var _1e=W.memo(x1e),nft=["theme","renderWrapper","animate","motionConfig"],S1e=function(e){return function(t){var r,i;function n(){return t.apply(this,arguments)||this}return i=t,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,Xj(r,i),n.prototype.render=function(){var o=this.props,u=o.theme,f=o.renderWrapper,m=o.animate,v=o.motionConfig,_=CM(o,nft);return L.jsx(IM,{theme:u,renderWrapper:f,isInteractive:_.isInteractive,animate:m,motionConfig:v,children:L.jsx(e,ul({},_))})},n}(W.Component)},sft=function(e,t){var r=KD(e)?e:function(i){return pc(i,e)};return r},$1e=function(e){return KD(e)?e:function(t){return pc(t,e)}},mC=function(e){return W.useMemo(function(){return $1e(e)},[e])},oft=function(e,t,r,i){var n=r-e,o=i-t;return n*=n,o*=o,Math.sqrt(n+o)},M1e=function(e,t,r,i,n,o){return e<=n&&n<=e+r&&t<=o&&o<=t+i},Sw=function(e,t){var r,i="touches"in t?t.touches[0]:t,n=i.clientX,o=i.clientY,u=e.getBoundingClientRect(),f=(r=e.getBBox!==void 0?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===u.width?1:r.width/u.width;return[(n-u.left)*f,(o-u.top)*f]},aft=Object.keys(y1e),lft=Object.keys(m1e),uft=function(e,t,r){if(e==="*")return!0;if(KD(e))return e(t);if(nz(e)){var i=r?pc(t,r):t;return Rpt(Wht(i,Object.keys(e)),e)}return!1},T1e=function(e,t,r,i){var n=i===void 0?{}:i,o=n.dataKey,u=n.colorKey,f=u===void 0?"color":u,m=n.targetKey,v=m===void 0?"fill":m,_=[],$={};return e.length&&t.length&&(_=[].concat(e),t.forEach(function(T){for(var I=function(){var A=r[O],N=A.id,F=A.match;if(uft(F,T,o)){var z=e.find(function(X){return X.id===N});if(z){if(lft.includes(z.type))if(z.background==="inherit"||z.color==="inherit"){var B=pc(T,f),G=z.background,H=z.color,J=N;z.background==="inherit"&&(J=J+".bg."+B,G=B),z.color==="inherit"&&(J=J+".fg."+B,H=B),j2(T,v,"url(#"+J+")"),$[J]||(_.push(ul({},z,{id:J,background:G,color:H})),$[J]=1)}else j2(T,v,"url(#"+N+")");else if(aft.includes(z.type))if(z.colors.map(function(X){return X.color}).includes("inherit")){var Z=pc(T,f),re=N,q=ul({},z,{colors:z.colors.map(function(X,ie){return X.color!=="inherit"?X:(re=re+"."+ie+"."+Z,ul({},X,{color:X.color==="inherit"?Z:X.color}))})});q.id=re,j2(T,v,"url(#"+re+")"),$[re]||(_.push(q),$[re]=1)}else j2(T,v,"url(#"+N+")")}return"break"}},O=0;O<r.length&&I()!=="break";O++);})),_};function cft(){}var hft=cft,gC=i1e,dft=hft,pft=Vz,fft=1/0,yft=gC&&1/pft(new gC([,-0]))[1]==fft?function(e){return new gC(e)}:dft,mft=yft,gft=Az,vft=E0e,bft=I0e,wft=jz,xft=mft,_ft=Vz,Sft=200;function $ft(e,t,r){var i=-1,n=vft,o=e.length,u=!0,f=[],m=f;if(r)u=!1,n=bft;else if(o>=Sft){var v=t?null:xft(e);if(v)return _ft(v);u=!1,n=wft,m=new gft}else m=t?[]:f;e:for(;++i<o;){var _=e[i],$=t?t(_):_;if(_=r||_!==0?_:0,u&&$===$){for(var T=m.length;T--;)if(m[T]===$)continue e;t&&m.push($),f.push(_)}else n(m,$,r)||(m!==f&&m.push($),f.push(_))}return f}var k1e=$ft,Mft=k1e;function Tft(e){return e&&e.length?Mft(e):[]}var kft=Tft;const bZ=an(kft);var Cft=L8,Eft=Gz,Ift=1,Pft=2;function Oft(e,t,r,i){var n=r.length,o=n,u=!i;if(e==null)return!o;for(e=Object(e);n--;){var f=r[n];if(u&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++n<o;){f=r[n];var m=f[0],v=e[m],_=f[1];if(u&&f[2]){if(v===void 0&&!(m in e))return!1}else{var $=new Cft;if(i)var T=i(v,_,m,e,t,$);if(!(T===void 0?Eft(_,v,Ift|Pft,i,$):T))return!1}}return!0}var Aft=Oft,jft=wc;function Rft(e){return e===e&&!jft(e)}var C1e=Rft,Lft=C1e,Nft=zx;function Fft(e){for(var t=Nft(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,Lft(n)]}return t}var Dft=Fft;function zft(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var E1e=zft,Bft=Aft,Vft=Dft,Uft=E1e;function Gft(e){var t=Vft(e);return t.length==1&&t[0][2]?Uft(t[0][0],t[0][1]):function(r){return r===e||Bft(r,e,t)}}var qft=Gft,Hft=Gz,Wft=Pfe,Jft=J0e,Kft=lz,Yft=C1e,Zft=E1e,Xft=Tv,Qft=1,e0t=2;function t0t(e,t){return Kft(e)&&Yft(t)?Zft(Xft(e),t):function(r){var i=Wft(r,e);return i===void 0&&i===t?Jft(r,e):Hft(t,i,Qft|e0t)}}var r0t=t0t;function i0t(e){return function(t){return t==null?void 0:t[e]}}var n0t=i0t,s0t=Fx;function o0t(e){return function(t){return s0t(t,e)}}var a0t=o0t,l0t=n0t,u0t=a0t,c0t=lz,h0t=Tv;function d0t(e){return c0t(e)?l0t(h0t(e)):u0t(e)}var p0t=d0t,f0t=qft,y0t=r0t,m0t=B8,g0t=Do,v0t=p0t;function b0t(e){return typeof e=="function"?e:e==null?m0t:typeof e=="object"?g0t(e)?y0t(e[0],e[1]):f0t(e):v0t(e)}var Kz=b0t,w0t=Kz,x0t=k1e;function _0t(e,t){return e&&e.length?x0t(e,w0t(t)):[]}var S0t=_0t;const nR=an(S0t);var $0t=dfe,M0t=zx;function T0t(e,t){return e&&$0t(e,t,M0t)}var k0t=T0t,C0t=_v;function E0t(e,t){return function(r,i){if(r==null)return r;if(!C0t(r))return e(r,i);for(var n=r.length,o=t?n:-1,u=Object(r);(t?o--:++o<n)&&i(u[o],o,u)!==!1;);return r}}var I0t=E0t,P0t=k0t,O0t=I0t,A0t=O0t(P0t),I1e=A0t,j0t=I1e,R0t=_v;function L0t(e,t){var r=-1,i=R0t(e)?Array(e.length):[];return j0t(e,function(n,o,u){i[++r]=t(n,o,u)}),i}var N0t=L0t;function F0t(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var D0t=F0t,wZ=V8;function z0t(e,t){if(e!==t){var r=e!==void 0,i=e===null,n=e===e,o=wZ(e),u=t!==void 0,f=t===null,m=t===t,v=wZ(t);if(!f&&!v&&!o&&e>t||o&&u&&m&&!f&&!v||i&&u&&m||!r&&m||!n)return 1;if(!i&&!o&&!v&&e<t||v&&r&&n&&!i&&!o||f&&r&&n||!u&&n||!m)return-1}return 0}var B0t=z0t,V0t=B0t;function U0t(e,t,r){for(var i=-1,n=e.criteria,o=t.criteria,u=n.length,f=r.length;++i<u;){var m=V0t(n[i],o[i]);if(m){if(i>=f)return m;var v=r[i];return m*(v=="desc"?-1:1)}}return e.index-t.index}var G0t=U0t,vC=U8,q0t=Fx,H0t=Kz,W0t=N0t,J0t=D0t,K0t=Sv,Y0t=G0t,Z0t=B8,X0t=Do;function Q0t(e,t,r){t.length?t=vC(t,function(o){return X0t(o)?function(u){return q0t(u,o.length===1?o[0]:o)}:o}):t=[Z0t];var i=-1;t=vC(t,K0t(H0t));var n=W0t(e,function(o,u,f){var m=vC(t,function(v){return v(o)});return{criteria:m,index:++i,value:o}});return J0t(n,function(o,u){return Y0t(o,u,r)})}var e1t=Q0t,t1t=Y0e,r1t=e1t,i1t=az,xZ=kfe,n1t=i1t(function(e,t){if(e==null)return[];var r=t.length;return r>1&&xZ(e,t[0],t[1])?t=[]:r>2&&xZ(t[0],t[1],t[2])&&(t=[t[0]]),r1t(e,t1t(t,1),[])}),s1t=n1t;const o1t=an(s1t);var a1t=Uh,l1t=_l,u1t="[object Date]";function c1t(e){return l1t(e)&&a1t(e)==u1t}var h1t=c1t,d1t=h1t,p1t=Sv,_Z=D8,SZ=_Z&&_Z.isDate,f1t=SZ?p1t(SZ):d1t,y1t=f1t;const m1t=an(y1t);function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},m0.apply(this,arguments)}var fy=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],g1t={millisecond:[],second:fy.slice(0,1),minute:fy.slice(0,2),hour:fy.slice(0,3),day:fy.slice(0,4),month:fy.slice(0,5),year:fy.slice(0,6)},v1t=function(e){return function(t){return g1t[e].forEach(function(r){r(t)}),t}},P1e=function(e){var t=e.format,r=t===void 0?"native":t,i=e.precision,n=i===void 0?"millisecond":i,o=e.useUTC,u=o===void 0||o,f=v1t(n);return function(m){if(m===void 0)return m;if(r==="native"||m instanceof Date)return f(m);var v=u?w0e(r):v0e(r);return f(v(m))}},b1t=function(e,t,r,i){var n,o,u,f,m=e.min,v=m===void 0?0:m,_=e.max,$=_===void 0?"auto":_,T=e.stacked,I=T!==void 0&&T,O=e.reverse,A=O!==void 0&&O,N=e.clamp,F=N!==void 0&&N,z=e.nice,B=z!==void 0&&z;v==="auto"?n=I===!0?(o=t.minStacked)!=null?o:0:t.min:n=v,$==="auto"?u=I===!0?(f=t.maxStacked)!=null?f:0:t.max:u=$;var G=qfe().rangeRound(i==="x"?[0,r]:[r,0]).domain(A?[u,n]:[n,u]).clamp(F);return B===!0?G.nice():typeof B=="number"&&G.nice(B),w1t(G,I)},w1t=function(e,t){t===void 0&&(t=!1);var r=e;return r.type="linear",r.stacked=t,r},x1t=function(e,t,r){var i=wat().range([0,r]).domain(t.all);return i.type="point",i},_1t=function(e,t,r,i){var n=e.round,o=n===void 0||n,u=mz().range(i==="x"?[0,r]:[r,0]).domain(t.all).round(o);return S1t(u)},S1t=function(e){var t=e;return t.type="band",t},$1t=function(e,t,r){var i,n,o=e.format,u=o===void 0?"native":o,f=e.precision,m=f===void 0?"millisecond":f,v=e.min,_=v===void 0?"auto":v,$=e.max,T=$===void 0?"auto":$,I=e.useUTC,O=I===void 0||I,A=e.nice,N=A!==void 0&&A,F=P1e({format:u,precision:m,useUTC:O});i=_==="auto"?F(t.min):u!=="native"?F(_):_,n=T==="auto"?F(t.max):u!=="native"?F(T):T;var z=O?hut():cut();z.range([0,r]),i&&n&&z.domain([i,n]),N===!0?z.nice():typeof N!="object"&&typeof N!="number"||z.nice(N);var B=z;return B.type="time",B.useUTC=O,B},M1t=function(e,t,r,i){var n,o=e.base,u=o===void 0?10:o,f=e.min,m=f===void 0?"auto":f,v=e.max,_=v===void 0?"auto":v;if(t.all.some(function(A){return A===0}))throw new Error("a log scale domain must not include or cross zero");var $,T,I=!1;if(t.all.filter(function(A){return A!=null}).forEach(function(A){I||(n===void 0?n=Math.sign(A):Math.sign(A)!==n&&(I=!0))}),I)throw new Error("a log scale domain must be strictly-positive or strictly-negative");$=m==="auto"?t.min:m,T=_==="auto"?t.max:_;var O=Wfe().domain([$,T]).rangeRound(i==="x"?[0,r]:[r,0]).base(u).nice();return O.type="log",O},T1t=function(e,t,r,i){var n,o,u=e.constant,f=u===void 0?1:u,m=e.min,v=m===void 0?"auto":m,_=e.max,$=_===void 0?"auto":_,T=e.reverse,I=T!==void 0&&T;n=v==="auto"?t.min:v,o=$==="auto"?t.max:$;var O=Jfe().constant(f).rangeRound(i==="x"?[0,r]:[r,0]).nice();I===!0?O.domain([o,n]):O.domain([n,o]);var A=O;return A.type="symlog",A},k1t=function(e){return e==="x"?"y":"x"},C1t=function(e,t){return e===t},E1t=function(e,t){return e.getTime()===t.getTime()};function D3(e,t,r,i){switch(e.type){case"linear":return b1t(e,t,r,i);case"point":return x1t(e,t,r);case"band":return _1t(e,t,r,i);case"time":return $1t(e,t,r);case"log":return M1t(e,t,r,i);case"symlog":return T1t(e,t,r,i);default:throw new Error("invalid scale spec")}}var $Z=function(e,t,r){var i;if("stacked"in r&&r.stacked){var n=e.data[t==="x"?"xStacked":"yStacked"];return n==null?null:r(n)}return(i=r(e.data[t]))!=null?i:null},I1t=function(e,t,r,i,n){var o=e.map(function(_){return function($){return m0({},$,{data:$.data.map(function(T){return{data:m0({},T)}})})}(_)}),u=P1t(o,t,r);"stacked"in t&&t.stacked===!0&&O1t(u,o),"stacked"in r&&r.stacked===!0&&A1t(u,o);var f=D3(t,u.x,i,"x"),m=D3(r,u.y,n,"y"),v=o.map(function(_){return m0({},_,{data:_.data.map(function($){return m0({},$,{position:{x:$Z($,"x",f),y:$Z($,"y",m)}})})})});return m0({},u,{series:v,xScale:f,yScale:m})},P1t=function(e,t,r){return{x:MZ(e,"x",t),y:MZ(e,"y",r)}},MZ=function(e,t,r,i){var n={},o=n.getValue,u=o===void 0?function(O){return O.data[t]}:o,f=n.setValue,m=f===void 0?function(O,A){O.data[t]=A}:f;if(r.type==="linear")e.forEach(function(O){O.data.forEach(function(A){var N=u(A);N&&m(A,parseFloat(String(N)))})});else if(r.type==="time"&&r.format!=="native"){var v=P1e(r);e.forEach(function(O){O.data.forEach(function(A){var N=u(A);N&&m(A,v(N))})})}var _=[];switch(e.forEach(function(O){O.data.forEach(function(A){_.push(u(A))})}),r.type){case"linear":var $=o1t(bZ(_).filter(function(O){return O!==null}),function(O){return O});return{all:$,min:Math.min.apply(Math,$),max:Math.max.apply(Math,$)};case"time":var T=nR(_,function(O){return O.getTime()}).slice(0).sort(function(O,A){return A.getTime()-O.getTime()}).reverse();return{all:T,min:T[0],max:Ft(T)};default:var I=bZ(_);return{all:I,min:I[0],max:Ft(I)}}},O1e=function(e,t,r){var i=k1t(e),n=[];t[i].all.forEach(function(o){var u=m1t(o)?E1t:C1t,f=[];r.forEach(function(m){var v=m.data.find(function(I){return u(I.data[i],o)}),_=null,$=null;if(v!==void 0){if((_=v.data[e])!==null){var T=Ft(f);T===void 0?$=_:T!==null&&($=T+_)}v.data[e==="x"?"xStacked":"yStacked"]=$}f.push($),$!==null&&n.push($)})}),t[e].minStacked=Math.min.apply(Math,n),t[e].maxStacked=Math.max.apply(Math,n)},O1t=function(e,t){return O1e("x",e,t)},A1t=function(e,t){return O1e("y",e,t)},A1e=function(e){var t=e.bandwidth();if(t===0)return e;var r=t/2;return e.round()&&(r=Math.round(r)),function(i){var n;return((n=e(i))!=null?n:0)+r}},j1e={millisecond:[j3,j3],second:[Gj,Gj],minute:[e0e,a0e],hour:[t0e,l0e],day:[Sn(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),Sn(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[B6,V6],sunday:[B6,V6],monday:[R3,L3],tuesday:[r0e,u0e],wednesday:[i0e,c0e],thursday:[x1,_1],friday:[n0e,h0e],saturday:[s0e,d0e],month:[o0e,p0e],year:[Dp,zp]},j1t=Object.keys(j1e),R1t=new RegExp("^every\\s*(\\d+)?\\s*("+j1t.join("|")+")s?$","i"),R1e=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var r=t.match(R1t);if(r){var i=r[1],n=r[2],o=j1e[n][e.useUTC?1:0];if(n==="day"){var u,f,m=e.domain(),v=m[0],_=m[1],$=new Date(_);return $.setDate($.getDate()+1),(u=(f=o.every(Number(i??1)))==null?void 0:f.range(v,$))!=null?u:[]}if(i===void 0)return e.ticks(o);var T=o.every(Number(i));if(T)return e.ticks(T)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(I=t)=="number"&&isFinite(I)&&Math.floor(I)===I)return e.ticks(t)}var I;return e.domain()};function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},cl.apply(this,arguments)}var L1e=function(e){var t,r=e.axis,i=e.scale,n=e.ticksPosition,o=e.tickValues,u=e.tickSize,f=e.tickPadding,m=e.tickRotation,v=e.truncateTickAt,_=e.engine,$=_===void 0?"svg":_,T=R1e(i,o),I=Xpt[$],O="bandwidth"in i?A1e(i):i,A={lineX:0,lineY:0},N={textX:0,textY:0},F=typeof document=="object"&&document.dir==="rtl",z=I.align.center,B=I.baseline.center;return r==="x"?(t=function(G){var H;return{x:(H=O(G))!=null?H:0,y:0}},A.lineY=u*(n==="after"?1:-1),N.textY=(u+f)*(n==="after"?1:-1),B=n==="after"?I.baseline.top:I.baseline.bottom,m===0?z=I.align.center:n==="after"&&m<0||n==="before"&&m>0?(z=I.align[F?"left":"right"],B=I.baseline.center):(n==="after"&&m>0||n==="before"&&m<0)&&(z=I.align[F?"right":"left"],B=I.baseline.center)):(t=function(G){var H;return{x:0,y:(H=O(G))!=null?H:0}},A.lineX=u*(n==="after"?1:-1),N.textX=(u+f)*(n==="after"?1:-1),z=n==="after"?I.align.left:I.align.right),{ticks:T.map(function(G){var H=typeof G=="string"?function(J){var Z=String(J).length;return v&&v>0&&Z>v?""+String(J).slice(0,v).concat("..."):""+J}(G):G;return cl({key:G instanceof Date?""+G.valueOf():""+G,value:H},t(G),A,N)}),textAlign:z,textBaseline:B}},N1e=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var r=Y8(e);return function(i){return r(i instanceof Date?i:new Date(i))}}return Dx(e)},sR=function(e){var t,r=e.width,i=e.height,n=e.scale,o=e.axis,u=e.values,f=(t=u,(Array.isArray(t)?u:void 0)||R1e(n,u)),m="bandwidth"in n?A1e(n):n,v=o==="x"?f.map(function(_){var $,T;return{key:_ instanceof Date?""+_.valueOf():""+_,x1:($=m(_))!=null?$:0,x2:(T=m(_))!=null?T:0,y1:0,y2:i}}):f.map(function(_){var $,T;return{key:_ instanceof Date?""+_.valueOf():""+_,x1:0,x2:r,y1:($=m(_))!=null?$:0,y2:(T=m(_))!=null?T:0}});return v},L1t=W.memo(function(e){var t,r=e.value,i=e.format,n=e.lineX,o=e.lineY,u=e.onClick,f=e.textBaseline,m=e.textAnchor,v=e.animatedProps,_=Pi(),$=_.axis.ticks.line,T=_.axis.ticks.text,I=(t=i==null?void 0:i(r))!=null?t:r,O=W.useMemo(function(){var A={opacity:v.opacity};return u?{style:cl({},A,{cursor:"pointer"}),onClick:function(N){return u(N,I)}}:{style:A}},[v.opacity,u,I]);return L.jsxs(Bi.g,cl({transform:v.transform},O,{children:[L.jsx("line",{x1:0,x2:n,y1:0,y2:o,style:$}),T.outlineWidth>0&&L.jsx(Bi.text,{dominantBaseline:f,textAnchor:m,transform:v.textTransform,style:T,strokeWidth:2*T.outlineWidth,stroke:T.outlineColor,strokeLinejoin:"round",children:""+I}),L.jsx(Bi.text,{dominantBaseline:f,textAnchor:m,transform:v.textTransform,style:Wz(T),children:""+I})]}))}),N1t=function(e){var t=e.axis,r=e.scale,i=e.x,n=i===void 0?0:i,o=e.y,u=o===void 0?0:o,f=e.length,m=e.ticksPosition,v=e.tickValues,_=e.tickSize,$=_===void 0?5:_,T=e.tickPadding,I=T===void 0?5:T,O=e.tickRotation,A=O===void 0?0:O,N=e.format,F=e.renderTick,z=F===void 0?L1t:F,B=e.truncateTickAt,G=e.legend,H=e.legendPosition,J=H===void 0?"end":H,Z=e.legendOffset,re=Z===void 0?0:Z,q=e.onClick,X=e.ariaHidden,ie=Pi(),le=ie.axis.legend.text,ue=W.useMemo(function(){return N1e(N,r)},[N,r]),ne=L1e({axis:t,scale:r,ticksPosition:m,tickValues:v,tickSize:$,tickPadding:I,tickRotation:A,truncateTickAt:B}),pe=ne.ticks,ye=ne.textAlign,ge=ne.textBaseline,he=null;if(G!==void 0){var ce,Ee=0,ze=0,Ye=0;t==="y"?(Ye=-90,Ee=re,J==="start"?(ce="start",ze=f):J==="middle"?(ce="middle",ze=f/2):J==="end"&&(ce="end")):(ze=re,J==="start"?ce="start":J==="middle"?(ce="middle",Ee=f/2):J==="end"&&(ce="end",Ee=f)),he=L.jsxs(L.Fragment,{children:[le.outlineWidth>0&&L.jsx("text",{transform:"translate("+Ee+", "+ze+") rotate("+Ye+")",textAnchor:ce,style:cl({dominantBaseline:"central"},le),strokeWidth:2*le.outlineWidth,stroke:le.outlineColor,strokeLinejoin:"round",children:G}),L.jsx("text",{transform:"translate("+Ee+", "+ze+") rotate("+Ye+")",textAnchor:ce,style:cl({dominantBaseline:"central"},le),children:G})]})}var vt=Sl(),tt=vt.animate,yt=vt.config,De=vc({transform:"translate("+n+","+u+")",lineX2:t==="x"?f:0,lineY2:t==="x"?0:f,config:yt,immediate:!tt}),ot=W.useCallback(function(qe){return{opacity:1,transform:"translate("+qe.x+","+qe.y+")",textTransform:"translate("+qe.textX+","+qe.textY+") rotate("+A+")"}},[A]),He=W.useCallback(function(qe){return{opacity:0,transform:"translate("+qe.x+","+qe.y+")",textTransform:"translate("+qe.textX+","+qe.textY+") rotate("+A+")"}},[A]),Te=I8(pe,{keys:function(qe){return qe.key},initial:ot,from:He,enter:ot,update:ot,leave:{opacity:0},config:yt,immediate:!tt});return L.jsxs(Bi.g,{transform:De.transform,"aria-hidden":X,children:[Te(function(qe,it,Pe,pt){return W.createElement(z,cl({tickIndex:pt,format:ue,rotate:A,textBaseline:ge,textAnchor:ye,truncateTickAt:B,animatedProps:qe},it,q?{onClick:q}:{}))}),L.jsx(Bi.line,{style:ie.axis.domain.line,x1:0,x2:De.lineX2,y1:0,y2:De.lineY2}),he]})},F1t=W.memo(N1t),F1e=["top","right","bottom","left"],D1e=W.memo(function(e){var t=e.xScale,r=e.yScale,i=e.width,n=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return L.jsx(L.Fragment,{children:F1e.map(function(u){var f=o[u];if(!f)return null;var m=u==="top"||u==="bottom";return L.jsx(F1t,cl({},f,{axis:m?"x":"y",x:u==="right"?i:0,y:u==="bottom"?n:0,scale:m?t:r,length:m?i:n,ticksPosition:u==="top"||u==="left"?"before":"after",truncateTickAt:f.truncateTickAt}),u)})})}),D1t=W.memo(function(e){var t=e.animatedProps,r=Pi();return L.jsx(Bi.line,cl({},t,r.grid.line))}),TZ=W.memo(function(e){var t=e.lines,r=Sl(),i=r.animate,n=r.config,o=I8(t,{keys:function(u){return u.key},initial:function(u){return{opacity:1,x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2}},from:function(u){return{opacity:0,x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2}},enter:function(u){return{opacity:1,x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2}},update:function(u){return{opacity:1,x1:u.x1,x2:u.x2,y1:u.y1,y2:u.y2}},leave:{opacity:0},config:n,immediate:!i});return L.jsx("g",{children:o(function(u,f){return W.createElement(D1t,cl({},f,{key:f.key,animatedProps:u}))})})}),z1e=W.memo(function(e){var t=e.width,r=e.height,i=e.xScale,n=e.yScale,o=e.xValues,u=e.yValues,f=W.useMemo(function(){return!!i&&sR({width:t,height:r,scale:i,axis:"x",values:o})},[i,o,t,r]),m=W.useMemo(function(){return!!n&&sR({width:t,height:r,scale:n,axis:"y",values:u})},[r,t,n,u]);return L.jsxs(L.Fragment,{children:[f&&L.jsx(TZ,{lines:f}),m&&L.jsx(TZ,{lines:m})]})}),z1t=function(e,t){var r,i=t.axis,n=t.scale,o=t.x,u=o===void 0?0:o,f=t.y,m=f===void 0?0:f,v=t.length,_=t.ticksPosition,$=t.tickValues,T=t.tickSize,I=T===void 0?5:T,O=t.tickPadding,A=O===void 0?5:O,N=t.tickRotation,F=N===void 0?0:N,z=t.format,B=t.legend,G=t.legendPosition,H=G===void 0?"end":G,J=t.legendOffset,Z=J===void 0?0:J,re=t.theme,q=L1e({axis:i,scale:n,ticksPosition:_,tickValues:$,tickSize:I,tickPadding:A,tickRotation:F,engine:"canvas"}),X=q.ticks,ie=q.textAlign,le=q.textBaseline;e.save(),e.translate(u,m),e.textAlign=ie,e.textBaseline=le;var ue=re.axis.ticks.text;e.font=(ue.fontWeight?ue.fontWeight+" ":"")+ue.fontSize+"px "+ue.fontFamily,((r=re.axis.domain.line.strokeWidth)!=null?r:0)>0&&(e.lineWidth=Number(re.axis.domain.line.strokeWidth),e.lineCap="square",re.axis.domain.line.stroke&&(e.strokeStyle=re.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(i==="x"?v:0,i==="x"?0:v),e.stroke());var ne=typeof z=="function"?z:function(ce){return""+ce};if(X.forEach(function(ce){var Ee;((Ee=re.axis.ticks.line.strokeWidth)!=null?Ee:0)>0&&(e.lineWidth=Number(re.axis.ticks.line.strokeWidth),e.lineCap="square",re.axis.ticks.line.stroke&&(e.strokeStyle=re.axis.ticks.line.stroke),e.beginPath(),e.moveTo(ce.x,ce.y),e.lineTo(ce.x+ce.lineX,ce.y+ce.lineY),e.stroke());var ze=ne(ce.value);e.save(),e.translate(ce.x+ce.textX,ce.y+ce.textY),e.rotate(F3(F)),ue.outlineWidth>0&&(e.strokeStyle=ue.outlineColor,e.lineWidth=2*ue.outlineWidth,e.lineJoin="round",e.strokeText(""+ze,0,0)),re.axis.ticks.text.fill&&(e.fillStyle=ue.fill),e.fillText(""+ze,0,0),e.restore()}),B!==void 0){var pe=0,ye=0,ge=0,he="center";i==="y"?(ge=-90,pe=Z,H==="start"?(he="start",ye=v):H==="middle"?(he="center",ye=v/2):H==="end"&&(he="end")):(ye=Z,H==="start"?he="start":H==="middle"?(he="center",pe=v/2):H==="end"&&(he="end",pe=v)),e.translate(pe,ye),e.rotate(F3(ge)),e.font=(re.axis.legend.text.fontWeight?re.axis.legend.text.fontWeight+" ":"")+re.axis.legend.text.fontSize+"px "+re.axis.legend.text.fontFamily,re.axis.legend.text.fill&&(e.fillStyle=re.axis.legend.text.fill),e.textAlign=he,e.textBaseline="middle",e.fillText(B,0,0)}e.restore()},B1e=function(e,t){var r=t.xScale,i=t.yScale,n=t.width,o=t.height,u=t.top,f=t.right,m=t.bottom,v=t.left,_=t.theme,$={top:u,right:f,bottom:m,left:v};F1e.forEach(function(T){var I=$[T];if(!I)return null;var O=T==="top"||T==="bottom",A=T==="top"||T==="left"?"before":"after",N=O?r:i,F=N1e(I.format,N);z1t(e,cl({},I,{axis:O?"x":"y",x:T==="right"?n:0,y:T==="bottom"?o:0,scale:N,format:F,length:O?n:o,ticksPosition:A,theme:_}))})},W6=function(e,t){var r=t.width,i=t.height,n=t.scale,o=t.axis,u=t.values;sR({width:r,height:i,scale:n,axis:o,values:u}).forEach(function(f){e.beginPath(),e.moveTo(f.x1,f.y1),e.lineTo(f.x2,f.y2),e.stroke()})},B1t=I1e;function V1t(e,t){var r=[];return B1t(e,function(i,n,o){t(i,n,o)&&r.push(i)}),r}var U1t=V1t,G1t=e1e,q1t=U1t,H1t=Kz,W1t=Do;function J1t(e,t){var r=W1t(e)?G1t:q1t;return r(e,H1t(t))}var K1t=J1t;const Y1t=an(K1t);var Z1t=Uh,X1t=_l,Q1t="[object Number]";function eyt(e){return typeof e=="number"||X1t(e)&&Z1t(e)==Q1t}var tyt=eyt;const kZ=an(tyt);function ryt(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var iyt=ryt,nyt=$v,syt=zx;function oyt(e,t){return e&&nyt(t,syt(t),e)}var ayt=oyt,lyt=$v,uyt=Nx;function cyt(e,t){return e&&lyt(t,uyt(t),e)}var hyt=cyt,dyt=$v,pyt=Uz;function fyt(e,t){return dyt(e,pyt(e),t)}var yyt=fyt,myt=Bz,gyt=ez,vyt=Uz,byt=t1e,wyt=Object.getOwnPropertySymbols,xyt=wyt?function(e){for(var t=[];e;)myt(t,vyt(e)),e=gyt(e);return t}:byt,V1e=xyt,_yt=$v,Syt=V1e;function $yt(e,t){return _yt(e,Syt(e),t)}var Myt=$yt,Tyt=Q0e,kyt=V1e,Cyt=Nx;function Eyt(e){return Tyt(e,Cyt,kyt)}var U1e=Eyt,Iyt=Object.prototype,Pyt=Iyt.hasOwnProperty;function Oyt(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Pyt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ayt=Oyt,jyt=QD;function Ryt(e,t){var r=t?jyt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Lyt=Ryt,Nyt=/\w*$/;function Fyt(e){var t=new e.constructor(e.source,Nyt.exec(e));return t.lastIndex=e.lastIndex,t}var Dyt=Fyt,CZ=vv,EZ=CZ?CZ.prototype:void 0,IZ=EZ?EZ.valueOf:void 0;function zyt(e){return IZ?Object(IZ.call(e)):{}}var Byt=zyt,Vyt=QD,Uyt=Lyt,Gyt=Dyt,qyt=Byt,Hyt=yfe,Wyt="[object Boolean]",Jyt="[object Date]",Kyt="[object Map]",Yyt="[object Number]",Zyt="[object RegExp]",Xyt="[object Set]",Qyt="[object String]",emt="[object Symbol]",tmt="[object ArrayBuffer]",rmt="[object DataView]",imt="[object Float32Array]",nmt="[object Float64Array]",smt="[object Int8Array]",omt="[object Int16Array]",amt="[object Int32Array]",lmt="[object Uint8Array]",umt="[object Uint8ClampedArray]",cmt="[object Uint16Array]",hmt="[object Uint32Array]";function dmt(e,t,r){var i=e.constructor;switch(t){case tmt:return Vyt(e);case Wyt:case Jyt:return new i(+e);case rmt:return Uyt(e,r);case imt:case nmt:case smt:case omt:case amt:case lmt:case umt:case cmt:case hmt:return Hyt(e,r);case Kyt:return new i;case Yyt:case Qyt:return new i(e);case Zyt:return Gyt(e);case Xyt:return new i;case emt:return qyt(e)}}var pmt=dmt,fmt=kM,ymt=_l,mmt="[object Map]";function gmt(e){return ymt(e)&&fmt(e)==mmt}var vmt=gmt,bmt=vmt,wmt=Sv,PZ=D8,OZ=PZ&&PZ.isMap,xmt=OZ?wmt(OZ):bmt,_mt=xmt,Smt=kM,$mt=_l,Mmt="[object Set]";function Tmt(e){return $mt(e)&&Smt(e)==Mmt}var kmt=Tmt,Cmt=kmt,Emt=Sv,AZ=D8,jZ=AZ&&AZ.isSet,Imt=jZ?Emt(jZ):Cmt,Pmt=Imt,Omt=L8,Amt=iyt,jmt=oz,Rmt=ayt,Lmt=hyt,Nmt=pfe,Fmt=mfe,Dmt=yyt,zmt=Myt,Bmt=r1e,Vmt=U1e,Umt=kM,Gmt=Ayt,qmt=pmt,Hmt=vfe,Wmt=Do,Jmt=F8,Kmt=_mt,Ymt=wc,Zmt=Pmt,Xmt=zx,Qmt=Nx,egt=1,tgt=2,rgt=4,G1e="[object Arguments]",igt="[object Array]",ngt="[object Boolean]",sgt="[object Date]",ogt="[object Error]",q1e="[object Function]",agt="[object GeneratorFunction]",lgt="[object Map]",ugt="[object Number]",H1e="[object Object]",cgt="[object RegExp]",hgt="[object Set]",dgt="[object String]",pgt="[object Symbol]",fgt="[object WeakMap]",ygt="[object ArrayBuffer]",mgt="[object DataView]",ggt="[object Float32Array]",vgt="[object Float64Array]",bgt="[object Int8Array]",wgt="[object Int16Array]",xgt="[object Int32Array]",_gt="[object Uint8Array]",Sgt="[object Uint8ClampedArray]",$gt="[object Uint16Array]",Mgt="[object Uint32Array]",bi={};bi[G1e]=bi[igt]=bi[ygt]=bi[mgt]=bi[ngt]=bi[sgt]=bi[ggt]=bi[vgt]=bi[bgt]=bi[wgt]=bi[xgt]=bi[lgt]=bi[ugt]=bi[H1e]=bi[cgt]=bi[hgt]=bi[dgt]=bi[pgt]=bi[_gt]=bi[Sgt]=bi[$gt]=bi[Mgt]=!0;bi[ogt]=bi[q1e]=bi[fgt]=!1;function k9(e,t,r,i,n,o){var u,f=t&egt,m=t&tgt,v=t&rgt;if(r&&(u=n?r(e,i,n,o):r(e)),u!==void 0)return u;if(!Ymt(e))return e;var _=Wmt(e);if(_){if(u=Gmt(e),!f)return Fmt(e,u)}else{var $=Umt(e),T=$==q1e||$==agt;if(Jmt(e))return Nmt(e,f);if($==H1e||$==G1e||T&&!n){if(u=m||T?{}:Hmt(e),!f)return m?zmt(e,Lmt(u,e)):Dmt(e,Rmt(u,e))}else{if(!bi[$])return n?e:{};u=qmt(e,$,f)}}o||(o=new Omt);var I=o.get(e);if(I)return I;o.set(e,u),Zmt(e)?e.forEach(function(N){u.add(k9(N,t,r,N,e,o))}):Kmt(e)&&e.forEach(function(N,F){u.set(F,k9(N,t,r,F,e,o))});var O=v?m?Vmt:Bmt:m?Qmt:Xmt,A=_?void 0:O(e);return Amt(A||e,function(N,F){A&&(F=N,N=e[F]),jmt(u,F,k9(N,t,r,F,e,o))}),u}var Tgt=k9;function kgt(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(n);++i<n;)o[i]=e[i+t];return o}var Cgt=kgt,Egt=Fx,Igt=Cgt;function Pgt(e,t){return t.length<2?e:Egt(e,Igt(t,0,-1))}var Ogt=Pgt,Agt=Mv,jgt=Dfe,Rgt=Ogt,Lgt=Tv;function Ngt(e,t){return t=Agt(t,e),e=Rgt(e,t),e==null||delete e[Lgt(jgt(t))]}var Fgt=Ngt,Dgt=iz;function zgt(e){return Dgt(e)?void 0:e}var Bgt=zgt,Vgt=U8,Ugt=Tgt,Ggt=Fgt,qgt=Mv,Hgt=$v,Wgt=Bgt,Jgt=Z0e,Kgt=U1e,Ygt=1,Zgt=2,Xgt=4,Qgt=Jgt(function(e,t){var r={};if(e==null)return r;var i=!1;t=Vgt(t,function(o){return o=qgt(o,e),i||(i=o.length>1),o}),Hgt(e,Kgt(e),r),i&&(r=Ugt(r,Ygt|Zgt|Xgt,Wgt));for(var n=t.length;n--;)Ggt(r,t[n]);return r}),evt=Qgt;const W1e=an(evt);function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yc.apply(this,arguments)}var oR={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},tvt=function(e){var t=typeof e;return W.isValidElement(e)||t==="string"||t==="function"||t==="object"},rvt=function(e){var t=typeof e;return t==="string"||t==="function"},z3=function(e){return e.type==="circle"},aR=function(e){return e.type==="dot"},B3=function(e){return e.type==="rect"},ivt=function(e){var t=e.data,r=e.annotations,i=e.getPosition,n=e.getDimensions;return r.reduce(function(o,u){var f=u.offset||0;return[].concat(o,Y1t(t,u.match).map(function(m){var v=i(m),_=n(m);return(z3(u)||B3(u))&&(_.size=_.size+2*f,_.width=_.width+2*f,_.height=_.height+2*f),yc({},W1e(u,["match","offset"]),v,_,{size:u.size||_.size,datum:m})}))},[])},nvt=function(e,t,r,i){var n=Math.atan2(i-t,r-e);return Zpt(Kpt(n))},J1e=function(e){var t,r,i=e.x,n=e.y,o=e.noteX,u=e.noteY,f=e.noteWidth,m=f===void 0?oR.noteWidth:f,v=e.noteTextOffset,_=v===void 0?oR.noteTextOffset:v;if(kZ(o))t=i+o;else{if(o.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=o.abs}if(kZ(u))r=n+u;else{if(u.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");r=u.abs}var $=i,T=n,I=nvt(i,n,t,r);if(z3(e)){var O=Ypt(F3(I),e.size/2);$+=O.x,T+=O.y}if(B3(e)){var A=Math.round((I+90)/45)%8;A===0&&(T-=e.height/2),A===1&&($+=e.width/2,T-=e.height/2),A===2&&($+=e.width/2),A===3&&($+=e.width/2,T+=e.height/2),A===4&&(T+=e.height/2),A===5&&($-=e.width/2,T+=e.height/2),A===6&&($-=e.width/2),A===7&&($-=e.width/2,T-=e.height/2)}var N=t,F=t;return(I+90)%360>180?(N-=m,F-=m):F+=m,{points:[[$,T],[t,r],[F,r]],text:[N,r-_],angle:I+90}},K1e=function(e){var t=e.data,r=e.annotations,i=e.getPosition,n=e.getDimensions;return W.useMemo(function(){return ivt({data:t,annotations:r,getPosition:i,getDimensions:n})},[t,r,i,n])},svt=function(e){var t=e.annotations;return W.useMemo(function(){return t.map(function(r){return yc({},r,{computed:J1e(yc({},r))})})},[t])},ovt=function(e){return W.useMemo(function(){return J1e(e)},[e])},avt=function(e){var t=e.datum,r=e.x,i=e.y,n=e.note,o=Pi(),u=Sl(),f=u.animate,m=u.config,v=vc({x:r,y:i,config:m,immediate:!f});return typeof n=="function"?W.createElement(n,{x:r,y:i,datum:t}):L.jsxs(L.Fragment,{children:[o.annotations.text.outlineWidth>0&&L.jsx(Bi.text,{x:v.x,y:v.y,style:yc({},o.annotations.text,{strokeLinejoin:"round",strokeWidth:2*o.annotations.text.outlineWidth,stroke:o.annotations.text.outlineColor}),children:n}),L.jsx(Bi.text,{x:v.x,y:v.y,style:W1e(o.annotations.text,["outlineWidth","outlineColor"]),children:n})]})},RZ=function(e){var t=e.points,r=e.isOutline,i=r!==void 0&&r,n=Pi(),o=W.useMemo(function(){var m=t[0];return t.slice(1).reduce(function(v,_){return v+" L"+_[0]+","+_[1]},"M"+m[0]+","+m[1])},[t]),u=qz(o);if(i&&n.annotations.link.outlineWidth<=0)return null;var f=yc({},n.annotations.link);return i&&(f.strokeLinecap="square",f.strokeWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,f.stroke=n.annotations.link.outlineColor,f.opacity=n.annotations.link.outlineOpacity),L.jsx(Bi.path,{fill:"none",d:u,style:f})},lvt=function(e){var t=e.x,r=e.y,i=e.size,n=Pi(),o=Sl(),u=o.animate,f=o.config,m=vc({x:t,y:r,radius:i/2,config:f,immediate:!u});return L.jsxs(L.Fragment,{children:[n.annotations.outline.outlineWidth>0&&L.jsx(Bi.circle,{cx:m.x,cy:m.y,r:m.radius,style:yc({},n.annotations.outline,{fill:"none",strokeWidth:n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,stroke:n.annotations.outline.outlineColor,opacity:n.annotations.outline.outlineOpacity})}),L.jsx(Bi.circle,{cx:m.x,cy:m.y,r:m.radius,style:n.annotations.outline})]})},uvt=function(e){var t=e.x,r=e.y,i=e.size,n=i===void 0?oR.dotSize:i,o=Pi(),u=Sl(),f=u.animate,m=u.config,v=vc({x:t,y:r,radius:n/2,config:m,immediate:!f});return L.jsxs(L.Fragment,{children:[o.annotations.outline.outlineWidth>0&&L.jsx(Bi.circle,{cx:v.x,cy:v.y,r:v.radius,style:yc({},o.annotations.outline,{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),L.jsx(Bi.circle,{cx:v.x,cy:v.y,r:v.radius,style:o.annotations.symbol})]})},cvt=function(e){var t=e.x,r=e.y,i=e.width,n=e.height,o=e.borderRadius,u=o===void 0?6:o,f=Pi(),m=Sl(),v=m.animate,_=m.config,$=vc({x:t-i/2,y:r-n/2,width:i,height:n,config:_,immediate:!v});return L.jsxs(L.Fragment,{children:[f.annotations.outline.outlineWidth>0&&L.jsx(Bi.rect,{x:$.x,y:$.y,rx:u,ry:u,width:$.width,height:$.height,style:yc({},f.annotations.outline,{fill:"none",strokeWidth:f.annotations.outline.strokeWidth+2*f.annotations.outline.outlineWidth,stroke:f.annotations.outline.outlineColor,opacity:f.annotations.outline.outlineOpacity})}),L.jsx(Bi.rect,{x:$.x,y:$.y,rx:u,ry:u,width:$.width,height:$.height,style:f.annotations.outline})]})},hvt=function(e){var t=e.datum,r=e.x,i=e.y,n=e.note,o=ovt(e);if(!tvt(n))throw new Error("note should be a valid react element");return L.jsxs(L.Fragment,{children:[L.jsx(RZ,{points:o.points,isOutline:!0}),z3(e)&&L.jsx(lvt,{x:r,y:i,size:e.size}),aR(e)&&L.jsx(uvt,{x:r,y:i,size:e.size}),B3(e)&&L.jsx(cvt,{x:r,y:i,width:e.width,height:e.height,borderRadius:e.borderRadius}),L.jsx(RZ,{points:o.points}),L.jsx(avt,{datum:t,x:o.text[0],y:o.text[1],note:n})]})},LZ=function(e,t){t.forEach(function(r,i){var n=r[0],o=r[1];i===0?e.moveTo(n,o):e.lineTo(n,o)})},dvt=function(e,t){var r=t.annotations,i=t.theme;r.length!==0&&(e.save(),r.forEach(function(n){if(!rvt(n.note))throw new Error("note is invalid for canvas implementation");i.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=i.annotations.link.outlineColor,e.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,e.beginPath(),LZ(e,n.computed.points),e.stroke(),e.lineCap="butt"),z3(n)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),aR(n)&&i.annotations.symbol.outlineWidth>0&&(e.strokeStyle=i.annotations.symbol.outlineColor,e.lineWidth=2*i.annotations.symbol.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),B3(n)&&i.annotations.outline.outlineWidth>0&&(e.strokeStyle=i.annotations.outline.outlineColor,e.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),e.strokeStyle=i.annotations.link.stroke,e.lineWidth=i.annotations.link.strokeWidth,e.beginPath(),LZ(e,n.computed.points),e.stroke(),z3(n)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),aR(n)&&(e.fillStyle=i.annotations.symbol.fill,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fill()),B3(n)&&(e.strokeStyle=i.annotations.outline.stroke,e.lineWidth=i.annotations.outline.strokeWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),typeof n.note=="function"?n.note(e,{datum:n.datum,x:n.computed.text[0],y:n.computed.text[1],theme:i}):(e.font=i.annotations.text.fontSize+"px "+i.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=i.annotations.text.fill,e.strokeStyle=i.annotations.text.outlineColor,e.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(n.note,n.computed.text[0],n.computed.text[1]),e.lineJoin="miter"),e.fillText(n.note,n.computed.text[0],n.computed.text[1]))}),e.restore())};function J6(){return J6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},J6.apply(this,arguments)}function NZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function pvt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(n,o){if(n){if(typeof n=="string")return NZ(n,o);var u=Object.prototype.toString.call(n).slice(8,-1);return u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set"?Array.from(n):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?NZ(n,o):void 0}}(e))||t){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y1e={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:x0e,accent:_0e,dark2:S0e,paired:$0e,pastel1:M0e,pastel2:T0e,set1:k0e,set2:C0e,set3:Oz,tableau10:dut},fvt=Object.keys(Y1e),Z1e={brown_blueGreen:Z8,purpleRed_green:X8,pink_yellowGreen:Q8,purple_orange:eM,red_blue:tM,red_grey:rM,red_yellow_blue:iM,red_yellow_green:nM,spectral:sM},yvt=Object.keys(Z1e),mvt={brown_blueGreen:put,purpleRed_green:fut,pink_yellowGreen:yut,purple_orange:mut,red_blue:gut,red_grey:vut,red_yellow_blue:but,red_yellow_green:wut,spectral:xut},X1e={blues:vM,greens:bM,greys:wM,oranges:SM,purples:xM,reds:_M,blue_green:oM,blue_purple:aM,green_blue:lM,orange_red:uM,purple_blue_green:cM,purple_blue:hM,purple_red:dM,red_purple:pM,yellow_green_blue:fM,yellow_green:yM,yellow_orange_brown:mM,yellow_orange_red:gM},gvt=Object.keys(X1e),vvt={blues:jut,greens:Rut,greys:Lut,oranges:Dut,purples:Nut,reds:Fut,turbo:Jut,viridis:Kut,inferno:Zut,magma:Yut,plasma:Xut,cividis:zut,warm:Vut,cool:Uut,cubehelixDefault:But,blue_green:_ut,blue_purple:Sut,green_blue:$ut,orange_red:Mut,purple_blue_green:Tut,purple_blue:kut,purple_red:Cut,red_purple:Eut,yellow_green_blue:Iut,yellow_green:Put,yellow_orange_brown:Out,yellow_orange_red:Aut},bC=J6({},Y1e,Z1e,X1e),bvt=function(e){return fvt.includes(e)},wvt=function(e){return yvt.includes(e)},xvt=function(e){return gvt.includes(e)},_vt={rainbow:Gut,sinebow:Wut};J6({},mvt,vvt,_vt);var Svt=function(e,t){if(typeof e=="function")return e;if(nz(e)){if(function(m){return m.theme!==void 0}(e)){if(t===void 0)throw new Error("Unable to use color from theme as no theme was provided");var r=pc(t,e.theme);if(r===void 0)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return r}}if(function(m){return m.from!==void 0}(e)){var i=function(m){return pc(m,e.from)};if(Array.isArray(e.modifiers)){for(var n,o=[],u=function(){var m=n.value,v=m[0],_=m[1];if(v==="brighter")o.push(function($){return $.brighter(_)});else if(v==="darker")o.push(function($){return $.darker(_)});else{if(v!=="opacity")throw new Error("Invalid color modifier: '"+v+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function($){return $.opacity=_,$})}},f=pvt(e.modifiers);!(n=f()).done;)u();return o.length===0?i:function(m){return o.reduce(function(v,_){return _(v)},Ag(i(m))).toString()}}return i}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}},Rg=function(e,t){return W.useMemo(function(){return Svt(e,t)},[e,t])};Oe.oneOfType([Oe.string,Oe.func,Oe.shape({theme:Oe.string.isRequired}),Oe.shape({from:Oe.string.isRequired,modifiers:Oe.arrayOf(Oe.array)})]);var $vt=function(e,t){if(typeof e=="function")return e;var r=typeof t=="function"?t:function($){return pc($,t)};if(Array.isArray(e)){var i=E0(e),n=function($){return i(r($))};return n.scale=i,n}if(nz(e)){if(function($){return $.datum!==void 0}(e))return function($){return pc($,e.datum)};if(function($){return $.scheme!==void 0}(e)){if(bvt(e.scheme)){var o=E0(bC[e.scheme]),u=function($){return o(r($))};return u.scale=o,u}if(wvt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var f=E0(bC[e.scheme][e.size||11]),m=function($){return f(r($))};return m.scale=f,m}if(xvt(e.scheme)){if(e.size!==void 0&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var v=E0(bC[e.scheme][e.size||9]),_=function($){return v(r($))};return _.scale=v,_}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},Q1e=function(e,t){return W.useMemo(function(){return $vt(e,t)},[e,t])},Mvt=function(e){var t=e.x,r=e.y,i=e.size,n=e.fill,o=e.opacity,u=o===void 0?1:o,f=e.borderWidth,m=f===void 0?0:f,v=e.borderColor;return L.jsx("circle",{r:i/2,cx:t+i/2,cy:r+i/2,fill:n,opacity:u,strokeWidth:m,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})},Tvt=function(e){var t=e.x,r=e.y,i=e.size,n=e.fill,o=e.opacity,u=o===void 0?1:o,f=e.borderWidth,m=f===void 0?0:f,v=e.borderColor;return L.jsx("g",{transform:"translate("+t+","+r+")",children:L.jsx("path",{d:`
                    M`+i/2+` 0
                    L`+.8*i+" "+i/2+`
                    L`+i/2+" "+i+`
                    L`+.2*i+" "+i/2+`
                    L`+i/2+` 0
                `,fill:n,opacity:u,strokeWidth:m,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})})},kvt=function(e){var t=e.x,r=e.y,i=e.size,n=e.fill,o=e.opacity,u=o===void 0?1:o,f=e.borderWidth,m=f===void 0?0:f,v=e.borderColor;return L.jsx("rect",{x:t,y:r,fill:n,opacity:u,strokeWidth:m,stroke:v===void 0?"transparent":v,width:i,height:i,style:{pointerEvents:"none"}})},Cvt=function(e){var t=e.x,r=e.y,i=e.size,n=e.fill,o=e.opacity,u=o===void 0?1:o,f=e.borderWidth,m=f===void 0?0:f,v=e.borderColor;return L.jsx("g",{transform:"translate("+t+","+r+")",children:L.jsx("path",{d:`
                M`+i/2+` 0
                L`+i+" "+i+`
                L0 `+i+`
                L`+i/2+` 0
            `,fill:n,opacity:u,strokeWidth:m,stroke:v===void 0?"transparent":v,style:{pointerEvents:"none"}})})};function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},P0.apply(this,arguments)}var Evt={top:0,right:0,bottom:0,left:0},Yz=function(e){var t,r=e.direction,i=e.itemsSpacing,n=e.padding,o=e.itemCount,u=e.itemWidth,f=e.itemHeight;if(typeof n!="number"&&(typeof(t=n)!="object"||Array.isArray(t)||t===null))throw new Error("Invalid property padding, must be one of: number, object");var m=typeof n=="number"?{top:n,right:n,bottom:n,left:n}:P0({},Evt,n),v=m.left+m.right,_=m.top+m.bottom,$=u+v,T=f+_,I=(o-1)*i;return r==="row"?$=u*o+I+v:r==="column"&&(T=f*o+I+_),{width:$,height:T,padding:m}},eye=function(e){var t=e.anchor,r=e.translateX,i=e.translateY,n=e.containerWidth,o=e.containerHeight,u=e.width,f=e.height,m=r,v=i;switch(t){case"top":m+=(n-u)/2;break;case"top-right":m+=n-u;break;case"right":m+=n-u,v+=(o-f)/2;break;case"bottom-right":m+=n-u,v+=o-f;break;case"bottom":m+=(n-u)/2,v+=o-f;break;case"bottom-left":v+=o-f;break;case"left":v+=(o-f)/2;break;case"center":m+=(n-u)/2,v+=(o-f)/2}return{x:m,y:v}},tye=function(e){var t,r,i,n,o,u,f=e.direction,m=e.justify,v=e.symbolSize,_=e.symbolSpacing,$=e.width,T=e.height;switch(f){case"left-to-right":t=0,r=(T-v)/2,n=T/2,u="central",m?(i=$,o="end"):(i=v+_,o="start");break;case"right-to-left":t=$-v,r=(T-v)/2,n=T/2,u="central",m?(i=0,o="start"):(i=$-v-_,o="end");break;case"top-to-bottom":t=($-v)/2,r=0,i=$/2,o="middle",m?(n=T,u="alphabetic"):(n=v+_,u="text-before-edge");break;case"bottom-to-top":t=($-v)/2,r=T-v,i=$/2,o="middle",m?(n=0,u="text-before-edge"):(n=T-v-_,u="alphabetic")}return{symbolX:t,symbolY:r,labelX:i,labelY:n,labelAnchor:o,labelAlignment:u}},Ivt={circle:Mvt,diamond:Tvt,square:kvt,triangle:Cvt},Pvt=function(e){var t,r,i,n,o,u,f,m,v,_,$,T=e.x,I=e.y,O=e.width,A=e.height,N=e.data,F=e.direction,z=F===void 0?"left-to-right":F,B=e.justify,G=B!==void 0&&B,H=e.textColor,J=e.background,Z=J===void 0?"transparent":J,re=e.opacity,q=re===void 0?1:re,X=e.symbolShape,ie=X===void 0?"square":X,le=e.symbolSize,ue=le===void 0?16:le,ne=e.symbolSpacing,pe=ne===void 0?8:ne,ye=e.symbolBorderWidth,ge=ye===void 0?0:ye,he=e.symbolBorderColor,ce=he===void 0?"transparent":he,Ee=e.onClick,ze=e.onMouseEnter,Ye=e.onMouseLeave,vt=e.toggleSerie,tt=e.effects,yt=W.useState({}),De=yt[0],ot=yt[1],He=Pi(),Te=W.useCallback(function(rt){if(tt){var $e=tt.filter(function(ft){return ft.on==="hover"}).reduce(function(ft,Be){return P0({},ft,Be.style)},{});ot($e)}ze==null||ze(N,rt)},[ze,N,tt]),qe=W.useCallback(function(rt){if(tt){var $e=tt.filter(function(ft){return ft.on!=="hover"}).reduce(function(ft,Be){return P0({},ft,Be.style)},{});ot($e)}Ye==null||Ye(N,rt)},[Ye,N,tt]),it=tye({direction:z,justify:G,symbolSize:(t=De.symbolSize)!=null?t:ue,symbolSpacing:pe,width:O,height:A}),Pe=it.symbolX,pt=it.symbolY,mt=it.labelX,Pt=it.labelY,wt=it.labelAnchor,bt=it.labelAlignment,ee=[Ee,ze,Ye,vt].some(function(rt){return rt!==void 0}),at=typeof ie=="function"?ie:Ivt[ie];return L.jsxs("g",{transform:"translate("+T+","+I+")",style:{opacity:(r=De.itemOpacity)!=null?r:q},children:[L.jsx("rect",{width:O,height:A,fill:(i=De.itemBackground)!=null?i:Z,style:{cursor:ee?"pointer":"auto"},onClick:function(rt){Ee==null||Ee(N,rt),vt==null||vt(N.id)},onMouseEnter:Te,onMouseLeave:qe}),W.createElement(at,P0({id:N.id,x:Pe,y:pt,size:(n=De.symbolSize)!=null?n:ue,fill:(o=(u=N.fill)!=null?u:N.color)!=null?o:"black",borderWidth:(f=De.symbolBorderWidth)!=null?f:ge,borderColor:(m=De.symbolBorderColor)!=null?m:ce},N.hidden?He.legends.hidden.symbol:void 0)),L.jsx("text",{textAnchor:wt,style:P0({},Wz(He.legends.text),{fill:(v=(_=($=De.itemTextColor)!=null?$:H)!=null?_:He.legends.text.fill)!=null?v:"black",dominantBaseline:bt,pointerEvents:"none",userSelect:"none"},N.hidden?He.legends.hidden.text:void 0),x:mt,y:Pt,children:N.label})]})},Ovt=function(e){var t=e.data,r=e.x,i=e.y,n=e.direction,o=e.padding,u=o===void 0?0:o,f=e.justify,m=e.effects,v=e.itemWidth,_=e.itemHeight,$=e.itemDirection,T=$===void 0?"left-to-right":$,I=e.itemsSpacing,O=I===void 0?0:I,A=e.itemTextColor,N=e.itemBackground,F=N===void 0?"transparent":N,z=e.itemOpacity,B=z===void 0?1:z,G=e.symbolShape,H=e.symbolSize,J=e.symbolSpacing,Z=e.symbolBorderWidth,re=e.symbolBorderColor,q=e.onClick,X=e.onMouseEnter,ie=e.onMouseLeave,le=e.toggleSerie,ue=Yz({itemCount:t.length,itemWidth:v,itemHeight:_,itemsSpacing:O,direction:n,padding:u}).padding,ne=n==="row"?v+O:0,pe=n==="column"?_+O:0;return L.jsx("g",{transform:"translate("+r+","+i+")",children:t.map(function(ye,ge){return L.jsx(Pvt,{data:ye,x:ge*ne+ue.left,y:ge*pe+ue.top,width:v,height:_,direction:T,justify:f,effects:m,textColor:A,background:F,opacity:B,symbolShape:G,symbolSize:H,symbolSpacing:J,symbolBorderWidth:Z,symbolBorderColor:re,onClick:q,onMouseEnter:X,onMouseLeave:ie,toggleSerie:le},ge)})})},rye=function(e){var t=e.data,r=e.containerWidth,i=e.containerHeight,n=e.translateX,o=n===void 0?0:n,u=e.translateY,f=u===void 0?0:u,m=e.anchor,v=e.direction,_=e.padding,$=_===void 0?0:_,T=e.justify,I=e.itemsSpacing,O=I===void 0?0:I,A=e.itemWidth,N=e.itemHeight,F=e.itemDirection,z=e.itemTextColor,B=e.itemBackground,G=e.itemOpacity,H=e.symbolShape,J=e.symbolSize,Z=e.symbolSpacing,re=e.symbolBorderWidth,q=e.symbolBorderColor,X=e.onClick,ie=e.onMouseEnter,le=e.onMouseLeave,ue=e.toggleSerie,ne=e.effects,pe=Yz({itemCount:t.length,itemsSpacing:O,itemWidth:A,itemHeight:N,direction:v,padding:$}),ye=pe.width,ge=pe.height,he=eye({anchor:m,translateX:o,translateY:f,containerWidth:r,containerHeight:i,width:ye,height:ge}),ce=he.x,Ee=he.y;return L.jsx(Ovt,{data:t,x:ce,y:Ee,direction:v,padding:$,justify:T,effects:ne,itemsSpacing:O,itemWidth:A,itemHeight:N,itemDirection:F,itemTextColor:z,itemBackground:B,itemOpacity:G,symbolShape:H,symbolSize:J,symbolSpacing:Z,symbolBorderWidth:re,symbolBorderColor:q,onClick:X,onMouseEnter:ie,onMouseLeave:le,toggleSerie:typeof ue=="boolean"?void 0:ue})},Avt={start:"left",middle:"center",end:"right"},iye=function(e,t){var r=t.data,i=t.containerWidth,n=t.containerHeight,o=t.translateX,u=o===void 0?0:o,f=t.translateY,m=f===void 0?0:f,v=t.anchor,_=t.direction,$=t.padding,T=$===void 0?0:$,I=t.justify,O=I!==void 0&&I,A=t.itemsSpacing,N=A===void 0?0:A,F=t.itemWidth,z=t.itemHeight,B=t.itemDirection,G=B===void 0?"left-to-right":B,H=t.itemTextColor,J=t.symbolSize,Z=J===void 0?16:J,re=t.symbolSpacing,q=re===void 0?8:re,X=t.theme,ie=Yz({itemCount:r.length,itemWidth:F,itemHeight:z,itemsSpacing:N,direction:_,padding:T}),le=ie.width,ue=ie.height,ne=ie.padding,pe=eye({anchor:v,translateX:u,translateY:m,containerWidth:i,containerHeight:n,width:le,height:ue}),ye=pe.x,ge=pe.y,he=_==="row"?F+N:0,ce=_==="column"?z+N:0;e.save(),e.translate(ye,ge),e.font=X.legends.text.fontSize+"px "+(X.legends.text.fontFamily||"sans-serif"),r.forEach(function(Ee,ze){var Ye,vt,tt=ze*he+ne.left,yt=ze*ce+ne.top,De=tye({direction:G,justify:O,symbolSize:Z,symbolSpacing:q,width:F,height:z}),ot=De.symbolX,He=De.symbolY,Te=De.labelX,qe=De.labelY,it=De.labelAnchor,Pe=De.labelAlignment;e.fillStyle=(Ye=Ee.color)!=null?Ye:"black",e.fillRect(tt+ot,yt+He,Z,Z),e.textAlign=Avt[it],Pe==="central"&&(e.textBaseline="middle"),e.fillStyle=(vt=H??X.legends.text.fill)!=null?vt:"black",e.fillText(String(Ee.label),tt+Te,yt+qe)}),e.restore()};function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ii.apply(this,arguments)}function Ev(e,t){if(e==null)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var FZ,jvt=function(e){var t=e.bars,r=e.annotations,i=K1e({data:t,annotations:r,getPosition:function(n){return{x:n.x+n.width/2,y:n.y+n.height/2}},getDimensions:function(n){var o=n.height,u=n.width;return{width:u,height:o,size:Math.max(u,o)}}});return L.jsx(L.Fragment,{children:i.map(function(n,o){return L.jsx(hvt,ii({},n),o)})})},Rvt=function(e){var t=e.width,r=e.height,i=e.legends,n=e.toggleSerie;return L.jsx(L.Fragment,{children:i.map(function(o,u){var f,m=o[0],v=o[1];return L.jsx(rye,ii({},m,{containerWidth:t,containerHeight:r,data:(f=m.data)!=null?f:v,toggleSerie:m.toggleSerie&&m.dataFrom==="keys"?n:void 0}),u)})})},Lvt=["data"],Nvt=function(e){var t,r=e.bar,i=r.data,n=Ev(r,Lvt),o=e.style,u=o.borderColor,f=o.color,m=o.height,v=o.labelColor,_=o.labelOpacity,$=o.labelX,T=o.labelY,I=o.transform,O=o.width,A=e.borderRadius,N=e.borderWidth,F=e.label,z=e.shouldRenderLabel,B=e.isInteractive,G=e.onClick,H=e.onMouseEnter,J=e.onMouseLeave,Z=e.tooltip,re=e.isFocusable,q=e.ariaLabel,X=e.ariaLabelledBy,ie=e.ariaDescribedBy,le=Pi(),ue=mv(),ne=ue.showTooltipFromEvent,pe=ue.showTooltipAt,ye=ue.hideTooltip,ge=W.useMemo(function(){return function(){return W.createElement(Z,ii({},n,i))}},[Z,n,i]),he=W.useCallback(function(tt){G==null||G(ii({color:n.color},i),tt)},[n,i,G]),ce=W.useCallback(function(tt){return ne(ge(),tt)},[ne,ge]),Ee=W.useCallback(function(tt){H==null||H(i,tt),ne(ge(),tt)},[i,H,ne,ge]),ze=W.useCallback(function(tt){J==null||J(i,tt),ye()},[i,ye,J]),Ye=W.useCallback(function(){pe(ge(),[n.absX+n.width/2,n.absY])},[pe,ge,n]),vt=W.useCallback(function(){ye()},[ye]);return L.jsxs(Bi.g,{transform:I,children:[L.jsx(Bi.rect,{width:Rj(O,function(tt){return Math.max(tt,0)}),height:Rj(m,function(tt){return Math.max(tt,0)}),rx:A,ry:A,fill:(t=i.fill)!=null?t:f,strokeWidth:N,stroke:u,focusable:re,tabIndex:re?0:void 0,"aria-label":q?q(i):void 0,"aria-labelledby":X?X(i):void 0,"aria-describedby":ie?ie(i):void 0,onMouseEnter:B?Ee:void 0,onMouseMove:B?ce:void 0,onMouseLeave:B?ze:void 0,onClick:B?he:void 0,onFocus:B&&re?Ye:void 0,onBlur:B&&re?vt:void 0}),z&&L.jsx(Bi.text,{x:$,y:T,textAnchor:"middle",dominantBaseline:"central",fillOpacity:_,style:ii({},le.labels.text,{pointerEvents:"none",fill:v}),children:F})]})},Fvt=["color","label"],Dvt=function(e){var t=e.color,r=e.label,i=Ev(e,Fvt);return L.jsx(ife,{id:r,value:i.formattedValue,enableChip:!0,color:t})},fi={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:Dvt,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},ki=ii({},fi,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:Nvt,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),ts=ii({},fi,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:typeof window<"u"&&(FZ=window.devicePixelRatio)!=null?FZ:1}),nye=function(e,t,r,i,n,o){return D3(i,{all:e.map(t),min:0,max:0},n,o).padding(r)},sye=function(e,t){return e.map(function(r){return ii({},t.reduce(function(i,n){return i[n]=null,i},{}),r)})},PM=function(e){return Object.keys(e).reduce(function(t,r){return e[r]&&(t[r]=e[r]),t},{})},OM=function(e){return[e,Number(e)]},zvt=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],Zz=function(e,t){return e>t},oye=function(e,t){return e<t},aye=function(e,t){return Array.from(" ".repeat(t-e),function(r,i){return e+i})},Bvt=function(e){return Zz(e,0)?0:e},Vvt=function(e,t,r,i){var n=e.data,o=e.formatValue,u=e.getColor,f=e.getIndex,m=e.getTooltipLabel,v=e.innerPadding,_=v===void 0?0:v,$=e.keys,T=e.xScale,I=e.yScale,O=e.margin,A=r?oye:Zz,N=n.map(PM),F=[];return $.forEach(function(z,B){return aye(0,T.domain().length).forEach(function(G){var H,J,Z,re=OM(n[G][z]),q=re[0],X=re[1],ie=f(n[G]),le=((H=T(ie))!=null?H:0)+t*B+_*B,ue=A(J=X,0)?(Z=I(J))!=null?Z:0:i,ne=function(ye,ge){var he;return A(ye,0)?i-ge:((he=I(ye))!=null?he:0)-i}(X,ue),pe={id:z,value:q===null?q:X,formattedValue:o(X),hidden:!1,index:G,indexValue:ie,data:N[G]};F.push({key:z+"."+pe.indexValue,index:F.length,data:pe,x:le,y:ue,absX:O.left+le,absY:O.top+ue,width:t,height:ne,color:u(pe),label:m(pe)})})}),F},Uvt=function(e,t,r,i){var n=e.data,o=e.formatValue,u=e.getIndex,f=e.getColor,m=e.getTooltipLabel,v=e.keys,_=e.innerPadding,$=_===void 0?0:_,T=e.xScale,I=e.yScale,O=e.margin,A=r?oye:Zz,N=n.map(PM),F=[];return v.forEach(function(z,B){return aye(0,I.domain().length).forEach(function(G){var H,J,Z,re=OM(n[G][z]),q=re[0],X=re[1],ie=u(n[G]),le=A(J=X,0)?i:(Z=T(J))!=null?Z:0,ue=((H=I(ie))!=null?H:0)+t*B+$*B,ne=function(ye,ge){var he;return A(ye,0)?((he=T(ye))!=null?he:0)-i:i-ge}(X,le),pe={id:z,value:q===null?q:X,formattedValue:o(X),hidden:!1,index:G,indexValue:ie,data:N[G]};F.push({key:z+"."+pe.indexValue,index:F.length,data:pe,x:le,y:ue,absX:O.left+le,absY:O.top+ue,width:ne,height:t,color:f(pe),label:m(pe)})})}),F},Gvt=function(e){var t,r,i=e.layout,n=e.minValue,o=e.maxValue,u=e.reverse,f=e.width,m=e.height,v=e.padding,_=v===void 0?0:v,$=e.innerPadding,T=$===void 0?0:$,I=e.valueScale,O=e.indexScale,A=e.hiddenIds,N=A===void 0?[]:A,F=Ev(e,zvt),z=F.keys.filter(function(Ee){return!N.includes(Ee)}),B=sye(F.data,z),G=i==="vertical"?["y","x",f]:["x","y",m],H=G[0],J=G[1],Z=G[2],re=nye(B,F.getIndex,_,O,Z,J),q=ii({max:o,min:n,reverse:u},I),X=q.min==="auto"?Bvt:function(Ee){return Ee},ie=B.reduce(function(Ee,ze){return[].concat(Ee,z.map(function(Ye){return ze[Ye]}))},[]).filter(Boolean),le=X(Math.min.apply(Math,ie)),ue=(r=Math.max.apply(Math,ie),isFinite(r)?r:0),ne=D3(q,{all:ie,min:le,max:ue},H==="x"?f:m,H),pe=i==="vertical"?[re,ne]:[ne,re],ye=pe[0],ge=pe[1],he=(re.bandwidth()-T*(z.length-1))/z.length,ce=[ii({},F,{data:B,keys:z,innerPadding:T,xScale:ye,yScale:ge}),he,q.reverse,(t=ne(0))!=null?t:0];return{xScale:ye,yScale:ge,bars:he>0?i==="vertical"?Vvt.apply(void 0,ce):Uvt.apply(void 0,ce):[]}},qvt=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],Hvt=function e(t){var r;return t.some(Array.isArray)?e((r=[]).concat.apply(r,t)):t},Wvt=function(e,t,r){var i=e.formatValue,n=e.getColor,o=e.getIndex,u=e.getTooltipLabel,f=e.innerPadding,m=e.stackedData,v=e.xScale,_=e.yScale,$=e.margin,T=[];return m.forEach(function(I){return v.domain().forEach(function(O,A){var N,F,z=I[A],B=(N=v(o(z.data)))!=null?N:0,G=((F=function(X){return _(X[r?0:1])}(z))!=null?F:0)+.5*f,H=function(X,ie){var le;return((le=_(X[r?1:0]))!=null?le:0)-ie}(z,G)-f,J=OM(z.data[I.key]),Z=J[0],re=J[1],q={id:I.key,value:Z===null?Z:re,formattedValue:i(re),hidden:!1,index:A,indexValue:O,data:PM(z.data)};T.push({key:I.key+"."+O,index:T.length,data:q,x:B,y:G,absX:$.left+B,absY:$.top+G,width:t,height:H,color:n(q),label:u(q)})})}),T},Jvt=function(e,t,r){var i=e.formatValue,n=e.getColor,o=e.getIndex,u=e.getTooltipLabel,f=e.innerPadding,m=e.stackedData,v=e.xScale,_=e.yScale,$=e.margin,T=[];return m.forEach(function(I){return _.domain().forEach(function(O,A){var N,F,z=I[A],B=(N=_(o(z.data)))!=null?N:0,G=((F=function(X){return v(X[r?1:0])}(z))!=null?F:0)+.5*f,H=function(X,ie){var le;return((le=v(X[r?0:1]))!=null?le:0)-ie}(z,G)-f,J=OM(z.data[I.key]),Z=J[0],re=J[1],q={id:I.key,value:Z===null?Z:re,formattedValue:i(re),hidden:!1,index:A,indexValue:O,data:PM(z.data)};T.push({key:I.key+"."+O,index:T.length,data:q,x:G,y:B,absX:$.left+G,absY:$.top+B,width:H,height:t,color:n(q),label:u(q)})})}),T},Kvt=function(e){var t,r=e.data,i=e.layout,n=e.minValue,o=e.maxValue,u=e.reverse,f=e.width,m=e.height,v=e.padding,_=v===void 0?0:v,$=e.valueScale,T=e.indexScale,I=e.hiddenIds,O=I===void 0?[]:I,A=Ev(e,qvt),N=A.keys.filter(function(he){return!O.includes(he)}),F=sht().keys(N).offset(oht)(sye(r,N)),z=i==="vertical"?["y","x",f]:["x","y",m],B=z[0],G=z[1],H=z[2],J=nye(r,A.getIndex,_,T,H,G),Z=ii({max:o,min:n,reverse:u},$),re=(t=Hvt(F),$.type==="log"?t.filter(function(he){return he!==0}):t),q=Math.min.apply(Math,re),X=Math.max.apply(Math,re),ie=D3(Z,{all:re,min:q,max:X},B==="x"?f:m,B),le=i==="vertical"?[J,ie]:[ie,J],ue=le[0],ne=le[1],pe=A.innerPadding>0?A.innerPadding:0,ye=J.bandwidth(),ge=[ii({},A,{innerPadding:pe,stackedData:F,xScale:ue,yScale:ne}),ye,Z.reverse];return{xScale:ue,yScale:ne,bars:ye>0?i==="vertical"?Wvt.apply(void 0,ge):Jvt.apply(void 0,ge):[]}},Yvt=function(e){var t=e.bars,r=e.direction,i=e.from,n=e.groupMode,o=e.layout,u=e.legendLabel,f=e.reverse,m=$1e(u??(i==="indexes"?"indexValue":"id"));return i==="indexes"?function(v,_,$){var T=nR(v.map(function(I){var O,A;return{id:(O=I.data.indexValue)!=null?O:"",label:$(I.data),hidden:I.data.hidden,color:(A=I.color)!=null?A:"#000"}}),function(I){return I.id});return _==="horizontal"&&T.reverse(),T}(t,o,m):function(v,_,$,T,I,O){var A=nR(v.map(function(N){var F;return{id:N.data.id,label:O(N.data),hidden:N.data.hidden,color:(F=N.color)!=null?F:"#000"}}),function(N){return N.id});return(_==="vertical"&&T==="stacked"&&$==="column"&&I!==!0||_==="horizontal"&&T==="stacked"&&I===!0)&&A.reverse(),A}(t,o,r,n,f,m)},DZ=function(e,t,r){var i=e.get(t)||0;e.set(t,i+r)},Zvt=function(e,t,r){var i=e.get(t)||0;e.set(t,i+(r>0?r:0))},Xvt=function(e,t,r){var i=e.get(t)||0;e.set(t,Math.max(i,Number(r)))},Qvt=function(e,t){var r=e.get(t)||0;e.set(t,r+1)},lye=function(e){var t=e.indexBy,r=t===void 0?fi.indexBy:t,i=e.keys,n=i===void 0?fi.keys:i,o=e.label,u=o===void 0?fi.label:o,f=e.tooltipLabel,m=f===void 0?fi.tooltipLabel:f,v=e.valueFormat,_=e.colors,$=_===void 0?fi.colors:_,T=e.colorBy,I=T===void 0?fi.colorBy:T,O=e.borderColor,A=O===void 0?fi.borderColor:O,N=e.labelTextColor,F=N===void 0?fi.labelTextColor:N,z=e.groupMode,B=z===void 0?fi.groupMode:z,G=e.layout,H=G===void 0?fi.layout:G,J=e.reverse,Z=J===void 0?fi.reverse:J,re=e.data,q=e.minValue,X=q===void 0?fi.minValue:q,ie=e.maxValue,le=ie===void 0?fi.maxValue:ie,ue=e.margin,ne=e.width,pe=e.height,ye=e.padding,ge=ye===void 0?fi.padding:ye,he=e.innerPadding,ce=he===void 0?fi.innerPadding:he,Ee=e.valueScale,ze=Ee===void 0?fi.valueScale:Ee,Ye=e.indexScale,vt=Ye===void 0?fi.indexScale:Ye,tt=e.initialHiddenIds,yt=tt===void 0?fi.initialHiddenIds:tt,De=e.enableLabel,ot=De===void 0?fi.enableLabel:De,He=e.labelSkipWidth,Te=He===void 0?fi.labelSkipWidth:He,qe=e.labelSkipHeight,it=qe===void 0?fi.labelSkipHeight:qe,Pe=e.legends,pt=Pe===void 0?fi.legends:Pe,mt=e.legendLabel,Pt=e.totalsOffset,wt=Pt===void 0?fi.totalsOffset:Pt,bt=W.useState(yt??[]),ee=bt[0],at=bt[1],rt=W.useCallback(function(a){at(function(c){return c.indexOf(a)>-1?c.filter(function(p){return p!==a}):[].concat(c,[a])})},[]),$e=mC(r),ft=mC(u),Be=mC(m),Er=N3(v),rr=Pi(),$t=Q1e($,I),Mt=Rg(A,rr),Cr=Rg(F,rr),Vr=(B==="grouped"?Gvt:Kvt)({layout:H,reverse:Z,data:re,getIndex:$e,keys:n,minValue:X,maxValue:le,width:ne,height:pe,getColor:$t,padding:ge,innerPadding:ce,valueScale:ze,indexScale:vt,hiddenIds:ee,formatValue:Er,getTooltipLabel:Be,margin:ue}),Le=Vr.bars,ir=Vr.xScale,d=Vr.yScale,j=W.useMemo(function(){return Le.filter(function(a){return a.data.value!==null}).map(function(a,c){return ii({},a,{index:c})})},[Le]),x=W.useCallback(function(a){var c=a.width,p=a.height;return!!ot&&!(Te>0&&c<Te)&&!(it>0&&p<it)},[ot,Te,it]),h=W.useMemo(function(){return n.map(function(a){var c=Le.find(function(p){return p.data.id===a});return ii({},c,{data:ii({id:a},c==null?void 0:c.data,{hidden:ee.includes(a)})})})},[ee,n,Le]),l=W.useMemo(function(){return pt.map(function(a){return[a,Yvt({bars:a.dataFrom==="keys"?h:Le,direction:a.direction,from:a.dataFrom,groupMode:B,layout:H,legendLabel:mt,reverse:Z})]})},[pt,h,Le,B,H,mt,Z]),s=W.useMemo(function(){return function(a,c,p,y,g,w,S){y===void 0&&(y=fi.layout),g===void 0&&(g=fi.groupMode);var k=[];if(a.length===0)return k;var E=new Map,P=a[0].width,R=a[0].height;if(g==="stacked"){var D=new Map;a.forEach(function(K){var V=K.data,Q=V.indexValue,ae=V.value;DZ(E,Q,Number(ae)),Zvt(D,Q,Number(ae))}),D.forEach(function(K,V){var Q,ae,oe,me=E.get(V)||0;y==="vertical"?(Q=c(V),ae=p(K),oe=p(K/2)):(Q=c(K),ae=p(V),oe=c(K/2)),Q+=y==="vertical"?P/2:w,ae+=y==="vertical"?-w:R/2,k.push({key:"total_"+V,x:Q,y:ae,value:me,formattedValue:S(me),animationOffset:oe})})}else if(g==="grouped"){var U=new Map,Y=new Map;a.forEach(function(K){var V=K.data,Q=V.indexValue,ae=V.value;DZ(E,Q,Number(ae)),Xvt(U,Q,Number(ae)),Qvt(Y,Q)}),U.forEach(function(K,V){var Q,ae,oe,me=E.get(V)||0,de=Y.get(V);y==="vertical"?(Q=c(V),ae=p(K),oe=p(K/2)):(Q=c(K),ae=p(V),oe=c(K/2)),Q+=y==="vertical"?de*P/2:w,ae+=y==="vertical"?-w:de*R/2,k.push({key:"total_"+V,x:Q,y:ae,value:me,formattedValue:S(me),animationOffset:oe})})}return k}(Le,ir,d,H,B,wt,Er)},[Le,ir,d,H,B,wt,Er]);return{bars:Le,barsWithValue:j,xScale:ir,yScale:d,getIndex:$e,getLabel:ft,getTooltipLabel:Be,formatValue:Er,getColor:$t,getBorderColor:Mt,getLabelColor:Cr,shouldRenderBarLabel:x,hiddenIds:ee,toggleSerie:rt,legendsWithData:l,barTotals:s}},ebt=function(e){var t=e.data,r=e.springConfig,i=e.animate,n=e.layout,o=n===void 0?ki.layout:n,u=Pi();return I8(t,{keys:function(f){return f.key},from:function(f){return{x:o==="vertical"?f.x:f.animationOffset,y:o==="vertical"?f.animationOffset:f.y,labelOpacity:0}},enter:function(f){return{x:f.x,y:f.y,labelOpacity:1}},update:function(f){return{x:f.x,y:f.y,labelOpacity:1}},leave:function(f){return{x:o==="vertical"?f.x:f.animationOffset,y:o==="vertical"?f.animationOffset:f.y,labelOpacity:0}},config:r,immediate:!i,initial:i?void 0:null})(function(f,m){return L.jsx(Bi.text,{x:f.x,y:f.y,fillOpacity:f.labelOpacity,style:ii({},u.labels.text,{pointerEvents:"none",fill:u.text.fill}),fontWeight:"bold",fontSize:u.labels.text.fontSize,fontFamily:u.labels.text.fontFamily,textAnchor:o==="vertical"?"middle":"start",alignmentBaseline:o==="vertical"?"alphabetic":"middle",children:m.formattedValue},m.key)})},tbt=["isInteractive","animate","motionConfig","theme","renderWrapper"],rbt=function(e){var t=e.data,r=e.indexBy,i=e.keys,n=e.margin,o=e.width,u=e.height,f=e.groupMode,m=e.layout,v=e.reverse,_=e.minValue,$=e.maxValue,T=e.valueScale,I=e.indexScale,O=e.padding,A=e.innerPadding,N=e.axisTop,F=e.axisRight,z=e.axisBottom,B=z===void 0?ki.axisBottom:z,G=e.axisLeft,H=G===void 0?ki.axisLeft:G,J=e.enableGridX,Z=J===void 0?ki.enableGridX:J,re=e.enableGridY,q=re===void 0?ki.enableGridY:re,X=e.gridXValues,ie=e.gridYValues,le=e.layers,ue=le===void 0?ki.layers:le,ne=e.barComponent,pe=ne===void 0?ki.barComponent:ne,ye=e.enableLabel,ge=ye===void 0?ki.enableLabel:ye,he=e.label,ce=e.labelSkipWidth,Ee=ce===void 0?ki.labelSkipWidth:ce,ze=e.labelSkipHeight,Ye=ze===void 0?ki.labelSkipHeight:ze,vt=e.labelTextColor,tt=e.markers,yt=tt===void 0?ki.markers:tt,De=e.colorBy,ot=e.colors,He=e.defs,Te=He===void 0?ki.defs:He,qe=e.fill,it=qe===void 0?ki.fill:qe,Pe=e.borderRadius,pt=Pe===void 0?ki.borderRadius:Pe,mt=e.borderWidth,Pt=mt===void 0?ki.borderWidth:mt,wt=e.borderColor,bt=e.annotations,ee=bt===void 0?ki.annotations:bt,at=e.legendLabel,rt=e.tooltipLabel,$e=e.valueFormat,ft=e.isInteractive,Be=ft===void 0?ki.isInteractive:ft,Er=e.tooltip,rr=Er===void 0?ki.tooltip:Er,$t=e.onClick,Mt=e.onMouseEnter,Cr=e.onMouseLeave,Vr=e.legends,Le=e.role,ir=Le===void 0?ki.role:Le,d=e.ariaLabel,j=e.ariaLabelledBy,x=e.ariaDescribedBy,h=e.isFocusable,l=h===void 0?ki.isFocusable:h,s=e.barAriaLabel,a=e.barAriaLabelledBy,c=e.barAriaDescribedBy,p=e.initialHiddenIds,y=e.enableTotals,g=y===void 0?ki.enableTotals:y,w=e.totalsOffset,S=w===void 0?ki.totalsOffset:w,k=Sl(),E=k.animate,P=k.config,R=EM(o,u,n),D=R.outerWidth,U=R.outerHeight,Y=R.margin,K=R.innerWidth,V=R.innerHeight,Q=lye({indexBy:r,label:he,tooltipLabel:rt,valueFormat:$e,colors:ot,colorBy:De,borderColor:wt,labelTextColor:vt,groupMode:f,layout:m,reverse:v,data:t,keys:i,minValue:_,maxValue:$,margin:Y,width:K,height:V,padding:O,innerPadding:A,valueScale:T,indexScale:I,enableLabel:ge,labelSkipWidth:Ee,labelSkipHeight:Ye,legends:Vr,legendLabel:at,initialHiddenIds:p,totalsOffset:S}),ae=Q.bars,oe=Q.barsWithValue,me=Q.xScale,de=Q.yScale,Me=Q.getLabel,_e=Q.getTooltipLabel,xe=Q.getBorderColor,Ue=Q.getLabelColor,Ae=Q.shouldRenderBarLabel,st=Q.toggleSerie,ct=Q.legendsWithData,Ve=Q.barTotals,Rt=I8(oe,{keys:function(Je){return Je.key},from:function(Je){return ii({borderColor:xe(Je),color:Je.color,height:0,labelColor:Ue(Je),labelOpacity:0,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+(Je.y+Je.height)+")",width:Je.width},m==="vertical"?{}:{height:Je.height,transform:"translate("+Je.x+", "+Je.y+")",width:0})},enter:function(Je){return{borderColor:xe(Je),color:Je.color,height:Je.height,labelColor:Ue(Je),labelOpacity:1,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+Je.y+")",width:Je.width}},update:function(Je){return{borderColor:xe(Je),color:Je.color,height:Je.height,labelColor:Ue(Je),labelOpacity:1,labelX:Je.width/2,labelY:Je.height/2,transform:"translate("+Je.x+", "+Je.y+")",width:Je.width}},leave:function(Je){return ii({borderColor:xe(Je),color:Je.color,height:0,labelColor:Ue(Je),labelOpacity:0,labelX:Je.width/2,labelY:0,transform:"translate("+Je.x+", "+(Je.y+Je.height)+")",width:Je.width},m==="vertical"?{}:{labelX:0,labelY:Je.height/2,height:Je.height,transform:"translate("+Je.x+", "+Je.y+")",width:0})},config:P,immediate:!E,initial:E?void 0:null}),Rr=W.useMemo(function(){return{borderRadius:pt,borderWidth:Pt,enableLabel:ge,isInteractive:Be,labelSkipWidth:Ee,labelSkipHeight:Ye,onClick:$t,onMouseEnter:Mt,onMouseLeave:Cr,getTooltipLabel:_e,tooltip:rr,isFocusable:l,ariaLabel:s,ariaLabelledBy:a,ariaDescribedBy:c}},[pt,Pt,ge,_e,Be,Ye,Ee,$t,Mt,Cr,rr,l,s,a,c]),xr=T1e(Te,ae,it,{dataKey:"data",targetKey:"data.fill"}),zt={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};ue.includes("annotations")&&(zt.annotations=L.jsx(jvt,{bars:ae,annotations:ee},"annotations")),ue.includes("axes")&&(zt.axes=L.jsx(D1e,{xScale:me,yScale:de,width:K,height:V,top:N,right:F,bottom:B,left:H},"axes")),ue.includes("bars")&&(zt.bars=L.jsx(W.Fragment,{children:Rt(function(Je,_r){return W.createElement(pe,ii({},Rr,{bar:_r,style:Je,shouldRenderLabel:Ae(_r),label:Me(_r.data)}))})},"bars")),ue.includes("grid")&&(zt.grid=L.jsx(z1e,{width:K,height:V,xScale:Z?me:null,yScale:q?de:null,xValues:X,yValues:ie},"grid")),ue.includes("legends")&&(zt.legends=L.jsx(Rvt,{width:K,height:V,legends:ct,toggleSerie:st},"legends")),ue.includes("markers")&&(zt.markers=L.jsx(_1e,{markers:yt,width:K,height:V,xScale:me,yScale:de},"markers")),ue.includes("totals")&&g&&(zt.totals=L.jsx(ebt,{data:Ve,springConfig:P,animate:E,layout:m},"totals"));var Wt=W.useMemo(function(){return ii({},Rr,{margin:Y,width:o,height:u,innerWidth:K,innerHeight:V,bars:ae,legendData:ct,enableLabel:ge,xScale:me,yScale:de,tooltip:rr,getTooltipLabel:_e,onClick:$t,onMouseEnter:Mt,onMouseLeave:Cr})},[Rr,Y,o,u,K,V,ae,ct,ge,me,de,rr,_e,$t,Mt,Cr]);return L.jsx(Jz,{width:D,height:U,margin:Y,defs:xr,role:ir,ariaLabel:d,ariaLabelledBy:j,ariaDescribedBy:x,isFocusable:l,children:ue.map(function(Je,_r){var Tt;return typeof Je=="function"?L.jsx(W.Fragment,{children:W.createElement(Je,Wt)},_r):(Tt=zt==null?void 0:zt[Je])!=null?Tt:null})})},ibt=function(e){var t=e.isInteractive,r=t===void 0?ki.isInteractive:t,i=e.animate,n=i===void 0?ki.animate:i,o=e.motionConfig,u=o===void 0?ki.motionConfig:o,f=e.theme,m=e.renderWrapper,v=Ev(e,tbt);return L.jsx(IM,{animate:n,isInteractive:r,motionConfig:u,renderWrapper:m,theme:f,children:L.jsx(rbt,ii({isInteractive:r},v))})},nbt=["isInteractive","renderWrapper","theme"],wC=function(e,t,r,i){return e.find(function(n){return M1e(n.x+t.left,n.y+t.top,n.width,n.height,r,i)})},sbt=function(e){var t=e.data,r=e.indexBy,i=e.keys,n=e.margin,o=e.width,u=e.height,f=e.groupMode,m=e.layout,v=e.reverse,_=e.minValue,$=e.maxValue,T=e.valueScale,I=e.indexScale,O=e.padding,A=e.innerPadding,N=e.axisTop,F=e.axisRight,z=e.axisBottom,B=z===void 0?ts.axisBottom:z,G=e.axisLeft,H=G===void 0?ts.axisLeft:G,J=e.enableGridX,Z=J===void 0?ts.enableGridX:J,re=e.enableGridY,q=re===void 0?ts.enableGridY:re,X=e.gridXValues,ie=e.gridYValues,le=e.layers,ue=le===void 0?ts.layers:le,ne=e.renderBar,pe=ne===void 0?function(_e,xe){var Ue=xe.bar,Ae=Ue.color,st=Ue.height,ct=Ue.width,Ve=Ue.x,Rt=Ue.y,Rr=xe.borderColor,xr=xe.borderRadius,zt=xe.borderWidth,Wt=xe.label,Je=xe.labelColor,_r=xe.shouldRenderLabel;if(_e.fillStyle=Ae,zt>0&&(_e.strokeStyle=Rr,_e.lineWidth=zt),_e.beginPath(),xr>0){var Tt=Math.min(xr,st);_e.moveTo(Ve+Tt,Rt),_e.lineTo(Ve+ct-Tt,Rt),_e.quadraticCurveTo(Ve+ct,Rt,Ve+ct,Rt+Tt),_e.lineTo(Ve+ct,Rt+st-Tt),_e.quadraticCurveTo(Ve+ct,Rt+st,Ve+ct-Tt,Rt+st),_e.lineTo(Ve+Tt,Rt+st),_e.quadraticCurveTo(Ve,Rt+st,Ve,Rt+st-Tt),_e.lineTo(Ve,Rt+Tt),_e.quadraticCurveTo(Ve,Rt,Ve+Tt,Rt),_e.closePath()}else _e.rect(Ve,Rt,ct,st);_e.fill(),zt>0&&_e.stroke(),_r&&(_e.textBaseline="middle",_e.textAlign="center",_e.fillStyle=Je,_e.fillText(Wt,Ve+ct/2,Rt+st/2))}:ne,ye=e.enableLabel,ge=ye===void 0?ts.enableLabel:ye,he=e.label,ce=e.labelSkipWidth,Ee=ce===void 0?ts.labelSkipWidth:ce,ze=e.labelSkipHeight,Ye=ze===void 0?ts.labelSkipHeight:ze,vt=e.labelTextColor,tt=e.colorBy,yt=e.colors,De=e.borderRadius,ot=De===void 0?ts.borderRadius:De,He=e.borderWidth,Te=He===void 0?ts.borderWidth:He,qe=e.borderColor,it=e.annotations,Pe=it===void 0?ts.annotations:it,pt=e.legendLabel,mt=e.tooltipLabel,Pt=e.valueFormat,wt=e.isInteractive,bt=wt===void 0?ts.isInteractive:wt,ee=e.tooltip,at=ee===void 0?ts.tooltip:ee,rt=e.onClick,$e=e.onMouseEnter,ft=e.onMouseLeave,Be=e.legends,Er=e.pixelRatio,rr=Er===void 0?ts.pixelRatio:Er,$t=e.canvasRef,Mt=e.enableTotals,Cr=Mt===void 0?ts.enableTotals:Mt,Vr=e.totalsOffset,Le=Vr===void 0?ts.totalsOffset:Vr,ir=W.useRef(null),d=Pi(),j=EM(o,u,n),x=j.margin,h=j.innerWidth,l=j.innerHeight,s=j.outerWidth,a=j.outerHeight,c=lye({indexBy:r,label:he,tooltipLabel:mt,valueFormat:Pt,colors:yt,colorBy:tt,borderColor:qe,labelTextColor:vt,groupMode:f,layout:m,reverse:v,data:t,keys:i,minValue:_,maxValue:$,margin:x,width:h,height:l,padding:O,innerPadding:A,valueScale:T,indexScale:I,enableLabel:ge,labelSkipWidth:Ee,labelSkipHeight:Ye,legends:Be,legendLabel:pt,totalsOffset:Le}),p=c.bars,y=c.barsWithValue,g=c.xScale,w=c.yScale,S=c.getLabel,k=c.getTooltipLabel,E=c.getBorderColor,P=c.getLabelColor,R=c.shouldRenderBarLabel,D=c.legendsWithData,U=c.barTotals,Y=mv(),K=Y.showTooltipFromEvent,V=Y.hideTooltip,Q=svt({annotations:K1e({data:p,annotations:Pe,getPosition:function(_e){return{x:_e.x,y:_e.y}},getDimensions:function(_e){var xe=_e.width,Ue=_e.height;return{width:xe,height:Ue,size:Math.max(xe,Ue)}}})}),ae=W.useMemo(function(){return{borderRadius:ot,borderWidth:Te,isInteractive:bt,isFocusable:!1,labelSkipWidth:Ee,labelSkipHeight:Ye,margin:x,width:o,height:u,innerWidth:h,innerHeight:l,bars:p,legendData:D,enableLabel:ge,xScale:g,yScale:w,tooltip:at,getTooltipLabel:k,onClick:rt,onMouseEnter:$e,onMouseLeave:ft}},[ot,Te,bt,Ee,Ye,x,o,u,h,l,p,D,ge,g,w,at,k,rt,$e,ft]),oe=N3(Pt);W.useEffect(function(){var _e,xe=(_e=ir.current)==null?void 0:_e.getContext("2d");ir.current&&xe&&(ir.current.width=s*rr,ir.current.height=a*rr,xe.scale(rr,rr),xe.fillStyle=d.background,xe.fillRect(0,0,s,a),xe.translate(x.left,x.top),ue.forEach(function(Ue){Ue==="grid"?typeof d.grid.line.strokeWidth=="number"&&d.grid.line.strokeWidth>0&&(xe.lineWidth=d.grid.line.strokeWidth,xe.strokeStyle=d.grid.line.stroke,Z&&W6(xe,{width:h,height:l,scale:g,axis:"x",values:X}),q&&W6(xe,{width:h,height:l,scale:w,axis:"y",values:ie})):Ue==="axes"?B1e(xe,{xScale:g,yScale:w,width:h,height:l,top:N,right:F,bottom:B,left:H,theme:d}):Ue==="bars"?y.forEach(function(Ae){pe(xe,{bar:Ae,borderColor:E(Ae),borderRadius:ot,borderWidth:Te,label:S(Ae.data),labelColor:P(Ae),shouldRenderLabel:R(Ae)})}):Ue==="legends"?D.forEach(function(Ae){var st=Ae[0],ct=Ae[1];iye(xe,ii({},st,{data:ct,containerWidth:h,containerHeight:l,theme:d}))}):Ue==="annotations"?dvt(xe,{annotations:Q,theme:d}):Ue==="totals"&&Cr?function(Ae,st,ct,Ve){Ve===void 0&&(Ve=ts.layout),Ae.fillStyle=ct.text.fill,Ae.font="bold "+ct.labels.text.fontSize+"px "+ct.labels.text.fontFamily,Ae.textBaseline=Ve==="vertical"?"alphabetic":"middle",Ae.textAlign=Ve==="vertical"?"center":"start",st.forEach(function(Rt){Ae.fillText(Rt.formattedValue,Rt.x,Rt.y)})}(xe,U,d,m):typeof Ue=="function"&&Ue(xe,ae)}),xe.save())},[B,H,F,N,y,ot,Te,Q,Z,q,E,S,P,X,ie,f,u,l,h,ae,ue,m,D,x.left,x.top,a,s,rr,pe,g,w,v,R,d,o,U,Cr,oe]);var me=W.useCallback(function(_e){if(p&&ir.current){var xe=Sw(ir.current,_e),Ue=xe[0],Ae=xe[1],st=wC(p,x,Ue,Ae);st!==void 0?(K(W.createElement(at,ii({},st.data,{color:st.color,label:st.label,value:Number(st.data.value)})),_e),_e.type==="mouseenter"&&($e==null||$e(st.data,_e))):V()}},[V,x,$e,p,K,at]),de=W.useCallback(function(_e){if(p&&ir.current){V();var xe=Sw(ir.current,_e),Ue=xe[0],Ae=xe[1],st=wC(p,x,Ue,Ae);st&&(ft==null||ft(st.data,_e))}},[V,x,ft,p]),Me=W.useCallback(function(_e){if(p&&ir.current){var xe=Sw(ir.current,_e),Ue=xe[0],Ae=xe[1],st=wC(p,x,Ue,Ae);st!==void 0&&(rt==null||rt(ii({},st.data,{color:st.color}),_e))}},[x,rt,p]);return L.jsx("canvas",{ref:function(_e){ir.current=_e,$t&&"current"in $t&&($t.current=_e)},width:s*rr,height:a*rr,style:{width:s,height:a,cursor:bt?"auto":"normal"},onMouseEnter:bt?me:void 0,onMouseMove:bt?me:void 0,onMouseLeave:bt?de:void 0,onClick:bt?Me:void 0})},obt=W.forwardRef(function(e,t){var r=e.isInteractive,i=e.renderWrapper,n=e.theme,o=Ev(e,nbt);return L.jsx(IM,{isInteractive:r,renderWrapper:i,theme:n,animate:!1,children:L.jsx(sbt,ii({},o,{canvasRef:t}))})}),sf=function(e){return L.jsx(Bx,{children:function(t){var r=t.width,i=t.height;return L.jsx(ibt,ii({width:r,height:i},e))}})};W.forwardRef(function(e,t){return L.jsx(Bx,{children:function(r){var i=r.width,n=r.height;return L.jsx(obt,ii({width:i,height:n},e,{ref:t}))}})});nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function abt(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_potential",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json(),$=Object.keys(_).map(T=>({species:T,area:_[T].toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Mass (Mg)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}const xb=nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function lbt(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState(null),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get-risk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();o(_)}catch{}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsxs(L.Fragment,{children:[L.jsx(Kt,{variant:"h4",children:"Risks"}),L.jsx(Kt,{variant:"subtitle",children:"Natural Hazards in the Area"}),L.jsx(Os,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:L.jsxs(yr,{spacing:1,container:!0,children:[L.jsxs(yr,{item:!0,xs:12,children:[L.jsxs(xb,{children:[L.jsx(Kt,{variant:"h6",children:"Area Image"}),L.jsx("img",{style:{width:"300px",display:"block",margin:"auto"},src:n.gerrymandering.convexHullImage})]}),L.jsxs(xb,{children:[L.jsx(Kt,{variant:"h6",children:"Firms"}),n.firms.risk.map(f=>L.jsx(yr,{item:!0,xs:12,children:L.jsx(xb,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsxs(yr,{item:!0,xs:4,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Ha"}),L.jsx("span",{children:f.burnedHa})]}),L.jsxs(yr,{item:!0,xs:4,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Burned Percent"}),L.jsx("span",{children:f.burnedPercent})]}),L.jsxs(yr,{item:!0,xs:4,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Years Back"}),L.jsx("span",{children:f.yearsBack})]})]})})}))]})]}),L.jsx(yr,{item:!0,xs:12,children:L.jsxs(xb,{children:[L.jsx(Kt,{variant:"h6",children:"Historical"}),Object.keys(n.historical).map(f=>L.jsx(yr,{item:!0,xs:12,children:L.jsxs(xb,{children:[L.jsx(Kt,{children:f}),L.jsxs(Gt,{direction:"row",spacing:1,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsxs(yr,{item:!0,xs:3,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Events"}),L.jsx("span",{children:n.historical[f].paEvents})]}),L.jsxs(yr,{item:!0,xs:3,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Average Overlap"}),L.jsxs("span",{children:[n.historical[f].paAvgOverlap.toFixed(2)," ha"]})]}),L.jsxs(yr,{item:!0,xs:3,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Past Max Overlap"}),L.jsxs("span",{children:[n.historical[f].paMaxOverlap.toFixed(2)," ha"]})]}),L.jsxs(yr,{item:!0,xs:3,children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Events in 50 km buffer"}),L.jsx("span",{children:n.historical[f].buffer50kmEvents})]})]})]})}))]})})]})})]}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function ubt(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState(null),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get-soil",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();o(_)}catch{}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsxs("div",{style:{height:"550px"},children:[L.jsx(Kt,{variant:"subtitle",children:"Area of each soil type (in hectare)"}),L.jsx("img",{style:{display:"block",margin:"auto",width:"550px"},src:n.image}),L.jsx(sf,{data:n.soilClasses,keys:["areaHa"],indexBy:"name",margin:{top:50,right:130,bottom:50,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#61cdbb"],defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"areaHa"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Soil Type",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})]}):L.jsx(L.Fragment,{children:"No Data Found"})}const cbt=Lh(L.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),hbt=Lh(L.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),mi=nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function dbt(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState(null),[u,f]=W.useState([]),[m,v]=W.useState([]),[_,$]=ia.useState(0),T=m.length,I=()=>{$(N=>N+1)},O=()=>{$(N=>N-1)};W.useEffect(()=>{if(m.length>0){let N=m[_].species,F=Object.keys(N).map(z=>({name:z,species:N[z].species,image:N[z].image,iucn:N[z].iucn}));f(F)}},[m,_]);const A=async N=>{i(!0);let F=N.rings,B=await(await fetch(t+"/open-api/v1/get-bird-biodiversity",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[F]})})).json();o(B);let G=Object.keys(B.taxonomy.Birds).map(H=>({name:H,speciesCount:B.taxonomy.Birds[H].speciesCount,image:B.taxonomy.Birds[H].image,species:B.taxonomy.Birds[H].species,endangeredCount:B.taxonomy.Birds[H].endangeredCount}));v(G),i(!1)};return W.useEffect(()=>{r&&A(r)},[r]),n?L.jsxs(L.Fragment,{children:[L.jsx(Kt,{variant:"h4",children:"Biodiversity"}),L.jsx(Kt,{variant:"subtitle",children:"Details of bird species in the area"}),L.jsx(Os,{sx:{flexGrow:1,marginLeft:"auto",marginRight:"auto",padding:"10px",display:"block",backgroundColor:"white",marginTop:"5px",width:"95%",position:"relative"},children:L.jsxs(yr,{spacing:1,container:!0,children:[L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsx(Kt,{variant:"h6",children:"Endangered Count"})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),L.jsx("span",{children:n.endangeredCount.NOT_EVALUATED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),L.jsx("span",{children:n.endangeredCount.DATA_DEFICIENT})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),L.jsx("span",{children:n.endangeredCount.LEAST_CONCERN})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),L.jsx("span",{children:n.endangeredCount.NEAR_THREATENED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),L.jsx("span",{children:n.endangeredCount.VULNERABLE})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),L.jsx("span",{children:n.endangeredCount.ENDANGERED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),L.jsx("span",{children:n.endangeredCount.CRITICALLY_ENDANGERED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),L.jsx("span",{children:n.endangeredCount.EXTINCT})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),L.jsx("span",{children:n.endangeredCount.EXTINCT_IN_THE_WILD})]})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsx(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:L.jsx(Kt,{variant:"h6",children:"Taxonomy"})})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Total Species"}),L.jsx("span",{children:n.speciesCount})]})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsxs(Os,{sx:{flexGrow:1},children:[L.jsx($n,{square:!0,elevation:0,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:"rgba(0,0,0,0)"},children:L.jsx(Kt,{style:{color:"green",backgroundColor:"rgba(0,0,0,0)"},children:m[_].name})}),L.jsx(Os,{sx:{width:"100%",p:2},children:L.jsxs(yr,{spacing:1,container:!0,children:[L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx(Kt,{variant:"h6",children:"Species Count"}),L.jsx(Kt,{variant:"h6",children:m[_].speciesCount})]})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsx("img",{style:{display:"block",margin:"auto",width:"300px"},src:m[_].image})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Species"}),L.jsx(Gt,{direction:"row",spacing:1,style:{height:"100%"},useFlexGap:!0,flexWrap:"wrap",children:u.map(N=>L.jsxs(L.Fragment,{children:[L.jsxs("span",{children:[N.name," (",N.iucn,")"]}),L.jsx("span",{children:"|"})]}))})]})})}),L.jsx(yr,{item:!0,xs:12,children:L.jsx(mi,{children:L.jsx(Kt,{variant:"h6",children:"Endangered Count"})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Not Evaluated"}),L.jsx("span",{children:m[_].endangeredCount.NOT_EVALUATED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Data Deficient"}),L.jsx("span",{children:m[_].endangeredCount.DATA_DEFICIENT})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Least Concern"}),L.jsx("span",{children:m[_].endangeredCount.LEAST_CONCERN})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Near Threatened"}),L.jsx("span",{children:m[_].endangeredCount.NEAR_THREATENED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Vulnerable"}),L.jsx("span",{children:m[_].endangeredCount.VULNERABLE})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Endangered"}),L.jsx("span",{children:m[_].endangeredCount.ENDANGERED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Critically Endangered"}),L.jsx("span",{children:m[_].endangeredCount.CRITICALLY_ENDANGERED})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct"}),L.jsx("span",{children:m[_].endangeredCount.EXTINCT})]})})}),L.jsx(yr,{item:!0,xs:6,children:L.jsx(mi,{children:L.jsxs(Gt,{direction:"row",spacing:2,style:{height:"100%",justifyContent:"left",alignItems:"flex-start"},children:[L.jsx("span",{style:{color:"rgb(19,135,8)",display:"flex"},children:"Extinct In Wild"}),L.jsx("span",{children:m[_].endangeredCount.EXTINCT_IN_THE_WILD})]})})})]})}),L.jsx(vYe,{variant:"text",steps:T,position:"static",activeStep:_,sx:{bgcolor:"rgba(0,0,0,0)"},nextButton:L.jsxs(iK,{size:"small",onClick:I,disabled:_===T-1,children:["Next",L.jsx(hbt,{})]}),backButton:L.jsxs(iK,{size:"small",onClick:O,disabled:_===0,children:[L.jsx(cbt,{}),"Back"]})})]})})})]})})]}):L.jsx(L.Fragment,{children:"No Data Found"})}var pbt=Ife,fbt=0;function ybt(e){var t=++fbt;return pbt(e)+t}var mbt=ybt;const gbt=an(mbt),$h=11102230246251565e-32,Ss=134217729,vbt=(3+8*$h)*$h;function xC(e,t,r,i,n){let o,u,f,m,v=t[0],_=i[0],$=0,T=0;_>v==_>-v?(o=v,v=t[++$]):(o=_,_=i[++T]);let I=0;if($<e&&T<r)for(_>v==_>-v?(u=v+o,f=o-(u-v),v=t[++$]):(u=_+o,f=o-(u-_),_=i[++T]),o=u,f!==0&&(n[I++]=f);$<e&&T<r;)_>v==_>-v?(u=o+v,m=u-o,f=o-(u-m)+(v-m),v=t[++$]):(u=o+_,m=u-o,f=o-(u-m)+(_-m),_=i[++T]),o=u,f!==0&&(n[I++]=f);for(;$<e;)u=o+v,m=u-o,f=o-(u-m)+(v-m),v=t[++$],o=u,f!==0&&(n[I++]=f);for(;T<r;)u=o+_,m=u-o,f=o-(u-m)+(_-m),_=i[++T],o=u,f!==0&&(n[I++]=f);return(o!==0||I===0)&&(n[I++]=o),I}function bbt(e,t){let r=t[0];for(let i=1;i<e;i++)r+=t[i];return r}function Vx(e){return new Float64Array(e)}const wbt=(3+16*$h)*$h,xbt=(2+12*$h)*$h,_bt=(9+64*$h)*$h*$h,yy=Vx(4),zZ=Vx(8),BZ=Vx(12),VZ=Vx(16),qs=Vx(4);function Sbt(e,t,r,i,n,o,u){let f,m,v,_,$,T,I,O,A,N,F,z,B,G,H,J,Z,re;const q=e-n,X=r-n,ie=t-o,le=i-o;G=q*le,T=Ss*q,I=T-(T-q),O=q-I,T=Ss*le,A=T-(T-le),N=le-A,H=O*N-(G-I*A-O*A-I*N),J=ie*X,T=Ss*ie,I=T-(T-ie),O=ie-I,T=Ss*X,A=T-(T-X),N=X-A,Z=O*N-(J-I*A-O*A-I*N),F=H-Z,$=H-F,yy[0]=H-(F+$)+($-Z),z=G+F,$=z-G,B=G-(z-$)+(F-$),F=B-J,$=B-F,yy[1]=B-(F+$)+($-J),re=z+F,$=re-z,yy[2]=z-(re-$)+(F-$),yy[3]=re;let ue=bbt(4,yy),ne=xbt*u;if(ue>=ne||-ue>=ne||($=e-q,f=e-(q+$)+($-n),$=r-X,v=r-(X+$)+($-n),$=t-ie,m=t-(ie+$)+($-o),$=i-le,_=i-(le+$)+($-o),f===0&&m===0&&v===0&&_===0)||(ne=_bt*u+vbt*Math.abs(ue),ue+=q*_+le*f-(ie*v+X*m),ue>=ne||-ue>=ne))return ue;G=f*le,T=Ss*f,I=T-(T-f),O=f-I,T=Ss*le,A=T-(T-le),N=le-A,H=O*N-(G-I*A-O*A-I*N),J=m*X,T=Ss*m,I=T-(T-m),O=m-I,T=Ss*X,A=T-(T-X),N=X-A,Z=O*N-(J-I*A-O*A-I*N),F=H-Z,$=H-F,qs[0]=H-(F+$)+($-Z),z=G+F,$=z-G,B=G-(z-$)+(F-$),F=B-J,$=B-F,qs[1]=B-(F+$)+($-J),re=z+F,$=re-z,qs[2]=z-(re-$)+(F-$),qs[3]=re;const pe=xC(4,yy,4,qs,zZ);G=q*_,T=Ss*q,I=T-(T-q),O=q-I,T=Ss*_,A=T-(T-_),N=_-A,H=O*N-(G-I*A-O*A-I*N),J=ie*v,T=Ss*ie,I=T-(T-ie),O=ie-I,T=Ss*v,A=T-(T-v),N=v-A,Z=O*N-(J-I*A-O*A-I*N),F=H-Z,$=H-F,qs[0]=H-(F+$)+($-Z),z=G+F,$=z-G,B=G-(z-$)+(F-$),F=B-J,$=B-F,qs[1]=B-(F+$)+($-J),re=z+F,$=re-z,qs[2]=z-(re-$)+(F-$),qs[3]=re;const ye=xC(pe,zZ,4,qs,BZ);G=f*_,T=Ss*f,I=T-(T-f),O=f-I,T=Ss*_,A=T-(T-_),N=_-A,H=O*N-(G-I*A-O*A-I*N),J=m*v,T=Ss*m,I=T-(T-m),O=m-I,T=Ss*v,A=T-(T-v),N=v-A,Z=O*N-(J-I*A-O*A-I*N),F=H-Z,$=H-F,qs[0]=H-(F+$)+($-Z),z=G+F,$=z-G,B=G-(z-$)+(F-$),F=B-J,$=B-F,qs[1]=B-(F+$)+($-J),re=z+F,$=re-z,qs[2]=z-(re-$)+(F-$),qs[3]=re;const ge=xC(ye,BZ,4,qs,VZ);return VZ[ge-1]}function R5(e,t,r,i,n,o){const u=(t-o)*(r-n),f=(e-n)*(i-o),m=u-f,v=Math.abs(u+f);return Math.abs(m)>=wbt*v?m:-Sbt(e,t,r,i,n,o,v)}const UZ=Math.pow(2,-52),L5=new Uint32Array(512);class K6{static from(t,r=Cbt,i=Ebt){const n=t.length,o=new Float64Array(n*2);for(let u=0;u<n;u++){const f=t[u];o[2*u]=r(f),o[2*u+1]=i(f)}return new K6(o)}constructor(t){const r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*r-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:t,_hullPrev:r,_hullNext:i,_hullTri:n,_hullHash:o}=this,u=t.length>>1;let f=1/0,m=1/0,v=-1/0,_=-1/0;for(let q=0;q<u;q++){const X=t[2*q],ie=t[2*q+1];X<f&&(f=X),ie<m&&(m=ie),X>v&&(v=X),ie>_&&(_=ie),this._ids[q]=q}const $=(f+v)/2,T=(m+_)/2;let I,O,A;for(let q=0,X=1/0;q<u;q++){const ie=_C($,T,t[2*q],t[2*q+1]);ie<X&&(I=q,X=ie)}const N=t[2*I],F=t[2*I+1];for(let q=0,X=1/0;q<u;q++){if(q===I)continue;const ie=_C(N,F,t[2*q],t[2*q+1]);ie<X&&ie>0&&(O=q,X=ie)}let z=t[2*O],B=t[2*O+1],G=1/0;for(let q=0;q<u;q++){if(q===I||q===O)continue;const X=Tbt(N,F,z,B,t[2*q],t[2*q+1]);X<G&&(A=q,G=X)}let H=t[2*A],J=t[2*A+1];if(G===1/0){for(let ie=0;ie<u;ie++)this._dists[ie]=t[2*ie]-t[0]||t[2*ie+1]-t[1];Tm(this._ids,this._dists,0,u-1);const q=new Uint32Array(u);let X=0;for(let ie=0,le=-1/0;ie<u;ie++){const ue=this._ids[ie],ne=this._dists[ue];ne>le&&(q[X++]=ue,le=ne)}this.hull=q.subarray(0,X),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(R5(N,F,z,B,H,J)<0){const q=O,X=z,ie=B;O=A,z=H,B=J,A=q,H=X,J=ie}const Z=kbt(N,F,z,B,H,J);this._cx=Z.x,this._cy=Z.y;for(let q=0;q<u;q++)this._dists[q]=_C(t[2*q],t[2*q+1],Z.x,Z.y);Tm(this._ids,this._dists,0,u-1),this._hullStart=I;let re=3;i[I]=r[A]=O,i[O]=r[I]=A,i[A]=r[O]=I,n[I]=0,n[O]=1,n[A]=2,o.fill(-1),o[this._hashKey(N,F)]=I,o[this._hashKey(z,B)]=O,o[this._hashKey(H,J)]=A,this.trianglesLen=0,this._addTriangle(I,O,A,-1,-1,-1);for(let q=0,X,ie;q<this._ids.length;q++){const le=this._ids[q],ue=t[2*le],ne=t[2*le+1];if(q>0&&Math.abs(ue-X)<=UZ&&Math.abs(ne-ie)<=UZ||(X=ue,ie=ne,le===I||le===O||le===A))continue;let pe=0;for(let Ee=0,ze=this._hashKey(ue,ne);Ee<this._hashSize&&(pe=o[(ze+Ee)%this._hashSize],!(pe!==-1&&pe!==i[pe]));Ee++);pe=r[pe];let ye=pe,ge;for(;ge=i[ye],R5(ue,ne,t[2*ye],t[2*ye+1],t[2*ge],t[2*ge+1])>=0;)if(ye=ge,ye===pe){ye=-1;break}if(ye===-1)continue;let he=this._addTriangle(ye,le,i[ye],-1,-1,n[ye]);n[le]=this._legalize(he+2),n[ye]=he,re++;let ce=i[ye];for(;ge=i[ce],R5(ue,ne,t[2*ce],t[2*ce+1],t[2*ge],t[2*ge+1])<0;)he=this._addTriangle(ce,le,ge,n[le],-1,n[ce]),n[le]=this._legalize(he+2),i[ce]=ce,re--,ce=ge;if(ye===pe)for(;ge=r[ye],R5(ue,ne,t[2*ge],t[2*ge+1],t[2*ye],t[2*ye+1])<0;)he=this._addTriangle(ge,le,ye,-1,n[ye],n[ge]),this._legalize(he+2),n[ge]=he,i[ye]=ye,re--,ye=ge;this._hullStart=r[le]=ye,i[ye]=r[ce]=le,i[le]=ce,o[this._hashKey(ue,ne)]=le,o[this._hashKey(t[2*ye],t[2*ye+1])]=ye}this.hull=new Uint32Array(re);for(let q=0,X=this._hullStart;q<re;q++)this.hull[q]=X,X=i[X];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor($bt(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:r,_halfedges:i,coords:n}=this;let o=0,u=0;for(;;){const f=i[t],m=t-t%3;if(u=m+(t+2)%3,f===-1){if(o===0)break;t=L5[--o];continue}const v=f-f%3,_=m+(t+1)%3,$=v+(f+2)%3,T=r[u],I=r[t],O=r[_],A=r[$];if(Mbt(n[2*T],n[2*T+1],n[2*I],n[2*I+1],n[2*O],n[2*O+1],n[2*A],n[2*A+1])){r[t]=A,r[f]=T;const F=i[$];if(F===-1){let B=this._hullStart;do{if(this._hullTri[B]===$){this._hullTri[B]=t;break}B=this._hullPrev[B]}while(B!==this._hullStart)}this._link(t,F),this._link(f,i[u]),this._link(u,$);const z=v+(f+1)%3;o<L5.length&&(L5[o++]=z)}else{if(o===0)break;t=L5[--o]}}return u}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,i,n,o,u){const f=this.trianglesLen;return this._triangles[f]=t,this._triangles[f+1]=r,this._triangles[f+2]=i,this._link(f,n),this._link(f+1,o),this._link(f+2,u),this.trianglesLen+=3,f}}function $bt(e,t){const r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function _C(e,t,r,i){const n=e-r,o=t-i;return n*n+o*o}function Mbt(e,t,r,i,n,o,u,f){const m=e-u,v=t-f,_=r-u,$=i-f,T=n-u,I=o-f,O=m*m+v*v,A=_*_+$*$,N=T*T+I*I;return m*($*N-A*I)-v*(_*N-A*T)+O*(_*I-$*T)<0}function Tbt(e,t,r,i,n,o){const u=r-e,f=i-t,m=n-e,v=o-t,_=u*u+f*f,$=m*m+v*v,T=.5/(u*v-f*m),I=(v*_-f*$)*T,O=(u*$-m*_)*T;return I*I+O*O}function kbt(e,t,r,i,n,o){const u=r-e,f=i-t,m=n-e,v=o-t,_=u*u+f*f,$=m*m+v*v,T=.5/(u*v-f*m),I=e+(v*_-f*$)*T,O=t+(u*$-m*_)*T;return{x:I,y:O}}function Tm(e,t,r,i){if(i-r<=20)for(let n=r+1;n<=i;n++){const o=e[n],u=t[o];let f=n-1;for(;f>=r&&t[e[f]]>u;)e[f+1]=e[f--];e[f+1]=o}else{const n=r+i>>1;let o=r+1,u=i;_b(e,n,o),t[e[r]]>t[e[i]]&&_b(e,r,i),t[e[o]]>t[e[i]]&&_b(e,o,i),t[e[r]]>t[e[o]]&&_b(e,r,o);const f=e[o],m=t[f];for(;;){do o++;while(t[e[o]]<m);do u--;while(t[e[u]]>m);if(u<o)break;_b(e,o,u)}e[r+1]=e[u],e[u]=f,i-o+1>=u-r?(Tm(e,t,o,i),Tm(e,t,r,u-1)):(Tm(e,t,r,u-1),Tm(e,t,o,i))}}function _b(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function Cbt(e){return e[0]}function Ebt(e){return e[1]}const GZ=1e-6;class O0{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,i){t=+t,r=+r,i=+i;const n=t+i,o=r;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${n},${o}`:(Math.abs(this._x1-n)>GZ||Math.abs(this._y1-o)>GZ)&&(this._+="L"+n+","+o),i&&(this._+=`A${i},${i},0,1,1,${t-i},${r}A${i},${i},0,1,1,${this._x1=n},${this._y1=o}`)}rect(t,r,i,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+i}v${+n}h${-i}Z`}value(){return this._||null}}class lR{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}}class Ibt{constructor(t,[r,i,n,o]=[0,0,960,500]){if(!((n=+n)>=(r=+r))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=n,this.xmin=r,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:r,triangles:i},vectors:n}=this;let o,u;const f=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let A=0,N=0,F=i.length,z,B;A<F;A+=3,N+=2){const G=i[A]*2,H=i[A+1]*2,J=i[A+2]*2,Z=t[G],re=t[G+1],q=t[H],X=t[H+1],ie=t[J],le=t[J+1],ue=q-Z,ne=X-re,pe=ie-Z,ye=le-re,ge=(ue*ye-ne*pe)*2;if(Math.abs(ge)<1e-9){if(o===void 0){o=u=0;for(const ce of r)o+=t[ce*2],u+=t[ce*2+1];o/=r.length,u/=r.length}const he=1e9*Math.sign((o-Z)*ye-(u-re)*pe);z=(Z+ie)/2-he*ye,B=(re+le)/2+he*pe}else{const he=1/ge,ce=ue*ue+ne*ne,Ee=pe*pe+ye*ye;z=Z+(ye*ce-ne*Ee)*he,B=re+(ue*Ee-pe*ce)*he}f[N]=z,f[N+1]=B}let m=r[r.length-1],v,_=m*4,$,T=t[2*m],I,O=t[2*m+1];n.fill(0);for(let A=0;A<r.length;++A)m=r[A],v=_,$=T,I=O,_=m*4,T=t[2*m],O=t[2*m+1],n[v+2]=n[_]=I-O,n[v+3]=n[_+1]=T-$}render(t){const r=t==null?t=new O0:void 0,{delaunay:{halfedges:i,inedges:n,hull:o},circumcenters:u,vectors:f}=this;if(o.length<=1)return null;for(let _=0,$=i.length;_<$;++_){const T=i[_];if(T<_)continue;const I=Math.floor(_/3)*2,O=Math.floor(T/3)*2,A=u[I],N=u[I+1],F=u[O],z=u[O+1];this._renderSegment(A,N,F,z,t)}let m,v=o[o.length-1];for(let _=0;_<o.length;++_){m=v,v=o[_];const $=Math.floor(n[v]/3)*2,T=u[$],I=u[$+1],O=m*4,A=this._project(T,I,f[O+2],f[O+3]);A&&this._renderSegment(T,I,A[0],A[1],t)}return r&&r.value()}renderBounds(t){const r=t==null?t=new O0:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){const i=r==null?r=new O0:void 0,n=this._clip(t);if(n===null||!n.length)return;r.moveTo(n[0],n[1]);let o=n.length;for(;n[0]===n[o-2]&&n[1]===n[o-1]&&o>1;)o-=2;for(let u=2;u<o;u+=2)(n[u]!==n[u-2]||n[u+1]!==n[u-1])&&r.lineTo(n[u],n[u+1]);return r.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let r=0,i=t.length/2;r<i;++r){const n=this.cellPolygon(r);n&&(n.index=r,yield n)}}cellPolygon(t){const r=new lR;return this.renderCell(t,r),r.value()}_renderSegment(t,r,i,n,o){let u;const f=this._regioncode(t,r),m=this._regioncode(i,n);f===0&&m===0?(o.moveTo(t,r),o.lineTo(i,n)):(u=this._clipSegment(t,r,i,n,f,m))&&(o.moveTo(u[0],u[1]),o.lineTo(u[2],u[3]))}contains(t,r,i){return r=+r,r!==r||(i=+i,i!==i)?!1:this.delaunay._step(t,r,i)===t}*neighbors(t){const r=this._clip(t);if(r)for(const i of this.delaunay.neighbors(t)){const n=this._clip(i);if(n){e:for(let o=0,u=r.length;o<u;o+=2)for(let f=0,m=n.length;f<m;f+=2)if(r[o]===n[f]&&r[o+1]===n[f+1]&&r[(o+2)%u]===n[(f+m-2)%m]&&r[(o+3)%u]===n[(f+m-1)%m]){yield i;break e}}}}_cell(t){const{circumcenters:r,delaunay:{inedges:i,halfedges:n,triangles:o}}=this,u=i[t];if(u===-1)return null;const f=[];let m=u;do{const v=Math.floor(m/3);if(f.push(r[v*2],r[v*2+1]),m=m%3===2?m-2:m+1,o[m]!==t)break;m=n[m]}while(m!==u&&m!==-1);return f}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(t);if(r===null)return null;const{vectors:i}=this,n=t*4;return this._simplify(i[n]||i[n+1]?this._clipInfinite(t,r,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(t,r))}_clipFinite(t,r){const i=r.length;let n=null,o,u,f=r[i-2],m=r[i-1],v,_=this._regioncode(f,m),$,T=0;for(let I=0;I<i;I+=2)if(o=f,u=m,f=r[I],m=r[I+1],v=_,_=this._regioncode(f,m),v===0&&_===0)$=T,T=0,n?n.push(f,m):n=[f,m];else{let O,A,N,F,z;if(v===0){if((O=this._clipSegment(o,u,f,m,v,_))===null)continue;[A,N,F,z]=O}else{if((O=this._clipSegment(f,m,o,u,_,v))===null)continue;[F,z,A,N]=O,$=T,T=this._edgecode(A,N),$&&T&&this._edge(t,$,T,n,n.length),n?n.push(A,N):n=[A,N]}$=T,T=this._edgecode(F,z),$&&T&&this._edge(t,$,T,n,n.length),n?n.push(F,z):n=[F,z]}if(n)$=T,T=this._edgecode(n[0],n[1]),$&&T&&this._edge(t,$,T,n,n.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(t,r,i,n,o,u){const f=o<u;for(f&&([t,r,i,n,o,u]=[i,n,t,r,u,o]);;){if(o===0&&u===0)return f?[i,n,t,r]:[t,r,i,n];if(o&u)return null;let m,v,_=o||u;_&8?(m=t+(i-t)*(this.ymax-r)/(n-r),v=this.ymax):_&4?(m=t+(i-t)*(this.ymin-r)/(n-r),v=this.ymin):_&2?(v=r+(n-r)*(this.xmax-t)/(i-t),m=this.xmax):(v=r+(n-r)*(this.xmin-t)/(i-t),m=this.xmin),o?(t=m,r=v,o=this._regioncode(t,r)):(i=m,n=v,u=this._regioncode(i,n))}}_clipInfinite(t,r,i,n,o,u){let f=Array.from(r),m;if((m=this._project(f[0],f[1],i,n))&&f.unshift(m[0],m[1]),(m=this._project(f[f.length-2],f[f.length-1],o,u))&&f.push(m[0],m[1]),f=this._clipFinite(t,f))for(let v=0,_=f.length,$,T=this._edgecode(f[_-2],f[_-1]);v<_;v+=2)$=T,T=this._edgecode(f[v],f[v+1]),$&&T&&(v=this._edge(t,$,T,f,v),_=f.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(t,r,i,n,o){for(;r!==i;){let u,f;switch(r){case 5:r=4;continue;case 4:r=6,u=this.xmax,f=this.ymin;break;case 6:r=2;continue;case 2:r=10,u=this.xmax,f=this.ymax;break;case 10:r=8;continue;case 8:r=9,u=this.xmin,f=this.ymax;break;case 9:r=1;continue;case 1:r=5,u=this.xmin,f=this.ymin;break}(n[o]!==u||n[o+1]!==f)&&this.contains(t,u,f)&&(n.splice(o,0,u,f),o+=2)}return o}_project(t,r,i,n){let o=1/0,u,f,m;if(n<0){if(r<=this.ymin)return null;(u=(this.ymin-r)/n)<o&&(m=this.ymin,f=t+(o=u)*i)}else if(n>0){if(r>=this.ymax)return null;(u=(this.ymax-r)/n)<o&&(m=this.ymax,f=t+(o=u)*i)}if(i>0){if(t>=this.xmax)return null;(u=(this.xmax-t)/i)<o&&(f=this.xmax,m=r+(o=u)*n)}else if(i<0){if(t<=this.xmin)return null;(u=(this.xmin-t)/i)<o&&(f=this.xmin,m=r+(o=u)*n)}return[f,m]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let r=0;r<t.length;r+=2){const i=(r+2)%t.length,n=(r+4)%t.length;(t[r]===t[i]&&t[i]===t[n]||t[r+1]===t[i+1]&&t[i+1]===t[n+1])&&(t.splice(i,2),r-=2)}t.length||(t=null)}return t}}const Pbt=2*Math.PI,my=Math.pow;function Obt(e){return e[0]}function Abt(e){return e[1]}function jbt(e){const{triangles:t,coords:r}=e;for(let i=0;i<t.length;i+=3){const n=2*t[i],o=2*t[i+1],u=2*t[i+2];if((r[u]-r[n])*(r[o+1]-r[n+1])-(r[o]-r[n])*(r[u+1]-r[n+1])>1e-10)return!1}return!0}function Rbt(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}class Xz{static from(t,r=Obt,i=Abt,n){return new Xz("length"in t?Lbt(t,r,i,n):Float64Array.from(Nbt(t,r,i,n)))}constructor(t){this._delaunator=new K6(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&jbt(t)){this.collinear=Int32Array.from({length:r.length/2},(T,I)=>I).sort((T,I)=>r[2*T]-r[2*I]||r[2*T+1]-r[2*I+1]);const m=this.collinear[0],v=this.collinear[this.collinear.length-1],_=[r[2*m],r[2*m+1],r[2*v],r[2*v+1]],$=1e-8*Math.hypot(_[3]-_[1],_[2]-_[0]);for(let T=0,I=r.length/2;T<I;++T){const O=Rbt(r[2*T],r[2*T+1],$);r[2*T]=O[0],r[2*T+1]=O[1]}this._delaunator=new K6(r)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,u=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let m=0,v=i.length;m<v;++m){const _=o[m%3===2?m-2:m+1];(i[m]===-1||u[_]===-1)&&(u[_]=m)}for(let m=0,v=n.length;m<v;++m)f[n[m]]=m;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],u[n[0]]=1,n.length===2&&(u[n[1]]=0,this.triangles[1]=n[1],this.triangles[2]=n[1]))}voronoi(t){return new Ibt(this,t)}*neighbors(t){const{inedges:r,hull:i,_hullIndex:n,halfedges:o,triangles:u,collinear:f}=this;if(f){const $=f.indexOf(t);$>0&&(yield f[$-1]),$<f.length-1&&(yield f[$+1]);return}const m=r[t];if(m===-1)return;let v=m,_=-1;do{if(yield _=u[v],v=v%3===2?v-2:v+1,u[v]!==t)return;if(v=o[v],v===-1){const $=i[(n[t]+1)%i.length];$!==_&&(yield $);return}}while(v!==m)}find(t,r,i=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;const n=i;let o;for(;(o=this._step(i,t,r))>=0&&o!==i&&o!==n;)i=o;return o}_step(t,r,i){const{inedges:n,hull:o,_hullIndex:u,halfedges:f,triangles:m,points:v}=this;if(n[t]===-1||!v.length)return(t+1)%(v.length>>1);let _=t,$=my(r-v[t*2],2)+my(i-v[t*2+1],2);const T=n[t];let I=T;do{let O=m[I];const A=my(r-v[O*2],2)+my(i-v[O*2+1],2);if(A<$&&($=A,_=O),I=I%3===2?I-2:I+1,m[I]!==t)break;if(I=f[I],I===-1){if(I=o[(u[t]+1)%o.length],I!==O&&my(r-v[I*2],2)+my(i-v[I*2+1],2)<$)return I;break}}while(I!==T);return _}render(t){const r=t==null?t=new O0:void 0,{points:i,halfedges:n,triangles:o}=this;for(let u=0,f=n.length;u<f;++u){const m=n[u];if(m<u)continue;const v=o[u]*2,_=o[m]*2;t.moveTo(i[v],i[v+1]),t.lineTo(i[_],i[_+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r){r===void 0&&(!t||typeof t.moveTo!="function")&&(r=t,t=null),r=r==null?2:+r;const i=t==null?t=new O0:void 0,{points:n}=this;for(let o=0,u=n.length;o<u;o+=2){const f=n[o],m=n[o+1];t.moveTo(f+r,m),t.arc(f,m,r,0,Pbt)}return i&&i.value()}renderHull(t){const r=t==null?t=new O0:void 0,{hull:i,points:n}=this,o=i[0]*2,u=i.length;t.moveTo(n[o],n[o+1]);for(let f=1;f<u;++f){const m=2*i[f];t.lineTo(n[m],n[m+1])}return t.closePath(),r&&r.value()}hullPolygon(){const t=new lR;return this.renderHull(t),t.value()}renderTriangle(t,r){const i=r==null?r=new O0:void 0,{points:n,triangles:o}=this,u=o[t*=3]*2,f=o[t+1]*2,m=o[t+2]*2;return r.moveTo(n[u],n[u+1]),r.lineTo(n[f],n[f+1]),r.lineTo(n[m],n[m+1]),r.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let r=0,i=t.length/3;r<i;++r)yield this.trianglePolygon(r)}trianglePolygon(t){const r=new lR;return this.renderTriangle(t,r),r.value()}}function Lbt(e,t,r,i){const n=e.length,o=new Float64Array(n*2);for(let u=0;u<n;++u){const f=e[u];o[u*2]=t.call(i,f,u,e),o[u*2+1]=r.call(i,f,u,e)}return o}function*Nbt(e,t,r,i){let n=0;for(const o of e)yield t.call(i,o,n,e),yield r.call(i,o,n,e),++n}var Qz=function(e){return[e.x,e.y]},Ux=u1e,uye="cursor",cye="top",Fbt=function(e){var t=e.points,r=e.getNodePosition,i=r===void 0?Qz:r,n=e.margin,o=n===void 0?Ux:n;return t.map(function(u){var f=i(u),m=f[0],v=f[1];return[m+o.left,v+o.top]})},Dbt=function(e){var t=e.points,r=e.width,i=e.height,n=e.margin,o=n===void 0?Ux:n,u=e.debug,f=Xz.from(t),m=u?f.voronoi([0,0,o.left+r+o.right,o.top+i+o.bottom]):void 0;return{points:t,delaunay:f,voronoi:m}},hye=function(e){var t=e.points,r=e.getNodePosition,i=r===void 0?Qz:r,n=e.width,o=e.height,u=e.margin,f=u===void 0?Ux:u,m=e.debug;return W.useMemo(function(){return Dbt({points:Fbt({points:t,margin:f,getNodePosition:i}),width:n,height:o,margin:f,debug:m})},[t,n,o,f,m])},zbt=function(e){var t=e.elementRef,r=e.nodes,i=e.getNodePosition,n=i===void 0?Qz:i,o=e.delaunay,u=e.setCurrent,f=e.margin,m=f===void 0?Ux:f,v=e.detectionRadius,_=v===void 0?1/0:v,$=e.isInteractive,T=$===void 0||$,I=e.onMouseEnter,O=e.onMouseMove,A=e.onMouseLeave,N=e.onClick,F=e.onTouchStart,z=e.onTouchMove,B=e.onTouchEnd,G=e.enableTouchCrosshair,H=G!==void 0&&G,J=e.tooltip,Z=e.tooltipPosition,re=Z===void 0?uye:Z,q=e.tooltipAnchor,X=q===void 0?cye:q,ie=W.useState(null),le=ie[0],ue=ie[1],ne=W.useRef(null);W.useEffect(function(){ne.current=le},[ne,le]);var pe=W.useCallback(function(He){if(!t.current)return null;var Te=Sw(t.current,He),qe=Te[0],it=Te[1],Pe=o.find(qe,it),pt=Pe!==void 0?r[Pe]:null;if(pt&&_!==1/0){var mt=n(pt),Pt=mt[0],wt=mt[1];oft(qe,it,Pt+m.left,wt+m.top)>_&&(Pe=null,pt=null)}return Pe===null||pt===null?null:[Pe,pt]},[t,o,r,n,m,_]),ye=mv(),ge=ye.showTooltipAt,he=ye.showTooltipFromEvent,ce=ye.hideTooltip,Ee=W.useMemo(function(){if(J)return re==="cursor"?function(He,Te){he(J(He),Te,X)}:function(He){var Te=n(He),qe=Te[0],it=Te[1];ge(J(He),[qe+m.left,it+m.top],X)}},[ge,he,J,re,X,n,m]),ze=W.useCallback(function(He){var Te=pe(He);if(ue(Te),u==null||u(Te?Te[1]:null),Te){var qe=Te[1];Ee==null||Ee(qe,He),I==null||I(Te[1],He)}},[pe,ue,u,Ee,I]),Ye=W.useCallback(function(He){var Te=pe(He);if(ue(Te),Te){var qe=Te[0],it=Te[1];if(u==null||u(it),Ee==null||Ee(it,He),ne.current){var Pe=ne.current,pt=Pe[0],mt=Pe[1];qe!==pt?A==null||A(mt,He):O==null||O(it,He)}else I==null||I(it,He)}else u==null||u(null),ce==null||ce(),ne.current&&(A==null||A(ne.current[1],He))},[pe,ue,ne,I,O,A,Ee,ce]),vt=W.useCallback(function(He){ue(null),u==null||u(null),ce(),A&&ne.current&&A(ne.current[1],He)},[ue,u,ne,ce,A]),tt=W.useCallback(function(He){var Te=pe(He);ue(Te),Te&&(N==null||N(Te[1],He))},[pe,ue,N]),yt=W.useCallback(function(He){var Te=pe(He);H&&(ue(Te),u==null||u(Te?Te[1]:null)),Te&&(F==null||F(Te[1],He))},[pe,ue,u,H,F]),De=W.useCallback(function(He){var Te=pe(He);H&&(ue(Te),u==null||u(Te?Te[1]:null)),Te&&(z==null||z(Te[1],He))},[pe,ue,u,H,z]),ot=W.useCallback(function(He){H&&(ue(null),u==null||u(null)),B&&ne.current&&B(ne.current[1],He)},[H,ue,u,B,ne]);return{current:le,handleMouseEnter:T?ze:void 0,handleMouseMove:T?Ye:void 0,handleMouseLeave:T?vt:void 0,handleClick:T?tt:void 0,handleTouchStart:T?yt:void 0,handleTouchMove:T?De:void 0,handleTouchEnd:T?ot:void 0}},Bbt=function(e){var t=e.nodes,r=e.width,i=e.height,n=e.margin,o=n===void 0?Ux:n,u=e.getNodePosition,f=e.setCurrent,m=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,$=e.onClick,T=e.onTouchStart,I=e.onTouchMove,O=e.onTouchEnd,A=e.enableTouchCrosshair,N=A!==void 0&&A,F=e.detectionRadius,z=F===void 0?1/0:F,B=e.tooltip,G=e.tooltipPosition,H=G===void 0?uye:G,J=e.tooltipAnchor,Z=J===void 0?cye:J,re=e.debug,q=W.useRef(null),X=hye({points:t,getNodePosition:u,width:r,height:i,margin:o,debug:re}),ie=X.delaunay,le=X.voronoi,ue=zbt({elementRef:q,nodes:t,delaunay:ie,margin:o,detectionRadius:z,setCurrent:f,onMouseEnter:m,onMouseMove:v,onMouseLeave:_,onClick:$,onTouchStart:T,onTouchMove:I,onTouchEnd:O,enableTouchCrosshair:N,tooltip:B,tooltipPosition:H,tooltipAnchor:Z}),ne=ue.current,pe=ue.handleMouseEnter,ye=ue.handleMouseMove,ge=ue.handleMouseLeave,he=ue.handleClick,ce=ue.handleTouchStart,Ee=ue.handleTouchMove,ze=ue.handleTouchEnd,Ye=W.useMemo(function(){if(re&&le)return le.render()},[re,le]);return L.jsxs("g",{ref:q,transform:"translate("+-o.left+","+-o.top+")",children:[re&&le&&L.jsxs(L.Fragment,{children:[L.jsx("path",{d:Ye,stroke:"red",strokeWidth:1,opacity:.75}),z<1/0&&L.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:ie.renderPoints(void 0,z)}),ne&&L.jsx("path",{fill:"pink",opacity:.35,d:le.renderCell(ne[0])})]}),L.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+r+o.right,height:o.top+i+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:pe,onMouseMove:ye,onMouseLeave:ge,onTouchStart:ce,onTouchMove:Ee,onTouchEnd:ze,onClick:he})]})},Vbt=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},Ubt=function(e,t,r){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(r,e),e.fillStyle="pink",e.fill(),e.restore()};function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},lo.apply(this,arguments)}var eB=W.memo(function(e){var t=e.point;return L.jsx(ife,{id:L.jsxs("span",{children:["x: ",L.jsx("strong",{children:t.data.xFormatted}),", y:"," ",L.jsx("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})}),dye=W.memo(function(e){var t=e.slice,r=e.axis,i=Pi(),n=r==="x"?"y":"x";return L.jsx(nfe,{rows:t.points.map(function(o){return[L.jsx(rfe,{color:o.serieColor,style:i.tooltip.chip},"chip"),o.serieId,L.jsx("span",{style:i.tooltip.tableCellValue,children:o.data[n+"Formatted"]},"value")]})})}),pye={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:eB,enableSlices:!1,debugSlices:!1,sliceTooltip:dye,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},od=lo({},pye,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});lo({},pye,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Gbt=function(e){var t=e.curve;return W.useMemo(function(){return N0e().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y(function(r){return r.y}).curve(l1e(t))},[t])},qbt=function(e){var t=e.curve,r=e.yScale,i=e.areaBaselineValue;return W.useMemo(function(){return Dct().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y1(function(n){return n.y}).curve(l1e(t)).y0(r(i))},[t,r,i])},Hbt=function(e){var t=e.componentId,r=e.enableSlices,i=e.points,n=e.width,o=e.height;return W.useMemo(function(){if(r===!1)return[];if(r==="x"){var u=new Map;return i.forEach(function(m){m.data.x!==null&&m.data.y!==null&&(u.has(m.x)?u.get(m.x).push(m):u.set(m.x,[m]))}),Array.from(u.entries()).sort(function(m,v){return m[0]-v[0]}).map(function(m,v,_){var $,T,I=m[0],O=m[1],A=_[v-1],N=_[v+1];return $=A?I-(I-A[0])/2:I,T=N?I-$+(N[0]-I)/2:n-$,{id:"slice:"+t+":"+I,x0:$,x:I,y0:0,y:0,width:T,height:o,points:O.reverse()}})}if(r==="y"){var f=new Map;return i.forEach(function(m){m.data.x!==null&&m.data.y!==null&&(f.has(m.y)?f.get(m.y).push(m):f.set(m.y,[m]))}),Array.from(f.entries()).sort(function(m,v){return m[0]-v[0]}).map(function(m,v,_){var $,T,I=m[0],O=m[1],A=_[v-1],N=_[v+1];return $=A?I-(I-A[0])/2:I,T=N?I-$+(N[0]-I)/2:o-$,{id:I,x0:0,x:0,y0:$,y:I,width:n,height:T,points:O.reverse()}})}},[t,r,o,i,n])},Wbt="line",fye=function(e){var t=e.data,r=e.xScale,i=r===void 0?od.xScale:r,n=e.xFormat,o=e.yScale,u=o===void 0?od.yScale:o,f=e.yFormat,m=e.width,v=e.height,_=e.colors,$=_===void 0?od.colors:_,T=e.curve,I=T===void 0?od.curve:T,O=e.areaBaselineValue,A=O===void 0?od.areaBaselineValue:O,N=e.pointColor,F=N===void 0?od.pointColor:N,z=e.pointBorderColor,B=z===void 0?od.pointBorderColor:z,G=e.enableSlices,H=G===void 0?od.enableSlicesTooltip:G,J=W.useState(gbt(Wbt))[0],Z=N3(n),re=N3(f),q=Q1e($,"id"),X=Pi(),ie=Rg(F,X),le=Rg(B,X),ue=W.useState([]),ne=ue[0],pe=ue[1],ye=W.useMemo(function(){return I1t(t.filter(function(De){return ne.indexOf(De.id)===-1}),i,u,m,v)},[t,ne,i,u,m,v]),ge=ye.xScale,he=ye.yScale,ce=ye.series,Ee=W.useMemo(function(){var De=t.map(function(He){return{id:He.id,label:He.id,color:q(He)}}),ot=De.map(function(He){return lo({},ce.find(function(Te){return Te.id===He.id}),{color:He.color})}).filter(function(He){return!!He.id});return{legendData:De.map(function(He){return lo({},He,{hidden:!ot.find(function(Te){return Te.id===He.id})})}).reverse(),series:ot}},[t,ce,q]),ze=Ee.legendData,Ye=Ee.series,vt=W.useCallback(function(De){pe(function(ot){return ot.indexOf(De)>-1?ot.filter(function(He){return He!==De}):[].concat(ot,[De])})},[]),tt=function(De){var ot=De.series,He=De.getPointColor,Te=De.getPointBorderColor,qe=De.formatX,it=De.formatY;return W.useMemo(function(){return ot.reduce(function(Pe,pt){return[].concat(Pe,pt.data.filter(function(mt){return mt.position.x!==null&&mt.position.y!==null}).map(function(mt,Pt){var wt={id:pt.id+"."+Pt,index:Pe.length+Pt,serieId:pt.id,serieColor:pt.color,x:mt.position.x,y:mt.position.y};return wt.color=He(pt),wt.borderColor=Te(wt),wt.data=lo({},mt.data,{xFormatted:qe(mt.data.x),yFormatted:it(mt.data.y)}),wt}))},[])},[ot,He,Te,qe,it])}({series:Ye,getPointColor:ie,getPointBorderColor:le,formatX:Z,formatY:re}),yt=Hbt({componentId:J,enableSlices:H,points:tt,width:m,height:v});return{legendData:ze,toggleSerie:vt,lineGenerator:Gbt({curve:I}),areaGenerator:qbt({curve:I,yScale:he,areaBaselineValue:A}),getColor:q,series:Ye,xScale:ge,yScale:he,slices:yt,points:tt}},Jbt=function(e){var t=e.areaBlendMode,r=e.areaOpacity,i=e.color,n=e.fill,o=e.path,u=Sl(),f=u.animate,m=u.config,v=qz(o),_=vc({color:i,config:m,immediate:!f});return L.jsx(Bi.path,{d:v,fill:n||_.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:t}})},Kbt=W.memo(function(e){var t=e.areaGenerator,r=e.areaOpacity,i=e.areaBlendMode,n=e.lines.slice(0).reverse();return L.jsx("g",{children:n.map(function(o){return L.jsx(Jbt,lo({path:t(o.data.map(function(u){return u.position}))},lo({areaOpacity:r,areaBlendMode:i},o)),o.id)})})}),Ybt=W.memo(function(e){var t=e.lineGenerator,r=e.points,i=e.color,n=e.thickness,o=W.useMemo(function(){return t(r)},[t,r]),u=qz(o);return L.jsx(Bi.path,{d:u,fill:"none",strokeWidth:n,stroke:i})}),Zbt=W.memo(function(e){var t=e.lines,r=e.lineGenerator,i=e.lineWidth;return t.slice(0).reverse().map(function(n){var o=n.id,u=n.data,f=n.color;return L.jsx(Ybt,{id:o,points:u.map(function(m){return m.position}),lineGenerator:r,color:f,thickness:i},o)})}),Xbt=W.memo(function(e){var t=e.slice,r=e.slices,i=e.axis,n=e.debug,o=e.tooltip,u=e.isCurrent,f=e.setCurrent,m=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,$=e.onClick,T=e.onTouchStart,I=e.onTouchMove,O=e.onTouchEnd,A=mv(),N=A.showTooltipFromEvent,F=A.hideTooltip,z=W.useCallback(function(q){N(W.createElement(o,{slice:t,axis:i}),q,"right"),f(t),m&&m(t,q)},[N,o,t,i,f,m]),B=W.useCallback(function(q){N(W.createElement(o,{slice:t,axis:i}),q,"right"),v&&v(t,q)},[N,o,t,i,v]),G=W.useCallback(function(q){F(),f(null),_&&_(t,q)},[F,f,_,t]),H=W.useCallback(function(q){$&&$(t,q)},[t,$]),J=W.useCallback(function(q){N(W.createElement(o,{slice:t,axis:i}),q,"right"),f(t),T&&T(t,q)},[i,T,f,N,t,o]),Z=W.useCallback(function(q){var X=q.touches[0],ie=document.elementFromPoint(X.clientX,X.clientY),le=ie==null?void 0:ie.getAttribute("data-ref");if(le){var ue=r.find(function(ne){return ne.id===le});ue&&(N(W.createElement(o,{slice:ue,axis:i}),q,"right"),f(ue))}I&&I(t,q)},[i,I,f,N,t,r,o]),re=W.useCallback(function(q){F(),f(null),O&&O(t,q)},[F,f,O,t]);return L.jsx("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:n?1:0,strokeOpacity:.75,fill:"red",fillOpacity:u&&n?.35:0,onMouseEnter:z,onMouseMove:B,onMouseLeave:G,onClick:H,onTouchStart:J,onTouchMove:Z,onTouchEnd:re,"data-ref":t.id})}),Qbt=W.memo(function(e){var t=e.slices,r=e.axis,i=e.debug,n=e.height,o=e.tooltip,u=e.current,f=e.setCurrent,m=e.onMouseEnter,v=e.onMouseMove,_=e.onMouseLeave,$=e.onClick,T=e.onTouchStart,I=e.onTouchMove,O=e.onTouchEnd;return t.map(function(A){return L.jsx(Xbt,{slice:A,slices:t,axis:r,debug:i,height:n,tooltip:o,setCurrent:f,isCurrent:u!==null&&u.id===A.id,onMouseEnter:m,onMouseMove:v,onMouseLeave:_,onClick:$,onTouchStart:T,onTouchMove:I,onTouchEnd:O},A.id)})}),e2t=W.memo(function(e){var t=e.points,r=e.symbol,i=e.size,n=e.borderWidth,o=e.enableLabel,u=e.label,f=e.labelYOffset,m=Pi(),v=sft(u),_=t.slice(0).reverse().map(function($){return{id:$.id,x:$.x,y:$.y,datum:$.data,fill:$.color,stroke:$.borderColor,label:o?v($):null}});return L.jsx("g",{children:_.map(function($){return L.jsx(rft,{x:$.x,y:$.y,datum:$.datum,symbol:r,size:i,color:$.fill,borderWidth:n,borderColor:$.stroke,label:$.label,labelYOffset:f,theme:m},$.id)})})}),t2t=W.memo(function(e){var t=e.points,r=e.width,i=e.height,n=e.margin,o=e.setCurrent,u=e.onMouseEnter,f=e.onMouseMove,m=e.onMouseLeave,v=e.onClick,_=e.onTouchStart,$=e.onTouchMove,T=e.onTouchEnd,I=e.tooltip,O=e.debug,A=e.enableTouchCrosshair,N=mv(),F=N.showTooltipAt,z=N.hideTooltip,B=W.useCallback(function(X,ie){F(W.createElement(I,{point:X}),[X.x+n.left,X.y+n.top],"top"),u&&u(X,ie)},[F,I,u,n]),G=W.useCallback(function(X,ie){F(W.createElement(I,{point:X}),[X.x+n.left,X.y+n.top],"top"),f&&f(X,ie)},[F,I,n.left,n.top,f]),H=W.useCallback(function(X,ie){z(),m&&m(X,ie)},[z,m]),J=W.useCallback(function(X,ie){v&&v(X,ie)},[v]),Z=W.useCallback(function(X,ie){F(W.createElement(I,{point:X}),[X.x+n.left,X.y+n.top],"top"),_&&_(X,ie)},[n.left,n.top,_,F,I]),re=W.useCallback(function(X,ie){F(W.createElement(I,{point:X}),[X.x+n.left,X.y+n.top],"top"),$&&$(X,ie)},[n.left,n.top,$,F,I]),q=W.useCallback(function(X,ie){z(),T&&T(X,ie)},[T,z]);return L.jsx(Bbt,{nodes:t,width:r,height:i,setCurrent:o,onMouseEnter:B,onMouseMove:G,onMouseLeave:H,onClick:J,onTouchStart:Z,onTouchMove:re,onTouchEnd:q,enableTouchCrosshair:A,debug:O})}),r2t=S1e(function(e){var t=e.data,r=e.xScale,i=r===void 0?{type:"point"}:r,n=e.xFormat,o=e.yScale,u=o===void 0?{type:"linear",min:0,max:"auto"}:o,f=e.yFormat,m=e.layers,v=m===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:m,_=e.curve,$=_===void 0?"linear":_,T=e.areaBaselineValue,I=T===void 0?0:T,O=e.colors,A=O===void 0?{scheme:"nivo"}:O,N=e.margin,F=e.width,z=e.height,B=e.axisTop,G=e.axisRight,H=e.axisBottom,J=H===void 0?{}:H,Z=e.axisLeft,re=Z===void 0?{}:Z,q=e.enableGridX,X=q===void 0||q,ie=e.enableGridY,le=ie===void 0||ie,ue=e.gridXValues,ne=e.gridYValues,pe=e.lineWidth,ye=pe===void 0?2:pe,ge=e.enableArea,he=ge!==void 0&&ge,ce=e.areaOpacity,Ee=ce===void 0?.2:ce,ze=e.areaBlendMode,Ye=ze===void 0?"normal":ze,vt=e.enablePoints,tt=vt===void 0||vt,yt=e.pointSymbol,De=e.pointSize,ot=De===void 0?6:De,He=e.pointColor,Te=He===void 0?{from:"color"}:He,qe=e.pointBorderWidth,it=qe===void 0?0:qe,Pe=e.pointBorderColor,pt=Pe===void 0?{theme:"background"}:Pe,mt=e.enablePointLabel,Pt=mt!==void 0&&mt,wt=e.pointLabel,bt=wt===void 0?"data.yFormatted":wt,ee=e.pointLabelYOffset,at=e.defs,rt=at===void 0?[]:at,$e=e.fill,ft=$e===void 0?[]:$e,Be=e.markers,Er=e.legends,rr=Er===void 0?[]:Er,$t=e.isInteractive,Mt=$t===void 0||$t,Cr=e.useMesh,Vr=Cr!==void 0&&Cr,Le=e.debugMesh,ir=Le!==void 0&&Le,d=e.onMouseEnter,j=e.onMouseMove,x=e.onMouseLeave,h=e.onClick,l=e.onTouchStart,s=e.onTouchMove,a=e.onTouchEnd,c=e.tooltip,p=c===void 0?eB:c,y=e.enableSlices,g=y!==void 0&&y,w=e.debugSlices,S=w!==void 0&&w,k=e.sliceTooltip,E=k===void 0?dye:k,P=e.enableCrosshair,R=P===void 0||P,D=e.crosshairType,U=D===void 0?"bottom-left":D,Y=e.enableTouchCrosshair,K=Y!==void 0&&Y,V=e.role,Q=V===void 0?"img":V,ae=EM(F,z,N),oe=ae.margin,me=ae.innerWidth,de=ae.innerHeight,Me=ae.outerWidth,_e=ae.outerHeight,xe=fye({data:t,xScale:i,xFormat:n,yScale:u,yFormat:f,width:me,height:de,colors:A,curve:$,areaBaselineValue:I,pointColor:Te,pointBorderColor:pt,enableSlices:g}),Ue=xe.legendData,Ae=xe.toggleSerie,st=xe.lineGenerator,ct=xe.areaGenerator,Ve=xe.series,Rt=xe.xScale,Rr=xe.yScale,xr=xe.slices,zt=xe.points,Wt=Pi(),Je=Rg(Te,Wt),_r=Rg(pt,Wt),Tt=W.useState(null),Mn=Tt[0],Qt=Tt[1],yn=W.useState(null),gr=yn[0],xc=yn[1],yo={grid:L.jsx(z1e,{theme:Wt,width:me,height:de,xScale:X?Rt:null,yScale:le?Rr:null,xValues:ue,yValues:ne},"grid"),markers:L.jsx(_1e,{markers:Be,width:me,height:de,xScale:Rt,yScale:Rr,theme:Wt},"markers"),axes:L.jsx(D1e,{xScale:Rt,yScale:Rr,width:me,height:de,theme:Wt,top:B,right:G,bottom:J,left:re},"axes"),areas:null,lines:L.jsx(Zbt,{lines:Ve,lineGenerator:st,lineWidth:ye},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:rr.map(function(Oi,Iv){return L.jsx(rye,lo({},Oi,{containerWidth:me,containerHeight:de,data:Oi.data||Ue,theme:Wt,toggleSerie:Oi.toggleSerie?Ae:void 0}),"legend."+Iv)})},Gh=T1e(rt,Ve,ft);return he&&(yo.areas=L.jsx(Kbt,{areaGenerator:ct,areaOpacity:Ee,areaBlendMode:Ye,lines:Ve},"areas")),Mt&&g!==!1&&(yo.slices=L.jsx(Qbt,{slices:xr,axis:g,debug:S,height:de,tooltip:E,current:gr,setCurrent:xc,onMouseEnter:d,onMouseMove:j,onMouseLeave:x,onClick:h,onTouchStart:l,onTouchMove:s,onTouchEnd:a},"slices")),tt&&(yo.points=L.jsx(e2t,{points:zt,symbol:yt,size:ot,color:Je,borderWidth:it,borderColor:_r,enableLabel:Pt,label:bt,labelYOffset:ee},"points")),Mt&&R&&(Mn!==null&&(yo.crosshair=L.jsx(Nj,{width:me,height:de,x:Mn.x,y:Mn.y,type:U},"crosshair")),gr!==null&&(yo.crosshair=L.jsx(Nj,{width:me,height:de,x:gr.x,y:gr.y,type:g},"crosshair"))),Mt&&Vr&&g===!1&&(yo.mesh=L.jsx(t2t,{points:zt,width:me,height:de,margin:oe,current:Mn,setCurrent:Qt,onMouseEnter:d,onMouseMove:j,onMouseLeave:x,onClick:h,onTouchStart:l,onTouchMove:s,onTouchEnd:a,tooltip:p,enableTouchCrosshair:K,debug:ir},"mesh")),L.jsx(Jz,{defs:Gh,width:Me,height:_e,margin:oe,role:Q,children:v.map(function(Oi,Iv){return typeof Oi=="function"?L.jsx(W.Fragment,{children:Oi(lo({},e,{innerWidth:me,innerHeight:de,series:Ve,slices:xr,points:zt,xScale:Rt,yScale:Rr,lineGenerator:st,areaGenerator:ct,currentPoint:Mn,setCurrentPoint:Qt,currentSlice:gr,setCurrentSlice:xc}))},Iv):yo[Oi]})})}),tB=function(e){return L.jsx(Bx,{children:function(t){var r=t.width,i=t.height;return L.jsx(r2t,lo({width:r,height:i},e))}})},i2t=S1e(function(e){var t=W.useRef(null),r=e.width,i=e.height,n=e.margin,o=e.pixelRatio,u=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,f=e.data,m=e.xScale,v=m===void 0?{type:"point"}:m,_=e.xFormat,$=e.yScale,T=$===void 0?{type:"linear",min:0,max:"auto"}:$,I=e.yFormat,O=e.curve,A=O===void 0?"linear":O,N=e.layers,F=N===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:N,z=e.colors,B=z===void 0?{scheme:"nivo"}:z,G=e.lineWidth,H=G===void 0?2:G,J=e.enableArea,Z=J!==void 0&&J,re=e.areaBaselineValue,q=re===void 0?0:re,X=e.areaOpacity,ie=X===void 0?.2:X,le=e.enablePoints,ue=le===void 0||le,ne=e.pointSize,pe=ne===void 0?6:ne,ye=e.pointColor,ge=ye===void 0?{from:"color"}:ye,he=e.pointBorderWidth,ce=he===void 0?0:he,Ee=e.pointBorderColor,ze=Ee===void 0?{theme:"background"}:Ee,Ye=e.enableGridX,vt=Ye===void 0||Ye,tt=e.gridXValues,yt=e.enableGridY,De=yt===void 0||yt,ot=e.gridYValues,He=e.axisTop,Te=e.axisRight,qe=e.axisBottom,it=qe===void 0?{}:qe,Pe=e.axisLeft,pt=Pe===void 0?{}:Pe,mt=e.legends,Pt=mt===void 0?[]:mt,wt=e.isInteractive,bt=wt===void 0||wt,ee=e.debugMesh,at=ee!==void 0&&ee,rt=e.onMouseLeave,$e=e.onClick,ft=e.tooltip,Be=ft===void 0?eB:ft,Er=e.canvasRef,rr=EM(r,i,n),$t=rr.margin,Mt=rr.innerWidth,Cr=rr.innerHeight,Vr=rr.outerWidth,Le=rr.outerHeight,ir=Pi(),d=W.useState(null),j=d[0],x=d[1],h=fye({data:f,xScale:v,xFormat:_,yScale:T,yFormat:I,width:Mt,height:Cr,colors:B,curve:A,areaBaselineValue:q,pointColor:ge,pointBorderColor:ze}),l=h.lineGenerator,s=h.areaGenerator,a=h.series,c=h.xScale,p=h.yScale,y=h.points,g=hye({points:y,width:Mt,height:Cr,debug:at}),w=g.delaunay,S=g.voronoi;W.useEffect(function(){Er&&(Er.current=t.current),t.current.width=Vr*u,t.current.height=Le*u;var K=t.current.getContext("2d");K.scale(u,u),K.fillStyle=ir.background,K.fillRect(0,0,Vr,Le),K.translate($t.left,$t.top),F.forEach(function(V){if(typeof V=="function"&&V({ctx:K,innerWidth:Mt,innerHeight:Cr,series:a,points:y,xScale:c,yScale:p,lineWidth:H,lineGenerator:l,areaGenerator:s,currentPoint:j,setCurrentPoint:x}),V==="grid"&&ir.grid.line.strokeWidth>0&&(K.lineWidth=ir.grid.line.strokeWidth,K.strokeStyle=ir.grid.line.stroke,vt&&W6(K,{width:Mt,height:Cr,scale:c,axis:"x",values:tt}),De&&W6(K,{width:Mt,height:Cr,scale:p,axis:"y",values:ot})),V==="axes"&&B1e(K,{xScale:c,yScale:p,width:Mt,height:Cr,top:He,right:Te,bottom:it,left:pt,theme:ir}),V==="areas"&&Z===!0){K.save(),K.globalAlpha=ie,s.context(K);for(var Q=a.length-1;Q>=0;Q--)K.fillStyle=a[Q].color,K.beginPath(),s(a[Q].data.map(function(oe){return oe.position})),K.fill();K.restore()}if(V==="lines"&&(l.context(K),a.forEach(function(oe){K.strokeStyle=oe.color,K.lineWidth=H,K.beginPath(),l(oe.data.map(function(me){return me.position})),K.stroke()})),V==="points"&&ue===!0&&pe>0&&y.forEach(function(oe){K.fillStyle=oe.color,K.beginPath(),K.arc(oe.x,oe.y,pe/2,0,2*Math.PI),K.fill(),ce>0&&(K.strokeStyle=oe.borderColor,K.lineWidth=ce,K.stroke())}),V==="mesh"&&at===!0&&(Vbt(K,S),j&&Ubt(K,S,j.index)),V==="legends"){var ae=a.map(function(oe){return{id:oe.id,label:oe.id,color:oe.color}}).reverse();Pt.forEach(function(oe){iye(K,lo({},oe,{data:oe.data||ae,containerWidth:Mt,containerHeight:Cr,theme:ir}))})}})},[t,Vr,Le,F,ir,l,a,c,p,vt,tt,De,ot,He,Te,it,pt,Pt,y,ue,pe,j]);var k=W.useCallback(function(K){var V=Sw(t.current,K),Q=V[0],ae=V[1];if(!M1e($t.left,$t.top,Mt,Cr,Q,ae))return null;var oe=w.find(Q-$t.left,ae-$t.top);return y[oe]},[t,$t,Mt,Cr,w]),E=mv(),P=E.showTooltipFromEvent,R=E.hideTooltip,D=W.useCallback(function(K){var V=k(K);x(V),V?P(W.createElement(Be,{point:V}),K):R()},[k,x,P,R,Be]),U=W.useCallback(function(K){R(),x(null),j&&rt&&rt(j,K)},[R,x,rt]),Y=W.useCallback(function(K){if($e){var V=k(K);V&&$e(V,K)}},[k,$e]);return L.jsx("canvas",{ref:t,width:Vr*u,height:Le*u,style:{width:Vr,height:Le,cursor:bt?"auto":"normal"},onMouseEnter:bt?D:void 0,onMouseMove:bt?D:void 0,onMouseLeave:bt?U:void 0,onClick:bt?Y:void 0})}),n2t=W.forwardRef(function(e,t){return L.jsx(i2t,lo({},e,{canvasRef:t}))});W.forwardRef(function(e,t){return L.jsx(Bx,{children:function(r){var i=r.width,n=r.height;return L.jsx(n2t,lo({width:i,height:n},e,{ref:t}))}})});nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function s2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState(null),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get-forest-loss",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();if(console.log(_),_.groups.length>0){let $=[{id:"Forest Lost",color:"hsl(109, 70%, 50%)",data:_.groups.map(T=>({x:T.year,y:T.sum}))}];o($)}}catch(_){console.log(_)}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"600px"},children:L.jsx(tB,{data:n,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function o2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();console.log(_);let $=Object.keys(_).map(T=>({species:T,density:_[T].toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Density (Mg/ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function a2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_area",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();console.log(_);let $=Object.keys(_).map(T=>({species:T,area:_[T].toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"dots"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function l2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,$=(await(await fetch(t+"/open-api/v1/get_landtype_conversion_esa_image?cache=false",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json()).image;o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{display:"block",margin:"auto"},children:L.jsx("img",{style:{display:"block",margin:"auto",width:"550px"},src:n})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function u2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_potential",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json(),$=Object.keys(_).map(T=>({species:T,area:_[T].total.toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:100},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Mass (Mg)",legendPosition:"middle",legendOffset:-70,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function c2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_conversion_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();console.log(_);let $=Object.keys(_).map(T=>({species:T,density:_[T].toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["density"],indexBy:"species",margin:{top:50,right:130,bottom:100,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"density"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function h2t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_biomass",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json(),$=Object.keys(_.averages).map(T=>({species:T,area:_.averages[T].toFixed(2)}));o($),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n?L.jsx("div",{style:{height:"400px",width:"550px"},children:L.jsx(sf,{data:n,keys:["area"],indexBy:"species",margin:{top:50,right:130,bottom:150,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"area"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Mass (Mg)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},enableLabel:!1,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Nivo bar chart demo",theme:{tooltip:{container:{background:"#ffffff"}},axis:{legend:{text:{fill:"#000000"}}},textColor:"#ffffff"},tooltip:({value:f,color:m})=>L.jsx("div",{style:{backgroundColor:m,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:f})})}):L.jsx(L.Fragment,{children:"No Data Found"})}var yye={},mye={},AM={},gye={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t})(gye);var d2t="Expected a function",qZ=NaN,p2t="[object Symbol]",f2t=/^\s+|\s+$/g,y2t=/^[-+]0x[0-9a-f]+$/i,m2t=/^0b[01]+$/i,g2t=/^0o[0-7]+$/i,v2t=parseInt,b2t=typeof Xd=="object"&&Xd&&Xd.Object===Object&&Xd,w2t=typeof self=="object"&&self&&self.Object===Object&&self,x2t=b2t||w2t||Function("return this")(),_2t=Object.prototype,S2t=_2t.toString,$2t=Math.max,M2t=Math.min,SC=function(){return x2t.Date.now()};function T2t(e,t,r){var i,n,o,u,f,m,v=0,_=!1,$=!1,T=!0;if(typeof e!="function")throw new TypeError(d2t);t=HZ(t)||0,uR(r)&&(_=!!r.leading,$="maxWait"in r,o=$?$2t(HZ(r.maxWait)||0,t):o,T="trailing"in r?!!r.trailing:T);function I(J){var Z=i,re=n;return i=n=void 0,v=J,u=e.apply(re,Z),u}function O(J){return v=J,f=setTimeout(F,t),_?I(J):u}function A(J){var Z=J-m,re=J-v,q=t-Z;return $?M2t(q,o-re):q}function N(J){var Z=J-m,re=J-v;return m===void 0||Z>=t||Z<0||$&&re>=o}function F(){var J=SC();if(N(J))return z(J);f=setTimeout(F,A(J))}function z(J){return f=void 0,T&&i?I(J):(i=n=void 0,u)}function B(){f!==void 0&&clearTimeout(f),v=0,i=m=n=f=void 0}function G(){return f===void 0?u:z(SC())}function H(){var J=SC(),Z=N(J);if(i=arguments,n=this,m=J,Z){if(f===void 0)return O(m);if($)return f=setTimeout(F,t),I(m)}return f===void 0&&(f=setTimeout(F,t)),u}return H.cancel=B,H.flush=G,H}function uR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function k2t(e){return!!e&&typeof e=="object"}function C2t(e){return typeof e=="symbol"||k2t(e)&&S2t.call(e)==p2t}function HZ(e){if(typeof e=="number")return e;if(C2t(e))return qZ;if(uR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(f2t,"");var r=m2t.test(e);return r||g2t.test(e)?v2t(e.slice(2),r?2:8):y2t.test(e)?qZ:+e}var E2t=T2t,vye={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(o=n(o,i(f)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var f in o)t.call(o,f)&&o[f]&&(u=n(u,f));return u}function n(o,u){return u?o?o+" "+u:o+u:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(vye);var jM=vye.exports,ht={},rB={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(W);function r(n){return n&&n.__esModule?n:{default:n}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return t.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return t.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};e.default=i})(rB);Object.defineProperty(ht,"__esModule",{value:!0});ht.checkSpecKeys=ht.checkNavigable=ht.changeSlide=ht.canUseDOM=ht.canGoNext=void 0;ht.clamp=wye;ht.extractObject=void 0;ht.filterSettings=G2t;ht.validSettings=ht.swipeStart=ht.swipeMove=ht.swipeEnd=ht.slidesOnRight=ht.slidesOnLeft=ht.slideHandler=ht.siblingDirection=ht.safePreventDefault=ht.lazyStartIndex=ht.lazySlidesOnRight=ht.lazySlidesOnLeft=ht.lazyEndIndex=ht.keyHandler=ht.initializedState=ht.getWidth=ht.getTrackLeft=ht.getTrackCSS=ht.getTrackAnimateCSS=ht.getTotalSlides=ht.getSwipeDirection=ht.getSlideCount=ht.getRequiredLazySlides=ht.getPreClones=ht.getPostClones=ht.getOnDemandLazySlides=ht.getNavigableIndexes=ht.getHeight=void 0;var I2t=bye(W),P2t=bye(rB);function bye(e){return e&&e.__esModule?e:{default:e}}function V3(e){"@babel/helpers - typeof";return V3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V3(e)}function WZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WZ(Object(r),!0).forEach(function(i){O2t(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WZ(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function O2t(e,t,r){return t=A2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2t(e){var t=j2t(e,"string");return V3(t)=="symbol"?t:String(t)}function j2t(e,t){if(V3(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(V3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wye(e,t,r){return Math.max(t,Math.min(e,r))}var ng=ht.safePreventDefault=function(t){var r=["onTouchStart","onTouchMove","onWheel"];r.includes(t._reactName)||t.preventDefault()},xye=ht.getOnDemandLazySlides=function(t){for(var r=[],i=_ye(t),n=Sye(t),o=i;o<n;o++)t.lazyLoadedList.indexOf(o)<0&&r.push(o);return r};ht.getRequiredLazySlides=function(t){for(var r=[],i=_ye(t),n=Sye(t),o=i;o<n;o++)r.push(o);return r};var _ye=ht.lazyStartIndex=function(t){return t.currentSlide-R2t(t)},Sye=ht.lazyEndIndex=function(t){return t.currentSlide+L2t(t)},R2t=ht.lazySlidesOnLeft=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},L2t=ht.lazySlidesOnRight=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},cR=ht.getWidth=function(t){return t&&t.offsetWidth||0},$ye=ht.getHeight=function(t){return t&&t.offsetHeight||0},Mye=ht.getSwipeDirection=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,n,o,u;return i=t.startX-t.curX,n=t.startY-t.curY,o=Math.atan2(n,i),u=Math.round(o*180/Math.PI),u<0&&(u=360-Math.abs(u)),u<=45&&u>=0||u<=360&&u>=315?"left":u>=135&&u<=225?"right":r===!0?u>=35&&u<=135?"up":"down":"vertical"},Tye=ht.canGoNext=function(t){var r=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(r=!1),r};ht.extractObject=function(t,r){var i={};return r.forEach(function(n){return i[n]=t[n]}),i};ht.initializedState=function(t){var r=I2t.default.Children.count(t.children),i=t.listRef,n=Math.ceil(cR(i)),o=t.trackRef&&t.trackRef.node,u=Math.ceil(cR(o)),f;if(t.vertical)f=n;else{var m=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(m*=n/100),f=Math.ceil((n-m)/t.slidesToShow)}var v=i&&$ye(i.querySelector('[data-index="0"]')),_=v*t.slidesToShow,$=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&($=r-1-t.initialSlide);var T=t.lazyLoadedList||[],I=xye(Fi(Fi({},t),{},{currentSlide:$,lazyLoadedList:T}));T=T.concat(I);var O={slideCount:r,slideWidth:f,listWidth:n,trackWidth:u,currentSlide:$,slideHeight:v,listHeight:_,lazyLoadedList:T};return t.autoplaying===null&&t.autoplay&&(O.autoplaying="playing"),O};ht.slideHandler=function(t){var r=t.waitForAnimate,i=t.animating,n=t.fade,o=t.infinite,u=t.index,f=t.slideCount,m=t.lazyLoad,v=t.currentSlide,_=t.centerMode,$=t.slidesToScroll,T=t.slidesToShow,I=t.useCSS,O=t.lazyLoadedList;if(r&&i)return{};var A=u,N,F,z,B={},G={},H=o?u:wye(u,0,f-1);if(n){if(!o&&(u<0||u>=f))return{};u<0?A=u+f:u>=f&&(A=u-f),m&&O.indexOf(A)<0&&(O=O.concat(A)),B={animating:!0,currentSlide:A,lazyLoadedList:O,targetSlide:A},G={animating:!1,targetSlide:A}}else N=A,A<0?(N=A+f,o?f%$!==0&&(N=f-f%$):N=0):!Tye(t)&&A>v?A=N=v:_&&A>=f?(A=o?f:f-1,N=o?0:f-1):A>=f&&(N=A-f,o?f%$!==0&&(N=0):N=f-T),!o&&A+T>=f&&(N=f-T),F=Z6(Fi(Fi({},t),{},{slideIndex:A})),z=Z6(Fi(Fi({},t),{},{slideIndex:N})),o||(F===z&&(A=N),F=z),m&&(O=O.concat(xye(Fi(Fi({},t),{},{currentSlide:A})))),I?(B={animating:!0,currentSlide:N,trackStyle:kye(Fi(Fi({},t),{},{left:F})),lazyLoadedList:O,targetSlide:H},G={animating:!1,currentSlide:N,trackStyle:Y6(Fi(Fi({},t),{},{left:z})),swipeLeft:null,targetSlide:H}):B={currentSlide:N,trackStyle:Y6(Fi(Fi({},t),{},{left:z})),lazyLoadedList:O,targetSlide:H};return{state:B,nextState:G}};ht.changeSlide=function(t,r){var i,n,o,u,f,m=t.slidesToScroll,v=t.slidesToShow,_=t.slideCount,$=t.currentSlide,T=t.targetSlide,I=t.lazyLoad,O=t.infinite;if(u=_%m!==0,i=u?0:(_-$)%m,r.message==="previous")o=i===0?m:v-i,f=$-o,I&&!O&&(n=$-o,f=n===-1?_-1:n),O||(f=T-m);else if(r.message==="next")o=i===0?m:i,f=$+o,I&&!O&&(f=($+m)%_+i),O||(f=T+m);else if(r.message==="dots")f=r.index*r.slidesToScroll;else if(r.message==="children"){if(f=r.index,O){var A=z2t(Fi(Fi({},t),{},{targetSlide:f}));f>r.currentSlide&&A==="left"?f=f-_:f<r.currentSlide&&A==="right"&&(f=f+_)}}else r.message==="index"&&(f=Number(r.index));return f};ht.keyHandler=function(t,r,i){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!r?"":t.keyCode===37?i?"next":"previous":t.keyCode===39?i?"previous":"next":""};ht.swipeStart=function(t,r,i){return t.target.tagName==="IMG"&&ng(t),!r||!i&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};ht.swipeMove=function(t,r){var i=r.scrolling,n=r.animating,o=r.vertical,u=r.swipeToSlide,f=r.verticalSwiping,m=r.rtl,v=r.currentSlide,_=r.edgeFriction,$=r.edgeDragged,T=r.onEdge,I=r.swiped,O=r.swiping,A=r.slideCount,N=r.slidesToScroll,F=r.infinite,z=r.touchObject,B=r.swipeEvent,G=r.listHeight,H=r.listWidth;if(!i){if(n)return ng(t);o&&u&&f&&ng(t);var J,Z={},re=Z6(r);z.curX=t.touches?t.touches[0].pageX:t.clientX,z.curY=t.touches?t.touches[0].pageY:t.clientY,z.swipeLength=Math.round(Math.sqrt(Math.pow(z.curX-z.startX,2)));var q=Math.round(Math.sqrt(Math.pow(z.curY-z.startY,2)));if(!f&&!O&&q>10)return{scrolling:!0};f&&(z.swipeLength=q);var X=(m?-1:1)*(z.curX>z.startX?1:-1);f&&(X=z.curY>z.startY?1:-1);var ie=Math.ceil(A/N),le=Mye(r.touchObject,f),ue=z.swipeLength;return F||(v===0&&(le==="right"||le==="down")||v+1>=ie&&(le==="left"||le==="up")||!Tye(r)&&(le==="left"||le==="up"))&&(ue=z.swipeLength*_,$===!1&&T&&(T(le),Z.edgeDragged=!0)),!I&&B&&(B(le),Z.swiped=!0),o?J=re+ue*(G/H)*X:m?J=re-ue*X:J=re+ue*X,f&&(J=re+ue*X),Z=Fi(Fi({},Z),{},{touchObject:z,swipeLeft:J,trackStyle:Y6(Fi(Fi({},r),{},{left:J}))}),Math.abs(z.curX-z.startX)<Math.abs(z.curY-z.startY)*.8||z.swipeLength>10&&(Z.swiping=!0,ng(t)),Z}};ht.swipeEnd=function(t,r){var i=r.dragging,n=r.swipe,o=r.touchObject,u=r.listWidth,f=r.touchThreshold,m=r.verticalSwiping,v=r.listHeight,_=r.swipeToSlide,$=r.scrolling,T=r.onSwipe,I=r.targetSlide,O=r.currentSlide,A=r.infinite;if(!i)return n&&ng(t),{};var N=m?v/f:u/f,F=Mye(o,m),z={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if($||!o.swipeLength)return z;if(o.swipeLength>N){ng(t),T&&T(F);var B,G,H=A?O:I;switch(F){case"left":case"up":G=H+KZ(r),B=_?JZ(r,G):G,z.currentDirection=0;break;case"right":case"down":G=H-KZ(r),B=_?JZ(r,G):G,z.currentDirection=1;break;default:B=H}z.triggerSlideHandler=B}else{var J=Z6(r);z.trackStyle=kye(Fi(Fi({},r),{},{left:J}))}return z};var N2t=ht.getNavigableIndexes=function(t){for(var r=t.infinite?t.slideCount*2:t.slideCount,i=t.infinite?t.slidesToShow*-1:0,n=t.infinite?t.slidesToShow*-1:0,o=[];i<r;)o.push(i),i=n+t.slidesToScroll,n+=Math.min(t.slidesToScroll,t.slidesToShow);return o},JZ=ht.checkNavigable=function(t,r){var i=N2t(t),n=0;if(r>i[i.length-1])r=i[i.length-1];else for(var o in i){if(r<i[o]){r=n;break}n=i[o]}return r},KZ=ht.getSlideCount=function(t){var r=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var i,n=t.listRef,o=n.querySelectorAll&&n.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(m){if(t.vertical){if(m.offsetTop+$ye(m)/2>t.swipeLeft*-1)return i=m,!1}else if(m.offsetLeft-r+cR(m)/2>t.swipeLeft*-1)return i=m,!1;return!0}),!i)return 0;var u=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,f=Math.abs(i.dataset.index-u)||1;return f}else return t.slidesToScroll},iB=ht.checkSpecKeys=function(t,r){return r.reduce(function(i,n){return i&&t.hasOwnProperty(n)},!0)?null:console.error("Keys Missing:",t)},Y6=ht.getTrackCSS=function(t){iB(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r,i,n=t.slideCount+2*t.slidesToShow;t.vertical?i=n*t.slideHeight:r=D2t(t)*t.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var u=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",f=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",m=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";o=Fi(Fi({},o),{},{WebkitTransform:u,transform:f,msTransform:m})}else t.vertical?o.top=t.left:o.left=t.left;return t.fade&&(o={opacity:1}),r&&(o.width=r),i&&(o.height=i),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?o.marginTop=t.left+"px":o.marginLeft=t.left+"px"),o},kye=ht.getTrackAnimateCSS=function(t){iB(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var r=Y6(t);return t.useTransform?(r.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,r.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?r.transition="top "+t.speed+"ms "+t.cssEase:r.transition="left "+t.speed+"ms "+t.cssEase,r},Z6=ht.getTrackLeft=function(t){if(t.unslick)return 0;iB(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var r=t.slideIndex,i=t.trackRef,n=t.infinite,o=t.centerMode,u=t.slideCount,f=t.slidesToShow,m=t.slidesToScroll,v=t.slideWidth,_=t.listWidth,$=t.variableWidth,T=t.slideHeight,I=t.fade,O=t.vertical,A=0,N,F,z=0;if(I||t.slideCount===1)return 0;var B=0;if(n?(B=-C9(t),u%m!==0&&r+m>u&&(B=-(r>u?f-(r-u):u%m)),o&&(B+=parseInt(f/2))):(u%m!==0&&r+m>u&&(B=f-u%m),o&&(B=parseInt(f/2))),A=B*v,z=B*T,O?N=r*T*-1+z:N=r*v*-1+A,$===!0){var G,H=i&&i.node;if(G=r+C9(t),F=H&&H.childNodes[G],N=F?F.offsetLeft*-1:0,o===!0){G=n?r+C9(t):r,F=H&&H.children[G],N=0;for(var J=0;J<G;J++)N-=H&&H.children[J]&&H.children[J].offsetWidth;N-=parseInt(t.centerPadding),N+=F&&(_-F.offsetWidth)/2}}return N},C9=ht.getPreClones=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},F2t=ht.getPostClones=function(t){return t.unslick||!t.infinite?0:t.slideCount},D2t=ht.getTotalSlides=function(t){return t.slideCount===1?1:C9(t)+t.slideCount+F2t(t)},z2t=ht.siblingDirection=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+B2t(t)?"left":"right":t.targetSlide<t.currentSlide-V2t(t)?"right":"left"},B2t=ht.slidesOnRight=function(t){var r=t.slidesToShow,i=t.centerMode,n=t.rtl,o=t.centerPadding;if(i){var u=(r-1)/2+1;return parseInt(o)>0&&(u+=1),n&&r%2===0&&(u+=1),u}return n?0:r-1},V2t=ht.slidesOnLeft=function(t){var r=t.slidesToShow,i=t.centerMode,n=t.rtl,o=t.centerPadding;if(i){var u=(r-1)/2+1;return parseInt(o)>0&&(u+=1),!n&&r%2===0&&(u+=1),u}return n?r-1:0};ht.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var U2t=ht.validSettings=Object.keys(P2t.default);function G2t(e){return U2t.reduce(function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t},{})}var RM={};Object.defineProperty(RM,"__esModule",{value:!0});RM.Track=void 0;var Wd=Cye(W),$C=Cye(jM),MC=ht;function Cye(e){return e&&e.__esModule?e:{default:e}}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hR.apply(this,arguments)}function q2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H2t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Iye(i.key),i)}}function W2t(e,t,r){return t&&H2t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dR(e,t)}function dR(e,t){return dR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},dR(e,t)}function K2t(e){var t=Eye();return function(){var i=X6(e),n;if(t){var o=X6(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Y2t(this,n)}}function Y2t(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pR(e)}function pR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eye=function(){return!!e})()}function X6(e){return X6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X6(e)}function YZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YZ(Object(r),!0).forEach(function(i){fR(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YZ(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function fR(e,t,r){return t=Iye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iye(e){var t=Z2t(e,"string");return Lg(t)=="symbol"?t:String(t)}function Z2t(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(Lg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TC=function(t){var r,i,n,o,u;t.rtl?u=t.slideCount-1-t.index:u=t.index,n=u<0||u>=t.slideCount,t.centerMode?(o=Math.floor(t.slidesToShow/2),i=(u-t.currentSlide)%t.slideCount===0,u>t.currentSlide-o-1&&u<=t.currentSlide+o&&(r=!0)):r=t.currentSlide<=u&&u<t.currentSlide+t.slidesToShow;var f;t.targetSlide<0?f=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?f=t.targetSlide-t.slideCount:f=t.targetSlide;var m=u===f;return{"slick-slide":!0,"slick-active":r,"slick-center":i,"slick-cloned":n,"slick-current":m}},X2t=function(t){var r={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(r.width=t.slideWidth),t.fade&&(r.position="relative",t.vertical?r.top=-t.index*parseInt(t.slideHeight):r.left=-t.index*parseInt(t.slideWidth),r.opacity=t.currentSlide===t.index?1:0,r.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(r.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),r},kC=function(t,r){return t.key||r},Q2t=function(t){var r,i=[],n=[],o=[],u=Wd.default.Children.count(t.children),f=(0,MC.lazyStartIndex)(t),m=(0,MC.lazyEndIndex)(t);return Wd.default.Children.forEach(t.children,function(v,_){var $,T={message:"children",index:_,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(_)>=0?$=v:$=Wd.default.createElement("div",null);var I=X2t(go(go({},t),{},{index:_})),O=$.props.className||"",A=TC(go(go({},t),{},{index:_}));if(i.push(Wd.default.cloneElement($,{key:"original"+kC($,_),"data-index":_,className:(0,$C.default)(A,O),tabIndex:"-1","aria-hidden":!A["slick-active"],style:go(go({outline:"none"},$.props.style||{}),I),onClick:function(z){$.props&&$.props.onClick&&$.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(T)}})),t.infinite&&t.fade===!1){var N=u-_;N<=(0,MC.getPreClones)(t)&&(r=-N,r>=f&&($=v),A=TC(go(go({},t),{},{index:r})),n.push(Wd.default.cloneElement($,{key:"precloned"+kC($,r),"data-index":r,tabIndex:"-1",className:(0,$C.default)(A,O),"aria-hidden":!A["slick-active"],style:go(go({},$.props.style||{}),I),onClick:function(z){$.props&&$.props.onClick&&$.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(T)}}))),r=u+_,r<m&&($=v),A=TC(go(go({},t),{},{index:r})),o.push(Wd.default.cloneElement($,{key:"postcloned"+kC($,r),"data-index":r,tabIndex:"-1",className:(0,$C.default)(A,O),"aria-hidden":!A["slick-active"],style:go(go({},$.props.style||{}),I),onClick:function(z){$.props&&$.props.onClick&&$.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(T)}}))}}),t.rtl?n.concat(i,o).reverse():n.concat(i,o)};RM.Track=function(e){J2t(r,e);var t=K2t(r);function r(){var i;q2t(this,r);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return i=t.call.apply(t,[this].concat(o)),fR(pR(i),"node",null),fR(pR(i),"handleRef",function(f){i.node=f}),i}return W2t(r,[{key:"render",value:function(){var n=Q2t(this.props),o=this.props,u=o.onMouseEnter,f=o.onMouseOver,m=o.onMouseLeave,v={onMouseEnter:u,onMouseOver:f,onMouseLeave:m};return Wd.default.createElement("div",hR({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},v),n)}}]),r}(Wd.default.PureComponent);var LM={};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}Object.defineProperty(LM,"__esModule",{value:!0});LM.Dots=void 0;var N5=Pye(W),ewt=Pye(jM),ZZ=ht;function Pye(e){return e&&e.__esModule?e:{default:e}}function XZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function twt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XZ(Object(r),!0).forEach(function(i){rwt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XZ(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function rwt(e,t,r){return t=Oye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nwt(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Oye(i.key),i)}}function swt(e,t,r){return t&&nwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oye(e){var t=owt(e,"string");return Ng(t)=="symbol"?t:String(t)}function owt(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(Ng(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function awt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yR(e,t)}function yR(e,t){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},yR(e,t)}function lwt(e){var t=Aye();return function(){var i=Q6(e),n;if(t){var o=Q6(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return uwt(this,n)}}function uwt(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cwt(e)}function cwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aye=function(){return!!e})()}function Q6(e){return Q6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q6(e)}var hwt=function(t){var r;return t.infinite?r=Math.ceil(t.slideCount/t.slidesToScroll):r=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,r};LM.Dots=function(e){awt(r,e);var t=lwt(r);function r(){return iwt(this,r),t.apply(this,arguments)}return swt(r,[{key:"clickHandler",value:function(n,o){o.preventDefault(),this.props.clickHandler(n)}},{key:"render",value:function(){for(var n=this.props,o=n.onMouseEnter,u=n.onMouseOver,f=n.onMouseLeave,m=n.infinite,v=n.slidesToScroll,_=n.slidesToShow,$=n.slideCount,T=n.currentSlide,I=hwt({slideCount:$,slidesToScroll:v,slidesToShow:_,infinite:m}),O={onMouseEnter:o,onMouseOver:u,onMouseLeave:f},A=[],N=0;N<I;N++){var F=(N+1)*v-1,z=m?F:(0,ZZ.clamp)(F,0,$-1),B=z-(v-1),G=m?B:(0,ZZ.clamp)(B,0,$-1),H=(0,ewt.default)({"slick-active":m?T>=G&&T<=z:T===G}),J={message:"dots",index:N,slidesToScroll:v,currentSlide:T},Z=this.clickHandler.bind(this,J);A=A.concat(N5.default.createElement("li",{key:N,className:H},N5.default.cloneElement(this.props.customPaging(N),{onClick:Z})))}return N5.default.cloneElement(this.props.appendDots(A),twt({className:this.props.dotsClass},O))}}]),r}(N5.default.PureComponent);var Fg={};function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}Object.defineProperty(Fg,"__esModule",{value:!0});Fg.PrevArrow=Fg.NextArrow=void 0;var sg=Rye(W),jye=Rye(jM),dwt=ht;function Rye(e){return e&&e.__esModule?e:{default:e}}function e$(){return e$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},e$.apply(this,arguments)}function QZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function t$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QZ(Object(r),!0).forEach(function(i){pwt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QZ(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function pwt(e,t,r){return t=Fye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fwt(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fye(i.key),i)}}function Nye(e,t,r){return t&&fwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fye(e){var t=ywt(e,"string");return Dg(t)=="symbol"?t:String(t)}function ywt(e,t){if(Dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(Dg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mR(e,t)}function mR(e,t){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},mR(e,t)}function zye(e){var t=Bye();return function(){var i=r$(e),n;if(t){var o=r$(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return mwt(this,n)}}function mwt(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gwt(e)}function gwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bye=function(){return!!e})()}function r$(e){return r$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r$(e)}Fg.PrevArrow=function(e){Dye(r,e);var t=zye(r);function r(){return Lye(this,r),t.apply(this,arguments)}return Nye(r,[{key:"clickHandler",value:function(n,o){o&&o.preventDefault(),this.props.clickHandler(n,o)}},{key:"render",value:function(){var n={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(n["slick-disabled"]=!0,o=null);var u={key:"0","data-role":"none",className:(0,jye.default)(n),style:{display:"block"},onClick:o},f={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},m;return this.props.prevArrow?m=sg.default.cloneElement(this.props.prevArrow,t$(t$({},u),f)):m=sg.default.createElement("button",e$({key:"0",type:"button"},u)," ","Previous"),m}}]),r}(sg.default.PureComponent);Fg.NextArrow=function(e){Dye(r,e);var t=zye(r);function r(){return Lye(this,r),t.apply(this,arguments)}return Nye(r,[{key:"clickHandler",value:function(n,o){o&&o.preventDefault(),this.props.clickHandler(n,o)}},{key:"render",value:function(){var n={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,dwt.canGoNext)(this.props)||(n["slick-disabled"]=!0,o=null);var u={key:"1","data-role":"none",className:(0,jye.default)(n),style:{display:"block"},onClick:o},f={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},m;return this.props.nextArrow?m=sg.default.cloneElement(this.props.nextArrow,t$(t$({},u),f)):m=sg.default.createElement("button",e$({key:"1",type:"button"},u)," ","Next"),m}}]),r}(sg.default.PureComponent);var Vye=function(){if(typeof Map<"u")return Map;function e(t,r){var i=-1;return t.some(function(n,o){return n[0]===r?(i=o,!0):!1}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var i=e(this.__entries__,r),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(r,i){var n=e(this.__entries__,r);~n?this.__entries__[n][1]=i:this.__entries__.push([r,i])},t.prototype.delete=function(r){var i=this.__entries__,n=e(i,r);~n&&i.splice(n,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var n=0,o=this.__entries__;n<o.length;n++){var u=o[n];r.call(i,u[1],u[0])}},t}()}(),gR=typeof window<"u"&&typeof document<"u"&&window.document===document,i$=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vwt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(i$):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),bwt=2;function wwt(e,t){var r=!1,i=!1,n=0;function o(){r&&(r=!1,e()),i&&f()}function u(){vwt(o)}function f(){var m=Date.now();if(r){if(m-n<bwt)return;i=!0}else r=!0,i=!1,setTimeout(u,t);n=m}return f}var xwt=20,_wt=["top","right","bottom","left","width","height","size","weight"],Swt=typeof MutationObserver<"u",$wt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wwt(this.refresh.bind(this),xwt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,i=r.indexOf(t);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!gR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Swt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!gR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,i=r===void 0?"":r,n=_wt.some(function(o){return!!~i.indexOf(o)});n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Uye=function(e,t){for(var r=0,i=Object.keys(t);r<i.length;r++){var n=i[r];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e},zg=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i$},Gye=NM(0,0,0,0);function n$(e){return parseFloat(e)||0}function eX(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(i,n){var o=e["border-"+n+"-width"];return i+n$(o)},0)}function Mwt(e){for(var t=["top","right","bottom","left"],r={},i=0,n=t;i<n.length;i++){var o=n[i],u=e["padding-"+o];r[o]=n$(u)}return r}function Twt(e){var t=e.getBBox();return NM(0,0,t.width,t.height)}function kwt(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Gye;var i=zg(e).getComputedStyle(e),n=Mwt(i),o=n.left+n.right,u=n.top+n.bottom,f=n$(i.width),m=n$(i.height);if(i.boxSizing==="border-box"&&(Math.round(f+o)!==t&&(f-=eX(i,"left","right")+o),Math.round(m+u)!==r&&(m-=eX(i,"top","bottom")+u)),!Ewt(e)){var v=Math.round(f+o)-t,_=Math.round(m+u)-r;Math.abs(v)!==1&&(f-=v),Math.abs(_)!==1&&(m-=_)}return NM(n.left,n.top,f,m)}var Cwt=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof zg(e).SVGGraphicsElement}:function(e){return e instanceof zg(e).SVGElement&&typeof e.getBBox=="function"}}();function Ewt(e){return e===zg(e).document.documentElement}function Iwt(e){return gR?Cwt(e)?Twt(e):kwt(e):Gye}function Pwt(e){var t=e.x,r=e.y,i=e.width,n=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return Uye(u,{x:t,y:r,width:i,height:n,top:r,right:t+i,bottom:n+r,left:t}),u}function NM(e,t,r,i){return{x:e,y:t,width:r,height:i}}var Owt=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=NM(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Iwt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),Awt=function(){function e(t,r){var i=Pwt(r);Uye(this,{target:t,contentRect:i})}return e}(),jwt=function(){function e(t,r,i){if(this.activeObservations_=[],this.observations_=new Vye,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=i}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof zg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Owt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof zg(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new Awt(i.target,i.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),qye=typeof WeakMap<"u"?new WeakMap:new Vye,Hye=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=$wt.getInstance(),i=new jwt(t,r,this);qye.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Hye.prototype[e]=function(){var t;return(t=qye.get(this))[e].apply(t,arguments)}});var Rwt=function(){return typeof i$.ResizeObserver<"u"?i$.ResizeObserver:Hye}();const Lwt=Object.freeze(Object.defineProperty({__proto__:null,default:Rwt},Symbol.toStringTag,{value:"Module"})),Nwt=vX(Lwt);Object.defineProperty(AM,"__esModule",{value:!0});AM.InnerSlider=void 0;var Hs=Gx(W),Fwt=Gx(gye),Dwt=Gx(E2t),zwt=Gx(jM),Gi=ht,Bwt=RM,Vwt=LM,tX=Fg,Uwt=Gx(Nwt);function Gx(e){return e&&e.__esModule?e:{default:e}}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function s$(){return s$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s$.apply(this,arguments)}function Gwt(e,t){if(e==null)return{};var r=qwt(e,t),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function qwt(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function rX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(r),!0).forEach(function(i){Mr(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rX(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Hwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wwt(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jye(i.key),i)}}function Jwt(e,t,r){return t&&Wwt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vR(e,t)}function vR(e,t){return vR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},vR(e,t)}function Ywt(e){var t=Wye();return function(){var i=o$(e),n;if(t){var o=o$(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Zwt(this,n)}}function Zwt(e,t){if(t&&(S1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function $r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wye=function(){return!!e})()}function o$(e){return o$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o$(e)}function Mr(e,t,r){return t=Jye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jye(e){var t=Xwt(e,"string");return S1(t)=="symbol"?t:String(t)}function Xwt(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(S1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}AM.InnerSlider=function(e){Kwt(r,e);var t=Ywt(r);function r(i){var n;Hwt(this,r),n=t.call(this,i),Mr($r(n),"listRefHandler",function(u){return n.list=u}),Mr($r(n),"trackRefHandler",function(u){return n.track=u}),Mr($r(n),"adaptHeight",function(){if(n.props.adaptiveHeight&&n.list){var u=n.list.querySelector('[data-index="'.concat(n.state.currentSlide,'"]'));n.list.style.height=(0,Gi.getHeight)(u)+"px"}}),Mr($r(n),"componentDidMount",function(){if(n.props.onInit&&n.props.onInit(),n.props.lazyLoad){var u=(0,Gi.getOnDemandLazySlides)(Vt(Vt({},n.props),n.state));u.length>0&&(n.setState(function(m){return{lazyLoadedList:m.lazyLoadedList.concat(u)}}),n.props.onLazyLoad&&n.props.onLazyLoad(u))}var f=Vt({listRef:n.list,trackRef:n.track},n.props);n.updateState(f,!0,function(){n.adaptHeight(),n.props.autoplay&&n.autoPlay("update")}),n.props.lazyLoad==="progressive"&&(n.lazyLoadTimer=setInterval(n.progressiveLazyLoad,1e3)),n.ro=new Uwt.default(function(){n.state.animating?(n.onWindowResized(!1),n.callbackTimers.push(setTimeout(function(){return n.onWindowResized()},n.props.speed))):n.onWindowResized()}),n.ro.observe(n.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(m){m.onfocus=n.props.pauseOnFocus?n.onSlideFocus:null,m.onblur=n.props.pauseOnFocus?n.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",n.onWindowResized):window.attachEvent("onresize",n.onWindowResized)}),Mr($r(n),"componentWillUnmount",function(){n.animationEndCallback&&clearTimeout(n.animationEndCallback),n.lazyLoadTimer&&clearInterval(n.lazyLoadTimer),n.callbackTimers.length&&(n.callbackTimers.forEach(function(u){return clearTimeout(u)}),n.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",n.onWindowResized):window.detachEvent("onresize",n.onWindowResized),n.autoplayTimer&&clearInterval(n.autoplayTimer),n.ro.disconnect()}),Mr($r(n),"componentDidUpdate",function(u){if(n.checkImagesLoad(),n.props.onReInit&&n.props.onReInit(),n.props.lazyLoad){var f=(0,Gi.getOnDemandLazySlides)(Vt(Vt({},n.props),n.state));f.length>0&&(n.setState(function(_){return{lazyLoadedList:_.lazyLoadedList.concat(f)}}),n.props.onLazyLoad&&n.props.onLazyLoad(f))}n.adaptHeight();var m=Vt(Vt({listRef:n.list,trackRef:n.track},n.props),n.state),v=n.didPropsChange(u);v&&n.updateState(m,v,function(){n.state.currentSlide>=Hs.default.Children.count(n.props.children)&&n.changeSlide({message:"index",index:Hs.default.Children.count(n.props.children)-n.props.slidesToShow,currentSlide:n.state.currentSlide}),n.props.autoplay?n.autoPlay("update"):n.pause("paused")})}),Mr($r(n),"onWindowResized",function(u){n.debouncedResize&&n.debouncedResize.cancel(),n.debouncedResize=(0,Dwt.default)(function(){return n.resizeWindow(u)},50),n.debouncedResize()}),Mr($r(n),"resizeWindow",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,f=!!(n.track&&n.track.node);if(f){var m=Vt(Vt({listRef:n.list,trackRef:n.track},n.props),n.state);n.updateState(m,u,function(){n.props.autoplay?n.autoPlay("update"):n.pause("paused")}),n.setState({animating:!1}),clearTimeout(n.animationEndCallback),delete n.animationEndCallback}}),Mr($r(n),"updateState",function(u,f,m){var v=(0,Gi.initializedState)(u);u=Vt(Vt(Vt({},u),v),{},{slideIndex:v.currentSlide});var _=(0,Gi.getTrackLeft)(u);u=Vt(Vt({},u),{},{left:_});var $=(0,Gi.getTrackCSS)(u);(f||Hs.default.Children.count(n.props.children)!==Hs.default.Children.count(u.children))&&(v.trackStyle=$),n.setState(v,m)}),Mr($r(n),"ssrInit",function(){if(n.props.variableWidth){var u=0,f=0,m=[],v=(0,Gi.getPreClones)(Vt(Vt(Vt({},n.props),n.state),{},{slideCount:n.props.children.length})),_=(0,Gi.getPostClones)(Vt(Vt(Vt({},n.props),n.state),{},{slideCount:n.props.children.length}));n.props.children.forEach(function(Z){m.push(Z.props.style.width),u+=Z.props.style.width});for(var $=0;$<v;$++)f+=m[m.length-1-$],u+=m[m.length-1-$];for(var T=0;T<_;T++)u+=m[T];for(var I=0;I<n.state.currentSlide;I++)f+=m[I];var O={width:u+"px",left:-f+"px"};if(n.props.centerMode){var A="".concat(m[n.state.currentSlide],"px");O.left="calc(".concat(O.left," + (100% - ").concat(A,") / 2 ) ")}return{trackStyle:O}}var N=Hs.default.Children.count(n.props.children),F=Vt(Vt(Vt({},n.props),n.state),{},{slideCount:N}),z=(0,Gi.getPreClones)(F)+(0,Gi.getPostClones)(F)+N,B=100/n.props.slidesToShow*z,G=100/z,H=-G*((0,Gi.getPreClones)(F)+n.state.currentSlide)*B/100;n.props.centerMode&&(H+=(100-G*B/100)/2);var J={width:B+"%",left:H+"%"};return{slideWidth:G+"%",trackStyle:J}}),Mr($r(n),"checkImagesLoad",function(){var u=n.list&&n.list.querySelectorAll&&n.list.querySelectorAll(".slick-slide img")||[],f=u.length,m=0;Array.prototype.forEach.call(u,function(v){var _=function(){return++m&&m>=f&&n.onWindowResized()};if(!v.onclick)v.onclick=function(){return v.parentNode.focus()};else{var $=v.onclick;v.onclick=function(T){$(T),v.parentNode.focus()}}v.onload||(n.props.lazyLoad?v.onload=function(){n.adaptHeight(),n.callbackTimers.push(setTimeout(n.onWindowResized,n.props.speed))}:(v.onload=_,v.onerror=function(){_(),n.props.onLazyLoadError&&n.props.onLazyLoadError()}))})}),Mr($r(n),"progressiveLazyLoad",function(){for(var u=[],f=Vt(Vt({},n.props),n.state),m=n.state.currentSlide;m<n.state.slideCount+(0,Gi.getPostClones)(f);m++)if(n.state.lazyLoadedList.indexOf(m)<0){u.push(m);break}for(var v=n.state.currentSlide-1;v>=-(0,Gi.getPreClones)(f);v--)if(n.state.lazyLoadedList.indexOf(v)<0){u.push(v);break}u.length>0?(n.setState(function(_){return{lazyLoadedList:_.lazyLoadedList.concat(u)}}),n.props.onLazyLoad&&n.props.onLazyLoad(u)):n.lazyLoadTimer&&(clearInterval(n.lazyLoadTimer),delete n.lazyLoadTimer)}),Mr($r(n),"slideHandler",function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=n.props,v=m.asNavFor,_=m.beforeChange,$=m.onLazyLoad,T=m.speed,I=m.afterChange,O=n.state.currentSlide,A=(0,Gi.slideHandler)(Vt(Vt(Vt({index:u},n.props),n.state),{},{trackRef:n.track,useCSS:n.props.useCSS&&!f})),N=A.state,F=A.nextState;if(N){_&&_(O,N.currentSlide);var z=N.lazyLoadedList.filter(function(B){return n.state.lazyLoadedList.indexOf(B)<0});$&&z.length>0&&$(z),!n.props.waitForAnimate&&n.animationEndCallback&&(clearTimeout(n.animationEndCallback),I&&I(O),delete n.animationEndCallback),n.setState(N,function(){v&&n.asNavForIndex!==u&&(n.asNavForIndex=u,v.innerSlider.slideHandler(u)),F&&(n.animationEndCallback=setTimeout(function(){var B=F.animating,G=Gwt(F,["animating"]);n.setState(G,function(){n.callbackTimers.push(setTimeout(function(){return n.setState({animating:B})},10)),I&&I(N.currentSlide),delete n.animationEndCallback})},T))})}}),Mr($r(n),"changeSlide",function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=Vt(Vt({},n.props),n.state),v=(0,Gi.changeSlide)(m,u);if(!(v!==0&&!v)&&(f===!0?n.slideHandler(v,f):n.slideHandler(v),n.props.autoplay&&n.autoPlay("update"),n.props.focusOnSelect)){var _=n.list.querySelectorAll(".slick-current");_[0]&&_[0].focus()}}),Mr($r(n),"clickHandler",function(u){n.clickable===!1&&(u.stopPropagation(),u.preventDefault()),n.clickable=!0}),Mr($r(n),"keyHandler",function(u){var f=(0,Gi.keyHandler)(u,n.props.accessibility,n.props.rtl);f!==""&&n.changeSlide({message:f})}),Mr($r(n),"selectHandler",function(u){n.changeSlide(u)}),Mr($r(n),"disableBodyScroll",function(){var u=function(m){m=m||window.event,m.preventDefault&&m.preventDefault(),m.returnValue=!1};window.ontouchmove=u}),Mr($r(n),"enableBodyScroll",function(){window.ontouchmove=null}),Mr($r(n),"swipeStart",function(u){n.props.verticalSwiping&&n.disableBodyScroll();var f=(0,Gi.swipeStart)(u,n.props.swipe,n.props.draggable);f!==""&&n.setState(f)}),Mr($r(n),"swipeMove",function(u){var f=(0,Gi.swipeMove)(u,Vt(Vt(Vt({},n.props),n.state),{},{trackRef:n.track,listRef:n.list,slideIndex:n.state.currentSlide}));f&&(f.swiping&&(n.clickable=!1),n.setState(f))}),Mr($r(n),"swipeEnd",function(u){var f=(0,Gi.swipeEnd)(u,Vt(Vt(Vt({},n.props),n.state),{},{trackRef:n.track,listRef:n.list,slideIndex:n.state.currentSlide}));if(f){var m=f.triggerSlideHandler;delete f.triggerSlideHandler,n.setState(f),m!==void 0&&(n.slideHandler(m),n.props.verticalSwiping&&n.enableBodyScroll())}}),Mr($r(n),"touchEnd",function(u){n.swipeEnd(u),n.clickable=!0}),Mr($r(n),"slickPrev",function(){n.callbackTimers.push(setTimeout(function(){return n.changeSlide({message:"previous"})},0))}),Mr($r(n),"slickNext",function(){n.callbackTimers.push(setTimeout(function(){return n.changeSlide({message:"next"})},0))}),Mr($r(n),"slickGoTo",function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u=Number(u),isNaN(u))return"";n.callbackTimers.push(setTimeout(function(){return n.changeSlide({message:"index",index:u,currentSlide:n.state.currentSlide},f)},0))}),Mr($r(n),"play",function(){var u;if(n.props.rtl)u=n.state.currentSlide-n.props.slidesToScroll;else if((0,Gi.canGoNext)(Vt(Vt({},n.props),n.state)))u=n.state.currentSlide+n.props.slidesToScroll;else return!1;n.slideHandler(u)}),Mr($r(n),"autoPlay",function(u){n.autoplayTimer&&clearInterval(n.autoplayTimer);var f=n.state.autoplaying;if(u==="update"){if(f==="hovered"||f==="focused"||f==="paused")return}else if(u==="leave"){if(f==="paused"||f==="focused")return}else if(u==="blur"&&(f==="paused"||f==="hovered"))return;n.autoplayTimer=setInterval(n.play,n.props.autoplaySpeed+50),n.setState({autoplaying:"playing"})}),Mr($r(n),"pause",function(u){n.autoplayTimer&&(clearInterval(n.autoplayTimer),n.autoplayTimer=null);var f=n.state.autoplaying;u==="paused"?n.setState({autoplaying:"paused"}):u==="focused"?(f==="hovered"||f==="playing")&&n.setState({autoplaying:"focused"}):f==="playing"&&n.setState({autoplaying:"hovered"})}),Mr($r(n),"onDotsOver",function(){return n.props.autoplay&&n.pause("hovered")}),Mr($r(n),"onDotsLeave",function(){return n.props.autoplay&&n.state.autoplaying==="hovered"&&n.autoPlay("leave")}),Mr($r(n),"onTrackOver",function(){return n.props.autoplay&&n.pause("hovered")}),Mr($r(n),"onTrackLeave",function(){return n.props.autoplay&&n.state.autoplaying==="hovered"&&n.autoPlay("leave")}),Mr($r(n),"onSlideFocus",function(){return n.props.autoplay&&n.pause("focused")}),Mr($r(n),"onSlideBlur",function(){return n.props.autoplay&&n.state.autoplaying==="focused"&&n.autoPlay("blur")}),Mr($r(n),"render",function(){var u=(0,zwt.default)("slick-slider",n.props.className,{"slick-vertical":n.props.vertical,"slick-initialized":!0}),f=Vt(Vt({},n.props),n.state),m=(0,Gi.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),v=n.props.pauseOnHover;m=Vt(Vt({},m),{},{onMouseEnter:v?n.onTrackOver:null,onMouseLeave:v?n.onTrackLeave:null,onMouseOver:v?n.onTrackOver:null,focusOnSelect:n.props.focusOnSelect&&n.clickable?n.selectHandler:null});var _;if(n.props.dots===!0&&n.state.slideCount>=n.props.slidesToShow){var $=(0,Gi.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),T=n.props.pauseOnDotsHover;$=Vt(Vt({},$),{},{clickHandler:n.changeSlide,onMouseEnter:T?n.onDotsLeave:null,onMouseOver:T?n.onDotsOver:null,onMouseLeave:T?n.onDotsLeave:null}),_=Hs.default.createElement(Vwt.Dots,$)}var I,O,A=(0,Gi.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);A.clickHandler=n.changeSlide,n.props.arrows&&(I=Hs.default.createElement(tX.PrevArrow,A),O=Hs.default.createElement(tX.NextArrow,A));var N=null;n.props.vertical&&(N={height:n.state.listHeight});var F=null;n.props.vertical===!1?n.props.centerMode===!0&&(F={padding:"0px "+n.props.centerPadding}):n.props.centerMode===!0&&(F={padding:n.props.centerPadding+" 0px"});var z=Vt(Vt({},N),F),B=n.props.touchMove,G={className:"slick-list",style:z,onClick:n.clickHandler,onMouseDown:B?n.swipeStart:null,onMouseMove:n.state.dragging&&B?n.swipeMove:null,onMouseUp:B?n.swipeEnd:null,onMouseLeave:n.state.dragging&&B?n.swipeEnd:null,onTouchStart:B?n.swipeStart:null,onTouchMove:n.state.dragging&&B?n.swipeMove:null,onTouchEnd:B?n.touchEnd:null,onTouchCancel:n.state.dragging&&B?n.swipeEnd:null,onKeyDown:n.props.accessibility?n.keyHandler:null},H={className:u,dir:"ltr",style:n.props.style};return n.props.unslick&&(G={className:"slick-list"},H={className:u}),Hs.default.createElement("div",H,n.props.unslick?"":I,Hs.default.createElement("div",s$({ref:n.listRefHandler},G),Hs.default.createElement(Bwt.Track,s$({ref:n.trackRefHandler},m),n.props.children)),n.props.unslick?"":O,n.props.unslick?"":_)}),n.list=null,n.track=null,n.state=Vt(Vt({},Fwt.default),{},{currentSlide:n.props.initialSlide,targetSlide:n.props.initialSlide?n.props.initialSlide:0,slideCount:Hs.default.Children.count(n.props.children)}),n.callbackTimers=[],n.clickable=!0,n.debouncedResize=null;var o=n.ssrInit();return n.state=Vt(Vt({},n.state),o),n}return Jwt(r,[{key:"didPropsChange",value:function(n){for(var o=!1,u=0,f=Object.keys(this.props);u<f.length;u++){var m=f[u];if(!n.hasOwnProperty(m)){o=!0;break}if(!(S1(n[m])==="object"||typeof n[m]=="function"||isNaN(n[m]))&&n[m]!==this.props[m]){o=!0;break}}return o||Hs.default.Children.count(this.props.children)!==Hs.default.Children.count(n.children)}}]),r}(Hs.default.Component);var Qwt=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},e3t=Qwt,t3t=e3t,r3t=function(e){var t=/[height|width]$/;return t.test(e)},iX=function(e){var t="",r=Object.keys(e);return r.forEach(function(i,n){var o=e[i];i=t3t(i),r3t(i)&&typeof o=="number"&&(o=o+"px"),o===!0?t+=i:o===!1?t+="not "+i:t+="("+i+": "+o+")",n<r.length-1&&(t+=" and ")}),t},i3t=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(r,i){t+=iX(r),i<e.length-1&&(t+=", ")}),t):iX(e)},n3t=i3t,CC,nX;function s3t(){if(nX)return CC;nX=1;function e(t){this.options=t,!t.deferSetup&&this.setup()}return e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},CC=e,CC}var EC,sX;function Kye(){if(sX)return EC;sX=1;function e(i,n){var o=0,u=i.length,f;for(o;o<u&&(f=n(i[o],o),f!==!1);o++);}function t(i){return Object.prototype.toString.apply(i)==="[object Array]"}function r(i){return typeof i=="function"}return EC={isFunction:r,isArray:t,each:e},EC}var IC,oX;function o3t(){if(oX)return IC;oX=1;var e=s3t(),t=Kye().each;function r(i,n){this.query=i,this.isUnconditional=n,this.handlers=[],this.mql=window.matchMedia(i);var o=this;this.listener=function(u){o.mql=u.currentTarget||u,o.assess()},this.mql.addListener(this.listener)}return r.prototype={constuctor:r,addHandler:function(i){var n=new e(i);this.handlers.push(n),this.matches()&&n.on()},removeHandler:function(i){var n=this.handlers;t(n,function(o,u){if(o.equals(i))return o.destroy(),!n.splice(u,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";t(this.handlers,function(n){n[i]()})}},IC=r,IC}var PC,aX;function a3t(){if(aX)return PC;aX=1;var e=o3t(),t=Kye(),r=t.each,i=t.isFunction,n=t.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(u,f,m){var v=this.queries,_=m&&this.browserIsIncapable;return v[u]||(v[u]=new e(u,_)),i(f)&&(f={match:f}),n(f)||(f=[f]),r(f,function($){i($)&&($={match:$}),v[u].addHandler($)}),this},unregister:function(u,f){var m=this.queries[u];return m&&(f?m.removeHandler(f):(m.clear(),delete this.queries[u])),this}},PC=o,PC}var OC,lX;function l3t(){if(lX)return OC;lX=1;var e=a3t();return OC=new e,OC}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(W),r=AM,i=u(n3t),n=u(rB),o=ht;function u(q){return q&&q.__esModule?q:{default:q}}function f(q){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},f(q)}function m(){return m=Object.assign?Object.assign.bind():function(q){for(var X=1;X<arguments.length;X++){var ie=arguments[X];for(var le in ie)Object.prototype.hasOwnProperty.call(ie,le)&&(q[le]=ie[le])}return q},m.apply(this,arguments)}function v(q,X){var ie=Object.keys(q);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(q);X&&(le=le.filter(function(ue){return Object.getOwnPropertyDescriptor(q,ue).enumerable})),ie.push.apply(ie,le)}return ie}function _(q){for(var X=1;X<arguments.length;X++){var ie=arguments[X]!=null?arguments[X]:{};X%2?v(Object(ie),!0).forEach(function(le){H(q,le,ie[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ie)):v(Object(ie)).forEach(function(le){Object.defineProperty(q,le,Object.getOwnPropertyDescriptor(ie,le))})}return q}function $(q,X){if(!(q instanceof X))throw new TypeError("Cannot call a class as a function")}function T(q,X){for(var ie=0;ie<X.length;ie++){var le=X[ie];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(q,J(le.key),le)}}function I(q,X,ie){return X&&T(q.prototype,X),Object.defineProperty(q,"prototype",{writable:!1}),q}function O(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(X&&X.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),X&&A(q,X)}function A(q,X){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,ue){return le.__proto__=ue,le},A(q,X)}function N(q){var X=B();return function(){var le=G(q),ue;if(X){var ne=G(this).constructor;ue=Reflect.construct(le,arguments,ne)}else ue=le.apply(this,arguments);return F(this,ue)}}function F(q,X){if(X&&(f(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(q)}function z(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function B(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!q})()}function G(q){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},G(q)}function H(q,X,ie){return X=J(X),X in q?Object.defineProperty(q,X,{value:ie,enumerable:!0,configurable:!0,writable:!0}):q[X]=ie,q}function J(q){var X=Z(q,"string");return f(X)=="symbol"?X:String(X)}function Z(q,X){if(f(q)!="object"||!q)return q;var ie=q[Symbol.toPrimitive];if(ie!==void 0){var le=ie.call(q,X||"default");if(f(le)!="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(q)}var re=(0,o.canUseDOM)()&&l3t();e.default=function(q){O(ie,q);var X=N(ie);function ie(le){var ue;return $(this,ie),ue=X.call(this,le),H(z(ue),"innerSliderRefHandler",function(ne){return ue.innerSlider=ne}),H(z(ue),"slickPrev",function(){return ue.innerSlider.slickPrev()}),H(z(ue),"slickNext",function(){return ue.innerSlider.slickNext()}),H(z(ue),"slickGoTo",function(ne){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ue.innerSlider.slickGoTo(ne,pe)}),H(z(ue),"slickPause",function(){return ue.innerSlider.pause("paused")}),H(z(ue),"slickPlay",function(){return ue.innerSlider.autoPlay("play")}),ue.state={breakpoint:null},ue._responsiveMediaHandlers=[],ue}return I(ie,[{key:"media",value:function(ue,ne){re.register(ue,ne),this._responsiveMediaHandlers.push({query:ue,handler:ne})}},{key:"componentDidMount",value:function(){var ue=this;if(this.props.responsive){var ne=this.props.responsive.map(function(ye){return ye.breakpoint});ne.sort(function(ye,ge){return ye-ge}),ne.forEach(function(ye,ge){var he;ge===0?he=(0,i.default)({minWidth:0,maxWidth:ye}):he=(0,i.default)({minWidth:ne[ge-1]+1,maxWidth:ye}),(0,o.canUseDOM)()&&ue.media(he,function(){ue.setState({breakpoint:ye})})});var pe=(0,i.default)({minWidth:ne.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(pe,function(){ue.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(ue){re.unregister(ue.query,ue.handler)})}},{key:"render",value:function(){var ue=this,ne,pe;this.state.breakpoint?(pe=this.props.responsive.filter(function(yt){return yt.breakpoint===ue.state.breakpoint}),ne=pe[0].settings==="unslick"?"unslick":_(_(_({},n.default),this.props),pe[0].settings)):ne=_(_({},n.default),this.props),ne.centerMode&&(ne.slidesToScroll>1,ne.slidesToScroll=1),ne.fade&&(ne.slidesToShow>1,ne.slidesToScroll>1,ne.slidesToShow=1,ne.slidesToScroll=1);var ye=t.default.Children.toArray(this.props.children);ye=ye.filter(function(yt){return typeof yt=="string"?!!yt.trim():!!yt}),ne.variableWidth&&(ne.rows>1||ne.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),ne.variableWidth=!1);for(var ge=[],he=null,ce=0;ce<ye.length;ce+=ne.rows*ne.slidesPerRow){for(var Ee=[],ze=ce;ze<ce+ne.rows*ne.slidesPerRow;ze+=ne.slidesPerRow){for(var Ye=[],vt=ze;vt<ze+ne.slidesPerRow&&(ne.variableWidth&&ye[vt].props.style&&(he=ye[vt].props.style.width),!(vt>=ye.length));vt+=1)Ye.push(t.default.cloneElement(ye[vt],{key:100*ce+10*ze+vt,tabIndex:-1,style:{width:"".concat(100/ne.slidesPerRow,"%"),display:"inline-block"}}));Ee.push(t.default.createElement("div",{key:10*ce+ze},Ye))}ne.variableWidth?ge.push(t.default.createElement("div",{key:ce,style:{width:he}},Ee)):ge.push(t.default.createElement("div",{key:ce},Ee))}if(ne==="unslick"){var tt="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:tt},ye)}else ge.length<=ne.slidesToShow&&!ne.infinite&&(ne.unslick=!0);return t.default.createElement(r.InnerSlider,m({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(ne)),ge)}}]),ie}(t.default.Component)})(mye);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(mye);function r(i){return i&&i.__esModule?i:{default:i}}e.default=t.default})(yye);const nB=an(yye);function u3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}function c3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}const h3t={dots:!0,fade:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,waitForAnimate:!1,nextArrow:L.jsx(u3t,{}),prevArrow:L.jsx(c3t,{})};function d3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get-forest-loss-timelapse?cache=false",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();if(Object.keys(_).length>0){let $=Object.keys(_).map(T=>({label:T,imgPath:_[T]}));o($)}}catch{}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n.length>0?L.jsxs("div",{className:"slider-container",style:{width:"450px",marginLeft:"50px"},children:[L.jsx(nB,{...h3t,children:n.map(f=>L.jsx("div",{children:L.jsxs("figure",{children:[L.jsx("img",{src:f.imgPath,style:{width:"300px"}}),L.jsxs("figcaption",{children:[f.label," "]})]})}))})," "]}):L.jsx(L.Fragment,{children:"No Data Found"})}function p3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}function f3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}const y3t={dots:!0,fade:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,waitForAnimate:!1,nextArrow:L.jsx(p3t,{}),prevArrow:L.jsx(f3t,{})};function m3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get_landtype_history_historical_images?cache=false",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();if(Object.keys(_).length>0){let $=Object.keys(_).map(T=>({label:T,imgPath:_[T]}));o($)}}catch{}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n.length>0?L.jsxs("div",{className:"slider-container",style:{width:"450px",marginLeft:"50px"},children:[L.jsx(nB,{...y3t,children:n.map(f=>L.jsx("div",{children:L.jsxs("figure",{children:[L.jsx("img",{src:f.imgPath,style:{width:"300px"}}),L.jsxs("figcaption",{children:[f.label," "]})]})}))})," "]}):L.jsx(L.Fragment,{children:"No Data Found"})}function g3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}function v3t(e){const{className:t,style:r,onClick:i}=e;return L.jsx("div",{className:t,style:{...r,display:"block",background:"green"},onClick:i})}const b3t={dots:!0,fade:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,waitForAnimate:!1,nextArrow:L.jsx(g3t,{}),prevArrow:L.jsx(v3t,{})};function w3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,v=await fetch(t+"/open-api/v1/get_landtype_history_delta_images?cache=false",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})});try{let _=await v.json();if(Object.keys(_).length>0){let $=Object.keys(_).map(T=>({label:T.split("_").slice(0,-1).join(" "),imgPath:_[T]}));o($)}}catch{}i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n.length>0?L.jsxs("div",{className:"slider-container",style:{width:"450px",marginLeft:"50px"},children:[L.jsx(nB,{...b3t,children:n.map(f=>L.jsx("div",{children:L.jsxs("figure",{children:[L.jsx("img",{src:f.imgPath,style:{width:"300px"}}),L.jsxs("figcaption",{children:[f.label," "]})]})}))})," "]}):L.jsx(L.Fragment,{children:"No Data Found"})}nt($n)(({theme:e})=>({backgroundColor:(e.palette.mode==="dark","rgb(0,0,0,0)"),...e.typography.body2,padding:e.spacing(1),color:e.palette.text.secondary,backgroundImage:"linear-gradient(45deg, transparent, transparent)"}));function x3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState(null);W.useState([]);const[u,f]=W.useState("10"),m=async(v,_)=>{i(!0);let $=v.rings,T=await fetch(t+"/open-api/v1/get-forest-loss-comparison",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[$]})});try{let I=await T.json();_=="10"?o(I.forestLossYears10PercentCanopy.map(O=>({"Project Area Forest Loss":O.projectAreaForestLossHa,"Buffer 10 km Forest Loss":O.buffer10kmForestLossHa,"Buffer 20 km Forest Loss":O.buffer20kmForestLossHa,year:O.year}))):_=="30"?o(I.forestLossYears30PercentCanopy.map(O=>({"Project Area Forest Loss":O.projectAreaForestLossHa,"Buffer 10 km Forest Loss":O.buffer10kmForestLossHa,"Buffer 20 km Forest Loss":O.buffer20kmForestLossHa,year:O.year}))):_=="60"&&o(I.forestLossYears60PercentCanopy.map(O=>({"Project Area Forest Loss":O.projectAreaForestLossHa,"Buffer 10 km Forest Loss":O.buffer10kmForestLossHa,"Buffer 20 km Forest Loss":O.buffer20kmForestLossHa,year:O.year})))}catch(I){console.log(I),o(null)}i(!1)};return W.useEffect(()=>{r&&m(r,u)},[r,u]),n?L.jsxs(L.Fragment,{children:[L.jsx("div",{style:{height:"500px",width:"550px"},children:L.jsx(sf,{data:n,keys:["Project Area Forest Loss","Buffer 10 km Forest Loss","Buffer 20 km Forest Loss"],indexBy:"year",margin:{top:100,right:20,bottom:60,left:60},padding:.3,colors:{scheme:"nivo"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Forest Loss (ha)",legendPosition:"middle",legendOffset:-50},enableLabel:!1,tooltip:({value:v,color:_})=>L.jsx("div",{style:{backgroundColor:_,padding:"5px 10px",color:"#fff",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.15)"},children:v}),legends:[{anchor:"top",direction:"row",translateY:-90,itemWidth:120,itemHeight:30,itemsSpacing:20,symbolSize:20,symbolShape:"square",itemDirection:"top-to-bottom",dataFrom:"keys",justify:!1}]})}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:u,onChange:v=>{const _=v.target.value;f(_)},children:[L.jsx(Ot,{value:"10",control:L.jsx(Nt,{}),label:"10%"}),L.jsx(Ot,{value:"30",control:L.jsx(Nt,{}),label:"30%"}),L.jsx(Ot,{value:"60",control:L.jsx(Nt,{}),label:"60%"})]})})]}):L.jsx(L.Fragment,{children:"No Data Found"})}function _3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_history",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();const T=Object.keys(_[Object.keys(_)[0]].landtypes).map(I=>({id:I,data:Object.keys(_).map(O=>({x:O,y:_[O].landtypes[I]}))}));console.log(T),o(T),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n.length>0?L.jsx("div",{style:{height:"600px",width:"600px"},children:L.jsx(tB,{data:n,margin:{top:50,right:110,bottom:150,left:60},xScale:{type:"point"},yScale:{type:"linear",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Area (ha)",legendOffset:-40,legendPosition:"middle",truncateTickAt:0},pointSize:5,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0,legends:[{anchor:"bottom",direction:"row",translateY:100,itemWidth:100,itemHeight:30,itemsSpacing:10,symbolSize:20,symbolShape:"square",itemDirection:"top-to-bottom",justify:!0}],areaOpacity:1,areaBaselineValue:0,enableArea:!0})}):L.jsx(L.Fragment,{children:"No Data Found"})}function S3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_history",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();const T=Object.keys(_[Object.keys(_)[0]].landtypes_biomass).map(I=>({id:I,data:Object.keys(_).map(O=>({x:O,y:_[O].landtypes_biomass[I]}))}));console.log(T),o(T),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),n.length>0?L.jsx("div",{style:{height:"600px",width:"600px"},children:L.jsx(tB,{data:n,margin:{top:50,right:110,bottom:150,left:100},xScale:{type:"point"},yScale:{type:"linear",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"",legendOffset:36,legendPosition:"middle",truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Biomass (Mg)",legendOffset:-70,legendPosition:"middle",truncateTickAt:0},pointSize:5,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"data.yFormatted",pointLabelYOffset:-12,enableTouchCrosshair:!0,useMesh:!0,legends:[{anchor:"bottom",direction:"row",translateY:100,translateX:-70,itemWidth:60,itemHeight:30,itemsSpacing:30,symbolSize:20,symbolShape:"square",itemDirection:"bottom-to-top",justify:!1}],areaOpacity:1,areaBaselineValue:0,enableArea:!0})}):L.jsx(L.Fragment,{children:"No Data Found"})}function $3t(){const{token:e,apiUrl:t,aoi:r,setLoading:i}=W.useContext(ln),[n,o]=W.useState([]),u=async f=>{i(!0);let m=f.rings,_=await(await fetch(t+"/open-api/v1/get_landtype_history_trends",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({polygonMatrix:[m]})})).json();o(_),i(!1)};return W.useEffect(()=>{r&&u(r)},[r]),L.jsx(eZe,{component:$n,style:{width:"100%"},children:L.jsxs(BYe,{children:[L.jsx(sZe,{children:L.jsxs(pK,{children:[L.jsx($a,{children:"Land Type From"}),L.jsx($a,{children:"Land Type To"}),L.jsx($a,{children:"Area (ha)"}),L.jsx($a,{children:"Biomass Delta"}),L.jsx($a,{children:"Start Year"}),L.jsx($a,{children:"End Year"})]})}),L.jsx(HYe,{children:n.map((f,m)=>L.jsxs(pK,{children:[L.jsx($a,{children:f.landtype_from}),L.jsx($a,{children:f.landtype_to}),L.jsx($a,{children:f.area_ha}),L.jsx($a,{children:f.biomass_delta}),L.jsx($a,{children:f.start_year}),L.jsx($a,{children:f.end_year})]},m))})]})})}const Dn=nt(Hr)(({theme:e})=>({padding:e.spacing(2),backgroundColor:"#f0f0f0",borderRadius:"12px",border:`1px solid ${e.palette.divider}`,boxShadow:"3px 3px 8px rgba(0, 0, 0, 0.2), -3px -3px 8px rgba(255, 255, 255, 0.8)",transition:"box-shadow 0.3s ease","&:active":{boxShadow:"inset 3px 3px 8px rgba(0, 0, 0, 0.3), inset -3px -3px 8px rgba(255, 255, 255, 0.7)"},width:"100%"})),F5=nt($n)(({theme:e})=>({backgroundColor:"#fff",...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,...e.applyStyles("dark",{backgroundColor:"#1A2027"}),border:"1.5px solid",borderRadius:"5px"}));function M3t(){const{checked:e,area:t,projectPassed:r,setProjectPassed:i}=W.useContext(ln),[n,o]=W.useState({top:!1,left:!1,bottom:!1,right:!1}),[u,f]=W.useState(null),[m,v]=W.useState([]),[_,$]=W.useState([]),[T,I]=W.useState([]),[O,A]=W.useState([]),[N,F]=W.useState(!1),[z,B]=W.useState(!1),[G,H]=W.useState(!1),[J,Z]=W.useState(!1),[re,q]=W.useState(!1),[X,ie]=W.useState(!1),[le,ue]=W.useState(!1),[ne,pe]=W.useState(!1),[ye,ge]=W.useState(!1),[he,ce]=W.useState(!1),[Ee,ze]=W.useState(!1),[Ye,vt]=W.useState(!1),[tt,yt]=W.useState(!1),[De,ot]=W.useState(!1),[He,Te]=W.useState(!1),[qe,it]=W.useState(!1),[Pe,pt]=W.useState(!1),[mt,Pt]=W.useState(!1),wt=(ee,at,rt)=>$e=>{$e.type==="keydown"&&($e.key==="Tab"||$e.key==="Shift")||(o({...n,[ee]:at}),f(rt))},bt=ee=>L.jsx(Os,{sx:{width:600},role:"presentation",children:L.jsxs(So,{style:{padding:"10px",width:"600px"},children:[u=="durable"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Risks?"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:re,onChange:at=>{const rt=at.target.value;q(rt),v(rt==="Yes"?$e=>($e.push("Risks"),$e):$e=>$e.filter(Be=>Be!=="Risks"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(lbt,{})]})},0),u=="beyond"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Bird Biodiversity?"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:X,onChange:at=>{const rt=at.target.value;ie(rt),$(rt==="Yes"?$e=>($e.push("BirdBio"),$e):$e=>$e.filter(Be=>Be!=="BirdBio"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(dbt,{})]})},1),u=="beyond"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Soil?"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:le,onChange:at=>{const rt=at.target.value;ue(rt),$(rt==="Yes"?$e=>($e.push("Soil"),$e):$e=>$e.filter(Be=>Be!=="Soil"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(ubt,{})]})},2),u=="additional"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Forest Loss?"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:ne,onChange:at=>{const rt=at.target.value;pe(rt),A(rt==="Yes"?$e=>($e.push("ForestLost"),$e):$e=>$e.filter(Be=>Be!=="ForestLost"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(s2t,{})]})},3),u=="additional"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Forest Loss Timelapse"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:ye,onChange:at=>{const rt=at.target.value;ge(rt),A(rt==="Yes"?$e=>($e.push("ForestLostTimelapse"),$e):$e=>$e.filter(Be=>Be!=="ForestLostTimelapse"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(d3t,{})]})},4),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"ESA Image"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:Ye,onChange:at=>{const rt=at.target.value;vt(rt),I(rt==="Yes"?$e=>($e.push("ESAImage"),$e):$e=>$e.filter(Be=>Be!=="ESAImage"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(l2t,{})]})},5),u=="conservative"&&L.jsx(Dn,{disablePadding:!0,style:{marginTop:"50px"},children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Historical Images"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:He,onChange:at=>{const rt=at.target.value;Te(rt),I(rt==="Yes"?$e=>($e.push("Historical"),$e):$e=>$e.filter(Be=>Be!=="Historical"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(m3t,{})]})},12),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Biomass Density (Landtype Conversion Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:Pe,onChange:at=>{const rt=at.target.value;pt(rt),I(rt==="Yes"?$e=>($e.push("BiomassDensity"),$e):$e=>$e.filter(Be=>Be!=="BiomassDensity"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(o2t,{})]})},6),u=="conservative"&&L.jsx(Dn,{disablePadding:!0,style:{marginTop:"50px"},children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Total Biomass (Landtype Conversion Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:De,onChange:at=>{const rt=at.target.value;ot(rt),I(rt==="Yes"?$e=>($e.push("TotalBiomass"),$e):$e=>$e.filter(Be=>Be!=="TotalBiomass"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(c2t,{})]})},10),u=="conservative"&&L.jsx(Dn,{disablePadding:!0,style:{marginTop:"50px"},children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Landtype Area (Landtype Conversion Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:tt,onChange:at=>{const rt=at.target.value;yt(rt),I(rt==="Yes"?$e=>($e.push("LandTypeArea"),$e):$e=>$e.filter(Be=>Be!=="LandTypeArea"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(a2t,{})]})},7),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Carbon Potential (Landtype Conversion Model )"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:N,onChange:at=>{const rt=at.target.value;F(rt),I(rt==="Yes"?$e=>($e.push("LandTypeConversionPotential"),$e):$e=>$e.filter(Be=>Be!=="LandTypeConversionPotential"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(abt,{})]})},8),u=="conservative"&&L.jsx(Dn,{disablePadding:!0,style:{marginTop:"50px"},children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Biomass (Landtype History Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:qe,onChange:at=>{const rt=at.target.value;it(rt),I(rt==="Yes"?$e=>($e.push("LandTypeArea2"),$e):$e=>$e.filter(Be=>Be!=="LandTypeArea2"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(h2t,{})]})},13),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Historical Landtypes (Landtype History Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:G,onChange:at=>{const rt=at.target.value;H(rt),I(rt==="Yes"?$e=>($e.push("historicalLandtypes"),$e):$e=>$e.filter(Be=>Be!=="historicalLandtypes"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(_3t,{})]})},15),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Historical Biomass (Landtype History Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:J,onChange:at=>{const rt=at.target.value;Z(rt),I(rt==="Yes"?$e=>($e.push("historicalBiomass"),$e):$e=>$e.filter(Be=>Be!=="historicalBiomass"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(S3t,{})]})},16),u=="conservative"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Carbon Potential (Landtype History Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:z,onChange:at=>{const rt=at.target.value;B(rt),I(rt==="Yes"?$e=>($e.push("LandTypeHistoryPotential"),$e):$e=>$e.filter(Be=>Be!=="LandTypeHistoryPotential"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(u2t,{})]})},9),u=="additional"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Current vs Potential (Landtype History Model)"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:mt,onChange:at=>{const rt=at.target.value;Pt(rt),A(rt==="Yes"?$e=>($e.push("DeltaImage"),$e):$e=>$e.filter(Be=>Be!=="DeltaImage"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(w3t,{})]})},11),u=="additional"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Forest Loss Comparison"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:he,onChange:at=>{const rt=at.target.value;ce(rt),A(rt==="Yes"?$e=>($e.push("ForestLostComparison"),$e):$e=>$e.filter(Be=>Be!=="ForestLostComparison"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx(x3t,{})]})},14),u=="additional"&&L.jsx(Dn,{style:{marginTop:"50px"},disablePadding:!0,children:L.jsxs(Gt,{children:[L.jsx(Ht,{primary:"Carbon Trend"}),L.jsx(In,{component:"fieldset",children:L.jsxs(Pn,{row:!0,value:Ee,onChange:at=>{const rt=at.target.value;ze(rt),A(rt==="Yes"?$e=>($e.push("carbonTrend"),$e):$e=>$e.filter(Be=>Be!=="carbonTrend"))},children:[L.jsx(Ot,{value:"Yes",control:L.jsx(Nt,{}),label:"Yes"}),L.jsx(Ot,{value:"Maybe",control:L.jsx(Nt,{}),label:"Maybe"}),L.jsx(Ot,{value:"No",control:L.jsx(Nt,{}),label:"No"})]})}),L.jsx($3t,{})]})},18)]})});return L.jsxs("div",{style:{display:e?"":"none"},children:[L.jsx(ope,{children:L.jsx(Ot,{control:L.jsx(MKe,{checked:r,onChange:ee=>{i(ee.target.checked)}}),label:"Pass"})}),L.jsxs(Kt,{marginTop:"10px",variant:"body1",align:"justify",children:["Area: ",t," ha"]}),r&&L.jsx(Kt,{marginTop:"10px",variant:"body1",align:"justify",children:"This project has passed KenEco's evaluation, and we believe it is a high-quality project delivering a net additional climate benefit."}),L.jsx(Kt,{marginTop:"10px",color:"grey",variant:"body2",align:"justify",children:"KenEco's forest scientists use remote sensing technology to carefully evaluate every project against a series of quality checks. Click below to dive into each check."}),L.jsxs(Gt,{marginTop:"10px",direction:"row",spacing:2,children:[L.jsxs(F5,{sx:{width:"25%",borderColor:O.length==5?"green":"grey",borderTopWidth:"10px"},children:[L.jsxs(Gt,{direction:"row",spacing:2,children:[L.jsx(Kt,{color:"green",width:"90%",variant:"h6",children:"01 Additional"}),L.jsx($5,{"aria-label":"delete",onClick:wt("right",!0,"additional"),children:L.jsx(O2,{})})]}),L.jsx(Kt,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"Emissions reduction would not have occured without the incentive of carbon credits"}),L.jsxs(Os,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[L.jsx(Kt,{variant:"body2",align:"justify",children:"How we calculate net additional climate benefit"}),L.jsx(Kt,{fontSize:"0.7rem",marginTop:"10px",variant:"body2",align:"justify",children:L.jsxs(So,{sx:{padding:0},children:[L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Baseline Emissions"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Project Emissions"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Leakage Emissions"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Emissions Reductions"})]})]})})]})]}),L.jsxs(F5,{sx:{width:"25%",borderColor:T.length==10?"green":"grey",borderTopWidth:"10px"},children:[L.jsxs(Gt,{direction:"row",spacing:2,children:[L.jsx(Kt,{paddingLeft:0,color:"green",width:"95%",variant:"h6",children:"02 Conservative"}),L.jsx($5,{"aria-label":"delete",onClick:wt("right",!0,"conservative"),children:L.jsx(O2,{})})]}),L.jsx(Kt,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"Emissions redutions were conservatively quantified so that each credit represents at least one metric ton of carbon."}),L.jsxs(Os,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[L.jsx(Kt,{variant:"body2",align:"justify",children:"Baseline claims"}),L.jsx(Kt,{marginTop:"10px",variant:"body2",align:"justify",children:L.jsx(So,{sx:{padding:0},children:L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Baseline soundness"})]})})})]}),L.jsxs(Os,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[L.jsx(Kt,{variant:"body2",align:"justify",children:"Project claims"}),L.jsx(Kt,{marginTop:"10px",variant:"body2",align:"justify",children:L.jsxs(So,{sx:{padding:0},children:[L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Project boundary selection"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Forest cover"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Project emission accounting"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Non-carbon emissions accounting"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Carbon inventory accounting"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Financial additionality"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Legal additionality"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Leakage claims"})]})]})})]})]}),L.jsxs(F5,{sx:{width:"25%",borderColor:m.length==1?"green":"grey",borderTopWidth:"10px"},children:[L.jsxs(Gt,{direction:"row",spacing:2,children:[L.jsx(Kt,{color:"green",width:"90%",variant:"h6",children:"03 Durable"}),L.jsx($5,{"aria-label":"delete",onClick:wt("right",!0,"durable"),children:L.jsx(O2,{})})]}),L.jsx(Kt,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"The climate benefit is long lasting supported by continuous monitoring."}),L.jsxs(Os,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[L.jsx(Kt,{variant:"body2",align:"justify",children:"Project Risks"}),L.jsx(Kt,{marginTop:"10px",variant:"body2",align:"justify",children:L.jsxs(So,{sx:{padding:0},children:[L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Fire risk"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Other natural risk"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Buffer pool"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Forest management"})]})]})})]})]}),L.jsxs(F5,{sx:{width:"25%",borderColor:_.length==2?"green":"grey",borderTopWidth:"10px"},children:[L.jsxs(Gt,{direction:"row",spacing:2,children:[L.jsx(Kt,{color:"green",width:"90%",variant:"h6",children:"04 Beyond Carbon"}),L.jsx($5,{"aria-label":"delete",onClick:wt("right",!0,"beyond"),children:L.jsx(O2,{})})]}),L.jsx(Kt,{color:"grey",fontSize:"0.7rem",variant:"body2",align:"justify",children:"The project activities cause no net harm and delivers benfits beyond carbon."}),L.jsxs(Os,{mt:2,bgcolor:"rgba(58,95,11,0.3)",borderRadius:5,padding:2,children:[L.jsx(Kt,{variant:"body2",align:"justify",children:"Ecological impacts"}),L.jsx(Kt,{marginTop:"10px",variant:"body2",align:"justify",children:L.jsxs(So,{sx:{padding:0},children:[L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Native Species"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Hydrological manipulation"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Regional suitability"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Site suitability"})]}),L.jsxs(Hr,{sx:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},children:[L.jsx(Hi,{sx:{color:"green"}}),L.jsx(Ht,{secondary:"Reforestation practices"})]})]})})]})]})]}),L.jsx("div",{children:["left","right","top","bottom"].map(ee=>L.jsx(W.Fragment,{children:L.jsxs(Fte,{anchor:ee,open:n[ee],onClose:wt(ee,!1,null),sx:{"& .MuiDrawer-paper":{width:600}},children:[L.jsx(rS,{}),bt()]})},ee))})]})}const uX=300;function T3t(){const{viewObj:e,setViewObj:t,token:r,setToken:i,apiUrl:n,clientId:o,clientSecret:u,checked:f,setChecked:m,loading:v}=W.useContext(ln);k1();const _=W.useRef();W.useState(null);const $=T=>{m(T.target.checked)};return W.useEffect(()=>{fetch(n+"/open-api/v1/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({clientId:o,clientSecret:u})}).then(T=>T.json()).then(T=>{i(T.token)})},[]),W.useMemo(()=>{e&&new AZe({container:_.current,view:e,listItemCreatedFunction:function(T){const I=T.item;if(I.layer.title=="Protected Area Polygons"){const O=document.createElement("input");O.type="range",O.min="0",O.max="1",O.step="0.01",O.value=I.layer.opacity,O.addEventListener("input",function(){I.layer.opacity=parseFloat(O.value)});const A=document.createElement("div");A.classList.add("esri-widget"),A.appendChild(document.createTextNode("Opacity: ")),A.appendChild(O),I.panel={content:A,icon:"sliders-horizontal",open:!1}}}})},[e]),r?L.jsxs(Os,{sx:{display:"flex"},children:[L.jsx(Pte,{}),L.jsx($xe,{position:"fixed",sx:{zIndex:T=>T.zIndex.drawer+1},children:L.jsx(rS,{children:L.jsx(Kt,{variant:"h6",noWrap:!0,component:"div",children:"KenEco Pre Feasibility"})})}),L.jsxs(Fte,{variant:"permanent",sx:{width:uX,flexShrink:0,"& .MuiDrawer-paper":{width:uX,boxSizing:"border-box"}},children:[L.jsx(rS,{}),L.jsx(Os,{sx:{overflow:"auto"},children:L.jsxs(Gt,{direction:"column",spacing:1,children:[L.jsx(Wk,{label:"Categories",variant:"filled"}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Geography"}),L.jsx(gf,{children:L.jsx(So,{children:["Elevation"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel2-content",id:"panel2-header",children:"Carbon"}),L.jsx(gf,{children:L.jsx(So,{children:["AGB Stock","SOC Stock","Ground Truth Model"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Forest"}),L.jsx(gf,{children:L.jsx(So,{children:["Forest Loss","ARR/REDD+ Potential"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Soil"}),L.jsx(gf,{children:L.jsx(So,{children:["Soil Class"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Land Cover"}),L.jsx(gf,{children:L.jsx(So,{children:["MODIS","ESA WorldCover","GLCLU","WWF Ecoregions"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Risk"}),L.jsx(gf,{children:L.jsx(So,{children:["Fires","Floods","Droughts","Storms","Landslides","Extreme Temperatures","Volcanic Activity","Mass Movement (dry)"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsxs(mf,{children:[L.jsx(vf,{expandIcon:L.jsx(Nd,{}),"aria-controls":"panel3-content",id:"panel3-header",children:"Biodiversity"}),L.jsx(gf,{children:L.jsx(So,{children:["Birds"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})})]}),L.jsx(o4,{}),L.jsx(Wk,{label:"Map Layers",variant:"filled"}),L.jsx("div",{ref:_}),L.jsx(o4,{}),L.jsx(Wk,{label:"Tools",variant:"filled"}),L.jsx(So,{children:["Carbon Calculator","Ground Truth","Project Details"].map((T,I)=>L.jsx(Hr,{disablePadding:!0,children:L.jsx(Hh,{children:L.jsx(Ht,{primary:T})})},T))})]})})]}),L.jsxs(Os,{component:"main",sx:{flexGrow:1,p:0},children:[L.jsx(rS,{}),L.jsxs(Os,{display:"flex",alignItems:"center",children:[L.jsx(Kt,{variant:"body1",style:{marginRight:"8px"},children:"Map"}),L.jsx(NYe,{checked:f,onChange:$,color:"secondary",sx:{"& .MuiSwitch-track":{backgroundColor:f?"#4caf50":"rgb(245, 100, 50)"}}}),L.jsx(Kt,{variant:"body1",style:{marginLeft:"8px"},children:"Report"})]}),L.jsx(cZe,{}),L.jsx(M3t,{})]}),L.jsx(Os,{sx:{display:v?"block":"none",position:"absolute",top:"50%",left:"50%",zIndex:9999},children:L.jsx(AKe,{})})]}):L.jsx(L.Fragment,{})}const k3t=l7({palette:{mode:"light",primary:{main:"rgb(19,135,8)"},secondary:{main:"rgb(96,56,20)"},typography:{fontSize:8}}});function C3t(){return L.jsx(L.Fragment,{children:L.jsx(Mve,{children:L.jsxs(f3e,{theme:k3t,children:[L.jsx(Pte,{}),L.jsx(T3t,{})]})})})}Pee(document.getElementById("root")).render(L.jsx(C3t,{}));export{Sne as $,se as A,r4t as B,Z9t as C,a4t as D,LNe as E,s4t as F,on as G,Q9t as H,e4t as I,Xw as J,j9e as K,b5t as L,wr as M,wne as N,ps as O,ke as P,ve as Q,Lhe as R,St as S,mEe as T,Jr as U,gEe as V,Nue as W,Dt as X,_ne as Y,Nm as Z,Ce as _,HNe as a,rI as a$,xne as a0,Gq as a1,dSt as a2,c_t as a3,nre as a4,fl as a5,Cg as a6,gue as a7,ire as a8,Wn as a9,z6t as aA,D6t as aB,da as aC,Zke as aD,Kke as aE,Y9t as aF,GAe as aG,ut as aH,ma as aI,z5t as aJ,ox as aK,Ip as aL,oo as aM,lze as aN,cze as aO,hze as aP,gze as aQ,_ze as aR,rhe as aS,ehe as aT,the as aU,xze as aV,kze as aW,Cze as aX,M4 as aY,BSe as aZ,l9e as a_,jo as aa,k4 as ab,lc as ac,X_ as ad,v_t as ae,Xle as af,k6e as ag,T0 as ah,kxt as ai,C1 as aj,lxt as ak,jue as al,Wm as am,Rn as an,R$t as ao,Zn as ap,Iie as aq,jt as ar,r1 as as,e9e as at,LDe as au,NDe as av,FDe as aw,jhe as ax,Sx as ay,Oh as az,c7 as b,Coe as b$,bl as b0,nx as b1,S7 as b2,OF as b3,axt as b4,Zr as b5,_0 as b6,gg as b7,qxt as b8,kIe as b9,Xp as bA,I6t as bB,pv as bC,ai as bD,Fh as bE,Ph as bF,mr as bG,Jp as bH,du as bI,pa as bJ,uu as bK,dI as bL,Ei as bM,hI as bN,fI as bO,R4 as bP,It as bQ,Kse as bR,qOe as bS,sr as bT,Z2 as bU,uF as bV,qq as bW,w_t as bX,nSt as bY,pSt as bZ,Np as b_,F5t as ba,D5t as bb,O_t as bc,A_t as bd,Rp as be,L_t as bf,R_t as bg,jp as bh,j_t as bi,QBe as bj,nv as bk,n4e as bl,eVe as bm,k6t as bn,P4t as bo,Jq as bp,hw as bq,KP as br,E6t as bs,C6t as bt,co as bu,R5t as bv,J7 as bw,or as bx,lt as by,ri as bz,t4t as c,Lre as c$,FEe as c0,_$t as c1,WS as c2,YSt as c3,fue as c4,EF as c5,kO as c6,bje as c7,yue as c8,aue as c9,lde as cA,pD as cB,fD as cC,w8 as cD,y8 as cE,_Ue as cF,Uhe as cG,Vhe as cH,ys as cI,Fo as cJ,lv as cK,gc as cL,zh as cM,gx as cN,LVe as cO,aUe as cP,RVe as cQ,lie as cR,Y2 as cS,rie as cT,HSe as cU,eie as cV,fx as cW,RSe as cX,LSe as cY,i9e as cZ,wUe as c_,u1 as ca,y4 as cb,NE as cc,CLe as cd,Bte as ce,ui as cf,Fe as cg,Ga as ch,kOe as ci,Uxt as cj,v5t as ck,dqe as cl,Ct as cm,L4e as cn,pN as co,fN as cp,N4e as cq,T7 as cr,k7 as cs,hr as ct,sx as cu,Dh as cv,Ge as cw,iw as cx,gU as cy,g8 as cz,mWe as d,Txt as d$,f7 as d0,XN as d1,mx as d2,n3 as d3,rp as d4,la as d5,Lke as d6,M7 as d7,Nke as d8,nde as d9,gF as dA,R1 as dB,pde as dC,p_t as dD,PMe as dE,g_t as dF,h_t as dG,Ds as dH,pl as dI,iHe as dJ,XU as dK,Ja as dL,HPe as dM,Wce as dN,C7 as dO,Die as dP,XEe as dQ,Mae as dR,EIe as dS,V5t as dT,TIe as dU,B5t as dV,sa as dW,Ha as dX,Ar as dY,U3t as dZ,T_e as d_,Bxt as da,y5t as db,h4 as dc,GL as dd,Xe as de,wl as df,hSt as dg,m_t as dh,j4e as di,d6t as dj,m6t as dk,Iq as dl,CIe as dm,d1 as dn,mCe as dp,g6t as dq,hde as dr,RJ as ds,L4 as dt,SWe as du,cc as dv,YN as dw,hqe as dx,H4 as dy,Wr as dz,uv as e,Hxt as e$,kje as e0,Oxt as e1,pje as e2,WSe as e3,JU as e4,xSe as e5,Boe as e6,iEe as e7,vI as e8,cN as e9,XL as eA,Hde as eB,ZHe as eC,W9e as eD,Jxt as eE,w5 as eF,QW as eG,Op as eH,aMe as eI,A3t as eJ,V4t as eK,ySt as eL,tze as eM,aSt as eN,fSt as eO,B9t as eP,Nh as eQ,Wp as eR,mm as eS,nu as eT,n4t as eU,X9t as eV,n_t as eW,Or as eX,LMe as eY,xS as eZ,Xxt as e_,hN as ea,zoe as eb,F$t as ec,Zw as ed,Ole as ee,HSt as ef,Yg as eg,j3t as eh,Q9e as ei,mg as ej,aN as ek,b_e as el,GN as em,X6e as en,N5t as eo,ua as ep,A_e as eq,i8 as er,n8 as es,w7 as et,fIe as eu,$N as ev,ux as ew,p9e as ex,vSe as ey,aie as ez,YGe as f,f8 as f$,yl as f0,g7 as f1,WUe as f2,PVe as f3,F6t as f4,uUe as f5,N6t as f6,lUe as f7,__e as f8,VL as f9,pue as fA,pUe as fB,Z3 as fC,hs as fD,oh as fE,VMe as fF,Yp as fG,KG as fH,B_t as fI,V_t as fJ,Se as fK,PCe as fL,uMe as fM,H7 as fN,ip as fO,h1 as fP,WGe as fQ,VGe as fR,mUe as fS,Fq as fT,vae as fU,fqe as fV,sD as fW,v8 as fX,zk as fY,HA as fZ,nD as f_,Jl as fa,_re as fb,qse as fc,BL as fd,wje as fe,yU as ff,JT as fg,Q3 as fh,VE as fi,cs as fj,_xt as fk,BH as fl,i1 as fm,h4e as fn,rN as fo,Ki as fp,K3t as fq,fa as fr,rx as fs,Gn as ft,mN as fu,m6e as fv,N6e as fw,tie as fx,yje as fy,gje as fz,tU as g,lx as g$,nVe as g0,bUe as g1,yD as g2,aqe as g3,_g as g4,xi as g5,W3t as g6,eG as g7,dde as g8,N0 as g9,dUe as gA,JUe as gB,COe as gC,IUe as gD,PUe as gE,OUe as gF,jUe as gG,RUe as gH,LUe as gI,NUe as gJ,FUe as gK,DUe as gL,zUe as gM,BUe as gN,VUe as gO,cde as gP,xUe as gQ,ym as gR,RI as gS,B3t as gT,JSe as gU,oD as gV,a6t as gW,bhe as gX,ml as gY,o4t as gZ,Qa as g_,s4e as ga,ac as gb,sl as gc,p7 as gd,i3 as ge,rEe as gf,Ixt as gg,DSe as gh,TCe as gi,Ma as gj,g3 as gk,lD as gl,Xu as gm,Bhe as gn,$Ue as go,SUe as gp,Zg as gq,UUe as gr,IVe as gs,Bh as gt,XF as gu,Hce as gv,qDe as gw,GDe as gx,UDe as gy,fGe as gz,Zue as h,ID as h$,k_e as h0,SSe as h1,$Se as h2,MSe as h3,BCe as h4,bSe as h5,VCe as h6,F4 as h7,q4t as h8,W4t as h9,iie as hA,f4 as hB,dw as hC,sde as hD,b7 as hE,koe as hF,ZUe as hG,bie as hH,Sie as hI,V3t as hJ,pxt as hK,Ih as hL,nl as hM,pn as hN,zMe as hO,rze as hP,Q6t as hQ,Yhe as hR,qL as hS,Iy as hT,zs as hU,EUe as hV,a$t as hW,eGe as hX,tGe as hY,J2 as hZ,J4 as h_,H4t as ha,uBe as hb,lBe as hc,SSt as hd,M_t as he,iJ as hf,_Se as hg,ll as hh,W7 as hi,bF as hj,IOe as hk,POe as hl,w5t as hm,ASe as hn,a9e as ho,u9e as hp,Mje as hq,$ze as hr,A4e as hs,Bse as ht,p8 as hu,z4e as hv,Ah as hw,ZL as hx,FSe as hy,jSe as hz,uce as i,y_t as i$,M6 as i0,gZe as i1,vu as i2,rf as i3,Ie as i4,Bt as i5,CZe as i6,xZe as i7,wZe as i8,Foe as i9,uxt as iA,Kle as iB,hue as iC,c3 as iD,wF as iE,MO as iF,Ble as iG,_x as iH,bxt as iI,gT as iJ,Tr as iK,tI as iL,y9e as iM,qa as iN,ta as iO,Jse as iP,L_e as iQ,cF as iR,sSt as iS,iSt as iT,hj as iU,te as iV,Zxt as iW,X3 as iX,I6e as iY,E6e as iZ,o_t as i_,yK as ia,yZe as ib,ho as ic,mD as id,bZe as ie,xl as ig,qt as ih,d8 as ii,Qg as ij,Jn as ik,ya as il,D6e as im,I7 as io,B6e as ip,Ext as iq,dv as ir,sie as is,ACe as it,z4 as iu,Pxt as iv,oie as iw,VSe as ix,Y3t as iy,f5e as iz,ZGe as j,rNe as j$,h6 as j0,E4t as j1,I4t as j2,C4t as j3,S$t as j4,yx as j5,B0 as j6,$$t as j7,FN as j8,hNe as j9,oqe as jA,Kte as jB,Yte as jC,F3t as jD,E7 as jE,lS as jF,x_t as jG,Hie as jH,p6e as jI,w6e as jJ,ax as jK,r_t as jL,GIe as jM,S6 as jN,T6t as jO,E5t as jP,YUe as jQ,$p as jR,mJ as jS,s3 as jT,r9e as jU,Jte as jV,Mie as jW,Dxt as jX,zie as jY,jU as jZ,Ioe as j_,C_e as ja,zxt as jb,A9e as jc,$7 as jd,Wxt as je,vw as jf,vx as jg,jae as jh,Rae as ji,mZe as jj,ro as jk,vZe as jl,gK as jm,Ib as jn,I1 as jo,sHe as jp,p1 as jq,LL as jr,NL as js,dae as jt,Ap as ju,sUe as jv,oUe as jw,yUe as jx,IGe as jy,HGe as jz,KGe as k,jCe as k$,Kxt as k0,Vi as k1,K6t as k2,B6t as k3,l$e as k4,Mre as k5,yxt as k6,fxt as k7,M5e as k8,$5e as k9,xre as kA,C5t as kB,Us as kC,V0 as kD,Ym as kE,pDe as kF,h6t as kG,vne as kH,a_t as kI,bre as kJ,zi as kK,mU as kL,XDe as kM,O4t as kN,m7 as kO,dPe as kP,ly as kQ,ZPe as kR,xje as kS,B4t as kT,z4t as kU,d0 as kV,to as kW,q3t as kX,H3t as kY,G3t as kZ,Z9e as k_,z3t as ka,M_e as kb,f_t as kc,W4 as kd,h9 as ke,L3t as kf,Jle as kg,wAe as kh,_F as ki,r8 as kj,fq as kk,D4t as kl,JF as km,vSt as kn,mSt as ko,F4t as kp,ize as kq,mje as kr,aAe as ks,rAe as kt,xx as ku,Cxt as kv,YL as kw,tF as kx,E1 as ky,Vxt as kz,t$t as l,Ob as l$,MCe as l0,kCe as l1,d5e as l2,Wte as l3,V6t as l4,xA as l5,kke as l6,Nae as l7,U6t as l8,URe as l9,x5t as lA,sue as lB,lue as lC,KAe as lD,ZSt as lE,nje as lF,Jm as lG,XSt as lH,d3 as lI,Dje as lJ,UBe as lK,VBe as lL,hv as lM,BF as lN,oDe as lO,aDe as lP,jce as lQ,CDe as lR,zce as lS,x6 as lT,Ice as lU,yw as lV,$St as lW,MSt as lX,TSt as lY,xD as lZ,ESe as l_,EOe as la,$$e as lb,Yxt as lc,zTe as ld,voe as le,GF as lf,cNe as lg,g5t as lh,mDe as li,zN as lj,kN as lk,b6 as ll,Qqe as lm,y$t as ln,tne as lo,pPe as lp,oSt as lq,sN as lr,UCe as ls,zCe as lt,zSe as lu,DCe as lv,zte as lw,xp as lx,al as ly,o8 as lz,ode as m,wh as m$,_5t as m0,nie as m1,JEe as m2,qEe as m3,bGe as m4,uc as m5,c1 as m6,i_t as m7,l6t as m8,Wu as m9,dje as mA,K4t as mB,uA as mC,J4t as mD,c6t as mE,o6t as mF,i6t as mG,r6t as mH,n6t as mI,s6t as mJ,CW as mK,IW as mL,EW as mM,e6t as mN,t6t as mO,Z7 as mP,d_t as mQ,X4t as mR,Q4t as mS,uhe as mT,U4t as mU,Z4t as mV,pBe as mW,u6t as mX,Y4t as mY,hBe as mZ,KF as m_,An as ma,VF as mb,y6t as mc,wp as md,fUe as me,L5t as mf,P5t as mg,A5t as mh,O5t as mi,j5t as mj,ao as mk,U5t as ml,iU as mm,I5t as mn,xAe as mo,RLe as mp,O3t as mq,xI as mr,S6e as ms,dBe as mt,s_t as mu,b_t as mv,U6e as mw,l_t as mx,T6e as my,u_t as mz,U0 as n,G4t as n0,Vue as n1,yg as n2,G9t as n3,Gxt as n4,r6e as n5,t6e as n6,Qxt as n7,YPe as n8,X5e as n9,_6t as nA,x6t as nB,LH as nC,pr as nD,Gje as nE,qje as nF,o9e as nG,p4e as nH,N3t as nI,lSt as nJ,uSt as nK,sEe as nL,nEe as nM,HOe as nN,S_e as nO,cSt as nP,U_t as nQ,q_t as nR,T4t as nS,H6t as nT,Sqe as nU,wWe as nV,B$t as nW,bI as na,NIe as nb,N_t as nc,U_ as nd,J_t as ne,id as nf,nF as ng,zIe as nh,Tle as ni,DIe as nj,s6 as nk,a6 as nl,a3 as nm,J3t as nn,nHe as no,c4t as np,cx as nq,At as nr,FF as ns,LJ as nt,cHe as nu,V$t as nv,nI as nw,E_t as nx,Bie as ny,x$e as nz,BRe as o,i4t as p,g9t as q,b9t as r,be as s,Kr as t,e$t as u,Vs as v,Fp as w,Ne as x,b as y,M as z};
